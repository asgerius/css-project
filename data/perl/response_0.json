[{"tags": ["perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1420674359, "post_id": 27830619, "comment_id": 44067310, "body": "Looks like you&#39;re not getting back a list, but a string."}, {"owner": {"reputation": 759, "user_id": 2118804, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ZZ6Vy.jpg?s=128&g=1", "display_name": "Robie Nayak", "link": "https://stackoverflow.com/users/2118804/robie-nayak"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1420674784, "post_id": 27830619, "comment_id": 44067428, "body": "@JimDavis, Hi Jim. what should be the fix to it?"}], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 1, "last_activity_date": 1420745196, "last_edit_date": 1420745196, "creation_date": 1420712125, "answer_id": 27837626, "question_id": 27830619, "link": "https://stackoverflow.com/questions/27830619/how-do-we-separate-values-fetched-from-findvalues-of-xmllibxml-by-a-delimiter/27837626#27837626", "title": "How do we separate values fetched from findvalues of XML::LibXMl by a delimiter?", "body": "<p>If you try this code(note the last line in the for loop):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.016;\nuse XML::LibXML;\n\nmy $filename = 'Test.xml';\n\nmy $dom = XML::LibXML-&gt;load_xml(\n    location =&gt; $filename,\n);\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new($dom);\n\nCHAPTER:\nfor my $chapter ($xpc-&gt;findnodes('/dataset/chapter')) {\n    my $string = $xpc-&gt;findvalue('mono/route-list', $chapter);\n    print $string;\n\n    last CHAPTER;  #&lt;*****NOTE THIS\n}\n</code></pre>\n\n<p>You will get the output:</p>\n\n<pre><code>          ophthalmic\n\n\n\n      oral\n\n\n\n          topical\n\n\n\n       nasal\n\n\n\n       injection\n\n\n\n       oral\n\n\n\n       oral\n\n\n\n       oral\n\n\n\n       oral\n</code></pre>\n\n<p>The docs say:</p>\n\n<blockquote>\n  <p><strong>findvalue()</strong>  </p>\n  \n  <p>...returns the literal value of the results.</p>\n</blockquote>\n\n<p><em>results</em> is more than <em>one</em> result.  And <em>one</em> result is <em>all</em> the <em>text</em> between a matching tag.  </p>\n\n<p>The xml has a hidden character at the end of each line:</p>\n\n<pre><code>  &lt;route-list&gt;\\n\n    &lt;list-set-field dbId=\"25413\"&gt;\\n\n        &lt;name&gt;ophthalmic&lt;/name&gt;\\n\n    &lt;/list-set-field&gt;\\n\n  &lt;/route-list&gt;\\n  \n</code></pre>\n\n<p>...as well as several spaces/tabs at the beginning of each line.  The spaces/tabs and newlines are considered text, and they are between a <code>&lt;route_list&gt;</code> tag.  As a result, the text for <em>one</em> result contains all the spaces/tabs/newlines as well.  </p>\n\n<p>And findvalue() returns the text from all the results as one string.  You <em>could</em> split that string up with a regex to get the individual values; but rather than create more work for yourself, you can do this:</p>\n\n<pre><code>CHAPTER:\nfor my $chapter ($xpc-&gt;findnodes('/dataset/chapter')) {\n    for my $name ($xpc-&gt;findnodes('//mono/route-list//name', $chapter)) {\n        say $name-&gt;textContent;\n        last CHAPTER;\n    }\n}\n\n--output:--\nophthalmic\n</code></pre>\n\n<p>...or even this:</p>\n\n<pre><code>CHAPTER:\nfor my $chapter ($xpc-&gt;findnodes('/dataset/chapter')) {\n    for my $name_text ($xpc-&gt;findnodes('//mono/route-list//name/text()', $chapter)) {\n        say $name_text;\n        last CHAPTER;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 2118804, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ZZ6Vy.jpg?s=128&g=1", "display_name": "Robie Nayak", "link": "https://stackoverflow.com/users/2118804/robie-nayak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 27837626, "answer_count": 1, "score": 1, "last_activity_date": 1420745196, "creation_date": 1420673706, "question_id": 27830619, "link": "https://stackoverflow.com/questions/27830619/how-do-we-separate-values-fetched-from-findvalues-of-xmllibxml-by-a-delimiter", "title": "How do we separate values fetched from findvalues of XML::LibXMl by a delimiter?", "body": "<p>I have got an XML to parse. Though I am able to fetch them, I cant separate them by a delimiter for further processing. Please advise. My Code is as follows</p>\n\n<pre><code>use XML::LibXML;\n\nmy $filename = 'Test.xml';\n\nmy $parser = XML::LibXML-&gt;new();\nmy $dom = $parser-&gt;parse_file($filename);\nmy $root = $dom-&gt;documentElement();\nmy $xpc = XML::LibXML::XPathContext-&gt;new($root);\n\nforeach my $id ($xpc-&gt;findnodes('/dataset/chapter'))\n{\n    print $xpc-&gt;findvalue('mono/route-list', $id);\n    print join \",\", $xpc-&gt;findvalue('mono/route-list', $id);\n}\n</code></pre>\n\n<p>For both \"print\" statements I am getting the same result though the expected ones are :</p>\n\n<p>ophthalmic oral topical nasal injection oral oral oral oral</p>\n\n<p>ophthalmic, oral, topical, nasal, injection, oral, oral, oral, oral</p>\n\n<p>The xml file structure is as below :</p>\n\n<pre><code>&lt;dataset id=\"5\"&gt;&lt;title&gt;NDC 11&lt;/title&gt;\n&lt;chapter id=\"9\"&gt;&lt;title&gt;NDC 11&lt;/title&gt;\n&lt;mono id=\"310694\" mid=\"145787\"&gt;\n&lt;nam&gt;00173074200&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;ophthalmic&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;   \n&lt;/mono&gt;\n&lt;mono id=\"4128683\" mid=\"536890\"&gt;\n&lt;nam&gt;51079020406&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;oral&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;mono id=\"4128743\" mid=\"536930\"&gt;\n&lt;nam&gt;65862007360&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;topical&lt;/name&gt;\n    &lt;/list-set-field&gt;&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;mono id=\"3419599\" mid=\"469070\"&gt;\n&lt;nam&gt;49702021718&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;nasal&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;mono id=\"2990346\" mid=\"440470\"&gt;\n&lt;nam&gt;49702022118&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;injection&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;mono id=\"2990347\" mid=\"440470\"&gt;\n&lt;nam&gt;49702022144&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;oral&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;mono id=\"2990357\" mid=\"440491\"&gt;\n&lt;nam&gt;49702022248&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;oral&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;mono id=\"3808911\" mid=\"513570\"&gt;\n&lt;nam&gt;00378410591&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;oral&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;mono id=\"4128724\" mid=\"536910\"&gt;\n&lt;nam&gt;60505358306&lt;/nam&gt;\n&lt;route-list&gt;\n    &lt;list-set-field dbId=\"25413\"&gt;\n        &lt;name&gt;oral&lt;/name&gt;\n    &lt;/list-set-field&gt;\n&lt;/route-list&gt;\n&lt;/mono&gt;\n&lt;/chapter&gt;\n&lt;/dataset&gt;\n</code></pre>\n"}, {"tags": ["mysql", "multithreading", "perl", "user-interface"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1420688153, "post_id": 27830523, "comment_id": 44070761, "body": "Try adding <code>use Gtk2 qw&#47;-init -threads-init&#47;;Glib::Object-&gt;set_threadsafe (1);</code> and see if that helps."}, {"owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1420691937, "post_id": 27830523, "comment_id": 44071706, "body": "Thanks buddy it worked out unexpectedly!"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1420693212, "post_id": 27830523, "comment_id": 44072021, "body": "You are welcome, I&#39;m adding it as an answer, please accept it :) Also see: <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 0, "last_activity_date": 1420693227, "creation_date": 1420693227, "answer_id": 27833258, "question_id": 27830523, "link": "https://stackoverflow.com/questions/27830523/segmentation-fault-in-gtk2-and-thread/27833258#27833258", "title": "segmentation fault in gtk2 and thread", "body": "<p>Try adding </p>\n\n<pre><code>use Gtk2 qw/-init -threads-init/;\nGlib::Object-&gt;set_threadsafe (1);\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 27833258, "answer_count": 1, "score": 1, "last_activity_date": 1420693227, "creation_date": 1420673184, "last_edit_date": 1420675655, "question_id": 27830523, "link": "https://stackoverflow.com/questions/27830523/segmentation-fault-in-gtk2-and-thread", "title": "segmentation fault in gtk2 and thread", "body": "<p>I'm having trouble with this problem, this little example code will check the username if it's existing on MySQL server.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Gtk2 '-init';\nuse Glib qw/TRUE FALSE/;\nuse threads;\nuse threads::shared;\nuse DBI;\nuse DBD::mysql;\n\nour $type=\"mysql\";\nour $database=\"store\";\nour $host=\"localhost\";\nour $port=\"3306\";\nour $tablename=\"topic\";\nour $user=\"root\";\nour $pwd=\"killme32\";\n\nour $dsn=\"dbi:$type:$database:$host:$port\";\nour $query;\nour $queryhandle;\nmy $str:shared=0;\n\nmy $window=Gtk2::Window-&gt;new;\n$window-&gt;signal_connect('delete_event',sub{Gtk2-&gt;main_quit;});\n$window-&gt;set_title(\"Perl Gtk2 Tutorial\");\n\nmy $vbox=Gtk2::VBox-&gt;new;\nmy $label=Gtk2::Label-&gt;new(\"Username: \");\nmy $button=Gtk2::Button-&gt;new(\"Login\");\nmy $entry=Gtk2::Entry-&gt;new();\n$button-&gt;signal_connect(clicked=&gt;sub{\n    $str=$entry-&gt;get_text;\n    my $thr=threads-&gt;create(\\&amp;continue_checking);\n});\n$vbox-&gt;add($label);\n$vbox-&gt;add($entry);\n$vbox-&gt;add($button);\n$window-&gt;add($vbox);\n$window-&gt;show_all;\nGtk2-&gt;main;\nsub continue_checking{\n    our $connect=DBI-&gt;connect($dsn,$user,$pwd)or die &amp;mysql_Err;\n    $query=\"SELECT username FROM login WHERE username=\\\"$str\\\"\";\n    $queryhandle=$connect-&gt;prepare($query);\n    $queryhandle-&gt;execute;\n    $queryhandle-&gt;bind_columns(undef, \\my $user_name);\n    while ($queryhandle-&gt;fetch()) {\n        if(\"$str\" eq \"$user_name\"){\n            &amp;main;\n        }\n    }   \n}\nsub main{\n    my $mw=Gtk2::Window-&gt;new;\n    $mw-&gt;set_default_size(250, 250);\n    my $label=Gtk2::Label-&gt;new(\"username $str is already exist\");\n    $mw-&gt;add($label);\n    $mw-&gt;show_all;\n    $mw-&gt;show;\n}\n</code></pre>\n\n<blockquote>\n  <p>ERROR Result: GLib-GObject-WARNING **: cannot register existing type `GConnectFlags' at /usr/lib/perl/5.14/DynaLoader.pm line 207.\n  Pango-WARNING **: shaping failure, expect ugly output. shape-engine='BasicEngineFc', font='DejaVu Sans 9.9990234375', text='' at server.pl line 40.\n  Segmentation fault</p>\n</blockquote>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 1, "last_activity_date": 1420667846, "creation_date": 1420667846, "answer_id": 27829362, "question_id": 27829300, "link": "https://stackoverflow.com/questions/27829300/how-do-i-create-a-set-from-a-multi-line-string-in-perl/27829362#27829362", "title": "How do I create a set from a multi-line string in Perl?", "body": "<p><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> can be used to store lines into an array variable:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dumper;\n\nmy $input = \"a\\nb\\nc\\nd\";\nmy @lines = split /\\n/, $input;\n\nprint Dumper(\\@lines);\n\n__END__\n\n$VAR1 = [\n          'a',\n          'b',\n          'c',\n          'd'\n        ];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1420676289, "post_id": 27829916, "comment_id": 44067884, "body": "perl doesn&#39;t have a native set type, so hashes usually fill that role, so IMO this is exactly what is being asked for, not &quot;a step further&quot;"}], "tags": [], "owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1420670188, "creation_date": 1420670188, "answer_id": 27829916, "question_id": 27829300, "link": "https://stackoverflow.com/questions/27829300/how-do-i-create-a-set-from-a-multi-line-string-in-perl/27829916#27829916", "title": "How do I create a set from a multi-line string in Perl?", "body": "<p>@toolic is right; <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> does the trick to grab the input.</p>\n\n<p>But you might want to go a step further and put those values into a hash, if you want to check set membership later on.  Something like this:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $input = \"a\\nb\\nc\\nd\";\nmy @lines = split /\\n/, $input;\n\nmy %set_contains;\n\n# set a flag for each line in the set\nfor my $line (@lines) {\n    $set_contains{ $line } = 1;\n}\n</code></pre>\n\n<p>Then you can quickly check set membership like this:</p>\n\n<pre><code>if ( $set_contains{ $my_value } ) {\n    do_something( $my_value );\n}\n</code></pre>\n"}], "owner": {"reputation": 4014, "user_id": 183123, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/362b86b9f6009f4da2cb4cd82890a673?s=128&d=identicon&r=PG", "display_name": "MM.", "link": "https://stackoverflow.com/users/183123/mm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 27829362, "answer_count": 2, "score": -2, "last_activity_date": 1420670188, "creation_date": 1420667612, "question_id": 27829300, "link": "https://stackoverflow.com/questions/27829300/how-do-i-create-a-set-from-a-multi-line-string-in-perl", "title": "How do I create a set from a multi-line string in Perl?", "body": "<p>I have a multiline string as input. For example: <code>my $input=\"a\\nb\\nc\\nd\"</code></p>\n\n<p>I would like to create a set from this input, so that I can determine whether elements from a vector of strings are present in the set. My question is, how do I create a set from a multi-line string in Perl?</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1420668858, "post_id": 27829228, "comment_id": 44065168, "body": "Implicit <code>$sth-&gt;finish</code> added by <code>$sth</code> going out of scope???"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1420669152, "post_id": 27829228, "comment_id": 44065313, "body": "Looks a lot like the problem described in <a href=\"http://stackoverflow.com/q/6454840\">DBI begin_work doesn&#39;t work with stored procedure calls</a>. <a href=\"http://stackoverflow.com/a/10001508/176646\">pilcrow&#39;s answer</a> was to explicitly call <code>$sth-&gt;finish()</code> before committing the transaction (jives with what @ikegami said)."}], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 1471077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/041d43b6133854fe857ed86ca053ca19?s=128&d=identicon&r=PG", "display_name": "Trent Lloyd", "link": "https://stackoverflow.com/users/1471077/trent-lloyd"}, "is_accepted": false, "score": 0, "last_activity_date": 1420893908, "creation_date": 1420893908, "answer_id": 27876350, "question_id": 27829228, "link": "https://stackoverflow.com/questions/27829228/mysql-command-out-of-sync/27876350#27876350", "title": "MySQL &quot;command out of sync&quot;", "body": "<p>ikegami's answer is correct.</p>\n\n<p>You need to call $sth->finish(), this is done implicitly as it goes out of scope with the eval{} block.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4430641"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1420893908, "creation_date": 1420667326, "last_edit_date": 1420667631, "question_id": 27829228, "link": "https://stackoverflow.com/questions/27829228/mysql-command-out-of-sync", "title": "MySQL &quot;command out of sync&quot;", "body": "<p>Ok, I already fixed, anyway I don't know why it work... :P</p>\n\n<p>my first code was:</p>\n\n<pre><code>my ($sth,$rc);\neval{\n  $sth = $dbh-&gt;prepare('CALL mysp(?,?)');\n  $rc = $sth-&gt;execute(1,2);\n  if    ($rc eq '1'){# ok}\n};\n\nif($@){\n  $dbh-&gt;rollback;\n  warn $@;\n}else{\n  $dbh-&gt;commit;\n}\n</code></pre>\n\n<p>It stop with mysql error \"Commands out of sync\" on commit</p>\n\n<pre><code>eval{\n  my $sth = $dbh-&gt;prepare('CALL mysp(?,?)');\n  my $rc = $sth-&gt;execute(1,2);\n  if($rc eq '1'){# ok}\n};\n\nif($@){\n  $dbh-&gt;rollback;\n  warn $@;\n}else{\n  $dbh-&gt;commit;\n}\n</code></pre>\n\n<p>After localized <code>$sth</code> and <code>$rc</code> into <code>eval{}</code> it works... why?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420658768, "post_id": 27827042, "comment_id": 44059943, "body": "This will fail for <code>--</code>."}], "tags": [], "owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "is_accepted": false, "score": 1, "last_activity_date": 1420658529, "creation_date": 1420658529, "answer_id": 27827042, "question_id": 27826952, "link": "https://stackoverflow.com/questions/27826952/perl-regex-to-remove-dashes/27827042#27827042", "title": "perl regex to remove dashes", "body": "<p>Lose the <code>+</code> - it's catching the string up until the last <code>-</code>, including any previous <code>-</code> characters:</p>\n\n<pre><code>s/([^0-9]|^)-+([^0-9]|$)/$1 $2/g;\n</code></pre>\n\n<p>Example: <a href=\"https://ideone.com/r2CI7v\" rel=\"nofollow\">https://ideone.com/r2CI7v</a></p>\n"}, {"comments": [{"owner": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "edited": false, "score": 0, "creation_date": 1420658887, "post_id": 27827055, "comment_id": 44060018, "body": "Thanks @sputnik, can you explain this in a bit more detail, i.e. the look arounds?"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "edited": false, "score": 0, "creation_date": 1420659416, "post_id": 27827055, "comment_id": 44060324, "body": "Added a bit of explanations"}, {"owner": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "edited": false, "score": 1, "creation_date": 1420667665, "post_id": 27827055, "comment_id": 44064610, "body": "Thanks, the lookbehinds/lookaheads are sweet!"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 2, "last_activity_date": 1420668031, "last_edit_date": 1420668031, "creation_date": 1420658579, "answer_id": 27827055, "question_id": 27826952, "link": "https://stackoverflow.com/questions/27826952/perl-regex-to-remove-dashes/27827055#27827055", "title": "perl regex to remove dashes", "body": "<p>Using <a href=\"http://www.perlmonks.org/?node_id=518444\" rel=\"nofollow\">look around</a> :</p>\n\n<pre><code>$ perl -pe 's/\n    (?&lt;!\\d)    # a negative look-behind with a digit: \\d\n    -          # a dash, literal \n    (?!\\d)     # a negative look-ahead  with a digit: \\d\n/ /gx' file\n</code></pre>\n\n<h3>OUTPUT</h3>\n\n<pre><code> 2014-05-01\n this and\n this and that\n this and that and that too\n 2015-01-01\n</code></pre>\n\n<p>Look around are some assertions to ensure that there's no digit (in this case) around <code>-</code>. A look around don't make any capture, it's really just there to test assertions. It's a good tool to have near you.</p>\n\n<p>Check :</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=518444\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=518444</a><br>\n<a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">http://www.regular-expressions.info/lookaround.html</a>    </p>\n"}, {"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 6, "last_activity_date": 1420660074, "creation_date": 1420660074, "answer_id": 27827450, "question_id": 27826952, "link": "https://stackoverflow.com/questions/27826952/perl-regex-to-remove-dashes/27827450#27827450", "title": "perl regex to remove dashes", "body": "<p><strong>Don't do it with one regex.</strong>  There is no requirement that a single regex must contain all of your code's logic.</p>\n\n<p>Use one regex to see if it's a date, and then a second one to do your transformation.  It will be much clearer to the reader (that's you, in the future) if you split it up into two.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile ( my $str = &lt;DATA&gt;) {\n    chomp $str;\n    my $old = $str;\n    if ( $str !~ /^\\d{4}-\\d{2}-\\d{2}$/ ) {  # First regex to see if it's a date\n        $str =~ s/-/ /g;                    # Second regex to do the transformation\n    }\n    print \"$old\\n$str\\n\\n\";\n}\n__DATA__\n2014-05-01\nthis-and\nthis-and-that\nthis-and-that-and-that-too\n2015-01-01\n</code></pre>\n\n<p>Running that gives you:</p>\n\n<pre><code>2014-05-01\n2014-05-01\n\nthis-and\nthis and\n\nthis-and-that\nthis and that\n\nthis-and-that-and-that-too\nthis and that and that too\n\n2015-01-01\n2015-01-01\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "edited": false, "score": 0, "creation_date": 1420667802, "post_id": 27828907, "comment_id": 44064674, "body": "Ah match any nondigit followed by a dash, replace with non digit and space?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1420668282, "post_id": 27828907, "comment_id": 44064891, "body": "Except for cases like <code>5-a-dime chews</code>"}, {"owner": {"reputation": 1230, "user_id": 3166498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbc18f10b502469dfdec70ffeb98c6d4?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/3166498/sam"}, "reply_to_user": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "edited": false, "score": 0, "creation_date": 1420668708, "post_id": 27828907, "comment_id": 44065101, "body": "@tman, yes. It will work ONLY if you have entries like yours. For Borodin&#39;s case - NO"}], "tags": [], "owner": {"reputation": 1230, "user_id": 3166498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbc18f10b502469dfdec70ffeb98c6d4?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/3166498/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1420665939, "creation_date": 1420665939, "answer_id": 27828907, "question_id": 27826952, "link": "https://stackoverflow.com/questions/27826952/perl-regex-to-remove-dashes/27828907#27828907", "title": "perl regex to remove dashes", "body": "<p>This should do it</p>\n\n<pre><code>$line =~ s/(\\D)-/$1 /g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "edited": false, "score": 0, "creation_date": 1420668404, "post_id": 27829276, "comment_id": 44064956, "body": "Im reading in a comma delimited file, so I receive the whole line as $_, not field by field."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "edited": false, "score": 0, "creation_date": 1420674228, "post_id": 27829276, "comment_id": 44067267, "body": "Then you should split it into fields using <code>Text::CSV</code> first. It is much simpler than allowing for all the complexities of CSV data as well as changing some of the hyphens to spaces, especially because <code>this and that</code> needs to be in double-quotes, whereas <code>this-and-that</code> doesn&#39;t."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1420668000, "last_edit_date": 1420668000, "creation_date": 1420667557, "answer_id": 27829276, "question_id": 27826952, "link": "https://stackoverflow.com/questions/27826952/perl-regex-to-remove-dashes/27829276#27829276", "title": "perl regex to remove dashes", "body": "<p>As long as your program receives each field separately in the <code>$_</code> variable, all you need is</p>\n\n<pre><code>tr/-/ / if /[^-\\d]/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1420675150, "creation_date": 1420675150, "answer_id": 27830841, "question_id": 27826952, "link": "https://stackoverflow.com/questions/27826952/perl-regex-to-remove-dashes/27830841#27830841", "title": "perl regex to remove dashes", "body": "<p>As I explained in a comment, you really need to use <a href=\"https://metacpan.org/module/Text::CSV\" rel=\"nofollow\"><code>Text::CSV</code></a> to split each record into fields <em>before</em> you edit the data. That's because data that contain whitespace need to be enclosed in double quotes, so a field like <code>this-and-that</code> will start out without spaces, but needs them added when the hyphens are translated to spaces.</p>\n\n<p>This program shows a simple example that uses your own data.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new({eol =&gt; $/});\n\nwhile (my $row = $csv-&gt;getline(\\*DATA)) {\n  for (@$row) {\n    tr/-/ / unless /^\\d\\d\\d\\d-\\d\\d-\\d\\d$/;\n  }\n  $csv-&gt;print (\\*STDOUT, $row);\n}\n\n__DATA__\n2014-05-01,this-and-that,this-and-that,this-and-that-and-that-too,2015-01-01\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>2014-05-01,\"this and that\",\"this and that\",\"this and that and that too\",2015-01-01\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 2482575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/14f5115db8cde0b37410041417e5ec0e?s=128&d=identicon&r=PG", "display_name": "tman", "link": "https://stackoverflow.com/users/2482575/tman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1194, "favorite_count": 0, "accepted_answer_id": 27827055, "answer_count": 6, "score": 1, "last_activity_date": 1420675150, "creation_date": 1420658199, "last_edit_date": 1420659453, "question_id": 27826952, "link": "https://stackoverflow.com/questions/27826952/perl-regex-to-remove-dashes", "title": "perl regex to remove dashes", "body": "<p>I have some files I am processing, and I would like to remove the dashes from the non date fields.</p>\n\n<p>I came  up with <code>s/([^0-9]+)-([^0-9]+)/$1 $2/g</code> but that only works if there is one dash only in the string, or I should say it will only remove one dash.</p>\n\n<p>So lets say I have:</p>\n\n<pre><code> 2014-05-01\n this-and\n this-and-that\n this-and-that-and-that-too\n 2015-01-01\n</code></pre>\n\n<p>What regex would I use to produce</p>\n\n<pre><code> 2014-05-01\n this and\n this and that\n this and that and that too\n 2015-01-01\n</code></pre>\n"}, {"tags": ["perl", "login", "web", "www-mechanize"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420656284, "post_id": 27826290, "comment_id": 44058544, "body": "You use debug, have you read the debug output ? Show us"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1420656360, "post_id": 27826290, "comment_id": 44058588, "body": "That code looks like it should work, assuming 1) the website doesn&#39;t require JavaScript and 2) the <code>name</code> attributes of the fields in the first form in the page are <code>Email</code> and <code>Passwd</code> and 3) those are the only two fields that need to be set and 4) you&#39;re using the correct email and password. Unfortunately, without knowing the exact URL you&#39;re connecting to, we probably can&#39;t be of much help. Also, that script doesn&#39;t do much error checking; you should read the <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow noreferrer\">docs</a> for <code>WWW::Mechanize</code> and check that the initial <code>GET</code> request succeeds, for example."}, {"owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420657215, "post_id": 27826290, "comment_id": 44059116, "body": "@sputnick I am new to perl and hence I read it somewhere.But while running the code nothing comes up on command line. Is there any way to debug the code?"}, {"owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1420657301, "post_id": 27826290, "comment_id": 44059157, "body": "@ThisSuitIsBlackNot I read many docs on WWW::Mechanize. Many places they follow same kind of code to log into a website. I am not sure how to know if we are successful in logging in and how to display the next page after logging in."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420657474, "post_id": 27826290, "comment_id": 44059262, "body": "Added <code>Debug tricks</code> in your post, run the script and see. <code>use LWP::Debug qw(+);</code> is deprecated. Code indented too, it&#39;s better when asking others help"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1420658374, "post_id": 27826290, "comment_id": 44059726, "body": "@user227668, it doesn&#39;t matter what many sites do if this site uses JavaScript for some key aspect of logging in. If it does some key thing on page load or form submission, you&#39;ll have to look through the JavaScript to find what it&#39;s doing--most likely what it&#39;s adding to the post parameters."}, {"owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "reply_to_user": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1420659043, "post_id": 27826290, "comment_id": 44060108, "body": "@Axeman The site I am logging in has javascript in the source code of its login page.What to do if a site uses javascript? Will WWW::Mechanize wont work in such a case. Is there a way out?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1420659725, "post_id": 27826290, "comment_id": 44060500, "body": "<a href=\"https://metacpan.org/pod/WWW::Mechanize::FAQ#JavaScript\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize</code> doesn&#39;t support JavaScript</a>. If you need something that supports it, try something like <a href=\"https://metacpan.org/pod/WWW::Mechanize::Firefox\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::Firefox</code></a> or <a href=\"https://metacpan.org/pod/WWW::Mechanize::PhantomJS\" rel=\"nofollow noreferrer\"><code>WWW::Mechanize::PhantomJS</code></a>. Before just blindly switching modules, though, you should make sure that JS is really required to login. Use your browser&#39;s developer tools to inspect a request when you log in normally via the browser to see what is actually happening."}, {"owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "edited": false, "score": 0, "creation_date": 1420661833, "post_id": 27826290, "comment_id": 44061637, "body": "On changing the module, will the code be the same or it will differ?I saw the code, there were some places where JS was used. As i dont know much about JS how do we know if it is being used in logon.?"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 1, "creation_date": 1420663642, "post_id": 27826290, "comment_id": 44062608, "body": "@user227668 Fire up firefox, open <code>about:config</code>, then type <code>javascript.enable</code>, double-click on the link to disable it, and refresh the wanted page. If the stuff you want aren&#39;t there, then no cigar... Got it ?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "edited": false, "score": 0, "creation_date": 1420658834, "post_id": 27827062, "comment_id": 44059977, "body": "only one button so I guess only $m-&gt;click() will do the work."}], "tags": [], "owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1420658613, "creation_date": 1420658613, "answer_id": 27827062, "question_id": 27826290, "link": "https://stackoverflow.com/questions/27826290/perl-script-for-logging-into-a-website-and-displaying-the-next-page/27827062#27827062", "title": "Perl Script for logging into a website and displaying the next page", "body": "<p>Also: How many buttons are on the page?  If there is more than one, then you need to provide the name of the button to be clicked:</p>\n\n<pre><code>$m-&gt;click( \"button name\" );\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3930, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1420664150, "creation_date": 1420655795, "last_edit_date": 1420664150, "question_id": 27826290, "link": "https://stackoverflow.com/questions/27826290/perl-script-for-logging-into-a-website-and-displaying-the-next-page", "title": "Perl Script for logging into a website and displaying the next page", "body": "<p>I am writing a Perl script to log into a website and display the next page after login. Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse WWW::Mechanize;\nuse HTTP::Cookies;\nmy $m=WWW::Mechanize-&gt;new();\n\n# Debug tricks\n$m-&gt;default_header('Accept-Encoding' =&gt; scalar HTTP::Message::decodable());\n$m-&gt;add_handler(\"request_send\",  sub { shift-&gt;dump; return });\n$m-&gt;add_handler(\"response_done\", sub { shift-&gt;dump; return });\n\nmy $outfile=\"out.htm\";\n$m-&gt;cookie_jar(HTTP::Cookies-&gt;new());\n$url = '&lt;url&gt;';\n$m-&gt;get($url);\n\n$m-&gt;field(Email=&gt;\"abc\");\n$m-&gt;field(Passwd=&gt;\"def\");\n\n$m-&gt;click();\n\nmy $output_page= $m-&gt;content();\nopen(OUTFILE, \"&gt;$outfile\");\nprint OUTFILE \"$output_page\";\nclose(OUTFILE);\n\nsub open_default_browser{\n\n    $platform=$^O;\n\n    print \"$platform\";\n\n    $url=shift;\n\n    $cmd=\"start $url\";\n\n    if(defined $cmd) {\n        system($cmd);\n    }\n    else {\n        die \"Can't locate default browser\";\n    }\n}\n\nopen_default_browser($outfile);\n</code></pre>\n\n<p>But when I run the code all I get is a web page with the same form from the URL.How can I login and display the next page. Is there something I need to change in the code?</p>\n"}, {"tags": ["perl", "network-programming"], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1420660171, "creation_date": 1420660171, "answer_id": 27827476, "question_id": 27825896, "link": "https://stackoverflow.com/questions/27825896/device-with-telnet-ssh-not-responding-show-error/27827476#27827476", "title": "Device with Telnet/SSH not responding, show error", "body": "<p>If you're having trouble connecting, it may help to check $@ after the eval as there may be an error you're ignoring.</p>\n\n<pre><code>#interace\n\n        eval {\n                 # try to login to the ios device, ignoring host check\n                $session_obj-&gt;connect(\n                username =&gt; $ios_username,\n                password =&gt; $ios_password,\n                #SHKC =&gt; 0\n        );\n</code></pre>\n\n<p>It's also worth noting that this doesn't do anything: </p>\n\n<pre><code>     my $proto = shift;\n     if (($proto == 43)||($proto == 44)){\n           $tran = \"SSH\";\n           $app=\"/usr/local/bin/ssh\";\n     }else{\n</code></pre>\n\n<p><code>shift</code> is operating on <code>@_</code> which isn't populated, so <code>$proto</code> will always be <code>undef</code>. </p>\n"}], "owner": {"reputation": 613, "user_id": 571469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/721def7e724bf501bddd523a41ca58a2?s=128&d=identicon&r=PG", "display_name": "mrlayance", "link": "https://stackoverflow.com/users/571469/mrlayance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522899972, "creation_date": 1420654368, "last_edit_date": 1522899972, "question_id": 27825896, "link": "https://stackoverflow.com/questions/27825896/device-with-telnet-ssh-not-responding-show-error", "title": "Device with Telnet/SSH not responding, show error", "body": "<p>Strange issue I am running into.  I have a few devices with Telnet/SSH issues.  When I run my script the results are saying the script was successful.  When debug is on I get the follow results..</p>\n\n<pre><code>  [ 0.012464] pr finding prompt\n  [ 0.016593] tr creating Net::Telnet wrapper for telnet\n  [ 0.017859] tr connecting with: telnet Host 10.xx.xx.xx Port 23\n</code></pre>\n\n<p>How could I add something to show a error if a promopt is not present or the connection times out?</p>\n\n<p>Thanks</p>\n\n<pre><code>   #!/usr/bin/perl\n\n    use Net::Appliance::Session;\n\n    $file = '1list';\n    open (FH, \"&lt; $file\") or die \"Can't open $file for read: $!\";\n    my @ios_list = &lt;FH&gt;;\n    close FH or die \"Cannot close $file: $!\";\n\n    chomp(@ios_list);\n\n    my $ios_username = 'xxxx';\n    my $ios_password = 'xxxx';\n\n    DEVICE:\n    for my $ios_device_ip ( @ios_list ) {\n\n            my @version_info;\n\n            my $proto = shift;\n            if (($proto == 43)||($proto == 44)){\n                    $tran = \"SSH\";\n                    $app=\"/usr/local/bin/ssh\";\n            }else{\n                    $tran = \"Telnet\";\n                    $app=\"/bin/telnet\";\n            }\n\n            my $session_obj = Net::Appliance::Session-&gt;new(\n                    host =&gt; $ios_device_ip,\n                    transport =&gt; $tran,\n                    personality =&gt; 'ios',\n            );\n\n    #interace\n\n            eval {\n                     # try to login to the ios device, ignoring host check\n                    $session_obj-&gt;connect(\n                    username =&gt; $ios_username,\n                    password =&gt; $ios_password,\n                    #SHKC =&gt; 0\n            );\n\n            # get our running config\n            $session_obj-&gt;begin_privileged;\n            $session_obj-&gt;cmd('conf t');\n            $session_obj-&gt;cmd('aaa authorization config-commands');\n            $session_obj-&gt;cmd('exit');\n            $session_obj-&gt;end_privileged;\n            $session_obj-&gt;cmd('write memory');\n            # close down our session\n            $session_obj-&gt;close;\n            };\n\n    #error check\n            if ($@) {\n\n         if ( UNIVERSAL::isa($@, 'Net::Appliance::Session::Exception') ) {\n\n             # fault description from Net::Appliance::Session\n             print \"We had an error during our Telnet/SSH session to device  : $ios_devi\n    ce_ip \\n\";\n             print $@-&gt;message . \" \\n\";\n\n             # message from Net::Telnet\n             print \"Net::Telnet message : \" . $@-&gt;errmsg . \"\\n\";\n\n             # last line of output from your appliance\n             print \"Last line of output from device : \" . $@-&gt;lastline . \"\\n\\n\";\n\n         }\n         elsif (UNIVERSAL::isa($@, 'Net::Appliance::Session::Error') ) {\n\n             # fault description from Net::Appliance::Session\n             print \"We had an issue during program execution to device : $ios_device_ip\n    \\n\";\n    #         print $@-&gt;message . \" \\n\";\n\n         }\n         else {\n\n             # we had some other error that wasn't a deliberately created exception\n             print \"We had an issue when accessing the device : $ios_device_ip \\n\";\n             print \"$ios_device_ip The reported error was : $@ \\n\";\n         }\n\n         next DEVICE;\n     }\n\n    print @version_info;\n    print \"$ios_device_ip ok \\n\";\n    #end\n    }\n</code></pre>\n"}, {"tags": ["perl", "awk", "sed", "pattern-matching"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1420648654, "post_id": 27823959, "comment_id": 44054121, "body": "Awk, Perl or, Python would probably be better suited if you have more than just a few lines of <code>sed</code>. They are more versatile and much more readable."}, {"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 1, "creation_date": 1420665909, "post_id": 27823959, "comment_id": 44063785, "body": "read this: <a href=\"http://stackoverflow.com/questions/14102504/replace-strings-with-evaluated-string-based-on-matched-group-elegant-way-not-u\" title=\"replace strings with evaluated string based on matched group elegant way not u\">stackoverflow.com/questions/14102504/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1420656629, "post_id": 27823994, "comment_id": 44058761, "body": "wrong documentation reference, use <a href=\"https://www.gnu.org/software/sed/manual/sed.html#The-_0022s_0022-Command\" rel=\"nofollow noreferrer\">gnu.org/software/sed/manual/sed.html#The-_0022s_0022-Command</a> instead"}, {"owner": {"reputation": 2360, "user_id": 231306, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fU28t.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/231306/gabriel"}, "edited": false, "score": 1, "creation_date": 1420728857, "post_id": 27823994, "comment_id": 44089593, "body": "The problem is, the whole line is replaced by the output of the command. I&#39;d like just the timestamp to be replaced (or the hexa by its decoded value), as sed usually does."}, {"owner": {"reputation": 61, "user_id": 7432128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3beeed241a4a5e408ac879a058db750f?s=128&d=identicon&r=PG", "display_name": "stefan123t", "link": "https://stackoverflow.com/users/7432128/stefan123t"}, "edited": false, "score": 0, "creation_date": 1607953029, "post_id": 27823994, "comment_id": 115425438, "body": "Perfect, Thanks! I had to adapt it only little to cover only lines with timestamps, e.g. #1606748699:  cat ~/.bash_history | sed &quot;s/^#&#40;[0-9]\\+&#41;$/echo -n &#39;#&#39;; date -u --d @\\1 &#39;\\+\\%Y-\\%m-\\%d \\%T&#39;/e&quot; | less"}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": false, "score": 3, "last_activity_date": 1420713063, "last_edit_date": 1420713063, "creation_date": 1420648123, "answer_id": 27823994, "question_id": 27823959, "link": "https://stackoverflow.com/questions/27823959/how-do-i-replace-a-substring-by-the-output-of-a-shell-command-with-sed-awk-or-s/27823994#27823994", "title": "How do I replace a substring by the output of a shell command with sed, awk or such?", "body": "<p>To run an external command in <code>sed</code> you need to use <code>e</code>. See an example:</p>\n\n<pre><code>$ echo \"timestamp = 1234567890\" | sed \"s#timestamp = \\(.*\\)#date -u --d @\\1 \"\\+\\%Y\"#e\"\n2009\n</code></pre>\n\n<p>With the full format:</p>\n\n<pre><code>$ sed \"s#timestamp = \\(.*\\)#echo timestamp; date -u --d @\\1 '\\+\\%Y-\\%m-\\%d \\%T'#e\" &lt;&lt;&lt; \"timestamp = 1234567890\"\ntimestamp\n2009-02-13 23:31:30\n</code></pre>\n\n<p>This catches the timestamp and converts it into <code>+%Y</code> format.</p>\n\n<p>From <a href=\"https://www.gnu.org/software/sed/manual/sed.html#The-_0022s_0022-Command\" rel=\"nofollow\"><code>man sed</code></a>:</p>\n\n<blockquote>\n  <p><strong>e</strong></p>\n  \n  <p>This command allows one to pipe input from a shell command into\n  pattern space. If a substitution was made, the command that is found\n  in pattern space is executed and pattern space is replaced with its\n  output. A trailing newline is suppressed; results are undefined if the\n  command to be executed contains a nul character. This is a GNU sed\n  extension.</p>\n</blockquote>\n\n<hr>\n\n<p>However, you see it is a bit \"ugly\". Depending on what you want to do, you'd better use a regular <code>while</code> loop to fetch the values and then use <code>date</code> normally. For example, if the file is like:</p>\n\n<pre><code>timestamp = 1234567890\n</code></pre>\n\n<p>Then you can say:</p>\n\n<pre><code>while IFS=\"=\" read -r a b\ndo\n  echo \"$b\"\ndone &lt; file\n</code></pre>\n\n<p>this will make you have <code>$b</code> as the timestamp and then you can perform a <code>date ...</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": false, "score": 1, "last_activity_date": 1420656532, "creation_date": 1420656532, "answer_id": 27826503, "question_id": 27823959, "link": "https://stackoverflow.com/questions/27823959/how-do-i-replace-a-substring-by-the-output-of-a-shell-command-with-sed-awk-or-s/27826503#27826503", "title": "How do I replace a substring by the output of a shell command with sed, awk or such?", "body": "<p>As commented, use a language with built-in time functions. For example:</p>\n\n<pre><code>$ echo \"timestamp = 1234567890\" | gawk '{$3 = strftime(\"%F %T\", $3)} 1'\ntimestamp = 2009-02-13 18:31:30\n\n$ echo \"timestamp = 1234567890\" | perl -MTime::Piece -pe 's/(\\d+)/ localtime($1)-&gt;strftime(\"%F %T\") /e'\ntimestamp = 2009-02-13 18:31:30\n</code></pre>\n"}], "owner": {"reputation": 2360, "user_id": 231306, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fU28t.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/231306/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1724, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1420799942, "creation_date": 1420648024, "last_edit_date": 1420799942, "question_id": 27823959, "link": "https://stackoverflow.com/questions/27823959/how-do-i-replace-a-substring-by-the-output-of-a-shell-command-with-sed-awk-or-s", "title": "How do I replace a substring by the output of a shell command with sed, awk or such?", "body": "<p>I'd like to use <code>sed</code> or any command line tool to replace parts of lines by the output of shell commands. For example:</p>\n\n<ul>\n<li>Replace linux epochs by human-readable timestamps, by calling <code>date</code></li>\n<li>Replace hexa dumps of a specific protocol packets by their decoded counterparts, by calling an in-house decoder</li>\n</ul>\n\n<p><code>sed</code> seems best fitted because it allows to match patterns and reformat other things too, like moving bits of matches around, but is not mandatory.</p>\n\n<p>Here is a simplified example:</p>\n\n<pre><code>echo \"timestamp = 1234567890\" | sed \"s/timestamp = \\(.*\\)/timestamp = $(date -u --d @\\1 \"+%Y-%m-%d %T\")/g\"\n</code></pre>\n\n<p>Of course, the <code>$(...)</code> thing does not work. As far as I understand, that's for environment variables.</p>\n\n<p>So what would the proper syntax be? Is <code>sed</code> recommended in this case ? I've spent several hours searching... Is <code>sed</code> even capable of this ? Are there other tools better suited?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I need...</p>\n\n<ul>\n<li>Pattern matching. The log is full of other things, so I need to be able to pinpoint the strings I want to replace based on context (text before and after, on the same line). This excludes column-position-based matching like <code>awk '{$3</code>...</li>\n<li>In-place replacement, so that the reste of the line, \"Timestamp = \" or whatever, remains unchanged. This exclused sed's 'e' command.</li>\n</ul>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1420645166, "post_id": 27822688, "comment_id": 44051799, "body": "It&#39;s shown in the synopsis of the module: <a href=\"http://p3rl.org/YAML\" rel=\"nofollow noreferrer\">YAML</a>"}, {"owner": {"reputation": 856, "user_id": 271502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02ea5817ec9c96cf366a8cea9f3fcf22?s=128&d=identicon&r=PG", "display_name": "beta0x64", "link": "https://stackoverflow.com/users/271502/beta0x64"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1420645530, "post_id": 27822688, "comment_id": 44052075, "body": "@choroba I didn&#39;t even know about that. +1."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 4, "creation_date": 1420646800, "post_id": 27822688, "comment_id": 44052874, "body": "It&#39;s important to give information about what doesn&#39;t work.  &quot;No luck&quot; doesn&#39;t tell us what went wrong.  With the program you show above, you would have received a syntax error at line 8.  You need to tell us what those errors are to help us diagnose the problem."}, {"owner": {"reputation": 856, "user_id": 271502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02ea5817ec9c96cf366a8cea9f3fcf22?s=128&d=identicon&r=PG", "display_name": "beta0x64", "link": "https://stackoverflow.com/users/271502/beta0x64"}, "edited": false, "score": 0, "creation_date": 1420658426, "post_id": 27822688, "comment_id": 44059762, "body": "Please select the correct answer with a checkmark."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 856, "user_id": 271502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02ea5817ec9c96cf366a8cea9f3fcf22?s=128&d=identicon&r=PG", "display_name": "beta0x64", "link": "https://stackoverflow.com/users/271502/beta0x64"}, "edited": false, "score": 0, "creation_date": 1420711349, "post_id": 27822688, "comment_id": 44078982, "body": "@beta0x64: Neither did I. Therefore, I googled for &quot;yaml three dashes perl&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 22, "user_id": 3022575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45cf7c4a77cc55c3be050ed9420b3022?s=128&d=identicon&r=PG&f=1", "display_name": "Rukmangathan", "link": "https://stackoverflow.com/users/3022575/rukmangathan"}, "edited": false, "score": 0, "creation_date": 1420644896, "post_id": 27822849, "comment_id": 44051571, "body": "Thanks for your response  I have updated the script as suggested, but i couldn&#39;t get the first group  is there any way to get complete (both) groups"}], "tags": [], "owner": {"reputation": 856, "user_id": 271502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02ea5817ec9c96cf366a8cea9f3fcf22?s=128&d=identicon&r=PG", "display_name": "beta0x64", "link": "https://stackoverflow.com/users/271502/beta0x64"}, "is_accepted": false, "score": 4, "last_activity_date": 1420645686, "last_edit_date": 1420645686, "creation_date": 1420644720, "answer_id": 27822849, "question_id": 27822688, "link": "https://stackoverflow.com/questions/27822688/unable-to-read-complete-yaml-file-from-perl-script/27822849#27822849", "title": "Unable to read complete yaml file from perl script", "body": "<p>First of all, you should enable <code>use strict</code> and <code>use warnings</code>.</p>\n\n<p>You're also missing a semi-colon on your <code>close(YFILE)</code>.</p>\n\n<p>When I add a semi-colon to your script, I get this output:</p>\n\n<pre><code>$VAR1 = {\n      'c' =&gt; 'seventh',\n      'a' =&gt; 'fourth',\n      'b' =&gt; 'fifth'\n};\n</code></pre>\n\n<p>Thanks to @choroba, you can apparently do this:</p>\n\n<pre><code>use YAML;\nuse Data::Dumper;\n\nopen (YFILE, \"&lt;test.yaml\") or die $!; \nmy $yaml = join('', &lt;YFILE&gt;);\nclose(YFILE);\n\nmy (@objs)  = YAML::Load($yaml);\n\nprint Dumper(@objs);\n</code></pre>\n\n<p>Which returns:</p>\n\n<pre><code>$VAR1 = {\n      'c' =&gt; 'third',\n      'a' =&gt; 'first',\n      'b' =&gt; 'second'\n};\n\n$VAR2 = {\n      'c' =&gt; 'seventh',\n      'a' =&gt; 'fourth',\n      'b' =&gt; 'fifth'\n};\n</code></pre>\n"}], "owner": {"reputation": 22, "user_id": 3022575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45cf7c4a77cc55c3be050ed9420b3022?s=128&d=identicon&r=PG&f=1", "display_name": "Rukmangathan", "link": "https://stackoverflow.com/users/3022575/rukmangathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420645686, "creation_date": 1420644283, "question_id": 27822688, "link": "https://stackoverflow.com/questions/27822688/unable-to-read-complete-yaml-file-from-perl-script", "title": "Unable to read complete yaml file from perl script", "body": "<p>how do i read the below yaml file from perl script ?</p>\n\n<p>test.yaml</p>\n\n<pre><code>---\na: first\nb: second\nc: third\n---\na: fourth\nb: fifth\nc: seventh\n</code></pre>\n\n<p>I have tried the below script, but no luck </p>\n\n<pre><code>use YAML;\nuse Data::Dumper;\n\nopen (YFILE, \"&lt;test.yaml\") or die $!;\nmy $yaml = join('', &lt;YFILE&gt;);\nclose(YFILE)\n\nmy $hash = YAML::Load($yaml);\n\nprint Dumper($hash);\n</code></pre>\n\n<p>Please suggest.</p>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 872, "user_id": 2826892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/477460f653d800b374ce3451d6ddba49?s=128&d=identicon&r=PG&f=1", "display_name": "mikew", "link": "https://stackoverflow.com/users/2826892/mikew"}, "edited": false, "score": 0, "creation_date": 1420729295, "post_id": 27822340, "comment_id": 44089856, "body": "I realize this ship may have already sailed, but if the structure is the same, why not have a schema/database per customer? Then fully qualify your schema using <code>__PACKAGE__-&gt;table(&#39;schema.table&#39;)</code> and cross-schema joins are possible (assuming hosted on the same server). Common ResultSets and Results then can be used."}, {"owner": {"reputation": 351, "user_id": 1970203, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/712f02e58fd460dc9fa64cd156fe0082?s=128&d=identicon&r=PG", "display_name": "bvnbhati", "link": "https://stackoverflow.com/users/1970203/bvnbhati"}, "reply_to_user": {"reputation": 872, "user_id": 2826892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/477460f653d800b374ce3451d6ddba49?s=128&d=identicon&r=PG&f=1", "display_name": "mikew", "link": "https://stackoverflow.com/users/2826892/mikew"}, "edited": false, "score": 0, "creation_date": 1420733361, "post_id": 27822340, "comment_id": 44092763, "body": "@mikew I am actually uncovering the facts one by one. All these tables are in same schema and also share global tables. so tableA_1 and tableA_2 both join with global_table using same type of structure."}], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": true, "score": 3, "last_activity_date": 1420645092, "creation_date": 1420645092, "answer_id": 27823008, "question_id": 27822340, "link": "https://stackoverflow.com/questions/27822340/dbix-class-same-result-class-for-multiple-tables/27823008#27823008", "title": "DBIX Class- same result class for multiple tables", "body": "<p>Create a Result base class and subclass it for each existing table only calling</p>\n\n<pre><code>__PACKAGE__-&gt;table('tablename');\n</code></pre>\n\n<p>in each subclass.\nDBIx::Class still needs to know about all existing tables because of their relationships.</p>\n"}], "owner": {"reputation": 351, "user_id": 1970203, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/712f02e58fd460dc9fa64cd156fe0082?s=128&d=identicon&r=PG", "display_name": "bvnbhati", "link": "https://stackoverflow.com/users/1970203/bvnbhati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 27823008, "answer_count": 1, "score": 0, "last_activity_date": 1420723284, "creation_date": 1420643243, "last_edit_date": 1420723284, "question_id": 27822340, "link": "https://stackoverflow.com/questions/27822340/dbix-class-same-result-class-for-multiple-tables", "title": "DBIX Class- same result class for multiple tables", "body": "<p>I have many tables in my database which have the same structure. I want to create a common result class (package DBIx::Class) for that set of tables and use the same class for all by somehow changing the table name on the fly.</p>\n\n<p>How can I do this?</p>\n\n<p><strong>EDIT</strong>\nEncouraged by the answer from @abraxxa I am extending the same question.\nIn my database I have a set of tables for many customers which have common structure. After creating a common set of result classes I want to use the same for all customers in following fashion.</p>\n\n<p>customer 1</p>\n\n<p>tableA_1\ntableB_1\ntableC_1</p>\n\n<p>customer N</p>\n\n<p>tableA_N\ntableB_N\ntableC_N</p>\n\n<p>while working on customer N, I want to manage tableA, tableB and tableC such that their relationships are also maintained. Like, if I access tableB from within tableA, then for customer 1 it should access tableB_1 and for customer N tableB_N should be accessed. </p>\n\n<p>Can you please outline a base class for tableA and then one the subclass for the same.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420641377, "post_id": 27821728, "comment_id": 44049199, "body": "&quot;would like to include&quot; and &quot;would not like to exclude&quot; is pretty much the same thing."}, {"owner": {"reputation": 1890, "user_id": 1585439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/v6Hik.jpg?s=128&g=1", "display_name": "Zach Leighton", "link": "https://stackoverflow.com/users/1585439/zach-leighton"}, "edited": false, "score": 0, "creation_date": 1420641418, "post_id": 27821728, "comment_id": 44049221, "body": "<code>my @a = (1, $condition ? 2 : &quot;no-op&quot;, 3);</code> should work"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420641425, "post_id": 27821728, "comment_id": 44049226, "body": "@TLP yes, but here they do not mean the same thing.. :)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 1890, "user_id": 1585439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/v6Hik.jpg?s=128&g=1", "display_name": "Zach Leighton", "link": "https://stackoverflow.com/users/1585439/zach-leighton"}, "edited": false, "score": 0, "creation_date": 1420641528, "post_id": 27821728, "comment_id": 44049296, "body": "@ZachLeighton I am not sure what you mean ..."}, {"owner": {"reputation": 1890, "user_id": 1585439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/v6Hik.jpg?s=128&g=1", "display_name": "Zach Leighton", "link": "https://stackoverflow.com/users/1585439/zach-leighton"}, "edited": false, "score": 0, "creation_date": 1420641576, "post_id": 27821728, "comment_id": 44049326, "body": "<code>($condition)</code> is not the same as <code>$condition</code> the first is in list context"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 1890, "user_id": 1585439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/v6Hik.jpg?s=128&g=1", "display_name": "Zach Leighton", "link": "https://stackoverflow.com/users/1585439/zach-leighton"}, "edited": false, "score": 1, "creation_date": 1420645027, "post_id": 27821728, "comment_id": 44051678, "body": "@ZachLeighton: no, both are in list context.  operators create context, not parentheses."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1420641817, "post_id": 27821842, "comment_id": 44049484, "body": "Thanks, it works perfectly!... (I will be offline for some hours.. I accept it later..)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1420644288, "post_id": 27821842, "comment_id": 44051106, "body": "that&#39;s how I&#39;d do it.  but some use the list repetition operator: <code>my @a = ( 1, (2) x !!$condition, 3 );</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1420648554, "post_id": 27821842, "comment_id": 44054060, "body": "@ysth yes, unfortunately it is not much shorter and is barely a common idiom unlike ternary <code>?:</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1420666966, "post_id": 27821842, "comment_id": 44064291, "body": "@ysth, It also evaluates <code>2</code> unconditionally."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1420669901, "post_id": 27821842, "comment_id": 44065635, "body": "yes, it can be way less efficient if the optional elements take significant time and are often omitted"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 6, "last_activity_date": 1420641528, "creation_date": 1420641528, "answer_id": 27821842, "question_id": 27821728, "link": "https://stackoverflow.com/questions/27821728/generate-list-with-conditional-items/27821842#27821842", "title": "Generate list with conditional items", "body": "<p>You can use empty list <code>()</code> to skip second element,</p>\n\n<pre><code>my @a = (1, ($condition ? 2 : ()), 3);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1596404353, "last_edit_date": 1596404353, "creation_date": 1420667037, "answer_id": 27829179, "question_id": 27821728, "link": "https://stackoverflow.com/questions/27821728/generate-list-with-conditional-items/27829179#27829179", "title": "Generate list with conditional items", "body": "<p>Generally speaking, you can get some readability gains using</p>\n<pre><code>my @a;\npush @a, 1;\npush @a, 2 if $condition;\npush @a, 3;\n</code></pre>\n<p>In context, that would be</p>\n<pre><code>my @rules;\npush @rules, $rule-&gt;new-&gt;name('*.cfg')-&gt;prune-&gt;discard;\npush @rules, $rule-&gt;directory-&gt;name(&quot;_private.d&quot;)-&gt;prune-&gt;discard if $condition;\npush @rules, $rule-&gt;new-&gt;name('*.t')-&gt;prune-&gt;discard;\npush @rules, $rule-&gt;new-&gt;name('*.bak')-&gt;prune-&gt;discard;\npush @rules, $rule-&gt;new-&gt;name('.*.bak')-&gt;prune-&gt;discard;\npush @rules, $rule-&gt;new-&gt;name('.#*')-&gt;prune-&gt;discard;\n\nmy $rule = File::Find::Rule-&gt;new()-&gt;or(@rules);\nmy @files = $rule-&gt;in(&quot;.&quot;);\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 27821842, "answer_count": 2, "score": 2, "last_activity_date": 1596404353, "creation_date": 1420641204, "question_id": 27821728, "link": "https://stackoverflow.com/questions/27821728/generate-list-with-conditional-items", "title": "Generate list with conditional items", "body": "<p>Is it possible to create an array with conditional items? </p>\n\n<pre><code>my @a = (1, ($condition) ? 2 : \"no-op\", 3);\n</code></pre>\n\n<p>Such that <code>\"no-op\"</code> is function that works such that if <code>$condition</code> is false, then I get the list <code>(1, 3)</code> but if <code>$condition</code> is true, I get <code>(1, 2, 3)</code> ?</p>\n\n<hr>\n\n<p><strong>Background:</strong></p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find::Rule;\n\nmy $rule = File::Find::Rule-&gt;new();\n$rule-&gt;or(\n    $rule-&gt;new-&gt;name('*.cfg')-&gt;prune-&gt;discard,\n    $rule-&gt;directory-&gt;name(\"_private.d\")-&gt;prune-&gt;discard,\n    $rule-&gt;new-&gt;name('*.t')-&gt;prune-&gt;discard,\n    $rule-&gt;new-&gt;name('*.bak')-&gt;prune-&gt;discard,\n    $rule-&gt;new-&gt;name('.*.bak')-&gt;prune-&gt;discard,\n    $rule-&gt;new-&gt;name('.#*')-&gt;prune-&gt;discard,\n);\n\nmy @files = $rule-&gt;in(\".\");\n</code></pre>\n\n<p>In some cases I would like to include the line </p>\n\n<pre><code>$rule-&gt;directory-&gt;name(\"_private.d\")-&gt;prune-&gt;discard\n</code></pre>\n\n<p>and in other cases I would not like to exclude directory <code>_private.d</code>..</p>\n"}, {"tags": ["perl", "variables", "scope"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4428596, "user_type": "registered", "profile_image": "https://graph.facebook.com/687067298/picture?type=large", "display_name": "Tyoma", "link": "https://stackoverflow.com/users/4428596/tyoma"}, "edited": false, "score": 0, "creation_date": 1420632016, "post_id": 27818782, "comment_id": 44043755, "body": "Thanks a lot, \u0421\u0443\u0445\u043e\u043927! This works. But I still don&#39;t get the mechanics of the process. Could you explain why my code doesn&#39;t work. What happens when I declare the $copy_of_i within the body of the coderef and why I should delcare the variable outside of it instead?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 45, "user_id": 4428596, "user_type": "registered", "profile_image": "https://graph.facebook.com/687067298/picture?type=large", "display_name": "Tyoma", "link": "https://stackoverflow.com/users/4428596/tyoma"}, "edited": false, "score": 0, "creation_date": 1420632576, "post_id": 27818782, "comment_id": 44044129, "body": "@Tyoma check update and memory addresses for <code>$i</code> variable <a href=\"https://eval.in/240135\" rel=\"nofollow noreferrer\">eval.in/240135</a> (same) <a href=\"https://eval.in/240136\" rel=\"nofollow noreferrer\">eval.in/240136</a> (differ)"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1421068744, "post_id": 27818782, "comment_id": 44205001, "body": "The equivalent to the for loop in the question would actually be <code>for my $i (0 .. 4)</code>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1421069462, "post_id": 27818782, "comment_id": 44205435, "body": "@nwellnhof tnx for comment."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1421069449, "last_edit_date": 1421069449, "creation_date": 1420631091, "answer_id": 27818782, "question_id": 27818725, "link": "https://stackoverflow.com/questions/27818725/variable-scopes-in-coderefs-if-perl-need-an-explanation-of-strange-behavior/27818782#27818782", "title": "Variable scopes in coderefs if perl, need an explanation of strange behavior", "body": "<p>You want to have different values associated with the closures, yet you only have the single variable <code>$i</code> for all the closures to capture. You need to create a variable for each closure to capture, so <code>$copy_of_i</code> should be created outside of the closure. Creating a copy when you call the closure is far too late; <code>$i</code> no longer contains the desired value at that point.</p>\n\n<pre><code>for (my $i = 0; $i &lt; 5; $i++){\n    my $copy_of_i = $i;\n    push @coderefs, sub { \n      return $copy_of_i;\n    };\n}\n</code></pre>\n\n<p>By the way, <code>for my $i (0 .. 5)</code> is preferred over <code>for (my $i = 0; $i &lt; 5; $i++)</code>, and it has the advantage of creating a new variable for each iteration of the loop, so you can simply use</p>\n\n<pre><code>my @coderefs;\nfor my $i (0 .. 4) {\n    push @coderefs, sub { \n      return $i;\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4428596, "user_type": "registered", "profile_image": "https://graph.facebook.com/687067298/picture?type=large", "display_name": "Tyoma", "link": "https://stackoverflow.com/users/4428596/tyoma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 27818782, "answer_count": 1, "score": 4, "last_activity_date": 1421069449, "creation_date": 1420630927, "last_edit_date": 1420636704, "question_id": 27818725, "link": "https://stackoverflow.com/questions/27818725/variable-scopes-in-coderefs-if-perl-need-an-explanation-of-strange-behavior", "title": "Variable scopes in coderefs if perl, need an explanation of strange behavior", "body": "<p>Why are the values of $copy_of_i's returned by coderefs in the @coderefs the same?</p>\n\n<pre><code>use Modern::Perl;\nmy @coderefs = ();\nfor (my $i = 0; $i &lt; 5; $i++){\n    push @coderefs, sub { \n        my $copy_of_i = $i;\n        return $copy_of_i;\n    };\n}\n\nsay $coderefs[1]-&gt;();\nsay $coderefs[3]-&gt;();\n</code></pre>\n\n<p>I thought the $copy_of_i would be local for every coderef added to @coderefs and thus contain the current value of $i assigned to the $copy_of_i at the given iteration of the loop. But if we display the values of a couple of $copi_of_i's with 'say' we'll see that they have the same values as if the $copy_of_i wasn't local for every newly created coderef. Why?</p>\n"}, {"tags": ["perl", "command-line", "command-line-arguments"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 7, "creation_date": 1420630712, "post_id": 27818583, "comment_id": 44042996, "body": "This looks like an XY problem. What are you trying to accomplish?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1420630856, "post_id": 27818583, "comment_id": 44043072, "body": "@Sobrique It is a little bit complicated to explain, but you can think of it as running an alias command.."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1420631234, "post_id": 27818583, "comment_id": 44043279, "body": "Thing is - there&#39;s rarely a need to redo argument list parsing, because ... they&#39;re a mechanism to pass &#39;stuff&#39; into a command when being executed externally. E.g. when I run your perl script from my command line. If the script is calling itself, I simply don&#39;t understand why you need to do that."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1420631680, "post_id": 27818583, "comment_id": 44043547, "body": "@Sobrique Ok, don&#39;t worry :) Trust me it is necessary, but would take too long to explain here.."}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1420631951, "post_id": 27818583, "comment_id": 44043705, "body": "What do you mean by &quot;user response time&quot;? The actual performance in wall clock time? If you have a script where forking and <code>exec</code>uting the script again slows the performance noticeably, then something seems to be wrong. Either the parent script continues to do something very hard (a loop?) or you fork hundreds of iterations. If it is neither but just the hardware having a problem with running more than one interpreter, you should not be running Perl on it in the first place. Then again, any modern smart-watch probably can run dozens of instances of Perl with little problems..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1420632234, "post_id": 27818583, "comment_id": 44043908, "body": "@DeVadder It is working together with bash completion scripts, and there are lot&#39;s of code.. a difference of a 1/10 of a second matters.."}], "answers": [{"tags": [], "owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "is_accepted": true, "score": 2, "last_activity_date": 1420632445, "creation_date": 1420632445, "answer_id": 27819204, "question_id": 27818583, "link": "https://stackoverflow.com/questions/27818583/generate-argv-from-string/27819204#27819204", "title": "Generate ARGV from string", "body": "<p>While i agree with the comment of Sobrique that it seems unlikely that this is the best way to solve your underlying problem: Yes such a module appears to exist. At least this comes up when searching for \"parse commandline\" on metacpan.</p>\n\n<p><a href=\"https://metacpan.org/pod/Parse::CommandLine\" rel=\"nofollow\">https://metacpan.org/pod/Parse::CommandLine</a></p>\n\n<p>I did not test it.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1420638599, "post_id": 27820675, "comment_id": 44047463, "body": "Thanks, but I still have to parse the string.. (The string is generated later, after the BEGIN has finished)"}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1420719477, "post_id": 27820675, "comment_id": 44083519, "body": "You can modify <code>@ARGV</code> anywhere, not just in a <code>BEGIN</code> block. That can be used if you really need to make your script as unreadable to the uninitiated as possible, allowing you to use stuff like <code>pop</code> and <code>shift</code> without specifying an array even while outside of a subroutine (where they would default to <code>@_</code> instead of <code>@ARGV</code>, adding to the obfuscation ^^)."}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 2, "last_activity_date": 1420637628, "creation_date": 1420637628, "answer_id": 27820675, "question_id": 27818583, "link": "https://stackoverflow.com/questions/27818583/generate-argv-from-string/27820675#27820675", "title": "Generate ARGV from string", "body": "<p>Note that it possible to modify <code>@ARGV</code> from within the Perl script inside the <code>BEGIN</code> block:</p>\n\n<pre><code>BEGIN {\n\n    @ARGV = map s/regex/replace/r, @ARGV ;  # Transform\n    push @ARGV, 'new', 'arguments';         # Add stuff\n    shift @ARGV;\n}\n\n# @ARGV now changed\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 27819204, "answer_count": 2, "score": -1, "last_activity_date": 1420637628, "creation_date": 1420630464, "question_id": 27818583, "link": "https://stackoverflow.com/questions/27818583/generate-argv-from-string", "title": "Generate ARGV from string", "body": "<p>I have a setup where a Perl program would like to rerun itself with slightly modified command line arguments. In order to avoid starting up the Perl interpreter twice (user response time is important) using for example a <code>system</code> call, I would like to parse the new command line into <code>ARGV</code> directly, and then rerun myself with the new <code>ARGV</code> array. </p>\n\n<p>The question is then: Is there a CPAN module that can parse a command line string into an ARGV array? (That is: do the usual word splitting and quote removals)..</p>\n\n<p>Here is a first brute force attempt:</p>\n\n<pre><code>sub parse_string_arg {\n    my ($line) = @_;\n\n    my $reg = qr/( (?: \" (?: [^\"\\\\]++ | \\\\\")*+\") | # Item in \"\" with possible escaped \"\n                 (?: [^\"\\s]\\S*+) )/x; # Item that is not in double quotes\n\n    my $reg2 = qr/(?: (?&lt;![\\\\])\" | \\\\(?=\"))/x\n      ;  # a quote with no backslash in front of it, or a backslash with a quote behind\n\n    my @a = map { $_ =~ s/$reg2//g; $_ } # remove quotes and backslashes\n      $line =~ /$reg/g;  # extract arguments\n\n    return \\@a;\n}\n</code></pre>\n\n<p>Note: This does not handle strings in single quotes yet..</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1420630240, "post_id": 27818402, "comment_id": 44042734, "body": "Works for me. How are you testing it? And why not simply <code>&#47;Copyright\\s+(\\d+)(?:\\s*-\\s*(\\d+))?&#47;</code>?"}, {"owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1420630790, "post_id": 27818402, "comment_id": 44043030, "body": "@\u0421\u0443\u0445\u043e\u043927: Why are you editing it to PCRE? Perl and PCRE are different."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 0, "creation_date": 1420630838, "post_id": 27818402, "comment_id": 44043055, "body": "@nhahtdh there is no perl code, it looks regex only related."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1420630917, "post_id": 27818402, "comment_id": 44043108, "body": "@\u0421\u0443\u0445\u043e\u043927 If OP tagged it as Perl I&#39;d say that&#39;s enough reason to assume it is Perl."}, {"owner": {"reputation": 175, "user_id": 4003711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xO7z9.jpg?s=128&g=1", "display_name": "moiz134", "link": "https://stackoverflow.com/users/4003711/moiz134"}, "edited": false, "score": 0, "creation_date": 1420631033, "post_id": 27818402, "comment_id": 44043175, "body": "I am saving the regex in a variable and trying to retrieve it as given below but I dont get the matched string.  <code>($firstmatch, $secondMatch) = $string =~ m&#47;$COPYRIGHT_PATTERN&#47;g;</code>"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1420631086, "post_id": 27818402, "comment_id": 44043205, "body": "@moiz134 The lone <code>2015</code> would be captured in group 3."}, {"owner": {"reputation": 175, "user_id": 4003711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xO7z9.jpg?s=128&g=1", "display_name": "moiz134", "link": "https://stackoverflow.com/users/4003711/moiz134"}, "edited": false, "score": 0, "creation_date": 1420631544, "post_id": 27818402, "comment_id": 44043450, "body": "Thanks guys it worked. I was not printing all groups which caused the issue. My apologies and thank you for help."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 4003711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xO7z9.jpg?s=128&g=1", "display_name": "moiz134", "link": "https://stackoverflow.com/users/4003711/moiz134"}, "edited": false, "score": 0, "creation_date": 1420631570, "post_id": 27818696, "comment_id": 44043467, "body": "Thank you, I was not capturing all groups. <b>Embarrassed</b>"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1420631631, "post_id": 27818696, "comment_id": 44043508, "body": "@Andie2302 You might want to throw some <code>\\s+</code> and <code>\\s*</code> in there to mimic OP&#39;s regex. (<code>[0-9]</code> vs <code>\\d</code> is another discussion.)"}], "tags": [], "owner": {"reputation": 4551, "user_id": 3790360, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ef9805061faba2c8d3d95a1929702294?s=128&d=identicon&r=PG&f=1", "display_name": "Andie2302", "link": "https://stackoverflow.com/users/3790360/andie2302"}, "is_accepted": true, "score": 1, "last_activity_date": 1420634830, "last_edit_date": 1420634830, "creation_date": 1420630835, "answer_id": 27818696, "question_id": 27818402, "link": "https://stackoverflow.com/questions/27818402/conditional-matching-not-working-with-perl/27818696#27818696", "title": "Conditional matching not working with perl", "body": "<p>Your regex is working:</p>\n\n<pre><code>Copyright\\s+(?(?=\\d+\\s*-\\s*\\d+)(\\d+)\\s*-\\s*(\\d+)|(\\d+))\n</code></pre>\n\n<p>Matches: Copyright 2015 in capturing group 3<br>\nMatches: Copyright 2014-2015 in capturing group 1 and 2</p>\n\n<hr>\n\n<pre><code>Copyright\\s+(\\d+)(?:\\s*-\\s*(\\d+))?\n</code></pre>\n\n<p>Matches: Copyright 2015 in capturing group 1<br>\nMatches: Copyright 2014-2015 in capturing group 1 and 2</p>\n"}], "owner": {"reputation": 175, "user_id": 4003711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xO7z9.jpg?s=128&g=1", "display_name": "moiz134", "link": "https://stackoverflow.com/users/4003711/moiz134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 27818696, "answer_count": 1, "score": 0, "last_activity_date": 1420634830, "creation_date": 1420629907, "last_edit_date": 1420630932, "question_id": 27818402, "link": "https://stackoverflow.com/questions/27818402/conditional-matching-not-working-with-perl", "title": "Conditional matching not working with perl", "body": "<p>I have to write a regex to match the below strings and extract the year</p>\n\n<p><strong>Copyright 2015 or Copyright 2014-2015</strong></p>\n\n<p>I have written the regex given below and trying to execute the code in a perl program</p>\n\n<pre><code>Copyright\\s+(?(?=\\d+\\s*-\\s*\\d+)(\\d+)\\s*-\\s*(\\d+)|(\\d+))\n</code></pre>\n\n<p>The regex given above matches the string <strong>Copyright 2014-2015</strong> but fails when the string is <strong>Copyright 2015</strong>. What am I doing wrong?</p>\n"}, {"tags": ["perl", "list", "hash", "duplicates", "checked"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1420629372, "post_id": 27817984, "comment_id": 44042285, "body": "What makes you think that is slow? I think you&#39;d be hard pressed to find a module that is faster. You&#39;d need to benchmark it, and I seriously doubt you would gain much from it. You could for example use <a href=\"https://metacpan.org/pod/List::MoreUtils#uniq-LIST\" rel=\"nofollow noreferrer\"><code>List::MoreUtils</code> <code>uniq</code></a>, e.g. <code>if (@a == uniq(@a))</code>. But that subroutine is pretty simple, <code>sub uniq { my %seen; grep { !$seen{$_}++ } @_; }</code>"}, {"owner": {"reputation": 1208, "user_id": 626804, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8742b28745bb31ae21b06fcc54c4475e?s=128&d=identicon&r=PG", "display_name": "Ed Avis", "link": "https://stackoverflow.com/users/626804/ed-avis"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420629517, "post_id": 27817984, "comment_id": 44042361, "body": "It is perhaps as fast as it can be made to be, but certainly slower than the simple assignment %h = @a.  Testing @a == uniq(@a) doesn&#39;t do what I want because only the keys (the even-position elements) need to be unique, not the values."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1420629603, "post_id": 27817984, "comment_id": 44042406, "body": "Well, then you would know that <code>keys %h</code> should be equal to <code>@a &#47; 2</code>, now wouldn&#39;t you?"}, {"owner": {"reputation": 1208, "user_id": 626804, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8742b28745bb31ae21b06fcc54c4475e?s=128&d=identicon&r=PG", "display_name": "Ed Avis", "link": "https://stackoverflow.com/users/626804/ed-avis"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420629631, "post_id": 27817984, "comment_id": 44042420, "body": "Yes, the same thought occurred to me at the same moment ;-)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420629743, "post_id": 27817984, "comment_id": 44042491, "body": "Great minds think alike. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420629861, "post_id": 27818329, "comment_id": 44042545, "body": "Naive question: and if the ARRAY have odd elements like <code>qw&#47;a b c&#47;</code> ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1420630418, "post_id": 27818329, "comment_id": 44042823, "body": "Then you can&#39;t coerce it into the hash in the first place. <code>Odd number of elements in hash assignment</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 1, "creation_date": 1420630496, "post_id": 27818329, "comment_id": 44042880, "body": "@sputnick then last value for hash is undef and <code>warnings</code> complain. <code>keys %h</code> is 2 and <code>@a &#47; 2</code> is 1.5"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420637868, "post_id": 27818329, "comment_id": 44047051, "body": "<code>LIST</code> version: <code>sub { my $h = shift; %$h = @_; warn(&quot;...&quot;) if keys(%$h) != @_&#47;2; }-&gt;(my %h, LIST);</code>"}, {"owner": {"reputation": 1208, "user_id": 626804, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8742b28745bb31ae21b06fcc54c4475e?s=128&d=identicon&r=PG", "display_name": "Ed Avis", "link": "https://stackoverflow.com/users/626804/ed-avis"}, "edited": false, "score": 0, "creation_date": 1421073060, "post_id": 27818329, "comment_id": 44207675, "body": "ikegami: I think you need to pass the hash reference as the first argument.  But yes, this could become a general set_hash(\\%h, k=&gt;v...) routine which avoids the overhead of returning the hash by value."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 2, "last_activity_date": 1420629690, "creation_date": 1420629690, "answer_id": 27818329, "question_id": 27817984, "link": "https://stackoverflow.com/questions/27817984/perl-safely-make-hash-from-list-checking-for-duplicates/27818329#27818329", "title": "Perl: safely make hash from list, checking for duplicates", "body": "<p>Quick way to check that no keys were duplicate would be count the keys and make sure they are equal to half the number of items in the list:</p>\n\n<pre><code>my @a = ...;\nmy %h = @a;\nif (keys %h == (@a / 2)) {\n    print \"Success!\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1208, "user_id": 626804, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8742b28745bb31ae21b06fcc54c4475e?s=128&d=identicon&r=PG", "display_name": "Ed Avis", "link": "https://stackoverflow.com/users/626804/ed-avis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 27818329, "answer_count": 1, "score": 0, "last_activity_date": 1420629690, "creation_date": 1420628579, "question_id": 27817984, "link": "https://stackoverflow.com/questions/27817984/perl-safely-make-hash-from-list-checking-for-duplicates", "title": "Perl: safely make hash from list, checking for duplicates", "body": "<p>In Perl if you have a list with an even number of elements you can straightforwardly convert it to a hash:</p>\n\n<pre><code>my @a = qw(each peach pear plum);\nmy %h = @a;\n</code></pre>\n\n<p>However, if there are duplicate keys then they will be silently accepted, with the last occurrence being the one used.  I would like to make a hash checking that there are no duplicates:</p>\n\n<pre><code>my @a = qw(a x a y);\nmy %h = safe_hash_from_list(@a);    # prints error: duplicate key 'a'\n</code></pre>\n\n<p>Clearly I could write that routine myself:</p>\n\n<pre><code>sub safe_hash_from_list {\n    die 'even sized list needed' if @_ % 2;\n    my %r;\n    while (@_) {\n        my $k = shift;\n        my $v = shift;\n        die \"duplicate key '$k'\" if exists $r{$k};\n        $r{$k} = $v;\n    }\n    return %r;\n}\n</code></pre>\n\n<p>This, however, is quite a bit slower than the simple assignment.  Moreover I do not want to use my own private routine if there is a CPAN module that already does the same job.</p>\n\n<p>Is there a suitable routine on CPAN for safely turning lists into hashes?  Ideally one that is a bit faster than the pure-Perl implementation above (though probably never quite as fast as the simple assignment).</p>\n\n<p>If I may be allowed a related follow-up question, I'm also wondering about a tied hash class which allows each key to be assigned only once and dies on reassignment.  That would be a more general case of the above problem.  Again, I can write such a tied hash myself but I do not want to reinvent the wheel and I would prefer an optimized implementation if one already exists.</p>\n"}, {"tags": ["perl", "perl-module", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "edited": false, "score": 0, "creation_date": 1420629356, "post_id": 27818064, "comment_id": 44042274, "body": "I changed that. Still the same error. Is there any way i can fix this?"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "edited": false, "score": 0, "creation_date": 1420629728, "post_id": 27818064, "comment_id": 44042479, "body": "Do your PC can browse the web ? Are you sure the terminal is not in any kind of ssh remote session or such ? Don&#39;t you have any proxy running ?"}, {"owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "edited": false, "score": 0, "creation_date": 1420630167, "post_id": 27818064, "comment_id": 44042697, "body": "My PC can browse the Web. I am using the strawberry perl terminal. I dont have any proxy running on my web browser. When i changed url  to &#39;<a href=\"http://www.cat.com\" rel=\"nofollow noreferrer\">cat.com</a>&#39; it worked fine. Giving any other URL created the error. Do you think it could be due to the port being occupied?"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "edited": false, "score": 0, "creation_date": 1420630431, "post_id": 27818064, "comment_id": 44042834, "body": "the google port 80 is clearly occupied, but there&#39;s tons of hardware in mountain view, so I think the problem is not on the google side but somewhere between your environment and the first network gateway. Proxy, firewall, malicious software... Dunno !"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 2, "last_activity_date": 1420630469, "last_edit_date": 1420630469, "creation_date": 1420628813, "answer_id": 27818064, "question_id": 27817963, "link": "https://stackoverflow.com/questions/27817963/error-while-using-wwwmechanize-in-perl-to-open-a-webpage/27818064#27818064", "title": "Error while using WWW::Mechanize in Perl to open a Webpage", "body": "<p>There's 2 problems :</p>\n\n<ol>\n<li><p>the line <code>print \"$m-&gt;content()\";</code> should be written <code>print $m-&gt;content();</code> : you will get <code>WWW::Mechanize=HASH(0xeca870)-&gt;content()</code> otherwise. </p></li>\n<li><p>it seems that you have a network or software problem: the rest of your code works. </p></li>\n</ol>\n"}], "owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1420669713, "creation_date": 1420628524, "last_edit_date": 1420669713, "question_id": 27817963, "link": "https://stackoverflow.com/questions/27817963/error-while-using-wwwmechanize-in-perl-to-open-a-webpage", "title": "Error while using WWW::Mechanize in Perl to open a Webpage", "body": "<p>I am trying to open a web page in Perl using WWW::Mechanize module. The code for the same is as follows:</p>\n\n<pre><code>use WWW::Mechanize;\nmy $m = WWW::Mechanize-&gt;new();\n$url = 'http://www.google.com';\n$m-&gt;get($url);\nprint \"$m-&gt;content()\";\n</code></pre>\n\n<p>When i run this code i get an error like this:\nError GETing <a href=\"http://www.google.com\" rel=\"nofollow\">http://www.google.com</a> :Can't connect to www.google.com:80.\nWhat could be the reason for such an error and how can I change my code so that it opens up the webpage specified in the URL.?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1420628461, "post_id": 27817804, "comment_id": 44041733, "body": "How do you know which names goes with which directory?"}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420629301, "post_id": 27817804, "comment_id": 44042241, "body": "In mol.txt each name is for a folder, respectively."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1420629901, "post_id": 27817804, "comment_id": 44042568, "body": "How do you know that <code>12sh</code> should be renamed to <code>methyl</code> for example? That&#39;s not in your <code>mol.txt</code>."}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420630297, "post_id": 27817804, "comment_id": 44042757, "body": "<code>methyl</code> is in <code>mol.txt</code>. It must be new name of <code>12sg</code> folder."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1420631071, "post_id": 27817804, "comment_id": 44043194, "body": "What have you tried? What problems are you having? Stack Overflow is not a &quot;write my code for me&quot; service."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420651781, "post_id": 27817804, "comment_id": 44056004, "body": "@perlselami We have now asked you two times how to match a directory to a name from the mol.txt file. You have both times answered that the names are in the file. We already know this, you mentioned it in the question, and it is because of it that we are asking. Repeating it does not help. You say that <code>methyl</code> should be the name for <code>12sg</code>, but how does Perl find that out? Where is it written?"}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420660730, "post_id": 27817804, "comment_id": 44061059, "body": "Because <code>methyl</code> is the first line in <code>mol.txt</code>. And <code>12sg</code> is first folder according to alphabetical order of folders. In mol.txt each line represents a folder name ordered alphabetically. if I have 3 folders (e.g: their names are <code>1,2 and 3</code>) ,and there are <code>a,b,and c</code> names in <code>mol.txt</code>, respectively. Then <code>1</code>&#39;s new name must be <code>a</code>, <code>2</code>&#39;s new name must be <code>b</code>..."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420631404, "post_id": 27818496, "comment_id": 44043367, "body": "Directory list is alphabetically. I want to rename them according to this order."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420631472, "post_id": 27818496, "comment_id": 44043399, "body": "OK. Tweaked the above a little - you&#39;ll need a <code>sort</code> in there."}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420632486, "post_id": 27818496, "comment_id": 44044070, "body": "Error:Use of uninitialized value $rename_to in scalar chomp at ./rename.pl line 14, &lt;$input&gt; line 6. Use of uninitialized value $rename_to in concatenation (.) or string at ./rename.pl line 16, &lt;$input&gt; line 6. Rename 5 to"}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420632918, "post_id": 27818496, "comment_id": 44044325, "body": "And I think this code wont rename alphabetically. Because I tried it. 1,2,3,4,5 are folder names. a,b,c,d and e are new names in mol.txt. When the code runs, it gives: Rename . to a Rename .. to b Rename 1 to c Rename 2 to d Rename 3 to e Rename 4 to"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420635230, "post_id": 27818496, "comment_id": 44045560, "body": "OK. you&#39;ll need to skip files called &#39;..&#39; and &#39;."}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420635597, "post_id": 27818496, "comment_id": 44045761, "body": "Thanks. How will I do it?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420635680, "post_id": 27818496, "comment_id": 44045806, "body": "<code>next if $dirname =~ m&#47;^\\.\\.?$&#47;;</code>"}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1420659843, "post_id": 27818496, "comment_id": 44060572, "body": "It still doesn&#39;t work. Screen output:<code>Rename 1 to a Rename 2 to b Rename 3 to c Rename 4 to d Rename 5 to e Rename mol.txt to  Use of uninitialized value $rename_to in scalar chomp at .&#47;rename.pl line 16, &lt;$input&gt; line 6. Use of uninitialized value $rename_to in concatenation (.) or string at .&#47;rename.pl line 18, &lt;$input&gt; line 6. Rename rename.pl to </code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1420631530, "last_edit_date": 1420631530, "creation_date": 1420630231, "answer_id": 27818496, "question_id": 27817804, "link": "https://stackoverflow.com/questions/27817804/how-to-rename-multiple-folders-to-new-names-in-a-text-file/27818496#27818496", "title": "How to rename multiple folders to new names in a text file", "body": "<p>Your first pass is to 'map' your 'old' name to your 'new' name.</p>\n\n<p>How do you know that <code>12sh</code> should be renamed to <code>methyl</code> for example? That's not in your <code>mol.txt</code>. </p>\n\n<p>Anyway, first step is to construct a hash with the relationships. IF you're sure the ordering in your directory matches <code>mol.txt</code>. (And be careful with this, there's several possible directory orders, so it's not that safe an assumption) you might:</p>\n\n<pre><code>open ( my $input, \"&lt;\", \"mol.txt\" );   \nopendir ( my $dir_handle, \"/your_directory\" ); \n\n#sort because otherwise it's 'filesystem ordered' which may not be alphabetical. \nmy @list_of_stuff = sort ( readdir ( $dir_handle ) ); \n\nforeach my $dirname ( @list_of_stuff )  {\n    my $rename_to = &lt;$input&gt;;\n    chomp ( $rename_to );\n\n    print \"Rename $dirname to $rename_to\\n\"; \n}\n</code></pre>\n\n<p>If that looks like it produces the right output, then you'd add in the perl <a href=\"http://perldoc.perl.org/functions/rename.html\" rel=\"nofollow\"><code>rename</code></a>. But please note - there'll be no sorting happening on the directory list here, so ordering may not be what you expect. (Hence why the snippet above doesn't include a <code>rename</code>). </p>\n"}], "owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 27818496, "answer_count": 1, "score": -2, "last_activity_date": 1420631796, "creation_date": 1420627993, "last_edit_date": 1420631796, "question_id": 27817804, "link": "https://stackoverflow.com/questions/27817804/how-to-rename-multiple-folders-to-new-names-in-a-text-file", "title": "How to rename multiple folders to new names in a text file", "body": "<p>I have a main folder. And there are 120 subfolders in this main folder.</p>\n\n<p>Their names are as the following:</p>\n\n<pre><code>12sg\n45gh\n46ght\n49hk5\n.\n.\n.\nzadg54\n</code></pre>\n\n<p>And I have a new name for each subfolders in mol.txt file. There are 120 names in mol.txt</p>\n\n<p>mol.txt file:</p>\n\n<pre><code>methyl\nethyl-2\nnitro1\npernyty\n.\n.\n.\ndpcopt3\n</code></pre>\n\n<p>I want to rename all subfolders to new names in mol.txt file using perl but I don't know how to do it (Directory list is alphabetically. I want to rename them according to this order). Can you help me?</p>\n\n<p>For example:</p>\n\n<pre><code>\"methyl\" name is for 12sg folder\n\"ethyl-2\" name is for 45gh folder\n</code></pre>\n"}, {"tags": ["perl", "api"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1420629789, "creation_date": 1420629789, "answer_id": 27818373, "question_id": 27817744, "link": "https://stackoverflow.com/questions/27817744/convert-base64-string-to-image-with-image-magick-in-perl/27818373#27818373", "title": "convert base64 string to image with image magick in perl", "body": "<p>Not sure how it's done in <code>Image::Magick</code>, may I suggest <code>MIME::Base64</code>, it's a core module.</p>\n\n<pre><code>my $image_decoded= MIME::Base64::decode_base64($image_string);\nopen (my $handle, '&gt;', 'image_file.jpg') or die $!;\nbinmode $handle;\nprint $handle $image_decoded;\nclose ($handle);\n</code></pre>\n"}], "owner": {"reputation": 2745, "user_id": 1964990, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/be66e69f0992568c6dfe36aab557f25c?s=128&d=identicon&r=PG", "display_name": "rpsep2", "link": "https://stackoverflow.com/users/1964990/rpsep2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1420629789, "creation_date": 1420627803, "last_edit_date": 1420628807, "question_id": 27817744, "link": "https://stackoverflow.com/questions/27817744/convert-base64-string-to-image-with-image-magick-in-perl", "title": "convert base64 string to image with image magick in perl", "body": "<p>I am trying to send an image to my server which is base64 encoded (minus the starting bit about data:image/jpeg;base64, ).</p>\n\n<p>I want to upload the image after making a thumbnail of it - I am using image magick.</p>\n\n<p>How do I get image magick to read my base64 string as an image, so that I can modify and save it?</p>\n\n<p>my code so far:</p>\n\n<pre><code>my $extension = 'jpg';\nmy $full_filename = $photo_filepath . $cand-&gt;id . '.' . $extension;\n\nrequire Image::Magick;\nmy $cand_photo = Image::Magick-&gt;new;\nmy $decoded = decode_base64($args{image_string});\n$cand_photo-&gt;read(blob=&gt;$decoded);\n\n#save original\n$cand_photo-&gt;Write($full_filename);\n\n#resize\n$cand_photo-&gt;Set( Gravity =&gt; 'Center' );\n$cand_photo-&gt;Resize( geometry =&gt; '120x120' );\n$cand_photo-&gt;Extent( geometry =&gt; '120x120' );\nmy $full_filename_120\n    = $photo_filepath . $cand-&gt;id . '_120x120.' . $extension;\n\n#save thumbnail\n$cand_photo-&gt;Write($full_filename_120);\n</code></pre>\n\n<p><strong>EDIT</strong>: have got this working, code above is actually correct, the problem was elsewhere for me !</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1420628322, "post_id": 27817659, "comment_id": 44041648, "body": "You should never write Perl code without using <code>use strict; use warnings;</code>. Your code does not get better without them, and your errors do not disappear, they are just hidden. Also <code>my $num_args = @ARGV</code> can be used to get the count. But a preferable way IMO would be <code>my $srv_name = shift; if (!$srv_name) { print &quot;Usage..&quot;; exit; }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 4, "last_activity_date": 1420629088, "last_edit_date": 1420629088, "creation_date": 1420627802, "answer_id": 27817742, "question_id": 27817659, "link": "https://stackoverflow.com/questions/27817659/how-to-invoke-unix-inside-perl/27817742#27817742", "title": "how to invoke unix inside perl", "body": "<p>If line 16 is a typo, instead of </p>\n\n<pre><code>$cmd= `sepman -l|grep -e $srv_name\\( | wc -l`;\n</code></pre>\n\n<p>you should wrote </p>\n\n<pre><code>$cmd= `sepman -l|grep -e \"$srv_name\" | wc -l`;\n</code></pre>\n\n<p>If it's not a typo, then write :</p>\n\n<pre><code>$cmd= `sepman -l|grep -e \"$srv_name\\(\" | wc -l`;\n</code></pre>\n\n<p>\"Double quote\" every literal that contains spaces/metacharacters and <em>every</em> expansion: <code>\"$var\"</code>, <code>\"$(command \"$var\")\"</code>, <code>\"${array[@]}\"</code>, <code>\"a &amp; b\"</code>. Use <code>'single quotes'</code> for code or literal <code>$'s: 'Costs $5 US'</code>, <code>ssh host 'echo \"$HOSTNAME\"'</code>. See<br>\n<a href=\"http://mywiki.wooledge.org/Quotes\" rel=\"nofollow\">http://mywiki.wooledge.org/Quotes</a><br>\n<a href=\"http://mywiki.wooledge.org/Arguments\" rel=\"nofollow\">http://mywiki.wooledge.org/Arguments</a><br>\n<a href=\"http://wiki.bash-hackers.org/syntax/words\" rel=\"nofollow\">http://wiki.bash-hackers.org/syntax/words</a>    </p>\n"}], "owner": {"reputation": 45, "user_id": 4428432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/00511f4eedaf9957ffa8faf748f099e9?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/4428432/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 27817742, "answer_count": 1, "score": 3, "last_activity_date": 1420629088, "creation_date": 1420627559, "last_edit_date": 1420628165, "question_id": 27817659, "link": "https://stackoverflow.com/questions/27817659/how-to-invoke-unix-inside-perl", "title": "how to invoke unix inside perl", "body": "<p>i am trying to execute following command</p>\n\n<pre><code>#!/usr/bin/perl\n$num_args = $#ARGV + 1;\nif ($num_args != 1) {\n     print \"\\nUsage: name.pl srv_name \\n\";\n     exit;\n}\n\n$srv_name=$ARGV[0];\n#$last_name=$ARGV[1];\n\nif( $srv_name eq \"afs\" || $srv_name eq \"mnp\") {\n    print \"You have entred Service Name=$srv_name\\n\";\n}\n\n$cmd= `sepman -l|grep -e $srv_name\\( | wc -l`;\n\nprint \"cmd= $cmd\\n\";\n</code></pre>\n\n<p>But getting an error:</p>\n\n<pre><code>sh: -c: line 0: syntax error near unexpected token `('\nsh: -c: line 0: `sepman -l|grep -e afs( | wc -l'\n</code></pre>\n\n<p>please help me how to invoke unix command inside perl script</p>\n"}, {"tags": ["bash", "perl", "csv"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 1318643, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b61d9fb8fe4413b8b9c218889c425437?s=128&d=identicon&r=PG", "display_name": "AbhinavK", "link": "https://stackoverflow.com/users/1318643/abhinavk"}, "edited": false, "score": 1, "creation_date": 1420629129, "post_id": 27817532, "comment_id": 44042144, "body": "Thanks a lots. this is exactly what I wanted."}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 0, "last_activity_date": 1420627137, "creation_date": 1420627137, "answer_id": 27817532, "question_id": 27817456, "link": "https://stackoverflow.com/questions/27817456/one-liner-for-apache-error-logs-to-store-as-csv-file/27817532#27817532", "title": "One liner for apache error logs to store as csv file", "body": "<p>This can be handled by <code>sed</code> easily:</p>\n\n<pre><code>sed -r 's/^\\[([^]]*)]\\s*\\[([^]]*)]\\s*\\[([^]]*)]\\s*([^:]*):\\s*/\\1,\\2,\\3,\\4,/' file\n           ^^^^^^^^^^                                         ^^\n               |______________________________________________|\n</code></pre>\n\n<p>It is a matter of catching blocks and printing them back</p>\n\n<h3>Test</h3>\n\n<pre><code>$ cat a\n[ Message time ]  [Message Type] [IP Address] PHP Errpr Type: Some Message with comma in it\n$ sed -r 's/^\\[([^]]*)]\\s*\\[([^]]*)]\\s*\\[([^]]*)]\\s*([^:]*):\\s*/\\1,\\2,\\3,\\4,/' a\n Message time ,Message Type,IP Address,PHP Errpr Type,Some Message with comma in it\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 2249391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9b265a335b87c9061f082386cd1bfa?s=128&d=identicon&r=PG", "display_name": "Andy K", "link": "https://stackoverflow.com/users/2249391/andy-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1420630289, "creation_date": 1420630289, "answer_id": 27818523, "question_id": 27817456, "link": "https://stackoverflow.com/questions/27817456/one-liner-for-apache-error-logs-to-store-as-csv-file/27818523#27818523", "title": "One liner for apache error logs to store as csv file", "body": "<p>A slight modification on fedorqui's answer is </p>\n\n<pre><code>sed -r -e 's/([^]]*)$/\"\\1\"/'  -e 's/\\[//g' -e 's/\\]/,/g' input\n</code></pre>\n\n<p>Same thing essentially, but will work with an arbitrary number of [bracketed] items and is easier to read - not sure which will be quicker though if your files are huge.</p>\n"}], "owner": {"reputation": 139, "user_id": 1318643, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b61d9fb8fe4413b8b9c218889c425437?s=128&d=identicon&r=PG", "display_name": "AbhinavK", "link": "https://stackoverflow.com/users/1318643/abhinavk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 0, "accepted_answer_id": 27817532, "answer_count": 2, "score": 0, "last_activity_date": 1420630289, "creation_date": 1420626919, "last_edit_date": 1495540674, "question_id": 27817456, "link": "https://stackoverflow.com/questions/27817456/one-liner-for-apache-error-logs-to-store-as-csv-file", "title": "One liner for apache error logs to store as csv file", "body": "<p>I would like to convert the error logs lookinglike this:</p>\n\n<pre><code>[ Message time ]  [Message Type] [IP Address] PHP Errpr Type: Some Message with comma in it\n</code></pre>\n\n<p>Into something like this so that I can read it using any spreadsheet software:</p>\n\n<pre><code>Message Time,Message Type,IP Address,PHP Errpr Type,Some Message with comma in it\n</code></pre>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/11707865/get-apache-logs-as-csv-file\">Get apache logs as csv file</a>, <a href=\"https://github.com/mboynes/Apache-Access-Log-to-CSV-Converter/blob/master/apache_log_to_csv_converter.php\" rel=\"nofollow noreferrer\">Apache-Access-Log-to-CSV-Converter\n</a> and <a href=\"https://lincolnloop.com/blog/load-testing-jmeter-part-3-replaying-apache-logs/\" rel=\"nofollow noreferrer\">Load Testing with JMeter: Part 3 - Replaying Apache Logs</a>. which don't help with my case.</p>\n\n<p>I wrote a Bash script which works but it takes a hell lot of time for a file with 600,000 lines in it.</p>\n\n<pre><code>#!/bin/bash -x\n\nrm -fv final_file\nIFS=$'\\n'\nfor i in `cat error_log | tr '[]' '\"'`\ndo\n        MSG_MESSAGE=\"`echo $i|awk -F']' '{print $NF}'`\"\n        MSG_ERROR_TYPE=\"`echo $MSG_MESSAGE| awk -F':' '{print $1}'`\"\n        MSG_DEBUG_MESSGE=\"`echo $MSG_MESSAGE|cut -d':' -f2-|tr ',' '.'`\"\n        MSG_DATE=\"`echo $i|awk -F']' '{print $1}'| cut -d'[' -f2`\"\n        MSG_TYPE=\"`echo $i|awk -F']' '{print $2}'| cut -d'[' -f2`\"\n        MSG_CLIENT=\"`echo $i|awk -F']' '{print $3}'| cut -d'[' -f2`\"\n        echo \"$MSG_DATE~$MSG_TYPE~$MSG_CLIENT~$MSG_ERROR_TYPE~$MSG_DEBUG_MESSGE\" &gt;&gt; final_file\ndone\nunset IFS\n</code></pre>\n\n<p>Bash or Perl, anything is fine, as long as it works.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420626051, "post_id": 27817103, "comment_id": 44040378, "body": "Maybe try <a href=\"https://metacpan.org/pod/Storable\" rel=\"nofollow noreferrer\">metacpan.org/pod/Storable</a> but using <code>open()</code> is the simpler solution I think"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1420626067, "post_id": 27817103, "comment_id": 44040386, "body": "Check <a href=\"http://perldoc.perl.org/AnyDBM_File.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/AnyDBM_File.html</a>"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420626142, "post_id": 27817103, "comment_id": 44040423, "body": "Both solutions seems overkill for a simple counter, no ?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420626504, "post_id": 27817103, "comment_id": 44040648, "body": "@sputnick true, if OP wants only one counter."}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1420626603, "post_id": 27817103, "comment_id": 44040707, "body": "@\u0421\u0443\u0445\u043e\u043927:Yes just a counter"}], "answers": [{"comments": [{"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1420645999, "post_id": 27817792, "comment_id": 44052380, "body": "It is not concurrent but I would need to check what the number is as well as increment it"}, {"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1420799891, "post_id": 27817792, "comment_id": 44120020, "body": "I tried it. It does not work. I see in the file: &quot;1&quot; and in the second call &quot;12&quot; in the next call &quot;1213&quot; etc"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1420800912, "last_edit_date": 1420800912, "creation_date": 1420627970, "answer_id": 27817792, "question_id": 27817103, "link": "https://stackoverflow.com/questions/27817103/implement-persistent-counter/27817792#27817792", "title": "Implement persistent counter", "body": "<p>If you're not using counter in concurrent environment,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub increment {\n  my ($file) = @_;\n  open my $fh, \"+&gt;&gt;\", $file or die $!;\n\n  seek($fh, 0, 0);\n  my $count = &lt;$fh&gt; // 0;\n  seek($fh, 0, 0);\n  truncate($fh, 0);\n\n  print $fh ++$count;      \n  close $fh or die $!;\n\n  return $count;\n}\n\nmy $current_count = increment(\"/tmp/counter\");\n</code></pre>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 27817792, "answer_count": 1, "score": 3, "last_activity_date": 1420800912, "creation_date": 1420625804, "last_edit_date": 1420626510, "question_id": 27817103, "link": "https://stackoverflow.com/questions/27817103/implement-persistent-counter", "title": "Implement persistent counter", "body": "<p>I want to create a sort of counter that is persistent but I don't want to use the database for that (no other reason but I prefer to avoid creating a table for just having a counter which I won't need in a few months anyway).<br>\nSo my problem is that I want to count how many times I do something in a function but when\nthe script re-runs I want to increment the existing count.<br>\nI thought to create a file and just add the count to the file and update the file but I thought perhaps\nthere is an abstraction ready to use for something like this.</p>\n"}, {"tags": ["perl", "file", "io"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1420624598, "post_id": 27816700, "comment_id": 44039503, "body": "Yes, it is possible."}, {"owner": {"reputation": 93, "user_id": 1216495, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c92d4af2b359284ba6d46dd34b59741?s=128&d=identicon&r=PG", "display_name": "rugermini", "link": "https://stackoverflow.com/users/1216495/rugermini"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1420624875, "post_id": 27816700, "comment_id": 44039670, "body": "Nice! And how is it possible?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1420624910, "post_id": 27816700, "comment_id": 44039687, "body": "Check <a href=\"http://stackoverflow.com/a/206778/223226\">stackoverflow.com/a/206778/223226</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1420663220, "post_id": 27816700, "comment_id": 44062384, "body": "You can test how large strings you can store in memory using  <code>Number::Bytes::Human::size</code> and <code>Devel::Size::size</code> : On my laptop I can go up to around 4 GB... For example: <code>print format_bytes(size(&quot;1&quot; x 3_100_000_000)) . &quot;\\n&quot;;</code> gives 2.9G.."}, {"owner": {"reputation": 93, "user_id": 1216495, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c92d4af2b359284ba6d46dd34b59741?s=128&d=identicon&r=PG", "display_name": "rugermini", "link": "https://stackoverflow.com/users/1216495/rugermini"}, "edited": false, "score": 0, "creation_date": 1420709690, "post_id": 27816700, "comment_id": 44078070, "body": "I get 2.9 GB as well. I think that the memory buffer is okay, is just using it as a file handle that fails."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1420626395, "post_id": 27816872, "comment_id": 44040578, "body": "To make the code backward compatible with Perl earlier than 5.8, use <code>IO::String</code> module.."}, {"owner": {"reputation": 93, "user_id": 1216495, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c92d4af2b359284ba6d46dd34b59741?s=128&d=identicon&r=PG", "display_name": "rugermini", "link": "https://stackoverflow.com/users/1216495/rugermini"}, "edited": false, "score": 0, "creation_date": 1420647002, "post_id": 27816872, "comment_id": 44053022, "body": "So this works for me in principle, but unfortunately it does not work for large files (&gt;2 GB). In this case, $file_contents holds the contents of the file, but &lt;$file_handle&gt; returns an empty variable. Is there a way around this?"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 5, "last_activity_date": 1420625030, "creation_date": 1420625030, "answer_id": 27816872, "question_id": 27816700, "link": "https://stackoverflow.com/questions/27816700/holding-files-in-memory-in-perl-while-using-them-like-file-handles/27816872#27816872", "title": "Holding files in memory in perl while using them like file handles", "body": "<p>Read in the file:</p>\n\n<pre><code>use File::Slurp 'read_file';\nread_file( \"filename\", buf_ref =&gt; \\my $file_contents );\n</code></pre>\n\n<p>and open a filehandle to it:</p>\n\n<pre><code>open my $file_handle, '&lt;', \\$file_contents;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 1216495, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1c92d4af2b359284ba6d46dd34b59741?s=128&d=identicon&r=PG", "display_name": "rugermini", "link": "https://stackoverflow.com/users/1216495/rugermini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420647577, "creation_date": 1420624479, "last_edit_date": 1420647577, "question_id": 27816700, "link": "https://stackoverflow.com/questions/27816700/holding-files-in-memory-in-perl-while-using-them-like-file-handles", "title": "Holding files in memory in perl while using them like file handles", "body": "<p>I have a script in perl that I need to modify. The script opens, reads and seeks through two large (ASCII) files (they are several GB in size). Since it does that quite a bit, I would like to put these two files completely into RAM. The easiest way of doing this while not modifying the script a lot would be to load the files into the memory in a way that I can treat the resulting variable just as a file handle - and for example use seek to get to a specific byte position. Is that possible in perl?</p>\n\n<p>Update: Using File::Slurp as proposed does the job only for small files. If the files are larger than about 2GB, it doesn't work.</p>\n\n<p>Mimimum example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Tie::File;\nuse File::Slurp 'read_file';\n\nmy $fn=\"testfile\";\n\n#buffer, then open as file, read first line:\nread_file($fn, buf_ref =&gt; \\my $file_contents_forests) or die \"Could not read file!\";\nmy $filehandle;\nopen($filehandle, \"&lt;\", \\$file_contents_forests) or die \"Could not open buffer: $!\\n\";\nmy $line = \"the first line:\".&lt;$filehandle&gt;;\nprint $line.\"\\n\";\nclose($filehandle);\n\n#open as file, read first line:\nopen( FORESTS,  \"&lt;\",$fn) or die \"Could not open file.\\n\";\nmy $line = \"the first line:\".&lt;FORESTS&gt;;\nprint $line;\nclose(FORESTS);\n</code></pre>\n\n<p>The output in this case is identical for the two methods if the file size is &lt; 2 GB. If the file is larger, then slurping returns an empty line.</p>\n"}, {"tags": ["mysql", "multithreading", "perl", "dbix-class", "mojolicious"], "comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1420628888, "post_id": 27815319, "comment_id": 44041990, "body": "Such a long running task should not be part of a web application but a separate daemon communicating with a work queue."}, {"owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "reply_to_user": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1420674818, "post_id": 27815319, "comment_id": 44067441, "body": "Thanks abbraxa you make a good point, I will have to shift this code out to a separate daemon, this issue that I want the complex coding (step 1) to be handled by a separate worker/thread &#39;per&#39; device. But I need the sql inserts ( steps 2 - 4 ) to be done in serial."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 3, "last_activity_date": 1420624159, "last_edit_date": 1495541373, "creation_date": 1420624159, "answer_id": 27816601, "question_id": 27815319, "link": "https://stackoverflow.com/questions/27815319/how-can-i-lock-a-table-in-dbixclass/27816601#27816601", "title": "How can I lock a table in DBIx:Class?", "body": "<p>Something like</p>\n\n<pre><code>$schema-&gt;dbh_do(\"LOCK TABLES names\");\n...\n...\n$schema-&gt;dbh_do(\"UNLOCK TABLES\");\n</code></pre>\n\n<p>Source: <a href=\"http://www.perlmonks.org/?node_id=854538\" rel=\"nofollow noreferrer\">http://www.perlmonks.org/?node_id=854538</a></p>\n\n<p>Also see: <a href=\"https://stackoverflow.com/questions/10264030/how-to-avoid-race-conditions-when-using-the-find-or-create-method-of-dbixclass\">How to avoid race conditions when using the find_or_create method of DBIx::Class::ResultSet?</a></p>\n\n<p>and <a href=\"http://search.cpan.org/~ribasushi/DBIx-Class-Manual-SQLHackers-1.3/lib/DBIx/Class/Manual/SQLHackers/SELECT.pod#SELECT_..._FOR_UPDATE\" rel=\"nofollow noreferrer\">SQLHackers::SELECT#SELECT_..._FOR_UPDATE</a></p>\n"}], "owner": {"reputation": 1330, "user_id": 1768233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fbdf57a16515518ce0471cb0e75fce29?s=128&d=identicon&r=PG", "display_name": "user1768233", "link": "https://stackoverflow.com/users/1768233/user1768233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "accepted_answer_id": 27816601, "answer_count": 1, "score": 1, "last_activity_date": 1488886761, "creation_date": 1420619738, "last_edit_date": 1420624373, "question_id": 27815319, "link": "https://stackoverflow.com/questions/27815319/how-can-i-lock-a-table-in-dbixclass", "title": "How can I lock a table in DBIx:Class?", "body": "<p>I am writing a small application with</p>\n\n<ul>\n<li>Mojolicious  </li>\n<li>DBIx::Class    </li>\n<li>Hypnotoad which is a pre-forking web\nserver.</li>\n<li>MySQL</li>\n</ul>\n\n<p>In my application I need to do the following;</p>\n\n<ol>\n<li>Do some complex processing ( takes a minute of so to complete )</li>\n<li>insert resulting data from above processing into tables</li>\n<li>obtain the last auto increment of some tables, do some more processing.</li>\n<li>use the values from (3) as part of an insert into another table ( a junction table )</li>\n</ol>\n\n<p>Here is some sample code starting at step 2</p>\n\n<pre><code>#step 2\nmy $device = $device_rs-&gt;create(\n {\n  devicename      =&gt; $deviceName,\n  objects         =&gt; \\@objects\n  object_groups   =&gt; \\@objectgroups,\n\n}\n);\n\n#step 3\nmy $lastogid  = $db-&gt;resultset('ObjectGroup')-&gt;get_column('objectgroupid')-&gt;max;\nmy $lastobid  = $db-&gt;resultset('Object')-&gt;get_column('objectid')-&gt;max;\n\nmy $obgcount = scalar(@objectgroups);\nmy $objcount = scalar(@objects);\n\nmy $ogoffset = $lastogid - $obgcount;\nmy $oboffset = $lastobid - $objcount;\n\n#now increment the object/group ids by the offset which will be inserted into the many-  many table\nforeach my $hash (@childobjects) {\n $hash-&gt;{'objectgroup_objectgroupid'} += $ogoffset;\n $hash-&gt;{'object_objectid'}           += $oboffset;\n}\n\n#step 4  - populate the junction table\n$db-&gt;resultset('ObjectGroupHasObjects\u2019)-&gt;populate(\\@childobjects);\n</code></pre>\n\n<p>Now due to having multiple threads going a once the values obtained from step 3 may not be correct ( for the current \u2018device\u2019 ).  </p>\n\n<p>I\u2019m trying to find a way around this issue. The only thing I can think of at the moment is putting a lock on the database tables before step 2) and unlocking after step 4). </p>\n\n<p>How can I do this in DBIx::Class and is this likely to resolve my issue?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "win32gui", "gui-testing"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "edited": false, "score": 0, "creation_date": 1420610578, "post_id": 27813116, "comment_id": 44033718, "body": "C:\\temp&gt;ppm install C:\\temp\\win32-guitest.ppd ppm install failed: The PPD does not provide code to install for this platform"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "edited": false, "score": 0, "creation_date": 1420614011, "post_id": 27813116, "comment_id": 44034894, "body": "Then I&#39;m afraid you&#39;ll have to use Perl 5.12 and 1.58 version of Win32::GuiTest or just downgrade to 5.16. You can open GUI of PPM and see there if it&#39;s available to install on your platform."}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "edited": false, "score": 0, "creation_date": 1420619770, "post_id": 27813116, "comment_id": 44036965, "body": "are sure if i install if i install 5.16 on my Windows8 then it will successfully install Win32-GuiTest downloaded from this link : search.cpan.org/~karasik/Win32-GuiTest-1.60/lib/Win32/\u2026  (PLEASE SEE INSTALLATION PART OF THIS LINK) because i installed and uninstalled 3 times different version ..none of them worked yet \u2013"}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "edited": false, "score": 0, "creation_date": 1420631489, "post_id": 27813116, "comment_id": 44043410, "body": "I installed perl 5.16.2 and again followed documentation but again same errors. i also added the bribes repository but smae error. could you please help me ? i am under serious problems as deadlines are passing by."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1420611585, "last_edit_date": 1495541986, "creation_date": 1420609381, "answer_id": 27813116, "question_id": 27812838, "link": "https://stackoverflow.com/questions/27812838/why-it-pop-ups-perl-package-manager-instead-of-ppm-on-terminal-on-writting-ppm/27813116#27813116", "title": "Why it pop ups Perl Package Manager instead of ppm&gt; on terminal on writting ppm at terminal", "body": "<p>I think you are using version 4 of PPM.</p>\n\n<p>PPM version 4 is a complete rewrite. In version 4 the command line shell has been replaced with a graphical user interface.</p>\n\n<p>So before version 4 on typing <code>ppm</code> the command line package manager used to open, but now it opens GUI of package manager.</p>\n\n<p><strong>Invoking ppm without arguments brings up the graphical user interface</strong>, but ppm can also be used as a command line tool where the first argument provide the name of the sub-command to invoke. </p>\n\n<p>You can try:</p>\n\n<pre><code>ppm install C:\\temp\\win32-guitest.ppd\n</code></pre>\n\n<p>Edit: See the linked answer on how to install Win32-GuiTest in ActiveState. (<a href=\"https://stackoverflow.com/questions/11877463/ppm-install-failed-the-ppd-does-not-provide-code-to-install-for-this-platform\">ppm install failed: The PPD does not provide code to install for this platform</a>).</p>\n\n<p><img src=\"https://i.stack.imgur.com/1naSV.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421153163, "creation_date": 1420607794, "last_edit_date": 1421153163, "question_id": 27812838, "link": "https://stackoverflow.com/questions/27812838/why-it-pop-ups-perl-package-manager-instead-of-ppm-on-terminal-on-writting-ppm", "title": "Why it pop ups Perl Package Manager instead of ppm&gt; on terminal on writting ppm at terminal", "body": "<p>I am trying to install Win32 GuiTest in my Windows8 (x64) I am using ActivePerl (Perl 5 version 20 subverion1) I am following this link: <a href=\"http://search.cpan.org/~karasik/Win32-GuiTest-1.60/lib/Win32/GuiTest.pm\" rel=\"nofollow\">http://search.cpan.org/~karasik/Win32-GuiTest-1.60/lib/Win32/GuiTest.pm</a> . </p>\n\n<p>I check perl -v and it shows the version (so works properly) but the problem is when i try to do \"ppm\" then i have a Perl Package Manager window pop up rather then some thing like this on terminal :</p>\n\n<pre><code>PPM interactive shell (2.0) - type 'help' for available commands.\n    PPM&gt;\n</code></pre>\n\n<p>Actually I have no idea why it pop ups Perl package manager instead of these command on terminal so that i would be able to folow the next steps termianl which are  given on that  link.</p>\n\n<p>How to do that ?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 2643, "user_id": 2444293, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12e2df5d1a7f43ca9123592dbf8f9f99?s=128&d=identicon&r=PG", "display_name": "VHarisop", "link": "https://stackoverflow.com/users/2444293/vharisop"}, "edited": false, "score": 0, "creation_date": 1420609660, "post_id": 27813078, "comment_id": 44033486, "body": "Wow, I was unaware that Algorithms had such methods. Very nice!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1420609165, "creation_date": 1420609165, "answer_id": 27813078, "question_id": 27812834, "link": "https://stackoverflow.com/questions/27812834/generate-unordered-pairs-from-list-in-perl/27813078#27813078", "title": "Generate unordered pairs from list in perl", "body": "<p>For a fixed R=2, the solution you presented is quite appropriate.</p>\n\n<pre><code>for my $i1 (0 ... $#words) {\n   for my $i2 ($i1 + 1 ... $#words) {\n      process_pair($words[$i1], $words[$i2])\n   }\n}\n</code></pre>\n\n<p>But what if R was larger or variable? You can do some powerful stuff using <code>NestedLoops</code>.</p>\n\n<pre><code>use Algorithm::Loops qw( NestedLoops );\n\nmy $R = 2;\n\nNestedLoops(\n   [  [ 0..$#words ],\n      ( sub { [$_+1..$#words] } ) x ($R-1),\n   ],\n   \\&amp;process_pair,\n);\n</code></pre>\n\n<p>Or as an iterator</p>\n\n<pre><code>use Algorithm::Loops qw( NestedLoops );\n\nmy $R = 2;\n\nmy $iter = NestedLoops([\n   [ 0..$#words ],\n   ( sub { [$_+1..$#words] } ) x ($R-1),\n]);\n\nwhile (my @combo = $iter-&gt;()) {\n    process_pair(@combo);\n}\n</code></pre>\n\n<p>But that's hardly readable. Solutions that specifically address this problem are going to be cleanest.</p>\n\n<pre><code>use Math::Combinatorics qw( );\n\nmy $R = 2;\n\nmy $iter = Math::Combinatorics-&gt;new( count =&gt; $R, data =&gt; \\@words );\nwhile (my @combo = $iter-&gt;next_combination) {\n    process_pair(@combo);\n}\n</code></pre>\n"}], "owner": {"reputation": 2643, "user_id": 2444293, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12e2df5d1a7f43ca9123592dbf8f9f99?s=128&d=identicon&r=PG", "display_name": "VHarisop", "link": "https://stackoverflow.com/users/2444293/vharisop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 27813078, "answer_count": 1, "score": 0, "last_activity_date": 1420609181, "creation_date": 1420607784, "last_edit_date": 1420608184, "question_id": 27812834, "link": "https://stackoverflow.com/questions/27812834/generate-unordered-pairs-from-list-in-perl", "title": "Generate unordered pairs from list in perl", "body": "<p>Perl newbie here.</p>\n\n<p>I want to loop over pairs of words, coming from a list of words:</p>\n\n<pre><code> @words = (\"word1\", \"word2\", \"word3\", \"word4\");\n</code></pre>\n\n<p>I want to create and process all pairs of words, but <em>pair ordering is not important</em>, i.e. the pairs \n<code>(\"word1\", \"word2\")</code> and <code>(\"word2, \"word1\")</code> are considered the same and only one of them should be generated. </p>\n\n<p>Is there an easy way to do this? The obvious solution would be to have an nested loop somewhat like:</p>\n\n<pre><code>for my $i1 (0 ... $#words) {\n    for my $i2 ($i1 + 1 ... $#words) {\n        process_pair(words[$i1], words[$i2])\n    }\n}\n</code></pre>\n\n<p>but I am looking for something more Perl-esque than this. Thanks in advance.</p>\n"}, {"tags": ["perl", "variables", "filehandle"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4427460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54fc887d9b3374b82234d0ee407e578?s=128&d=identicon&r=PG&f=1", "display_name": "perlbegin", "link": "https://stackoverflow.com/users/4427460/perlbegin"}, "edited": false, "score": 0, "creation_date": 1420612863, "post_id": 27813044, "comment_id": 44034467, "body": "Thanks for this ..what if i want to use it globally and the file contains more than 15 parameters values .There are many places where this variable will be used .Please can you also advise how to store these values in a hash and then use that hash wherever required"}, {"owner": {"reputation": 1097, "user_id": 3916640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff440cfc7c911ffc3ec96b892f20d4e?s=128&d=identicon&r=PG", "display_name": "rurouni88", "link": "https://stackoverflow.com/users/3916640/rurouni88"}, "reply_to_user": {"reputation": 1, "user_id": 4427460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54fc887d9b3374b82234d0ee407e578?s=128&d=identicon&r=PG&f=1", "display_name": "perlbegin", "link": "https://stackoverflow.com/users/4427460/perlbegin"}, "edited": false, "score": 0, "creation_date": 1420618315, "post_id": 27813044, "comment_id": 44036403, "body": "Your requirements are unclear. What do you mean by use it globally? Global as within the scope of a script, or global as you want the configuration to persist throughout an application instance?"}], "tags": [], "owner": {"reputation": 1097, "user_id": 3916640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff440cfc7c911ffc3ec96b892f20d4e?s=128&d=identicon&r=PG", "display_name": "rurouni88", "link": "https://stackoverflow.com/users/3916640/rurouni88"}, "is_accepted": false, "score": 0, "last_activity_date": 1420609405, "last_edit_date": 1420609405, "creation_date": 1420609017, "answer_id": 27813044, "question_id": 27812768, "link": "https://stackoverflow.com/questions/27812768/assigning-value-to-a-variable-after-reading-from-a-text-file-in-perl/27813044#27813044", "title": "Assigning value to a variable after reading from a text file in perl", "body": "<pre><code># Read in lines from file and assign to temp variables\nopen(FILE, $file_path) or die sprintf (\"FATAL: Could not open '%s' (%s)\", $file_path, $!);\n\nmy ($cp_server_attribute_id, $new_value);\nforeach my $line (&lt;FILE&gt;) {\n\n    # Remove all whitespace because I just spotted that in your config.txt file\n    $line =~ s/\\s//g;\n\n    # If the line matches our interesting attributes, extract the integer value associated\n    if ( $line =~ m/^cp_server_attribute_id=(\\d+);/ ) {\n         $cp_server_attribute_id = $1;\n    }\n    elsif ( $line =~ m/^new_value=(\\d+);/ ) {\n         $new_value = $1;\n    }\n    else {\n        # Do nothing\n    }\n}\nclose(FILE) || die sprintf (\"FATAL: Could not close '%s' (%s)\", $file_path, $!);\n\n# Side note: This query is not recommended best practice. You should consider bind values.\nmy $insert_attribs = qq[\n    INSERT INTO $cp_server_attrib_value(def_id, cp_server_attribute_id, value)\n    VALUES ($defId, $cp_server_attribute_id, $new_value)\n];\n</code></pre>\n\n<p>Additional Suggestions:</p>\n\n<ol>\n<li>Pick a more commonly format for your config file. ie. XML, YAML, JSON, instead of text file</li>\n<li>Find a CPAN Module which will parse that file</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 4427460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54fc887d9b3374b82234d0ee407e578?s=128&d=identicon&r=PG&f=1", "display_name": "perlbegin", "link": "https://stackoverflow.com/users/4427460/perlbegin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 739, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420609405, "creation_date": 1420607421, "last_edit_date": 1420608133, "question_id": 27812768, "link": "https://stackoverflow.com/questions/27812768/assigning-value-to-a-variable-after-reading-from-a-text-file-in-perl", "title": "Assigning value to a variable after reading from a text file in perl", "body": "<p>Iam new to perl and trying to write a code where i want to read values from a text file.</p>\n\n<p>Code - </p>\n\n<pre><code> my $cp_server_attrib_value = $adminDB-&gt;GetTbl('cp_server_attribute_value');\n\nmy $insert_attribs = qq[\n    INSERT INTO $cp_server_attrib_value(def_id, cp_server_attribute_id, value)\n    VALUES ($defId,10,\"30\")\n];\n</code></pre>\n\n<p>the server attribute id can be chanegd in the db and so can be the value further in future, so i want to get it from a text config file instead.</p>\n\n<p><strong>Created a file :</strong> </p>\n\n<pre><code>- config.txt\n</code></pre>\n\n<p>which maybe will have the following values - </p>\n\n<pre><code>cp_server_attribute_id= 10;\nnew_value=30;\n</code></pre>\n\n<p>Please can someone help me opening the file and reading the value to use in my db query.Shall i use hash? Is there an easy way to do it.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 4, "creation_date": 1420606923, "post_id": 27812668, "comment_id": 44032783, "body": "I&#39;m just going out on a limb here and saying you don&#39;t need a RE. Just split on a space and you will get the three parts you need."}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1420607062, "post_id": 27812668, "comment_id": 44032811, "body": "I don&#39;t think that regexp is doing what you think it is doing. <code>\\d[1-3].</code> matches a digit from 0 to 9, a digit from 1 to 3, and any character. <code>\\d{1-3}\\.</code> matches one to three digits from 0 to 9, and a dot."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 0, "creation_date": 1420624303, "post_id": 27812668, "comment_id": 44039351, "body": "@Amadan: <code>\\d{1-3}</code> isn&#39;t valid in regex, it should be <code>\\d{1,3}</code>"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1420624373, "post_id": 27812668, "comment_id": 44039394, "body": "@M42: D&#39;oh! Of course it should... Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 15837, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": false, "score": 3, "last_activity_date": 1420607405, "creation_date": 1420607405, "answer_id": 27812765, "question_id": 27812668, "link": "https://stackoverflow.com/questions/27812668/perl-to-python-transition/27812765#27812765", "title": "perl to python transition", "body": "<p>why you need to use regex here?? </p>\n\n<p>try <code>split</code>:</p>\n\n<pre><code>with open('file.txt') as f:\n    for x in f:\n        ip, username, password = x.strip().split()\n        # do your stuff with variables now\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15837, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "edited": false, "score": 1, "creation_date": 1420608270, "post_id": 27812835, "comment_id": 44033111, "body": "in pattern you dont need <code>^</code> as match, matches from the beginning of line :)"}], "tags": [], "owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "is_accepted": true, "score": 3, "last_activity_date": 1420608310, "last_edit_date": 1420608310, "creation_date": 1420607786, "answer_id": 27812835, "question_id": 27812668, "link": "https://stackoverflow.com/questions/27812668/perl-to-python-transition/27812835#27812835", "title": "perl to python transition", "body": "<p>Here it is with a corrected regex (free of the bugs mentioned by Amadan in the comments):</p>\n\n<pre><code>import fileinput\nimport re\n\npattern = '(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})\\s(\\w+)\\s(\\w+)'\n\nfor line in fileinput.input():\n    matches = re.match(pattern, line)\n    if matches:\n        ip, username, password = matches.groups()\n        print ip, username, password\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 27812835, "answer_count": 2, "score": -1, "last_activity_date": 1420608310, "creation_date": 1420606771, "last_edit_date": 1420608050, "question_id": 27812668, "link": "https://stackoverflow.com/questions/27812668/perl-to-python-transition", "title": "perl to python transition", "body": "<p>I am trying to parse the flie while has a following format:</p>\n\n<pre><code>file.txt\n10.202.34.35 username password\n10.202.34.36 username password\n</code></pre>\n\n<p>In perl, I can do it using a regex such as </p>\n\n<pre><code>m/^(\\d{1-3}.\\d{1-3}.\\d{1-3}.\\d{1-3})\\s(\\w+)\\s(\\w+)/ then $ip = $1; $username = $2; $password = $3\n</code></pre>\n\n<p>How can I replicate this in python? Thanks in advance.</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1420590994, "post_id": 27809615, "comment_id": 44028268, "body": "presumably running the script with everything <i>but</i> the DateTime portion removed still uses increasing memory?  show us the shortest actual runnable code (and sample data) that reproduce the problem.  The solution is likely to be something simple, but without seeing your code there&#39;s no way to tell what it is."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1420591614, "post_id": 27809615, "comment_id": 44028427, "body": "Please include your source code in the question.  Please see <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>, <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 33, "user_id": 4425942, "user_type": "registered", "profile_image": "https://graph.facebook.com/771029821/picture?type=large", "display_name": "David Nicholas Kayal", "link": "https://stackoverflow.com/users/4425942/david-nicholas-kayal"}, "edited": false, "score": 0, "creation_date": 1420593200, "post_id": 27809615, "comment_id": 44028764, "body": "I will write some code to reproduce the issue.  I should state for ysth that running the code without the DateTime portions does not cause the memory issue, it is only when the DateTime usage is in effect that the problem shows up."}, {"owner": {"reputation": 3022, "user_id": 70189, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f747167ba14ffc26881f6fe57c2a3f94?s=128&d=identicon&r=PG", "display_name": "Myforwik", "link": "https://stackoverflow.com/users/70189/myforwik"}, "edited": false, "score": 1, "creation_date": 1420600367, "post_id": 27809615, "comment_id": 44030506, "body": "Some version of DateTime use an old version ParamsValidate, which causes the memory leak. Make sure you have up to date DateTime. Test if this cause a memory leak: use strict; use warnings;  use DateTime;  while (1) { DateTime-&gt;now }"}, {"owner": {"reputation": 33, "user_id": 4425942, "user_type": "registered", "profile_image": "https://graph.facebook.com/771029821/picture?type=large", "display_name": "David Nicholas Kayal", "link": "https://stackoverflow.com/users/4425942/david-nicholas-kayal"}, "reply_to_user": {"reputation": 3022, "user_id": 70189, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f747167ba14ffc26881f6fe57c2a3f94?s=128&d=identicon&r=PG", "display_name": "Myforwik", "link": "https://stackoverflow.com/users/70189/myforwik"}, "edited": false, "score": 0, "creation_date": 1420607749, "post_id": 27809615, "comment_id": 44032975, "body": "@Myforwik,  Thank you for the response and test.  I am running it but do not see a memory leak."}, {"owner": {"reputation": 33, "user_id": 4425942, "user_type": "registered", "profile_image": "https://graph.facebook.com/771029821/picture?type=large", "display_name": "David Nicholas Kayal", "link": "https://stackoverflow.com/users/4425942/david-nicholas-kayal"}, "edited": false, "score": 0, "creation_date": 1420607905, "post_id": 27809615, "comment_id": 44033013, "body": "<code>#!&#47;usr&#47;bin&#47;perl -w  use strict; use DateTime;  my $month = 1; my $day = 6; my $hour = 20; my $minute = 30; my $second = 00;  for( my $count = 0; $count &lt;= 25000000; $count++ ) {   my $epoch = &amp;get_epoch( $month, $day, $hour, $minute, $second ); }  sub get_epoch {   my $mon = shift;   my $day = shift;   my $hour = shift;   my $min = shift;   my $sec = shift;   my $temp_dt = DateTime-&gt;new(     year =&gt; 2015,     month =&gt; $mon,     day =&gt; $day,     hour =&gt; $hour,     minute =&gt; $min,     second =&gt; $sec,     nanosecond =&gt; 500000000,     time_zone  =&gt; &#39;UTC&#39;   );   return( $temp_dt-&gt;epoch ); }</code>"}, {"owner": {"reputation": 33, "user_id": 4425942, "user_type": "registered", "profile_image": "https://graph.facebook.com/771029821/picture?type=large", "display_name": "David Nicholas Kayal", "link": "https://stackoverflow.com/users/4425942/david-nicholas-kayal"}, "edited": false, "score": 0, "creation_date": 1420607993, "post_id": 27809615, "comment_id": 44033036, "body": "the above produces the memory leak."}, {"owner": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 0, "creation_date": 1420638993, "post_id": 27809615, "comment_id": 44047686, "body": "Put that in a pastebin and link it"}, {"owner": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 0, "creation_date": 1420639247, "post_id": 27809615, "comment_id": 44047842, "body": "Can&#39;t see any circular references, so if that example up in your post leaks then you&#39;ve found a definite bug. Check you&#39;ve got the most up to date version of the module and then file a bug report"}, {"owner": {"reputation": 33, "user_id": 4425942, "user_type": "registered", "profile_image": "https://graph.facebook.com/771029821/picture?type=large", "display_name": "David Nicholas Kayal", "link": "https://stackoverflow.com/users/4425942/david-nicholas-kayal"}, "reply_to_user": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 0, "creation_date": 1420651372, "post_id": 27809615, "comment_id": 44055772, "body": "@PeterR  ~/bin# perl -MDateTime -e &#39;print &quot;$DateTime::VERSION\\n&quot;&#39;   1.18      Looks to be the current version."}, {"owner": {"reputation": 33, "user_id": 4425942, "user_type": "registered", "profile_image": "https://graph.facebook.com/771029821/picture?type=large", "display_name": "David Nicholas Kayal", "link": "https://stackoverflow.com/users/4425942/david-nicholas-kayal"}, "edited": false, "score": 0, "creation_date": 1420651893, "post_id": 27809615, "comment_id": 44056078, "body": "I filed a bug through CPAN."}, {"owner": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 0, "creation_date": 1420663204, "post_id": 27809615, "comment_id": 44062376, "body": "And you&#39;ve got your answer direct from the maintainer below"}], "answers": [{"tags": [], "owner": {"reputation": 4424, "user_id": 9832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0051ccbf2115f581f5da62fb56c219?s=128&d=identicon&r=PG", "display_name": "Dave Rolsky", "link": "https://stackoverflow.com/users/9832/dave-rolsky"}, "is_accepted": true, "score": 3, "last_activity_date": 1420661437, "creation_date": 1420661437, "answer_id": 27827811, "question_id": 27809615, "link": "https://stackoverflow.com/questions/27809615/running-into-a-memory-error-using-perl-and-datetime/27827811#27827811", "title": "Running into a memory error using Perl and DateTime", "body": "<p>This is a bug in Params::Validate 1.15 and will be fixed very soon.</p>\n"}], "owner": {"reputation": 33, "user_id": 4425942, "user_type": "registered", "profile_image": "https://graph.facebook.com/771029821/picture?type=large", "display_name": "David Nicholas Kayal", "link": "https://stackoverflow.com/users/4425942/david-nicholas-kayal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 1, "accepted_answer_id": 27827811, "answer_count": 1, "score": 2, "last_activity_date": 1420661437, "creation_date": 1420590560, "last_edit_date": 1420615955, "question_id": 27809615, "link": "https://stackoverflow.com/questions/27809615/running-into-a-memory-error-using-perl-and-datetime", "title": "Running into a memory error using Perl and DateTime", "body": "<p>I am writing a small tool to parse some application logs for to collect data that is going to be used as the inputs for Zabbix monitoring. I am just wanting to keep data from the logs that are within the past two hours.</p>\n\n<p>The format of the logs is pretty simple, the fields are separated by white space and the first three fields are used to determine the time when the logging was written.</p>\n\n<p>Here is an example of the first three fields of a log line:</p>\n\n<p>Jan 5 13:42:07</p>\n\n<p>What I set out to do was to utilize one of my favorite modules, DateTime. Where I convert the above into a DateTime object and then compare that object to another DateTime object when the utility would be invoked.</p>\n\n<p>Everything was fine an dandy and working nicely until I actually set the utility against the a portion of the logs it would actually be parsing -- only a couple gigabytes in size. The test run was being done on a kitchen invoked Ubuntu virtual box instance on my laptop, so the resources are -- as expected -- rather limited. The script would halt with the words 'Killed' displayed.</p>\n\n<p>Looking into /var/log/messages I would see log lines describing the process being killed due to resource issues.</p>\n\n<p>When I invoked the process again, and then switching to another screen instance to watch top, I noticed that the memory percentage would grow, that swap space would being to be consumed all until the script would again stop with the 'Killed' message.</p>\n\n<p>When I would rerun the script with the DateTime portion commented out, the script would execute as expected.</p>\n\n<p>In the script I have a subroutine which would be called to create a DateTime object based upon the information found in the first three fields of the log line. I have tried where I create the object at the beginning of the subroutine then undef it prior to returning a value at the end of the subroutine, I have tried it where I create a global object ( using our ) and then use the DateTime set_* methods to modify what I thought would be a single object's values.</p>\n\n<p>I have read that perl does not clean up hash memory so that it can be reused by the program--I feel that this is the base of the issue that I am running into.</p>\n\n<p>At this point, I am feel the need to get input of others and that is the reason for this post. All comments and criticisms would be appreciated.</p>\n\n<p>This utility was running on Perl v5.14.2.</p>\n\n<p>This code produces the memory leak:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse DateTime;\n\nmy $month  = 1;\nmy $day    = 6;\nmy $hour   = 20;\nmy $minute = 30;\nmy $second = 00;\n\nfor (my $count = 0; $count &lt;= 25_000_000; $count++) {\n    my $epoch = &amp;get_epoch( $month, $day, $hour, $minute, $second );\n}\n\nsub get_epoch {\n    my $mon = shift;\n    my $day     = shift;\n    my $hour    = shift;\n    my $min     = shift;\n    my $sec     = shift;\n\n    my $temp_dt = DateTime-&gt;new(\n        year       =&gt; 2015,\n        month      =&gt; $mon,\n        day        =&gt; $day,\n        hour       =&gt; $hour,\n        minute     =&gt; $min,\n        second     =&gt; $sec,\n        nanosecond =&gt; 500_000_000,\n        time_zone  =&gt; 'UTC',\n    );\n\n    return( $temp_dt-&gt;epoch );\n}\n</code></pre>\n"}, {"tags": ["perl", "module", "initialization", "local-variables"], "comments": [{"owner": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "edited": false, "score": 0, "creation_date": 1420580592, "post_id": 27807557, "comment_id": 44024405, "body": "I tried removing the declaration &quot;my %h;&quot; from the second example, and the code still compiled and worked! This means that %h and %Test::h are two different variables. I am assuming that %Test::h inside the BEGIN block in the 2nd example is auto-declared by Perl, <i>even though</i> use strict is requested."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1420580599, "post_id": 27807557, "comment_id": 44024408, "body": "<code>Test::h</code> and <code>my %h</code> are totally different variables. You should be getting a warning similar to this <code>Name &quot;Test::h&quot; used only once: possible typo at test.pl line 25.</code> with your first example. Are you not seeing that? Note: this works fine with <code>our</code> because <code>our %h = ....</code> is an alias for <code>%Test::h = ...</code>."}, {"owner": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1420736686, "post_id": 27807557, "comment_id": 44095106, "body": "In the first example I get a warning: Use of uninitialized value within %Test::h in concatenation (.) or string at Test.pm line 30. In the second example I get no warnings, even though I have not declared Test::h using my, our or state."}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1420583080, "post_id": 27807890, "comment_id": 44025544, "body": "Might want to explain what lexical scoping is.  I usually say its a variable that exists only within its block (and any nested blocks) and nowhere else.  There&#39;s an implied block around the whole file."}, {"owner": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "edited": false, "score": 0, "creation_date": 1420737801, "post_id": 27807890, "comment_id": 44095800, "body": "So, now I have another issue. I declared &quot;my %h = ();&quot; before then BEGIN block. Then I added a value to the hash inside the BEGIN block (BEGIN { $h{&quot;1&quot;} = &quot;one&quot;; }). Then I print $h{&quot;1&quot;} from within the test function, and I get error: Use of uninitialized value within %h in concatenation (.) or string at /tmp/Test.pm line 31."}, {"owner": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "edited": false, "score": 0, "creation_date": 1420738055, "post_id": 27807890, "comment_id": 44095934, "body": "Regarding my previous comment, if instead I declare my %h before the BEGIN block, and then do BEGIN { %h = ( &quot;1&quot; =&gt; &quot;one&quot; ); }, it works fine."}, {"owner": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "edited": false, "score": 0, "creation_date": 1420739517, "post_id": 27807890, "comment_id": 44096702, "body": "And to make this even more confusing, if I declare my %h before the BEGIN block (instead of my %h = ();), and then do $h{&quot;1&quot;} = &quot;one&quot;; inside the BEGIN block, it works! So initializing the hash outside of the BEGIN block has some weird side-effect that I do not understand."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "edited": false, "score": 1, "creation_date": 1420746351, "post_id": 27807890, "comment_id": 44100336, "body": "@kounoupis, okay.  If <a href=\"http://perldoc.perl.org/perlfaq7.html#What&#39;s-the-difference-between-dynamic-and-lexical-%28static%29-scoping%3f-Between-local%28%29-and-my%28%29%3f\" rel=\"nofollow noreferrer\">this entry from <i>perlfaq7</i></a> doesn&#39;t help, you need to find a good perl scoping tutorial.  Maybe ask <a href=\"http://www.perlmonks.org/\" rel=\"nofollow noreferrer\">the venerable monks</a>"}, {"owner": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "edited": false, "score": 0, "creation_date": 1420837098, "post_id": 27807890, "comment_id": 44140623, "body": "The answer to my comment is that the BEGIN block is executed before everything else, and the subsequent declaration of &quot;my %h = ();&quot; obliterates the hash already initialized within BEGIN earlier. I don&#39;t think this has to do with scoping. Maybe what I am asking in the comment is unclear."}], "tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": true, "score": 4, "last_activity_date": 1420584254, "last_edit_date": 1495540252, "creation_date": 1420581418, "answer_id": 27807890, "question_id": 27807557, "link": "https://stackoverflow.com/questions/27807557/local-hash-initialization-in-perl-module-results-in-empty-hash/27807890#27807890", "title": "Local hash initialization in perl module results in empty hash", "body": "<p><a href=\"http://perldoc.perl.org/functions/our.html\" rel=\"nofollow noreferrer\"><code>our</code></a> makes a <em>lexical</em> alias to a <em>dynamically scoped package variable</em>, the kind that can be referenced by a $Fully::Qualified::name.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\"><code>my</code></a> makes a <em>lexically scoped</em> variable, the kind that can be referenced just by $name.</p>\n\n<p>Drawing from <a href=\"https://stackoverflow.com/users/14660/schwern\">@Schwern</a>'s comment, by \"lexical\" we mean limited to the enclosing block and any subsequent nested blocks, but <em>not</em> visible inside other blocks (e.g., an elsewhere-defined subroutine called from within the block that declares <code>my $lexical_var</code> cannot see that variable).</p>\n\n<p>So, in your code, <code>my %h</code> is a variable lexically scoped to the implicit block of its enclosing file (Test.pm?).  <code>our %h</code>, on the other hand, is a lexical <em>alias</em> to a completely different variable, specifically to a package (global) variable whose fully qualified name is <code>%Test::h</code>.  In both examples your <code>sub test</code> queries the package variable by its fully qualified name.  But only in the second example do you assign any values to that variable.</p>\n\n<p>(You didn't ask about it specifically, but <a href=\"http://perldoc.perl.org/functions/local.html\" rel=\"nofollow noreferrer\"><code>local</code></a> dynamically scopes the given package variable to the enclosing file, block, or eval.  You use the adjective \"local\" a few times in your post in a way that's inconsistent with what it means as a perl keyword.)</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1420582660, "post_id": 27808058, "comment_id": 44025339, "body": "I downvoted because this doesn&#39;t answer the problems the OP is having.  They&#39;ve misunderstood lexical vs global variables, a very important and basic thing to know in Perl.  Telling them to use objects isn&#39;t going to fix that and is likely to cause more confusion.  And 5.14.2 is only 3 years old and hardly relevant to the question.  Everything in your answer has been available since Perl 5.0."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1420586707, "post_id": 27808058, "comment_id": 44026979, "body": "I think you&#39;re misunderstanding <code>use 5.014002</code>, which refers to Perl 5.14.2, not Perl 5.0.1 or something like that. See the <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">documentation</a> for <code>use</code>: &quot;In the peculiar <code>use VERSION</code> form, <code>VERSION</code> may be...a positive decimal fraction such as 5.006, which will be compared to <code>$]</code>&quot; According to <a href=\"http://perldoc.perl.org/perlvar.html#%24%5D\" rel=\"nofollow noreferrer\"><code>perldoc perlvar</code></a>, <code>$]</code> is &quot;The version + patchlevel / 1000 of the Perl interpreter.&quot;"}], "tags": [], "owner": {"reputation": 740, "user_id": 3622250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SkFyQ.png?s=128&g=1", "display_name": "terary", "link": "https://stackoverflow.com/users/3622250/terary"}, "is_accepted": false, "score": -4, "last_activity_date": 1420582887, "last_edit_date": 1420582887, "creation_date": 1420582069, "answer_id": 27808058, "question_id": 27807557, "link": "https://stackoverflow.com/questions/27807557/local-hash-initialization-in-perl-module-results-in-empty-hash/27808058#27808058", "title": "Local hash initialization in perl module results in empty hash", "body": "<p>Ouch - what are you trying to do?\nIs there a reason for this 'use 5.014002;'?\nI mean it is cool if you trying for some old school stuff - I just got criticized on this site for doing old school perl.  But if you're learning maybe you want to do new stuff? </p>\n\n<p>The OO perl I do with packages and such are below. \nAnyway.</p>\n\n<pre><code>package myModule;\n\nsub new\n{\n   $class = shift;\n   my $self = {};\n   bless $self, $class;\n\n   return $self;\n}\n\nsub someMethod\n{\n   my $self = shift;\n   $self-&gt;{some} = \"value\";\n\n   return $self;\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 865594, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac5ecda8fd183c8863295ae728ef03fc?s=128&d=identicon&r=PG", "display_name": "kounoupis", "link": "https://stackoverflow.com/users/865594/kounoupis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 27807890, "answer_count": 2, "score": 4, "last_activity_date": 1420584254, "creation_date": 1420580071, "question_id": 27807557, "link": "https://stackoverflow.com/questions/27807557/local-hash-initialization-in-perl-module-results-in-empty-hash", "title": "Local hash initialization in perl module results in empty hash", "body": "<p>When I initialize a local hash (using \"my\") in a perl module, the hash appears to be empty from within module functions.</p>\n\n<p>Here is the perl module code:</p>\n\n<pre><code>package Test;\n\nuse 5.014002;\nuse strict;\nuse warnings;\nuse Exporter qw(import);\n\nour %EXPORT_TAGS = (\n    'all' =&gt; [ qw(test) ]\n);\n\nour @EXPORT_OK = ( @{ $EXPORT_TAGS{'all'} } );\n\nour @EXPORT = qw(\n\n);\n\nour $VERSION = '0.01';\n\nmy %h = ( \"1\" =&gt; \"one\" );\n\nBEGIN\n{\n}\n\nsub test\n{\n    my $a = shift;\n    print $Test::h{$a} . \"\\n\";\n}\n\n1;\n__END__\n</code></pre>\n\n<p>Here, test sees an empty hash.</p>\n\n<p>If instead I declare the hash first, but initialize it within BEGIN, then it works fine. Here is the modified code:</p>\n\n<pre><code>package Test;\n\nuse 5.014002;\nuse strict;\nuse warnings;\nuse Exporter qw('import');\n\nour %EXPORT_TAGS = (\n    'all' =&gt; [ qw(test) ]\n);\n\nour @EXPORT_OK = ( @{ $EXPORT_TAGS{'all'} } );\n\nour @EXPORT = qw(\n\n);\n\nour $VERSION = '0.01';\n\nmy %h;\n\nBEGIN\n{\n    %Test::h = ( \"1\" =&gt; \"one\" );\n}\n\nsub test\n{\n    my $a = shift;\n    print $Test::h{$a} . \"\\n\";\n}\n\n1;\n__END__\n</code></pre>\n\n<p>Additionally, if I declare the hash using \"our\" instead, then it works fine in both cases.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["perl", "mason"], "comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 1, "creation_date": 1420585552, "post_id": 27806684, "comment_id": 44026555, "body": "Could please the down-voter tell me what is wrong with the question?"}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 2334574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DD11P.jpg?s=128&g=1", "display_name": "Dave Baird", "link": "https://stackoverflow.com/users/2334574/dave-baird"}, "is_accepted": false, "score": 2, "last_activity_date": 1452642084, "creation_date": 1452642084, "answer_id": 34755867, "question_id": 27806684, "link": "https://stackoverflow.com/questions/27806684/mason2-wrong-utf8-encoding-with-the-go-method/34755867#34755867", "title": "Mason2 wrong utf8 encoding with the &quot;go&quot; method", "body": "<p>I've been working on a plugin for Mason to deal with encoding. <code>$result-&gt;output</code> is the wrong place to encode output, because <code>visit</code> will run a subrequest, encoding its own content at the end, before returning to the original component, which then re-encodes everything when it completes. So the content in the <code>visit</code> gets encoded twice. I'm surprised you are having a problem with <code>go</code>, because that discards all previous content and starts again, which should be OK. </p>\n\n<p>Have a look at <a href=\"https://github.com/davebaird/mason-plugin-withencoding\" rel=\"nofollow\">https://github.com/davebaird/mason-plugin-withencoding</a></p>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1452642084, "creation_date": 1420576111, "last_edit_date": 1495540233, "question_id": 27806684, "link": "https://stackoverflow.com/questions/27806684/mason2-wrong-utf8-encoding-with-the-go-method", "title": "Mason2 wrong utf8 encoding with the &quot;go&quot; method", "body": "<p>Bit long question, because AFAIK Poet/Mason2 isn't the very often used framework - so I'm trying to be detailed.</p>\n\n<p>Two years ago I <a href=\"https://stackoverflow.com/questions/5858596/how-to-make-mason2-utf-8-clean\">asked a question</a> how to make Mason2 utf8 clean. As far as i know, here isn't much new in Mason/Poet in this field - and unfortunately today I meet <strong>another problem</strong>. Simple test case:</p>\n\n<pre><code>$ poet new my   #create new poet application\n$ cd my\n</code></pre>\n\n<p>Override some methods, allowing to use utf8 in the components:</p>\n\n<p>add to <code>./lib/My/Mason/Compilation.pm</code></p>\n\n<pre><code>override 'output_class_header' =&gt; sub {\n    return join(\"\\n\",\n        super(), qq(\n            use utf8;\n            use Encode qw(encode decode);\n        )\n    );\n};\n</code></pre>\n\n<p>The above adds to each compiled Mason component the <code>use utf8...</code>.</p>\n\n<p>Also need encode the output from Mason (Plack need bytes), so in: <code>./lib/My/Mason/Request.pm</code></p>\n\n<pre><code>override 'run' =&gt; sub {\n    my($self, $path, $args) = @_;\n    my $result = super();\n    $result-&gt;output( Encode::encode('UTF-8', $result-&gt;output()) );\n    return $result;\n};\n</code></pre>\n\n<p>Now, can create a component such <code>page.mc</code> for example with a content:</p>\n\n<pre><code>% sub { uc($_[0]) } {{\na quick brown fox jumps over the lazy dog.\n\u03b4\u03b9\u03b1\u03c6\u03c5\u03bb\u03ac\u03be\u03c4\u03b5 \u03b3\u03b5\u03bd\u03b9\u03ba\u03ac \u03c4\u03b7 \u03b6\u03c9\u03ae \u03c3\u03b1\u03c2 \u03b1\u03c0\u03cc \u03b2\u03b1\u03b8\u03b5\u03b9\u03ac \u03c8\u03c5\u03c7\u03b9\u03ba\u03ac \u03c4\u03c1\u03b1\u03cd\u03bc\u03b1\u03c4\u03b1.\n\u00e1rv\u00edzt\u0171r\u0151 t\u00fck\u00f6rf\u00far\u00f3g\u00e9p.\ndo\u015b\u0107 gr\u00f3\u017ab fuzj\u0105, kln\u0119, pych i ma\u0142\u017ce\u0144stw!\n\u044d\u0445, \u0447\u0443\u0436\u0430\u043a, \u043e\u0431\u0449\u0438\u0439 \u0441\u044a\u0451\u043c \u0446\u0435\u043d \u0448\u043b\u044f\u043f (\u044e\u0444\u0442\u044c) \u2013 \u0432\u0434\u0440\u044b\u0437\u0433!\nk\u0155de\u013e \u0161\u0165astn\u00fdch \u010fat\u013eov u\u010d\u00ed pri \u00fast\u00ed v\u00e1hu m\u013akveho ko\u0148a obhr\u00fdza\u0165 k\u00f4ru a \u017era\u0165 \u010derstv\u00e9 m\u00e4so.\nzw\u00f6lf boxk\u00e4mpfer jagen viktor quer \u00fcber den gro\u00dfen sylter deich.\n% }}\n</code></pre>\n\n<p>After running a poet app <code>bin/run.pl</code> you can go to: <code>http://0:5000/page</code> and will get a correct content. </p>\n\n<blockquote>\n  <p>A QUICK BROWN FOX JUMPS OVER THE LAZY DOG. \u0394\u0399\u0391\u03a6\u03a5\u039b\u0386\u039e\u03a4\u0395 \u0393\u0395\u039d\u0399\u039a\u0386 \u03a4\u0397 \u0396\u03a9\u0389\n  \u03a3\u0391\u03a3 \u0391\u03a0\u038c \u0392\u0391\u0398\u0395\u0399\u0386 \u03a8\u03a5\u03a7\u0399\u039a\u0386 \u03a4\u03a1\u0391\u038e\u039c\u0391\u03a4\u0391. \u00c1RV\u00cdZT\u0170R\u0150 T\u00dcK\u00d6RF\u00daR\u00d3G\u00c9P. DO\u015a\u0106 GR\u00d3\u0179B\n  FUZJ\u0104, KLN\u0118, PYCH I MA\u0141\u017bE\u0143STW! \u042d\u0425, \u0427\u0423\u0416\u0410\u041a, \u041e\u0411\u0429\u0418\u0419 \u0421\u042a\u0401\u041c \u0426\u0415\u041d \u0428\u041b\u042f\u041f (\u042e\u0424\u0422\u042c) \u2013\n  \u0412\u0414\u0420\u042b\u0417\u0413! K\u0154DE\u013d \u0160\u0164ASTN\u00ddCH \u010eAT\u013dOV U\u010c\u00cd PRI \u00daST\u00cd V\u00c1HU M\u0139KVEHO KO\u0147A OBHR\u00ddZA\u0164\n  K\u00d4RU A \u017dRA\u0164 \u010cERSTV\u00c9 M\u00c4SO. ZW\u00d6LF BOXK\u00c4MPFER JAGEN VIKTOR QUER \u00dcBER DEN\n  GROSSEN SYLTER DEICH.</p>\n</blockquote>\n\n<p>But when create another component, say <code>go.mc</code> with a content</p>\n\n<pre><code>% $m-&gt;go('/page');\n</code></pre>\n\n<p>the internal redirect (the <code>go</code> method) somewhat mess up the content and will produce:</p>\n\n<blockquote>\n  <p>A QUICK BROWN FOX JUMPS OVER THE LAZY DOG. \u00ce\u00ce\u00ce\u00ce\u00a6\u00ce\u00a5\u00ce\u00ce\u00ce\u00ce\u00a4\u00ce\n  \u00ce\u00ce\u00ce\u00ce\u00ce\u00ce \u00ce\u00a4\u00ce \u00ce\u00ce\u00a9\u00ce \u00ce\u00a3\u00ce\u00ce\u00a3 \u00ce\u00ce \u00ce \u00ce\u00ce\u00ce\u00ce\u00ce\u00ce \u00ce\u00a8\u00ce\u00a5\u00ce\u00a7\u00ce\u00ce\u00ce\n  \u00ce\u00a4\u00ce\u00a1\u00ce\u00ce\u00ce\u00ce\u00ce\u00a4\u00ce. \u00c3RV\u00c3ZT\u00c5\u00b0R\u00c5 T\u00c3K\u00c3RF\u00c3R\u00c3G\u00c3P. DO\u00c5\u00c4 GR\u00c3\u00c5\u00b9B\n  FUZJ\u00c4, KLN\u00c4, PYCH I MA\u00c5\u00c5\u00bbE\u00c5STW! \u00d0\u00ad\u00d0\u00a5, \u00d0\u00a7\u00d0\u00a3\u00d0\u00d0\u00d0, \u00d0\u00d0\u00d0\u00a9\u00d0\u00d0\n  \u00d0\u00a1\u00d0\u00aa\u00d0\u00d0 \u00d0\u00a6\u00d0\u00d0 \u00d0\u00a8\u00d0\u00d0\u00af\u00d0 (\u00d0\u00ae\u00d0\u00a4\u00d0\u00a2\u00d0\u00ac) \u00e2 \u00d0\u00d0\u00d0 \u00d0\u00ab\u00d0\u00d0! K\u00c5DE\u00c4\u00bd \u00c5\n  \u00c5\u00a4ASTN\u00c3CH \u00c4AT\u00c4\u00bdOV U\u00c4\u00c3 PRI \u00c3ST\u00c3 V\u00c3HU M\u00c4\u00b9KVEHO KO\u00c5A OBHR\u00c3ZA\u00c5\u00a4\n  K\u00c3RU A \u00c5\u00bdRA\u00c5\u00a4 \u00c4ERSTV\u00c3 M\u00c3SO. ZW\u00c3LF BOXK\u00c3MPFER JAGEN VIKTOR QUER\n  \u00c3BER DEN GROSSEN SYLTER DEICH.</p>\n</blockquote>\n\n<p>Strange, the <code>$m-&gt;visit()</code> works correctly. So, somewhere in Poet/Mason is need do something to get correct output for the <code>go</code> method.</p>\n\n<p>Could anyone help?</p>\n"}, {"tags": ["perl", "ldap", "ldap-query"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "is_accepted": true, "score": 0, "last_activity_date": 1420575078, "last_edit_date": 1420575078, "creation_date": 1420572639, "answer_id": 27805807, "question_id": 27805403, "link": "https://stackoverflow.com/questions/27805403/how-to-add-an-attribute-to-the-result-of-the-ldap-search-in-perl/27805807#27805807", "title": "How to add an attribute to the result of the LDAP search in perl", "body": "<p>I assume the entry is an <a href=\"http://search.cpan.org/~marschap/perl-ldap-0.64/lib/Net/LDAP/Entry.pod\" rel=\"nofollow\">Net::LDAP::Entry</a> object?  If so, you should be able to add an attribute by calling \"add\":</p>\n\n<pre><code>$entry-&gt;add( 'o' =&gt; 'new value' );\n</code></pre>\n\n<p>So your example would look like this:</p>\n\n<pre><code>if($entry-&gt;exists('o')){\n      func($entry);//this funtion manipulates the entry\n}\nelse{\n      $entry-&gt;add( 'o' =&gt; 'new value' );\n      func($entry);\n}\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 1643384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fccecc726a3d5169797dba361dbeed65?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/1643384/arun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 27805807, "answer_count": 1, "score": 0, "last_activity_date": 1420575078, "creation_date": 1420571074, "question_id": 27805403, "link": "https://stackoverflow.com/questions/27805403/how-to-add-an-attribute-to-the-result-of-the-ldap-search-in-perl", "title": "How to add an attribute to the result of the LDAP search in perl", "body": "<p>I do an LDAP search and as a result of it i get entries.</p>\n\n<p>In some of the entries an attribute is missing(say atrribute \"o\").</p>\n\n<p>I need to add this \"o\" attribute to the entries which is missing it.</p>\n\n<p>Note: I do not need to update this value to the LDAP Server. I just need to add this attribute \"o\" along with a value in the resultant variable which i have as a search result.</p>\n\n<p>I have the below code:</p>\n\n<pre><code> if($entry-&gt;exists('o')){\n      func($entry);//this funtion manipulates the entry\n }\n else{\n      # I need the code here to add the \"o\" attribute and a value to the $entry\n      func($entry);\n }\n</code></pre>\n\n<p>How to add this attribute \"o\" to the variable?</p>\n"}, {"tags": ["perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1420621936, "post_id": 27805661, "comment_id": 44038025, "body": "@vicas: <a href=\"https://metacpan.org/pod/XML::Twig#XML::Twig\" rel=\"nofollow noreferrer\">in the docs</a> there also is an example where you only would need one <code>children</code> call, but I didn&#39;t get it to work. (it would be something like <code>$a-&gt;children(&#39;b[@attr_1=&quot;3&quot;]&#47;c[@attr_2= &quot;10&quot; and @attr_3= &quot;10&quot;]&#39;)</code>)"}], "tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": true, "score": 2, "last_activity_date": 1420573502, "last_edit_date": 1420573502, "creation_date": 1420572006, "answer_id": 27805661, "question_id": 27805074, "link": "https://stackoverflow.com/questions/27805074/xmltwig-to-filter-xml-parent-nodes-in-perl/27805661#27805661", "title": "XML::twig to filter XML parent nodes in PERL", "body": "<p>You had some errors in your XML-file. Also you seem to have deleted some parts of your description. You can also set some attribute restrictions to handlers and the <code>*child</code> methods.</p>\n\n<pre><code>sub a {\n\n  my ( $twig, $a ) = @_ ;\n  my $cut = 1;\n\n  foreach my $b ($a-&gt;children('b[@attr_1=\"3\"]')){\n    $cut &amp;&amp;= not grep {$_-&gt;att('attr_2') eq '10'\n                   and $_-&gt;att('attr_3') eq '10'} $b-&gt;children('c');\n  }\n\n\n  $a-&gt;cut if $cut;\n}\n</code></pre>\n\n<p>This is the file I used for testing:</p>\n\n<pre><code>&lt;head&gt;\n&lt;a&gt;\n   &lt;b  attr_1=\"1\" /&gt;\n   &lt;b  attr_1=\"2\"&gt;\n     &lt;c  attr_2 =\"3\"  attr_3 =\"5\"/&gt;\n     &lt;c  attr_2 =\"4\"  attr_3 =\"6\" /&gt;\n  &lt;/b&gt;\n&lt;/a&gt;\n&lt;a&gt;\n   &lt;b  attr_1=\"1\"/&gt;\n   &lt;b  attr_1=\"3\"&gt;\n     &lt;c  attr_2 =\"3\"  attr_3 =\"5\"/&gt;\n     &lt;c  attr_2 =\"10\"  attr_3 =\"10\" /&gt;\n   &lt;/b&gt;\n &lt;/a&gt;\n&lt;a&gt;\n   &lt;b  attr_1=\"1\"/&gt;\n   &lt;b  attr_1=\"3\"&gt;\n     &lt;c  attr_2 =\"3\"  attr_3 =\"5\"/&gt;\n     &lt;c  attr_2 =\"10\"  attr_3 =\"12\" /&gt;\n   &lt;/b&gt;\n &lt;/a&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>&lt;head&gt;\n  &lt;a&gt;\n    &lt;b attr_1=\"1\"/&gt;\n    &lt;b attr_1=\"3\"&gt;\n      &lt;c attr_2=\"3\" attr_3=\"5\"/&gt;\n      &lt;c attr_2=\"10\" attr_3=\"10\"/&gt;\n    &lt;/b&gt;\n  &lt;/a&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> If you really want to have only <code>grep</code> statements you could use some nested greps like this, though I'd advice you to use the above, more readable solution.</p>\n\n<pre><code>$a-&gt;cut unless\n  grep {grep {$_-&gt;att('attr_2') eq '10' and $_-&gt;att('attr_3') eq '10'}\n    $_-&gt;children('c')} $a-&gt;children('b[@attr_1=\"3\"]');\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 27805661, "answer_count": 1, "score": -3, "last_activity_date": 1420576592, "creation_date": 1420569833, "last_edit_date": 1420576592, "question_id": 27805074, "link": "https://stackoverflow.com/questions/27805074/xmltwig-to-filter-xml-parent-nodes-in-perl", "title": "XML::twig to filter XML parent nodes in PERL", "body": "<p>I have a xml snippet</p>\n\n<pre><code>&lt;head&gt;\n &lt;a&gt;\n   &lt;b  attr_1=1&gt;\n   &lt;b  attr_1=2&gt;\n     &lt;c  attr_2 =3  attr_3 =5/&gt;\n     &lt;c  attr_2 =4  attr_3 =6 /&gt;\n  &lt;/b&gt;\n &lt;/a&gt;\n&lt;a&gt;\n   &lt;b  attr_1=1/&gt;\n   &lt;b  attr_1=3&gt;\n     &lt;c  attr_2 =3  attr_3 =5/&gt;\n     &lt;c  attr_2 =10  attr_3 =10/ &gt;\n   &lt;/b&gt;\n &lt;/a&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>Now only those  node are legitimate which have <code>&lt;b attr_1 =3&gt;</code>(at least one) and at least one respective child <code>&lt;c&gt;</code> having <code>attr_2=10</code> and <code>attr_3 =10</code> is there.\nThus the ouput file should have following trade</p>\n\n<pre><code>   &lt;a&gt;\n       &lt;b  attr_1=1/&gt;\n       &lt;b  attr_1=3&gt;(this is the legitimate value)\n         &lt;c  attr_2 =3  attr_3 =5/&gt;\n         &lt;c  attr_2 =10  attr_3 =10/ &gt;(this is the legitimate combination)\n       &lt;/b&gt;  \n   &lt;/a&gt;\n</code></pre>\n\n<p>My Code is </p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = new XML::Twig( twig_handlers =&gt; { a=&gt; \\&amp;a} );\n$twig-&gt;parsefile('1511.xml');\n$twig-&gt;set_pretty_print('indented');\n$twig-&gt;print_to_file('out.xml');\n\n    sub a {\n\n        my ( $twig, $a ) = @_ ;\n\n        $a-&gt;cut\n         unless grep { $_-&gt;att( 'attr_1' ) eq '3' } $a-&gt;children( 'b' )\n\n    }\n</code></pre>\n\n<p>By this I am able to go till level . Please help if anybody can  in explaining how to traverse and grep till node C which is inside node B.</p>\n"}, {"tags": ["perl", "csv", "gate"], "answers": [{"comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 0, "creation_date": 1420578236, "post_id": 27804470, "comment_id": 44023215, "body": "Here is several problems in your code, but adding only one comment: did you checked <a href=\"https://metacpan.org/pod/NLP::GATE\" rel=\"nofollow noreferrer\">metacpan.org/pod/NLP::GATE</a> what is <i>Handle GATE documents and annotations</i> ?"}], "tags": [], "owner": {"reputation": 437, "user_id": 4061558, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P4sEj.jpg?s=128&g=1", "display_name": "Chester Mc Allister", "link": "https://stackoverflow.com/users/4061558/chester-mc-allister"}, "is_accepted": false, "score": -1, "last_activity_date": 1420567451, "creation_date": 1420567451, "answer_id": 27804470, "question_id": 27803294, "link": "https://stackoverflow.com/questions/27803294/create-a-gate-document-from-a-csv-file/27804470#27804470", "title": "create a GATE document from a CSV file", "body": "<p>Probably not the easier answer but it works with this perl script:</p>\n\n<pre><code>use strict;\nuse locale;\nuse HTML::Entities;\n\nopen (IN,$ARGV[0])\n    or die \"file doesn't exist ! : $!\\n\";\n\nmy $i = 0;\n\nwhile (my $form = &lt;FICHIER&gt;) {\n\n    if ($form =~ /^((.+)\\t(.+))$/)\n\n    {   \n        my $file = \"tweet_\".$i.\".xml\";\n        # Use the open() function to create the file.\n        unless(open FILE, '&gt;'.$file) {\n        # Die with error message \n        # if we can't open it.\n        die \"nUnable to create $file\";\n        }           \n\n        my $sentence =$2;\n        my $encoded_sent = encode_entities($sentence);\n\n        my $class = $3;\n        my $length_sent = length($sentence);\n\n        ##head xml\n        print FILE \"&lt;?xml version='1.0' encoding='UTF-8'?&gt;\".\"\\n\";\n        print FILE '&lt;GateDocument version=\"3\"&gt;'.\"\\n\";\n        print FILE '&lt;GateDocumentFeatures&gt;'.\"\\n\";\n        print FILE '&lt;Feature&gt;'.\"\\n\";\n        print FILE '&lt;Name className=\"java.lang.String\"&gt;gate.SourceURL&lt;/Name&gt;'.\"\\n\";\n        print FILE '&lt;Value className=\"java.lang.String\"&gt;created from String&lt;/Value&gt;'.\"\\n\";\n        print FILE '&lt;/Feature&gt;'.\"\\n\";\n        print FILE '&lt;/GateDocumentFeatures&gt;'.\"\\n\";\n\n        ##create xml for each line  -- here is the content\n        print FILE '&lt;TextWithNodes&gt;&lt;Node id=\"0\"/&gt;'.$encoded_sent.'&lt;Node id=\"'.$length_sent.'\"/&gt;&lt;/TextWithNodes&gt;'.\"\\n\";\n\n        print FILE '&lt;AnnotationSet Name=\"Key\"&gt;'.\"\\n\";\n        print FILE '&lt;Annotation Id=\"1\" Type=\"Tweet\" StartNode=\"0\" EndNode=\"'.$length_sent.'\"&gt;'.\"\\n\";\n\n        print FILE '&lt;Feature&gt;'.\"\\n\";\n        print FILE '&lt;Name className=\"java.lang.String\"&gt;class&lt;/Name&gt;'.\"\\n\";\n        print FILE '&lt;Value className=\"java.lang.String\"&gt;'.$class.'&lt;/Value&gt;'.\"\\n\";\n        print FILE '&lt;/Feature&gt;'.\"\\n\";\n        print FILE '&lt;/Annotation&gt;'.\"\\n\";\n        print FILE '&lt;/AnnotationSet&gt;'.\"\\n\";\n\n        ##end of the document\n        print FILE '&lt;/GateDocument&gt;'.\"\\n\";\n        $i++;\n    }\n    close FILE;\n}    \nclose IN;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1420608591, "creation_date": 1420608591, "answer_id": 27812971, "question_id": 27803294, "link": "https://stackoverflow.com/questions/27803294/create-a-gate-document-from-a-csv-file/27812971#27812971", "title": "create a GATE document from a CSV file", "body": "<p>Basically you have to deal with CSV and GATE document. If you search on CPAN you'll find modules which can handle these type of documents easily. </p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow\">Text::CSV</a></li>\n<li><a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow\">Text::CSV_XS</a></li>\n<li><a href=\"https://metacpan.org/pod/NLP::GATE::Document\" rel=\"nofollow\">NLP::GATE::Document</a></li>\n</ul>\n\n<p>So you may use Text::CSV to get the text out of CSV file and use <code>setText</code>, <code>setAnnotationSet</code> methods of NLP::GATE::Document module to creat, set text and annotate a GATE document.</p>\n\n<p>Try it out and if you face any problem then ask again with the code you've tried so far to achieve your goal.</p>\n"}], "owner": {"reputation": 437, "user_id": 4061558, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/P4sEj.jpg?s=128&g=1", "display_name": "Chester Mc Allister", "link": "https://stackoverflow.com/users/4061558/chester-mc-allister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 27812971, "answer_count": 2, "score": 2, "last_activity_date": 1420608591, "creation_date": 1420562939, "last_edit_date": 1420567522, "question_id": 27803294, "link": "https://stackoverflow.com/questions/27803294/create-a-gate-document-from-a-csv-file", "title": "create a GATE document from a CSV file", "body": "<p>I need to transform a csv document structured like that:</p>\n\n<pre><code>i love iphone \\t positive\ni hate iphone \\t negative\n</code></pre>\n\n<p>to a gate document which include the related class: </p>\n\n<p><img src=\"https://i.stack.imgur.com/RqvAa.png\" alt=\"enter image description here\"></p>\n\n<p>what is the best way to do that ? jape, groovy ?</p>\n"}, {"tags": ["perl", "cgi", "lwp", "lwp-useragent"], "answers": [{"comments": [{"owner": {"reputation": 787, "user_id": 1845360, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edb8f98e6eac92c7b322f42177ad935e?s=128&d=identicon&r=PG&f=1", "display_name": "user1845360", "link": "https://stackoverflow.com/users/1845360/user1845360"}, "edited": false, "score": 0, "creation_date": 1420562629, "post_id": 27803101, "comment_id": 44015217, "body": "But how should the response from B look like after it has performed the db lookup and found for example that A&#39;s POST request is valid ? If I do the steps you&#39;re describing when B receives the POST and starts looking up the db for the validation A has already received a 200 OK (success)..."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 787, "user_id": 1845360, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edb8f98e6eac92c7b322f42177ad935e?s=128&d=identicon&r=PG&f=1", "display_name": "user1845360", "link": "https://stackoverflow.com/users/1845360/user1845360"}, "edited": false, "score": 1, "creation_date": 1420562669, "post_id": 27803101, "comment_id": 44015232, "body": "The response from B can look however you want. Most webservices these days will output a JSON document."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 787, "user_id": 1845360, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edb8f98e6eac92c7b322f42177ad935e?s=128&d=identicon&r=PG&f=1", "display_name": "user1845360", "link": "https://stackoverflow.com/users/1845360/user1845360"}, "edited": false, "score": 3, "creation_date": 1420562745, "post_id": 27803101, "comment_id": 44015276, "body": "LWP is not asynchronous by default, doing the steps I describe will NOT cause A to return a response until it has read the response from B. It will only do that if you do something to explicitly send a response before A has finished running."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1420562346, "creation_date": 1420562346, "answer_id": 27803101, "question_id": 27802971, "link": "https://stackoverflow.com/questions/27802971/cgi-script-communication/27803101#27803101", "title": "CGI script communication", "body": "<p>You don't need to do anything to make the script wait for a response. LWP is synchronous by default.</p>\n\n<p>Just make the request, and then read <code>$res-&gt;content;</code> (not STDIN!) as normal (see <a href=\"https://metacpan.org/pod/LWP#An-Example\" rel=\"nofollow\">the documentation</a> for an extended example).</p>\n\n<p>You shouldn't be touching STDIN directly at all if you are working with CGI. Ideally you will be using <a href=\"http://plackperl.org/\" rel=\"nofollow\">Plack/PSGI</a> so you will be accessing all input through the Plack API (or a framework built on top of it). If you are working with legacy code, then you will probably be using CGI.pm which provides its own API for reading input (through <code>param</code>).</p>\n\n<hr>\n\n<blockquote>\n  <p>Needless to say I am completely new to to CGI and most answers I have found involve a simple POST or GET request to a CGI script but not a two way communication where one end has to wait for the other to respond after a validation has taken place.</p>\n</blockquote>\n\n<p>You <strong>are</strong> making a simple POST or GET request. </p>\n\n<ol>\n<li>Browser makes request to <code>A.cgi</code></li>\n<li><code>A.cgi</code> makes request to <code>B.cgi</code></li>\n<li><code>B.cgi</code> outputs a response</li>\n<li><code>A.cgi</code> reads that response and does something with it</li>\n<li><code>A.cgi</code> outputs a response</li>\n<li>Browser receives that response</li>\n</ol>\n"}], "owner": {"reputation": 787, "user_id": 1845360, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edb8f98e6eac92c7b322f42177ad935e?s=128&d=identicon&r=PG&f=1", "display_name": "user1845360", "link": "https://stackoverflow.com/users/1845360/user1845360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 27803101, "answer_count": 1, "score": 0, "last_activity_date": 1420562346, "creation_date": 1420561913, "question_id": 27802971, "link": "https://stackoverflow.com/questions/27802971/cgi-script-communication", "title": "CGI script communication", "body": "<p>I have two CGI scripts written in Perl and I want to implement the following communication sequence between the two. Script A sends a POST request to script B, it should then wait for B to perform some type of validation by querying a Database, then B sends success or failure back to A along with a custom code e.g. 1122 specific to my application and A continues execution as appropriate. Is this something that can be achieved using the LWP framework ?</p>\n\n<p>I have tried to send a POST request from A to B and then wait in script A using </p>\n\n<pre><code> while(&lt;STDIN&gt;) {\n     $response .= $_;\n }\n</code></pre>\n\n<p>until it receives an answer back from B (another POST) but this does not work as A simply ignores the SDTIN loop and continues anyway.</p>\n\n<p>Needless to say I am completely new to to CGI and most answers I have found involve a simple POST or GET request to a CGI script but not a two way communication where one end has to wait for the other to respond after a validation has taken place.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1420569215, "post_id": 27802869, "comment_id": 44018869, "body": "Not sure why this was closed as &quot;unclear;&quot; it&#39;s about as clear as a question can get. I could certainly understand downvoting for lack of research effort, but not closing. Voted to reopen."}], "answers": [{"comments": [{"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1420564167, "post_id": 27802973, "comment_id": 44016165, "body": "Why does Perl use <code>$.</code> as the default variable and not <code>$_</code>?"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 1, "creation_date": 1420564982, "post_id": 27802973, "comment_id": 44016617, "body": "@Ren&#233;Nyffenegger $. is not the default variable but the variable to get the number of current line, see <code>perldoc perlvar</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1420565051, "post_id": 27802973, "comment_id": 44016655, "body": "@Ren&#233; From <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>: &quot;If either operand of scalar <code>..</code> is a constant expression, that operand is considered true if it is equal (<code>==</code>) to the current input line number (the <code>$.</code> variable).&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1420565227, "post_id": 27802973, "comment_id": 44016735, "body": "@Ren&#233; Nyffenegger, The only default variable used in that code is <code>$_</code>. (<code>print;</code> defaults to <code>print($_);</code>.) You seem to be asking &quot;why does <code>10</code> mean <code>$. == 10</code> instead of &lt;some unspecified expression that uses <code>$_</code>&gt;?&quot; Because doing <code>print if 10..25;</code> is useful. Perhaps what you had in mind is useful too, but you didn&#39;t mention what it is. Keep in mind that you aren&#39;t prevented from using <code>$_</code> or using operators that default to using <code>$_</code>. (e.g. <code>print if &#47;BEGIN&#47; .. &#47;END&#47;;</code>)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 14, "last_activity_date": 1420561915, "creation_date": 1420561915, "answer_id": 27802973, "question_id": 27802869, "link": "https://stackoverflow.com/questions/27802869/how-can-i-print-the-lines-between-line-numbers-10-and-25/27802973#27802973", "title": "How can I print the lines between line numbers 10 and 25?", "body": "<pre><code>perl -ne'print if 10..25'\n</code></pre>\n\n<p>which is short for</p>\n\n<pre><code>perl -ne'print if $. == 10 .. $. == 25'\n</code></pre>\n\n<p>which is effectively</p>\n\n<pre><code>perl -ne'print if $. &gt;= 10 &amp;&amp; $. &lt; 25'\n</code></pre>\n\n<p>which can be optimized to</p>\n\n<pre><code>perl -ne'\n   next if $. &lt; 10;\n   last if $. &gt; 25;\n   print\n'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420562594, "post_id": 27803156, "comment_id": 44015194, "body": "Hmmmmm. Not very perlish"}], "tags": [], "owner": {"reputation": 1230, "user_id": 3166498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbc18f10b502469dfdec70ffeb98c6d4?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/3166498/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1420562513, "creation_date": 1420562513, "answer_id": 27803156, "question_id": 27802869, "link": "https://stackoverflow.com/questions/27802869/how-can-i-print-the-lines-between-line-numbers-10-and-25/27803156#27803156", "title": "How can I print the lines between line numbers 10 and 25?", "body": "<p>Another way to do it is (if using *nix)</p>\n\n<pre><code>my @lines = `head -25 filename | tail -15`\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 4180345, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd5766ada96891ff3478f96ff856bc4b?s=128&d=identicon&r=PG&f=1", "display_name": "chris202 ", "link": "https://stackoverflow.com/users/4180345/chris202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1420574112, "creation_date": 1420561596, "last_edit_date": 1420565593, "question_id": 27802869, "link": "https://stackoverflow.com/questions/27802869/how-can-i-print-the-lines-between-line-numbers-10-and-25", "title": "How can I print the lines between line numbers 10 and 25?", "body": "<p>I have a text file. How can I print everything between line 10 and line 25 using Perl?</p>\n"}, {"tags": ["ruby", "perl", "tcl", "backticks"], "answers": [{"comments": [{"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "edited": false, "score": 1, "creation_date": 1420612843, "post_id": 27802412, "comment_id": 44034457, "body": "May I add for completeness that while this is indeed the general solution for capturing the output from a system command, in the specific case of getting a list of file names, the <code>glob</code> command is more useful and portable."}], "tags": [], "owner": {"reputation": 14819, "user_id": 974155, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jz7oo.jpg?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/974155/dinesh"}, "is_accepted": true, "score": 9, "last_activity_date": 1420605168, "last_edit_date": 1420605168, "creation_date": 1420560188, "answer_id": 27802412, "question_id": 27802234, "link": "https://stackoverflow.com/questions/27802234/does-tcl-have-an-equivalent-of-perl-and-ruby-backtic/27802412#27802412", "title": "Does Tcl have an equivalent of PERL and Ruby backtic", "body": "<p>Use <code>exec</code> command to get the same.</p>\n\n<pre><code>set output [ exec ls ]\nputs $output\n</code></pre>\n\n<p>Man page : <a href=\"https://www.tcl.tk/man/tcl/TclCmd/exec.htm\" rel=\"nofollow\">exec </a></p>\n"}], "owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 27802412, "answer_count": 1, "score": 6, "last_activity_date": 1420605168, "creation_date": 1420559499, "question_id": 27802234, "link": "https://stackoverflow.com/questions/27802234/does-tcl-have-an-equivalent-of-perl-and-ruby-backtic", "title": "Does Tcl have an equivalent of PERL and Ruby backtic", "body": "<p>In Ruby/PERL, I can very easily get the console output of a system command fed into a file. For example:</p>\n\n<pre><code>$k = `ls`\n</code></pre>\n\n<p>Would input the output of ls into variable $k in PERL (and Ruby).<br>\nHow can one do something like this in Tcl?<br>\nThanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1420558856, "post_id": 27801986, "comment_id": 44012719, "body": "This is a good example of why you should avoid global variables."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1420559474, "post_id": 27801986, "comment_id": 44013203, "body": "Always use <code>use strict; use warnings;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 1, "last_activity_date": 1420559346, "last_edit_date": 1420559346, "creation_date": 1420559030, "answer_id": 27802097, "question_id": 27801986, "link": "https://stackoverflow.com/questions/27801986/perl-reference-how-is-the-passing-a-count-variable-get-the-reference-of-com/27802097#27802097", "title": "Perl Reference, how is the passing a count variable($#) get the reference of complete data?", "body": "<p>Passing $max into the function does not also pass the @list array into the function.  Prove this by passing nothing:</p>\n\n<pre><code>sub print_list {\n  for ($i=0; $i&lt;$max; $i++)\n  {\n    print \"$i.  $list[$i][0]\\t $list[$i][1]\\n\";\n  }\n}\n\n# Declaring a 2-D Array, which is just an array of 1-D arrays\n\n@list = ( [\"vi   \", \"Null\"], [\"emacs\", \"Null\"], [\"joe  \", \"Null\" ]);\n\n$max = $#list + 1;\n\nprint \"Initial Values\\n\";\nprint_list();\n\nprint \"\\n\\n\";\n</code></pre>\n\n<p>The @list array variable is global.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlsub.html#Pass-by-Reference\" rel=\"nofollow\">perldoc perlsub</a></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1420638336, "last_edit_date": 1420638336, "creation_date": 1420560869, "answer_id": 27802637, "question_id": 27801986, "link": "https://stackoverflow.com/questions/27801986/perl-reference-how-is-the-passing-a-count-variable-get-the-reference-of-com/27802637#27802637", "title": "Perl Reference, how is the passing a count variable($#) get the reference of complete data?", "body": "<p>The <code>@list</code> data isn't being passed into the subroutine at all. You are accessing it through the same version of <code>@list</code> which is visible outside of the subroutine. Accessing variables that aren't passed into your subroutine is a really bad idea as your subroutine becomes too tightly-coupled the code that calls it. For example, in your code, <code>print_list</code> can only work on a variable called <code>@list</code>. If you passed the array into the subroutine, then its name wouldn't matter.</p>\n\n<pre><code># I've renamed this as you're dealing with arrays, not lists\nsub print_array {\n  my $length = shift;\n  my @array  = @_;\n\n  for ($i = 0; $i &lt; $max; $i++) {\n    print \"$i.  $array[$i][0]\\t $array[$i][1]\\n\";\n  }\n}\n\nmy @editors = ( [\"vi   \", \"Null\"], [\"emacs\", \"Null\"], [\"joe  \", \"Null\" ]);\nmy $number_of_editors = @editors; # More readable than $#editors + 1\n\nprint_array($number_of_editors, @editors);\n</code></pre>\n\n<p>But you don't need to pass the array length into the subroutine at all.</p>\n\n<pre><code># I've renamed this as you're dealing with arrays, not lists\nsub print_array {\n  my @array  = @_;\n\n  for ($i = 0; $i &lt; @array; $i++) {\n    print \"$i.  $array[$i][0]\\t $array[$i][1]\\n\";\n  }\n}\n\nmy @editors = ( [\"vi   \", \"Null\"], [\"emacs\", \"Null\"], [\"joe  \", \"Null\" ]);\n\nprint_array(@editors);\n</code></pre>\n\n<p>As a final improvement, a <code>foreach</code> loop is almost always easier to follow than a C-style <code>for</code> loop</p>\n\n<pre><code># I've renamed this as you're dealing with arrays, not lists\nsub print_array {\n  my @array  = @_;\n\n  foreach (0 .. $#array) {\n    print \"$_.  $array[$_][0]\\t $array[$_][1]\\n\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 2128297, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3af949d15da949b914aa5cb2d82195d6?s=128&d=identicon&r=PG", "display_name": "Sumatrin", "link": "https://stackoverflow.com/users/2128297/sumatrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 27802097, "answer_count": 2, "score": 1, "last_activity_date": 1420638336, "creation_date": 1420558690, "last_edit_date": 1420559287, "question_id": 27801986, "link": "https://stackoverflow.com/questions/27801986/perl-reference-how-is-the-passing-a-count-variable-get-the-reference-of-com", "title": "Perl Reference, how is the passing a count variable($#) get the reference of complete data?", "body": "<p>Below is my code </p>\n\n<pre><code>sub print_list {\n  $max = $_[0];\n  for ($i=0; $i&lt;$max; $i++)\n  {\n    print \"$i.  $list[$i][0]\\t $list[$i][1]\\n\";\n  }\n}\n\n# Declaring a 2-D Array, which is just an array of 1-D arrays\n\n@list = ( [\"vi   \", \"Null\"], [\"emacs\", \"Null\"], [\"joe  \", \"Null\" ]);\n\n$max = $#list + 1;\n\nprint \"Initial Values\\n\";\nprint_list($max);\n\nprint \"\\n\\n\";\n</code></pre>\n\n<p>Output:-</p>\n\n<pre><code> Initial Values \n 0. vi                 Null \n 1. emacs           Null \n 2. joe               Null \n</code></pre>\n\n<p>In the above piece of code , how did $max passed to function get all the data available in the function.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "edited": false, "score": 0, "creation_date": 1420558156, "post_id": 27801779, "comment_id": 44012302, "body": "thanks for the help so far. i understand that @{ } derefences a list reference, but what does $hds{$cl}{connlist} do?  my $listref = $hds{$cl}{connlist}; creates a reference to it, but i don&#39;t understand what this part does. hds was previously an empty hash."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "reply_to_user": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "edited": false, "score": 0, "creation_date": 1420558536, "post_id": 27801779, "comment_id": 44012515, "body": "It&#39;s called autovivification.  <a href=\"https://en.wikipedia.org/wiki/Autovivification\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Autovivification</a>  Better to read that than me come up with an explanation for it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1420559049, "post_id": 27801779, "comment_id": 44012866, "body": "@AndyLester: Would you consider changing the names of your example variables? They are arrays (and array refs) rather than lists (and list refs). Using names containing &quot;list&quot; could well encourage the (incorrect) belief that arrays and lists in Perl are the same thing."}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 2, "last_activity_date": 1420559401, "last_edit_date": 1420559401, "creation_date": 1420557990, "answer_id": 27801779, "question_id": 27801624, "link": "https://stackoverflow.com/questions/27801624/what-does-hdsclconnlist-do/27801779#27801779", "title": "what does @{ $hds{$cl}{connlist} } do?", "body": "<p>In this code</p>\n\n<pre><code>@{ $hds{$cl}{connlist} }\n</code></pre>\n\n<p>The <code>$hds{$cl}{connlist}</code> is expected to be a array reference, and the <code>@{ }</code> around it dereferences the array reference.</p>\n\n<p>This would be the same as saying:</p>\n\n<pre><code>my $arrayref = $hds{$cl}{connlist};\nmy @array    = @{$arrayref};\n# or\nmy @array    = @$arrayref;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "edited": false, "score": 0, "creation_date": 1420558483, "post_id": 27801796, "comment_id": 44012487, "body": "thanks so much for the help! what do you mean &#39;is indexed by $cl and then connlist to generate an array reference&#39;. is it creating a  second hash with connlist as the second index with an empty value?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "edited": false, "score": 0, "creation_date": 1420558736, "post_id": 27801796, "comment_id": 44012643, "body": "It&#39;s really hard to tell without more of the code.  I&#39;ll try to dummy up stuff that could do the job.  You need a solid working knowledge of references, hashes and arrays (lists) to understand it."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1420564682, "last_edit_date": 1420564682, "creation_date": 1420558061, "answer_id": 27801796, "question_id": 27801624, "link": "https://stackoverflow.com/questions/27801624/what-does-hdsclconnlist-do/27801796#27801796", "title": "what does @{ $hds{$cl}{connlist} } do?", "body": "<p>Talk about 'throwing in at the deep end'.</p>\n\n<p>Note that <code>&amp;hd_var</code> is a function, separate from the hash <code>%hd_var</code>.</p>\n\n<p>The first argument to the function is an array; so is the second.  The <code>@{ \u2026 }</code> notation means that the <code>\u2026</code> is an array reference.  There's a hash, <code>%hds</code>, which is indexed by <code>$cl</code> and then <code>connlist</code> to generate an array reference, which is dereferenced in the cal.  The second argument is similar, except the second subscript is <code>welllist</code> instead of <code>connlist</code>.  It is likely that between the two of them, they are a list of machines which need to be processed.</p>\n\n<hr>\n\n<p>Some sample code that emulates what I see of your data structures:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $cl = \"network\";\n\nmy %hds = ( \"network\" =&gt; { connlist =&gt; [ 'mach1', 'mach2', 'oatmeal' ],\n                           welllist =&gt; [ 'steeple', 'spire', 'windcock' ],\n                         }\n          );\n\nprint \"@{$hds{$cl}{connlist}}\\n\";\nprint \"@{$hds{$cl}{welllist}}\\n\";\n\nsub hd_var  # Function name same as variable name - not usually a good idea\n{\n    return grep { !/i/ } @_;\n}\n\nmy %hd_var = &amp;hd_var( @{ $hds{$cl}{connlist} }, @{ $hds{$cl}{welllist} } );\n\nfor my $key (keys %hd_var)\n{\n    print \"$key = $hd_var{$key}\\n\";\n}\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>mach1 mach2 oatmeal\nsteeple spire windcock\noatmeal = steeple\nmach1 = mach2\n</code></pre>\n\n<p>Note that although <code>%hd_var</code> is emptied in your code, it may as well be created as shown in my code.  The <code>%hds</code> hash must be populated for the code to do anything useful.</p>\n\n<p>The code above is fragile; it converts the array returned by <code>&amp;hd_var</code> into a hash, but does not ensure that there is an even number of elements in the array that is returned.  With the function as written and the data as shown, it works OK, but it could easily break.  It just gives you an idea of what could be going on in the surrounding code.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "edited": false, "score": 0, "creation_date": 1420559279, "post_id": 27802034, "comment_id": 44013056, "body": "yes it helps a lot. but %hds was empty before this statement. %hds = ();. so since the code expects a key matching $cl, but doesn&#39;t find it, i guess its creating all of this dynamically here?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "edited": false, "score": 0, "creation_date": 1420559501, "post_id": 27802034, "comment_id": 44013214, "body": "Well, yes, it&#39;ll create <code>$hds{$cls}</code> which will contain a reference to a new hash. And <code>$hds{$cl}{connlist}</code> which will contain a reference to a new (and therefore empty) array. Seems like a rather confusing way to go about it though."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "edited": false, "score": 0, "creation_date": 1420563755, "post_id": 27802034, "comment_id": 44015938, "body": "@jcmoon: Note that you have <code>%hd_var = ();</code> in the question (which is actually unnecessary since you immediately assign a new value to it); you don&#39;t show how <code>%hds</code> is created, but it must already have data in it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1420558832, "creation_date": 1420558832, "answer_id": 27802034, "question_id": 27801624, "link": "https://stackoverflow.com/questions/27801624/what-does-hdsclconnlist-do/27802034#27802034", "title": "what does @{ $hds{$cl}{connlist} } do?", "body": "<p>(It's \"Perl\", not \"PERL\")</p>\n\n<pre><code>@{ $hds{$cl}{connlist} }\n</code></pre>\n\n<p>This code expects you to have a hash called <code>%hds</code>. This hash is expected to contain a key matching whatever is currently in <code>$cl</code>. The expression <code>$hds{$cl}</code> gets you the value associated with that key in the hash.</p>\n\n<p>That value is expected to be a hash reference, as we then look in the referenced hash for the key <code>connlist</code> (that's a literal value). We get the value associated with that key, which is expected to be an array reference that we can dereference to get to the array that we need.</p>\n\n<p>Another way to look at it is to break it down into separate statements like this.</p>\n\n<pre><code>my $hash_ref = $hds{$cls};\nmy $arr_ref  = $hash_ref-&gt;{connlist};\nmy @array    = @{ $arr_ref };\n</code></pre>\n\n<p>You might also get a better view of this data structure by using Data::Dumper;</p>\n\n<pre><code>use Data::Dumper;\n\nprint Dumper \\%hdc;\n</code></pre>\n\n<p>Does that help at all?</p>\n"}], "owner": {"reputation": 11, "user_id": 4424414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12aa3bd5cdb22fe248859f132cb4b3?s=128&d=identicon&r=PG&f=1", "display_name": "jcmoon", "link": "https://stackoverflow.com/users/4424414/jcmoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1420567909, "creation_date": 1420557518, "last_edit_date": 1420567909, "question_id": 27801624, "link": "https://stackoverflow.com/questions/27801624/what-does-hdsclconnlist-do", "title": "what does @{ $hds{$cl}{connlist} } do?", "body": "<pre><code>%hds = ();\n\n%hd_var = &amp;hd_var( @{ $hds{$cl}{connlist} }, @{ $hds{$cl}{welllist} } );\n</code></pre>\n\n<p>I'm new to PERL and I need to crack some code in order to speed up the optimization, so I'm trying to first figure out what the code is doing. </p>\n\n<p>What is this doing: </p>\n\n<pre><code>@{ $hds{$cl}{connlist} } \n</code></pre>\n\n<p><code>hd_var</code> is an empty hash before this statement, so what does <code>$hds{$cl}{connlist}</code> do? <code>$cl</code> is equal to \"network\", so what does <code>$hds{\"network\"}{connlist}</code> do? It's not assigning anything, so is it creating a hash of hashes with empty string as its value? I'm not sure and would love for an expert to help me out.</p>\n"}, {"tags": ["perl", "utf-8", "local", "binmode"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1420561810, "post_id": 27801561, "comment_id": 44014702, "body": "Backwards. In cases where you output a mix of text and bytes, don&#39;t add <code>:utf8</code> in the first place. Encode text into bytes manually so that you only output bytes. Much simpler."}, {"owner": {"reputation": 160, "user_id": 3460042, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000575637515/picture?type=large", "display_name": "DanielLazarov", "link": "https://stackoverflow.com/users/3460042/daniellazarov"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420619396, "post_id": 27801561, "comment_id": 44036795, "body": "The problem is that I can&#39;t remove the &quot;:utf8&quot;, Otherwise that would&#39;ve solved my problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420629935, "post_id": 27801561, "comment_id": 44042593, "body": "Sure you can. Use the delete key to remove the binmode statements"}, {"owner": {"reputation": 160, "user_id": 3460042, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000575637515/picture?type=large", "display_name": "DanielLazarov", "link": "https://stackoverflow.com/users/3460042/daniellazarov"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420650064, "post_id": 27801561, "comment_id": 44054972, "body": "I meant I am not allowed to do it, since I am only working on a small part of the module."}], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 7, "last_activity_date": 1420559841, "last_edit_date": 1420559841, "creation_date": 1420559343, "answer_id": 27802183, "question_id": 27801561, "link": "https://stackoverflow.com/questions/27801561/turn-off-binmodestdout-utf8-locally/27802183#27802183", "title": "&quot;Turn Off&quot; binmode(STDOUT, &quot;:utf8&quot;) Locally", "body": "<p>One way to achieve this is to \"dup\" the <code>STD</code> handle, set the duplicated filehandle to use the <code>:raw</code> layer, and assign it to a local version of the <code>STD</code> handle. For example, the following code</p>\n\n<pre><code>binmode(STDOUT, ':utf8');\nprint(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n\n{\n    open(my $duped, '&gt;&amp;', STDOUT);\n    # The ':raw' argument could also be omitted.\n    binmode($duped, ':raw');\n    local *STDOUT = $duped;\n    print(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n    close($duped);\n}\n\nprint(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>unix, perlio, utf8\nunix, perlio\nunix, perlio, utf8\n</code></pre>\n\n<p>on my system.</p>\n"}, {"comments": [{"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1565255146, "post_id": 27805061, "comment_id": 101298329, "body": "Shouldn&#39;t that last line be: <code>perl -CO -MEncode=&quot;encode,decode&quot; -E &#39;print decode(&quot;koi8-r&quot;, &lt;&gt;) ;&#39; koi8r.txt</code> ? (<code>print</code> and <code>koi8r.txt</code>)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1574921000, "post_id": 27805061, "comment_id": 104401603, "body": "@peter-v-m&#248;rch - yes it should <b>:-)</b>"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 3, "last_activity_date": 1574920944, "last_edit_date": 1574920944, "creation_date": 1420569784, "answer_id": 27805061, "question_id": 27801561, "link": "https://stackoverflow.com/questions/27801561/turn-off-binmodestdout-utf8-locally/27805061#27805061", "title": "&quot;Turn Off&quot; binmode(STDOUT, &quot;:utf8&quot;) Locally", "body": "<p>I like @nwellnhof's approach. Dealing only with Unicode and ASCII - a luxury few enjoy - my instinct would be to leave the bytes as is and selectively make use of <a href=\"http://perldoc.perl.org/Encode.html\" rel=\"nofollow noreferrer\"><code>Encode</code></a> to <code>decode()/encode()</code> when needed. If you are able to determine which of your data sources are problematic you could filter/insert <code>decode</code> when dealing with them.</p>\n\n<pre><code>% file koi8r.txt \nkoi8r.txt: ISO-8859 text\n% cat koi8r.txt \n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd. \ufffd\ufffd\ufffd\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd.\n% perl -CO -MEncode=\"encode,decode\" -E 'say decode(\"koi8-r\", &lt;&gt;) ;' koi8r.txt\n\u0410\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0438\u0435 \u0441\u0443\u0434\u0430 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0445 \u0432\u043e\u0434\u0430\u0445. \u042f\u043f\u043e\u043d\u0438\u044f\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "is_accepted": false, "score": 0, "last_activity_date": 1565256323, "creation_date": 1565256323, "answer_id": 57409300, "question_id": 27801561, "link": "https://stackoverflow.com/questions/27801561/turn-off-binmodestdout-utf8-locally/57409300#57409300", "title": "&quot;Turn Off&quot; binmode(STDOUT, &quot;:utf8&quot;) Locally", "body": "<p>You could use something like <a href=\"https://metacpan.org/pod/Scope::Guard\" rel=\"nofollow noreferrer\">Scope::Guard - lexically-scoped resource management</a> to ensure it gets set back to <code>:utf8</code> when you leave the scope, regardless of how (return, die, whatever):</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nuse Scope::Guard qw(guard);\n\nbinmode(STDOUT, ':utf8');\nprint(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n\n{\n    # When guard goes out of scope, this sub is guaranteed to be called:\n    my $guard = guard {\n        binmode(STDOUT, ':utf8');\n    };\n    binmode(STDOUT, ':raw');\n    print(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n}\n\nprint(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n</code></pre>\n\n<p>Or, if you don't want to include a new dependency like Scope::Guard (Scope::Guard is awesome for this kind of localizing...):</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nbinmode(STDOUT, ':utf8');\nprint(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n\n{\n    my $guard = PoorMansGuard-&gt;new(sub {\n        binmode(STDOUT, ':utf8');\n    });\n    binmode(STDOUT, ':raw');\n    print(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n}\n\nprint(join(', ', PerlIO::get_layers(STDOUT)), \"\\n\");\n\npackage PoorMansGuard;\n\nsub new {\n    my ($class, $sub) = @_;\n    bless { sub =&gt; $sub }, $class;\n}\n\nsub DESTROY {\n    my ($self) = @_;\n    $self-&gt;{sub}-&gt;();\n}\n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 3460042, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100000575637515/picture?type=large", "display_name": "DanielLazarov", "link": "https://stackoverflow.com/users/3460042/daniellazarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 2, "accepted_answer_id": 27802183, "answer_count": 3, "score": 4, "last_activity_date": 1574920944, "creation_date": 1420557322, "question_id": 27801561, "link": "https://stackoverflow.com/questions/27801561/turn-off-binmodestdout-utf8-locally", "title": "&quot;Turn Off&quot; binmode(STDOUT, &quot;:utf8&quot;) Locally", "body": "<p>I Have The following block in the beginning of my script:</p>\n\n<pre><code>#!/usr/bin/perl5 -w\nuse strict;\nbinmode(STDIN, \":utf8\");\nbinmode(STDOUT, \":utf8\");\nbinmode(STDERR, \":utf8\");\n</code></pre>\n\n<p>In some subroutines when there is other encoding(from a distant subroutine), the data will not display correctly, when receiving cyrillic or other characters. It is the \"binmode\", that causes the problem.</p>\n\n<p><strong>Can I \"turn off\" the binmode utf8 locally, for the subroutine only?</strong></p>\n\n<p>I can't remove the global binmode setting and I can't change the distant encoding. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1420557219, "post_id": 27801398, "comment_id": 44011674, "body": "What have you considered/tried?"}], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 1970203, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/712f02e58fd460dc9fa64cd156fe0082?s=128&d=identicon&r=PG", "display_name": "bvnbhati", "link": "https://stackoverflow.com/users/1970203/bvnbhati"}, "edited": false, "score": 0, "creation_date": 1420560364, "post_id": 27801579, "comment_id": 44013747, "body": "Can you please elaborate your answer to explain &quot;automatically call setters based on list of loaded packages&quot;."}, {"owner": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 351, "user_id": 1970203, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/712f02e58fd460dc9fa64cd156fe0082?s=128&d=identicon&r=PG", "display_name": "bvnbhati", "link": "https://stackoverflow.com/users/1970203/bvnbhati"}, "edited": false, "score": 0, "creation_date": 1420561456, "post_id": 27801579, "comment_id": 44014474, "body": "@bvnbhati - I added a second solution to access main&#39;s variable. If you want to know how to automatically call setters for all loaded moduels please ask as separate question it has nothing to do with this"}], "tags": [], "owner": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "is_accepted": false, "score": 3, "last_activity_date": 1420561412, "last_edit_date": 1420561412, "creation_date": 1420557374, "answer_id": 27801579, "question_id": 27801398, "link": "https://stackoverflow.com/questions/27801398/perl-package-variables-set-through-command-line/27801579#27801579", "title": "perl package variables set through command line", "body": "<p>Simplest solution: in each package, create a setter method:</p>\n\n<pre><code>package a;\n\nour $global_for_a;\n\nsub set_global_a { $global_for_a = shift; }\n\n1;\n\n#### Your main.pl\n\n# Process GetOpt\n\na::set_global_a($opt_n);\n</code></pre>\n\n<p>There are fancier things (e.g. automatically call setters based on list of loaded packages) but that's for advanced users who know the innards of Perl.</p>\n\n<hr>\n\n<p>Another alternative is to access main's value directly:</p>\n\n<pre><code># Old code in a.pm\ndo_stuff($global_for_a);\n\n# Instead, use Main's global:\ndo_stuff($main::opt_n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 351, "user_id": 1970203, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/712f02e58fd460dc9fa64cd156fe0082?s=128&d=identicon&r=PG", "display_name": "bvnbhati", "link": "https://stackoverflow.com/users/1970203/bvnbhati"}, "edited": false, "score": 0, "creation_date": 1420558542, "post_id": 27801894, "comment_id": 44012526, "body": "Is it not possible to write an expression in each package like $package_var=$global_var and set the global_var only so that package function does not need to be called."}, {"owner": {"reputation": 179, "user_id": 1237081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8720d73dbe05f384345414f94d3a56cd?s=128&d=identicon&r=PG", "display_name": "David Levner", "link": "https://stackoverflow.com/users/1237081/david-levner"}, "reply_to_user": {"reputation": 351, "user_id": 1970203, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/712f02e58fd460dc9fa64cd156fe0082?s=128&d=identicon&r=PG", "display_name": "bvnbhati", "link": "https://stackoverflow.com/users/1970203/bvnbhati"}, "edited": false, "score": 0, "creation_date": 1420562441, "post_id": 27801894, "comment_id": 44015107, "body": "Yes, it is possible to write &#39;my $opt_n = $::opt_n;&#39; within A.pm, but you have to be sure that this code executes AFTER $::opt_n is set within main.pl. Maybe you don&#39;t need &#39;my $opt_n&#39; in A.pm at all and can just refer to $::opt_n within this package?"}], "tags": [], "owner": {"reputation": 179, "user_id": 1237081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8720d73dbe05f384345414f94d3a56cd?s=128&d=identicon&r=PG", "display_name": "David Levner", "link": "https://stackoverflow.com/users/1237081/david-levner"}, "is_accepted": true, "score": 2, "last_activity_date": 1420558378, "creation_date": 1420558378, "answer_id": 27801894, "question_id": 27801398, "link": "https://stackoverflow.com/questions/27801398/perl-package-variables-set-through-command-line/27801894#27801894", "title": "perl package variables set through command line", "body": "<p>There are many ways to accomplish your goal. The first step is getting your command line argument into a variable within main.pl. The command line arguments are available via the pre-defined perl list variable @ARGV. Assuming that there is exactly one command line argument, the following would work:</p>\n\n<pre><code>my $opt_n = $ARGV[0];\n</code></pre>\n\n<p>It is a good idea to check whether the correct number of command line arguments have been supplied. For example,</p>\n\n<pre><code>if  (not @ARGV) {die \"No command line arguments were supplied.\\n\";}\nif  (scalar(@ARGV) &gt; 1) {die \"Too many command line arguments were supplied.\\n\";}\nmy $opt_n = $ARGV[0];\n</code></pre>\n\n<p>If you expect multiple command line arguments, it is convenient to use the shift operator.</p>\n\n<pre><code>my $opt_n = shift @ARGV;\nmy $opt_o = shift @ARGV;\nif  (not defined $opt_o) {die \"Too few command line arguments.\\n\";}\n</code></pre>\n\n<p>To use the value of $opt_n in other packages, you have two choices: 1) make $opt_n global ('our $opt_n' instead of 'my $opt_n'), or 2) pass $opt_n to subroutines from the other packages that store $opt_n in variables accessible to the other packages. The global variable route is simpler, but it produces more interdependent and complex code. If you want to do this, just refer to '$::opt_n' in the other packages.</p>\n\n<p>Using the second method, you would call an A.pm subroutine from main.pl.</p>\n\n<pre><code>A::set_opt_n($opt_n);\n</code></pre>\n\n<p>And in A.pm, you would write something like this:</p>\n\n<pre><code>package A;\n\nuse strict;\n\nmy $opt_n;\n\nsub set_opt_n($)\n{\n    my ($opt_n_from_main) = @_;\n\n    $opt_n = $opt_n_from_main;\n    return;\n}\n</code></pre>\n\n<p>After set_opt_n is called from main.pl, $opt_n can be used in A.pm. Of course, $opt_n in main.pl and $opt_n in A.pm are two different variables. If the value of one changes, the other will not change automatically. This is very different from using a single global variable $::opt_n (or $main::opt_n).</p>\n"}], "owner": {"reputation": 351, "user_id": 1970203, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/712f02e58fd460dc9fa64cd156fe0082?s=128&d=identicon&r=PG", "display_name": "bvnbhati", "link": "https://stackoverflow.com/users/1970203/bvnbhati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 27801894, "answer_count": 2, "score": 1, "last_activity_date": 1584056607, "creation_date": 1420556738, "last_edit_date": 1584056607, "question_id": 27801398, "link": "https://stackoverflow.com/questions/27801398/perl-package-variables-set-through-command-line", "title": "perl package variables set through command line", "body": "<p>I have to use a command line argument in Perl to initialize a global variable, which in turn is to be passed to a set of packages to set values of variables in those packages. How do I do that, if suppose my main program is main.pl having argument $opt_n and packages are a.pm, b.pm and c.pm.</p>\n\n<p>Please help.</p>\n"}, {"tags": ["perl", "hash", "zabbix"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4073666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qOHHtd-3N5U/AAAAAAAAAAI/AAAAAAAAAAA/6QJYqgV0B7k/photo.jpg?sz=128", "display_name": "Sandeep Madhu", "link": "https://stackoverflow.com/users/4073666/sandeep-madhu"}, "edited": false, "score": 0, "creation_date": 1420558983, "post_id": 27801559, "comment_id": 44012826, "body": "Cool. It printed key and value. for print statement for name, it gave this error  Use of uninitialized value in print"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 57, "user_id": 4073666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qOHHtd-3N5U/AAAAAAAAAAI/AAAAAAAAAAA/6QJYqgV0B7k/photo.jpg?sz=128", "display_name": "Sandeep Madhu", "link": "https://stackoverflow.com/users/4073666/sandeep-madhu"}, "edited": false, "score": 0, "creation_date": 1420560339, "post_id": 27801559, "comment_id": 44013729, "body": "@SandeepMadhu: see my edit. Use <code>print &quot;\\nname=&quot;,$h-&gt;{name} &#47;&#47; &#39;not defined&#39;;</code>"}, {"owner": {"reputation": 57, "user_id": 4073666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qOHHtd-3N5U/AAAAAAAAAAI/AAAAAAAAAAA/6QJYqgV0B7k/photo.jpg?sz=128", "display_name": "Sandeep Madhu", "link": "https://stackoverflow.com/users/4073666/sandeep-madhu"}, "edited": false, "score": 0, "creation_date": 1420726347, "post_id": 27801559, "comment_id": 44087923, "body": "For this statement, i am getting error &#39;Odd number of elements in anonymous hash&#39;                                              my $options1={&#39;nodeids&#39; =&gt; &#39;0&#39;,&#39;triggerids&#39; =&gt; 324234,&#39;output&#39; =&gt; &#39;extend&#39;,&#39;selectHosts&#39; =&gt; {&#39;name&#39;,&#39;hostid&#39;,&#39;maintenance_status&#39;,&#39;maintenance_type&#39;,&#39;ma&zwnj;&#8203;intenanceid&#39;,&#39;descri&zwnj;&#8203;ption&#39;},&#39;selectItems&zwnj;&#8203;&#39; =&gt; {&#39;itemid&#39;,&#39;hostid&#39;,&#39;key_&#39;,&#39;name&#39;,&#39;value_type&#39;},&#39;selectDepend&zwnj;&#8203;encies&#39; =&gt; &#39;extend&#39;,&#39;selectLastEvent&#39; =&gt; &#39;1&#39;,&#39;expandDescription&#39; =&gt; &#39;1&#39;,&#39;preservekeys&#39; =&gt; &#39;1&#39;};   any idea?"}, {"owner": {"reputation": 57, "user_id": 4073666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qOHHtd-3N5U/AAAAAAAAAAI/AAAAAAAAAAA/6QJYqgV0B7k/photo.jpg?sz=128", "display_name": "Sandeep Madhu", "link": "https://stackoverflow.com/users/4073666/sandeep-madhu"}, "edited": false, "score": 0, "creation_date": 1420727058, "post_id": 27801559, "comment_id": 44088403, "body": "Ignore my previous query. i figured it out.. key value pair was not defined correctly.  Thanks a lot for your help. got the correct result"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 0, "last_activity_date": 1421413034, "last_edit_date": 1421413034, "creation_date": 1420557317, "answer_id": 27801559, "question_id": 27801341, "link": "https://stackoverflow.com/questions/27801341/extracting-data-from-a-multi-level-hash/27801559#27801559", "title": "Extracting data from a multi-level hash", "body": "<p>How about:</p>\n\n<pre><code>    my  $triggers1 = {\n               '10305122' =&gt; {\n                  'hosts' =&gt; [\n                               {\n                                 'name' =&gt; 'pc4b12cf254444',\n                                 'maintenance_type' =&gt; '0',\n                                 'hostid' =&gt; '19295'\n                               }\n                             ],\n                  'priority' =&gt; '1',\n                  'status' =&gt; '0',\n                  'dependencies' =&gt; [],\n                  'templateid' =&gt; '9892568',\n                  'comments' =&gt; '',\n                  'state' =&gt; '0',\n                  'triggerid' =&gt; '10305122',\n                  'expression' =&gt; '{14127122}=0',\n                  'error' =&gt; '',\n                  'url' =&gt; '',\n                  'flags' =&gt; '0',\n                  'value' =&gt; '0',\n\n\n                },\n\n\n       324234 =&gt; {\n                  'hosts' =&gt; [\n                               {\n                                 'name' =&gt; 'pc45657ba34gy0423',\n                                 'maintenance_type' =&gt; '0',\n                                 'hostid' =&gt; '19439'\n                               }\n                             ],\n                  'priority' =&gt; '1',\n                  'status' =&gt; '0',\n                  'dependencies' =&gt; [],\n                  'templateid' =&gt; '9896452',\n                  'comments' =&gt; '',\n                  'state' =&gt; '0',\n\n                  'triggerid' =&gt; '10324234',\n                  'expression' =&gt; '{14167689}=0',\n                  'error' =&gt; '',\n                  'url' =&gt; '',\n                  'flags' =&gt; '0',\n                  'value' =&gt; '0',\n                  'value_flags' =&gt; '0',\n                  'lastchange' =&gt; '1420266068',\n                  'type' =&gt; '0'\n\n}\n};\n</code></pre>\n\n<p>Code disconnected from data for readability:</p>\n\n<pre><code>foreach my $k (keys %$triggers1) {\n    print \"key=$k\";\n    foreach my $h (@{$triggers1-&gt;{$k}{hosts}}) {\n        print \"\\nname=\",$h-&gt;{name} // 'not defined';\n        //                use this ^^ to avoid Use of uninitialized value in print at \n    }\n    print \"\\nvalue=\",$triggers1-&gt;{$k}{value} // 'not defined',\"\\n\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>key=324234\nname=pc45657ba34gy0423\nvalue=0\nkey=10305122\nname=pc4b12cf254444\nvalue=0\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4073666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qOHHtd-3N5U/AAAAAAAAAAI/AAAAAAAAAAA/6QJYqgV0B7k/photo.jpg?sz=128", "display_name": "Sandeep Madhu", "link": "https://stackoverflow.com/users/4073666/sandeep-madhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 27801559, "answer_count": 1, "score": 0, "last_activity_date": 1421413034, "creation_date": 1420556572, "last_edit_date": 1420556956, "question_id": 27801341, "link": "https://stackoverflow.com/questions/27801341/extracting-data-from-a-multi-level-hash", "title": "Extracting data from a multi-level hash", "body": "<p>I am getting the data structure below as a response from a web service call.</p>\n\n<pre><code>my $triggers1 = $zabbix-&gt;raw('trigger','get', $options1);\nprint Dumper($triggers1);\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>          $VAR1 = {\n                   '10305122' =&gt; {\n                      'hosts' =&gt; [\n                                   {\n                                     'name' =&gt; 'pc4b12cf254444',\n                                     'maintenance_type' =&gt; '0',\n                                     'hostid' =&gt; '19295'\n                                   }\n                                 ],\n                      'priority' =&gt; '1',\n                      'status' =&gt; '0',\n                      'dependencies' =&gt; [],\n                      'templateid' =&gt; '9892568',\n                      'comments' =&gt; '',\n                      'state' =&gt; '0',\n                      'triggerid' =&gt; '10305122',\n                      'expression' =&gt; '{14127122}=0',\n                      'error' =&gt; '',\n                      'url' =&gt; '',\n                      'flags' =&gt; '0',\n                      'value' =&gt; '0',\n\n\n                    }\n\n\n           324234' =&gt; {\n                      'hosts' =&gt; [\n                                   {\n                                     'name' =&gt; 'pc45657ba34gy0423',\n                                     'maintenance_type' =&gt; '0',\n                                     'hostid' =&gt; '19439'\n                                   }\n                                 ],\n                      'priority' =&gt; '1',\n                      'status' =&gt; '0',\n                      'dependencies' =&gt; [],\n                      'templateid' =&gt; '9896452',\n                      'comments' =&gt; '',\n                      'state' =&gt; '0',\n\n                      'triggerid' =&gt; '10324234',\n                      'expression' =&gt; '{14167689}=0',\n                      'error' =&gt; '',\n                      'url' =&gt; '',\n                      'flags' =&gt; '0',\n                      'value' =&gt; '0',\n                      'value_flags' =&gt; '0',\n                      'lastchange' =&gt; '1420266068',\n                      'type' =&gt; '0'\n\n    };\n</code></pre>\n\n<p>etc</p>\n\n<p>There are multiple similar records</p>\n\n<p>From this output, I want to print the values of 'name' and 'value'.</p>\n\n<p>How do I print this using Perl?</p>\n"}, {"tags": ["perl", "xml-twig"], "comments": [{"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1420557202, "post_id": 27801056, "comment_id": 44011664, "body": "sorry...will keep in mind in future"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1420556040, "creation_date": 1420556040, "answer_id": 27801198, "question_id": 27801056, "link": "https://stackoverflow.com/questions/27801056/xmltwig-to-filter-the-xml-in-perl/27801198#27801198", "title": "XML::TWIG to filter the XML in PERL", "body": "<p>I don't know XML::Twig. In XML::LibXML, you'd do</p>\n\n<pre><code>for my $bad_trade ('/TRADEEXT/TRADE[ EVENT/@externtype = \"PROCC\" ]') {\n    $bad_trade-&gt;parentNode-&gt;removeChild($bad_trade);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1420556978, "post_id": 27801262, "comment_id": 44011521, "body": "Zaid, So nice of you for your invaluable input. Actually FIRST_CHILD will not help because multiple EVENT can be there inside one TRADE...Sorry for missing this in my quetion..Hence, if first EVENT is not satisfying the condition, whereas the second EVENT is satisfying..then also   the trade is legitimate..In short even one of the EVENTS inside any TRADE satisfies teh condition then the TRADE must be selected.."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1420564087, "post_id": 27801262, "comment_id": 44016120, "body": "@vikas : The approach stays the same; just that the conditional needs to be updated to loop over all EVENT nodes and see if any of them have the attribute with the specified value."}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1420565294, "post_id": 27801262, "comment_id": 44016767, "body": "thanks a lot for your efforts. Above snippet of code is copying only those TRADES in a new file which doesn&#39;t have &#39;PROC&#39; at all under any EVENT. Whereas I wanted the opposite. I tried &#39;ne&#39; instead of &#39;eq&#39; but to no avail.Please provide your insight"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1420565502, "post_id": 27801262, "comment_id": 44016871, "body": "@vikas : Then change the first snippet from <code>if</code> to <code>unless</code>"}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1420566769, "post_id": 27801262, "comment_id": 44017567, "body": "Awesome...Done..thanx"}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1420567004, "post_id": 27801262, "comment_id": 44017683, "body": "what if I have to go one level deeper inside EVENT for one more condition. For example inside EVENT...I have &lt;EVENTNARR&gt;. And I have to check attribute value for this also. as an AND condition...In layman&#39;s language...eventype attribute of &lt;EVENT&gt; IS PROC and eventcode of &lt;EVENTNARR&gt; must be 1 and this &lt;EVENTNARR&gt; is inside &lt;EVENT&gt;..This is where I got stuck now...please help with some idea"}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 1, "last_activity_date": 1420565479, "last_edit_date": 1420565479, "creation_date": 1420556310, "answer_id": 27801262, "question_id": 27801056, "link": "https://stackoverflow.com/questions/27801056/xmltwig-to-filter-the-xml-in-perl/27801262#27801262", "title": "XML::TWIG to filter the XML in PERL", "body": "<p>You need to do a <code>$TRADE-&gt;cut</code> instead of <code>$c-&gt;cut</code>. However, since your conditional is on <code>$c</code>, you may want to do the following instead:</p>\n\n<pre><code>sub TRADE {\n\n    my ( $node, $TRADE ) = @_ ;\n\n    $TRADE-&gt;cut\n      unless grep { $_-&gt;att( 'eventtype' ) eq 'PROC' } $TRADE-&gt;children( 'EVENT' );\n}\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 27801198, "answer_count": 2, "score": -1, "last_activity_date": 1420726783, "creation_date": 1420555531, "last_edit_date": 1420726783, "question_id": 27801056, "link": "https://stackoverflow.com/questions/27801056/xmltwig-to-filter-the-xml-in-perl", "title": "XML::TWIG to filter the XML in PERL", "body": "<p>I am somehow stuck and banging my head.\nI have to delete unwanted TRADES from a huge XML file.  </p>\n\n<pre><code>&lt;TRADEEXT&gt;\n  &lt;TRADE origin = 1,version =1&gt;\n     &lt;EVENT externtype ='PROC'/&gt;\n     &lt;EVENT externtype ='PROCC'/&gt;\n  &lt;/TRADE&gt;\n  &lt;TRADE origin = 1,version =1&gt;\n     &lt;EVENT externtype ='PROCC'/&gt;\n  &lt;/TRADE&gt;\n&lt;/TRADEEXT&gt;\n</code></pre>\n\n<p>Now, the second TRADE is having externtype = 'PROCC' inside  node which is not legitimate(legitimate value is 'PROC')</p>\n\n<p>Hence the final output should be </p>\n\n<pre><code>&lt;TRADEEXT&gt;\n   &lt;TRADE origin = 1,version =1&gt;\n      &lt;EVENT externtype ='PROC'/&gt;\n      &lt;EVENT externtype ='PROCC'/&gt;\n   &lt;/TRADE&gt;\n&lt;TRADEEXT&gt;\n</code></pre>\n\n<p>which should get pasted to new file. Most important point to be noted here is even though one EVENT is having illegal value, since the other EVENT is having legitimate value, TRADE becomes legitimate.\nHence, at least one EVENT should be legitimate and that will make entire trade legitimate\nMy code is</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = new XML::Twig( twig_handlers =&gt; { TRADE =&gt; \\&amp;TRADE } );\n$twig-&gt;parsefile('1513.xml');\n$twig-&gt;set_pretty_print('indented');\n$twig-&gt;print_to_file('out.xml');\n\nsub TRADE {\n    my ( $twig, $TRADE ) = @_;\n    foreach  my $c ($TRADE-&gt;children('EVENT')) \n    {\n     $c-&gt;cut($TRADE) unless\n     $c-&gt;att('eventtype') eq \"PROC\"\n\n      ;\n    }\n}\n</code></pre>\n\n<p>Unfortunately, it's deleting EVENT tag  instead of TRADE tag.</p>\n\n<p>Any hint will be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1420551909, "post_id": 27799891, "comment_id": 44008339, "body": "Have you added perl the <code>bin</code> folder of the installed perll to your Path?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 4, "creation_date": 1420552432, "post_id": 27799891, "comment_id": 44008633, "body": "If you have used the ActivePerl installer, all should be well. You could possibly run the script by providing the full path to the Perl executable, e.g. <code>c:\\Perl\\bin\\perl.exe script.pl</code> On a more personal note, I gave up on ActivePerl long ago in favour of Strawberry Perl. Much less fuss, and I can use the modules I want, not just the ones ActivePerl has precompiled."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 3, "creation_date": 1420553839, "post_id": 27799891, "comment_id": 44009564, "body": "Why using such an old version (June 2005)?"}], "owner": {"reputation": 29, "user_id": 3456208, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f99f34cf480d601e2f78656f08e4e16?s=128&d=identicon&r=PG&f=1", "display_name": "user227668", "link": "https://stackoverflow.com/users/3456208/user227668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1420551670, "creation_date": 1420551670, "question_id": 27799891, "link": "https://stackoverflow.com/questions/27799891/not-able-to-run-perl-script-after-installing-active-perl", "title": "Not able to run Perl script after installing Active Perl", "body": "<p>After installing ActivePerl 5.8.7, I am trying to run a perl script but it says perl is not recognized as internal or external command. What should I do in order to run my script? Are there any things we should do after installing Active Perl. I am using a Windows 7 system</p>\n"}, {"tags": ["linux", "perl", "rm"], "comments": [{"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1420556407, "post_id": 27799548, "comment_id": 44011177, "body": "<i>I am a no-perl-ish guy</i>  I don&#39;t think the authors of the article really are either.  That looks like a line of code passed down from one admin to another that got slightly mangled along the way."}], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420552776, "post_id": 27799910, "comment_id": 44008861, "body": "The shell would not interpolate <code>*</code>."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420563678, "post_id": 27799910, "comment_id": 44015902, "body": "@TLP, Me ignorant. :("}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1420563639, "last_edit_date": 1420563639, "creation_date": 1420551742, "answer_id": 27799910, "question_id": 27799548, "link": "https://stackoverflow.com/questions/27799548/fast-directory-clean-up-with-perl/27799910#27799910", "title": "Fast directory clean-up with Perl", "body": "<blockquote>\n  <ol>\n  <li>the for(&lt;*>) construction - I assume it iterates through the files in the current directory. But where does it store the iterator?</li>\n  </ol>\n</blockquote>\n\n<p>for-loops can be used to iterate over arrays/lists, so if <code>&lt;*&gt;</code> produces a list, then your code is just a run of the mill for loop.  As it turns out <code>&lt;*&gt;</code> is another way to spell glob(), which is sort of like a regex for retrieving file names, and glob() returns a list in <em>list context</em>--which is the context a for loop provides.  See: <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/glob.html</a>.</p>\n\n<p><del>Note that the single quotes keep the shell from expanding the <code>*</code>, which would prevent perl from ever seeing it.</del></p>\n"}, {"comments": [{"owner": {"reputation": 9652, "user_id": 330471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bdaf14cd9b5ee9373f0b4c801c339dd9?s=128&d=identicon&r=PG", "display_name": "shybovycha", "link": "https://stackoverflow.com/users/330471/shybovycha"}, "edited": false, "score": 0, "creation_date": 1420551980, "post_id": 27799935, "comment_id": 44008382, "body": "Nice! And what&#39;s about that <code>unlink</code> call result? Why is it compared to <code>stat[9]</code>???"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 9652, "user_id": 330471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bdaf14cd9b5ee9373f0b4c801c339dd9?s=128&d=identicon&r=PG", "display_name": "shybovycha", "link": "https://stackoverflow.com/users/330471/shybovycha"}, "edited": false, "score": 0, "creation_date": 1420552459, "post_id": 27799935, "comment_id": 44008650, "body": "I see no reason for that, unlink either returns <code>1</code> or the false value, depending on success. Maybe it&#39;s a really short way to execute both commands, but <code>;</code> should be as terse."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1420552720, "post_id": 27799935, "comment_id": 44008829, "body": "Using <code>stat</code> in void context is completely redundant as well. If there was a comparison of modification date, that would make sense. This would just delete all files. One might as well replace that with <code>unlink &lt;*&gt;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420556719, "post_id": 27799935, "comment_id": 44011368, "body": "There&#39;s no iterator. <code>&lt;&gt;</code> in list context returns all results (for both <code>readline</code> and <code>glob</code> versions)."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420562045, "post_id": 27799935, "comment_id": 44014855, "body": "@ikegami: The diamond is reffered to as iterator in some part of the docs. I already stated that you get all results in the third sentence."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420562485, "post_id": 27799935, "comment_id": 44015134, "body": "@Patrick J. S., Of course they do; it&#39;s an iterator in scalar context. If you&#39;re calling the operator iterator, then your comment (&quot;you can&#39;t access the iterator itself&quot;) makes no sense, since he is accessing (using) the operator. Either way, that comment is wrong."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420562633, "post_id": 27799935, "comment_id": 44015219, "body": "@Patrick J. S., Of course they do; it&#39;s an iterator in scalar context. Sounds like you&#39;re saying you you&#39;re calling the operator iterator, but then your comment (&quot;you can&#39;t access the iterator itself&quot;) makes no sense since he is accessing (using) the operator. Either way, that comment is wrong."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420563451, "post_id": 27799935, "comment_id": 44015740, "body": "@ikegami: What I meant is, that there is no accessible iterator object, like in other languages. Do you think I should clarify that?"}], "tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": true, "score": 3, "last_activity_date": 1420563535, "last_edit_date": 1420563535, "creation_date": 1420551822, "answer_id": 27799935, "question_id": 27799548, "link": "https://stackoverflow.com/questions/27799548/fast-directory-clean-up-with-perl/27799935#27799935", "title": "Fast directory clean-up with Perl", "body": "<p>That one liner takes many shortcuts:</p>\n\n<ol>\n<li>The <a href=\"http://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow\"><code>&lt;*&gt;</code></a> is a special case of the diamond operator. You can't access an iterator object, like in other languages. Here, it calls the <code>glob</code> function. In list context it returns a list from all the results (which are either lines of a file, or, as in your case, contents of a diretory. The return value of that is passed to <code>for</code> which iterates over a list and aliases the values in <code>$_</code>. <code>$_</code> is the \"default variable\" for many functions\u2026</li>\n<li>Which brings us here. Many core functions default to <code>$_</code> with no argument. So do <a href=\"http://perldoc.perl.org/functions/unlink.html\" rel=\"nofollow\"><code>unlink</code></a> and <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow\"><code>stat</code></a>.</li>\n<li><code>(stat)[9]</code> means execute <code>stat</code> in list context and select the 10th result (indices start at zero, this is the modify time). (compare that to an array access like <code>$foo[9]</code>).</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1420565931, "post_id": 27800382, "comment_id": 44017094, "body": "<b>&lt;*&gt; can also be replaced with glob &quot;*&quot; which might be more readable.</b> You should use glob in your answer--because it&#39;s the &lt;*&gt; that makes it look like a file handle is involved."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 3, "last_activity_date": 1420553290, "creation_date": 1420553290, "answer_id": 27800382, "question_id": 27799548, "link": "https://stackoverflow.com/questions/27799548/fast-directory-clean-up-with-perl/27800382#27800382", "title": "Fast directory clean-up with Perl", "body": "<p>The code</p>\n\n<pre><code>for(&lt;*&gt;){((stat)[9]&lt;(unlink))}\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>for my $file (&lt;*&gt;) {\n    my $mtime = (stat($file))[9];\n    $mtime &lt; unlink($file);\n}\n</code></pre>\n\n<p><code>&lt;*&gt;</code> can also be replaced with <code>glob \"*\"</code> which might be more readable.</p>\n\n<p>The code will delete all files in the current directory. It will not delete directories.</p>\n\n<p>Note that the last statement in the loop is completely redundant. If <code>use warnings</code> is in effect, it will give the warning:</p>\n\n<pre><code>Useless use of numeric lt (&lt;) in void context\n</code></pre>\n\n<p>For this code to make sense, I would expect a comparison that actually matters, like comparing <code>$mtime</code> to some time to know which logs are old, e.g.:</p>\n\n<pre><code>if ($mtime &lt; $oldtime) {\n    unlink $file or die \"Cannot unlink $file: $!\";\n}\n</code></pre>\n\n<p>Note also that it might be prudent to check for failure when deleting files.</p>\n"}], "owner": {"reputation": 9652, "user_id": 330471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bdaf14cd9b5ee9373f0b4c801c339dd9?s=128&d=identicon&r=PG", "display_name": "shybovycha", "link": "https://stackoverflow.com/users/330471/shybovycha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "accepted_answer_id": 27799935, "answer_count": 3, "score": 1, "last_activity_date": 1420563639, "creation_date": 1420550363, "question_id": 27799548, "link": "https://stackoverflow.com/questions/27799548/fast-directory-clean-up-with-perl", "title": "Fast directory clean-up with Perl", "body": "<p>I have a need to clean-up directory with millions of log files on my webserver. And I've found <a href=\"http://www.slashroot.in/which-is-the-fastest-method-to-delete-files-in-linux\" rel=\"nofollow\">this great article</a> on how to do this. There is, however, a couple interesting things in that one-liner, which I am interested in.</p>\n\n<p>Here's the Perl code I am interested in:</p>\n\n<pre><code>for(&lt;*&gt;){((stat)[9]&lt;(unlink))}\n</code></pre>\n\n<p>Runned with <code>perl -e 'code'</code>.</p>\n\n<p>So, here are my questions:</p>\n\n<ol>\n<li>the <code>for(&lt;*&gt;)</code> construction - I assume it iterates through the files in the current directory. But where does it store the iterator?</li>\n<li>the <code>stat</code> and <code>unlink</code> functions expect at least one argument, I assume... But where is it?</li>\n<li>why the result of calling <code>(stat)[9]</code> is compared to the result of calling <code>(unlink)</code>? And what does it results in?</li>\n</ol>\n\n<p>Sorry, I am a no-perl-ish guy, thus I do not understand all those Perl abbreviations. That's why I am asking this question.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1420550962, "post_id": 27798388, "comment_id": 44007801, "body": "What have you tried? What problems are you having? We aren&#39;t here to write your code for you, you know :-)"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 3033130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8246c7f32dff21c36638da186a5350f2?s=128&d=identicon&r=PG&f=1", "display_name": "dcsmwy", "link": "https://stackoverflow.com/users/3033130/dcsmwy"}, "edited": false, "score": 0, "creation_date": 1420548365, "post_id": 27798422, "comment_id": 44006351, "body": "It&#180;s ok, but when I split a string beginning with a number like &quot;123abc&quot;, I&#180;m getting an empty item at the start of the array. Can I avoid this?"}], "tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": false, "score": 1, "last_activity_date": 1420550494, "last_edit_date": 1420550494, "creation_date": 1420546303, "answer_id": 27798422, "question_id": 27798388, "link": "https://stackoverflow.com/questions/27798388/split-string-into-array-of-words-and-numbers-using-perl/27798422#27798422", "title": "Split string into array of words and numbers using Perl", "body": "<p>Something like this will do:</p>\n\n<pre><code>split (/(\\d+)/, $x);\n</code></pre>\n\n<p>With a full working example:</p>\n\n<pre><code>use strict; use warnings;\n\nmy $x = 'aa132bc4253defg18';\n\nmy @y = split /(\\d+)/, $x;\n\nprint join \",\", @y;\n</code></pre>\n\n<p>The important sections in <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">perldoc split</a> are:</p>\n\n<blockquote>\n  <p>Anything in EXPR that matches PATTERN is taken to be a separator that separates the EXPR into substrings (called \"fields\") that do not include the separator.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>If the PATTERN contains capturing groups, then for each separator, an additional field is produced for each substring captured by a group (in the order in which the groups are specified, as per backreferences);</p>\n</blockquote>\n\n<p><strong>Edit</strong></p>\n\n<p>If the string starts with a number, <code>split</code> will return an empty element. These can be elimanated with a <code>grep</code>:</p>\n\n<pre><code>grep {$_} split /(\\d+)/, $x;\n</code></pre>\n\n<p>The example becomes</p>\n\n<pre><code>use strict; use warnings;\n\nmy $x = '44aa132bc4253defg18';\n\nmy @y = grep {$_} split /(\\d+)/, $x;\n\nprint join \",\", @y;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1420554039, "creation_date": 1420554039, "answer_id": 27800645, "question_id": 27798388, "link": "https://stackoverflow.com/questions/27798388/split-string-into-array-of-words-and-numbers-using-perl/27800645#27800645", "title": "Split string into array of words and numbers using Perl", "body": "<p>How about:</p>\n\n<pre><code>use Modern::Perl;\nuse Data::Dump qw(dump);\n\nmy $str = \"aa132bc4253defg18\";\nmy @l = split(/(?&lt;=\\d)(?=\\D)|(?&lt;=\\D)(?=\\d)/, $str);\ndump@l;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>(\"aa\", 132, \"bc\", 4253, \"defg\", 18)\n</code></pre>\n\n<p>It splits between a digit <code>\\d</code> and a non digit <code>\\D</code>, in both order.</p>\n"}], "owner": {"reputation": 29, "user_id": 3033130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8246c7f32dff21c36638da186a5350f2?s=128&d=identicon&r=PG&f=1", "display_name": "dcsmwy", "link": "https://stackoverflow.com/users/3033130/dcsmwy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2907, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1420554039, "creation_date": 1420546140, "last_edit_date": 1420549515, "question_id": 27798388, "link": "https://stackoverflow.com/questions/27798388/split-string-into-array-of-words-and-numbers-using-perl", "title": "Split string into array of words and numbers using Perl", "body": "<p>How can I split a string like \"<strong>aa132bc4253defg18</strong>\" to get an array of words and numbers: </p>\n\n<ul>\n<li>aa,132,bc,4253,defg,18</li>\n</ul>\n\n<p>I\u00b4m using Perl. The lengths of the subtrings are variable.</p>\n"}, {"tags": ["perl", "putty", "plink", "siebel"], "comments": [{"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1420549712, "post_id": 27798286, "comment_id": 44007127, "body": "What is <code>start_http</code> and does it return to shell prompt when you execute it in an SSH terminal?"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 1182624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1666d972679bbec05fd2963ec6d49486?s=128&d=identicon&r=PG", "display_name": "arunkumarreddy", "link": "https://stackoverflow.com/users/1182624/arunkumarreddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1431373910, "last_edit_date": 1431373910, "creation_date": 1431371307, "answer_id": 30175713, "question_id": 27798286, "link": "https://stackoverflow.com/questions/27798286/plink-is-not-returning-to-command-prompt-when-executing-start-http/30175713#30175713", "title": "Plink is not returning to command prompt when executing start_http", "body": "<p><code>stdout/err</code> must be detached from the terminal.</p>\n\n<p>So change command to</p>\n\n<pre><code>system(\"cmd /c c:\\\\plink.exe -batch -ssh -l $user_name @ $host_name  -pw  $pwd start_http /dev/null 2&gt;&amp;1 &amp;\");\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 3953638, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/533a7c8a1f729db60eb0fac4fbfc8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Vysh", "link": "https://stackoverflow.com/users/3953638/vysh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1494, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431373910, "creation_date": 1420545825, "last_edit_date": 1420549801, "question_id": 27798286, "link": "https://stackoverflow.com/questions/27798286/plink-is-not-returning-to-command-prompt-when-executing-start-http", "title": "Plink is not returning to command prompt when executing start_http", "body": "<p>I'm executing a command using Plink through a Perl file from a Windows machine.</p>\n\n<pre><code>system(\"cmd /c c:\\\\plink.exe -batch -ssh -l $user_name @ $host_name  -pw  $pwd start_http\");\n</code></pre>\n\n<p>Execution is hanging. When I execute the same command from command prompt, Plink is not returning to command prompt.</p>\n\n<p>Tried using <code>&amp;</code> at the end of the command but no use. And I don't want to redirect output to any log file.</p>\n\n<p>Whereas \"stop\" command is working fine</p>\n\n<pre><code>system(\"cmd /c c:\\\\plink.exe -batch -ssh -l $user_name @ $host_name  -pw  $pwd stop_http\");\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 4, "last_activity_date": 1420541953, "creation_date": 1420541953, "answer_id": 27797222, "question_id": 27796987, "link": "https://stackoverflow.com/questions/27796987/what-is-q-in-perl-is-it-always-necessary-to-use-e/27797222#27797222", "title": "What is \\Q in Perl? Is it always necessary to use \\E?", "body": "<p><code>\\E</code> marks the end, not just of <code>\\Q</code>, but other escapes, such as <code>\\U</code>. So you would use it when you need the <code>\\Q</code> sequence to end. But I think you are overthinking things. <code>\\Q</code> is the escape version of <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\"><code>quotemeta()</code></a>.</p>\n\n<pre><code>\"(foobar\" =~ /\\Q(fo+bar/    # false, \"+\" gets escaped\n\"(foobar\" =~ /\\Q(\\Efo+bar/  # true\n</code></pre>\n\n<p>I would not say \"should be used\". If you do not use <code>\\E</code>, then <code>\\Q</code> continues through your whole pattern.</p>\n\n<p>A more tangible way to see how <code>\\E</code> works is to use it with <code>\\U</code>:</p>\n\n<pre><code>$ perl -lwe' print \"\\Ufoobar\" '\nFOOBAR\n$ perl -lwe' print \"\\Ufoo\\Ebar\" '\nFOObar\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420546975, "post_id": 27797247, "comment_id": 44005623, "body": "Pretty interesting. When you say &quot;if nothing dangerous follows&quot;, it is always within the scope of the pattern matching <code>&#47;$x&#47;</code>, right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420549880, "post_id": 27797247, "comment_id": 44007210, "body": "@fedorqui, Actually, no. Inside regex literals and double-quote string literals."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420550680, "post_id": 27797247, "comment_id": 44007611, "body": "@ikegami I am not very sure to understand what you mean. Could you give an example of it?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1420542036, "creation_date": 1420542036, "answer_id": 27797247, "question_id": 27796987, "link": "https://stackoverflow.com/questions/27796987/what-is-q-in-perl-is-it-always-necessary-to-use-e/27797247#27797247", "title": "What is \\Q in Perl? Is it always necessary to use \\E?", "body": "<p>The final <code>\\E</code> is not needed if nothing dangerous follows it. I'm not sure this behaviour is documented, but I've seen it many times.</p>\n\n<p>It's also interesting to see how variable interpolation plays with <code>\\Q</code>:</p>\n\n<pre><code>perl -E '$x = \"lo\\$\"; say \"hello\" =~ /$x/'\n1\n\nperl -E '$x = \"lo\\$\"; say \"hello\" =~ /\\Q$x/'\n\n# ^\n# | empty line here.\n</code></pre>\n\n<p>See also <a href=\"http://p3rl.org/quotemeta\" rel=\"nofollow\">quotemeta</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420560797, "post_id": 27801036, "comment_id": 44014034, "body": "Great, so <code>\\Q ... \\E</code> is the same as <code>quotemeta(...)</code>. It is not exactly what I was asking (in fact I discovered the existence of <code>quotemeta</code> from the answers of this question), but it is quite a valuable information that I guess some day I will use :) Many thanks and +1!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420561500, "post_id": 27801036, "comment_id": 44014506, "body": "Added <code>\\t</code> to example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420561687, "post_id": 27801036, "comment_id": 44014622, "body": "Re &quot;It is not exactly what I was asking&quot;, You mean, I didn&#39;t answer &quot;So is this the way <code>\\Q</code> and <code>\\E</code> should be used?&quot;? Depends on what you want. If you use it to do what you want, you&#39;re using it the way it should be used."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420562012, "post_id": 27801036, "comment_id": 44014836, "body": "Haha don&#39;t get me wrong :) As I am just learning some Perl, I wanted to know if <code>\\Q</code> and <code>\\E</code> have to go always together or not. Also, I wondered if there are other circumstances in which they can be used. That is, I wanted some canonical answer regarding the usage of <code>\\Q</code> and <code>\\E</code>. I said &quot;It is not exactly what I was asking&quot; because of your approach of showing it being like <code>quotemeta</code>, nothing else. But I probably didn&#39;t explain myself properly, so apologies for that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420562667, "post_id": 27801036, "comment_id": 44015230, "body": "I did answer that. &quot;<code>\\E</code> can be omitted if it&#39;s at the end of the literal.&quot;"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1420562928, "post_id": 27801036, "comment_id": 44015396, "body": "I will check the answers again tomorrow, there&#39;s been a lot of good information in these answers that I have to digest. Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1420561491, "last_edit_date": 1420561491, "creation_date": 1420555445, "answer_id": 27801036, "question_id": 27796987, "link": "https://stackoverflow.com/questions/27796987/what-is-q-in-perl-is-it-always-necessary-to-use-e/27801036#27801036", "title": "What is \\Q in Perl? Is it always necessary to use \\E?", "body": "<p>Just like <code>\"abc $x def\"</code> is the same as <code>\"abc \".$x.\" def\"</code></p>\n\n<pre><code>$ diff -u0 \\\n   &lt;( perl -MO=Concise,-exec -E'$_ = \"abc $x def\";'     2&gt;&amp;1 ) \\\n   &lt;( perl -MO=Concise,-exec -E'$_ = \"abc \".$x.\" def\";' 2&gt;&amp;1 ) \\\n      &amp;&amp; echo \"same\"\nsame\n</code></pre>\n\n<p><code>\"abc \\Q$x\\t\\E def\"</code> is the same as <code>\"abc \".quotemeta($x.\"\\t\").\" def\"</code></p>\n\n<pre><code>$ diff -u0 \\\n   &lt;( perl -MO=Concise,-exec -E'$_ = \"abc \\Q$x\\t\\E def\";'               2&gt;&amp;1 ) \\\n   &lt;( perl -MO=Concise,-exec -E'$_ = \"abc \".quotemeta($x.\"\\t\").\" def\";' 2&gt;&amp;1 ) \\\n      &amp;&amp; echo \"same\"\n--- /dev/fd/63  2015-01-06 11:22:49.564061341 -0500\n+++ /dev/fd/62  2015-01-06 11:22:49.564061341 -0500\n@@ -7,3 +7,3 @@\n-6  &lt;2&gt; concat[t3] sK/2\n-7  &lt;1&gt; quotemeta[t4] sK/1\n-8  &lt;2&gt; concat[t5] sK/2\n+6  &lt;2&gt; concat[t4] sK/2\n+7  &lt;1&gt; quotemeta[t5] sK/1\n+8  &lt;2&gt; concat[t6] sK/2\n@@ -11 +11 @@\n-a  &lt;2&gt; concat[t6] sKS/2\n+a  &lt;2&gt; concat[t7] sKS/2\n</code></pre>\n\n<p>(The difference is just an difference in the indexes in the \"pad\", the array where lexicals are stored.)</p>\n\n<p>It can also be used in regexp literals.</p>\n\n<pre><code>my $exact_text = \"...\";\nmy $pat = quotemeta($exact_text);\nif (/$pat/) { ... }\n</code></pre>\n\n<p>is long for </p>\n\n<pre><code>my $exact_text = \"...\";\nif (/\\Q$exact_text\\E/) { ... }\n</code></pre>\n\n<p><code>\\E</code> can be omitted if it's at the end of the literal.</p>\n\n<pre><code>my $exact_text = \"...\";\nif (/\\Q$exact_text/) { ... }\n</code></pre>\n"}], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1285, "favorite_count": 0, "accepted_answer_id": 27797222, "answer_count": 3, "score": 2, "last_activity_date": 1420561491, "creation_date": 1420541227, "question_id": 27796987, "link": "https://stackoverflow.com/questions/27796987/what-is-q-in-perl-is-it-always-necessary-to-use-e", "title": "What is \\Q in Perl? Is it always necessary to use \\E?", "body": "<p>I just read about <code>\\Q</code> and <code>\\E</code> and I am trying to fully undertand them. According to <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a>:</p>\n\n<blockquote>\n  <p>\\Q quote (disable) pattern metacharacters until \\E</p>\n  \n  <p>\\E end either case modification or quoted section, think vi</p>\n</blockquote>\n\n<p>So I did a couple of tests:</p>\n\n<pre><code>$ perl -e 'print \"hello\\n\" if \"he\\\\tllo\" =~ /\\Q\\t/'\nhello\n$ perl -e 'print \"hello\\n\" if \"he\\\\tllo\" =~ /\\t/'\n$ \n</code></pre>\n\n<p>If I understand it properly, without <code>\\Q</code> it does not evaluate as True because it considers <code>\\t</code> as a tab.</p>\n\n<p>Then I used <code>\\E</code> and I see no difference:</p>\n\n<pre><code>$ perl -e 'print \"hello\\n\" if \"he\\\\tllo\" =~ /\\Q\\t\\E/'\nhello\n</code></pre>\n\n<p>If I give a broader string and pattern containing both literal <code>\\t</code> and a tab:</p>\n\n<pre><code>$ perl -e 'print \"hello\\n\" if \"he\\\\tl\\tlo\" =~ /\\Q\\t\\E.*\\t/'\nhello\n</code></pre>\n\n<p>It seems to work, because it considers the first <code>\\t</code> as fixed string, whereas the second <code>\\t</code> is considered a tab.</p>\n\n<p>So is this the way <code>\\Q</code> and <code>\\E</code> should be used? That is, do we enclose the \"clean\" strings in between <code>\\Q</code> and <code>\\E</code>? Is it correct to just use <code>\\Q</code> if everything should be treated as literal?</p>\n"}, {"tags": ["linux", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 4152676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760af3b37bd877ca2b307137542a5d66?s=128&d=identicon&r=PG&f=1", "display_name": "Maik", "link": "https://stackoverflow.com/users/4152676/maik"}, "edited": false, "score": 0, "creation_date": 1420540465, "post_id": 27796570, "comment_id": 44002113, "body": "yeah, i read these topics and think i just need to find another way, because manually installing isn&#39;t possible - we got no connection to the internet at all. But i&#39;m aware now, that just copying modules isn&#39;t that easy ;)"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1420539799, "last_edit_date": 1495535364, "creation_date": 1420539799, "answer_id": 27796570, "question_id": 27796327, "link": "https://stackoverflow.com/questions/27796327/copy-perl-modules-to-other-machines/27796570#27796570", "title": "Copy perl modules to other machines", "body": "<p>It's not a good idea to copy modules from one machine to another. What if your module or its dependencies are written partially in C (XS)? </p>\n\n<p>If you can't use <code>cpan</code> on other machine then download the module and its dependencies from <a href=\"https://metacpan.org\" rel=\"nofollow noreferrer\">https://metacpan.org</a> and install them manually.</p>\n\n<p>See:  </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2682608/why-cant-i-simply-copy-installed-perl-modules-to-other-machines\">Why can&#39;t I simply copy installed Perl modules to other machines?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7541019/manual-installation-of-a-perl-module\">Manual installation of a Perl Module</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "is_accepted": false, "score": 1, "last_activity_date": 1420555297, "last_edit_date": 1495540055, "creation_date": 1420555297, "answer_id": 27801000, "question_id": 27796327, "link": "https://stackoverflow.com/questions/27796327/copy-perl-modules-to-other-machines/27801000#27801000", "title": "Copy perl modules to other machines", "body": "<p>This has been answered elsewhere. Please see</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/21604150/package-all-perl-module-dependencies\">Package all Perl module dependencies?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17207800/install-perl-modules-with-lots-of-dependencies-on-a-machine-without-cpan-network\">Install Perl modules with lots of dependencies on a machine without CPAN network access</a></li>\n</ul>\n"}], "owner": {"reputation": 161, "user_id": 4152676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/760af3b37bd877ca2b307137542a5d66?s=128&d=identicon&r=PG&f=1", "display_name": "Maik", "link": "https://stackoverflow.com/users/4152676/maik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1787, "favorite_count": 0, "accepted_answer_id": 27796570, "answer_count": 2, "score": 1, "last_activity_date": 1420555297, "creation_date": 1420538906, "last_edit_date": 1420541640, "question_id": 27796327, "link": "https://stackoverflow.com/questions/27796327/copy-perl-modules-to-other-machines", "title": "Copy perl modules to other machines", "body": "<p>I have to use a Perl script on different (linux based) Database machines with the DBI module to connect. The oracle drivers are installed, too.</p>\n\n<p>Perl and all the modules are only installed on my 'home' machine, it's not possible on the others. So i tried to copy the modules from the working machine to a DB machine.</p>\n\n<p>I get following error:</p>\n\n<pre><code>install_driver(Oracle) failed: Unable to get DBI state function. DBI not loaded. at /usr/lib64/perl5/DynaLoader.pm line 223.\nCompilation failed in require at (eval 5) line 3.\n</code></pre>\n\n<p>My modules are installed with cpanmini, how can i find out which modules to copy for my script? I think there are dependencies which i don't recognize?!</p>\n"}, {"tags": ["perl", "parameters", "subroutine"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1420539429, "post_id": 27796315, "comment_id": 44001610, "body": "Why not use <code>shift</code> to achieve this?"}, {"owner": {"reputation": 79, "user_id": 4218143, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3caa09bca3d51eca7aa505bd820ec8aa?s=128&d=identicon&r=PG&f=1", "display_name": "d9h", "link": "https://stackoverflow.com/users/4218143/d9h"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1420539669, "post_id": 27796315, "comment_id": 44001723, "body": "That&#39;s what I&#39;m doing in the subroutine"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1420540330, "post_id": 27796315, "comment_id": 44002039, "body": "But why would you like to write the subroutine? When you could simply use <code>shift</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1420541715, "last_edit_date": 1420541715, "creation_date": 1420540450, "answer_id": 27796764, "question_id": 27796315, "link": "https://stackoverflow.com/questions/27796315/modify-subroutine-parameter-perl/27796764#27796764", "title": "Modify subroutine parameter (Perl)", "body": "<p>You need to put a slash in front of the <code>@</code> prototype to get an array reference, and then modify the reference. If you just use <code>@</code> you will get a copy of the array <code>@list</code> in the subroutine (and the array in the parent would therefore not be modified). From <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow\">http://perldoc.perl.org/perlsub.html#Prototypes</a>:</p>\n\n<blockquote>\n  <p>Unbackslashed prototype characters have special meanings. Any\n  unbackslashed @ or % eats all remaining arguments, and forces list\n  context.</p>\n</blockquote>\n\n<p>So you could write:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub first (\\@) {\n    my $a = shift;\n    return shift @$a;\n}\n\nmy @list = (1,2,3);\nprint first(@list) . \"\\n\"; \nprint \"@list\" . \"\\n\"; \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n2 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1420545452, "creation_date": 1420545452, "answer_id": 27798182, "question_id": 27796315, "link": "https://stackoverflow.com/questions/27796315/modify-subroutine-parameter-perl/27798182#27798182", "title": "Modify subroutine parameter (Perl)", "body": "<p>You don't have lists there, you have arrays. Arrays and lists are different in Perl (as this <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow\">great blog post</a> explains). If you have an array called <code>@list</code> then you're just guaranteed to confuse yourself (and whoever maintains your code in the future).</p>\n"}], "owner": {"reputation": 79, "user_id": 4218143, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3caa09bca3d51eca7aa505bd820ec8aa?s=128&d=identicon&r=PG&f=1", "display_name": "d9h", "link": "https://stackoverflow.com/users/4218143/d9h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 27796764, "answer_count": 2, "score": 2, "last_activity_date": 1420545452, "creation_date": 1420538849, "question_id": 27796315, "link": "https://stackoverflow.com/questions/27796315/modify-subroutine-parameter-perl", "title": "Modify subroutine parameter (Perl)", "body": "<p>I want to write a Perl subroutine <code>first</code> which takes a list as an input, returns the first element in the list and removes the first element from the list.</p>\n\n<p>Like this:</p>\n\n<pre><code>@list = (1,2,3);\nprint first(@list); // 1\nprint @list; // 23\n</code></pre>\n\n<p>This is not quite working:</p>\n\n<pre><code>sub first(@) {\n    return shift @_;\n}\n</code></pre>\n\n<p>What I get is:</p>\n\n<pre><code>print first(@list); // 1\nprint @list; // 123\n</code></pre>\n\n<p>The stack variable @_ changes the way I expect it to (first it is <code>(1, 2, 3)</code> then it is <code>(2, 3)</code>), but the list I give as an input (<code>@list</code>) is not changed. I thought the stack variable saves a reference to the variable it refers to.</p>\n\n<p>When I change a list element in the subroutine it also changes something in <code>@list</code> but not the one I wanted to, but that one + 1. So if I in the subroutine I were to write:</p>\n\n<pre><code>@_[0] = \"X\";\n</code></pre>\n\n<p>and after executing the subroutine print <code>@list</code>, I would get <code>2X6</code>.</p>\n"}, {"tags": ["regex", "string", "perl", "filenames"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4423240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16037a24ef7c30418a586d86e43d0f8?s=128&d=identicon&r=PG&f=1", "display_name": "errorsmith", "link": "https://stackoverflow.com/users/4423240/errorsmith"}, "edited": false, "score": 0, "creation_date": 1420541103, "post_id": 27796418, "comment_id": 44002457, "body": "This is excellent! But it bails out on  id = &quot;vehicle/train/BR 78_Body.grp&quot;, Can you tell me why it does this?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 13, "user_id": 4423240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16037a24ef7c30418a586d86e43d0f8?s=128&d=identicon&r=PG&f=1", "display_name": "errorsmith", "link": "https://stackoverflow.com/users/4423240/errorsmith"}, "edited": false, "score": 0, "creation_date": 1420541320, "post_id": 27796418, "comment_id": 44002574, "body": "It&#39;s because you have a space in your filename. Try with this: <a href=\"https://regex101.com/r/bA4oZ7/2\" rel=\"nofollow noreferrer\">regex101.com/r/bA4oZ7/2</a>"}], "tags": [], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "is_accepted": true, "score": 0, "last_activity_date": 1420542008, "last_edit_date": 1420542008, "creation_date": 1420539253, "answer_id": 27796418, "question_id": 27796242, "link": "https://stackoverflow.com/questions/27796242/extract-filename-with-perl/27796418#27796418", "title": "Extract filename with Perl", "body": "<p>I think it's better to have only one regex:</p>\n\n<pre><code>while (&lt;$filehandle&gt;)\n{\n   my @filenames = /(?&lt;=\")(?:\\w+\\/)*\\w+[.]\\w+(?:\")/g;\n   say join(\"$_\\n\", @filename) if @filename &gt; 0;\n}\n</code></pre>\n\n<p>See here for the regexp:\n<a href=\"https://regex101.com/r/bA4oZ7/1\" rel=\"nofollow\">https://regex101.com/r/bA4oZ7/1</a></p>\n\n<p>The 'x' modificator allow to write a multiline regex and add some comments here the explanation of your regex (available here: <a href=\"https://regex101.com/r/bA4oZ7/3\" rel=\"nofollow\">https://regex101.com/r/bA4oZ7/3</a>)</p>\n\n<pre><code>my $re qr/(?&lt;=\") # A filename is after a double quote char\n(?:[^\"\\/]+\\/)+   # the path is one or more words separated with a slash\n[^\"\\/]+          # The filename (not the path) can be anything but a double quote char and a slash\n[.]\\w+           # The extension cannot have space and have the form of .foobar\n(?:\")            # A filename end with a double quote char\n/gx;\n\n...\nmy @filenames = /$re/g;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4423240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16037a24ef7c30418a586d86e43d0f8?s=128&d=identicon&r=PG&f=1", "display_name": "errorsmith", "link": "https://stackoverflow.com/users/4423240/errorsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 27796418, "answer_count": 1, "score": 1, "last_activity_date": 1420542008, "creation_date": 1420538612, "last_edit_date": 1420540296, "question_id": 27796242, "link": "https://stackoverflow.com/questions/27796242/extract-filename-with-perl", "title": "Extract filename with Perl", "body": "<p>I'm writing a Script wich reads several files line by line, checks each line for file-references and then checks for the existence of these files.</p>\n\n<p>Inside the files I've got strings like this:\n<code>\nexample 1: soundSet = { name = \"bus_modern\", horn = \"vehicle/truck_modern/horn.wav\" }\nexample 2: id = \"vehicle/bus/citaro/lod_0_w2.msh\",\nexample 3: \"vehicle/bus/berkhof_duvedec/berkhof_duvedec_lod_0_w2.msh\", \"vehicle/bus/berkhof_duvedec/berkhof_duvedec_lod_0_w3.msh\", \n</code></p>\n\n<p>So I need to extract somehow the filename from the strings.\nMy current attempt was to remove all whitespace from the string, cut the first part including the \"-char and chop off everything after the second \"-char.</p>\n\n<p>This obviously doesn't work well with example 1 and 3:\nIn example 1 I've got my file-reference in the second part of my string, in example 3 I've got two files to extract. </p>\n\n<p>No I'm quite stumped, how can I extract any file reference from a given string?</p>\n\n<pre><code>    open $filehandle, \"&lt;\", $file or die \"can't open $file\\n\";\n\n    # read the whole file and check for references\n    while (&lt;$filehandle&gt;)\n    {\n        my $line=$_;\n        my $count=0;\n       $count++ while ($line =~ m/\\//g);\n       # looks like we found a file-reference\n        if ( $count &gt; 1) \n        { \n           # remove all whitespace now\n\n            # prefix whitespace\n            $line =~ s/^\\s+//;\n\n            # suffix whitespace\n            $line =~ ~ s/\\s+$//;\n\n            # intermediate whitespace\n            $line=~ s/ //g;\n\n            # cut until \"\n            $line=~ s/[^\\\"]*\\\"//;\n            pdebug (2, \"    rem-pre-\\\": $line \\n\");\n\n            # chop off all chars after \"\n            my $oper = index($line, '\"');\n            my $word = substr($line, 0, $oper);\n            $line=$word;\n\n\n            # putting it together\n            my $searchfile=buildpath($line);\n            if ( -e $searchfile )\n            {\n                pdebug(1,\"found\\n\");\n            }\n            else\n            {\n                pdebug(1,\"not found\\n\");\n                print \"\\nunmatched reference in file:\\n$file\\n\";\n                findline($file,$line);\n                print\"\\ncouldn't find file:\\n       $searchfile\\nreferenced as:\\n$line\\n\";\n\n\n            }\n        }\n</code></pre>\n\n<p>This is the relevant part of my code so far. Not shown is the part where I'm iterating through the directory structure to identify every file wich has to be checked.\nUsed subs not in code not shown here:</p>\n\n<p>pdebug: prints out debugtext</p>\n\n<p>findline: expects filename and a string to search for, prints out the linenumber(s) where it is found</p>\n\n<p>buildpath: each filetype belongs to a subdirectory (i.e. .wav in audio/effects, .tga in textures), buildpath examines a filename and returns a complete path</p>\n\n<p>Can someone get me into the right direction here?</p>\n"}, {"tags": ["regex", "perl", "ssh"], "comments": [{"owner": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "edited": false, "score": 0, "creation_date": 1420538604, "post_id": 27796193, "comment_id": 44001144, "body": "OS is Linux 2.6.32-279.el6.x86_64"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1420539278, "post_id": 27796193, "comment_id": 44001539, "body": "I&#39;d try double-escaping the <code>$</code> as <code>\\\\$</code>, but am not in a position to test it out."}, {"owner": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1420539908, "post_id": 27796193, "comment_id": 44001826, "body": "I did try this as well but didn&#39;t work &quot;Variable name must contain alphanumeric characters.&quot;"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1420542916, "post_id": 27796193, "comment_id": 44003524, "body": "have you tried <code>&#47;^\\Z&#47;</code> and/or adding a space before your regex?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1420543041, "post_id": 27796193, "comment_id": 44003581, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/23597777/quoting-in-bash-and-perl-in-recursive-ssh-command\" title=\"quoting in bash and perl in recursive ssh command\">stackoverflow.com/questions/23597777/&hellip;</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1420544132, "post_id": 27796193, "comment_id": 44004157, "body": "To escape the dollar sign in the first command you need three backslashes..."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420544930, "post_id": 27796193, "comment_id": 44004532, "body": "Try putting a <code>-n</code> as one of your Perl parameters: ` -n:  assume &quot;while (&lt;&gt;) { ... }&quot; loop around program<code>. This should set </code>$_` for your <code>m&#47;....&#47;</code> and <code>s&#47;...&#47;...&#47;</code> expressions. As long as your Perl script appears in single quotes, you don&#39;t have to put a backslash in front of <code>$</code>"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420545421, "post_id": 27796193, "comment_id": 44004800, "body": "Just curious about <code>m&#47;\\[MyTag\\]&#47;..&#47;^$&#47;</code>. What is this suppose to mean? Normally <code>m&#47;...&#47;</code> should be a single regular expression surrounded by <code>&#47;</code>."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1420551034, "post_id": 27796193, "comment_id": 44007838, "body": "@davidW no that&#39;s fine, it&#39;s two regular expressions connected with a <code>..</code> operator."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420567184, "post_id": 27796193, "comment_id": 44017781, "body": "Ah, of course. I thought the OP was using ellipses to show missing information."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1420625699, "post_id": 27796193, "comment_id": 44040156, "body": "Nothing in your current Perl code would produce this error message.  Can you please post a snippet which actually exhibits this behavior?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "edited": false, "score": 0, "creation_date": 1420554727, "post_id": 27797870, "comment_id": 44010175, "body": "Hi  it doesn&#39;t work on Linux on Unix it may work  sh user1@host1 -n &quot;perl -p -i &#39;.backup&#39;  -e &#39; if ( m/&#91;MyTag&#93;/../^\\\\\\$/ ) { s/Item\\d+/Item150/ ; }&#39; ~/myFile.txt&quot; Variable name must contain alphanumeric characters."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "edited": false, "score": 0, "creation_date": 1420555096, "post_id": 27797870, "comment_id": 44010396, "body": "I suppose you mean <code>ssh</code> and not <code>sh</code>? Does it work without the <code>-n</code> switch?"}, {"owner": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "edited": false, "score": 0, "creation_date": 1420557063, "post_id": 27797870, "comment_id": 44011572, "body": "same happens when running without -n  however if I replace the perl single &#39; with double &quot; then it run but Perl doesnt replace the value as it should <code>ssh user1@host1 -n &#39; perl -p -e &quot; if ( m&#47;\\[MyTag\\]&#47; .. &#47;^\\$&#47; ) { s&#47;Item\\d+&#47;Item150&#47; ; }&quot; ~&#47;myFile&#39;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "edited": false, "score": 0, "creation_date": 1420563385, "post_id": 27797870, "comment_id": 44015687, "body": "Ok, let&#39;s try some simple debugging technique.. Let&#39;s see first if you can print a single dollar sign: <code>ssh user1@host1  &quot;perl -e &#39;print \\&quot;\\\\\\$\\n\\&quot;&#39;&quot;;</code>"}, {"owner": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "edited": false, "score": 0, "creation_date": 1421746614, "post_id": 27797870, "comment_id": 44467096, "body": "this doesn&#39;t work  ssh user1@host -n &quot;perl -e &#39;print \\&quot;\\\\\\$\\n\\&quot;&#39;&quot;; Unmatched &#39;."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1420544360, "creation_date": 1420544360, "answer_id": 27797870, "question_id": 27796193, "link": "https://stackoverflow.com/questions/27796193/perl-regular-expression-command-line-running-via-ssh/27797870#27797870", "title": "perl regular expression command line running via ssh", "body": "<p>To escape the dollar sign, put three backslashes in front. The following command seems to work for me:</p>\n\n<pre><code>ssh user1@host1 -n \"perl -p -i '.backup'  -e ' if ( m/\\[MyTag\\]/../^\\\\\\$/ ) { s/Item\\d+/Item150/ ; }' ~/myFile.txt\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 2, "last_activity_date": 1420624999, "creation_date": 1420624999, "answer_id": 27816863, "question_id": 27796193, "link": "https://stackoverflow.com/questions/27796193/perl-regular-expression-command-line-running-via-ssh/27816863#27816863", "title": "perl regular expression command line running via ssh", "body": "<p>Let the computer take care of the quoting:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Net::OpenSSH;\n\nmy $ssh = Net::OpenSSH-&gt;new('user1@host1');\n$ssh-&gt;system('perl', '-p', '-i', '.backup', '-e', &lt;&lt;PERL_CODE, \\'~/myFile.txt');\nif (m/\\[MyTag\\]/ .. m/^$/) {\n    s/Item\\d+/Item150/;\n}\nPERL_CODE\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4384792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4935c7a512f4a64342f301978740615c?s=128&d=identicon&r=PG&f=1", "display_name": "NA NA", "link": "https://stackoverflow.com/users/4384792/na-na"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1503369542, "creation_date": 1420538427, "last_edit_date": 1503369542, "question_id": 27796193, "link": "https://stackoverflow.com/questions/27796193/perl-regular-expression-command-line-running-via-ssh", "title": "perl regular expression command line running via ssh", "body": "<p>I'm trying to run a Perl regular expression via ssh however I'm getting an error \"<strong>Variable name must contain alphanumeric characters.</strong>\" </p>\n\n<p>the Perl command I'm trying to execute is </p>\n\n<pre><code>perl -p -i '.backup'  -e ' if ( m/\\[MyTag\\]/../^$/ ) { s/Item\\d+/Item150/ ; }' ~/myFile.txt\n</code></pre>\n\n<p>the SSH command I'm using is</p>\n\n<pre><code>ssh user1@host1 -n \" here I'm placing my perl command\"\n</code></pre>\n\n<p>I did try to add \\ to avoid translating $ sign by the current shell as well as changing the ssh duple quota \" to single one and adding \\' to the perl command but I'm always getting the error above or unmatched '</p>\n\n<p>I did try below</p>\n\n<pre><code>ssh user1@host1 -n \"perl -p -i '.backup'  -e ' if ( m/\\[MyTag\\]/../^$/ ) { s/Item\\d+/Item150/ ; }' ~/myFile.txt\"\n\nssh user1@host1 -n \"perl -p -i '.backup'  -e ' if ( m/\\[MyTag\\]/../^\\$/ ) { s/Item\\d+/Item150/ ; }' ~/myFile.txt\"\n\nssh user1@host1 -n 'perl -p -i \\'.backup\\'  -e \\' if ( m/\\[MyTag\\]/../^$/ ) { s/Item\\d+/Item150/ ; }\\' ~/myFile.txt'\n</code></pre>\n\n<p>also with \\$ as well as \\\\$ and more </p>\n"}, {"tags": ["perl", "awk", "qx"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 2, "creation_date": 1420537139, "post_id": 27795797, "comment_id": 44000362, "body": "what&#39;s the point of a Perl script calling <code>grep</code>, <code>tail</code> and <code>awk</code>? I bet you can do all of it in <code>perl</code> or <code>awk</code>."}], "answers": [{"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 1, "creation_date": 1420537623, "post_id": 27795848, "comment_id": 44000613, "body": "well explained and detailed answer. In <code>awk</code>, <code>$0</code> refers to the current record (line, normally), whereas <code>$1</code> is the 1st field, <code>$2</code> the second, ..."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 1, "creation_date": 1420538056, "post_id": 27795848, "comment_id": 44000837, "body": "You can just use <code>pop @{[ grep ... ]}</code> to save a line."}, {"owner": {"reputation": 5, "user_id": 4120367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae91a556e4da036e26fcff86e26089e?s=128&d=identicon&r=PG&f=1", "display_name": "SarveshD", "link": "https://stackoverflow.com/users/4120367/sarveshd"}, "edited": false, "score": 1, "creation_date": 1420538234, "post_id": 27795848, "comment_id": 44000927, "body": "Thank you so much. Worked."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 2, "last_activity_date": 1420537535, "last_edit_date": 1420537535, "creation_date": 1420537169, "answer_id": 27795848, "question_id": 27795797, "link": "https://stackoverflow.com/questions/27795797/unable-to-get-output-from-awk-in-a-variable-using-perl-script/27795848#27795848", "title": "Unable to get output from awk in a variable using Perl Script.", "body": "<p><code>qx()</code> will interpolate <code>$2</code> etc in your <code>gawk</code>, which you would have known if you had used warnings</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>So you need to escape them:</p>\n\n<pre><code>... gawk '{print \\$2+\\$4+\\$6}'); \n</code></pre>\n\n<p>Also, of course, this is a silly thing to do in Perl. You can do all of that, except <code>top</code> (which may still be available in some module). E.g.:</p>\n\n<pre><code>my @lines = grep { /\\QCpu(s)/ } qx(top -b n 2 -d 0.01);\nmy $CPUusageOP = $lines[-1];\n$CPUusageOP = ( split ' ', $CPUusageOP )[1,3,5];\n</code></pre>\n\n<p>I cannot remember if <code>awk</code> starts the field designations with <code>$1</code> or <code>$0</code>, but tweak it as you like.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1420537791, "creation_date": 1420537791, "answer_id": 27796034, "question_id": 27795797, "link": "https://stackoverflow.com/questions/27795797/unable-to-get-output-from-awk-in-a-variable-using-perl-script/27796034#27796034", "title": "Unable to get output from awk in a variable using Perl Script.", "body": "<p>You don't need to use any external tool than <code>top</code>. Perl can do the rest:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $line;\nopen my $TOP, '-|', qw( top -b n 2 -d 0.01 ) or die $!;\nwhile (&lt;$TOP&gt;) {\n  $line = $_ if /Cpu\\(s\\)/;\n}\nmy ($us, $ni, $wa) = (split ' ', $line)[1, 3, 5];\n{   no warnings 'numeric';\n    print $us + $ni + $wa, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4120367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae91a556e4da036e26fcff86e26089e?s=128&d=identicon&r=PG&f=1", "display_name": "SarveshD", "link": "https://stackoverflow.com/users/4120367/sarveshd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 27795848, "answer_count": 2, "score": 0, "last_activity_date": 1420537791, "creation_date": 1420536966, "question_id": 27795797, "link": "https://stackoverflow.com/questions/27795797/unable-to-get-output-from-awk-in-a-variable-using-perl-script", "title": "Unable to get output from awk in a variable using Perl Script.", "body": "<p>I am a newbie in Perl Scripting. I am working on code in which I have to get CPU utilization. I am trying to run a command and then get the output in a variable. But when I try to print the variable I get nothing on the scree.</p>\n\n<p>Command works fine in the terminal and gives me an output. ( I am using Eclipse ).</p>\n\n<pre><code>my $CPUusageOP;\n$CPUusageOP = qx(top -b n 2 -d 0.01 | grep 'Cpu(s)' | tail -n 1 | gawk '{print $2+$4+$6}'); \nprint \"O/P of top command \", $CPUusageOP;\n</code></pre>\n\n<p>Output I get is :</p>\n\n<pre><code>    O/P of top command\n</code></pre>\n\n<p>Expected output :</p>\n\n<pre><code>    O/P of top command 31.4\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1420536808, "post_id": 27795605, "comment_id": 44000224, "body": "Thanks, @choroba, for your edit. It completed what I have written."}, {"owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "edited": false, "score": 0, "creation_date": 1420537271, "post_id": 27795605, "comment_id": 44000439, "body": "ok, i got this wrong and thought keys mustn&#39;t be quoted. Perl confuses me sometimes. Thanks a lot"}], "tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": true, "score": 3, "last_activity_date": 1420536405, "last_edit_date": 1420536405, "creation_date": 1420536226, "answer_id": 27795605, "question_id": 27795449, "link": "https://stackoverflow.com/questions/27795449/how-to-make-a-hash-key-with-leading-digits/27795605#27795605", "title": "How to make a Hash key with leading digits", "body": "<p>Only \"barewords\" are automatically quoted on the left hand side of <code>=&gt;</code>. Quote the more complicated strings:</p>\n\n<pre><code>%propertynames = (\n  '2g_values'     =&gt; \"\",\n  '3g_values'     =&gt; \"\",\n  'somethingelse' =&gt; \"\", # quotes optional here\n);\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 3320478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/00e9417c21fff19050af08dd80976cdd?s=128&d=identicon&r=PG&f=1", "display_name": "chenino", "link": "https://stackoverflow.com/users/3320478/chenino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 27795605, "answer_count": 1, "score": 1, "last_activity_date": 1420536405, "creation_date": 1420535695, "question_id": 27795449, "link": "https://stackoverflow.com/questions/27795449/how-to-make-a-hash-key-with-leading-digits", "title": "How to make a Hash key with leading digits", "body": "<p>I Need to create a Hash in Perl, where keys start with Digits, like</p>\n\n<pre><code>%propertynames = (\n2g_values=&gt; \"\",\n3g_values =&gt; \"\",\nsomethingelse =&gt; \"\",\n);\n</code></pre>\n\n<p>If i do it like that, i get an Syntax error. Unfortunately the key names have to be like this. Is there anyway to do this?</p>\n"}, {"tags": ["java", "perl"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1420534944, "post_id": 27794345, "comment_id": 43999368, "body": "Can you share your Perl code which reads the file?"}, {"owner": {"reputation": 1109, "user_id": 3605161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3f207c6dc42b5ad3a4dc3e670b211aee?s=128&d=identicon&r=PG&f=1", "display_name": "phil", "link": "https://stackoverflow.com/users/3605161/phil"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1420535683, "post_id": 27794345, "comment_id": 43999677, "body": "Hi Chankey Pathak, the perl script is here: <a href=\"https://github.com/HBehrens/obj2opengl/blob/master/obj2opengl.pl\" rel=\"nofollow noreferrer\">github.com/HBehrens/obj2opengl/blob/master/obj2opengl.pl</a>"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1420535959, "post_id": 27794345, "comment_id": 43999789, "body": "In line 294 of script it&#39;s trying to do division operation <code>$scalefac = 1.0 &#47; $scalefac;</code> so my guess is that there <code>$scalefac</code> is evaluating to <code>0</code> which gives an error of <code>illegal division by zero</code>."}, {"owner": {"reputation": 1109, "user_id": 3605161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3f207c6dc42b5ad3a4dc3e670b211aee?s=128&d=identicon&r=PG&f=1", "display_name": "phil", "link": "https://stackoverflow.com/users/3605161/phil"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1420536431, "post_id": 27794345, "comment_id": 44000026, "body": "thank you for your help but Sheldon answer already solved my problem"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 1, "creation_date": 1420536737, "post_id": 27794345, "comment_id": 44000191, "body": "yes. The script is taking values based on lines (for which \\n is needed)."}], "answers": [{"comments": [{"owner": {"reputation": 1109, "user_id": 3605161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3f207c6dc42b5ad3a4dc3e670b211aee?s=128&d=identicon&r=PG&f=1", "display_name": "phil", "link": "https://stackoverflow.com/users/3605161/phil"}, "edited": false, "score": 0, "creation_date": 1420535530, "post_id": 27794415, "comment_id": 43999613, "body": "You are right, I forgot this. But this don&#39;t fix my problem. Thanks"}], "tags": [], "owner": {"reputation": 3394, "user_id": 4129551, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/v7viv.jpg?s=128&g=1", "display_name": "aurelius", "link": "https://stackoverflow.com/users/4129551/aurelius"}, "is_accepted": false, "score": 0, "last_activity_date": 1420532457, "last_edit_date": 1420532457, "creation_date": 1420531269, "answer_id": 27794415, "question_id": 27794345, "link": "https://stackoverflow.com/questions/27794345/after-writing-into-a-file-with-java-the-file-isnt-usable-for-further-processing/27794415#27794415", "title": "After writing into a file with java the file isn&#39;t usable for further processing", "body": "<p>you have to call close too FileOutputStream object:</p>\n\n<pre><code>fos.close();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 256, "user_id": 3733792, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d8604d1fe20ee17e6566fc6d6e28af93?s=128&d=identicon&r=PG&f=1", "display_name": "Sheldon", "link": "https://stackoverflow.com/users/3733792/sheldon"}, "is_accepted": true, "score": 2, "last_activity_date": 1420536044, "creation_date": 1420536044, "answer_id": 27795549, "question_id": 27794345, "link": "https://stackoverflow.com/questions/27794345/after-writing-into-a-file-with-java-the-file-isnt-usable-for-further-processing/27795549#27795549", "title": "After writing into a file with java the file isn&#39;t usable for further processing", "body": "<p>Try to change </p>\n\n<pre><code>final String R = \"\\r\";\n</code></pre>\n\n<p>to</p>\n\n<pre><code>final String R = \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1109, "user_id": 3605161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3f207c6dc42b5ad3a4dc3e670b211aee?s=128&d=identicon&r=PG&f=1", "display_name": "phil", "link": "https://stackoverflow.com/users/3605161/phil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 27795549, "answer_count": 2, "score": 0, "last_activity_date": 1420536044, "creation_date": 1420530966, "last_edit_date": 1420535609, "question_id": 27794345, "link": "https://stackoverflow.com/questions/27794345/after-writing-into-a-file-with-java-the-file-isnt-usable-for-further-processing", "title": "After writing into a file with java the file isn&#39;t usable for further processing", "body": "<p>I write with a java program into a file for further processing. This is the code for writing into the file:</p>\n\n<pre><code>FileOutputStream fos;\nFile f = new File(outputFilePath);\nfos = new FileOutputStream(f);\n\nfinal String R = \"\\r\";\n\ntry {\n    fos.write((outputString + R).getBytes());\n    fos.flush();\n    fos.close();\n} catch (IOException e) {\n    logger.error(\"fail...\"+ e);\n}\n</code></pre>\n\n<p>This works fine and after process I check with notepad++ the file and the right lines are in it. But if I want to use it with a perlscript (obj2opengl.pl) there comes an error. If I copy exactly that text into a new textfile manually with notepad++ it works. So my assumption is that there is somesthing wrong or bad in my java code. I tried already other encodings and so on... maybe anyone have an idea. </p>\n\n<p>The error of the perl script says: \"Illegal division by zero at obj2opengl.pl line 294\".</p>\n\n<p>That error not occured if I test it with the same text after copied it in a new textfile.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1420528475, "post_id": 27792681, "comment_id": 43996896, "body": "don&#39;t fix what isn&#39;t broken.  though your example doesn&#39;t even <i>use</i> the <code>$date</code> it originally sets??"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1420528516, "post_id": 27792681, "comment_id": 43996912, "body": "switching from SVN to git would IMO be a more valuable use of your time :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1420558449, "post_id": 27792681, "comment_id": 44012473, "body": "Two additional reasons to avoid <code>`date`</code> that haven&#39;t been mentioned so far: 1) Portability. Your code snippet will fail on any machine that doesn&#39;t provide the *nix <code>date</code> utility (e.g. Windows). 2) Error handling. Your code doesn&#39;t check for errors in the external command, so if <code>date</code> is not in your <code>PATH</code>, for example, <code>$date</code> will get a bogus value and the code will continue to run (hopefully you validate the date at some point). Writing extra code to handle errors in external commands is a pain and is error prone. Using native Perl equivalents is much easier."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1420561187, "post_id": 27792681, "comment_id": 44014296, "body": "Seriously, the &quot;performance&quot; isn&#39;t the problem in this case and I don&#39;t know why it is focused down in answers. There are better reasons to avoid &quot;shelling out&quot;, as previously provided."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420561235, "post_id": 27792681, "comment_id": 44014331, "body": "I think the only reason he do this is the lazyness to search the perlish way to do it ;)"}], "answers": [{"comments": [{"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1420523034, "post_id": 27792716, "comment_id": 43994975, "body": "does parsing the bash date into perl slow the perl program down? or create extra load on the host?"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1420523140, "post_id": 27792716, "comment_id": 43995008, "body": "it is not my solution - i am asking if I should rewrite the scripts"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1420523153, "post_id": 27792716, "comment_id": 43995009, "body": "A basic benchmark show that using your solution is quicker : <code>real    0m0.003s</code> for backticks and <code>real    0m0.018s</code> for <code>strftime()</code>."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1420523388, "post_id": 27792716, "comment_id": 43995081, "body": "Wait for others responses"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 4, "creation_date": 1420523790, "post_id": 27792716, "comment_id": 43995177, "body": "@sputnick that&#39;s a crappy benchmark. Benchmark.pm says strftime is 28x faster."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420560638, "post_id": 27792716, "comment_id": 44013930, "body": "Added real Benchmark in my code, POSIX is the winner"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 4, "last_activity_date": 1420560977, "last_edit_date": 1420560977, "creation_date": 1420522850, "answer_id": 27792716, "question_id": 27792681, "link": "https://stackoverflow.com/questions/27792681/perl-with-the-date-command-in-backticks/27792716#27792716", "title": "perl with the date command in backticks", "body": "<p>Why not using perl's :</p>\n\n<pre><code>$ perl -MPOSIX -e 'print POSIX::strftime(\"%Y%m%d\", localtime());'\n20150106\n</code></pre>\n\n<p>? Your solution is all but perlish and it needs to <code>fork()</code> at low level</p>\n\n<p>This is a benchmark of the 3 solutions given : the code :</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict; use warnings;\n\nuse Benchmark qw(:all) ; \nuse autodie;\n\nopen my $daveNull, \"&gt;\", \"/dev/null\";\n\nmy $results = timethese(my $count, {\n    'POSIX'         =&gt; sub {\n        use POSIX;\n        print $daveNull POSIX::strftime(\"%Y%m%d\", localtime());\n    },\n    'Time::Piece'   =&gt; sub {\n        use Time::Piece;\n        print $daveNull localtime()-&gt;strftime('%Y%m%d');\n    },\n    'sysdate'       =&gt; sub {\n        chomp(my $date=`date '+%Y%m%d'`);\n        print $daveNull $date;\n    },\n});\nprint \"-----8&lt;-------------\\n\";\ncmpthese( $results ) ;\n</code></pre>\n\n<h3>OUTPUT :</h3>\n\n<pre><code>Benchmark: running POSIX, Time::Piece, sysdate for at least 3 CPU seconds...\nPOSIX:  3 wallclock secs ( 2.14 usr +  1.06 sys =  3.20 CPU) @ 234115.94/s (n=749171)\nTime::Piece:  3 wallclock secs ( 2.72 usr +  0.47 sys =  3.19 CPU) @ 68128.84/s (n=217331)\nsysdate: 37 wallclock secs ( 0.36 usr  2.67 sys + 20.62 cusr  8.00 csys = 31.65 CPU) @ 285.91/s (n=9049)\n-----8&lt;-------------\n                Rate     sysdate Time::Piece       POSIX\nsysdate        286/s          --       -100%       -100%\nTime::Piece  68129/s      23729%          --        -71%\nPOSIX       234116/s      81785%        244%          --\n</code></pre>\n\n<h3>CONCLUSION</h3>\n\n<p><code>POSIX</code> is the winner.</p>\n"}, {"comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420526006, "post_id": 27792822, "comment_id": 43995922, "body": "My bench show <code>real    0m0.022s</code> : longer than my solution and backticks"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1420544925, "post_id": 27792822, "comment_id": 44004527, "body": "You should recheck that benchmark. Any in-Perl solution is going to be far faster than a solution that uses backticks."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1420523516, "creation_date": 1420523516, "answer_id": 27792822, "question_id": 27792681, "link": "https://stackoverflow.com/questions/27792681/perl-with-the-date-command-in-backticks/27792822#27792822", "title": "perl with the date command in backticks", "body": "<p>Or you could just use Time::Piece, which has been in Core since 5.009005.</p>\n\n<pre><code>use Time::Piece;\n</code></pre>\n\n<p>then you can just</p>\n\n<pre><code>my $t = localtime;\nprint $t-&gt;strftime('%Y%m%d');\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use Time::Piece;\nprint localtime()-&gt;strftime('%Y%m%d');\n</code></pre>\n\n<p>This uses the strftime format, but has much less overhead than loading the entire POSIX extension.</p>\n\n<p>Plus is has a bunch of preset formats, one of which is 'ymd' where you can specify the delimter... in this case, none</p>\n\n<pre><code>print localtime()-&gt;ymd(\"\")\n</code></pre>\n\n<p>Check the <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\">perldoc</a> for more examples.</p>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 1, "last_activity_date": 1420574206, "last_edit_date": 1420574206, "creation_date": 1420530725, "answer_id": 27794306, "question_id": 27792681, "link": "https://stackoverflow.com/questions/27792681/perl-with-the-date-command-in-backticks/27794306#27794306", "title": "perl with the date command in backticks", "body": "<p>At minimum, only invoke the shell if you need to:</p>\n\n<pre><code>if (@ARGV) {\n   $date = $ARGV[0] ;\n}\nelse {\n    chomp($date=`date '+%Y%m%d'`);\n}\n</code></pre>\n\n<p>It's considerably less efficient to invoke the shell only to throw the result away.</p>\n\n<p>But you can generate the output with pure Perl \u2014 in multiple ways.  The <code>Time::Piece</code> module is a Perl core module, which means it is always there, or you could use <code>strftime</code> from one of the modules that provides it.</p>\n\n<pre><code>$ perl -MTime::Piece -le '$t = new Time::Piece; print $t-&gt;ymd(\"\");'\n20150106\n$ perl -MTime::Piece -le '$t = localtime; print $t-&gt;ymd(\"\");'\n20150106\n$ perl -MTime::Piece -le '$t = localtime; print $t-&gt;strftime(\"%Y%m%d\")'\n20150106\n$ perl -MPOSIX -le 'print strftime(\"%Y%m%d\", localtime(time))'\n20150106\n$\n</code></pre>\n\n<p>So, in context, and assuming you add <code>use Time::Piece;</code> at the top of your file, you might write:</p>\n\n<pre><code>use Time::Piece;\n\n\u2026\n\nif (@ARGV) {\n   $date = $ARGV[0] ;\n}\nelse {\n    my $t = localtime;\n    $date = $t-&gt;ymd(\"\");\n}\n</code></pre>\n\n<p>This doesn't calculate a default date unless it is needed.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1420544788, "creation_date": 1420544788, "answer_id": 27798005, "question_id": 27792681, "link": "https://stackoverflow.com/questions/27792681/perl-with-the-date-command-in-backticks/27798005#27798005", "title": "perl with the date command in backticks", "body": "<p>Calling <code>date</code> like that will open a new shell environment, which is painfully inefficient. Try it with Benchmark and see just how bad it gets.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\nuse Time::Piece;\nuse POSIX 'strftime';\n\nuse Benchmark;\n\nmy $fmt = '%Y%m%d';\n\ntimethese(100_000, {\n  backticks =&gt; sub {\n    my $date = `date +$fmt`;\n  },\n  strftime =&gt; sub {\n    my $date = POSIX::strftime($fmt, localtime);\n  },\n  timepiece =&gt; sub {\n    my $date = localtime-&gt;strftime($fmt);\n  },\n});\n</code></pre>\n\n<p>And here's the output:</p>\n\n<pre><code>Benchmark: timing 100000 iterations of backticks, strftime, timepiece...\n backticks: 108 wallclock secs ( 4.26 usr 25.05 sys +  4.82 cusr 85.59 csys = 119.72 CPU) @ 835.28/s (n=100000)\n  strftime:  1 wallclock secs ( 1.03 usr +  0.00 sys =  1.03 CPU) @ 97087.38/s (n=100000)\n timepiece:  1 wallclock secs ( 1.33 usr +  0.00 sys =  1.33 CPU) @ 75187.97/s (n=100000)\n</code></pre>\n\n<p>The backticks solution is about a hundred times slower than the other two options.</p>\n\n<p>But, of course, it works. And if you're not worried about the performance of the program then don't bother to change it.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "accepted_answer_id": 27794306, "answer_count": 4, "score": 2, "last_activity_date": 1420574206, "creation_date": 1420522628, "last_edit_date": 1420544877, "question_id": 27792681, "link": "https://stackoverflow.com/questions/27792681/perl-with-the-date-command-in-backticks", "title": "perl with the date command in backticks", "body": "<p>There are a bunch of scripts - actually all the Perl scripts in this shop that use a date -  use this kind of structure. It uses the date command in backticks. Is this really bad? Does it open up a subshell or something, or is just not 'perlish'. Is it worth me going though all the scripts in the SVN and changing this to localtime?</p>\n\n<pre><code>#!/usr/bin/perl\nchomp($date=`date '+%Y%m%d'`);\nif (@ARGV) {\n   $date = $ARGV[0] ;\n}\n</code></pre>\n"}, {"tags": ["perl", "batch-file", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1420521995, "post_id": 27792504, "comment_id": 43994692, "body": "Perl and Batch are completely different languages. Did you want the batch script to call the Perl script?"}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1420522321, "post_id": 27792504, "comment_id": 43994781, "body": "@SomethingDark actually i have already done it through .bat script but what happens when i launch the .exe file through .bat click then it popups a GUI which conmtains some button. My mentor wants those button to be clicked automatically by my code. He suggested me to use perl for that. But i have no idea how to click that button by simple click to .bat file. (I mean on click to that .bat file must execute all .exe files each of which pop ups a GUI and on also contain a button on GUI, that click to .bat file must not just launch the .exe GUI but also click the button on GUI automatically)"}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1420522620, "post_id": 27792504, "comment_id": 43994866, "body": "Currently using batch script i am just able to run all .exe but i need to manually click on the button of the GUI obtained through each of these .exe. But my mentor told me that using perl you can automatically get a click to the buttons present on the GUI obtained on each .exe file launched by click to .bat file."}, {"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 2, "creation_date": 1420523037, "post_id": 27792504, "comment_id": 43994976, "body": "Automating GUI interaction isn&#39;t easy in any language. Googling &quot;perl interact with gui&quot; suggests using the Win32::GuiTest Perl module. You may also be able to brute-force something with either PowerShell or VBScript."}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1420524217, "post_id": 27792504, "comment_id": 43995301, "body": "@SomethingDark .. Thanks. I was misunderstood.. there is nothing like .bat file. could you please let me know how to run all .exe file in Folder1 using perl code ? (By recorrecting my code) ?"}, {"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1420524748, "post_id": 27792504, "comment_id": 43995469, "body": "Sorry, I don&#39;t know Perl. I recommend searching Google for &quot;Perl run executable&quot; or something similar."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "edited": false, "score": 0, "creation_date": 1420522906, "post_id": 27792693, "comment_id": 43994938, "body": "thanks but could you please see last two comments i done to reply SomethingDark ? to know what i want to achieve ."}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "edited": false, "score": 0, "creation_date": 1420523247, "post_id": 27792693, "comment_id": 43995038, "body": "so could you please correct the problem in my code , so that i will be ble to run all .exe files in the Folder1 using perl code? After i will try myselt to find a way to get GUI control using perl"}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "edited": false, "score": 0, "creation_date": 1420525062, "post_id": 27792693, "comment_id": 43995579, "body": "I have used  do system($fh) ;  still do not work (to run each exe file in folder) , it still do not work but it is error free . Could you please correct me how to achieve it ?"}, {"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1420525326, "post_id": 27792693, "comment_id": 43995657, "body": "Try using <code>$line</code> instead of <code>$fh</code>"}, {"owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1420526436, "post_id": 27792693, "comment_id": 43996086, "body": "@SomethingDark it keeps on running terminal infinitely.. some strange things .. Not launching exes"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1420524453, "last_edit_date": 1495542034, "creation_date": 1420522719, "answer_id": 27792693, "question_id": 27792504, "link": "https://stackoverflow.com/questions/27792504/how-to-run-set-of-exe-files-in-a-folder-through-bat-file-using-perl-script/27792693#27792693", "title": "How to run set of .exe files in a folder through .bat file using perl script", "body": "<p>I think <a href=\"http://search.cpan.org/~jhi/perl-5.8.1/win32/bin/pl2bat.pl\" rel=\"nofollow noreferrer\">pl2bat</a> may help you. It allows you to wrap Perl code into a batch file.</p>\n\n<p>BTW why are you using <code>echo</code> in your Perl script? You should use <code>print</code>. </p>\n\n<p><strong>Edit:</strong> You have edited your question and now you want to know how to run all <code>exe</code> files from a folder using Perl?</p>\n\n<p>Use the <code>system</code> command to run the exe files providing the full path. </p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/8224839/how-to-run-an-executable-file-using-perl-on-windows-xp\">How to run an executable file using Perl on Windows XP?</a></p>\n\n<p><strong>Edit 2:</strong> <code>do system $fh ;</code> This is not how you do it, please get a book (I'd suggest Beginning Perl by Ovid) and start learning Perl.</p>\n"}, {"tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": true, "score": 1, "last_activity_date": 1420527698, "creation_date": 1420527698, "answer_id": 27793671, "question_id": 27792504, "link": "https://stackoverflow.com/questions/27792504/how-to-run-set-of-exe-files-in-a-folder-through-bat-file-using-perl-script/27793671#27793671", "title": "How to run set of .exe files in a folder through .bat file using perl script", "body": "<p>Use <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>system</code></a> to execute an exe:</p>\n\n<pre><code>while (my $file = glob 'C:\\shekhar_Axestrack_Intern\\*.exe') {\n  system $file;\n}\n</code></pre>\n\n<p>In addition, I have the feeling that you meant to write 'C:\\shekhar_Axestrack_Intern*.exe'\ninstead of 'C:\\shekhar_Axestrack_Intern*.exe'.</p>\n"}], "owner": {"reputation": 133, "user_id": 3085082, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f115d8ac8279db291bcbf61022276c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3085082", "link": "https://stackoverflow.com/users/3085082/user3085082"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 27793671, "answer_count": 2, "score": -1, "last_activity_date": 1420527698, "creation_date": 1420521507, "last_edit_date": 1420524244, "question_id": 27792504, "link": "https://stackoverflow.com/questions/27792504/how-to-run-set-of-exe-files-in-a-folder-through-bat-file-using-perl-script", "title": "How to run set of .exe files in a folder through .bat file using perl script", "body": "<p>I am beginner to Perl and I have to create a <code>.pl</code> file  and I have folder containing near about 30 exe files(inside Folder1 in G:\\Folder1). All of them must be executed by click to the <code>.pl</code> file. </p>\n\n<p>My try is :</p>\n\n<pre><code>   use strict; use warnings;\nuse autodie;  # automatic error handling\n\nwhile (defined(my $file = glob 'C:\\shekhar_Axestrack_Intern*.exe')) \n{\n  open my $fh, \"&lt;\", $file;  # lexical file handles, automatic error handling\n\n  while (defined( my $line = &lt;$fh&gt; )) {\n    do system $fh ; \n\n  }\n  close $fh;\n}\n</code></pre>\n\n<p>Please let me know if my logic correct ? Could some one please correct me if i am wrong ?</p>\n"}, {"tags": ["perl", "grep"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420518135, "post_id": 27792033, "comment_id": 43993671, "body": "Are the numbers integers one on each lines ?"}, {"owner": {"reputation": 367, "user_id": 4422411, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0c814c955bffcac9b4c22371a0a84df8?s=128&d=identicon&r=PG&f=1", "display_name": "kish", "link": "https://stackoverflow.com/users/4422411/kish"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420518592, "post_id": 27792033, "comment_id": 43993781, "body": "yes. those are integers (like 789-32, 456-12)"}], "answers": [{"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1420520132, "last_edit_date": 1420520132, "creation_date": 1420518791, "answer_id": 27792124, "question_id": 27792033, "link": "https://stackoverflow.com/questions/27792033/grep-a-pattern-in-file-using-perl-or-shell/27792124#27792124", "title": "Grep a pattern in file using Perl or shell", "body": "<p>What I would do :</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict; use warnings;\nuse List::MoreUtils qw/any/;\n\nopen(my $ci, \"&lt;\", \"ci.text\") or die $!;\nopen(my $si, \"&lt;\", \"search.text\") or die $!;\n\nchomp(my @si_arr = &lt;$si&gt;);\nchomp(my @ci_arr = &lt;$ci&gt;);\n\nclose $si;\nclose $ci;\n\nforeach my $c (@ci_arr) {\n    if (any {$_ eq $c} @si_arr) {\n        print \"found $c \\n\";\n    }\n    else {\n        print \"not found $c \\n\";\n    }\n}\n</code></pre>\n\n<h3>OUTPUT:</h3>\n\n<pre><code>found 0 \nfound 1 \n...\nfound 18 \nfound 19 \nfound 20 \nnot found 21 \nnot found 22 \nnot found 23 \n</code></pre>\n\n<h3>Or searching only intersection :</h3>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict; use warnings;\nuse List::Compare;\n\nopen(my $ci, \"&lt;\", \"ci.text\") or die $!;\nopen(my $si, \"&lt;\", \"search.text\") or die $!;\n\nchomp(my @si_arr = &lt;$si&gt;);\nchomp(my @ci_arr = &lt;$ci&gt;);\n\nmy $w = List::Compare-&gt;new(\\@si_arr, \\@ci_arr);\nprint join \"\\n\", sort { $a &lt;=&gt; $b }  @{ $w-&gt;{intersection} }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1420518919, "creation_date": 1420518919, "answer_id": 27792136, "question_id": 27792033, "link": "https://stackoverflow.com/questions/27792033/grep-a-pattern-in-file-using-perl-or-shell/27792136#27792136", "title": "Grep a pattern in file using Perl or shell", "body": "<p>You may use <a href=\"http://search.cpan.org/~mneylon/File-Grep-0.02/Grep.pm\" rel=\"nofollow\">File::Grep</a></p>\n\n<p>File::Grep mimics the functionality of the grep function in perl, but applying it to files instead of a list. This is similar in nature to the UNIX grep command, but more powerful as the pattern can be any legal perl function.</p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1420519552, "creation_date": 1420519552, "answer_id": 27792232, "question_id": 27792033, "link": "https://stackoverflow.com/questions/27792033/grep-a-pattern-in-file-using-perl-or-shell/27792232#27792232", "title": "Grep a pattern in file using Perl or shell", "body": "<p>You can't grep a file handle, unless you use File::Grep.\nYou could also hand this task off to your shell with a system call, but I will presume you want a pure perl solution.</p>\n\n<p>perl grep works best against an array, so if you wanted to use grep you would load the whole file into an array, then grep each line against it, eg.</p>\n\n<pre><code>my @si = &lt;$si&gt;;\nwhile (&lt;$ci&gt;) {\n    my $found = grep {/$_/} @si;\n    print ($found ? \"FOUND: $_\" : \"NOT FOUND: $_\");\n}\n</code></pre>\n\n<p>That print uses a ternary operator which - if your not familiar - is just a terse if/else statement.</p>\n\n<p>If the \"search\" file is exceedingly large, loading the whole thing into an array (ie. into memory) may not be advisable, in which case you might want to nest your while's</p>\n\n<pre><code>OUTER:\nwhile (my $num = &lt;$ci&gt;) {\n    while (&lt;$si&gt;) {\n        if (/$num/) {\n            print \"FOUND: $num\";\n            next OUTER;\n        }\n    }\n    print \"NOT FOUND: $num\"\n}\n</code></pre>\n\n<p>NB. I don't have your files in your format, so I can't test this code.</p>\n"}], "owner": {"reputation": 367, "user_id": 4422411, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0c814c955bffcac9b4c22371a0a84df8?s=128&d=identicon&r=PG&f=1", "display_name": "kish", "link": "https://stackoverflow.com/users/4422411/kish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4218, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1420521568, "creation_date": 1420517993, "last_edit_date": 1420521568, "question_id": 27792033, "link": "https://stackoverflow.com/questions/27792033/grep-a-pattern-in-file-using-perl-or-shell", "title": "Grep a pattern in file using Perl or shell", "body": "<p>I have two files. File <code>ci.text</code> has list of numbers and file <code>search.text</code> is regular file (log file kind). I want search each number present in file <code>ci.text</code> exist in file search.text or not? I tried following program but vain.</p>\n\n<pre><code>open(my $ci,\"&lt;\",\"ci.text\") or die $!;\nopen(my $si,\"&lt;\",\"search.text\") or die $!;\nwhile (&lt;$ci&gt;) {\n    print $_;\n    if ( grep /$_/, $si )\n    {\n       print \" not found ---$_ \\n\";\n    }else\n    {\n       print \"found ---$_ \\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 1, "last_activity_date": 1420515374, "last_edit_date": 1420515374, "creation_date": 1420514982, "answer_id": 27791658, "question_id": 27791560, "link": "https://stackoverflow.com/questions/27791560/how-to-use-window-target-in-perlredirect-or-otherwise/27791658#27791658", "title": "how to use Window-target in perl(redirect or otherwise)", "body": "<p>Ignore those sites. The <code>Window-Target</code> header effectively doesn't exist \u2014 it was never standardized, and is not supported by most (if any) of the major web browsers.</p>\n\n<p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=37593\" rel=\"nofollow\">Mozilla <em>attempted</em> to implement it around 2000</a>, but it looks as though the implementation never worked properly, and <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=97459\" rel=\"nofollow\">the broken code was removed shortly thereafter</a>. Comments in the bugs I linked suggest that no browsers other than Netscape Navigator ever implemented this header, so it's been effectively nonexistent for quite some time.</p>\n\n<p>If you want to have a form submit to a specific frame, use the <code>target</code> attribute on the form element, e.g.</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"blah.cgi\" target=\"output\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1610940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5261809e19dc1f0eeaa34c1552d3b30d?s=128&d=identicon&r=PG", "display_name": "sciencekid", "link": "https://stackoverflow.com/users/1610940/sciencekid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1420515374, "creation_date": 1420514173, "question_id": 27791560, "link": "https://stackoverflow.com/questions/27791560/how-to-use-window-target-in-perlredirect-or-otherwise", "title": "how to use Window-target in perl(redirect or otherwise)", "body": "<p>I have looked up all over the internet for the answer to this question and have come up with no workable options.. I have tried to redirect a user to a separate frame in the same window (called output) so that when the user clicks the submit button it loads up a page in another frame. I have found 2 different ways to do this. HOWEVER both solutions only redirected the current frame to the desired location(for a test the location was www.yahoo.com). Here are my two solutions:</p>\n\n<pre><code>#!/usr/bin/perl -Tw\n\nprint \"Location: http://www.yahoo.com/\\n\";\nprint \"Window-target: output\\n\\n\";\n</code></pre>\n\n<p>the next is:</p>\n\n<pre><code>#!/usr/bin/perl -Tw\n\nuse CGI;\nmy $q = CGI-&gt;new;\n\n\n$q-&gt;redirect(\n  -location =&gt; 'http://www.yahoo.com/',\n  -Window-target =&gt; 'output',\n);\n</code></pre>\n\n<p>I got the idea of Window-target from these sites:</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=805235\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=805235</a></p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=169691\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=169691</a></p>\n\n<p>there are others, but I can only post 2 due to having less than 10 reputation. Any ideas?</p>\n"}, {"tags": ["perl", "sorting", "unicode", "multilingual"], "comments": [{"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 0, "creation_date": 1439905899, "post_id": 27791171, "comment_id": 52045060, "body": "I know next to nothing about Czech, but if CLDR does not specify that in Czech, <i>\u010f</i> is its own letter collating after <i>d</i> the way that <i>\u010d</i> is its own letter collating after <i>c</i>, then that would explain what you are seeing. It is possible to introduce tailoring in the collator if you need it to behave differently than it does with the default of <code>--locale =&gt; &quot;cs&quot;</code> by using a carefully crafted  <code>--entry</code> argument to the constructor with overriding DUCET elements specified precisely. I didn\u2019t get your ping because you didn\u2019t comment on a post of mine or add a comment to one of my comment chains."}], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 400732, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9cf2d56acc9d7ade135c381be55da3cb?s=128&d=identicon&r=PG", "display_name": "egilchri", "link": "https://stackoverflow.com/users/400732/egilchri"}, "edited": false, "score": 0, "creation_date": 1420551907, "post_id": 27791254, "comment_id": 44008336, "body": "I&#39;m hoping that either (1) someone verifies that my results are correct (2) There&#39;s someway of &quot;fixing&quot; this using something like tailoring, which I really don&#39;t understand."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 0, "last_activity_date": 1420511678, "creation_date": 1420511678, "answer_id": 27791254, "question_id": 27791171, "link": "https://stackoverflow.com/questions/27791171/sorting-czech-in-perl/27791254#27791254", "title": "Sorting Czech in Perl", "body": "<p>If the default sort is not working for you, this common workaround is an easy do-it-yourself:</p>\n\n<p>Make a sort-array by transforming your strings: if <code>a</code> and <code>\u00e1</code> should be equivalent, transform both to <code>a</code>; if <code>\u00e1</code> should follow <code>a</code>, transform it into <code>a[</code>, for example (any character after <code>z</code> should be fine). Transform <code>ch</code> into <code>h[</code>, as it goes after <code>h</code>, if I understand correctly.  Then sort the original array together with the sort-array.</p>\n"}, {"tags": [], "owner": {"reputation": 1558, "user_id": 228114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dOgdG.png?s=128&g=1", "display_name": "v6ak", "link": "https://stackoverflow.com/users/228114/v6ak"}, "is_accepted": false, "score": 0, "last_activity_date": 1527747594, "creation_date": 1527747594, "answer_id": 50617846, "question_id": 27791171, "link": "https://stackoverflow.com/questions/27791171/sorting-czech-in-perl/50617846#50617846", "title": "Sorting Czech in Perl", "body": "<p>Despite Czech being my native language, I don't know Czech collation perfectly. But surely, for \u010f, \u0165, \u0148 and wovels with diacritics, the diacritics has a lower signifficance than for other Czech characters like \u010d.</p>\n\n<p>Why? This is related to pronunciation. Barring assimilation and non-native words, all consonants but d, t and n have clear pronunciation regardless of their context. (\u201cCh\u201d is considered as a separate letter.) Those three letters (D, T and N) can be \u201csoftened\u201d when they are followed by \u201ci\u201d, \u201c\u00ed\u201d or \u201c\u011b\u201d. In those cases, they are prononuced like they had a caron (h\u00e1\u010dek). As a result, the diacritics for them is less signifficant.</p>\n"}], "owner": {"reputation": 693, "user_id": 400732, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9cf2d56acc9d7ade135c381be55da3cb?s=128&d=identicon&r=PG", "display_name": "egilchri", "link": "https://stackoverflow.com/users/400732/egilchri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1527747594, "creation_date": 1420511050, "question_id": 27791171, "link": "https://stackoverflow.com/questions/27791171/sorting-czech-in-perl", "title": "Sorting Czech in Perl", "body": "<p>I have the following perl program</p>\n\n<pre><code>use 5.014_001;\nuse utf8;\nuse Unicode::Collate::Locale;\n\n\nrequire 'Unicode/Collate/Locale/cs.pl';\n\nbinmode STDOUT, ':encoding(UTF-8)';\n\nmy @old_list = (\n        \"cash\",\n        \"Cash\",\n        \"cat\",\n        \"Cat\",\n        \"\u010dash\",\n        \"dash\",\n        \"Dash\",\n        \"\u010eash\",\n        \"database\",\n        \"Database\",\n        );\n\n\nmy $col= Unicode::Collate::Locale-&gt;new(\n    level =&gt; 3,                    \n    locale =&gt; 'cs',\n    normalization =&gt; 'NFD',\n);\n\n\nmy @list = $col-&gt;sort(@old_list);\n\nforeach my $item (@list){\n\n    print $item, \"\\n\";\n\n}\n</code></pre>\n\n<p>This program prints out the output:</p>\n\n<p>cash\nCash\ncat\nCat\n\u010dash\ndash\nDash\n\u010eash\ndatabase\nDatabase</p>\n\n<p>I believe that a careful observer would have to conclude that in Czech either</p>\n\n<ol>\n<li><strong>\u010d</strong> is a first-class letter while <strong>\u010e</strong> is not.  </li>\n<li>The Unicode::Collate::Locale sorting of Czech in Perl is not correct</li>\n</ol>\n\n<p>I'd like to believe (1), and the following bolsters my case:</p>\n\n<p><a href=\"http://en.wiktionary.org/wiki/Index_talk:Czech\" rel=\"nofollow\">http://en.wiktionary.org/wiki/Index_talk:Czech</a> </p>\n\n<p>where it says:</p>\n\n<p>Let us sort the entries by the existing Czech conventions, as far as practicable. That is, only the following characters have any sorting significance:</p>\n\n<p>a b c \u010d d e f g h ch i j k l m n o p q r \u0159 s \u0161 t u v w x y z \u017e</p>\n\n<p>But I'm confused, because I thought \"D with a v over it\" (and it's lowercase equivalent), is a first-class letter of the Czech alphabet.</p>\n\n<p>Where is @tchrist when I need him?</p>\n\n<p>I'd appreciate any insights on this.</p>\n"}, {"tags": ["perl", "user-interface", "gtk"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "edited": false, "score": 0, "creation_date": 1420508362, "post_id": 27790756, "comment_id": 43991391, "body": "thanks my man! thats the solution, i add $window-&gt;show_all in anon sub. Cheers! :)"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1420520820, "post_id": 27790756, "comment_id": 43994366, "body": "If the above answer solves your problem then you should mark it as an &quot;accepted answer&quot;. <a href=\"http://i.stack.imgur.com/uqJeW.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/uqJeW.png</a>"}], "tags": [], "owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "is_accepted": false, "score": 2, "last_activity_date": 1420507950, "creation_date": 1420507950, "answer_id": 27790756, "question_id": 27790547, "link": "https://stackoverflow.com/questions/27790547/trying-to-make-a-simple-image-viewer-in-perl-gtk2/27790756#27790756", "title": "trying to make a simple image viewer in perl gtk2", "body": "<p>It does pack; you need to explicitly call <code>show_all</code> on any widgets you add after the window has already been shown (in this case, to <code>$label1</code> and <code>$image</code>).</p>\n"}], "owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1420629272, "creation_date": 1420506201, "last_edit_date": 1420629272, "question_id": 27790547, "link": "https://stackoverflow.com/questions/27790547/trying-to-make-a-simple-image-viewer-in-perl-gtk2", "title": "trying to make a simple image viewer in perl gtk2", "body": "<p>I am trying to make a simple image viewer where you put the filename of an image including its extension but the image doesn't pack in the Main window</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Glib qw/TRUE FALSE/;\nuse Gtk2 '-init';\n\nmy $window=Gtk2::Window-&gt;new();\n$window-&gt;set_title(\"Image Resizer\");\n$window-&gt;signal_connect('delete_event',sub{Gtk2::main_quit;});\n\nmy $vbox1=Gtk2::VBox-&gt;new;\nmy $label=Gtk2::Label-&gt;new(\"Image Filename: \");\nmy $entry=Gtk2::Entry-&gt;new;\nmy $button=Gtk2::Button-&gt;new(\"Submit\");\n\n$button-&gt;signal_connect(clicked=&gt;sub{\n    my $string=$entry-&gt;get_text;\n    my $label1=Gtk2::Label-&gt;new(\"$string\");\n    $vbox1-&gt;add($label1);\n    my $pbuf=Gtk2::Gdk::Pixbuf-&gt;new_from_file_at_size(\"$string\", 200, 200);\n    my $image=Gtk2::Image-&gt;new_from_pixbuf($pbuf);\n    $vbox1-&gt;add($image);\n});\n$vbox1-&gt;add($label);\n$vbox1-&gt;add($entry);\n$vbox1-&gt;add($button);\n$window-&gt;add($vbox1);\n$window-&gt;show_all;\nGtk2-&gt;main;\n</code></pre>\n\n<p>I am making this example as a part of a perl/gtk2 tutorial but can't figure out the source of the bug.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 5, "last_activity_date": 1420512406, "last_edit_date": 1420512406, "creation_date": 1420499476, "answer_id": 27789523, "question_id": 27789452, "link": "https://stackoverflow.com/questions/27789452/signal-handling-in-perl/27789523#27789523", "title": "Signal handling in perl", "body": "<p>First, set the handlers. Then, set the alarm. Last, do the time-consuming operation (sleep). You have it upside down:</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\n$SIG{'ALRM'} = \\&amp;alarm;\n$SIG{'INT'}  = \\&amp;alarm;\n$SIG{'TERM'} = \\&amp;alarm;\n\nprint \"hello\\n\";\nalarm 5;\nsleep(10);\nprint \"after sleep\\n\";\n\nsub alarm {\n   print \"alarm signal handled\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 5, "last_activity_date": 1469429065, "last_edit_date": 1469429065, "creation_date": 1420509980, "answer_id": 27791037, "question_id": 27789452, "link": "https://stackoverflow.com/questions/27789452/signal-handling-in-perl/27791037#27791037", "title": "Signal handling in perl", "body": "<p>Rather than duplicating the handler for each SIG, it's neater to use sigtrap.</p>\n\n<p>This example prevents the user from killing, but you can do whatever you want in the handler. Of course, if your handler does an 'exit' you also have the END sub to do additional stuff as well.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse sigtrap 'handler' =&gt; \\&amp;sig_handler, qw(INT TERM KILL QUIT);\n\nsub sig_handler {\n   my $sig_name = shift;\n   print \"You can't kill me! $sig_name caught\";\n}\n\nfor (1 .. 10) {\n    print $_ . \"\\n\";\n    sleep 1;\n}\n</code></pre>\n\n<p>Alternatively you can use the existing signal lists...</p>\n\n<pre><code>use sigtrap 'handler' =&gt; \\&amp;sig_handler, qw(any normal-signals error-signals stack-trace);\n</code></pre>\n\n<p>see <a href=\"http://perldoc.perl.org/sigtrap.html\" rel=\"nofollow\">perldoc sigtrap</a> for more info</p>\n"}], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1484, "favorite_count": 0, "accepted_answer_id": 27789523, "answer_count": 2, "score": 2, "last_activity_date": 1469429065, "creation_date": 1420499128, "last_edit_date": 1432470627, "question_id": 27789452, "link": "https://stackoverflow.com/questions/27789452/signal-handling-in-perl", "title": "Signal handling in perl", "body": "<pre><code>use strict;\nuse warnings;\n\nprint \"hello\\n\";\nsleep(10);\nprint \"print before alarm\\n\";\nalarm 5;\n\n$SIG{'ALRM'} = \\&amp;alarm;\n$SIG{'INT'}  = \\&amp;alarm;\n$SIG{'TERM'} = \\&amp;alarm;\n\nsub alarm {\n   print \"alarm signal hanndled\\n\";\n}\n</code></pre>\n\n<p>I am not able to handle signals either for alarm or for pressing ctrl+c. I searched and find this as a way to do signal handling. What am i doing wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 3, "creation_date": 1420486009, "post_id": 27786186, "comment_id": 43982757, "body": "For what it&#39;s worth, <code>-d $pathname</code> already implies <code>-e $pathname</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3724, "user_id": 3142963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb984a54fc82c443b2c9e34271d8787d?s=128&d=identicon&r=PG&f=1", "display_name": "nwk", "link": "https://stackoverflow.com/users/3142963/nwk"}, "is_accepted": false, "score": 1, "last_activity_date": 1420485207, "creation_date": 1420485207, "answer_id": 27786249, "question_id": 27786186, "link": "https://stackoverflow.com/questions/27786186/perl-do-until-for-user-input-and-validation/27786249#27786249", "title": "Perl Do...Until for User Input and Validation?", "body": "<pre><code>my $src;\n\n#1. Get source directory\nwhile(1) {\n    print \"Enter the Source Directory of .md Files (eg. /home/user/notes): \\n\";\n    chomp($src = &lt;&gt;);\n    if (-e $src and -d $src) {\n        last;\n    } else {\n        print \"[ERROR] Invalid Directory Given...Please try again\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7756, "user_id": 2118666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ND705.png?s=128&g=1", "display_name": "stephen", "link": "https://stackoverflow.com/users/2118666/stephen"}, "edited": false, "score": 0, "creation_date": 1420485779, "post_id": 27786251, "comment_id": 43982650, "body": "thanks, what does <code>die if !defined</code> do. And do you know if it is possible to allow for auto completion with tab while executing the script?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7756, "user_id": 2118666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ND705.png?s=128&g=1", "display_name": "stephen", "link": "https://stackoverflow.com/users/2118666/stephen"}, "edited": false, "score": 2, "creation_date": 1420486441, "post_id": 27786251, "comment_id": 43982963, "body": "<code>&lt;&gt;</code> returns undefined when end-of-life is reached. Without that check, you could easily get into an infinite loop."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1420488087, "post_id": 27786251, "comment_id": 43983811, "body": "re: autocompletion, yes.  replace the print..chomp lines with <code>use IO::Prompter; $src = prompt &#39;Enter the Source Directory of .md Files (eg. &#47;home&#47;user&#47;notes): &#39;, -complete =&gt; &#39;dirnames&#39;; die if !$src;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1420485232, "creation_date": 1420485232, "answer_id": 27786251, "question_id": 27786186, "link": "https://stackoverflow.com/questions/27786186/perl-do-until-for-user-input-and-validation/27786251#27786251", "title": "Perl Do...Until for User Input and Validation?", "body": "<p>So you want a loop that looks like</p>\n\n<ol>\n<li>Prompt.</li>\n<li>Exit loop if input is valid.</li>\n<li>Show error message.</li>\n<li>Go to 1.</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>while (1) {\n   print \"Enter the Source Directory of .md Files (eg. /home/user/notes): \";\n   $src = &lt;&gt;;\n   die if !defined($src);\n\n   chomp($src);\n   last if -d $src;\n\n   print \"[ERROR] Invalid Directory Given...Please try again\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 3, "last_activity_date": 1420489363, "last_edit_date": 1592644375, "creation_date": 1420488420, "answer_id": 27787035, "question_id": 27786186, "link": "https://stackoverflow.com/questions/27786186/perl-do-until-for-user-input-and-validation/27787035#27787035", "title": "Perl Do...Until for User Input and Validation?", "body": "<p>I like <a href=\"https://metacpan.org/pod/Term::UI\" rel=\"nofollow noreferrer\"><code>Term::UI</code></a> for creating user prompts, since it allows you to supply default values, validate the input, and other nifty features:</p>\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Term::ReadLine;\nuse Term::UI;\n\nmy $term = Term::ReadLine-&gt;new('path');\n\n$Term::UI::INVALID = 'Not a valid directory, please try again: ';\n\nmy $path = $term-&gt;get_reply(\n    prompt  =&gt; 'Enter the Source Directory of .md Files',\n    default =&gt; '/root',\n    allow   =&gt; sub { return -d $_[0] }\n);\n\nsay $path;\n</code></pre>\n<p>The default value is <code>/root</code>; to use the default, you can simply hit <kbd>Enter</kbd> at the prompt.</p>\n<h3>Output:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the Source Directory of .md Files [/root]: /foo\nNot a valid directory, please try again: [/root] /home\n/home\n</code></pre>\n"}], "owner": {"reputation": 7756, "user_id": 2118666, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/ND705.png?s=128&g=1", "display_name": "stephen", "link": "https://stackoverflow.com/users/2118666/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 1, "accepted_answer_id": 27786251, "answer_count": 3, "score": 1, "last_activity_date": 1420489363, "creation_date": 1420484983, "question_id": 27786186, "link": "https://stackoverflow.com/questions/27786186/perl-do-until-for-user-input-and-validation", "title": "Perl Do...Until for User Input and Validation?", "body": "<p>Trying to Loop Until User provides a Valid Directory:</p>\n\n<pre><code>my $src;\n\n#1. Get source directory\ndo {\nprint \"Enter the Source Directory of .md Files (eg. /home/user/notes): \\n\";\nchomp($src = &lt;&gt;);\n\n#make sure directory exists\nuntil (-e $src and -d $src);\n</code></pre>\n\n<p>I would like to display the following message:</p>\n\n<p><code>print \"[ERROR] Invalid Directory Given...Please try again\\n\";</code> </p>\n\n<p>When the <code>until</code> condition fails. </p>\n\n<p>How can I do this elegently (without mountains of code)?</p>\n\n<p>Sidenote: If there is a language that allows for better(more elegant) handling of this problem please share</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 1652, "user_id": 1563512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9dbd125fda7a541e408b00a8713628?s=128&d=identicon&r=PG&f=1", "display_name": "zerodiff", "link": "https://stackoverflow.com/users/1563512/zerodiff"}, "edited": false, "score": 0, "creation_date": 1420491770, "post_id": 27785151, "comment_id": 43985504, "body": "I don&#39;t believe you can do this with straight HTML, but you could look at jquery-ui <a href=\"http://jqueryui.com/autocomplete/#combobox\" rel=\"nofollow noreferrer\">autocomplete</a>."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1420528499, "post_id": 27792429, "comment_id": 43996904, "body": "FYI, the CGI docs say that <a href=\"https://metacpan.org/pod/CGI#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">HTML Generation functions should no longer be used</a>: <i>&quot;All HTML generation functions within CGI.pm are no longer being maintained. Any issues, bugs, or patches will be rejected unless they relate to fundamentally broken page rendering...The rationale for this is that the HTML generation functions of CGI.pm are an obfuscation at best and a maintenance nightmare at worst. You should be using a template engine for better separation of concerns.&quot;</i>"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1420539554, "post_id": 27792429, "comment_id": 44001671, "body": "@ThisSuitIsBlackNot, 1) Those are not the CGI docs. The CGI docs say no such thing. 2) The op said they were using CGI, 3) I am working on a template example to show the op what they should be doing, but the !#@#!#$!@# template system I chose won&#39;t @!#$@#!$ work. OKAY?!!!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1420551590, "post_id": 27792429, "comment_id": 44008145, "body": "1) I linked to the docs for the latest version of CGI, 4.13, released on December 18, 2014. They do not match the docs on perldoc.perl.org because the version of CGI included in core is older. 2) The part I quoted doesn&#39;t say &quot;don&#39;t use CGI,&quot; it says &quot;don&#39;t use the HTML generation functions&quot; (although CGI is being <a href=\"https://metacpan.org/pod/CGI#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">removed from core</a>). 3) Relax. I&#39;m just trying to give you some information on a recent change that you may not have been aware of."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 0, "last_activity_date": 1420565089, "last_edit_date": 1420565089, "creation_date": 1420520963, "answer_id": 27792429, "question_id": 27785151, "link": "https://stackoverflow.com/questions/27785151/how-do-i-make-a-drop-down-list-to-accept-user-input-values-in-perl-cgi-script/27792429#27792429", "title": "How do i make a drop down list to accept user input values in perl cgi script", "body": "<blockquote>\n  <p>But now i have a new requirement to allow the user to input/enter a\n  value if its missing in the drop down list.</p>\n  \n  <p>Is it possible?</p>\n</blockquote>\n\n<p>Of course:</p>\n\n<p>create_form.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse CGI; \nuse CGI::Carp qw{ fatalsToBrowser };\n\n\n#Starting data:\nmy $local_label = 'Choose a size:';\nmy $local_name = 'size_select';\nmy $db_eq_val = '20mm';\nmy @sizes = ( \"15mm\", \"20mm\", \"25mm\"); \n\nmy $cgi = CGI-&gt;new;\n\nprint $cgi-&gt;header, \n      $cgi-&gt;start_html('My Size Page'),\n\n      $cgi-&gt;start_form(\n          -method =&gt; 'post',\n          -action =&gt; '/cgi-bin/process_form.pl',\n      ),\n      $cgi-&gt;div(\n          $cgi-&gt;label({-for=&gt;$local_name}, $local_label),\n          $cgi-&gt;popup_menu(  #select() is a perl butilin funciton, so 'popup_menu\" is the function name\n              -name     =&gt; $local_name,\n              -id       =&gt; $local_name,\n              -values   =&gt; \\@sizes,\n              -default  =&gt; $db_eq_val  #If the default isn't in options, then first option will be selected\n          ),\n      ),\n\n      $cgi-&gt;div(\n          $cgi-&gt;label({-for=&gt;'size_text_box'}, \"If desired size isn't up there, enter it here:\"),\n          $cgi-&gt;input({\n              -type =&gt; 'text', \n              -id   =&gt; 'size_text_box',\n              -name =&gt; 'size_text_box'\n          }),\n      ),\n\n\n\n      $cgi-&gt;submit('Submit', 'submit'),\n      $cgi-&gt;end_form,\n\n      $cgi-&gt;end_html();\n</code></pre>\n\n<p>Here's the html that code creates:</p>\n\n<pre><code>&lt;!DOCTYPE html\n    PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en-US\" xml:lang=\"en-US\"&gt;\n&lt;head&gt;\n&lt;title&gt;My Size Page&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=\"post\" action=\"/cgi-bin/2cgi.pl\" enctype=\"multipart/form-data\"&gt;\n&lt;div&gt;&lt;label for=\"size_select\"&gt;Choose a size:&lt;/label&gt; &lt;select name=\"size_select\"  id=\"size_select\"&gt;\n&lt;option value=\"15mm\"&gt;15mm&lt;/option&gt;\n&lt;option selected=\"selected\" value=\"20mm\"&gt;20mm&lt;/option&gt;\n&lt;option value=\"25mm\"&gt;25mm&lt;/option&gt;\n&lt;/select&gt;&lt;/div&gt;&lt;div&gt;&lt;label for=\"size_text_box\"&gt;If desired size isn't up there, enter it here:&lt;/label&gt; &lt;input name=\"size_text_box\" type=\"text\" id=\"size_text_box\" /&gt;&lt;/div&gt;&lt;input type=\"submit\" name=\"Submit\" value=\"submit\" /&gt;&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>process_form.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse CGI; \nuse CGI::Carp qw{ fatalsToBrowser };\n\nmy $cgi = CGI-&gt;new;\n\nmy $text_box = $cgi-&gt;param('size_text_box');\n#If the textbox has a value, ignore the select:\nmy $output = $text_box ? \n             $text_box : \n             $cgi-&gt;param('size_select');\n\nprint $cgi-&gt;header,\n      $cgi-&gt;start_html('Results Page'),\n      $cgi-&gt;div(\"The size you chose was: $output\"),\n      $cgi-&gt;end_html;\n</code></pre>\n\n<p>However, the modern way is to use a template.  Here it is with Template Toolkit:</p>\n\n<p>create_form.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse CGI;\nuse CGI::Carp qw{ fatalsToBrowser };\nuse Template;\n\nmy $local_label = 'Choose a size:';\nmy $local_name = 'size_select';\nmy $db_eq_val = '20mm';\nmy @sizes = ( \"15mm\", \"20mm\", \"25mm\"); \n\n\nmy $vars = {\n   select_label =&gt; $local_label,\n   select_name  =&gt; $local_name,\n   default      =&gt; $db_eq_val,\n   sizes        =&gt; \\@sizes,\n};\n\nmy $tname = 'templates/form.html';\n\nmy $template = Template-&gt;new({\n    INCLUDE_PATH =&gt; '/Users/7stud/perl_programs/cgi_projects/1proj',\n});\n\n$template-&gt;process($tname, $vars)\n    or die \"*MY* template process failed: \", $template-&gt;error(), \"\\n\";\n</code></pre>\n\n<p>According to the <a href=\"http://www.template-toolkit.org/docs/modules/Template.html#method_process\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>The process() method is called to process a template. The first\n  parameter indicates the input template as one of: </p>\n  \n  <ol>\n  <li><p>a filename relative\n  to INCLUDE_PATH, if defined</p></li>\n  <li><p>....</p></li>\n  </ol>\n</blockquote>\n\n<p>and more <a href=\"http://www.template-toolkit.org/docs/manual/Config.html#section_Template_Files_and_Blocks\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>...each of the INCLUDE_PATH directories is searched in turn to locate the template file.</p>\n</blockquote>\n\n<p>templates/form.html:</p>\n\n<pre><code>[% INCLUDE templates/header.html\n   title = \"Results page\"\n%]\n\n\n&lt;form action=\"/cgi-bin/process_form.pl\" method=\"post\"&gt;\n\n  &lt;label for=\"[% select_name %]\"&gt;[% select_label %]&lt;/label&gt;\n  &lt;select id=\"[% select_name %]\" name=\"[% select_name %]\"&gt;\n    [% FOREACH size IN sizes %]\n      [% IF size == default %]\n        &lt;option selected=\"selected\" value=\"[% size %]\"&gt;[% size %]&lt;/option&gt;\n      [% ELSE %]\n        &lt;option value=\"[% size %]\"&gt;[% size %]&lt;/option&gt;\n      [% END %]\n    [% END %]\n  &lt;/select&gt;\n\n  &lt;div&gt;\n    &lt;label for=\"size_text_box\"&gt;If you didn't see the size above, enter one here:&lt;/label&gt;\n    &lt;input type=\"text\" id=\"size_text_box\" name=\"size_text_box\"&gt;\n  &lt;/div&gt;\n\n  &lt;div&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n  &lt;/div&gt;\n\n&lt;/form&gt;\n\n\n\n[% INCLUDE templates/footer.html%]\n</code></pre>\n\n<p>templates/header.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;title&gt;[% title %]&lt;/title&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n</code></pre>\n\n<p>templates/footer.html:</p>\n\n<pre><code>&lt;div&gt;mysite.com&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>process_form.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse CGI; \nuse CGI::Carp qw{ fatalsToBrowser };\nuse Template;\n\nmy $cgi = CGI-&gt;new;\n\nmy $text_box = $cgi-&gt;param('size_text_box');\n#If the textbox has a value, ignore the select:\nmy $result = $text_box ? \n             $text_box : \n             $cgi-&gt;param('size_select');\n\nmy $vars = {\n    chosen_size =&gt; $result,\n};\n\nmy $tname = 'templates/results.html';\nmy $template = Template-&gt;new({\n    INCLUDE_PATHS =&gt; '/Users/7stud/perl_programs/cgi_projects/1proj',\n});\n$template-&gt;process($tname, $vars)\n    or die \"**MY** template process failed\", $template-&gt;error(), \"\\n\";\n</code></pre>\n\n<p>templates/results.html:</p>\n\n<pre><code>[% INCLUDE templates/header.html\n   title = \"Results Page\"\n%]\n\n&lt;div&gt;You chose: [% chosen_size %]&lt;/div&gt;\n\n[% INCLUDE templates/footer.html %]\n</code></pre>\n\n<p>The directory structure:</p>\n\n<pre><code>$ tree 1proj/\n1proj/\n\u251c\u2500\u2500 cgi-bin\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 create_form.pl\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 process_form.pl\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 simple_cgi.pl\n\u251c\u2500\u2500 serverHTTP.py (yes, a python server!)\n\u2514\u2500\u2500 templates\n    \u251c\u2500\u2500 footer.html\n    \u251c\u2500\u2500 form.html\n    \u251c\u2500\u2500 header.html\n    \u251c\u2500\u2500 results.html\n    \u2514\u2500\u2500 xform.html\n\n2 directories, 9 files\n</code></pre>\n\n<p>serverHTTP.py:</p>\n\n<pre><code>#python2:\n\nimport BaseHTTPServer\nimport CGIHTTPServer\n\nPORT = 8000\nhandler = CGIHTTPServer.CGIHTTPRequestHandler\n\nhttpd = BaseHTTPServer.HTTPServer((\"\", PORT), handler)\n\nprint \"serving at port\", PORT\nhttpd.serve_forever()\n\n\n'''\n#python3:\nimport http.server\n\nPORT = 8000\nhandler = http.server.CGIHTTPRequestHandler\n\nhttpd = http.server.HTTPServer((\"\", PORT), handler)\n\nprint(\"serving at port\", PORT)\nhttpd.serve_forever()\n'''\n</code></pre>\n\n<p>You just have to put that server in any directory from which you want to serve files (that directory will be the server root <code>/</code>, so the path to files in that directory will be <code>/some_file.html</code>).  Then start the server:</p>\n\n<pre><code>$ python serverHTTP.py\n</code></pre>\n\n<p>By default, files in a sub directory named <code>cgi-bin/</code> will be executed, and you can send requests to scripts using url's like the following in your browser:</p>\n\n<pre><code>http://localhost:8000/cgi-bin/create_form.html\n</code></pre>\n\n<p>In your html files, you would use paths like:</p>\n\n<pre><code>&lt;form action=\"/cgi-bin/process_form.html\" method=\"post\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2759, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1420565089, "creation_date": 1420480755, "question_id": 27785151, "link": "https://stackoverflow.com/questions/27785151/how-do-i-make-a-drop-down-list-to-accept-user-input-values-in-perl-cgi-script", "title": "How do i make a drop down list to accept user input values in perl cgi script", "body": "<p>I have a perl cgi script that has a simple drop down list of values for the user to select for a field meterSize.  </p>\n\n<p>But now i have a new requirement to allow the user to input/enter a value if its missing in the drop down list.  </p>\n\n<p>Is it possible?</p>\n\n<p>Can you please tell me if i can do this with my current design or provide any pointers? links? Thanks in advance.</p>\n\n<p>Code-2 is the subroutine implementation for the drop down list.  Code-1 is how i call the subroutine.</p>\n\n<p>Explaination:  </p>\n\n<p>meterSize is coming out of a db query and passed to subroutine which implements the drop-down list for it from a known list of values.</p>\n\n<p>Code-1:</p>\n\n<p>$value = drop_down_mSize(\"Meter Size\",\"meterSize\",$job->{meterSize});</p>\n\n<p>Code-2:  </p>\n\n<pre><code>sub drop_down_mSize {\n\n    my $local_label = shift;\n    my $local_name = shift;\n    my $db_eq_val = shift;\n    my %local_var = ( \"15mm\" =&gt; \"15mm\", \"20mm\" =&gt; \"20mm\", \"25mm\" =&gt; \"25mm\", \"40mm\" =&gt; \"40mm\", \"50mm\" =&gt; \"50mm\", \"80mm\" =&gt; \"80mm\", \"100mm\" =&gt; \"100mm\", \"125mm\" =&gt; \"125mm\", \" \" =&gt; \" \", NULL =&gt; \"NULL\");\n    my $return;\n\n    $return .= \"&lt;td&gt;$local_label&lt;/td&gt;&lt;td&gt;\";\n    $return .= \"&lt;select name = '$local_name' id = '$local_name'&gt;\";\n    foreach(sort keys%local_var)\n    {\n            if($db_eq_val eq $_)\n            {\n                    $return .= \"&lt;option selected value=\\\"$_\\\"&gt;$local_var{$_}&lt;/option&gt;\";\n            }\n            else\n            {\n                    $return .= \"&lt;option value=\\\"$_\\\"&gt;$local_var{$_}&lt;/option&gt;\";\n            }\n    }\n    $return .= \"&lt;/select&gt;\";\n    $return .= \"&lt;/td&gt;\";\n    return $return;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1420480953, "post_id": 27785124, "comment_id": 43980345, "body": "yes, you can. it&#39;s called look-ahead assertions. they let you express &quot;foo not followed by bar&quot;. conversly, there&#39;s look-behind as well: &quot;foo preceeded by bar&quot;"}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1420482753, "post_id": 27785124, "comment_id": 43981256, "body": "This can be done with a regular expression as the other comments/answers show, but why? It would be simpler, more efficient, and easier to code to just iterate over the words in the list (delimited by commas) and compare them to your two target words..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 1, "creation_date": 1420482964, "post_id": 27785124, "comment_id": 43981368, "body": "@twalberg The OP already addressed that: &quot;My goal is to use a regexp of this kind in a lighttpd configuration.&quot; They aren&#39;t writing a full-fledged Perl script."}], "answers": [{"comments": [{"owner": {"reputation": 7879, "user_id": 414272, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/m1sVc.png?s=128&g=1", "display_name": "a3nm", "link": "https://stackoverflow.com/users/414272/a3nm"}, "edited": false, "score": 0, "creation_date": 1420502426, "post_id": 27785414, "comment_id": 43989940, "body": "This seems to fail on &quot;french,english,french&quot;, which is rejected whereas it should be accepted. I tried to rewrite it using look-behind as <code>(?i)(?&lt;!\\benglish\\b.*)\\bfrench\\b</code> but this doesn&#39;t work: &quot;Variable length lookbehind not implemented in regex&quot;."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 7879, "user_id": 414272, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/m1sVc.png?s=128&g=1", "display_name": "a3nm", "link": "https://stackoverflow.com/users/414272/a3nm"}, "edited": false, "score": 0, "creation_date": 1420560368, "post_id": 27785414, "comment_id": 44013749, "body": "@a3nm You should be able to replace the negative look-behind with something like <code>(?:(?!english).)*</code>. See <a href=\"http://stackoverflow.com/a/11640500/176646\">regexps: variable-length lookbehind-assertion alternatives</a> for details."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 1, "last_activity_date": 1420560677, "last_edit_date": 1420560677, "creation_date": 1420481705, "answer_id": 27785414, "question_id": 27785124, "link": "https://stackoverflow.com/questions/27785124/perl-compatible-regular-expression-to-test-which-of-two-words-comes-first/27785414#27785414", "title": "Perl compatible regular expression to test which of two words comes first", "body": "<p>Something like this should work  </p>\n\n<p><strong>Update</strong><br>\nFail on first 'English' before 'French' only its:  </p>\n\n<pre><code> # /(?i)^(?:(?!\\benglish\\b).)*?\\bfrench\\b/\n\n (?i)                          # Case insensitive\n ^                             # BOS\n (?:\n      (?! \\b english \\b )\n      . \n )*?\n \\b french \\b                  # 'french'\n</code></pre>\n\n<p>Original:<br>\nFail on any 'English' before 'French'  </p>\n\n<pre><code> # /(?i)^(?!.*\\benglish\\b.*\\bfrench\\b).*\\bfrench\\b/\n\n (?i)                          # Case insensitive\n ^                             # BOS\n (?!                           # Not 'english' .. 'french'\n      .* \n      \\b english \\b \n      .* \n      \\b french \\b \n )\n .* \n \\b french \\b                  # Must contain 'french' \n</code></pre>\n"}], "owner": {"reputation": 7879, "user_id": 414272, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/m1sVc.png?s=128&g=1", "display_name": "a3nm", "link": "https://stackoverflow.com/users/414272/a3nm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 27785414, "answer_count": 1, "score": -1, "last_activity_date": 1420571889, "creation_date": 1420480658, "last_edit_date": 1420571889, "question_id": 27785124, "link": "https://stackoverflow.com/questions/27785124/perl-compatible-regular-expression-to-test-which-of-two-words-comes-first", "title": "Perl compatible regular expression to test which of two words comes first", "body": "<p>I am given a string containing a comma-separated list of words (where whitespace and case are not significant) and I want a Perl regexp to test the following: the string contains the (complete) word \"french\" and the (complete) word \"english\" does not occur earlier. For instance, I want to accept \"french\", \"foobar, french\", \"bar, french, quux, english\", \"french, english, french\"; but reject \"foo, bar\", \"english, french\", \"foo, english, bar, french, english\".</p>\n\n<p>My goal is to use a regexp of this kind in a lighttpd configuration. To be precise, I want to parse Accept-Language headers, with the naive heuristics that languages are listed in decreasing preference order, which is often true although not prescribed by the RFC. Hence, I can only have a Perl compatible regular expression, I cannot use any other features of Perl.</p>\n\n<p>In terms of formal language theory, such a regular expression must exist, but the straightforward solution requires regexp negation, which is painful to perform. (This is why I ask the question with \"french\" and \"english\" rather than \"fr\" and \"en\", where regexp negation would be tedious but doable by hand.) Are there any Perl-specific regexp features to make it possible to write a concise regexp for my task, or is there a tool to automatically compile a regexp to perform this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1420481867, "post_id": 27784645, "comment_id": 43980814, "body": "It&#39;s not inlined. <code>substr</code> returns a magical value that contains the operands passed to <code>substr</code> when it&#39;s called as an lvalue (e.g. as an argument to a sub). The substring operation happens when the magical value is accessed. This is done to allow <code>substr(...) = &quot;abc&quot;;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420484272, "post_id": 27784645, "comment_id": 43981962, "body": "e.g. <code>perl -E&#39;$_=&quot;abc&quot;; my $r = \\substr($_,0,1); $_=&quot;def&quot;; say $$r;&#39;</code> prints <code>d</code>"}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420488671, "post_id": 27784645, "comment_id": 43984059, "body": "@ikegami: I think you hit on the real answer; please add your comment as one. I&#39;m debating a doc patch; <code>@_</code> aliasing causing a <code>substr</code> call to be interpreted in lvalue context is subtle. I submitted <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=123552\" rel=\"nofollow noreferrer\">bug 123552</a> against the current behavior."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420490590, "post_id": 27784645, "comment_id": 43984970, "body": "It&#39;s not a bug. // The docs already explicitly mention this situation, so I&#39;m not sure what doc changes you want. // The list of a foreach loop and the arguments of a sub/method call are lvalues because Perl always passes by reference (&quot;aliases&quot;). e.g. <code>perl -E&#39;for ($x) { $_ = &quot;abc&quot;; } say $x;&#39;</code> and <code>perl -E&#39;sub { $_[0] = &quot;abc&quot;; }-&gt;($x); say $x&#39;</code>"}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420491572, "post_id": 27784645, "comment_id": 43985409, "body": "@ikegami: The bug is that <code>no warnings &#39;substr&#39;</code> has no effect in the lexical scope where the <code>substr</code> call which triggered it appears."}], "answers": [{"comments": [{"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1420479808, "post_id": 27784850, "comment_id": 43979812, "body": "Curious. I&#39;m running 5.16.1; it isn&#39;t fatal there. Duplicating the call to <code>foo</code> results in two warnings."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1420480462, "post_id": 27784850, "comment_id": 43980112, "body": "@MichaelCarman: You&#39;re right. Tested in 5.20.1, it doesn&#39;t die and reports the warning inside the <code>foo</code>."}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 1, "creation_date": 1420480785, "post_id": 27784850, "comment_id": 43980256, "body": "It looks like the behavior changed in 5.16. perl5160delta says <i>If the lvalue is only read from, not written to, it is now just a warning, as with rvalue <code>substr</code>.</i> Apparently perldiag wasn&#39;t updated to match. At any rate, the severity of the message is a tangent. The primary question is about the call to <code>substr</code> being inlined in the first place."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 1, "creation_date": 1420480946, "post_id": 27784850, "comment_id": 43980341, "body": "@MichaelCarman: They seem related, though, as the older versions report the warning at the correct line."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420481753, "post_id": 27784850, "comment_id": 43980764, "body": "<code>&quot;&quot;.substr(...)</code> would be simpler and easier than <code>my $temp = substr(...)</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 8, "last_activity_date": 1420480514, "last_edit_date": 1420480514, "creation_date": 1420479563, "answer_id": 27784850, "question_id": 27784645, "link": "https://stackoverflow.com/questions/27784645/documentation-for-inlining-of-built-ins/27784850#27784850", "title": "Documentation for inlining of built-ins?", "body": "<p>This is a documented behaviour (in <a href=\"http://p3rl.org/perldiag\" rel=\"nofollow\">perldiag</a>):</p>\n\n<blockquote>\n  <p>substr outside of string</p>\n  \n  <p>(W substr),(F) You tried to reference a substr() that pointed\n             outside of a string.  That is, the absolute value of the offset was\n             larger than the length of the string.  See \"substr\" in perlfunc.\n             This warning is fatal if substr is used in an lvalue context (as\n             the left hand side of an assignment <strong>or as a subroutine argument</strong> for\n             example).</p>\n</blockquote>\n\n<p>Emphasis mine.</p>\n\n<p>Changing the call to</p>\n\n<pre><code>foo(my $o = substr('123', 4, 6));\n</code></pre>\n\n<p>makes the warnings disappear.</p>\n\n<p>Moving the <code>no warnings</code> into the sub doesn't change the behaviour for me. What Perl version do you have? (5.14.4 here).</p>\n\n<p>The code I used for testing:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n$| = 1;\n\nprint 1, foo(my $s1 = substr('abc', 4, 6));\nprint 2, bar(my $s2 = substr('def', 4, 6));\n\n{\n    no warnings 'substr';\n    print 3, foo(my $s3 = substr('ghi', 4, 6));\n    print 4, bar(my $s4 = substr('jkl', 4, 6));\n    print 5, bar(substr('mno', 4, 6)); # Stops here, reports line 12.\n    print 6, foo(substr('pqr', 4, 6));\n}\nprint \"ok\\n\";\n\nsub foo {\n    my $s = shift;\n}\n\nsub bar {\n    no warnings 'substr';\n    my $s = shift;\n}\n</code></pre>\n\n<h2>Update:</h2>\n\n<p>I'm getting the same behaviour in 5.10.1, but in 5.20.1, the behaviour is as you described.</p>\n"}, {"comments": [{"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 1, "creation_date": 1420495773, "post_id": 27788044, "comment_id": 43987527, "body": "<i>smacks head</i> I&#39;m not sure why I was interpreting the <code>O</code> output as execution order instead of as a tree. I think I got off on the wrong foot due to the &quot;substr outside of string&quot; warning being reported as occurring on the <code>my $s = shift</code> line, rationalized that as meaning that the call to <code>substr</code> was in-lined there as some sort of obscure optimization to save call overhead, and never found my way back. <i>sigh</i>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1420492595, "creation_date": 1420492595, "answer_id": 27788044, "question_id": 27784645, "link": "https://stackoverflow.com/questions/27784645/documentation-for-inlining-of-built-ins/27788044#27788044", "title": "Documentation for inlining of built-ins?", "body": "<p>As you saw from B::Terse, the <code>substr</code> is not inlined.</p>\n\n<pre><code>$ perl -MO=Concise,-exec -e'f(substr($_, 3, 4))'\n1  &lt;0&gt; enter\n2  &lt;;&gt; nextstate(main 1 -e:1) v:{\n3  &lt;0&gt; pushmark s\n4  &lt;#&gt; gvsv[*_] s\n5  &lt;$&gt; const[IV 3] s\n6  &lt;$&gt; const[IV 4] s\n7  &lt;@&gt; substr[t4] sKM/3        &lt;-- The substr operator is evaluated first.\n8  &lt;#&gt; gv[*f] s/EARLYCV\n9  &lt;1&gt; entersub[t5] vKS/TARG   &lt;-- The sub call second.\na  &lt;@&gt; leave[1 ref] vKP/REFC\n-e syntax OK\n</code></pre>\n\n<p>When <code>substr</code> is called as an lvalue context, <code>substr</code> returns a magical scalar that contains the operands passed to <code>substr</code>.</p>\n\n<pre><code>$ perl -MDevel::Peek -e'$_ = \"abcdef\"; Dump(${\\ substr($_, 3, 4) })'\nSV = PVLV(0x2865d60) at 0x283fbd8\n  REFCNT = 2\n  FLAGS = (GMG,SMG)          &lt;--- Gets and sets are magical.\n  IV = 0                          GMG: A function that mods the scalar\n  NV = 0                               is called before fetches.\n  PV = 0                          SMG: A function is called after the\n  MAGIC = 0x2856810                    scalar is modified.\n    MG_VIRTUAL = &amp;PL_vtbl_substr\n    MG_TYPE = PERL_MAGIC_substr(x)\n  TYPE = x\n  TARGOFF = 3                      &lt;--- substr's second arg\n  TARGLEN = 4                      &lt;--- substr's third arg\n  TARG = 0x287bfd0                 &lt;--- substr's first arg\n  FLAGS = 0              \n  SV = PV(0x28407f0) at 0x287bfd0  &lt;--- A dump of substr's first arg\n    REFCNT = 2\n    FLAGS = (POK,IsCOW,pPOK)\n    PV = 0x2865d20 \"abcdef\"\\0\n    CUR = 6\n    LEN = 10\n    COW_REFCNT = 1\n</code></pre>\n\n<p>Subroutine arguments are evaluated in lvalue context because subroutine arguments are always passed by reference in Perl<sup>[1]</sup>.</p>\n\n<pre><code>$ perl -E'sub f { $_[0] = \"def\"; }  $x = \"abc\"; f($x); say $x;'\ndef\n</code></pre>\n\n<p>The substring operation happens when the magical scalar is accessed.</p>\n\n<pre><code>$ perl -E'$x = \"abc\"; $r = \\substr($x, 0, 1); $x = \"def\"; say $$r;'\nd\n</code></pre>\n\n<p>This is done to allow <code>substr(...) = \"abc\";</code></p>\n\n<hr>\n\n<ol>\n<li>This is probably documented using language similar to the following: \"The elements of <code>@_</code> are aliased to the subroutine arguments.\"</li>\n</ol>\n"}], "owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 3, "accepted_answer_id": 27788044, "answer_count": 2, "score": 10, "last_activity_date": 1420492595, "creation_date": 1420478623, "last_edit_date": 1420479761, "question_id": 27784645, "link": "https://stackoverflow.com/questions/27784645/documentation-for-inlining-of-built-ins", "title": "Documentation for inlining of built-ins?", "body": "<p>I ran into a situation where I can't inhibit warnings in an intuitive way because perl is in-lining a call to a built-in function. e.g.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n{\n    no warnings 'substr';      # no effect\n    foo(substr('123', 4, 6));  # out of range but shouldn't emit a warning\n}\n\nsub foo {\n    my $s = shift;  # warning reported here\n    # do something\n}\n</code></pre>\n\n<p>Running this code results in</p>\n\n<pre><code>substr outside of string at c:\\temp\\foo.pl line 10.\n</code></pre>\n\n<p>In order to inhibit the warning I have to move the <code>no warnings 'substr'</code> inside the function.</p>\n\n<pre><code>sub foo {\n    no warnings 'substr'; # works here, but there's no call to substr\n    my $s = shift;        # no warnings here\n    # do something\n}\n</code></pre>\n\n<p>I can see that the call to <code>substr</code> is being inlined by passing the code through <code>perl -MO=Terse</code></p>\n\n<pre><code>LISTOP (0x27dcaa8) leave [1]\n    OP (0x27a402c) enter\n    COP (0x27dcac8) nextstate\n    BINOP (0x27dcb00) leaveloop\n        LOOP (0x27dcb20) enterloop\n        LISTOP (0x27dcb68) lineseq\n            COP (0x27dcb88) nextstate\n            UNOP (0x27dcbc0) entersub [5]          # entry point for foo\n                UNOP (0x27dcbf4) null [148]\n                    OP (0x27dcbdc) pushmark\n                    LISTOP (0x27dcc48) substr [4]  # substr gets called here\n                        OP (0x27dcc30) null [3]\n                        SVOP (0x27dcc84) const [6] PV (0x2319944) \"123\"\n                        SVOP (0x27dcc68) const [7] IV (0x2319904) 4\n                        SVOP (0x27dcc14) const [8] IV (0x231944c) 6\n                    UNOP (0x27dcca0) null [17]\n                        PADOP (0x27dccf4) gv  GV (0x2318e5c) *foo\n</code></pre>\n\n<p>Is this optimizer behavior documented anywhere? <code>perlsub</code> only mentions inlining of constant functions. Given that the warning is being reported on the wrong line and that <code>no warnings</code> isn't working in the lexical scope where the call is being made I'm inclined to report this as a bug, although I can't think of how it could reasonably be fixed while preserving the optimization.</p>\n\n<p>Note: This behavior was observed under Perl 5.16.1.</p>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 2, "creation_date": 1420475560, "post_id": 27783239, "comment_id": 43977403, "body": "How about <code>use open ....</code> or even the -M flag from <code>perlrun</code>?"}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1420475716, "post_id": 27783239, "comment_id": 43977506, "body": "@tjd I am wondering your full solution:)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1420475876, "post_id": 27783239, "comment_id": 43977610, "body": "On Windows, you can&#39;t really because :crlf and :encoding would end up in the wrong order."}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420476838, "post_id": 27783239, "comment_id": 43978184, "body": "@ikegami interesting. Why the order is wrong only on Windows for :crlf and :encoding?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1420478259, "post_id": 27783239, "comment_id": 43978999, "body": ":crlf is only added on Windows. If other builds added :crlf, then they would have the problem too."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1420742081, "post_id": 27783239, "comment_id": 44098051, "body": "Unicode is hard and <code>:crlf</code> <code>:bytes</code>  ... so to speak. <a href=\"http://stackoverflow.com/questions/13105361/utf-16-perl-input-output\">UTF-16 Perl input output</a> might be of help."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1420742187, "post_id": 27783239, "comment_id": 44098099, "body": "@Thomson If it is a file that uses little endian encoding something like the example I added to my answer might work: <code>perl -00 -MEncode=&quot;encode,decode&quot; -E &#39;binmode(STDOUT, &quot;:bytes&quot;); $text = decode(&quot;UTF-16LE&quot;, &lt;&gt;) ; print encode(&quot;UTF-16LE&quot;, $text)&#39; UTF16.txt</code>. But that might not be your problem ... :-\\"}], "answers": [{"comments": [{"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1420715288, "post_id": 27784243, "comment_id": 44081204, "body": "I ran your last command on Windows with Perl 5.14, against a utf-16 file which can be view by many native application in Windows, like <code>type</code>, <code>notepad</code>, but perl complains &quot;UTF-16:Unrecognised BOM 7061&quot;"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1420731122, "post_id": 27784243, "comment_id": 44091122, "body": "I&#39;m not familiar with how perl on Windows interacts with the various PerlIO layers, but <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perlrun</code></a> describes many of the options (<code>:crlf</code> <i>etc.</i>) - a solution might lie there. In your case perhaps the text is <code>BOM</code>-ed (Byte Order Marked) and needs Little Endian/Big Endian encodings?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1420731702, "post_id": 27784243, "comment_id": 44091536, "body": "If operating system/software vendors and the Unicode Consortium have yet to provide a really easy to use robust standard it is probably because languages and writing systems are not really easy to use, encode, decode, store over long periods of time, translate, ... even on paper."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1420738392, "post_id": 27784243, "comment_id": 44096120, "body": "@Thomson When dealing with Unicode, IO, layers, <code>:bytes</code> and <code>:crlf</code> it can be difficult to make a &quot;portable&quot; one liner that works on Windows and the <code>Unix&#47;Linux&#47;BSD&#47;Solaris&#47;OSX</code> family. Now I have question too."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1420748773, "post_id": 27784243, "comment_id": 44101658, "body": "<a href=\"http://www.perlmonks.org/?node_id=986776\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=986776</a> shows how to remove BOM to &quot;unmark&quot; a UTF-16LE encoded document. It sounds scary enough to make a backup."}, {"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1420775890, "post_id": 27784243, "comment_id": 44111147, "body": "thanks. I am not sure why the encoding changing does work for the empty diamond operator on Windows, I opened as the same file explicitly with UTF-16LE, and it works. <code>perl -e&quot;open(I,&#39;&lt;:encoding(UTF-16LE)&#39;, $ARGV[0]);while (&lt;I&gt;) {print}&quot; someutf16file</code>"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": true, "score": 3, "last_activity_date": 1420741457, "last_edit_date": 1495542034, "creation_date": 1420477033, "answer_id": 27784243, "question_id": 27783239, "link": "https://stackoverflow.com/questions/27783239/process-text-as-utf-16-via-perl-one-liner/27784243#27784243", "title": "Process text as utf-16 via perl one-liner?", "body": "<p>Can <a href=\"http://perldoc.perl.org/Encode.html\" rel=\"nofollow noreferrer\"><code>Encode</code></a> do what you want? You then might have to use <code>encode()</code> and <code>decode()</code> in your script so it might be no shorter than:</p>\n\n<pre><code>    perl -nE 'BEGIN {binmode STDIN, \":encoding(utf16)\" } ; ...'\n</code></pre>\n\n<p>There is a <code>PERL_UNICODE</code> environment variable, but it is fairly limited: it simply mimics <code>-C</code> if I recall correctly. </p>\n\n<p>I once tried to find out why there aren't <code>-C</code> switches for \"popular\" forms of UTF and it seemed to come down to whether or not they are frequently used; are or are not well understood (endianness sometimes counts - who knew?); are - or should be - obsolete; ... : in other words it's not as simple as it seems.</p>\n\n<ul>\n<li><p><code>perl -MEncode -E 'say for Encode-&gt;encodings(\":all\")'</code>  will show ~ 9 different UTF encodings. </p></li>\n<li><p>In addtion to the usual suspects (<a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perlrun</code></a>, <a href=\"http://perldoc.perl.org/perlunitut.html\" rel=\"nofollow noreferrer\"><code>perlunitut</code></a>, <a href=\"http://perldoc.perl.org/perlunicode.html\" rel=\"nofollow noreferrer\"><code>perlunicode</code></a>, <em>etc.</em>), one of the <a href=\"https://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default\">most interesting perl resources on Unicode is right here on Stackoverflow</a> and makes for fascinating reading.</p></li>\n</ul>\n\n<p><em>c.f.</em>  @Leon Timmerman's example and <a href=\"http://perldoc.perl.org/open.html\" rel=\"nofollow noreferrer\"><code>perldoc open</code></a> which is fairly thorough:</p>\n\n<pre><code>% perl -Mopen=\":std,:encoding(utf-16)\" -E 'print &lt;&gt;' UTF16.txt &gt; other.txt\n% file other.txt \nother.txt: Big-endian UTF-16 Unicode text, with CRLF line terminators\n</code></pre>\n\n<p><hr>\n<strong>Edit:</strong> Another recent discussion asking how to <a href=\"https://stackoverflow.com/questions/27801561/turn-off-binmodestdout-utf8-locally\">&quot;Turn Off&quot; binmode(STDOUT, &quot;:utf8&quot;) Locally</a> touches on PerlIO and \"layers\" and has a neat solution that might lend itself to a one-liner.  See <a href=\"https://stackoverflow.com/questions/13105361/utf-16-perl-input-output\">UTF-16 perl input output</a> as well.</p>\n\n<p>I will try to find a real example using <code>Encode</code> to preserve encoding that can be one-lined. It would go something like this \"round trip\". <em>e.g.</em>:</p>\n\n<pre><code>% file UTF16.txt\nUTF16.txt: Little-endian UTF-16 Unicode text, with CRLF, CR line terminators\n</code></pre>\n\n<p>... slurp it up and redirect it to a different file:</p>\n\n<pre><code>% perl -00 -MEncode=\"encode,decode\"  -E '\n  $text = decode(\"UTF-16LE\", &lt;&gt;) ;  \n  print encode(\"UTF-16LE\", $text)' UTF16.txt &gt; other.txt\n% file other.txt\nother.txt: Little-endian UTF-16 Unicode text, with CRLF, CR line terminators\n</code></pre>\n\n<p><code>diff</code> and print the size of the file in bytes:</p>\n\n<pre><code>% diff UTF16.txt other.txt\n% perl -E 'say [stat]-&gt;[7] for @ARGV' UTF16.txt other.txt\n2220\n2220 \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "edited": false, "score": 0, "creation_date": 1420776091, "post_id": 27784541, "comment_id": 44111181, "body": "This one works well on Windows. I think <code>IN</code> is necessary and the key here. Could you explain a little more about this syntax?"}], "tags": [], "owner": {"reputation": 29236, "user_id": 4727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a99498921b93509c73d390704bddf6?s=128&d=identicon&r=PG", "display_name": "Leon Timmermans", "link": "https://stackoverflow.com/users/4727/leon-timmermans"}, "is_accepted": false, "score": 3, "last_activity_date": 1420478151, "creation_date": 1420478151, "answer_id": 27784541, "question_id": 27783239, "link": "https://stackoverflow.com/questions/27783239/process-text-as-utf-16-via-perl-one-liner/27784541#27784541", "title": "Process text as utf-16 via perl one-liner?", "body": "<p>You can do that using <code>perl -Mopen=\":std,IN,:encoding(utf-16)\" -e '...'</code></p>\n"}], "owner": {"reputation": 17943, "user_id": 396383, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9WwJr.jpg?s=128&g=1", "display_name": "Thomson", "link": "https://stackoverflow.com/users/396383/thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 3, "accepted_answer_id": 27784243, "answer_count": 2, "score": 2, "last_activity_date": 1420741457, "creation_date": 1420473815, "last_edit_date": 1420477188, "question_id": 27783239, "link": "https://stackoverflow.com/questions/27783239/process-text-as-utf-16-via-perl-one-liner", "title": "Process text as utf-16 via perl one-liner?", "body": "<p>perl has an option <code>perl -C</code> to process utf-8, is it possible to tell perl one-liner the input is in utf-16 encoding? The BEGIN block might be used to change encoding explicitly, any simpler way there?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1420472310, "post_id": 27782716, "comment_id": 43975434, "body": "Note that your regex will fail for dates like <code>Jan 10</code>, since only one space is used for padding."}, {"owner": {"reputation": 3402, "user_id": 1841533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9c40aae4572d0d306ac3fbcc6ac9d9?s=128&d=identicon&r=PG", "display_name": "Olivier Dulac", "link": "https://stackoverflow.com/users/1841533/olivier-dulac"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1420472820, "post_id": 27782716, "comment_id": 43975733, "body": "to follow on @ThisSuitIsBlackNot comment: replace <code>\\s\\s</code> with <code>\\s\\s*</code> (or: <code>\\s+</code>) to allow for &quot;one or more&quot; separators instead of &quot;exactly 2&quot;"}, {"owner": {"reputation": 3724, "user_id": 3142963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb984a54fc82c443b2c9e34271d8787d?s=128&d=identicon&r=PG&f=1", "display_name": "nwk", "link": "https://stackoverflow.com/users/3142963/nwk"}, "edited": false, "score": 0, "creation_date": 1420473928, "post_id": 27782716, "comment_id": 43976428, "body": "The example line you have given won&#39;t match against the word &quot;kernel event&quot;. Give the relevant word(s) for this line or a line with &quot;kernel event&quot; in it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1420474488, "post_id": 27782716, "comment_id": 43976780, "body": "Can I suggest that if you&#39;re syslog parsing, you might want to consider <code>logstash</code>."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 2179295, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/9HdAP.jpg?s=128&g=1", "display_name": "Alyn", "link": "https://stackoverflow.com/users/2179295/alyn"}, "edited": false, "score": 0, "creation_date": 1420472851, "post_id": 27782799, "comment_id": 43975750, "body": "Thanks for the response. Done that, but still no results."}, {"owner": {"reputation": 3724, "user_id": 3142963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb984a54fc82c443b2c9e34271d8787d?s=128&d=identicon&r=PG&f=1", "display_name": "nwk", "link": "https://stackoverflow.com/users/3142963/nwk"}, "reply_to_user": {"reputation": 55, "user_id": 2179295, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/9HdAP.jpg?s=128&g=1", "display_name": "Alyn", "link": "https://stackoverflow.com/users/2179295/alyn"}, "edited": false, "score": 0, "creation_date": 1420473035, "post_id": 27782799, "comment_id": 43975870, "body": "Post more of your code. I&#39;ve added the code that matches the log line you&#39;ve given on my machine."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 55, "user_id": 2179295, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/9HdAP.jpg?s=128&g=1", "display_name": "Alyn", "link": "https://stackoverflow.com/users/2179295/alyn"}, "edited": false, "score": 1, "creation_date": 1420473370, "post_id": 27782799, "comment_id": 43976068, "body": "@Alyn Please <a href=\"http://stackoverflow.com/posts/27782716/edit\">edit</a> your question and post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> that demonstrates your problem in a reproducible manner. That will make it easier for other users to find the issue and help you fix it. Note that we should be able to copy the code from your question verbatim and run it in our own environment."}, {"owner": {"reputation": 3724, "user_id": 3142963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb984a54fc82c443b2c9e34271d8787d?s=128&d=identicon&r=PG&f=1", "display_name": "nwk", "link": "https://stackoverflow.com/users/3142963/nwk"}, "reply_to_user": {"reputation": 55, "user_id": 2179295, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/9HdAP.jpg?s=128&g=1", "display_name": "Alyn", "link": "https://stackoverflow.com/users/2179295/alyn"}, "edited": false, "score": 0, "creation_date": 1420473612, "post_id": 27782799, "comment_id": 43976223, "body": "@Alyn Also post a word you want to match your example line against."}, {"owner": {"reputation": 55, "user_id": 2179295, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/9HdAP.jpg?s=128&g=1", "display_name": "Alyn", "link": "https://stackoverflow.com/users/2179295/alyn"}, "edited": false, "score": 0, "creation_date": 1420475155, "post_id": 27782799, "comment_id": 43977149, "body": "Seems to be working now. It will also find other words which are needed. I very much appreciate the time you, and everyone else, has taken to help me out on a problem I doubt I would have solved myself. Cheers guys :)"}], "tags": [], "owner": {"reputation": 3724, "user_id": 3142963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb984a54fc82c443b2c9e34271d8787d?s=128&d=identicon&r=PG&f=1", "display_name": "nwk", "link": "https://stackoverflow.com/users/3142963/nwk"}, "is_accepted": false, "score": 2, "last_activity_date": 1420474811, "last_edit_date": 1420474811, "creation_date": 1420472294, "answer_id": 27782799, "question_id": 27782716, "link": "https://stackoverflow.com/questions/27782716/perl-syslog-parser/27782799#27782799", "title": "Perl Syslog Parser", "body": "<p>Assuming you chomp your input you should replace <code>\\n</code> with <code>$</code>.</p>\n\n<pre><code>$word = \"networkmanager\";\n$log = \"Dec  3 06:13:24 kali NetworkManager[2572]: &lt;info&gt;  address 172.5.2.145\";\n# Note the \"i\".\nif ($log =~ m/([A-Z]\\w*\\s\\s[0-9]+\\s[0-9]{2}:[0-9]{2}:[0-9]{2}\\s.*\\s$word.*$)/i) {\n    print \"yes\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "is_accepted": false, "score": 0, "last_activity_date": 1420472939, "creation_date": 1420472939, "answer_id": 27782971, "question_id": 27782716, "link": "https://stackoverflow.com/questions/27782716/perl-syslog-parser/27782971#27782971", "title": "Perl Syslog Parser", "body": "<p>If you are able to install or use cpan modules, there appears to be one that does what you need:\n<a href=\"http://search.cpan.org/~dschwei/Parse-Syslog/\" rel=\"nofollow\">http://search.cpan.org/~dschwei/Parse-Syslog/</a></p>\n"}], "owner": {"reputation": 55, "user_id": 2179295, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/9HdAP.jpg?s=128&g=1", "display_name": "Alyn", "link": "https://stackoverflow.com/users/2179295/alyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1420556118, "creation_date": 1420472005, "last_edit_date": 1420556118, "question_id": 27782716, "link": "https://stackoverflow.com/questions/27782716/perl-syslog-parser", "title": "Perl Syslog Parser", "body": "<p>I am currently trying to create a script that will test a regular expression containing keyword against the syslog file. However in attempting to match the expression against positive finds, I am unable to retrieve results. For the record I have checked the file to ensure there are records associated with that I wish to find. I was hoping if anybody has an idea of where the expression is incorrect.</p>\n\n<p>I am using an if statement to test the expression against an entry as below:</p>\n\n<p>Against an entry such as </p>\n\n<pre><code>Jan  5 00:37:50 Steves-MBP.default sessionlogoutd[1309]: sessionlogoutd Launched\n</code></pre>\n\n<p>Any help at all is much appreciated. Cheers guys</p>\n\n<p>As requested, an entry that should correctly match would be something such as, with networkmanager as word:</p>\n\n<pre><code>Dec  3 06:13:24 kali NetworkManager[2572]: &lt;info&gt;  address 172.5.2.145\n</code></pre>\n"}, {"tags": ["perl", "encoding", "null"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1420472078, "post_id": 27782506, "comment_id": 43975304, "body": "Can you give a sample input?"}, {"owner": {"reputation": 9, "user_id": 3941400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8244359f3aa0e7be51d12f547990fe5b?s=128&d=identicon&r=PG&f=1", "display_name": "Moose1231", "link": "https://stackoverflow.com/users/3941400/moose1231"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1420473498, "post_id": 27782506, "comment_id": 43976144, "body": "Hi choroba, I have edited my question to make it more clear"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1420475024, "post_id": 27782506, "comment_id": 43977082, "body": "I think we need more sample input. At least two records, given you mention you&#39;re looking for <code>&amp;</code>. I&#39;ve just run your code, and don&#39;t get NULs. But your sample input doesn&#39;t match your output (winte_T)  either. Your <code>if cardno</code> line isn&#39;t ever triggered with that sample record."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1420475294, "post_id": 27782506, "comment_id": 43977237, "body": "I will note - I think you&#39;ve tried to do this a much harder way than is entirely necessary. What are you actually trying to extract as your output?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 3941400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8244359f3aa0e7be51d12f547990fe5b?s=128&d=identicon&r=PG&f=1", "display_name": "Moose1231", "link": "https://stackoverflow.com/users/3941400/moose1231"}, "edited": false, "score": 0, "creation_date": 1420566211, "post_id": 27783954, "comment_id": 44017254, "body": "Thanks for the answer Sobrique. I need to remove the THERMST lines only in a specific card number (hence the cardno variable). My code is however probably too complicated for nothing. That being said, I realized that the problem does not come from this script but from another one and I still have no idea why. I may be posting another question if I don&#39;t find the answer by myself.  Sorry for the trouble"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 9, "user_id": 3941400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8244359f3aa0e7be51d12f547990fe5b?s=128&d=identicon&r=PG&f=1", "display_name": "Moose1231", "link": "https://stackoverflow.com/users/3941400/moose1231"}, "edited": false, "score": 0, "creation_date": 1420570815, "post_id": 27783954, "comment_id": 44019648, "body": "Well, one of the obvious ones is that your source data might contain the null characters :). <code>cat -v</code> might reveal this."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1420476102, "creation_date": 1420476102, "answer_id": 27783954, "question_id": 27782506, "link": "https://stackoverflow.com/questions/27782506/null-character-appearing-when-i-print-a-file/27783954#27783954", "title": "Null character appearing when I print a file", "body": "<p>I may be misreading your code, but it <em>look</em> like you're trying to do something very simple in perl, a very hard way.</p>\n\n<p>If I'm reading it right, what you're trying to do is take an input record format, and conditionally print certain lines. Perl has a very good tool for this, called the 'range operator'. </p>\n\n<p>I think you will be able to accomplish what you want with something considerably simpler.</p>\n\n<pre><code>#!/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) {\n    print unless ( m/^THERMST/ ... m/^\\$$/ );\n}\n\n__DATA__\nQNODE \"CExtHrn - Heater_Bidon\" 1.0 T884 TOTAL\nTHERMST \"CExtHrn\" 0  2.500000E+01  3.000000E+01 883 ID  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00 \"Heater_Bidon\"\nNAME2 Heater_ CExtHrn - Heater_Bidon\nNAME Heater_      40097      40170          1\nTABTYPE 884 TABLE OPERATION\nTABDATA 884 885 INTERP\nTABDATA 884 883 THERMST\nTABTYPE 885 QNODE TIME\nTABDATA 885  2.000000E+01  0.000000E+00\n$\n</code></pre>\n\n<p>This is an example, based on the data you've given so far - if you can give a bit more to show exactly what you're trying to accomplish, I would be pretty sure you can extract the information you need without having to do iterating through elements in an array of words. Perl can do better than that. </p>\n\n<p>(I am guessing a bit, as it's completely unclear where you're getting <code>$cardno</code> from. However this should be quite easy to modify to suit your needs)</p>\n"}], "owner": {"reputation": 9, "user_id": 3941400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8244359f3aa0e7be51d12f547990fe5b?s=128&d=identicon&r=PG&f=1", "display_name": "Moose1231", "link": "https://stackoverflow.com/users/3941400/moose1231"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420478271, "creation_date": 1420471287, "last_edit_date": 1420478271, "question_id": 27782506, "link": "https://stackoverflow.com/questions/27782506/null-character-appearing-when-i-print-a-file", "title": "Null character appearing when I print a file", "body": "<p>I have a code where I read a file and remove a block of line if a certain keyword matches. If I see the key word THERMST, I delete the line before and all lines until I reach a &amp; :</p>\n\n<pre><code>QNODE \"CExtHrn - Heater_Bidon\" 1.0 T884 TOTAL\nTHERMST \"CExtHrn\" 0  2.500000E+01  3.000000E+01 883 ID  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00 \"Heater_Bidon\"\nNAME2 Heater_ CExtHrn - Heater_Bidon\nNAME Heater_      40097      40170          1\nTABTYPE 884 TABLE OPERATION\nTABDATA 884 885 INTERP\nTABDATA 884 883 THERMST\nTABTYPE 885 QNODE TIME\nTABDATA 885  2.000000E+01  0.000000E+00\n$\n</code></pre>\n\n<p>However, for an obscure reason, when I print to a new file, it gives several null characters on a certain line. The weird thing is that this line is not related with the line I just changed. If I don't modify the file, by commenting the following lines, I don't get any null characters.</p>\n\n<pre><code># We delete the last 2 line and skip the rest of the qnode/thermst definition\nsplice @INPF1_OUT, -2;\n# Skipping the lines until next comment line.\n$ii++ until substr($INPF1_IN[$ii], 0, 1) eq '$';\n$ii = $ii - 1; \n</code></pre>\n\n<p>Any idea what this could be? The null characters are causing problems for what I do with the file.</p>\n\n<p>Here is what the line should be :</p>\n\n<pre><code>NAME winte_T     101269     101270          1\n</code></pre>\n\n<p>here is what it prints in the new file :</p>\n\n<pre><code>NAME winte_T ULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNULNUL  101269     101270          1\n</code></pre>\n\n<p>You can see that the line that cause the error is not related to the one that should be modified</p>\n\n<p>Thank you, the code is below</p>\n\n<pre><code>#!/bin/perl\n\nuse strict;\nuse Text::ParseWords;\n\nopen (INPF1_in, '&lt;', $INPF1)\n  or die \"Not able to open : $INPF1\";\nmy @INPF1_IN = &lt;INPF1_in&gt;;\nclose INPF1_in;\nmy @INPF1_OUT; # Output INPF1\n\nmy $cardno = 1;\nmy $ii = 0;\nuntil ($ii &gt; $#INPF1_IN) {\n    my $INPF_line = $INPF1_IN[$ii];\n    push(@INPF1_OUT, $INPF_line); # Adding line\n    chomp($INPF_line);\n    if ($INPF_line eq \"-1\") {\n        $cardno++;\n    }\n    if ($cardno == 9) {\n        my @line = parse_line(\" \", 0, $INPF_line); # parsing the line elements\n\n         if ($line[0] eq \"THERMST\") { # If Thermostat\n            # We delete the last 2 line and skip the rest of the qnode/thermst definition\n            splice @INPF1_OUT, -2;\n            $ii++ until substr($INPF1_IN[$ii], 0, 1) eq '$';\n            $ii = $ii-1; # Skipping the lines until next comment line.\n        }\n    }\n    $ii++;\n}\n\nopen (INPF1_out, '&gt;', $INPF1);\nprint INPF1_out $_ foreach @INPF1_OUT;\nclose INPF1_out;\n</code></pre>\n"}, {"tags": ["perl", "jboss7.x"], "comments": [{"owner": {"reputation": 611, "user_id": 2306593, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1066c38b82761dc8827e550c5a72ea86?s=128&d=identicon&r=PG&f=1", "display_name": "Azhaguvel A", "link": "https://stackoverflow.com/users/2306593/azhaguvel-a"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420469933, "post_id": 27782038, "comment_id": 43974063, "body": "Thanks for your quick reply. The output is .home.dir"}], "answers": [{"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420471210, "post_id": 27782193, "comment_id": 43974750, "body": "Also, take a look at the <a href=\"http://perldoc.perl.org/Env.html\" rel=\"nofollow noreferrer\">Env</a> module in Perl. It puts all imported variables in a single location, and can limit what gets imported."}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 0, "last_activity_date": 1420470229, "creation_date": 1420470229, "answer_id": 27782193, "question_id": 27782038, "link": "https://stackoverflow.com/questions/27782038/how-to-read-jboss-system-properties-in-perl-script/27782193#27782193", "title": "How to read JBoss system properties in Perl Script?", "body": "<p>The shell variables can't contains any dot <code>.</code></p>\n\n<p>I think there's a mistake on the variable name.</p>\n\n<p>Instead, try : </p>\n\n<pre><code>my $jboss_home = $ENV{'JBOSS_HOME'};\nprint \"JBoss home is $jboss_home\"\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 2306593, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1066c38b82761dc8827e550c5a72ea86?s=128&d=identicon&r=PG&f=1", "display_name": "Azhaguvel A", "link": "https://stackoverflow.com/users/2306593/azhaguvel-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420470229, "creation_date": 1420469659, "question_id": 27782038, "link": "https://stackoverflow.com/questions/27782038/how-to-read-jboss-system-properties-in-perl-script", "title": "How to read JBoss system properties in Perl Script?", "body": "<p>I want to read JBoss System Properties values in Perl Script. \nI have tried the way how we can read the Environment variables in Perl \nbut which is not working correctly. </p>\n\n<p>Mentioned below code snippet what i have tried :</p>\n\n<pre><code>my $jboss_home = $ENV{'jboss.home.dir'};\nprint \"JBoss home is $jboss_home\"\n</code></pre>\n\n<p><strong><em>Is there any alternative way to read system properties in perl script?</em></strong></p>\n"}, {"tags": ["perl", "xml-simple"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1420467711, "post_id": 27781432, "comment_id": 43972725, "body": "<code>id</code> is not a <code>tag</code>, it is an <code>attribute</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1420468978, "post_id": 27781432, "comment_id": 43973471, "body": "I&#39;d suggest taking a look at <code>XML::Twig</code> instead."}, {"owner": {"reputation": 233, "user_id": 1243829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pLLZR.jpg?s=128&g=1", "display_name": "todd1215", "link": "https://stackoverflow.com/users/1243829/todd1215"}, "edited": false, "score": 0, "creation_date": 1420471925, "post_id": 27781432, "comment_id": 43975191, "body": "Thank you for your suggestion. XML::Twig looks interesting and I may look into this."}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 1243829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pLLZR.jpg?s=128&g=1", "display_name": "todd1215", "link": "https://stackoverflow.com/users/1243829/todd1215"}, "edited": false, "score": 0, "creation_date": 1420472425, "post_id": 27781726, "comment_id": 43975509, "body": "you right, it is an attribute. Boy I&#39;ve not worked with XML in awhile. I think I need a refresher. Thanks for the pointer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1420468578, "creation_date": 1420468578, "answer_id": 27781726, "question_id": 27781432, "link": "https://stackoverflow.com/questions/27781432/getting-at-xml-tree-data-in-perl/27781726#27781726", "title": "Getting at XML tree data in perl", "body": "<p>That's because the default config includes</p>\n\n<pre><code>KeyAttr =&gt; [qw( name key id )]\n</code></pre>\n\n<p>Specifying</p>\n\n<pre><code>KeyAttr =&gt; []\n</code></pre>\n\n<p>will cause <code>id</code> to be no different than any other attribute.</p>\n"}], "owner": {"reputation": 233, "user_id": 1243829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pLLZR.jpg?s=128&g=1", "display_name": "todd1215", "link": "https://stackoverflow.com/users/1243829/todd1215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 27781726, "answer_count": 1, "score": 1, "last_activity_date": 1420468578, "creation_date": 1420467546, "question_id": 27781432, "link": "https://stackoverflow.com/questions/27781432/getting-at-xml-tree-data-in-perl", "title": "Getting at XML tree data in perl", "body": "<p>I need to parse an XML file using perl which I can load the file using the XML::Simple module but within the XML tree there is a tag that I can't see using the DataDumper module but I can see it's value instead.</p>\n\n<p></p>\n\n<pre><code>    &lt;testcase id=\"10\"&gt;\n        .\n        .\n        .\n    &lt;/testcase&gt;\n</code></pre>\n\n<p>Above is a Sample of the XML file with the testcase tag. It's the  part that I have difficulty with. Using DataDumper to view the contents of the array I see something like this:</p>\n\n<pre><code>$VAR1 = {\n          'testcases' =&gt; {\n                         'file' =&gt; 'testcases.xml',\n                         'testcase' =&gt; {\n                                       '10' =&gt; {\n                                                },\n</code></pre>\n\n<p>Since the XML is defined like  why isn't it layed out in the VAR1 array with the id included? Instead of expecting testcases->testcase->id I get testcases->testcase->10. Which 10 is the id but what happened to the 'id' tag?</p>\n"}, {"tags": ["regex", "perl", "shell"], "comments": [{"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1420461654, "post_id": 27779698, "comment_id": 43969240, "body": "How is regex involved?"}, {"owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "reply_to_user": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1420461957, "post_id": 27779698, "comment_id": 43969405, "body": "Its an options to use regex"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420461969, "post_id": 27779698, "comment_id": 43969414, "body": "Regular expressions are used to define a syntax. The match and substitute operators check if a string matches a syntax pattern defined using a regex. I am unaware of any tools that use a regex pattern to generate strings."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1420462065, "post_id": 27779698, "comment_id": 43969478, "body": "<code>all combination 8 characters (alphanumeric)</code> is about <code>62**8</code>. To print all of this, you&#39;ll use tons of paper."}, {"owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420462209, "post_id": 27779698, "comment_id": 43969581, "body": "Yes all combination will generate enormous number. My goal is to generate all of them and store in database. But for now to just need print 10."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 4382795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15ee80002b9e3b2bb2487d42598cfe80?s=128&d=identicon&r=PG&f=1", "display_name": "k.abbey", "link": "https://stackoverflow.com/users/4382795/k-abbey"}, "is_accepted": false, "score": 0, "last_activity_date": 1420463657, "creation_date": 1420463657, "answer_id": 27780334, "question_id": 27779698, "link": "https://stackoverflow.com/questions/27779698/print-alpha-numeric-characters-using-regular-expressions/27780334#27780334", "title": "Print alpha-numeric characters using regular expressions", "body": "<p>You can check each pattern.\nLet's name the string <strong>$str</strong>. Generate <strong>$str</strong> from \"00000000\" to \"zzzzzzzz\" and use following <strong>if</strong> clause to pick up strings that match the patterns.</p>\n\n<pre><code>if ($str =~ /^[A-Za-z][0-9]/        // pattern 1 and 2\n  &amp;&amp; $str !~ /[0-9]{3}/             // pattern 3\n  &amp;&amp; $str !~ /[A-Za-z]{4}/)         // pattern 4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420471409, "post_id": 27780469, "comment_id": 43974866, "body": "I am getting the below outputCan&#39;t locate Algorithm/Loops.pm in @INC (you may need to install the Algorithm::Loops module) (@INC contains:  /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/l ib64/perl5 /usr/share/perl5 .) at main.pl line 4.                                                              BEGIN failed--compilation aborted at main.pl line 4."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420471501, "post_id": 27780469, "comment_id": 43974913, "body": "Do you have the module installed?"}, {"owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420473010, "post_id": 27780469, "comment_id": 43975855, "body": "installed, now getting Can&#39;t locate object method &quot;say&quot; via package &quot;A0AAA0AA&quot; (perhaps you forgot to load &quot;A0AAA0AA&quot;?) at sr.pl line 62."}, {"owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420473362, "post_id": 27780469, "comment_id": 43976064, "body": "I got it working thnx mate! it will help me to progress in my project"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420475681, "post_id": 27780469, "comment_id": 43977484, "body": "Add <code>use strict; use warnings; use feature qw( say );</code>. You could also switch to using <code>print</code> instead. (But still add <code>use strict; use warnings;</code> if you do.)"}, {"owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420630420, "post_id": 27780469, "comment_id": 44042827, "body": "I am working on a project with enormous amount of data. This code is very crucial part of project for getting uniq id. Since I need to store this in database, i have a question. Can the script be modifed in such a way that it generates 1 million and exit(). The last record generated alphanumeric is stored. When we call the script again give the last generated as argument and script should continue to generate next 1 million"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420631484, "post_id": 27780469, "comment_id": 44043402, "body": "First part yes. Second part no"}, {"owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420632875, "post_id": 27780469, "comment_id": 44044301, "body": "I tried few things like generating all the code, storing and then populating the table in increment of 1 million if the unused uniq id &lt; 10%. But its bit complicated. Could you suggest something smarter?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "edited": false, "score": 0, "creation_date": 1420636296, "post_id": 27780469, "comment_id": 44046162, "body": "I personally would write a specialized version of NestedLoops."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1420466767, "last_edit_date": 1420466767, "creation_date": 1420464115, "answer_id": 27780469, "question_id": 27779698, "link": "https://stackoverflow.com/questions/27779698/print-alpha-numeric-characters-using-regular-expressions/27780469#27780469", "title": "Print alpha-numeric characters using regular expressions", "body": "<p>Regular expressions are used to define a syntax. The match and substitute operators check if a string matches a syntax pattern defined using a regex. I am unaware of any tools that use a regex pattern to generate strings.</p>\n\n<hr>\n\n<p>When you have an arbitrary number of nested loops, you want <a href=\"http://search.cpan.org/perldoc?Algorithm::Loops\" rel=\"nofollow\">Algorithm::Loops</a>'s <code>NestedLoops</code>. In your case, there's a fixed number of loops, but there are so many that <code>NestedLoops</code> comes in useful anyway.</p>\n\n<p>[I'm assuming you're only interested in the letters and numbers in ASCII.]</p>\n\n<p>Na&iuml;ve (generates all sequences, and filters out the unwanted ones):</p>\n\n<pre><code>use Algorithm::Loops qw( NestedLoops );\n\nmy @syms = ('A'..'Z', 'a'..'z', '0'..'9');\n\nmy $iter = NestedLoops([ (\\@syms) x 8 ]);\n\nwhile (my @s = $iter-&gt;()) {\n   my $s = join('', @s);\n   next if $s !~ /^[a-zA-Z][0-9]/;\n   next if $s =~ /[a-zA-Z]{4}|[0-9]{3}/;\n   say $s;\n}\n</code></pre>\n\n<p>Mostly na&iuml;ve (generates all sequences except obviously bad ones, and filters out the unwanted ones):</p>\n\n<pre><code>use Algorithm::Loops qw( NestedLoops );\n\nmy @letters = ('A'..'Z', 'a'..'z');\nmy @digits  = ('0'..'9');\nmy @syms    = (@letters, @digits);\n\nmy $iter = NestedLoops([\n   \\@letters,\n   \\@digits,\n   (\\@syms) x 6,\n]);\n\nwhile (my @s = $iter-&gt;()) {\n   my $s = join('', @s);\n   next if $s =~ /[a-zA-Z]{4}|[0-9]{3}/;\n   say $s;\n}\n</code></pre>\n\n<p>But that still generates a lot of strings that need to be thrown away. The following only generates the string we want. It does that by generating the patterns that will produce desirable strings (<code>LDLLLDLL</code>, <code>LDLLLDLD</code>, <code>LDLLLDDL</code>, <code>LDLLDLLL</code>, ...), then builds strings from those patterns.</p>\n\n<p>Efficient algorithm (which doesn't mean the implementation is efficient):</p>\n\n<pre><code>use Algorithm::Loops qw( NestedLoops );\n\nmy @letters = ('A'..'Z', 'a'..'z');\nmy @digits  = ('0'..'9');\n\nsub make_pat_gen_iter {\n   my $raw_pat_gen_iter = NestedLoops([\n      ['L'],\n      ['D'],\n      (['L','D']) x 6,\n   ]);\n\n   return sub {\n      while (1) {\n         my @pat = $raw_pat_gen_iter-&gt;();\n         return () if !@pat;\n\n         my $pat = join('', @pat);\n         next if $pat =~ /L{4}|D{3}/;\n\n         return @pat;\n      }\n   };\n}\n\nsub make_gen_iter {\n   my $pat_gen_iter = make_pat_gen_iter();\n   my @pat;\n\n   my $gen_sub_iter;\n\n   return sub {\n      return () if !$pat_gen_iter;\n\n      while (1) {\n         if (!$gen_sub_iter) {\n            @pat = $pat_gen_iter-&gt;();\n            if (!@pat) {\n               $pat_gen_iter = undef;\n               return ();\n            }\n\n            $gen_sub_iter = NestedLoops([\n               map { $_ eq 'L' ? \\@letters : \\@digits } @pat\n            ]);\n         }\n\n         my @s = $gen_sub_iter-&gt;();\n         if (!@s) {\n            $gen_sub_iter = undef;\n            next;\n         }\n\n         return join('', @s);\n      }\n   };\n}\n\nmy $gen_iter = make_gen_iter();\n\nwhile (defined( my $s = $gen_iter-&gt;() )) {\n   say $s;\n}\n</code></pre>\n\n<p>For fun, the following is the complete result of the pattern iterator:</p>\n\n<pre><code>LDLLLDLL    LDLLLDLD    LDLLLDDL    LDLLDLLL    LDLLDLLD\nLDLLDLDL    LDLLDLDD    LDLLDDLL    LDLLDDLD    LDLDLLLD\nLDLDLLDL    LDLDLLDD    LDLDLDLL    LDLDLDLD    LDLDLDDL\nLDLDDLLL    LDLDDLLD    LDLDDLDL    LDLDDLDD    LDDLLLDL\nLDDLLLDD    LDDLLDLL    LDDLLDLD    LDDLLDDL    LDDLDLLL\nLDDLDLLD    LDDLDLDL    LDDLDLDD    LDDLDDLL    LDDLDDLD\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 414977, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0ab12e09c77b19f21d5bfc84b8dbe099?s=128&d=identicon&r=PG&f=1", "display_name": "user414977", "link": "https://stackoverflow.com/users/414977/user414977"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 27780469, "answer_count": 2, "score": 1, "last_activity_date": 1539123841, "creation_date": 1420461476, "last_edit_date": 1539123841, "question_id": 27779698, "link": "https://stackoverflow.com/questions/27779698/print-alpha-numeric-characters-using-regular-expressions", "title": "Print alpha-numeric characters using regular expressions", "body": "<p>I am new to regular expression.</p>\n\n<p>I need to print all combination  8 characters (alphanumeric) which follow the below pattern.</p>\n\n<ul>\n<li>First character must be alphabetic</li>\n<li>Second characters must be numeric</li>\n<li>Must not have 3 consecutive numeric characters</li>\n<li>Must not have 4 consecutive alphabetic characters</li>\n</ul>\n"}, {"tags": ["perl", "image-processing", "imagemagick", "dpi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1420461592, "post_id": 27777759, "comment_id": 43969211, "body": "Why do you think this is a Perl problem? Does it work if you do <code>imagemagick -set units PixelsPerInch -density 300 in.jpg out.png</code> from outside of Perl?"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1420523926, "post_id": 27777759, "comment_id": 43995208, "body": "If you are using Perl why aren&#39;t you using the <a href=\"https://metacpan.org/pod/Image::Magick\" rel=\"nofollow noreferrer\">Image::Magick Perl module</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "is_accepted": false, "score": 1, "last_activity_date": 1420481736, "creation_date": 1420481736, "answer_id": 27785422, "question_id": 27777759, "link": "https://stackoverflow.com/questions/27777759/jpeg-to-png-conversion-with-300-dpi/27785422#27785422", "title": "JPEG to PNG conversion with 300 DPI", "body": "<p>Adjusting the units &amp; density will not alter the underlining image data, but updates meta info for rendering libraries. Important for vector to raster, but not very useful for raster to raster. To adjust the DPI of an image, use the <a href=\"http://www.imagemagick.org/script/command-line-options.php#resample\" rel=\"nofollow\">-resample</a> operation.</p>\n\n<pre><code>convert source.jpg -resample 300 out.png\n</code></pre>\n\n<p>You verify the DPI resolution with the following...</p>\n\n<pre><code>identify -format \"%[resolution.x] %[resolution.y]\\n\" out.png\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1420490981, "creation_date": 1420490981, "answer_id": 27787656, "question_id": 27777759, "link": "https://stackoverflow.com/questions/27777759/jpeg-to-png-conversion-with-300-dpi/27787656#27787656", "title": "JPEG to PNG conversion with 300 DPI", "body": "<p>I'm wondering where the 72dpi is coming from. Assuming you are using X and some kind of Unix, ImageMagick defaults to using the screen resolution (72 dpi). I'm not sure what it does under OSX/XQuartz but it's likely similar. Is your screen resolution set to 72dpi (!?).</p>\n\n<p>I'm with @emcconville @ikegami - just do this straight from ImageMagick on the commandline - passing the right options to be sure.</p>\n\n<p>There are image manipulation modules that you can use from perl without having to resort to system commands as well such as <a href=\"https://metacpan.org/pod/Imager::Transformations\" rel=\"nofollow\"><code>Imager::Transformations</code></a>, <a href=\"https://metacpan.org/pod/Image::Magick\" rel=\"nofollow\"><code>Image::Magick</code></a>, and <a href=\"https://metacpan.org/pod/GD\" rel=\"nofollow\"><code>GD</code></a>. Here's how to convert with <code>GD</code>.</p>\n\n<pre><code>perl -MGD -E 'my $imgjpg = GD::Image-&gt;newFromJpeg(\"img.jpg\"); \nopen my $imgpng, \"&gt;\", \"img.png\" or die; print $imgpng $imgjpg-&gt;png();'\n</code></pre>\n\n<p>With most image manipulation packages the original resolution show be maintained during conversion - though some (including <code>GD</code>) will default to lower color depths (8 bit) unless passed a Truecolor flag. </p>\n\n<p><em>e.g.</em> <code>GD::Image-&gt;newFromJpeg(\"img.jpg\", 1);</code></p>\n"}], "owner": {"reputation": 31, "user_id": 3099825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rNfSF.jpg?s=128&g=1", "display_name": "Sukumar", "link": "https://stackoverflow.com/users/3099825/sukumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1420490981, "creation_date": 1420454248, "last_edit_date": 1420456407, "question_id": 27777759, "link": "https://stackoverflow.com/questions/27777759/jpeg-to-png-conversion-with-300-dpi", "title": "JPEG to PNG conversion with 300 DPI", "body": "<p>Unable to convert a JPEG image into a 300 DPI PNG image using ImageMagick. </p>\n\n<p>After conversion the PNG image is 72 DPI only. I'm using ImageMagick 6.9.0-0 Q16 x86 and Ghostscript v9.15. </p>\n\n<p>Below is the line I use in my Perl script:</p>\n\n<pre><code> system(\"\\\"$imagemagick\\\" -set units PixelsPerInch -density 300 \\\"$jpg\\\" \\\"$png\\\"\");\n</code></pre>\n"}, {"tags": ["arrays", "perl", "list"], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1420453994, "post_id": 27777612, "comment_id": 43965595, "body": "and don&#39;t forget to enable warnings"}, {"owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 1, "creation_date": 1420454240, "post_id": 27777612, "comment_id": 43965717, "body": "I started using Perl just a few days ago (Btw, blown away by its awesomeness!!), so not familiar with warnings. Some use cases would be great!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 1, "creation_date": 1420454492, "post_id": 27777612, "comment_id": 43965822, "body": "@vervenumen: Just add <code>-w</code> to your original code and see what it tells you."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "reply_to_user": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 0, "creation_date": 1420524370, "post_id": 27777612, "comment_id": 43995351, "body": "@vervenumen Definitely read the <a href=\"http://perldoc.perl.org\" rel=\"nofollow noreferrer\">docs that come with Perl</a> (I originally learned Perl from reading the docs and from the syntax error messages)."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1420456921, "last_edit_date": 1420456921, "creation_date": 1420453762, "answer_id": 27777612, "question_id": 27777587, "link": "https://stackoverflow.com/questions/27777587/perl-how-to-use-map-to-project-an-array-of-pairs-to-an-array-of-first-elements/27777612#27777612", "title": "Perl: How to use map to project an array of pairs to an array of first elements", "body": "<p>You have to dereference the references:</p>\n\n<pre><code>perl -e '@A = ([1, 2], [3, 4]); @B = map { $_-&gt;[0] } @A; print @B'\n                                             ^^\n</code></pre>\n\n<p>Check    </p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">http://perldoc.perl.org/perlref.html</a></li>\n<li><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">http://perldoc.perl.org/perlreftut.html</a></li>\n</ul>\n"}], "owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 27777612, "answer_count": 1, "score": 0, "last_activity_date": 1420456921, "creation_date": 1420453682, "question_id": 27777587, "link": "https://stackoverflow.com/questions/27777587/perl-how-to-use-map-to-project-an-array-of-pairs-to-an-array-of-first-elements", "title": "Perl: How to use map to project an array of pairs to an array of first elements", "body": "<p>I have this simple code:</p>\n\n<pre><code> perl -e '@A=([1,2],[3,4]); @B=map {$_[0]} @A; print @B'\n</code></pre>\n\n<p>My goal is to do the transformation:</p>\n\n<pre><code>([1,2],[3,4]) -&gt; (1,3)\n</code></pre>\n\n<p>The code gives no output. What am I doing wrong here?</p>\n"}, {"tags": ["perl", "string-substitution"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1420441602, "post_id": 27774712, "comment_id": 43960358, "body": "<code>s|&#47;x&#47;y&#47;z||</code> or <code>s!&#47;x&#47;y&#47;z!!</code> would be more common variant."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1420443943, "post_id": 27774712, "comment_id": 43961144, "body": "Using <code>|</code> is pretty rare, actually , since <code>|</code> is quite often needed in patterns. <code>s{}{}</code> is probably the second most common after <code>s&#47;&#47;&#47;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 3, "last_activity_date": 1420441000, "creation_date": 1420441000, "answer_id": 27774750, "question_id": 27774712, "link": "https://stackoverflow.com/questions/27774712/substitution-operator-in-perl/27774750#27774750", "title": "Substitution operator in Perl", "body": "<p>That means: replace <code>/x/y/z</code> with nothing.</p>\n\n<p>For exmaple: If you have a strng like <code>/a/b/x/y/z</code> the result will be <code>/a/b</code></p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 1, "creation_date": 1420441456, "post_id": 27774789, "comment_id": 43960305, "body": "@F.Hauri Thanks. I&#39;m assuming what the OP is asking about is the change of delimiter, not the general use of <code>=~</code>.  If I&#39;m wrong, I will add more about that."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1420441227, "creation_date": 1420441227, "answer_id": 27774789, "question_id": 27774712, "link": "https://stackoverflow.com/questions/27774712/substitution-operator-in-perl/27774789#27774789", "title": "Substitution operator in Perl", "body": "<p>You can use non-whitespace any character as a delimiter; here, instead of the most common <code>/</code> (<code>s/foo/bar/</code>), the delimiter is <code>:</code> (s:foo:bar:), because what you are substituting has slash characters and if you used a slash delimiter, you'd have to escape them (<code>s/\\/x\\/y\\/z//</code>) which many people consider ugly.</p>\n\n<p>So your expression is simply removing the first <code>/x/y/z</code> from <code>$tmp</code>.</p>\n"}], "owner": {"reputation": 193, "user_id": 1947184, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0544da40622d4982e36984a270599a00?s=128&d=identicon&r=PG", "display_name": "psychorama", "link": "https://stackoverflow.com/users/1947184/psychorama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1420441227, "creation_date": 1420440778, "question_id": 27774712, "link": "https://stackoverflow.com/questions/27774712/substitution-operator-in-perl", "title": "Substitution operator in Perl", "body": "<p>I am new to perl. I have the following substitution expression:</p>\n\n<pre><code>$tmp =~ s:/x/y/z::;\n</code></pre>\n\n<p>I have searched a lot for it but couldn't find a similar expression. \nWhat does it mean?</p>\n"}, {"tags": ["forms", "perl", "formmail"], "answers": [{"comments": [{"owner": {"reputation": 3848, "user_id": 1259865, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pK46m.png?s=128&g=1", "display_name": "Asqan", "link": "https://stackoverflow.com/users/1259865/asqan"}, "edited": false, "score": 0, "creation_date": 1420432336, "post_id": 27773290, "comment_id": 43957672, "body": "Yes, you are right but as far as i know nms formmail should normally consider inputs others than text box."}, {"owner": {"reputation": 724, "user_id": 4112054, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I7Mtr.jpg?s=128&g=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/4112054/paddy"}, "reply_to_user": {"reputation": 3848, "user_id": 1259865, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pK46m.png?s=128&g=1", "display_name": "Asqan", "link": "https://stackoverflow.com/users/1259865/asqan"}, "edited": false, "score": 0, "creation_date": 1420435338, "post_id": 27773290, "comment_id": 43958417, "body": "in that case try adding a name variable to your checkbox&#39;s  so &lt;input type=&quot;checkbox&quot; name=&quot;checkbox1&quot;&gt;  etc"}], "tags": [], "owner": {"reputation": 724, "user_id": 4112054, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I7Mtr.jpg?s=128&g=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/4112054/paddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1420430974, "creation_date": 1420430974, "answer_id": 27773290, "question_id": 27773187, "link": "https://stackoverflow.com/questions/27773187/checkbox-not-working-in-nms-formmail/27773290#27773290", "title": "Checkbox not working in nms formmail", "body": "<p>I believe this would be the nms script issue. Without looking at nms in detail here is what should happen.</p>\n\n<p>On Submit, all your data inside the form should go to the pearl script.</p>\n\n<p>However there needs to be functions in the pearl script that gets the data from the form. </p>\n\n<p>Then the pearl script will assign that data to a variable or output that would then be processed by a mailing function. </p>\n\n<p>So what you are looking for is the part in the pearl script where it gets the form information in order to send it via email, and make sure that your checkbox's are included. </p>\n\n<p>*also as a side note, there seems to be a  in the wrong place just after the email input</p>\n"}, {"comments": [{"owner": {"reputation": 3848, "user_id": 1259865, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pK46m.png?s=128&g=1", "display_name": "Asqan", "link": "https://stackoverflow.com/users/1259865/asqan"}, "edited": false, "score": 0, "creation_date": 1420464011, "post_id": 27778345, "comment_id": 43970643, "body": "i asked this question to them right now, thanks. Once i receive the answer -if nobody answered yet- i will post it here."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1420456446, "creation_date": 1420456446, "answer_id": 27778345, "question_id": 27773187, "link": "https://stackoverflow.com/questions/27773187/checkbox-not-working-in-nms-formmail/27778345#27778345", "title": "Checkbox not working in nms formmail", "body": "<p>The nms formmail program handles all kinds of HTML form inputs without problems. If you want more help with this issue, please feel free to contact the project using our support email address - nms-cgi-support@lists.sf.net.</p>\n"}], "owner": {"reputation": 3848, "user_id": 1259865, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pK46m.png?s=128&g=1", "display_name": "Asqan", "link": "https://stackoverflow.com/users/1259865/asqan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1420456446, "creation_date": 1420430099, "question_id": 27773187, "link": "https://stackoverflow.com/questions/27773187/checkbox-not-working-in-nms-formmail", "title": "Checkbox not working in nms formmail", "body": "<p>I use <a href=\"http://nms-cgi.sourceforge.net/\" rel=\"nofollow\">nms's FormMail script</a> for my form as follows:</p>\n\n<pre><code>&lt;form method=POST action=\"/cgi-bin/FormMail.pl\"&gt;\n            &lt;input type=hidden name=\"recipient\" value=\"mail@hotmail.com\"&gt;\n            &lt;input type=hidden name=\"subject\" value=\"subject\"&gt;\n            &lt;input type=hidden name=\"redirect\" value=\"-\"&gt;\n            &lt;p&gt;First Name:&lt;input type=\"text\" name=\"FirstName\" /&gt;&lt;/p&gt;\n            &lt;p&gt;Last Name:&lt;input type=\"text\" name=\"LastName\" /&gt;&lt;/p&gt;\n            &lt;p&gt;E-Mail:&lt;input type=\"text\" name=\"email\" /&gt;&lt;/p&gt;\n&lt;/label&gt;\n\n  &lt;input id=\"checkbox1\" type=\"checkbox\"&gt;&lt;label for=\"checkbox1\"&gt;Printing\n\n  &lt;/label&gt;\n\n  &lt;input id=\"checkbox2\" type=\"checkbox\"&gt;&lt;label for=\"checkbox2\"&gt;Web Development\n\n  &lt;/label&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>I receive the mail with first and last name but that doesn't contain any info about e-mail input or checkboxes.</p>\n\n<p>What is wrong with this? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420430727, "post_id": 27772900, "comment_id": 43957334, "body": "In order to <i>format</i> code, indent it four spaces. The code is highlighted based upon the tag too."}, {"owner": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 0, "creation_date": 1420448373, "post_id": 27772900, "comment_id": 43962843, "body": "You can also highlight the code after pasting it and press ctrl-k."}], "answers": [{"tags": [], "owner": {"reputation": 182823, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "is_accepted": false, "score": 5, "last_activity_date": 1420427493, "creation_date": 1420427493, "answer_id": 27772919, "question_id": 27772900, "link": "https://stackoverflow.com/questions/27772900/srand-function-in-perl-not-giving-correct-range-of-values/27772919#27772919", "title": "srand function in perl not giving correct range of values", "body": "<blockquote>\n  <p>Shouldn't the random number be something between 45 and 50?</p>\n</blockquote>\n\n<p>No. <code>srand</code> sets the seed of the random number generator (and I suggest you not modify the seed if you don't know what you're doing), it does nothing to the range. It sounds like you really wanted something like</p>\n\n<pre><code>$int = 45 + rand(5);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 1, "creation_date": 1420525472, "post_id": 27773439, "comment_id": 43995697, "body": "<code>(45..50)[ rand 6 ]</code> would also work and would be similar to the Perl6 construct <code>(45..50).roll</code> (<code>.pick</code> also works in this instance). In this case I would advise against it in Perl5 as it uses more memory and is likely slower, but it can be useful if you are choosing from a non-continuous range such as <code>(&#39;A&#39;,2..10,&#39;J&#39;,&#39;Q&#39;,&#39;K&#39;)[ rand 13 ]</code>"}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": true, "score": 7, "last_activity_date": 1420463686, "last_edit_date": 1420463686, "creation_date": 1420432230, "answer_id": 27773439, "question_id": 27772900, "link": "https://stackoverflow.com/questions/27772900/srand-function-in-perl-not-giving-correct-range-of-values/27773439#27773439", "title": "srand function in perl not giving correct range of values", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/srand.html\" rel=\"nofollow\">srand</a> <strong><em>seeds</em></strong> the random number generator. Random numbers in most programming languages aren't truly random, but that's okay for most purposes. Setting a seed will allow the random number sequence to repeat over and over. From the Perldoc:</p>\n\n<blockquote>\n  <p>[T]here are a few situations where programs are likely to want to call <code>srand</code>. One is for generating predictable results, generally for testing or debugging. There, you use <code>srand($seed)</code>, with the same <code>$seed</code> each time.</p>\n</blockquote>\n\n<p>Here's a sample program:</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;             # Lets you know when you misspell variable names\nuse warnings;           # Warns of issues (using undefined variables\n\nuse feature qw(say);\n\nsrand 10;\nfor my $count ( (1..6) ) {\n    say rand 10;\n}\n</code></pre>\n\n<p>Every time I run it, I get:</p>\n\n<pre><code>$ test.pl\n8.78851122762175\n7.95806622921617\n4.80827281057042\n5.25673258208322\n4.59162474505394\n9.45475794360377\n</code></pre>\n\n<p>Over and over. That's because I'm using the same <em>seed</em> each time, allowing the random number function to repeat over and over. This can be useful in testing.</p>\n\n<p>Get rid of that <code>srand 10</code> line, and the program generates a different sequence of random numbers each time.</p>\n\n<p>According to Perldoc <a href=\"http://perldoc.perl.org/functions/rand.html\" rel=\"nofollow\">rand</a>:</p>\n\n<blockquote>\n  <p>Returns a random fractional number greater than or equal to 0 and less than the value of EXPR, [the argument given]. EXPR should be positive.</p>\n</blockquote>\n\n<p>It continues:</p>\n\n<blockquote>\n  <p>Apply <code>int()</code> to the value returned by <code>rand()</code> if you want random integers instead of random fractional numbers. For example, <code>int(rand(10))</code> returns a random integer between <code>0</code> and <code>9</code> , inclusive.</p>\n</blockquote>\n\n<p>So, <code>rand 50</code> returns a value between 0 and 50 (but not 50). Saying, <code>int( rand 50 )</code> will return an <em>integer</em> between 0 and 49. If I want a number between 45 and 50, I would have to first decide if 50 should be one of the numbers I want. If it is, I need a range of six numbers (45, 46, 47, 48, 49, 50). Thus, I want to use <code>int( rand 6 )</code> to give me an integer between 0 and 5. Then I want to add 45 to that to give me a range of 45 to give me a range of 45 to 50:</p>\n\n<pre><code>say 45 + int( rand 6 );\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 27773439, "answer_count": 2, "score": 4, "last_activity_date": 1420463686, "creation_date": 1420427277, "last_edit_date": 1420430682, "question_id": 27772900, "link": "https://stackoverflow.com/questions/27772900/srand-function-in-perl-not-giving-correct-range-of-values", "title": "srand function in perl not giving correct range of values", "body": "<p>I am trying to use srand function in perl but seems that its not setting the seed value every often</p>\n\n<pre><code>#!/usr/bin/perl\nsrand(45);\n$int = rand(50);\nprint \"random integer is $int\\n\";\n\n[root@localhost cookbook]# perl p2.7.pl \nrandom integer is 17.8465963028886\n</code></pre>\n\n<p>Shouldn't the random number be something between 45 and 50?</p>\n"}, {"tags": ["perl", "heroku", "mojo", "hypnotoad"], "comments": [{"owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1421079787, "post_id": 27771510, "comment_id": 44212013, "body": "What is the output of &quot;mojo version&quot; command?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1421099160, "post_id": 27771510, "comment_id": 44222069, "body": "It&#39;s whatever I decide to install. I&#39;m using 5.71."}, {"owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1421117207, "post_id": 27771510, "comment_id": 44227580, "body": "The interesting part of `mojo version&#39; output is what optional modules are installed"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1421117784, "post_id": 27771510, "comment_id": 44227717, "body": "Do you suspect something particular? Besides Perl 5.16, it&#39;s just Mojolicious 5.71. Nothing else. Have you used Heroku?"}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1421099132, "post_id": 27898742, "comment_id": 44222059, "body": "You&#39;ll notice I did do logging. This is a wild guess that isn&#39;t at all helpful. I prefer answers that aren&#39;t guesses."}, {"owner": {"reputation": 12324, "user_id": 14132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579c95ecf03cf9f61e5e6637e57feebe?s=128&d=identicon&r=PG", "display_name": "moritz", "link": "https://stackoverflow.com/users/14132/moritz"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1421311238, "post_id": 27898742, "comment_id": 44312799, "body": "Ok, in future I&#39;ll refrain from answering you unless I&#39;m sure its the right answer."}], "tags": [], "owner": {"reputation": 12324, "user_id": 14132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/579c95ecf03cf9f61e5e6637e57feebe?s=128&d=identicon&r=PG", "display_name": "moritz", "link": "https://stackoverflow.com/users/14132/moritz"}, "is_accepted": false, "score": 5, "last_activity_date": 1421054819, "creation_date": 1421054819, "answer_id": 27898742, "question_id": 27771510, "link": "https://stackoverflow.com/questions/27771510/why-is-my-use-of-hypnotoad-crashing-on-heroku/27898742#27898742", "title": "Why is my use of hypnotoad crashing on Heroku?", "body": "<p>This is really just a wild guess, but maybe the heroku infrastructure doesn't expect the runner to terminate? If so, you could try to start hypnotoad with <code>--foreground</code> or <code>-f</code>.</p>\n\n<p>Also, you could try to do some logging from inside the application to see if it ever runs it at all.</p>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1421150043, "post_id": 27917380, "comment_id": 44240173, "body": "This didn&#39;t work for me. I&#39;ve updated the post with logs. Did you get yours to work? Can you show <i>mojocrashtest</i>?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1421153339, "post_id": 27917380, "comment_id": 44242050, "body": "Okay, not deploying through mojo works. There&#39;s must be something in  Mojolicious::Command::deploy::heroku that&#39;s not working correctly. That&#39;s the tiny bit that was missing in all of this."}], "tags": [], "owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "is_accepted": false, "score": 4, "last_activity_date": 1421151360, "last_edit_date": 1421151360, "creation_date": 1421136100, "answer_id": 27917380, "question_id": 27771510, "link": "https://stackoverflow.com/questions/27771510/why-is-my-use-of-hypnotoad-crashing-on-heroku/27917380#27917380", "title": "Why is my use of hypnotoad crashing on Heroku?", "body": "<p>After some testing I found a way to run hypnotoad on heroku</p>\n\n<p><strong>1. Perloku content should looks like this</strong></p>\n\n<pre><code>#!/bin/sh\nperl /app/vendor/perl-deps/bin/hypnotoad -f mojocrashtest\n</code></pre>\n\n<p><em>Description</em></p>\n\n<p>First of all we need to explicity call perl. Because</p>\n\n<pre><code>heroku run bash\nhead /app/vendor/perl-deps/bin/hypnotoad\n</code></pre>\n\n<p>shows</p>\n\n<pre><code>#!/tmp/perl/perls/perl-5.18.1/bin/perl\n\neval 'exec /tmp/perl/perls/perl-5.18.1/bin/perl  -S $0 ${1+\"$@\"}'\n    if 0; # not running under some shell\n</code></pre>\n\n<p>where <code>/tmp/perl/perls/perl-5.18.1/bin/perl</code> doesn't exists. So, <code>/app/vendor/perl-deps/bin/hypnotoad</code> will not start, but <code>perl /app/vendor/perl-deps/bin/hypnotoad</code> will be ok.</p>\n\n<p>Then we need key <code>-f</code> for hypnotoad as @moritz guessed. Otherwise heroku will think that your app finished unexpectedly.</p>\n\n<p><strong>2. You should start hypnotoad on port $ENV{PORT}</strong></p>\n\n<p>For <code>Mojolicious::Lite</code> you just need to write something like this at the top of your app:</p>\n\n<pre><code>plugin Config =&gt; {default =&gt; {hypnotoad =&gt; {listen =&gt; [\"http://*:$ENV{PORT}\"]}}};\n</code></pre>\n\n<p>For full app you can do it inside the <code>startup</code> handler.</p>\n\n<p><strong>3. heroku open</strong>\n<hr>\nAnd this is a full code of Mojolicious::Lite application</p>\n\n<pre><code>#!/usr/bin/env perl\n# today\nuse Mojolicious::Lite;\n\nplugin Config =&gt; {default =&gt; {hypnotoad =&gt; {listen =&gt; [\"http://*:$ENV{PORT}\"]}}};\n\nget '/' =&gt; sub {\n    my $c = shift;\n\n    my $content = \"Perl: $^X Pid: $$\\n\\n\";\n    foreach my $key ( keys %ENV ) {\n        next unless $key =~ /Mojo|toad/i;\n        $content .= \"$key $ENV{$key}\\n\";\n        }\n\n    $c-&gt;stash( content =&gt; $content );\n\n    $c-&gt;render('index');\n    };\n\napp-&gt;start;\n\n__DATA__\n\n@@ index.html.ep\n% layout 'default';\n% title 'Welcome';\n&lt;p&gt;Welcome to the Mojolicious real-time web framework!&lt;/p&gt;\n\n&lt;pre&gt;\n&lt;%= $content %&gt;\n&lt;/pre&gt;\n\n@@ layouts/default.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>heroku logs</p>\n\n<pre><code>2015-01-13T12:08:04.843204+00:00 heroku[web.1]: Starting process with command `./Perloku`\n2015-01-13T12:08:06.019070+00:00 app[web.1]: Server available at http://127.0.0.1:13533.\n2015-01-13T12:08:06.018899+00:00 app[web.1]: [Tue Jan 13 12:08:06 2015] [info] Listening at \"http://*:13533\".\n2015-01-13T12:08:06.019035+00:00 app[web.1]: [Tue Jan 13 12:08:06 2015] [info] Manager 3 started.\n2015-01-13T12:08:06.055437+00:00 app[web.1]: [Tue Jan 13 12:08:06 2015] [info] Creating process id file \"/app/hypnotoad.pid\".\n2015-01-13T12:08:06.412283+00:00 heroku[web.1]: State changed from starting to up\n2015-01-13T12:08:08.040072+00:00 heroku[router]: at=info method=GET path=\"/\" host=floating-temple-3676.herokuapp.com request_id=e9f9bb4d-f71f-4b4c-a129-70faf044c38b fwd=194\" dyno=web.1 connect=3ms service=34ms status=200 bytes=586\n2015-01-13T12:08:08.029819+00:00 app[web.1]: Use of uninitialized value in concatenation (.) or string at /app/mojocrashtest line 13, &lt;DATA&gt; line 39.\n2015-01-13T12:08:08.029836+00:00 app[web.1]: Use of uninitialized value in concatenation (.) or string at /app/mojocrashtest line 13, &lt;DATA&gt; line 39.\n2015-01-13T12:08:08.029839+00:00 app[web.1]: Use of uninitialized value in concatenation (.) or string at /app/mojocrashtest line 13, &lt;DATA&gt; line 39.\n2015-01-13T12:08:08.029842+00:00 app[web.1]: Use of uninitialized value in concatenation (.) or string at /app/mojocrashtest line 13, &lt;DATA&gt; line 39.\n</code></pre>\n\n<p>URL for my app: <a href=\"http://floating-temple-3676.herokuapp.com/\" rel=\"nofollow\">http://floating-temple-3676.herokuapp.com/</a><br>\nBTW, I didn't use <code>mojo deploy</code>, just <code>git</code></p>\n"}, {"comments": [{"owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1421155476, "post_id": 27923106, "comment_id": 44243269, "body": "And how about $PORT? Don&#39;t you need to specify on which port hypnotoad should listen?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1421189423, "post_id": 27923106, "comment_id": 44263552, "body": "Ah, yes I&#39;ll fix that up"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 5, "last_activity_date": 1421208992, "last_edit_date": 1495541871, "creation_date": 1421155059, "answer_id": 27923106, "question_id": 27771510, "link": "https://stackoverflow.com/questions/27771510/why-is-my-use-of-hypnotoad-crashing-on-heroku/27923106#27923106", "title": "Why is my use of hypnotoad crashing on Heroku?", "body": "<p><a href=\"https://stackoverflow.com/a/27917380/2766176\">Oleg answers the question</a>, but there are some pieces missing in the assumptions.</p>\n\n<p>First, create a new heroku app and remember the name of the app:</p>\n\n<pre><code>$ heroku create\n Creating vast-spire-6174... done, stack is cedar-14\n https://vast-spire-6174.herokuapp.com/ | https://git.heroku.com/vast-spire-6174.git\n</code></pre>\n\n<p>Next, add the Perloku build pack:</p>\n\n<pre><code>$ heroku config:add BUILDPACK_URL=https://github.com/judofyr/perloku.git\n</code></pre>\n\n<p>Create the git repo and setup on Heroku:</p>\n\n<pre><code>$ mkdir testapp\n$ cd testapp\n$ git init\n$ heroku git:remote -a vast-spire-6174\n</code></pre>\n\n<p>To make everything work, you need a <em>Perloku</em> file to start <code>hypnotoad</code> in the foreground. You have to specify <code>perl</code> explicity because the shebang line in <code>hypnotoad</code> refers to the temp location of <code>perl</code> when it was built and where it no longer is. Change <em>myapp.pl</em> to whatever you named your application.</p>\n\n<pre><code>#!/bin/sh\n/app/vendor/perl/bin/perl /app/vendor/perl-deps/bin/hypnotoad -f myapp.pl\n</code></pre>\n\n<p>To get everything installed, you use a standard <em>Makefile.PL</em>. Specify Mojolicious as one of the prerequisites:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse ExtUtils::MakeMaker;\n\nWriteMakefile(\n  VERSION   =&gt; '0.01',\n  PREREQ_PM =&gt; {'Mojolicious' =&gt; '5.72'},\n  test      =&gt; {TESTS =&gt; 't/*.t'}\n);\n</code></pre>\n\n<p>Finally, the app itself, which you can create with <code>mojo</code> (which calls is <em>myapp.ppl</em>)</p>\n\n<pre><code>$ mojo generate lite_app\n</code></pre>\n\n<p>Here's the generated source:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Mojolicious::Lite;\n\n# Documentation browser under \"/perldoc\"\nplugin 'PODRenderer';\n\nget '/' =&gt; sub {\n  my $c = shift;\n  $c-&gt;render('index');\n};\n\napp-&gt;start;\n__DATA__\n\n@@ index.html.ep\n% layout 'default';\n% title 'Welcome';\nWelcome to the Mojolicious real-time web framework!\n\n@@ layouts/default.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You have to modify the basic program since hypnotoad needs a bit of configuration (where the default server does not):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Mojolicious::Lite;\n\n# Documentation browser under \"/perldoc\"\nplugin 'PODRenderer';\n\nplugin Config =&gt; {\n    default =&gt; {\n        hypnotoad =&gt; {\n            listen =&gt; [\"http://*:$ENV{PORT}\"]\n            }\n        }\n    };\n\nget '/' =&gt; sub {\n  my $c = shift;\n  $c-&gt;render('index');\n};\n\napp-&gt;start;\n__DATA__\n\n@@ index.html.ep\n% layout 'default';\n% title 'Welcome';\nWelcome to the Mojolicious real-time web framework!\n\n@@ layouts/default.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Once you have all the files, commit them, and push to the heroku branch.</p>\n\n<pre><code>$ git add .\n$ git commit -am \"make it better\"\n$ git push heroku master\n</code></pre>\n\n<p>When you push, a hook will start up everything.</p>\n\n<pre><code>Counting objects: 7, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (7/7), done.\nWriting objects: 100% (7/7), 1.14 KiB | 0 bytes/s, done.\nTotal 7 (delta 0), reused 0 (delta 0)\nremote: Compressing source files... done.\nremote: Building source:\nremote:\nremote: -----&gt; Fetching custom git buildpack... done\nremote: -----&gt; Perloku app detected\nremote: -----&gt; Vendoring Perl\nremote:        Using Perl 5.18.1\nremote: -----&gt; Installing dependencies\nremote:        --&gt; Working on /tmp/build_a73f24f0619fa2ab299586098c5e8daf\nremote:        Configuring /tmp/build_a73f24f0619fa2ab299586098c5e8daf ... OK\nremote:        ==&gt; Found dependencies: Mojolicious\nremote:        --&gt; Working on Mojolicious\nremote:        Fetching http://www.cpan.org/authors/id/S/SR/SRI/Mojolicious-5.72.tar.gz ... OK\nremote:        Configuring Mojolicious-5.72 ... OK\nremote:        ==&gt; Found dependencies: IO::Socket::IP\nremote:        --&gt; Working on IO::Socket::IP\nremote:        Fetching http://www.cpan.org/authors/id/P/PE/PEVANS/IO-Socket-IP-0.36.tar.gz ... OK\nremote:        Configuring IO-Socket-IP-0.36 ... OK\nremote:        Building IO-Socket-IP-0.36 ... OK\nremote:        Successfully installed IO-Socket-IP-0.36\nremote:        Building Mojolicious-5.72 ... OK\nremote:        Successfully installed Mojolicious-5.72\nremote:        &lt;== Installed dependencies for /tmp/build_a73f24f0619fa2ab299586098c5e8daf. Finishing.\nremote:        2 distributions installed\nremote:        Dependencies installed\nremote: -----&gt; Discovering process types\nremote:        Procfile declares types   -&gt; (none)\nremote:        Default types for Perloku -&gt; web\nremote:\nremote: -----&gt; Compressing... done, 14.1MB\nremote: -----&gt; Launching... done, v5\nremote:        https://vast-spire-6174.herokuapp.com/ deployed to Heroku\nremote:\nremote: Verifying deploy... done.\nTo https://git.heroku.com/vast-spire-6174.git\n * [new branch]      master -&gt; master\n</code></pre>\n\n<p>The URL of your application shows up toward the end of the output.</p>\n\n<p>Why this was working for me before I don't know. I was letting a mojo command deploy for me, so there could be something to investigate there. However, it's a bit easier to commit and push without the intermediary.</p>\n"}], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 3, "accepted_answer_id": 27923106, "answer_count": 3, "score": 8, "last_activity_date": 1421208992, "creation_date": 1420414141, "last_edit_date": 1421153488, "question_id": 27771510, "link": "https://stackoverflow.com/questions/27771510/why-is-my-use-of-hypnotoad-crashing-on-heroku", "title": "Why is my use of hypnotoad crashing on Heroku?", "body": "<p>I'm trying to get hypnotoad with a <a href=\"http://mojolicio.us/perldoc/Mojolicious/Lite\" rel=\"nofollow\">Mojolicious::Lite</a> app running on <a href=\"https://www.heroku.com/\" rel=\"nofollow\">Heroku</a> with <a href=\"https://github.com/judofyr/perloku\" rel=\"nofollow\">Perloku</a>. There's something that doesn't happen when <a href=\"http://mojolicio.us/perldoc/Mojo/Server/Hypnotoad\" rel=\"nofollow\">hypnotoad</a> gets into its run loop that causes it to crash. I figure I'm missing something simple, but the Heroku docs haven't helped and I haven't been able to coax good error messages out of this. </p>\n\n<p>I start with a very simple application so show some environment variables:</p>\n\n<pre><code>#!/usr/bin/env perl\n# today\nuse Mojolicious::Lite;\n\nget '/' =&gt; sub {\n    my $c = shift;\n\n    my $content = \"Perl: $^X Pid: $$\\n\\n\";\n    foreach my $key ( keys %ENV ) {\n        next unless $key =~ /Mojo|toad/i;\n        $content .= \"$key $ENV{$key}\\n\";\n        }\n\n    $c-&gt;stash( content =&gt; $content );\n\n    $c-&gt;render('index');\n    };\n\napp-&gt;start;\n\n__DATA__\n\n@@ index.html.ep\n% layout 'default';\n% title 'Welcome';\n&lt;p&gt;Welcome to the Mojolicious real-time web framework!&lt;/p&gt;\n\n&lt;pre&gt;\n&lt;%= $content %&gt;\n&lt;/pre&gt;\n\n@@ layouts/default.html.ep\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I run this locally, I have no problem. I see from the environment variables that my program is run under hypnotoad:</p>\n\n<pre><code>Welcome to the Mojolicious real-time web framework!\n\nPerl: /Users/brian/Dropbox/bin/perls/perl5.20.0 Pid: 40006\n\nHYPNOTOAD_PID 39981\nMOJO_HELP \nHYPNOTOAD_TEST \nHYPNOTOAD_EXE /Users/brian/bin/perls/hypnotoad5.20.0\nMOJO_REUSE 0.0.0.0:8080:6\nHYPNOTOAD_REV 3\nHYPNOTOAD_APP /Users/brian/Desktop/toady.d/toady\nMOJO_MODE production\nMOJO_HOME\nHYPNOTOAD_STOP \nHYPNOTOAD_FOREGROUND\n</code></pre>\n\n<p>Now, I deploy this with <a href=\"http://www.metacpan.org/module/Mojolicious::Command::deploy::heroku\" rel=\"nofollow\">Mojolicious::Command::deploy::heroku</a>:</p>\n\n<pre><code>% toady deploy heroku --create\n</code></pre>\n\n<p>This is running at <a href=\"https://frozen-brushlands-4002.herokuapp.com\" rel=\"nofollow\">https://frozen-brushlands-4002.herokuapp.com</a>, using the default Perloku file:</p>\n\n<pre><code>#!/bin/sh\n./toady daemon --listen http://*:$PORT --mode production\n</code></pre>\n\n<p>This isn't running hypnotoad though, despite some references I've seen that says that's what I should get. The application works, though:</p>\n\n<pre><code>Welcome to the Mojolicious real-time web framework!\n\nPerl: /app/vendor/perl/bin/perl Pid: 3\n\nMOJO_REUSE 0.0.0.0:12270:4\nMOJO_HOME \nMOJO_HELP \nMOJO_MODE production\nMOJO_EXE ./toady\n</code></pre>\n\n<p>I figured I could just change the Perloku file to start hypnotoad:</p>\n\n<pre><code>#!/bin/sh\n/app/vendor/perl/bin/perl /app/vendor/perl-deps/bin/hypnotoad toady\n</code></pre>\n\n<p>hypnotoad starts and almost immediately shuts down with no other log messages:</p>\n\n<pre><code>% heroku logs --app ...\n2015-01-04T09:23:36.516864+00:00 heroku[web.1]: Starting process with command `./Perloku`\n2015-01-04T09:23:38.321628+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n\n<p>I can change the invocation to use the <code>-t</code> to test the app to see if :</p>\n\n<pre><code>#!/bin/sh\n/app/vendor/perl/bin/perl /app/vendor/perl-deps/bin/hypnotoad -t toady\n</code></pre>\n\n<p>That works and I get the \"Everything looks good!\" message, so hypnotoad is running:</p>\n\n<pre><code>2015-01-04T09:36:36.955680+00:00 heroku[web.1]: Starting process with command `./Perloku`\n2015-01-04T09:36:38.340717+00:00 app[web.1]: Everything looks good!\n2015-01-04T09:36:39.085887+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n\n<p>I turn on Mojo debug logging, but I don't see additional output other than my own statements.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse Mojolicious::Lite;\n\n$|++;\n\nmy $log = app-&gt;log;\n\n$log-&gt;level( 'debug' );\n\n$log-&gt;debug( \"INC: @INC\" );\n\nget '/' =&gt; sub {\n    ...;\n    };\n\n$log-&gt;debug( \"Right before start\" );\nmy $app = app-&gt;start;\n$log-&gt;debug( \"Right after start\" );\n\n$app; # must return application object\n</code></pre>\n\n<p>I tried other things, such as making it load a module I know is not there and I get the expected \"Could not find\" error in the logs.</p>\n\n<p>Running from the shell in heroku (<code>heroku run bash</code>) was not illuminating. The output of <code>mojo version</code> is the same as on my local machine:</p>\n\n<pre><code>$ perl vendor/perl-deps/bin/mojo version\nCORE\n  Perl        (v5.16.2, linux)\n  Mojolicious (5.71, Tiger Face)\n\nOPTIONAL\n  EV 4.0+                 (n/a)\n  IO::Socket::Socks 0.64+ (n/a)\n  IO::Socket::SSL 1.84+   (n/a)\n  Net::DNS::Native 0.15+  (n/a)\n\nYou might want to update your Mojolicious to 5.72.\n</code></pre>\n\n<p>I figure there's something really simple that I'm missing, but at the same time, none of this is architected for easy debugging.</p>\n\n<hr/>\n\n<p>Oleg gets a little closer, but there are still problems. I had tried the foreground option before and run into the same problems but failed to mention it.</p>\n\n<p>If I start hypnotoad in the foreground, it tries to bind to an address. It can't bind to port 80 (or 443) and crashes, and it can listen to 127.0.0.1: almost, but it looks like it fails to completely listen:</p>\n\n<pre><code>2015-01-13T11:47:54+00:00 heroku[slug-compiler]: Slug compilation started\n2015-01-13T11:48:32+00:00 heroku[slug-compiler]: Slug compilation finished\n2015-01-13T11:48:32.735095+00:\n00 heroku[api]: Deploy dcab778 by ...\n2015-01-13T11:48:32.735095+00:00 heroku[api]: Release v31 created by ...\n2015-01-13T11:48:32.969489+00:00 heroku[web.1]: State changed from crashed to starting\n2015-01-13T11:48:34.909134+00:00 heroku[web.1]: Starting process with command `./Perloku`\n2015-01-13T11:48:36.045985+00:00 app[web.1]: Can't create listen socket: Permission denied at /app/vendor/perl-deps/lib/perl5/Mojo/IOLoop.pm line 120.\n2015-01-13T11:48:36.920004+00:00 heroku[web.1]: Process exited with status 13\n2015-01-13T11:48:36.932014+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n\n<p>Here's with an unprivileged port:</p>\n\n<pre><code>2015-01-13T11:39:10+00:00 heroku[slug-compiler]: Slug compilation started\n2015-01-13T11:39:44+00:00 heroku[slug-compiler]: Slug compilation finished\n2015-01-13T11:39:44.519679+00:00 heroku[api]: Deploy bbd1f68 by ...\n2015-01-13T11:39:44.519679+00:00 heroku[api]: Release v29 created by ...\n2015-01-13T11:39:44.811111+00:00 heroku[web.1]: State changed from crashed to starting\n2015-01-13T11:39:47.382298+00:00 heroku[web.1]: Starting process with command `./Perloku`\n2015-01-13T11:39:48.454706+00:00 app[web.1]: [Tue Jan 13 11:39:48 2015] [info] Listening at \"http://*:8000\".\n2015-01-13T11:39:48.454733+00:00 app[web.1]: Server available at http://127.0.0.1:8000.\n2015-01-13T11:39:48.454803+00:00 app[web.1]: [Tue Jan 13 11:39:48 2015] [info] Manager 3 started.\n2015-01-13T11:39:48.480084+00:00 app[web.1]: [Tue Jan 13 11:39:48 2015] [info] Creating process id file \"/app/hypnotoad.pid\".\n2015-01-13T11:40:47.703110+00:00 heroku[web.1]: Stopping process with SIGKILL\n2015-01-13T11:40:47.702867+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 60 seconds of launch\n2015-01-13T11:40:48.524470+00:00 heroku[web.1]: Process exited with status 137\n2015-01-13T11:40:48.534002+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n"}, {"tags": ["perl", "hash", "initialization"], "comments": [{"owner": {"reputation": 179, "user_id": 1237081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8720d73dbe05f384345414f94d3a56cd?s=128&d=identicon&r=PG", "display_name": "David Levner", "link": "https://stackoverflow.com/users/1237081/david-levner"}, "edited": false, "score": 0, "creation_date": 1420412314, "post_id": 27771053, "comment_id": 43953627, "body": "I tried choroba&#39;s solution and it worked. Previously, I had always used a semi-colon within HEREIS notation and had never terminated the end-quote with a comma, but it makes sense in this case because the key-value pair within the hash initialization ends with a comma. Thanks!"}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1420525791, "post_id": 27771053, "comment_id": 43995814, "body": "It is usually called a <a href=\"https://duckduckgo.com/?q=perldoc+heredoc\" rel=\"nofollow noreferrer\"><b>HEREDOC</b></a>. ( don&#39;t change the question as people searching for hereis need to be able to find the information too )"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1420410514, "creation_date": 1420410514, "answer_id": 27771077, "question_id": 27771053, "link": "https://stackoverflow.com/questions/27771053/in-perl-can-hereis-notation-be-used-inside-hash-initialization/27771077#27771077", "title": "In perl, can HEREIS notation be used inside hash initialization?", "body": "<p>Remove the semicolon. There is no statement end.</p>\n\n<pre><code>my %hash = ( key =&gt; &lt;&lt;'END',\nabc\ndef\nEND\n             another_key =&gt; 17,\n           );\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 1237081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8720d73dbe05f384345414f94d3a56cd?s=128&d=identicon&r=PG", "display_name": "David Levner", "link": "https://stackoverflow.com/users/1237081/david-levner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 27771077, "answer_count": 1, "score": 4, "last_activity_date": 1420410514, "creation_date": 1420410373, "last_edit_date": 1420410499, "question_id": 27771053, "link": "https://stackoverflow.com/questions/27771053/in-perl-can-hereis-notation-be-used-inside-hash-initialization", "title": "In perl, can HEREIS notation be used inside hash initialization?", "body": "<p>I am trying to initialize a hash like this:</p>\n\n<pre><code>use strict;\n\nmy %hash =\n(\n    key =&gt; &lt;&lt;END;\nabc\ndef\nEND\n    ,\n    another_key =&gt; 17\n);\n</code></pre>\n\n<p>When I run perl -cw on this code, I get the error 'syntax error at hash-initialize-test.pl line 5, near \";\"'.</p>\n\n<p>Is there a way to use HEREIS notation (such as <code>&lt;&lt;END;</code>) within hash initialization? If not, why not?</p>\n\n<p>There are several simple workarounds, but I like to use HEREIS notation for multi-line strings because it is elegant and avoids introducing unnecessary variables.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420405918, "post_id": 27770049, "comment_id": 43951741, "body": "For <i>readability</i>, don&#39;t encode periods, underscores, dashes, or tildes. These are perfectly acceptable URI characters. Your URL of <code>http:&#47;&#47;example.com&#47;exampledir&#47;file.pl</code> should be fine without URI encoding."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420406310, "post_id": 27770049, "comment_id": 43951855, "body": "If you can&#39;t use a module, you might be able to <i>borrow</i> it&#39;s <a href=\"https://metacpan.org/source/MITHUN/URI-Encode-v1.0.1/lib/URI/Encode.pm\" rel=\"nofollow noreferrer\">source code</a>. <code>URI::Encode</code> is pretty simple and all in Perl. You can easily incorporate it into your program."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420408798, "post_id": 27770049, "comment_id": 43952589, "body": "@DavidW. I know this is not what you had in mind but I was able to use the source code to change my regex from the blunt <code>s&#47;(\\W)&#47; &#39;%&#39; . sprintf(&#39;%02x&#39;,ord($1)) &#47;ge</code> to a more refined and readable <code>s&#47;([^a-zA-Z0-9\\Q-_.~\\E\\%])&#47; &#39;%&#39; . sprintf(&#39;%02X&#39;,ord($1)) &#47;ge</code>. Thanks!"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420425722, "post_id": 27770049, "comment_id": 43956394, "body": "Actually, that&#39;s what I had in mind. The module <code>URI::Escape</code> is used by thousands of developers, and throughly tested through the hot fire of production. Why not learn from the authors what they had to learn through trial and error? BTW, look at <a href=\"http://perlbrew.pl\" rel=\"nofollow noreferrer\">PerlBrew</a>. It&#39;s an easy way to install a user version or Perl package that&#39;s probably more <i>modern</i> than what&#39;s on the server, and makes it simple to download modules that you need. I use it (with permission from IT) on our servers."}], "answers": [{"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420405753, "post_id": 27770338, "comment_id": 43951680, "body": "I highly recommend to use URI::Escape. Rolling your own should be highly discouraged."}, {"owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "edited": false, "score": 0, "creation_date": 1420406454, "post_id": 27770338, "comment_id": 43951897, "body": "Sorted! Noted the comments here and to the question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1420406717, "post_id": 27770338, "comment_id": 43951968, "body": "Even URI::Escape is probably more work than necessary. I usually use the form building capabilities of URI (sometimes with the help of URI::QueryParam) rather than using URI::Escape"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1420405428, "creation_date": 1420405428, "answer_id": 27770338, "question_id": 27770049, "link": "https://stackoverflow.com/questions/27770049/uppercase-url-encoded-characters/27770338#27770338", "title": "Uppercase URL Encoded Characters", "body": "<p>You can use <code>%02X</code> instead of <code>%02x</code>; <code>%X</code> is a perl extension to <code>sprintf</code> that prints hex digits using uppercase letters.</p>\n\n<p>Your second example (with <code>uc(sprintf('%02x', ...))</code>) should have worked just fine, though. Are you sure it didn't?</p>\n\n<p>Finally, you should consider using <a href=\"http://p3rl.org/URI::Escape\" rel=\"nofollow\">URI::Escape</a> instead of writing your own; it's more in the spirit of \"saying what you mean\" (everyone should know what URI escaping is) and less error-prone.</p>\n"}], "owner": {"reputation": 10939, "user_id": 891636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dbdad904867cda6f67f452860d212a4?s=128&d=identicon&r=PG", "display_name": "Dayo", "link": "https://stackoverflow.com/users/891636/dayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 27770338, "answer_count": 1, "score": 0, "last_activity_date": 1420405428, "creation_date": 1420403564, "last_edit_date": 1495542507, "question_id": 27770049, "link": "https://stackoverflow.com/questions/27770049/uppercase-url-encoded-characters", "title": "Uppercase URL Encoded Characters", "body": "<p>I have this piece of code for simple url encoding:</p>\n\n<pre><code>$enc_url= 'http://example.com/exampledir/file.pl';\n$enc_url=~ s/(\\W)/ '%' . sprintf('%02x',ord($1)) /ge ;\n</code></pre>\n\n<p>Now, it does exactly what I want but it returns the encoded url with lowercase characters </p>\n\n<p>So I get: </p>\n\n<p><code>http%3a%2f%2fwww%2eexample%2ecom%2fexampledir%2ffile%2fpl</code></p>\n\n<p>but I want (for my own readability):</p>\n\n<p><code>http%3A%2F%2Fwww%2Eexample%2Ecom%2Fexampledir%2Ffile%2Epl</code></p>\n\n<p>I have tried:</p>\n\n<pre><code>$enc_url=~ s/(\\W)/ uc('%' . sprintf('%02x',ord($1))) /ge ;\n</code></pre>\n\n<p>as well as:</p>\n\n<pre><code>$enc_url=~ s/(\\W)/ '%' . uc(sprintf('%02x',ord($1))) /ge ;\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>$enc_url=~ s/(\\W)/ '%' . sprintf('%02x',uc(ord($1))) /ge ;\n</code></pre>\n\n<p>with no luck.</p>\n\n<p>I note that a similar question for another language here (<a href=\"https://stackoverflow.com/questions/6371086/server-urlencode-uppercase\">Get string from Server.UrlEncode as uppercase</a>) has a lot of quesries on why the need to change to uppercase which I understand but I still will like to if possible/trivial to do.</p>\n\n<p>Main thing is that I can not use the URI::Escape or similar modules.</p>\n"}, {"tags": ["perl", "sockets", "socks", "lwp"], "comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420406872, "post_id": 27769322, "comment_id": 43952032, "body": "Do you have the Perl module <a href=\"https://metacpan.org/pod/LWP::Protocol::socks\" rel=\"nofollow noreferrer\">LWP::Protocol::socks</a> installed?"}, {"owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420455883, "post_id": 27769322, "comment_id": 43966503, "body": "Yes, I installed it."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420463248, "post_id": 27769322, "comment_id": 43970191, "body": "Take a look at <a href=\"http://mlawire.blogspot.com/2009/07/using-lwp-with-tor.html\" rel=\"nofollow noreferrer\">this</a>. Except for the <code>[ qw&#47;http https&#47; ]</code>, it looks pretty much the same."}, {"owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420474938, "post_id": 27769322, "comment_id": 43977029, "body": "This doesn`t work too."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1420478641, "post_id": 27769322, "comment_id": 43979196, "body": "Dang. I was hoping for a miracle here. See if you can &quot;telnet&quot; to the proxy (<code>$ telnet 188.26.223.189 1080</code>). I wonder if you need user name and password on the proxy?"}], "answers": [{"tags": [], "owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1421170241, "creation_date": 1421170241, "answer_id": 27928008, "question_id": 27769322, "link": "https://stackoverflow.com/questions/27769322/cant-connect-to-host-via-socks-proxy-in-perl/27928008#27928008", "title": "Can`t connect to host via socks proxy in perl", "body": "<p>This may mean one of three things:</p>\n\n<ol>\n<li>your proxy at 188.26.223.189:1080 doesn't work</li>\n<li>example.com doesn't work</li>\n<li>example.com doesn't work for 188.26.223.189</li>\n</ol>\n\n<p><code>LWP::Protocol::socks</code> uses <code>IO::Socket::Socks</code> as SOCKS library. So, you may turn on the debugging by defining <code>SOCKS_DEBUG</code> environment variable:</p>\n\n<pre><code>SOCKS_DEBUG=1 perl test.pl\n</code></pre>\n\n<p>This will show you a SOCKS handshake. So you may see was this handshake success or not (<a href=\"https://www.ietf.org/rfc/rfc1928.txt\" rel=\"nofollow\">https://www.ietf.org/rfc/rfc1928.txt</a>).</p>\n\n<p>You may also try to connect directly through <code>IO::Socket::Socks</code> to see will it success:</p>\n\n<pre><code>perl -MIO::Socket::Socks -E 'IO::Socket::Socks-&gt;new(ProxyAddr =&gt; \"188.26.223.189\", ProxyPort =&gt; 1080, ConnectAddr =&gt; \"example.com\", ConnectPort =&gt; 80, Timeout =&gt; 30, SocksDebug =&gt; 1) or die $SOCKS_ERROR; say \"Connected!\"'\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 4108542, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Qflfs.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4108542/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556863118, "creation_date": 1420398858, "question_id": 27769322, "link": "https://stackoverflow.com/questions/27769322/cant-connect-to-host-via-socks-proxy-in-perl", "title": "Can`t connect to host via socks proxy in perl", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse LWP::UserAgent;\n\nmy $ua = new LWP::UserAgent(agent =&gt; 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.5) Gecko/20060719 Firefox/1.5.0.5');\n$ua-&gt;proxy('http' =&gt; 'socks://188.26.223.189:1080');\nmy $response = $ua-&gt;get('http://example.com');\nprint $response-&gt;code,' ', $response-&gt;message,\"\\n\";\nprint $response-&gt;decoded_content . \"\\n\";\n</code></pre>\n\n<p>I try to connect to website via socks-proxy, but I get error: 500 Can't connect to example.com:80\nWhat I do wrong?</p>\n"}, {"tags": ["perl", "post", "get", "html-parsing", "lwp"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420390946, "post_id": 27767895, "comment_id": 43946580, "body": "Questions of the type &quot;Why does this code not work&quot; are off topic for stackoverflow. You need to ask specific coding questions, about your code. And also, <code>use warnings</code> is quite essential when debugging."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1420393237, "post_id": 27767895, "comment_id": 43947394, "body": "When posting to others, ensure to strip off all the unneeded stuff that&#39;s only noise and <b>indent your code</b> properly as I do partially."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1420392053, "creation_date": 1420392053, "answer_id": 27768198, "question_id": 27767895, "link": "https://stackoverflow.com/questions/27767895/many-problems-with-lwp-htmlparser/27768198#27768198", "title": "Many problems with LWP &amp; HTML::Parser", "body": "<p>text_handler is called for every snippet of text on the page.  It does indeed find your search string, but only in one of them; you are printing Not Found for all the others.</p>\n\n<p>If you only want to print Found or Not Found once per url, do this:</p>\n\n<pre><code>my $found;\nmy $text_handler = sub {\n    chomp( my $text = shift );\n    if ( $text =~ /$stringsearch/i ) {\n        $found = 1;\n    }\n};\nmy $parser = HTML::Parser-&gt;new( 'text_h' =&gt; [ $text_handler, 'dtext' ] );\n$parser-&gt;parse( $response-&gt;decoded_content );\nif ($found) {\n    print \"\\e[96m[+]Found: \\e[32m$url\\e[0m\\n\";\n}\nelse {\n    print \"Not Found\\n\";\n}\n</code></pre>\n\n<p>(If this doesn't answer your question, please be more explicit about what you are seeing and how that differs from what you expect to see.)</p>\n"}, {"comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1420397034, "post_id": 27768238, "comment_id": 43948775, "body": "POST edited with the pure XPath way to search both in node names and attributes names"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 3, "last_activity_date": 1420396942, "last_edit_date": 1420396942, "creation_date": 1420392287, "answer_id": 27768238, "question_id": 27767895, "link": "https://stackoverflow.com/questions/27767895/many-problems-with-lwp-htmlparser/27768238#27768238", "title": "Many problems with LWP &amp; HTML::Parser", "body": "<p>In quite a few lines &amp; using <a href=\"/questions/tagged/xpath\" class=\"post-tag\" title=\"show questions tagged 'xpath'\" rel=\"tag\">xpath</a> :</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse LWP::UserAgent;\nuse HTML::TreeBuilder::XPath;\n\nmy $stringsearch = \"solutions\";\n\nmy $url = \"http://www.matrixx.com/\";\nmy $ua = LWP::UserAgent-&gt;new;\nmy $response = $ua-&gt;get($url);\ndie \"Http error\\n\" unless $response-&gt;is_success;\n\nmy $tree = HTML::TreeBuilder::XPath-&gt;new_from_content(\n    $response-&gt;decoded_content\n);\n\nprint \"searched string found\\n\" if $tree-&gt;exists(\n  \"//*[contains(name(), '$stringsearch')] | //@*[contains(., '$stringsearch')]\"\n);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4417712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5031b4065f1beb28181a3515ae9b3d9e?s=128&d=identicon&r=PG&f=1", "display_name": "toto", "link": "https://stackoverflow.com/users/4417712/toto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1420443439, "creation_date": 1420390196, "last_edit_date": 1420443439, "question_id": 27767895, "link": "https://stackoverflow.com/questions/27767895/many-problems-with-lwp-htmlparser", "title": "Many problems with LWP &amp; HTML::Parser", "body": "<p>Hello everyone I coded a script to search a string on a webpage but the request doesn't works I don't know why ...</p>\n\n<p>website : <a href=\"http://www.matrixx.com/\" rel=\"nofollow\">http://www.matrixx.com/</a>\nstring to search : solutions</p>\n\n<p>code : </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse IO::Socket;\nuse Term::ANSIColor;\nuse HTML::Parser;\nuse LWP::UserAgent;\nuse LWP::Simple;\nuse vars qw( $PROG );\n\n$SIG{'INT'} = sub {exit;};\n\nmy $stringsearch = \"solutions\";\n\nmy $url = \"http://www.matrixx.com/\";\nmy $ua = LWP::UserAgent-&gt;new;\nprint \"\\e[96m[!]Searching \\e[31m$url\\n\\e[0m\";    \nmy $response = $ua-&gt;post($url);\nif ( !$response-&gt;is_success ) \n{\n print \"error\\n\";\n}\n\n\nmy $parser = HTML::Parser-&gt;new( 'text_h' =&gt; [ \\&amp;text_handler, 'dtext' ] );\n$parser-&gt;parse( $response-&gt;decoded_content );\n\nsub text_handler \n{\n    chomp( my $text = shift );\n    if ( $text =~ /$stringsearch/i )\n    {\n\n        print \"\\e[96m[+]Found: \\e[32m$url\\e[0m\\n\";\n\n    }\n\n    else\n    {\n        print \"Not Found \\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["bash", "perl", "arguments", "pipe"], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 0, "creation_date": 1420384268, "post_id": 27766876, "comment_id": 43944302, "body": "Could you please elaborate on the &quot;Which you would not do anyway if you have arguments.&quot; part?  Any suggestions for edits to the above code are welcome!"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 1, "creation_date": 1420384549, "post_id": 27766876, "comment_id": 43944382, "body": "Using arguments overrides the functionality of <code>&lt;&gt;</code>, so you need to use STDIN explicitly."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1420390803, "post_id": 27766876, "comment_id": 43946521, "body": "If you have arguments <i>and</i> use <code>&lt;&gt;</code> or <code>&lt;ARGV&gt;</code>, <code>&lt;&gt;</code> will assume they are filenames to read (instead of using STDIN); @TLP&#39;s last option gets around this by removing the arguments before doing the (implicit) <code>&lt;&gt;</code>"}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 11, "last_activity_date": 1420385240, "last_edit_date": 1420385240, "creation_date": 1420384133, "answer_id": 27766876, "question_id": 27766811, "link": "https://stackoverflow.com/questions/27766811/perl-inside-bash-how-to-read-from-pipe-and-pass-arguments-to-perl-at-the-same-t/27766876#27766876", "title": "Perl inside Bash: How to read from pipe and pass arguments to perl at the same time?", "body": "<p>You are not using <code>-n</code> or <code>-p</code>, so you are not using <code>&lt;&gt;</code> for standard input. Which you would not do anyway if you have arguments.</p>\n\n<h2>Explanation:</h2>\n\n<p>When you use <code>-n</code> or <code>-p</code>, it puts a <code>while(&lt;&gt;)</code> loop around your code, like so:</p>\n\n<pre><code>perl -ne ' print ' \n</code></pre>\n\n<p>is equal to</p>\n\n<pre><code>perl -e ' while (&lt;&gt;) { print }'\n</code></pre>\n\n<p>And if you use <code>-p</code> it is:</p>\n\n<pre><code>perl -e ' while (&lt;&gt;) { print } continue { print $_ }'\n</code></pre>\n\n<p>At this stage, Perl will decide how <code>&lt;&gt;</code> will work by checking <code>@ARGV</code>, where the arguments to the script are stored. If there is anything in there, it will treat the arguments as file names, and try to open and read these files. The file handle will then be called <code>ARGV</code>. At this point, <code>&lt;&gt;</code> cannot be used to read from standard input.</p>\n\n<h2>Solution</h2>\n\n<p>In other words, using arguments will override the reading from <code>STDIN</code>. So if you want to read from standard input, you use that file handle instead:</p>\n\n<pre><code>echo \"a b c\" | perl -e ' print @ARGV[0,1]; while (&lt;STDIN&gt;) { print } ' foo bar\n</code></pre>\n\n<p>Another option would be to clear the <code>@ARGV</code> array beforehand, like so:</p>\n\n<pre><code>echo \"a b c\"|perl -ne'BEGIN { @x = @ARGV; @ARGV = () }; print @x; print;' foo bar\n</code></pre>\n\n<p>But that would also print <code>@x</code> one time per line of input you have, which may not be desirable.</p>\n"}], "owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3935, "favorite_count": 0, "accepted_answer_id": 27766876, "answer_count": 1, "score": 4, "last_activity_date": 1420385240, "creation_date": 1420383668, "question_id": 27766811, "link": "https://stackoverflow.com/questions/27766811/perl-inside-bash-how-to-read-from-pipe-and-pass-arguments-to-perl-at-the-same-t", "title": "Perl inside Bash: How to read from pipe and pass arguments to perl at the same time?", "body": "<p>Following is the code I am trying out:</p>\n\n<pre><code>echo \"a b c\" | perl -e 'print $ARGV[0]; print $ARGV[1]; print $_;' \"abc\" \"def\"\n</code></pre>\n\n<p>Output of this code is:</p>\n\n<pre><code>abcdef\n</code></pre>\n\n<p>I am not able to figure out why \"print $_;\" is not printing \"a b c\" as usual. Any ideas?</p>\n"}, {"tags": ["bash", "perl", "sh"], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "edited": false, "score": 0, "creation_date": 1420376199, "post_id": 27765657, "comment_id": 43942011, "body": "Perfect! Thank you :)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1420377340, "post_id": 27765657, "comment_id": 43942309, "body": "So that&#39;s what you use the <code>-x</code> switch for.. :D I&#39;ve been wondering about that."}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": true, "score": 9, "last_activity_date": 1427203431, "last_edit_date": 1427203431, "creation_date": 1420375682, "answer_id": 27765657, "question_id": 27765610, "link": "https://stackoverflow.com/questions/27765610/perl-inside-bash-how-to-call-perl-on-a-script-saved-in-a-string/27765657#27765657", "title": "perl inside bash: How to call perl on a script saved in a string", "body": "<p>You simply have too many quotes in your string <code>$S</code>:</p>\n\n<pre><code>#!/bin/sh\n\n# works\nperl -e 'print 1;'\n\n# also works\nS='print 1;'    \nperl -e \"$S\"\n</code></pre>\n\n<p>I have also added some double quotes around <code>\"$S\"</code>, which prevents problems with word splitting.</p>\n\n<p>Another option is to use the <code>-x</code> switch to Perl:</p>\n\n<pre><code>#!/bin/sh\n\nperl -x \"$0\"\n\necho &lt;&lt;EOF &gt;/dev/null\n#!/usr/bin/env perl\nmy $a=5;\nprint \"$a\\n\";\n__END__\nEOF\n\necho 'something else'\n</code></pre>\n\n<p><code>$0</code> is the name of the current script, so Perl looks for the first line starting with <code>#!</code> and containing <code>perl</code> and interprets everything up to <code>__END__</code> as a Perl script. The <code>echo &gt;/dev/null</code> prevents the Perl script from being interpreted by the shell.</p>\n"}], "owner": {"reputation": 617, "user_id": 2088022, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1a6f18974e6dd66dd55dc370e3ab9f3?s=128&d=identicon&r=PG", "display_name": "vervenumen", "link": "https://stackoverflow.com/users/2088022/vervenumen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 27765657, "answer_count": 1, "score": 2, "last_activity_date": 1427206523, "creation_date": 1420375280, "last_edit_date": 1427206523, "question_id": 27765610, "link": "https://stackoverflow.com/questions/27765610/perl-inside-bash-how-to-call-perl-on-a-script-saved-in-a-string", "title": "perl inside bash: How to call perl on a script saved in a string", "body": "<p>I need to execute the same perl script, multiple times, on different files.</p>\n\n<p>To ease the process, I am trying to save the perl script as a bash string,\nand call perl over the string, as in the \"doesn't work\" part of the code below:</p>\n\n<pre><code>#!/bin/sh\n\n# works\nperl -e 'print 1;'\n\n# doesn't work\nS=\"'print 1;'\"\nperl -e $S\nperl -e $S\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>1Can't find string terminator \"'\" anywhere before EOF at -e line 1.\nCan't find string terminator \"'\" anywhere before EOF at -e line 1.\n</code></pre>\n\n<p>What am I doing wrong here? Can I achieve the same effect in some other way?</p>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1420377177, "post_id": 27765538, "comment_id": 43942267, "body": "Using a character class negation would also work <code>&#47;[^a-zA-Z_0-9\\-\\.]&#47;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420380695, "post_id": 27765538, "comment_id": 43943241, "body": "Yes, it would with negation in front of the regex."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1420374768, "creation_date": 1420374768, "answer_id": 27765538, "question_id": 27765514, "link": "https://stackoverflow.com/questions/27765514/match-if-string-contains-only-ascii-alphanumeric-dash-underscore-and-dot-chara/27765538#27765538", "title": "Match if string contains only ASCII alphanumeric, dash, underscore and dot characters in Perl", "body": "<p>Your regex matches when it finds first char that satisfies regex class, but to make sure that all chars are inside regex class you have to state that it matches from beginning <code>^</code> to the end of the string <code>\\z</code>,</p>\n\n<pre><code>$ref =~ m/^[a-zA-Z_0-9.-]+\\z/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1420380822, "post_id": 27765542, "comment_id": 43943286, "body": "<code>$</code> anchor can also matches before <code>\\n</code>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1420374780, "creation_date": 1420374780, "answer_id": 27765542, "question_id": 27765514, "link": "https://stackoverflow.com/questions/27765514/match-if-string-contains-only-ascii-alphanumeric-dash-underscore-and-dot-chara/27765542#27765542", "title": "Match if string contains only ASCII alphanumeric, dash, underscore and dot characters in Perl", "body": "<p>You just need to add anchors and quantifier:</p>\n\n<pre><code>if ($ref =~ /^[a-zA-Z_0-9.-]+$/) { print \"OK\\n\\n\"; }\n#            ^              ^^ \n</code></pre>\n"}], "owner": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 0, "accepted_answer_id": 27765538, "answer_count": 2, "score": 1, "last_activity_date": 1420374780, "creation_date": 1420374616, "question_id": 27765514, "link": "https://stackoverflow.com/questions/27765514/match-if-string-contains-only-ascii-alphanumeric-dash-underscore-and-dot-chara", "title": "Match if string contains only ASCII alphanumeric, dash, underscore and dot characters in Perl", "body": "<p>I have following Perl script that should write OK if string contains only following characters <code>a-z</code> <code>A-Z</code> dash <code>-</code> underscore <code>_</code> or dot <code>.</code> and FAIL if string contains any other character. However, it writes OK no matter what I put in string <code>$ref</code>. </p>\n\n<p>In this example match should fail because string contains <code>+</code> <code>\\</code> and <code>/</code> </p>\n\n<pre><code>#!/usr/bin/perl\n\n print \"Content-type: text/html\\n\\n\";   \n\n $ref = 'abcABCZ01234+56789.htm_abc\\/--a'; \n\n if ($ref =~ m/[a-zA-Z_0-9\\-\\.]/) { print \"OK\\n\\n\"; }\n else { print \"FAIL\\n\\n\"; }\n\n print \"&lt;br&gt;$ref\\n\\n\"; \n\n1;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420376987, "post_id": 27765356, "comment_id": 43942207, "body": "The <code>$#</code> sigill is used to find the index of the last element in the array. Use the array itself in scalar context to find the length: <code>$length = @array</code>."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420377066, "post_id": 27765356, "comment_id": 43942231, "body": "Also, <code>a..z</code> is relying on barewords. It should be <code>&#39;a&#39;..&#39;z&#39;</code>."}], "tags": [], "owner": {"reputation": 767708, "user_id": 14860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vXG1F.png?s=128&g=1", "display_name": "paxdiablo", "link": "https://stackoverflow.com/users/14860/paxdiablo"}, "is_accepted": true, "score": 2, "last_activity_date": 1420380890, "last_edit_date": 1420380890, "creation_date": 1420373554, "answer_id": 27765356, "question_id": 27765292, "link": "https://stackoverflow.com/questions/27765292/perl-code-not-executing-as-expected/27765356#27765356", "title": "Perl - Code not executing as expected", "body": "<p>If your desire is to print out specific array elements and the length of the entire array, use something like:</p>\n\n<pre><code>@array = ('a'..'z');\n$newarray = @array[0,5..10];\nprint(\"\\@array[0,5..10] = @array[0,5..10]\\n\");\n$length = @array;\nprint \"The length of \\@array is $length\\n\";\n</code></pre>\n\n<p>The output of that is:</p>\n\n<pre><code>@array[0,5..10] = a f g h i j k\nThe length of @array is 26\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3729419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5ae322ef6b026cd80cde1601d0869?s=128&d=identicon&r=PG&f=1", "display_name": "hari_cheers", "link": "https://stackoverflow.com/users/3729419/hari-cheers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 27765356, "answer_count": 1, "score": 0, "last_activity_date": 1420443408, "creation_date": 1420373083, "last_edit_date": 1420443408, "question_id": 27765292, "link": "https://stackoverflow.com/questions/27765292/perl-code-not-executing-as-expected", "title": "Perl - Code not executing as expected", "body": "<p>I have the following scripts</p>\n\n<pre><code>print (\"\\n\\n=========================================\\n\");\n\n@array = (1,2,\"Hello\");\n\nprint(\"\\$array[0] = $array[0]\\n\");\nprint(\"\\$array[1] = $array[1]\\n\");\nprint(\"\\$array[2] = $array[2]\\n\");\n@array =(a..z);\n**print(\"\\@array[5..10]=@array(5,3..10,24\");**\n@lenght=@array;\nprint \"The lenght of\\@array is:@lenght\\n\";\n\n\nprint (\"=========================================\\n\\n\");. \n</code></pre>\n\n<p>Marked with double <code>**</code> were i am not getting expected output. Please help me in solving this. </p>\n\n<p>The output i am  expect is something like this <code>d,e,f,h,k</code> something like this </p>\n"}, {"tags": ["arrays", "regex", "string", "perl", "string-matching"], "answers": [{"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1420386154, "post_id": 27764482, "comment_id": 43944926, "body": "The smartmatch operator has been marked as <a href=\"http://perldoc.perl.org/perl5180delta.html#The-smartmatch-family-of-features-are-now-experimental\" rel=\"nofollow noreferrer\">experimental</a>. They were changed again in 5.20, and I highly suggest not to use it since it&#39;s constantly evolving."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1420366557, "creation_date": 1420366557, "answer_id": 27764482, "question_id": 27763925, "link": "https://stackoverflow.com/questions/27763925/how-to-match-string-in-perl-with-a-variable-rather-than-regex/27764482#27764482", "title": "how to match string in perl with a variable rather than regex", "body": "<p>I'd transform each element of the array then use the smart-match operator:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Modern::Perl;\n\nmy @toremove = (100, 102, 104, 131, 156);\nmy @txt = map{$_.'.txt'}@toremove;\nwhile(&lt;DATA&gt;) {\n    chomp;\n    if ($_ ~~ @txt) {\n        say \"==&gt; $_ : found\";\n    } else {\n        say \"$_ : NOT found\";\n    }\n}\n\n__DATA__\nabc\ndef.txt\n100\n102.txt\n131.abc\n156.txt\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>abc : NOT found\ndef.txt : NOT found\n100 : NOT found\n==&gt; 102.txt : found\n131.abc : NOT found\n==&gt; 156.txt : found\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "is_accepted": false, "score": 2, "last_activity_date": 1420366970, "creation_date": 1420366970, "answer_id": 27764535, "question_id": 27763925, "link": "https://stackoverflow.com/questions/27763925/how-to-match-string-in-perl-with-a-variable-rather-than-regex/27764535#27764535", "title": "how to match string in perl with a variable rather than regex", "body": "<p>I'd transform the array to hash first and then simply test if the key exists in the hash.</p>\n\n<pre><code>my @toremove = (100, 102, 104, 131, 156);\nmy %lookup_hash;\n$lookup_hash{\"$_.txt\"} = 1 for @toremove;\n\nopendir (my $DIR, \"D:/MYPATH/\");\nwhile (my $file = readdir($DIR)) {\n    if( $lookup_hash{$file} )\n    { // do something }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1420528005, "last_edit_date": 1420528005, "creation_date": 1420388119, "answer_id": 27767537, "question_id": 27763925, "link": "https://stackoverflow.com/questions/27763925/how-to-match-string-in-perl-with-a-variable-rather-than-regex/27767537#27767537", "title": "how to match string in perl with a variable rather than regex", "body": "<p>Whenever you say to yourself <em>How can I quickly find something in a list</em>, you should say to yourself <em>Hash!</em>.</p>\n\n<p>Let's take that <code>@toremove</code> list, and turn it into a hash. We can do this with the <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\" title=\"perldoc -f map\"><em>map</em></a> command. The <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\" title=\"perldoc -f map\"><em>map</em></a> command is a bit scary at first, and I don't believe the manpage for it does it justice. It isn't really that complex:</p>\n\n<pre><code> @some_hash_or_array = map { .... } @original_array;\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\" title=\"perldoc -f map\"><em>map</em></a> takes <code>@original_array</code> and loops through each entry of that array. The <code>{...}</code> is a small program you want to run on each entry.</p>\n\n<p>You can think of <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\" title=\"perldoc -f map\"><em>map</em></a> as <em>something</em> like this:</p>\n\n<pre><code>my @original_array = qw( ... );\nmy @some_hash_or_array;\nfor my $entry ( @original_array ) {\n    push @some_hash_or_array, { ... };\n}\n</code></pre>\n\n<p>What makes <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\" title=\"perldoc -f map\"><em>map</em></a> useful is that each entry of the array is set to <code>$_</code>, so manipulating <code>$_</code> allows you to transform your array.</p>\n\n<p>What I am doing is:</p>\n\n<pre><code>my %files = map { $_.\".txt\" =&gt; 1 } @to_remove;\n</code></pre>\n\n<p>When this <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\" title=\"perldoc -f map\"><em>map</em></a> command processes <code>@to_remove</code>, it creates another array that looks like this:</p>\n\n<pre><code>(\"100.txt\" =&gt; 1, \"102.txt\" =&gt; 1, \"104.txt\" =&gt; 1, \"131.txt\" =&gt; 1, \"156.txt\" =&gt; 1)\n</code></pre>\n\n<p>I initialize my <code>%files</code> hash with this array. Odd entries are the <em>keys</em> to the hash and the even entries following the keys are the data.</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;             # Lets you know when you misspell variable names\nuse warnings;           # Warns of issues (using undefined variables)\nuse feature qw(say);\n\nmy @to_remove = qw(100 102 104 131 156);\n\nmy %files = map { $_.\".txt\" =&gt; 1 } @to_remove;\nwhile ( my $file = &lt;DATA&gt; ) {\n    chomp $file;\n    if ( exists $files{$file} ) {\n        say qq(File \"$file\" is in the list);\n    }\n    else {\n        say qq(File \"$file\" isn't in the list);\n    }\n}\n\n__DATA__\n100.txt\n203.txt\n130.txt\n104.txt\n150.txt\n156.txt\n160.txt\n</code></pre>\n\n<p>This produces:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>File \"100.txt\" is in the list\nFile \"203.txt\" isn't in the list\nFile \"130.txt\" isn't in the list\nFile \"104.txt\" is in the list\nFile \"150.txt\" isn't in the list\nFile \"156.txt\" is in the list\nFile \"160.txt\" isn't in the list\n</code></pre>\n\n<p>You'll need to do this:</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;             # Lets you know when you misspell variable names\nuse warnings;           # Warns of issues (using undefined variables\nuse autodie;            # Automatically kills the program if opens fail\nuse feature qw(say);\n\nmy @to_remove = qw(100 102 104 131 156);\nopendir my $dir_fh, \"dir_name\";\n\nmy %files = map { $_.\".txt\" =&gt; 1 } @to_remove;\nwhile ( my $file = &lt; $dir_fh &gt; ) {\n    if ( exists $files{$file} ) {\n        say qq(File \"$file\" is in the list);\n    }\n    else {\n        say qq(File \"$file\" isn't in the list);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 1, "creation_date": 1420528305, "post_id": 27769109, "comment_id": 43996826, "body": "<b>Wrong</b> you want <code>@toremove{100, 102, 104, 131, 156} = (1) x 5</code>"}, {"owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "reply_to_user": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1420559262, "post_id": 27769109, "comment_id": 44013044, "body": "Thanks, Brad. I was not aware that the last four elements would be initialized empty."}], "tags": [], "owner": {"reputation": 525, "user_id": 3694028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a631f2f9266385b14ff6301c02f2071b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard RP", "link": "https://stackoverflow.com/users/3694028/richard-rp"}, "is_accepted": false, "score": 0, "last_activity_date": 1420559305, "last_edit_date": 1420559305, "creation_date": 1420397535, "answer_id": 27769109, "question_id": 27763925, "link": "https://stackoverflow.com/questions/27763925/how-to-match-string-in-perl-with-a-variable-rather-than-regex/27769109#27769109", "title": "how to match string in perl with a variable rather than regex", "body": "<p>Here is a couple of alternatives:</p>\n\n<pre><code>##  Shorthand hash definition\n@toremove{100, 102, 104, 131, 156}= (1) x 5;\n\n##  Using a glob instead of opendir\nfor (&lt;D:/MYPATH/*&gt;)\n{\n    ##  Use a regex for flexibility\n    if (m:.*/(.+)$: and $toremove{$1})\n    {\n        print \"Doing something to $_\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 10969, "user_id": 961627, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f601d2a7c6970812b52069aa19c478af?s=128&d=identicon&r=PG", "display_name": "user961627", "link": "https://stackoverflow.com/users/961627/user961627"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1420559305, "creation_date": 1420361506, "question_id": 27763925, "link": "https://stackoverflow.com/questions/27763925/how-to-match-string-in-perl-with-a-variable-rather-than-regex", "title": "how to match string in perl with a variable rather than regex", "body": "<p>I have an array of file names that I want to detect using perl.</p>\n\n<p>I have a lot more than these, but this example is just to illustrate:</p>\n\n<pre><code>@toremove = (100, 102, 104, 131, 156);\n</code></pre>\n\n<p>Now I want to open the directory and go through the files and if they happen to have any of the filenames as in the array above, I want to take some action.</p>\n\n<pre><code>opendir (DIR, \"D:/MYPATH/\");\nwhile (my $file = readdir(DIR)) {\n    if($file =~ &lt;how do i reference an array item here?&gt;.txt)\n    { // do something }\n</code></pre>\n\n<p>Is there any way to say if the file happens to match any of the items in the array? So this is more like a \"variable string match\"...</p>\n"}, {"tags": ["linux", "perl", "unix", "dos"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 3, "creation_date": 1420362539, "post_id": 27763359, "comment_id": 43938792, "body": "Just for clarification: do you want to change the line endings based on the OS the script is running on, or the line endings the file contains. (the former should happen automatically)."}], "answers": [{"comments": [{"owner": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "edited": false, "score": 0, "creation_date": 1420361974, "post_id": 27763942, "comment_id": 43938684, "body": "Doesn&#39;t Perl do this automatically for Windows?"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "edited": false, "score": 0, "creation_date": 1420362038, "post_id": 27763942, "comment_id": 43938701, "body": "@Casper: I thought so too, but if you want to do it by hand, that&#39;s the probably easiest way to do it."}, {"owner": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "edited": false, "score": 0, "creation_date": 1420362175, "post_id": 27763942, "comment_id": 43938736, "body": "Ok, right. The PerlIO man page says it adjusts the default layers depending on the OS: <a href=\"http://perldoc.perl.org/PerlIO.html#Defaults-and-how-to-override-them\" rel=\"nofollow noreferrer\">perldoc.perl.org/PerlIO.html#Defaults-and-how-to-override-th&zwnj;&#8203;em</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1420364676, "post_id": 27763942, "comment_id": 43939176, "body": "Ok, I see.. the line endings are already handled automatically by Perl depending on the system it runs on.. That is great.. Then if a I have DOS file on a Unix OS, it will get &quot;corrupted&quot; (get mixed line endings) if I append lines to the file.. If want to avoid this I have to add special code to deal with it.."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1420365001, "post_id": 27763942, "comment_id": 43939259, "body": "So if I understand correctly: The following code will work on both Unix and DOS: <code>print $fh &quot;Line to be appended\\n&quot;</code> .. (The trailing &quot;\\n&quot; will be automatically converted to <code>&quot;\\r\\n&quot;</code> on a DOS OS, is that right?) ( I do not have a windows machine to test this for myself)"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1420365952, "post_id": 27763942, "comment_id": 43939460, "body": "@H&#229;konH&#230;gland: Yes, it should. If you have a <code>\\r\\n</code> file on a unix system, you simply can <code>open my $fh, &#39;&gt;&gt;:crlf&#39;, &#39;yourfilename&#39; or die</code> and you should be fine."}], "tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": true, "score": 4, "last_activity_date": 1420417079, "last_edit_date": 1420417079, "creation_date": 1420361641, "answer_id": 27763942, "question_id": 27763359, "link": "https://stackoverflow.com/questions/27763359/add-default-system-newline-in-perl/27763942#27763942", "title": "Add default system newline in Perl", "body": "<p>Use the <code>:crlf</code> handle, for example with <code>use open</code> and <code>use if</code>:</p>\n\n<pre><code>use if ($^O eq \"MSWin32\") =&gt; open qw(IO :crlf :all);\n</code></pre>\n\n<p>The relevant documentations: </p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/PerlIO.html\" rel=\"nofollow\">PerlIO</a> for the io layers. Note that this page states:</li>\n</ul>\n\n<blockquote>\n  <p>If the platform is MS-DOS like and normally does CRLF to \"\\n\" translation for text files then the default layers are :  </p>\n  \n  <p><code>unix crlf</code></p>\n</blockquote>\n\n<p>So the above code should be redundant, but that's what you're asking for.</p>\n\n<ul>\n<li><p><a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a> for the <code>$^O</code> variable.</p></li>\n<li><p><a href=\"http://perldoc.perl.org/open.html\" rel=\"nofollow\">open</a> for the open pragma.</p></li>\n<li><p><a href=\"https://metacpan.org/pod/if\" rel=\"nofollow\">if</a> for conditional loading of modules.</p></li>\n</ul>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 27763942, "answer_count": 1, "score": 2, "last_activity_date": 1420417079, "creation_date": 1420355860, "question_id": 27763359, "link": "https://stackoverflow.com/questions/27763359/add-default-system-newline-in-perl", "title": "Add default system newline in Perl", "body": "<p>When I append text to a file I would like to add the correct line ending for the file: for Unix: <code>\"\\n\"</code> and for Windows <code>\"\\r\\n\"</code>. However, I could not find an easy way to do this. This was the best I could come up with:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Devel::CheckOS ();\n\nmy $fn = 'file';\nopen (my $fh, '&lt;', $fn) or die \"Could not open file '$fn': $!\\n\";\nmy $first_line = &lt;$fh&gt;;\nmy $len = length $first_line;\nmy $file_type = \"undetermined\";\nif ($len == 1) {\n    $file_type = \"Unix\" if $first_line eq \"\\n\";\n}\nif ($len &gt;= 2) {\n    if (substr($first_line, $len - 1, 1) eq \"\\n\") {\n        if (substr($first_line, $len - 2, 1) eq \"\\r\") {\n            $file_type = \"DOS\";\n        } else {\n            $file_type = \"Unix\";\n        }\n    }\n}\nclose $fh;\nif ($file_type eq \"undetermined\") {\n    $file_type = get_system_file_type();\n}\nprint \"File type: $file_type.\\n\";\n\nsub get_system_file_type {\n    return Devel::CheckOS::os_is('MicrosoftWindows') ? \"DOS\" : \"Unix\"; \n}\n</code></pre>\n\n<p>Is it really necessary to do all these checks? Or are there simpler ways to do this?</p>\n"}, {"tags": ["perl", "tkx"], "answers": [{"comments": [{"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1420428407, "post_id": 27764853, "comment_id": 43956850, "body": "Thanks, that is an interesting suggestion. Would you have an alternative or a way to implement it that would not block the Tk GUI? Thanks"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1420444420, "last_edit_date": 1420444420, "creation_date": 1420369393, "answer_id": 27764853, "question_id": 27763004, "link": "https://stackoverflow.com/questions/27763004/retrieving-stdout-and-stderr-while-using-tkxopen-to-run-external-commands/27764853#27764853", "title": "Retrieving stdout and stderr while using tkx::open to run external commands", "body": "<p>On Linux, I can use <code>Capture::Tiny</code> to get the output of an external command:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Capture::Tiny ();\nuse Tkx;\n\nmy ($stdout,$stderr);\n\nmy $mw = Tkx::widget-&gt;new(\".\");\nmy $button=$mw-&gt;new_ttk__button(-text =&gt; \"Run\", -command =&gt; [\\&amp;run_command, \"echo aaa; eeee\"]);\n$button-&gt;g_grid(-column =&gt; 0, -row =&gt; 0);\nmy $text = $mw-&gt;new_tk__text(-width =&gt; 32, -height =&gt; 16);\n$text-&gt;insert(\"end\", \"Test\\n\");\n$text-&gt;g_grid(-column =&gt; 0, -row =&gt; 1);\n\nTkx::MainLoop();\n\nsub run_command {\n    my $cmd = shift;\n    my ($stdout, $stderr, $exit) = Capture::Tiny::capture {\n        system($cmd);\n    };\n    print \"STDOUT: '$stdout'\\n\";\n    print \"STDERR: '$stderr'\\n\";\n    print \"Exit code: '$exit'\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>STDOUT: 'aaa\n'\nSTDERR: 'sh: 1: eeee: not found\n'\nExit code: '32512'\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>To avoid blocking the GUI, develop a small wrapper script instead, for example:</p>\n\n<pre><code>$ cat wrapperl.pl\nuse strict;\nuse warnings;\nuse Capture::Tiny;\n\nmy $cmd = shift;\n\nmy ($stdout, $stderr, $exit) = Capture::Tiny::capture {\n    system($cmd);\n};\nprint \"Child is waiting..\\n\";\nsleep 2;\nprint \"STDOUT: '$stdout'\\n\";\nprint \"STDERR: '$stderr'\\n\";\nprint \"Exit code: '$exit'\\n\";\n</code></pre>\n\n<p>Then use:</p>\n\n<pre><code>sub run_command {\n    my $cmd = shift;\n    my $fh;\n    print \"Master: calling command..\\n\";\n    system (\"wrapper.pl \\\"$cmd\\\" &amp;\");\n    print \"Master: returning to Tkx::Mainloop..\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Master: calling command..\nMaster: returning to Tkx::Mainloop..\nChild is waiting..\nSTDOUT: 'aaa\n'\nSTDERR: 'sh: 1: eeee: not found\n'\nExit code: '32512'\n</code></pre>\n"}], "owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1420444420, "creation_date": 1420352404, "last_edit_date": 1420428462, "question_id": 27763004, "link": "https://stackoverflow.com/questions/27763004/retrieving-stdout-and-stderr-while-using-tkxopen-to-run-external-commands", "title": "Retrieving stdout and stderr while using tkx::open to run external commands", "body": "<p>I have managed to run external commands from Tk GUI in Perl (Tkx module) <strong>without blocking the GUI</strong>.</p>\n\n<p>However, I have difficulty to retrieve messages from stderr and stdout: for most commands, nothing is stored in variables <code>$stdout</code> and <code>$stderr</code>.</p>\n\n<p>What am I missing in my code?</p>\n\n<p>Thanks</p>\n\n<pre><code>use Tkx;\nuse strict;\nuse Data::Dumper;\n\nmy ($stdout,$stderr);\n\nmy $mw = Tkx::widget-&gt;new(\".\");\nmy $button=$mw-&gt;new_ttk__button(-text =&gt; \"Run\", -command =&gt; [\\&amp;run_command, \"systeminfo\"]);\n$button-&gt;g_grid(-column =&gt; 0, -row =&gt; 0);\nmy $text = $mw-&gt;new_tk__text(-width =&gt; 32, -height =&gt; 16);\n$text-&gt;insert(\"end\", \"Test\\n\");\n$text-&gt;g_grid(-column =&gt; 0, -row =&gt; 1);\n\nTkx::MainLoop();\nprint \"STDOUT: $stdout\\n\\n\",\"-\"x24,\"\\nSTDERR: $stderr\\n\";\n\n\nsub run_command {\n    my $cmd = shift;\n    my $fh = Tkx::open(\"| $cmd\", 'r') or die \"$!\";\n    Tkx::fconfigure($fh, -blocking =&gt; 0);\n    $stdout.=Tkx::read($fh);\n    eval { Tkx::close($fh); };\n    $stderr.=$@ if ($@);\n\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1420345975, "post_id": 27762022, "comment_id": 43935890, "body": "That heavily depends on the framework you are using. What are you using? Mojolicious, Catalyst, Dancer, CGI or something else?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1420352258, "post_id": 27762022, "comment_id": 43936897, "body": "<code>pre append</code> =&gt; <code>prepend</code>"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1420355023, "post_id": 27762022, "comment_id": 43937352, "body": "Oh if @7stud&#39;s comment is what you are looking for, I <a href=\"https://github.com/P-Seebauer/acme_autowrap/blob/master/lib/ACME/Autowrap.pm\" rel=\"nofollow noreferrer\">wrote a module</a> for that once, but haven&#39;t put it on cpan yet, because of some bugs. You&#39;re better of with something from cpan, I think."}, {"owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "edited": false, "score": 0, "creation_date": 1420450009, "post_id": 27762022, "comment_id": 43963577, "body": "I&#39;m using Mojolicious"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1420351684, "creation_date": 1420351684, "answer_id": 27762909, "question_id": 27762022, "link": "https://stackoverflow.com/questions/27762022/how-to-append-functions-to-class-functions/27762909#27762909", "title": "How to append functions to class functions", "body": "<p>I think <a href=\"http://search.cpan.org/~lodin/Sub-Prepend-0.01/lib/Sub/Prepend.pm\" rel=\"nofollow\"><strong>Sub::Prepend</strong></a> may help you.</p>\n\n<p>Sample:</p>\n\n<pre><code>use Sub::Prepend 'prepend';\n\n    sub foo ($) {\n        print \"Foo executed with \\@_ = (@_).\\n\";\n    }\n\n    BEGIN {\n        prepend foo =&gt; sub {\n            # This is called before foo executes.\n            print \"Foo was called with \\@_ = (@_).\\n\";\n            push @_, 'and more';\n        }\n    }\n\n    my @bar = qw/ foo bar baz /;\n    foo(@bar); # The prototype is preserved!\n\n    __END__\n    Foo was called with @_ = (3).\n    Foo executed with @_ = (3 and more).\n</code></pre>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 27762909, "answer_count": 1, "score": 1, "last_activity_date": 1420351684, "creation_date": 1420341539, "question_id": 27762022, "link": "https://stackoverflow.com/questions/27762022/how-to-append-functions-to-class-functions", "title": "How to append functions to class functions", "body": "<p>I am writing a web API that has several functions, for example: login, logout, summary and so on.</p>\n\n<p>Everytime I call any of those functions I check I convert the posted data to JSON and I check if the passport is expired</p>\n\n<p>How can I pre append a function that does those two things every time I call a function of the api object</p>\n"}, {"tags": ["xcode", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1420340507, "post_id": 27761929, "comment_id": 43935070, "body": "What is on line 10 then?"}, {"owner": {"reputation": 2330, "user_id": 3185748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7cd3927c751a0ef5fc8105e4a3868971?s=128&d=identicon&r=PG&f=1", "display_name": "user3185748", "link": "https://stackoverflow.com/users/3185748/user3185748"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420340628, "post_id": 27761929, "comment_id": 43935091, "body": "Well if blank lines are counted then it is: <code>open(my $outfh, &#39;&gt;&#39;, $out) or die $!;</code> otherwise, the tenth line of code is <code>&lt;!DOCTYPE plist PUBLIC &quot;-&#47;&#47;Apple&#47;&#47;DTD PLIST 1.0&#47;&#47;EN&quot; &quot;http:&#47;&#47;www.apple.com&#47;DTDs&#47;PropertyList-1.0.dtd&quot;&gt;</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1420343010, "post_id": 27761929, "comment_id": 43935455, "body": "Yes, it will be the 10th line in the file, no matter what is before it. And that error with that line means that the path in <code>$out</code> contains a directory that does not exist. E.g. <code>$out = &quot;foo&#47;bar&#47;baz.txt&quot;</code>, but <code>foo&#47;bar</code> does not exist."}, {"owner": {"reputation": 2330, "user_id": 3185748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7cd3927c751a0ef5fc8105e4a3868971?s=128&d=identicon&r=PG&f=1", "display_name": "user3185748", "link": "https://stackoverflow.com/users/3185748/user3185748"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1420343743, "post_id": 27761929, "comment_id": 43935564, "body": "Now, in the script <code>$out</code> is declared as <code>my $out = &quot;..&#47;Settings.bundle&#47;en.lproj&#47;Acknowledgements.strings&quot;;</code>. I don&#39;t believe that Acknowledgements.strings is supposed to exist prior to running the script based on the instructions."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1420371957, "post_id": 27761929, "comment_id": 43940908, "body": "What TLP is trying to tell you is: When you open a file for writing perl will create the file if it doesn&#39;t exist, right?  Wrong.  open() will not create <i>directories</i>, so unless the directory <code>..&#47;Settings.bundle&#47;en.lproj&#47;</code> exists beforehand, then perl will not create your file.  The error message is telling you that, in fact, the directory does not exist."}], "owner": {"reputation": 2330, "user_id": 3185748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7cd3927c751a0ef5fc8105e4a3868971?s=128&d=identicon&r=PG&f=1", "display_name": "user3185748", "link": "https://stackoverflow.com/users/3185748/user3185748"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1420340429, "creation_date": 1420340429, "last_edit_date": 1495535244, "question_id": 27761929, "link": "https://stackoverflow.com/questions/27761929/implementing-script-at-build-phase-in-xcode", "title": "Implementing Script at Build Phase in Xcode", "body": "<p>I've been attempting to implement the Perl script found here: <a href=\"https://stackoverflow.com/questions/6428353/best-way-to-add-license-section-to-ios-settings-bundle/6453507#6453507\">best way to add license section to iOS settings bundle</a></p>\n\n<p>I've followed the instructions given to a T but when I go to run my project I get the following error after changing the permissions of the script to CHMOD 755:</p>\n\n<pre><code>No such file or directory at ./LicenseScript.pl line 10.\nCommand /bin/sh failed with exit code 2\n</code></pre>\n\n<p>Why won't my app compile?</p>\n"}, {"tags": ["perl", "testing"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1420319442, "post_id": 27759235, "comment_id": 43930094, "body": "Please describe what you mean by a &quot;constant&quot;. Certainly there is no point in testing whether <code>2 == 2</code>. I think you should post an example."}], "answers": [{"comments": [{"owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "edited": false, "score": 0, "creation_date": 1420317751, "post_id": 27759299, "comment_id": 43929582, "body": "Your second point is a good enough reason, I failed to think of that (am new to testing). Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1420319031, "post_id": 27759299, "comment_id": 43929967, "body": "I have edited your post. Please confirm that I have written it correctly"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1420319399, "post_id": 27759299, "comment_id": 43930080, "body": "What do you make of the two circumstances in the OP&#39;s post where tests could be useful?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1420319893, "post_id": 27759299, "comment_id": 43930229, "body": "@Borodin Both of the OP&#39;s examples are covered by having tests for the code which uses the constant.  For example, testing that the domain name of the upload server is &quot;blah.example.com&quot; isn&#39;t as useful as testing that uploads are successfully received and processed.  Or maybe it&#39;s a tax rate, it&#39;s better to test that the tax calculations come out correct.  In addition, things like that should really be configuration values and not hard coded constants, further illustrating that testing their value is counter-productive."}, {"owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "edited": false, "score": 0, "creation_date": 1420320009, "post_id": 27759299, "comment_id": 43930272, "body": "@Bordin - you deleted some parts (e.g. mail server) so i rollbacked"}, {"owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1420320115, "post_id": 27759299, "comment_id": 43930321, "body": "@Schwern - you are absolutely right that it should be configuration. but from the code&#39;s point of view it&#39;s a constant so i still vote for doing the &#39;upload test&#39; or &#39;tax calculation test&#39;"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1420320389, "post_id": 27759299, "comment_id": 43930418, "body": "I see more value in testing that a constant has been defined with a value, or even with a reasonable value, than testing whether it has a specific value.  If reasonable is an integer between 0 and 255, for example, test that it has been defined in that range.  In the user&#39;s specific case, one could test that it&#39;s been defined with a reasonable domain name or IP."}, {"owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1420320641, "post_id": 27759299, "comment_id": 43930500, "body": "@DavidO i would use this only if i weren&#39;t able to check if code that uses the constant woks correctly. sticking with tax calculation: if it works then why do i need &#39;range tests&#39;? it&#39;s just a duplicated and less specific test"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1420332857, "post_id": 27759299, "comment_id": 43933609, "body": "@piotrek: The post is yours, and it is up to you what it says. But I am surprised that you think the phrase <code>e.g. address of the mail server</code> is so important that it is worth returning to the original version with terrible English. Most people will ignore you if you write like that."}], "tags": [], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "is_accepted": true, "score": 2, "last_activity_date": 1420319794, "last_edit_date": 1420319794, "creation_date": 1420317617, "answer_id": 27759299, "question_id": 27759235, "link": "https://stackoverflow.com/questions/27759235/should-you-make-tests-for-constants/27759299#27759299", "title": "Should you make tests for constants?", "body": "<p>imho, there is no benefit in it. </p>\n\n<ul>\n<li>if dev see failed tests because of a constant then he will simply update the same value in tests. so it's not a benefit, it's a duplication</li>\n<li>you should have tests for the code that uses the constant. if not unit tests then integration tests (e.g. address of the mail server) those tests should fail if something is wrong with the constant</li>\n</ul>\n\n<p>the only tests for constant i can imagine is when your constant is some complex object then maybe you can tests if all required constraints between its properties are met. but if it's just, let's say, a number or string then, imho, it's just a waste of time because test maintenance costs and it gives you absolutely no additional security</p>\n"}], "owner": {"reputation": 1537, "user_id": 1248009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/911aa8c8d83d7f53d1650fa7c585dd92?s=128&d=identicon&r=PG", "display_name": "a7omiton", "link": "https://stackoverflow.com/users/1248009/a7omiton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 27759299, "answer_count": 1, "score": 1, "last_activity_date": 1420319794, "creation_date": 1420317105, "last_edit_date": 1420319250, "question_id": 27759235, "link": "https://stackoverflow.com/questions/27759235/should-you-make-tests-for-constants", "title": "Should you make tests for constants?", "body": "<p>I'd like to know if there is any value in providing a test to say that a constant equals x in my test suite.</p>\n\n<p>A couple of benefits I see to doing it:</p>\n\n<ul>\n<li><p>You know when this value has changed, because the developer changing it will get a <em>failed</em> test</p></li>\n<li><p>If the developer updating the constant updates the test with the new value, the test will confirm that it was properly updated</p></li>\n</ul>\n\n<p>Would that be beneficial or just a nuisance?</p>\n"}, {"tags": ["mysql", "perl", "user-interface", "tk"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "edited": false, "score": 0, "creation_date": 1420357124, "post_id": 27760425, "comment_id": 43937806, "body": "but it&#39;s still freezes while connecting to remote DB i just did what you told me i just changed, my $connect:shared"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1420325729, "creation_date": 1420325729, "answer_id": 27760425, "question_id": 27759117, "link": "https://stackoverflow.com/questions/27759117/using-threads-on-perl-tk-to-avoid-window-freeze-not-responding/27760425#27760425", "title": "using threads on perl/tk to avoid window freeze/not responding", "body": "<p>You're misunderstanding threading and sharing. <code>our</code> doesn't share across threads. You need to declare a variable as <code>shared</code> in order to do that.</p>\n\n<p>Otherwise from the moment you <code>create</code> the subthread, they have their own local copy of all the variables. This will almost certainly be your problem - your thread connects to the database then exits, completely independent of the main thread. </p>\n\n<p><a href=\"http://perldoc.perl.org/functions/our.html\" rel=\"nofollow\"><code>our</code></a> also doesn't do what you think it does - that's for sharing package variables (e.g. nothing at all to do with threading), which is irrelevant in your code. Stick with <code>my</code>. </p>\n\n<p>You <em>might</em> be able to do:</p>\n\n<pre><code>my $db_handle : shared;\n</code></pre>\n\n<p>And then in the thread: </p>\n\n<pre><code>$db_handle = DBI-&gt;connect($dsn, $user, $password);\n</code></pre>\n\n<p>But bear in mind you cannot be sure when that'll complete, so it's very important you check before you try and use it in another thread. </p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "edited": false, "score": 0, "creation_date": 1420371056, "post_id": 27764931, "comment_id": 43940695, "body": "hey! please give me an example of code so that i could build a little algorithm for that because i tried making $connect as a shared variable but it still freezes while waiting for connection to finish"}, {"owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "edited": false, "score": 0, "creation_date": 1420377235, "post_id": 27764931, "comment_id": 43942280, "body": "nice link perlmonks comments are very useful for perl/tk &amp; thread starters!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1420370052, "creation_date": 1420370052, "answer_id": 27764931, "question_id": 27759117, "link": "https://stackoverflow.com/questions/27759117/using-threads-on-perl-tk-to-avoid-window-freeze-not-responding/27764931#27764931", "title": "using threads on perl/tk to avoid window freeze/not responding", "body": "<p>See <a href=\"http://www.perlmonks.org//?node_id=732294\" rel=\"nofollow\">PerlMonks</a>: Tk isn't thread-safe.</p>\n\n<ol>\n<li>Create the thread before any Tk widgets are created.</li>\n<li>Don't touch any Tk objects from the thread, use shared variables for communication.</li>\n</ol>\n"}], "owner": {"reputation": 101, "user_id": 4259445, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QT8w9.jpg?s=128&g=1", "display_name": "Muskovitz", "link": "https://stackoverflow.com/users/4259445/muskovitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1420509278, "creation_date": 1420316278, "last_edit_date": 1420509278, "question_id": 27759117, "link": "https://stackoverflow.com/questions/27759117/using-threads-on-perl-tk-to-avoid-window-freeze-not-responding", "title": "using threads on perl/tk to avoid window freeze/not responding", "body": "<p>I am trying to use threading in my perl/tk application so that it won't freeze while connecting to a remote mysql server.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse DBI;\nuse DBD::mysql;\nuse Tk;\nuse threads;\nuse threads::shared;\n\nour $type=\"mysql\";\nour $database=\"b_db\";\nour $host=\"mysite.com\";\nour $port=\"3306\";\nour $tablename=\"tc\";\nour $user=\"example\";\nour $pwd=\"********\";\nour $dsn=\"dbi:$type:$database:$host:$port\";\n\nmy $thr=threads-&gt;create(\\&amp;con);\n\nour $mw=new MainWindow;\n$mw-&gt;Button(-text=&gt;\"Connect\",-command=&gt;\\&amp;con)-&gt;pack;\nMainLoop; \nsub con{\n    our $connect=DBI-&gt;connect($dsn,$user,$pwd)or die &amp;mysql_Err;\n    print \"done connecting\\n\" if $connect;\n    print \"error\\n\" unless $connect;\n}\n$thr-&gt;detach;\n</code></pre>\n\n<p>but it still freezes when it tries to connect. I have tried to use tk/fileevent:</p>\n\n<pre><code>#!/usr/bin/perl\nuse DBI;\nuse DBD::mysql;\nuse Tk;\n\nour $type=\"mysql\";\nour $database=\"b_db\";\nour $host=\"mysite.com\";\nour $port=\"3306\";\nour $tablename=\"tc\";\nour $user=\"example\";\nour $pwd=\"********\";\nour $dsn=\"dbi:$type:$database:$host:$port\";\n\nour $mw=new MainWindow;\n$mw-&gt;Button(-text=&gt;\"Connect\",-command=&gt;\\&amp;con)-&gt;pack;\n\nsub con{\n    our $connect=DBI-&gt;connect($dsn,$user,$pwd)or die &amp;mysql_Err;\n    $mw-&gt;fileevent($connect, \"readable\", \\&amp;contquery);\n}\n\nsub contquery{\n    $query=\"SELECT * FROM products ORDER BY id\";\n    $queryhandle=$connect-&gt;prepare($query);\n    $queryhandle-&gt;execute;\n    $queryhandle-&gt;bind_columns(undef, \\$product_id, \\$price, \\$product_name,  \\product_type);\n    while($queryhandle-&gt;fetch()){\n        print &lt;&lt;print;\nProduct Name: $product_name | Type: $product_type | Prict: $price\nprint\n    }\n}\nMainLoop;\n</code></pre>\n\n<p></p>\n\n<p>but it still freezes. Can anyone advise me on what might be the reason for this?</p>\n"}, {"tags": ["perl", "big-o"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1420304280, "post_id": 27757116, "comment_id": 43925060, "body": "<code>perl -lne &#39;$, = &quot; &quot;; print map scalar reverse, split&#39;</code>"}, {"owner": {"reputation": 3120, "user_id": 4402721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCNcL.jpg?s=128&g=1", "display_name": "drRobertz", "link": "https://stackoverflow.com/users/4402721/drrobertz"}, "edited": false, "score": 0, "creation_date": 1420304326, "post_id": 27757116, "comment_id": 43925079, "body": "What are the numbers m and n?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1420304719, "post_id": 27757116, "comment_id": 43925194, "body": "@choroba <code>perl -plwe&#39;s&#47;\\S+&#47;reverse $&amp;&#47;ge&#39;</code> I tried making a regex based one, but I lost interest too quick. :D"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1420355065, "post_id": 27757116, "comment_id": 43937358, "body": "You should reconsider your variable names.  An array contains many things, so you should consider a plural name, e.g. @words.  Next, <code>for</code> will accomplish the same thing as <code>foreach</code>, and because for is shorter to type, use for.  As a result, most loops will look like this: <code>for my $word (@words)</code>.  Note how the $ variable is the singular of the @ variable."}, {"owner": {"reputation": 842, "user_id": 3768218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YZkLE.jpg?s=128&g=1", "display_name": "Jeya Kumar", "link": "https://stackoverflow.com/users/3768218/jeya-kumar"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1420376629, "post_id": 27757116, "comment_id": 43942115, "body": "@7stud : Hi thanks for you suggestions will follow the same in future"}], "answers": [{"tags": [], "owner": {"reputation": 4485, "user_id": 1131829, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f0128353dfcce0a19c122defa0d1329f?s=128&d=identicon&r=PG", "display_name": "sodik", "link": "https://stackoverflow.com/users/1131829/sodik"}, "is_accepted": true, "score": 0, "last_activity_date": 1420304398, "creation_date": 1420304398, "answer_id": 27757241, "question_id": 27757116, "link": "https://stackoverflow.com/questions/27757116/regarding-big-o-notation-for-reversing-the-string-code/27757241#27757241", "title": "Regarding Big-O Notation for &quot;reversing the string&quot; code", "body": "<p>Depends on what <code>m</code> and <code>n</code> are :) Normally <code>n</code> denotes the length of the whole input. In such case your algorithm uses <code>O(n)</code> time (and <code>O(n)</code> space - memory as well - at least I assume so, I am not very familiar with perl and its implementation of <code>split</code>).</p>\n\n<p>\"Proof\" would follow the idea that your algorithm split input into <code>m &lt;= n</code> words of lengths <code>l_1 + .. l_m = n</code> (without loss of generality let's ignore spaces). Each of word you reverse in <code>l_1</code> time (outputing each letter). This gives you final <code>O(n)</code> time as sum (+ initial linear split).</p>\n"}, {"comments": [{"owner": {"reputation": 842, "user_id": 3768218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YZkLE.jpg?s=128&g=1", "display_name": "Jeya Kumar", "link": "https://stackoverflow.com/users/3768218/jeya-kumar"}, "edited": false, "score": 0, "creation_date": 1420307939, "post_id": 27757356, "comment_id": 43926272, "body": "@sodik:Thanks for your explanations.I assume &#39;m&#39; is a time taken to process each word in the sentence (hai how are you) and &#39;n&#39; is a time taken to process each word (hai =&gt; iah)."}, {"owner": {"reputation": 842, "user_id": 3768218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YZkLE.jpg?s=128&g=1", "display_name": "Jeya Kumar", "link": "https://stackoverflow.com/users/3768218/jeya-kumar"}, "edited": false, "score": 0, "creation_date": 1420308098, "post_id": 27757356, "comment_id": 43926334, "body": "Thanks for your explanations. I assumed 2n &gt; o(n)"}, {"owner": {"reputation": 2114, "user_id": 3698894, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/p6iFK.jpg?s=128&g=1", "display_name": "Journeycorner", "link": "https://stackoverflow.com/users/3698894/journeycorner"}, "reply_to_user": {"reputation": 842, "user_id": 3768218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YZkLE.jpg?s=128&g=1", "display_name": "Jeya Kumar", "link": "https://stackoverflow.com/users/3768218/jeya-kumar"}, "edited": false, "score": 1, "creation_date": 1420313375, "post_id": 27757356, "comment_id": 43928151, "body": "Using the big o notation 2n comes down to o(n) because every constant is pointless getting close to infinity. There is also an example of this in the reading I attached: T(n) = 4n&#178; - 2n + 2 = o(n&#178;) [not 4n&#178;]."}], "tags": [], "owner": {"reputation": 2114, "user_id": 3698894, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/p6iFK.jpg?s=128&g=1", "display_name": "Journeycorner", "link": "https://stackoverflow.com/users/3698894/journeycorner"}, "is_accepted": false, "score": 1, "last_activity_date": 1420305074, "creation_date": 1420305074, "answer_id": 27757356, "question_id": 27757116, "link": "https://stackoverflow.com/questions/27757116/regarding-big-o-notation-for-reversing-the-string-code/27757356#27757356", "title": "Regarding Big-O Notation for &quot;reversing the string&quot; code", "body": "<p>Using the big o notation you don't care about constants but the complexity assuming values near infinity, so m+n or 2n are within o(n). Let n be your number of words and m be the maximum number of characters which you can assume as constant since n is your real scalability issue. So it's n + c(constant) = o(n). Further reading: <a href=\"http://web.mit.edu/16.070/www/lecture/big_o.pdf\" rel=\"nofollow\">Big O notation</a>.</p>\n"}], "owner": {"reputation": 842, "user_id": 3768218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YZkLE.jpg?s=128&g=1", "display_name": "Jeya Kumar", "link": "https://stackoverflow.com/users/3768218/jeya-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 27757241, "answer_count": 2, "score": 0, "last_activity_date": 1420305074, "creation_date": 1420303681, "last_edit_date": 1420304336, "question_id": 27757116, "link": "https://stackoverflow.com/questions/27757116/regarding-big-o-notation-for-reversing-the-string-code", "title": "Regarding Big-O Notation for &quot;reversing the string&quot; code", "body": "<p>I wrote a code to reverse a string but I want to calculate the big o notation for my code.\nI guess it is O(m+n). please correct me if this is wrong.   </p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Please enter you string \\n\";\nchomp (my $string = &lt;STDIN&gt;);\nprint \"Entered string is $string \\n\";\nmy @word = split(\" \",$string);\n\nmy $eachword;\nforeach $eachword(@word){\n    my @each = split(//,$eachword);\n    my $wordlength = scalar(@each);\n    for (my $j=$wordlength-1; $j&gt;=0; $j--) {\n        print $each[$j];\n\n    }\n    print \" \";\n}\n</code></pre>\n\n<p>input: </p>\n\n<pre><code>hai how are you\n</code></pre>\n\n<p>o/p :    </p>\n\n<pre><code>iah woh era uoy\n</code></pre>\n"}, {"tags": ["perl", "split", "integer"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1420284462, "post_id": 27754137, "comment_id": 43919422, "body": "Your random numbers can be generated with <code>@ary = map{3 + int rand 29} 1..17</code> I&#39;m not sure how you want to split. Do you want to split the binary representation? There seems to be an operator in your pseudocode missing."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1420287759, "post_id": 27754137, "comment_id": 43920251, "body": "A better definition of &quot;split&quot; is required."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1420294572, "post_id": 27754137, "comment_id": 43922171, "body": "Your program will create numbers between 4 (because they are integers and you have <code>$r &gt; 3</code>) and 31 (because <code>rand</code> generates floating-point numbers that <i>include</i> zero and <i>exclude</i> the upper bound, which is 32). It will also produce duplicate values (for instance, it could be just <code>(4) x 17</code>) is that what you intend?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1420312809, "post_id": 27754137, "comment_id": 43927973, "body": "How your number of interest (238) relate to your 17 numbers between 3 and 32?"}, {"owner": {"reputation": 13, "user_id": 3327156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed859aa9ac1428ee0ba1eedd681c4db?s=128&d=identicon&r=PG&f=1", "display_name": "enigma", "link": "https://stackoverflow.com/users/3327156/enigma"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1420436357, "post_id": 27754137, "comment_id": 43958671, "body": "@Patrick - Thanks ! That does the trick for generating random numbers ! Ve edited my post regarding the split !"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1420436788, "post_id": 27754137, "comment_id": 43958801, "body": "I have edited your problem description to hopefully explain the question better.  I notice that you have changed the numbers in your example, so that many of the comments here no longer make a lot of sense.  Please consider reverting your edits unless you can explain here how they improve our understanding of the problem."}, {"owner": {"reputation": 13, "user_id": 3327156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed859aa9ac1428ee0ba1eedd681c4db?s=128&d=identicon&r=PG&f=1", "display_name": "enigma", "link": "https://stackoverflow.com/users/3327156/enigma"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1420439293, "post_id": 27754137, "comment_id": 43959599, "body": "@triplee : I just didnt want those numbers to be a cause for confusion. Since i included the code given in the comments into the question I thought it wouldnt be an issue"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1420439484, "post_id": 27754137, "comment_id": 43959664, "body": "Why is the array also called M?  The whole question would be a lot easier to grasp if you did not introduce the array of multiple numbers at all; where the number comes from does not seem relevant, and solving it for an array of numbers is just a loop over the solution for a single number."}, {"owner": {"reputation": 13, "user_id": 3327156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed859aa9ac1428ee0ba1eedd681c4db?s=128&d=identicon&r=PG&f=1", "display_name": "enigma", "link": "https://stackoverflow.com/users/3327156/enigma"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1420440263, "post_id": 27754137, "comment_id": 43959920, "body": "@triplee : Okay .. Then the question is just how to split X into M parts such that sum of M parts = X .. Right ??  X = 250   M = 15     So : 250 = 10+7+7+8+10+8+8+8+25+30+10+10+80+15+14 (15 terms)"}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1420436961, "post_id": 27756304, "comment_id": 43958841, "body": "Or you could loop over the number and subtract a random term on each iteration; just make sure you never subtract too much, so that the remainder is always equal to or larger than the remaining number of iterations in the loop.  Using one less iteration than the desired number of terms, collect the numbers you have subtracted; at the end of the loop, they are your terms; the final term will be the remaining number."}], "tags": [], "owner": {"reputation": 91, "user_id": 4317237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ed4612090aceefcd284b80da8ca845?s=128&d=identicon&r=PG&f=1", "display_name": "clumb", "link": "https://stackoverflow.com/users/4317237/clumb"}, "is_accepted": false, "score": 1, "last_activity_date": 1420298538, "last_edit_date": 1420298538, "creation_date": 1420298175, "answer_id": 27756304, "question_id": 27754137, "link": "https://stackoverflow.com/questions/27754137/splitting-an-integer-x-into-m-positive-terms-in-perl/27756304#27756304", "title": "Splitting an integer X into M positive terms in Perl", "body": "<p>Sorry if this is wrong, but you're saying you want to split a number X (e.g. 238) into M parts. I'm assuming you mean M integers that sum to X. </p>\n\n<p>If X &lt; M we can't do this.</p>\n\n<p>If X = M we have @parts = (1)x$M i.e. @parts = (1 1 .. 1 1) with length M.</p>\n\n<p>Otherwise you have a choice in how you split X into M parts, one way would be to do divide X by M (int( $X / $M ) ) then set @parts = (int($X/$M))x$M then add the remainder to one element so: $parts[0] = $parts[0] + ( $X - int($X/$M)*$M).</p>\n\n<p>e.g. 238 into 10 parts would be @parts = (31 23 23 23 23 23 23 23 23 23)</p>\n\n<p>Or am I being really silly?</p>\n"}], "owner": {"reputation": 13, "user_id": 3327156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed859aa9ac1428ee0ba1eedd681c4db?s=128&d=identicon&r=PG&f=1", "display_name": "enigma", "link": "https://stackoverflow.com/users/3327156/enigma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 1, "closed_date": 1422475496, "answer_count": 1, "score": -1, "last_activity_date": 1420440376, "creation_date": 1420283172, "last_edit_date": 1420440376, "question_id": 27754137, "link": "https://stackoverflow.com/questions/27754137/splitting-an-integer-x-into-m-positive-terms-in-perl", "closed_reason": "Needs details or clarity", "title": "Splitting an integer X into M positive terms in Perl", "body": "<p>I have generated a random array with 20 numbers between 5 and 50. I need to now select a random element from this array -- call this number M -- and split my number of interest X (eg: 250) into M positive terms such that adding them produces X. How do I go about with it? </p>\n\n<p>For example, if the random number generated is 15, I want to split 250 like this:</p>\n\n<pre><code>250 = 10+7+7+8+10+8+8+8+25+30+10+10+80+15+14 (15 terms)\n</code></pre>\n\n<p>Max integer in the split = 100</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @ran = map{5 + int rand 45} 1..20;\nprint \"@ran\\n\";\nmy $num=250;\nmy $randomelement = $ran[rand @ran];\n# Need to split 250 into $randomelement terms such that sum($randomelement terms) = 250\n</code></pre>\n"}, {"tags": ["perl", "iconv"], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 1, "last_activity_date": 1420412805, "last_edit_date": 1420412805, "creation_date": 1420370263, "answer_id": 27764961, "question_id": 27753387, "link": "https://stackoverflow.com/questions/27753387/perl-texticonv-unsupported-conversion/27764961#27764961", "title": "perl text::iconv unsupported conversion", "body": "<blockquote>\n  <p>How to avoid program crash ?</p>\n</blockquote>\n\n<p>perl uses <code>eval</code> for trapping errors:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.016;\nuse Text::Iconv;\n\nmy $source_encoding = 'blabla';\nmy $result_encoding = 'utf-8';\n\nmy $converter = eval {\n    Text::Iconv-&gt;new(\n        $source_encoding, \n        $result_encoding\n    );\n};  #Error message gets inserted into $@\n\nif (not $converter and $@ =~ /invalid argument/i) {\n    say \"Either the '$source_encoding' encoding or the \",\n    \"'$result_encoding' encoding\\nis not available on this system.\";\n}\n\nif ($converter) {   #Can new() fail in other ways?\n    my $result = $converter-&gt;convert('\u20ac');\n\n    if (not $result) {\n        say \"Some characters in '$source_encoding'\\n\",\n            \"are invalid in '$result_encoding'.\";\n    }\n    else {\n        say $result;\n    }\n}\n</code></pre>\n\n<p>In the [block] form, the code within the BLOCK is parsed only once--at the same time the code surrounding the eval itself was parsed--and executed within the context of the current Perl program. This form is typically used to trap exceptions more efficiently than the first (see below), while also providing the benefit of checking the code within BLOCK at compile time.</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/eval.html</a></p>\n\n<blockquote>\n  <p>OR how to check supported code set before conversion? (I know read it\n  in OS by \"iconv --list\", but must exist better solution (hope))</p>\n</blockquote>\n\n<p>What's so bad about <code>iconv --list</code>?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.016;\nuse Text::Iconv;\n\nmy $source_encoding = 'blabla';\nmy $result_encoding = 'utf-8';\n\nmy $available_encodings = `iconv --list`;  #Backticks return a string.\nmy @encodings_arr = split /\\s+/, $available_encodings;\nmy %encodings_set = map {lc $_ =&gt; undef} @encodings_arr;\n\nmy $source_encoding_available = exists $encodings_set{$source_encoding};\nmy $result_encoding_available = exists $encodings_set{$result_encoding};\n\nif($source_encoding_available\n   and $result_encoding_available) {\n\n    say \"Ready to convert\";\n}\nelse {\n    if (not $source_encoding_available) {\n        say \"'$source_encoding' encoding not available.\";\n    }\n    if (not $result_encoding_available) {\n        say \"'$result_encoding' encoding not available.\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 80, "user_id": 2481392, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qMTwl.png?s=128&g=1", "display_name": "perLHawk", "link": "https://stackoverflow.com/users/2481392/perlhawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 27764961, "answer_count": 1, "score": 1, "last_activity_date": 1420412805, "creation_date": 1420277216, "question_id": 27753387, "link": "https://stackoverflow.com/questions/27753387/perl-texticonv-unsupported-conversion", "title": "perl text::iconv unsupported conversion", "body": "<p>In perl I read html pages and I make conversion to utf8 by text::iconv. But when some page has defined wrong code set for example: charset=\"blabla\", then perl program died an printout \"unsupported conversion\".\nI tried to set Text::Iconv->raise_error to 0 or 1 but without success, the program always died.</p>\n\n<p>How to avoid program crash ?\nOR how to check supported code set before conversion? \n(I know read it in OS by \"iconv --list\",  but must exist better solution (hope))</p>\n"}, {"tags": ["perl", "character-encoding", "telnet"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 4321525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IeyGj.png?s=128&g=1", "display_name": "Andreas Schuldei", "link": "https://stackoverflow.com/users/4321525/andreas-schuldei"}, "edited": false, "score": 0, "creation_date": 1420283653, "post_id": 27753082, "comment_id": 43919224, "body": "Thank you, that works. And it is a much better solution then disabling the _escape_cr function (which you paste above), like i did. I had missed the telnetmode switch."}], "tags": [], "owner": {"reputation": 30418, "user_id": 823617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmWH1.png?s=128&g=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/823617/casper"}, "is_accepted": true, "score": 1, "last_activity_date": 1420273982, "creation_date": 1420273982, "answer_id": 27753082, "question_id": 27750443, "link": "https://stackoverflow.com/questions/27750443/how-do-i-send-just-a-cr-not-a-cr-nul-in-perl-with-nettelnet/27753082#27753082", "title": "How do i send just a CR, not a CR NUL in Perl with Net::Telnet?", "body": "<p>Set <code>Telnetmode</code> to <code>0</code>. If <code>Telnetmode</code> is on then CR is translated to CR + 0x00.   </p>\n\n<p>From the Net::Telnet source:</p>\n\n<pre><code>## Convert all CR (not followed by LF) to CR NULL.\nwhile (($pos = index($$string, \"\\015\", $pos)) &gt; -1) {\n$nextchar = substr $$string, $pos + 1, 1;\n\nsubstr($$string, $pos, 1) = \"\\015\\000\"\n    unless $nextchar eq \"\\012\";\n</code></pre>\n\n<p>You can turn the mode on and off using <code>$telnet-&gt;telnetmode(...)</code>:</p>\n\n<blockquote>\n  <p><strong>telnetmode</strong> - turn off/on telnet command interpretation<br>\n         <code>$mode = $obj-&gt;telnetmode;</code><br>\n         <code>$prev = $obj-&gt;telnetmode($mode);</code></p>\n  \n  <p>This method controls whether or not TELNET commands in the data stream are recognized and handled. The TELNET protocol uses certain character sequences sent in the data stream to control the session. If the port you're connecting to isn't using the TELNET protocol, then you should turn this mode off. The default is on.</p>\n  \n  <p>If no argument is given, the current mode is returned.</p>\n  \n  <p>If $mode is 0 then telnet mode is off. If $mode is 1 then telnet mode is on.</p>\n</blockquote>\n"}], "owner": {"reputation": 127, "user_id": 4321525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IeyGj.png?s=128&g=1", "display_name": "Andreas Schuldei", "link": "https://stackoverflow.com/users/4321525/andreas-schuldei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 1, "accepted_answer_id": 27753082, "answer_count": 1, "score": 1, "last_activity_date": 1420273982, "creation_date": 1420244741, "question_id": 27750443, "link": "https://stackoverflow.com/questions/27750443/how-do-i-send-just-a-cr-not-a-cr-nul-in-perl-with-nettelnet", "title": "How do i send just a CR, not a CR NUL in Perl with Net::Telnet?", "body": "<p>I need to communicate with an appliance via the telnet protocol. It turns out that it can not handle CR-NUL or CR-LF sequences as output record separators, only straight CR. Otherwise it will interpret the character following the CR as belonging to the next command, which then results in errors. So i set Output_record_separator to CR, but then see in the communication dump (in the Dump_Log), that not just a CR (0x0d) was sent, but a CR NUL (0x0d 0x00). I can send single chars, though: if i send just a LF, only a LF (ox0a) is send. </p>\n\n<p>This code shows the problem:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Net::Telnet;\n\nmy $host = \"192.168.2.223\";\nmy $port = 5000;\n\n\nmy $telnet = new Net::Telnet ( \n    Timeout                 =&gt; 20, \n    Errmode                 =&gt; 'die',\n    Port                    =&gt; $port,\n    Dump_Log                =&gt; '/tmp/debug',\n    Output_record_separator =&gt; \"\\015\",\n    Input_record_separator  =&gt; \"\\n\\r\",\n    Prompt                  =&gt; '/1_.*0/',\n    Binmode                 =&gt; 1,\n);\n\n$telnet-&gt;open($host);\n$telnet-&gt;put(\"\\015\");\n$telnet-&gt;put(\"\\012\");\n</code></pre>\n\n<p>which results in this:</p>\n\n<pre><code>tail: /tmp/debug: file truncated\n&gt; 0x00000: 0d 00                                               ..\n\n&gt; 0x00000: 0a                                                  .\n</code></pre>\n\n<p>How can i make Net::Telnet send just CR, without adding more stuff?</p>\n"}, {"tags": ["arrays", "regex", "perl", "merge"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 3423572, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c398adddc87117f58ec14059922f8e9b?s=128&d=identicon&r=PG&f=1", "display_name": "user3423572", "link": "https://stackoverflow.com/users/3423572/user3423572"}, "edited": false, "score": 0, "creation_date": 1420295636, "post_id": 27750825, "comment_id": 43922483, "body": "Thanks for the reply, Will this work if similar lines are a few lines apart? as my test data does not really have any similar lines next to each other more like 10-15 lines apart. Can regex be used for this?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 409, "user_id": 3423572, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c398adddc87117f58ec14059922f8e9b?s=128&d=identicon&r=PG&f=1", "display_name": "user3423572", "link": "https://stackoverflow.com/users/3423572/user3423572"}, "edited": false, "score": 1, "creation_date": 1420295874, "post_id": 27750825, "comment_id": 43922554, "body": "@user3423572: No, it won&#39;t work. You can still use a regex, but you have to hash the common parts of the lines."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1420248482, "creation_date": 1420248482, "answer_id": 27750825, "question_id": 27750320, "link": "https://stackoverflow.com/questions/27750320/merge-similar-lines-using-regex-in-perl/27750825#27750825", "title": "Merge similar lines using regex in perl", "body": "<p>You can use <a href=\"http://p3rl.org/Time::Piece\" rel=\"nofollow\">Time::Piece</a> to parse the dates. Note that without year, you can't really sort the timestamps.</p>\n\n<p>Just read the sorted file line by line. If the information is the same as on the previous line, accumulate the timestamp, otherwise output the previous accumulated information and start accumulating the new one.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Time::Piece;\n\n\nsub output {\n    my ($pre, $post, @timestamps) = @_;\n    if (@timestamps &gt; 1) {\n        @timestamps = map $_-&gt;[0],                 # Use Schwartzian Transform to sort by timestamp.\n                      sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n                      map [ $_, 'Time::Piece'-&gt;strptime($_, '%b %d %H:%M:%S') ],\n                      @timestamps;\n        print \"$pre (\", scalar @timestamps, \") \",\n              $timestamps[0], '-', $timestamps[-1],\n              $post, \"\\n\";\n    } else {\n        print \"$pre$timestamps[0]$post\\n\";\n    }\n}\n\n\nmy @last;\nmy @timestamps;\nwhile (&lt;&gt;) {\n    my ($pre, $timestamp, $post)\n        = /(.*?) ([ADFJMNOS][aceopu][bcglnprtvy]\\s+[0-9]+\\s[0-9:]+) (.*)/x;\n\n    if (@last and $pre eq $last[0] and $post eq $last[1]) {\n        push @timestamps, $timestamp;\n\n    } else {\n        output(@last, @timestamps) if @timestamps;\n        @last = ($pre, $post);\n        @timestamps = ($timestamp);\n    }\n}\noutput(@last, @timestamps); # Don't forget to output the last batch.\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 3423572, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c398adddc87117f58ec14059922f8e9b?s=128&d=identicon&r=PG&f=1", "display_name": "user3423572", "link": "https://stackoverflow.com/users/3423572/user3423572"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1420841132, "creation_date": 1420243728, "last_edit_date": 1420841132, "question_id": 27750320, "link": "https://stackoverflow.com/questions/27750320/merge-similar-lines-using-regex-in-perl", "title": "Merge similar lines using regex in perl", "body": "<p>Hi I am in the process of sorting a file and i want to make it easier to read by merging similar lines together. The data is already sorted alpabetically based on the first word on each line. My program so far only reads in the lines to an array and prints it.</p>\n\n<p><strong>Text file contains:</strong></p>\n\n<pre><code>Network ubuntu Jan  1 13:42:13 : &lt;info&gt;  DHCP: device eth5 state changed bound -&gt; renew Network\nNetwork ubuntu Jan  2 13:42:42 : &lt;info&gt;    prefix 24 (255.255.255.0) Network\nNetwork ubuntu Jan  2 12:11:42 : &lt;info&gt;  DHCP: device eth5 state changed bound -&gt; renew Network\ntesting ubuntu Jan  1 01:13:42 : DHCPACK of 192.168.233.129 from 192.168.233.254 testing\ntesting ubuntu Jan  2 13:54:42 : DHCPACK of 192.168.233.129 from 192.168.233.254 testing\ntesting ubuntu Jan  3 13:02:42 : DHCPACK of 192.168.233.129 from 192.168.233.254 testing\n</code></pre>\n\n<p><strong>My program:</strong></p>\n\n<pre><code>#!/usr/bin/perl \n\n$FILE = '/computer/testfile.txt';\nopen(INFO, $FILE);\n\nwhile($line = &lt;INFO&gt;){\n    push(@array, $line);\n}\n\nprint @array;\n</code></pre>\n\n<p>I want to use regex to merge any lines that are identicle, excluding the date/time stamp. The outcome is to contain the number of lines merged in brackets, followed by the earliest and latest date/time stamps. If there are no similar lines it ignores the line leaving it unchanged.</p>\n\n<p><strong>Expected end result</strong></p>\n\n<pre><code>Network ubuntu Jan  2 13:42:42 : &lt;info&gt;    prefix 24 (255.255.255.0) Network\nNetwork ubuntu (2) Jan  1 13:42:13-Jan  2 12:11:42: &lt;info&gt;  DHCP: device eth5 state changed bound -&gt; renew Network\ntesting ubuntu (3) Jan  1 01:13:42-Jan  3 13:02:42 : DHCPACK of 192.168.233.129 from 192.168.233.254 testing \n</code></pre>\n\n<p>Any help or guidance would be greatly appreciated. Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1420244534, "post_id": 27750141, "comment_id": 43911909, "body": "<code>use Carp::Always</code> ?"}, {"owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1420244843, "post_id": 27750141, "comment_id": 43911987, "body": "@mob, Test::Builder doesn&#39;t output its diagnostics via <code>warn</code>/<code>die</code>. It just does a <code>print</code> to STDERR, so Carp::Always cannot hook it."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1420252558, "post_id": 27750141, "comment_id": 43913459, "body": "@Miller Instead of a stack trace, consider providing more diagnostic information using <code>is</code>, <code>like</code> or <code>is_deeply</code> rather than just <code>ok</code>.  Even more diagnostic information can be given using <code>explain</code>.  The idiom <code>ok $something || explain $complex_data</code> is useful.  If you post what the actual helper function looks like, we might be able to improve it."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1420265390, "post_id": 27750141, "comment_id": 43915509, "body": "@Schwern I&#39;m working with a very large test suite (hundreds of tests) and this particular utility module is over a thousand lines of code.  Some tests have started to fail because we&#39;ve deprecated some code, and so I&#39;m trying to quickly assess what has broken without having to refactor the whole test setup, which admitted can use some work.  That&#39;s why I was looking for a way to get Test::More to just give more information instead of having to manually edit each test to do <code>ok $something or diag Carp::longmess $stuff</code>"}], "answers": [{"comments": [{"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "edited": false, "score": 0, "creation_date": 1420244864, "post_id": 27750436, "comment_id": 43911994, "body": "Yes, a stack trace would really be helpful since there are multiple tests in these utility methods.  This isn&#39;t my code, or I would&#39;ve designed this a little better."}], "tags": [], "owner": {"reputation": 11684, "user_id": 1990570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1hso.png?s=128&g=1", "display_name": "tobyink", "link": "https://stackoverflow.com/users/1990570/tobyink"}, "is_accepted": false, "score": 4, "last_activity_date": 1420244693, "creation_date": 1420244693, "answer_id": 27750436, "question_id": 27750141, "link": "https://stackoverflow.com/questions/27750141/testmost-report-failed-test-with-stacktrace/27750436#27750436", "title": "Test::Most - report failed test with stacktrace", "body": "<p>I don't believe that the Test::More infrastructure provides such a beastie, but do you really need a stack trace? Reporting line 13 alone should be sufficient, provided you give your tests descriptive names.</p>\n\n<p>To report line 13 instead of line 17, just add the following to your sub:</p>\n\n<pre><code>local $Test::Builder::Level = $Test::Builder::Level + 1;\n</code></pre>\n\n<p>Longer example:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse autodie;\n\nuse Test::Most tests =&gt; 3;\n\nok(1, 'first test');\n\nnote \"The following includes a failed test, but a stack trace would be more helpful\";\n\nhelper_sub_with_test();       # Line 13\n\nok(1, 'third test');\n\nsub helper_sub_with_test {\n    local $Test::Builder::Level = $Test::Builder::Level + 1;\n    ok(0, sprintf \"second test (look at line %d)\", __LINE__);     # Line 18\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1420304274, "creation_date": 1420304274, "answer_id": 27757219, "question_id": 27750141, "link": "https://stackoverflow.com/questions/27750141/testmost-report-failed-test-with-stacktrace/27757219#27757219", "title": "Test::Most - report failed test with stacktrace", "body": "<p>The quick and dirty way to get what you want is to put a wrapper around Test::Builder::ok.  This is how Test::Most operates.</p>\n\n<p>Using <a href=\"https://metacpan.org/pod/Aspect\" rel=\"nofollow\">Aspect</a> makes this less of a hack.</p>\n\n<pre><code>use Carp qw(longmess);\nuse Test::Most;\nuse Aspect;\n\nafter {\n    # For some reason, the return value is not being captured by Aspect\n    my $last_test = ($_-&gt;self-&gt;summary)[-1];\n    print longmess if !$last_test;\n} call \"Test::Builder::ok\";\n\nsub foo { ok(0) }\n\nfoo();\npass;\n\ndone_testing;\n</code></pre>\n"}], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1420304274, "creation_date": 1420242337, "last_edit_date": 1420265045, "question_id": 27750141, "link": "https://stackoverflow.com/questions/27750141/testmost-report-failed-test-with-stacktrace", "title": "Test::Most - report failed test with stacktrace", "body": "<p>I'm fixing a large test script (> 1000 lines) that uses some utility methods (also > 1000 lines) to perform repeated tests on various initial data setups.  This helps consolidate code.  However, when a test fails it reports the line number of inside the utility method making it hard to trace which test failed.</p>\n\n<p>Is it possible to configure <a href=\"https://metacpan.org/pod/Test::Most\" rel=\"nofollow\"><code>Test::Most</code></a> to give a stacktrace instead of just a single line number when a test fails?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse autodie;\n\nuse Test::Most tests =&gt; 3;\n\nok(1, 'first test');\n\nnote \"The following includes a failed test, but a stack trace would be more helpful\";\n\nhelper_sub_with_test();       # Line 13\n\nok(1, 'third test');\n\nsub helper_sub_with_test {\n    ok(0, \"second test\");     # Line 17\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>$ perl scratch.pl \n1..3\nok 1 - first test\n# The following includes a failed test, but a stack trace would be more helpful\nnot ok 2 - second test\n#   Failed test 'second test'\n#   at scratch.pl line 17.\nok 3 - third test\n# Looks like you failed 1 test of 3.\n</code></pre>\n\n<p>As you can see, it would be helpful if the failed test reported both line 17 and line 13 for when there are multiple calls to the utility method.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 26589, "user_id": 1032785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/30816b3d787c2bd9d6f036318304f225?s=128&d=identicon&r=PG", "display_name": "jordanm", "link": "https://stackoverflow.com/users/1032785/jordanm"}, "edited": false, "score": 2, "creation_date": 1420241679, "post_id": 27750001, "comment_id": 43911161, "body": "You need to provide enough code (shortest possible) that reproduces your problem. Those two lines alone are not enough to reproduce."}, {"owner": {"reputation": 2192, "user_id": 1408055, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/158680ce72c5e7d57972eb151b457fa0?s=128&d=identicon&r=PG", "display_name": "Dimitris Sfounis", "link": "https://stackoverflow.com/users/1408055/dimitris-sfounis"}, "edited": false, "score": 0, "creation_date": 1420241948, "post_id": 27750001, "comment_id": 43911239, "body": "Check if you&#39;re properly initializing $interval. It defaults t 0 and you can&#39;t divide by it."}, {"owner": {"reputation": 3, "user_id": 4413878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d471528a29c8599aebb6d933983fef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4413878/prasad"}, "edited": false, "score": 0, "creation_date": 1420243756, "post_id": 27750001, "comment_id": 43911725, "body": "Thanks for quick response... to be frank I was trying put all the code but didn&#39;t allowed me"}, {"owner": {"reputation": 3, "user_id": 4413878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d471528a29c8599aebb6d933983fef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4413878/prasad"}, "edited": false, "score": 0, "creation_date": 1420245146, "post_id": 27750001, "comment_id": 43912054, "body": "I have tried to add the full code, please have a look and help me out where I m going worng."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4413878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d471528a29c8599aebb6d933983fef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4413878/prasad"}, "edited": false, "score": 0, "creation_date": 1420245105, "post_id": 27750332, "comment_id": 43912043, "body": "I have tried to add full code... If possible please help in resolving this."}, {"owner": {"reputation": 3, "user_id": 4413878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d471528a29c8599aebb6d933983fef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4413878/prasad"}, "edited": false, "score": 0, "creation_date": 1420245822, "post_id": 27750332, "comment_id": 43912215, "body": "Nothing I supplying on command line.  I have added a cron job to run this script... I m was searching for puppet agent run on random basis and got this  script.. I never worked on perl :(  This is where I got the script <a href=\"http://www.krzywanski.net/archives/968\" rel=\"nofollow noreferrer\">krzywanski.net/archives/968</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 3, "user_id": 4413878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d471528a29c8599aebb6d933983fef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4413878/prasad"}, "edited": false, "score": 0, "creation_date": 1420246251, "post_id": 27750332, "comment_id": 43912310, "body": "Running random code from &#39;tineternet is bad news. But you should probably consider running it with an interval E.g. <code>scriptname.pl 60</code>."}, {"owner": {"reputation": 3, "user_id": 4413878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d471528a29c8599aebb6d933983fef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4413878/prasad"}, "edited": false, "score": 0, "creation_date": 1420250356, "post_id": 27750332, "comment_id": 43913058, "body": "Thanks for your help so far. I don&#39;t have any knowledge about scripting, so I have reply on Internet for time being.  I will just try the corrections mentioned by you and will update...   Thanks all...   Regards, Prasad."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1420246332, "last_edit_date": 1495542193, "creation_date": 1420243810, "answer_id": 27750332, "question_id": 27750001, "link": "https://stackoverflow.com/questions/27750001/how-to-solve-useless-use-of-private-variable-in-void-context-use-of-uninitializ/27750332#27750332", "title": "how to solve Useless use of private variable in void context, Use of uninitialized value $interval in division (/) and Illegal division by zero at", "body": "<p>First rule of solving perl problems:</p>\n\n<p>Set <code>use strict;</code> <code>use warnings;</code>. </p>\n\n<p>Second: Read the error messages. </p>\n\n<p>Your problem is on line 10: Divide by zero.  The only possibility is <code>$interval</code> is zero. Or undefined. Or uninitialized. If you turn on strict/warnings, then it <em>may</em> give you a warning about the latter. </p>\n\n<p>On line 51: Useless use of a private variable in a void context - means basically that statement isn't doing anything. Probably means <code>FILE</code> hasn't been opened properly. </p>\n\n<p>But more fundamentally - we cannot help with more detail from your code. An MCVE - minimal complete verifiable example - <a href=\"https://stackoverflow.com/help/mcve\">https://stackoverflow.com/help/mcve</a> </p>\n\n<p>Edit:\nWith your code posted: <code>$interval</code> is being set to <code>$ARGV[0]</code>. What argument are you supplying on the command line? If no value is supplied, then you'll get your divide by zero error, because <code>$interval</code> is undefined. </p>\n\n<p>From your comment - you're calling it without an argument. Therefore <code>$interval</code> will always be undefined, and that'll give you the error messages you want. Either: </p>\n\n<ul>\n<li><p>call the script with an argument</p></li>\n<li><p>set a default for <code>$interval</code> e.g. <code>my $interval = $ARGV[0] || 60;</code></p></li>\n</ul>\n\n<p>For your second problem - useless use of a private variable in a void context:</p>\n\n<pre><code>for ( $node_n = 0; $node_n &lt; $nodes_per_group; $node_n ) {\n</code></pre>\n\n<p>You're not incrementing <code>$node_n</code> it's being used in a void context. Hence the warning. </p>\n\n<pre><code>for ( $node_n = 0; $node_n &lt; $nodes_per_group; $node_n++ ) {\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4413878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d471528a29c8599aebb6d933983fef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/4413878/prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2100, "favorite_count": 0, "closed_date": 1420259506, "accepted_answer_id": 27750332, "answer_count": 1, "score": -1, "last_activity_date": 1420246332, "creation_date": 1420241440, "last_edit_date": 1420245526, "question_id": 27750001, "link": "https://stackoverflow.com/questions/27750001/how-to-solve-useless-use-of-private-variable-in-void-context-use-of-uninitializ", "closed_reason": "Not suitable for this site", "title": "how to solve Useless use of private variable in void context, Use of uninitialized value $interval in division (/) and Illegal division by zero at", "body": "<p>I don't have any experience in working with Perl, and so I m not able to solve this issues. Can you please help me out on solving this : </p>\n\n<pre><code>Error 1 : Useless use of private variable in void context at ./createnodelist.pl line 51.\nError 2 : Use of uninitialized value $interval in division (/) at ./createnodelist.pl line 10.\nError 3 : Illegal division by zero at ./createnodelist.pl line 10.\n</code></pre>\n\n<p>Basically the below script  should load the list of certificates and produces a list of nodes which minutes assigned to a node : </p>\n\n<pre><code>line 51    print FILE \"\\n\";\n\nline 10   my $jph = ceil(60/$interval);\n</code></pre>\n\n<p>Source code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse POSIX;\n\nmy $interval = $ARGV[0];\nmy $path     = '/etc/puppet/modules/puppet/scripts/puppet_cron';\n\n# Calculate how many jobs per hour we have\nmy $jph = ceil( 60 / $interval );\n\n# Load list of all nodes\nmy @nodes = `/usr/sbin / puppetca -la | /usr/ bin / cut -d ' ' -f 2`;    #\nchomp(@nodes);\n\n# Count number of nodes\nmy $node_count = scalar(@nodes);\n\n# Count number of nodes per group\nmy $nodes_per_group = $node_count / $interval;\n\n# Process nodes list and assigne minutes for each node\nopen( FILE, \"&gt;$path/nodes.list\" );\nfor ( my $i = 0; $i &lt; $interval; $i++ ) {\n    my $minute;\n    my $group = $i + 1;\n    my $node_n;\n\n    # Process nodes in group\n    for ( $node_n = 0; $node_n &lt; $nodes_per_group; $node_n ) {\n\n        # Assign minutes to a node\n        my $node = shift(@nodes);\n        if ($node) {\n            print FILE \"$node;\";\n            for ( my $n = 0; $n &lt; $jph; $n++ ) {\n                $minute = $i + ( $interval * $n );\n                if ( $minute\n                    &lt; 60 )    # Only print minutes that actually exist\n                {\n                    print FILE \"$minute\";\n                }\n                if ( $n != $jph - 1 ) {\n                    print FILE ',';\n                }\n            }\n        }\n        $node_n++;\n        print FILE \"\\n\";\n    }\n}\nclose(FILE);\nexit 0;\n</code></pre>\n"}, {"tags": ["perl", "dereference", "dollar-sign"], "answers": [{"tags": [], "owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "is_accepted": false, "score": 4, "last_activity_date": 1420237117, "creation_date": 1420237117, "answer_id": 27749281, "question_id": 27749136, "link": "https://stackoverflow.com/questions/27749136/perl-double-dollar-sign-what-function-does-it-perform/27749281#27749281", "title": "Perl - double dollar sign: what function does it perform?", "body": "<p>Most people would write $area->{acc} instead of $$area{acc}, these days.</p>\n\n<p>Example:</p>\n\n<pre><code>$ perl -E '$area={ acc=&gt;\"some\" }; say $$area{acc}; say $area-&gt;{acc}'\nsome\nsome\n$\n</code></pre>\n\n<p>If I were you, I would rewrite that script, as it seems to be using old idioms, and reuses variables in a rather questionable way.</p>\n"}], "owner": {"reputation": 11, "user_id": 4413725, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QeQ1XAJkUaQ/AAAAAAAAAAI/AAAAAAAAIis/pwRRKQ4jKns/photo.jpg?sz=128", "display_name": "ABright", "link": "https://stackoverflow.com/users/4413725/abright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1420558524, "creation_date": 1420236166, "last_edit_date": 1420558524, "question_id": 27749136, "link": "https://stackoverflow.com/questions/27749136/perl-double-dollar-sign-what-function-does-it-perform", "title": "Perl - double dollar sign: what function does it perform?", "body": "<p>I understand that the $$ is a way to dereference a variable, but in this example, I am unable to determine what it is used for:</p>\n\n<pre><code>opendir (CUST, \"D:/opt/customer\");  \nforeach $area (grep /^\\d\\d\\d\\d$/, readdir CUST) { \n  push @areas, $area; \n  $$area{acc} = shift ;\n  open (AREA_DISP, \"&lt;D:/opt/customer/$area/displays/dir.mnu\");\n  while (&lt;AREA_DISP&gt;) {\n    $$area{dir} = $$area{dir} . $_; \n    }\n  close (AREA_DISP);\n  }\nclosedir (CUST);\n</code></pre>\n\n<p>The only other place that it is used, is further down in the code:</p>\n\n<pre><code>foreach $area (@areas) {s/.+( $area)/\"$$area{acc} $1/;}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}]