[{"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 339, "user_id": 1223758, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7O4NB.jpg?s=128&g=1", "display_name": "Paul Allen", "link": "https://stackoverflow.com/users/1223758/paul-allen"}, "edited": false, "score": 0, "creation_date": 1421883517, "post_id": 28078893, "comment_id": 44536582, "body": "Any reason why wrapping LoadFile call in an eval {} block won&#39;t work for you?"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 1, "creation_date": 1421883871, "post_id": 28078893, "comment_id": 44536698, "body": "Try introducing some syntax errors and see what it does."}, {"owner": {"reputation": 1230, "user_id": 3166498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbc18f10b502469dfdec70ffeb98c6d4?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/3166498/sam"}, "reply_to_user": {"reputation": 339, "user_id": 1223758, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7O4NB.jpg?s=128&g=1", "display_name": "Paul Allen", "link": "https://stackoverflow.com/users/1223758/paul-allen"}, "edited": false, "score": 0, "creation_date": 1421884189, "post_id": 28078893, "comment_id": 44536801, "body": "@PaulAllen. Thanks for the tip, totally missed it. I have used that hack for now."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 1, "last_activity_date": 1455908222, "creation_date": 1455908222, "answer_id": 35512881, "question_id": 28078893, "link": "https://stackoverflow.com/questions/28078893/yamlxs-error-checking/35512881#35512881", "title": "YAML::XS error checking", "body": "<p>You can catch the error with <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\">eval</a>, although you're correct that the docs don't tell you that <code>LoadFile</code> will die if it encounters an error:</p>\n\n<pre><code>use v5.10;\nuse YAML::XS qw/LoadFile/;\nuse Data::Dumper;\n\nmy $hash = eval { LoadFile( $ARGV[0] ) };\nif( $@ ) {\n    say \"I found an error: $@\";\n    }\nsay Dumper( $hash );\n</code></pre>\n"}], "owner": {"reputation": 1230, "user_id": 3166498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbc18f10b502469dfdec70ffeb98c6d4?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/3166498/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 35512881, "answer_count": 1, "score": 1, "last_activity_date": 1455908222, "creation_date": 1421883366, "question_id": 28078893, "link": "https://stackoverflow.com/questions/28078893/yamlxs-error-checking", "title": "YAML::XS error checking", "body": "<p>I am using the <a href=\"http://search.cpan.org/dist/YAML-LibYAML/lib/YAML/XS.pod\" rel=\"nofollow\">YAML::XS</a>  CPAN module. How do I error check if it fails while loading the YAML file? The documentation says nothing</p>\n\n<pre><code>use YAML::XS qw/LoadFile/;\n$CONFIG_DATA = LoadFile($CONFIG_FILE);\n</code></pre>\n\n<p>I want to print a meaningful message if the $CONFIG_FILE has syntax errors.</p>\n"}, {"tags": ["perl", "web-services", "wcf", "soap", "soaplite"], "answers": [{"tags": [], "owner": {"reputation": 1769, "user_id": 1893692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17d1edf681b1f6bc512b2d95c4256b9?s=128&d=identicon&r=PG&f=1", "display_name": "Gabs00", "link": "https://stackoverflow.com/users/1893692/gabs00"}, "is_accepted": true, "score": 2, "last_activity_date": 1538600518, "last_edit_date": 1538600518, "creation_date": 1421899266, "answer_id": 28081093, "question_id": 28077539, "link": "https://stackoverflow.com/questions/28077539/append-an-element-to-an-already-existing-soapdata-complex-type/28081093#28081093", "title": "Append an element to an already existing SOAP::Data complex type", "body": "<p>Take a look at what $data is using Data::Dumper, you get this</p>\n\n<pre><code>$VAR1 = bless( {\n             '_attr' =&gt; {\n                          'xmlns:i' =&gt; 'http://www.w3.org/2001/XMLSchema-instance',\n                          'xmlns:elem' =&gt; 'http://schemas.microsoft.com/2003/10/Serialization/Arrays'\n                        },\n             '_signature' =&gt; [],\n             '_name' =&gt; 'array',\n             '_value' =&gt; [\n                           [\n                             bless( {\n                                      '_value' =&gt; [\n                                                    'firststring'\n                                                  ],\n                                      '_name' =&gt; 'string',\n                                      '_prefix' =&gt; 'elem',\n                                      '_signature' =&gt; [],\n                                      '_attr' =&gt; {}\n                                    }, 'SOAP::Data' ),\n                             bless( {\n                                      '_value' =&gt; [\n                                                    'secondstring'\n                                                  ],\n                                      '_name' =&gt; 'string',\n                                      '_signature' =&gt; [],\n                                      '_prefix' =&gt; 'elem',\n                                      '_attr' =&gt; {}\n                                    }, 'SOAP::Data' ),\n                             bless( {\n                                      '_attr' =&gt; {},\n                                      '_value' =&gt; [\n                                                    'thridstring'\n                                                  ],\n                                      '_name' =&gt; 'string',\n                                      '_signature' =&gt; [],\n                                      '_prefix' =&gt; 'elem'\n                                    }, 'SOAP::Data' )\n                           ]\n                         ]\n           }, 'SOAP::Data' );\n</code></pre>\n\n<p>There is no <code>$data-&gt;{array}</code></p>\n\n<p>A look at the documentation for SOAP::Data, says you should use <code>$data-&gt;value</code> to access the array you created.</p>\n\n<p><code>push @{ $data-&gt;value }, $elem1;</code></p>\n\n<p><code>print Dumper $data-&gt;value;</code></p>\n\n<p>yields</p>\n\n<pre><code>$VAR1 = [\n      bless( {\n               '_attr' =&gt; {},\n               '_prefix' =&gt; 'elem',\n               '_value' =&gt; [\n                             'firststring'\n                           ],\n               '_name' =&gt; 'string',\n               '_signature' =&gt; []\n             }, 'SOAP::Data' ),\n      bless( {\n               '_signature' =&gt; [],\n               '_name' =&gt; 'string',\n               '_value' =&gt; [\n                             'secondstring'\n                           ],\n               '_prefix' =&gt; 'elem',\n               '_attr' =&gt; {}\n             }, 'SOAP::Data' ),\n      bless( {\n               '_name' =&gt; 'string',\n               '_signature' =&gt; [],\n               '_value' =&gt; [\n                             'thridstring'\n                           ],\n               '_prefix' =&gt; 'elem',\n               '_attr' =&gt; {}\n             }, 'SOAP::Data' ),\n      bless( {\n               '_attr' =&gt; {},\n               '_prefix' =&gt; 'elem',\n               '_value' =&gt; [\n                             'addedstring'\n                           ],\n               '_name' =&gt; 'string',\n               '_signature' =&gt; []\n             }, 'SOAP::Data' )\n    ];\n</code></pre>\n\n<h1> </h1>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 4480167, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0f3e50c32cf2d2fde774aa23b7707c44?s=128&d=identicon&r=PG&f=1", "display_name": "stumped221", "link": "https://stackoverflow.com/users/4480167/stumped221"}, "is_accepted": false, "score": 0, "last_activity_date": 1421964801, "creation_date": 1421964801, "answer_id": 28099644, "question_id": 28077539, "link": "https://stackoverflow.com/questions/28077539/append-an-element-to-an-already-existing-soapdata-complex-type/28099644#28099644", "title": "Append an element to an already existing SOAP::Data complex type", "body": "<p>Thanks Gabs00, </p>\n\n<p>push $data->value, $elem1; worked beautifully</p>\n"}], "owner": {"reputation": 157, "user_id": 4480167, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0f3e50c32cf2d2fde774aa23b7707c44?s=128&d=identicon&r=PG&f=1", "display_name": "stumped221", "link": "https://stackoverflow.com/users/4480167/stumped221"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 28081093, "answer_count": 2, "score": 2, "last_activity_date": 1538600518, "creation_date": 1421877153, "question_id": 28077539, "link": "https://stackoverflow.com/questions/28077539/append-an-element-to-an-already-existing-soapdata-complex-type", "title": "Append an element to an already existing SOAP::Data complex type", "body": "<p>I'm very new to SOAP, PERL and pretty much everything else I've been asked to do so I'm hoping someone can point me in the right direction.  </p>\n\n<p>I've implemented a simple WCF solution and I've written a PERL client which passes a \"complex data structure\" to the solution using SOAP::lite and SOAP::Data.  All this works very well so far, WCF solution see's the array as an array and I'm able to iterate through the array on the server side just fine.  </p>\n\n<p>However, I'm having an issue trying to append a data element to the array on the PERL side.  I have the following code, which builds the array I need, but I need to append a few lines to the array later on in the code and I can't figure out how to that.</p>\n\n<pre><code># build array of values\nmy $data= SOAP::Data-&gt;new\n(name =&gt; 'array', value =&gt; \n   [\n     SOAP::Data-&gt;new(name =&gt; 'elem:string', value =&gt; 'firststring'),\n     SOAP::Data-&gt;new(name =&gt; 'elem:string', value =&gt; 'secondstring'),\n     SOAP::Data-&gt;new(name =&gt; 'elem:string', value =&gt; 'thridstring')\n   ]\n) \n-&gt;attr\n( \n   { 'xmlns:elem' =&gt; 'http://schemas.microsoft.com/2003/10/Serialization/Arrays','xmlns:i' =&gt; 'http://www.w3.org/2001/XMLSchema-instance'}\n);\n\n# create a new element\nmy $elem1 = SOAP::Data-&gt;new(name =&gt; 'elem:string', value =&gt; 'addedstring');\n\n# try to add the element\npush(@{$data-&gt;{array}},$elem1);\n\n#.... send, catch, print.. bla bla bla\n</code></pre>\n\n<p>The code I have runs, and the WCF service see's the array just fine, but the $elem1 value is never actually appended to the SOAP envelope.  </p>\n\n<p>Any help is GREATLY appreciated... </p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1421875113, "post_id": 28076879, "comment_id": 44532911, "body": "Possibly related: <a href=\"http://stackoverflow.com/questions/1843932/is-lwpuseragent-not-thread-safe\" title=\"is lwpuseragent not thread safe\">stackoverflow.com/questions/1843932/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421875560, "post_id": 28076879, "comment_id": 44533121, "body": "What version of perl and libraries are you on?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1421876398, "post_id": 28076879, "comment_id": 44533566, "body": "btw, LWP::UserAgent timeouts are in seconds, so a 500 timeout is a long time out, not a short one."}, {"owner": {"reputation": 842, "user_id": 3768218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YZkLE.jpg?s=128&g=1", "display_name": "Jeya Kumar", "link": "https://stackoverflow.com/users/3768218/jeya-kumar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421877025, "post_id": 28076879, "comment_id": 44533901, "body": "@ikegami: Hi i modified that timeout from 5 to 500 for testing purpose but forget to remove those comments.Thanks for pointing that one"}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1421876466, "post_id": 28077074, "comment_id": 44533598, "body": "Explaining why would make this a better answer."}], "tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 0, "last_activity_date": 1421875348, "creation_date": 1421875348, "answer_id": 28077074, "question_id": 28076879, "link": "https://stackoverflow.com/questions/28076879/perl-parallel-crawler-multithreading/28077074#28077074", "title": "Perl parallel crawler multithreading", "body": "<p>You should declare @all outside of the while loop, then, when the URLs are pushed, close that loop and go on </p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"DBI:mysql:$database;host=$server\", $username, $password) # Get the rows from database\n    || die \"Could not connect to database: $DBI::errstr\";\n\nmy $sth = $dbh-&gt;prepare('select cname,url,xpath,region from competitors')    #query to select required fields\n    || die \"$DBI::errstr\";\n\n$sth-&gt;execute();\n\n# &gt;&gt; declare your URL-array before starting to fetch\nmy @URLs;\nif ($sth-&gt;rows &lt; 0) {\n    print \"Sorry, no domains found.\\n\";\n}\n\nelse {\n\n\n    while (my $results = $sth-&gt;fetchrow_hashref) {\n        my $competitor= $results-&gt;{cname};                      \n        my $url = $results-&gt;{url};                         \n        my $xpath = $results-&gt;{xpath};\n        my $region = $results-&gt;{region};\n\n        push(@URLs,$url);   \n    }\n\n}  \n\n$sth-&gt;finish;\n$dbh-&gt;disconnect;\n\nuse constant THREADS =&gt; 10;\nmy $queue = Thread::Queue-&gt;new();\nmy @threads;\n\nfor (1..THREADS) {\n        push @threads, threads-&gt;create(sub {\n        my $ua = LWP::UserAgent-&gt;new;\n        $ua-&gt;timeout(500); # short timeout for easy testing.\n        while(my $task = $queue-&gt;dequeue) {\n            my $response = eval{ $ua-&gt;get($task)-&gt;status_line };\n            print  \"$task --&gt; $response\";\n        }\n    });\n}\n\n$queue-&gt;enqueue( @URLs);\n$queue-&gt;enqueue(undef) for 1..THREADS;\n# ... here work is done\n$_-&gt;join foreach @threads;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1421876553, "creation_date": 1421876553, "answer_id": 28077395, "question_id": 28076879, "link": "https://stackoverflow.com/questions/28076879/perl-parallel-crawler-multithreading/28077395#28077395", "title": "Perl parallel crawler multithreading", "body": "<p>Segfaults are very rare as a result of perl code. They're memory related, and <em>usually</em> mean a problem in external binaries. (I'd be betting on DBI here)</p>\n\n<p>Threads in particular have a lot of legacy issues - they're getting better in newer versions of perl though. I would <em>strongly</em> recommend that you consider upgrading to a recent version of perl if you haven't already. I know that isn't always an option, but it's a good idea.</p>\n\n<p>It's really hard to second guess your problem, as I don't have your DB, so I can't recreate it. </p>\n\n<p>I would suggest that generally there's a few things you can do to keep threads 'clean' - the way your code works, is the DB handles are in scope within the threads. I would avoid doing that. Declare the thread sub right at the top, with as narrow a scope as possible. </p>\n\n<p>I will note though:</p>\n\n<pre><code>push ( my @all, $url ); \n</code></pre>\n\n<p>probably doesn't do what you think it does!</p>\n\n<p>But yes, taking your code I'd put it like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse threads;\nuse Thread::Queue;\nuse LWP;\n\nmy $num_threads = 10;\n\nmy $work_q = Thread::Queue-&gt;new();\n\nsub worker {\n    my $ua = LWP::UserAgent-&gt;new;\n    $ua-&gt;timeout(500);    # short timeout for easy testing.\n    while ( my $task = $work_q-&gt;dequeue ) {\n        my $response = eval { $ua-&gt;get($task)-&gt;status_line };\n        print \"$task --&gt; $response\";\n    }\n}\n\n\n## fetch_list\n\nsub fetch_url_list {\n    my $dbh = DBI-&gt;connect( \"DBI:mysql:$database;host=$server\",\n        $username, $password )    # Get the rows from database\n        || die \"Could not connect to database: $DBI::errstr\";\n\n    my $sth =\n        $dbh-&gt;prepare( 'select cname,url,xpath,region from competitors'\n        )                         #query to select required fields\n        || die \"$DBI::errstr\";\n\n    $sth-&gt;execute();\n\n\n    if ( $sth-&gt;rows &lt; 0 ) {\n        print \"Sorry, no domains found.\\n\";\n    }\n    else {\n        while ( my $results = $sth-&gt;fetchrow_hashref ) {\n            my $competitor = $results-&gt;{cname};\n            my $url        = $results-&gt;{url};\n            my $xpath      = $results-&gt;{xpath};\n            my $region     = $results-&gt;{region};\n\n            $work_q -&gt; enqueue ( $url );\n        }\n    }\n    $sth-&gt;finish;\n    $dbh-&gt;disconnect;\n}\n\nfor ( 1 .. $num_threads ) {\n    threads-&gt;create( \\&amp;worker );\n}\n\nfetch_url_list();\n$work_q-&gt;end;\n\nforeach my $thr ( threads-&gt;list() ) {\n    $thr-&gt;join();\n}\n</code></pre>\n\n<p>This way - none of your threads have the DB stuff 'in scope', and the DB doesn't have thread stuff in scope. That reduces odds of 'pollution' causing you problems. In particular - threads when they start 'copy' everything in the current scope, which can do really wierd things when they're objects. (e.g. such as the DB handles) </p>\n\n<p>Failing that, I would consider looking at a 'forking' approach. Threads are good at passing data back and forth, but forks are generally more efficient (definitely on Unix based systems) when you don't need to pass data back and forth (and you don't, you're just running a test and printing a result).  </p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1421876770, "post_id": 28077413, "comment_id": 44533757, "body": "Here&#39;s the citation in the docs: &quot;Because of this (possibly temporary) restriction, newly created threads must make their own connections to the database. Handles can&#39;t be shared across threads. But BEWARE, some underlying database APIs (the code the DBD driver uses to talk to the database, often supplied by the database vendor) are not thread safe.&quot; <a href=\"https://metacpan.org/pod/DBI#Threads-and-Thread-Safety\" rel=\"nofollow noreferrer\">metacpan.org/pod/DBI#Threads-and-Thread-Safety</a>  The situation has gotten much better since this was written, but you still can&#39;t share a DBI handle across threads."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1421876632, "creation_date": 1421876632, "answer_id": 28077413, "question_id": 28076879, "link": "https://stackoverflow.com/questions/28076879/perl-parallel-crawler-multithreading/28077413#28077413", "title": "Perl parallel crawler multithreading", "body": "<p>Your <code>$sth</code> and <code>$dbh</code> are still around when you create the thread, creating a copy of them, which is a <a href=\"http://search.cpan.org/perldoc?DBI#Threads_and_Thread_Safety\" rel=\"nofollow\">no-no</a>.</p>\n\n<blockquote>\n  <p>newly created threads must make their own connections to the database. Handles can't be shared across threads.</p>\n</blockquote>\n\n<p>Better scoping of your variables should avoid the problem.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse Thread::Queue 3.01 qw( );\n\nuse constant NUM_WORKERS =&gt; 10;\n\nsub worker {\n   my ($ua, $url) = @_;\n   ...\n}\n\n{\n   my $q = Thread::Queue-&gt;new();\n\n   for (1..NUM_WORKERS) {\n      async {\n         my $ua = LWP::UserAgent-&gt;new();\n         while ( my $url = $q-&gt;dequeue() ) {\n            eval { worker($ua, $url); 1 }\n               or warn $@;\n         }\n      };\n   }\n\n   {\n      my $dbh = DBI-&gt;connect(..., { RaiseError =&gt; 1 });\n      my $sth = $dbh-&gt;prepare('SELECT ...');\n      $sth-&gt;execute();\n      while ( my $row = $sth-&gt;fetchrow_hashref() ) {\n         $q-&gt;enqueue($row-&gt;{url});\n      }\n   }\n\n   $q-&gt;end();\n   $_-&gt;join for threads-&gt;list;\n}\n</code></pre>\n"}], "owner": {"reputation": 842, "user_id": 3768218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YZkLE.jpg?s=128&g=1", "display_name": "Jeya Kumar", "link": "https://stackoverflow.com/users/3768218/jeya-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1421876632, "creation_date": 1421874691, "last_edit_date": 1421876627, "question_id": 28076879, "link": "https://stackoverflow.com/questions/28076879/perl-parallel-crawler-multithreading", "title": "Perl parallel crawler multithreading", "body": "<p>I have a multi threaded Perl crawler which is working fine if I declare  URLs in array.How ever if I read the URLs from DB I am getting \"segmentation failure\" error.Please help me to fix this issue.Thanks</p>\n\n<p>Direct URL declaration</p>\n\n<pre><code>use 5.012; use warnings;\nuse threads;\nuse Thread::Queue;\nuse LWP::UserAgent;\n\nuse constant THREADS =&gt; 10;\n\nmy $queue = Thread::Queue-&gt;new();\nmy @URLs =qw(http://www.example.com\nhttp://www.example.com1\nhttp://www.example.com2 );\n\nprint @URLs;\nmy @threads;\n\nfor (1..THREADS) {\n    push @threads, threads-&gt;create(sub {\n        my $ua = LWP::UserAgent-&gt;new;\n        $ua-&gt;timeout(5); # short timeout for easy testing.\n        while(my $task = $queue-&gt;dequeue) {\n            my $response = eval{ $ua-&gt;get($task)-&gt;status_line };\n            say \"$task --&gt; $response\";\n        }\n    });\n}\n\n$queue-&gt;enqueue(@URLs);\n$queue-&gt;enqueue(undef) for 1..THREADS;\n# ... here work is done\n$_-&gt;join foreach @threads;\n</code></pre>\n\n<p>Trying to read the URLs from DB</p>\n\n<pre><code>my $dbh = DBI-&gt;connect(\"DBI:mysql:$database;host=$server\", $username, $password) # Get the rows from database\n    || die \"Could not connect to database: $DBI::errstr\";\n\nmy $sth = $dbh-&gt;prepare('select cname,url,xpath,region from competitors')    #query to select required fields\n    || die \"$DBI::errstr\";\n\n$sth-&gt;execute();\n\nif ($sth-&gt;rows &lt; 0) {\n    print \"Sorry, no domains found.\\n\";\n}\nelse {                                                \n    while (my $results = $sth-&gt;fetchrow_hashref) {\n        my $competitor= $results-&gt;{cname};                      \n        my $url = $results-&gt;{url};                         \n        my $xpath = $results-&gt;{xpath};\n        my $region = $results-&gt;{region};\n\n        push(my @all,$url);   \n\n        use constant THREADS =&gt; 10;\n        my $queue = Thread::Queue-&gt;new();\n        my @URLs=@all;\n        my @threads;\n\n        for (1..THREADS) {\n            push @threads, threads-&gt;create(sub {\n                my $ua = LWP::UserAgent-&gt;new;\n                $ua-&gt;timeout(500); # short timeout for easy testing.\n                while(my $task = $queue-&gt;dequeue) {\n                    my $response = eval{ $ua-&gt;get($task)-&gt;status_line };\n                    print  \"$task --&gt; $response\";\n                }\n            });\n        }\n\n        $queue-&gt;enqueue( @URLs);\n        $queue-&gt;enqueue(undef) for 1..THREADS;\n        # ... here work is done\n        $_-&gt;join foreach @threads;\n    }\n\n}  #close db\n\n$sth-&gt;finish;\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>Expected o/p</p>\n\n<pre><code>www.example.com--&gt;200 ok\n\nwww.example.com1--&gt;200 ok\n</code></pre>\n\n<p>Current o/p</p>\n\n<p>Segmentation error</p>\n"}, {"tags": ["perl", "pdf", "tableofcontents"], "comments": [{"owner": {"reputation": 406, "user_id": 1879794, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hOga3.jpg?s=128&g=1", "display_name": "MrCleanX", "link": "https://stackoverflow.com/users/1879794/mrcleanx"}, "edited": false, "score": 0, "creation_date": 1421871624, "post_id": 28074197, "comment_id": 44531260, "body": "Have you looked at iText?"}], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "edited": false, "score": 3, "creation_date": 1421876026, "post_id": 28077042, "comment_id": 44533377, "body": "Oh, thanks. I actually needed page numbers for each bookmark, but with your example, I figured it out     pdftk my.pdf dump_data | grep BookmarkPageNumber &gt; 2A_outline.txt"}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 2, "last_activity_date": 1421875232, "creation_date": 1421875232, "answer_id": 28077042, "question_id": 28074197, "link": "https://stackoverflow.com/questions/28074197/perl-extract-toc-from-pdf-file/28077042#28077042", "title": "perl, extract TOC from PDF file", "body": "<p>I have not been able to find a library that supports the extraction of pdf bookmarks (which is what I assume you mean by table of contents) reliably.</p>\n\n<p>However, <a href=\"https://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/\" rel=\"nofollow\">pdftk</a> does a great job at this and can be run from the command line;</p>\n\n<pre><code>pdftk myfile.pdf dump_data | grep BookmarkTitle &gt; outline.txt\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 1754290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WG1Wc.jpg?s=128&g=1", "display_name": "MikeKlemin", "link": "https://stackoverflow.com/users/1754290/mikeklemin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 28077042, "answer_count": 1, "score": 1, "last_activity_date": 1421875232, "creation_date": 1421864704, "question_id": 28074197, "link": "https://stackoverflow.com/questions/28074197/perl-extract-toc-from-pdf-file", "title": "perl, extract TOC from PDF file", "body": "<p>I have checked through CAM::PDF and other PDF related modules, but can not figure if there a way to extract table of content from a clear PDF file. </p>\n\n<p>If there any ideas I would be grateful!</p>\n"}, {"tags": ["xcode", "perl", "scripting", "xcode6", "cloc"], "comments": [{"owner": {"reputation": 5573, "user_id": 1403732, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/58148bc50b78f4205189db9f4f6acded?s=128&d=identicon&r=PG", "display_name": "sage444", "link": "https://stackoverflow.com/users/1403732/sage444"}, "edited": false, "score": 1, "creation_date": 1421861877, "post_id": 28073347, "comment_id": 44526202, "body": "AFAIK all targets messed up in one project file, only schemes for them live in different files"}, {"owner": {"reputation": 4858, "user_id": 1088618, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b3db6c6fda66c25dfe953c4a838c0e99?s=128&d=identicon&r=PG", "display_name": "Henry F", "link": "https://stackoverflow.com/users/1088618/henry-f"}, "reply_to_user": {"reputation": 5573, "user_id": 1403732, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/58148bc50b78f4205189db9f4f6acded?s=128&d=identicon&r=PG", "display_name": "sage444", "link": "https://stackoverflow.com/users/1403732/sage444"}, "edited": false, "score": 0, "creation_date": 1421862849, "post_id": 28073347, "comment_id": 44526703, "body": "@sage444 Interesting, thank you. If you want to add that as an answer I&#39;ll mark it correct."}], "owner": {"reputation": 4858, "user_id": 1088618, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b3db6c6fda66c25dfe953c4a838c0e99?s=128&d=identicon&r=PG", "display_name": "Henry F", "link": "https://stackoverflow.com/users/1088618/henry-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1421883106, "creation_date": 1421861434, "last_edit_date": 1421883106, "question_id": 28073347, "link": "https://stackoverflow.com/questions/28073347/count-lines-of-code-in-xcode-targets", "title": "Count Lines of Code in Xcode Targets", "body": "<p>I thought this question would have been asked a million times, but to my surprise I found no answer. I have an Xcode project that has 3 targets. I use Perl's cloc to count the lines of code for the whole .xcodeproj. I want to count the lines in the individual targets instead. Where is the target location of a project in the Finder? </p>\n"}, {"tags": ["perl", "logging", "log4perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421861762, "post_id": 28073202, "comment_id": 44526148, "body": "Wait, you <i>don&#39;t</i> want to know when a bot is trying to access your site? That seems...odd. Regardless, you will probably need to store the key totals somewhere persistent like a file or database and check them periodically in your application."}, {"owner": {"reputation": 695, "user_id": 2178649, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I4l2W.jpg?s=128&g=1", "display_name": "Gratus D.", "link": "https://stackoverflow.com/users/2178649/gratus-d"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421861998, "post_id": 28073202, "comment_id": 44526269, "body": "I can use server logs to find out when a bot came - this is just to find out when a specific key gets POSTed many times."}], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 2178649, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I4l2W.jpg?s=128&g=1", "display_name": "Gratus D.", "link": "https://stackoverflow.com/users/2178649/gratus-d"}, "edited": false, "score": 0, "creation_date": 1421868473, "post_id": 28073737, "comment_id": 44529561, "body": "Worked! Thanks for the tip!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1421862928, "creation_date": 1421862928, "answer_id": 28073737, "question_id": 28073202, "link": "https://stackoverflow.com/questions/28073202/how-can-i-buffer-logging-across-requests-perl-log4perl/28073737#28073737", "title": "How can I buffer logging across requests - Perl, log4Perl", "body": "<p>I think the answer would be 'use a hash'. </p>\n\n<p>Define a hash in your app. Every time a bad request came in, extract the unique key, increment the hash value for that key. Once the value hits a threshold, spit out a warning. (And then reset it). </p>\n\n<p>If you need cross-session persistence, you could probably use something like <code>Storable</code> to load and save the 'invalid requests' table. </p>\n"}], "owner": {"reputation": 695, "user_id": 2178649, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I4l2W.jpg?s=128&g=1", "display_name": "Gratus D.", "link": "https://stackoverflow.com/users/2178649/gratus-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 28073737, "answer_count": 1, "score": 1, "last_activity_date": 1421862928, "creation_date": 1421860985, "question_id": 28073202, "link": "https://stackoverflow.com/questions/28073202/how-can-i-buffer-logging-across-requests-perl-log4perl", "title": "How can I buffer logging across requests - Perl, log4Perl", "body": "<p>I am looking for a way to only catch specific issues that occur after a certain threshold, over a given time frame.</p>\n\n<p>e.g.</p>\n\n<ol>\n<li>My web applications uses a set of keys send over POST</li></li>\n<li>I am whitelisting the keys so I am only looking for specific keys within POST to be used by the application</li>\n<li>But, I want to keep track of any keys that are unusual and not part of my list</li>\n<li>But, I don't want to track each and every occurrence of a non-listed key - in case this is just a bot trying to get through</li>\n<li>But, once a specific non-listed key hits a threshold - say 100 times in a week - I want to log it.</li>\n</ol>\n\n<p>How can I accomplish this using Perl, ideally with something like log4Perl?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["bash", "perl", "executable"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 2, "creation_date": 1421858230, "post_id": 28072212, "comment_id": 44523946, "body": "Does the file have DOS newlines?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1421858754, "post_id": 28072212, "comment_id": 44524311, "body": "Did you mean to say <code>!#&#47;usr&#47;bin&#47;perl</code> or was that a typo? The correct directive is <code>#!&#47;usr&#47;bin&#47;perl</code> or better <code>#!&#47;usr&#47;bin&#47;env perl</code>."}, {"owner": {"reputation": 91, "user_id": 493065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04580aba39166861945b216abca9ff55?s=128&d=identicon&r=PG", "display_name": "Karol Pal", "link": "https://stackoverflow.com/users/493065/karol-pal"}, "edited": false, "score": 0, "creation_date": 1421858884, "post_id": 28072212, "comment_id": 44524409, "body": "Thanks for the suggestions  1.the file does not have DOS new lines (I tried egrepping for \\r\\n).   2. I meant to say #! . Thank you. I&#39;ll correct my post"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1421859253, "post_id": 28072212, "comment_id": 44524682, "body": "what does <code>which perl</code> return ?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1421859825, "post_id": 28072212, "comment_id": 44525031, "body": "@Karlo, egrep won&#39;t find <code>\\r\\n</code> because grep is a line oriented tool (grep will not ever find <code>\\n</code>). Try: <code>head -1 file.pl | od -c</code>"}, {"owner": {"reputation": 91, "user_id": 493065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04580aba39166861945b216abca9ff55?s=128&d=identicon&r=PG", "display_name": "Karol Pal", "link": "https://stackoverflow.com/users/493065/karol-pal"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1421861317, "post_id": 28072212, "comment_id": 44525902, "body": "@Hunter <code>which perl</code> returns <code>&#47;usr&#47;bin&#47;perl</code> @glenn your command returns: <code>0000000   #   !   &#47;   u   s   r   &#47;   b   i   n   &#47;   p   e   r   l  \\n 0000020</code>"}, {"owner": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1421861452, "post_id": 28072212, "comment_id": 44525983, "body": "Run <code>cat -vet perlscript.pl | head -1</code> and post the result please."}, {"owner": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1421861475, "post_id": 28072212, "comment_id": 44525998, "body": "Also, what happens when you run <code>&#47;usr&#47;bin&#47;perl -e &#39;&#39;</code>"}, {"owner": {"reputation": 91, "user_id": 493065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04580aba39166861945b216abca9ff55?s=128&d=identicon&r=PG", "display_name": "Karol Pal", "link": "https://stackoverflow.com/users/493065/karol-pal"}, "reply_to_user": {"reputation": 119277, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1421862570, "post_id": 28072212, "comment_id": 44526569, "body": "@DVK <a href=\"https://www.dropbox.com/s/m0sj3rbvlk4zxgs/cat_vet?dl=0\" rel=\"nofollow noreferrer\">cat output</a>  and <code>&#47;usr&#47;bin&#47;perl -e &#39;&#39;</code> does not return anything... thanks again"}, {"owner": {"reputation": 1354, "user_id": 1653270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c57d3d99827c5e6cdf0880292769472?s=128&d=identicon&r=PG", "display_name": "michael501", "link": "https://stackoverflow.com/users/1653270/michael501"}, "edited": false, "score": 0, "creation_date": 1421863107, "post_id": 28072212, "comment_id": 44526830, "body": "@Karlo : directory permission is missing &#39;x&#39; , what is  l  -lda  ."}, {"owner": {"reputation": 2836, "user_id": 1521926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqkPE.jpg?s=128&g=1", "display_name": "philippe lhardy", "link": "https://stackoverflow.com/users/1521926/philippe-lhardy"}, "edited": false, "score": 0, "creation_date": 1421866821, "post_id": 28072212, "comment_id": 44528707, "body": "what gives ldd /usr/bin/perl ?"}, {"owner": {"reputation": 2836, "user_id": 1521926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqkPE.jpg?s=128&g=1", "display_name": "philippe lhardy", "link": "https://stackoverflow.com/users/1521926/philippe-lhardy"}, "edited": false, "score": 2, "creation_date": 1421867225, "post_id": 28072212, "comment_id": 44528914, "body": "strace ./perlscript.pl vs strace perl ./perlscript.pl ... to find differences"}, {"owner": {"reputation": 91, "user_id": 493065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04580aba39166861945b216abca9ff55?s=128&d=identicon&r=PG", "display_name": "Karol Pal", "link": "https://stackoverflow.com/users/493065/karol-pal"}, "edited": false, "score": 0, "creation_date": 1421879371, "post_id": 28072212, "comment_id": 44534948, "body": "once again, thanks everyone for the effort, the problem has been identified (answer below)"}], "answers": [{"comments": [{"owner": {"reputation": 2836, "user_id": 1521926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqkPE.jpg?s=128&g=1", "display_name": "philippe lhardy", "link": "https://stackoverflow.com/users/1521926/philippe-lhardy"}, "edited": false, "score": 1, "creation_date": 1421869837, "post_id": 28075571, "comment_id": 44530340, "body": "i was thinking to the very same, i tested it with a localy mounted filesystem and bingo : if as root i mount -o loop,noexec empty mounted =&gt; as my user : cd mounted ./perlscript.pl fails, . AND file is still visible with +x rights... now waiting for the confirmation from @Karlo..."}, {"owner": {"reputation": 91, "user_id": 493065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04580aba39166861945b216abca9ff55?s=128&d=identicon&r=PG", "display_name": "Karol Pal", "link": "https://stackoverflow.com/users/493065/karol-pal"}, "edited": false, "score": 0, "creation_date": 1421879520, "post_id": 28075571, "comment_id": 44535004, "body": "Yes, thats is the problem. I moved my home directory to a mounted storage space and the &#39;cat /proc/mounts&#39; has noexec next to it... thank you!!"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 6, "last_activity_date": 1421879897, "last_edit_date": 1421879897, "creation_date": 1421869563, "answer_id": 28075571, "question_id": 28072212, "link": "https://stackoverflow.com/questions/28072212/bash-does-not-recognize-executable-perl-script/28075571#28075571", "title": "bash does not recognize executable Perl script", "body": "<p>Is the filesystem where <code>perlscript.pl</code> is located mounted with the <code>noexec</code> flag?</p>\n\n<p>Assuming you're on Linux, <code>cat /proc/mounts</code> and look for <code>noexec</code> on the line with the appropriate filesystem.</p>\n\n<p>The <code>noexec</code> flag prevents anyone from calling <a href=\"http://man.cx/exec%283%29\" rel=\"nofollow\">exec</a> on a file located on that filesystem (which is what bash does when you do <code>./perlscript.pl</code>).  But <code>perl perlscript.pl</code> calls exec on <code>/usr/bin/perl</code>, which then opens <code>perlscript.pl</code> for reading.</p>\n\n<p>Files on a <code>noexec</code>-mounted filesystem can still <em>have</em> execute permission, they just can't make use of it.</p>\n"}], "owner": {"reputation": 91, "user_id": 493065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/04580aba39166861945b216abca9ff55?s=128&d=identicon&r=PG", "display_name": "Karol Pal", "link": "https://stackoverflow.com/users/493065/karol-pal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 28075571, "answer_count": 1, "score": 0, "last_activity_date": 1594076777, "creation_date": 1421857933, "last_edit_date": 1594076777, "question_id": 28072212, "link": "https://stackoverflow.com/questions/28072212/bash-does-not-recognize-executable-perl-script", "title": "bash does not recognize executable Perl script", "body": "<p>I have a very mysterious problem with bash and/or perl. I'll try to describe the behaviour.</p>\n\n<p>Running a perl script via</p>\n\n<pre><code>./perlscript.pl\n</code></pre>\n\n<p>gives me a permission denied message.</p>\n\n<p>(I am the owner of the file and the path to it -from my home dir <em>and</em> the file contains <code>#!/usr/bin/perl</code> <em>and</em> is executable <code>-rwxr-xr-x</code> )</p>\n\n<p>Running the script like this:</p>\n\n<pre><code>perl perlscript.pl\n</code></pre>\n\n<p>is ok... </p>\n\n<p>Can anyone please help me fix my bash? Thank you</p>\n\n<hr>\n\n<pre><code>$ which perl\n/usr/bin/perl\n\n$ head -1 file.pl | od -c\n0000000 # ! / u s r / b i n / p e r l \\n\n0000020\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 1, "creation_date": 1421857485, "post_id": 28071949, "comment_id": 44523472, "body": "I should have mentioned that I&#39;d like to avoid rewriting the message myself. I will edit my question accordingly."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 0, "creation_date": 1421865509, "post_id": 28071949, "comment_id": 44528053, "body": "ok.  it seemed possible the part you wanted help with was the &quot;at ... line ...&quot;, which my answer does."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1421867947, "post_id": 28071949, "comment_id": 44529312, "body": "Your &quot;carp&quot; should be &quot;croak&quot; since he wants the code to fail when the method can&#39;t be handled."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1421869134, "last_edit_date": 1421869134, "creation_date": 1421857175, "answer_id": 28071949, "question_id": 28071025, "link": "https://stackoverflow.com/questions/28071025/passing-on-error-message-if-autoload-fails/28071949#28071949", "title": "Passing on error message if AUTOLOAD fails", "body": "<p>No, the message isn't available anywhere.  But you can use Carp to add the appropriate line and file:</p>\n\n<pre><code>sub AUTOLOAD {\n    our $AUTOLOAD;\n    my ($package,$method) = $AUTOLOAD=~/^(.*)::(.*)/s;\n    use Carp ();\n    local $Carp::CarpLevel = 1;\n    Carp::croak( qq!Can't locate object method \"$method\" via package \"$package\"! );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 3, "last_activity_date": 1421867070, "last_edit_date": 1421867070, "creation_date": 1421859194, "answer_id": 28072622, "question_id": 28071025, "link": "https://stackoverflow.com/questions/28071025/passing-on-error-message-if-autoload-fails/28072622#28072622", "title": "Passing on error message if AUTOLOAD fails", "body": "<p>Unfortunately, you can't. Perl first attempts to locate a method within the package, then its parent packages in <code>@ISA</code>, and finally <code>UNIVERSAL</code>. Next it repeats that process but searches for <code>AUTOLOAD</code> in lieu of the method name. The only way perl is going to raise an exception at the point of invocation is if no method can be found. If perl has invoked your <code>AUTOLOAD</code> sub, it's already past the point of <em>locating the method</em> and it can only die from within <code>AUTOLOAD</code>'s stack frame. </p>\n\n<p>If you absolutely need to die <em>where</em> the method is invoked, your only option is to avoid <code>AUTOLOAD</code> and define all of your methods. </p>\n\n<p>However, this will fake it, if only for the sake of appearance:</p>\n\n<pre><code>sub AUTOLOAD {\n    my ($package, $method) = $AUTOLOAD =~ /^(.*)::([^:]*)/;\n    die sprintf(qq{Can't locate object method \"%s\" via package \"%s\" at %s line %d.\\n}, \n            $method, $package, (caller)[1,2]);\n}\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 28072622, "answer_count": 2, "score": 4, "last_activity_date": 1421869134, "creation_date": 1421854495, "last_edit_date": 1421857579, "question_id": 28071025, "link": "https://stackoverflow.com/questions/28071025/passing-on-error-message-if-autoload-fails", "title": "Passing on error message if AUTOLOAD fails", "body": "<p>I am using <code>AUTOLOAD</code> to handle calls to some undefined subroutines.</p>\n\n<pre><code>sub AUTOLOAD {\n    my $member = $AUTOLOAD;\n    # ... do something if knowing how to handle '$member'        \n\n    # otherwise ?\n}\n</code></pre>\n\n<p>When calling a non-existent subroutine (say, <code>my_method</code>) on a package, Perl normally says something like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate object method \"my_method\" via package \"MyPackage\" \nat Package.pm line 99.\n</code></pre>\n\n<p>I want Perl to display this standard message in case I don't know how to handle the call to the subroutine <code>$member</code> in my implementation of <code>AUTOLOAD</code>. </p>\n\n<p>How can I do that? </p>\n\n<p>I found no special variable that might contain the appropriate message. Also the <a href=\"http://perldoc.perl.org/perlsub.html#Autoloading\" rel=\"nofollow\">Perl documentation on Autoloading</a> gives no hint for this problem.</p>\n\n<p><strong>Remark:</strong> I'd like to avoid rewriting the error message, but to use the standard message provided by Perl instead.</p>\n"}, {"tags": ["perl", "grep", "extract", "fasta"], "comments": [{"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 1, "creation_date": 1421854072, "post_id": 28070734, "comment_id": 44520933, "body": "Question is not clear (atleast to me !). Kindly provide some sample inputs and outputs."}, {"owner": {"reputation": 751, "user_id": 1585066, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/3i3lb.jpg?s=128&g=1", "display_name": "Rick Sarvas", "link": "https://stackoverflow.com/users/1585066/rick-sarvas"}, "edited": false, "score": 2, "creation_date": 1421854211, "post_id": 28070734, "comment_id": 44521061, "body": "Sample data is needed for those of us that have no idea what fasta formatted data looks like."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 2, "creation_date": 1421854907, "post_id": 28070734, "comment_id": 44521602, "body": "Have you tried looking at all the other questions on SO that have been tagged with <a href=\"https://stackoverflow.com/questions/tagged/fasta\">fasta</a>?  There are many questions from your bio brethren that will probably get you started."}], "answers": [{"tags": [], "owner": {"reputation": 450, "user_id": 4053745, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vDnf9CWTsbM/AAAAAAAAAAI/AAAAAAAAAbo/8mnq1hnnPFE/photo.jpg?sz=128", "display_name": "Beuss", "link": "https://stackoverflow.com/users/4053745/beuss"}, "is_accepted": true, "score": 2, "last_activity_date": 1421855908, "creation_date": 1421855908, "answer_id": 28071550, "question_id": 28070734, "link": "https://stackoverflow.com/questions/28070734/grep-extracting-a-subset-of-sequences-from-fasta-file-based-on-word-in-id-line/28071550#28071550", "title": "grep, Extracting A Subset Of Sequences from fasta file based on word in id line", "body": "<p>BioPerl is nice for doing such things. </p>\n\n<p>This little script will do the job : </p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse diagnostics;\nuse warnings;\nuse Bio::SeqIO;\n\nmy $seqIOin  = Bio::SeqIO-&gt;new(-format =&gt; 'fasta', -file =&gt; \"&lt;fasta_to_filter.fa\");\nmy $seqIOout = Bio::SeqIO-&gt;new(-format =&gt; 'fasta', -file =&gt; \"&gt;selected_sequences.fa\");\n\nwhile (my $seq = $seqIOin-&gt;next_seq){\n    $seqIOout-&gt;write_seq($seq) if ($seq-&gt;id =~ /YOUR_WORD/);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 4, "last_activity_date": 1421857299, "creation_date": 1421857299, "answer_id": 28071998, "question_id": 28070734, "link": "https://stackoverflow.com/questions/28070734/grep-extracting-a-subset-of-sequences-from-fasta-file-based-on-word-in-id-line/28071998#28071998", "title": "grep, Extracting A Subset Of Sequences from fasta file based on word in id line", "body": "<p>Try this simple Awk one-liner.</p>\n\n<pre><code>awk '/^&gt;/ { p = ($0 ~ /Eukaryota/)} p' test_db.fasta&gt;new.fa\n</code></pre>\n\n<p>This looks for \"Eukaryota\" on any line starting with a <code>&gt;</code>. If it is found, <code>p</code> is set to 1, otherwise to 0. If <code>p</code> is non-zero, print the line.</p>\n"}], "owner": {"reputation": 141, "user_id": 3767953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d63deb1aec93f67b9add5fa30a235bc4?s=128&d=identicon&r=PG&f=1", "display_name": "user3767953", "link": "https://stackoverflow.com/users/3767953/user3767953"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2707, "favorite_count": 0, "accepted_answer_id": 28071550, "answer_count": 2, "score": 2, "last_activity_date": 1493371755, "creation_date": 1421853797, "last_edit_date": 1421855566, "question_id": 28070734, "link": "https://stackoverflow.com/questions/28070734/grep-extracting-a-subset-of-sequences-from-fasta-file-based-on-word-in-id-line", "title": "grep, Extracting A Subset Of Sequences from fasta file based on word in id line", "body": "<p>I know there are question <em>like</em> this one but this is slightly different. I want to extract a subset of sequences from a fasta file based on a word in id line and put those found into new file. I tried</p>\n\n<pre><code>grep -E 'Eukaryota' test_db.fasta &gt; new.fa\n</code></pre>\n\n<p>but this only gave me the identifier line that contained the word. I need the sequence also. The length of the sequence varies. </p>\n\n<p>Any ideas how to alter my command or maybe a Perl solution?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["linux", "perl", "unix", "console", "raspberry-pi"], "answers": [{"comments": [{"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 5, "creation_date": 1421853760, "post_id": 28070664, "comment_id": 44520707, "body": "Assuming that he&#39;s running the standard raspbian, <code>apt-get install libpoe-perl</code> should fix it."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 7, "last_activity_date": 1421856125, "last_edit_date": 1421856125, "creation_date": 1421853617, "answer_id": 28070664, "question_id": 28070508, "link": "https://stackoverflow.com/questions/28070508/run-a-perl-script-with-the-ending-pl/28070664#28070664", "title": "Run a perl script with the ending .pl", "body": "<p>POE is a CPAN module that implements an event loop.  You'll probably want to install POE to get this program working.</p>\n\n<p>I don't know much about the Raspberry Pi, but if it's anything like any other linux distro, you can either install a package from your distribution's repository or use the <code>cpan</code> tool to download/install it from the CPAN site.</p>\n\n<p>Edit:</p>\n\n<p>According to Wintermute the incantation <code>apt-get install libpoe-perl</code> should help assuming that you're running the standard raspbian.</p>\n"}, {"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": true, "score": 2, "last_activity_date": 1421853821, "creation_date": 1421853821, "answer_id": 28070747, "question_id": 28070508, "link": "https://stackoverflow.com/questions/28070508/run-a-perl-script-with-the-ending-pl/28070747#28070747", "title": "Run a perl script with the ending .pl", "body": "<p>The error message is telling you, that a Perl module (think of a library) used in the script is not installed on your system. </p>\n\n<p>If you take a look at your script you will find statements starting with \"use\" at the beginning of it. Those are the modules referenced.</p>\n\n<p>You will have to find out, which package of your package management system (deb, rpm?) contains them and install them accordingly.</p>\n"}], "owner": {"reputation": 164, "user_id": 3581442, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c7a638579046483e2851fffd8dc49355?s=128&d=identicon&r=PG&f=1", "display_name": "Doan", "link": "https://stackoverflow.com/users/3581442/doan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 0, "accepted_answer_id": 28070747, "answer_count": 2, "score": 2, "last_activity_date": 1428357954, "creation_date": 1421853133, "last_edit_date": 1421924037, "question_id": 28070508, "link": "https://stackoverflow.com/questions/28070508/run-a-perl-script-with-the-ending-pl", "title": "Run a perl script with the ending .pl", "body": "<p>I have a question to perl scripts. I can write and understand C and C++ codes but have no experience in perl.</p>\n\n<p>I have a perl script with the extension .pl and want to run it on a Raspberry Pi Model B.</p>\n\n<p>I get the script (its a part of the Raspberry Pi B extension 'Busware SD0' Firmware) from this <a href=\"https://code.google.com/p/busware/source/browse/trunk/SD0/Firmware_VZ/vzfeeder/vzfeeder.pl\" rel=\"nofollow\">link</a></p>\n\n<p>If I run the script I get the following error:</p>\n\n<pre><code>Can't locate POE.pm in @INC (@INC contains: /etc/perl /usr/local/lib/per /5.14.2 /usr/local/share/perl/5.14.2 /usr/lib/perl5 /usr/share/perl5  /usr/lib/perl/5.14 /usr/share/perl/5.14 /usr/local/lib/site_perl .) at   \n./vzfeeder.pl line 6.\nBEGIN failed--compilation aborted at ./vzfeeder.pl line 6.\n</code></pre>\n\n<p>How can I start function/method on the console I hope you can help me?</p>\n\n<p>Regards</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1421849960, "post_id": 28069341, "comment_id": 44518252, "body": "How about <code>s&#47;^paramC = \\K[^ ,]+&#47;$value&#47;</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421850462, "post_id": 28069341, "comment_id": 44518528, "body": "Hmm, that&#39;s a neat pattern, I didn&#39;t think it&#39;d work at first glance, but having tried it it works nicely. I might be inclined to go with <code>\\d+</code> though."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1421850646, "last_edit_date": 1421850646, "creation_date": 1421850213, "answer_id": 28069502, "question_id": 28069341, "link": "https://stackoverflow.com/questions/28069341/process-an-input-file-with-name-value-pairs-using-perl/28069502#28069502", "title": "process an input file with &quot;name = value &quot; pairs using perl", "body": "<p>The obvious answer is to use a regular expression. Perl is quite good at those. </p>\n\n<p>So you could - for example - do:</p>\n\n<pre><code>s/paramC = \\d+/paramC = $value/g; \n</code></pre>\n\n<p>Which'll do the trick I'd have thought? </p>\n\n<p>Edit: Or use TLP's pattern in the comments:</p>\n\n<pre><code>s/^paramC = \\K[^ ,]+/$value/g;\n</code></pre>\n\n<p>or perhaps:</p>\n\n<pre><code>s/^paramC = \\K\\d+/$value/g;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4478285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8fa320a088e19b45c3ba507832031f?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Chin", "link": "https://stackoverflow.com/users/4478285/alan-chin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1421860421, "answer_count": 1, "score": -3, "last_activity_date": 1421850646, "creation_date": 1421849662, "question_id": 28069341, "link": "https://stackoverflow.com/questions/28069341/process-an-input-file-with-name-value-pairs-using-perl", "closed_reason": "Not suitable for this site", "title": "process an input file with &quot;name = value &quot; pairs using perl", "body": "<p>The simulation code I use needs to read parameters from an input.txt file which looks like</p>\n\n<pre><code>paramA = 1,paramB = 2,\nparamC = 3,paramD = 4,\n</code></pre>\n\n<p>When scanning a parameter (like paramC) in my simulation, I need to change the value of paramC every time manually. How can I do this with a perl script so that when I type </p>\n\n<pre><code>perl scriptname input.txt paramC 100\n</code></pre>\n\n<p>in the command line I can get a modified input file with paramC changed to 100</p>\n\n<pre><code> paramA = 1,paramB = 2,\n paramC = 100,paramD = 4,\n</code></pre>\n\n<p>I can do this by creating a template file like</p>\n\n<pre><code>paramA = 1,paramB = 2,\nparamC = &lt;&gt;,paramD = 4,\n</code></pre>\n\n<p>and then use perl to match the mark &lt;> and replace it with the value I want. However is there a more direct way to match the parameter name and change its value ?</p>\n\n<p>thanks.</p>\n"}, {"tags": ["perl", "file", "search-engine", "webpage"], "comments": [{"owner": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 1, "creation_date": 1421850364, "post_id": 28069323, "comment_id": 44518476, "body": "It&#39;s possible.  What have you tried?  Have you searched on CPAN for useful modules?"}, {"owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "reply_to_user": {"reputation": 8202, "user_id": 58074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297b31165c5ef426c8fa89c3375b0d2a?s=128&d=identicon&r=PG", "display_name": "dsolimano", "link": "https://stackoverflow.com/users/58074/dsolimano"}, "edited": false, "score": 0, "creation_date": 1421850516, "post_id": 28069323, "comment_id": 44518564, "body": "Yes I found this module -&gt; <a href=\"http://search.cpan.org/~prashant/Win32-IEAutomation-0.4/lib/Win32/IEAutomation.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~prashant/Win32-IEAutomation-0.4/lib/Win32/&hellip;</a>&zwnj;&#8203;, this had pretty much all I was looking for. Was not sure if its just specific to google or can be used on any webpage."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1421850677, "post_id": 28069323, "comment_id": 44518673, "body": "I&#39;d be thinking <code>WWW::Mechanize</code>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1421855050, "creation_date": 1421855050, "answer_id": 28071220, "question_id": 28069323, "link": "https://stackoverflow.com/questions/28069323/controlling-a-random-webpage-through-a-perl-script/28071220#28071220", "title": "Controlling a random webpage through a Perl script", "body": "<p>This is HTTP client programming. You're basically writing a program that is pretending to be a browser.</p>\n\n<p>The standard module for doing this is probably <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow\">WWW::Mechanize</a> (see the <a href=\"https://metacpan.org/pod/distribution/WWW-Mechanize/lib/WWW/Mechanize/Cookbook.pod\" rel=\"nofollow\">cookbook</a> and the <a href=\"https://metacpan.org/pod/distribution/WWW-Mechanize/lib/WWW/Mechanize/Examples.pod\" rel=\"nofollow\">examples</a>).</p>\n\n<p>If you want something lower level, then the <a href=\"https://metacpan.org/release/libwww-perl\" rel=\"nofollow\">LWP</a> bundle of modules will do all that you want.</p>\n\n<p>There's a <a href=\"http://lwp.interglacial.com/\" rel=\"nofollow\">free online book</a>. But it's a little old and probably doesn't reflect current best practices.</p>\n"}], "owner": {"reputation": 783, "user_id": 929935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4e8306d82f4ea5fe673f449aa049b9db?s=128&d=identicon&r=PG&f=1", "display_name": "Amritha", "link": "https://stackoverflow.com/users/929935/amritha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 28071220, "answer_count": 1, "score": -1, "last_activity_date": 1421855050, "creation_date": 1421849607, "question_id": 28069323, "link": "https://stackoverflow.com/questions/28069323/controlling-a-random-webpage-through-a-perl-script", "title": "Controlling a random webpage through a Perl script", "body": "<p>There is a random website say abc.com and this website has a search engine. Is it possible to create a perl script to automatically read from a text file and feed search values into this search engine and automatically download the files that are the result of the search ? Once the download is complete, the loop has to continue until all the search values have been exhausted. I don't have any server details about the website itself. </p>\n\n<p>Any help is much appreciated. Thanks ! </p>\n"}, {"tags": ["oracle", "perl", "dbi"], "comments": [{"owner": {"reputation": 3097, "user_id": 3070062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c7574a287e2a9be02000157f65532?s=128&d=identicon&r=PG&f=1", "display_name": "Falco", "link": "https://stackoverflow.com/users/3070062/falco"}, "edited": false, "score": 0, "creation_date": 1421853108, "post_id": 28068786, "comment_id": 44520296, "body": "I think you misunderstood something from the documentation! user_columns is a table, which is always 100% up-to-date - the only thing changing with ANALYZE are the columns which include statistical data. But Columns like Name, Type... are always exactly like DESCRIBE"}, {"owner": {"reputation": 858, "user_id": 4133384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a494b3542eab71d190b1adf204c4f64?s=128&d=identicon&r=PG&f=1", "display_name": "evilive", "link": "https://stackoverflow.com/users/4133384/evilive"}, "reply_to_user": {"reputation": 3097, "user_id": 3070062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c7574a287e2a9be02000157f65532?s=128&d=identicon&r=PG&f=1", "display_name": "Falco", "link": "https://stackoverflow.com/users/3070062/falco"}, "edited": false, "score": 0, "creation_date": 1421854098, "post_id": 28068786, "comment_id": 44520960, "body": "Hm that&#39;s what i thought as well, but: <code>select column_name, data_type, data_length from user_tab_columns where  table_name = &#39;MY_TABLE&#39; and column_name = &#39;MY_COLUMN&#39;;</code> gives me a data length of 200. SELECT dbms_metadata.get_ddl(&#39;TABLE&#39;, &#39;MY_TABLE&#39;)FROM dual;` shows 50 for the particular column, <code>DESCRIBE MY_TABLE</code> shows 50 as well. Executed in the same session/db-client-window of course. Allready thought about misinterpreting the data length value concering bytes and char for a varchar column, but for all other columns it fits."}, {"owner": {"reputation": 3097, "user_id": 3070062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c7574a287e2a9be02000157f65532?s=128&d=identicon&r=PG&f=1", "display_name": "Falco", "link": "https://stackoverflow.com/users/3070062/falco"}, "edited": false, "score": 0, "creation_date": 1421854830, "post_id": 28068786, "comment_id": 44521550, "body": "If it is a VARCHAR Table, you have to look for the COLUMN: CHAR_LENGTH, because LENGTH is the reserved length in byte, which is 4 times the char length for UTF-8"}, {"owner": {"reputation": 3097, "user_id": 3070062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c7574a287e2a9be02000157f65532?s=128&d=identicon&r=PG&f=1", "display_name": "Falco", "link": "https://stackoverflow.com/users/3070062/falco"}, "edited": false, "score": 0, "creation_date": 1421856767, "post_id": 28068786, "comment_id": 44522984, "body": "The length depends on your encoding and if you created the Table with Length (XX BYTE) or (XX CHAR) if you use BYTE, the values will be the same, if you use CHAR, the length will be 4xchar_length. So you can have one table where it is the same for some columns and different for others"}, {"owner": {"reputation": 858, "user_id": 4133384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a494b3542eab71d190b1adf204c4f64?s=128&d=identicon&r=PG&f=1", "display_name": "evilive", "link": "https://stackoverflow.com/users/4133384/evilive"}, "reply_to_user": {"reputation": 3097, "user_id": 3070062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c7574a287e2a9be02000157f65532?s=128&d=identicon&r=PG&f=1", "display_name": "Falco", "link": "https://stackoverflow.com/users/3070062/falco"}, "edited": false, "score": 0, "creation_date": 1421857782, "post_id": 28068786, "comment_id": 44523656, "body": "D&#39;oh! That&#39;s it. Feeling a little stupid as I thought I had checked <i>all</i> the other columns of <code>user_tab_columns</code> but obviously I didn&#39;t....at least the view works as I always expected. Thank You!"}], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 4133384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a494b3542eab71d190b1adf204c4f64?s=128&d=identicon&r=PG&f=1", "display_name": "evilive", "link": "https://stackoverflow.com/users/4133384/evilive"}, "edited": false, "score": 0, "creation_date": 1421850895, "post_id": 28069363, "comment_id": 44518820, "body": "Ah thank you! So <code>column_info</code> indeed queries <code>all_tab_columns</code> and I don&#39;t need to worry anymore calling it...hopefully next time I think of the source-links myself :)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1421849736, "creation_date": 1421849736, "answer_id": 28069363, "question_id": 28068786, "link": "https://stackoverflow.com/questions/28068786/where-do-perls-dbioracle-table-info-column-info-get-their-information-from/28069363#28069363", "title": "Where do perls dbi:Oracle table_info/column_info get their information from?", "body": "<p>You might have not found the DBD::Oracle documentation particularly helpful, but did you consider using the source code?</p>\n\n<p>Here is the source for <a href=\"https://metacpan.org/source/PYTHIAN/DBD-Oracle-1.74/lib/DBD/Oracle.pm#L414\" rel=\"nofollow\">table_info()</a> and <a href=\"https://metacpan.org/source/PYTHIAN/DBD-Oracle-1.74/lib/DBD/Oracle.pm#L414\" rel=\"nofollow\">column_info()</a>. Both subroutines largely seem to be spent building up SQL statements.</p>\n"}], "owner": {"reputation": 858, "user_id": 4133384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a494b3542eab71d190b1adf204c4f64?s=128&d=identicon&r=PG&f=1", "display_name": "evilive", "link": "https://stackoverflow.com/users/4133384/evilive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "accepted_answer_id": 28069363, "answer_count": 1, "score": 5, "last_activity_date": 1421857941, "creation_date": 1421847978, "last_edit_date": 1421857941, "question_id": 28068786, "link": "https://stackoverflow.com/questions/28068786/where-do-perls-dbioracle-table-info-column-info-get-their-information-from", "title": "Where do perls dbi:Oracle table_info/column_info get their information from?", "body": "<p>I've got an (at least i thought so) simple task: Comparing 2 tables by columnnames, datatypes and length only to verify they have the same structure so far. It should be done in an existing perl script which is connecting to two different databases.</p>\n\n<p>First I simply queried each databases <code>user_tab_columns</code> and compared the result. Now I found out the hard way that <code>user_tab_columns</code> is not live but has to be refreshed by analyzing the table ( <a href=\"http://docs.oracle.com/cd/B19306_01/server.102/b14237/statviews_4462.htm#REFRN26277\" rel=\"nofollow\">http://docs.oracle.com/cd/B19306_01/server.102/b14237/statviews_4462.htm#REFRN26277</a> ), which I absoultly had no idea of. </p>\n\n<p><code>describe</code> gets the actual table definition, but doesn't seem to work through perls dbi:Oracle, so I stumbled upon the <code>table_info()</code>and <code>column_info()</code> methods. <strong>But where do they get their information from?</strong> If they just query <code>*_tab_columns</code> as well, they're not of use to me.</p>\n\n<p>I can't simply test because I didn't manage to pass the right parameters yet. The <a href=\"http://search.cpan.org/~timb/DBI-1.633/DBI.pm#table_info\" rel=\"nofollow\" title=\"DBI Documentation\">Dbi Documentation</a> says it is according to the database driver. The <a href=\"http://search.cpan.org/~pythian/DBD-Oracle-1.74/lib/DBD/Oracle.pm#table_info()\" rel=\"nofollow\">Oracle DBD Documentation</a> wasn't very helpfull to me as well, trial and error so far resulted in getting all objects or nothing at all.</p>\n\n<p>At the moment I'm thinking of executing <code>describe</code> via <code>sqlplus</code> through a perl system call and parsing the output....but there <em>has</em> to be a better way. </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The view <code>user_tab_columns</code>works as expected, if checking the right columns (see comments below ).</p>\n"}, {"tags": ["perl", "getopt-long"], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 5, "last_activity_date": 1421847495, "creation_date": 1421847495, "answer_id": 28068651, "question_id": 28068229, "link": "https://stackoverflow.com/questions/28068229/perl-getoptions-multiple-values/28068651#28068651", "title": "perl getoptions multiple values", "body": "<p>For the repeat specifier to work, the target must already be an array reference:</p>\n\n<pre><code>use Getopt::Long;    \nmy %args = ( updategroup =&gt; [] );\nGetOptions(\\%args, \"updategroup=s{2}\",\"validategroup=s\");\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4073666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-qOHHtd-3N5U/AAAAAAAAAAI/AAAAAAAAAAA/6QJYqgV0B7k/photo.jpg?sz=128", "display_name": "Sandeep Madhu", "link": "https://stackoverflow.com/users/4073666/sandeep-madhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1586052687, "creation_date": 1421846234, "last_edit_date": 1586052687, "question_id": 28068229, "link": "https://stackoverflow.com/questions/28068229/perl-getoptions-multiple-values", "title": "perl getoptions multiple values", "body": "<p>I am trying to parse command line options and values in my script.  The script accepts 2 options: <code>updategroup</code> or <code>validategroup</code>. The <code>updategroup</code> option should accept 2 values.  For example: </p>\n\n<p><code>./script.pl -updategroup 'group1' 'enable'</code></p>\n\n<p>This is how I call <code>GetOptions</code>:</p>\n\n<pre><code>GetOptions(\\%args,\"updategroup=s{2}\",\"validategroup=s\");\n</code></pre>\n\n<p>After calling it, I would like to store the 2 values in an array.  How to fetch this value from the <code>%args</code> hash variable?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "edited": false, "score": 0, "creation_date": 1421850315, "post_id": 28067797, "comment_id": 44518462, "body": "regex if i need to add text(:1 :2 :3.....) in increasing order as column increases as given in below format                                                         1   1:0.126082656   2:0.118439349   3:0.129554726    +1  1:0.129733599   2:0.128425124   3:0.127376228"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "edited": false, "score": 0, "creation_date": 1421849892, "post_id": 28067926, "comment_id": 44518216, "body": "Thanks for the solution. I have one more query, what would be the regex if i need to add text(:1 :2 :3.....) in increasing order as column increases as given in below format                                                         1   1:0.126082656:1   2:0.118439349:1   3:0.129554726:1     +1  1:0.129733599:1   2:0.128425124:1   3:0.127376228:1"}], "tags": [], "owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1421903168, "last_edit_date": 1421903168, "creation_date": 1421845364, "answer_id": 28067926, "question_id": 28067797, "link": "https://stackoverflow.com/questions/28067797/how-to-append-the-text-increasing-order-using-regex-in-perl/28067926#28067926", "title": "How to append the text (increasing order) using regex in perl", "body": "<p>You can try this substitution </p>\n\n<pre><code>$line =~ s/(\\d+\\.\\d+)/\\1:1/g\n</code></pre>\n\n<p><strong>Updated Answer:</strong></p>\n\n<pre><code>open(my $inp, \"&lt; FileName\") or die $!;\nmy $val;\nmy @amu = &lt;$inp&gt;;\nclose ($inp);\nforeach my $line(@amu)\n{\n    $val=0;\n    if ($line =~ s/(\\d+\\.\\d+)/++$val != 0 ? \"$val:$1:1\" : \"\"/eg)\n    {\n        print $line;\n    }\n}\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<pre><code>1   1:0.126082656:1 2:0.118439349:1 3:0.129554726:1 \n+1  1:0.129733599:1 2:0.128425124:1 3:0.127376228:1 \n+1  1:0.136149406:1 2:0.122109378:1 3:0.134386804:1 \n1   1:0.1077886:1   2:0.108754544:1 3:0.112025117:1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 0, "last_activity_date": 1421847234, "creation_date": 1421847234, "answer_id": 28068567, "question_id": 28067797, "link": "https://stackoverflow.com/questions/28067797/how-to-append-the-text-increasing-order-using-regex-in-perl/28068567#28068567", "title": "How to append the text (increasing order) using regex in perl", "body": "<pre><code>(?&lt;= )(\\S+)\n</code></pre>\n\n<p>You can try this.Replace by <code>\\1:1</code> or <code>$1:1</code>.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/tX2bH4/75\" rel=\"nofollow\">https://regex101.com/r/tX2bH4/75</a></p>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1421866969, "creation_date": 1421866969, "answer_id": 28074810, "question_id": 28067797, "link": "https://stackoverflow.com/questions/28067797/how-to-append-the-text-increasing-order-using-regex-in-perl/28074810#28074810", "title": "How to append the text (increasing order) using regex in perl", "body": "<p>Here is a way to do it:</p>\n\n<pre><code>while(&lt;DATA&gt;) {\n    my $i = 1;\n    s/(\\s)(\\d)/\"$1\" . $i++ . \":$2\"/eg;\n    print;\n}\n\n__DATA__\n1   0.126082656 0.118439349 0.129554726 \n+1  0.129733599 0.128425124 0.127376228 \n+1  0.136149406 0.122109378 0.134386804 \n1   0.1077886   0.108754544 0.112025117\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>1   1:0.126082656 2:0.118439349 3:0.129554726 \n+1  1:0.129733599 2:0.128425124 3:0.127376228 \n+1  1:0.136149406 2:0.122109378 3:0.134386804 \n1   1:0.1077886   2:0.108754544 3:0.112025117\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": false, "score": 0, "last_activity_date": 1421906230, "creation_date": 1421906230, "answer_id": 28082109, "question_id": 28067797, "link": "https://stackoverflow.com/questions/28067797/how-to-append-the-text-increasing-order-using-regex-in-perl/28082109#28082109", "title": "How to append the text (increasing order) using regex in perl", "body": "<p>I'd probably do that without a script but on the command line:</p>\n\n<pre><code>perl -pe \"$q=1;s/(\\s)(\\S)/$1 . $q++ . ':' . $2/ge\" your_file.txt\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 3867469, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/a349af8334c0f5b740aa4799a5c06a29?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil90", "link": "https://stackoverflow.com/users/3867469/swapnil90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1421906230, "creation_date": 1421844965, "last_edit_date": 1421856616, "question_id": 28067797, "link": "https://stackoverflow.com/questions/28067797/how-to-append-the-text-increasing-order-using-regex-in-perl", "title": "How to append the text (increasing order) using regex in perl", "body": "<p>I am having a file containing following data (4 rows and 4 columns)</p>\n\n<pre><code>1   0.126082656 0.118439349 0.129554726 \n\n+1  0.129733599 0.128425124 0.127376228 \n\n+1  0.136149406 0.122109378 0.134386804 \n\n1   0.1077886   0.108754544 0.112025117\n</code></pre>\n\n<p>Now i need to append 1: to col2, 2: to col3 3: to col4 and so on till the last column, such that the data looks like</p>\n\n<pre><code>1   1:0.126082656   2:0.118439349   3:0.129554726   \n\n+1  1:0.129733599   2:0.128425124   3:0.127376228\n\n.\n.\n</code></pre>\n\n<p>I have tried using following code but i am not able to make increment</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nopen(my $inp, \"&lt;train.train\") or die $!;\nmy @amu = &lt;$inp&gt;;\nclose ($inp);\nforeach my $line(@amu)\n{\n    if ($line =~ s/(\\d+\\.\\d+)/1:$1/g)\n    {\n        print $line;\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Please correct me to fit the desired solution.</p>\n"}, {"tags": ["linux", "perl", "perl-module"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421844958, "post_id": 28067491, "comment_id": 44515083, "body": "Which version of perl are you using? Any chance you&#39;ve installed a perl in /usr/local/bin?"}, {"owner": {"reputation": 609, "user_id": 2515644, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4156fac4dc116f76eb036a6253ad6661?s=128&d=identicon&r=PG", "display_name": "SharonKo", "link": "https://stackoverflow.com/users/2515644/sharonko"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421845284, "post_id": 28067491, "comment_id": 44515271, "body": "The perl version is: v5.10.0 built for x86_64-linux-thread-multi.  I don&#39;t think the perl is installed where you mentioned (This dir has only 4 files in it)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1421845415, "post_id": 28067491, "comment_id": 44515344, "body": "<code>which perl</code> will tell you. Although I&#39;ve just noticed - you&#39;ve installed cairo-devel, but that doesn&#39;t necessarily include perl modules. Try <code>cpan install Cairo</code>"}, {"owner": {"reputation": 609, "user_id": 2515644, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4156fac4dc116f76eb036a6253ad6661?s=128&d=identicon&r=PG", "display_name": "SharonKo", "link": "https://stackoverflow.com/users/2515644/sharonko"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421845575, "post_id": 28067491, "comment_id": 44515448, "body": "Ok it says /usr/bin/perl"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421852401, "post_id": 28067491, "comment_id": 44519858, "body": "@Sobrique it would be <code>cpan Cairo</code>, not <code>cpan install Cairo</code>. I make that mistake all the time myself."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421852581, "post_id": 28067491, "comment_id": 44519975, "body": "Works on my linux box..."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1421850270, "last_edit_date": 1421850270, "creation_date": 1421847377, "answer_id": 28068610, "question_id": 28067491, "link": "https://stackoverflow.com/questions/28067491/cant-locate-cairo-pm-in-inc/28068610#28068610", "title": "Can&#39;t locate Cairo.pm in @INC", "body": "<p>Some confusion about RPMs here.</p>\n\n<ul>\n<li>The RPM that contains the Cairo library is called <code>cairo</code></li>\n<li>The RPM that contains the headers that you need in order to use Cairo in C programs is called <code>cairo-dev</code></li>\n</ul>\n\n<p>In order to use Cairo from Perl you will need to install the CPAN module <a href=\"https://metacpan.org/pod/Cairo\" rel=\"nofollow\">Cairo.pm</a>. That may be pre-packaged for your distribution in an RPM called <code>perl-Cairo</code>. But you may need to install it using <a href=\"https://metacpan.org/pod/distribution/CPAN/scripts/cpan\" rel=\"nofollow\"><code>cpan</code></a> (or, better if you have it, <a href=\"https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm\" rel=\"nofollow\"><code>cpanm</code></a>).</p>\n"}], "owner": {"reputation": 609, "user_id": 2515644, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4156fac4dc116f76eb036a6253ad6661?s=128&d=identicon&r=PG", "display_name": "SharonKo", "link": "https://stackoverflow.com/users/2515644/sharonko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 0, "accepted_answer_id": 28068610, "answer_count": 1, "score": 0, "last_activity_date": 1421850270, "creation_date": 1421844008, "question_id": 28067491, "link": "https://stackoverflow.com/questions/28067491/cant-locate-cairo-pm-in-inc", "title": "Can&#39;t locate Cairo.pm in @INC", "body": "<p>I'm new to perl and I try to run a script that uses Cairo package.\nWhen I run it, I get the following error:</p>\n\n<pre><code>Can't locate Cairo.pm in @INC\n</code></pre>\n\n<p>So, I tried to install it and it appears to already be installed:</p>\n\n<pre><code>?&gt; sudo yum install cairo-devel\nPackage cairo-devel-1.8.8-3.fc12.x86_64 already installed and latest version\nNothing to do\n</code></pre>\n\n<p>I tried to find the file <code>Cairo.pm</code> manualy (using <code>find -name Cairo.pm</code>) but couldn't find it.</p>\n\n<p>Finally, I've tried to find it using <code>rpm -ql cairo-devel</code> and also couldn't find it.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "edited": false, "score": 0, "creation_date": 1421839158, "post_id": 28065913, "comment_id": 44511733, "body": "Thank you for quick solution. But can we do it using perl script :) :)"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1421839081, "creation_date": 1421839081, "answer_id": 28065913, "question_id": 28065761, "link": "https://stackoverflow.com/questions/28065761/remove-the-tabs-in-a-particular-line/28065913#28065913", "title": "remove the tabs in a particular line", "body": "<pre><code>if ($line =~ s/^\\h+(?=0x)//) {\n  $line =~ s/\\h+/ /g;\n  print $line;\n}\n</code></pre>\n\n<p>or from command line,</p>\n\n<pre><code>perl -ne 'print if s/^\\h+(?=0x)// and s/\\h+/ /g' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "edited": false, "score": 0, "creation_date": 1421844302, "post_id": 28065922, "comment_id": 44514702, "body": "Thanks for the quick solution."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1421839102, "creation_date": 1421839102, "answer_id": 28065922, "question_id": 28065761, "link": "https://stackoverflow.com/questions/28065761/remove-the-tabs-in-a-particular-line/28065922#28065922", "title": "remove the tabs in a particular line", "body": "<p>How about:</p>\n\n<pre><code>if ( $line =~ m/\\A\\s+0x/ ) {\n    $line =~ s/\\s+/ /g;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1421839519, "last_edit_date": 1421839519, "creation_date": 1421839159, "answer_id": 28065946, "question_id": 28065761, "link": "https://stackoverflow.com/questions/28065761/remove-the-tabs-in-a-particular-line/28065946#28065946", "title": "remove the tabs in a particular line", "body": "<p>I'm not sure why you have the pipe characters <code>|</code> in your regex, as there are none in your sample data.</p>\n\n<p>On the face of it, all you need is <code>s/^\\s+(?=0x)//</code></p>\n\n<p>In a program, that would look like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'C:\\Desktop\\P4x.lst';\nopen my $fh, '&lt;', $filename or die qq{Failed to open \"$filename\" for input: $!};\n\nwhile (&lt;$fh&gt;) {\n  s/^\\s+(?=0x)//;\n  print;\n}\n</code></pre>\n\n<p>or as a one-liner on the command line</p>\n\n<pre><code>perl -pe's/^\\s+(?=0x)//'\n</code></pre>\n\n<p>Both solutions send the modified text to STDOUT, and it can be written to a file using redirection.</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>If you want to change all whitespace to a single space as well as removing leading whitespace, as <code>@\u0421\u0443\u0445\u043e\u043927</code> has understood, then you just need to change</p>\n\n<pre><code>s/^\\s+(?=0x)//\n</code></pre>\n\n<p>to</p>\n\n<pre><code>s/^\\s+(?=0x)// and s/\\s+/ /g\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28065913, "answer_count": 3, "score": 2, "last_activity_date": 1421839519, "creation_date": 1421838679, "question_id": 28065761, "link": "https://stackoverflow.com/questions/28065761/remove-the-tabs-in-a-particular-line", "title": "remove the tabs in a particular line", "body": "<p>This particular question I have tried and could not get anywhere in SO.\nMy input file is a asembly file which has all the assembly instruction.</p>\n\n<p><strong>I have this input file :</strong></p>\n\n<pre><code>.src_ref 0 \"call.s\" 24 first\n      0x000000    0x5a80 0x0060         BRA.l 0x60\n.src_ref 0 \"call.s\" 30 first\n      0x000002    0x1bc5                RETI\n.src_ref 0 \"call.s\" 31 first\n      0x000003    0x6840                MOV R0L,R0L\n.src_ref 0 \"call.s\" 35 first\n      0x000004    0x1bc5     \n</code></pre>\n\n<p>All I want to do is remove the tab or spaces when I encounter lines with 0x*****</p>\n\n<p>So far I managed this code, but i am unable to remove it.\nTried several options and could not get it working.</p>\n\n<p><strong>Expected output</strong> </p>\n\n<pre><code>0x000000 0x5a80 0x0060 BRA.l 0x60\n0x000002 0x1bc5 RETI\n0x000003 0x6840 MOV R0L,R0L\n</code></pre>\n\n<p><strong>So far I wrote a code as</strong> </p>\n\n<pre><code>my $filename = 'c:\\Desktop\\P4x.lst';\nmy $line = 0;\nopen(FILE,$filename) or die \"Could not read from filename\";\nmy @lines = &lt;FILE&gt;;\nchop @lines;    \n\n\nforeach my $line(@lines) \n    {\n        if ($line =~ /      0x*/)\n        {\n            $line =~ s/[ ]*\\|[ ]*\\|[ ]*\\|[ ]*\\|[ ]*/|/g;\n            print \"$line\\n\";\n        }\n\n    }\n</code></pre>\n\n<p>So here if I encounter the lines with 0x* then I want to remove the extra space.\nCan anyone help me please.\nThank you.</p>\n"}, {"tags": ["ios", "perl", "shell", "grep"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1421836799, "post_id": 28064814, "comment_id": 44510349, "body": "Please, fix the quotes."}, {"owner": {"reputation": 113, "user_id": 1396936, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6dde3c23b1a3796b9c41729dfad09661?s=128&d=identicon&r=PG", "display_name": "chandvoid", "link": "https://stackoverflow.com/users/1396936/chandvoid"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1421838448, "post_id": 28064814, "comment_id": 44511311, "body": "Which quotes, Could you please elaborate?"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1421843046, "post_id": 28064814, "comment_id": 44513973, "body": "The curly quotes (\u201c) where you almost certainly used straight quotes (&quot;) in the shell."}], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1421933090, "creation_date": 1421933090, "answer_id": 28089908, "question_id": 28064814, "link": "https://stackoverflow.com/questions/28064814/search-and-replace-in-xib-file/28089908#28089908", "title": "Search and replace in xib file", "body": "<p>The shell is expanding <code>$MSAwLjMxMTU4NDA0NDMgMC4wOTczNjMxNzM3NQA</code>as a variable and grep is producing output in the form \"file: \", which <code>sort | uniq</code> is not correcting. </p>\n\n<pre><code>grep -l -i -r --include=*.xib '\\$MSAwLjMxMTU4NDA0NDMgMC4wOTczNjMxNzM3NQA' myProjectPath | xargs perl -pi -e 's/\\$MSAwLjMxMTU4NDA0NDMgMC4wOTczNjMxNzM3NQA/\\$MC4xNTI5NDExODIzIDAuODA3ODQzMjA4MyAwLjE4MDM5MjE2MQA/' \"$file\"\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 1396936, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6dde3c23b1a3796b9c41729dfad09661?s=128&d=identicon&r=PG", "display_name": "chandvoid", "link": "https://stackoverflow.com/users/1396936/chandvoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421933090, "creation_date": 1421836050, "last_edit_date": 1421836497, "question_id": 28064814, "link": "https://stackoverflow.com/questions/28064814/search-and-replace-in-xib-file", "title": "Search and replace in xib file", "body": "<p>I am trying to search a text in some of the xibs in my project and replace the found text with some other text. I am using below mentioned command to perform the mentioned action but it is saying </p>\n\n<blockquote>\n  <p>\"grep: warning: recursive search of stdin\" and going to infinite waiting state.</p>\n</blockquote>\n\n<pre><code>grep -i -r --include=*.xib \u201c$MSAwLjMxMTU4NDA0NDMgMC4wOTczNjMxNzM3NQA\" myProjectPath | sort | uniq | xargs perl -e \u201cs/$MSAwLjMxMTU4NDA0NDMgMC4wOTczNjMxNzM3NQA/$MC4xNTI5NDExODIzIDAuODA3ODQzMjA4MyAwLjE4MDM5MjE2MQA/\" -pi\n</code></pre>\n\n<p>Please let me know where i am going wrong.\nThanx in advance.</p>\n"}, {"tags": ["php", "mysql", "perl", "freeradius", "coovachilli"], "comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 1, "creation_date": 1421836258, "post_id": 28064798, "comment_id": 44509998, "body": "Voted to close because it&#39;s really unclear what this is about. Why did you tag it PHP, Perl etc.? It seems it&#39;s only about SQL. I don&#39;t care to find out because your bad formatting really distracts me."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4477692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GUZxk7_xP0M/AAAAAAAAAAI/AAAAAAAAAAA/ncBGjKOcF9I/photo.jpg?sz=128", "display_name": "Dunhill-RD", "link": "https://stackoverflow.com/users/4477692/dunhill-rd"}, "is_accepted": false, "score": 0, "last_activity_date": 1421839049, "creation_date": 1421839049, "answer_id": 28065905, "question_id": 28064798, "link": "https://stackoverflow.com/questions/28064798/search-database-replace-field-with-value-of-another-field/28065905#28065905", "title": "search database replace field with value of another field", "body": "<p>found some solution:</p>\n\n<p>file /etc/freeradius/sql/mysql/clients.conf. Just replace every occurrence of the string\n'%{SQL-User-Name}'\nWith this string\nIF('%{SQL-User-Name}' = 'DEFAULT', '%{Calling-Station-Id}', '%{SQL-User-Name}')\nThat will replace an empty user name with the MAC address of the request.</p>\n\n<p>referring page: <a href=\"http://www.coova.org/node/4314\" rel=\"nofollow\">http://www.coova.org/node/4314</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4477692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GUZxk7_xP0M/AAAAAAAAAAI/AAAAAAAAAAA/ncBGjKOcF9I/photo.jpg?sz=128", "display_name": "Dunhill-RD", "link": "https://stackoverflow.com/users/4477692/dunhill-rd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1421839049, "creation_date": 1421836022, "last_edit_date": 1421836161, "question_id": 28064798, "link": "https://stackoverflow.com/questions/28064798/search-database-replace-field-with-value-of-another-field", "title": "search database replace field with value of another field", "body": "<p>yes i am a newbie.</p>\n\n<p>yes i read and tried all posted solutions.</p>\n\n<p>no i can't get it to work in 1 sequence.</p>\n\n<p>problem: coovachilli radius database: 1 field got the wrong information</p>\n\n<p>i want to find a way to find and replace the faulty field with the correct field\nrunning as a seperate program or pasted into one of the existing modules</p>\n\n<p>i use and it works manually</p>\n\n<pre><code>update radacct set username = replace username, 'DEFAULT', '???' ;\n</code></pre>\n\n<p>but how do i replace the <code>???</code> with the value of another field (<code>callingstationid</code>) in the same line</p>\n\n<p>or how to get this in in a perl prog with</p>\n\n<pre><code>mysql -u$user -p$pass $database etc etc  \n</code></pre>\n"}, {"tags": ["perl", "shell", "cgi", "solaris"], "answers": [{"comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 1, "creation_date": 1421837433, "post_id": 28064834, "comment_id": 44510739, "body": "-1 for suggesting to disable host key checking. This is really not a good idea. Why are we not using telnet anymore? There are other possibilities like knowing all host keys or sharing one host key between all cluster nodes."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 1, "creation_date": 1421838406, "post_id": 28064834, "comment_id": 44511288, "body": "Because telnet sends everything in the clear, where ssh doesn&#39;t? Because telnet doesn&#39;t allow public-private key auth where ssh doesn&#39;t?  Disabling host key checking is a risk, yes. As with all risks, you need to assess whether it&#39;s one worth taking."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1421836114, "creation_date": 1421836114, "answer_id": 28064834, "question_id": 28064235, "link": "https://stackoverflow.com/questions/28064235/perl-cgi-running-commands-on-a-remote-machine/28064834#28064834", "title": "Perl cgi : running commands on a remote machine", "body": "<p>That's an SSH error, which means the cached host key identity isn't valid. This typically occurs if you've got a cluster, with different ssh host keys - your client caches a key for that hostname in <code>.ssh/known_hosts</code>. </p>\n\n<p>First workaround is delete the key from <code>known_hosts</code> and try again. Second workaround is enable an ssh option to disable strict host key checking. <code>StrictHostKeyChecking=no</code></p>\n\n<p>But first you REALLY want to make sure why the host key isn't valid - this could be very bad news. (More likely it's a server rebuild, cluster migrate or something like that, but it really does pay to check)</p>\n"}], "owner": {"reputation": 225, "user_id": 2607367, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fb70e2dd89feb8f17fe9704e6d175bb8?s=128&d=identicon&r=PG", "display_name": "user2607367", "link": "https://stackoverflow.com/users/2607367/user2607367"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421836114, "creation_date": 1421834322, "last_edit_date": 1421835985, "question_id": 28064235, "link": "https://stackoverflow.com/questions/28064235/perl-cgi-running-commands-on-a-remote-machine", "title": "Perl cgi : running commands on a remote machine", "body": "<p>I need to see a current status of DataPower services on a browser.For this, I have developed a perl cgi script on a solaris machine.</p>\n\n<p>I have a cgi webserver running on a solaris server from which I don't have a direct connectivity to DataPower appliance.hence through the script I am connecting to a remote Solaris server 'sun-rm' which has a connectivity to DataPower appliance.</p>\n\n<p>Using the below two statements in the script I am trying to run the commands on remote server 'sun-rm' which will get the current stats of daatpower service.</p>\n\n<p><code>system('ssh root@sun-rm \"cd /tmp/dp/status; ./getstatus\"');\nsystem('scp -rp root@sun-rm:/tmp/dp/status/DPlive_Status /opt/webserver/https-util/cgi-bin2/datapower/');</code></p>\n\n<p>but it seems that the webserver is not able to make secure connection with 'sun-rm' server as I can see below error in errors logs.</p>\n\n<p><code>Host key verification failed</code>.</p>\n\n<p>Now, due to some security reason I cnt add the key of 'sun-rm' server to webserver's trust store. Is there any way using which the commands can be run on a remote machine? </p>\n\n<p>Further, this webserver is installed on solaris machine 'sun-util', from which I can do ssh to 'sun-rm'. But the ssh connection from webserver to 'sun-rm' cant be established due to the reason mentioned above.</p>\n\n<p>I can understand that this might be a bit confusing question, please let me know in case any more explianation needed?</p>\n\n<p>The script developed by me is as below:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse diagnostics;\n\n    printf \"Content-type: text/html\\n\\n\";\n\n    print &lt;&lt;HTML;\n     &lt;HTML&gt;\n     &lt;HEAD&gt;\n         &lt;TITLE&gt;DataPower_Status&lt;/TITLE&gt;\n    &lt;/HEAD&gt;\n      HTML\n\n    system('ssh root@sun-rm \"cd /tmp/dp/status; ./getstatus\"');\n    system('scp -rp root@sun-rm:/tmp/dp/status/DPlive_Status     /opt/webserver7/https-util/cgi-bin2/datapower/');\n\n chmod(0777, '/opt/webserver7/https-util/cgi-bin2/datapower/DPlive_Status');\n\n open (FILE, \"DPlive_Status\") or die \"could not open filename\";\n   while(&lt;FILE&gt;) {\n     if ($_ =~ m/^Service/)\n       {\n           printf \"&lt;TR&gt;&lt;TD&gt;&lt;H4&gt;$_&lt;/H4&gt;&lt;/TD&gt;&lt;/TR&gt;\\n\";\n\n       }\n       else {\n\n           printf \"&lt;TR&gt;&lt;TD&gt;&lt;p&gt;$_&lt;/p&gt;&lt;/TD&gt;&lt;/TR&gt;\\n\";\n       }\n      }\n    close FILE;\n\n       print &lt;&lt;HTML;\n          &lt;/body&gt;\n          &lt;/html&gt;\n           HTML\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1421821339, "post_id": 28060315, "comment_id": 44502833, "body": "<a href=\"http://stackoverflow.com/a/13520415/223226\">stackoverflow.com/a/13520415/223226</a>"}], "answers": [{"tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": true, "score": 6, "last_activity_date": 1421818854, "creation_date": 1421818854, "answer_id": 28060355, "question_id": 28060315, "link": "https://stackoverflow.com/questions/28060315/the-return-value-of-integer-compare-is-strange-1-1-is-1-but-1-0-is/28060355#28060355", "title": "The return value of integer compare is strange. (1==1) is &#39;1&#39; but (1!=0) is &#39;&#39; (nothing)", "body": "<p>There's nothing wrong with your Perl; that's just the way Perl works. Comparisons return 1 for true and a special version of the empty string for false. See <a href=\"http://perldoc.perl.org/perlop.html#Relational-Operators\">http://perldoc.perl.org/perlop.html#Relational-Operators</a>:</p>\n\n<blockquote>\n  <p>Perl operators that return true or false generally return values that can be safely used as numbers. For example, the relational operators in this section and the equality operators in the next one return 1 for true and a special version of the defined empty string, \"\" , which counts as a zero but is exempt from warnings about improper numeric conversions, just as \"0 but true\" is.</p>\n</blockquote>\n"}], "owner": {"reputation": 185, "user_id": 1442443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15f9818b878e90d96af9412ff5178e30?s=128&d=identicon&r=PG", "display_name": "carl", "link": "https://stackoverflow.com/users/1442443/carl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1421821323, "accepted_answer_id": 28060355, "answer_count": 1, "score": 1, "last_activity_date": 1421818854, "creation_date": 1421818604, "question_id": 28060315, "link": "https://stackoverflow.com/questions/28060315/the-return-value-of-integer-compare-is-strange-1-1-is-1-but-1-0-is", "closed_reason": "Duplicate", "title": "The return value of integer compare is strange. (1==1) is &#39;1&#39; but (1!=0) is &#39;&#39; (nothing)", "body": "<p>My perl script works on one mechanic but fail in another.</p>\n\n<p>I using perl debugger to debug it by add \"-d\" in command. i.e. \"perl -d my_perl.pl\". Then I found that all \"integer comparison\" only works for TRUE result.</p>\n\n<p>e.g. If I enter debug command </p>\n\n<blockquote>\n  <p>\"x (1==1)\"</p>\n</blockquote>\n\n<p>it returns '1' (TRUE). But If I enter debug command </p>\n\n<blockquote>\n  <p>\"x (1!=1)\"</p>\n</blockquote>\n\n<p>it returns '' (nothing, the result is expected to be 0(FALSE)).</p>\n\n<p>BTW, the string comparison is the same.  x \"s\" eq \"s\" return '1' and  x \"s\" eq \"s\" return ''.</p>\n\n<p>I using perl v5.14.2 (getting by perl -v). What's the problem of my perl? How can I fix it?</p>\n"}, {"tags": ["perl", "syntax-error", "runtime-error", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4144084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pq1zyMsngcs/AAAAAAAAAAI/AAAAAAAAAII/4JIi-Wokbw4/photo.jpg?sz=128", "display_name": "mono-arg", "link": "https://stackoverflow.com/users/4144084/mono-arg"}, "edited": false, "score": 0, "creation_date": 1421826540, "post_id": 28060474, "comment_id": 44504907, "body": "I tried it, but it then gave me this error:   Stopping: &#39;install&#39; failed for &#39;Image::Grab&#39;. Failed during this command:  MAHEX/Image-Grab-1.4.2.tar.gz                : make_test NO"}, {"owner": {"reputation": 11, "user_id": 4144084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pq1zyMsngcs/AAAAAAAAAAI/AAAAAAAAAII/4JIi-Wokbw4/photo.jpg?sz=128", "display_name": "mono-arg", "link": "https://stackoverflow.com/users/4144084/mono-arg"}, "edited": false, "score": 0, "creation_date": 1421826666, "post_id": 28060474, "comment_id": 44504967, "body": "I downloaded Image-Grab-1.4.2.tar.gz and tried it again, but still got the same error"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1421831975, "post_id": 28060474, "comment_id": 44507420, "body": "instead of all that interactive stuff, you could just <code>cpan Image::Grab</code>, which does the same thing. If the OP is still having problems, they should post the full output they see."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 11, "user_id": 4144084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pq1zyMsngcs/AAAAAAAAAAI/AAAAAAAAAII/4JIi-Wokbw4/photo.jpg?sz=128", "display_name": "mono-arg", "link": "https://stackoverflow.com/users/4144084/mono-arg"}, "edited": false, "score": 0, "creation_date": 1421832335, "post_id": 28060474, "comment_id": 44507624, "body": "@mono-arg, Whoops.  See my response appended to bottom of my answer."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1421832446, "post_id": 28060474, "comment_id": 44507690, "body": "@briandfoy, That&#39;s what I do--I wasn&#39;t sure if that was a perlbrew thing; or whether that was enabled by one of the other cpan installers.  If you could check back when the op posts their full output, I&#39;m sure you would have a better chance of figuring out what&#39;s wrong."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 4, "last_activity_date": 1421831127, "last_edit_date": 1421831127, "creation_date": 1421819514, "answer_id": 28060474, "question_id": 28059956, "link": "https://stackoverflow.com/questions/28059956/keep-getting-error-cant-locate-image-grab-pm-in-inc-after-installing-the-per/28060474#28060474", "title": "Keep getting error &quot;Can&#39;t locate Image/Grab.pm in @INC&quot; after installing the Perl mod", "body": "<p>That's a standard error when you haven't installed the module.   Image::Grab does not come with perl. There are lots of perl modules available on something called cpan, for instance:</p>\n\n<p><a href=\"http://search.cpan.org/~mahex/Image-Grab-1.4.2/lib/Image/Grab.pod\" rel=\"nofollow\">http://search.cpan.org/~mahex/Image-Grab-1.4.2/lib/Image/Grab.pod</a>. </p>\n\n<p>Modules are libraries of functions that someone has written in perl and made available for your use.  </p>\n\n<p>Now, you have to figure out how to install modules.  See if this works: </p>\n\n<pre><code>$ perl -MCPAN -e shell\n\n-M =&gt; Use the module specified, in this case CPAN(comes with perl)  \n-e =&gt; execute the following perl code, in this case the function shell().\n</code></pre>\n\n<p>then </p>\n\n<pre><code>cpan&gt; install Image::Grab.  \n</code></pre>\n\n<p>The first time you do that, you'll have to answer a lot of questions.</p>\n\n<p>Once you are done:</p>\n\n<pre><code>cpan&gt; q  ('q' is for quit)\n</code></pre>\n\n<p><strong>Response to comment:</strong></p>\n\n<p>1) Try updating your CPAN module:</p>\n\n<pre><code>cpan&gt; install CPAN\ncpan&gt; reload cpan\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>cpan&gt; install Image::Grab\n</code></pre>\n\n<p>Installing from source is fine, but if you can get cpan to work, then it takes care of downloading all the dependencies, so it is hassle free.  I just used cpan to download Image::Grab, and I got no errors.  It has no dependencies that need to be downloaded.  </p>\n\n<p>2) What is the output of:</p>\n\n<pre><code>$ perl --version (it looks like you are using perl 5.10.1)  \n</code></pre>\n\n<p>Also, at the bottom of your question add the entire output from your cpan attempt.  </p>\n\n<p>3) Try installing another module, like:</p>\n\n<p><a href=\"http://search.cpan.org/~rehsack/List-MoreUtils-0.402/lib/List/MoreUtils.pm\" rel=\"nofollow\">http://search.cpan.org/~rehsack/List-MoreUtils-0.402/lib/List/MoreUtils.pm</a></p>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1421831883, "post_id": 28062561, "comment_id": 44507367, "body": "although sometimes the cpan command is wrong, often it&#39;s broken Perl modules. Not installing broken modules is correct and intended behavior. There are switches to override that though. :)"}, {"owner": {"reputation": 11, "user_id": 4144084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pq1zyMsngcs/AAAAAAAAAAI/AAAAAAAAAII/4JIi-Wokbw4/photo.jpg?sz=128", "display_name": "mono-arg", "link": "https://stackoverflow.com/users/4144084/mono-arg"}, "edited": false, "score": 0, "creation_date": 1421870675, "post_id": 28062561, "comment_id": 44530788, "body": "Thanks for your input and advice"}], "tags": [], "owner": {"reputation": 29, "user_id": 4477080, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AL0BJxeGvUk/AAAAAAAAAAI/AAAAAAAAAHM/c3VJMCeLawM/photo.jpg?sz=128", "display_name": "greggb", "link": "https://stackoverflow.com/users/4477080/greggb"}, "is_accepted": false, "score": -1, "last_activity_date": 1421962148, "last_edit_date": 1421962148, "creation_date": 1421828651, "answer_id": 28062561, "question_id": 28059956, "link": "https://stackoverflow.com/questions/28059956/keep-getting-error-cant-locate-image-grab-pm-in-inc-after-installing-the-per/28062561#28062561", "title": "Keep getting error &quot;Can&#39;t locate Image/Grab.pm in @INC&quot; after installing the Perl mod", "body": "<p>I noticed you said you installed the module using CPAN.  This would lead me to glean that you're running on a linux operating system, and you just kept pressing the 'enter' key every time the installation script asked you a question, optimistically believing everything would work out, just like in the movies.</p>\n\n<p>If you'd read a little closer you probably would have noticed all kinds of issues with the installation.</p>\n\n<p>I did the same thing yesterday, because I didn't want to go through all the trouble of solving dependencies.  And incidentally, I was using CPAN.  I'm not sure what CPAN stands for, but yesterday it most definitely didn't stand for Certifiably Perfect Automatic NichePerlModuleInstaller.</p>\n\n<p>Way too often there's no Perl::EasyButton.  Sometimes you have to roll up your sleeves up and start w-geting tar.gzs and installing them, only to find out you need other tar.gzs, only to find out you need more tar.gzs, until one day you're looking back and wondering where your life went.</p>\n\n<p>Unless you can get CPAN to work.  Then you just have to sit in front of your putty terminal like a monkey pressing the enter key every time it asks you a question and suggests an answer.  And if you're lucky, after you've pressed 'enter' 1837 times, the module you need to use will be installed and functional.</p>\n\n<p>I might suggest a different module or approach altogether, where you're looking for an easy way to grab images off the internet.  If you're into Perl for the longhaul, I say roll your sleeves up and get dirty.  If you give me a URL for an image, I can write the code from scratch to have that thing downloaded in a matter of a few minutes.  And then I can reuse that code as many times as I want to download more images.  And before long I can fill a hard drive up with images I downloaded from that original code.</p>\n\n<p>You need to get yourself to that point.  Or you need to look for a canned solution that can be used by the masses, and take your place among them (the masses). </p>\n\n<p>Or, you could google the exact problem you're having when you're running the installation on CPAN and figure out what you're doing wrong.  That's an option.</p>\n\n<p>And there are probably a couple more options.  Hopefully you'll come up with a good one.</p>\n\n<p>Good luck!      </p>\n"}], "owner": {"reputation": 11, "user_id": 4144084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pq1zyMsngcs/AAAAAAAAAAI/AAAAAAAAAII/4JIi-Wokbw4/photo.jpg?sz=128", "display_name": "mono-arg", "link": "https://stackoverflow.com/users/4144084/mono-arg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1217, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1421962148, "creation_date": 1421816499, "question_id": 28059956, "link": "https://stackoverflow.com/questions/28059956/keep-getting-error-cant-locate-image-grab-pm-in-inc-after-installing-the-per", "title": "Keep getting error &quot;Can&#39;t locate Image/Grab.pm in @INC&quot; after installing the Perl mod", "body": "<p>I'm a bit new to programming and I'm having some trouble writing a Perl script that will grab all the images from a webpage and save them in a specified directory.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse lib '/home/User1/strawberry/cpan/build';\nuse Image::Grab;\n\n$pic = Image::Grab-&gt;new(SEARCH_URL=&gt;'http://www.examplesite.com',\n                          REGEXP    =&gt;'.*\\.gif|.*\\.jpg');\nmy $dir = 'images';\n\nopendir (IMG, \"&gt;&gt;$dir\") || die \"Directory doesn't exist - $!\\n\";\nforeach ($pic) {\n        print IMG \"$_\\n\";\n}\nclosedir IMG;\n</code></pre>\n\n<p>This is the error I get when I run the script in PuTTY:</p>\n\n<blockquote>\n  <p>Can't locate Image/Grab.pm in @INC (@INC contains:\n  /home/User1/strawberry/cpan/build /etc/perl /usr/local/lib/perl/5.10.1\n  /usr/local/share/perl/5.10.1 /usr/lib/perl5 /usr/share/perl5\n  /usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl .) at\n  getimage.pl line 7. BEGIN failed--compilation aborted at getimage.pl\n  line 7.</p>\n</blockquote>\n\n<p>Thanks for the help</p>\n"}, {"tags": ["c", "perl"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 3, "creation_date": 1421817432, "post_id": 28059717, "comment_id": 44501526, "body": "Run <code>perldoc -f unpack</code> for info about the unpack function, and it points you to <code>perldoc -f pack</code> for explanations about the different formats.  Also, note that &quot;FF&quot; is not the hex value 0xFF if that&#39;s what you&#39;re expecting."}, {"owner": {"reputation": 2509, "user_id": 1695900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/NnNuy.jpg?s=128&g=1", "display_name": "matthewpalmer", "link": "https://stackoverflow.com/users/1695900/matthewpalmer"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 1, "creation_date": 1421817676, "post_id": 28059717, "comment_id": 44501619, "body": "Ah, reading up on <code>pack</code> was what I needed. Cheers!"}], "answers": [{"comments": [{"owner": {"reputation": 2509, "user_id": 1695900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/NnNuy.jpg?s=128&g=1", "display_name": "matthewpalmer", "link": "https://stackoverflow.com/users/1695900/matthewpalmer"}, "edited": false, "score": 0, "creation_date": 1421819833, "post_id": 28060480, "comment_id": 44502312, "body": "We posted our answers at the same time :). Thanks for the C example\u2014that will be really helpful. I\u2019ll mark yours as the accepted answer since it more directly answers the question."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1421943580, "post_id": 28060480, "comment_id": 44563439, "body": "I agree and probably should have removed it in the last edit, but I left it because the answer had been accepted with that code."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 3, "last_activity_date": 1421944065, "last_edit_date": 1421944065, "creation_date": 1421819572, "answer_id": 28060480, "question_id": 28059717, "link": "https://stackoverflow.com/questions/28059717/perl-unpack-s-equivalent-in-c/28060480#28060480", "title": "Perl unpack &quot;S*&quot; equivalent in C", "body": "<p>Your code in C would look (roughly) like this: </p>\n\n<pre><code>const char *data = \"FA\";\nunsigned short s;\nmemcpy( &amp;s, data, strlen(data) );\nprintf(\"%s = %d\\n\", data, s);\n</code></pre>\n\n<p>This only handles your case with two characters, while unpack('S*',...) will return a list of shorts corresponding to its input.</p>\n\n<p>Why? One of the primary motivations for pack and unpack was to make it easier interchange binary data with C structures.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow\">perlpacktut</a> is a good place to start.</p>\n"}, {"comments": [{"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1421820541, "post_id": 28060508, "comment_id": 44502554, "body": "Byte order is important -- &quot;S&quot; is an unsigned short in the <i>system&#39;s</i> byte order. If you need big or little endian you&#39;ll use &quot;n&quot; or &quot;v&quot; respectively."}], "tags": [], "owner": {"reputation": 2509, "user_id": 1695900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/NnNuy.jpg?s=128&g=1", "display_name": "matthewpalmer", "link": "https://stackoverflow.com/users/1695900/matthewpalmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1421819723, "creation_date": 1421819723, "answer_id": 28060508, "question_id": 28059717, "link": "https://stackoverflow.com/questions/28059717/perl-unpack-s-equivalent-in-c/28060508#28060508", "title": "Perl unpack &quot;S*&quot; equivalent in C", "body": "<p>I\u2019m answering my own question, so I might have some things wrong, but I'll leave this here for anyone coming in the future.</p>\n\n<p>First, let's change my example to</p>\n\n<pre><code>$data = \"FA\";\nprint \"$data - \", unpack(\"S*\", $data), \"\\n\";\n# &gt; FA - 16710\n</code></pre>\n\n<p>since having \u201cFF\u201d wasn\u2019t particularly helpful.</p>\n\n<p>The question is: how did we get from \u201cFA\u201d to 16710?</p>\n\n<p>First, the character \u2018F\u2019 is converted to its ASCII value\u201470. In binary, this is <code>0100 0110</code> (note that I padded a leading zero so it\u2019s clear that it\u2019s a whole byte).</p>\n\n<p>Then, we need the ASCII value of \u2018A\u2019\u201465. In binary, <code>0100 0001</code>.</p>\n\n<p>So we have <code>F</code> corresponding to <code>0100 0110</code> and <code>A</code> corresponding to <code>0100 0001</code>.</p>\n\n<p>Then we just glue these two binary values together, <em>except</em> we put the <code>A</code> first:</p>\n\n<p><code>0100 0001 0100 0110</code></p>\n\n<p>And converting <code>0100 0001 0100 0110</code> to decimal gives <code>16,710</code>.</p>\n\n<p><strong>Note</strong>: I <em>think</em> the order in which the bytes are glued together might be different on different computers, so while the principle here should apply everywhere, the numbers might be different.</p>\n"}, {"comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1421943112, "post_id": 28072098, "comment_id": 44563126, "body": "The bitshifting parts of this answer in the middle are the only safe way to do it. Best not to do any of the silly casting parts like the top or bottom bits."}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1422006759, "post_id": 28072098, "comment_id": 44588593, "body": "The <code>memcpy</code> itself will be fine, but now you&#39;ve got some random bit-pattern of bytes in memory where the compiler is expecting a valid <code>uint16_t</code>. How do you know the bitpattern will be valid as that type? There&#39;s no danger of that when you let the compiler construct the <code>uint16_t</code> by numerical bitshift operations, because it knows it will be valid then"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1422032827, "post_id": 28072098, "comment_id": 44604144, "body": "@ikagami - could be all sorts. C doesn&#39;t require that all possible bit-patterns of bytes are valid integer representations. They just happen to be so on, say, Linux x86_64 gcc, but that&#39;s a platform-specific guarantee."}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1422381149, "post_id": 28072098, "comment_id": 44722766, "body": "On platforms that Perl supports, perhaps it is true. But C <i>itself</i> can support some very very strange places, and these places may not validly hold that you can just copy bits around and make it work."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1422381884, "post_id": 28072098, "comment_id": 44723174, "body": "@LeoNerd, <code>unpack &#39;S&#39;</code> uses <i>native</i> representation of a <code>uint16_t</code>. As such, you&#39;re actually arguing that <code>memcpy</code> is the only correct solution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1422381921, "post_id": 28072098, "comment_id": 44723195, "body": "@LeoNerd, I doubt your claims about the existence of a system that uses something other than one&#39;s complement or two&#39;s complement. This is your fourth chance to back up your claims of the existence of something else."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1421858315, "last_edit_date": 1421858315, "creation_date": 1421857597, "answer_id": 28072098, "question_id": 28059717, "link": "https://stackoverflow.com/questions/28059717/perl-unpack-s-equivalent-in-c/28072098#28072098", "title": "Perl unpack &quot;S*&quot; equivalent in C", "body": "<p><code>unpack 'S'</code> casts two bytes into a <code>uint16_t</code>.</p>\n\n<pre><code>#include &lt;stdint.h&gt;\nconst char *data = \"\\x46\\x41\";\nuint16_t n;\nmemcpy(&amp;n, data, sizeof(n));  // n = 0x4146 or 0x4641\n</code></pre>\n\n<p>Don't forget to check the number of bytes in <code>data</code> before doing this!</p>\n\n<hr>\n\n<p>Notice that it can give two different results based on the system.</p>\n\n<p>On a little-endian system (e.g. x86, x64), <code>unpack 'S'</code> is also equivalent to</p>\n\n<pre><code>uint16_t n = (data[1] &lt;&lt; 8) | data[0];  // 0x4146\n</code></pre>\n\n<p>On a big-endian system, <code>unpack 'S'</code> is also equivalent to</p>\n\n<pre><code>uint16_t n = (data[0] &lt;&lt; 8) | data[1];  // 0x4641\n</code></pre>\n\n<hr>\n\n<p>By the way, you might be tempted to do the following, but it's not portable due to memory alignment issues:</p>\n\n<pre><code>uint16_t n = *((const uint16_t *)data);\n</code></pre>\n"}], "owner": {"reputation": 2509, "user_id": 1695900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/NnNuy.jpg?s=128&g=1", "display_name": "matthewpalmer", "link": "https://stackoverflow.com/users/1695900/matthewpalmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 28060480, "answer_count": 3, "score": 4, "last_activity_date": 1421944065, "creation_date": 1421815193, "question_id": 28059717, "link": "https://stackoverflow.com/questions/28059717/perl-unpack-s-equivalent-in-c", "title": "Perl unpack &quot;S*&quot; equivalent in C", "body": "<p>I'm having a little trouble understanding Perl's unpack in some code I'm reading, specifically with the <code>S*</code> template.</p>\n\n<pre><code>$data = \"FF\";\nprint \"$data - \", unpack(\"S*\", $data), \"\\n\";\n# &gt; FF - 17990\n</code></pre>\n\n<ol>\n<li>What is the equivalent of this in C?</li>\n<li>Why?</li>\n</ol>\n\n<p>Thanks very much for your help</p>\n"}, {"tags": ["perl", "sorting", "block"], "answers": [{"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1421822086, "post_id": 28059288, "comment_id": 44503085, "body": "Appreciate your posts on SO."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421832008, "post_id": 28059288, "comment_id": 44507434, "body": "<code>The *{...} syntax references a global variable by its name.</code> That seems like a funny way of describing that syntax--especially after explaining what a <i>typeglob</i> is. That syntax is another way to write a <i>typeglob</i>, where a <i>typeglob</i> represents all the global variables with the specified name....."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421832093, "post_id": 28059288, "comment_id": 44507478, "body": "Assigning all of the current package&#39;s global &#39;a&#39; variables, the <i>typeglob</i> <code>*a</code>, to all the caller&#39;s global &#39;a&#39; variables, the <i>typeglob</i> <code>*{caller.&#39;::a&#39;}</code> causes the current package&#39;s global &#39;a&#39; variables to become aliases for the calling package&#39;s global &#39;a&#39; variables. That means when you change a global &#39;a&#39; variable in the current package it changes the global &#39;a&#39; variable in the caller&#39;s package.*"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1421863491, "post_id": 28059288, "comment_id": 44527029, "body": "@7stud Yes, <code>*{...}</code> is a typeglob. It&#39;s also a symbolic reference. I had to explain both, they&#39;re just in separate paragraphs. I call them &quot;globs&quot;, perhaps I should use the more proper name."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 8, "last_activity_date": 1421863660, "last_edit_date": 1421863660, "creation_date": 1421812050, "answer_id": 28059288, "question_id": 28059140, "link": "https://stackoverflow.com/questions/28059140/wrap-perls-sort-function-in-an-object/28059288#28059288", "title": "Wrap perl&#39;s sort function in an object", "body": "<p>Mostly.</p>\n\n<p>To use the bare-block-as-subroutine syntax, you need to use the <code>&amp;</code> <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow\">prototype</a>.  Generally you should avoid prototypes, but passing a subroutine as a bare block is one of the few times this is acceptable.  Unfortunately, because they must be determined and applied at compile time, prototypes do not work on methods.  So you have to use the full anonymous subroutine syntax, <code>sub { ... }</code>.</p>\n\n<pre><code>my @sortedVals = $obj-&gt;sort(sub { $a &lt;=&gt; $b });\n</code></pre>\n\n<p><code>$a</code> and <code>$b</code> are globals of the package the sort subroutine was declared in (let's say this is <code>Some::Caller</code>).  When run inside your class, sort will set <code>$My::Object::a</code> and <code>$My::Object::b</code> but the subroutine will be looking for <code>$Some::Caller::a</code> and <code>$Some::Caller::b</code>.  You can work around this by aliasing their <code>$a</code> and <code>$b</code> to your <code>$a</code> and <code>$b</code>.</p>\n\n<pre><code>sub sort {\n    my $self = shift;\n    my $block = shift;\n\n    no strict 'refs';\n    local *{caller.'::a'} = *a;\n    local *{caller.'::b'} = *b;\n\n    return sort $block @{$self-&gt;{arrayRef}};\n}\n</code></pre>\n\n<p><code>local</code> makes a temporary copy of a global for the duration of the block and this includes other subroutines called, so this will effect the sort.  Then when the method is done the value will revert to what it was.</p>\n\n<p>Perl globals are stored in <a href=\"http://perldoc.perl.org/perldata.html#Typeglobs-and-Filehandles\" rel=\"nofollow\">typeglobs</a> which contain all the global variables with the same name.  <code>*a</code> contains <code>$a</code> and <code>@a</code> and <code>%a</code>.  By copying the caller's typeglob, when <code>$My::Object::a</code> changes, the caller's <code>$a</code> will change as well.  They are aliases.</p>\n\n<p>The <code>*{...}</code> syntax lets you get at a global variable by name using another variable or expression.  This is called a <a href=\"http://perldoc.perl.org/perlref.html#Symbolic-references\" rel=\"nofollow\">symbolic reference</a>.  Now we can get at the caller's <code>*a</code>.  Using this syntax is usually a mistake, so you have to turn off <code>strict</code> else Perl won't let you do it.</p>\n"}], "owner": {"reputation": 209, "user_id": 2565490, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dcf31f0da9e11aa1908f24c9f22952c1?s=128&d=identicon&r=PG", "display_name": "konapun", "link": "https://stackoverflow.com/users/2565490/konapun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 1, "accepted_answer_id": 28059288, "answer_count": 1, "score": 5, "last_activity_date": 1421863660, "creation_date": 1421810953, "question_id": 28059140, "link": "https://stackoverflow.com/questions/28059140/wrap-perls-sort-function-in-an-object", "title": "Wrap perl&#39;s sort function in an object", "body": "<p>I'm trying to make a sort function available in one of my (object-oriented) packages that accepts a block and makes available $a and $b like the standard Perl <code>sort</code>. </p>\n\n<p>First, a simplified version of what I'm trying to do in the package that contains the wrapped sort function:</p>\n\n<pre><code># In package My::Object\nsub sort {\n  my $self = shift;\n  my $block = \\&amp;{shift @_};\n\n  return sort $block @{$self-&gt;{arrayRef}}; # I want to use the passed in block with array data contained in this object\n}\n</code></pre>\n\n<p>And then an example of a client passing a block which defines the comparitor to run for the sort:</p>\n\n<pre><code>my $obj = My::Object-&gt;new([3, 1, 5, 6, 2, 4]); # As an example, these values will be come arrayRef from above\nmy @sortedVals = $obj-&gt;sort({ $a &lt; $b });\n</code></pre>\n\n<p>Is there a way to do what I'm trying to do while still being able to use Perl's <code>sort</code>?</p>\n"}, {"tags": ["windows", "perl", "powershell", "powershell-3.0"], "comments": [{"owner": {"reputation": 40194, "user_id": 3829407, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DQPor.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3829407/matt"}, "edited": false, "score": 0, "creation_date": 1421808503, "post_id": 28058726, "comment_id": 44499117, "body": "Shot in the dark - Does it have something to do with the tilde? I dont know maybe it is having issues with that character. It used to mean something special... well it still does... the old 8.3 file names"}, {"owner": {"reputation": 21, "user_id": 2969646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b712e77a5c879c4756c198253f3095?s=128&d=identicon&r=PG&f=1", "display_name": "user2969646", "link": "https://stackoverflow.com/users/2969646/user2969646"}, "reply_to_user": {"reputation": 40194, "user_id": 3829407, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DQPor.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3829407/matt"}, "edited": false, "score": 0, "creation_date": 1421808792, "post_id": 28058726, "comment_id": 44499194, "body": "@matt, nope. I appreciate the suggestion, but I had already googled for the illegal Windows filename characters: <code>\\ &#47; : * ? &quot; &lt; &gt; |</code>"}, {"owner": {"reputation": 40194, "user_id": 3829407, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DQPor.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3829407/matt"}, "edited": false, "score": 0, "creation_date": 1421810046, "post_id": 28058726, "comment_id": 44499497, "body": "Oh its not illegal... you wouldnt haven gotten that far if it was... just thought there might have been something about it."}, {"owner": {"reputation": 21, "user_id": 2969646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b712e77a5c879c4756c198253f3095?s=128&d=identicon&r=PG&f=1", "display_name": "user2969646", "link": "https://stackoverflow.com/users/2969646/user2969646"}, "reply_to_user": {"reputation": 40194, "user_id": 3829407, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DQPor.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3829407/matt"}, "edited": false, "score": 0, "creation_date": 1421814787, "post_id": 28058726, "comment_id": 44500712, "body": "@Matt, to be thorough, I just tried it with #. Same result. You never know..."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 2969646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b712e77a5c879c4756c198253f3095?s=128&d=identicon&r=PG&f=1", "display_name": "user2969646", "link": "https://stackoverflow.com/users/2969646/user2969646"}, "edited": false, "score": 0, "creation_date": 1421983047, "post_id": 28059838, "comment_id": 44580217, "body": "Thanks for the suggestion, but that gave me the error   `    Cannot run a document in the middle of a pipeline: C:\\navgit\\split-objects.pl.     At C:\\navgit\\nav-export.ps1:102 char:1     + &amp; c:\\navgit\\split-objects.pl $servicetier $database $datestamp $startdir | Out-N ...`"}], "tags": [], "owner": {"reputation": 62786, "user_id": 608772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/35cf71263d56e83098663925b4915349?s=128&d=identicon&r=PG", "display_name": "JPBlanc", "link": "https://stackoverflow.com/users/608772/jpblanc"}, "is_accepted": false, "score": 0, "last_activity_date": 1421900427, "last_edit_date": 1421900427, "creation_date": 1421815912, "answer_id": 28059838, "question_id": 28058726, "link": "https://stackoverflow.com/questions/28058726/powershell-not-seeing-filesystem-change-cannot-find-path/28059838#28059838", "title": "powershell not seeing filesystem change - &quot;cannot find path&quot;", "body": "<p>Are you sure that everything proced in the exact order you assume it does ?</p>\n\n<p>try to start your perl script like this :</p>\n\n<pre><code>&amp; c:\\navgit\\split-objects.pl $servicetier $database $datestamp | Out-Null\n</code></pre>\n\n<p>It makes sure that your Perl part is terminated when the PowerShell execute the rest of your script.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2969646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b712e77a5c879c4756c198253f3095?s=128&d=identicon&r=PG&f=1", "display_name": "user2969646", "link": "https://stackoverflow.com/users/2969646/user2969646"}, "is_accepted": false, "score": 0, "last_activity_date": 1421983254, "creation_date": 1421983254, "answer_id": 28102493, "question_id": 28058726, "link": "https://stackoverflow.com/questions/28058726/powershell-not-seeing-filesystem-change-cannot-find-path/28102493#28102493", "title": "powershell not seeing filesystem change - &quot;cannot find path&quot;", "body": "<p>I ended up just creating the directory in powershell in the first place. No reason it should have to have been created in the perl script.</p>\n\n<p>It'd still be nice to know why it didn't work the way I'd have expected though.</p>\n"}], "owner": {"reputation": 21, "user_id": 2969646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10b712e77a5c879c4756c198253f3095?s=128&d=identicon&r=PG&f=1", "display_name": "user2969646", "link": "https://stackoverflow.com/users/2969646/user2969646"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1421983254, "creation_date": 1421808087, "question_id": 28058726, "link": "https://stackoverflow.com/questions/28058726/powershell-not-seeing-filesystem-change-cannot-find-path", "title": "powershell not seeing filesystem change - &quot;cannot find path&quot;", "body": "<p>I wrote a powershell script that exports a bunch of files from a Dynamics NAV instance. It calls a perl script that I also wrote that then splits all of the files into individual objects and sticks them in subdirectories under a dir I create in perl. Then the powershell script attempts to copy the files to a different dir, and fails.</p>\n\n<p>Powershell generates the dir name:</p>\n\n<pre><code>$datestamp = get-date -f MM-dd-yyyy_HH_mm_ss\n$dumpdir = \"\\temp\\nav_export\\\" + $env:username + \"\\\" + $servicetier + \"~\" + $database + \"~\" + $datestamp;\n</code></pre>\n\n<p>Then powershell does a bunch of stuff that works fine, and calls the perl script ($servicetier and $database are defined earlier in the script):</p>\n\n<pre><code>&amp; c:\\navgit\\split-objects.pl $servicetier $database $datestamp\n</code></pre>\n\n<p>perl proceeds to create the directory and split the files correctly:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Path qw(make_path remove_tree);\n\nmy $username = getlogin || getpwuid($&lt;);\nmy $servicetier = $ARGV[0];\nmy $database = $ARGV[1];\nmy $datestamp = $ARGV[2];\nundef @ARGV;\n\nmy $work_dir = \"/temp/nav_export\";\nmy $objects_dir = \"$work_dir/$username/objects\";\nmy $export_dir = \"$work_dir/$username/$servicetier~$database~$datestamp\";\n\nprint \"Objects from $servicetier~$database being exported to $export_dir\\n\";\n\nmake_path(\"$export_dir/Page\", \"$export_dir/Codeunit\", \"$export_dir/MenuSuite\", \"$export_dir/Query\", \"$export_dir/Report\", \"$export_dir/Table\", \"$export_dir/XMLport\");\n\nchdir $objects_dir or die \"Could not change to $objects_dir: $!\";\n\n&lt;does all of the filehandling and parsing&gt;\n</code></pre>\n\n<p>Control returns to the powershell script, which tries to finish with:</p>\n\n<pre><code>Copy-Item -Path $dumpdir -Destination $cwd -Force -Recurse\n</code></pre>\n\n<p>But that throws the error:</p>\n\n<pre><code>Copy-Item : Cannot find path 'C:\\temp\\nav_export\\danielj\\cen-dev-erp-st1~JustFoodERP-PROTO~01-20-2015_19_26_50' because it does not exist.\nAt C:\\navgit\\nav-export.ps1:175 char:1\n+ Copy-Item -Path $dumpdir -Destination $cwd -Force -Recurse\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : ObjectNotFound: (C:\\temp\\nav_exp...0-2015_19_26_50:String) [Copy-Item], ItemNotFoundException\n    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.CopyItemCommand\n</code></pre>\n\n<p>The directory I'm trying to copy from does exist. But powershell doesn't see it! I added some code to list the contents of the parent dir:</p>\n\n<pre><code>Copy-Item -Path $dumpdir -Destination $cwd -Force -Recurse\nWrite-Host \"Copy-Item -Path $dumpdir -Destination $cwd -Force -Recurse\"\n$test = \"C:\\temp\\nav_export\\$env:username\"\nGet-ChildItem $test -Force\n\nCopy-Item -Path \\temp\\nav_export\\danielj\\cen-dev-erp-st1~JustFoodERP-PROTO~01-20-2015_19_26_50 -Destination C:\\Users\\danielj\\erp\\ -Force -Recurse\n\n    Directory: C:\\temp\\nav_export\\danielj\n\nMode                LastWriteTime     Length Name                                                                                                                        \n----                -------------     ------ ----                                                                                                                        \nd----         1/20/2015   6:32 PM            cen-dev-erp-st1~JustFoodERP-PROTO~01-20-2015_18_32_33                                                                       \nd----         1/20/2015   7:08 PM            cen-dev-erp-st1~JustFoodERP-PROTO~01-20-2015_19_08_49                                                                       \nd----         1/19/2015   1:07 PM            cen-dev-erp-st1~JustFoodERP-PROTO~20150119-130747                                                                           \nd----         1/20/2015   7:26 PM            logs                                                                                                                        \nd----         1/20/2015   7:26 PM            objects                                                                                                                     \n-a---         1/20/2015   7:26 PM        309 objects.bat                                                                                                                 \n-a---         1/20/2015   1:41 PM        436 soap_envelope.txt\n</code></pre>\n\n<p>If I do a directory listing from outside the script, there it is:</p>\n\n<pre><code>PS C:\\Users\\danielj\\erp&gt; $test = \"C:\\temp\\nav_export\\$env:username\"\nGet-ChildItem $test -Force\n\nDirectory: C:\\temp\\nav_export\\danielj\n\n\nMode                LastWriteTime     Length Name                                                                                                                        \n----                -------------     ------ ----                                                                                                                        \nd----         1/20/2015   6:32 PM            cen-dev-erp-st1~JustFoodERP-PROTO~01-20-2015_18_32_33                                                                       \nd----         1/20/2015   7:08 PM            cen-dev-erp-st1~JustFoodERP-PROTO~01-20-2015_19_08_49                                                                       \nd----         1/20/2015   7:26 PM            cen-dev-erp-st1~JustFoodERP-PROTO~01-20-2015_19_26_50                                                                       \nd----         1/19/2015   1:07 PM            cen-dev-erp-st1~JustFoodERP-PROTO~20150119-130747                                                                           \nd----         1/20/2015   7:26 PM            logs                                                                                                                        \nd----         1/20/2015   7:26 PM            objects                                                                                                                     \n-a---         1/20/2015   7:26 PM        309 objects.bat                                                                                                                 \n-a---         1/20/2015   1:41 PM        436 soap_envelope.txt                                                                                                           \n</code></pre>\n\n<p>I've tried calling an external script from the main powershell script after perl is finished, and the results are the same.</p>\n\n<p>Why would powershell not see the directory or files that were created by the perl script? And more importantly, how can I get it to do so?</p>\n"}, {"tags": ["perl", "http", "http-headers", "cpan", "content-length"], "answers": [{"tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 2, "last_activity_date": 1421817199, "creation_date": 1421817199, "answer_id": 28060079, "question_id": 28057268, "link": "https://stackoverflow.com/questions/28057268/how-can-i-send-an-incorrect-content-length-header-for-an-http-request-using-perl/28060079#28060079", "title": "How can I send an incorrect Content-Length header for an HTTP request using Perl?", "body": "<p>Seems like the higher level API's are fixing your error; Here's an example using raw sockets that overcomes this;</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict 'vars';\nuse warnings;\nuse Socket;\n\n# initialize host and port\nmy $host = 'www.example.com';\nmy $port =  80;\n\n# contact the server\nopen_tcp(F, $host, $port) \n  or die 'Could not connect to server';\n\n# Send request data\nwhile ( my $request = &lt;DATA&gt; ) {\n  print F $request;\n}\n\n# Get Response\nwhile ( my $response = &lt;F&gt; ) {\n  print \"Response:&gt; $response\";\n}\n\nclose(F);\n\n# TCP Helper\nsub open_tcp\n{\n  # get parameters\n  my ($FS, $dest, $port) = @_;\n\n  my $proto = getprotobyname('tcp');\n  socket($FS, PF_INET, SOCK_STREAM, $proto);\n  my $sin = sockaddr_in($port,inet_aton($dest));\n  connect($FS,$sin);\n\n  my $old_fh = select($FS); \n  $| = 1; # don't buffer output\n  select($old_fh);\n}\n\n__DATA__\nGET / HTTP/1.1\nHost: example.com\nContent-Length: 999\n\n\n-END-\n</code></pre>\n"}], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2269, "favorite_count": 0, "accepted_answer_id": 28060079, "answer_count": 1, "score": 4, "last_activity_date": 1421817199, "creation_date": 1421797488, "question_id": 28057268, "link": "https://stackoverflow.com/questions/28057268/how-can-i-send-an-incorrect-content-length-header-for-an-http-request-using-perl", "title": "How can I send an incorrect Content-Length header for an HTTP request using Perl?", "body": "<p>I'm trying to debug a weird warning that is showing up in server logs when a <a href=\"https://metacpan.org/pod/Plack::Request\" rel=\"nofollow\">Plack::Request</a> is being parsed.  In some cases, a broken UserAgent will send a Content-Length header that looks something like \"6375, 6375\", which is obviously wrong.</p>\n\n<p>To fix this properly, I need to be able to reproduce the warning.  I'd like to include this in a unit test so that I can ensure there are no regressions after the warning is silenced.  However, I'm having trouble doing this with Perl.  I know this can be done using <code>netcat</code> and <code>socat</code>, but I don't want the unit test to have to rely on other binaries to be installed.</p>\n\n<p>Here is what I've tried:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse JSON::XS qw( encode_json );\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new;\n\n$mech-&gt;add_handler(\n    request_prepare =&gt; sub {\n        my ( $req, $ua, $h ) = @_;\n        $req-&gt;headers-&gt;header( 'Content-Length' =&gt; 9999 );\n        return;\n    }\n);\n\nmy $json = encode_json( { foo =&gt; 'bar' } );\n\n$mech-&gt;post(\n    'http://example.com'/url,\n    'Content-Length' =&gt; 999,\n    Content          =&gt; $json\n);\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>Content-Length header value was wrong, fixed at /opt/perl5.16.3/lib/site_perl/5.16.3/LWP/Protocol/http.pm line 260.\n200\n</code></pre>\n\n<p>That's entirely too helpful for me.  :)</p>\n\n<p>If I use <a href=\"https://metacpan.org/pod/HTTP::Request\" rel=\"nofollow\">HTTP::Request</a> and <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow\">LWP::UserAgent</a>, it's the same end result.</p>\n\n<p>So, I tried <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"nofollow\">HTTP::Tiny</a>.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse DDP;\nuse HTTP::Tiny;\nuse JSON::XS qw( encode_json );\n\nmy $http = HTTP::Tiny-&gt;new;\n\nmy $json = encode_json( { foo =&gt; 'bar' } );\nmy $response = $http-&gt;request(\n    'POST',\n    'http://example.com'/url',\n    {   headers =&gt; { 'Content-Length' =&gt; 999, },\n        content =&gt; $json,\n    }\n);\n\np $response;\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>{   content =&gt; \"Content-Length missmatch (got: 13 expected: 999)\n\",\n    headers =&gt; {\n        content\n            -length =&gt; 49,\n        content-type =&gt; \"text/plain\",\n    },\n    reason  =&gt; \"Internal Exception\",\n    status  =&gt; 599,\n    success =&gt; \"\",\n    url     =&gt; \"http://example.com'/url\",\n}\n</code></pre>\n\n<p>Again, too helpful.  At this point, I could use a few suggestions.</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1421803542, "post_id": 28057206, "comment_id": 44497941, "body": "<code>XML::LibXML::PrettyPrint</code> and <code>XML::Tidy</code> allow you to specify an indent string, but it is fixed for <code>XML::Twig</code>. It would be a simple matter to write a post-processing phase that converts multiple leading spaces to tab characters. But why do you want tabs there anyway? The usual eight-space indent that they provide is huge, and would render the XML much less readable."}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 1, "last_activity_date": 1421841834, "creation_date": 1421841834, "answer_id": 28066810, "question_id": 28057206, "link": "https://stackoverflow.com/questions/28057206/is-there-a-way-to-set-xmltwigs-preferences-to-pretty-print-using-tabs-instead/28066810#28066810", "title": "Is there a way to set XML::Twig&#39;s preferences to pretty print using tabs instead of spaces?", "body": "<p>According to the docs</p>\n\n<pre><code>...\nmy $state = $twig-&gt;global_state;\n$state-&gt;{indent} = \"\\t\";\n$twig-&gt;set_global_state( $state );\n</code></pre>\n"}], "owner": {"reputation": 8353, "user_id": 1366368, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9CxXt.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1366368/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421841834, "creation_date": 1421797065, "question_id": 28057206, "link": "https://stackoverflow.com/questions/28057206/is-there-a-way-to-set-xmltwigs-preferences-to-pretty-print-using-tabs-instead", "title": "Is there a way to set XML::Twig&#39;s preferences to pretty print using tabs instead of spaces?", "body": "<p>I've made a perl script that modifies an XML file.  But the resulting file now has spaces instead of tabs for indenting.  I've looked around, and I can't seem to find a setting to switch it to tabs.  I know I could do a search and replace on it, but that's an extra step for something that should be very common, so I was wondering if I missed something.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 3, "creation_date": 1421781089, "post_id": 28053306, "comment_id": 44488479, "body": "Have you tried <code>\\..*</code>? This seems like a trivial question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421784533, "post_id": 28053306, "comment_id": 44490369, "body": "I think the <code>.267</code> most likely represents fractions of a second rather than microseconds, so in the case of <code>13:58:01.267</code>, you probably have 1.267 seconds or 1 second and 267 milliseconds, not 1 second and 267 microseconds."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1421784764, "post_id": 28053306, "comment_id": 44490473, "body": "Also, you should <i>really</i> not be throwing away the timezone information (<code>-05:00</code>). Without the timezone, your answer will be inaccurate for some timestamps because of daylight savings. See <a href=\"http://stackoverflow.com/a/27989377/176646\">ikegami&#39;s answer</a> to a previous question you asked for a great example of how to do this properly."}], "answers": [{"comments": [{"owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "edited": false, "score": 0, "creation_date": 1421781527, "post_id": 28053349, "comment_id": 44488705, "body": "I have updated my question. I am using the output to find time difference. Using <code>s&#47;\\..*&#47;&#47;</code> is throwing me an error to calculate the difference in times."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1421783247, "post_id": 28053349, "comment_id": 44489681, "body": "That seemed to be his intention, but I&#39;ve changed the map to use non-destructive substitution. Although this requires 5.14."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 1, "last_activity_date": 1421784293, "last_edit_date": 1421784293, "creation_date": 1421781075, "answer_id": 28053349, "question_id": 28053306, "link": "https://stackoverflow.com/questions/28053306/perl-regex-to-cut-the-microseconds-in-timestamp/28053349#28053349", "title": "perl regex to cut the microseconds in timestamp", "body": "<p><code>(s/\\.\\d*//)</code> returns the number of substitutions which is causing your error:</p>\n\n<pre><code>my @times = map Time::Piece-&gt;strptime((s/\\.\\d*//), '%Y/%m/%d %H:%M:%S'), $str1, $str2;\n</code></pre>\n\n<p>Using /r will have the desired effect in perl 5.14+:</p>\n\n<pre><code>my @times = map Time::Piece-&gt;strptime( s/\\..*//r, '%Y/%m/%d %H:%M:%S'), $str1, $str2; \n</code></pre>\n\n<p>Or before perl 5.14:</p>\n\n<pre><code>my @times = map { local $_ = $_; s/\\..*//; Time::Piece-&gt;strptime( $_, '%Y/%m/%d %H:%M:%S') } $str1, $str2; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1421783140, "creation_date": 1421783140, "answer_id": 28053887, "question_id": 28053306, "link": "https://stackoverflow.com/questions/28053306/perl-regex-to-cut-the-microseconds-in-timestamp/28053887#28053887", "title": "perl regex to cut the microseconds in timestamp", "body": "<p>The substitution operator does not return the modified string. If you want it to do that, you need to specify the <code>/r</code> modifier.</p>\n\n<pre><code>map Time::Piece-&gt;strptime((s/\\.\\d*//r, ...), ...\n</code></pre>\n\n<hr>\n\n<p>If you can't require Perl 5.14+, you'll need something more wordy.</p>\n\n<pre><code>map { ( my $s = $_ ) =~ s/\\.\\d*//; Time::Piece-&gt;strptime($s, ...) } ...\n</code></pre>\n\n<p>(If you don't make the copy, you end up modifying the variables you passed to <code>map</code>, which I consider a very bad practice.)</p>\n\n<p>Might be better off writing a small sub.</p>\n\n<pre><code>sub remove_subsecs { ( my $s = $_[0] ) =~ s/\\.\\d*//; $s }\n\nmap Time::Piece-&gt;strptime(remove_subsecs($_), ...), ...\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you could use far better DateTime (possibly with the help of DateTime::Format::Strptime). Not only does it support fractional seconds sub seconds, it prevents you from doing many mistakes people commonly do when dealing with dates and times.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 4477080, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AL0BJxeGvUk/AAAAAAAAAAI/AAAAAAAAAHM/c3VJMCeLawM/photo.jpg?sz=128", "display_name": "greggb", "link": "https://stackoverflow.com/users/4477080/greggb"}, "is_accepted": false, "score": 0, "last_activity_date": 1421825105, "creation_date": 1421825105, "answer_id": 28061670, "question_id": 28053306, "link": "https://stackoverflow.com/questions/28053306/perl-regex-to-cut-the-microseconds-in-timestamp/28061670#28061670", "title": "perl regex to cut the microseconds in timestamp", "body": "<p>If you're asking for the regular expression to remove everything after the dot, here it is: And to clarify, if you just want everything before the '.' for the string: '2015/01/13 13:59:21.267-05:00';</p>\n\n<pre><code>$_=~/\\A(.*?)\\./is;\n</code></pre>\n\n<p>$1=everything before the dot.</p>\n"}], "owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 28053349, "answer_count": 3, "score": -1, "last_activity_date": 1421825105, "creation_date": 1421780941, "last_edit_date": 1421781472, "question_id": 28053306, "link": "https://stackoverflow.com/questions/28053306/perl-regex-to-cut-the-microseconds-in-timestamp", "title": "perl regex to cut the microseconds in timestamp", "body": "<p>How can I remove/cut everything after dot (.) using regex in a timestamp? I would like to use the output to find time difference int the below code</p>\n\n<pre><code>  $_ = '2015/01/13 13:59:21.267-05:00';\n  s/\\.\\d*//;\n  print $_, \"\\n\";\n</code></pre>\n\n<p>Current Output:</p>\n\n<pre><code>2015/01/13 13:59:21-05:00\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>2015/01/13 13:59:21\n</code></pre>\n\n<p>Code for finding time difference:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Piece;\n\nmy $str1 = '2015/01/13 13:58:01.267-05:00';\nmy $str2 = '2015/01/13 13:59:21.267-05:00';\n\nmy @times = map Time::Piece-&gt;strptime((s/\\.\\d*//), '%Y/%m/%d %H:%M:%S'), $str1, $str2;\nmy $delta = $times[1] - $times[0];\nprint $delta-&gt;pretty;\n</code></pre>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 5, "creation_date": 1421777728, "post_id": 28052284, "comment_id": 44486704, "body": "My understanding is that <code>autodie</code> is lexically scoped.  Therefore it changes calls to <code>open</code> in your file, but not within IO::File."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1421780549, "post_id": 28052284, "comment_id": 44488183, "body": "I wish the Perldoc was a bit more specific -- either the <code>IO::File</code> or the <code>autodie</code> Perldoc. Autodie says its lexically scoped, but then precedes to show how to use it in blocks. Warnings is also lexically scoped, but I guess I hadn&#39;t noticed it before. Thanks for your answer. It sort of makes the use of <code>autodie</code> a bit less useful."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421783518, "post_id": 28052284, "comment_id": 44489823, "body": "@David W., What? No. autodie would be totally useless if it was an all or nothing for your entire interpreter."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1421784067, "post_id": 28052284, "comment_id": 44490140, "body": "@tjd care to put that up as an answer? Anyway, the relationship between file handles, core functions and <code>IO::*</code> objects is weird. All file handles are objects in newer perls, but the methods are wrappers for the core functions. They are not aliases, so when <code>CORE::open</code> is called, it gets called from <code>IO::File</code>. It would be dangerous for <code>autodie</code> to globally change the semantics of any core function. A false-ish return value of <code>open</code> is perfectly desirable with more advanced modes, e.g. when using <code>open</code> to <code>fork</code>."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1421786351, "post_id": 28052284, "comment_id": 44491269, "body": "@ikegami Autodie helps turn Perl into an exception based language. If I don&#39;t check for errors with certain commands, Autodie will catch those  errors. If I don&#39;t want my program to die, I have to <i>handle</i> the exception. However, Autodie is inconsistent. <code>unlink</code> and <code>link</code> will Autodie, but not <code>copy</code> and <code>move</code>. Autodie will catch <code>rmdir</code> and <code>mkdir</code>errors, but not necessarily <code>make_path</code> and <code>remove_tree</code>. Not with <code>IO</code>, but with <code>open</code>, <code>close, </code>print``. If I use Autodie, I have to know which commands work with autodie which means I can&#39;t depend upon it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421786423, "post_id": 28052284, "comment_id": 44491307, "body": "@David W., Why are you telling me any of that? I know what autodie does,  which you be obvious from the fact that I answered your question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1421786491, "post_id": 28052284, "comment_id": 44491337, "body": "@amon, it&#39;s been that way at least since 5.6"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421786988, "post_id": 28052284, "comment_id": 44491573, "body": "@David W., Why are you telling me any of that? Was that meant for someone else?"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1421788368, "post_id": 28052284, "comment_id": 44492215, "body": "You said <i>autodie would be totally useless if it was all or nothing</i>. Really, it&#39;s the other way around. Autodie strives to make Perl <i>exception based</i>. If I forget to <i>handle</i> a failed command, my program should die. However, Autodie ends up being inconsistent.  Some <i>commands</i> will fail on Autodie, but I have to remember which ones. I might as well opt for consistency and get into the habit of checking the status of my commands."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1421842788, "post_id": 28052284, "comment_id": 44513826, "body": "@David W, If autodie affected the entire interpreter, it would break just about every module and script in existence. Noone could ever use autodie. A module noone can use is totally useless. Nothing you said addresses any of that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1421843101, "post_id": 28052284, "comment_id": 44514015, "body": "Re &quot;Some commands will fail on Autodie, but I have to remember which ones.&quot; Well, for starters, it only affects certain named <i>operators</i>, but no method calls (e.g. <code>IO::File-&gt;new</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 5, "last_activity_date": 1421814047, "last_edit_date": 1421814047, "creation_date": 1421784156, "answer_id": 28054175, "question_id": 28052284, "link": "https://stackoverflow.com/questions/28052284/perl-does-iofile-work-with-autodie/28054175#28054175", "title": "Perl Does IO::File work with Autodie?", "body": "<p><code>autodie</code> is lexically scoped. Therefore it changes (wraps) calls to <code>open</code> in your file, but not within <code>IO::File</code>.</p>\n"}], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 28054175, "answer_count": 1, "score": 6, "last_activity_date": 1421814047, "creation_date": 1421777407, "question_id": 28052284, "link": "https://stackoverflow.com/questions/28052284/perl-does-iofile-work-with-autodie", "title": "Perl Does IO::File work with Autodie?", "body": "<p>I'm trying to understand why <code>IO::File</code> doesn't seem to work with <code>use autodie</code>:</p>\n\n<p><strong>Example #1</strong>: Test program using <code>open</code>:</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;\nuse warnings;\nuse feature qw(say);\nuse autodie;\nuse IO::File;\n\nopen( my $fh, \"&lt;\", \"bogus_file\" );\n# my $fh = IO::File-&gt;new( \"bogus_file\", \"r\" );\nwhile ( my $line = $fh-&gt;getline )  {\n    chomp $line;\n    say qq(Line = \"$line\");\n}\n</code></pre>\n\n<p>This fails with:</p>\n\n<pre><code>Can't open 'bogus_file' for reading: 'No such file or directory' at ./test.pl line 9\n</code></pre>\n\n<p>It looks like <code>autodie</code> is working.</p>\n\n<p><strong>Example #2</strong>: Same test program, but now using <code>IO::File</code>:</p>\n\n<pre><code>#! /usr/bin/env perl\n#\nuse strict;\nuse warnings;\nuse feature qw(say);\nuse autodie;\nuse IO::File;\n\n# open( my $fh, \"&lt;\", \"bogus_file\" );\nmy $fh = IO::File-&gt;new( \"bogus_file\", \"r\" );\nwhile ( my $line = $fh-&gt;getline )  {\n    chomp $line;\n    say qq(Line = \"$line\");\n}\n</code></pre>\n\n<p>This fails with:</p>\n\n<pre><code>Can't call method \"getline\" on an undefined value at ./test.pl line 11.\n</code></pre>\n\n<p>Looks like <code>autodie</code> didn't catch the bad <code>IO::File-&gt;new</code> open.</p>\n\n<p>Yet, as far as I can tell, <code>IO::File-&gt;new</code> uses <code>open</code> underneath. Here's the code from <code>IO::File</code>:</p>\n\n<pre><code>sub new {\n    my $type = shift;\n    my $class = ref($type) || $type || \"IO::File\";\n    @_ &gt;= 0 &amp;&amp; @_ &lt;= 3\n        or croak \"usage: $class-&gt;new([FILENAME [,MODE [,PERMS]]])\";\n    my $fh = $class-&gt;SUPER::new();\n    if (@_) {\n        $fh-&gt;open(@_)   # &lt;-- Calls \"open\" method to open file.\n            or return undef;\n    }\n    $fh;\n}\n\nsub open {\n    @_ &gt;= 2 &amp;&amp; @_ &lt;= 4 or croak 'usage: $fh-&gt;open(FILENAME [,MODE [,PERMS]])';\n    my ($fh, $file) = @_;\n    if (@_ &gt; 2) {\n        my ($mode, $perms) = @_[2, 3];\n        if ($mode =~ /^\\d+$/) {\n            defined $perms or $perms = 0666;\n            return sysopen($fh, $file, $mode, $perms);\n        } elsif ($mode =~ /:/) {\n            return open($fh, $mode, $file) if @_ == 3;\n            croak 'usage: $fh-&gt;open(FILENAME, IOLAYERS)';\n        } else {\n            #  &lt;--- Just a standard \"open\" statement...\n            return open($fh, IO::Handle::_open_mode_string($mode), $file);\n        }\n    }\n    open($fh, $file);\n}\n</code></pre>\n\n<p>What's causing <code>autodie</code> not to work as expected?</p>\n"}, {"tags": ["java", "regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1421775415, "post_id": 28051651, "comment_id": 44485472, "body": "Perl: Yes. Using recursion or <code>&#47;^(.*)(.)(??{ &#39;.&#39; x length($1) })\\z&#47;s</code>"}, {"owner": {"reputation": 917, "user_id": 1754641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3924fa8d1440464e83557984b7253513?s=128&d=identicon&r=PG&f=1", "display_name": "Oli", "link": "https://stackoverflow.com/users/1754641/oli"}, "edited": false, "score": 0, "creation_date": 1421775632, "post_id": 28051651, "comment_id": 44485594, "body": "Is this not context-sensitive?"}, {"owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421775633, "post_id": 28051651, "comment_id": 44485596, "body": "@ikegami, I guess I shouldn&#39;t have said Perl, or at least not using Perl code. In which case you could just as well use a basic string function."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 917, "user_id": 1754641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3924fa8d1440464e83557984b7253513?s=128&d=identicon&r=PG&f=1", "display_name": "Oli", "link": "https://stackoverflow.com/users/1754641/oli"}, "edited": false, "score": 1, "creation_date": 1421775650, "post_id": 28051651, "comment_id": 44485607, "body": "@Oli, That&#39;s not true. It&#39;s only impossible with true regular expressions, but the OP specifically said he knew that, and that he&#39;s talking about the regex engines implemented by some languages."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1421775681, "post_id": 28051651, "comment_id": 44485623, "body": "@Qtax, <code>&#47;...&#47;</code> is a regex match operator. Everything between the <code>&#47;&#47;</code> is a Perl regex. As for recursion, I am referring to regex recursion, not Perl recursion."}, {"owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1421775802, "post_id": 28051651, "comment_id": 44485681, "body": "@ikegami, you can embed any code you like in <code>(??{ ... })</code> and friends, to do anything and everything. Should I remove the Perl tag or make it more clear?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1421775843, "post_id": 28051651, "comment_id": 44485703, "body": "If you want to ask about PCRE and Java but don&#39;t care about Perl, go ahead. It&#39;s kinda weird to ask what modern regex engines can do and not want to know what the leader can do, though."}, {"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 1, "creation_date": 1421776765, "post_id": 28051651, "comment_id": 44486175, "body": "I imagine this <i>has</i> to be regex or you wouldn&#39;t have asked, but why not just get the middle character with: <code>char middle = str.charAt(str.length()&#47;2)</code>? If the string length is always odd, that should work..."}, {"owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "reply_to_user": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 0, "creation_date": 1421781825, "post_id": 28051651, "comment_id": 44488893, "body": "@RyanJ, that this question is about the capabilities/possibilities of modern regex flavors is explained in the last paragraph of the question."}, {"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 0, "creation_date": 1421783500, "post_id": 28051651, "comment_id": 44489805, "body": "@Qtax fair enough, I probably glossed over it and missed the point of the question. That&#39;s what comments are for :)"}, {"owner": {"reputation": 3057, "user_id": 2415524, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/wQrhZ.jpg?s=128&g=1", "display_name": "mbomb007", "link": "https://stackoverflow.com/users/2415524/mbomb007"}, "edited": false, "score": 0, "creation_date": 1474639850, "post_id": 28051651, "comment_id": 66627593, "body": "@Qtax You say that using balancing groups for this is simple. Could you post the solution?"}], "answers": [{"tags": [], "owner": {"reputation": 3403, "user_id": 4145291, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/17b03cb004553500efce49d45e6e6944?s=128&d=identicon&r=PG&f=1", "display_name": "BarrySW19", "link": "https://stackoverflow.com/users/4145291/barrysw19"}, "is_accepted": false, "score": 2, "last_activity_date": 1421776508, "creation_date": 1421776508, "answer_id": 28052026, "question_id": 28051651, "link": "https://stackoverflow.com/questions/28051651/how-to-match-the-middle-character-in-a-string-with-regex/28052026#28052026", "title": "How to match the middle character in a string with regex?", "body": "<p>Hmm, maybe someone can come up with a pure regex solution, but if not you could always dynamically build the regex like this:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    String s = \"12345\";\n    String regex = String.format(\".{%d}3.{%d}\", s.length() / 2, s.length() / 2);\n    Pattern p = Pattern.compile(regex);\n    System.out.println(p.matcher(s).matches());\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1421779527, "post_id": 28052126, "comment_id": 44487609, "body": "I have found this: <code>^(?:.(?=.*((?(1).\\1|.))$))*\\K.</code> that is not very different."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 3, "creation_date": 1421780629, "post_id": 28052126, "comment_id": 44488224, "body": "or with the correct quantifier: <code>^(?:.(?=.+((?(1).\\1|.))$))*\\K.</code>"}, {"owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1421781701, "post_id": 28052126, "comment_id": 44488820, "body": "@CasimiretHippolyte, nice solution, +1! You should post it."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1421781975, "post_id": 28052126, "comment_id": 44488979, "body": "Thanks, no I will not since it is very similar to yours (same approach, same tools). But perhaps if (one day) I will find a way for Java that doesn&#39;t support conditional branches."}, {"owner": {"reputation": 1641, "user_id": 410484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SrHst.jpg?s=128&g=1", "display_name": "jaytea", "link": "https://stackoverflow.com/users/410484/jaytea"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1510484766, "post_id": 28052126, "comment_id": 81446171, "body": "@CasimiretHippolyte Perhaps today is that day? :) You guys were close, but you can do away with the conditional by having those quantifiers match lazily and giving them a place to stop: <code>^(?:.(?=.*?(.\\1?$)))+?\\K.(?=\\1)</code>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 1641, "user_id": 410484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SrHst.jpg?s=128&g=1", "display_name": "jaytea", "link": "https://stackoverflow.com/users/410484/jaytea"}, "edited": false, "score": 3, "creation_date": 1510496537, "post_id": 28052126, "comment_id": 81449934, "body": "@jaytea: You are close too, <a href=\"https://regex101.com/r/Z1VVTF/1/\" rel=\"nofollow noreferrer\"><code>^(?:.(?=.*?(.\\1?$)))*?\\K.(?=\\1?$)</code></a>"}, {"owner": {"reputation": 1641, "user_id": 410484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SrHst.jpg?s=128&g=1", "display_name": "jaytea", "link": "https://stackoverflow.com/users/410484/jaytea"}, "edited": false, "score": 0, "creation_date": 1510508317, "post_id": 28052126, "comment_id": 81453874, "body": "Oh, for single char strings? Sure, I guess so!"}], "tags": [], "owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "is_accepted": true, "score": 8, "last_activity_date": 1421776887, "creation_date": 1421776887, "answer_id": 28052126, "question_id": 28051651, "link": "https://stackoverflow.com/questions/28051651/how-to-match-the-middle-character-in-a-string-with-regex/28052126#28052126", "title": "How to match the middle character in a string with regex?", "body": "<p>With PCRE and Perl (and probably Java) you could use:</p>\n\n<pre><code>^(?:.(?=.*?(?(1)(?=.\\1$))(.\\1?$)))*(.)\n</code></pre>\n\n<p>which would capture the middle character of odd length strings in the 2nd capturing group.</p>\n\n<p><a href=\"https://regex101.com/r/kL2tG5/1\">Explained</a>:</p>\n\n<pre><code>^ # beginning of the string\n(?: # loop\n  . # match a single character\n  (?=\n    # non-greedy lookahead to towards the end of string\n    .*?\n    # if we already have captured the end of the string (skip the first iteration)\n    (?(1)\n      # make sure we do not go past the correct position\n      (?= .\\1$ )\n    )\n    # capture the end of the string +1 character, adding to \\1 every iteration\n    ( .\\1?$ )\n  )\n)* # repeat\n# the middle character follows, capture it\n(.)\n</code></pre>\n"}], "owner": {"reputation": 31332, "user_id": 107152, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/71928e279dd76071cbe710e19d8f8697?s=128&d=identicon&r=PG", "display_name": "Qtax", "link": "https://stackoverflow.com/users/107152/qtax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4152, "favorite_count": 3, "accepted_answer_id": 28052126, "answer_count": 2, "score": 10, "last_activity_date": 1421776887, "creation_date": 1421775166, "last_edit_date": 1421776125, "question_id": 28051651, "link": "https://stackoverflow.com/questions/28051651/how-to-match-the-middle-character-in-a-string-with-regex", "title": "How to match the middle character in a string with regex?", "body": "<p>In an odd number length string, how could you match (or capture) the middle character? </p>\n\n<p>Is this possible with PCRE, <em>plain</em> Perl or Java regex flavors?</p>\n\n<p>With .NET regex you could use <a href=\"http://msdn.microsoft.com/en-us/library/bs2twtah.aspx#balancing_group_definition\" rel=\"noreferrer\">balancing groups</a> to solve it easily (that could be a good example). By plain Perl regex I mean not using any code constructs like <code>(??{ ... })</code>, with which you could run any code and of course do anything.</p>\n\n<p>The string could be of any odd number length.</p>\n\n<p>For example in the string <code>12345</code> you would want to get the <code>3</code>, the character at the center of the string.</p>\n\n<p><em>This is a question about the possibilities of modern regex flavors and not about the best algorithm to do that in some other way.</em></p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1421772607, "post_id": 28050681, "comment_id": 44483637, "body": "<a href=\"http://stackoverflow.com/a/28050781/176646\">choroba pointed out</a> why you&#39;re getting different results for your different arrays, but I&#39;ll add that if you want to only match lines that include all three keywords, you should be using <code>all</code>, not <code>any</code>. You should also change your regex to something like <code>&#47;\\b$_\\b&#47;</code> to avoid matching words like <code>blaa</code> and <code>faaa</code>."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1421773102, "post_id": 28050781, "comment_id": 44483978, "body": "if that were the code they are actually using though, they wouldn&#39;t have got the output they say"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 8, "last_activity_date": 1421772405, "creation_date": 1421772405, "answer_id": 28050781, "question_id": 28050681, "link": "https://stackoverflow.com/questions/28050681/perl-array-issue-in-using-strings-as-array-elements/28050781#28050781", "title": "perl array issue in using strings as array elements", "body": "<p><code>qw()</code> separates words by whitespace, not by comma. So, your code is equivalent to </p>\n\n<pre><code>my @typedefs = ( 'laa,faa,baa' );\n</code></pre>\n\n<p><a href=\"http://p3rl.org/warnings\" rel=\"noreferrer\">warnings</a> should have told you:</p>\n\n<pre><code>Possible attempt to separate words with commas\n</code></pre>\n"}], "owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 28050781, "answer_count": 1, "score": 0, "last_activity_date": 1421772405, "creation_date": 1421772170, "question_id": 28050681, "link": "https://stackoverflow.com/questions/28050681/perl-array-issue-in-using-strings-as-array-elements", "title": "perl array issue in using strings as array elements", "body": "<p>I have the below code.  I am trying to find a match of 3 words in my log file and print the line if the match is found (only if all 3 words are present). It works fine if I hardcode the words (<code>@typedefs</code>) , but its not working if I have the same words in  a array with strings (<code>@typedefs_new</code>). What is the mistake I am doing ?</p>\n\n<pre><code>my $str1=\"laa\";\nmy $str2=\"faa\";\nmy $str3=\"baa\";\n\nmy @typedefs = qw(laa,faa,baa);\nmy @typedefs_new = ($str1,$str2,$str3);\n\nmy $file=\"/pathtofile/logfile.log\";\nopen (FILE, $file) or die $!;\n\nprint \"Output using typdefs_new array\\n\";\nwhile ( my $line = &lt;FILE&gt; ) {\nif ( any { $line =~ /$_/ } @typedefs_new ) {\n    print $line;\n  }\n}\n\n print \"Output using typdefs array\\n\";\nwhile ( my $line = &lt;FILE&gt; ) {\nif ( any { $line =~ /$_/ } @typedefs ) {\n    print $line;\n  }\n}\n</code></pre>\n\n<p>logfile.log:</p>\n\n<pre><code>laa ferg gerg faa rgrebf baa abc def\nfber rgreg rgre greg bgbg rghgr grhr\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> Output using typedefs_new array\n laa ferg gerg faa rgrebf baa abc def\n fber rgreg rgre greg bgbg rghgr grhr\n\n Output using typedefs array\n laa ferg gerg faa rgrebf baa abc def\n</code></pre>\n"}, {"tags": ["perl", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1421772160, "post_id": 28048525, "comment_id": 44483354, "body": "<code>print &quot;@ARGV&quot;</code> seems simpler to me."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 2, "last_activity_date": 1421766034, "creation_date": 1421766034, "answer_id": 28048525, "question_id": 28048478, "link": "https://stackoverflow.com/questions/28048478/how-to-add-spaces-to-an-array-in-perl/28048525#28048525", "title": "How to add spaces to an array in perl?", "body": "<p>Try this:</p>\n\n<pre><code>print join (\" \", @ARGV );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 3, "creation_date": 1421766956, "post_id": 28048631, "comment_id": 44479726, "body": "Actually, the default value of <code>$&quot;</code> is a space, not the empty string."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1421767086, "last_edit_date": 1421767086, "creation_date": 1421766305, "answer_id": 28048631, "question_id": 28048478, "link": "https://stackoverflow.com/questions/28048478/how-to-add-spaces-to-an-array-in-perl/28048631#28048631", "title": "How to add spaces to an array in perl?", "body": "<p>There are several possible ways:</p>\n\n<ol>\n<li><p>You can use <code>join</code>.</p>\n\n<pre><code>print join ' ', sort @ARGV;\n</code></pre></li>\n<li><p>You can use Perl's special variables.</p>\n\n<p>a. <code>$,</code> is inserted between <code>print</code>'s parameters (by default, it's empty).</p>\n\n<pre><code>{   local $, = ' ';\n    print sort @ARGV;\n}\n</code></pre>\n\n<p>b. <code>$\"</code> separates array members when interpolated in double quotes (space by default).</p>\n\n<pre><code>my @sorted = sort @ARGV;\n{   local $\" = ' ';\n    print \"@sorted\";\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 6909, "user_id": 28974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75a98b884ee385cf965fff7529b487c1?s=128&d=identicon&r=PG", "display_name": "converter42", "link": "https://stackoverflow.com/users/28974/converter42"}, "is_accepted": false, "score": 1, "last_activity_date": 1421767091, "creation_date": 1421767091, "answer_id": 28048906, "question_id": 28048478, "link": "https://stackoverflow.com/questions/28048478/how-to-add-spaces-to-an-array-in-perl/28048906#28048906", "title": "How to add spaces to an array in perl?", "body": "<p>The \"Quote and Quote-like Operators\" section of the perlop man page (perldoc perlop) states:</p>\n\n<blockquote>\n  <p>Interpolating an array or slice interpolates the elements in order,\n  separated by the value of $\" , so is equivalent to interpolating join\n  $\", @array . \"Punctuation\" arrays such as @* are usually interpolated\n  only if the name is enclosed in braces @{*}, but the arrays @_ , @+ ,\n  and @- are interpolated even without braces.</p>\n  \n  <p>For double-quoted strings, the quoting from \\Q is applied after\n  interpolation and escapes are processed.</p>\n</blockquote>\n\n<p>So, one way to print the elements of an array separated with spaces would be:</p>\n\n<pre><code>$ perl -le 'print \"@ARGV\"' apple mike zebra\napple mike zebra\n</code></pre>\n\n<p>To illustrate the function of the $\" variable:</p>\n\n<pre><code>$ perl -le '$\" = \"|\"; print \"@ARGV\"' apple mike zebra\napple|mike|zebra\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4474477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2617ea7bcaa941f2b312459bf55634c1?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Owens", "link": "https://stackoverflow.com/users/4474477/steven-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 862, "favorite_count": 0, "accepted_answer_id": 28048525, "answer_count": 3, "score": -4, "last_activity_date": 1421767091, "creation_date": 1421765899, "last_edit_date": 1421766473, "question_id": 28048478, "link": "https://stackoverflow.com/questions/28048478/how-to-add-spaces-to-an-array-in-perl", "title": "How to add spaces to an array in perl?", "body": "<p>The program takes any number of command line arguments (greater than 2) and sorts them [a-z] or [z-a]. </p>\n\n<pre><code>sort.pl apple mike zebra\n</code></pre>\n\n<p>but when I print the array <code>@ARGV</code> it comes out as </p>\n\n<pre><code>applemikezebra\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "redirect", "cgi"], "comments": [{"owner": {"reputation": 841, "user_id": 3348338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yPya.jpg?s=128&g=1", "display_name": "Asheliahut", "link": "https://stackoverflow.com/users/3348338/asheliahut"}, "edited": false, "score": 1, "creation_date": 1421765131, "post_id": 28048105, "comment_id": 44478444, "body": "Use a POST in submitting the data across."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 841, "user_id": 3348338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yPya.jpg?s=128&g=1", "display_name": "Asheliahut", "link": "https://stackoverflow.com/users/3348338/asheliahut"}, "edited": false, "score": 1, "creation_date": 1421765205, "post_id": 28048105, "comment_id": 44478494, "body": "@Geohut \u2014 In a <i>redirect</i>?!"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1421765230, "post_id": 28048105, "comment_id": 44478506, "body": "I&#39;d reorganise your code to use a single script as the entry point, and then just route to different parts of the script depending on need (so you don&#39;t need to tell the browser to request a different URL at all). Catalyst is good for that, although I&#39;d look to FastCGI rather than plain CGI."}, {"owner": {"reputation": 841, "user_id": 3348338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yPya.jpg?s=128&g=1", "display_name": "Asheliahut", "link": "https://stackoverflow.com/users/3348338/asheliahut"}, "edited": false, "score": 0, "creation_date": 1421765371, "post_id": 28048105, "comment_id": 44478629, "body": "<a href=\"http://stackoverflow.com/questions/5576619/php-redirect-with-post-data\" title=\"php redirect with post data\">stackoverflow.com/questions/5576619/php-redirect-with-post-d&zwnj;&#8203;ata</a> if you don&#39;t like this method then look into just being on a single page and doing Ajax calls to the data. Same thing will work with perl."}, {"owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1421767109, "post_id": 28048105, "comment_id": 44479813, "body": "@Quentin ---- Hi, Can you please tell me how would you reorganize this code?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1421767666, "post_id": 28048105, "comment_id": 44480171, "body": "As described in my comment. If you want more, then read up on the MVC pattern as it applies to web development. The Catalyst documentation might be a decent place to start. Or you could look at something a bit simpler like Dancer."}, {"owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "edited": false, "score": 0, "creation_date": 1421767770, "post_id": 28048105, "comment_id": 44480248, "body": "This script just redirects. it does not have a form or any text field or submit button. it just redirects to 2 different pages based on a variable. Can i pass the url params using java script or ajax? how would you call a js function just on its own? can you please give me any link or a pointer?"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1421785738, "post_id": 28053817, "comment_id": 44490955, "body": "Re. &quot;you can&#39;t really do this with a POST at the same time as redirecting. But neither can you do it with a get, because that exposes auth credentials to anyone watching.&quot; If someone is already watching the HTTP requests, using <code>POST</code> will not magically hide the parameters (although it will prevent them from appearing in the browser history)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1421787620, "last_edit_date": 1421787620, "creation_date": 1421782909, "answer_id": 28053817, "question_id": 28048105, "link": "https://stackoverflow.com/questions/28048105/how-to-mask-url-parameters-when-using-perl-cgi-redirect/28053817#28053817", "title": "How to mask url parameters when using perl cgi redirect", "body": "<p>As already noted - you can't really do this with a POST at the same time as redirecting. But neither can you do it with a get, because that exposes auth credentials to anyone watching. (As noted below - just because it's POSTed doesn't make it in any way hidden - it's still sent in the clear, and trivially easy to intercept. It just doesn't appear as obviously in history or proxy logs) </p>\n\n<p>You could perhaps embed the credentials in a cookie, but especially cross-site cookie passing is potentially unpleasant.</p>\n\n<p>So what I would suggest is take a leaf from Kerberos' book. What Kerberos does is enable trusted third party authentication, by passing around encrypted and time limited tokens. <a href=\"http://en.wikipedia.org/wiki/Kerberos_%28protocol%29\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Kerberos_%28protocol%29</a></p>\n\n<p>So algorithmically you could:</p>\n\n<ul>\n<li>Create a public-private key pair. </li>\n<li>put the public key on the 'authenticator' server. </li>\n<li>put the private key on the 'destination' server.</li>\n<li>When someone authenticates successfully, generate a token that includes:\n<ul>\n<li>timestamp</li>\n<li>source ip</li>\n<li>username</li>\n<li>sequence number or serial number (if you want to avoid re-use)</li>\n</ul></li>\n<li>Encrypt the token using the public key. </li>\n<li>Base 64 encode it, and pass it to the client as a parameter in the URL.</li>\n</ul>\n\n<p>The destination server can trust the token, because it can decrypt it, and it's got enough information (time and source IP) to make it non trivial to steal and reuse the encryption token. And it then 'knows' that the user accessing is valid, and authenticated. </p>\n\n<p>You could extend the 'token' to include any sensitive parameters you want to pass, and leave any you're happy to send in the clear. </p>\n\n<p>Perl modules probably exist to do this, but I'm not familiar enough with them so instead:</p>\n\n<pre><code>openssl genrsa -out openssl_gen_rsa\nopenssl rsa -in openssl_gen_rsa -pubout -out openssl_gen_rsa.out \n</code></pre>\n\n<p>Then take a 'plain text' file and encrypt it with the public key:</p>\n\n<pre><code>openssl rsautl -inkey openssl_gen_rsa.out -pubin -in test_file.txt -encrypt -out test_file.openssl.pub.enc\n</code></pre>\n\n<p>Base 64 encode it. (There's a <code>base64</code> command on Linux, but Perl does built in stuff). </p>\n\n<p>Then you decrypt using the private key:</p>\n\n<pre><code>openssl rsautl -inkey openssl_gen_rsa -in test_file.openssl.pub.enc -decrypt\n</code></pre>\n\n<p>Perl definitely has built in modules to do this though. </p>\n"}], "owner": {"reputation": 45, "user_id": 4341882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/01cefc31e94d3f5c85234ff5ca85d7de?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4341882/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421787620, "creation_date": 1421764936, "question_id": 28048105, "link": "https://stackoverflow.com/questions/28048105/how-to-mask-url-parameters-when-using-perl-cgi-redirect", "title": "How to mask url parameters when using perl cgi redirect", "body": "<p>I have  authenticate.cgi script which receives username/password and validates them.</p>\n\n<p>If its a valid login, i redirect the page to myIndex.cgi by sending some parameters like start-date/username etc where a report is shown to the user.</p>\n\n<p>If its a invalid login, i redirect to the previous page so  username/password can be re-entered. </p>\n\n<p>when i redirect to myIndex.cgi, the url shows all the parameters in url bar. \nIs there a way to mask them so the parameters and their values are not shown in the url. </p>\n\n<p>is there a way to do it? Please let me know. thanks.</p>\n\n<p>authenticate.cgi</p>\n\n<pre><code>#Redirect to login if invalid username/password or redirect to report page\nif ( ( $username eq '' ) ||  ( $password eq '' ) )\n{\n        #print \"not defined\\n\";\n        $referrer = $ENV{HTTP_REFERER};\n        print $query-&gt;redirect($referrer);\n}\nelse\n{\n        $retStatus=verifyLogin($username,$password);\n        my $myUser = $username;\n\n        #Redirect to the caller\n        if($retStatus eq \"98\")\n        {\n\n                $referrer = \"http://projects.pjkeary.net/inspections_done_report/myIndex.cgi?start=2014-10-01&amp;end=2014-10-31&amp;exclude_dt=1&amp;myUser=$myUser\";\n        }\n        else\n        {\n                $referrer = $ENV{HTTP_REFERER};\n        }\n        print $query-&gt;redirect($referrer);\n}\n$referrer = $ENV{HTTP_REFERER};\nprint $query-&gt;redirect($referrer);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 1, "creation_date": 1421761557, "post_id": 28046822, "comment_id": 44476023, "body": "I&#39;m too curious: What do you need that information for? Is it kind of homework? After all, I could not have thought of a slower version to implement this:-p"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1421761671, "post_id": 28046822, "comment_id": 44476092, "body": "You could precompute a Hash that contains a mapping from the value of the byte (in decimal) to the number of set bits. (e.g. 5 =&gt; 3) Then with each byte you read you merely need to perform a table lookup."}, {"owner": {"reputation": 43, "user_id": 4467500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/878f6192c952e633ce2f334a98974a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Soft_eng_1989", "link": "https://stackoverflow.com/users/4467500/soft-eng-1989"}, "edited": false, "score": 0, "creation_date": 1421761754, "post_id": 28046822, "comment_id": 44476147, "body": "no it&#39;s not homework. and I know it&#39;s the slowest version, but in the past, these files were 20K-30K. so I didn&#39;t waste time on searching for something faster :P. now I need it."}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 1, "creation_date": 1421765779, "post_id": 28046822, "comment_id": 44478907, "body": "So, does this mean it is a secret what this for? I am as well extremely curious. ^^ It seems like such a basic task &quot;Count the ones&quot;. Yet i can not imagine a situation where i would need this except for maybe one or two bytes where one would count some sort of flags but for some reason not care which ones where set, just the number..."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421771311, "post_id": 28047299, "comment_id": 44482809, "body": "There&#39;s a far more efficient <a href=\"http://stackoverflow.com/q/109023/589924\">algorithm</a> than this."}], "tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 2, "last_activity_date": 1421762666, "creation_date": 1421762666, "answer_id": 28047299, "question_id": 28046822, "link": "https://stackoverflow.com/questions/28046822/what-is-the-fastest-way-to-count-number-of-set-bits-in-binary-file/28047299#28047299", "title": "what is the fastest way to count number of set bits in binary file", "body": "<p>You could do a loop that keeps shifting the bytes right (using the <code>&gt;&gt;</code> operator) and check if the lowest bit is set.</p>\n\n<p>Something like this:</p>\n\n<pre><code>do {\n   $counter++ if $bin_vec &amp; 1;\n   $bin_vec &gt;&gt; 1;\n} while ($bin_vec &gt; 0);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1421764165, "post_id": 28047562, "comment_id": 44477742, "body": "There&#39;s a <code>count1</code> typo in your code. Also why initialize <code>$word</code>/<code>$byte</code> with <code>0</code>? Did you compare the speed?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1421764212, "post_id": 28047562, "comment_id": 44477783, "body": "Thanks, I wrote both solutions in the same file and used different counters, forgot to update that one."}, {"owner": {"reputation": 43, "user_id": 4467500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/878f6192c952e633ce2f334a98974a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Soft_eng_1989", "link": "https://stackoverflow.com/users/4467500/soft-eng-1989"}, "edited": false, "score": 0, "creation_date": 1421764608, "post_id": 28047562, "comment_id": 44478068, "body": "I tested them here are the result: --time ./binary_count_1.pl dummy_85Mbit.bin -- --Det count 8408334-- --1.112u 0.004s 0:01.11 100.0%    0+0k 0+0io 0pf+0w-- --time ./binary_count_2.pl dummy_85Mbit.bin-- --Det count 8408334-- --3.104u 0.008s 0:03.11 99.6%     0+0k 0+0io 0pf+0w-- which means, the first one is faster."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1421765181, "post_id": 28047562, "comment_id": 44478476, "body": "Yeah, probably because it reads 4 bytes at a time instead of 1. You could modify the second one to read 4 bytes at a time then pass each byte to the lookup table separately and it should speed up quite a lot"}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1421765609, "post_id": 28047562, "comment_id": 44478793, "body": "Nice answer. I really like the trick from 1) but sadly i still cannot imagine a situation in which i could ever use my new-found knowledge. ^^"}, {"owner": {"reputation": 43, "user_id": 4467500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/878f6192c952e633ce2f334a98974a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Soft_eng_1989", "link": "https://stackoverflow.com/users/4467500/soft-eng-1989"}, "edited": false, "score": 0, "creation_date": 1421768821, "post_id": 28047562, "comment_id": 44480968, "body": "imagine that you have a test that checks number of systems in particular order, and print out the status of each system (pass/fail). let&#39;s say you ran 100 different tests on these system in the same order, and now, you want to count how many &quot;pass&quot; you get from all these test (two tests may give you the same result for a specific system, but we don&#39;t want to count it twice). so you can convert these results to binary, and run binary OR between them and save a lot of time.. finally , you want to count the number of the 1&#39;s. the same if you want to know how many extra &quot;pass&quot; you have foreach tst"}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "reply_to_user": {"reputation": 43, "user_id": 4467500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/878f6192c952e633ce2f334a98974a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Soft_eng_1989", "link": "https://stackoverflow.com/users/4467500/soft-eng-1989"}, "edited": false, "score": 0, "creation_date": 1421769761, "post_id": 28047562, "comment_id": 44481688, "body": "@Soft_eng_1989 Well, okay, that implies whatever you people create is quite thoroughly tested, with each file having 50 million bits set. ^^ My inability to come up with that myself probably says more about me than it does about you though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1421771770, "post_id": 28047562, "comment_id": 44483091, "body": "Possibly optimized second version: <code>my $count = 0; while ( sysread $fh, my $buf, 64*1024) {    $count += $bitcounts[$_] for unpack &#39;C*&#39;, $buf; } </code>"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 8, "last_activity_date": 1421771723, "last_edit_date": 1421771723, "creation_date": 1421763402, "answer_id": 28047562, "question_id": 28046822, "link": "https://stackoverflow.com/questions/28046822/what-is-the-fastest-way-to-count-number-of-set-bits-in-binary-file/28047562#28047562", "title": "what is the fastest way to count number of set bits in binary file", "body": "<p>There are two ways I can think of: \n1) use unpack as you are already doing, but don't waste cycles doing any IO.\n2) use a lookup table with precomputed values for how many bits are in a given byte</p>\n\n<p>1) The trick here is the '%' directive to unpack which tells unpack to perform a checksum across the result, which sums all of the 0s and 1s in the case of binary data</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = $ARGV[0];\n\nopen(my $fh, '&lt;', $filename) or die \"$!\";\nbinmode $fh;\n\n\nmy $count = 0;\nmy $word  = 0;\n\nwhile ( read $fh, $word, 4 ) {\n   $count += unpack '%32B*', $word;\n}\n\nprint \"filename contains $count set bits\\n\";\n__END__\n7733485\n</code></pre>\n\n<p>2) The values from 0 - 255 only have a certain number of set bits, which will <em>never</em> change, so you can precompute an array to hold all of them. You waste a little memory -- around 4k or 8k depending on the build -- to prevent any computation except for lookups.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = $ARGV[0];\n\nopen(my $fh, '&lt;', $filename) or die \"$!\";\nbinmode $fh;\n\nmy @bitcounts = (\n   0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3, 2, 3, \n   3, 4, 2, 3, 3, 4, 3, 4, 4, 5, 1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, \n   3, 4, 4, 5, 2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6, 1, 2, \n   2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5, 2, 3, 3, 4, 3, 4, 4, 5, \n   3, 4, 4, 5, 4, 5, 5, 6, 2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, \n   5, 6, 3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7, 1, 2, 2, 3, \n   2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5, 2, 3, 3, 4, 3, 4, 4, 5, 3, 4, \n   4, 5, 4, 5, 5, 6, 2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6, \n   3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7, 2, 3, 3, 4, 3, 4, \n   4, 5, 3, 4, 4, 5, 4, 5, 5, 6, 3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, \n   5, 6, 6, 7, 3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7, 4, 5, \n   5, 6, 5, 6, 6, 7, 5, 6, 6, 7, 6, 7, 7, 8\n);\n\nmy $count = 0;\nmy $byte  = 0;\nwhile ( read $fh, $byte, 1 ) {\n   $count += $bitcounts[ord($byte)];\n}\n\nprint \"filename contains $count set bits\\n\";\n__END__\n7733485\n</code></pre>\n\n<p>Both of these approaches give me 7733485 for a sample JPEG I processed.</p>\n"}], "owner": {"reputation": 43, "user_id": 4467500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/878f6192c952e633ce2f334a98974a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Soft_eng_1989", "link": "https://stackoverflow.com/users/4467500/soft-eng-1989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 0, "accepted_answer_id": 28047562, "answer_count": 2, "score": 2, "last_activity_date": 1421771723, "creation_date": 1421761354, "question_id": 28046822, "link": "https://stackoverflow.com/questions/28046822/what-is-the-fastest-way-to-count-number-of-set-bits-in-binary-file", "title": "what is the fastest way to count number of set bits in binary file", "body": "<p>I want to know what is the fastest way to count the number of set bits (1's) in binary file in Perl\nI need it to fast because I'm reading 10's of files, each one with ~50 million bits.</p>\n\n<p>the way I'm doing it right now is too slow, and the it takes couple of hours to run over 10-15 files.</p>\n\n<p>this is how I do it right now (I know it's slow an inefficient, but in the past the files were much smaller and this method was good enough):</p>\n\n<pre><code>#count number of 1's in binary vector\nsub get_DET_fault_count {\n    my $bin_vec = shift;\n\n    my $tmp_vec = generate_tmp_path(\"bin_vec\");\n    io($tmp_vec)-&gt;println( unpack( \"B*\", $bin_vec ) );\n    my $fault_count = `grep -o -E '1' $tmp_vec | wc -l`;\n\n    chomp $fault_count;\n    `rm $tmp_vec`;\n    return $fault_count;\n}\n</code></pre>\n"}, {"tags": ["perl", "function", "inheritance", "polymorphism", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1421766710, "post_id": 28046693, "comment_id": 44479556, "body": "You shouldn&#39;t make such functions as they are inherently buggy"}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421780827, "post_id": 28046693, "comment_id": 44488337, "body": "Why? Can you be more specific?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1421781391, "post_id": 28046693, "comment_id": 44488631, "body": "Because something can be both a hash and an array (etc). If you don&#39;t want to provide multiple functions, base your polymorphism on the number of arguments or on the name of arguments (when using <code>foo =&gt; $foo</code> arguments)."}], "answers": [{"comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1421762168, "post_id": 28046841, "comment_id": 44476399, "body": "Be sure to pass <code>@_</code> to the anonymous sub because it won&#39;t be able to access the outer <code>@_</code> anymore."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1421762318, "post_id": 28046841, "comment_id": 44476512, "body": "@DanielB&#246;hmer tnx for comment."}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1421762396, "post_id": 28046841, "comment_id": 44476566, "body": "With your recent edit you&#39;re removing the 1st element of interest from <code>@_</code> and <i>do not</i> pass it to the sub! Stick to <code>$_[0]</code>."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1421762308, "last_edit_date": 1421762308, "creation_date": 1421761437, "answer_id": 28046841, "question_id": 28046693, "link": "https://stackoverflow.com/questions/28046693/perl-how-to-create-function-that-accepts-various-data-types/28046841#28046841", "title": "Perl - how to create function that accepts various data types", "body": "<p>You can also use hash of functions/dispatch table, but it is basically the same approach,</p>\n\n<pre><code>sub method_that_accept_various_data_types {\n\n  my $ref = ref($_[0]);\n\n  my $func = {\n    ARRAY =&gt; sub {\n      print \"$ref\\n\";\n    },\n    SCALAR =&gt; sub {\n      print \"$ref\\n\";\n    },\n    HASH =&gt; sub {\n      print \"$ref\\n\";\n    },\n  }-&gt;{$ref} or return;\n\n  $func-&gt;(@_);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1421762918, "post_id": 28047271, "comment_id": 44476908, "body": "Switch shouldn&#39;t be recommended. It&#39;s a source filter, it can cause strange bugs."}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1421763226, "post_id": 28047271, "comment_id": 44477130, "body": "As an alternative if you know your code will only run on Perl 5.10.1 or higher, you can use <a href=\"http://perldoc.perl.org/perlsyn.html#Switch-Statements\" rel=\"nofollow noreferrer\">the <code>switch</code> feature</a>. That&#39;s almost the same but with different keywords: <code>for</code> or <code>given</code> and <code>when</code>."}], "tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1421762599, "creation_date": 1421762599, "answer_id": 28047271, "question_id": 28046693, "link": "https://stackoverflow.com/questions/28046693/perl-how-to-create-function-that-accepts-various-data-types/28047271#28047271", "title": "Perl - how to create function that accepts various data types", "body": "<p>You could use the <code>switch</code> statement from the <a href=\"https://metacpan.org/pod/Switch\" rel=\"nofollow\"><code>Switch</code> module</a></p>\n\n<pre><code>use Switch;\n\nsub polymorph_function {\n    my ($arg1, $arg2, ...) = @_;\n\n    switch (ref $arg1) {\n        case 'ARRAY' { ... }\n        case 'HASH'  { ... }\n        ...\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1421763720, "last_edit_date": 1421763720, "creation_date": 1421763038, "answer_id": 28047426, "question_id": 28046693, "link": "https://stackoverflow.com/questions/28046693/perl-how-to-create-function-that-accepts-various-data-types/28047426#28047426", "title": "Perl - how to create function that accepts various data types", "body": "<p>I'm adding this based on \u0421\u0443\u0445\u043e\u043927's example as an additional answer because I'd personally consider it bad code. But if you prefer short code you might like it:</p>\n\n<pre><code>sub polymorph_function {\n    ({\n        ARRAY =&gt; sub { ... },\n        HASH  =&gt; sub { ... },\n        ...\n    }-&gt;{ref $_[0]} || return)-&gt;(@_);\n}\n</code></pre>\n\n<p>It's basically the same, except that there are no temporary variables. It creates an anonymous hash and its reference is directly dereferenced and the appropriate key selected based on <code>ref $_[0]</code> (type of the 1st argument). The resulting coderef to one of the subs is then called immediately with all arguments to the original sub.</p>\n"}, {"tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": -1, "last_activity_date": 1421765508, "creation_date": 1421765508, "answer_id": 28048322, "question_id": 28046693, "link": "https://stackoverflow.com/questions/28046693/perl-how-to-create-function-that-accepts-various-data-types/28048322#28048322", "title": "Perl - how to create function that accepts various data types", "body": "<p>I just thought about ways to move much of the code to a central place.</p>\n\n<pre><code>sub polymorph_function {\n    poly \\@_, (\n        ARRAY =&gt; sub { ... },\n        HASH  =&gt; sub { ... },\n        ...\n    );\n}\n\nsub poly {\n    my ($args, %subs) = @_;\n\n    my $sub = $subs{ref $args-&gt;[0]} or return;\n    $sub-&gt;( @$args );\n}\n</code></pre>\n"}], "owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1422291103, "creation_date": 1421760931, "last_edit_date": 1422291103, "question_id": 28046693, "link": "https://stackoverflow.com/questions/28046693/perl-how-to-create-function-that-accepts-various-data-types", "title": "Perl - how to create function that accepts various data types", "body": "<p>In some perl functions I want be able to work with various types of arguments and of course treat them differently. Now I am using for this <code>ref</code> function and execute appropriate part of code based on <code>ref</code> result, e.g.</p>\n\n<pre><code>sub method_that_accept_various_data_types(){\n  if (ref $_[0] eq \"ARRAY\"){\n    # ...\n  }\n  elsif (ref $_[0] eq \"SCALAR\"){\n    # ...\n  }\n  elsif (ref $_[0] eq \"HASH\"){\n    # ...\n  }\n}\n</code></pre>\n\n<p>Is there some elegant way by which I can say that all my functions should follow this pattern  or I have to use mentioned code at the beginning of all my subroutines? I am writing procedural code and I thing something similar is polymorphism and inheritance in OOP but I am newbie in this area.</p>\n\n<p><strong>Edit</strong>\nAll answers needs to append the code to all newly created function. I am asking if there is some generic way of doing this for every function defined from now without the need for adding code to new function.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4469226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ab229cd3bc2c650b7283c6034c8d40?s=128&d=identicon&r=PG&f=1", "display_name": "michael huser", "link": "https://stackoverflow.com/users/4469226/michael-huser"}, "edited": false, "score": 0, "creation_date": 1421763836, "post_id": 28047462, "comment_id": 44477538, "body": "perl -p -i -e &#39;s/(4947000219)/$1+1/ge&#39; file01.txt  # i was able to increment number from this code where in script it&#39;s not working..here i&#39;m searching specific number."}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "reply_to_user": {"reputation": 11, "user_id": 4469226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ab229cd3bc2c650b7283c6034c8d40?s=128&d=identicon&r=PG&f=1", "display_name": "michael huser", "link": "https://stackoverflow.com/users/4469226/michael-huser"}, "edited": false, "score": 0, "creation_date": 1421764937, "post_id": 28047462, "comment_id": 44478306, "body": "@michaelhuser Well, yes, in that string you use <code>s&#47;old&#47;new&#47;ge</code> while in the script you try to use <code>s~old~new~ge</code> which would work just as well. But in your script you write actually <code>s~&#47;old&#47;~new~ge</code> and that means you actually look for <code>&#47;old&#47;</code> instead of just <code>old</code> to replace with <code>new</code>. That means it won&#39;t find anything unless you actually have slashes and actually want to replace them."}], "tags": [], "owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "is_accepted": false, "score": 0, "last_activity_date": 1421763668, "last_edit_date": 1421763668, "creation_date": 1421763135, "answer_id": 28047462, "question_id": 28046555, "link": "https://stackoverflow.com/questions/28046555/perl-script-which-will-do-the-global-interpolation-of-number-and-timestamps/28047462#28047462", "title": "Perl script which will do the Global interpolation of number and timestamps", "body": "<p>This started out as a comment but the limited code formatting possibilities made it an answer instead. </p>\n\n<p>I am not sure i understand you correctly. Is there a number of input files in the same format as the output file? Because else i do not understand at all where you get the timestamp and number from. I will assume your input files look just like the output and you only want to change some numbers around. If that is not true, i still believe that my second point might help you out, the example however will not.\nIf i get your problem correctly, i would assume your problem are the <code>s~~~ge</code>.</p>\n\n<p>First, you only replace a number in the first line and a timestamp in the second. It appears you lost a loop somewhere (there even is the indentation) and got confused about what <code>@lines</code> is. So first of all you need a loop over all your lines.</p>\n\n<p>Second, from your example input it looks as if there are in fact no slashes. Your replacement however looks for a specific number in between slashes, removing those slashes in the process. I would assume the slashes are left overs from a matching operator you copied or something. But as your replacement operator uses <code>~</code> for separation, those slashes are literal.</p>\n\n<p>Third you look for a specific number when the whole point of regular expressions is being better than search&amp;replace. </p>\n\n<p>If i am not mistaken, you look for something along the lines of </p>\n\n<pre><code>foreach my $currentLine (@lines) {\n    ++$n;\n    $currentLine =~ s~(\\S*) (\\d*), (\\d*)~print \"$1 \", $2+$n, \", \", $date-$n~ge;\n    #any number of non-spaces# #any number of digits#, #any number of digits#\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "is_accepted": false, "score": 1, "last_activity_date": 1421763440, "creation_date": 1421763440, "answer_id": 28047574, "question_id": 28046555, "link": "https://stackoverflow.com/questions/28046555/perl-script-which-will-do-the-global-interpolation-of-number-and-timestamps/28047574#28047574", "title": "Perl script which will do the Global interpolation of number and timestamps", "body": "<p>You are trying to subtract a integer from a date string to reduce the number of minutes:</p>\n\n<pre><code>$lines[1] =~ s~/(20140924105028)/~$date-$n~ge;\n</code></pre>\n\n<p>That won't work. Instead, substract 60 seconds from the <code>time</code> parameter given to <code>localtime</code> and use <code>strftime</code> again for every file.</p>\n"}], "owner": {"reputation": 11, "user_id": 4469226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ab229cd3bc2c650b7283c6034c8d40?s=128&d=identicon&r=PG&f=1", "display_name": "michael huser", "link": "https://stackoverflow.com/users/4469226/michael-huser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1421763668, "creation_date": 1421760533, "last_edit_date": 1421761052, "question_id": 28046555, "link": "https://stackoverflow.com/questions/28046555/perl-script-which-will-do-the-global-interpolation-of-number-and-timestamps", "title": "Perl script which will do the Global interpolation of number and timestamps", "body": "<p>I'm trying to write a perl script which will do the Global interpolation of number and timestamps (timestamps format <code>YYYYmmDDHHMMSS</code>, e.g. <code>20150124010502</code>) with system time. The format remain the same as in the original file and is reduced by one minute in each file.</p>\n\n<p>The input files would be <em>file01.txt</em>, <em>file02.txt</em> , <em>file03.txt</em>, <em>file04.txt</em> and so on. All the file have the same number and timestamps and size.    </p>\n\n<pre><code>4947000219, 20150124010502 ,2    \n</code></pre>\n\n<p>In our output file we want to replace the existing number and timestamps. The number needs to increment and the timestamps should be replaced with system time and formated like in the original file.</p>\n\n<p>Assuming the system time <em>\u201cMon Jan 19 13:39:57 IST 2015\u201d</em> our replaced timestamps is <code>20150119133957</code> and the minute will be reduced by one minute in each file.\nThe output file should look like this:</p>\n\n<pre><code>file01.txt 4947000219, 20150119133957 ,2    \nfile02.txt 4947000220, 20150119133857 ,2    \nfile03.txt 4947000221, 20150119133757 ,2    \nfile04.txt 4947000222, 20150119133657 ,2    \nfile05.txt 4947000223, 20150119133557 ,2    \nfile06.txt 4947000224, 20150119133457 ,2    \nfile07.txt 4947000225, 20150119133357 ,2    \nfile07.txt 4947000226, 20150119133257 ,2  \n\n\n.    \n.    \n.    \n.    \n</code></pre>\n\n<p>and so on.   </p>\n\n<p>Below is the perl script we created. But it's not working.    </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;    \nuse File::Find;\nuse Time::Local;      \nuse POSIX ();  \n\nmy $n;    \nmy @local=(localtime);\n\nmy $directory= \"/home/Doc/Test\";\nchdir $directory;\nopendir(DIR, \".\") or die \"couldn't open $directory: $!\\n\";\n\nforeach my $file (readdir DIR){    \nnext unless -f $file;\n  open my $in_fh, \"&lt;$file\";\n  my @lines = &lt;$in_fh&gt;; \n  close $in_fh;\n  my $date = POSIX::strftime( '%Y%m%d%H%M%S', @local);\n  ++$n;    \n        $lines[0] =~ s~/(4947000219)/~$1+$n~ge;\n        $lines[1] =~ s~/(20140924105028)/~$date-$n~ge;\n\n    open my $out_fh, \"&gt;$file\";\n    print $out_fh @lines;    \n    close $out_fh;   \n}    \nclosedir DIR;    \n</code></pre>\n\n<p>Can anyone tell me, what's wrong?</p>\n"}, {"tags": ["perl", "scp"], "comments": [{"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1421760037, "post_id": 28046330, "comment_id": 44475064, "body": "What happens when you run your program? Do you get any error messages?"}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1421760408, "post_id": 28046330, "comment_id": 44475295, "body": "As you can see I tried to improve the formatting of your answer. It seems this is only part of the code or there is a closing curly brace <code>}</code> missing at the end of it. Try to keep your code indented correctly as you&#39;ll see mistakes easily. Use can use <a href=\"https://metacpan.org/pod/perltidy\" rel=\"nofollow noreferrer\"><code>perltidy</code></a> which will safely and automatically pretty-format your code."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1421760537, "post_id": 28046330, "comment_id": 44475381, "body": "Do you have checked the error code returned by <code>scp</code> function?"}], "answers": [{"tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 1, "last_activity_date": 1421767951, "creation_date": 1421767951, "answer_id": 28049206, "question_id": 28046330, "link": "https://stackoverflow.com/questions/28046330/how-to-copy-a-files-from-host-to-a-created-directory/28049206#28049206", "title": "How to copy a files from host to a created directory?", "body": "<p>You are doing strange things with scoping here:</p>\n\n<p>In your sub, which - strange enough - is called \"main\", you declare a <strong>locally scoped</strong> variable $directory and assign \"temp\" to it. </p>\n\n<p>However the variable $directory declared in the main program in line 10 stays empty - but that's the one used in the scp.</p>\n\n<p>I would suggest to change this</p>\n\n<pre><code>sub main {\n    my $directory = \"temp\";\n    unless(-e $directory or mkdir $directory) {\n        die \"Unable to create $directory\";\n    }\n}\nmain();\n</code></pre>\n\n<p>into that:</p>\n\n<pre><code>$directory = \"temp\";\nunless(-e $directory or mkdir $directory) {\n    die \"Unable to create $directory\";\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4453345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898baa37f44edd28835a6ebac0262edb?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Loki", "link": "https://stackoverflow.com/users/4453345/lokesh-loki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1421767951, "creation_date": 1421759850, "last_edit_date": 1421760290, "question_id": 28046330, "link": "https://stackoverflow.com/questions/28046330/how-to-copy-a-files-from-host-to-a-created-directory", "title": "How to copy a files from host to a created directory?", "body": "<p>I am trying to copy a files from host to created directory. Here is my script:</p>\n\n<pre><code>use strict;\nuse Getopt::Long;\nuse Net::SCP::Expect;\n\nmy $filename;\nGetOptions(\n    \"file=s\" =&gt; \\$filename\n);\nmy $src_path=\"/\";\nmy $directory;\nopen(INBOX, \"&lt;$filename\") or die \"Can't open $filename\\n\";\n\nwhile(&lt;INBOX&gt;) {\n    chomp;\n    my @arr = split(/:/);\n    my $host=$arr[0];\n    my $username=$arr[1];\n    my $password=$arr[2];\n\n    sub main {\n        my $directory = \"temp\";\n        unless(-e $directory or mkdir $directory) {\n            die \"Unable to create $directory\";\n        }\n    }\n\n    main();\n    print \"Copying from $host \\n\";\n    my $scpe = Net::SCP::Expect-&gt;new(\n        host     =&gt; $host,\n        user     =&gt; $username,\n        password =&gt; $password,\n    );\n    $scpe-&gt;scp($host . \":\" . $src_path, $directory);\n</code></pre>\n\n<p>But here I am unable to move or copy a files from host to the created    directory called temp. Can you help me in this regard in Perl?</p>\n"}, {"tags": ["perl", "sh"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1421760042, "post_id": 28046259, "comment_id": 44475069, "body": "Try with quotes :         <code>&quot;$getWIs&quot; &gt;&gt; &quot;WIassociatedtoComp.log&quot;</code>;"}, {"owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1421829588, "post_id": 28046259, "comment_id": 44506175, "body": "This is still not working. The point is if string $getWIs contains parentheses it should be written as such to the log fil"}], "answers": [{"comments": [{"owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "edited": false, "score": 0, "creation_date": 1438847540, "post_id": 28046654, "comment_id": 51620078, "body": "The answer solves the described problem. If <i>It is still not working</i>, describe the new problem."}], "tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1421835040, "last_edit_date": 1421835040, "creation_date": 1421760854, "answer_id": 28046654, "question_id": 28046259, "link": "https://stackoverflow.com/questions/28046259/escape-parenthesis-in-perl-while-logging-output-to-file/28046654#28046654", "title": "Escape parenthesis in perl while logging output to file", "body": "<p>The output looks like the <code>$changeset</code> variable contains shell meta characters. Try to enclose that in single quotes:</p>\n\n<pre><code>foreach $changeset(@cs_ids) {\n    my $getWIs = \"scm list changes '$changeset' -r rtcuser\";\n    `$getWIs &gt;&gt; WIassociatedtoComp.log`;\n}\n</code></pre>\n\n<p>Is the output still the same? Then please insert into the loop:</p>\n\n<pre><code>print \"$getWIs\\n\";\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421835040, "creation_date": 1421759638, "last_edit_date": 1421760779, "question_id": 28046259, "link": "https://stackoverflow.com/questions/28046259/escape-parenthesis-in-perl-while-logging-output-to-file", "title": "Escape parenthesis in perl while logging output to file", "body": "<p>I am logging the output of a cli which is the change set details to a log file using the following code:</p>\n\n<p>This code works fine but when the change set details contains parenthesis i.e. () it is breaking and results in the below error.</p>\n\n<pre><code>sh: -c: line 0: syntax error near unexpected token `)'\nsh: -c: line 0: `scm list changes 5313) ---$ ABC \"Changed to Kill SNMP Agent upon stop( -r rtcuser &gt;&gt; WIassociatedtoComp.log'\n</code></pre>\n\n<p>My code is :</p>\n\n<pre><code>foreach $changeset(@cs_ids) {\n        my $getWIs = \"scm list changes $changeset -r rtcuser\";\n        `$getWIs &gt;&gt; WIassociatedtoComp.log`;\n        }\n</code></pre>\n\n<p>What can be done to escape these parenthesis and log this entry to log successfully.</p>\n"}, {"tags": ["perl", "module", "perl-module"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1421760137, "post_id": 28046133, "comment_id": 44475131, "body": "Not enough information. Are these OO modules, functional modules, pragmatic modules? Are they based on Exporter?"}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1421760662, "post_id": 28046133, "comment_id": 44475460, "body": "Yes, they are using Exporter. Each module contains procedural code, I think. Can you please explain why that matters?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1421761468, "post_id": 28046133, "comment_id": 44475969, "body": "Because <code>use</code> = <code>require</code> + <code>import</code>. OO modules usually have no <code>import</code>, non-Exporter modules might have a wild <code>import</code>."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1422290676, "post_id": 28046133, "comment_id": 44680638, "body": "may I ask what do you mean by &quot;wild <code>import</code>&quot;. Also when you have dependency as I mentioned (and  also satisfied condition that needed modules are loaded explicitly e.g. ModuleA loads ModuleC explicitly and do not rely on ModuleB that it will load ModuleC) is it OK or is it some signal that the script should be redesigned to object oriented or functional or something?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1422308308, "post_id": 28046133, "comment_id": 44689764, "body": "&quot;wild&quot; import can do anything: create random subs in the caller&#39;s namespace, set global variables, install signal handlers, override core functions, etc."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1422309152, "post_id": 28046133, "comment_id": 44690202, "body": "Do you have some references for this?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1422355774, "post_id": 28046133, "comment_id": 44706978, "body": "No, just imagination and experience."}], "answers": [{"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 1, "creation_date": 1421773807, "post_id": 28047075, "comment_id": 44484492, "body": "Order does matter, depending on the modules, especially for modules that import subroutines. The last one wins when there is a conflict."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1421781467, "post_id": 28047075, "comment_id": 44488673, "body": "@choroba &quot;if a script needs modules A and B, and module A needs module B&quot; &quot;what if some other script needs module A without needing B?&quot; Isn&#39;t those two statements mutually exclusive? When I have Module A where is explicitly said that it <code>use</code> Module B (A cannot work without B) how is possible that somebody wants to use Module A but not Module B? In another words Module B is explicitly loaded when Module A is loaded and it cannot be changed, or can be? What do you mean by using @EXPORT_OK? If I understand you correct you say that Module A should contain in @EXPORT_OK subroutines from Module B?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1421786860, "post_id": 28047075, "comment_id": 44491509, "body": "@WakanTanka: By &quot;use&quot;, I mean <code>use</code>, i.e. script C contains <code>use A;</code>, but doesn&#39;t contain <code>use B;</code>, because it&#39;s A&#39;s responsibility to handle its dependencies."}, {"owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1421872429, "post_id": 28047075, "comment_id": 44531607, "body": "So basically you are saying that all modules which are needed should be loaded explicitly and do not relly on fact that they will be loased by another module which use them, am i right? Is this cobsidered as best practice? Thanks"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "edited": false, "score": 0, "creation_date": 1421920829, "post_id": 28047075, "comment_id": 44549174, "body": "@WakanTanka: Exactly."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1421762082, "creation_date": 1421762082, "answer_id": 28047075, "question_id": 28046133, "link": "https://stackoverflow.com/questions/28046133/perl-module-dependency-organization-and-include-order/28047075#28047075", "title": "Perl module dependency organization and include order", "body": "<p>The best practice is easy: Each file, program or module, should specify all its dependencies. That's it. E.g., if a script needs modules A and B, and module A needs module B, don't count on module B already loaded by the script - what if some other script needs module A without needing B?</p>\n\n<p>Good Exporter based modules should use <code>@EXPORT_OK</code> and you should explicitly list the imported subroutines in the use-clause. It helps to prevent name clashes.</p>\n\n<p>For normal modules that only export subroutines, order shouldn't matter. In other cases, it might, though: consider</p>\n\n<pre><code>use warnings_;\nuse diagnostics;\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>use diagnostics;\nuse warnings_;\n</code></pre>\n"}], "owner": {"reputation": 5856, "user_id": 1616488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aCLot.jpg?s=128&g=1", "display_name": "Wakan Tanka", "link": "https://stackoverflow.com/users/1616488/wakan-tanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 28047075, "answer_count": 1, "score": 3, "last_activity_date": 1422290809, "creation_date": 1421759248, "last_edit_date": 1422290809, "question_id": 28046133, "link": "https://stackoverflow.com/questions/28046133/perl-module-dependency-organization-and-include-order", "title": "Perl module dependency organization and include order", "body": "<p>I am aware of cyclic module dependency in perl and the fact that it is very bad idea e.g.:</p>\n\n<pre><code>package ModuleA;\nuse ModuleB;\n\npackage ModuleB;\nuse ModuleA;\n</code></pre>\n\n<p>I want to ask if following model is safe and if it follows some best practicing rules:</p>\n\n<pre><code>package main;\nuse ModuleA;\nuse ModuleB;\n\npackage ModuleA;\nuse ModuleB;\nuse ModuleC;\n\npackage ModuleB;\nuse ModuleC;\n</code></pre>\n\n<p>Also I would like to ask if the order of <code>use</code>-ing modules have any impact? e.g. if </p>\n\n<pre><code>package main;\nuse ModuleA;\nuse ModuleB;\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>package main;\nuse ModuleB;\nuse ModuleA;\n</code></pre>\n\n<p>and if</p>\n\n<pre><code>package ModuleA;\nuse ModuleB;\nuse ModuleC;\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>package ModuleA;\nuse ModuleC;\nuse ModuleB;\n</code></pre>\n\n<p>etc.</p>\n\n<p>EDIT:\nNote to say that ModuleA loads ModuleC explicitly (and do not rely on ModuleB that it will load ModuleC) because ModuleA uses functions from ModuleC. Is this good design approach?</p>\n"}, {"tags": ["perl", "interface", "scp"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1421758956, "post_id": 28045991, "comment_id": 44474404, "body": "Taking care of ip/routes should be a job for your sysadmin."}, {"owner": {"reputation": 505, "user_id": 1412450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ZhN.jpg?s=128&g=1", "display_name": "Pankaj Jaiswal", "link": "https://stackoverflow.com/users/1412450/pankaj-jaiswal"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1421761852, "post_id": 28045991, "comment_id": 44476213, "body": "@\u0421\u0443\u0445\u043e\u043927 is there any way to add an entry to the routing table so that can route the request.Like adding a host route to the SFTP server. Thanks for your help."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1421762100, "post_id": 28045991, "comment_id": 44476359, "body": "Yes, check <code>man route&#47;man ip</code> and make sure to have root credentials."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421787798, "post_id": 28045991, "comment_id": 44491959, "body": "But bear in mind that routing to the same subnet over different physical interfaces is intrinsically fraught with complications. There&#39;s no guarantee of a symmetric route across your network. If it&#39;s to a different subnet then that&#39;s fine, but then you wouldn&#39;t be asking this question in the first place."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1421759710, "creation_date": 1421759710, "answer_id": 28046285, "question_id": 28045991, "link": "https://stackoverflow.com/questions/28045991/unable-to-use-scp-for-file-uploads-in-perl-for-secondary-ethernet-interface/28046285#28046285", "title": "Unable to use scp for file uploads in perl for secondary ethernet interface", "body": "<p>You can't. Routing doesn't work in 'user space' it's handled by the kernel. There is nothing you can do with a perl script that will deal with that. </p>\n\n<p>You need to look at your routing table, or how to configure your network interfaces on appropriate subnets. </p>\n"}], "owner": {"reputation": 505, "user_id": 1412450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ZhN.jpg?s=128&g=1", "display_name": "Pankaj Jaiswal", "link": "https://stackoverflow.com/users/1412450/pankaj-jaiswal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421759710, "creation_date": 1421758748, "question_id": 28045991, "link": "https://stackoverflow.com/questions/28045991/unable-to-use-scp-for-file-uploads-in-perl-for-secondary-ethernet-interface", "title": "Unable to use scp for file uploads in perl for secondary ethernet interface", "body": "<p>Hi I'm trying to use SCP to upload the files to the remote server through a perl code.</p>\n\n<p>The server on which the code is being run have multiple ethernet interface(eth0,eth1,eth2)</p>\n\n<p>eth0 is the default interface.</p>\n\n<p>The server to which I'm trying to upload the files can only be reached by eth2 interface. </p>\n\n<p>Is there something which I need to modify in the code to use that particular interface for the uploads.(eth2)</p>\n\n<p>I'm using:</p>\n\n<p>use Expect; #for scp</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421756503, "post_id": 28045260, "comment_id": 44472947, "body": "Is it valid JSON in the first place? I&#39;m not so sure it is."}, {"owner": {"reputation": 9040, "user_id": 814548, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ba1627f54e3b9c1d5f1ecb27b44b0b07?s=128&d=identicon&r=PG", "display_name": "Vivek", "link": "https://stackoverflow.com/users/814548/vivek"}, "edited": false, "score": 0, "creation_date": 1421756767, "post_id": 28045260, "comment_id": 44473109, "body": "Invalid json in a.json. See jsonlint.com"}, {"owner": {"reputation": 1582, "user_id": 1042091, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05f0988fdea73df0c8c31eb14ea64641?s=128&d=identicon&r=PG", "display_name": "Mike S.", "link": "https://stackoverflow.com/users/1042091/mike-s"}, "edited": false, "score": 1, "creation_date": 1421756787, "post_id": 28045260, "comment_id": 44473120, "body": "It is not valid JSON. Newline in JSON should be written with use of \\n..."}, {"owner": {"reputation": 59, "user_id": 3725014, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6456f102728a5ee3bd2328fb82d916f8?s=128&d=identicon&r=PG&f=1", "display_name": "shreeshail", "link": "https://stackoverflow.com/users/3725014/shreeshail"}, "edited": false, "score": 1, "creation_date": 1421757092, "post_id": 28045260, "comment_id": 44473308, "body": "I got it. a.json is not valid file. i need to specify \\n."}], "answers": [{"tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1421758306, "creation_date": 1421758306, "answer_id": 28045858, "question_id": 28045260, "link": "https://stackoverflow.com/questions/28045260/how-to-decode-json-in-perl-if-value-has-n-or-more-than-one-line/28045858#28045858", "title": "how to decode json in perl if value has \\n or more than one line", "body": "<p>Besides from whether the JSON is valid or not (see comments on question), you're reading only the first line from the file.</p>\n\n<pre><code>my $json = &lt;AA&gt;;\n</code></pre>\n\n<p>This is a scalar variable and receives only one line.</p>\n\n<p>Use an array to get all lines:</p>\n\n<pre><code>my @json = &lt;AA&gt;;\nmy $json = join \"\\n\", @json;\n</code></pre>\n\n<p>or even better: use <a href=\"https://metacpan.org/pod/File::Slurp#read_file\" rel=\"nofollow\"><code>File::Slurp::read_file</code></a> to get the whole content of the file with one simple command.</p>\n\n<pre><code>use File::Slurp qw/read_file/;\nmy $json = read_file( \"a.json\" );\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 3725014, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6456f102728a5ee3bd2328fb82d916f8?s=128&d=identicon&r=PG&f=1", "display_name": "shreeshail", "link": "https://stackoverflow.com/users/3725014/shreeshail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421758306, "creation_date": 1421756396, "question_id": 28045260, "link": "https://stackoverflow.com/questions/28045260/how-to-decode-json-in-perl-if-value-has-n-or-more-than-one-line", "title": "how to decode json in perl if value has \\n or more than one line", "body": "<p>how to decode the json file if a value has more than one line</p>\n\n<p>a.json file:</p>\n\n<pre><code>{\n\n            \"sv1\" : {\n                  \"output\" : \"Hostname: abcd\n                              asdkfasfjsl\",\n                  \"exp_result\" : \"xyz\"\n              }\n}\n</code></pre>\n\n<p>when I try to read the above json file, I am hitting with an error \"invalid character encountered while parsing JSON string, at character offset 50 (before \"\\n                  ...\")\"</p>\n\n<p>code to read the above json file:</p>\n\n<pre><code> #!/volume/perl/bin/perl -w\n use strict;\n use warnings;\n use JSON;\n\n local $/;\n open(AA,\"&lt;a.json\") or die \"can't open json file : $!\\n\";\n my $json = &lt;AA&gt;;\n my $data = decode_json($json);\n print \"reading output $data-&gt;{'sv1'}-&gt;{'output'}\\n\"; \n print \"reading output $data-&gt;{'sv1'}-&gt;{'exp_result'}\\n\";\n close AA;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1421755592, "post_id": 28044285, "comment_id": 44472445, "body": "From the documentation: &quot;MIME::Lite is not recommended by its current maintainer. There are a number of alternatives, like Email::MIME or MIME::Entity and Email::Sender, which you should probably use instead. MIME::Lite continues to accrue weird bug reports, and it is not receiving a large amount of refactoring due to the availability of better alternatives. Please consider using something else.&quot; :-)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1421753427, "creation_date": 1421753427, "answer_id": 28044285, "question_id": 28044164, "link": "https://stackoverflow.com/questions/28044164/reg-sending-automated-mail-in-perl-using-windows/28044285#28044285", "title": "Reg: Sending automated mail in perl using Windows", "body": "<p>Your first \"enhancement\" should be to add <code>use strict</code> and <code>use warnings</code> to the top of your program, and declare all your variables using <code>my</code>. That should be your first thought when writing <em>any</em> Perl program.</p>\n\n<p>As for sending an email, you don't say what it is you want to send, but I suggest you use the <a href=\"https://metacpan.org/module/MIME::Lite\" rel=\"nofollow\"><code>MIME::Lite</code></a> module.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1421755525, "creation_date": 1421755525, "answer_id": 28044975, "question_id": 28044164, "link": "https://stackoverflow.com/questions/28044164/reg-sending-automated-mail-in-perl-using-windows/28044975#28044975", "title": "Reg: Sending automated mail in perl using Windows", "body": "<p>The standard way to create and send email using Perl is to use the many modules in the Email::* namespace.</p>\n\n<p>For creating simple email, you should use <a href=\"https://metacpan.org/pod/Email::Simple\" rel=\"nofollow\">Email::Simple</a>.</p>\n\n<pre><code>use Email::Simple;\n\nmy $email = Email::Simple-&gt;create(\n    header =&gt; [\n      From    =&gt; 'casey@geeknest.com',\n      To      =&gt; 'drain@example.com',\n      Subject =&gt; 'Message in a bottle',\n    ],\n    body =&gt; '...',\n);\n\n$email-&gt;header_set( 'X-Content-Container' =&gt; 'bottle/glass' );\n</code></pre>\n\n<p>For more complex email (i.e. ones with multiple parts, like file attachments or HTML versions) use <a href=\"https://metacpan.org/pod/Email::MIME\" rel=\"nofollow\">Email::MIME</a>.</p>\n\n<p>To send an email, use <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow\">Email::Sender</a> (actually, in most cases, you can probably get away with <a href=\"https://metacpan.org/pod/Email::Sender::Simple\" rel=\"nofollow\">Email::Sender::Simple</a>)</p>\n\n<pre><code>use Email::Sender::Simple qw(sendmail);\n\nsendmail($email); # The $email we created in the previous example.\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4429820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/77ab5e65811f7314e062b302cec786aa?s=128&d=identicon&r=PG&f=1", "display_name": "hari_cheerful", "link": "https://stackoverflow.com/users/4429820/hari-cheerful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 28044975, "answer_count": 2, "score": 0, "last_activity_date": 1421755525, "creation_date": 1421753087, "last_edit_date": 1421753259, "question_id": 28044164, "link": "https://stackoverflow.com/questions/28044164/reg-sending-automated-mail-in-perl-using-windows", "title": "Reg: Sending automated mail in perl using Windows", "body": "<p>I have a certain script , which will segregate the log file and put the result.txt which is comming as expected. But i want to sent mail after this segregate log file attach it in the text file and sent. There is no error in this script but i need to enhance it. Please help me on how i can use it</p>\n\n<pre><code>#use Win32;\n\nif (@ARGV != 2) {\n\n    print \"Please pass atleast one paramer\\n\";\n    print \"Usage:\\n\\t $0 &lt;file_name&gt;&lt;Pattern&gt;\\n\";\n    exit;\n}\n$File_name     = $ARGV[0];\n$res_File_name = $File_name . \"\\.result\\.txt\";\n$Pattern       = $ARGV[1]; \nchomp($Pattern);\nopen(FD,\"$File_name\") or die (\"File '$File_name' could not be open \\n\");\nopen(WFD,\"&gt;$res_File_name\") or die(\"File $res_File_name could not be opened\\n\");\n\nprint \"Enter begin match pattern: \";\n$bgn = &lt;stdin&gt;; \nchomp($bgn);\nprint  $bgn;\n\nprint \"Enter end match pattern: \";\n$en = &lt;stdin&gt;; \nchomp($en);\n\n\n\nwhile ($line = &lt;FD&gt;) {\n\n    chomp($line);\n    if ($line =~ /^$bgn/) { #seaching a patter at begining of the string.\n\n        print WFD \"Begin pattern '$bgn' matched with the line '$line'\\n\";\n    }\n    if ($line =~ /$en$/) { #seaching a patter at end of the string.\n\n        print WFD \"End pattern '$en' matched with the line '$line'\\n\";\n\n      #exit;\n    }\nprint WFD $_ if(/$Pattern/);\n      # main();\n\n       # use constant Service_Name =&gt;'MyServ'\n      #  use constant Service_Desc =&gt;'MyServDesc'\n       # sub main()\n\n      # {\n      # $opt=shift(@ ARGV)||\"\"\n\n      # if ($opt =~ /^(-i|--install)$/i)\n      # {\n         install _service( Service_Name, Service_Desc)\n\n\n\n     #  }\n      #  elsif ($opt =~ /^(-r|--remove)$/i)\n  # {\n     # remove_service(Service_Name);\n  # }\n  # elsif ($opt =~ /^(run)$/i)\n#}\n\n  # here we create a log file wth STDOUT and STDERR\n  # The log file will be created with extension .log\n  $log = $cwd . $bn . \".log\";\n # open(STDOUT, \"&gt;&gt; $log\") or die \"Couldn't open $log for appending: $!\\n\";\n # open(STDERR, \"&gt;&amp;STDOUT\") or die \"Could\";\n\nclose(FD);\nclose(WFD);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1421746319, "post_id": 28041643, "comment_id": 44466916, "body": "What&#39;s the expected output for the above input?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421746549, "post_id": 28041643, "comment_id": 44467056, "body": "Is there anything wrong with <code>tr|\\\\|&#47;| if &#47;#include&#47;</code>?"}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421746737, "post_id": 28041643, "comment_id": 44467184, "body": "@Borodin Yes it will change the \\comment\\ in the comment with <code>&#47;comment&#47;</code> :("}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421751378, "post_id": 28041756, "comment_id": 44469931, "body": "Shouldn&#39;t <code>[&lt;&quot;]+</code> and <code>[&quot;&gt;]+</code> be just <code>[&lt;&quot;]</code> and <code>[&quot;&gt;]</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421751573, "post_id": 28041756, "comment_id": 44470053, "body": "I think I prefer <code>s{ ^ \\s* \\#include \\s* \\K ( &quot;[^&quot;]+&quot; | &lt;[^&gt;]+&gt; ) }{ $1 =~ tr|\\\\|&#47;|r }xe</code>, but this is probably the best of the answers. Well done."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421756926, "post_id": 28041756, "comment_id": 44473209, "body": "@Borodin What don&#39;t you like with the <code>\\G</code> and <code>\\K</code> from Avinash answer?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421757609, "post_id": 28041756, "comment_id": 44473615, "body": "@Borodin I&#39;m not sure if <code>&lt;&quot;foo&#47;path&#47;&quot;&gt;</code> is also valid input."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1421749923, "last_edit_date": 1421749923, "creation_date": 1421746103, "answer_id": 28041756, "question_id": 28041643, "link": "https://stackoverflow.com/questions/28041643/regex-substitute-in-a-pre-found-pattern-a-two-step-process/28041756#28041756", "title": "Regex substitute in a pre-found pattern (A two step process)", "body": "<p>Using perl from command line,</p>\n\n<pre><code>perl -i pe 's{^\\s*\\#include\\s*[&lt;\"]+\\K ([^\"&gt;]+) (?=[\"&gt;]+)}{ $1 =~ y|\\\\|/|r }xe' file\n</code></pre>\n\n<p>output</p>\n\n<pre><code>#include \".../.../foo/bar.c\" /* Here */// a \\comment\\ /\\/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421747917, "post_id": 28042127, "comment_id": 44467819, "body": "And the case where the delimiters are <code>&lt;</code> and <code>&gt;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1421748521, "post_id": 28042127, "comment_id": 44468203, "body": "Okay, but that should be your answer."}, {"owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "edited": false, "score": 0, "creation_date": 1421757397, "post_id": 28042127, "comment_id": 44473500, "body": "@AvinashRaj maybe better to put it in a new regex101 session because if I click on your DEMO link I&#39;m temped go to the latest version due to the &quot;OLD VERSION&quot; warning."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1421749761, "last_edit_date": 1421749761, "creation_date": 1421747205, "answer_id": 28042127, "question_id": 28041643, "link": "https://stackoverflow.com/questions/28041643/regex-substitute-in-a-pre-found-pattern-a-two-step-process/28042127#28042127", "title": "Regex substitute in a pre-found pattern (A two step process)", "body": "<p>This could be possible  through <a href=\"http://www.regular-expressions.info/continue.html\" rel=\"nofollow\"><code>\\G</code> anchor</a>. The anchor <code>\\G</code>matches at the position where the previous match ended. During the first match attempt, <code>\\G</code> matches at the start of the string in the way <code>\\A</code> does.</p>\n\n<pre><code>$ echo '    #include \"...\\...\\foo\\bar.c\" /* Here */// a \\comment\\ /\\/' | perl -pe 's~(?:^\\s*#include\\s*\"|\\G)[^\\\\\"]*\\K\\\\~/~g'\n    #include \".../.../foo/bar.c\" /* Here */// a \\comment\\ /\\/\n$ echo '    #include \"...\\...\\foo\\bar.c\" /* Here */// a \\comment\\ /\\/' | perl -pe 's~(?:^\\s*#include\\s*\"|\\G)[^\\\\\"]*\\K\\\\(?=[^\"]*\")~/~g'\n    #include \".../.../foo/bar.c\" /* Here */// a \\comment\\ /\\/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/fM9gS2/1\" rel=\"nofollow\">DEMO</a></p>\n\n<p>For both, the one-liner would be like,</p>\n\n<pre><code>$ echo '#include \"...\\...\\foo\\bar.c\" /* Here */// a \\comment\\ /\\/ \"foo\\bar\"\n  #include &lt;...\\...\\foo\\bar.c&gt; foo\\\\bar' | perl -pe 's~(?:(?:^\\s*#include\\s*\"|\\G)[^\\\\\"&gt;]*\\K\\\\)|(?:(?:^\\s*#include\\s*&lt;|\\G)[^\\\\&gt;&lt;]*\\K\\\\(?=[^&lt;&gt;]*&gt;))~/~g'\n#include \".../.../foo/bar.c\" /* Here */// a \\comment\\ /\\/ \"foo\\bar\"\n  #include &lt;.../.../foo/bar.c&gt; foo\\\\bar\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1421748053, "last_edit_date": 1421748053, "creation_date": 1421747657, "answer_id": 28042301, "question_id": 28041643, "link": "https://stackoverflow.com/questions/28041643/regex-substitute-in-a-pre-found-pattern-a-two-step-process/28042301#28042301", "title": "Regex substitute in a pre-found pattern (A two step process)", "body": "<p>I suggest you use the <code>@-</code> and <code>@+</code> arrays with <code>substr</code> to apply the translation to only the required part. (See <code>@LAST_MATCH_START</code> and <code>@LAST_MATCH_END</code> in <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-regular-expressions\" rel=\"nofollow\"><code>perlvar</code></a>.)</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = '#include \"...\\...\\foo\\bar.c\" /* Here */// a \\comment\\ /\\/';\n\nsay $s;\n\nif ( $s =~ / \\#include \\s* ( \"[^\"]+\" | &lt;[^&gt;]+&gt; ) /x ) {\n  substr($s, $-[1], $+[1]-$-[1]) =~ tr|\\\\|/|;\n}\n\nsay $s;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>#include \"...\\...\\foo\\bar.c\" /* Here */// a \\comment\\ /\\/\n#include \".../.../foo/bar.c\" /* Here */// a \\comment\\ /\\/\n</code></pre>\n"}], "owner": {"reputation": 18883, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 28042127, "answer_count": 3, "score": 0, "last_activity_date": 1421749923, "creation_date": 1421745758, "last_edit_date": 1421746853, "question_id": 28041643, "link": "https://stackoverflow.com/questions/28041643/regex-substitute-in-a-pre-found-pattern-a-two-step-process", "title": "Regex substitute in a pre-found pattern (A two step process)", "body": "<p>I would like to replace all the <code>\\</code> in an <code>#include &lt;...&gt;</code> directives with <code>/</code>. And I would like to do it in one shot. Unfortunately I only found this which takes several lines: </p>\n\n<pre><code>if(/^\\s*#include\\s*(?:\"|&lt;)\\K.*\\\\.*(?=\"|&gt;)/) {\n   my $r = $&amp; =~ s|\\\\|/|gr;\n   s/\\Q$&amp;\\E/$r/g;\n}\n</code></pre>\n\n<p>Or maybe better:</p>\n\n<pre><code>if(/^(\\s*#include\\s*(?:\"|&lt;))(.*\\\\.*)((?:\"|&gt;).*)$/) {\n   my $r = $2 =~ s|\\\\|/|gr;\n   s/\\Q$1$2$3\\E/$1$r$3/g;\n}\n</code></pre>\n\n<p>For example, I could have this kind of input: </p>\n\n<pre><code>    #include \"...\\...\\foo\\bar.c\" /* Here */// a \\comment\\ /\\/\n</code></pre>\n\n<p>And obtain: </p>\n\n<pre><code>    #include \".../.../foo/bar.c\" /* Here */// a \\comment\\ /\\/\n</code></pre>\n\n<p>Can I make it better, prettier and shorter?</p>\n"}, {"tags": ["windows", "perl", "shell", "msys"], "comments": [{"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "edited": false, "score": 0, "creation_date": 1421745920, "post_id": 28041494, "comment_id": 44466683, "body": "Which system (OS) are you using? In my case (OS X and Linux) it works (I just had to quote the dollars in the script creation statements). E.g. system &quot;echo echo TOTO=&#39;\\$TOTO&#39;&gt; toto.sh&quot;;"}, {"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "edited": false, "score": 0, "creation_date": 1421745955, "post_id": 28041494, "comment_id": 44466710, "body": "I get: TOTO=0+0, Titi=Not toto!, TITI="}, {"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "reply_to_user": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "edited": false, "score": 0, "creation_date": 1421747963, "post_id": 28041494, "comment_id": 44467844, "body": "I use Windows, unfortunately... I will update the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1421752365, "post_id": 28041494, "comment_id": 44470520, "body": "Windows doesn&#39;t have a <code>sh</code>. Are you running Cygwin?"}, {"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 1, "creation_date": 1421755478, "post_id": 28041494, "comment_id": 44472385, "body": "I am running Msys. But I suppose same problem happens with Cygwin. =&gt; added in the question"}], "answers": [{"comments": [{"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1421749795, "post_id": 28042720, "comment_id": 44469016, "body": "Thanks for taking the time to write such a long answer. However, I disagree as I want to send to the command line &quot;echo TOTO=$TOTO&quot; so the call to system is correct. Your last suggestion returns (at least on Windows), the following: TOTO=$TOTO. It is true however that I could have modified the line as: &quot;system &#39;echo echo TOTO=\\$TOTO &gt; toto.sh&#39;;&quot; so simplify. The problem I have seems to be related to Windows environment variables being stored uppercase."}, {"owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "reply_to_user": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1421754674, "post_id": 28042720, "comment_id": 44471863, "body": "Sorry for that, I tested on linux, with bash as shell. What is &quot;sh&quot; in your case? Do you have Cygwin installed?"}], "tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": false, "score": 0, "last_activity_date": 1421757715, "last_edit_date": 1421757715, "creation_date": 1421748805, "answer_id": 28042720, "question_id": 28041494, "link": "https://stackoverflow.com/questions/28041494/set-case-sensitive-windows-environment-variables-in-perl/28042720#28042720", "title": "Set case sensitive Windows environment variables in Perl", "body": "<p>The following should apply independently of the casing problem.</p>\n\n<p>Let's take the first line:</p>\n\n<pre><code>system \"echo echo TOTO=\\$TOTO &gt; toto.sh\";\n</code></pre>\n\n<p>If you call </p>\n\n<pre><code>echo echo TOTO=\\$TOTO\n</code></pre>\n\n<p>on your command line, the output will be:</p>\n\n<pre><code>echo TOTO=\\$TOTO\n</code></pre>\n\n<p>which seems to be, what you want. </p>\n\n<p>However, the line you are calling with system is first interpreted by perl, so your escaped \\$ becomes a $.</p>\n\n<p>The output then depends on the current value of $TOTO (before you set the environment variable in the script), which is probably empty. </p>\n\n<p>You should change all those system calls to be single quoted:</p>\n\n<pre><code> system 'echo echo TOTO=\\$TOTO &gt; toto.sh';\n</code></pre>\n\n<p>If you do this, you will get the following output:</p>\n\n<pre><code>TOTO=0+0\nTiti=\nTITI=not TOTO\n</code></pre>\n\n<p>Titi is empty, because you didn't assign a value to it.</p>\n"}, {"comments": [{"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1421753347, "post_id": 28043876, "comment_id": 44471126, "body": "I try to call them from a shell script that uses lowercase. I have limited access to the shell script so I try to avoid modifying the shell script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1421754168, "post_id": 28043876, "comment_id": 44471586, "body": "Does the shell script use upper- and lower-case versions of the same variable name? If not, then you shouldn&#39;t need to distinguish between them, but if it does then I don&#39;t think you have any choice but to modify the script. Where does your <code>sh</code> come from? It&#39;s not standard on Windows."}, {"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1421755445, "post_id": 28043876, "comment_id": 44472364, "body": "The script only use one version which is partially lowercased (like Titi). I have Msys installed and run shell from there."}, {"owner": {"reputation": 1173, "user_id": 2093966, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/iPFlg.png?s=128&g=1", "display_name": "Underverse", "link": "https://stackoverflow.com/users/2093966/underverse"}, "edited": false, "score": 0, "creation_date": 1442903430, "post_id": 28043876, "comment_id": 53262489, "body": "Echo can be used to store environment variables in a local variable. E.g.           <code>my $ti  = `&quot;echo %TITI%&quot;`;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1173, "user_id": 2093966, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/iPFlg.png?s=128&g=1", "display_name": "Underverse", "link": "https://stackoverflow.com/users/2093966/underverse"}, "edited": false, "score": 0, "creation_date": 1442912616, "post_id": 28043876, "comment_id": 53267899, "body": "@Underverse: It is pointless to shell out to <code>echo</code> when the whole thing can be done within Perl with <code>my $ti = $ENV{TITI}</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1421752257, "creation_date": 1421752257, "answer_id": 28043876, "question_id": 28041494, "link": "https://stackoverflow.com/questions/28041494/set-case-sensitive-windows-environment-variables-in-perl/28043876#28043876", "title": "Set case sensitive Windows environment variables in Perl", "body": "<p>Windows environment variable identifiers are case-independent in the same way as Windows files.</p>\n\n<p><code>Titi</code> and <code>TITI</code> are both names for the same variable, and its value can be acccessed through either <code>$ENV{TITI}</code> or <code>$ENV{Titi}</code> in Perl. Likewise <code>echo %TITI%</code> and <code>echo %Titi%</code> on the command line will give the same result.</p>\n\n<p>If you explain why it is that you need case-sensitive environment variable names then we may be able to help you.</p>\n"}, {"tags": [], "owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "is_accepted": true, "score": 0, "last_activity_date": 1466766923, "last_edit_date": 1466766923, "creation_date": 1431917213, "answer_id": 30294378, "question_id": 28041494, "link": "https://stackoverflow.com/questions/28041494/set-case-sensitive-windows-environment-variables-in-perl/30294378#30294378", "title": "Set case sensitive Windows environment variables in Perl", "body": "<p>It appeared to be that it is not possible to do: Windows will only use the uppercase variables.</p>\n\n<p>The way I did was to temporarily transform the script by replacing variables with their upper-case equivalent and switch them back to the previous state after using them.</p>\n\n<p>In my case, I had to deal with the variables exported from the shell script <code>Run_Session.sh</code>. I have created a Perl script to perform the uppercase replacement and this is the result.</p>\n\n<pre><code>###############################\n## SUBROUTINE uc_variables   ##\n#-----------------------------#\n# This subroutine convert the environment variables exported \n# by the top level script to upper case, and can revert the operation.\n#\n# Input:\n# -----\n# $mode: \"ON\" (default) or \"OFF\"\n#\n# Output:\n# ------\n# N/A\n#-----------------------#\n#########################\nsub uc_variables {\n    my $mode=shift;\n    chdir $Bin;\n    if ($mode eq \"OFF\") {\n        foreach my $bak (glob \"{*,*/*}.sh.bak\") {\n            (my $orig = $bak)=~s/\\.bak//;\n            move($bak,$orig);\n        }\n    } else {\n        #Check if back-up already exists\n        uc_variables(\"OFF\") if (-e \"Run_Session.sh.bak\");\n        #List variables to update\n        my %uc_var;\n        open RUN_SESSION,\"&lt;Run_Session.sh\" or die \"Error while reading Run_Session.sh ($!)\\n\";\n        map { /export\\s+(\\w*[a-z]\\w*)/ and ($uc_var{$1}=uc($1))=~s/Directory/DIR/i } &lt;RUN_SESSION&gt;;\n        close RUN_SESSION;\n        #Replace variables\n        foreach my $shell (glob \"{*,*/*}.sh\") {\n            #Back-up\n            copy($shell,\"$shell.bak\");\n            #Read data\n            open SHELL,\"&lt;$shell\" or die \"Error while reading $shell ($!)\\n\";\n            my $SHELL = join(\"\", &lt;SHELL&gt;);\n            close SHELL;\n            #Replace\n            map { $SHELL=~s/$_/$uc_var{$_}/g } keys %uc_var;\n            #Print\n            open SHELL,\"&gt;$shell\" or die \"Error while writing in $shell ($!)\\n\";\n            print SHELL $SHELL;\n            close SHELL;\n        }\n    }\n} #end of uc_variables\n</code></pre>\n"}], "owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1093, "favorite_count": 0, "accepted_answer_id": 30294378, "answer_count": 3, "score": 3, "last_activity_date": 1466766923, "creation_date": 1421745263, "last_edit_date": 1431916799, "question_id": 28041494, "link": "https://stackoverflow.com/questions/28041494/set-case-sensitive-windows-environment-variables-in-perl", "title": "Set case sensitive Windows environment variables in Perl", "body": "<p>I am trying to set some Windows environment variables in Perl with case sensitivity in order to use them in a shell script.</p>\n\n<p>However, I noticed that the environment variables are all in uppercase when I try to use them in lowercase in a shell script called from Perl with <code>system</code> command and run with Msys.</p>\n\n<p>For example, the following script:</p>\n\n<pre><code>#!perl\n\nsystem \"echo echo TOTO=\\$TOTO &gt; toto.sh\";\nsystem \"echo echo Titi=\\$Titi &gt;&gt; toto.sh\";\nsystem \"echo echo TITI=\\$TITI &gt;&gt; toto.sh\";\n$ENV{'TOTO'}=\"0+0\";\n$ENV{'Titi'}=\"Not toto!\";\nsystem(\"sh toto.sh\");\n</code></pre>\n\n<p>returns (while run in Msys) the following output:</p>\n\n<pre><code>TOTO=0+0\nTiti=\nTITI=Not toto!\n</code></pre>\n\n<p>Does anybody know whether this is possible in Windows (i.e. how to set the environment variable <code>Titi</code> and not <code>TITI</code>)?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "caching", "etag", "mason"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421752616, "post_id": 28041032, "comment_id": 44470658, "body": "Is this using the <a href=\"https://metacpan.org/module/Apache\" rel=\"nofollow noreferrer\"><code>Apache</code></a> module?"}], "owner": {"reputation": 23, "user_id": 4247440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5796b034966a4a5dd713ce6762154e86?s=128&d=identicon&r=PG&f=1", "display_name": "ksu", "link": "https://stackoverflow.com/users/4247440/ksu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1421743841, "creation_date": 1421743841, "question_id": 28041032, "link": "https://stackoverflow.com/questions/28041032/etag-on-load-not-only-on-reload", "title": "ETag on load, not only on reload", "body": "<p>I'm trying to set an ETag on an image for tracking with Perl/Mason.</p>\n\n<p>First a created etag.m:</p>\n\n<pre><code>&lt;%init&gt;\n\n    warn \"Start ETag\";\n    my $request_header = $r-&gt;headers_in();\n    my $etag = $request_header-&gt;{'If-None-Match'};\n    warn \"Trace Etag: $request_header-&gt;{'If-None-Match'}\";\n\n    unless ($etag) {\n        warn \"Set Etag\";\n        $r-&gt;status(302);\n        $r-&gt;headers_out-&gt;{'Location'} = \"/images/etag.gif\";\n        $r-&gt;headers_out-&gt;{'Cache-Control'} = 'public';\n        $r-&gt;headers_out-&gt;{'ETag'} = $user-&gt;{uid};\n        my $gmt_mtime = HTTP::Date::time2str(time());\n        $r-&gt;headers_out-&gt;{'Last-Modified'} = $gmt_mtime;\n    }\n\n&lt;/%init&gt;\n</code></pre>\n\n<p>I'm using this in another file test_etag.m:</p>\n\n<pre><code>&lt;img src=\"etag.m\"&gt;\n</code></pre>\n\n<p>On the first call of test_etag.m after clearing the cache I can see the warnings, the etag is empty. Every next call, a can't see any warning so I think the image is cached. Only when I do a reload F5 the correkt ETag will be found and display in the warning.</p>\n\n<p>How can I get the ETag, that was set the first time on every load, not only on reload?</p>\n"}, {"tags": ["arrays", "perl", "split"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1421742432, "post_id": 28040604, "comment_id": 44464979, "body": "I have tried it and it returns 128. Looks like you print somethin else later in your code. And because you have no line break at end of your print statement it will be connected to the output of <code>print scalar @l ;</code>"}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 0, "creation_date": 1421745416, "post_id": 28040604, "comment_id": 44466392, "body": "Works for me as well. The stuff you print later appears in your original string after the 4th colon."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 6, "last_activity_date": 1421746732, "creation_date": 1421746732, "answer_id": 28041964, "question_id": 28040604, "link": "https://stackoverflow.com/questions/28040604/perl-split-function-returns-infinite-array/28041964#28041964", "title": "perl split function returns infinite array", "body": "<p>Your code works fine for me - I get <code>128</code> printed when I run it.\nI think the thing that will be tripping you up is that you don't print a line feed. E.g. <code>\\n</code> or use <code>say</code>. </p>\n\n<p>So your number is:<code>1289,2235,2300,2336</code> which implies <em>this</em> bit of the code is printing  <code>128</code> and elsewhere in your code is printing <code>9,2235,2300,2336</code>. </p>\n\n<p>If you can extract more of your code, and produce an MCVE - minimal complete verifiable example - the fine folk of StackOverflow can help you further. I <em>suspect</em> when you do this, your problem will disappear - whilst there are bugs in perl, it's quite a mature language and so the bugs really don't show up unless you're doing something particularly obscure. </p>\n"}], "owner": {"reputation": 163, "user_id": 4447891, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Asokc.png?s=128&g=1", "display_name": "S&#39;rCat", "link": "https://stackoverflow.com/users/4447891/srcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421746732, "creation_date": 1421742183, "question_id": 28040604, "link": "https://stackoverflow.com/questions/28040604/perl-split-function-returns-infinite-array", "title": "perl split function returns infinite array", "body": "<p>I think there's a bug here. I have a string consisting of numbers separated by ':'. when I use split(), the number of list items is not a number, it returns \"1289,2235,2300,2336\". What's wrong here?</p>\n\n<pre><code>#!/opt/local/bin/perl\n\n$data=\"10:2284:2345:2381:9:2235:2300:2336:8:2212:2273:2320:7:2194:2262:2295:6:2165:2232:2269:5:2118:2167:2205:4:2086:2142:2161:3:2039:2106:2138:2:2034:2088:2127:1:2028:2079:2109:01:1999:2046:2080:02:1972:2016:2052:03:1960:1987:2019:04:1915:1945:1971:05:1870:1888:1911:06:1798:1828:1855:07:1764:1789:1809:08:1692:1728:1753:09:1665:1688:1706:010:1636:1657:1679:011:1575:1607:1641:012:1549:1582:1620:013:1485:1539:1582:014:1395:1485:1540:015:1382:1456:1504:016:1368:1422:1465:017:1301:1360:1405:018:1267:1252:1283:019:1213:1252:1283:020::1159:1180:021::1112:1143:022::1087:1094::\";\n\n@l = split(':',$data);\n\nprint scalar @l ;\n</code></pre>\n"}, {"tags": ["perl", "jira", "cpan", "jira-rest-api"], "answers": [{"tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1421759378, "creation_date": 1421759378, "answer_id": 28046174, "question_id": 28040252, "link": "https://stackoverflow.com/questions/28040252/how-can-i-connect-to-an-https-server-using-the-perl-jiraclientautomated-modu/28046174#28046174", "title": "How can I connect to an HTTPS server using the Perl JIRA::Client::Automated module through Proxy?", "body": "<p>Look at the documentation of <a href=\"https://metacpan.org/pod/JIRA::Client::Automated#ua\" rel=\"nofollow\"><code>JIRA::Client::Automated</code></a>. You can get the <code>LWP::UserAgent</code> object from it:</p>\n\n<pre><code>my $ua = $jira-&gt;ua;\n</code></pre>\n\n<p>Based on <a href=\"https://metacpan.org/pod/LWP::UserAgent#Proxy-attributes\" rel=\"nofollow\"><code>LWP::UserAgent</code></a>'s documentation you can set the proxy like this</p>\n\n<pre><code>$ua-&gt;proxy('https', 'https://proxy:8080/');\n</code></pre>\n\n<p>or make it load the proxy settings from respective environment variables this way:</p>\n\n<pre><code>$ua-&gt;env_proxy;\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4132987, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ec93db1587110e3ff9040c50a93a4d11?s=128&d=identicon&r=PG&f=1", "display_name": "hanish", "link": "https://stackoverflow.com/users/4132987/hanish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1421761714, "creation_date": 1421740834, "last_edit_date": 1421761714, "question_id": 28040252, "link": "https://stackoverflow.com/questions/28040252/how-can-i-connect-to-an-https-server-using-the-perl-jiraclientautomated-modu", "title": "How can I connect to an HTTPS server using the Perl JIRA::Client::Automated module through Proxy?", "body": "<p>I am new to use JIRA and REST API.Please tell me how to connect to HTTPS jira server using JIRA::Client::Automated module. I am trying to connect to jira server using below code.</p>\n\n<pre><code>use strict;\nuse warnings\nuse JIRA::Client::Automated;\n\nmy $user = 'foo';\nmy $pass = 'bar';\nmy $url = 'https://xxx.yyy';\n\nmy $jira = JIRA::Client::Automated-&gt;new($url, $user, $pass);\n</code></pre>\n\n<p>But using the above code always gives me an 500 error saying <strong>Unable to connect</strong>. Since I am trying to connect from my Local Machine, the request is not going through Local system proxy. Please let me know how to connect through Proxy.</p>\n\n<p>Thanks for your Suggestion Daniel.\nI have edited the code as per the your suggestion.</p>\n\n<pre><code>use strict;\nuse warnings\nuse JIRA::Client::Automated;\n\nmy $user = 'foo';\nmy $pass = 'bar';\nmy $url = 'https://xxx.yyy.com/jira-stage/';\n\nmy $jira = JIRA::Client::Automated-&gt;new($url, $user, $pass);\nmy $ua = $jira-&gt;ua();\n$ua-&gt;proxy('http', 'http://proxy.com:8000');\n$search_results = $jira-&gt;search_issues(project in (sample), 0, 1000);\nmy $count = $search_results-&gt;{'total'};\nprint \"$count\";\n</code></pre>\n\n<p>But still facing the same issue.Please suggest.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1421736384, "post_id": 28039121, "comment_id": 44462497, "body": "<a href=\"http://stackoverflow.com/questions/4891898/how-to-subtract-an-array-from-an-array\" title=\"how to subtract an array from an array\">stackoverflow.com/questions/4891898/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 415, "user_id": 2500920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jOP1k.jpg?s=128&g=1", "display_name": "Sathiya Kumar", "link": "https://stackoverflow.com/users/2500920/sathiya-kumar"}, "edited": false, "score": 0, "creation_date": 1421746415, "post_id": 28041070, "comment_id": 44466975, "body": "Yes! I left out <code>2|X</code>. Thanks for your answer."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 1, "last_activity_date": 1421782911, "last_edit_date": 1421782911, "creation_date": 1421743956, "answer_id": 28041070, "question_id": 28039121, "link": "https://stackoverflow.com/questions/28039121/how-to-show-matching-and-miss-matching-records-of-two-text-files-in-command-prom/28041070#28041070", "title": "How to show matching and Miss matching records of two text files in command prompt using Perl?", "body": "<p>You left out <code>2|X</code>:</p>\n\n<pre><code>use strict; \nuse warnings; \nuse 5.016;\nuse Data::Dumper;\n\n#Create a set from the entries in sampleA.txt:\n\nmy $fname = 'sampleA.txt';\n\nopen my $A_INFILE, '&lt;', $fname\n    or die \"Couldn't open $fname: $!\";\n\nmy %a;\n\nwhile (my $line = &lt;$A_INFILE&gt;) {\n    chomp $line;\n    $a{$line} = undef;\n}\n\nclose $A_INFILE;\nsay Dumper(\\%a);\n\n#Create a set from the entries in sampleB.txt:\n\n$fname = 'sampleB.txt';\n\nopen my $B_INFILE, '&lt;', $fname\n    or die \"Couldn't open $fname: $!\";\n\nmy %b;\n\nwhile (my $line = &lt;$B_INFILE&gt;) {\n    chomp $line;\n    $b{$line} = undef;\n}\n\nclose $B_INFILE;\nsay Dumper(\\%b);\n\n#Divide the entries in both files into matches and mismatches:\n\nmy (@matches, @mismatches);\n\nfor my $a_val (keys %a) {\n    if (exists $b{$a_val}) {\n        push @matches, $a_val;\n    }\n    else {\n        push @mismatches, $a_val;\n    }\n}\n\nfor my $b_val (keys %b) {\n    if (not exists $a{$b_val}) {\n        push @mismatches, $b_val;\n    }\n}\n\nsay Dumper(\\@matches);\nsay Dumper(\\@mismatches);\n\n--output:--\n$VAR1 = {\n          '5|A' =&gt; undef,\n          '4|Z' =&gt; undef,\n          '1|X' =&gt; undef,\n          '2|A' =&gt; undef\n        };\n\n$VAR1 = {\n          '2|X' =&gt; undef,\n          '3|B' =&gt; undef,\n          '4|C' =&gt; undef,\n          '2|A' =&gt; undef\n        };\n\n$VAR1 = [\n          '2|A'\n        ];\n\n$VAR1 = [\n          '5|A',\n          '4|Z',\n          '1|X',\n          '2|X',\n          '3|B',\n          '4|C'\n        ];\n</code></pre>\n\n<p>If you evaluate a hash in scalar context, it returns false if the hash is empty. If there are any key/value pairs, it returns true; more precisely, the value returned is a string consisting of the number of used buckets and the number of allocated buckets, separated by a slash. This is pretty much useful only to find out whether Perl's internal hashing algorithm is performing poorly on your data set. For example, you stick 10,000 things in a hash, but evaluating %HASH in scalar context reveals \"1/16\" , which means only one out of sixteen buckets has been touched, and presumably contains all 10,000 of your items. This isn't supposed to happen. If a tied hash is evaluated in scalar context, the SCALAR method is called (with a fallback to FIRSTKEY ).</p>\n\n<p><a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">http://perldoc.perl.org/perldata.html</a></p>\n"}], "owner": {"reputation": 415, "user_id": 2500920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jOP1k.jpg?s=128&g=1", "display_name": "Sathiya Kumar", "link": "https://stackoverflow.com/users/2500920/sathiya-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 28041070, "answer_count": 1, "score": 1, "last_activity_date": 1421782911, "creation_date": 1421735738, "last_edit_date": 1421736756, "question_id": 28039121, "link": "https://stackoverflow.com/questions/28039121/how-to-show-matching-and-miss-matching-records-of-two-text-files-in-command-prom", "title": "How to show matching and Miss matching records of two text files in command prompt using Perl?", "body": "<p>I'm using two text files <em>sampleA.txt</em> and <em>sampleB.txt</em>. I have two fields in each file and I need to compare first record(first row) of <em>sampleA.txt</em> with the first row of <em>sampleB.txt</em> and I want to show matching records as well as miss matching records in command prompt.I need to do that in Perl. </p>\n\n<p>Using the below script I'm getting one output but it is wrong. I need to populate both matching as well as mismatching. How to do that?</p>\n\n<p><em>sampleA.txt</em>:</p>\n\n<pre><code>1|X\n\n2|A\n\n4|Z\n\n5|A\n</code></pre>\n\n<p><em>sampleB.txt</em>:</p>\n\n<pre><code>2|A\n\n2|X\n\n3|B\n\n4|C\n</code></pre>\n\n<p>Output I'm getting:</p>\n\n<pre><code>2|A\n\n2|X\n\n4|C\n</code></pre>\n\n<p>Outputs I want:</p>\n\n<p>Matching-Output:</p>\n\n<pre><code>2|A\n</code></pre>\n\n<p>Miss-matching-Output:</p>\n\n<pre><code>1|X\n\n4|Z\n\n5|A\n\n3|B\n\n4|C\n</code></pre>\n\n<p>Perl Script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(FILE1,'C:\\Users\\sathiya.kumar\\Desktop\\sampleA.txt') || die $!;\nopen(FILE2,'C:\\Users\\sathiya.kumar\\Desktop\\sampleB.txt') || die $!;\n\nmy $interline;\nwhile (my $line= &lt;FILE1&gt;) {\n    my @fields = split('\\|',$line);\n    parser($fields[0]);\n}\n\nsub parser {\n    my $mergeid = shift;\n    while (defined $interline || ($interline= &lt;FILE2&gt;)) {\n        my @fields = split('\\|',$interline);\n        my $key  = $fields[0];\n        if ($key lt $mergeid) {\n                # Skip non-matching records\n                $interline = undef;\n                next;\n            } elsif ($key gt $mergeid) {\n                # wait for next key\n                last;\n            } else {\n                print $interline;\n                $interline = undef;\n           }\n      }\n}\nclose(FILE1);\nclose(FILE2);\n</code></pre>\n\n<p>Let me know if you need more information.</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1421735212, "post_id": 28038901, "comment_id": 44462043, "body": "Yes its not compiling, but if I replace <code>my @filtered=grep(&#47;^$key$&#47;,@contents);</code> with <code>my @filtered=grep(&#47;MOV&#47;,@contents);.</code> It provides the output. But I want to search MOV, RETI etc instructions."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1421735787, "post_id": 28038901, "comment_id": 44462265, "body": "You can make regex like <code>$re = qr&#47;\\bMOV\\b|\\bBRA\\.l\\b|\\bRETI\\b|..&#47;;</code> and count words using hash <code>$seen{$1}++ while $line =~ &#47;($re)&#47;g;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "edited": false, "score": 0, "creation_date": 1421737547, "post_id": 28039140, "comment_id": 44462896, "body": "Hi thanks for the code. But it returns only RETI. I mean it gives only one keyword. Output is  <code>Count :7 Lines RETI RETI</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "edited": false, "score": 0, "creation_date": 1421738199, "post_id": 28039140, "comment_id": 44463178, "body": "print your expected output pls."}, {"owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "edited": false, "score": 0, "creation_date": 1421738650, "post_id": 28039140, "comment_id": 44463339, "body": "please find below my output. Also I need output as mentioned in question. Sorry i edited the question. The keyword.txt contains all the assembly insttruction like MOV, ADD, SUB, XOR etc. My input file actually a assembly code of 100 lines."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 0, "last_activity_date": 1421759874, "last_edit_date": 1421759874, "creation_date": 1421735831, "answer_id": 28039140, "question_id": 28038901, "link": "https://stackoverflow.com/questions/28038901/perl-search-a-keywords-from-a-file-and-display-the-occurence/28039140#28039140", "title": "Perl : search a keywords from a file and display the occurence", "body": "<p>Check this and try:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy (@text, @lines);\nmy $lines_ref;\nmy $count;\n$lines_ref = &amp;retriver;\n\nsub retriver\n{\n    my $file='input.txt'; \n    my $keyword_file = 'keywords.txt';\n    open KEY, $keyword_file or die \"FILE $file NOT FOUND - $!\\n\";\n    my @key=&lt;KEY&gt;;\n    my @filtered;\n    foreach my $keys(@key)\n    {\n        my $total = '0';\n        chomp($keys);\n        open FILE, $file or die \"FILE $file NOT FOUND - $!\\n\";\n        while(&lt;FILE&gt;)\n        {\n            my $line = $_;\n            my $counter = () = $line =~ /$keys/gi;\n            $total = $total + $counter;\n        }\n        close(FILE);\n        print \"$keys found in $total\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "edited": false, "score": 0, "creation_date": 1421740854, "post_id": 28039327, "comment_id": 44464290, "body": "Thanks for the code. Much appreciate it. This code works perfectly.You can make it answered. Unfortunately I cant click on answered."}], "tags": [], "owner": {"reputation": 1361, "user_id": 4196806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de5dc0003698a57f5e94340f16843f1?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Madej", "link": "https://stackoverflow.com/users/4196806/mark-madej"}, "is_accepted": false, "score": 1, "last_activity_date": 1421736788, "last_edit_date": 1495539810, "creation_date": 1421736788, "answer_id": 28039327, "question_id": 28038901, "link": "https://stackoverflow.com/questions/28038901/perl-search-a-keywords-from-a-file-and-display-the-occurence/28039327#28039327", "title": "Perl : search a keywords from a file and display the occurence", "body": "<p>I couldn't get your code working, but this code works and is a little easier to read IMO (change the paths back to the ones on your filesystem):</p>\n\n<pre><code>#!/usr/bin/perl\n\nopen(my $keywordFile, \"&lt;\", '/Users/mark/workspace/stackOverflow/keyword.txt')\n         or die 'Could not open keywords.txt';\n\nforeach my $key(&lt;$keywordFile&gt;) {\n        chomp $key;\n        open (my $file, '&lt;', '/Users/mark/workspace/stackOverflow/input.txt')\n                or die 'Could not open input.txt';\n        my $count = 0;\n        foreach my $line (&lt;$file&gt;) {\n                my $number = () = $line =~ /$key/gi;\n                $count = $count + $number;\n        }\n        close($file);\n        print \"$key was found $count times.\\n\";\n}\n</code></pre>\n\n<p>The one confusing part is the crazy regex line.  I found that on StackOverflow here, and didn't have time to come up with anything cleaner : <a href=\"https://stackoverflow.com/questions/1849329/is-there-a-perl-shortcut-to-count-the-number-of-matches-in-a-string\">Is there a Perl shortcut to count the number of matches in a string?</a></p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "is_accepted": false, "score": -1, "last_activity_date": 1421738555, "creation_date": 1421738555, "answer_id": 28039748, "question_id": 28038901, "link": "https://stackoverflow.com/questions/28038901/perl-search-a-keywords-from-a-file-and-display-the-occurence/28039748#28039748", "title": "Perl : search a keywords from a file and display the occurence", "body": "<p><strong># perl pe3.pl</strong></p>\n\n<pre><code>Prototype mismatch: sub main::retriver () vs none at pe3.pl line 36.\ncygwin warning:\n  MS-DOS style path detected: C:\\Users\\xxxxx\\Desktop\\input.txt\n  Preferred POSIX equivalent is: /cygdrive/c/Users/xxxxx/Desktop/input.txt\n  CYGWIN environment variable option \"nodosfilewarning\" turns off this warning.\n  Consult the user's guide for more details about POSIX paths:\n    http://cygwin.com/cygwin-ug-net/using.html#using-pathnames\nCount :3\nLines\nBRA.l\nRETI\nRETI\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4229249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4ea6a3e0e44aa0fe08b67f48b35e594?s=128&d=identicon&r=PG&f=1", "display_name": "vk41286", "link": "https://stackoverflow.com/users/4229249/vk41286"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 28039140, "answer_count": 3, "score": -1, "last_activity_date": 1421759874, "creation_date": 1421734707, "last_edit_date": 1421738234, "question_id": 28038901, "link": "https://stackoverflow.com/questions/28038901/perl-search-a-keywords-from-a-file-and-display-the-occurence", "title": "Perl : search a keywords from a file and display the occurence", "body": "<p>I have two files \n<strong>1. input.txt \n2. keyword.txt</strong></p>\n\n<p><strong>input.txt has contents like</strong></p>\n\n<pre><code>.src_ref 0 \"call.s\" 24 first\n      0x000000    0x5a80 0x0060         BRA.l 0x60\n.src_ref 0 \"call.s\" 30 first\n      0x000002    0x1bc5                RETI\n.src_ref 0 \"call.s\" 31 first\n      0x000003    0x6840                MOV R0L,R0L\n.src_ref 0 \"call.s\" 35 first\n      0x000004    0x1bc5                RETI\n</code></pre>\n\n<p><strong>keyword.txt has contents</strong></p>\n\n<pre><code>MOV\nBRA.l\nRETI\nADD\nSUB\n..\netc\n</code></pre>\n\n<p>Now I want to read this keyword.txt file and search it in input.txt file and find how many times MOV has occured,how many times BRA.l has occured and so on.</p>\n\n<p>So far I have managed to get it working from a single file itself. here is the code</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nsub retriver();\n\nmy @lines;\nmy $lines_ref;\nmy $count;\n$lines_ref=retriver();\n@lines=@$lines_ref;\n$count=@lines;\nprint \"Count :$count\\nLines\\n\";\nprint join \"\\n\",@lines;\n\nsub retriver()\n{\n    my $file='C:\\Users\\vk18434\\Desktop\\input.txt';\n    my $keyword_file = 'C:\\Users\\vk18434\\Desktop\\keywords.txt';\n    open FILE, $file or die \"FILE $file NOT FOUND - $!\\n\";\n    my @contents=&lt;FILE&gt;;\n\n    open FILE, $keyword_file or die \"FILE $file NOT FOUND - $!\\n\";\n    my @key=&lt;FILE&gt;;\n\n\n    my @filtered=grep(/^$key$/,@contents);\n   #my @filtered = grep $_ eq $keywords,@contents;\n    return \\@filtered;   \n}\n</code></pre>\n\n<p><strong>Output should look like:</strong> </p>\n\n<pre><code>MOV appeared 1 time\nRETI appeared 2 times \n</code></pre>\n\n<p>Any help is appreciated. Request you to please help on this !! </p>\n"}, {"tags": ["bash", "perl", "shell", "unix", "cron"], "comments": [{"owner": {"reputation": 2654, "user_id": 1646996, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e1927a513875cef7a1c2877fdb6b45ae?s=128&d=identicon&r=PG", "display_name": "qqibrow", "link": "https://stackoverflow.com/users/1646996/qqibrow"}, "edited": false, "score": 0, "creation_date": 1421732647, "post_id": 28038421, "comment_id": 44461117, "body": "could you add some code? not full understand your question."}, {"owner": {"reputation": 1078, "user_id": 734744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3a20b00349cbb9c96c21c307a74487a7?s=128&d=identicon&r=PG", "display_name": "Sameer Naik", "link": "https://stackoverflow.com/users/734744/sameer-naik"}, "edited": false, "score": 1, "creation_date": 1421732697, "post_id": 28038421, "comment_id": 44461126, "body": "You can create a named pipe and have your script read from it. <a href=\"http://stackoverflow.com/questions/19932143/how-read-write-into-a-named-pipe-in-perl\" title=\"how read write into a named pipe in perl\">stackoverflow.com/questions/19932143/&hellip;</a> some other process will write commands to named pipe."}, {"owner": {"reputation": 2995, "user_id": 849231, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f31ecf5d4474cc3ccd5da703f25c44a4?s=128&d=identicon&r=PG", "display_name": "Sam Levin", "link": "https://stackoverflow.com/users/849231/sam-levin"}, "edited": false, "score": 0, "creation_date": 1421732714, "post_id": 28038421, "comment_id": 44461135, "body": "yeah updating now, sorry"}], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 2, "last_activity_date": 1421734354, "creation_date": 1421734354, "answer_id": 28038826, "question_id": 28038421, "link": "https://stackoverflow.com/questions/28038421/run-program-and-respond-to-prompts-in-background-with-perl/28038826#28038826", "title": "Run program (and respond to prompts) in background with perl?", "body": "<p><a href=\"http://search.cpan.org/~rgiersig/Expect-1.15/Expect.pod\" rel=\"nofollow\">Expect</a> will handle all of the tough parts for you. You'll have cron execute your perl program and it in turn will spawn the program requiring interaction. Then it's just a matter of coding the appropriate responses to the output the other program produces.</p>\n"}, {"tags": [], "owner": {"reputation": 170, "user_id": 3368344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d914e0bfafc2911060d4f16e1a90ff?s=128&d=identicon&r=PG&f=1", "display_name": "javamonk", "link": "https://stackoverflow.com/users/3368344/javamonk"}, "is_accepted": false, "score": 0, "last_activity_date": 1421746255, "creation_date": 1421746255, "answer_id": 28041804, "question_id": 28038421, "link": "https://stackoverflow.com/questions/28038421/run-program-and-respond-to-prompts-in-background-with-perl/28041804#28041804", "title": "Run program (and respond to prompts) in background with perl?", "body": "<p>Using pipe?</p>\n\n<pre><code>perl xxx.pl | command\n</code></pre>\n"}], "owner": {"reputation": 2995, "user_id": 849231, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f31ecf5d4474cc3ccd5da703f25c44a4?s=128&d=identicon&r=PG", "display_name": "Sam Levin", "link": "https://stackoverflow.com/users/849231/sam-levin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1532395759, "creation_date": 1421732041, "last_edit_date": 1532395759, "question_id": 28038421, "link": "https://stackoverflow.com/questions/28038421/run-program-and-respond-to-prompts-in-background-with-perl", "title": "Run program (and respond to prompts) in background with perl?", "body": "<p>How can I run a program on the command line and pass it input (after it runs) using perl? The goal is to run it on a cron script and design it so that it can't interrupt the user</p>\n\n<p>For example, I'm looking to do this:</p>\n\n<pre><code>&lt;run command&gt;\nInput required (program prompt): &lt;injected by perl&gt;\n&lt;end&gt;\n</code></pre>\n"}, {"tags": ["perl", "copy", "username"], "comments": [{"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "edited": false, "score": 0, "creation_date": 1421745028, "post_id": 28038261, "comment_id": 44466179, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/28023429/how-to-give-user-name-and-password-as-a-input-in-scp-module\">how to give user name and password as a input in scp module?</a>"}, {"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "edited": false, "score": 0, "creation_date": 1421745053, "post_id": 28038261, "comment_id": 44466193, "body": "Please don&#39;t ask the same question multiple times (you can edit or comment your original question)"}], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 1, "last_activity_date": 1421735328, "creation_date": 1421735328, "answer_id": 28039036, "question_id": 28038261, "link": "https://stackoverflow.com/questions/28038261/how-to-pass-username-and-password-automatically-in-scp-module/28039036#28039036", "title": "How to pass username and password automatically in scp module?", "body": "<p>You're receiving those variables from STDIN and they all include a trailing <code>\\n</code>. You'll want to <code>chomp</code> them before use:</p>\n\n<pre><code>chomp ($username,$pass,$host);\nmy $scpe = Net::SCP::Expect-&gt;new(user=&gt;$username, password=&gt;$pass, auto_yes=&gt; '1'); \n$scpe-&gt;scp($host.\":\".$src_path, $dst_path);\n</code></pre>\n\n<p>Net::SCP::Expect runs the scp program with a command line stitched together from your parameters. So, without chomping it will effectively be truncated to <code>scp yourusername</code></p>\n"}], "owner": {"reputation": 41, "user_id": 4453345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898baa37f44edd28835a6ebac0262edb?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Loki", "link": "https://stackoverflow.com/users/4453345/lokesh-loki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421735328, "creation_date": 1421731150, "question_id": 28038261, "link": "https://stackoverflow.com/questions/28038261/how-to-pass-username-and-password-automatically-in-scp-module", "title": "How to pass username and password automatically in scp module?", "body": "<pre><code>I am copying the files from one host to another using:\n Net:scp::Except;\n here is my script\n</code></pre>\n\n<p>use strict;\nuse Net::SCP::Expect;</p>\n\n<p>print \"enter user name\\n\";\nmy $username = &lt;>;</p>\n\n<p>print \"enter password\\n\";\nmy $pass = &lt;>;</p>\n\n<p>print \"enter host name\\n\";\nmy $host = &lt;>;</p>\n\n<p>my $src_path = \"/\";\nmy $dst_path = \"/\";</p>\n\n<p>my $scpe = Net::SCP::Expect->new(user=>$username, password=>$pass,     auto_yes=> '1');\n$scpe->scp($host.\":\".$src_path, $dst_path);</p>\n\n<pre><code>getting error like bad password\n</code></pre>\n"}, {"tags": ["bash", "perl", "grep"], "answers": [{"tags": [], "owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "is_accepted": false, "score": 0, "last_activity_date": 1421731508, "creation_date": 1421731508, "answer_id": 28038327, "question_id": 28038243, "link": "https://stackoverflow.com/questions/28038243/how-to-speed-up-the-grep-speed-of-this-perl-script/28038327#28038327", "title": "how to speed up the grep speed of this Perl script", "body": "<p>Yes, definitely.  Simply replace <code>xargs</code> with <a href=\"http://www.gnu.org/software/parallel/\" rel=\"nofollow\">GNU Parallel</a> or another similar program (there are multiple programs named <code>parallel</code> on some Linux systems, so be mindful of which one you have; GNU Parallel is probably the best).</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1421756290, "creation_date": 1421756290, "answer_id": 28045223, "question_id": 28038243, "link": "https://stackoverflow.com/questions/28038243/how-to-speed-up-the-grep-speed-of-this-perl-script/28045223#28045223", "title": "how to speed up the grep speed of this Perl script", "body": "<p>For starters - I'd say don't 'shell out' to grep - perl has perfectly good built in pattern matching and regular expressions, and includes the ability to precompile a regular expression. </p>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators</a></p>\n\n<p>Also - you can run perl in parallel fairly easily using threading or forks, which makes better use of your CPU resources. </p>\n\n<p>However I will point out - things like grep aren't generally CPU related problems. CPUs are pretty fast these days, where filesystems are generally a lot slower. You will probably be spending more of your time reading data from disk than you will processing it, by quite a large margin. </p>\n\n<p>So the thing that will likely be giving you a lot of grief is you grep multiple times. </p>\n\n<pre><code>my $grep_path = $log_root_dir . \"/$leaf_dir/*\" ;          \nforeach my $current_stage (@stage)\n</code></pre>\n\n<p>Each element of <code>@stage</code> triggers another grep, and it's doing so for every file in that directory. And then you're grepping <em>again</em>.</p>\n\n<p>That's a poor algorithm, because you'll be reading every file multiple times. Why not instead do something like:</p>\n\n<pre><code>#could do this with map - I haven't for clarity. \nmy %stages;\n$stages{'STAGE1'}++;\n$stages{'STAGE2'}++;\n$stages{'STAGE3'}++;\n\nforeach my $file ( glob $grep_path ) {\n    open( my $input_fh, \"&lt;\", $file ) or die $!;\n    while (&lt;$input_fh&gt;) {\n        if (m/current_stage/) {\n            my ($file_stage) = (\n                m/stagename = (\\w+)/;\n            );\n            if ( $stages{$file_stage} ) {\n                # do something here\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>That way - whilst you do have to read every file - you only do so once. </p>\n"}], "owner": {"reputation": 271, "user_id": 2143228, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/281bb6b2c03f8cce5b6e65e7110f9ab8?s=128&d=identicon&r=PG", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/2143228/dracarys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1421756290, "creation_date": 1421731031, "last_edit_date": 1421739209, "question_id": 28038243, "link": "https://stackoverflow.com/questions/28038243/how-to-speed-up-the-grep-speed-of-this-perl-script", "title": "how to speed up the grep speed of this Perl script", "body": "<p>Currently I have a script that need to go extraction logs. Below is the Perl code snippet: The script traverse every server folder and grep the necessary information. The problem is that when the number of logs maybe huge, the script may take very long time to finish. The bottle neck is this line:</p>\n\n<pre><code>@leaf_lines = qx($grep -l \"stagename = $current_stage\" $grep_path| xargs $grep \"Keywords\")\n</code></pre>\n\n<p>I am wondering if there is any way to speed up this operation?\nThe script is running on a server with 8 cores per CPU and 8G memory, is there any way to use these resources?</p>\n\n<pre><code>my $grep = ($leaflog_zipped) ? \"zgrep\" : \"grep\" ;\nmy %leaf_info;\nmy @stage = (\"STAGE1\", \"STAGE1\", \"STAGE3\");\nforeach my $leaf_dir (@leaf_dir_list){\n    my $grep_path = $log_root_dir . \"/$leaf_dir/*\" ;          \n    foreach my $current_stage (@stage){\n        my @leaf_lines;\n        @leaf_lines = qx($grep -l \"stagename = $current_stage\" $grep_path| xargs $grep \"Keywords\"); ## how to improve the grep speed?  \n        foreach (@leaf_lines){\n            if(...){\n                $leaf_info{$current_stage}{xxx} = xxxx;\n            }\n        }    \n    }\n}\n</code></pre>\n"}, {"tags": ["linux", "perl"], "answers": [{"tags": [], "owner": {"reputation": 747, "user_id": 2105514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jIn5Z.jpg?s=128&g=1", "display_name": "Joseph R.", "link": "https://stackoverflow.com/users/2105514/joseph-r"}, "is_accepted": true, "score": 4, "last_activity_date": 1421800623, "last_edit_date": 1495540257, "creation_date": 1421723489, "answer_id": 28037157, "question_id": 28037087, "link": "https://stackoverflow.com/questions/28037087/using-perl-libraries-instead-of-modules-in-perl/28037157#28037157", "title": "Using perl libraries instead of modules in perl", "body": "<p>On Debian, packages like <code>libjson-perl</code> only install JSON.pm (and its documentation) in a place Perl can access it. This is not using \"Linux libraries\", it is merely an alternative to installing the module (minus its dependencies) from CPAN.</p>\n\n<p>If what you need is to avoid using Perl but use an external tool instead, <a href=\"https://stackoverflow.com/a/13037988/2105514\">this answer</a> to another question here may interest you.</p>\n"}, {"tags": [], "owner": {"reputation": 138, "user_id": 1978027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83313946d94bb8bbcbb78b76cea66574?s=128&d=identicon&r=PG", "display_name": "FunkyShu", "link": "https://stackoverflow.com/users/1978027/funkyshu"}, "is_accepted": false, "score": 2, "last_activity_date": 1421726546, "creation_date": 1421726546, "answer_id": 28037562, "question_id": 28037087, "link": "https://stackoverflow.com/questions/28037087/using-perl-libraries-instead-of-modules-in-perl/28037562#28037562", "title": "Using perl libraries instead of modules in perl", "body": "<p>I can only guess as to why you were \"told\" to use \"linux libraries\" instead of JSON.pm but perhaps performance is an issue.  JSON::XS is an XS (C complied) implementation of json enc/dec.  The JSON.pm actually uses this module if it is installed, otherwise falling back to the pure-perl, JSON::PP implementation.</p>\n"}], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 28037157, "answer_count": 2, "score": 1, "last_activity_date": 1421800623, "creation_date": 1421722965, "question_id": 28037087, "link": "https://stackoverflow.com/questions/28037087/using-perl-libraries-instead-of-modules-in-perl", "title": "Using perl libraries instead of modules in perl", "body": "<p>I was using <code>JSON.pm</code> from CPAN till now to parse a JSON file. But now i am told to use linux libraries instead of CPAN module so i installed <code>libjson-perl</code> on my debian system and removed the line <code>use JSON</code> from my code but now it is showing error.</p>\n\n<p>Can anyone tell me how to use libraries instead of CPAN modules?</p>\n"}, {"tags": ["regex", "perl", "sed"], "comments": [{"owner": {"reputation": 16121, "user_id": 1985032, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/66248ce349dee952883fa5ff02972cef?s=128&d=identicon&r=PG", "display_name": "abc123", "link": "https://stackoverflow.com/users/1985032/abc123"}, "edited": false, "score": 0, "creation_date": 1421717131, "post_id": 28036252, "comment_id": 44457293, "body": "is there anything that shows the end of a work being cited? or anything that shows the beginning of the next text?  If not, you&#39;ll need to give more examples of the Works Cited so patterns can be derived"}, {"owner": {"reputation": 33, "user_id": 3988770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9340cbdfbccaf1034b028bc194922464?s=128&d=identicon&r=PG&f=1", "display_name": "jcc", "link": "https://stackoverflow.com/users/3988770/jcc"}, "reply_to_user": {"reputation": 16121, "user_id": 1985032, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/66248ce349dee952883fa5ff02972cef?s=128&d=identicon&r=PG", "display_name": "abc123", "link": "https://stackoverflow.com/users/1985032/abc123"}, "edited": false, "score": 0, "creation_date": 1421717997, "post_id": 28036252, "comment_id": 44457519, "body": "Each cited work is on a separate line that ends with a period, but each text is also in a separate file so I don&#39;t know if that makes a difference."}, {"owner": {"reputation": 16121, "user_id": 1985032, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/66248ce349dee952883fa5ff02972cef?s=128&d=identicon&r=PG", "display_name": "abc123", "link": "https://stackoverflow.com/users/1985032/abc123"}, "edited": false, "score": 0, "creation_date": 1421718963, "post_id": 28036252, "comment_id": 44457742, "body": "using the <code>ms</code> flags it will get you all the Works Cited in a group then run another regex to split those up."}], "answers": [{"comments": [{"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 0, "creation_date": 1421737137, "post_id": 28036788, "comment_id": 44462746, "body": "Very good replies. Note: assuming (for sed) there is no special char in file name (<code>\\&amp;</code>) that is normaly the case."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 3, "last_activity_date": 1421721694, "last_edit_date": 1421721694, "creation_date": 1421720674, "answer_id": 28036788, "question_id": 28036252, "link": "https://stackoverflow.com/questions/28036252/extracting-all-text-after-a-phrase-and-then-adding-file-names-at-the-start-of-ea/28036788#28036788", "title": "Extracting all text after a phrase and then adding file names at the start of each line?", "body": "<h3>Using GNU <code>awk</code></h3>\n\n<p>You don't mention your operating system but, assuming that you have access to GNU <code>awk</code>, try:</p>\n\n<pre><code>$ awk 'FNR==1{f=0} f &amp;&amp; /./{printf \"%s, \", FILENAME} f{print} /Works Cited/{f=1}' *.txt\n\nJones.txt, Jones, Ted. Biology. New York: Penguin, 2009.\n\nJones.txt, Smith, Mary. \"Butterflies and Biology.\" Journal 21.2 (2013): 1-10.\n</code></pre>\n\n<p>Note that, in this solution, you can specify all your file names on the command line at once, via <code>*.txt</code> in the abovee example, and GNU <code>awk</code> updates the variable <code>FILENAME</code> as it switches from one file to the next.</p>\n\n<p>How it works:</p>\n\n<ul>\n<li><p><code>FNR==1{f=0}</code></p>\n\n<p>On the first line of every file, set flag <code>f</code> to zero to signify that we haven't yet seen the <code>Works Cited</code> line for this file.</p></li>\n<li><p><code>f &amp;&amp; /./{printf \"%s, \", FILENAME}</code></p>\n\n<p>If flag <code>f</code> is non-zero (meaning <code>Works Cited</code> has already been seen) and if the line is non-blank (there is at least one character on the line), then print the filename followed by a comma and a space.</p></li>\n<li><p><code>f{print}</code></p>\n\n<p>If the flag <code>f</code> is nonzero, print the whole line.</p></li>\n<li><p><code>/Works Cited/{f=1}</code></p>\n\n<p>If this line contains <code>Works Cited</code>, then set flag <code>f</code> to one.</p></li>\n</ul>\n\n<p>The <code>FILENAME</code> variable is a GNU extension.</p>\n\n<h3>Non-GNU <code>awk</code></h3>\n\n<p>For versions of <code>awk</code> which do not support <code>FILENAME</code>, we can use a shell loop, setting the <code>awk</code> variable <code>name</code> to the name of each file in turn:</p>\n\n<pre><code>for f in *.txt\ndo \n    awk -v name=\"$f\" 'f &amp;&amp; /./{printf name \", \"} f{print} /Works Cited/{f=1}' \"$f\"\ndone\n</code></pre>\n\n<h3>Using <code>sed</code></h3>\n\n<p>If you really must use <code>sed</code>, try:</p>\n\n<pre><code>for f in *.txt\ndo\n    sed -n '/Works Cited/,${/Works Cited/d; /./ s/^/'\"$f, /;p}\" \"$f\"\ndone\n</code></pre>\n\n<p>This approach is acceptable if you are <em>sure</em> that your file names do not contain any sed-active characters.</p>\n"}, {"tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 3, "last_activity_date": 1421722204, "last_edit_date": 1421722204, "creation_date": 1421721857, "answer_id": 28036920, "question_id": 28036252, "link": "https://stackoverflow.com/questions/28036252/extracting-all-text-after-a-phrase-and-then-adding-file-names-at-the-start-of-ea/28036920#28036920", "title": "Extracting all text after a phrase and then adding file names at the start of each line?", "body": "<p>You can accomplish this in one step with a simple perl script.</p>\n\n<p>Basic Usage:</p>\n\n<pre><code>extract.pl myoutfile.txt\n</code></pre>\n\n<p>Here's the script:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict 'vars';\nuse warnings;\nuse feature qw/say/;\n\nmy $outfile   = $ARGV[0] || 'citations.out';\nmy $split_on  = $ARGV[1] || 'Works Cited';\nmy $filetypes = $ARGV[2] || 'txt';\n\n# Open Outfile\nopen(my $fh_outfile, '&gt;', $outfile) \n  or die \"Could not open file '$outfile' $!\";\n\n# Get list of files\nmy @files = &lt;*.$filetypes&gt;;\nmy $count = scalar @files;\nmy $current = 0;\n\n# Scan files\nforeach my $file (@files) {\n  say \"\\nWorking on: $file [ \" . ++$current  .  \" / $count ]\";\n\n  # Read in the file contents\n  my @contents = do {\n    open my $fh, \"&lt;\", $file\n        or die \"Could not open $file $!\";\n    &lt;$fh&gt;;\n  };\n\n  my $split_found = 0;\n  foreach my $line ( @contents ) {\n    # Write to output file, only when in\n    # works cited section, and line isn't empty\n    if ( $split_found &amp;&amp; $line =~ m/\\w/ ) {\n      print $fh_outfile \"$file, $line\";\n      print \"   &gt;$file, $line\";\n    }\n\n    # Flag 'Works Cited' section\n    $split_found = $split_found || $line =~ m/^$split_on\\s*$/g;\n  }\n};\n\nclose $fh_outfile;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3988770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9340cbdfbccaf1034b028bc194922464?s=128&d=identicon&r=PG&f=1", "display_name": "jcc", "link": "https://stackoverflow.com/users/3988770/jcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1421722204, "creation_date": 1421716661, "last_edit_date": 1592644375, "question_id": 28036252, "link": "https://stackoverflow.com/questions/28036252/extracting-all-text-after-a-phrase-and-then-adding-file-names-at-the-start-of-ea", "title": "Extracting all text after a phrase and then adding file names at the start of each line?", "body": "<p>I'm working on a bibliometrics project with ~3k text documents and I'm trying to figure out how to get from unstructured text to a list of citations. The formatting varies a lot, but they all end with a Works Cited. So far, I've come up with this:</p>\n<pre><code>sed -n '/Works Cited/,$p' Jones.txt &gt; newfile.txt\n</code></pre>\n<p>After running that on all ~3k documents, I'll combine them all for analysis. But it would be meaningful to know which lines/citations came from which document. So my best guess is that would involve 2 steps:</p>\n<ol>\n<li>Extract the lines following the phrase Works Cited.</li>\n<li>Insert the file name at the start of each line. (There's no standard metadata structure or even a consistent line where authors, titles, etc appear.)</li>\n</ol>\n<p>For example, for a document named Jones.txt:</p>\n<blockquote>\n<p>...Vivamus fringilla dapibus volutpat. Phasellus nec mattis orci, vitae ornare &gt;tellus. Nunc at porta libero. Cras non ipsum id justo auctor ullamcorper. Lorem &gt;ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec nulla tincidunt, &gt;venenatis nisi a, pharetra neque. Morbi euismod id mauris vitae imperdiet. Nam &gt;sagittis mattis urna vel consectetur. Integer rhoncus leo at sagittis &gt;sollicitudin.</p>\n<p>Works Cited</p>\n<p>Jones, Ted. Biology. New York: Penguin, 2009.</p>\n<p>Smith, Mary. &quot;Butterflies and Biology.&quot; Journal 21.2 (2013): 1-10.</p>\n</blockquote>\n<p>I'd like to produce this:</p>\n<blockquote>\n<p>Jones.txt, Jones, Ted. Biology. New York: Penguin, 2009.</p>\n<p>Jones.txt, Smith, Mary. &quot;Butterflies and Biology.&quot; Journal 21.2 (2013): 1-10.</p>\n</blockquote>\n<p>Is this possible? Is there a better way to think about it? I tried scouring SO and other places for solutions, but maybe I'm not looking for the right phrases. Would this be best in sed, perl, etc? Will the solution change to run *.txt rather than just Jones.txt?</p>\n<p>Any and all help would be greatly appreciated.</p>\n<p>-JCC</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1421714261, "post_id": 28035633, "comment_id": 44456579, "body": "What were the issues with LogOutput.pl being required multiple times?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1421716687, "post_id": 28035633, "comment_id": 44457166, "body": "yes, what were they?  require only actually does anything the first time, unless you were changing the path"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1421715821, "last_edit_date": 1421715821, "creation_date": 1421714836, "answer_id": 28036045, "question_id": 28035633, "link": "https://stackoverflow.com/questions/28035633/exporting-subroutines-from-a-module-used-via-a-require/28036045#28036045", "title": "Exporting subroutines from a module &#39;used&#39; via a &#39;require&#39;", "body": "<p>The well named <a href=\"http://metacpan.org/pod/Import::Into\" rel=\"nofollow\">Import::Into</a> can be used to export a module's symbols into another package.</p>\n\n<pre><code>use Import::Into;\n\n# As if Some::Package did 'use COMPANY::LogOutput'\nCOMPANY::LogOutput-&gt;import::into(\"Some::Package\");\n</code></pre>\n\n<p>However, this shouldn't be necessary.  Since LogOutput.pl has no package, its code is in the package it was required from.  <code>use COMPANY::LogOutput</code> will export into the package which required LogOutput.pl.  Your code, as written, should work to emulate a bunch of functions in a .pl file.</p>\n\n<p>Here's what I assume LogOutput.pl looked like (using the subroutine \"pass\" as a stand in for whatever subroutines you had in there)...</p>\n\n<pre><code>sub pass { print \"pass called\\n\" }\n\n1;\n</code></pre>\n\n<p>And what I assume LogOutput.pl and LogOutput.pm look like now...</p>\n\n<pre><code># LogOutput.pl\nBEGIN\n{\n    use File::Spec;\n\n    push @INC, File::Spec-&gt;catfile($BuildScriptsRoot, 'Modules');\n}\n\nuse COMPANY::LogOutput qw(:DEFAULT);\n\n1;\n\n\n# LogOutput.pm\npackage test;\n\nuse strict;\nuse warnings;\n\nuse Exporter \"import\";\n\nour @EXPORT_OK = qw(pass);\nour %EXPORT_TAGS = (\n    ':DEFAULT'    =&gt; [qw(pass)],\n);\n\nsub pass { print \"pass called\\n\" }\n\n1;\n</code></pre>\n\n<p>Note this will not change the basic nature of require.  A module will still only be required once, after that requiring it again is a no-op.  So this will still not work...</p>\n\n<pre><code>{\n    package Foo;\n\n    require \"test.pl\";  # this one will work\n    pass();\n}\n\n{\n    package Bar;\n\n    require \"test.pl\";  # this is a no-op\n    pass();\n}\n</code></pre>\n\n<p>You can make it work.  Perl stores the list of what files have been required in <code>%INC</code>.  If you delete and entry, Perl will load the file again.  However, you have to be careful that all the code in the .pl file is ok with this.  That <code>@INC</code> hack has to make sure its only run once.</p>\n\n<pre><code>BEGIN\n{\n    use File::Spec;\n\n    # Only run this code once, no matter how many times this\n    # file is loaded.\n    push @INC, File::Spec-&gt;catfile($BuildScriptsRoot, 'Modules')\n        if $LogOutput_pl::only_once++;\n}\n\nuse COMPANY::LogOutput qw(:DEFAULT);\n\n# Allow this to be required and functions imported more\n# than once.\ndelete $INC{\"LogOutput.pl\"};\n\n1;\n</code></pre>\n\n<p>This is one of the few cases that a global variable is justified.  A lexical (<code>my</code>) variable must be declared and would be reset with each loading of the library.  A global variable does not need to be declared and will persist between loading.</p>\n"}, {"tags": [], "owner": {"reputation": 3716, "user_id": 331059, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcddae70351aff62451086cd399801f9?s=128&d=identicon&r=PG", "display_name": "Bwmat", "link": "https://stackoverflow.com/users/331059/bwmat"}, "is_accepted": true, "score": 0, "last_activity_date": 1422904416, "creation_date": 1422904416, "answer_id": 28285007, "question_id": 28035633, "link": "https://stackoverflow.com/questions/28035633/exporting-subroutines-from-a-module-used-via-a-require/28285007#28285007", "title": "Exporting subroutines from a module &#39;used&#39; via a &#39;require&#39;", "body": "<p>This turned out to just be a stupid mistake on my part, I didn't put the subs into the @EXPORT list, only into @EXPORT_OK.</p>\n"}], "owner": {"reputation": 3716, "user_id": 331059, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcddae70351aff62451086cd399801f9?s=128&d=identicon&r=PG", "display_name": "Bwmat", "link": "https://stackoverflow.com/users/331059/bwmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 28285007, "answer_count": 2, "score": 1, "last_activity_date": 1422904416, "creation_date": 1421711973, "question_id": 28035633, "link": "https://stackoverflow.com/questions/28035633/exporting-subroutines-from-a-module-used-via-a-require", "title": "Exporting subroutines from a module &#39;used&#39; via a &#39;require&#39;", "body": "<p>I'm working with a set of perl scripts which our build system is written with. Unfortunately they were not written as a set of modules, but instead a bunch of .pl files which 'require' each other.</p>\n\n<p>After making some changes to a 'LogOutput.pl' which was used by almost every other file, I started to suffer from some issues caused by the file being 'require'd multiple times.</p>\n\n<p>In an effort to fix this, while not changing every file (some of which are not under my direct control), I did the following:</p>\n\n<p>-Move everything in LogOutput.pl to a new file LogOutput.pm, this one having everything needed to make it a module (based on reading <a href=\"http://www.perlmonks.org/?node_id=102347\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=102347</a> ).</p>\n\n<p>-Replace the existing LogOutput.pl with the following</p>\n\n<pre><code>BEGIN\n{\n    use File::Spec;\n\n    push @INC, File::Spec-&gt;catfile($BuildScriptsRoot, 'Modules');\n}\n\nuse COMPANY::LogOutput qw(:DEFAULT);\n\n1;\n</code></pre>\n\n<p>This works, except that I need to change calling code to prefix the sub names with the new package (i.e. COMPANY::LogOutput::OpenLog instead of just OpenLog)</p>\n\n<p>Is there any way for me to export the new module's subroutine's from within LogOutput.pl?</p>\n"}, {"tags": ["regex", "perl", "in-place"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1421711673, "post_id": 28035383, "comment_id": 44455946, "body": "Any particular reason this has to be a one liner? They&#39;re hard to read and maintain."}], "answers": [{"comments": [{"owner": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "edited": false, "score": 0, "creation_date": 1421710722, "post_id": 28035407, "comment_id": 44455676, "body": "I suppose I should consider adding something like &#39;and !/^10.11.0.0/&#39; ... to the &#39;if eof&#39; condition and make this command idempotent?"}, {"owner": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1421711402, "post_id": 28035407, "comment_id": 44455872, "body": "I&#39;m posting this primarily as a way to &quot;answer your own question&quot; ... but also to open it up for commentary.  Mostly I want to be able to find this trick again later since I rarely use Perl any more and have to fight with its syntax when doing an in-place edit involving more then a simple s/xxx/yyy/ substitution."}], "tags": [], "owner": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "is_accepted": false, "score": 0, "last_activity_date": 1421784516, "last_edit_date": 1421784516, "creation_date": 1421710585, "answer_id": 28035407, "question_id": 28035383, "link": "https://stackoverflow.com/questions/28035383/how-to-use-perl-one-liner-to-add-line-based-on-first-line-pattern-match/28035407#28035407", "title": "How to use Perl one-liner to add line based on first line pattern match?", "body": "<p>Here's my attempt ... which does seem to work <strong>for a single file</strong>:</p>\n\n<pre><code>perl -pi.bak -e '$octet = $1 if /(\\d+)\\s+dev/ and $. == 1;\\\n  $line=\"10.11.0.0/16 via 172.16.2.$octet dev tun0\\n\";\\\n  $_ = $_ . $line if eof;' \"$filenames\"\n</code></pre>\n\n<p>Here's a safer variation which only appends the intended line <strong>if</strong> a matching pattern is found on the first line of each file.  (It also resets $. as described by \u0421\u0443\u0445\u043e\u043927):</p>\n\n<pre><code>perl -pi.bak -e '$line =\"10.11.0.0/16 via 172.16.2.$1 dev tun0\\n\"\\\n  if /(\\d+)\\s+dev/ &amp;&amp; $. == 1;\\\n  close(ARGV), $_ = $_ . $line if eof;' \"$filenames\"\n</code></pre>\n\n<p>(If no match is found for the regular expression than $line is empty and appending an empty string to $_ is harmless).    </p>\n"}, {"comments": [{"owner": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "edited": false, "score": 0, "creation_date": 1421778174, "post_id": 28035638, "comment_id": 44486930, "body": "For this case the command is intended to run, ad hoc, over SaltStack (or Ansible, Fabric, classh, or whatever).  The intention is to quickly make a particular configuration change (add a line based, in part, on a different line/pattern).  Writing it as a file, distributing that and executing it adds at least two extra steps to the process."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "edited": false, "score": 0, "creation_date": 1421779294, "post_id": 28035638, "comment_id": 44487496, "body": "@JimDennis I don&#39;t know the services you mention. I <i>think</i> you&#39;re saying that finding and cutting and pasting a one-liner is faster than uploading a file to a server. I&#39;m not going to argue that since I imagine either way takes a few seconds, but editing the smashed together code of the one-liner will be error prone. If you do this so often that any of that matters, it should be part of a process with a named and documented program. The program can be made to take arguments for different patterns, etc... Ultimately, you&#39;ll want this automated instead of &quot;something my boss remembers to do&quot;."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1421712011, "creation_date": 1421712011, "answer_id": 28035638, "question_id": 28035383, "link": "https://stackoverflow.com/questions/28035383/how-to-use-perl-one-liner-to-add-line-based-on-first-line-pattern-match/28035638#28035638", "title": "How to use Perl one-liner to add line based on first line pattern match?", "body": "<p>Sure, you could cram this into a one liner, but why punish yourself (and the poor sod who has to maintain this down the road).  Things like <code>-i</code> work in programs.  Here's the basic pattern you're looking for.</p>\n\n<pre><code>#!/usr/bin/env perl -n -i\n\nprint $_;\nif( /...whatever you want to match.../ ) {\n    print \"...whatever extra line you want to add...\";\n}\n</code></pre>\n\n<p><code>-n</code> says to iterate line by line, as if there's a while loop around the program.  Unlike <code>-p</code> it doesn't automatically print the line.  Sure, you could append to <code>$_</code>, but this gives us better control.</p>\n\n<p><code>-i</code> says to edit the file in place rather than just print to STDOUT.</p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 1, "last_activity_date": 1421712070, "creation_date": 1421712070, "answer_id": 28035653, "question_id": 28035383, "link": "https://stackoverflow.com/questions/28035383/how-to-use-perl-one-liner-to-add-line-based-on-first-line-pattern-match/28035653#28035653", "title": "How to use Perl one-liner to add line based on first line pattern match?", "body": "<p>It seems you're missing reset of line counter <code>$.</code> for each input file, and <code>close(ARGV)</code> does just that,</p>\n\n<pre><code>perl -i.bak -pe'\n  $octet = $1 if /(\\d+)\\s+dev/ and $. ==1;\n  $_ .= \"10.11.0.0/16 via 172.16.2.$octet dev tun0\\n\", close(ARGV) if eof;\n' \"$filenames\"\n</code></pre>\n"}], "owner": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 28035653, "answer_count": 3, "score": 0, "last_activity_date": 1421784516, "creation_date": 1421710486, "last_edit_date": 1421711308, "question_id": 28035383, "link": "https://stackoverflow.com/questions/28035383/how-to-use-perl-one-liner-to-add-line-based-on-first-line-pattern-match", "title": "How to use Perl one-liner to add line based on first line pattern match?", "body": "<p>My boss needs to change a particular routing file on some dozens (hundreds) of hosts by adding a line like:</p>\n\n<pre><code>10.11.0.0/16   via 172.16.2.XX dev tun0\n</code></pre>\n\n<p>... where XX is based on the octet preceding the \"dev\" keyword on the first line of the same file.</p>\n\n<p>He wants it to be an automated in-place edit.  The first lines of the existing file look like:</p>\n\n<pre><code>10.12.123.0/22 via 172.16.2.24 dev tun0\n10.13.234.0/23 via 172.16.2.22 dev tun0\n</code></pre>\n\n<p>So the results should look like:</p>\n\n<pre><code>10.12.123.0/22 via 172.16.2.24 dev tun0\n10.13.234.0/23 via 172.16.2.22 dev tun0\n10.11.0.0/16   via 172.16.2.24 dev tun0\n</code></pre>\n\n<p>... where the last line has simply been added and the last octet in that line has been copied from the last octet on the first line.</p>\n"}, {"tags": ["python", "perl", "urllib", "truncated"], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 2, "last_activity_date": 1421736933, "last_edit_date": 1495540171, "creation_date": 1421736933, "answer_id": 28039362, "question_id": 28034442, "link": "https://stackoverflow.com/questions/28034442/uploading-files-with-urlencode-urlopen-text-truncated-unless-post-read-is-c/28039362#28039362", "title": "Uploading files with urlencode, urlopen - text truncated unless post.read() is called after?", "body": "<p>You need to do something with the response object in 'post' subsequent to the request. If you don't have any references to 'post' after that point in your program (e.g. post.read(), post.close(), etc..), python will optimize it away and leave the response object eligible for garbage collection <em>before</em> the POST has even completed. </p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/1522636/should-i-call-close-after-urllib-urlopen?rq=1\">should I call close() after urllib.urlopen()?</a> for more information. </p>\n"}], "owner": {"reputation": 2465, "user_id": 2308300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zs5xn.jpg?s=128&g=1", "display_name": "Locane", "link": "https://stackoverflow.com/users/2308300/locane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 28039362, "answer_count": 1, "score": 1, "last_activity_date": 1421796216, "creation_date": 1421705727, "last_edit_date": 1421796216, "question_id": 28034442, "link": "https://stackoverflow.com/questions/28034442/uploading-files-with-urlencode-urlopen-text-truncated-unless-post-read-is-c", "title": "Uploading files with urlencode, urlopen - text truncated unless post.read() is called after?", "body": "<p>I'm experiencing some really strange behavior, and I'm hoping someone can explain to me what's going on.  I've been over the official Python documentation and don't see anything that explains what I'm seeing - if I missed something, please point it out for me.</p>\n\n<p>I have a (large) python script that takes ~150k worth of text, housed in the \"content\" variable, and uploads it to a Perl script on a remote system for logging.  It uses urllib to do this:</p>\n\n<pre><code>thash = {'file_name': file_name, 'contents':content}\nupload = urlib.urlencode(thash)\npost = urlib.urlopen(\"http://path.to.perl.script/log_writer.pl\", upload)\n#post.read()\n</code></pre>\n\n<p>The problem is that the file \"log_writer.pl\" writes is truncated at a seemingly randomly selected place, depending on the length of \"content\" - <strong>unless I call post.read() after the urlopen call in my Python script</strong>.</p>\n\n<p>I'm new to Python and still very new to Perl, but my understanding is that it shouldn't work this way.  Why would the remote Perl script write the whole file when I call post.read() locally in my Python script?</p>\n"}, {"tags": ["xml", "perl", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1421702120, "post_id": 28033461, "comment_id": 44452103, "body": "The <code>binmode</code> statement is better written as <code>use open qw&#47; :std :utf8 &#47;</code>, although it also sets the default mode for any other <code>open</code> statements in the program."}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 0, "last_activity_date": 1421701551, "creation_date": 1421701551, "answer_id": 28033461, "question_id": 28033434, "link": "https://stackoverflow.com/questions/28033434/perl-xmllibxml-utf8-encoding/28033461#28033461", "title": "perl XML::LibXML utf8 encoding", "body": "<p>Ensure you have on the top of your script :</p>\n\n<pre><code>use utf8;\nbinmode $_, \":utf8\" for qw/STDOUT STDIN STDERR/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 3366045, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/78102669375d49433656e590bd2ae246?s=128&d=identicon&r=PG&f=1", "display_name": "user3366045", "link": "https://stackoverflow.com/users/3366045/user3366045"}, "edited": false, "score": 0, "creation_date": 1422097542, "post_id": 28033765, "comment_id": 44622944, "body": "It works fine, but when I used it on the top in my own module and then use this module in some script, script automatically use this and rest of page is wrong again. Is there a way to tell script - dont use &quot;use open &#39;:std&#39;, &#39;:encoding(UTF-8)&#39;;&quot;?? Hope you understand my problem."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1421703531, "last_edit_date": 1421703531, "creation_date": 1421702847, "answer_id": 28033765, "question_id": 28033434, "link": "https://stackoverflow.com/questions/28033434/perl-xmllibxml-utf8-encoding/28033765#28033765", "title": "perl XML::LibXML utf8 encoding", "body": "<p>As it should, <code>textContent</code> returns the text in its \"decoded\" form (Unicode Code Points). File handles expect bytes, so you need to encode the text into bytes. You can instruct Perl to do so for you using</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 3366045, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/78102669375d49433656e590bd2ae246?s=128&d=identicon&r=PG&f=1", "display_name": "user3366045", "link": "https://stackoverflow.com/users/3366045/user3366045"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1270, "favorite_count": 1, "accepted_answer_id": 28033765, "answer_count": 2, "score": 2, "last_activity_date": 1421703531, "creation_date": 1421701428, "question_id": 28033434, "link": "https://stackoverflow.com/questions/28033434/perl-xmllibxml-utf8-encoding", "title": "perl XML::LibXML utf8 encoding", "body": "<p>I am using perl module XML::LibXML. </p>\n\n<p>XML::LibXML get string, which contains whole xml file with utf8 encoding.\nI get information from xml using <em>findnodes</em> and <em>textContent</em>.\nBut when I try to print them into HTML page using <em>charset=UTF-8</em> it comes with bad characters like \"\ufffd\".\nWhen I dont use <em>charset=UTF-8</em> in head of html page, it is correct but rest of page,which I print manually, is wrong.\nCan you please help me to figure it out?</p>\n\n<p>Thanks for advice.</p>\n"}, {"tags": ["linux", "perl", "centos", "wkhtmltoimage"], "answers": [{"comments": [{"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1421704395, "post_id": 28033982, "comment_id": 44453139, "body": "Is it a permissions on the bin file or web server user permissions? my server is Apache on Centos 6."}, {"owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "reply_to_user": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1421705430, "post_id": 28033982, "comment_id": 44453629, "body": "On the commandline, I had no error for 2 out of 3 different URLs I tried this script on!  The changes I made are on these lines: my $outfile = catfile (&quot;/home/../../outputfolder/&quot;, &#39;output.jpg&#39;); convert_using_WKHTMLTOPDF_image(&#39;<a href=\"http://SITENAME.com\" rel=\"nofollow noreferrer\">SITENAME.com</a>, &quot;$outfile&quot;);  I did not use $Script, $Bin!"}, {"owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "reply_to_user": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1421706133, "post_id": 28033982, "comment_id": 44453953, "body": "As far as permissions, I have 0755 for the output folder, while 0744 also would be fine.  Make sure your script has a permission of 0755!"}, {"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1421708156, "post_id": 28033982, "comment_id": 44454763, "body": "The script has 0755 and it runs and prints the above error. Something is happening I do not know."}], "tags": [], "owner": {"reputation": 74, "user_id": 4109113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88acb982d7434e525fb84036d8dd74fa?s=128&d=identicon&r=PG&f=1", "display_name": "bislinks", "link": "https://stackoverflow.com/users/4109113/bislinks"}, "is_accepted": false, "score": 0, "last_activity_date": 1421703793, "creation_date": 1421703793, "answer_id": 28033982, "question_id": 28032761, "link": "https://stackoverflow.com/questions/28032761/wkhtmltoimage-convert-html-to-image-perl-and-centos/28033982#28033982", "title": "wkhtmltoimage convert html to image Perl and Centos", "body": "<p>I tested (in IE 11/Win 8.1) using Centos 6 server, worked fine with a little change to the path to the folder where I wanted it to be saved in.</p>\n\n<p>My output was\nConverting url to image file /home/user/../bittertruth.jpg...\nFinished...  </p>\n\n<p>which is just as expected by you....</p>\n"}], "owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421723481, "creation_date": 1421698270, "last_edit_date": 1421723481, "question_id": 28032761, "link": "https://stackoverflow.com/questions/28032761/wkhtmltoimage-convert-html-to-image-perl-and-centos", "title": "wkhtmltoimage convert html to image Perl and Centos", "body": "<p>I am trying to use <a href=\"http://wkhtmltopdf.org/\" rel=\"nofollow\">wkhtmltoimage</a> to convert html and web pages to images using Perl module <a href=\"https://metacpan.org/pod/WKHTMLTOPDF\" rel=\"nofollow\">WKHTMLTOPDF</a>. The script and code below works from the command line but does not work if I call the script from browser.</p>\n\n<pre><code>Update:\n\nIf I run the script from the shell as a root user, it runs without\nerror, if I switch to the domain user where the script is located,\nI get that error, seems it is executable permissions for domain owner.\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>error running '/usr/local/bin/wkhtmltoimage': '/usr/local/bin/wkhtmltoimage http://yahoo.com \n/home/xxxx/public_html/pdfwebkit/output.png' died with signal 11, with coredump at \n/usr/local/perl-5.18.1/lib/site_perl/5.18.1/MooseX/Role/Cmd.pm line 128.\nMooseX::Role::Cmd::run(WKHTMLTOPDF=HASH(0x2714260), \"http://yahoo.com\", \n\"/home/xxxx/public_html/pdfwebkit/output.png\") called at /usr/local/\nperl-5.18.1/lib/site_perl/5.18.1/WKHTMLTOPDF.pm line 645 WKHTMLTOPDF::generate(WKHTMLT\nOPDF=HASH(0x2714260)) called at htmltoimage.cgi line xxx main::convert_using_WKHTMLTOPDF_image(\"http://yahoo.com\", \n\"/home/xxxx/public_html/pdfwebkit/output.png\") called at htmltoimage.cgi line xx\n</code></pre>\n\n<p>The code I am using is:</p>\n\n<pre><code>#!/usr/bin/perl\n#!C:\\perl\\bin\\perl.exe\nprint \"Content-type: text/html;charset=utf-8\\n\\n\";\nuse File::Spec::Functions;\nuse File::Basename;\nBEGIN {\n    $|=1;\n    use CGI::Carp qw(fatalsToBrowser set_message);\n    sub handle_errors {\n        #print \"Content-type: text/html;charset=utf-8\\n\\n\";\n        my $msg = shift;\n        print qq!&lt;h1&gt;&lt;font color=\"red\"&gt;Software Error&lt;/font&gt;&lt;/h1&gt;!;\n        print qq!&lt;p&gt;$msg&lt;/p&gt;!;\n    }\n    set_message(\\&amp;handle_errors);\n}\n\n$|=1;\nmy ($Script, $Bin);\nif ($ENV{SCRIPT_FILENAME}) {\n    ($Script, $Bin) = fileparse($ENV{SCRIPT_FILENAME});\n}\nelse {\n    ($Script, $Bin) = fileparse(__FILE__);\n}\n\nuse WKHTMLTOPDF;\n\n    my $outfile = catfile ($Bin, 'output.jpg');\n    print \"Converting url to image file $outfile...&lt;br&gt;\\n\";\n    convert_using_WKHTMLTOPDF_image('http://yahoo.com', $outfile);\n    print \"Finished...&lt;br&gt;\\n\";\n    exit;\n\nsub convert_using_WKHTMLTOPDF_image {\n    my ($page, $output) = @_;\n    my $pdf = new WKHTMLTOPDF;\n    my $bin = '/usr/local/bin/wkhtmltoimage';\n    #my $bin = 'C:/Program Files/wkhtmltopdf/bin/wkhtmltoimage.exe';\n    $pdf-&gt;bin_name($bin);\n    $pdf-&gt;_input_file($page);\n    $pdf-&gt;_output_file($output);\n    #$pdf-&gt;grayscale(1);\n    $pdf-&gt;generate;\n}\n\nsub convert_html_to_image_direct {\n    my ($page, $output) = @_;\n    my $bin = '/usr/local/bin/wkhtmltoimage --quiet ';\n    my $out = `$bin $page $output`;\n    print \"out: $out&lt;br&gt;\\n\";\n    return $out;\n}\n</code></pre>\n\n<p>The code works on Windows from the browser normal.\nI am having the same issue if I try to use wkhtmltopdf for converting html to pdf.</p>\n\n<p>The way I installed the binary are from here:</p>\n\n<p><a href=\"https://gist.github.com/DaRamirezSoto/5489861\" rel=\"nofollow\">https://gist.github.com/DaRamirezSoto/5489861</a></p>\n\n<pre><code># wget http://wkhtmltopdf.googlecode.com/files/wkhtmltoimage-0.11.0_rc1-static-amd64.tar.bz2\n# wget http://wkhtmltopdf.googlecode.com/files/wkhtmltopdf-0.11.0_rc1-static-amd64.tar.bz2\n# tar xvjf wkhtmltoimage-0.11.0_rc1-static-amd64.tar.bz2\n# tar xvjf wkhtmltopdf-0.11.0_rc1-static-amd64.tar.bz2\n# chown root:root wkhtmltopdf-amd64\n# chown root:root wkhtmltoimage-amd64\n# mv wkhtmltopdf-amd64 /usr/bin/wkhtmltopdf\n# mv wkhtmltoimage-amd64 /usr/bin/wkhtmltoimage\n\n// dependencies\n# yum install -y libXrender libXext openssl openssl-devel fontconfig \n</code></pre>\n"}, {"tags": ["javascript", "json", "perl"], "comments": [{"owner": {"reputation": 1119, "user_id": 1938444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c73cf809bce30ffe55deba10f4b0efe?s=128&d=identicon&r=PG", "display_name": "mgamba", "link": "https://stackoverflow.com/users/1938444/mgamba"}, "edited": false, "score": 0, "creation_date": 1421695362, "post_id": 28031964, "comment_id": 44448669, "body": "By <i>silently failing</i>, do you mean that the <code>alert(&quot;whoops&quot;);</code> is not being called?"}, {"owner": {"reputation": 1959, "user_id": 297024, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e226de73136907720bac240869006028?s=128&d=identicon&r=PG", "display_name": "dbonneville", "link": "https://stackoverflow.com/users/297024/dbonneville"}, "reply_to_user": {"reputation": 1119, "user_id": 1938444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c73cf809bce30ffe55deba10f4b0efe?s=128&d=identicon&r=PG", "display_name": "mgamba", "link": "https://stackoverflow.com/users/1938444/mgamba"}, "edited": false, "score": 0, "creation_date": 1421695562, "post_id": 28031964, "comment_id": 44448767, "body": "Yes, the rest of the page loads, 2 other ajax file loads execute correctly, but this ajax request with its alerts for success or fail are ignored."}, {"owner": {"reputation": 1119, "user_id": 1938444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c73cf809bce30ffe55deba10f4b0efe?s=128&d=identicon&r=PG", "display_name": "mgamba", "link": "https://stackoverflow.com/users/1938444/mgamba"}, "edited": false, "score": 0, "creation_date": 1421695699, "post_id": 28031964, "comment_id": 44448835, "body": "is there supposed to be a comma before <code>dataType</code>?"}, {"owner": {"reputation": 1119, "user_id": 1938444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c73cf809bce30ffe55deba10f4b0efe?s=128&d=identicon&r=PG", "display_name": "mgamba", "link": "https://stackoverflow.com/users/1938444/mgamba"}, "edited": false, "score": 0, "creation_date": 1421695834, "post_id": 28031964, "comment_id": 44448907, "body": "also, check the <a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\">jquery page for .ajax</a>.  Looks like they chain <code>done</code>, <code>fail</code>, <code>always</code>, etc instead of specifying inside the first argument"}, {"owner": {"reputation": 1959, "user_id": 297024, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e226de73136907720bac240869006028?s=128&d=identicon&r=PG", "display_name": "dbonneville", "link": "https://stackoverflow.com/users/297024/dbonneville"}, "reply_to_user": {"reputation": 1119, "user_id": 1938444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c73cf809bce30ffe55deba10f4b0efe?s=128&d=identicon&r=PG", "display_name": "mgamba", "link": "https://stackoverflow.com/users/1938444/mgamba"}, "edited": false, "score": 0, "creation_date": 1421697039, "post_id": 28031964, "comment_id": 44449565, "body": "I&#39;m not asking about json manipulation. Why was this marked duplicate? My question has nothing to do with the question \u0421\u0443\u0445\u043e\u043927 posted."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1421697429, "post_id": 28031964, "comment_id": 44449783, "body": "Please check <a href=\"http://stackoverflow.com/questions/2165022/how-can-i-troubleshoot-my-perl-cgi-script\" title=\"how can i troubleshoot my perl cgi script\">stackoverflow.com/questions/2165022/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1959, "user_id": 297024, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e226de73136907720bac240869006028?s=128&d=identicon&r=PG", "display_name": "dbonneville", "link": "https://stackoverflow.com/users/297024/dbonneville"}, "edited": false, "score": 0, "creation_date": 1421696133, "post_id": 28032073, "comment_id": 44449076, "body": "I added use CGI, etc from your suggestion. The shell output now looks like this:   CGI=HASH(0x7fad440033f0)\t{&#39;date&#39;:&#39;20150112&#39;}, \t{&#39;date&#39;:&#39;20150105&#39;}, \t{&#39;date&#39;:&#39;20150101&#39;} ]}"}, {"owner": {"reputation": 841, "user_id": 3348338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yPya.jpg?s=128&g=1", "display_name": "Asheliahut", "link": "https://stackoverflow.com/users/3348338/asheliahut"}, "reply_to_user": {"reputation": 1959, "user_id": 297024, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e226de73136907720bac240869006028?s=128&d=identicon&r=PG", "display_name": "dbonneville", "link": "https://stackoverflow.com/users/297024/dbonneville"}, "edited": false, "score": 0, "creation_date": 1421697409, "post_id": 28032073, "comment_id": 44449772, "body": "thats an odd output. it seems like you are outputting the CGI variable. That would not be what you want to output. You just want to output the header line and the json."}], "tags": [], "owner": {"reputation": 841, "user_id": 3348338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yPya.jpg?s=128&g=1", "display_name": "Asheliahut", "link": "https://stackoverflow.com/users/3348338/asheliahut"}, "is_accepted": false, "score": 1, "last_activity_date": 1421695418, "creation_date": 1421695418, "answer_id": 28032073, "question_id": 28031964, "link": "https://stackoverflow.com/questions/28031964/how-to-create-and-access-a-json-file-using-perl-and-javascript/28032073#28032073", "title": "How to create and access a json file using Perl and Javascript", "body": "<p>You should include the following to your perl file.</p>\n\n<pre><code>use CGI;\nmy $cgi = new CGI;\n</code></pre>\n\n<p>Then print proper header for json or just use text plain before anything is printed. </p>\n\n<pre><code>print \"Content-Type: application/json\", \"\\n\\n\";\n\nprint \"Content-type: text/plain\", \"\\n\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1119, "user_id": 1938444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c73cf809bce30ffe55deba10f4b0efe?s=128&d=identicon&r=PG", "display_name": "mgamba", "link": "https://stackoverflow.com/users/1938444/mgamba"}, "is_accepted": false, "score": 0, "last_activity_date": 1421696251, "creation_date": 1421696251, "answer_id": 28032264, "question_id": 28031964, "link": "https://stackoverflow.com/questions/28031964/how-to-create-and-access-a-json-file-using-perl-and-javascript/28032264#28032264", "title": "How to create and access a json file using Perl and Javascript", "body": "<p>Check the <a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow\">jquery documentation for .ajax</a>. Looks like they chain <code>done</code>, <code>fail</code>, <code>always</code>, etc instead of specifying inside the first argument </p>\n\n<p>Example,</p>\n\n<pre><code>$.ajax({\n  url: \"cgi-bin/dates.cgi\",\n  async: false,\n  dataType: \"json\"\n})\n.done(function(data) {\n  dates = data;\n  alert(dates);\n  alert(\"done\");\n})\n.fail(function() {\n  alert(\"whoops\");\n})\n.always(function() {\n  alert( \"complete\" );\n});\n</code></pre>\n"}], "owner": {"reputation": 1959, "user_id": 297024, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e226de73136907720bac240869006028?s=128&d=identicon&r=PG", "display_name": "dbonneville", "link": "https://stackoverflow.com/users/297024/dbonneville"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1446385339, "creation_date": 1421695068, "last_edit_date": 1446385339, "question_id": 28031964, "link": "https://stackoverflow.com/questions/28031964/how-to-create-and-access-a-json-file-using-perl-and-javascript", "title": "How to create and access a json file using Perl and Javascript", "body": "<p>I'm not sure at all if I've approached this correctly. I've created a script in Perl that takes some simple data and creates a simple json formatted output. When I run it local in the shell, I can see the output is correct using a print commmand. The file is called \"dates.cgi\" and runs locally from the cgi-bin directory. When I try to access the file directly on my local web server, I get a 500 error. It's not a web page, of course, just json output. </p>\n\n<p>I figured that was a web server error. So I set up a standard jquery ajax call, but it too is failing.</p>\n\n<p>Here is the Perl script that prints to terminal correctly:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $dir = '../data';\nmy $json;\nmy @dates;\n\nopendir(DIR, $dir) or die $!;\n\nwhile (my $file = readdir(DIR)) {\n\n    # Use a regular expression to ignore files beginning with a period\n    next if ($file =~ m/^\\./);\n\n    # pluck out first 8 chars\n    my $temp = substr $file, 0, 8;\n\n    # populate array\n    push(@dates, $temp);\n\n}\nclosedir(DIR);\n\n# sort high to low\n@dates = sort { $b &lt;=&gt; $a } @dates;\n# print Dumper (@dates);\n\n# loop through array and create inner section of json\nmy $len = @dates;\n\nmy $x = 0;\nforeach (@dates){\n\n    if ($x &lt; $len-1){\n        $json .= \"\\t{'date':'$_'},\\n\";  \n    } else {\n        $json .= \"\\t{'date':'$_'}\\n\";\n    }\n\n    $x++;\n\n}\n\n# add json header and footer\n$json = \"{'dates':[\\n\" . $json;\n$json .= \"]}\";\n\n# print\nprint \"$json\\n\";\n</code></pre>\n\n<p>I'm trying to access it this way from a webpage to load the data in:</p>\n\n<pre><code>// load data json\n$.ajax({\n    url: \"cgi-bin/dates.cgi\",\n    async: false,\n    success: function (json) {\n        dates = json;\n        alert(dates);\n        alert(\"done\");\n    },\n    fail: function () {\n        alert(\"whoops\");\n    }\n    dataType: \"json\"\n});\n</code></pre>\n\n<p>It's just silently failing. Where do I look next?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 29, "user_id": 4046350, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97fa60de650565d7451fd5ed5f53056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuka I", "link": "https://stackoverflow.com/users/4046350/ebuka-i"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1421690905, "post_id": 28029058, "comment_id": 44446569, "body": "yeah TLP there is a perl algorithm for stemming. It is called porter.pm"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1421695256, "post_id": 28029058, "comment_id": 44448622, "body": "You should link to documentation, for example at metacpan.org, and perhaps mention that you are talking about a module."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4046350, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97fa60de650565d7451fd5ed5f53056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuka I", "link": "https://stackoverflow.com/users/4046350/ebuka-i"}, "edited": false, "score": 0, "creation_date": 1421694577, "post_id": 28029381, "comment_id": 44448263, "body": "Great. Yeah you are right. The code is 100%. Thanks @choroba!!!!!!!!!. You saved my day!!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1421685334, "creation_date": 1421685334, "answer_id": 28029381, "question_id": 28029058, "link": "https://stackoverflow.com/questions/28029058/how-do-i-preserve-certain-words-from-stopword-and-wildcard-removal-in-perl/28029381#28029381", "title": "How do I preserve certain words from stopword and wildcard removal in Perl", "body": "<p>Maybe, split each line into the code and comment first, then operate on the comment only:</p>\n\n<pre><code>my ($code, $comment) = split ' ', $reviewContent, 2;\nif ($code !~ /^d/) {         # I asume the header always starts with a \"d\".\n    $comment =~ s/[a-z_0-9\\.]*\\@[a-z_0-9\\.]*/ /g;\n    $comment =~ s/[^a-zA-Z\\']/ /g;\n    $comment =~ s/ +\\'/ /g;\n    $comment =~ s/\\' +/ /g;\n    $comment =~ s/[^\\w.-]/ /g;\n    $comment =~ s/[ ]+/ /g;\n    $comment =~ s/^\\s+//g;\n}\nprint \"$code $comment\\n\";\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4046350, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97fa60de650565d7451fd5ed5f53056f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuka I", "link": "https://stackoverflow.com/users/4046350/ebuka-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 28029381, "answer_count": 1, "score": 0, "last_activity_date": 1421685826, "creation_date": 1421684317, "last_edit_date": 1421685826, "question_id": 28029058, "link": "https://stackoverflow.com/questions/28029058/how-do-i-preserve-certain-words-from-stopword-and-wildcard-removal-in-perl", "title": "How do I preserve certain words from stopword and wildcard removal in Perl", "body": "<p>I have a large input file as:</p>\n\n<pre><code>d0 NoS19\ns0 This movie has been regarded as the cream of Hong Kong gangster and copmovie.\ns1 And has won 22 awards.\ns2 But we all know awards don't mean a thing sometimes.\n</code></pre>\n\n<p>I want to remove wildcards, stopwords and then stem the input. This is working fine for me. My problem is how to preserve the identifiers such as d0, NoS19, s0, s1, s2 etc from the wildcard, stem and stopword removal.</p>\n\n<p>I make use of porter stemmer, and have a file with an extensive list of stopwords,</p>\n\n<p>For my wilcard removal, this is what I did:</p>\n\n<pre><code>$reviewContent =~ tr/A-Z/a-z/; #transfer upper case to lower case\n\n$reviewContent =~ s/[a-z_0-9\\.]*\\@[a-z_0-9\\.]*/ /g; \n$reviewContent =~ s/[^a-zA-Z\\']/ /g; \n$reviewContent =~ s/ +\\'/ /g; \n$reviewContent =~ s/\\' +/ /g;\n$reviewContent  =~ s/[^\\w.-]/ /g; \n$reviewContent =~ s/[ ]+/ /g; \n$reviewContent =~ s/^\\s+//g;    \n</code></pre>\n\n<p>Any ideas please?</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1421682815, "post_id": 28028519, "comment_id": 44442108, "body": "What do you expect to happen when you convert a reference to a hash to a string? You need to pull the data you actually care about out of it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421684856, "post_id": 28028519, "comment_id": 44443318, "body": "If you can give a sample of XML and expected output, I&#39;ll draft an <code>XML::Twig</code> solution."}, {"owner": {"reputation": 35, "user_id": 3380032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H6olR.jpg?s=128&g=1", "display_name": "Wanexa", "link": "https://stackoverflow.com/users/3380032/wanexa"}, "edited": false, "score": 0, "creation_date": 1421685080, "post_id": 28028519, "comment_id": 44443446, "body": "&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;M3Monitors version=&quot;1.0&quot;&gt;   &lt;parameters/&gt;   &lt;category name=&quot;name&quot; description=&quot;Autojobs jobs currently running in the system&quot; count=&quot;61&quot; timestamp=&quot;2015-01-16T14:24:31&quot;&gt; trying to extract the count value"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421685225, "post_id": 28028519, "comment_id": 44443550, "body": "Probably easier to put that into your question."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1421685704, "post_id": 28028519, "comment_id": 44443826, "body": "Are you sure that&#39;s your XML? Because it&#39;s malformed - you don&#39;t close the &#39;M3Monitors&#39; tag, for example."}, {"owner": {"reputation": 35, "user_id": 3380032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H6olR.jpg?s=128&g=1", "display_name": "Wanexa", "link": "https://stackoverflow.com/users/3380032/wanexa"}, "edited": false, "score": 0, "creation_date": 1421741551, "post_id": 28028519, "comment_id": 44464587, "body": "hi, the xml is not malformed I didin&#39;t post the whole file and I forget to close the tag. Thanks for your answer it &#39;s working for the example but when I put the whole file it&#39;s not working."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421749056, "post_id": 28028519, "comment_id": 44468541, "body": "Give me a fuller example, and I&#39;ll give you a more accurate answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1421682983, "post_id": 28028588, "comment_id": 44442206, "body": "There&#39;s a summary of XML libraries on <a href=\"http://shadow.cat/blog/matt-s-trout/mstpan-3/\" rel=\"nofollow noreferrer\">mstpan</a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1421683058, "post_id": 28028588, "comment_id": 44442260, "body": "That&#39;s a good summary. I think <code>XML::Simple</code> is assumed to be telling the truth. SMTP and SNMP have much the same problem ;)"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 6, "creation_date": 1421683195, "post_id": 28028588, "comment_id": 44442333, "body": "The problem with <code>XML::Simple</code> is that the name makes people think it is a simple way to deal with XML instead of what it is, which is a way to deal with simple XML."}, {"owner": {"reputation": 35, "user_id": 3380032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H6olR.jpg?s=128&g=1", "display_name": "Wanexa", "link": "https://stackoverflow.com/users/3380032/wanexa"}, "edited": false, "score": 0, "creation_date": 1421684528, "post_id": 28028588, "comment_id": 44443120, "body": "the output of the dumper is the whole file, I &#39;m gonna check with XML::Twig"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1421684714, "post_id": 28028588, "comment_id": 44443234, "body": "What are you actually trying to extract from your XML? And can you give an example of your source? <code>XML::Twig</code> has the same problem - it&#39;s not psychic, you need to tell it what to extract."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1421685858, "last_edit_date": 1421685858, "creation_date": 1421682916, "answer_id": 28028588, "question_id": 28028519, "link": "https://stackoverflow.com/questions/28028519/xmlsimple-and-annoying-output/28028588#28028588", "title": "XML::Simple and Annoying Output", "body": "<p>That's because when you parse your XML, it turns it into a perl data structure - typically a hash, and because XML is hierarchical, that'll probably mean a hash of hashes. </p>\n\n<p>To print it out, you need to 'unpack' the hash. Usually that's called 'pretty_printing'. In <code>XML::Simple</code>, that's <code>XMLout</code>. </p>\n\n<p>Or you can iterate on the hash keys, but bear in mind you may need to recurse several layers if you do that. </p>\n\n<p>Alternatively, you can use <code>Data::Dumper</code>:</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper (\\$data); \n</code></pre>\n\n<p>Personally, I'd suggest also looking at one of the XML libraries - <code>XML::Simple</code> isn't. (I like <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a>)</p>\n\n<p>Based on comments above:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $xml =\n    '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;M3Monitors version=\"1.0\"&gt; &lt;parameters/&gt; &lt;category name=\"name\" description=\"Autojobs jobs currently running in the system\" count=\"61\" timestamp=\"2015-01-16T14:24:31\"/&gt;&lt;/M3Monitors&gt;';\n\nmy $parser = XML::Twig-&gt;new();\n$parser-&gt;parse($xml);\n\nmy $count = $parser-&gt;root-&gt;first_child('category')-&gt;att('count');\nprint $count;\n</code></pre>\n\n<p>Although note - I've had to amend your XML, because the bit that's in the comment is malformed. If you're getting malformed XML as your source data, then XML parsing is going to be very painful - the design spec of XML says 'broken XML is fatal' <a href=\"http://www.w3schools.com/xml/xml_validator.asp\" rel=\"nofollow\">http://www.w3schools.com/xml/xml_validator.asp</a></p>\n\n<p>I have edited it - this is bad form, but I have done so purely to illustrate how <code>XML::Twig</code> 'does it'. You should never try to 'fix' broken XML normally. It's a data structure, and if it's not valid, it's not valid. It's simply not safe to make assumptions about what it <em>should</em> be. </p>\n"}], "owner": {"reputation": 35, "user_id": 3380032, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/H6olR.jpg?s=128&g=1", "display_name": "Wanexa", "link": "https://stackoverflow.com/users/3380032/wanexa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421742272, "creation_date": 1421682710, "last_edit_date": 1421683720, "question_id": 28028519, "link": "https://stackoverflow.com/questions/28028519/xmlsimple-and-annoying-output", "title": "XML::Simple and Annoying Output", "body": "<p>I'm trying to parse a XML file, and I get all the time an output like </p>\n\n<pre><code>HASH(0x2aed088)\n</code></pre>\n\n<p>here is my code</p>\n\n<pre><code>$xml = new XML::Simple;\n$data = $xml-&gt;XMLin('test',keyattr =&gt; { 'name' =&gt; 'count' });\n$check = sprintf($data);\nprint $check.\"\\n\";\n</code></pre>\n\n<p>Can you help me ?</p>\n\n<p>Bests</p>\n"}, {"tags": ["apache", "perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 150, "user_id": 1296304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a99789d0da4c5daf7836ae20def276e?s=128&d=identicon&r=PG", "display_name": "Stovey", "link": "https://stackoverflow.com/users/1296304/stovey"}, "is_accepted": false, "score": 0, "last_activity_date": 1432322354, "creation_date": 1432322354, "answer_id": 30404370, "question_id": 28028229, "link": "https://stackoverflow.com/questions/28028229/cgid-error-on-apache-2-4-10/30404370#30404370", "title": "CGID error on Apache 2.4.10", "body": "<p>The same message appears repeatedly in our logs after recently upgrading Apache from 2.4.9 to 2.4.12, yet everything in our web application continues to work as it did before.</p>\n\n<p>Recent Apache source code contains these lines in modules/generators/mod_cgid.c:</p>\n\n<pre><code>rv = ap_pass_brigade(r-&gt;output_filters, bb);\nif (rv != APR_SUCCESS) { \n        /* APLOG_ERR because the core output filter message is at error,\n         * but doesn't know it's passing CGI output \n         */\n        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r, APLOGNO(02550) \"Failed to flush CGI output to client\");\n    }\n</code></pre>\n\n<p>...whereas in earlier versions it just had:</p>\n\n<pre><code>ap_pass_brigade(r-&gt;output_filters, bb);\n</code></pre>\n\n<p>So if I'm reading this right, Apache used to ignore the return value of the function in this context, and more recently somebody decided it might be important.</p>\n\n<p>If you feel the message is uselessly cluttering up your logfiles, you might try changing the APLOG_ERR constant to APLOG_INFO or APLOG_DEBUG, and compiling it that way.</p>\n"}], "owner": {"reputation": 47, "user_id": 4095154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fdc63859b0cb4348f4afc40d7a1d3fc?s=128&d=identicon&r=PG&f=1", "display_name": "mjp", "link": "https://stackoverflow.com/users/4095154/mjp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4341, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1505414475, "creation_date": 1421681870, "question_id": 28028229, "link": "https://stackoverflow.com/questions/28028229/cgid-error-on-apache-2-4-10", "title": "CGID error on Apache 2.4.10", "body": "<p>After updating to Apache 2.4.10 on an internal web site, the error log is constantly showing messages like the one below.</p>\n\n<p>[Mon Jan 19 09:04:40.191633 2015] [cgid:error] [pid 4915436:tid 2314] (32)Broken pipe: [client x.x.x.x:60715] AH02550: Failed to flush CGI output to client</p>\n\n<p>This message comes up when the home page is called. The page will load correctly for clients, but the page does not use CGI at all.</p>\n\n<p>For a page that pulls a large amount of data, the page times out after about one minute. I've set the CGIDScriptTimout to 300, but that did not help.</p>\n\n<p>The web pages are Perl programs.</p>\n\n<p>Has anyone else seen this error?  Any help is appreciated.</p>\n"}, {"tags": ["perl", "catalyst"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421681006, "post_id": 28027753, "comment_id": 44440996, "body": "Do you need to <code>use MyApp::Controller::Def;</code> somewhere? I can&#39;t pick out what <code>$c</code> is an instance of, so would tend to assume something&#39;s missing in your code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1421681808, "post_id": 28027753, "comment_id": 44441487, "body": "<code>@_</code> contains a sub/methods&#39;s arguments. You&#39;re accessing it when the module is loaded. Why?! Not surprisingly, it&#39;s empty, so you assign <code>undef</code> to <code>$self</code>."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1421687255, "post_id": 28027753, "comment_id": 44444735, "body": "More specifically: the four lines starting with <code>my</code> look like they belong in a method (which in Perl is a special kind of <code>sub</code>). You are not using them inside a <code>sub</code> at all.  Where did you find them?  You will no doubt notice that they are inside a <code>sub</code>."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1421927986, "creation_date": 1421927986, "answer_id": 28088255, "question_id": 28027753, "link": "https://stackoverflow.com/questions/28027753/cant-call-method-context-on-an-undefined-value/28088255#28088255", "title": "Can&#39;t call method &quot;context&quot; on an undefined value", "body": "<p>The root cause here appears to be that you're not instantiating your objects properly. </p>\n\n<p>Using:</p>\n\n<pre><code>$self = shift;\n</code></pre>\n\n<p>is an object oriented notation, and it makes no sense if you're doing it outside a subroutine - which is what appears to be happening here. And more specifically - a subroutine that's called as a method, using <code>$object -&gt; subname($some_parameter);</code>. If you do this, then perl passes a reference to the object as the first argument to the subroutine - which is where things like:</p>\n\n<pre><code>sub my_method { \n    my $self = shift;\n    $self -&gt; {some_attribute} = 1;\n    $self -&gt; some_other_method(@args);\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>sub some_other_method { \n    my ( $self, @args ) = @_;\n    foreach ( @args ) { \n         print;\n    }\n}\n</code></pre>\n\n<p>type notation kicks in. </p>\n\n<p>You're not doing this - you're 'shifting' in the body of a module, which will have no <code>@_</code> it's undefined, and then you're trying to call a <code>context</code> method within an undefined object. Hence the error. <code>get_token_id</code> has the same root cause. </p>\n\n<p>I can't easily offer advice on how to fix it, because it's hard to be sure what you're actually trying to do. I would suggest reviewing how OO perl works though, as a refresher might be beneficial. </p>\n"}], "owner": {"reputation": 129, "user_id": 3477387, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/QK4UC.jpg?s=128&g=1", "display_name": "Jallipalli Phanindra", "link": "https://stackoverflow.com/users/3477387/jallipalli-phanindra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421927986, "creation_date": 1421680326, "question_id": 28027753, "link": "https://stackoverflow.com/questions/28027753/cant-call-method-context-on-an-undefined-value", "title": "Can&#39;t call method &quot;context&quot; on an undefined value", "body": "<p>I am trying to call subroutines from one controller file to another when I am writing the following code:</p>\n\n<p>Abc.pm This is the file I have the code that I need to call a subroutine to another controller file. The following subroutine I need to call. </p>\n\n<pre><code>package MyApp::Controller::Abc;\nuse Moose;\nuse IO::File;\nuse Data::Dumper;\nuse MyApp::MyConfig;\nuse MyApp::DateUtils;\nuse MyApp::Arrs::API;\nuse MyApp::Constants;\nuse namespace::autoclean;\n\nsub get_token_id :Private\n    {\n    my $self = shift;\n    my $c = $self-&gt;context;\n    my $myDBI = $c-&gt;model('MyDBI')-&gt;new;\n    return $myDBI-&gt;get_token_id;\n    }\n</code></pre>\n\n<p>The above code I need to call to Def.pm file. Now I am calling as following:</p>\n\n<pre><code>package MyApp::Controller::Def;\nuse Moose;\nuse namespace::autoclean;\nuse MyApp::Utils;\n\nBEGIN { extends 'Catalyst::Controller'; }\nmy($self, $c) = @_;\nmy ($State, $Zip, $Country) = @_;\nmy $tokenid        = $self-&gt;get_token_id;\n</code></pre>\n\n<p>I am getting the following error:\n<strong>Can't call method \"get_token_id\" on an undefined value</strong> </p>\n\n<p>But I need to call as following only:</p>\n\n<p>When I am using the following code:</p>\n\n<pre><code>package MyApp::Controller::Def;\nuse Moose;\nuse namespace::autoclean;\nuse MyApp::Utils;\n\nBEGIN { extends 'Catalyst::Controller'; }\nmy $self = shift;\nmy $c = $self-&gt;context;\nmy ($State, $Zip, $Country) = @_;\nmy $coid        = $self-&gt;get_token_id;\n</code></pre>\n\n<p>I am getting this error:\n<strong>Can't call method \"context\" on an undefined value</strong></p>\n\n<p>Can any one help me why I am getting this error.</p>\n\n<p>Thanks in advance...</p>\n"}, {"tags": ["perl", "hash", "reference"], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 897237, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/43d3e5f985d4f0c3920bad8f0941242b?s=128&d=identicon&r=PG", "display_name": "user897237", "link": "https://stackoverflow.com/users/897237/user897237"}, "edited": false, "score": 2, "creation_date": 1421679028, "post_id": 28026911, "comment_id": 44439757, "body": "Thanks. I usually/always use <code>use strict; use warnings;</code> but cutted them for simplification ."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1421678066, "last_edit_date": 1421678066, "creation_date": 1421677763, "answer_id": 28026911, "question_id": 28026857, "link": "https://stackoverflow.com/questions/28026857/filling-hash-by-reference-in-a-procedure/28026911#28026911", "title": "Filling hash by reference in a procedure", "body": "<p>You might want to initialize hashref first,</p>\n\n<pre><code>my $hash_ref = {};\n</code></pre>\n\n<p>as autovivification happens inside function to another lexical variable.</p>\n\n<p>(Not so good) alternative is to use scalars inside <code>@_</code> array which are directly aliased to original variables,</p>\n\n<pre><code>$_[0]{$lid} = $sid;\n</code></pre>\n\n<p>And btw, consider <code>use strict; use warnings;</code> to all your scripts.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1421681950, "last_edit_date": 1421681950, "creation_date": 1421680293, "answer_id": 28027738, "question_id": 28026857, "link": "https://stackoverflow.com/questions/28026857/filling-hash-by-reference-in-a-procedure/28027738#28027738", "title": "Filling hash by reference in a procedure", "body": "<p>The caller's <code>$hash_ref</code> is undefined. The <code>$hash_ref</code> in the sub is therefore undefined too. <code>$hash_ref-&gt;{$lid} = $sid;</code> autovivifies the sub's <code>$hash_ref</code>, but nothing assigns that hash reference to the caller's <code>$hash_ref</code>.</p>\n\n<p><strong>Solution 1</strong>: Actually passing in a hash ref to assign to the caller's <code>$hash_ref</code>.</p>\n\n<pre><code>sub genHash {\n    my ($hash_ref) = @_;\n    ...\n}\n\nmy $hash_ref = {};\ngenHash($hash_ref);\n</code></pre>\n\n<p><strong>Solution 2</strong>: Taking advantage of the fact that Perl passes by reference.</p>\n\n<pre><code>sub genHash {\n    my $hash_ref = $_[0] ||= {};\n    ...\n}\n\nmy $hash_ref;\ngenHash($hash_ref);\n   -or-\ngenHash(my $hash_ref);\n</code></pre>\n\n<p><strong>Solution 3</strong>: If the hash is going to be empty initially, why not just create it in the sub?</p>\n\n<pre><code>sub genHash {\n    my %hash;\n    ...\n    return \\%hash;\n}\n\nmy $hash_ref = genHash();\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 897237, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/43d3e5f985d4f0c3920bad8f0941242b?s=128&d=identicon&r=PG", "display_name": "user897237", "link": "https://stackoverflow.com/users/897237/user897237"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 28026911, "answer_count": 2, "score": 0, "last_activity_date": 1549697936, "creation_date": 1421677600, "last_edit_date": 1549697936, "question_id": 28026857, "link": "https://stackoverflow.com/questions/28026857/filling-hash-by-reference-in-a-procedure", "title": "Filling hash by reference in a procedure", "body": "<p>I'm trying to call a procedure, which is filling a hash by reference. The reference to the hash is given as a parameter. The procedure fills the hash, but when I return, the hash is empty. Please see the code below.\nWhat is wrong?</p>\n\n<pre><code>$hash_ref;\ngenHash ($hash_ref);\n#hash is empty\n\n\nsub genHash {\n    my ($hash_ref)=(@_);\n    #cut details; filling hash in a loop like this:\n    $hash_ref-&gt;{$lid} = $sid;\n    #hash is generetad , filled and i can dump it\n}\n</code></pre>\n"}, {"tags": ["perl", "file", "perl-module", "scp", "transfer"], "answers": [{"comments": [{"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "reply_to_user": {"reputation": 41, "user_id": 4453345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898baa37f44edd28835a6ebac0262edb?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Loki", "link": "https://stackoverflow.com/users/4453345/lokesh-loki"}, "edited": false, "score": 0, "creation_date": 1421684266, "post_id": 28023547, "comment_id": 44442947, "body": "@LokeshLoki What do you mean? Is the variable empty? Where did you put the <code>chomp</code> statement?"}, {"owner": {"reputation": 41, "user_id": 4453345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898baa37f44edd28835a6ebac0262edb?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Loki", "link": "https://stackoverflow.com/users/4453345/lokesh-loki"}, "edited": false, "score": 0, "creation_date": 1421729191, "post_id": 28023547, "comment_id": 44460054, "body": "use Net::SCP::Expect;  my $src_path = &quot;//*&quot;; my $dst_path = &quot;/&quot;;   #print &quot;enter Source path\\n&quot;; #my $src_path = &lt;&gt;;  #print &quot;enter Destination path\\n&quot;; #my $dst_path = &lt;&gt;;  my $scpe = Net::SCP::Expect-&gt;new(); chomp($username); chomp($pass); $scpe-&gt;login($username, $pass);  $scpe-&gt;scp($host.&quot;:&quot;.$src_path, $dst_path);"}, {"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "reply_to_user": {"reputation": 41, "user_id": 4453345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898baa37f44edd28835a6ebac0262edb?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Loki", "link": "https://stackoverflow.com/users/4453345/lokesh-loki"}, "edited": false, "score": 0, "creation_date": 1421735302, "post_id": 28023547, "comment_id": 44462075, "body": "@LokeshLoki Look at the documentation and my edit. You should not use the return value, <code>chomp</code> modifies the given variable"}], "tags": [], "owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "is_accepted": false, "score": 1, "last_activity_date": 1421735270, "last_edit_date": 1421735270, "creation_date": 1421666729, "answer_id": 28023547, "question_id": 28023429, "link": "https://stackoverflow.com/questions/28023429/how-to-give-user-name-and-password-as-a-input-in-scp-module/28023547#28023547", "title": "how to give user name and password as a input in scp module?", "body": "<p>All three variables you are reading also contain the <code>\\n</code> at the end.</p>\n\n<p>Remove it with <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code></a></p>\n\n<pre><code>chomp $username;\nchomp $pass;\nchomp $host;\n</code></pre>\n\n<p>Beware that the password will be visible on the user's screen. You could take a look at <a href=\"http://search.cpan.org/~phoenix/Term-ReadPassword-0.11/ReadPassword.pm\" rel=\"nofollow\">Term::ReadPassword</a> to avoid echoing of the characters on the screen.</p>\n\n<p><strong>Edit</strong></p>\n\n<p><code>chomp</code> modifies the supplied variable and return the number of characters removed. In your case <code>chomp($username)</code> will return 1 as it removed one character. You have to call it before <code>scp</code></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Net::SCP::Expect;\n\nprint \"enter user name\\n\";\nmy $username = &lt;&gt;;\nchomp($username);             ### Here\n\nprint \"enter password\\n\";\nmy $pass = &lt;&gt;;\nchomp($pass);                 ### Here\n\nprint \"enter host name\\n\";\nmy $host = &lt;&gt;;\nchomp($host);                 ### Here\n\nmy $src_path = '/';\nmy $dst_path = '/';\n\nmy $scpe = Net::SCP::Expect-&gt;new(\n    user     =&gt; $username,\n    password =&gt; $pass,\n    auto_yes =&gt; '1'\n);\n$scpe-&gt;scp( $host . ':' . $src_path, $dst_path );\n</code></pre>\n\n<p>From the linked documentation (emphasis mine)</p>\n\n<pre>\n    chomp( LIST )\n    chomp   This safer version of \"chop\" removes any trailing string that\n            corresponds to the current value of $/ (also known as\n            $INPUT_RECORD_SEPARATOR in the \"English\" module). <b>It returns the\n            total number of characters removed from all its arguments.</b> It's\n            often used to remove the newline from the end of an input record\n            when you're worried that the final record may be missing its\n            newline. When in paragraph mode (\"$/ = \"\"\"), it removes all\n            trailing newlines from the string. When in slurp mode (\"$/ =\n            undef\") or fixed-length record mode ($/ is a reference to an\n            integer or the like; see perlvar) chomp() won't remove anything.\n            If VARIABLE is omitted, it chomps $_. Example:\n\n                while () {\n                    chomp;  # avoid \\n on last field\n                    @array = split(/:/);\n                    # ...\n                }\n\n            If VARIABLE is a hash, it chomps the hash's values, but not its\n            keys, resetting the \"each\" iterator in the process.\n\n            You can actually chomp anything that's an lvalue, including an\n            assignment:\n\n                chomp($cwd = `pwd`);\n                chomp($answer = );\n\n            If you chomp a list, each element is chomped, and the total number\n            of characters removed is returned.\n\n            Note that parentheses are necessary when you're chomping anything\n            that is not a simple variable. This is because \"chomp $cwd =\n            `pwd`;\" is interpreted as \"(chomp $cwd) = `pwd`;\", rather than as\n            \"chomp( $cwd = `pwd` )\" which you might expect. Similarly, \"chomp\n            $a, $b\" is interpreted as \"chomp($a), $b\" rather than as\n            \"chomp($a, $b)\".\n</pre>\n"}], "owner": {"reputation": 41, "user_id": 4453345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/898baa37f44edd28835a6ebac0262edb?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh Loki", "link": "https://stackoverflow.com/users/4453345/lokesh-loki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421735270, "creation_date": 1421666363, "question_id": 28023429, "link": "https://stackoverflow.com/questions/28023429/how-to-give-user-name-and-password-as-a-input-in-scp-module", "title": "how to give user name and password as a input in scp module?", "body": "<p>I am trying to copy a files from one host to another host using :</p>\n\n<pre><code>  Net::SCP::Expect\n</code></pre>\n\n<p>here is my program.</p>\n\n<pre><code>use strict;\nuse Net::SCP::Expect;\n\nprint \"enter user name\\n\";\nmy $username = &lt;&gt;;\n\nprint \"enter password\\n\";\nmy $pass = &lt;&gt;;\n\n\nprint \"enter host name\\n\";\nmy $host = &lt;&gt;;\n\nmy $src_path = \"/\";\nmy $dst_path = \"/\";\n\n\n\n\nmy $scpe = Net::SCP::Expect-&gt;new(user=&gt;$username, password=&gt;$pass,     auto_yes=&gt; '1');\n$scpe-&gt;scp($host.\":\".$src_path, $dst_path);\n</code></pre>\n\n<p>I am getting error as bad password.how to give user name and password as a input in scp module?</p>\n"}, {"tags": ["perl", "file-watcher"], "comments": [{"owner": {"reputation": 1572, "user_id": 1197030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzZBK.jpg?s=128&g=1", "display_name": "Joeblade", "link": "https://stackoverflow.com/users/1197030/joeblade"}, "edited": false, "score": 0, "creation_date": 1421660931, "post_id": 28021690, "comment_id": 44429545, "body": "Please format the code to improve readability."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421661545, "post_id": 28021690, "comment_id": 44429867, "body": "I&#39;ve just tried to reformat/fix your code - what you&#39;ve pasted there. It&#39;s a) incompleted, and b) issue warnings. Fix warnings, turn on <code>use strict</code> and format your code and you&#39;ll get much better answers."}, {"owner": {"reputation": 539, "user_id": 3413587, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/043481860adb4656be6005e5cd50041e?s=128&d=identicon&r=PG&f=1", "display_name": "prasannads", "link": "https://stackoverflow.com/users/3413587/prasannads"}, "reply_to_user": {"reputation": 1572, "user_id": 1197030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzZBK.jpg?s=128&g=1", "display_name": "Joeblade", "link": "https://stackoverflow.com/users/1197030/joeblade"}, "edited": false, "score": 0, "creation_date": 1421661593, "post_id": 28021690, "comment_id": 44429898, "body": "@joeblade im not able to edit in a way to put the code in separate lines. it shows error then."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1421661688, "post_id": 28021690, "comment_id": 44429947, "body": "I&#39;ve applied an edit to fix formatting. I&#39;ve had to add a trailing bracket, because one was missing. Please can you check that code as edited is what you&#39;ve got?"}, {"owner": {"reputation": 539, "user_id": 3413587, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/043481860adb4656be6005e5cd50041e?s=128&d=identicon&r=PG&f=1", "display_name": "prasannads", "link": "https://stackoverflow.com/users/3413587/prasannads"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421661790, "post_id": 28021690, "comment_id": 44430004, "body": "@Sobrique thank you. yes it is."}, {"owner": {"reputation": 1572, "user_id": 1197030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzZBK.jpg?s=128&g=1", "display_name": "Joeblade", "link": "https://stackoverflow.com/users/1197030/joeblade"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421661878, "post_id": 28021690, "comment_id": 44430055, "body": "looking much better :) thanks @Sobrique"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 3756914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca3371d889b37b4517b978c46580b6d?s=128&d=identicon&r=PG&f=1", "display_name": "davidc", "link": "https://stackoverflow.com/users/3756914/davidc"}, "is_accepted": false, "score": 0, "last_activity_date": 1492621191, "creation_date": 1492621191, "answer_id": 43501848, "question_id": 28021690, "link": "https://stackoverflow.com/questions/28021690/file-watching-in-a-directory-using-perl/43501848#43501848", "title": "file watching in a directory using perl", "body": "<p>presuming you are running under Linux, use Linux::Inotify2...</p>\n\n<pre><code>use Linux::Inotify2;\n\n# create an Inotify object\nmy $Inotify = Linux::Inotify2-&gt;new() or die \"Fail: $!\";\n\n# choose which operations for which you wish to be notified\nmy $watchme = IN_CLOSE_WRITE | IN_CREATE | IN_MOVED_TO; # defined and exported\n\n$Inotify-&gt;watch('/root/prasanna/dir', $watchme, \\&amp;watcher) or die \"Fail: $!\";\n\nwhile (1) {\n    $Inotify-&gt;poll;\n}\n\nsub watcher\n{\n  # do something here\n}\n</code></pre>\n\n<p>Note it can only monitor local filesystems (i.e. no NFS mounts)</p>\n"}], "owner": {"reputation": 539, "user_id": 3413587, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/043481860adb4656be6005e5cd50041e?s=128&d=identicon&r=PG&f=1", "display_name": "prasannads", "link": "https://stackoverflow.com/users/3413587/prasannads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 461, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1492621191, "creation_date": 1421660708, "last_edit_date": 1421661635, "question_id": 28021690, "link": "https://stackoverflow.com/questions/28021690/file-watching-in-a-directory-using-perl", "title": "file watching in a directory using perl", "body": "<p>i need to watch files that fall under a directory.I have coded the below script in perl . but it is not doing what i want . </p>\n\n<ol>\n<li>whenever a file or files arrives , it has to do a movement .</li>\n<li>And then it has to keep watching files again.</li>\n<li><p>the script should be running in background.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse File::Copy qw(move);\n$src_dir = '/root/prasanna/dir';\n$tgt_dir = '/root/prasanna/dir/dir1';\nwhile (true) {\n    opendir( DIR, \"/root/prasanna/dir\" )\n        or die \"Cannot open  /root/prasanna/dir: $!\\n\";\n    my @Dircontent = readdir DIR;\n    close DIR;\n    my $items = @Dircontent;\n    if ( $items &gt; 2 ) {\n        print \"files available\";\n        while ($items) {\n            print $items;\n            move $src_dir. '/' . $items, $tgt_dir . '/' . $items;\n            unlink $items;\n        }\n    }\n    else { sleep 50; }\n}\n</code></pre></li>\n</ol>\n\n<p>The problem with the above code is \n1. the if statement keeps on printing the 'files available' . goes on infinite loop , it doesnt watch for files again .even if i do operations on file, i dont knw how to make it look for files again.\n2. the script doesnt run in background . </p>\n\n<p>any help is highly appreciated . thanks beforehand.!</p>\n"}, {"tags": ["perl", "absolute-path"], "comments": [{"owner": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "edited": false, "score": 1, "creation_date": 1421652569, "post_id": 28019560, "comment_id": 44425900, "body": "You need to use forward slashes instead of backslashes."}, {"owner": {"reputation": 23, "user_id": 4461190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dc4bfcb4ad44c64f022f707d3768a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mukta", "link": "https://stackoverflow.com/users/4461190/mukta"}, "reply_to_user": {"reputation": 347, "user_id": 3172948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b2e93cbea6404b437732a718123728d4?s=128&d=identicon&r=PG&f=1", "display_name": "ProfGhost", "link": "https://stackoverflow.com/users/3172948/profghost"}, "edited": false, "score": 0, "creation_date": 1421656720, "post_id": 28019560, "comment_id": 44427512, "body": "Thanks. I did try the same with forward slashes as well like : my $source_dir = &#39;C:/Tools/MyTool/Scripts&quot;; my $destination_dir = &quot;C:/Tools/MyTool/Scripts_Copy&quot;; but still no luck"}, {"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 1, "creation_date": 1421656916, "post_id": 28019560, "comment_id": 44427591, "body": "You are using <code>fcopy</code>which is for copying <i>files</i>. I suggest using <code>rcopy</code>instead. The latter function uses <code>dircopy</code>or <code>fcopy</code>depending on whether it has to copy a file or a directory.  For detailed description see <a href=\"http://search.cpan.org/~dmuey/File-Copy-Recursive-0.38/Recursive.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~dmuey/File-Copy-Recursive-0.38/Recursive.pm</a>"}, {"owner": {"reputation": 23, "user_id": 4461190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dc4bfcb4ad44c64f022f707d3768a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mukta", "link": "https://stackoverflow.com/users/4461190/mukta"}, "edited": false, "score": 0, "creation_date": 1421657676, "post_id": 28019560, "comment_id": 44427909, "body": "Thank you. Using rcopy was the right way indeed!"}], "answers": [{"tags": [], "owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "is_accepted": true, "score": 2, "last_activity_date": 1421658460, "creation_date": 1421658460, "answer_id": 28021074, "question_id": 28019560, "link": "https://stackoverflow.com/questions/28019560/perl-how-to-provide-full-or-absolute-path-to-fcopy-function/28021074#28021074", "title": "Perl how to provide full or absolute path to fcopy() function", "body": "<p><code>fcopy</code> is only for copying <em>files</em>, <code>dircopy</code> for copying directories.\nUse <code>rcopy</code> which decides to use the appropriate function, depending on whether it has to copy a file or a directory.</p>\n\n<p>For a detailed description, please refer to the <a href=\"http://search.cpan.org/~dmuey/File-Copy-Recursive-0.38/Recursive.pm\" rel=\"nofollow\">CPAN documentation of File::Copy::Recursive</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 4461190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88dc4bfcb4ad44c64f022f707d3768a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mukta", "link": "https://stackoverflow.com/users/4461190/mukta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 28021074, "answer_count": 1, "score": 1, "last_activity_date": 1421658460, "creation_date": 1421651492, "last_edit_date": 1421651521, "question_id": 28019560, "link": "https://stackoverflow.com/questions/28019560/perl-how-to-provide-full-or-absolute-path-to-fcopy-function", "title": "Perl how to provide full or absolute path to fcopy() function", "body": "<p>I am new to perl and want to write a basic program to copy the entire directory contents to another directory. My first hurdle is that I need to give the absolute path for source and destination and I can't seem to get the following code to do that:</p>\n\n<pre><code>use strict; \nuse warnings;\nuse File::Copy;\nuse File::Copy::Recursive qw(fcopy rcopy dircopy fmove rmove dirmove);\n\nmy $source_dir = \"C:\\\\Tools\\\\MyTool\\\\Scripts\";\nmy $destination_dir = \"C:\\\\Tools\\\\MyTool\\\\Scripts_Copy\";\n\nfcopy($source_dir,$destination_dir) or die $!;\n</code></pre>\n\n<p>When I execute this, I get the error that the \"No such file or directory\" </p>\n"}, {"tags": ["perl", "selenium"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1421650660, "post_id": 28019362, "comment_id": 44425156, "body": "show what you tried with LWP::Simple - it (or LWP::UserAgent) is the appropriate tool to use"}, {"owner": {"reputation": 21, "user_id": 4468887, "user_type": "registered", "profile_image": "https://graph.facebook.com/743349625/picture?type=large", "display_name": "Sushri", "link": "https://stackoverflow.com/users/4468887/sushri"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1421654595, "post_id": 28019362, "comment_id": 44426705, "body": "Thanks , LWP :: Simple works well for the link $url=&quot;<a href=\"http://www.ncbi.nlm.nih.gov/pubmed/25582922\" rel=\"nofollow noreferrer\">ncbi.nlm.nih.gov/pubmed/25582922</a>&quot;; However, when I tried the url     $url=&quot;source-code:<a href=\"http://www.ncbi.nlm.nih.gov/pubmed/25582922\" rel=\"nofollow noreferrer\">ncbi.nlm.nih.gov/pubmed/25582922</a>&quot;; , it doesn&#39;t work"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1421681383, "post_id": 28019362, "comment_id": 44441219, "body": "why are you trying with &quot;source-code:&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1436811670, "creation_date": 1436811670, "answer_id": 31390646, "question_id": 28019362, "link": "https://stackoverflow.com/questions/28019362/get-page-source-code-with-wwwselenium/31390646#31390646", "title": "Get page source code with WWW::Selenium?", "body": "<p>Use the <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"nofollow\">Selenium::Remote::Driver</a> module and do the below</p>\n\n<pre><code>use Selenium::Remote::Driver;\n\nmy $driver = Selenium::Remote::Driver-&gt;new;\n$driver-&gt;get('http://www.ncbi.nlm.nih.gov/pubmed/25582922');\nprint $driver-&gt;get_page_source();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1436812128, "creation_date": 1436812128, "answer_id": 31390777, "question_id": 28019362, "link": "https://stackoverflow.com/questions/28019362/get-page-source-code-with-wwwselenium/31390777#31390777", "title": "Get page source code with WWW::Selenium?", "body": "<p>You can use <code>LWP::Simple</code>, like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::Simple;\n\nmy $url = 'http://www.ncbi.nlm.nih.gov/pubmed/25582922';\n\nmy $out = get $url;\nopen my $fh, '&gt;', 'testing_ncbi.html' or die $!;\nprint $fh $out, \"\\n\";\n</code></pre>\n\n<p>and <code>testing_ncbi.html</code> will contain the HTML source code</p>\n\n<p>I don't know where you got the idea to add <code>source-code:</code> but it doesn't mean anything in a URL</p>\n"}], "owner": {"reputation": 21, "user_id": 4468887, "user_type": "registered", "profile_image": "https://graph.facebook.com/743349625/picture?type=large", "display_name": "Sushri", "link": "https://stackoverflow.com/users/4468887/sushri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1436812128, "creation_date": 1421650521, "last_edit_date": 1421650595, "question_id": 28019362, "link": "https://stackoverflow.com/questions/28019362/get-page-source-code-with-wwwselenium", "title": "Get page source code with WWW::Selenium?", "body": "<p>I am trying to get the source code of a web-page. I tried using LWP::Simple, but it didn't help. I installed WWW::Selenium package using ppm and but get the error \"undefined subroutine &amp;main::get_html_source called at line 6.\"</p>\n\n<p>here's the code I used.</p>\n\n<pre><code>use LWP::UserAgent;\nuse HTTP::Request;\nuse HTTP::Response;\nuse WWW::Selenium;\n$url=\"http://www.ncbi.nlm.nih.gov/pubmed/25582922\";\n$out = getHtmlSource($url) or die \"could not get the url $url \\n\";\nopen(file, \"&gt;testing_ncbi.txt\");\nprint file \"$out\\n\";\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["multithreading", "perl", "fork"], "comments": [{"owner": {"reputation": 1078, "user_id": 734744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3a20b00349cbb9c96c21c307a74487a7?s=128&d=identicon&r=PG", "display_name": "Sameer Naik", "link": "https://stackoverflow.com/users/734744/sameer-naik"}, "edited": false, "score": 0, "creation_date": 1421645987, "post_id": 28018461, "comment_id": 44423810, "body": "You can execute your curl in background with &#39;&amp;&#39;. but then you need its pid to know when it finished and what was the status."}, {"owner": {"reputation": 443, "user_id": 3981589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/901e8e23857d38b276b9cd51118b7716?s=128&d=identicon&r=PG", "display_name": "ck reddy", "link": "https://stackoverflow.com/users/3981589/ck-reddy"}, "reply_to_user": {"reputation": 1078, "user_id": 734744, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3a20b00349cbb9c96c21c307a74487a7?s=128&d=identicon&r=PG", "display_name": "Sameer Naik", "link": "https://stackoverflow.com/users/734744/sameer-naik"}, "edited": false, "score": 0, "creation_date": 1421646757, "post_id": 28018461, "comment_id": 44423987, "body": "thank you very much but I missed my actual query. In my function I  should return a result if I found it and same time if that result is old (according to our indexed date) I need to update it same time but I don&#39;t want my controller to wait till I update it needs to return the old result."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1421679961, "last_edit_date": 1421679961, "creation_date": 1421662550, "answer_id": 28022245, "question_id": 28018461, "link": "https://stackoverflow.com/questions/28018461/multithreading-or-forking-in-perl/28022245#28022245", "title": "multithreading or forking in perl", "body": "<p>It's difficult to give an answer to your question, because it depends. </p>\n\n<p>Yes, Perl supports both forking and threading. </p>\n\n<p>In general, I would suggest looking at threading for data-oriented tasks, and forking for almost anything else. </p>\n\n<p>And so what you want to so is eminently achievable.</p>\n\n<p>First you need to:</p>\n\n<ul>\n<li>Encapsulate your tasks into subroutines. Get that working first. (This is very important - parallel stuff causes worlds of pain and is difficult to troubleshoot if you're not careful - get it working single threaded first).</li>\n<li>Run your subroutines as threads, and capture their results. </li>\n</ul>\n\n<p>Something like this:</p>\n\n<pre><code>use threads;\n\nsub curl_update {\n   my $result = system ( \"you_curl_command\" );\n   return $result; \n}\n\n#start the async curl\n\n my $thr = threads -&gt; create ( \\&amp;curl_update ); \n\n #do your other stuff....\n sleep ( 60 ); \n\n my $result = $thr -&gt; join(); \n if ( $result ) { \n       #do whatever you would if the curl update failed\n }\n</code></pre>\n\n<p>In this, the <code>join</code> is a blocking call - your main code will stop and wait for your thread to complete. If you want to do something more complicated, you can use <code>is_running</code> or <code>is_joinable</code> which are non blocking.</p>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1421944308, "creation_date": 1421944308, "answer_id": 28093899, "question_id": 28018461, "link": "https://stackoverflow.com/questions/28018461/multithreading-or-forking-in-perl/28093899#28093899", "title": "multithreading or forking in perl", "body": "<p>I'd suggest neither.</p>\n\n<p>You're just talking lots of HTTP. You can talk concurrent HTTP a lot nicer, because it's just network IO, by using any of the asynchronous IO systems. Perl has many of them.</p>\n\n<p>Principally I'd suggest <code>IO::Async</code>, but then I wrote it. You can use <code>Net::Async::HTTP</code> to make an HTTP hit. This will fully support doing many of them at once - many hundreds or thousands if need be.</p>\n\n<p>Otherwise, you can also try either <code>POE</code> or <code>AnyEvent</code>, which will both support the same thing in their own way.</p>\n"}], "owner": {"reputation": 443, "user_id": 3981589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/901e8e23857d38b276b9cd51118b7716?s=128&d=identicon&r=PG", "display_name": "ck reddy", "link": "https://stackoverflow.com/users/3981589/ck-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 28022245, "answer_count": 2, "score": 1, "last_activity_date": 1421944308, "creation_date": 1421645395, "last_edit_date": 1421648369, "question_id": 28018461, "link": "https://stackoverflow.com/questions/28018461/multithreading-or-forking-in-perl", "title": "multithreading or forking in perl", "body": "<p>in my perl script I'm collecting a large data and later I need it to post to server, up to this I'm good but my criteria is that post to server takes subsequently large time so I need to a threading / forking concept so that one will post and parallely I can dig my second data set at same time while posting to server is taking place.</p>\n\n<p>code snippet</p>\n\n<pre><code>if(system(\"curl -sS $post_url --data-binary \\@$filename -H 'Content-type:text/xml;charset=utf-8' 1&gt;/dev/null\") != 0)\n        {\n            exit_script(\" xml: Error \",\"Unable to update $filename xml on $post_url\");\n        }\n</code></pre>\n\n<p>can any one tell me is this achievable with threading or forking. </p>\n"}, {"tags": ["perl", "hash", "syntax"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 5, "last_activity_date": 1421639088, "creation_date": 1421639088, "answer_id": 28017679, "question_id": 28017616, "link": "https://stackoverflow.com/questions/28017616/perl-error-type-of-arg-1-to-each-must-be-hash-not-hash-element/28017679#28017679", "title": "Perl - Error &quot;Type of arg 1 to each must be hash (not hash element)&quot;", "body": "<p>Dereference the hash:</p>\n\n<pre><code> while (my ($action, $value) = each(%{ $cameras{$camera}{$mode} })) {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 2, "last_activity_date": 1421639088, "creation_date": 1421639088, "answer_id": 28017680, "question_id": 28017616, "link": "https://stackoverflow.com/questions/28017616/perl-error-type-of-arg-1-to-each-must-be-hash-not-hash-element/28017680#28017680", "title": "Perl - Error &quot;Type of arg 1 to each must be hash (not hash element)&quot;", "body": "<p>Assuming that <code>$cameras{$camera}{$mode}</code> is a reference to a hash:</p>\n\n<pre><code>each ( %{ $cameras{$camera}{$mode} } );\n</code></pre>\n\n<p>As the error says, type of arg 1 to each must be a hash (not a hash ref).</p>\n\n<p>If it is not a hash ref, then you cannot use <code>each</code> on it.</p>\n"}], "owner": {"reputation": 53, "user_id": 3467031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/291a60925c7c7fcbdecdc526ee102d5e?s=128&d=identicon&r=PG&f=1", "display_name": "SethCalkins", "link": "https://stackoverflow.com/users/3467031/sethcalkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2584, "favorite_count": 1, "accepted_answer_id": 28017679, "answer_count": 2, "score": 2, "last_activity_date": 1421639088, "creation_date": 1421638537, "question_id": 28017616, "link": "https://stackoverflow.com/questions/28017616/perl-error-type-of-arg-1-to-each-must-be-hash-not-hash-element", "title": "Perl - Error &quot;Type of arg 1 to each must be hash (not hash element)&quot;", "body": "<p>I'm getting this error when attempting to run this script - on this line </p>\n\n<p><strong>Type of arg 1 to each must be hash (not hash element)</strong></p>\n\n<pre><code>    while (my ($action, $value) = each($cameras{$camera}{$mode})) {\n</code></pre>\n\n<p>How do I fix this error?</p>\n"}, {"tags": ["javascript", "perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 2772397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9y4t8.jpg?s=128&g=1", "display_name": "mabossert", "link": "https://stackoverflow.com/users/2772397/mabossert"}, "is_accepted": true, "score": 2, "last_activity_date": 1421783169, "creation_date": 1421783169, "answer_id": 28053898, "question_id": 28017432, "link": "https://stackoverflow.com/questions/28017432/websocket-onmessage-not-firing-during-ajax-request/28053898#28053898", "title": "websocket onmessage not firing during ajax request", "body": "<p>Well, I guess when one has been heading down one road for a while, one assumes that it is in the right direction.  After further head-scratching, I found the issue and it was related to the blocking/non-blocking nature of my backend web-framework.  As it turns out, in Mojolicious (Perl web-framework), http calls can be either synchronous or asynchronous depending on how one writes the call.</p>\n\n<pre><code>my $tx = $ua-&gt;get('http://foo.bar?query=getSomeFoo');\nif($tx-&gt;success) {\n    $self-&gt;render($tx-&gt;res-&gt;content);\n}\nelse {\n    $self-&gt;rendered($tx-&gt;res-&gt;code);\n}\n</code></pre>\n\n<p>This is a blocking/synchronous request.  Nothing happens until after the GET finishes.  On the other hand, if one writes the request like so, it is an asynchronous request:</p>\n\n<pre><code>$ua-&gt;get('http://foo.bar?query=getSomeFoo' =&gt; sub {\n    my ($ua,$tx) = @_;\n    if($tx-&gt;success) {\n        $self-&gt;render($tx-&gt;res-&gt;content);\n    }\n    else {\n        $self-&gt;rendered($tx-&gt;res-&gt;code);\n    }\n});\n</code></pre>\n\n<p>So, if anyone else has encountered this issue...here is the answer.  If I am the only idiot on the planet that has committed this blunder...then I guess I have put my shame out there for all to have a good chuckle at.</p>\n\n<p>Bottom line was that this was well documented in the Mojolicious docs...but I had been doing it one way for so long that I completely forgot about it.</p>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 108, "user_id": 2772397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9y4t8.jpg?s=128&g=1", "display_name": "mabossert", "link": "https://stackoverflow.com/users/2772397/mabossert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 1, "accepted_answer_id": 28053898, "answer_count": 1, "score": 0, "last_activity_date": 1421783370, "creation_date": 1421637016, "last_edit_date": 1421783370, "question_id": 28017432, "link": "https://stackoverflow.com/questions/28017432/websocket-onmessage-not-firing-during-ajax-request", "title": "websocket onmessage not firing during ajax request", "body": "<p>I have a web application that performs a Jquery .post request for database queries.  I also have three different web socket connections that are used to push status updates from the server to the client (CPU and Memory stats in a live chart, database status, and query queue).  While a query is not running, everything works smoothly, but once a query is started (post request), then the three web socket connections seem to hang/block while waiting for the query to return.  I was reading about this and have not found any relevant answers...I suspect that it is probably something really dumb on my part...but this has had me scratching my head for the better part of a day now.  I thought I might try moving the web socket connections to web workers...but in theory, the POST should not be blocking to begin with...So, here are the relevant snippets of code...The full source is a couple of thousand lines of code...so I didn't want to inundate anyone with it...but could show it if it is useful.  So, the big question is what am I doing wrong here?  Or perhaps, am I misunderstanding how AJAX calls work as far as blocking goes?</p>\n\n<pre><code>    // query execution button that grabs the query for the most recently focused query source (SPARQL editor, history, or canned)\n      $(\"#querySubmitButton\").on(\"click\", function(e) {\n        // Disable the query button\n        $(\"#querySubmitButton\").attr('disabled',true);\n\n        // Let's make sure we are clearing out the work area and the popup contents\n        $(\"#viz\").empty();\n\n        // Get YASQE to tell us what type of query we are running\n        var queryType = editor.getQueryType();\n\n        // refactored so that we can clean up the on-click function and also make other query types in a more modular way\n        switch(queryType) {\n          case 'SELECT':\n            sparqlSelect();\n            break;\n          case 'CONSTRUCT':\n            sparqlConstruct();\n            break;\n          case 'ASK':\n            sparqlAsk();\n            break;\n          case 'DESCRIBE':\n            sparqlDescribe();\n            break;\n          case 'INSERT':\n            sparqlInsert();\n            break;\n          default:\n            popup.show(\"Unrecognized query type.\",\"error\");\n            break;\n        }\n      });\n\n// Functions to do each of the query types (SELECT, CONSTRUCT, ASK, DESCRIBE, INSERT)\n  // SELECT\n  function sparqlSelect() {\n    $.post(\"sparqlSelect\", { database: $(\"#DB_label\").html(),'query': editor.getValue() }).done(function(data, textStatus, xhr) {\n      // Enable the query button\n      $(\"#querySubmitButton\").removeAttr('disabled');\n\n      // If the query worked, store it\n      storeQueryHistory(query);\n\n      // if the previous query was a CONSTRUCT, then lets hide the graph metrics button\n      $(\"#nav-trigger-graphStatistics\").fadeOut(800);\n\n      // Need to slide the query menu back\n      sliders(\"in\",$(\"#nav-trigger-query\").attr(\"id\"));\n\n      var columns = [];\n      var fields = [];\n      var comboboxFields = [];\n\n\n      // Hide the graph search panel\n      $(\"#graphSearch\").fadeOut(1400);\n\n      // Show the results and visualization button/tab\n      $(\"#nav-trigger-results\").fadeIn(1400);\n      $(\"#nav-trigger-visualization\").fadeIn(1400);\n\n\n      $.each(data.results.head.vars, function(index, value) {\n        columns.push({'field': value, 'title': value});\n        var to = {};\n        to[value] = {type: \"string\"};\n        fields.push(to);\n\n        // Let's also populate the two Comboboxes for the Visualization while we are at it\n        comboboxFields.push({'text': value, 'value': value});\n      });\n\n      // Now, set the two combobox datasources for visualizations\n      var categoriesDS = new kendo.data.DataSource({\n          data: comboboxFields\n      });\n      vizCategoryAxis.setDataSource(categoriesDS);\n\n      var valuesDS = new kendo.data.DataSource({\n          data: comboboxFields\n      });\n      vizValueAxis.setDataSource(valuesDS);\n\n      var dataBindings = [];\n      $.each(data.results.results.bindings, function(index1, value) {\n        var tempobj = {};\n        $.each(value, function(k1,v1) {\n          tempobj[k1] = v1.value;\n        });\n        tempobj.id=index1;\n        dataBindings.push(tempobj);\n      });\n\n      var configuration = {\n        dataSource: {\n          data: dataBindings,\n          pageSize: 25\n        },\n        height: 400,\n        scrollable: true,\n        sortable: true,\n        filterable: true,\n        reorderable: true,\n        resizable: true,\n        toolbar: [\"excel\"],\n        excel: {\n          allPages: true,\n          filterable: true,\n          proxyURL: \"/saveExcel\"\n        },\n        pageable: {\n          input: true,\n          numeric: false,\n          pageSizes: true\n        },\n        'columns': columns,\n        dataBound: function(e) {\n          $(e.sender.element).find('td').each(function() {\n            var temp = $(this).html();\n            if (isUrl(temp)) {\n              $(this).html('&lt;a href=\"' + temp + '\" target=\"_blank\"&gt;' + temp + '&lt;/a&gt;');\n            }\n          });\n        }\n      };\n\n      // Create the popup window\n      var gridWindow = $(\"#resultsPopup\").kendoWindow({\n        width: \"70%\",\n        title: \"Query Results\",\n        actions: [\n            \"Minimize\",\n            \"Maximize\",\n            \"Close\"\n        ]\n      }).data('kendoWindow');\n\n      // Center and show the popup window\n      gridWindow.center().open();\n\n      // Create/update/refresh the grid\n      resultsGrid.setOptions(configuration);\n      resultsGrid.dataSource.page(1);\n\n      $(\"#nav-trigger-results\").on('click',function() {\n        // Center and show the popup window\n        gridWindow.center().open();\n      });\n    }).fail(function(xhr) {\n      // If we are timed-out\n      if (xhr.status === 401) {\n        // First, clear the host, database, and status text\n        $(\"#host_label\").html('');\n        $(\"#DB_label\").html('');\n        $(\"#status_label\").html('');\n\n        // Next, disable the query button\n        $(\"#querySubmitButton\").attr('disabled',true);\n\n        // Change \"login\" tab text color to red so we know we are no longer logged in\n        var styles = { 'color': \"#FFCCD2\" };\n        $(\"#nav-trigger-login\").css(styles);\n\n        popup.show(\"Session for \" + host + \" has timed out, please log back in.\",\"error\");\n      }\n      else {\n        // Enable the query button\n        $(\"#querySubmitButton\").removeAttr('disabled');\n        popup.show(\"Error, no results (\" + xhr.status + \" \" + xhr.statusText + \")\",\"error\");\n      }\n    });\n  }\n\n  // Function to connect to the query queue websocket\n  function queueWebsocketConnect() {\n    var qws = new WebSocket('wss://endeavour:3000/queue');\n\n    // Let's disconnect our Websocket connections when we leave the app\n    $(window).on('unload', function() {\n      console.log('Websocket connection closed');\n      qws.close();\n    });\n\n    // Status websocket onopen\n    qws.onopen = function () {\n      console.log('Websocket connection opened');\n      popup.show(\"Websocket connection opened\",\"success\");\n    };\n\n    qws.onclose = function (event) {\n      console.log('Websocket connection closed');\n      popup.show(\"Websocket connection closed\",\"info\");\n    };\n\n    qws.onmessage = function (msg) {\n      var res = JSON.parse(msg.data);\n      var tableRows = '&lt;thead&gt;&lt;tr&gt;&lt;td&gt;Query Position&lt;/td&gt;&lt;td&gt;Query ID&lt;/td&gt;&lt;td&gt;Kill/Cancel Query&lt;/td&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;';\n      if (res.executing != null &amp;&amp; res.entry.length &gt; 0) {\n        $(\"#queryQueue\").empty();\n        tableRows += '&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;' + res.executing.id + '&lt;/td&gt;&lt;td&gt;&lt;input type=\"button\" class=\"k-button\" value=\"Kill\"&gt;&lt;/td&gt;&lt;/tr&gt;';\n\n        $.each(res.entry, function(index,object) {\n          tableRows += '&lt;tr&gt;&lt;td&gt;' + (object.pos + 1) + '&lt;/td&gt;&lt;td&gt;' + object.query.id + '&lt;/td&gt;&lt;td&gt;&lt;input type=\"button\" class=\"k-button\" value=\"Cancel\"&gt;&lt;/td&gt;&lt;/tr&gt;';\n        });\n        tableRows += '&lt;/tbody&gt;';\n        $(\"#queryQueue\").html(tableRows);\n      }\n      else if (res.executing != null) {\n        $(\"#queryQueue\").empty();\n        tableRows += '&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;' + res.executing.id + '&lt;/td&gt;&lt;td&gt;&lt;input type=\"button\" class=\"k-button\" value=\"Kill\"&gt;&lt;/td&gt;&lt;/tr&gt;';\n        tableRows += '&lt;/tbody&gt;';\n        $(\"#queryQueue\").html(tableRows);\n      }\n      else {\n        console.log(res);\n        $(\"#queryQueue\").empty();\n      }\n    };\n  }\n\n  // Function to connect to the stats websocket\n  function websocketConnect () {\n    // Set up websocket connection for system stats\n    var ws = new WebSocket('wss://endeavour:3000/stats');\n\n    // Let's disconnect our Websocket connections when we leave the app\n    $(window).on('unload', function() {\n      console.log('Websocket connection closed');\n      ws.close();\n    });\n\n    // Status websocket onopen\n    ws.onopen = function () {\n      console.log('Websocket connection opened');\n      popup.show(\"Websocket connection opened\",\"success\");\n    };\n\n    // Status websocket onclose\n    ws.onclose = function (event) {\n      // Disable the query button\n        $(\"#querySubmitButton\").attr('disabled',true);\n\n      // Change \"login\" tab text color to red so we know we are no longer logged in\n      var styles = { 'color': \"#FFCCD2\" };\n      $(\"#nav-trigger-login\").css(styles);\n\n      // Clear the host, database, and status text\n      $(\"#host_label\").html('');\n      $(\"#DB_label\").html('');\n      $(\"#status_label\").html('');\n      console.log('Websocket connection closed');\n      popup.show(\"Websocket connection closed\",\"error\");\n\n      $(\"#websocketReconnectButtonYes\").on('click', function() {\n        websocketConnect();\n        queueWebsocketConnect();\n        websocketReconnect.close();\n      });\n\n      $(\"#websocketReconnectButtonNo\").on('click', function() {\n        websocketReconnect.close();\n      });\n\n      websocketReconnect.center().open();\n    };\n\n    // When updates are received, push them out to update the details\n    var logoutCount = 0;\n    ws.onmessage = function (msg) {\n      if (msg.data === 'loggedOut') {\n        // Ensure we only emit this one time instead of a stream of them\n        if (logoutCount == 0) {\n          // Disable the query button\n          $(\"#querySubmitButton\").attr('disabled',true);\n\n          // Change \"login\" tab text color to red so we know we are no longer logged in\n          var styles = { 'color': \"#FFCCD2\" };\n          $(\"#nav-trigger-login\").css(styles);\n\n          // Clear the host, database, and status text\n          $(\"#host_label\").html('');\n          $(\"#DB_label\").html('');\n          $(\"#status_label\").html('');\n\n          console.log(\"Session for \" + $(\"#host_label\").html() + \" has timed out, please log back in.\");\n          popup.show(\"Session for \" + $(\"#host_label\").html() + \" has timed out, please log back in.\",\"error\");\n        }\n        logoutCount = 1;\n      }\n      else {\n        logoutCount = 0;\n        var res = JSON.parse(msg.data);\n        var host = $(\"#host_label\").html();\n        var pdatabase = $(\"#DB_label\").html();\n        var pstatus = $(\"#status_label\").html();\n\n        // Disable the query button unless the database is \"CONNECTED\"\n        if ($(\"#status_label\").html() !== res.current.databaseStatus) {\n          if (res.current.databaseStatus !== \"CONNECTED\") {\n            $(\"#querySubmitButton\").attr('disabled',true);\n          }\n          else {\n            $(\"#querySubmitButton\").removeAttr('disabled');\n          }\n\n          if (res.current.databaseStatus == 'CONNECTED' || res.current.databaseStatus == 'STOPPED') {\n            $(\"#startDB\").removeAttr('disabled');\n          }\n          else {\n            $(\"#startDB\").attr('disabled',true);\n          }\n        }\n\n        // Maybe a more intelligent way to do this, but need to make sure that if the cookie is still valid, then populate the database login stuff\n        if ($(\"#dbConfigHost\").val() == \"\" &amp;&amp; $(\"#dbConfigUser\").val() == \"\") {\n          $(\"#dbConfigHost\").val(res.host);\n          $(\"#dbConfigUser\").val(res.user);\n\n          // Change \"login\" tab text color to green so we know we are logged in\n          var styles = { 'color': \"#C5E6CC\" };\n          $(\"#nav-trigger-login\").css(styles);\n\n          var databasesDS = new kendo.data.DataSource({\n            data: res.databases.database\n          });\n          databasePicker.setDataSource(databasesDS);\n        }\n\n        // Update the labels when values change\n        if (res.host != $(\"#host_label\").html()) {\n          $(\"#host_label\").html(res.host);\n          popup.show(\"Host changed to \" + res.host,\"info\");\n        }\n        if (pdatabase != res.current.name) {\n          $(\"#DB_label\").html(res.current.name);\n          popup.show(\"Database changed to \" + res.current.name ,\"info\");\n        }\n        if (pstatus != res.current.databaseStatus) {\n          $(\"#status_label\").html(res.current.databaseStatus);\n        }\n\n        // Update the sparklines\n        cpulog.options.series[0].data = res.system.cpu;\n        cpulog.refresh();\n        memlog.options.series[0].data = res.system.mem;\n        memlog.refresh();\n      }\n    };\n\n    // Open the websocket connection to listen for changes to the query list\n    var queryWS = new WebSocket('wss://endeavour:3000/queryList');\n\n    queryWS.onmessage = function(msg) {\n      var res = JSON.parse(msg.data);\n      var queriesDS = new kendo.data.DataSource({\n          data: res\n      });\n      cannedQuery.setDataSource(queriesDS);\n    };\n  }\n</code></pre>\n"}, {"tags": ["perl", "loops", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4364305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fb348aabd7e8376fa3c1c9b77459e5?s=128&d=identicon&r=PG&f=1", "display_name": "Linda", "link": "https://stackoverflow.com/users/4364305/linda"}, "edited": false, "score": 0, "creation_date": 1421772052, "post_id": 28015374, "comment_id": 44483287, "body": "Thanks! What I was trying to do was to think of each letter as a numbered position instead. That way, I could print however many - until I get to the location where the sequence would match, then print a |, and then continue printing dashes until the next match is found, through the end of my file. Also, my input is not a blank file - I just did not include the directory. My output file is though. The $count variable is supposed to be the number of nucleotides in my file."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 1, "last_activity_date": 1421619331, "last_edit_date": 1421619331, "creation_date": 1421618960, "answer_id": 28015374, "question_id": 28015088, "link": "https://stackoverflow.com/questions/28015088/using-the-perl-index-function-to-find-each-instance-of-a-sequence-and-then-repla/28015374#28015374", "title": "Using the Perl index function to find each instance of a sequence and then replace it with a different character", "body": "<p>There are many reasons your program does not work as expected.</p>\n\n<ul>\n<li><code>INPUT</code> and <code>OUTPUT</code> are both blank file handles. If used this way, it will attempt to open a file name contained in <code>$INPUT</code> and <code>$OUTPUT</code> respectively. And it will give an error when used if those variables are empty. This is an arcane quirk of the very versatile <code>open</code> command.</li>\n<li>You are undefining <code>$/</code> twice, both when slurping your input, and then outside that block as well, which affects the <code>while(&lt;&gt;)</code> loop afterwards. There really is no need to do this, unless you have more than one line in the file. And even then, I would recommend against it.</li>\n<li>You read from the <code>&lt;&gt;</code> handle, which is standard input, or <code>ARGV</code>, depending on whether you give your program arguments or not. It is unclear if this is what you intended.</li>\n<li>When you check <code>index</code> of your sequence, you have not <code>chomp</code>ed your input, so it will unlikely match inside a string. (Unless there is no newline in your input file).</li>\n<li>You loop over the matches in your string, and check if the match is equal to some weird <code>$count</code> variable, which (actually) counts the matches, not the characters. Not sure what your intentions are there. Depending on whether the position of the match matches the count, you print it. And you print nothing else.</li>\n</ul>\n\n<p>All in all, it is not surprising this does not work.</p>\n\n<p>If all you want to do is replace your search string with dash and the rest with pipe, you can do something simple like:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nchomp(my $sequence = &lt;&gt;); # assuming a one-line file\nwhile (&lt;&gt;) {\n    while (/(.)/g) {\n        if ($1 eq $sequence) {\n            print \"-\";\n        } else {\n            print \"|\";\n        }\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>perl program.pl input &gt; output\n</code></pre>\n\n<p>If you only want to read the first line of a file, you can do as above, but note that if there are more lines in that file, they will be read by <code>&lt;&gt;</code>. To prevent that, you can explicitly <code>close ARGV</code> afterwards, which will make the progress skip ahead to the next file in <code>@ARGV</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 4364305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fb348aabd7e8376fa3c1c9b77459e5?s=128&d=identicon&r=PG&f=1", "display_name": "Linda", "link": "https://stackoverflow.com/users/4364305/linda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421619331, "creation_date": 1421617000, "question_id": 28015088, "link": "https://stackoverflow.com/questions/28015088/using-the-perl-index-function-to-find-each-instance-of-a-sequence-and-then-repla", "title": "Using the Perl index function to find each instance of a sequence and then replace it with a different character", "body": "<p>I want to replace each nucleotide in a DNA sequence with a - unless it matches a certain sequence. The location where the sequence is found should print a |. I want to do this using the index function. I am trying to get it to print dashes until it reaches the location in the index, in which case it would print a | and then continue through the rest of the sequence finding each instance.  Basically, if the sequence is found at locations 2, 6, and 9, I would want the output to print (starting at 0) --|---|--| in a different txt file. I'm having trouble trying to get my code to work. Could someone explain why it is not working? I should probably also mention that I am pretty new to Perl and programming in general, so my logic might be off.  </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen INPUT ; # input and output are txt files\nopen OUTPUT ;\n\nundef $/;\nmy $sequence = do { local $/; &lt;INPUT&gt; };\n\nwhile (&lt;&gt;) {\n    my $EcoRI = \"GAATTC\";\n    my $off = 0;\n    my $count = 0;\n\n    my $totalnt = 4970982;  \n    my $line = \"|\";\n    my $dash = \"-\";\n\n    while ( my $index = index($sequence, $EcoRI, $off) ) {\n        $off = $index + 1;\n        $count++;\n\n        if ($count ne $index ) {\n            print OUTPUT $dash ;\n} \n        elsif ($count eq $index) {\n            print OUTPUT $line ;\n}\n        last if ($count eq $totalnt) ;\n}\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1421621410, "post_id": 28014834, "comment_id": 44418645, "body": "Did you mean <code>foreach(0 .. @array-2)</code>? If <code>@array</code> has 6 elements, <code>$#array-2</code> (highest index minus 2) is <code>3</code> and <code>@array-2</code> (number of elements minus 2) is <code>4</code>."}], "answers": [{"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 5, "last_activity_date": 1421621220, "last_edit_date": 1421621220, "creation_date": 1421617572, "answer_id": 28015176, "question_id": 28014834, "link": "https://stackoverflow.com/questions/28014834/perl-syntax-when-working-with-arrays/28015176#28015176", "title": "Perl syntax when working with arrays", "body": "<p><code>..</code> is the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\">range operator</a>. It can be used in two rather different ways, depending on the context in which it occurs. In this case, you are using the <em>list</em> context, in which case your code</p>\n\n<pre><code>for (0 .. $#array - 2)\n</code></pre>\n\n<p>is similar to</p>\n\n<pre><code>for (local $_ = 0; $_ &lt;= $#array - 2; $_++)\n</code></pre>\n\n<p>In other words, it creates a range of numbers, from <code>0</code> to <code>$#array - 2</code>.</p>\n\n<p>The range operator can also be used in scalar context, in which case it keeps track of a state. But that is another question.</p>\n\n<p>This is different from</p>\n\n<pre><code>foreach(@array -2)\n</code></pre>\n\n<p>Note that in this expression, the array <code>@array</code> is put in scalar context by the <code>-</code> operator, and will return its size. It will only create one value for the <code>for</code> loop, and that is the size of the array minus 2. Say the list has 10 elements, then you get:</p>\n\n<pre><code>foreach (8)\n</code></pre>\n\n<p>Which is just a loop over a list of one item (the number <code>8</code>), and not very useful. So the difference is quite big, and not meaningful to explain, really. I assume you meant:</p>\n\n<pre><code>foreach (@array[0 .. $#array - 2])\n</code></pre>\n\n<p>Which is a loop using an <a href=\"http://perldoc.perl.org/perldata.html#Slices\"><em>array slice</em></a>. In this case, you are looping over the values of the array, rather than over the indexes. E.g.</p>\n\n<pre><code>for (0 .. $#array) {\n    print $array[$_];\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>for (@array) {\n    print $_;\n}\n</code></pre>\n\n<p>You might also note that <code>for</code> and <code>foreach</code> mean exactly the same thing in Perl. They are aliases of each other, and there is no difference in how they work. </p>\n"}], "owner": {"reputation": 409, "user_id": 3423572, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c398adddc87117f58ec14059922f8e9b?s=128&d=identicon&r=PG&f=1", "display_name": "user3423572", "link": "https://stackoverflow.com/users/3423572/user3423572"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 28015176, "answer_count": 1, "score": 0, "last_activity_date": 1421625488, "creation_date": 1421615366, "last_edit_date": 1421625488, "question_id": 28014834, "link": "https://stackoverflow.com/questions/28014834/perl-syntax-when-working-with-arrays", "title": "Perl syntax when working with arrays", "body": "<p>Hi i am studying some code based on arrays and I came accross the following:</p>\n\n<pre><code>@array; #contains lines of text\n\nfor (0 .. $#array - 2)\n{\n   #code here\n}\n</code></pre>\n\n<p>What is the purpose of the <code>0 ..</code> syntax? and what will it do based on the example?\nAlso how is this different from writing <code>foreach(@array -2)</code>?</p>\n"}, {"tags": ["windows", "perl", "internet-explorer", "cookies"], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1421583499, "creation_date": 1421583499, "answer_id": 28009553, "question_id": 28008913, "link": "https://stackoverflow.com/questions/28008913/how-to-export-ie-cookies-using-perl/28009553#28009553", "title": "How to export IE cookies using perl?", "body": "<p>I haven't tried it with Internet Explorer, but when I've had to do this task for other browsers, I found the file that the cookies are already in and parsed that directly. It's why there are so many HTTP::Cookies::* modules in <a href=\"https://metacpan.org/author/BDFOY\" rel=\"nofollow\">my CPAN account</a>.</p>\n\n<p>There are also various <a href=\"https://metacpan.org/search?q=win32&amp;size=20\" rel=\"nofollow\">Win32 modules</a> to let you control Windows applications from Perl through the Windows APIs. I made <a href=\"http://www.windowsperl.com/2014/04/04/looking-for-win32ole-examples/\" rel=\"nofollow\">a list of some examples</a> that use <a href=\"https://metacpan.org/release/Win32-OLE\" rel=\"nofollow\">Win32::OLE</a>, for instance. There's one that plays Minesweeper for you!</p>\n"}], "owner": {"reputation": 1, "user_id": 4466643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2b39857d3029b52d7694a908805c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Yoong Jin Lim", "link": "https://stackoverflow.com/users/4466643/yoong-jin-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421584416, "creation_date": 1421578722, "last_edit_date": 1421584416, "question_id": 28008913, "link": "https://stackoverflow.com/questions/28008913/how-to-export-ie-cookies-using-perl", "title": "How to export IE cookies using perl?", "body": "<p>I know that there is a option within Internet Explorer that I could use the manually export cookies. However, is it possible to have a Perl script to automate IE to export cookies to a text file or by using command shell? </p>\n\n<p>I'm using Internet Explorer 11 for Windows 7. Thanks in advance!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1421565627, "post_id": 28007989, "comment_id": 44403983, "body": "is <code>r</code> a modifier? Why you used that?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1421565754, "post_id": 28007989, "comment_id": 44404000, "body": "@AvinashRaj It performs non-destructive substitution and return the new value, see <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a>"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1421565889, "post_id": 28007989, "comment_id": 44404023, "body": "Po quantifier does his job well. what&#39;s your expected output?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1421566067, "post_id": 28007989, "comment_id": 44404049, "body": "@AvinashRaj Ok, also the last line with non-greedy regex works.. The expected output would be comments removed.. But the question is more a general question about possessive quantifiers"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1421622077, "post_id": 28007989, "comment_id": 44418817, "body": "@Avinash Raj, He&#39;s using <code>&#47;r</code> because <code>say $str =~ s{&#47;\\*[^*]++\\*&#47;}{}sgr;</code> is simpler and cleaner than <code>(my $temp = $str) =~ s{&#47;\\*[^*]++\\*&#47;}{}sg; say $temp;</code>. <code>&#47;r</code> was introduced in 5.14"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1421566614, "post_id": 28008059, "comment_id": 44404122, "body": "Thanks, but why does, for example <code>&#47;\\*.*+\\*&#47;</code> not work? And can possessive quantifiers be used to remove comments? If so, is it more efficient than non-greedy regex?"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 0, "last_activity_date": 1421567686, "last_edit_date": 1421567686, "creation_date": 1421566420, "answer_id": 28008059, "question_id": 28007989, "link": "https://stackoverflow.com/questions/28007989/delete-c-style-comments-with-possessive-quantifier-regex/28008059#28008059", "title": "Delete c-style comments with possessive quantifier regex", "body": "<p>Possessive quantifier does it's job well.</p>\n\n<p><strong>Input string:</strong></p>\n\n<pre><code>my $str = ' abc /* hi */ def /* h*i */';\n</code></pre>\n\n<p><strong>Regex 1:</strong></p>\n\n<pre><code>/\\*[^*]++\\*/\n</code></pre>\n\n<p><code>/\\*</code> - Matches the first <code>/*</code> and the last <code>/*</code>.</p>\n\n<p><code>[^*]++</code> - Not of <code>*</code> one or more times. <code>++</code> won't allow backtracking. So this matches first <code>/* hi</code> and the following pattern <code>\\*/</code> matches the <code>*/</code> which exists next to the <code>hi</code> . And at the same time, regex engine tries to do the same job in the next <code>/*</code>. That is, <code>/\\*</code> matches the <code>/*</code> which exists just before to the <code>h*i</code>. Come up with the next pattern <code>[^*]++</code> matches upto the <code>/* h</code>, then it stops matching once it finds the <code>*</code>. Then it  won't go further ie, (<em>forward or backwards</em>) because of the possessive <code>++</code> quantifier which won't allow backtracking. So that  the second part got failed. </p>\n\n<p>Finally we have a match of <code>/* hi */</code>. Replacing those characters with an empty string will give you the output of <code>abc  def /* h*i */</code></p>\n\n<p><strong>Regex 2:</strong></p>\n\n<pre><code>/\\*.*+\\*/\n</code></pre>\n\n<p><code>/\\*</code> - Matches the <code>/*</code> which exists just before to the <code>hi</code> and <code>h*i</code></p>\n\n<p><code>.*</code> - Matches all the characters greedily upto the last.</p>\n\n<p><code>.*+</code> - Because of the <code>+</code> which exists just after to <code>*</code> won't allow backtracking, the regex marker is at the end of the line and fail to match <code>*/</code> because there isn't a <code>*/</code> exists after  the end of the line. So this regex got failed and it won't match even a single character from the input string.</p>\n\n<p>Finally  <code>s{/\\*.*+\\*/}{}sgr</code> returns the input string as output.(<em>Note that the curly braces in the above pattern are regex delimiters</em>) </p>\n\n<p><strong>Solution:</strong></p>\n\n<p>To remove the comment part, i suggest you to use the below regex,</p>\n\n<pre><code>/\\*.*?\\*/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/dD1zE2/4\" rel=\"nofollow\">DEMO</a></p>\n\n<p>OR</p>\n\n<pre><code>/\\*(?:(?!/\\*|\\*/).)*\\*/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/dD1zE2/6\" rel=\"nofollow\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1421850118, "last_edit_date": 1421850118, "creation_date": 1421768570, "answer_id": 28049439, "question_id": 28007989, "link": "https://stackoverflow.com/questions/28007989/delete-c-style-comments-with-possessive-quantifier-regex/28049439#28049439", "title": "Delete c-style comments with possessive quantifier regex", "body": "<p>A way to do this with a possessive quantifier is to use this kind of pattern that allows any <code>*</code> inside the comment:</p>\n\n<pre><code>$str =~ s{/\\*(?:[^*]+|\\*+(?!/))*+\\*/}{}g\n</code></pre>\n\n<p>The idea is to separate two possible cases in an alternation:</p>\n\n<ol>\n<li>all characters that are not a <code>*</code></li>\n<li>one or more <code>*</code> not followed by a <code>/</code></li>\n</ol>\n\n<p>Finally, you only need to make possessive the quantifier of the non-capturing group that contains the alternation. </p>\n\n<p>But an alternation and a lookahead have a cost. So, an other possible way consists to use, instead of an alternation, this pattern with an atomic group with a lazy quantifier:</p>\n\n<pre><code>/\\*(?&gt;[^*]*\\*+)+?/\n</code></pre>\n\n<p>Note that it uses the <code>+</code> quantifier to ensure the presence of the final <code>*</code>.\nSo the impact on performances due to the lazy quantifier is very limited (only when a group of <code>*</code> is met).</p>\n\n<p>Even this second way uses a lazy quantifier, it is probably a faster way and needs few steps to match a whole comment.</p>\n\n<p><strong>Note:</strong> in most languages, a C comment that is not closed with <code>*/</code> runs until the end of a file. Let's see the versions of the two patterns to handle this case:</p>\n\n<p>first pattern: <a href=\"https://regex101.com/r/yB7vJ7/1\" rel=\"nofollow\">online demo</a> <em>(*)</em></p>\n\n<pre><code>/\\*(?:[^*]+|\\*+(?!/))*+(?:\\*/|\\z)\n</code></pre>\n\n<p>second pattern: <a href=\"https://regex101.com/r/yX9uZ5/1\" rel=\"nofollow\">online demo</a> <em>(*)</em></p>\n\n<pre><code>/\\*(?&gt;[^*]*(?:\\*+|\\z(*ACCEPT)))+?/\n</code></pre>\n\n<p><em>(*) click the debug item to see the number of steps needed for each ways.</em></p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 28008059, "answer_count": 2, "score": 1, "last_activity_date": 1421850118, "creation_date": 1421565529, "question_id": 28007989, "link": "https://stackoverflow.com/questions/28007989/delete-c-style-comments-with-possessive-quantifier-regex", "title": "Delete c-style comments with possessive quantifier regex", "body": "<p>I am trying to understand how possessive quantifiers work. Is it possible to use this feature to remove for example comments from a string?\nHere is what I tried:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $str = ' abc /* hi */ def /* h*i */';\n\nsay $str =~ s{/\\*[^*]++\\*/}{}sgr;\nsay $str =~ s{/\\*.*+\\*/}{}sgr;\nsay $str =~ s{/\\*.*?\\*/}{}sgr;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> abc  def /* h*i */\n abc /* hi */ def /* h*i */\n abc  def \n</code></pre>\n\n<p>Why does the possessive quantifiers not work here?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2273, "user_id": 3339058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e83b11d2c7358ba0a1512054b6c220?s=128&d=identicon&r=PG&f=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/3339058/javier"}, "edited": false, "score": 0, "creation_date": 1421564109, "post_id": 28007728, "comment_id": 44403769, "body": "<code>message.txt</code> matches the regexp since it begins with <code>message</code>."}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1421564121, "creation_date": 1421564121, "answer_id": 28007868, "question_id": 28007728, "link": "https://stackoverflow.com/questions/28007728/regex-with-multiple-possible-options/28007868#28007868", "title": "regex with multiple possible options", "body": "<blockquote>\n  <p>I am trying to figure out the proper syntax to not include files such as that and only ones with a period and a digit after.</p>\n</blockquote>\n\n<p>You can use this <strong>negative lookahead</strong> based regex for that:</p>\n\n<pre><code>/^message(?!\\.\\D)/\n</code></pre>\n\n<ul>\n<li><code>(?!\\.\\D)</code> means fail the match if <code>messages</code> is followed by a dot and non digit.</li>\n<li>Also better to use anchor <code>^</code> for start</li>\n</ul>\n"}], "owner": {"reputation": 2937, "user_id": 2006436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vzzco.jpg?s=128&g=1", "display_name": "BK435", "link": "https://stackoverflow.com/users/2006436/bk435"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 28007868, "answer_count": 1, "score": 2, "last_activity_date": 1421564121, "creation_date": 1421562545, "last_edit_date": 1421563030, "question_id": 28007728, "link": "https://stackoverflow.com/questions/28007728/regex-with-multiple-possible-options", "title": "regex with multiple possible options", "body": "<p>I am trying to accomplish this:</p>\n\n<p>This script should read the current directory and print the contents of any file that starts with messages and is possibly followed by a period and a digit.</p>\n\n<pre><code>opendir(CURRENT, \".\");\n@message_file = grep(/message(\\.\\d+)?/, readdir (CURRENT));\nclosedir(CURRENT);\n\nforeach $message_file (@message_file) {\n        open (FILE, $message_file);\n        while(&lt;FILE&gt;){\n             print;\n}\nclose(FILE);\n}\n</code></pre>\n\n<p>My code still prints out files like <code>message.txt</code>.  I am trying to figure out the proper syntax to not include files such as that and only ones with a period and a digit after. </p>\n\n<p>Any ideas? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1421561202, "post_id": 28007561, "comment_id": 44403404, "body": "What you actully need? Post the example output"}, {"owner": {"reputation": 1, "user_id": 3729419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5ae322ef6b026cd80cde1601d0869?s=128&d=identicon&r=PG&f=1", "display_name": "hari_cheers", "link": "https://stackoverflow.com/users/3729419/hari-cheers"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1421562135, "post_id": 28007561, "comment_id": 44403501, "body": "Perl Search_Pattern.pl sample.txt for ex: the txt file contain some char like hello world, a beautiful and lovely climate. Now my search pattern use like this: Enter beging Pattern: h and Enter end pattern :e, so it searches the whole characters and return hello world, a beautiful and lovely climate. This works fine, but i need to copy the same to result.txt which is not working"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1421577516, "post_id": 28007561, "comment_id": 44405445, "body": "Please, post a sample input file and expected result."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421588582, "post_id": 28007561, "comment_id": 44408308, "body": "In order to  meaningful answer, we need some idea of what you&#39;re trying to do with input/output."}, {"owner": {"reputation": 1, "user_id": 3729419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5ae322ef6b026cd80cde1601d0869?s=128&d=identicon&r=PG&f=1", "display_name": "hari_cheers", "link": "https://stackoverflow.com/users/3729419/hari-cheers"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421641653, "post_id": 28007561, "comment_id": 44422825, "body": "@Sobrique: See i have a long text file with logs written on it. I need only a particular statement from that log to be extracted. For instnce my log file has error written, i will do a search pattern find begining and end pattern and my complete statement which match those case will be extracted, and will be pasted in another text file result.txt"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421661068, "post_id": 28007561, "comment_id": 44429630, "body": ".... by which I mean  a sample of your source data and expected output."}, {"owner": {"reputation": 1, "user_id": 3729419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5ae322ef6b026cd80cde1601d0869?s=128&d=identicon&r=PG&f=1", "display_name": "hari_cheers", "link": "https://stackoverflow.com/users/3729419/hari-cheers"}, "edited": false, "score": 0, "creation_date": 1421740819, "post_id": 28007561, "comment_id": 44464276, "body": "Sobrique: I got the expected output"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3729419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5ae322ef6b026cd80cde1601d0869?s=128&d=identicon&r=PG&f=1", "display_name": "hari_cheers", "link": "https://stackoverflow.com/users/3729419/hari-cheers"}, "edited": false, "score": 0, "creation_date": 1421562186, "post_id": 28007656, "comment_id": 44403509, "body": "I need it in windows cmd prompt"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1421562810, "last_edit_date": 1421562810, "creation_date": 1421561741, "answer_id": 28007656, "question_id": 28007561, "link": "https://stackoverflow.com/questions/28007561/perl-file-handling-without-using-regular-expression/28007656#28007656", "title": "Perl- File handling without using regular expression", "body": "<p>Try this</p>\n\n<pre><code>open(nis,\"test.txt\");\n@ar = &lt;nis&gt;;\nopen(new,\"&gt;result.txt\");\nprint \"Enter the first string : \";\nchomp($fis = &lt;&gt;);\nprint \"Enter the second string: \";\nchomp($sec = &lt;&gt;);\n@vr = map{m/^$fis.*$sec$/g} @ar;\nprint @vr,\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3729419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5ae322ef6b026cd80cde1601d0869?s=128&d=identicon&r=PG&f=1", "display_name": "hari_cheers", "link": "https://stackoverflow.com/users/3729419/hari-cheers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1421562810, "creation_date": 1421560422, "question_id": 28007561, "link": "https://stackoverflow.com/questions/28007561/perl-file-handling-without-using-regular-expression", "title": "Perl- File handling without using regular expression", "body": "<p>I have a certain piece of script.</p>\n\n<pre><code>if (@ARGV != 2) {\n\n    print \"Please pass atleast one paramer\\n\";\n    print \"Usage:\\n\\t $0 &lt;file_name&gt;&lt;Pattern&gt;\\n\";\n    exit;\n}\n$File_name     = $ARGV[0];\n$res_File_name = $File_name . \"\\.result\\.txt\";\n$Pattern       = $ARGV[1]; chomp($Pattern);\nopen(FD,\"$File_name\") or die (\"File '$File_name' could not be open \\n\");\nopen(WFD,\"&gt;$res_File_name\") or die(\"File $res_File_name could not be opened\\n\");\n\nprint \"Enter begin match pattern: \";\n$bgn = &lt;stdin&gt;; \nchomp($bgn);\n\nprint \"Enter end match pattern: \";\n$en = &lt;stdin&gt;; \nchomp($en);\n\n\n\nwhile ($line = &lt;FD&gt;) {\n\n    chomp($line);\n    if ($line =~ /^$bgn/) { #seaching a patter at begining of the string.\n\n        print \"Begin pattern '$bgn' matched with the line '$line'\\n\";\n    }\n    if ($line =~ /$en$/) { #seaching a patter at end of the string.\n\n        print \"End pattern '$en' matched with the line '$line'\\n\";\n\n      exit;\n    }\nprint WFD $_ if(/$Pattern/);\n\n}\n\nclose(FD);\nclose(WFD);\n</code></pre>\n\n<p>Here i need to do the following action\n    -- In the begin pattern io enter some thing what is wriiten in my text file\n    -- In the end pattern i write something ,Overall i am getting output</p>\n\n<pre><code>-- What is my aim is to copy those in some result.txt. How i can achieve it.\n</code></pre>\n\n<p>Please help me in this regards</p>\n"}, {"tags": ["perl", "formatting", "output"], "answers": [{"tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": false, "score": 0, "last_activity_date": 1421611238, "last_edit_date": 1421611238, "creation_date": 1421610902, "answer_id": 28014142, "question_id": 28006738, "link": "https://stackoverflow.com/questions/28006738/how-to-use-the-perl-format-function-to-print-multiple-columns/28014142#28014142", "title": "How to use the Perl format function to print multiple columns", "body": "<p>I knew about <code>format</code> and that it could be vary handy to generate nice forms... at the time we still had a world where all was monospaced...</p>\n\n<p>So, I researched it a bit and found the following solution:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %word = (\n     the      =&gt; 20,\n     array    =&gt; 10,\n     print    =&gt;  2,\n     a        =&gt; 18,\n     perl     =&gt;  8,\n     function =&gt;  1,\n     of       =&gt; 12,\n     code     =&gt;  5,\n);\n\nmy @word = %word; # turn the hash into a list\n\nformat =\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&gt;&gt;&gt;&gt;        @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&gt;&gt;&gt;&gt;        @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&gt;&gt;&gt;&gt;~~\nshift @word, shift @word, shift @word, shift @word, shift @word, shift @word\n.\n\nwrite;\n</code></pre>\n\n<p>The nasty problem sits in the <code>~~</code> which makes the line repeating and that for each field in the format line you do need a corresponding scalar value... In order to get those scalar values, I shifted them off from the <code>@word</code> array.</p>\n\n<p>There is a lot more to know about <code>format</code> and <code>write</code>.</p>\n\n<p>Have fun!</p>\n"}], "owner": {"reputation": 1, "user_id": 2795227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4008b1204e9264f069048476a3270b57?s=128&d=identicon&r=PG&f=1", "display_name": "yanbin", "link": "https://stackoverflow.com/users/2795227/yanbin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1606165830, "creation_date": 1421550314, "last_edit_date": 1606165830, "question_id": 28006738, "link": "https://stackoverflow.com/questions/28006738/how-to-use-the-perl-format-function-to-print-multiple-columns", "title": "How to use the Perl format function to print multiple columns", "body": "<p>I have a Perl hash like <code>%word</code>. The key is the word and the value is its count. Now I want to display <code>%word</code> like:</p>\n<pre><code>the  20       array  10       print     2\na    18       perl    8       function  1\nof   12       code    5\n</code></pre>\n<p>I search and <strong>Perl format</strong> can solve this, and I learn this page  <a href=\"http://search.cpan.org/dist/perl-5.10.1/pod/perlform.pod\" rel=\"nofollow noreferrer\">perlform</a>, but I still don't how to do it.</p>\n"}, {"tags": ["windows", "perl", "powershell", "file-io", "powershell-3.0"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1421547126, "post_id": 28006440, "comment_id": 44401316, "body": "How is your perl script invoked? <code>while (&lt;&gt;)</code> means read from the files supplied by arguments or <code>STDIN</code>. Also, there&#39;s a <code>chomp</code> function that deletes those trailing newline characters system independently (for the case that you <code>tr</code> is there just to delete the last <code>\\r</code>)."}, {"owner": {"reputation": 303, "user_id": 317567, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/39bc7ddbc437378348db1f96d698afde?s=128&d=identicon&r=PG", "display_name": "Daniel Jacobs", "link": "https://stackoverflow.com/users/317567/daniel-jacobs"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1421553159, "post_id": 28006440, "comment_id": 44402164, "body": "I&#39;ve tried calling it from powershell a couple of different ways, and running it directly from cmd."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 317567, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/39bc7ddbc437378348db1f96d698afde?s=128&d=identicon&r=PG", "display_name": "Daniel Jacobs", "link": "https://stackoverflow.com/users/317567/daniel-jacobs"}, "edited": false, "score": 0, "creation_date": 1421552855, "post_id": 28006669, "comment_id": 44402125, "body": "Thank you for the suggestion. But when I replace my code with yours, I get a cascade of <code>Use of uninitialized value $fields[0] in string eq at C:\\navgit\\split-objects.pl  line 37, &lt;&gt; line 31221.</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 303, "user_id": 317567, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/39bc7ddbc437378348db1f96d698afde?s=128&d=identicon&r=PG", "display_name": "Daniel Jacobs", "link": "https://stackoverflow.com/users/317567/daniel-jacobs"}, "edited": false, "score": 0, "creation_date": 1421553012, "post_id": 28006669, "comment_id": 44402143, "body": "@DanielJacobs: . . . of?"}, {"owner": {"reputation": 303, "user_id": 317567, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/39bc7ddbc437378348db1f96d698afde?s=128&d=identicon&r=PG", "display_name": "Daniel Jacobs", "link": "https://stackoverflow.com/users/317567/daniel-jacobs"}, "edited": false, "score": 0, "creation_date": 1421554035, "post_id": 28006669, "comment_id": 44402294, "body": "That actually got me pointed in the right direction. I added <code>@ARGV = grep { -f } glob(&#39;&#47;tmp&#47;files&#47;*&#39;) unless @ARGV;</code> before <code>while (&lt;&gt;)</code>, and it works perfectly now. Thank you!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 303, "user_id": 317567, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/39bc7ddbc437378348db1f96d698afde?s=128&d=identicon&r=PG", "display_name": "Daniel Jacobs", "link": "https://stackoverflow.com/users/317567/daniel-jacobs"}, "edited": false, "score": 0, "creation_date": 1421555607, "post_id": 28006669, "comment_id": 44402534, "body": "@DanielJacobs: Glad to help. Please see a couple of minor fixes: the <code>@fields == 4 and</code>, and the four lines starting <code>if (eof) . . .</code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1421555399, "last_edit_date": 1421555399, "creation_date": 1421549217, "answer_id": 28006669, "question_id": 28006440, "link": "https://stackoverflow.com/questions/28006440/need-to-split-multiple-files-in-a-directory-based-on-string-rename-properly-usi/28006669#28006669", "title": "Need to split multiple files in a directory based on string, rename properly using powershell or fix my perl script", "body": "<p>It's hard to believe that the Perl code that you show does anything on Linux either. It looks like your <code>while</code> loop is supposed to be reading through all of the files in the <code>@files</code> array, but to make it do that you have to copy the names to <code>@ARGV</code>.</p>\n\n<p>Also note that <code>@files</code> will contain directories as well as files.</p>\n\n<p>I suggest you change the lines starting with <code>my @files = &lt;*&gt;</code> to this. There's no reason why it shouldn't work on both Windows and Linux.</p>\n\n<pre><code>our @ARGV = grep -f, glob '*';\nmy $count = @ARGV;\nprint \"Processing $count files\\n\";\n\nmy $fh;\n\nwhile (&lt;&gt;) {\n\n    s/\\s+\\z//;  # Remove trailing whitespace (including CR and LF)\n    my @fields = split ' ', $_, 4;\n\n    if ( @fields == 4 and $fields[0] eq 'OBJECT' ) {\n\n        my ($object_type, $object_id, $object_name) = @fields[1,2,3];\n        $object_name =~ tr{ ().\\\\/}{_}; # translate spaces, (, ), ., \\ and / to underscores\n\n        my $filename = \"$export_dir/$object_type/$object_type~$object_id~$object_name\";\n\n        open $fh, '&gt;', $filename or die \"Could not open file '$filename': $!\";\n    }\n\n    print $fh \"$_\\n\" if $fh;\n\n    if (eof) {\n        close $fh;\n        $fh = undef;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 317567, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/39bc7ddbc437378348db1f96d698afde?s=128&d=identicon&r=PG", "display_name": "Daniel Jacobs", "link": "https://stackoverflow.com/users/317567/daniel-jacobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 28006669, "answer_count": 1, "score": 0, "last_activity_date": 1421555399, "creation_date": 1421546545, "question_id": 28006440, "link": "https://stackoverflow.com/questions/28006440/need-to-split-multiple-files-in-a-directory-based-on-string-rename-properly-usi", "title": "Need to split multiple files in a directory based on string, rename properly using powershell or fix my perl script", "body": "<p>I have a directory full of files (text exports of Dynamics NAV objects that have been exported) in Windows. Each file contains multiple objects. I need to split each file into separate files based on lines that begin with OBJECT, and name each file appropriately.</p>\n\n<p>The purpose of this is to get our Dynamics NAV system into git. </p>\n\n<p>I wrote a nifty perl program to do this that works great on linux. But it hangs on the while(&lt;>) loop in Windows (Server 2012 if that matters). </p>\n\n<p>So, I need to either figure out how to do this in the PowerShell script that I wrote that generates all of the files, or fix my perl script that I'm calling from PowerShell. Does Windows perl handle filehandles differently than linux?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse File::Path qw(make_path remove_tree);\nuse POSIX qw(strftime); \n\nmy $username = getlogin || getpwuid($&lt;);\nmy $datestamp  = strftime(\"%Y%m%d-%H%M%S\", localtime); \n\nmy $work_dir = \"/temp/nav_export\";\nmy $objects_dir = \"$work_dir/$username/objects\";\nmy $export_dir = \"$work_dir/$username/$datestamp\";\n\nprint \"Objects being exported to $export_dir\\n\";\n\nmake_path(\"$export_dir/Page\", \"$export_dir/Codeunit\",  \"$export_dir/MenuSuite\", \"$export_dir/Query\", \"$export_dir/Report\", \"$export_dir/Table\", \"$export_dir/XMLport\");\n\nchdir $objects_dir or die \"Could not change to $objects_dir: $!\";\n\n# delete empty files\nforeach(glob('*.*')) {\n    unlink if -f and !-s _;\n}\n\nmy @files = &lt;*&gt;;\nmy $count = @files;\nprint \"Processing $count files\\n\";\n\nopen (my $fh, \"&gt;-\") or die \"Could not open standard out: $!\";\n\n# OBJECT Codeunit 1 ApplicationManagement\n\nwhile(&lt;&gt;)\n{\n    if (m/^OBJECT ([A-Za-z]+) ([0-9]+) (.*)/o)\n    {\n        my $objectType = $1;\n        my $objectID = $2;\n        my $objectName = my $firstLine = $3;\n        $objectName =~ s/[\\. \\/\\(\\)\\\\]/_/g; # translate spaces, (, ), ., \\ and / to underscores\n        $objectName =~ tr/\\cM//d; # get rid of Ctrl-M\n        my $filename = $export_dir . \"/\" . $objectType . \"/\" . $objectType . \"~\" . $objectID . \"~\" . $objectName;\n\n        close $fh and open($fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\n\n        print $fh \"OBJECT $objectType $objectID $firstLine\\n\";\n\n        next;\n    }\n\n    print $fh $_;\n}\n</code></pre>\n\n<p>I've learned quite a bit of PowerShell in the past few days. There are some things that it really does quite well. And some (such as calling an executable with variables and command line options that have spaces) that are maddeningly difficult to figure out. To call curl, this is what I resorted to:</p>\n\n<pre><code>$curl = \"C:\\Program Files (x86)\\cURL\\bin\\curl\"\n\n$arg10 = '-s'\n$arg1 = '-X'\n$arg11 = 'post'\n$arg2 = '-H'\n$arg22 = '\"Accept-Encoding: gzip,deflate\"'\n$arg3 = '-H'\n$arg33 = '\"Content-Type: text/xml;charset=UTF-8\"'\n$arg4 = '-H'\n$arg44 = '\"SOAPAction:urn:microsoft-dynamics-schemas/page/permissionrange:ReadMultiple\"'\n$arg5 = '--ntlm'\n$arg6 = '-u'\n$arg66 = 'username:password'\n$arg7 = '-d'\n$arg77 = '\"@soap_envelope.txt\"'\n$arg8 =  \"http://$servicetier.corp.company.net:7047/$database/WS/DBDOC/Page/PermissionRange\"\n$arg9 = \"-o\"\n$arg99 = \"c:\\temp\\nav_export\\$env:username\\raw_list.xml\"\n\n&amp;\"$curl\" $arg10 $arg1 $arg11 $arg2 $arg22 $arg3 $arg33 $arg4 $arg44 $arg5 $arg6 $arg66 $arg7 $arg77 $arg8 $arg9 $arg99\n</code></pre>\n\n<p>I realize that part is a bit of a tangent. But I've been working really hard at trying to figure this out and not have to bother you nice folk here at stackoverflow!</p>\n\n<p>I'm ambivalent about making it work in PowerShell or fixing the Perl code at this point. I just need to make it work. But I'm hoping it's just some little difference in filehandle handling between linux and Windows.</p>\n"}, {"tags": ["mysql", "database", "perl", "perl-module"], "comments": [{"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421539693, "post_id": 28004708, "comment_id": 44399899, "body": "If you don&#39;t want variable interpolation into a string, you can put single quotes around it.   It&#39;s much easier to do that, than search through a string looking for problematic characters that need escaping.  If you need to use single quotes in the interior of the string, then use q{} on the outside of the string, e.g. <code>my $str = q{This isn&#39;t a problem};</code>  (There&#39;s also <code>qq{}</code> for double quotes).  Also, <code>@domain</code> is not a proper name for an array, which can contain may things.  It should be <code>@domains</code>."}, {"owner": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421541675, "post_id": 28004708, "comment_id": 44400315, "body": "@7stud I am now using q with single quotes inside.   How should I work around the error?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421625399, "post_id": 28004708, "comment_id": 44419709, "body": "Post why your CLI command worked but the perl query didn&#39;t -- it might help someone else."}, {"owner": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "reply_to_user": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421625525, "post_id": 28004708, "comment_id": 44419733, "body": "@7stud I just typed in the command shown in my post on CLI and it worked. But when I use same query through PERL it didn&#39;t work. I am confused why it didn&#39;t work."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421633409, "post_id": 28004708, "comment_id": 44421236, "body": "I&#39;m trying to install mariaDB, but I&#39;m not having any luck."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1421650768, "post_id": 28004708, "comment_id": 44425214, "body": "Using mysql, I get the same error you do using both the CLI and the perl program.  I tracked down the error, though.  Try this:  copy your working CLI command and paste it in a blank text file.  Then copy the command from your perl program, and paste it in the text file under the CLI command.  Then compare the commands character by character."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "edited": false, "score": 0, "creation_date": 1421533412, "post_id": 28004877, "comment_id": 44398392, "body": "I used $data_base_handle and when I printed @results, this is what I see  <code>HASH(0x1d05be8) HASH(0x1d05ba0) HASH(0x1d05b58) HASH(0x1d05b10) HASH(0x1d05ac8) HASH(0x1d05a80) HASH(0x1d05a38)</code>  SO instead of 7 entries in my database table , I see these 7 hashed values. Any idea why that is happening?"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "edited": false, "score": 0, "creation_date": 1421534236, "post_id": 28004877, "comment_id": 44398597, "body": "@JohnF, See my response in my answer."}, {"owner": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "edited": false, "score": 0, "creation_date": 1421534474, "post_id": 28004877, "comment_id": 44398647, "body": "I tried this <code>my $data = dbConnect();   my %result = query($data);    for my $key (keys %result){           print &quot;$key $result{$key}&quot;;   }   </code>    Still gives me hash values? @7stud"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "edited": false, "score": 0, "creation_date": 1421535348, "post_id": 28004877, "comment_id": 44398863, "body": "Why did you try that?  query() returns an array.  Then you assigned the array to a hash.  Start a new example program, create an array, then assign it to a hash.  Then output the hash like this:  <code>say Dumper(\\%hash_name);</code>  You have to <code>use Data::Dumper;</code>  and <code>use 5.016; #for say()</code> to be able to do that.  You ABSOLUTELY, NO QUESTIONS ASKED, have to learn to use Data::Dumper like that.  In fact, EVERY program you write, should have <code>use Data::Dumper;</code> at the top....along with <code>use strict;</code>, and <code>use warnings;</code> and <code>use 5.016; #enable say()</code>."}, {"owner": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "edited": false, "score": 0, "creation_date": 1421535592, "post_id": 28004877, "comment_id": 44398917, "body": "Yes, you are right. Dumper shows entries.     Thanks your answer cleared many of my doubts :)"}, {"owner": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "edited": false, "score": 0, "creation_date": 1421537354, "post_id": 28004877, "comment_id": 44399367, "body": "I edited my question. I would appreciate, if you could push me in right direction.      Thanks :)"}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "edited": false, "score": 0, "creation_date": 1421660078, "post_id": 28004877, "comment_id": 44429102, "body": "@JohnF, I posted the <i>answer</i> under your question--but if you hadn&#39;t been able to solve the problem with your query, you could have used perl to accomplish the same thing. See how at the bottom of my answer."}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 6, "last_activity_date": 1421659138, "last_edit_date": 1421659138, "creation_date": 1421532434, "answer_id": 28004877, "question_id": 28004708, "link": "https://stackoverflow.com/questions/28004708/perl-module-to-log-in-database-and-do-a-simple-query/28004877#28004877", "title": "Perl module to log in database and do a simple query?", "body": "<p>1) Your error is saying that $dbh is undefined here:</p>\n\n<pre><code>sub query {\n    my $dbh = shift;\n    ...\n    # issue query\n    my $sth = $dbh-&gt;prepare($sql);  #&lt;***LOOK HERE***\n</code></pre>\n\n<p>...which means $dbh must be undefined here:</p>\n\n<pre><code>sub query {\n    my $dbh = shift;  #&lt;***LOOK HERE***\n    ...\n    # issue query\n    my $sth = $dbh-&gt;prepare($sql);  \n</code></pre>\n\n<p>2)  Let's see why.  Your dbConnect() method returns $dbh:</p>\n\n<pre><code>sub dbConnect {\n    # Read database settings from config file:\n    print \"Works\";\n    my $dsn = \"DBI:mysql:project\";\n\n    my   $dbh = DBI-&gt;connect( \n        $dsn,\n        'root',\n        'mydatabasepassword',\n        { RaiseError =&gt; 1 } \n    );\n\n    return $dbh;  #&lt;***LOOK HERE*****\n}\n</code></pre>\n\n<p>3) But, you call dbConnect() like this:</p>\n\n<pre><code>dbConnect();\n</code></pre>\n\n<p>Because you never save the return value anywhere, $dbh is discarded.</p>\n\n<p>4) Furthermore, you call query() like this:</p>\n\n<pre><code>query();\n</code></pre>\n\n<p>Yet, you defined query() like this:</p>\n\n<pre><code>sub query {\n        my $dbh = shift;\n</code></pre>\n\n<p>The query() sub believes that the first argument will be the database handle--but you didn't call query() with any arguments.</p>\n\n<p>You need to do this:</p>\n\n<pre><code>my $data_base_handle = dbConnect();\n\nmy @results = query($data_base_handle);\n\n#do something with @results\n</code></pre>\n\n<p><strong>Response to comment</strong>:</p>\n\n<blockquote>\n  <p>I printed @results, this is what I see  HASH(0x1d05be8)\n  HASH(0x1d05ba0) HASH(0x1d05b58) HASH(0x1d05b10) HASH(0x1d05ac8)\n  HASH(0x1d05a80) HASH(0x1d05a38)</p>\n</blockquote>\n\n<p>You wrote:</p>\n\n<pre><code>my $row = $sth-&gt;fetchrow_hashref;\n</code></pre>\n\n<p>...which asks DBI to return each row as a reference to a hash.  Then you wrote:</p>\n\n<pre><code>push @returnData, $row;\n</code></pre>\n\n<p>...which pushed each hash reference into an array.  So query() returns an array of hash references.  The notation <code>HASH(0x1d05be8)</code> is what perl outputs when you print a hash reference.  </p>\n\n<p>If you want to see what's in those hashes, then do this:</p>\n\n<pre><code>use 5.016;  #enable say()\nuse Data::Dumper;\n...\n...\n\nfor my $href (@results) {\n    say Dumper($href);\n}\n</code></pre>\n\n<p>To access the data in a hash reference, you can do this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.016;\nuse Data::Dumper;\n\nmy $href = {\n    c =&gt; 3,\n    a =&gt; 1,\n    b =&gt; 2,\n};\n\nmy %hash = %{$href};  #dereference, {}, the reference into a hash, %\n\nfor my $key ( keys %hash ) {\n    say \"$key $hash{$key}\";\n}\n\n--output:--\nc 3\na 1\nb 2\n</code></pre>\n\n<p><strong>Response to next comment:</strong>\n(Answer posted in comments under op.)</p>\n\n<p>By the way, perl is pretty good at text processing, so if you couldn't figure out the problem with your query, you could process the email addresses with perl:</p>\n\n<pre><code>use strict; \nuse warnings; \nuse 5.012;\nuse Data::Dumper;\n\nuse DBI;\nuse DBD::mysql;\n\n# CONFIG VARIABLES\nmy $db_type = \"mysql\";\nmy $database = \"my_db\";\nmy $host = \"localhost\";\nmy $port = \"3306\";\nmy $user = \"root\";\nmy $pword = \"\";\n\n# DATA SOURCE NAME\nmy $dsn = \"dbi:$db_type:$database:$host:$port\";\n\n# PERL DBI CONNECT\nmy $dbh = DBI-&gt;connect($dsn, $user, $pword);\n\n# PREPARE THE QUERY\nmy $tablename = \"mailing\";\n\nmy $select =&lt;&lt;\"END_OF_SELECT\";\n    select addr from $tablename\nEND_OF_SELECT\n\nmy $addr_aref = $dbh-&gt;selectcol_arrayref($select);  #Returns a reference to a flat array containing all the email addresses\n$dbh-&gt;disconnect;\n\nmy %count_for;\n\nfor my $addr (@{$addr_aref}) {\n    $addr =~ s/.*@//;\n    $count_for{$addr}++;\n}\n\nsay Dumper(\\%count_for);\n\n--output:--\n$VAR1 = {\n          'google.com' =&gt; 2,\n          'gorilla.com' =&gt; 1,\n          'yahoo.com' =&gt; 3\n        };\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 3903035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3b799f462e2965f1a2ca0cfdc35503?s=128&d=identicon&r=PG&f=1", "display_name": "John F", "link": "https://stackoverflow.com/users/3903035/john-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 741, "favorite_count": 0, "accepted_answer_id": 28004877, "answer_count": 1, "score": 1, "last_activity_date": 1421659138, "creation_date": 1421531345, "last_edit_date": 1421537291, "question_id": 28004708, "link": "https://stackoverflow.com/questions/28004708/perl-module-to-log-in-database-and-do-a-simple-query", "title": "Perl module to log in database and do a simple query?", "body": "<p>I can't seem to figure out the issue with my .pm file and script. I am fairly new to Perl. </p>\n\n<p>I have a <strong>database with name \"project\" and there is table with name \"mailing\".</strong>\nmailing table has 7 entries, which I want to display using module.</p>\n\n<p>So, I have this custom module to log in to database and do a query. This module is names as DB.pm</p>\n\n<p><strong>DB.pm is stored on my FEDORA 20 at /root/mysql/GUI/DB.pm.</strong></p>\n\n<p>DB.pm is defined as follows:</p>\n\n<pre><code>package GUI::DB;\n\nuse strict;\nuse DBI;\n\nuse vars qw(@ISA @EXPORT);\nuse Exporter;\n@ISA = qw(Exporter);\n@EXPORT = qw(dbConnect query);\n\n#\n# dbConnect - connect to the database, get the database handle\n#\nsub dbConnect {\n        # Read database settings from config file:\n        print \"Works\";\n    my $dsn = \"DBI:mysql:project\";\n    my   $dbh = DBI-&gt;connect( $dsn,\n                'root',\n                'mydatabasepassword',\n                                { RaiseError =&gt; 1 } \n    );\n        return $dbh;\n\n}\n\n#\n# query - execute a query with parameters\n#       query($dbh, $sql, @bindValues)\n#\nsub query {\n        my $dbh = shift;\n        my $sql =\"SELECT * FROM mailing\";\n        my @bindValues = @_;            # 0 or serveral parameters\n\n        my @returnData = ();\n\n        # issue query\n        my $sth = $dbh-&gt;prepare($sql);  //**line number 39 that is giving** error\n\n        if ( @bindValues ) {\n                $sth-&gt;execute(@bindValues);\n        } else {\n                $sth-&gt;execute();\n        }\n\n        if ( $sql =~ m/^select/i ) {\n                while ( my $row = $sth-&gt;fetchrow_hashref ) {\n                        push @returnData, $row;\n                }\n        }\n\n        # finish the sql statement\n        $sth-&gt;finish();\n\n        return @returnData;\n}\n1;\n</code></pre>\n\n<p>Now I want to use this module inside my per script. This is what I tried:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse lib '/root/mysql/';\n\nuse GUI::DB qw(dbConnect query);\ndbConnect();\nquery();\n</code></pre>\n\n<p>This is the error I'm getting --></p>\n\n<p><strong>Can't call method \"prepare\" on an undefined value at /root/mysql/GUI/DB.pm line 39.</strong></p>\n\n<p>Please help me with this. I am not sure how to proceed. I am guessing it has something to do with argument passing. Nothing is wrong with database. It works fine from CLI. </p>\n\n<p>Thanks :)</p>\n\n<p>_x_X_X_X_X_X_X_X_X_X_X_X_X_X_X_X__X_X_X_X_X__X</p>\n\n<p>TILL HERE IT IS RESOLVED</p>\n\n<p>_X_X_X_X_X_X_X_X_X_X_X_X_X_X_X_X_X__X_X_X</p>\n\n<p>FURTHER ISSUE is SQL command is not working.\nIn the mailing table of my database I have email id with different domains.\nFor example, some id's are xyz@gmail.com, 12343@gmail.com , bae@yahoo.com as so on and I am assuming new email ids will be added to mailing tables every day with different domains.</p>\n\n<p><strong>I am trying to write a scripts that updates another table which holds a daily count of email addresses by their domain name. This is what I tried:</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse lib '/root/mysql/';\nuse 5.016;\nuse Data::Dumper;\n\nuse GUI::DB qw(dbConnect query);\n\nmy $data = dbConnect();\nmy @domain = query($data, \"SELECT substr(addr,locate('\\@',addr)+1) as maildomain, count (*) as mailcount FROM mailing GROUP BY maildomain ORDER BY mailcount DESC\");\n\nfor my $key (@domain){\n        say Dumper ($key);\n}\n</code></pre>\n\n<p>But I am getting an error,</p>\n\n<p>You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '*) as mailcount FROM mailing GROUP BY maildomain ORDER BY mailcount DESC' at line 1 at /root/mysql/GUI/DB.pm line 44.</p>\n\n<p>Same SQL statement works from CLI with no issues.\nAny help would be appreciated. :)</p>\n"}, {"tags": ["perl", "redirect", "pipe"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1421534183, "post_id": 28004505, "comment_id": 44398582, "body": "use pipe operator: <code>tcpdump ... | parse.pl</code>. And better use option <code>-l</code> to make output line buffered."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1421535870, "creation_date": 1421535870, "answer_id": 28005304, "question_id": 28004505, "link": "https://stackoverflow.com/questions/28004505/how-to-read-a-redirected-flow-in-perl-script/28005304#28005304", "title": "How to read a redirected flow in perl script", "body": "<p><code>&gt;</code> is a redirect to a file. That's not what you want - it'll overwrite your perl file.</p>\n\n<p>What you need is a pipe:</p>\n\n<pre><code>tcpdump -i eth0 | ./parse.pl\n</code></pre>\n\n<p>This will connect the output of tcpdump to the <code>STDIN</code> of your perl. Which you can then do... whatever you like with. </p>\n\n<p>E.g.:</p>\n\n<pre><code>while ( &lt;STDIN&gt; ) {\n</code></pre>\n"}], "owner": {"reputation": 128, "user_id": 3365963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ea4937ad9052b362fc1eef79c79f21?s=128&d=identicon&r=PG&f=1", "display_name": "LnlB", "link": "https://stackoverflow.com/users/3365963/lnlb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 28005304, "answer_count": 1, "score": 0, "last_activity_date": 1421535870, "creation_date": 1421530006, "question_id": 28004505, "link": "https://stackoverflow.com/questions/28004505/how-to-read-a-redirected-flow-in-perl-script", "title": "How to read a redirected flow in perl script", "body": "<p>I would like to parse the output of tcpdump command with a perl script in real time.</p>\n\n<p>How can I read each line in my script when I'll call it like this : </p>\n\n<pre><code>tcpdump -i eth0 &gt; ./parse.pl\n</code></pre>\n\n<p>Have a nice day </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1846, "user_id": 1620112, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/oETVN.jpg?s=128&g=1", "display_name": "Charlie Dalsass", "link": "https://stackoverflow.com/users/1620112/charlie-dalsass"}, "is_accepted": false, "score": 1, "last_activity_date": 1421529652, "last_edit_date": 1421529652, "creation_date": 1421529231, "answer_id": 28004387, "question_id": 28004342, "link": "https://stackoverflow.com/questions/28004342/adding-some-columns-into-a-file-from-two-files-using-perl/28004387#28004387", "title": "Adding some columns into a file from two files using perl", "body": "<p>You are writing the output from file1, followed by file2, which is what the output reflects. </p>\n\n<p>Read in the input from the first file, and store data in a hash. Then read input from second file and print records from both files at the end.</p>\n"}], "owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1421529652, "creation_date": 1421528925, "question_id": 28004342, "link": "https://stackoverflow.com/questions/28004342/adding-some-columns-into-a-file-from-two-files-using-perl", "title": "Adding some columns into a file from two files using perl", "body": "<p>I have two input files (rmsd1.xvg and rmsd2.xvg). I want to write them into output file after selecting a different column from each input file. My input files and code are the following:</p>\n\n<p><strong>rmsd1.xvg:</strong></p>\n\n<pre><code># GROup of MAchos and Cynical Suckers\n#\n@    title \"RMSD\"\n@    xaxis  label \"Time (ps)\"\n@    yaxis  label \"RMSD (nm)\"\n1.0000000    0.0000009\n20.0000000    0.1478001\n40.0000000    0.1648600\n60.0000000    0.1645018\n80.0000000    0.1786710\n100.0000000    0.2115960\n</code></pre>\n\n<p><strong>rmsd2.xvg:</strong></p>\n\n<pre><code># GROup of MAchos and Cynical Suckers\n#\n@    title \"RMSD\"\n@    xaxis  label \"Time (ps)\"\n@    yaxis  label \"RMSD (nm)\"\n1.0000000    0.1000009\n20.0000000    0.2478001\n40.0000000    0.3648600\n60.0000000    0.4645018\n80.0000000    0.5786710\n100.0000000    0.6115960\n</code></pre>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\n# Open file1 to read\nopen my $input_file1, '&lt;', \"rmsd1.xvg\" or die qq{Failed to open \"rmsd1.xvg\" for writing: $!};\n\n# Open file2 to read\nopen my $input_file2, '&lt;', \"rmsd2.xvg\" or die qq{Failed to open \"rmsd2.xvg\" for writing: $!};\n\n# Open new file to write\nopen my $out_file, '&gt;', \"out_file.xvg\" or die qq{Failed to open \"out_file.xvg\" for writing: $!};\n\n\nwhile(&lt;$input_file1&gt;)\n{ \n next if /(^\\s*$)|(^#)|(^@)/;\n my @columns1 = split;\n print $out_file join(\"\\t\", $columns1[0],$columns1[1], \"\\n\");\n}\n\nwhile(&lt;$input_file2&gt;)\n{ \n next if /(^\\s*$)|(^#)|(^@)/;\n my @columns2 = split;\n print $out_file join(\"\\t\", $columns2[1]), \"\\n\";\n}\nclose($input_file1);\nclose($input_file2);\nclose($out_file);\n</code></pre>\n\n<p>My code gives me a output as the following. </p>\n\n<p><strong>Output file:</strong></p>\n\n<pre><code>1.0000000    0.0000009\n20.0000000    0.1478001\n40.0000000    0.1648600\n60.0000000    0.1645018\n80.0000000    0.1786710\n100.0000000    0.2115960\n0.1000009\n0.2478001\n0.3648600\n0.4645018\n0.5786710\n0.6115960\n</code></pre>\n\n<p>Whereas i want to get a output as the following. That is all columns should be side by side. How can i get this output?</p>\n\n<p><strong>Requested:</strong></p>\n\n<pre><code>1.0000000    0.0000009    0.1000009   \n20.0000000    0.1478001    0.2478001\n40.0000000    0.1648600    0.3648600\n60.0000000    0.1645018    0.4645018\n80.0000000    0.1786710    0.5786710\n100.0000000    0.2115960     0.6115960\n</code></pre>\n"}, {"tags": ["perl", "scraper"], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1421534820, "post_id": 28004517, "comment_id": 44398744, "body": "Bingo! Thanks!  You had a small typo:      use HTML::Tagset; (lowercase &quot;s&quot; needed)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1421541571, "last_edit_date": 1421541571, "creation_date": 1421530064, "answer_id": 28004517, "question_id": 28003591, "link": "https://stackoverflow.com/questions/28003591/webscraper-cannot-find-link-or-meta-elements-in-the-body-of-an-html-docu/28004517#28004517", "title": "Web::Scraper Cannot find &lt;link&gt; or &lt;meta&gt; elements in the &lt;body&gt; of an HTML document", "body": "<p>This is because of a bug in <a href=\"https://metacpan.org/module/HTML::TreeBuilder::XPath\" rel=\"noreferrer\"><code>HTML::TreeBuilder::XPath</code></a>. It has a naive understanding of <code>&lt;link&gt;</code> and <code>&lt;meta&gt;</code> elements, insisting that they belong only in the <code>&lt;head&gt;</code> element, even if they have an <code>itemprop</code> attribute.</p>\n\n<p>The way elements are treated is based on the hashes in <a href=\"https://metacpan.org/module/HTML::Tagset\" rel=\"noreferrer\"><code>HTML::Tagset</code></a>, and a fix of sorts can be effected by hacking this data.</p>\n\n<p>If you add this to the top of your program</p>\n\n<pre><code>use HTML::Tagset;\n\nfor (qw/ link meta /) {\n    $HTML::Tagset::isHeadElement{$_}       = 0;\n    $HTML::Tagset::isHeadOrBodyElement{$_} = 1;\n}\n</code></pre>\n\n<p>then it \"fixes\" the specific situation in your question, but of course a proper solution should take account of the <code>itemprop</code> attributes as well as the tags.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 28004517, "answer_count": 1, "score": 2, "last_activity_date": 1421601173, "creation_date": 1421524199, "last_edit_date": 1421601173, "question_id": 28003591, "link": "https://stackoverflow.com/questions/28003591/webscraper-cannot-find-link-or-meta-elements-in-the-body-of-an-html-docu", "title": "Web::Scraper Cannot find &lt;link&gt; or &lt;meta&gt; elements in the &lt;body&gt; of an HTML document", "body": "<p>I've been staring a this for an hour now and I'm throwing in the towel.</p>\n\n<p>I am attempting to scrape some data from a web page. Here's a snippet with some of the data I'm trying to extract:</p>\n\n<pre><code>&lt;span itemprop=\"thumbnail\" itemscope itemtype=\"http://schema.org/ImageObject\"&gt;\n  &lt;link itemprop=\"url\" href=\"http://blahblah.org/video/thumbnail_23432230.jpg\"&gt;\n  &lt;meta itemprop=\"width\" content=\"1280\"&gt;\n  &lt;meta itemprop=\"height\" content=\"720\"&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>I want to grab the value of the href property form the  tag with the Web::Scraper module. Here's the relevant perl code:</p>\n\n<pre><code>my $div = scraper {\n  process 'span[itemprop=\"thumbnail\"] &gt; link', url =&gt; '@href';\n};\nmy $res = $div-&gt;scrape( $html );\n$url = $res-&gt;{url};\n</code></pre>\n\n<p>No matter what I try, $url returns undefined. I'm using version .36 of the Web::Scraper module.</p>\n"}, {"tags": ["perl", "substr"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1421523255, "post_id": 28003197, "comment_id": 44395579, "body": "What&#39;s the original input?  If you&#39;re trying to remove &quot;is&quot; from &quot;This is what you have&quot; you just have to remove 3 characters instead of 2."}, {"owner": {"reputation": 11, "user_id": 3720245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4abe84001cb91987d740f06fa9da7300?s=128&d=identicon&r=PG&f=1", "display_name": "vicky", "link": "https://stackoverflow.com/users/3720245/vicky"}, "edited": false, "score": 0, "creation_date": 1421524145, "post_id": 28003197, "comment_id": 44395844, "body": "Thank You Jim Davis your suggestion works.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1421527163, "post_id": 28003197, "comment_id": 44396714, "body": "@JimDavis: Please post your comment as a solution, so that the OP can accept it and mark the question as being answered."}], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 4, "creation_date": 1421523194, "post_id": 28003357, "comment_id": 44395563, "body": "<code>substr</code> can act as an lvalue, it&#39;s fine."}], "tags": [], "owner": {"reputation": 9633, "user_id": 2532946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lPZj.png?s=128&g=1", "display_name": "mti2935", "link": "https://stackoverflow.com/users/2532946/mti2935"}, "is_accepted": false, "score": -2, "last_activity_date": 1421522858, "creation_date": 1421522858, "answer_id": 28003357, "question_id": 28003197, "link": "https://stackoverflow.com/questions/28003197/removing-character-using-substr-in-perl/28003357#28003357", "title": "removing character using substr in perl", "body": "<p>I don't think you can assign a string to the result of the substr command, like you are trying to do, and get the expected result.  Try it this way instead:</p>\n\n<p>$newstring=substr($string,0,4) . substr($string,5);</p>\n"}, {"tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": false, "score": 1, "last_activity_date": 1421528767, "creation_date": 1421528767, "answer_id": 28004311, "question_id": 28003197, "link": "https://stackoverflow.com/questions/28003197/removing-character-using-substr-in-perl/28004311#28004311", "title": "removing character using substr in perl", "body": "<p>If you're trying to remove the word <code>is</code> and one of the spaces next to it from <code>This is what you have</code>, you'll need to remove 3 characters instead of just 2.</p>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": true, "score": 1, "last_activity_date": 1421644858, "last_edit_date": 1421644858, "creation_date": 1421536626, "answer_id": 28005397, "question_id": 28003197, "link": "https://stackoverflow.com/questions/28003197/removing-character-using-substr-in-perl/28005397#28005397", "title": "removing character using substr in perl", "body": "<p>A string, like an array, starts at position 0:</p>\n\n<pre><code>say '012345679';\nmy $str = \"This is what you have\";\nsay $str;\n\n--output:--\n012345679\nThis is what you have\n</code></pre>\n\n<p>To remove 'is' and the space preceding 'is', you need to remove positions 4, 5, 6:</p>\n\n<pre><code>012345679\nThis is what you have\n    ^^^\n    |||\n</code></pre>\n\n<p>...which you can do like this:</p>\n\n<pre><code>say '012345679';\nmy $str = \"This is what you have\";\nsay $str;\n\nsubstr($str, 4, 3) = \"\";\nsay $str;\n\n--output:--\n012345679\nThis is what you have\nThis what you have\n</code></pre>\n\n<p>Alternatively, you can remove 'is' and the space after 'is' by removing positions 5, 6, 7:</p>\n\n<pre><code>012345679\nThis is what you have\n     ^^^\n     |||\n</code></pre>\n\n<p>...like this:</p>\n\n<pre><code>say '012345679';\nmy $str = \"This is what you have\";\nsay $str;\n\nsubstr($str, 5, 3) = \"\";\nsay $str;\n\n--output:--\n012345679\nThis is what you have\nThis what you have\n</code></pre>\n\n<p>However, in perl most people use <code>s///</code> (the substitution operator) for making substitutions:</p>\n\n<pre><code>s/find me/replace with me/\n</code></pre>\n\n<p>So, you can do this:</p>\n\n<pre><code>my $str = \"This is what you have\"; \nsay $str;\n\n$str =~ s/\\bis\\b //;  # \\b means 'word boundary'\nsay $str;\n\n--output:--\n012345679\nThis is what you have\nThis what you have\n</code></pre>\n\n<p>perl programmers are lazy, and counting positions is too hard.  You <em>do</em> need to know regexes for most situations.   </p>\n\n<p>If you want to remove all occurrences of 'is ' in a string, then you can add the 'g' (global) flag:</p>\n\n<pre><code>my $str = \"This is what you have, but his hat is black isn't it?\";\nsay $str;\n\n$str =~ s/\\bis\\b //g;\nsay $str;\n\n--output:--\nThis is what you have, but his hat is black isn't it?\nThis what you have, but his hat black isn't it?\n  ^                      ^            ^\n  |                      |            |\n    skips 'is' embedded in other words\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3720245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4abe84001cb91987d740f06fa9da7300?s=128&d=identicon&r=PG&f=1", "display_name": "vicky", "link": "https://stackoverflow.com/users/3720245/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 28005397, "answer_count": 3, "score": -2, "last_activity_date": 1421644858, "creation_date": 1421521736, "last_edit_date": 1421636357, "question_id": 28003197, "link": "https://stackoverflow.com/questions/28003197/removing-character-using-substr-in-perl", "title": "removing character using substr in perl", "body": "<p>I'm trying to remove two character from the string</p>\n\n<pre><code>This is what you have\n</code></pre>\n\n<p>using</p>\n\n<pre><code>substr ($string, 5, 2) = \"\";\n</code></pre>\n\n<p>The two characters are getting removed, but one extra space is left behind. I obtain</p>\n\n<pre><code>This  what you have\n</code></pre>\n\n<p>but I desire to get</p>\n\n<pre><code>This what you have\n</code></pre>\n\n<p>Can anyone help me to get rid of that space?</p>\n"}, {"tags": ["json", "perl"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4465408, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/be78b93d4d8e037a1d20a276e1d62ace?s=128&d=identicon&r=PG&f=1", "display_name": "Chip Shadd", "link": "https://stackoverflow.com/users/4465408/chip-shadd"}, "edited": false, "score": 0, "creation_date": 1421522772, "post_id": 28003105, "comment_id": 44395444, "body": "Thanks! This worked, I have updated my question with another slightly different scenario if you have any ideas on how to do that."}], "tags": [], "owner": {"reputation": 6881, "user_id": 1112503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PVM67.jpg?s=128&g=1", "display_name": "Ivan Mushketyk", "link": "https://stackoverflow.com/users/1112503/ivan-mushketyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1421521103, "creation_date": 1421521103, "answer_id": 28003105, "question_id": 28003066, "link": "https://stackoverflow.com/questions/28003066/how-can-i-return-the-json-key-id-based-on-given-data/28003105#28003105", "title": "How can I return the json key id based on given data", "body": "<p>I am not sure what your task exactly is, but if you want to find an id by name here is a code sample:</p>\n\n<pre><code>use JSON::Parse 'parse_json';\n\nmy $json_str = '...';\nmy $json = parse_json($json_str);\n# Get part of JSON with ids and names\nmy $keys_hash = $json-&gt;{'keys'};\n# Iterate keys in JSON sub-part\nfor my $id (keys %{$keys_hash}) {\n  # Get name for a specified key\n  my $name = $keys_hash-&gt;{$id};\n  # If found desired name, return id\n  if ($name eq $name_to_find) {\n    return $id;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4465408, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/be78b93d4d8e037a1d20a276e1d62ace?s=128&d=identicon&r=PG&f=1", "display_name": "Chip Shadd", "link": "https://stackoverflow.com/users/4465408/chip-shadd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421524939, "creation_date": 1421520827, "last_edit_date": 1421522716, "question_id": 28003066, "link": "https://stackoverflow.com/questions/28003066/how-can-i-return-the-json-key-id-based-on-given-data", "title": "How can I return the json key id based on given data", "body": "<p>Here is a sample of the JSON structure I am working with:</p>\n\n<pre><code>{\n    \"keys\": {\n      \"1\": \"Name1\",\n      \"2\": \"Name2\",\n      \"3\": \"Name3\",\n      }\n}\n</code></pre>\n\n<p>The structure here is \"id_number\" : \"name\"</p>\n\n<p>Given someone's name, how can I return their ID number?\nIf possible, I would like to keep this current structure as I am pulling it from an API and that is the structure presented.</p>\n\n<p>Also, similarly, if the structure was as follows:</p>\n\n<pre><code>{\n        \"id_number\": {\n          \"Fname\": \"Name1\",\n          \"Lname\": \"Name2\",\n          \"phone\": \"number\",\n          }\n    }\n</code></pre>\n\n<p>How could I go about returning \"id_number\" if given \"Name1\", \"Name2\" or \"number\".</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "file-handling"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421507782, "post_id": 28000708, "comment_id": 44390811, "body": "This compiles just fine. It raises a warning that you have <code>$fh</code> declared multiple times ( <code>&quot;my&quot; variable $fh masks earlier declaration in same statement</code> ) but that doesn&#39;t stop it compiling."}, {"owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421508308, "post_id": 28000708, "comment_id": 44390973, "body": "Oh, right, it did compile, but the filehandle was empty afterwards (at least if the file was in the first two directories, didn&#39;t test the third). Anyway it didn&#39;t do what I wanted it to do. And I forgot to enable warnings, so I asked this rather stupid question..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421508635, "post_id": 28000708, "comment_id": 44391066, "body": "I wouldn&#39;t call it a stupid question, but I wouldn&#39;t be so generous about your description of the problem as <i>&quot;This didn&#39;t work&quot;</i>!"}, {"owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421509289, "post_id": 28000708, "comment_id": 44391291, "body": "I didn&#39;t really remember what exactly happened, but know I checked again and edited accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "edited": false, "score": 0, "creation_date": 1421507624, "post_id": 28000749, "comment_id": 44390756, "body": "Sometimes it&#39;s just so obvious... I somehow thought that because only one of the &quot;open&quot;s would take effect that was ok. Anyway, mystery solved."}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": false, "score": 4, "last_activity_date": 1421507029, "creation_date": 1421507029, "answer_id": 28000749, "question_id": 28000708, "link": "https://stackoverflow.com/questions/28000708/perl-or-to-go-through-a-list/28000749#28000749", "title": "perl &quot;or&quot; to go through a list", "body": "<p>You're duplicating the declaration of <code>$fh</code>.  Move that out:</p>\n\n<pre><code>my $fh;\n\n   open $fh, '&lt;', 'test1'\nor open $fh, '&lt;', 'test2'\nor open $fh, '&lt;', 'test3'\nor die \"Can't open whatever: $!\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "edited": false, "score": 0, "creation_date": 1421508227, "post_id": 28000862, "comment_id": 44390949, "body": "Upvoted because it reminded me that map can be used without of block."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1421510599, "last_edit_date": 1421510599, "creation_date": 1421507701, "answer_id": 28000862, "question_id": 28000708, "link": "https://stackoverflow.com/questions/28000708/perl-or-to-go-through-a-list/28000862#28000862", "title": "perl &quot;or&quot; to go through a list", "body": "<p>If you enable warnings it will tell you <code>\"my\" variable $fh masks earlier declaration in same statement</code></p>\n\n<p>As an alternative, you can use foreach to loop over files,</p>\n\n<pre><code>my @files = map \"dir$_/file.o$ARGV[0]\", 1 ..3;\n\nmy $fh;\nfor (@files) {\n  open($fh, \"&lt;\", $_) and last;\n  undef $fh;\n}\n$fh or die $!;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "edited": false, "score": 0, "creation_date": 1421508795, "post_id": 28000959, "comment_id": 44391127, "body": "In this case the ID comes out of a job handling system, so they&#39;re all unique, but a good point in general. Also thanks for pointing out the problem with the potentially wrong error report."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1421508317, "creation_date": 1421508317, "answer_id": 28000959, "question_id": 28000708, "link": "https://stackoverflow.com/questions/28000708/perl-or-to-go-through-a-list/28000959#28000959", "title": "perl &quot;or&quot; to go through a list", "body": "<p><em>\"Is there an elegant way to do this?\"</em></p>\n\n<p>The warning is because of multiple declarations of <code>$fh</code>, as has already been explained, but I would prefer to see the file selected separately, because</p>\n\n<ul>\n<li><p>There may be more than one file with the desired ID</p></li>\n<li><p>If the file is in <code>dir1</code> or <code>dir2</code> but the <code>open</code> fails for some other reason, your program will go on to try <code>dir3</code> and wrongly report <code>No such file or directory</code></p></li>\n</ul>\n\n<p>I suggest something like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($id) = @ARGV;\n\nmy $filename = do {\n    my @files = grep -f, map \"$_/file.o$id\", qw/ dir1 dir2 dir3 /;\n    die @files . \" matching files found\" unless @files == 1;\n    $files[0];\n};\n\nopen my $fh, '&lt;', $filename or die qq{Couldn't open \"$filename\" for reading: $!};\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 3134778, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/18832e7124cfdb99a4183c0ddd4aa695?s=128&d=identicon&r=PG&f=1", "display_name": "fifaltra", "link": "https://stackoverflow.com/users/3134778/fifaltra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 28000959, "answer_count": 3, "score": 2, "last_activity_date": 1421510599, "creation_date": 1421506771, "last_edit_date": 1421509042, "question_id": 28000708, "link": "https://stackoverflow.com/questions/28000708/perl-or-to-go-through-a-list", "title": "perl &quot;or&quot; to go through a list", "body": "<p>I have written a small script that goes looking for a file with a certain ID-number in three different folders. My first attempt to do this was this:</p>\n\n<pre><code>open my $fh, \"&lt;\", \"dir1/file.o$ARGV[0]\"\nor open my $fh, \"&lt;\", \"dir2/file.o$ARGV[0]\"\nor open my $fh, \"&lt;\", \"dir3/file.o$ARGV[0]\"\n     or die \"Couldn't open `file.o$ARGV[0]' for reading: $!\";\n</code></pre>\n\n<p>This resulted in an empty file handle for files in dir2, which I used for testing, and I have now written an elaborate if(...) else if (...) structure to do what I want. But I still don't understand why my first approach didn't work, so I'm hoping for some insights. </p>\n\n<p>My expectation was that it would try to open the first file, if that failed, look at what comes after the or, try to open that file and so on. Where am I going wrong?</p>\n\n<p>Bonus question: Is there an elegant way to do this?</p>\n"}, {"tags": ["python", "perl", "encryption", "bcrypt", "blowfish"], "comments": [{"owner": {"reputation": 49949, "user_id": 866915, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/09242131d6e17cbbe31e8547514da6e5?s=128&d=identicon&r=PG", "display_name": "ErikR", "link": "https://stackoverflow.com/users/866915/erikr"}, "edited": false, "score": 0, "creation_date": 1421613562, "post_id": 28000255, "comment_id": 44416300, "body": "Figured out the last piece of the puzzle and updated my answer."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3720010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5f5d21894df48ff2f7b5f73183c045?s=128&d=identicon&r=PG&f=1", "display_name": "user3720010", "link": "https://stackoverflow.com/users/3720010/user3720010"}, "edited": false, "score": 0, "creation_date": 1421580528, "post_id": 28001978, "comment_id": 44406186, "body": "Hi , Thank you for the recipe . I &#39;m going to try to cook it. I come back to you with results or ..perhaps one more question . But it sounds good. Your help is very appriciated ."}, {"owner": {"reputation": 49949, "user_id": 866915, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/09242131d6e17cbbe31e8547514da6e5?s=128&d=identicon&r=PG", "display_name": "ErikR", "link": "https://stackoverflow.com/users/866915/erikr"}, "reply_to_user": {"reputation": 11, "user_id": 3720010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5f5d21894df48ff2f7b5f73183c045?s=128&d=identicon&r=PG&f=1", "display_name": "user3720010", "link": "https://stackoverflow.com/users/3720010/user3720010"}, "edited": false, "score": 0, "creation_date": 1421588658, "post_id": 28001978, "comment_id": 44408329, "body": "It turns out that <code>bcrypt.hashpw()</code> from the package python-bcrypt-0.3.1 may be what you are looking for."}], "tags": [], "owner": {"reputation": 49949, "user_id": 866915, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/09242131d6e17cbbe31e8547514da6e5?s=128&d=identicon&r=PG", "display_name": "ErikR", "link": "https://stackoverflow.com/users/866915/erikr"}, "is_accepted": false, "score": 0, "last_activity_date": 1421613526, "last_edit_date": 1421613526, "creation_date": 1421514410, "answer_id": 28001978, "question_id": 28000255, "link": "https://stackoverflow.com/questions/28000255/perl-crypt-eksblowfish-cypher-encrypted-string-and-must-be-decrypted-in-python/28001978#28001978", "title": "Perl Crypt-Eksblowfish Cypher encrypted string and must be decrypted in python", "body": "<p>Update: The complete answer is the Perl code:</p>\n\n<pre><code>my $cipher = Crypt::EksBlowFish-&gt;new($cost, $salt, $key);\n</code></pre>\n\n<p>is equivalent to this Python code:</p>\n\n<pre><code>bf = Eksblowfish()\nbf.expandkey(salt, key)\nfor i in xrange(cost &lt;&lt; 1):\n  bf.expandkey(0, key)\n  bf.expandkey(0, salt)\n</code></pre>\n\n<p>See this repo for example code: <a href=\"https://github.com/erantapaa/python-bcrypt-tests\" rel=\"nofollow\">https://github.com/erantapaa/python-bcrypt-tests</a></p>\n\n<p>Original answer:</p>\n\n<p>A partial answer...</p>\n\n<p>I'm assuming you are calling this Perl code like this:</p>\n\n<pre><code>use Crypt::EksBlowfish;\n\nmy $cipher = Crypt::EksBlowFish-&gt;new($cost, $salt, $key);\n$encoded = $cipher-&gt;encrypt(\"some plaintext\");\n</code></pre>\n\n<p>The <code>new</code> method is implemented by the C function <code>setup_eksblowfish_ks()</code> in lib/Crypt/EksBlowfish.xs. This looks like it is the same as the <code>expandKey</code> method in the Python code <a href=\"https://github.com/fwenzel/python-bcrypt/blob/master/bcrypt/eksblowfish.py\" rel=\"nofollow\">(link)</a></p>\n\n<p>The main difference is the <code>$cost</code> parameter which is not present in the Python method. In the Perl code the <code>$cost</code> parameter controls how many times this loop is executed after the key schedule has been set up:</p>\n\n<pre><code>    for(count = 1U &lt;&lt; cost; count--; ) {\n            for(j = 0; j != 2; j++) {\n                    merge_key(j == 0 ? expanded_key : expanded_salt, ks);\n                    munge_subkeys(ks);\n            }\n    }\n</code></pre>\n\n<p>The Perl <code>-&gt;encrypt()</code> method enciphers a 64-bit word. The equivalent Python code is:</p>\n\n<pre><code>bf.cipher(xl, xr, bf.ENCRYPT)\n</code></pre>\n\n<p>where xl and xr are integers representing the left 32-bits and right 32-bits respectively.</p>\n\n<p>So the recipe should go something like this:</p>\n\n<ol>\n<li>Create the Python object: <code>bf = EksBlowfish()</code></li>\n<li>Initialize the key schedule: <code>bf.expandkey(salt, key)</code></li>\n<li>Further munge the key schedule using the cost parameter (TBD)</li>\n<li>Encrypt with <code>bf.cipher(xl, xr, bf.ENCRYPT)</code></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 3720010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a5f5d21894df48ff2f7b5f73183c045?s=128&d=identicon&r=PG&f=1", "display_name": "user3720010", "link": "https://stackoverflow.com/users/3720010/user3720010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523277115, "creation_date": 1421503495, "last_edit_date": 1523277115, "question_id": 28000255, "link": "https://stackoverflow.com/questions/28000255/perl-crypt-eksblowfish-cypher-encrypted-string-and-must-be-decrypted-in-python", "title": "Perl Crypt-Eksblowfish Cypher encrypted string and must be decrypted in python", "body": "<p>A Perl script use this module to encrypt string\n<a href=\"http://search.cpan.org/~zefram/Crypt-Eksblowfish-0.009/lib/Crypt/Eksblowfish.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~zefram/Crypt-Eksblowfish-0.009/lib/Crypt/Eksblowfish.pm</a></p>\n\n<p>I need to code the decrypt fonction in python . I know the key and the salt . \nI tried to use py-bcrypt but it seems that the two equiv function </p>\n\n<p>$ciphertext = $cipher->encrypt($plaintext);\n$plaintext = $cipher->decrypt($ciphertext);</p>\n\n<p>are not implemented . </p>\n\n<p>How can i do ? Is there a python module anywhere that can help me to decrypt my strings ? </p>\n"}, {"tags": ["regex", "perl", "substitution"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421497683, "post_id": 27999426, "comment_id": 44388259, "body": "Can you give example and expected outputs."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1421498648, "post_id": 27999426, "comment_id": 44388462, "body": "Your script works fine for me. I get the expected result."}, {"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1421501574, "post_id": 27999426, "comment_id": 44389215, "body": "Your program gives the expected output and working fine. Where you have the problem ? Are you not able to get the expected output ?"}, {"owner": {"reputation": 73, "user_id": 3144089, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f781e5522cb8594d76cab0e405e533d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3144089", "link": "https://stackoverflow.com/users/3144089/user3144089"}, "edited": false, "score": 1, "creation_date": 1421507818, "post_id": 27999426, "comment_id": 44390824, "body": "The problem was with the regex (replacement) grabbing the new lines also. During substitution this was causing the problem, each replacement moving the subsequent output to new line. I have fixed it now and it works now. Thanks for you time."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3144089, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f781e5522cb8594d76cab0e405e533d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3144089", "link": "https://stackoverflow.com/users/3144089/user3144089"}, "edited": false, "score": 0, "creation_date": 1421507920, "post_id": 28000497, "comment_id": 44390854, "body": "I knew about the un-ordering of hash. This fully does not produce the expected output. I was able to fix this. BTW thanks for the compact code."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "reply_to_user": {"reputation": 73, "user_id": 3144089, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f781e5522cb8594d76cab0e405e533d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3144089", "link": "https://stackoverflow.com/users/3144089/user3144089"}, "edited": false, "score": 0, "creation_date": 1421508013, "post_id": 28000497, "comment_id": 44390882, "body": "What turned out to be the problem?"}, {"owner": {"reputation": 73, "user_id": 3144089, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f781e5522cb8594d76cab0e405e533d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3144089", "link": "https://stackoverflow.com/users/3144089/user3144089"}, "edited": false, "score": 0, "creation_date": 1421509165, "post_id": 28000497, "comment_id": 44391259, "body": "I have put it in the comments under the question. Please see there. I think the question is now moot and would like to delete this if you don&#39;t mind."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "reply_to_user": {"reputation": 73, "user_id": 3144089, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f781e5522cb8594d76cab0e405e533d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3144089", "link": "https://stackoverflow.com/users/3144089/user3144089"}, "edited": false, "score": 0, "creation_date": 1421511643, "post_id": 28000497, "comment_id": 44392052, "body": "That would certainly do it."}], "tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": false, "score": 1, "last_activity_date": 1421507822, "last_edit_date": 1421507822, "creation_date": 1421505125, "answer_id": 28000497, "question_id": 27999426, "link": "https://stackoverflow.com/questions/27999426/perl-substitute-unable-to-substitute-using-variables-perl-regex/28000497#28000497", "title": "Perl Substitute: Unable to substitute using variables perl regex", "body": "<p>It looks like your script depends on the order (or rather, disorder) of the hash.</p>\n\n<pre><code>#define VALUE 10\n#define NUM (VALUE + 10)\n</code></pre>\n\n<p>The definition doesn't get updated because that replacement takes place in the <code>else</code> -- so replacement only happens on lines without <code>#define</code>.</p>\n\n<p>However, you perform the replacements based on whatever order <code>each</code> gives you - so it could be trying to replace <code>VALUE</code>, and <em>then</em> trying to replace <code>NUM</code>.</p>\n\n<p>I'd probably perform the initial replacements in each definition as they come, something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nmy %definesHash;\n\nopen(my $fh_in,  '&lt;', \"defines.c\") || die \"Cannot open $!\\n\";\nopen(my $fh_out, '&gt;', \"defines.i\") || die \"Cannot open $!\\n\";\n\nwhile (&lt;$fh_in&gt;) {\n    if (/^#define\\s+(\\w+)\\s+(.*)\\s*$/) {\n        my ($define, $replacement) = ($1, $2);\n        # perform existing replacements on\n        # the current $replacement\n        while (my ($def, $replace) = each %definesHash) {\n            $replacement =~ s/$def/\\Q$replace/g;\n        }\n        $definesHash{$define} = $replacement;\n    }\n    else {\n        while (my ($def, $replace) = each(%definesHash)) {\n            print \" $def =&gt; $replace \\n\";\n            s/$def/$replace/g;\n        }\n    }\n\n    print $fh_out $_;\n}\n\nclose($fh_in);\nclose($fh_out);\n</code></pre>\n\n<p>Or it could be the unescaped regex metacharacters, here escaped by <code>\\Q</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 3144089, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f781e5522cb8594d76cab0e405e533d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3144089", "link": "https://stackoverflow.com/users/3144089/user3144089"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1421507822, "creation_date": 1421497323, "last_edit_date": 1421497922, "question_id": 27999426, "link": "https://stackoverflow.com/questions/27999426/perl-substitute-unable-to-substitute-using-variables-perl-regex", "title": "Perl Substitute: Unable to substitute using variables perl regex", "body": "<p>The following code reads defines.c file line-by-line and stores all the <code>\"#define\"</code> directives in a hash (with defines name and its replacement text). Then it replaces them if the usage is find on the consecutive lines.</p>\n\n<p>I have an issue with the substitution if a <code>\"#define\"</code> directive is being used. It is storing all the <code>#defines</code> properly in the hash.    </p>\n\n<p>I am a beginner in perl and regex and unable to point out the silly thing as to why it's not working.<br>\nAny help?     </p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nmy %definesHash;\n\nopen(FILE, \"defines.c\") || die \"Cannot open $!\\n\";\nopen(OUT, \"&gt;defines.i\") || die \"Cannot open $!\\n\";\n\n\nwhile (&lt;FILE&gt;)\n{\n my $line = $_;\n if ($line =~ /#define\\s+/)\n {\n   $line =~ s/#define\\s+//g;\n   if ($line =~ /\\b([\\w]+)\\b\\s+/)\n   {\n    my $define = $1;\n    $line =~ s/\\b[\\w]+\\b\\s+//;\n    $definesHash{$define} = \"\";\n    if($line =~ /\\s*(.*)\\s*/)\n    {\n      $definesHash{$define} = $1;\n    }\n   }\n   print OUT $_;\n }\n else\n { \n   my($def, $replace);\n   while (($def, $replace) = each(%definesHash))\n   {\n     print \" $def =&gt; $replace \\n\";\n     if ($line =~ /$def/)\n     {\n      $line =~ s/$def/$replace/g; #****** Some Problem Here, But What? ********\n     }\n   }\n   print OUT $line;\n }\n}\n\nclose(FILE);\nclose(OUT);\n</code></pre>\n\n<p><strong>defines.c</strong></p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#define VALUE 10\n#define PLACE (20 + 0)\n#define NUM (VALUE + 10)\nint main()\n{\n  int num;\n  num = NUM + 25 + NUM + PLACE;\n  return 0;\n}\n</code></pre>\n\n<p><code>Expected Output: **defines.i**</code></p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\n#define VALUE 10\n#define PLACE (20 + 0)\n#define NUM (VALUE + 10)\nint main()\n{\n  int num;\n  num = (10 + 10) + 25 + (10 + 10) + (20 + 0);\n  // or\n  num = (VALUE + 10) + 25 + (VALUE + 10) + (20 + 0);\n  return 0;\n}  \n</code></pre>\n\n<p>I know the problem is in the substitution as I have pointed in the comment. I can see the original line becoming gibberish after that substitution whereas the contents in the hash seem to be correct.<br>\nIs it with the usage of variables in substitution?</p>\n"}, {"tags": ["perl", "replace"], "comments": [{"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1421489167, "post_id": 27998323, "comment_id": 44386288, "body": "Please show how you are invoking the script when you test manually. It is designed to take input on STDIN, so it can sit in command line pipe e.g. <code>cat input.txt | script.pl &gt; output.txt</code>"}, {"owner": {"reputation": 39, "user_id": 4464329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmUJLMmYo1E/AAAAAAAAAAI/AAAAAAAAAUY/UZl01BFMF-Q/photo.jpg?sz=128", "display_name": "Marinus", "link": "https://stackoverflow.com/users/4464329/marinus"}, "reply_to_user": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1421489986, "post_id": 27998323, "comment_id": 44386450, "body": "Hi Neil, I have tested like this: <code>&#47;Users&#47;marinusdebeer&#47;Documents&#47;lasercuts&#47;slicerscript_laser1&zwnj;&#8203;.pl &#47;Users&#47;marinusdebeer&#47;Documents&#47;lasercuts&#47;paaseiland.gcode</code> when I run the script as you suggested, it outputs an empty file, I used: <code>cat &#47;Users&#47;marinusdebeer&#47;Documents&#47;lasercuts&#47;paaseiland.gcode | &#47;Users&#47;marinusdebeer&#47;Documents&#47;lasercuts&#47;slicerscript_laser1&zwnj;&#8203;.pl &gt; &#47;Users&#47;marinusdebeer&#47;Documents&#47;lasercuts&#47;paaseilandtest.gcod&zwnj;&#8203;e</code>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4464329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmUJLMmYo1E/AAAAAAAAAAI/AAAAAAAAAUY/UZl01BFMF-Q/photo.jpg?sz=128", "display_name": "Marinus", "link": "https://stackoverflow.com/users/4464329/marinus"}, "edited": false, "score": 0, "creation_date": 1421496744, "post_id": 27999053, "comment_id": 44388021, "body": "Hey, I <i>think</i> I understand this, but it is too complicated for me. Deparse is so that you get the code back as PERL interprets it, right? I tried implementing it in my code, but I get all kinds of syntax errors."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1421497288, "post_id": 27999053, "comment_id": 44388149, "body": "Deparse is perl untanging some of the idioms. Such as replacing &#39;unless&#39; with &#39;if not&#39; etc. It&#39;s useful troubleshooting to see what your code is actually doing.  Having syntax errors is an important thing to look at first though. But as pointed out - you&#39;re using <code>&lt;&gt;</code> and <code>&lt; &gt;</code> without understanding that they&#39;re different."}, {"owner": {"reputation": 39, "user_id": 4464329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmUJLMmYo1E/AAAAAAAAAAI/AAAAAAAAAUY/UZl01BFMF-Q/photo.jpg?sz=128", "display_name": "Marinus", "link": "https://stackoverflow.com/users/4464329/marinus"}, "edited": false, "score": 0, "creation_date": 1421498442, "post_id": 27999053, "comment_id": 44388425, "body": "This is very useful, I have replaced the <code>&lt; &gt;</code> with <code>&lt;&gt;</code> and it works! Thanks a lot, I have been wondering what could be wrong for so long. The only strange thing that it does, is it replaces the line in the first case, but adds a line in the second case instead of replacing it. Still will try to fix that!"}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 1, "last_activity_date": 1421494634, "creation_date": 1421494634, "answer_id": 27999053, "question_id": 27998323, "link": "https://stackoverflow.com/questions/27998323/perl-script-to-interpret-gcode/27999053#27999053", "title": "PERL script to interpret GCODE", "body": "<p>Consider what B::Deparse says</p>\n\n<pre><code>$ perl -MO=Deparse -le \" while(&lt; &gt;){ print } \"\nBEGIN { $/ = \"\\n\"; $\\ = \"\\n\"; }\nuse File::Glob ();\nwhile (defined($_ = &lt; &gt;)) {\n    print $_;\n}\n-e syntax OK\n\n$ perl -MO=Deparse -le \" while(&lt;&gt;){ print } \"\nBEGIN { $/ = \"\\n\"; $\\ = \"\\n\"; }\nwhile (defined($_ = &lt;ARGV&gt;)) {\n    print $_;\n}\n-e syntax OK\n</code></pre>\n\n<p><code>&lt;&gt;</code> and <code>&lt; &gt;</code> are not the same, the first is <code>&lt;ARGV&gt;</code>  and the second is <code>glob(\" \")</code></p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 4464329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmUJLMmYo1E/AAAAAAAAAAI/AAAAAAAAAUY/UZl01BFMF-Q/photo.jpg?sz=128", "display_name": "Marinus", "link": "https://stackoverflow.com/users/4464329/marinus"}, "edited": false, "score": 0, "creation_date": 1421498903, "post_id": 27999447, "comment_id": 44388517, "body": "Hey thanks, I replied to your last statement, <code>&lt;&gt;</code> also works instead of <code>&lt;STDIN&gt;</code> it&#39;s working miracles. I am sure going to share this with the lasercutting communities as this simple piece of code will open up a whole new world of functionality to them :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 39, "user_id": 4464329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmUJLMmYo1E/AAAAAAAAAAI/AAAAAAAAAUY/UZl01BFMF-Q/photo.jpg?sz=128", "display_name": "Marinus", "link": "https://stackoverflow.com/users/4464329/marinus"}, "edited": false, "score": 0, "creation_date": 1421527109, "post_id": 27999447, "comment_id": 44396704, "body": "Yes, it does. But part of the reason for the problem was using <code>&lt;&gt;</code> because it&#39;s only a single character different from <code>&lt; &gt;</code>. That&#39;s just generally bad coding style - <code>&lt;STDIN&gt;</code> is entirely clearly what it&#39;s doing, and won&#39;t break mysteriously if you typo. (As you did)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1421497497, "creation_date": 1421497497, "answer_id": 27999447, "question_id": 27998323, "link": "https://stackoverflow.com/questions/27998323/perl-script-to-interpret-gcode/27999447#27999447", "title": "PERL script to interpret GCODE", "body": "<p>This line here is what's wrong:</p>\n\n<pre><code># read stdin and any/all files passed as parameters one line at a time\nwhile (&lt; &gt; ) {\n</code></pre>\n\n<p>Because it doesn't do what the comment says it does. </p>\n\n<p>Change it to:</p>\n\n<pre><code>while ( &lt;STDIN&gt; ) {\n</code></pre>\n\n<p>(assuming you want to read from STDIN - if you want to read filenames from the command line, you'll need to open them explicitly)</p>\n"}], "owner": {"reputation": 39, "user_id": 4464329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmUJLMmYo1E/AAAAAAAAAAI/AAAAAAAAAUY/UZl01BFMF-Q/photo.jpg?sz=128", "display_name": "Marinus", "link": "https://stackoverflow.com/users/4464329/marinus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 27999447, "answer_count": 2, "score": 1, "last_activity_date": 1421497497, "creation_date": 1421488805, "last_edit_date": 1421488849, "question_id": 27998323, "link": "https://stackoverflow.com/questions/27998323/perl-script-to-interpret-gcode", "title": "PERL script to interpret GCODE", "body": "<p>I've been working on a PERL script that I received from yet another person on a 3D-printing forum.</p>\n\n<p>What it does is find a line that looks like this:\nG1 F1800.000 E0.15799\ninto a line like this:\nM104 S0</p>\n\n<p>And this line:\nG1 E5.00000 F1800.000\ninto this:\nM104 S100</p>\n\n<p>The script <em>should</em> be working, however, running it either through command line, nor through the slicing (Slic3r) software, doesn't yield any results. I am also able to use a python script, however, I don't know how to script with python at all.</p>\n\n<p>This is the script:</p>\n\n<pre><code>#!/usr/bin/perl -i.before_postproc\n#\n# Author  : Guy Poizat\n# Version : 1.2\n# Copyright : none.\n#\n# Change from previous version : added handling of slic3r's retraction speed setting,\n#  so that this script is not disrupted by a setting change.\n\nuse strict;\nuse warnings;\n\n# what will replace a retraction line with : gcode to cut the laser power off.\nmy $powerOffLine = \"M104 S0\\n\";\n\n# what will replace an \"unretraction\" line with : gcode to switch the laser power on.\nmy $powerOnLine = \"M104 S100\\n\";\n\n# Extract the speed setting from slic3r's environment variables (or use the default 30mm/s).\n#  Unit is millimeters per minute in gcode, millimeters per second in slic3r configuration.\nmy $defaultRetractSpeed = 1800;\nmy $envRetractSpeed = $ENV{\"SLIC3R_RETRACT_SPEED\"};\nmy $retractSpeed = defined( $envRetractSpeed ) ? $envRetractSpeed * 60 : $defaultRetractSpeed;\n\n# pattern of a retraction line - would make the filament back-off before a non printing move\n#  on a FDM 3d printer, to avoid ooze.\nmy $retractLine = \"G1 F$retractSpeed.* E\";\n\n# pattern of an unretraction line - would make the filament forward back to its position before starting extruding again.\nmy $unretractLine = \"G1 E.* F$retractSpeed\";\n\n# read stdin and any/all files passed as parameters one line at a time\nwhile (&lt; &gt; ) {\n    if (/$retractLine/) {\n        # if we found a retraction line, replace it with laser power off\n        print \"$powerOffLine\";\n    }\n    else {\n        # nothing to change, print line as-is\n        print or die $!;\n    }\n\n    if (/$unretractLine/) {\n        # if we have an un-retraction line, append laser power on right after it\n        print \"$powerOnLine\";\n    }\n}\n</code></pre>\n\n<p>The script is called by Slic3r, a gcode generator for 3D-printing. It then changes a few lines of code throughout the whole file to make it work correctly with a lasercutter I built myself.</p>\n\n<p>I will supply a gcode example file so one can see the code I am trying to change.</p>\n\n<p>Really can't find out what the problem is! It should run just fine.\nThanks for your time, you will help out a lot of people if this script is made working.\n- Marinus</p>\n\n<p>An example piece of GCODE can be found here:</p>\n\n<pre><code>G21 ; set units to millimeters\nM104 S0 (turns off laser)\nG21\nG28 X0 Y0 Z0\nG91\nG1 Z+6 F4000 (Sends Z to focal length)\nG90\nG92 X0 Y0 Z0 E0 (sets logical zero)\nM400\nM104 S100 (turns on laser)\nG90 ; use absolute coordinates\nG92 E0\nM82 ; use absolute distances for extrusion\nM204 S2200\nG1 Z0.100 F14400.000\nG1 F1800.000 E-5.00000\nG92 E0\nG1 X25.383 Y62.928 F14400.000\nG1 E5.00000 F1800.000\nG1 X24.893 Y61.890 E5.00162 F480.000\nG1 X24.552 Y60.811 E5.00322\nG1 X24.475 Y59.685 E5.00482\nG1 X29.714 Y62.560 E5.15186\nG1 X27.126 Y62.850 E5.15554\nG1 X25.398 Y62.927 E5.15799\nG1 F1800.000 E0.15799\nG92 E0\nG1 X45.931 Y77.187 F14400.000\nG1 E5.00000 F1800.000\nG1 X45.115 Y81.009 E5.00553 F480.000\nG1 X44.514 Y85.098 E5.01138\nG1 X36.645 Y81.972 E5.08052\nG1 X39.298 Y81.849 E5.08428\nG1 X41.096 Y80.860 E5.08718\nG1 X45.919 Y77.196 E5.09575\nG1 F1800.000 E0.09575\nG92 E0\nG1 X35.177 Y48.889 F14400.000\nG1 E5.00000 F1800.000\nG1 X35.280 Y48.648 E5.00037 F480.000\nG1 X35.441 Y48.437 E5.00075\nG1 X35.714 Y48.389 E5.00114\nG1 X38.692 Y48.215 E5.00536\nG1 X40.179 Y47.884 E5.00751\nG1 X40.964 Y47.413 E5.00881\nG1 X41.626 Y46.859 E5.01003\n</code></pre>\n"}, {"tags": ["perl", "pattern-matching", "variable-assignment"], "comments": [{"owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "edited": false, "score": 0, "creation_date": 1421461828, "post_id": 27995584, "comment_id": 44381585, "body": "It&#39;s hard to search for an answer to this without running into regular expressions. :-/"}], "answers": [{"comments": [{"owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "edited": false, "score": 0, "creation_date": 1421463518, "post_id": 27995669, "comment_id": 44381847, "body": "Perfect, thanks! :-) For what it&#39;s worth, here is the finished code: <a href=\"http://lpaste.net/118597\" rel=\"nofollow noreferrer\">lpaste.net/118597</a>"}], "tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 8, "last_activity_date": 1421462710, "creation_date": 1421462710, "answer_id": 27995669, "question_id": 27995584, "link": "https://stackoverflow.com/questions/27995584/how-can-i-skip-elements-in-perl-list-assignment-akin-to-haskell-pattern-matching/27995669#27995669", "title": "How can I skip elements in Perl list assignment akin to Haskell pattern matching?", "body": "<p>Just assign it to <code>undef</code>.</p>\n\n<p><code>my ($message, undef, $windowItem) = @_;</code></p>\n"}, {"comments": [{"owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "edited": false, "score": 0, "creation_date": 1421464979, "post_id": 27995695, "comment_id": 44382049, "body": "Then what happens if I want the first, third, and fifth elements? With <code>undef</code> it&#39;s obvious. With the slice, would I use <code>@_[0, 2, 4]</code>? Anyway, having read <a href=\"https://stackoverflow.com/questions/15160882/perl-slice-an-array-without-creating-a-whole-new-array\">this question</a>, it appears that this slice approach is less efficient, so I consider the <code>undef</code> pattern to be better practice in general."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "edited": false, "score": 1, "creation_date": 1421465833, "post_id": 27995695, "comment_id": 44382171, "body": "@JamesHaigh: I think you have misunderstood the question that you link to, and in any case you shouldn&#39;t be thinking about speed and efficiency until you have written a program that is as <i>clear and maintainable</i> as possible. I personally think the array slice notation is much clearer in general, for instance, <code>my ($x, $y) = @array[4,9]</code> versus <code>my (undef, undef, undef, undef, $x, undef, undef, undef, undef, $y) = @array</code>"}, {"owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "edited": false, "score": 0, "creation_date": 1421520183, "post_id": 27995695, "comment_id": 44394638, "body": "Borodin: Sure, it&#39;s definitely more compact for situations like the example you describe, especially since \u2018<code>undef</code>\u2019 is 5 characters rather than 1, but if your main aims are <i>code readability</i> and <i>maintainability</i>, then this programming pattern with long arrays of arguments probably isn&#39;t best practice anyway. Also, you&#39;d probably be better-off using a language better-suited to writing elegant, readable, maintainable code in the first place. I may be biased towards purely-functional programming languages, but even within the imperative paradigm, Python is a good choice for code readability."}, {"owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421520628, "post_id": 27995695, "comment_id": 44394768, "body": "@Borodin: I don&#39;t agree that you should not have <i>any</i> consideration of speed and efficiency until the end. I&#39;m not talking about premature optimisation here; I think that it&#39;s important to <i>get in the habit</i> of using programming patterns that will avoid much inefficiency straight-off, even though it isn&#39;t important here for such a small list. In the worst-case, if you haven&#39;t paid <i>any</i> attention to efficiency while writing a program, you may end up with a resource-hog that is flawed by design and requires re&#239;mplementation practically from scratch in order to fix."}, {"owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421522660, "post_id": 27995695, "comment_id": 44395413, "body": "@Borodin: I found that question from the Q/A infobox of <a href=\"http://ddg.gg/?q=Perl+slice\" rel=\"nofollow noreferrer\">this DDG search</a> while trying to understand the format of Perl&#39;s slice notation (which, btw., this answer could do with a reference to Perl&#39;s documentation on slices), and only skimmed through it. I interpreted \u201c<i>without creating a whole new array</i>\u201d and \u201c<i>without having Perl copy loads of data in the background</i>\u201d to indicate that when Perl evaluates <code>@array[@slice]</code> it actually makes a new array before assigning to the pattern-matched LHS list, which is avoided with the <code>undef</code> approach. Is this not the case?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "edited": false, "score": 0, "creation_date": 1421523257, "post_id": 27995695, "comment_id": 44395580, "body": "@JamesHaigh: The meaning there was that the notation <code>[ @{$arrayref}[@indexes] ]</code> creates a whole new (anonymous) array. Ignoring the complexity of the expression inside the square brackets, this is similar to <code>[ @array[0,2] ]</code>. The array slice expression <code>@array[0,2]</code> evaluates to a simple list of values, equivalent to <code>($array[0], $array[2])</code>; it is the square brackets -- an anonymous array constructor -- that creates a new array out of that list."}, {"owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421524795, "post_id": 27995695, "comment_id": 44396039, "body": "@Borodin: Ah, <i>arrays</i>, not <i>lists</i>. But still, one makes a new <i>array</i> out of an array slice, the other makes a new <i>list</i> out of an array slice. Or is this no different anyway because <code>@array[@slice]</code> is already having the work of creating a list from the array anyway before assignment? And also, is <code>[@array[@slice]]</code> actually making an array out of a list resulting from an array slice?"}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 3, "last_activity_date": 1421463102, "creation_date": 1421463102, "answer_id": 27995695, "question_id": 27995584, "link": "https://stackoverflow.com/questions/27995584/how-can-i-skip-elements-in-perl-list-assignment-akin-to-haskell-pattern-matching/27995695#27995695", "title": "How can I skip elements in Perl list assignment akin to Haskell pattern matching?", "body": "<p>You can also take a slice of the array :)</p>\n\n<pre><code>my( $message , $winItem ) = @_[ 0, 2];\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 1284644, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/3hAZS.png?s=128&g=1", "display_name": "James Haigh", "link": "https://stackoverflow.com/users/1284644/james-haigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 27995669, "answer_count": 2, "score": 6, "last_activity_date": 1421463102, "creation_date": 1421461763, "question_id": 27995584, "link": "https://stackoverflow.com/questions/27995584/how-can-i-skip-elements-in-perl-list-assignment-akin-to-haskell-pattern-matching", "title": "How can I skip elements in Perl list assignment akin to Haskell pattern matching?", "body": "<p>In Haskell (and various other functional programming languages), <a href=\"https://en.wikipedia.org/wiki/Pattern_matching\" rel=\"noreferrer\">pattern matching</a> can be used to assign specific elements of a list while discarding others:</p>\n\n<pre><code>Prelude&gt; let [x, _, z] = \"abc\"\nPrelude&gt; x\n'a'\nPrelude&gt; [z, x]\n\"ca\"\n</code></pre>\n\n<p>Note that \u2018<code>_</code>\u2019 is not a variable and hasn't been assigned anything:</p>\n\n<pre><code>Prelude&gt; _\n\n&lt;interactive&gt;:5:1: Pattern syntax in expression context: _\n</code></pre>\n\n<p>For an Irssi script, written in Perl, I want to do a similar thing and discard the 2<sup>nd</sup> element of \u2018<code>@_</code>\u2019 (i.e. not assign it to anything):</p>\n\n<pre><code>my ($message, _, $windowItem) = @_;\n</code></pre>\n\n<p>This fails with the error message: \u201c<code>Can't declare constant item in \"my\" at [...]overlength_filter.pl line 17, near \") =\"</code>\u201d</p>\n\n<p>So what is the Perl equivalent of this underscore wildcard?</p>\n"}, {"tags": ["perl", "vba", "excel"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4463619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54dd8ef01c860de73a3dbd11bbbeaa0?s=128&d=identicon&r=PG&f=1", "display_name": "Datric Johnson", "link": "https://stackoverflow.com/users/4463619/datric-johnson"}, "edited": false, "score": 0, "creation_date": 1421551699, "post_id": 27995286, "comment_id": 44401989, "body": "So just like you said, the cells fill with ##. Is there a way for it to actually be formatted with the time or are we just asking way too much?"}], "tags": [], "owner": {"reputation": 54586, "user_id": 1505120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49dbeced705687b92e851736d48f208?s=128&d=identicon&r=PG", "display_name": "pnuts", "link": "https://stackoverflow.com/users/1505120/pnuts"}, "is_accepted": false, "score": 0, "last_activity_date": 1421458572, "creation_date": 1421458572, "answer_id": 27995286, "question_id": 27995109, "link": "https://stackoverflow.com/questions/27995109/excel-formula-issue-or-macro-issue/27995286#27995286", "title": "Excel formula issue or macro issue", "body": "<p>Weird requirement but, assuming all appearance times (in a contiguous range) are to be reduced by 1/2hr and all departure times (in a different contiguous range) increased by 1/2 hr then it is possible without a macro. </p>\n\n<p>Enter in an available cell:  </p>\n\n<pre><code>=1/48\n</code></pre>\n\n<p>Copy that cell, select the arrival range, Paste Special, Operation Subtract, OK. Repeat for the departure range but with Operation Add.</p>\n\n<p>The times may lose their formatting until re-applied. Where a cell fills with <code>#</code> (ie entered as within 1/2hr of midnight) add 1. </p>\n\n<p>What may not suit is that the cells do not end up with the likes of <code>10:00:00 -00:30:00</code> displayed as <code>09:30:00</code> so there may be little to be gained over entering as 09:30 to begin with.  </p>\n"}, {"comments": [{"owner": {"reputation": 361, "user_id": 4466402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7139b7ab17ebd71a9387eb4a6fd1c6e?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Kellner", "link": "https://stackoverflow.com/users/4466402/lucas-kellner"}, "edited": false, "score": 0, "creation_date": 1421824347, "post_id": 28007784, "comment_id": 44504051, "body": "Did this fix your issue?  Please mark it as answered if it did"}], "tags": [], "owner": {"reputation": 361, "user_id": 4466402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7139b7ab17ebd71a9387eb4a6fd1c6e?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Kellner", "link": "https://stackoverflow.com/users/4466402/lucas-kellner"}, "is_accepted": false, "score": 0, "last_activity_date": 1421824390, "last_edit_date": 1421824390, "creation_date": 1421563166, "answer_id": 28007784, "question_id": 27995109, "link": "https://stackoverflow.com/questions/27995109/excel-formula-issue-or-macro-issue/28007784#28007784", "title": "Excel formula issue or macro issue", "body": "<p>Are the travel times for all employees 30 minutes? This can be represented as \"time(0,30,)\"  in the formulas for your sums.  If each employee has different travel times then insert columns for travel times to the right of the start and end times and subtract them.</p>\n\n<p>Insert columns labeled \"adjusted start time\" and \"adjusted end time\" and insert formulas like: \"=B2-TIME(0,30,0)\" where B2 is the start time and \"=D2+TIME(0,30,0)\" where D2 is the end time.  Omit the quotes.</p>\n\n<p>I advise against having excel display numbers that are different from what you entered, it can become confusing if there is a question whether the travel time was added or not.  </p>\n"}], "owner": {"reputation": 1, "user_id": 4463619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54dd8ef01c860de73a3dbd11bbbeaa0?s=128&d=identicon&r=PG&f=1", "display_name": "Datric Johnson", "link": "https://stackoverflow.com/users/4463619/datric-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1421824390, "creation_date": 1421457034, "last_edit_date": 1421682715, "question_id": 27995109, "link": "https://stackoverflow.com/questions/27995109/excel-formula-issue-or-macro-issue", "title": "Excel formula issue or macro issue", "body": "<p>IS there a way to add/subtract time from a start time and add/subtract time from an end time in one cell.</p>\n\n<p>This is a time sheet. My boss would like to account for travel for our workers. IF you show up at 10:00 pm. he would want me to enter 10:00 pm, but the excel to show 9:30 pm.  And if you left at 11:00 pm, he would want me to enter 11:00 pm, but it show 11:30 pm.</p>\n\n<p>I believe this is a macro, but I am not very educated when it comes to macros.</p>\n"}, {"tags": ["perl", "arguments"], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 0, "creation_date": 1603121415, "post_id": 27993909, "comment_id": 113929374, "body": "Could you please also add the return from the called script to capture the return status?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 1, "creation_date": 1603121526, "post_id": 27993909, "comment_id": 113929425, "body": "I&#39;m not sure what you mean.  You can capture the return value from <code>system</code> by <code>my $rv = system(\u2026);</code> which is trivial and obvious and \u2026 what&#39;s the problem you&#39;re after help with?  <code>perldoc -f system</code> may assist you."}, {"owner": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 0, "creation_date": 1603121775, "post_id": 27993909, "comment_id": 113929525, "body": "The perl script &quot;GetResults.pl&quot; may be returning something after completion. I would like to capture that return. So, the $rv will contain the return value of that perl script?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 526, "user_id": 3071003, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d1fe6473d97822cf2e2773d377d3dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Nazar", "link": "https://stackoverflow.com/users/3071003/nazar"}, "edited": false, "score": 0, "creation_date": 1603121814, "post_id": 27993909, "comment_id": 113929547, "body": "Yes \u2014 see <code>perldoc -f system</code> for guidelines on how to interpret the return value from a <code>system</code> statement/call."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 5, "last_activity_date": 1421447868, "creation_date": 1421447868, "answer_id": 27993909, "question_id": 27993870, "link": "https://stackoverflow.com/questions/27993870/execute-a-perl-script-within-a-perl-script-with-arguments/27993909#27993909", "title": "Execute a perl script within a perl script with arguments", "body": "<p>Pass the arguments as an array, just as you would with any other program (a Perl script is not special; that it is a Perl script is an implementation detail):</p>\n\n<pre><code>system($^X, \"$Bin/GetResults.pl\", \"-templatefile\", \"$template\");\n</code></pre>\n\n<p>You could line everything up in an array and use that, too:</p>\n\n<pre><code>my @args = (\"$Bin/GetResults.pl\", \"-templatefile\", \"$template\");\nsystem($^X, @args);\n</code></pre>\n\n<p>Or even add <code>$^X</code> to <code>@args</code>.  Etc.</p>\n"}], "owner": {"reputation": 301, "user_id": 2769744, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a3408dc822b03f4798b0b5b8d0bdf88d?s=128&d=identicon&r=PG&f=1", "display_name": "LKT", "link": "https://stackoverflow.com/users/2769744/lkt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8448, "favorite_count": 1, "accepted_answer_id": 27993909, "answer_count": 1, "score": 1, "last_activity_date": 1421447868, "creation_date": 1421447671, "question_id": 27993870, "link": "https://stackoverflow.com/questions/27993870/execute-a-perl-script-within-a-perl-script-with-arguments", "title": "Execute a perl script within a perl script with arguments", "body": "<p>I have met a problem when I tried to execute a perl script within my perl script. This is a small part of a larger project that I'm working on.</p>\n\n<p>Below is my perl script code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse FindBin qw($Bin);\n\n#There are more options, but I just have one here for short example\nprint \"Please enter template file name: \"\nmy $template = &lt;&gt;;\nchomp($template);\n\n#Call another perl script which take in arguments\nsystem($^X, \"$Bin/GetResults.pl\", \"-templatefile $template\");\n</code></pre>\n\n<p>the \"GetResults.pl\" takes in multiple arguments, I just provide one here for example. Basically, if I was to use the GetResults.pl script alone, in the command line I would type: </p>\n\n<pre><code>perl GetResults.pl -templatefile template.xml\n</code></pre>\n\n<p>I met two problems with the system function call above. First of all, it seems to remove the dash in front of my argument when I run my perl script resulting in invalid argument error in GetResults.pl.</p>\n\n<p>Then I tried this</p>\n\n<pre><code>system($^X, \"$Bin/GetResults.pl\", \"/\\-/templatefile $template\");\n</code></pre>\n\n<p>It seems OK since it does not complain about earlier problem, but now it says it could not find the template.xml although I have that file in the same location as my perl script as well as GetResults.pl script. If I just run GetResults.pl script alone, it works fine.</p>\n\n<p>I'm wondering if there is some issue with the string comparison when I use variable $template and the real file name located on my PC (I'm using Window 7).</p>\n\n<p>I'm new to Perl and hope that someone could help. Thank you in advance.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 0, "last_activity_date": 1421445645, "last_edit_date": 1421445645, "creation_date": 1421444818, "answer_id": 27993299, "question_id": 27992982, "link": "https://stackoverflow.com/questions/27992982/check-if-elements-are-contained-in-array/27993299#27993299", "title": "Check if elements are contained in array", "body": "<p><a href=\"http://perldoc.perl.org/List/Util.html\" rel=\"nofollow\">first</a> will stop comparing as soon as it finds a match.  For <code>Bar</code>, once A matches, it does not check B-E.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse List::Util qw(first);\n\nmy @Names     = qw(A B C D E);\nmy @someArray = qw(Foo Bar Yim Print Hello);\n\nfor my $string (@someArray) {\n    print \"$string\\n\" if first { $string =~ /$_/i } @Names;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 4440690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G2j3g5MlOr0/AAAAAAAAAAI/AAAAAAAAACc/sfvUuoAgu6M/photo.jpg?sz=128", "display_name": "Oleg Komarov", "link": "https://stackoverflow.com/users/4440690/oleg-komarov"}, "is_accepted": false, "score": 1, "last_activity_date": 1421448542, "creation_date": 1421448542, "answer_id": 27994020, "question_id": 27992982, "link": "https://stackoverflow.com/questions/27992982/check-if-elements-are-contained-in-array/27994020#27994020", "title": "Check if elements are contained in array", "body": "<p>One other approach might be to generate a single regular expression to do the job (if you actually need a case insensitive match, so that <code>Hello</code> matches, you should use the <code>i</code> modifier as well: <code>/$NamesRE/i</code>):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @Names     = qw(A B C D E);\nmy @someArray = qw(Foo Bar Yim Print Hello);\n\nmy $NamesRE = join '|', map {quotemeta} @Names;\n\nfor my $string (@someArray) {\n    print \"$string\\n\" if $string =~ /$NamesRE/;\n}\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 3791546, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/05ae7bc65dfb648d4e6e02b3f31e82d8?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Miller", "link": "https://stackoverflow.com/users/3791546/evan-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1585315826, "creation_date": 1421443481, "last_edit_date": 1585315826, "question_id": 27992982, "link": "https://stackoverflow.com/questions/27992982/check-if-elements-are-contained-in-array", "title": "Check if elements are contained in array", "body": "<p>I have an array:</p>\n\n<pre><code>@Names = (A,B,C,D,E)\n</code></pre>\n\n<p>I want to setup a <code>next if</code> statement to skip if a string does not contain one of those elements. What is the best way to do that?</p>\n\n<p>I figured something like this may work:</p>\n\n<pre><code>@someArray = (Foo, Bar, Yim, Print, Hello);\n\nforeach my $string (@someArray) {\n   next if ( $_ !~ $string ) @Names;\n   print $string;\n}\n</code></pre>\n\n<p>so only \"Bar\" and \"Hello\" should print out</p>\n\n<p>I'm looking for the <em>best</em> way to do this and the <em>easiest</em> way to do this. But, I know they aren't always the same, so any input is great!</p>\n"}, {"tags": ["eclipse", "perl", "eclipse-plugin", "dbi", "epic"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421432300, "post_id": 27990198, "comment_id": 44371391, "body": "By &quot;row index,&quot; do you mean you want 0 for the first row, 1 for the second row, 2 for the third row, etc.?"}, {"owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421432376, "post_id": 27990198, "comment_id": 44371424, "body": "@ThisSuitIsBlackNot Yes and the total number of rows returned."}, {"owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421432586, "post_id": 27990198, "comment_id": 44371533, "body": "I guess I could create my own in array by using the while loop and counting how many records I come across, but I think that would be silly and that there would already be a way to do it."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 3, "creation_date": 1421435507, "post_id": 27990198, "comment_id": 44372992, "body": "Perhaps <code>fetchall_arrayref({})</code> as the fourth example <a href=\"https://metacpan.org/pod/DBI#fetchall_arrayref\" rel=\"nofollow noreferrer\">here</a>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421436717, "post_id": 27990198, "comment_id": 44373580, "body": "As for better techniques to solve these types of problems on your own: my first recommendation would be to read the <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">documentation</a>. Scan the contents, read the synopsis, search for keywords (e.g. &quot;row number&quot;, &quot;count&quot;), read about similar methods to the one you&#39;re using. Even if you don&#39;t find exactly what you&#39;re looking for, that should at least give you some additional hints and keywords that you can use in a Google search."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1421442800, "post_id": 27990198, "comment_id": 44376455, "body": "I am concerned about <i>why</i> you want to do a doubly nested loop over your table. The sorts of things you would use that for are generally better left to the database engine to do for you. Please would you explain a little about what you are aiming to achieve."}, {"owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421700543, "post_id": 27990198, "comment_id": 44451350, "body": "@Borodin, My query gets me a list of connection and I need to perform some scripts between every permutation. So a doubly nested loop is appropriate."}, {"owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "edited": false, "score": 0, "creation_date": 1421700615, "post_id": 27990198, "comment_id": 44451395, "body": "Figured out my issue with <code>Perl EPIC</code> in <code>Eclipse</code>... seems I had the perl file open by itself, not within a perl project. Once I put it in a perl projec then the autocomplete features started working as well as coding highlights of code problems... guess that portion was a PEBKAC."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 1, "last_activity_date": 1421435500, "creation_date": 1421435500, "answer_id": 27991108, "question_id": 27990198, "link": "https://stackoverflow.com/questions/27990198/perl-dbi-results-referenced-by-index/27991108#27991108", "title": "Perl DBI Results Referenced by Index", "body": "<h1>Current row number</h1>\n\n<p>There are a couple of ways you can get the row number:</p>\n\n<h2>Perl variable</h2>\n\n<pre><code>my $row_num = 0;\n\nwhile (my $row = $sth-&gt;fetchrow_hashref) {\n    $row_num++;\n\n    # Do stuff\n}\n</code></pre>\n\n<h2>SQL variable</h2>\n\n<p>This depends on which DBMS you're using, but you can do something like this in MySQL:</p>\n\n<pre><code>$dbh-&gt;do('SET @row_num := 0');\n\nmy $statement = &lt;&lt;'SQL';\n    SELECT @row_num := @row_num + 1 AS row_num,\n           foo,\n           bar\n    FROM table\nSQL\n\nmy $sth = $dbh-&gt;prepare($statement);\n$sth-&gt;execute;\n\nwhile (my $row = $sth-&gt;fetchrow_hashref) {\n    say $row-&gt;{row_num};\n\n    # Do stuff\n}\n</code></pre>\n\n<h1>Total rows returned</h1>\n\n<p>You can use <a href=\"https://metacpan.org/pod/DBI#rows\" rel=\"nofollow\"><code>$sth-&gt;rows</code></a>, with the following caveat:</p>\n\n<blockquote>\n  <p>Generally, you can only rely on a row count after a non-<code>SELECT</code> <code>execute</code> (for some specific operations like <code>UPDATE</code> and <code>DELETE</code>), or after fetching all the rows of a <code>SELECT</code> statement.</p>\n  \n  <p>For <code>SELECT</code> statements, it is generally not possible to know how many rows will be returned except by fetching them all. Some drivers will return the number of rows the application has fetched so far, but others may return -1 until all rows have been fetched. So use of the rows method or <code>$DBI::rows</code> with <code>SELECT</code> statements is not recommended.</p>\n  \n  <p>One alternative method to get a row count for a <code>SELECT</code> is to execute a <code>\"SELECT COUNT(*) FROM ...\"</code> SQL statement with the same \"...\" as your query and then fetch the row count from that.</p>\n</blockquote>\n\n<p>However, if you're already counting each row as you fetch it, you could simply use that instead.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1421435880, "post_id": 27991163, "comment_id": 44373181, "body": "This is essentially what Jim Davis&#39;s <a href=\"http://stackoverflow.com/questions/27990198/perl-dbi-results-referenced-by-index/27991108#comment44372992_27990198\">suggestion</a> of <code>fetchall_arrayref({})</code> does (except more efficiently)."}, {"owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421436446, "post_id": 27991163, "comment_id": 44373437, "body": "I&#39;ll look into it. Thx."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1421442648, "post_id": 27991163, "comment_id": 44376394, "body": "@ThisSuitIsBlackNot: Meaning that the <code>fetchall_arrayref</code> solution is more efficient, not this one."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1421443751, "post_id": 27991163, "comment_id": 44376855, "body": "@Borodin Right. Should have said &quot;less efficiently.&quot;"}], "tags": [], "owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "is_accepted": false, "score": 0, "last_activity_date": 1421435699, "creation_date": 1421435699, "answer_id": 27991163, "question_id": 27990198, "link": "https://stackoverflow.com/questions/27990198/perl-dbi-results-referenced-by-index/27991163#27991163", "title": "Perl DBI Results Referenced by Index", "body": "<p>Below is the <em>hack</em> I did to get the results into an array structure, which will allow me to do the nested looping easily. Hopefully someone else will post an answer if they have a better way.</p>\n\n<pre><code>my @results;        \nmy $fieldFirstName = 0;\nmy $fieldLastName = 1;      \nmy $fieldAddress = 2;\nmy $i = 0;\n\nmy $someQuery = \"SELECT FirstName, LastName, Address FROM foo;\";\nmy $sth = $dbh-&gt;prepare($someQuery);\n$sth-&gt;execute();\nwhile (my $ref = $sth-&gt;fetchrow_hashref()) {\n    $results[$i][$fieldFirstName] = \"$ref-&gt;{'FirstName'}\";\n    $results[$i][$fieldLastName] = \"$ref-&gt;{'LastName'}\";\n    $results[$i][$fieldAddress] = \"$ref-&gt;{'Address'}\";\n    $i++;\n}\n$sth-&gt;finish();\nmy $resultsRecordCount = @results;\n</code></pre>\n"}], "owner": {"reputation": 16641, "user_id": 1190934, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ign26.jpg?s=128&g=1", "display_name": "James Oravec", "link": "https://stackoverflow.com/users/1190934/james-oravec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531465096, "creation_date": 1421431988, "last_edit_date": 1531465096, "question_id": 27990198, "link": "https://stackoverflow.com/questions/27990198/perl-dbi-results-referenced-by-index", "title": "Perl DBI Results Referenced by Index", "body": "<p><strong>The Problem:</strong></p>\n\n<p>I'm using <code>DBI</code> with Perl, and need to do a double nest loop through records in my records set.</p>\n\n<p>In the past, I've used while statements like:</p>\n\n<pre><code>my $someQuery = \"SELECT * FROM foo;\";\nmy $sth = $dbh-&gt;prepare($someQuery);\n$sth-&gt;execute();\nwhile (my $ref = $sth-&gt;fetchrow_hashref()) {\n    my $someVariable = \"$ref-&gt;{'dbFieldName'}\";\n    # do stuff\n}\n</code></pre>\n\n<p>What I've trying to achieve would be easy to do with a <code>for loop</code> instead of a <code>while loop</code>, but I'd need to know how to reference the results by row index as well as the total rowcount. Any idea on how to do this?</p>\n\n<p><strong>Bonus Points:</strong> </p>\n\n<p>The above will help me solve the one problem, but I'd like to get better techniques to let me figure it out on my own. I'm using Perl EPIC in Eclipse, which doesn't give any sort of context look-ahead/autocomplete (or if it does I don't know how to enable it). Is there a way to enable this or a different add-on for Eclipse that would show the context look-ahead, so I could see what options are available?</p>\n"}, {"tags": ["perl", "bzip2"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1421430565, "post_id": 27989800, "comment_id": 44370525, "body": "check if bzip&#39;s writing to stderr. if it is, then you&#39;d have to <code>$cmd 2&gt;1</code> to redirect stderr to stdout."}], "answers": [{"comments": [{"owner": {"reputation": 452, "user_id": 1638644, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F3rEv.jpg?s=128&g=1", "display_name": "Rafa\u0142 Swacha", "link": "https://stackoverflow.com/users/1638644/rafa%c5%82-swacha"}, "edited": false, "score": 0, "creation_date": 1421431042, "post_id": 27989903, "comment_id": 44370760, "body": "This is it, thank you! :) @MarcB proposed similar thing in one of the comments, but without the ampersand, so it didn&#39;t work."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 452, "user_id": 1638644, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F3rEv.jpg?s=128&g=1", "display_name": "Rafa\u0142 Swacha", "link": "https://stackoverflow.com/users/1638644/rafa%c5%82-swacha"}, "edited": false, "score": 1, "creation_date": 1421431132, "post_id": 27989903, "comment_id": 44370811, "body": "@Rafa\u0142Swacha Without the ampersand, you will redirect your output to a file named <code>1</code>."}], "tags": [], "owner": {"reputation": 138, "user_id": 1978027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83313946d94bb8bbcbb78b76cea66574?s=128&d=identicon&r=PG", "display_name": "FunkyShu", "link": "https://stackoverflow.com/users/1978027/funkyshu"}, "is_accepted": true, "score": 3, "last_activity_date": 1421430868, "creation_date": 1421430868, "answer_id": 27989903, "question_id": 27989800, "link": "https://stackoverflow.com/questions/27989800/perl-cant-catch-bzip2-console-output/27989903#27989903", "title": "Perl can&#39;t catch bzip2 console output", "body": "<p>Try</p>\n\n<pre><code>my $out = `$cmd 2&gt;&amp;1`;\n</code></pre>\n\n<p>to redirect stderr to stdout</p>\n"}], "owner": {"reputation": 452, "user_id": 1638644, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F3rEv.jpg?s=128&g=1", "display_name": "Rafa\u0142 Swacha", "link": "https://stackoverflow.com/users/1638644/rafa%c5%82-swacha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 27989903, "answer_count": 1, "score": 0, "last_activity_date": 1421430868, "creation_date": 1421430489, "question_id": 27989800, "link": "https://stackoverflow.com/questions/27989800/perl-cant-catch-bzip2-console-output", "title": "Perl can&#39;t catch bzip2 console output", "body": "<p>I have some difficulties with my perl + gtk GUI app. Why can't perl catch bzip2's output text from console? Instead of being catched into variable, output is just printed in console. I have no problem with any other program - it's just bzip2.</p>\n\n<p>My code:</p>\n\n<pre><code>wypisz($cmd);\nmy $out = `$cmd`;\nwypisz($out);\nwypisz(\"end\");\n</code></pre>\n\n<p>Result: <code>$cmd</code> and \"end\" printed properly - nothing more. Bzip2's output is just printed<code>wypisz()</code> is my function used to put the text into <code>gtkTextView</code>:</p>\n\n<pre><code>sub wypisz {\n    my $text = shift;\n    my $textbuffer = $::Glade-&gt;get_widget( 'v_console' )-&gt;get_buffer;\n    my $textiter = $textbuffer-&gt;get_end_iter;\n    $textbuffer-&gt;insert($textiter,\"$text\\n\");\n    $::Glade-&gt;get_widget( 'v_console' )-&gt;set_buffer($textbuffer)\n}\n</code></pre>\n"}, {"tags": ["c", "perl", "debugging", "command-line", "gdb"], "comments": [{"owner": {"reputation": 26941, "user_id": 2979617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whfql.png?s=128&g=1", "display_name": "M Oehm", "link": "https://stackoverflow.com/users/2979617/m-oehm"}, "edited": false, "score": 0, "creation_date": 1421428025, "post_id": 27989049, "comment_id": 44369193, "body": "Endianness is how multi-byte scalar values such as <code>int</code> are stored. The arguments to your programs are strings. (It would be a bit silly if Little-Endian machines printed &quot;lleHow o!dlr&quot;, wouldn&#39;t it?)"}, {"owner": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "reply_to_user": {"reputation": 26941, "user_id": 2979617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whfql.png?s=128&g=1", "display_name": "M Oehm", "link": "https://stackoverflow.com/users/2979617/m-oehm"}, "edited": false, "score": 0, "creation_date": 1421434020, "post_id": 27989049, "comment_id": 44372255, "body": "the input of the form \\x##\\x##\\x##\\x## shows that they contain hexadecimal values, hence they need to be interpreted bit differently."}], "answers": [{"comments": [{"owner": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "edited": false, "score": 0, "creation_date": 1421433511, "post_id": 27989685, "comment_id": 44372000, "body": "thanks for pointing out the mistake, was mistakenly ignoring the NUL-terminator."}, {"owner": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "edited": false, "score": 0, "creation_date": 1421694767, "post_id": 27989685, "comment_id": 44448361, "body": "In case the run command is following: <code>run $(perl -e &#39;print &quot;\\xaa\\xbb\\x00\\xcc&quot;&#39;) $(perl -e &#39;print &quot;\\xaa\\xbb\\xcc\\x00&quot;&#39;) $(perl -e &#39;print &quot;\\xaa\\x00\\xdd\\xcc&quot;&#39;)</code> the expected result on <code>x&#47;15xb argv[1]</code> is: <code>0xaa 0xbb 0x00 0xcc 0x00 0xaa\t 0xbb 0xcc 0x00 0x00 0xaa 0x00 0xdd 0xcc 0x00</code> in which the 5th, 10th and 15th <code>0x00</code> should belong to null terminator but the actual output is: <code>0xaa 0xbb 0xcc 0x00 0xaa 0xbb 0xcc 0x00 0xaa\t0xdd\t 0xcc\t0x00 0x58 0x44 0x47</code> in which it seems that <code>0x00</code> of the input has been ignored, only <code>0x00</code> corresponding to null-terminator has been considered. Any explanation??"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "edited": false, "score": 1, "creation_date": 1421695264, "post_id": 27989685, "comment_id": 44448625, "body": "@aniliitb10: bash strings cannot contain NULs. Or, more accurately, bash strings are always terminated with a NUL. So the result of <code>$(printf &#39;\\xaa\\xbb\\x00\\xcc&#39;)</code> (which is the same as your perl print statement) is effectively a NUL-terminated string of two characters, <code>\\xaa\\xbb</code>."}, {"owner": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "edited": false, "score": 0, "creation_date": 1421697733, "post_id": 27989685, "comment_id": 44449943, "body": "no, output shows that it is effectively a string of three characters, <code>\\xaa\\xbb\\xcc</code> terminated with a NUL character. Can it just skip <code>\\x00</code> and proceed again to print <code>\\xcc</code> as it did in <code>$(perl -e &#39;print &quot;\\xaa\\xbb\\x00\\xcc&quot; &#39;)</code> ??"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "edited": false, "score": 1, "creation_date": 1421698892, "post_id": 27989685, "comment_id": 44450505, "body": "@aniliitb10: Interesting. You&#39;re right, bash removes the NULs from the string, rather than terminating the string when it hits one. I stand corrected. But either way, bash strings cannot contain NUL characters."}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": false, "score": 2, "last_activity_date": 1421432852, "last_edit_date": 1421432852, "creation_date": 1421430055, "answer_id": 27989685, "question_id": 27989049, "link": "https://stackoverflow.com/questions/27989049/command-line-input-to-a-c-program-using-print-command-of-perl/27989685#27989685", "title": "Command line input to a C program (using &#39;print&#39; command of Perl)", "body": "<p>You are confusing yourself by printing strings as numbers. In a little-endian architecture, in a four-byte value such as 0xDDCCBBAA, the bytes are numbered <em>left-to-right</em> from the starting address.</p>\n\n<p>So let's take a look at the output of your debugger command:</p>\n\n<pre><code>(gdb) x/2x argv[1]\n0x7fffffffe376: 0xaabbccdd  0xeeddcc00\n</code></pre>\n\n<p>Looking at that byte by byte, it would be:</p>\n\n<pre><code>0x7fffffffe376: dd\n0x7fffffffe377: cc\n0x7fffffffe378: bb\n0x7fffffffe379: aa\n\n0x7fffffffe37a: 00  # This NUL terminates argv[1]\n0x7fffffffe37b: cc  # This address corresponds to argv[2]\n0x7fffffffe37c: dd\n0x7fffffffe37d: ee\n</code></pre>\n\n<p>Which is not unexpected, no?</p>\n\n<p>You might want to use something like this to display arguments in hex:</p>\n\n<pre><code>x/8bx argv[1]\n</code></pre>\n\n<p>(which will show <strong>8</strong> <strong>b</strong>ytes in he<strong>x</strong>adecimal)</p>\n"}, {"comments": [{"owner": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "edited": false, "score": 0, "creation_date": 1421433623, "post_id": 27989745, "comment_id": 44372057, "body": "yes, I know realize why other arguments too were giving similar results. thanks for the detailed answer."}, {"owner": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "edited": false, "score": 0, "creation_date": 1421686980, "post_id": 27989745, "comment_id": 44444581, "body": "In case the run command is following: <code>run $(perl -e &#39;print &quot;\\xaa\\xbb\\x00\\xcc&quot;&#39;) $(perl -e &#39;print &quot;\\xaa\\xbb\\xcc\\x00&quot;&#39;) $(perl -e &#39;print &quot;\\xaa\\x00\\xdd\\xcc&quot;&#39;)</code> the expected result on x/15xb argv[1] is: <code>0xaa 0xbb 0x00 0xcc 0x00 0xaa\t 0xbb 0xcc 0x00 0x00 0xaa 0x00 0xdd 0xcc 0x00</code> in which the 5th, 10th and 15th <code>0x00</code> should belong to null terminator but the actual output is: <code>0xaa 0xbb 0xcc 0x00 0xaa 0xbb 0xcc 0x00 0xaa\t0xdd\t 0xcc\t0x00 0x58 0x44 0x47</code> in which I think <code>0x00</code> of the input has been ignored, only <code>0x00</code> corresponding to null-terminator has been considered. Any explanation??"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1421430882, "last_edit_date": 1421430882, "creation_date": 1421430306, "answer_id": 27989745, "question_id": 27989049, "link": "https://stackoverflow.com/questions/27989049/command-line-input-to-a-c-program-using-print-command-of-perl/27989745#27989745", "title": "Command line input to a C program (using &#39;print&#39; command of Perl)", "body": "<p>Command-line arguments are NUL-terminated strings.</p>\n\n<p>Arguments <code>argv[1]</code> is a pointer to the first character of a NUL-terminated string.</p>\n\n<pre><code>7FFFFFFFE376  DD CC BB AA 00\n</code></pre>\n\n<p><code>argv[2]</code> is a pointer to the first character of a NUL-terminated string.</p>\n\n<pre><code>7FFFFFFFE37B  CC DD EE FF 00\n</code></pre>\n\n<p>If you pay attention, you'll notice they happen to be located immediately one after the other in memory.</p>\n\n<pre><code>7FFFFFFFE376  DD CC BB AA 00 CC DD EE FF 00\n</code></pre>\n\n<p>You asked to print two (32-bit) integers starting at <code>argv[1]</code></p>\n\n<pre><code>7FFFFFFFE376  DD CC BB AA 00 CC DD EE FF 00\n              ----------- -----------\n               0xAABBCCDD 0xEEDDCC00\n</code></pre>\n\n<p>For <code>x/2x</code> to be correct, you would have needed to use </p>\n\n<pre><code>perl -e'print \"\\xdd\\xcc\\xbb\\xaa\\xcc\\xdd\\xee\\xff\"'\n   -or-\nperl -e'print pack \"i*\", 0xaabbccdd, 0xffeeddcc'\n</code></pre>\n\n<p>For the arguments you passed, you need to use</p>\n\n<pre><code>(gdb) x argv[1]\n0x3e080048cbd:  0xaabbccdd\n(gdb) x argv[2]\n0x3e080048cc2:  0xffeeddcc\n</code></pre>\n"}], "owner": {"reputation": 970, "user_id": 3701834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3184985083b478b76fa59599ea3832?s=128&d=identicon&r=PG&f=1", "display_name": "aniliitb10", "link": "https://stackoverflow.com/users/3701834/aniliitb10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 27989745, "answer_count": 2, "score": 0, "last_activity_date": 1421432852, "creation_date": 1421427774, "question_id": 27989049, "link": "https://stackoverflow.com/questions/27989049/command-line-input-to-a-c-program-using-print-command-of-perl", "title": "Command line input to a C program (using &#39;print&#39; command of Perl)", "body": "<p>I am having difficulty in understanding the way <code>print</code> command of Perl interprets the hexadecimal values. I am using a very simple program of just 8 lines to demonstrate my question. Following code with <code>gdb</code> will explain my question in detail:</p>\n\n<pre><code>anil@anil-Inspiron-N5010:~/Desktop$ gcc -g code.c\nanil@anil-Inspiron-N5010:~/Desktop$ gdb -q ./a.out\nReading symbols from ./a.out...done.\n(gdb) list\n1   #include &lt;stdio.h&gt;\n2   \n3   int main(int argc, char* argv[])\n4   {\n5       int i;\n6       for (i =0; i&lt;argc; ++i)\n7           printf (\"%p\\n\", argv[i]);\n8       return 0;\n9   }\n(gdb) break 8\nBreakpoint 1 at 0x40057a: file code.c, line 8.\n(gdb) run $(perl -e 'print \"\\xdd\\xcc\\xbb\\xaa\"') $(perl -e 'print \"\\xcc\\xdd\\xee\\xff\"')\nStarting program: /home/anil/Desktop/a.out $(perl -e 'print \"\\xdd\\xcc\\xbb\\xaa\"') $(perl -e 'print \"\\xcc\\xdd\\xee\\xff\"')\n0x7fffffffe35d\n0x7fffffffe376\n0x7fffffffe37b\n\nBreakpoint 1, main (argc=3, argv=0x7fffffffdfe8) at code.c:8\n8       return 0;\n(gdb) x/2x argv[1]\n0x7fffffffe376: 0xaabbccdd  0xeeddcc00\n</code></pre>\n\n<p>In above shown lines I have used <code>gdb</code> to debug the program. As command line arguments, I have passed two (hexadecimal) arguments (excluding the name of the program itself): <code>\\xdd\\xcc\\xbb\\xaa</code> and <code>\\xcc\\xdd\\xee\\xff</code>. Owing to the little-endian architecture, those arguments should be interpreted as <code>0xaabbccdd</code> and <code>0xffeeddcc</code> but as you can see the last line of above shown debugging shows <code>0xaabbccdd</code> and <code>0xeeddcc00</code>. Why is this so? What am I missing ?? This has happened with some other arguments too. I am requesting you to help me with this.</p>\n\n<p>PS: 2^32 = 4294967296 and <code>0xffeeddcc</code> = 4293844428 (2^32 > <code>0xffeeddcc</code>). I don't know if still there is any connection.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "edited": false, "score": 0, "creation_date": 1421422168, "post_id": 27987279, "comment_id": 44365495, "body": "I would like to delete the line after a regex match from the file or alternatively print a new file without the lines after the regex match"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "edited": false, "score": 2, "creation_date": 1421423696, "post_id": 27987279, "comment_id": 44366487, "body": "@neemie that&#39;s just exactly what doing nothing with <code>$ignored</code> would do. You would read in another line and ignore it. When you get back up to the top of the loop, you will read the line 2 lines after the match."}], "tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": true, "score": 7, "last_activity_date": 1421422048, "creation_date": 1421422048, "answer_id": 27987279, "question_id": 27987212, "link": "https://stackoverflow.com/questions/27987212/how-to-delete-the-line-after-a-regex-match-in-perl/27987279#27987279", "title": "how to delete the line after a regex match in Perl", "body": "<p>What do you mean \"delete\"?  You mean ignore it?</p>\n\n<pre><code>while ( my $line = &lt;FILE&gt; ) {\n    if ( $line =~ /regex/ ) {  # If it matches this regex\n        my $ignored = &lt;FILE&gt;;  # read the next line and ignore it.\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2369397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4XXT3.jpg?s=128&g=1", "display_name": "martingrayson", "link": "https://stackoverflow.com/users/2369397/martingrayson"}, "is_accepted": false, "score": 0, "last_activity_date": 1421422262, "creation_date": 1421422262, "answer_id": 27987344, "question_id": 27987212, "link": "https://stackoverflow.com/questions/27987212/how-to-delete-the-line-after-a-regex-match-in-perl/27987344#27987344", "title": "how to delete the line after a regex match in Perl", "body": "<p>What about having a <code>$skip_flag</code> that you set when you come across a match? As you're reading your file line by line, you could build an output string, skipping lines when the flag is set.</p>\n"}, {"tags": [], "owner": {"reputation": 740, "user_id": 3622250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SkFyQ.png?s=128&g=1", "display_name": "terary", "link": "https://stackoverflow.com/users/3622250/terary"}, "is_accepted": false, "score": 0, "last_activity_date": 1421431453, "creation_date": 1421431453, "answer_id": 27990066, "question_id": 27987212, "link": "https://stackoverflow.com/questions/27987212/how-to-delete-the-line-after-a-regex-match-in-perl/27990066#27990066", "title": "how to delete the line after a regex match in Perl", "body": "<pre><code>if ( $line =~ /regex/ ) {  # If it matches this regex\n    &lt;FILE&gt;;  # gobble gobble\n}\n</code></pre>\n\n<p>Is all you need my friend.</p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "is_accepted": false, "score": 0, "last_activity_date": 1421436202, "last_edit_date": 1495540364, "creation_date": 1421435310, "answer_id": 27991049, "question_id": 27987212, "link": "https://stackoverflow.com/questions/27987212/how-to-delete-the-line-after-a-regex-match-in-perl/27991049#27991049", "title": "how to delete the line after a regex match in Perl", "body": "<p>You can run <code>$&gt; perl -pi -e 'BEGIN{undef $/;} s#(YOUR_REGEX_PATTERN)[^\\n]*\\n[^\\n]*\\n#$1\\n#' YOUR_FILE</code></p>\n\n<p>This is able to do a <a href=\"https://stackoverflow.com/questions/1030787/multiline-search-replace-with-perl/1030819#1030819\">multiline replacement</a> by forcing Perl to <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow noreferrer\">read the entire file at once</a>.\nBut be <strong>always</strong> sure to make a backup first! You may let Perl do it for you by <a href=\"https://stackoverflow.com/questions/7935829/perl-query-using-pie/7935854#7935854\">appending a suffix</a> to that <code>-i</code> switch like <code>$&gt; perl -pi.bak -e ...</code></p>\n"}], "owner": {"reputation": 85, "user_id": 4297531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4f1cf21255c20b1990f64db95e5958b7?s=128&d=identicon&r=PG&f=1", "display_name": "neemie", "link": "https://stackoverflow.com/users/4297531/neemie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1909, "favorite_count": 0, "accepted_answer_id": 27987279, "answer_count": 4, "score": 0, "last_activity_date": 1421436202, "creation_date": 1421421831, "question_id": 27987212, "link": "https://stackoverflow.com/questions/27987212/how-to-delete-the-line-after-a-regex-match-in-perl", "title": "how to delete the line after a regex match in Perl", "body": "<p>I would like to delete the line after a regex match but I'm unsure how to code for deleting the next line in Perl - help?</p>\n\n<pre><code>while ( my $line = &lt;FILE&gt; ) {\nif ($line =~ m/(regex)/i) {\n# delete the next $line\n}    \n</code></pre>\n"}, {"tags": ["perl", "unix", "rename", "aix"], "comments": [{"owner": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 1, "creation_date": 1421421017, "post_id": 27986895, "comment_id": 44364661, "body": "As far as I am aware, <a href=\"http://stackoverflow.com/questions/167414/is-an-atomic-file-rename-with-overwrite-possible-on-windows\">rename is an atomic operation on POSIX systems</a>, so I would think that the file would &quot;exist&quot; both before and after the rename operation. Windows file operations are <i>not</i> generally atomic unless <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/bb968806%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">Transactional NTFS</a> is used, but since this question is tagged as &quot;unix&quot; I&#39;m guessing that isn&#39;t relevant."}, {"owner": {"reputation": 135, "user_id": 4358414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tc43vxqF0j0/AAAAAAAAAAI/AAAAAAAAAPk/sk1_o6rVVRY/photo.jpg?sz=128", "display_name": "pete1450", "link": "https://stackoverflow.com/users/4358414/pete1450"}, "reply_to_user": {"reputation": 4005, "user_id": 4200092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/saOd8.png?s=128&g=1", "display_name": "GoBusto", "link": "https://stackoverflow.com/users/4200092/gobusto"}, "edited": false, "score": 0, "creation_date": 1421421298, "post_id": 27986895, "comment_id": 44364848, "body": "Correct, specifically AIX"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1421423286, "post_id": 27986895, "comment_id": 44366227, "body": "Can you include the relevant portions of the perl program?"}, {"owner": {"reputation": 135, "user_id": 4358414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tc43vxqF0j0/AAAAAAAAAAI/AAAAAAAAAPk/sk1_o6rVVRY/photo.jpg?sz=128", "display_name": "pete1450", "link": "https://stackoverflow.com/users/4358414/pete1450"}, "edited": false, "score": 0, "creation_date": 1421424978, "post_id": 27986895, "comment_id": 44367326, "body": "The feeder script or the one spitting out files that currently exist?"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 4358414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tc43vxqF0j0/AAAAAAAAAAI/AAAAAAAAAPk/sk1_o6rVVRY/photo.jpg?sz=128", "display_name": "pete1450", "link": "https://stackoverflow.com/users/4358414/pete1450"}, "edited": false, "score": 0, "creation_date": 1421426750, "post_id": 27987387, "comment_id": 44368446, "body": "I was hoping I was wrong. I read through the doc you provided and come to the same conclusion. Thanks for the confirmation."}, {"owner": {"reputation": 1875, "user_id": 341980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0ce4db5e1083663c575158643313852c?s=128&d=identicon&r=PG", "display_name": "pedz", "link": "https://stackoverflow.com/users/341980/pedz"}, "edited": false, "score": 1, "creation_date": 1421526692, "post_id": 27987387, "comment_id": 44396580, "body": "It is atomic if it is the same file system (same mount point).  If you are crossing file systems, then I would assume that there is a length of time when both exist but that might vary between systems and implementation.  Also, all of the comments actually pertain to the rename system call which Java may or may not be choosing to use.  And I also see &quot;gpfs&quot; in the path which is a remote file system so I would suggest all bets are off. :-)"}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 1875, "user_id": 341980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0ce4db5e1083663c575158643313852c?s=128&d=identicon&r=PG", "display_name": "pedz", "link": "https://stackoverflow.com/users/341980/pedz"}, "edited": false, "score": 0, "creation_date": 1421622778, "post_id": 27987387, "comment_id": 44418998, "body": "@pedz, <code>rename</code> doesn&#39;t necessarily work across filesystems (there&#39;s an <code>EXDEV</code> error defined for OS&#39;s that don&#39;t support that).  Also, the guarantee never did say anything about when <code>a</code> does or does not exist, only that <code>b</code> will always exist."}, {"owner": {"reputation": 1875, "user_id": 341980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0ce4db5e1083663c575158643313852c?s=128&d=identicon&r=PG", "display_name": "pedz", "link": "https://stackoverflow.com/users/341980/pedz"}, "edited": false, "score": 0, "creation_date": 1421625298, "post_id": 27987387, "comment_id": 44419676, "body": "Yes.  for the rename system call, that&#39;s true.  But I thought the user was actually using Java.  And the mv command on AIX uses rename if it can but does not if it is cross file systems.  And, on top of that, he is actually doing this on a remote file system so really it is going to be gpfs that defines how this works."}, {"owner": {"reputation": 135, "user_id": 4358414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tc43vxqF0j0/AAAAAAAAAAI/AAAAAAAAAPk/sk1_o6rVVRY/photo.jpg?sz=128", "display_name": "pete1450", "link": "https://stackoverflow.com/users/4358414/pete1450"}, "edited": false, "score": 0, "creation_date": 1421775598, "post_id": 27987387, "comment_id": 44485581, "body": "The blackbox program I mentioned is Java, so I can&#39;t guarantee how it does the rename. A plain old rename is just my best guess. You are correct about gpfs being the remote filesystem as well. I hadn&#39;t thought about the rename logic being decided there."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 9, "last_activity_date": 1421424299, "last_edit_date": 1421424299, "creation_date": 1421422417, "answer_id": 27987387, "question_id": 27986895, "link": "https://stackoverflow.com/questions/27986895/is-there-a-moment-where-a-file-doesnt-exist-during-a-rename/27987387#27987387", "title": "Is there a moment where a file &quot;doesn&#39;t exist&quot; during a rename?", "body": "<p>The actual <a href=\"http://www.unix.com/man-page/posix/3/rename/\">guarantee in POSIX</a> is that if you rename <code>a</code> to <code>b</code> and <code>b</code> already exists, there will be no point in time during the rename when <code>b</code> does not exist.  It will refer either to the previously existing <code>b</code> or the new <code>b</code> formerly called <code>a</code>.</p>\n\n<p>If <code>b</code> does not already exist (which appears to be the case in your example), then the guarantee doesn't apply.  It is possible that there's a moment when neither <code>a</code> nor <code>b</code> exists (it depends on how the particular filesystem works).  It's also possible that there's a moment when both <code>a</code> and <code>b</code> exist (and refer to the same file).</p>\n\n<p>Your proposed solution of checking twice with a short delay is probably the simplest approach.</p>\n"}], "owner": {"reputation": 135, "user_id": 4358414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tc43vxqF0j0/AAAAAAAAAAI/AAAAAAAAAPk/sk1_o6rVVRY/photo.jpg?sz=128", "display_name": "pete1450", "link": "https://stackoverflow.com/users/4358414/pete1450"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 2, "accepted_answer_id": 27987387, "answer_count": 1, "score": 11, "last_activity_date": 1423291455, "creation_date": 1421420815, "last_edit_date": 1423291455, "question_id": 27986895, "link": "https://stackoverflow.com/questions/27986895/is-there-a-moment-where-a-file-doesnt-exist-during-a-rename", "title": "Is there a moment where a file &quot;doesn&#39;t exist&quot; during a rename?", "body": "<p>We have a black-box third-party Java program that takes input files from a location and makes PDFs. It puts a manifest file in the same location every time for each input which necessitates us feeding the file in a controlled manner. Does the manifest (or .xen/.que) still exist? Don't feed an input file.</p>\n\n<p>We're getting VERY rare (one out of tens of thousands of files) instances of our feed script not finding anything, feeding a file, and the resulting error when the manifest is overwritten and things don't match up. I wrote a perl script that does nothing but print the time down to 100-thousandths, glob anything in the directory that we care about, and print it. Below you can see .xen and .que files where .xen is the input and .que is a renamed version of it to indicate processing. </p>\n\n<p>My question then is this: How is the lack of files at 94.26493 possible? Does the OS hide a file while it is renaming? We're getting our problem when the feed program looks for files at that moment so my planned hack is to check for files twice; hopefully slow enough to catch either end of the rename. I should also point out that once 2 files show up on a line, that is where the feed program has put another file in. It is not the same file as before the rename.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1421417394.26392/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen\n1421417394.26416/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen\n1421417394.26442/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen\n1421417394.26468/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen\n1421417394.26493\n1421417394.26907/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen.que_142_1421417394265\n1421417394.27426/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen /gpfs/fsdd/projects/corr_esch/corr_esch.d.xen.que_142_1421417394265\n1421417394.27456/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen /gpfs/fsdd/projects/corr_esch/corr_esch.d.xen.que_142_1421417394265\n1421417394.27486/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen /gpfs/fsdd/projects/corr_esch/corr_esch.d.xen.que_142_1421417394265\n1421417394.27528/gpfs/fsdd/projects/corr_esch/corr_esch.d.xen /gpfs/fsdd/projects/corr_esch/corr_esch.d.xen.que_142_1421417394265\n</code></pre>\n"}, {"tags": ["perl", "elliptic-curve"], "comments": [{"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1421545778, "post_id": 27985906, "comment_id": 44401131, "body": "When working mod p &quot;division&quot; is implemented by multiplying by the modular inverse. You can implement the extended euclidean algorithm in perl, or more simply just compute 1/a = a ** (p-2) mod p if p is a prime."}, {"owner": {"reputation": 1216, "user_id": 2682133, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/e6O9c.jpg?s=128&g=1", "display_name": "Hennes", "link": "https://stackoverflow.com/users/2682133/hennes"}, "reply_to_user": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1421661759, "post_id": 27985906, "comment_id": 44429985, "body": "Thanks GregS, I corrected my listing accordingly."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1421679800, "post_id": 27985906, "comment_id": 44440262, "body": "good work, thanks for posting. I didn&#39;t realize <code>Math::Bigint</code> included a modular inverse method."}], "owner": {"reputation": 1216, "user_id": 2682133, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/e6O9c.jpg?s=128&g=1", "display_name": "Hennes", "link": "https://stackoverflow.com/users/2682133/hennes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1421665315, "creation_date": 1421417804, "last_edit_date": 1421665315, "question_id": 27985906, "link": "https://stackoverflow.com/questions/27985906/understanding-ecc-in-perl", "title": "Understanding ECC in PERL", "body": "<p>I'm trying to understand elliptic curve cryptography by coding the algorithm in perl. But getting detailed information about implementing ECC is quite difficult.\nSo I gathered all informations together and started coding. </p>\n\n<p>At first I searched for informations about a simple curve and I found it here: <a href=\"http://www.hjp.at/doc/rfc/rfc5639.html\" rel=\"nofollow\">http://www.hjp.at/doc/rfc/rfc5639.html</a>. Several curves from 160 upto 512 bits. Of course I started with the smallest one.</p>\n\n<p><strong>EDIT:</strong> Made a lot of mistakes, mostly due to the lack of information. But now this example works.</p>\n\n<p>This is my perl script:</p>\n\n<pre><code>use bignum;\nuse Math::BigInt::Random;\n\nmy $p = hex \"E95E4A5F737059DC60DFC7AD95B3D8139515620F\";\nmy $a = hex \"340E7BE2A280EB74E2BE61BADA745D97E8F7C300\";\nmy $b = hex \"1E589A8595423412134FAA2DBDEC95C8D8675E58\";\nmy $x = hex \"BED5AF16EA3F6A4F62938C4631EB5AF7BDBCDBC3\";\nmy $y = hex \"1667CB477A1A8EC338F94741669C976316DA6321\";\nmy $q = hex \"E95E4A5F737059DC60DF5991D45029409E60FC09\";\nmy $bitLength = 160;\n\nsub point_doubling {\n    my ($px, $py) = @_;\n    return $px, $py if $px == 0 &amp;&amp; $py == 0;\n    my $slope_numerator = 3 * $px * $px + $a;\n    my $slope_denominator = 2 * $py;\n    my $slope_denominator_inverse_modulo = $slope_denominator-&gt;bmodinv($p);\n    my $slope_inverse_product = $slope_numerator * $slope_denominator_inverse_modulo;\n    my $slope = $slope_inverse_product % $p;\n    my $rx = (($slope * $slope - 2 * $px)) % $p;\n    my $ry = (($slope * ($px - $rx) - $py)) % $p;\n    return ($rx, $ry);\n}\n\nsub point_addition {\n    my ($px, $py, $qx, $qy) = @_;\n    return point_doubling($px, $py) if $px == $qx &amp;&amp; $py == $qy;\n    return $px, $py if $qx == 0 &amp;&amp; $qy == 0;\n    return $qx, $qy if $px == 0 &amp;&amp; $py == 0;\n    my $slope_numerator = $qy - $py;\n    my $slope_denominator = $qx - $px;\n    my $slope_denominator_inverse_modulo = $slope_denominator-&gt;bmodinv($p);\n    my $slope_inverse_product = $slope_numerator * $slope_denominator_inverse_modulo;\n    my $slope = $slope_inverse_product % $p;\n    my $rx = (($slope * $slope - $px - $qx)) % $p;\n    my $ry = (($slope * ($px - $rx) - $py)) % $p;\n    return ($rx, $ry);\n}\n\nsub scalar_product {\n    my ($k, $nx, $ny) = @_;\n    my ($qx, $qy) = (0, 0);\n    my $bit = 1;\n    for my $bitCounter (1..$bitLength) {\n        if ($k &amp; $bit) {\n            ($qx, $qy) = point_addition($nx, $ny, $qx, $qy);\n        } \n        ($nx, $ny) = point_doubling($nx, $ny);\n        $bit &lt;&lt;= 1;\n    }\n    return ($qx, $qy);\n}\n\nsub check_point_on_curve {\nmy ($qx, $qy) = @_;\nreturn $qy * $qy % $p == ($qx * $qx * $qx + $a * $qx + $b) % $p ||\n    $qy == 0 &amp;&amp; $qx == 0;\n}\n\nprint \"Test if G is in curve:\\n\";\nif (check_point_on_curve($x, $y)) {\n    print \"G is a point on the curve\\n\";\n} else {\n    die \"ERROR: G is NOT a point on the curve\\n\";\n}\n\n# Creating the private key.\n# 1.) A random integer dA with 0 &lt; dA &lt; q\nmy $dA = random_bigint(max =&gt; $q);\n\nprint \"Private key chosen as $dA\\n\";\n\n# 2.) Calculate the public key QA\nmy ($qax, $qay) = scalar_product($dA, $x, $y);\n\nprint \"Public key calculated to ($qax, $qay)\\n\";\n\nif (check_point_on_curve($qax, $qay)) {\n    print \"Public key is a point on the curve\\n\";\n} else {\n    die \"ERROR: Public key is NOT a point on the curve\\n\";\n}\n</code></pre>\n\n<p>The result looks likle this:</p>\n\n<pre><code>Test if G is in curve:\nG is a point on the curve\nPrivate key chosen as 14682691932678591389241030591930855095113892\nPublic key calculated to (1114548639616364108201749083649167655259366359581, 418437095262665064210367316915287142897094980157)\nPublic key is a point on the curve\n</code></pre>\n\n<p>Thanks for all your help.</p>\n"}]