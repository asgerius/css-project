[{"tags": ["perl", "xs"], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 8, "last_activity_date": 1464825733, "creation_date": 1464825733, "answer_id": 37580657, "question_id": 37580394, "link": "https://stackoverflow.com/questions/37580394/why-do-xs-subs-use-const-char/37580657#37580657", "title": "Why do XS subs use const char *?", "body": "<p>It's only for clarity. The <code>chromaprint_get_version</code> function returns a <code>const char *</code>, so the XSUB should be defined with a <code>const char *</code> return type as well. If you have a look at the <a href=\"https://metacpan.org/source/RJBS/perl-5.24.0/lib/ExtUtils/typemap\">built-in typemap</a>, it doesn't make a difference whether you use <code>const char *</code>, <code>char *</code>, or even <code>unsigned char *</code>. They all use the <code>T_PV</code> typemap. In all cases, the XSUB will return an SV containing a copy of the C string, which is always modifiable.</p>\n"}], "owner": {"reputation": 762, "user_id": 1554448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DZzsO.jpg?s=128&g=1", "display_name": "David Farrell", "link": "https://stackoverflow.com/users/1554448/david-farrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 2, "accepted_answer_id": 37580657, "answer_count": 1, "score": 8, "last_activity_date": 1464825733, "creation_date": 1464823796, "question_id": 37580394, "link": "https://stackoverflow.com/questions/37580394/why-do-xs-subs-use-const-char", "title": "Why do XS subs use const char *?", "body": "<p>A lot of Perl XS code uses <code>const char *</code> as the return value of an XS sub but never just <code>char *</code>. For example:</p>\n\n<pre><code>const char *\nversion(...)\n    CODE:\n        RETVAL = chromaprint_get_version();\n    OUTPUT: RETVAL\n</code></pre>\n\n<p>code from <a href=\"https://github.com/xsawyerx/xs-fun/blob/master/chapter_03/chapter_03.pod\" rel=\"noreferrer\">xs-fun</a></p>\n\n<p>Can someone explain why <code>const</code> is preferred? In my testing, the returned scalar is modifiable whether <code>const</code> is used or not.</p>\n"}, {"tags": ["linux", "perl", "shell"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1464821475, "post_id": 37579888, "comment_id": 62646962, "body": "Loop through the first row, record the column number for the first header of each subset in a list (or as the key in a hash). Then loop through all rows, and loop through all columns, and skip any column that&#39;s in the list."}], "answers": [{"comments": [{"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1464823515, "post_id": 37580037, "comment_id": 62647568, "body": "thank you. if there be no tab between digitd in rows,then How should I change the program for that? in fact in my real data except header, in subsequest row all digits are beside each other like: first row: 0001. so in this case wich part of the program should be changed?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1464845310, "post_id": 37580037, "comment_id": 62652874, "body": "@zara: You&#39;ll have to remove the line number, then split on <code>&#47;&#47;</code> and don&#39;t join on <code>&quot;\\t&quot;</code>, but use <code>&quot;&quot;</code> or <code>q()</code>."}, {"owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1464905635, "post_id": 37580037, "comment_id": 62690657, "body": "when I run the first script in my real data, I get this error:Use of uninitialized value in join or string at ./first.perl line 21, &lt;&gt; line 3986. Can you guide me how I can get ride out of this error? my data has 3986 rows. could this be a problem?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "edited": false, "score": 0, "creation_date": 1464936310, "post_id": 37580037, "comment_id": 62699155, "body": "The last line has fewer columns or it&#39;s empty."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1464845610, "last_edit_date": 1464845610, "creation_date": 1464821463, "answer_id": 37580037, "question_id": 37579888, "link": "https://stackoverflow.com/questions/37579888/how-to-delete-the-first-subset-of-each-set-of-column-in-a-data-file/37580037#37580037", "title": "How to delete the first subset of each set of column in a data file?", "body": "<p>Perl solution: It first reads the header line, uses a regex to extract the column name before a dot, and keeps a list of column numbers to keep. It then uses the indices to print only the wanted columns from the header and remaining lines.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @header = split ' ', &lt;&gt;;\nmy $last = q();\nmy @keep;\nfor my $i (0 .. $#header) {\n    my ($prefix) = $header[$i] =~ /(.*)\\./;\n    if ($prefix eq $last) {\n        push @keep, $i + 1;\n    }\n    $last = $prefix;\n}\nunshift @header, q();\nsay join \"\\t\", @header[@keep];\n\nwhile (&lt;&gt;) {\n    my @columns = split;\n    say join \"\\t\", @columns[@keep];\n}\n</code></pre>\n\n<p>Update:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @header = split ' ', &lt;&gt;;\nmy $last = q();\nmy @keep;\nfor my $i (0 .. $#header) {\n    my ($prefix) = $header[$i] =~ /(.*)\\./;\n    if ($prefix eq $last) {\n        push @keep, $i;\n    }\n    $last = $prefix;\n}\nsay join \"\\t\", @header[@keep];\n\nwhile (&lt;&gt;) {\n    my ($line_number, $all_digits) = split;\n    my @digits = split //, $all_digits;\n    say join \"\\t\", $line_number, join q(), @digits[@keep];\n}\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 5335523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7ad38f44c51253603983abfbb167c0a?s=128&d=identicon&r=PG&f=1", "display_name": "zara", "link": "https://stackoverflow.com/users/5335523/zara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 37580037, "answer_count": 1, "score": 0, "last_activity_date": 1464845610, "creation_date": 1464820475, "last_edit_date": 1464826447, "question_id": 37579888, "link": "https://stackoverflow.com/questions/37579888/how-to-delete-the-first-subset-of-each-set-of-column-in-a-data-file", "title": "How to delete the first subset of each set of column in a data file?", "body": "<p>I have a data file with more than 40000 column. In header each column's name begins with C1 , c2, ..., cn and each set of c has one or several subset for example c1. has 2 subsets. I need to delete first column(subset) of each set of c. for example if input looks like :</p>\n\n<p>input:  </p>\n\n<pre><code>    c1.20022  c1.31012  c2.44444  c2.87634  c2.22233 c3.00444  c3.44444 \n     1    1         0         1         0         0         0         1     \n     2    0         1         0         0         1         0         1     \n     3    0         1         0         0         1         1         0     \n     4    1         0         1         0         0         1         0     \n     5    1         0         1         0         0         1         0     \n     6    1         0         1         0         0         1         0     \n</code></pre>\n\n<p>I need the output be like:</p>\n\n<pre><code>    c1.31012  c2.87634  c2.22233  c3.44444 \n     1    0         0         0         1     \n     2    1         0         1         1     \n     3    1         0         1         0     \n     4    0         0         0         0     \n     5    0         0         0         0     \n     6    0         0         0         0     \n     7    1         0         0         0     \n</code></pre>\n\n<p>Any suggestion please?</p>\n\n<p>update: If there be no space between digits in row (which is th real situation of my data set) then what should I do? my mean is that my real data looks like this:\ninput:</p>\n\n<pre><code>c1.20022  c1.31012  c2.44444  c2.87634  c2.22233 c3.00444  c3.44444 \n         1    1010001     \n         2    0100101     \n         3    0100110     \n         4    1010010     \n         5    1010010     \n         6    1010010     \n</code></pre>\n\n<p>and output:</p>\n\n<pre><code>c1.31012  c2.87634  c2.22233  c3.44444 \n         1    0001     \n         2    1011     \n         3    1010     \n         4    0000     \n         5    0000     \n         6    0000     \n         7    1000     \n</code></pre>\n"}, {"tags": ["perl", "getopt-long"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464818480, "post_id": 37579192, "comment_id": 62645892, "body": "Are you sure that worked in 2.39? Going all the way back to 2.24 (released in 2000), the <a href=\"https://metacpan.org/pod/release/JV/Getopt-Long-2.24/lib/Getopt/Long.pm#Options-with-values\" rel=\"nofollow noreferrer\">documentation for options with values</a> consistently shows option specs of the form <code>tag=s</code> or <code>tag:i</code>, not <code>tag:20</code>."}, {"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1464830245, "post_id": 37579192, "comment_id": 62649173, "body": "I&#39;ve modified the post to include this. What you get matches my behavior. It is only when <code>-c</code> or <code>--codon-view</code> is given without a value that the behavior changes betwee 2.39 and 2.48. Also there are changes in FindOption that change between those two versions with respect to <code>gnu_getopt</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1464839649, "post_id": 37579192, "comment_id": 62651101, "body": "@ThisSuitIsBlackNot, Search for <code>: number</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464839944, "post_id": 37579192, "comment_id": 62651167, "body": "This is a change introduced in 2.48. I&#39;m not sure, but I think it was done unintentionally, so I filed a <a href=\"https://rt.cpan.org/Ticket/Display.html?id=114999\" rel=\"nofollow noreferrer\">bug report</a>."}], "answers": [{"comments": [{"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1464829608, "post_id": 37579518, "comment_id": 62649056, "body": "I guess I wasn&#39;t clear about the previous behavior. If <code>-c</code> is not given then then that key isn&#39;t in a hash. If it is set, then and only then does the value for that key have a default value. I&#39;ll edit my question to reflect this."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1464818484, "creation_date": 1464818484, "answer_id": 37579518, "question_id": 37579192, "link": "https://stackoverflow.com/questions/37579192/in-newer-getoptlong-how-do-i-set-default-optional-values/37579518#37579518", "title": "In newer Getopt::Long How do I set default optional values", "body": "<p>Set the default value before the <code>GetOptions()</code> call. If the option is not provided on the command line, then the default value will not be overwritten.</p>\n\n<pre><code>$ perl -MGetopt::Long -E '$c=20;GetOptions(\"c=i\"=&gt;\\$c); say $c' -- -c 14\n14\n\n$ perl -MGetopt::Long -E '$c=20;GetOptions(\"c=i\"=&gt;\\$c); say $c' --\n20\n</code></pre>\n\n<p>There is <a href=\"https://metacpan.org/pod/Getopt::Long#Options-with-values\" rel=\"nofollow\">a trivial example</a> in the <code>Getopt::Long</code> documentation.</p>\n"}, {"comments": [{"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1464831227, "post_id": 37581001, "comment_id": 62649351, "body": "I&#39;m sorry I didn&#39;t report my situation fully. First, yes, I do use an options hash. Also, I use <code>use Getopt::Long qw(config gnu_getopt);</code> Your example does work when gnu_getopt is not specified in the use statement. However when it is specified, then your example no longer works. Also it is a little more cumbersome and puts in two places what <code>codon-view|c:20</code> does. If we can can address the problem when gnu_getopt is specified, I&#39;ll accept this if no better solution is found."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1464828562, "creation_date": 1464828562, "answer_id": 37581001, "question_id": 37579192, "link": "https://stackoverflow.com/questions/37579192/in-newer-getoptlong-how-do-i-set-default-optional-values/37581001#37581001", "title": "In newer Getopt::Long How do I set default optional values", "body": "<p>I like to assign my opts to a hash..</p>\n\n<pre><code>GetOptions(\\ my %opt,\n    'codon-view|c:i',\n);\n\nif ( exists $opt{'codon-view'} ) {\n    print \"User triggered '-c' flag\\n\";\n    $opt{'codon-view'} ||= 20;\n    printf( \"codon-view: %d\\n\", $opt{'codon-view'} );\n}\n</code></pre>\n\n<p>Now if a user runs <code>./you-app -c</code> with no argument, the <code>$opt{c}</code> key gets created, but it's value is <code>undef</code>, so you much check if it was triggered with <code>exists</code>.</p>\n\n<p>The <code>||=</code> operator assigns the right-hand side to the left-hand side only if the left-hand side is <code>falsey</code> ( usually <code>undef</code> ). A caveat is that if someone does <code>-c 0</code> it will assign the default... but I'm going to go ahead and assume <code>0</code> is probably  a bad argument for your flag.</p>\n"}, {"comments": [{"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1464857040, "post_id": 37582437, "comment_id": 62659110, "body": "Since this is a usability thing, I&#39;ll need to ask users to experiment. What I&#39;ve done for now is use the 2.39 code copied into the module. Given what you say, I suppose I can increase the version up to 2.47 or so."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1464865786, "post_id": 37582437, "comment_id": 62665096, "body": "Look again. My solution won&#39;t affect any of your users. It simply makes <code>--opt=</code> stop throwing an error."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464973910, "post_id": 37582437, "comment_id": 62722534, "body": "It looks like the documentation for <code>gnu_compat</code> is wrong. <code>perl -MGetopt::Long=:config,gnu_compat -E&#39;GetOptions(\\%opts, &quot;foo:1&quot;) or die; say &quot;&lt;$opts{foo}&gt;&quot;&#39; -- --foo=</code> prints <code>&lt;0&gt;</code>; removing <code>gnu_compat</code> prints <code>&lt;1&gt;</code> (instead of giving an error)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464974262, "post_id": 37582437, "comment_id": 62722732, "body": "@ThisSuitIsBlackNot, It does die without <code>gnu_compat</code> for <code>=</code> options. /// Getopt::Long&#39;s test suite is woefully lacking."}, {"owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "edited": false, "score": 0, "creation_date": 1464987417, "post_id": 37582437, "comment_id": 62729157, "body": "@ikegami just checked. Yep this works as you say. And this should be fine. Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1464974738, "last_edit_date": 1464974738, "creation_date": 1464840113, "answer_id": 37582437, "question_id": 37579192, "link": "https://stackoverflow.com/questions/37579192/in-newer-getoptlong-how-do-i-set-default-optional-values/37582437#37582437", "title": "In newer Getopt::Long How do I set default optional values", "body": "<p>This is a change introduced in 2.48.</p>\n\n<pre><code>$ perl -E'\n   use Getopt::Long qw( :config gnu_getopt );\n   say $Getopt::Long::VERSION;\n   GetOptions(\\my %opts, \"codon-view|c:20\");\n   say $opts{\"codon-view\"} // \"[undef]\"\n' -- -c\n2.47\n20\n\n$ perl -E'\n   use Getopt::Long qw( :config gnu_getopt );\n   say $Getopt::Long::VERSION;\n   GetOptions(\\my %opts, \"codon-view|c:20\");\n   say $opts{\"codon-view\"} // \"[undef]\"\n' -- -c\n2.48\n[undef]\n</code></pre>\n\n<p>I'm not sure, but I think it was done unintentionally, so I filed a <a href=\"https://rt.cpan.org/Ticket/Display.html?id=114999\" rel=\"nofollow\">bug report</a>.</p>\n\n<hr>\n\n<pre><code>use Getopt::Long qw( :config gnu_getopt );\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>use Getopt::Long qw( :config gnu_compat bundling permute no_getopt_compat );\n</code></pre>\n\n<p>How invested are you in using <code>gnu_compat</code>?</p>\n\n<pre><code>$ perl -E'\n   use Getopt::Long qw( :config gnu_getopt );\n   say $Getopt::Long::VERSION;\n   GetOptions(\\my %opts, \"codon-view|c:20\");\n   say $opts{\"codon-view\"} // \"[undef]\"\n' -- -c\n2.48\n[undef]\n\n$ perl -E'\n   use Getopt::Long qw( :config gnu_compat bundling permute no_getopt_compat );\n   say $Getopt::Long::VERSION;\n   GetOptions(\\my %opts, \"codon-view|c:20\");\n   say $opts{\"codon-view\"} // \"[undef]\"\n' -- -c\n2.48\n[undef]\n\n$ perl -E'\n   use Getopt::Long qw( :config bundling permute no_getopt_compat );\n   say $Getopt::Long::VERSION;\n   GetOptions(\\my %opts, \"codon-view|c:20\");\n   say $opts{\"codon-view\"} // \"[undef]\"\n' -- -c\n2.48\n20\n</code></pre>\n\n<blockquote>\n  <p><code>gnu_compat</code> controls whether <code>--opt=</code> is allowed, and what it should do. Without <code>gnu_compat</code>, <code>--opt=</code> gives an error. With <code>gnu_compat</code>, <code>--opt=</code> will give option <code>opt</code> and empty value. This is the way GNU getopt_long() does it.</p>\n</blockquote>\n\n<p>So if you're ok with <code>--codon-view=</code> assigning zero to <code>$opts{\"codon-view\"}</code>, simply use</p>\n\n<pre><code>use Getopt::Long qw( :config bundling permute no_getopt_compat );\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>use Getopt::Long qw( :config gnu_getopt );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "is_accepted": false, "score": 1, "last_activity_date": 1464987606, "last_edit_date": 1464987606, "creation_date": 1464857632, "answer_id": 37587048, "question_id": 37579192, "link": "https://stackoverflow.com/questions/37579192/in-newer-getoptlong-how-do-i-set-default-optional-values/37587048#37587048", "title": "In newer Getopt::Long How do I set default optional values", "body": "<p>Here is another possible but less good solution: include a copy of Getopt::Long.pm, It's only one file, but I have changed the package namespace to something different, e.g. MyPackage::GetoptLong. </p>\n\n<p>This is not an ideal answer, but it is something to keep in mind if you need something to keep compatibility and don't have the better ikegami solution. </p>\n"}], "owner": {"reputation": 5822, "user_id": 546218, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f6f59bf629073f1eb8cdd492d10386c4?s=128&d=identicon&r=PG", "display_name": "rocky", "link": "https://stackoverflow.com/users/546218/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 1, "accepted_answer_id": 37582437, "answer_count": 4, "score": 4, "last_activity_date": 1464987606, "creation_date": 1464816943, "last_edit_date": 1464856782, "question_id": 37579192, "link": "https://stackoverflow.com/questions/37579192/in-newer-getoptlong-how-do-i-set-default-optional-values", "title": "In newer Getopt::Long How do I set default optional values", "body": "<p>In Perl's Getopt::Long version 2.39 I could use </p>\n\n<pre><code>use Getopt::Long qw( :config gnu_getopt );\nGetOptions(\n   \\my %opts, \n   \"codon-view|c:20\",    # Optional value, default 20\n   \"consensus|C:50\", \n   ...\n)\n</code></pre>\n\n<p>to indicate that if I use <code>-c</code> the default value would be 20 put in <code>%opts</code>under key <code>codon-view</code> when <code>-c</code> is given but no explicit value for it is there. On the other hand <code>-c</code> or <code>--codon-view</code> is not supplied, then no value in the hash table is stored for in <code>%opts</code>.</p>\n\n<p>In 2.48 this no longer works and I don't see in <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\">Getopt::Long's documentation</a></p>\n\n<pre><code>$ perl -E'\n   use Getopt::Long qw( :config gnu_getopt );\n   say $Getopt::Long::VERSION;\n   GetOptions(\\my %opts, \"codon-view|c:20\");\n   say $opts{\"codon-view\"} // \"[undef]\"\n' -- -c\n2.39\n20\n\n$ perl -E'\n   use Getopt::Long qw( :config gnu_getopt );\n   say $Getopt::Long::VERSION;\n   GetOptions(\\my %opts, \"codon-view|c:20\");\n   say $opts{\"codon-view\"} // \"[undef]\"\n' -- -c\n2.48\n[undef]\n</code></pre>\n\n<p>How can I achieve the old behavior?</p>\n\n<p>Help!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1464814396, "post_id": 37578417, "comment_id": 62644041, "body": "Without <code>&lt;&gt;</code> you make a copy of <code>$file_handle</code> to <code>$line</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1464815710, "post_id": 37578688, "comment_id": 62644702, "body": "&quot;your while is just checking that the assignment happened&quot; Actually, it&#39;s checking that the return value of the scalar assignment operator is truthy, i.e. that <code>$line</code> is not the number 0, the string 0, the empty string, or <code>undef</code>."}], "tags": [], "owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "is_accepted": false, "score": 0, "last_activity_date": 1464852038, "last_edit_date": 1464852038, "creation_date": 1464814795, "answer_id": 37578688, "question_id": 37578417, "link": "https://stackoverflow.com/questions/37578417/operator-to-read-a-file-using-file-handle/37578688#37578688", "title": "Operator to read a file using file handle", "body": "<p>For the example that 'hung': </p>\n\n<pre><code>while($line = $file_handle)\n</code></pre>\n\n<p>The elements <code>$line = $file_handle</code> is purely an assignment. At that point, your <code>while</code> is just checking that the assignment is truthy, i.e. that <code>$line</code> is not the number 0, the string 0, an empty string, or undef, which of course it's not -> hense you get an infinite loop.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1466737038, "last_edit_date": 1466737038, "creation_date": 1464815007, "answer_id": 37578734, "question_id": 37578417, "link": "https://stackoverflow.com/questions/37578417/operator-to-read-a-file-using-file-handle/37578734#37578734", "title": "Operator to read a file using file handle", "body": "<p><strong>Short</strong> &nbsp; File is read by the <code>&lt;&gt;</code> operator so without it it is only an assignment, thus the infinite loop.</p>\n\n<hr>\n\n<p>The <code>while (...) { ... }</code> checks the condition inside <code>()</code> and if true it executes the body in the block <code>{}</code>. It keeps doing this until the condition in <code>()</code> evaluates to what is understood as false (generally <code>0</code>, <code>'0'</code>, <code>''</code>, or <code>undef</code>). This is what the operator <code>&lt;&gt;</code> provides, for example, so we have an idiom</p>\n\n<pre><code>while (my $line = &lt;$file_handle&gt;) { ... }\n</code></pre>\n\n<p>The <code>&lt;&gt;</code> operator reads a line at each iteration from the resource that <code>$file_handle</code> is associated with and when it reaches end-of-file it returns <code>undef</code> so the loop terminates and the program execution continues at the next statement after the loop.  The <em>diamond operator</em> <code>&lt;&gt;</code> is the operator form for the function <a href=\"http://perldoc.perl.org/functions/readline.html\" rel=\"nofollow\"><code>readline</code></a>. See <a href=\"http://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow\">I/O Operators in perlop</a>. For all this to work <code>$file_handle</code> has to be a valid resource that can retrieve data.</p>\n\n<p>Without the <code>&lt;&gt;</code> operator nothing is read from anywhere, but there is only an assignment.  The code does the following. It copies the variable <code>$file_handle</code> into the variable <code>$line</code>. The return value of that operation in Perl is the value that ends up in <code>$line</code>, and if that is a 'truthy' value then the body <code>{ ... }</code> is executed. The <code>$file_handle</code> clearly evaluates to 'true', otherwise the loop body would not execute even once and the program would continue. Thus <code>$line</code> is true, too.  So if the <code>$file_handle</code> doesn't change in the body <code>{...}</code> of the loop the condition is always true.</p>\n\n<p>Then whatever is in the body keeps being executed, without a reason for the loop to terminate, and it thus never returns control to the program.  It's an <em>infinite loop</em>, and the program <em>appears</em> to hang. </p>\n\n<hr>\n\n<p>Note that this is sometimes used deliberately and you may see code like</p>\n\n<pre><code>while (1) {\n    # Compute what is needed\n    # Recalculate the condition for when to stop\n    last if $condition_to_terminate;\n}\n</code></pre>\n\n<p>This approach can be risky though, since the condition can get more and more complicated and an error could sneak in, in which case we end up with an infinite loop.  There are usually clearer ways to control loops.</p>\n\n<p>A completely different example is an <em>event loop</em>, where it is crucial to enter an infinite loop so that we can then wait for an <em>event</em> of some sort, at which point a particular action is taken.  This is how GUI's work, for example, and a number of other systems.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1464820068, "last_edit_date": 1464820068, "creation_date": 1464815458, "answer_id": 37578842, "question_id": 37578417, "link": "https://stackoverflow.com/questions/37578417/operator-to-read-a-file-using-file-handle/37578842#37578842", "title": "Operator to read a file using file handle", "body": "<p>Given this code:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $fh, '&lt;', 'in.txt' or die $!;\n\nwhile (my $x = $fh){\n    $DB::single=1;\n    print \"$x\\n\";\n}\n</code></pre>\n\n<p>when run in the debugger, you can see that <code>$x</code> now contains a <code>GLOB</code> (a copy of the file handle). On each iteration, <code>$x</code> takes the whole handle as an assignment, and causes an infinite loop, because the statement is always true. Because you're always assigning a true value (the handle), the while statement is effectively no different than writing <code>while(1){...</code>.</p>\n\n<pre><code>perl -d script.pl\n\nmain::(x.pl:4):     open my $fh, '&lt;', 'in.txt' or die $!;\n  DB&lt;1&gt; s\nmain::(x.pl:6):     while (my $x = $fh){\n  DB&lt;1&gt; s\nmain::(x.pl:7):         $DB::single=1;\n  DB&lt;1&gt; x $x\n0  GLOB(0xbfdae8)\n   -&gt; *main::$fh\n         FileHandle({*main::$fh}) =&gt; fileno(6)\n  DB&lt;2&gt; s\nmain::(x.pl:7):         $DB::single=1;\n  DB&lt;2&gt; x $x\n0  GLOB(0xbfdae8)\n   -&gt; *main::$fh\n         FileHandle({*main::$fh}) =&gt; fileno(6)\n</code></pre>\n\n<p><code>&lt;$fh&gt;</code> essentially extracts a single line from the file handle, and when EOF is hit (or an error occurs), returns <code>undef</code>, which terminates the loop (because <code>undef</code> is false).</p>\n"}], "owner": {"reputation": 35, "user_id": 6403276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404e4730eec0681d8b76a8e719d07db3?s=128&d=identicon&r=PG&f=1", "display_name": "user6403276", "link": "https://stackoverflow.com/users/6403276/user6403276"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "accepted_answer_id": 37578734, "answer_count": 3, "score": 2, "last_activity_date": 1466737038, "creation_date": 1464813753, "question_id": 37578417, "link": "https://stackoverflow.com/questions/37578417/operator-to-read-a-file-using-file-handle", "title": "Operator to read a file using file handle", "body": "<p>I am trying to read a file,</p>\n\n<pre><code>    while($line = $file_handle)\n</code></pre>\n\n<p>When I ran this code, the program hung.</p>\n\n<p>I noticed to read the file using file handle, we need to used &lt;></p>\n\n<pre><code>   while($line = &lt;file_handle&gt;)\n</code></pre>\n\n<p>The later code obviously ran.</p>\n\n<p>Now I know operator &lt;> is to read the file line by line, I want to know what exactly is happening when I dont provide &lt;> operator? \nIs it not able to find the end of the line ?or?</p>\n\n<p>Thankyou</p>\n"}, {"tags": ["perl", "fastcgi", "exit", "catalyst"], "comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1464819843, "post_id": 37578034, "comment_id": 62646411, "body": "If I call <code>exit;</code> after <code>$c-&gt;response-&gt;body(&quot;Stop called!&quot;);</code> then Internal Server Error happens. My crude hack is to use <code>print &quot;Content-Type: text&#47;plain\\n\\nStop called!&quot;; exit;</code>"}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1464877757, "post_id": 37578034, "comment_id": 62674319, "body": "Reloading modules usually results in various hard to detect problem. Your example shows that you might not want a reload, but exit and restart the server. Is this what you want?"}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "reply_to_user": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1464886466, "post_id": 37578034, "comment_id": 62680623, "body": "I want my FastCGI script to restart, yes"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1474098009, "post_id": 37578034, "comment_id": 66401186, "body": "I&#39;m going to close this as a duplicate because there is a very good answer on how to build an actual restarting script for FastCGI and Catalyst. But it&#39;s not using the URL parameter you want, which is a very insecure approach. You don&#39;t want anyone to accidentally stumble across this and restarting your server. One could write a script that constantly restarts your app, rendering it unusable. That would not be very desirable. A better approach would be to build a deployment scrpit that does that for you whenever you update your files."}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1474098015, "answer_count": 0, "score": 0, "last_activity_date": 1464812312, "creation_date": 1464812312, "question_id": 37578034, "link": "https://stackoverflow.com/questions/37578034/reload-catalyst-fcgi", "closed_reason": "Duplicate", "title": "Reload Catalyst FCGI", "body": "<p>I want to reload all Perl modules which our Catalyst application consists of, when we call our FCGI script with <code>?xxx=yyy</code> parameter.</p>\n\n<p>To reload I should use <code>exit;</code>, right?</p>\n\n<p>What is the easiest way to detect URLs with <code>?xxx=yyy</code> using Catalyst?</p>\n"}, {"tags": ["perl", "ibm-cloud", "speech-to-text", "mojolicious", "ibm-watson"], "answers": [{"comments": [{"owner": {"reputation": 728, "user_id": 475992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85a5103436273a4620f51c82b7ecce73?s=128&d=identicon&r=PG", "display_name": "bob.faist", "link": "https://stackoverflow.com/users/475992/bob-faist"}, "edited": false, "score": 0, "creation_date": 1464967660, "post_id": 37600045, "comment_id": 62719032, "body": "Sessionless works fine.   I have not been able to get websockets through the firewall which is out of my control.  Since I am trying to send pieces of a recording from a mobile device, I thought the sessions might work better.  The MOJO_USERAGENT_DEBUG output above shows the SESSIONID cookie being sent on the GET request.  Maybe the &quot;Watson-DPAT&quot; cookie is not needed."}, {"owner": {"reputation": 750, "user_id": 5334250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k08Mr.jpg?s=128&g=1", "display_name": "Daniel Bolanos", "link": "https://stackoverflow.com/users/5334250/daniel-bolanos"}, "reply_to_user": {"reputation": 728, "user_id": 475992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85a5103436273a4620f51c82b7ecce73?s=128&d=identicon&r=PG", "display_name": "bob.faist", "link": "https://stackoverflow.com/users/475992/bob-faist"}, "edited": false, "score": 0, "creation_date": 1465228714, "post_id": 37600045, "comment_id": 62802241, "body": "please make sure that the value of the SESSIONID cookie that you send on the GET matches character by character the value of the SESSIONID cookie that you get when you make the POST to create the session"}], "tags": [], "owner": {"reputation": 750, "user_id": 5334250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k08Mr.jpg?s=128&g=1", "display_name": "Daniel Bolanos", "link": "https://stackoverflow.com/users/5334250/daniel-bolanos"}, "is_accepted": false, "score": 1, "last_activity_date": 1464893873, "creation_date": 1464893873, "answer_id": 37600045, "question_id": 37577799, "link": "https://stackoverflow.com/questions/37577799/malformed-session-id-cookie/37600045#37600045", "title": "Malformed Session ID Cookie", "body": "<p>when using sessions you receive a SESSIONID cookie when creating the session, that cookie you need to send back to the service on every call you make after creating the session. Please note that the value of that cookie does not equal \"session_id\": \"836cfc64b5856712b040a0b1b3bf4237\", it is a longer alphanumeric string.</p>\n\n<p>btw. why are you using sessions? what is your use case? maybe you could benefit from sessionless calls (simpler) or websockets (better for live use cases)</p>\n\n<p>Dani</p>\n"}, {"tags": [], "owner": {"reputation": 728, "user_id": 475992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85a5103436273a4620f51c82b7ecce73?s=128&d=identicon&r=PG", "display_name": "bob.faist", "link": "https://stackoverflow.com/users/475992/bob-faist"}, "is_accepted": true, "score": 0, "last_activity_date": 1488210853, "creation_date": 1488210853, "answer_id": 42490102, "question_id": 37577799, "link": "https://stackoverflow.com/questions/37577799/malformed-session-id-cookie/42490102#42490102", "title": "Malformed Session ID Cookie", "body": "<p>Using a trailing slash is the cause of this error.  The interesting part is that the \"start session\" POST request with the trailing slash URL will succeed and return the correct JSON data.  The next request to get the session status will fail.  Not really a code problem.  I also demonstrated the issue with curl.</p>\n\n<pre><code>my $ua = Mojo::UserAgent-&gt;new();\n$ua-&gt;proxy-&gt;detect();\n$ua-&gt;inactivity_timeout(0);\n\n# THIS URL WORKS - no trailing slash\nmy $start_session_url = \"https://${watson_username}:${watson_password}\\@stream.watsonplatform.net/speech-to-text/api/v1/sessions\";\n# THIS URL DOES NOT WORK - with trailing slash\n# my $start_session_url = \"https://${watson_username}:${watson_password}\\@stream.watsonplatform.net/speech-to-text/api/v1/sessions/\";\n\nmy $session_tx = $ua-&gt;post($start_session_url);\n\nmy $response;\nmy $recognize_url;\n\nif($response = $session_tx-&gt;success) {\n     print Dumper($response-&gt;json);\n     $recognize_url = $response-&gt;json-&gt;{recognize};\n} else {\n     die \"Failure to start session\";\n}\n\n$recognize_url =~ s/https:\\/\\//https:\\/\\/${watson_username}:${watson_password}\\@/;\n\n# Malformed Cookie error happens here\nmy $status_tx = $ua-&gt;get($recognize_url);\n\nif($response = $status_tx-&gt;success) {\n    print Dumper($response-&gt;json);\n} else {\n    die \"Failure to get session status\";\n}\n</code></pre>\n"}], "owner": {"reputation": 728, "user_id": 475992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85a5103436273a4620f51c82b7ecce73?s=128&d=identicon&r=PG", "display_name": "bob.faist", "link": "https://stackoverflow.com/users/475992/bob-faist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1014, "favorite_count": 0, "accepted_answer_id": 42490102, "answer_count": 2, "score": 2, "last_activity_date": 1488210853, "creation_date": 1464811451, "last_edit_date": 1464812207, "question_id": 37577799, "link": "https://stackoverflow.com/questions/37577799/malformed-session-id-cookie", "title": "Malformed Session ID Cookie", "body": "<pre><code>Set-Cookie: SESSIONID=836cfc64b5856712b040a0b1b3bf4237; Secure; HttpOnly\nSet-Cookie: Watson-DPAT=gBJQjAG%2FYflxpHKCwJVswQPEBuUmikj38zzFm8UZNTbOERxbeXS4WVxBIT5JetJBkeO1RT16PNz6%2BI17oFrEqvxjny%2FifZRorvBxXVzDmFkRpfRLxxj6ZNvFCvuRL1DtfW3nL8Ne1QDwpuKQmNt8%2BD9vFk7bGjlaziHT0ZFhNffWJT7FRCWbuJAyjKd%2BQui2WTIl6B8KglPi6GG1buh5UPDE%2Bc8OvrqyAfJRfYOApRdx7kHhtHdxIV7g%2FzNExXhafScqxi4cWEa5Kg9YGcypr8SIO%2FD7WOq0KyERHUDkbZatH53CCii25it5XD0plnt3cVc4bWs8tXkMT82V9DwCYULto64L%2BgNh30iTpyv72xOIfHeZTt2KISfhXMy6z86ueaJZzNd4nS6rwc7s2E8ldxwYLXrCU996xsLmzPYbGSzaeFLplG7c%2BCxzTlAll5fn8eMMbGn30W%2BrXLNtcaJ3lRK2nvzQCim1GhMdqoOvOcSvPWiJoVBrF8lc75eGSr8C%2Fovq20fOk3NDw4f0UPfBEGZYuAtXjonU7QdRhSgLRXxKyGvcYHEWeWUOQ2kvtI2m%2FRD%2BMRx9384p1v6uu8XfaU16IqoidV0Vew3MLPW4fxcOWRqnWKy0iIYbIJrWVcigloIy%2FNxgO7oHW7aacgH1u8IluAURz5AiE1Bej4l%2FjAI91IUTEssbg6fsXd3AqmlkixDglDJBgTEtMoXhXVyDjvJSaVUqdFTokP3YcRNhlTzqDQ3vG8txTLzECsyQHZ7DgWp%2B98P3zjvtad9xB%2BDzXhF4CaUB7ve99bWO5FO1DU3KRhx7pEAKGselDCoxTOkjIhEMMJbeQrbC1QWJ4uR9KlBPBdIbShd3; path=/speech-to-text/api; secure; HttpOnly\n</code></pre>\n\n<p>The request to create the Speech to Text session works.</p>\n\n<pre><code>{\n   \"recognize\": \"https://stream.watsonplatform.net/speech-to-text/api/v1/sessions/836cfc64b5856712b040a0b1b3bf4237/recognize\",\n   \"recognizeWS\": \"wss://stream.watsonplatform.net/speech-to-text/api/v1/sessions/836cfc64b5856712b040a0b1b3bf4237/recognize\",\n   \"observe_result\": \"https://stream.watsonplatform.net/speech-to-text/api/v1/sessions/836cfc64b5856712b040a0b1b3bf4237/observe_result\",\n   \"session_id\": \"836cfc64b5856712b040a0b1b3bf4237\",\n   \"new_session_uri\": \"https://stream.watsonplatform.net/speech-to-text/api/v1/sessions/836cfc64b5856712b040a0b1b3bf4237\"\n}\n</code></pre>\n\n<p>Then I try to get the status of the session to make sure the state is \"initialized\" but I get a \"Malformed Session ID Cookie\" error.</p>\n\n<pre><code>GET /speech-to-text/api/v1/sessions/836cfc64b5856712b040a0b1b3bf4237/recognize HTTP/1.1\\x0d\nContent-Length: 0\\x0d\nAccept-Encoding: gzip\\x0d\nAuthorization: Basic OGIyMTk0MDYtYWYzYS00YTFhLWExYmMtZDA3ZjNlNTY2Y2JmOm1lYmpBaG1ndkhMSw==\\x0d\nCookie: SESSIONID=836cfc64b5856712b040a0b1b3bf4237; Watson-DPAT=gBJQjAG%2FYflxpHKCwJVswQPEBuUmikj38zzFm8UZNTbOERxbeXS4WVxBIT5JetJBkeO1RT16PNz6%2BI17oFrEqvxjny%2FifZRorvBxXVzDmFkRpfRLxxj6ZNvFCvuRL1DtfW3nL8Ne1QDwpuKQmNt8%2BD9vFk7bGjlaziHT0ZFhNffWJT7FRCWbuJAyjKd%2BQui2WTIl6B8KglPi6GG1buh5UPDE%2Bc8OvrqyAfJRfYOApRdx7kHhtHdxIV7g%2FzNExXhafScqxi4cWEa5Kg9YGcypr8SIO%2FD7WOq0KyERHUDkbZatH53CCii25it5XD0plnt3cVc4bWs8tXkMT82V9DwCYULto64L%2BgNh30iTpyv72xOIfHeZTt2KISfhXMy6z86ueaJZzNd4nS6rwc7s2E8ldxwYLXrCU996xsLmzPYbGSzaeFLplG7c%2BCxzTlAll5fn8eMMbGn30W%2BrXLNtcaJ3lRK2nvzQCim1GhMdqoOvOcSvPWiJoVBrF8lc75eGSr8C%2Fovq20fOk3NDw4f0UPfBEGZYuAtXjonU7QdRhSgLRXxKyGvcYHEWeWUOQ2kvtI2m%2FRD%2BMRx9384p1v6uu8XfaU16IqoidV0Vew3MLPW4fxcOWRqnWKy0iIYbIJrWVcigloIy%2FNxgO7oHW7aacgH1u8IluAURz5AiE1Bej4l%2FjAI91IUTEssbg6fsXd3AqmlkixDglDJBgTEtMoXhXVyDjvJSaVUqdFTokP3YcRNhlTzqDQ3vG8txTLzECsyQHZ7DgWp%2B98P3zjvtad9xB%2BDzXhF4CaUB7ve99bWO5FO1DU3KRhx7pEAKGselDCoxTOkjIhEMMJbeQrbC1QWJ4uR9KlBPBdIbShd3\\x0d\nUser-Agent: Mojolicious (Perl)\\x0d\nHost: stream.watsonplatform.net\\x0d\n\nHTTP/1.1 400 Bad Request\\x0d\nX-Backside-Transport: FAIL FAIL\\x0d\nConnection: Keep-Alive\\x0d\nTransfer-Encoding: chunked\\x0d\nX-Error-Cause: Zuul Error: Malformed Session ID Cookie\\x0d\nContent-Type: application/json\\x0d\nDate: Wed, 01 Jun 2016 19:41:26 GMT\\x0d\nServer: -\\x0d\nX-Global-Transaction-ID: 237895544\\x0d\nX-DP-Watson-Tran-ID: stream-dp01-c0182762-b9fe-4533-acab-7fbeb02b63dd\\x0d\n</code></pre>\n\n<p>The code is using a single instance of Mojo::UserAgent so the cookies are maintained on each request.</p>\n"}, {"tags": ["perl", "error-handling", "catalyst"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1464826548, "post_id": 37577675, "comment_id": 62648398, "body": "Internal Server Error generally means a fatal error in the application launched by Nginx/Apache. i.e., Catalyst crashed hard enough that it couldn&#39;t write a decent error message to the browser. Check the server error logs instead."}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1464810956, "creation_date": 1464810956, "question_id": 37577675, "link": "https://stackoverflow.com/questions/37577675/internal-server-error-should-be-more-elaborate-with-catalyst", "title": "Internal Server Error should be more elaborate with Catalyst", "body": "<p>I've made a Catalyst application <code>MainSite</code> with <code>Bravo::MainSite::Controller::Root</code> controller.</p>\n\n<p>To test it I added <code>package Bravo::MainSite::Controller::Test;</code> which basically only consists of:</p>\n\n<pre><code>sub catalyst_test :Global {\n    my ( $self, $c ) = @_;\n\n    $c-&gt;response-&gt;body( \"Catalyst works!\" );\n}\n</code></pre>\n\n<p>When I intentionally add an error to <code>Test.pm</code>, our CGI script</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse Catalyst::ScriptRunner;\nCatalyst::ScriptRunner-&gt;run('Bravo::MainSite', 'CGI');\n\n1;\n</code></pre>\n\n<p>shows \"Internal Server Error\" without any clarification which is the exact error, instead of custom Catalyst error page but a basic Nginx or Apache error which is not detailed enough.</p>\n\n<p>I want to see a more detailed error message.</p>\n\n<p>Note that <code>-Debug</code> option is present in <code>use Catalyst</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464793005, "post_id": 37572185, "comment_id": 62631750, "body": "That should work. Why isn&#39;t it? What errors do you get? What happens if you <code>use Data::Dumper; print Dumper \\%hash</code>?"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 2, "creation_date": 1464793116, "post_id": 37572185, "comment_id": 62631826, "body": "That works just fine.  If you&#39;re not seeing your desired results, it&#39;s because you have an error elsewhere in your script and you&#39;ve misidentified the problem area.  Please create and post a short and complete script that demonstrates the issue you&#39;re having."}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464793178, "post_id": 37572185, "comment_id": 62631874, "body": "(also, there are no references anywhere in this example.  It&#39;s helpful to use the correct terminology.  <code>key</code> is simply a key of the hash, and <code>&#39;this is a&#39;</code> is the hash&#39;s value.  Nothing is referenced.)"}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1464793179, "post_id": 37572185, "comment_id": 62631876, "body": "The result is &quot;HASH(0xaw93) string&quot;."}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1464793216, "post_id": 37572185, "comment_id": 62631898, "body": "No it&#39;s not.  Not with the code you posted.  Post a short and complete script that you are running to generate that result."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464793218, "post_id": 37572185, "comment_id": 62631900, "body": "Are you <code>print</code>ing it at all? Right now you are just changing a value."}, {"owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "edited": false, "score": 0, "creation_date": 1464793766, "post_id": 37572185, "comment_id": 62632320, "body": "I edited the question text, i hope it&#39;s ok now"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1464793751, "creation_date": 1464793751, "answer_id": 37572498, "question_id": 37572185, "link": "https://stackoverflow.com/questions/37572185/concatenate-hash-value-when-hash-is-referenced/37572498#37572498", "title": "Concatenate hash value when hash is referenced", "body": "<p>Always use the following!!!</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n</code></pre>\n\n<p>It would have pointed out your error.</p>\n\n<p>You modify the hash <code>%hash</code>, but there is no such hash! You want to modify the hash referenced by <code>$hash</code>, so you want</p>\n\n<pre><code>use Data::Dumper qw( Dumper );\n\nsub f {\n   my $hash = shift;\n   $hash-&gt;{key} .= ' string';\n}\n\nmy %hash = ( key =&gt; 'this is a' );\nf(\\%hash);\nprint(Dumper(\\%hash));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 1490889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TictH.png?s=128&g=1", "display_name": "Medlock Perlman", "link": "https://stackoverflow.com/users/1490889/medlock-perlman"}, "is_accepted": false, "score": 1, "last_activity_date": 1464795638, "last_edit_date": 1464795638, "creation_date": 1464794062, "answer_id": 37572620, "question_id": 37572185, "link": "https://stackoverflow.com/questions/37572185/concatenate-hash-value-when-hash-is-referenced/37572620#37572620", "title": "Concatenate hash value when hash is referenced", "body": "<p>You are presumably inside a subroutine and you are picking up a hash REFERENCE, not a hash. You need to dereference it like this:</p>\n\n<pre><code>%{$hashref}   # dereferenced hashref (just like a hash)\n\n${$hashref}{key}  # access your key (just like a hash)\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>$hashref-&gt;{key}  # access your key, shorthand style\n</code></pre>\n\n<p>Note the arrow in the shorthand version!</p>\n\n<p>For more information, check out: </p>\n\n<pre><code>perldoc perlreftut # MJD's references tutorial\n</code></pre>\n\n<p>(available on the web at <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">http://perldoc.perl.org/perlreftut.html</a>)</p>\n"}], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "closed_date": 1465401470, "accepted_answer_id": 37572498, "answer_count": 2, "score": -5, "last_activity_date": 1464795638, "creation_date": 1464792872, "last_edit_date": 1464793581, "question_id": 37572185, "link": "https://stackoverflow.com/questions/37572185/concatenate-hash-value-when-hash-is-referenced", "closed_reason": "Not suitable for this site", "title": "Concatenate hash value when hash is referenced", "body": "<p>This is my code:</p>\n\n<pre><code>my $hash = shift; // in this hash i have a key 'key' that has the value 'this is a'\n\n\n$hash{'key'} .= 'string'; //trying to concatenate the two strings\n\nuse Data::Dumper;\n\nprint Dumper $hash{'key'}; // prints \"hash(0x36fc12..) string\"\n</code></pre>\n\n<p>I am trying to get :</p>\n\n<pre><code>key=&gt;'this is a string'\n</code></pre>\n"}, {"tags": ["list", "perl", "hash", "constants", "perl-exporter"], "comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464792074, "post_id": 37571784, "comment_id": 62631066, "body": "If what I want to do is not possible, will someone please explain the reason why ? :)"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464792426, "post_id": 37571784, "comment_id": 62631325, "body": "your <code>Type.pm</code> module fails to compile due to a missing <code>}</code>.  Please fix."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "reply_to_user": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464792782, "post_id": 37571784, "comment_id": 62631586, "body": "Woops, sorry I took out the whole list of errors just for the purpose of the question, as only one error is needed, will fix now :)"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464792894, "post_id": 37571784, "comment_id": 62631680, "body": "I&#39;m confused as to what your intended structure is.  Did you want the constant to be <code>code</code> or did you want the constant to be <code>UNABLE_TO_PING_SWITCH_ERROR</code>?  Right now, you have a constant named <code>code</code>.  That constant is a reference to a hash.  That hash contains one key/value pair.  The key is the string <code>&#39;UNABLE_TO_PING_SWITCH_ERROR&#39;</code>, and the value is a reference to another hash.  But in the constructor you listed, you&#39;re passing a string <code>&#39;code&#39;</code>, followed by what should give you a bareword warning, <code>UNABLE_TO_PING_SWITCH_ERROR</code>.  Is that your intent?"}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "reply_to_user": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464793693, "post_id": 37571784, "comment_id": 62632273, "body": "the constant list is meant to be <code>code</code>and then I want to be able to access it something like this , if possible ;  &#39;ASC::Builder::Error-&gt;new(code =&gt; &#39;UNABLE_TO_PING_SWITCH_ERROR&#39;, switch_ip =&gt; $switch_ip, timeout =&gt; $timeout)` ... The new method should take in code pointing to the error first, and the rest of the parameter are context/runtime parameter that will be inserted into the error message. Will it work if I use a string instead of bareword. At the minute I can get it to work by just having an unnamed list, but I am required to name the list `code`` ... Which provides no benefit IMO"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464793894, "post_id": 37571784, "comment_id": 62632400, "body": "&quot;The new method shoudl take in the code pointing to the error first&quot;.  But you&#39;re exporting the error list, and importing it into your second module.  Why would it have to be passed in through <code>new()</code>&#39;s parameter list?  I think the problem here is you&#39;re using <code>code</code> to mean two different things.  It&#39;s both a constant, equaling a reference to a hash, and it&#39;s also a string being linked to another string <code>&#39;UNABLE_TO_PING_SWITCH_ERROR&#39;</code> in your constructor.  I will post an answer to try to clean it up with my recommendations."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "reply_to_user": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1464794180, "post_id": 37571784, "comment_id": 62632601, "body": "Yeah I am very confused at the minute. I want to find out a way that I can take access the constant list named <code>code</code> in this way <code>code =&gt; **followed by the error name**</code> , I&#39;m not sure the error should be a string or if it should be a bareword? Going from what you said , it should not be a bareword. Anyway, yeah an answer would be great thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464794876, "post_id": 37572709, "comment_id": 62633137, "body": "Okay so error_hash is pointing is reference to the error name.. I can understand that. Does error_name contain the first argument that is passed into the new method? then that name is found in the constant list by <code>code-&gt;{$error_name}</code>"}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 1, "creation_date": 1464794946, "post_id": 37572709, "comment_id": 62633194, "body": "This is the answer I was looking for all along. I think haha. I&#39;ve asked this question a few times on here , but couldn&#39;t get what I was looking for, maybe I was asking the question wrong, But thanks for this, I will work of this!! :)"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "reply_to_user": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "edited": false, "score": 0, "creation_date": 1464795135, "post_id": 37572709, "comment_id": 62633310, "body": "<code>&#39;error_name&#39;</code> is just a string.  We use it as a key in the constructor call, pointing at the value <code>&#39;UNABLE_TO_PING_SWITCH_ERROR&#39;</code>. (I&#39;m using the terms &quot;key&quot; and &quot;value&quot; very loosely here, because the parameter list is just that, a list, not a real hash, even though we&#39;re using the <code>=&gt;</code> that generally indicates a hash).    Within the constructor, we create the hash <code>%args</code> out of the parameter list, at which point <code>&#39;error_name&#39;</code> does indeed become a key that points to the value <code>&#39;UNABLE_TO_PING_SWITCH_ERROR&#39;</code>.  That string is then used as the key to the hash that <code>code</code> references."}], "tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1464794274, "creation_date": 1464794274, "answer_id": 37572709, "question_id": 37571784, "link": "https://stackoverflow.com/questions/37571784/want-to-access-a-hash-from-a-named-list-of-constants-which-are-located-in-a-sepa/37572709#37572709", "title": "Want to access a hash from a named list of constants which are located in a separate perl module", "body": "<p>Don't reuse the symbol <code>code</code>, it's confusing the issue.</p>\n\n<p>You can leave your <code>Type.pm</code> file as is.  It defines the constant <code>code</code> to be a reference to a hash that has one key/value pair.  The key of that hash is the name of the error you eventually want to access.</p>\n\n<p>In your <code>Error.pm</code> module, you are importing the constant <code>code</code>. There is no reason to be passing that in to a constructor.  You can just go ahead and use it.</p>\n\n<p>Change the call to your constructor to:</p>\n\n<pre><code>ASC::Builder:Error-&gt;new(error_name =&gt; 'UNABLE_TO_PING_SWITCH_ERROR', switch_ip =&gt; $switch_ip, timeout =&gt; $timeout);\n</code></pre>\n\n<p>Then within your constructor, you can do:</p>\n\n<pre><code>sub new {\n    my ($class, %args) = @_;\n    my $error_name = $args{error_name};\n\n    my $error_hash = code-&gt;{$error_name};\n</code></pre>\n\n<p>At this point, <code>$error_hash</code> will be a reference to the inner hash you created in <code>Type.pm</code>:</p>\n\n<pre><code>{\n      category =&gt; 'Connection Error',\n      template =&gt; \"Could not ping switch %s in %s seconds.\",\n      context =&gt; [ qw(switch_ip  timeout) ],\n      tt =&gt; {template =&gt; 'disabled'},\n      fatal =&gt; 1,\n      wiki_page =&gt; 'http://w.error-fix.com/index.php/Builder/ErrorCodes/UNABLE_TO_PING_SWITCH_ERROR',\n}\n</code></pre>\n\n<p>and you can use it accordingly.  I hope that helps get you in the right direction.</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464794274, "creation_date": 1464791883, "last_edit_date": 1464792861, "question_id": 37571784, "link": "https://stackoverflow.com/questions/37571784/want-to-access-a-hash-from-a-named-list-of-constants-which-are-located-in-a-sepa", "title": "Want to access a hash from a named list of constants which are located in a separate perl module", "body": "<p>I am trying to figure out how to access an error from a list of errors (a constant list). By access I mean that I have a new() method which outputs/creates an error that is posted. My new method does not match up properly with the way my list 'code' at the minute, so I am asking what changes I would have to make so that it will be able to retrieve an error (hash) from the list like this:\n<code>ASC::Builder:Error-&gt;new(code =&gt; UNABLE_TO_PING_SWITCH_ERROR, switch_ip =&gt; $switch_ip, timeout =&gt; $timeout);</code> (if this is possible, I have been told it may not be, without taking code as an argument and then deleting it)</p>\n\n<p>Here are my files below:</p>\n\n<h1>Error.pm</h1>\n\n<pre><code>    package ASC::Builder::Error;\n\n    use strict;\n    use warnings;\n\n    use ASC::Builder::Error::Type 'code';\n\n\n    use parent 'Exporter';\n    our @EXPORT_OK = qw/new/;\n\n    sub new {\n        my ($class, %args) = @_;\n        my @args = keys %args;\n        # Takes code in as an argument and then removes it so the error hash it self can be assigned to it\n        my $self = delete $args{code};\n        if (is_error($self)) {\n            return $self;\n        }\n        # 1st argument will be error hash. Any other arguments will be context params &amp; inserted into\n        # context field of the error hash\n        if (ref $self eq 'HASH' &amp;&amp; (@args &gt; 1)) {\n            foreach my $key (@{ $self-&gt;{context} } ) {\n                # And take the ones we need\n                $self-&gt;{args}-&gt;{$key} = $args{$key};\n            }\n            my @template_args = map { $self-&gt;{args}-&gt;{$_} } @{ $self-&gt;{context} };\n\n            # Map/Insert arguments into context hash and insert into string template\n            $self-&gt;{message} = sprintf ($self-&gt;{template}, @template_args);\n            return bless $self, $class;\n            }\n            # Supporting the old error messaage (string &amp; parameters)\n            else {\n                 return bless { message =&gt; $args[0]}, $class;\n            }\n        }\n\n      # Accessor for category\n      sub category {\n          return shift-&gt;{category};\n      }\n\n      # Accessor for message\n      sub template {\n          return shift-&gt;{template};\n      }\n      # Accessor for context\n      sub context {\n          return shift-&gt;{context};\n      }\n      # Accessor for template option\n      sub tt {\n          return shift-&gt;{tt}{template};\n      }\n      # Accessor for fatal\n      sub is_fatal {\n          return shift-&gt;{fatal};\n      }\n      # Setter for is_fatal\n      sub set_is_fatal {\n          my ($self, $fatal) = @_;\n          $self-&gt;{fatal} = $fatal;\n      }\n\n      # Accessor for wiki_page\n      sub wiki_page {\n          return shift-&gt;{wiki_page};\n      }\n    # Accessor for args. args are a hash ref of context parameters that are\n      # passed in as a list at construction\n      sub args {\n          return shift-&gt;{args};\n      }\n      # Accessor for error message which is processed inside the new() method.\n      # Will return error message with context parameters inserted.\n      sub message {\n          return shift-&gt;{message};\n\n      }\n      # Stringifies the error to a log message (for SB dashboard), including the\n      # category, message, and wiki_page.\n      sub stringify {\n          my ($self) = @_;\n          return sprintf (\"%s: %s\\nMore info: %s\",$self-&gt;{category}, $self-&gt;{message}, $self-&gt;{wiki_page});\n      }\n\n      # Accessor for old error message type\n      sub details {\n          my $self = shift;\n          return $self-&gt;{details} || $self-&gt;{message};\n      }\n      sub code {\n          return shift-&gt;{code};\n      }\n\n      # Used to deserializ from build json.\n      sub recreate_from_hash {\n          my($class, $hash) = @_;\n          return bless $hash, $class;\n      }\n\n      # Use to check if something is out error.\n      sub is_error {\n          if (scalar(@_) &gt; 1) { # Called as $class-&gt;is_error\n              shift; # Get rid of class\n          }\n          return UNIVERSAL::isa(shift, 'ASC::Builder::Error');\n      }\n      1;\n</code></pre>\n\n<h1>Type.pm (This is the list I am exporting)</h1>\n\n<pre><code>package ASC::Builder::Error::Type;\n  use strict;\n  use warnings;\n  use parent 'Exporter';\n\n  # Export the list of errors\n  our @EXPORT_OK = ('code');\n\n  # List of error messages\n  use constant code =&gt; {\n      UNABLE_TO_PING_SWITCH_ERROR =&gt; {\n          category =&gt; 'Connection Error',\n          template =&gt; \"Could not ping switch %s in %s seconds.\",\n          context =&gt; [ qw(switch_ip  timeout) ],\n          tt =&gt; {template =&gt; 'disabled'},\n          fatal =&gt; 1,\n          wiki_page =&gt; 'http://w.error-fix.com/index.php/Builder/ErrorCodes/UNABLE_TO_PING_SWITCH_ERROR',\n      },\n  # Add errors to this library\n  };\n  1;\n</code></pre>\n\n<h1>N.B.: Can include the unit test for this design if needed.</h1>\n"}, {"tags": ["perl", "winapi", "fonts", "colors", "powerpoint"], "answers": [{"tags": [], "owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "is_accepted": true, "score": 0, "last_activity_date": 1464783785, "creation_date": 1464783785, "answer_id": 37568548, "question_id": 37567063, "link": "https://stackoverflow.com/questions/37567063/perl-win32-powerpoint-setting-font-color/37568548#37568548", "title": "perl win32 powerpoint setting font color", "body": "<p>You have to pass the <em>value</em> of the VBA <code>RGB</code> function. (<a href=\"http://www.perlmonks.org/?node_id=153486\" rel=\"nofollow\">Source</a>) That's an integral value, <em>not</em> an array of integer values, or a string.</p>\n\n<p>The value of <code>RGB</code> function can be calculated easily with some simple bit manipulation. The calculation for Red (r), Green (g) and Blue (b) components is:</p>\n\n<pre><code>(r) | (g &lt;&lt; 8) | (b &lt;&lt; 16)\n</code></pre>\n\n<p>Where <code>|</code> is the bitwise OR operator and <code>&lt;&lt;</code> is the left shift operator. If you'd prefer to work without using bitwise operations, you could also use this calculation:</p>\n\n<pre><code>r + (g * 256) + (b * 65536)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6408988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c0dd4b87c92f6b0dd6854ea7f41f3b7?s=128&d=identicon&r=PG&f=1", "display_name": "Gunther Maier", "link": "https://stackoverflow.com/users/6408988/gunther-maier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 37568548, "answer_count": 1, "score": 1, "last_activity_date": 1464783785, "creation_date": 1464779670, "last_edit_date": 1464780984, "question_id": 37567063, "link": "https://stackoverflow.com/questions/37567063/perl-win32-powerpoint-setting-font-color", "title": "perl win32 powerpoint setting font color", "body": "<p>I need to produce a large number of Powerpoint files with varying text (program of conference sessions). I try to do this with Perl and Win32::OLE. This works well with the exception of setting the color of the text I post. All I can set is the value for Red in RGB, but not the other colors. I use Powerpoint 2010. Also, I can change the color in Powerpoint via VBA.</p>\n\n<p>Here is the code I use (commented with #- are some options that I tried and that did not work).</p>\n\n<pre><code>use strict;\nuse Win32::OLE qw(in with);\nuse Win32::OLE::Const 'Microsoft PowerPoint';\n$Win32::OLE::Warn = 2; # Throw Errors, I'll catch them\n\nmy $PptApp  = Win32::OLE-&gt;GetActiveObject('PowerPoint.Application')||   Win32::OLE-&gt;new('PowerPoint.Application', 'Quit'); \n$PptApp-&gt;{Visible} = 1;\nmy $Presentation = $PptApp-&gt;Presentations-&gt;Open({FileName=&gt;'&lt;input-filename.ppt&gt;',ReadOnly=&gt;1});\n\nmy $Slide = $Presentation-&gt;Slides(1);\n$Slide-&gt;{Name} = \"Slide1\";\n\nmy $TextBox=$Slide-&gt;Shapes-&gt;AddTextbox({Orientation=&gt;1, \n                                  Left=&gt;25, \n                                  Top=&gt;25,\n                                  Width=&gt;550,\n                                  Height=&gt;50,\n});\n\n$TextBox-&gt;TextFrame-&gt;TextRange-&gt;{Text} =\"Big Ole Test\";\n$TextBox-&gt;TextFrame-&gt;TextRange-&gt;Font-&gt;{Color} = 255;\n\n#-   $TextBox-&gt;TextFrame-&gt;TextRange-&gt;Font-&gt;{Color} =&gt; ({RGB=&gt;(Red=&gt;86, Green=&gt;55, Blue=&gt;201)});\n   ## Black\n#-   $TextBox-&gt;TextFrame-&gt;TextRange-&gt;Font-&gt;Color-&gt;RGB=&gt;[255,255,255];\n   ## Black\n#-   $TextBox-&gt;TextFrame-&gt;TextRange-&gt;Font-&gt;Color =&gt; [255,255,255];\n   ## Black\n#-   $TextBox-&gt;TextFrame-&gt;TextRange-&gt;Font-&gt;Color-&gt;RGB =&gt; 'RGB(255,255,255)';\n   ## Black\n#-   $TextBox-&gt;TextFrame-&gt;TextRange-&gt;Font-&gt;{Color}-&gt;{RGB}=&gt;[255,255,255];\n   ## Black\n\n$Presentation -&gt;SaveAs('&lt;output-filename.ppt&gt;');\n</code></pre>\n"}, {"tags": ["javascript", "perl", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464779445, "post_id": 37566719, "comment_id": 62621043, "body": "Related: <a href=\"http://stackoverflow.com/a/4934124/1331451\">stackoverflow.com/a/4934124/1331451</a>"}, {"owner": {"reputation": 2068, "user_id": 1890387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbec6decacb35cd426ab73d7df6fbce?s=128&d=identicon&r=PG", "display_name": "Mobrockers", "link": "https://stackoverflow.com/users/1890387/mobrockers"}, "edited": false, "score": 0, "creation_date": 1464781070, "post_id": 37566719, "comment_id": 62622181, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/14843724/selenium-perl-check-if-alert-exists\">Selenium + Perl: Check if alert exists?</a>"}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464783572, "post_id": 37566719, "comment_id": 62623975, "body": "I don&#39;t want to assert if my &quot;Alert Box&quot;, my &quot;Confirm Box&quot; exists. That&#39;s for the first post. And for the second , it doesn&#39;t concern Selenium::Remote::Driver . Thanks ."}, {"owner": {"reputation": 2068, "user_id": 1890387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbec6decacb35cd426ab73d7df6fbce?s=128&d=identicon&r=PG", "display_name": "Mobrockers", "link": "https://stackoverflow.com/users/1890387/mobrockers"}, "edited": false, "score": 0, "creation_date": 1464784372, "post_id": 37566719, "comment_id": 62624576, "body": "Actually yes, it does use Selenium::remote::Driver..  See &quot;I am using perl with the Selenium::Remote::Driver module to interact with the server.&quot;"}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464792492, "post_id": 37566719, "comment_id": 62631380, "body": "I saw it . Thanks  again"}], "answers": [{"comments": [{"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464783811, "post_id": 37567545, "comment_id": 62624148, "body": "Thanks, but how for example can i click on an ok Button in my &quot;Confirm Box&quot;(Alert) ?"}, {"owner": {"reputation": 2068, "user_id": 1890387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbec6decacb35cd426ab73d7df6fbce?s=128&d=identicon&r=PG", "display_name": "Mobrockers", "link": "https://stackoverflow.com/users/1890387/mobrockers"}, "reply_to_user": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464784232, "post_id": 37567545, "comment_id": 62624443, "body": "<code>$driver-&gt;accept_alert;</code> Will press the Ok button (doesn&#39;t matter what the name is) in an alert, yes."}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464791965, "post_id": 37567545, "comment_id": 62630977, "body": "Thanks. I will tell you if it&#39;s ok here ."}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464792348, "post_id": 37567545, "comment_id": 62631270, "body": "Yes thanks . I just have to do something before. But it seems to be able to work. I keep you informed"}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464883246, "post_id": 37567545, "comment_id": 62678624, "body": "I did this work on standby because i have an other issue immediatly before. Be sure i will give you the result , working or not. Thanks for reply"}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464972917, "post_id": 37567545, "comment_id": 62722013, "body": "It works with :    $driver-&gt; accept_alert; And not with &quot;get_alert_text;&quot;. Thanks again"}, {"owner": {"reputation": 2068, "user_id": 1890387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbec6decacb35cd426ab73d7df6fbce?s=128&d=identicon&r=PG", "display_name": "Mobrockers", "link": "https://stackoverflow.com/users/1890387/mobrockers"}, "reply_to_user": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1464979678, "post_id": 37567545, "comment_id": 62725461, "body": "Well yes, of course get_alert_text doesn&#39;t work to accept an alert."}], "tags": [], "owner": {"reputation": 2068, "user_id": 1890387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbec6decacb35cd426ab73d7df6fbce?s=128&d=identicon&r=PG", "display_name": "Mobrockers", "link": "https://stackoverflow.com/users/1890387/mobrockers"}, "is_accepted": false, "score": 1, "last_activity_date": 1464781019, "creation_date": 1464781019, "answer_id": 37567545, "question_id": 37566719, "link": "https://stackoverflow.com/questions/37566719/recover-a-windows-confirm-box-from-seleniumremotedriver-package-with-javas/37567545#37567545", "title": "Recover a windows &quot;Confirm Box&quot; from Selenium::Remote::Driver package with Javascript", "body": "<p>Selenium has some convenience functions to interact with javascript alerts. In perl you can for example accept an alert with the following call:</p>\n\n<pre><code>$driver-&gt;accept_alert;\n</code></pre>\n\n<p>You can get the alert text with the call:</p>\n\n<pre><code>$driver-&gt;get_alert_text();\n</code></pre>\n\n<p>And dismiss the alert using:</p>\n\n<pre><code>$driver-&gt;dismiss_alert();\n</code></pre>\n"}], "owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464868083, "creation_date": 1464778683, "last_edit_date": 1464868083, "question_id": 37566719, "link": "https://stackoverflow.com/questions/37566719/recover-a-windows-confirm-box-from-seleniumremotedriver-package-with-javas", "title": "Recover a windows &quot;Confirm Box&quot; from Selenium::Remote::Driver package with Javascript", "body": "<p>I am doing some non-regression tests with Perl package Selenium::Remote::Driver.\nI would like to recover a windows Confirm Box . I know i have to execute some Javascript snippet code to recover it. Usually, i can get a web page behaviour not include in Selenium::Remote::Driver package with some Javascript code ( Compare below ) using a selector. But in my case , i can't recover my \"Confirm Box\" because i can't inspect my \"Confrim Box\" element. SO i can't use Developer Tools to find a selector or a xpath.</p>\n\n<p>PS: I don't want to know if this alert (\"Confirm Box \") exists. I know it's in my web page and i don't want to assert it.</p>\n\n<p>I have to use following Javascript snippet also for example:</p>\n\n<pre><code>   my $script = q{\n       var arg1 = arguments[0];\n       var elem = window.document.findElementById(arg1);\n       return elem;\n   };\n   my $elem = $driver-&gt;execute_script($script,'myid');\n   $elem-&gt;click;\n</code></pre>\n\n<p>And below part of code which contains my \"Confirm Box\" :</p>\n\n<pre><code>if (confirm(\"Are you sure?\")) {\n      var promises = [];\n      CW.showLoadingPanel();\n      $.each(dataGrid.getSelectedRowsData(), function() { ... }\n     ...\n      };\n</code></pre>\n\n<p>So how can i do with this issue ? </p>\n"}, {"tags": ["linux", "perl", "imagemagick"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464777360, "post_id": 37566167, "comment_id": 62619516, "body": "Have you considered using HTML instead of creating a video file?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464777796, "post_id": 37566167, "comment_id": 62619828, "body": "You could also programmatically build a PowerPoint/LibreOffice presentation with effects. You could then run it and screen-record it."}, {"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1464778639, "post_id": 37566167, "comment_id": 62620461, "body": "<a href=\"https://trac.ffmpeg.org/wiki/Create%20a%20video%20slideshow%20from%20images\" rel=\"nofollow noreferrer\">ffmpeg + examples</a> is a start."}, {"owner": {"reputation": 41, "user_id": 4982203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yarx9c2Uhi4/AAAAAAAAAAI/AAAAAAAAB1U/1bol_BoZeaQ/photo.jpg?sz=128", "display_name": "Igor Chudov", "link": "https://stackoverflow.com/users/4982203/igor-chudov"}, "edited": false, "score": 0, "creation_date": 1464792447, "post_id": 37566167, "comment_id": 62631342, "body": "I found some nice and promising scripts: <a href=\"http://www.fmwconcepts.com/imagemagick/fxtransitions/index.php\" rel=\"nofollow noreferrer\">fmwconcepts.com/imagemagick/fxtransitions/index.php</a>"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1464816470, "post_id": 37566167, "comment_id": 62645083, "body": "HTML, CSS and Javascript is definitely worth considering. I have done some of this type of thing with HTML and jQuery and created <a href=\"http://grantm.github.io/jquery-title-sequence/\" rel=\"nofollow noreferrer\">a plug-in</a> for coordinating  sequences. I was also able to <a href=\"http://grantm.github.io/jquery-title-sequence/#rendering\" rel=\"nofollow noreferrer\">create a movie</a> file by running  the code in PhantomJS, having it save a screenshot at intervals, and using ffmpeg to stitch the frames together."}], "owner": {"reputation": 41, "user_id": 4982203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yarx9c2Uhi4/AAAAAAAAAAI/AAAAAAAAB1U/1bol_BoZeaQ/photo.jpg?sz=128", "display_name": "Igor Chudov", "link": "https://stackoverflow.com/users/4982203/igor-chudov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 334, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1464777570, "creation_date": 1464777209, "last_edit_date": 1464777570, "question_id": 37566167, "link": "https://stackoverflow.com/questions/37566167/how-to-programmatically-make-a-video-from-still-images-with-sound-and-nice-trans", "title": "How to programmatically make a video from still images with sound and nice transitions in Linux", "body": "<p>I have several folders with photos, each having 6-15 images. They are vacation photos or family gatherings etc.</p>\n\n<p>I would like to write a Linux script (in shell or Perl) that creates videos from these images, using nice transitions like \"page flip\" or \"rotate and fly away\" and such. </p>\n\n<p>I also want to overlay .mp3 sound over the photos.</p>\n\n<p>People do this all the time with menu based video editing software, but I want to do so programmatically.</p>\n\n<p>What would be your suggestion how to programmatically create a video from still images with various video effects? </p>\n\n<p>I can program in Bash, Perl and C++, and I need something that can work on Linux.</p>\n"}, {"tags": ["perl", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1464776224, "post_id": 37565746, "comment_id": 62618675, "body": "Do you know what this string should have been? It&#39;s looking like you&#39;re lost some unformation, as <code>U+FFFD</code> is <i>REPLACEMENT CHARACTER</i> whis is used in place of an invalid Unicode character"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1464776383, "post_id": 37565746, "comment_id": 62618796, "body": "Yes: we need input and output character correspondingly"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1464815854, "post_id": 37565746, "comment_id": 62644778, "body": "It might be too late; the information might be lost. 1) What kind of database is this? 2) What do you get from <code>use Data::Dumper; local $Data::Dumper::Useqq = 1; print(Dumper($row));</code> when you fetch a this value from the database? Make sure that you&#39;re NOT using the <code>mysql_enable_utf8</code> option or similar when doing this debugging."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1465344003, "last_edit_date": 1465344003, "creation_date": 1465338819, "answer_id": 37690487, "question_id": 37565746, "link": "https://stackoverflow.com/questions/37565746/correct-wrongly-encoded-unicode-string/37690487#37690487", "title": "Correct wrongly-encoded Unicode string", "body": "<p>The <code>decode_utf8</code> assumes that you have the right octets. If you start with the wrong data, it won't fix it. In general, this is something that you can't highly automate since that data can be messed up in so many ways.</p>\n"}], "owner": {"reputation": 501, "user_id": 2515337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23df530af23257756e35736c00f2dc60?s=128&d=identicon&r=PG", "display_name": "GrSrv", "link": "https://stackoverflow.com/users/2515337/grsrv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1465344003, "creation_date": 1464775995, "last_edit_date": 1464776328, "question_id": 37565746, "link": "https://stackoverflow.com/questions/37565746/correct-wrongly-encoded-unicode-string", "title": "Correct wrongly-encoded Unicode string", "body": "<p>Some data in my database has been inserted with wrong encoding.</p>\n\n<p>When I fetch the data and dump it, I get following output:</p>\n\n<pre><code>$VAR1 = \"\\x{fffd}U/mL\"\n</code></pre>\n\n<p>How to correct it?\nI tried <code>decode_utf8</code>, <code>decode_utf8</code> in Perl.</p>\n"}, {"tags": ["perl", "variables", "ssh"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 5, "creation_date": 1464768457, "post_id": 37562650, "comment_id": 62613420, "body": "<code>use strict; use warnings;</code>"}, {"owner": {"reputation": 135, "user_id": 6012983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/86ac0f66662fc92aa5670c9dddeb6c29?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/6012983/alex"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1464770409, "post_id": 37562650, "comment_id": 62614654, "body": "how helpful it is1"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 6012983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/86ac0f66662fc92aa5670c9dddeb6c29?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/6012983/alex"}, "edited": false, "score": 0, "creation_date": 1464770435, "post_id": 37562881, "comment_id": 62614667, "body": "No, thats just the syntax of how to connect to a remote machine in ssh."}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 135, "user_id": 6012983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/86ac0f66662fc92aa5670c9dddeb6c29?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/6012983/alex"}, "edited": false, "score": 0, "creation_date": 1464778382, "post_id": 37562881, "comment_id": 62620257, "body": "@Alex, &gt;&gt;&gt;&quot;However this does obviously not work, as Perl recognizes the whole string as one variable.&quot; - using &#39;\\&#39; before @(escaping) is the way of making Perl to not see it as an array."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 135, "user_id": 6012983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/86ac0f66662fc92aa5670c9dddeb6c29?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/6012983/alex"}, "edited": false, "score": 1, "creation_date": 1464790714, "post_id": 37562881, "comment_id": 62630011, "body": "@Alex Without <code>use strict;</code> backtick expands <code>@machine</code> into content of array <code>@machine</code> even it doesn&#39;t exist so result is an empty string. If there would be some content in <code>@machine</code> it would be inserted there. Try <code>perl -e&#39;my @a = qw(foo bar baz); print `echo @a`&#39;</code>"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 3, "last_activity_date": 1464791586, "last_edit_date": 1464791586, "creation_date": 1464768343, "answer_id": 37562881, "question_id": 37562650, "link": "https://stackoverflow.com/questions/37562650/username-as-variable-in-ssh-with-perl/37562881#37562881", "title": "Username as variable in SSH with Perl", "body": "<p>Escape sigil Luke:</p>\n\n<pre><code>my $result = `ssh $user\\@machine`;\n</code></pre>\n\n<p>There is not array <code>@machine</code>, isn't?</p>\n\n<p>Backticks are <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">Quote-like Operators</a>. (I recommend using generic <code>qx{}</code> version over customary backticks.) It interpolates (unless you use <code>qx''</code>) content so it interpolates <code>@machine</code> as a content of <code>machine</code> array. It separates members by a content of <code>$\"</code> variable which is space by default. If you don't have <code>@machine</code> variable defined and there is not <code>use strict;</code> it is interpolated as an empty string and without warning if there is not <code>use warnings;</code> or <code>-W</code> parameter provided.</p>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 2, "creation_date": 1464789306, "post_id": 37565752, "comment_id": 62628833, "body": "The quotes are completely unnecessary.  They serve exactly 0 purpose."}], "tags": [], "owner": {"reputation": 308, "user_id": 4754913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1761327a7ddb0260a880445ae282fbd?s=128&d=identicon&r=PG&f=1", "display_name": "ajays20078", "link": "https://stackoverflow.com/users/4754913/ajays20078"}, "is_accepted": false, "score": -1, "last_activity_date": 1464776008, "creation_date": 1464776008, "answer_id": 37565752, "question_id": 37562650, "link": "https://stackoverflow.com/questions/37562650/username-as-variable-in-ssh-with-perl/37565752#37565752", "title": "Username as variable in SSH with Perl", "body": "<p>You need to escape \"@\" in the string, as its a array and use double quotes around variable user. </p>\n\n<p>Try:</p>\n\n<pre><code>my $result = `ssh \"$user\"\\@machine`;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1464789252, "post_id": 37567486, "comment_id": 62628786, "body": "That&#39;s only necessary if the character immediately after the variable name is a valid variable character.  <code>@</code> is not valid anywhere except at the beginning of an array variable (or slice, or array dereference, etc), so there is no need to wrap <code>user</code> in <code>{}</code> in this case.  It won&#39;t hurt anything, sure, but no need to confuse the actual issue, which is the <code>@</code> needing to be escaped."}], "tags": [], "owner": {"reputation": 11, "user_id": 2617195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kjYwL.jpg?s=128&g=1", "display_name": "Kuthbudin", "link": "https://stackoverflow.com/users/2617195/kuthbudin"}, "is_accepted": false, "score": 0, "last_activity_date": 1464780850, "creation_date": 1464780850, "answer_id": 37567486, "question_id": 37562650, "link": "https://stackoverflow.com/questions/37562650/username-as-variable-in-ssh-with-perl/37567486#37567486", "title": "Username as variable in SSH with Perl", "body": "<p>Try:\nmy $result = <code>ssh ${user}\\@machine</code>;</p>\n\n<p>when you have multiple variables you can use {} to say that they are different\nlike: ${user1}_${user2} </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1464791589, "creation_date": 1464791589, "answer_id": 37571667, "question_id": 37562650, "link": "https://stackoverflow.com/questions/37562650/username-as-variable-in-ssh-with-perl/37571667#37571667", "title": "Username as variable in SSH with Perl", "body": "<blockquote>\n  <p><em>Perl recognizes the whole string as one variable.</em></p>\n</blockquote>\n\n<p>No, that's not the problem. The problem is that in addition to parsing <code>$user</code> as a variable, and it parses <code>@machine</code> as a variable too.</p>\n\n<p>It's simply a question of escape special characters.</p>\n\n<pre><code>my $result = `ssh $user\\@machine`;\n</code></pre>\n\n<hr>\n\n<p>If the problem really was that you needed to communicate the end of a variable, you can use curlies.</p>\n\n<pre><code>my $count = 4;\nmy $item = 'book';\nprint(\"$count $items\\n\");     # XXX\nprint(\"$count ${item}s\\n\");   # 4 books\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13594198, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220566531007454/picture?type=large", "display_name": "Joshua Millett", "link": "https://stackoverflow.com/users/13594198/joshua-millett"}, "is_accepted": false, "score": 0, "last_activity_date": 1590124425, "creation_date": 1590124425, "answer_id": 61948288, "question_id": 37562650, "link": "https://stackoverflow.com/questions/37562650/username-as-variable-in-ssh-with-perl/61948288#61948288", "title": "Username as variable in SSH with Perl", "body": "<p>This should work Alex:</p>\n\n<pre><code>`ssh \"${user}\"@\"${machine}\"`;\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 6012983, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/86ac0f66662fc92aa5670c9dddeb6c29?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/6012983/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1590124425, "creation_date": 1464767606, "question_id": 37562650, "link": "https://stackoverflow.com/questions/37562650/username-as-variable-in-ssh-with-perl", "title": "Username as variable in SSH with Perl", "body": "<p>in my Perl Script I would like to connect to a machine via </p>\n\n<pre><code>my $result = `ssh $user@machine`;\n</code></pre>\n\n<p>where $user is the username on the current machine. However this does obviously not work, as Perl recognizes the whole string as one variable. So, is there any other way to use a variable in the username when connecting over SSH?</p>\n\n<p>I have seen that there is a SSH Perl module, however I would like to avoid using additional modules if there is another solution.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464756993, "post_id": 37558561, "comment_id": 62607768, "body": "1) <code>^(?!.*=|return).*execute\\(\\).*</code> works perfectly fine in Perl 5.8+. 2) <code>invalid perl operator</code> is not an error issued by Perl (and if it was, it doesn&#39;t sound like an error the regex engine would throw). Please provide the actual code you ran."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464757002, "post_id": 37558561, "comment_id": 62607771, "body": "Tip: The trailing <code>.*</code> is useless."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1485901445, "post_id": 37558561, "comment_id": 71115856, "body": "Please see <a href=\"http://stackoverflow.com/help/someone-answers\"><code>What should I do when someone answers my question?</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 4589, "user_id": 6388243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AJFc.png?s=128&g=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/6388243/nissa"}, "is_accepted": false, "score": 0, "last_activity_date": 1464749751, "creation_date": 1464749751, "answer_id": 37558651, "question_id": 37558561, "link": "https://stackoverflow.com/questions/37558561/regex-to-match-absence-of-substring/37558651#37558651", "title": "Regex to match absence of substring", "body": "<p>I mean, the <em>simple</em> answer is, just use the <code>!</code> operator on your test, but here's the conversion in case you were wondering:<br>\n<code>/expression/</code> => <code>/^(?!.*expression)/</code> (either use DOTALL or <code>[^]</code> in JavaScript)<br>\n<code>/^expression/</code> => <code>/^(?!expression)/</code></p>\n"}, {"tags": [], "owner": {"reputation": 948, "user_id": 5856565, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/4GPv5.jpg?s=128&g=1", "display_name": "JanLeeYu", "link": "https://stackoverflow.com/users/5856565/janleeyu"}, "is_accepted": false, "score": 1, "last_activity_date": 1464749920, "creation_date": 1464749920, "answer_id": 37558675, "question_id": 37558561, "link": "https://stackoverflow.com/questions/37558561/regex-to-match-absence-of-substring/37558675#37558675", "title": "Regex to match absence of substring", "body": "<p>Not so sure if I understand the question but you might consider trying this one. <code>^this.execute\\(\\);</code></p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 1, "last_activity_date": 1464753118, "last_edit_date": 1464753118, "creation_date": 1464750060, "answer_id": 37558700, "question_id": 37558561, "link": "https://stackoverflow.com/questions/37558561/regex-to-match-absence-of-substring/37558700#37558700", "title": "Regex to match absence of substring", "body": "<p>With situations like these, its best to find the \"lowest common denominator\" in the matches you want to distinguish from similar looking strings.  In this case, the <code>var x</code> can be ignored - your requirements are satisfied by saying \"anything before the method call is ok - the method call alone is not.\"  That statement is probably a bit too tight though, so let's change it to \"anthing other than whitespace before the method call is ok, otherwise flag the call\".  Which means;</p>\n\n<pre><code>my $method_call = qr/ ( this \\. \\w+ ) \\( /x;\nwhile (&lt;$fh&gt;) {\n    if (/ ^ \\s* $method_call /x) {\n        warn \"Found method call on line $.: $1\\n\"\n    }\n}\n</code></pre>\n\n<p>I'm presumming <code>$fh</code> is a filehandle to the souce code file.  I've also made some presumptions which you may need to tweek about how you want to define a method call - ie. opening bracket for parameters is compulsory.  Using 'extended mode regexs' allows the use of whitespace in the regex for easier reading.  Also, using 'quote rule' allows referring to a regex by name inside another to make things clearer.</p>\n\n<p>If on the other hand, you want to insist on the presence of <code>var x</code> or <code>return</code> before giving the ok, we can reverse the search - ie explicitly look for the \"ok\" situations and flag any other calls:</p>\n\n<pre><code>my $method_call = qr/ ( this \\. \\w+ ) \\( /x;\nwhile (&lt;$fh&gt;) { \n    next if / ^ \\s* return \\s+ $method_call /x;         # return OK\n    next if / ^ \\s* var \\s+ \\w+ = \\s+ $method_call /x;  # var OK\n\n    warn \"Found method call on line $.: $1\\n\" if /$method_call/ ;\n}\n</code></pre>\n\n<p>Both of these are a little verbose but show more clearly what you're trying to do.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464757072, "post_id": 37558722, "comment_id": 62607806, "body": "Does the prompt really show on your output lines? How confusing!"}, {"owner": {"reputation": 23, "user_id": 4855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9824daf5219b92e9236f0d022e41cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Schultz", "link": "https://stackoverflow.com/users/4855945/brian-schultz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464804961, "post_id": 37558722, "comment_id": 62639107, "body": "lawl, no it doesn&#39;t. I wasn&#39;t sure how to show that there is no output on the second command, so I added the ~$"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464805040, "post_id": 37558722, "comment_id": 62639141, "body": "Add a trailing <code>~$</code>, or <code>print &#47;&#47; ? &quot;match\\n&quot; : &quot;no match\\n&quot;</code> or <code>print &#47;&#47; ? &quot;$_ matches\\n&quot; : &quot;$_ doesn&#39;t match\\n&quot;</code>"}, {"owner": {"reputation": 23, "user_id": 4855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9824daf5219b92e9236f0d022e41cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Schultz", "link": "https://stackoverflow.com/users/4855945/brian-schultz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464805106, "post_id": 37558722, "comment_id": 62639172, "body": "ah! good call. i&#39;ve never actually written perl before now ;]"}], "tags": [], "owner": {"reputation": 23, "user_id": 4855945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9824daf5219b92e9236f0d022e41cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Schultz", "link": "https://stackoverflow.com/users/4855945/brian-schultz"}, "is_accepted": false, "score": 1, "last_activity_date": 1464805165, "last_edit_date": 1464805165, "creation_date": 1464750231, "answer_id": 37558722, "question_id": 37558561, "link": "https://stackoverflow.com/questions/37558561/regex-to-match-absence-of-substring/37558722#37558722", "title": "Regex to match absence of substring", "body": "<p>I don't think we have enough information here. I say this because the following works for me in the shell</p>\n\n<pre><code>~$ echo \"execute()\"| perl -ne 'print if /^(?!.*=|return).*execute\\(\\).*/'\nexecute()\n~$ echo \"return execute()\"| perl -ne 'print if /^(?!.*=|return).*execute\\(\\).*/'\n\n~$\n</code></pre>\n\n<p>In the above code, I am running a one liner in a shell that pipes a string into a perl program. The perl program will print the string if it matches the regex. I get no errors from your regex.</p>\n\n<p>It's possible that the error is due to your version of perl or something else entirely may be happening.</p>\n\n<p>I am using perl v5.22.2</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1465323006, "last_edit_date": 1465323006, "creation_date": 1464756176, "answer_id": 37559602, "question_id": 37558561, "link": "https://stackoverflow.com/questions/37558561/regex-to-match-absence-of-substring/37559602#37559602", "title": "Regex to match absence of substring", "body": "<p>Since you want to exclude only assignment or return it's easily negated</p>\n\n<pre><code>while (&lt;DATA&gt;) { print if not /(?:=|return)\\s+this\\.execute/ }\n\n__DATA__\nthis.execute();\nvar x = this.execute();\nreturn this.execute();\n</code></pre>\n\n<p>This prints only the line <code>this.execute();</code>. </p>\n\n<hr>\n\n<p>With <a href=\"http://perldoc.perl.org/perlre.html#Lookaround-Assertions\" rel=\"nofollow\">Lookaround Assertions</a>, a <em>negative lookahead</em> that you offer does work</p>\n\n<pre><code>if (/^(?!.*=|return)\\s+this\\.execute/x) { print \"$_\\n\" }\n</code></pre>\n\n<p>As for the <em>negative lookbehind</em>, there is one problem. First, here's what works</p>\n\n<pre><code>if ( /(?&lt;! =\\s )       this\\.execute/x ) { print \"$_\\n\" }\nif ( /(?&lt;! return \\s ) this\\.execute/x ) { print \"$_\\n\" }\n</code></pre>\n\n<p>This excludes <code>=</code> <em>or</em> <code>return</code>, with <em>one space</em>. The thing is, we can't put <code>\\s+</code> there nor can we do alternation -- Perl can't do it for this particular assertion, see <a href=\"http://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow\">perlretut</a>. We get</p>\n\n<pre>\nVariable length lookbehind not implemented in regex m/(?&lt;!=\\s+)this\\.execute/ at\n</pre>\n\n<p>We can add varying space <code>\\s+</code> outside of the assertion, with <code>this...</code>, and then combine multiple conditions to provide for a possibility that there is no space between <code>=</code> and <code>this...</code>.  </p>\n\n<p>However, there's no reason for this if you can use a regular negated match.</p>\n\n<hr>\n\n<p>The reported error can only be about basic syntax. It is about the exact code you run, not the regex.</p>\n"}], "owner": {"reputation": 125, "user_id": 1312640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e01aa27a4279f37069ed152cca02a3?s=128&d=identicon&r=PG", "display_name": "Nathan Bain", "link": "https://stackoverflow.com/users/1312640/nathan-bain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1465323006, "creation_date": 1464749016, "question_id": 37558561, "link": "https://stackoverflow.com/questions/37558561/regex-to-match-absence-of-substring", "title": "Regex to match absence of substring", "body": "<p>I am looking for a regex which only matches when certain sub-strings are not present. In particular - if a line of code does not assign or return the return value from a method.</p>\n\n<p>Examples:</p>\n\n<pre><code>this.execute(); // should match\n\nvar x = this.execute(); // no match\n\nreturn this.execute(); // no match\n</code></pre>\n\n<p>I was trying to use the following regex</p>\n\n<pre><code>^(?!.*=|return).*execute\\(\\).*\n</code></pre>\n\n<p>This works with regex testers etc. - but I am getting \"invalid perl operator\" exception when using in practice.</p>\n\n<p>Thanks..</p>\n"}, {"tags": ["perl", "recursion"], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 4, "last_activity_date": 1464734917, "creation_date": 1464734917, "answer_id": 37556900, "question_id": 37556536, "link": "https://stackoverflow.com/questions/37556536/perl-directory-check-fail-on-recursive-call/37556900#37556900", "title": "Perl directory check fail on recursive call", "body": "<p><a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\"><code>readdir</code></a> doesn't return full paths, so you need to prepend the directory before trying to do file tests:</p>\n\n<pre><code>sub searchInDirectory {\n    my $path = shift;\n\n    opendir(my $dh, $path) or die $!;\n    my @files = map { \"$path/$_\" } grep { not /^\\./ } readdir($dh);\n    closedir($dh);\n\n    for my $file (@files) {\n        if (-d $file) {\n            searchInDirectory($file);\n        } elsif (-f $file) {\n            # process file\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1464735542, "creation_date": 1464735542, "answer_id": 37556987, "question_id": 37556536, "link": "https://stackoverflow.com/questions/37556536/perl-directory-check-fail-on-recursive-call/37556987#37556987", "title": "Perl directory check fail on recursive call", "body": "<p>Note that your file search routine can be simplified by using <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow\"><code>File::Find::Rule</code></a>. For example:</p>\n\n<pre><code>File::Find::Rule-&gt;file-&gt;exec( sub { say \"File: $_\" } )-&gt;in( $dir );\n</code></pre>\n"}], "owner": {"reputation": 873, "user_id": 2693030, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/33fad089255c86e4bc887744d6c3920c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Blake", "link": "https://stackoverflow.com/users/2693030/michael-blake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 37556900, "answer_count": 2, "score": 0, "last_activity_date": 1464735542, "creation_date": 1464733022, "question_id": 37556536, "link": "https://stackoverflow.com/questions/37556536/perl-directory-check-fail-on-recursive-call", "title": "Perl directory check fail on recursive call", "body": "<pre><code>sub searchInDirectory\n{\n    my @directorylist;\n    opendir my $dir, $_[0] or die \"Unable to open directory\";\n    while (my $file = readdir $dir)\n    {\n        if(-f \"$file\")\n        {\n            #process file\n        }\n        elsif((-d \"$file\") &amp;&amp; !($file =~ /^\\.{1,2}$/)) #directory &amp;&amp; not .. or .\n        {\n            push @directorylist, $file;\n        }\n    }\n    closedir($dir);\n    foreach my $diritem (@directorylist)\n    {\n        &amp;searchInDirectory($_[0] . \"/\" . $diritem);\n    }\n}\n</code></pre>\n\n<p>This is my code for recursively traversing a directory's sub-directories and files. The problem is that it works on the first pass, but on the second call, the directory check will fail. I've checked to make sure it's identifying files vs folders correctly, which it is. It's also not failing to open the directories, so I don't get why it would fail to recognize them, and call the function again. I'd really like to stick to this method if possible instead of using other libraries.</p>\n"}, {"tags": ["perl", "authentication", "ldap", "catalyst"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1484825221, "post_id": 37555459, "comment_id": 70674001, "body": "Did you manage to do this? I need to do the role part, but haven&#39;t found a good way to get roles from somewhere else than the authentication realm."}], "owner": {"reputation": 31, "user_id": 6406553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6732241e17a82a6184383fe0339e053b?s=128&d=identicon&r=PG&f=1", "display_name": "Bob A.", "link": "https://stackoverflow.com/users/6406553/bob-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1484846363, "creation_date": 1464728195, "last_edit_date": 1484846363, "question_id": 37555459, "link": "https://stackoverflow.com/questions/37555459/catalyst-adding-ldap-authentication", "title": "Catalyst Adding LDAP Authentication", "body": "<p>I have a Catalyst application that I recently created. I based the original authentication model on the example given in the Catalyst example using \"SimpleDB\". I am also using the Authorization::Roles module to permission users in specific application roles.</p>\n\n<p>Now I need to move to LDAP authentication. I need to use LDAP to authenticate the user, but the user should still have a row in the User table to validate that the user is allowed to use the application. Also, the application should still lookup the User Roles from the Role table to determine what roles the user is allowed.</p>\n\n<p>My question is: I have read that dropping in the Catalyst LDAP authentication module is pretty much Plug-N-Play, but will the application still use the User/Role tables that are already defined in the application?</p>\n"}, {"tags": ["javascript", "html", "perl", "dancer"], "comments": [{"owner": {"reputation": 664, "user_id": 230807, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/031e78fe71cdc6ec46de25736c41f50d?s=128&d=identicon&r=PG", "display_name": "Shoeless", "link": "https://stackoverflow.com/users/230807/shoeless"}, "edited": false, "score": 1, "creation_date": 1464724729, "post_id": 37554519, "comment_id": 62597910, "body": "Is CSS an option? If so, I would suggest you look at media queries, as you can define a class that presents your image&#39;s width to be 500px if the browser width is &lt; 800px, and a image width of 700px if the browser width is &gt;= 800px (these widths are just an example)."}, {"owner": {"reputation": 2452, "user_id": 1594060, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d93aa9c4456a600e2fdc404588726354?s=128&d=identicon&r=PG", "display_name": "Josh Rumbut", "link": "https://stackoverflow.com/users/1594060/josh-rumbut"}, "edited": false, "score": 0, "creation_date": 1464724780, "post_id": 37554519, "comment_id": 62597942, "body": "This article has some helpful resources: <a href=\"https://www.smashingmagazine.com/2013/07/choosing-a-responsive-image-solution/\" rel=\"nofollow noreferrer\">smashingmagazine.com/2013/07/&hellip;</a>"}, {"owner": {"reputation": 1466, "user_id": 2689696, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/303b6001169b9992aee46c054b3c49bc?s=128&d=identicon&r=PG&f=1", "display_name": "tejas", "link": "https://stackoverflow.com/users/2689696/tejas"}, "reply_to_user": {"reputation": 664, "user_id": 230807, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/031e78fe71cdc6ec46de25736c41f50d?s=128&d=identicon&r=PG", "display_name": "Shoeless", "link": "https://stackoverflow.com/users/230807/shoeless"}, "edited": false, "score": 0, "creation_date": 1464724941, "post_id": 37554519, "comment_id": 62598044, "body": "@Shoeless I am actually using that to resize the elements to fit screen right now. But how would it help in deciding which thumbnail to choose? as far as i understand if i give 500px in css it would still download the large file and scale it to 500px on screen"}, {"owner": {"reputation": 664, "user_id": 230807, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/031e78fe71cdc6ec46de25736c41f50d?s=128&d=identicon&r=PG", "display_name": "Shoeless", "link": "https://stackoverflow.com/users/230807/shoeless"}, "edited": false, "score": 0, "creation_date": 1464726332, "post_id": 37554519, "comment_id": 62598799, "body": "Ah, I see; I thought you were resizing the same image. If you want to load different images using CSS, I&#39;d suggest looking at SRCSET."}], "answers": [{"comments": [{"owner": {"reputation": 664, "user_id": 230807, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/031e78fe71cdc6ec46de25736c41f50d?s=128&d=identicon&r=PG", "display_name": "Shoeless", "link": "https://stackoverflow.com/users/230807/shoeless"}, "edited": false, "score": 0, "creation_date": 1464727073, "post_id": 37554670, "comment_id": 62599197, "body": "Media queries will not fulfill the requirement because the OP is not scaling the same image for different widths- the images are different files for different widths."}], "tags": [], "owner": {"reputation": 100, "user_id": 1250828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e869688f6c25b951324ed206007816a1?s=128&d=identicon&r=PG", "display_name": "pianista", "link": "https://stackoverflow.com/users/1250828/pianista"}, "is_accepted": false, "score": 0, "last_activity_date": 1464724928, "last_edit_date": 1495542157, "creation_date": 1464724928, "answer_id": 37554670, "question_id": 37554519, "link": "https://stackoverflow.com/questions/37554519/adding-thumbnails-to-websites/37554670#37554670", "title": "Adding thumbnails to websites", "body": "<p>I think the best option is to use mediaqueries as is shown <a href=\"https://stackoverflow.com/questions/16657159/when-using-media-queries-does-a-phone-load-non-relevent-queries-and-images\">here</a></p>\n\n<p>You can always write in the html the two sizes but with mediaqueries only one will be shown.</p>\n\n<p>Other way is getting with javascript the height and width of the window, you will know what resolution has the client that is using the web, so you could append to the images _full, or _low to difference this cases.</p>\n\n<p>I don't suggest you using the UserAgent, because there are old PC's that have less resolution that actual mobile devices, so I think is better to work with the dpi/resolution of the window.</p>\n\n<p>You have some examples of mediaqueries <a href=\"https://css-tricks.com/snippets/css/media-queries-for-standard-devices/\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 664, "user_id": 230807, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/031e78fe71cdc6ec46de25736c41f50d?s=128&d=identicon&r=PG", "display_name": "Shoeless", "link": "https://stackoverflow.com/users/230807/shoeless"}, "is_accepted": false, "score": 0, "last_activity_date": 1464726616, "creation_date": 1464726616, "answer_id": 37555092, "question_id": 37554519, "link": "https://stackoverflow.com/questions/37554519/adding-thumbnails-to-websites/37555092#37555092", "title": "Adding thumbnails to websites", "body": "<p>Since you stated that the image is not scaling, but being replaced, I suggest you utilize SRCSET, which will allow you to define different images based on pixel density and width. <a href=\"https://www.sitepoint.com/responsive-images-part-1-using-srcset/\" rel=\"nofollow\">SitePoint provides a good overview</a>.</p>\n\n<p>Here's a sample from their article:</p>\n\n<pre><code>&lt;img src=\"low-density-photo.jpg\" srcset=\"small-photo.jpg 480w, big-photo.jpg 1024w, high-density-photo.jpg 1024w 2x\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 1466, "user_id": 2689696, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/303b6001169b9992aee46c054b3c49bc?s=128&d=identicon&r=PG&f=1", "display_name": "tejas", "link": "https://stackoverflow.com/users/2689696/tejas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1464726616, "creation_date": 1464724421, "question_id": 37554519, "link": "https://stackoverflow.com/questions/37554519/adding-thumbnails-to-websites", "title": "Adding thumbnails to websites", "body": "<p>So I am learning how to make websites by building an image gallery.</p>\n\n<p>And the images i am using are big, so realized that i can put in resized images for thumbnails and decided on 500px width images</p>\n\n<p>These thumbnails look crisp on mobile, ok on tablet but blurred on desktop.<br>\nSo I figured I need 500px for mobiles and tablets  but say 700px for desktop.</p>\n\n<p>So this leaves me the problem of choosing between the two in runtime.</p>\n\n<p>From what I understand I can do this two ways. </p>\n\n<ol>\n<li><p>Check screen size from javascript generate html on the browser(client) using javascript (not sure how to do this yet).</p></li>\n<li><p>Check User agent for string \"Mobile\" and decide on server. </p></li>\n</ol>\n\n<p>Or is there some other way?\nSo which one of these two methods is better or has less drawbacks?</p>\n\n<p>I would guess \"2\" is better since it works even when javascript is disabled<br>\nI am using Perl Dancer2 if it helps in any way</p>\n"}, {"tags": ["perl", "operations"], "comments": [{"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1464723821, "post_id": 37552792, "comment_id": 62597371, "body": "<code>perldoc perlfunc</code>: &quot;Any function in the list below may be used either with or without parentheses around its arguments. (The syntax descriptions omit the parentheses.) If you use parentheses, the simple but occasionally surprising rule is this: It <i>looks</i> like a function, therefore it is a function, and precedence doesn&#39;t matter.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "edited": false, "score": 0, "creation_date": 1464896106, "post_id": 37552818, "comment_id": 62686148, "body": "Thanks! I use strict; use warnings; for bigger projects but with ten-liners or less I just hack through. So this question of mine is the tipping point for having a small template for all my new perl files big or small. that includes header comment and use strict;use warnings to catch problems like this."}], "tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": true, "score": 14, "last_activity_date": 1464733072, "last_edit_date": 1464733072, "creation_date": 1464718301, "answer_id": 37552818, "question_id": 37552792, "link": "https://stackoverflow.com/questions/37552792/dot-at-the-beginning-of-a-print-statement/37552818#37552818", "title": "Dot at the beginning of a &quot;print&quot; statement?", "body": "<p>When you put the first argument to <code>print</code> in parentheses, Perl sees it as function call syntax.</p>\n\n<p>So this:</p>\n\n<pre><code>print (1 . 1) . \"3\";\n</code></pre>\n\n<p>is parsed as this:</p>\n\n<pre><code>print(1 . 1)  . \"3\";\n</code></pre>\n\n<p>or, equivalently:</p>\n\n<pre><code>(print 1 . 1) . \"3\";\n</code></pre>\n\n<p>Therefore, Perl prints \"11\", then takes the return value of that <code>print</code> call (which is <code>1</code> if it succeeded), concatenates <code>3</code> to it, and - since the whole expression is in void context - does absolutely nothing with the resulting <code>13</code>.</p>\n\n<p>If you run your code with warnings enabled (via <code>-w</code> on the command line or the <code>use warnings;</code> pragma), you will get these warnings identifying your error:</p>\n\n<pre><code>$ perl -w foo.pl\nprint (...) interpreted as function at foo.pl line 2.\nprint (...) interpreted as function at foo.pl line 6.\nUseless use of concatenation (.) or string in void context at foo.pl line 2.\nUseless use of addition (+) in void context at foo.pl line 6.\n</code></pre>\n\n<p>As Borodin points out in the comment below, you shouldn't rely on <code>-w</code> (or the in-code equivalent <code>$^W</code>); production code should always make use of the <code>warnings</code> pragma, preferably with <code>use warnings qw(all);</code>.  While it wouldn't matter in this particular instance, you should also <code>use strict;</code>, although requesting modern features via <code>use</code><em>version</em><code>;</code> for a Perl version of 5.11 or higher automatically turns on <code>strict</code> as well.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1464719258, "creation_date": 1464719258, "answer_id": 37553087, "question_id": 37552792, "link": "https://stackoverflow.com/questions/37552792/dot-at-the-beginning-of-a-print-statement/37553087#37553087", "title": "Dot at the beginning of a &quot;print&quot; statement?", "body": "<p>If a named operator (or a sub call) is followed by parens, those parens delimit the operands (or arguments).</p>\n\n<pre><code>print (1 . 1) . \"3\";       \u2261  ( print(1 . 1) ) . \"3\";\nprint \"\" . (1 . 1) . \"3\";  \u2261  print(\"\" . (1 . 1) . \"3\");\n</code></pre>\n\n<p>Note that Perl would have alerted you of your problems had you been using (<code>use strict;</code> and) <code>use warnings qw( all );</code> as you should.</p>\n\n<pre><code>print (...) interpreted as function at a.pl line 2.\nprint (...) interpreted as function at a.pl line 6.\nUseless use of concatenation (.) or string in void context at a.pl line 2.\nUseless use of addition (+) in void context at a.pl line 6.\nI'd expect to see 11x twice, but I only see it once.\n11\n113\nPluses: I expect to see 14 in both cases, and not 113, because plus works on numbers.\n11\nArgument \"\" isn't numeric in addition (+) at a.pl line 8.\n14\n</code></pre>\n"}], "owner": {"reputation": 1488, "user_id": 6395052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-XKoXECLm9OM/AAAAAAAAAAI/AAAAAAAAADw/PIOmJsiX89U/photo.jpg?sz=128", "display_name": "aschultz", "link": "https://stackoverflow.com/users/6395052/aschultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 37552818, "answer_count": 2, "score": 3, "last_activity_date": 1464733072, "creation_date": 1464718208, "last_edit_date": 1464726729, "question_id": 37552792, "link": "https://stackoverflow.com/questions/37552792/dot-at-the-beginning-of-a-print-statement", "title": "Dot at the beginning of a &quot;print&quot; statement?", "body": "\n\n<p>I've come across something odd while using a Perl script. It's about using a dot giving different results.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\"><code>perlop</code></a> didn't turn anything up, or perhaps I just blew past it. I was looking at <a href=\"http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity\" rel=\"nofollow\"><em>Operator Precedence and Associativity</em></a></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print \"I'd expect to see 11x twice, but I only see it once.\\n\";\nprint (1 . 1) . \"3\";\nprint \"\\n\";\nprint \"\" . (1 . 1) . \"3\\n\";\nprint \"Pluses: I expect to see 14 in both cases, and not 113, because plus works on numbers.\\n\";\nprint (1 . 1) + \"3\";\nprint \"\\n\";\nprint \"\" + (1 . 1) + \"3\\n\";\n</code></pre>\n\n<p>Putting quotes at the start is an acceptable workaround to get what I want, but what is happening here with the order of operations that I'm missing? What rules are there to be learned?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464720838, "post_id": 37552832, "comment_id": 62595707, "body": "@ikegami Thanks for the edits!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464723846, "post_id": 37552832, "comment_id": 62597388, "body": "@ikegami Of course indeed overkill! Updated answer."}, {"owner": {"reputation": 13, "user_id": 6388641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca07ab4c9ee8f11a7f30573dfdd26e2e?s=128&d=identicon&r=PG&f=1", "display_name": "user6388641", "link": "https://stackoverflow.com/users/6388641/user6388641"}, "edited": false, "score": 0, "creation_date": 1464735696, "post_id": 37552832, "comment_id": 62602579, "body": "Thank you so much for the useful code! just a quick question because the r at the end of my $rel_dir = $dir =~ s{^\\Q$dir_to_search/}{}r; is causing a synthax error and deleting it it gives me $rel_dir=1 not the name. Is there any other way to get the matching name instead of r? Would you please comment this line? Thank you so much!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 13, "user_id": 6388641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca07ab4c9ee8f11a7f30573dfdd26e2e?s=128&d=identicon&r=PG&f=1", "display_name": "user6388641", "link": "https://stackoverflow.com/users/6388641/user6388641"}, "edited": false, "score": 0, "creation_date": 1464735855, "post_id": 37552832, "comment_id": 62602622, "body": "You are welcome! Yes the <code>r</code> modifier will not work if you are using an old version of perl. Just use <code>(my $rel_dir = $dir ) =~ s{^\\Q$dir_to_search&#47;}{}</code> instead"}, {"owner": {"reputation": 13, "user_id": 6388641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca07ab4c9ee8f11a7f30573dfdd26e2e?s=128&d=identicon&r=PG&f=1", "display_name": "user6388641", "link": "https://stackoverflow.com/users/6388641/user6388641"}, "edited": false, "score": 0, "creation_date": 1464737201, "post_id": 37552832, "comment_id": 62602941, "body": "This works perfectly! Thank you a lot for the great help!"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1464723758, "last_edit_date": 1464723758, "creation_date": 1464718341, "answer_id": 37552832, "question_id": 37552407, "link": "https://stackoverflow.com/questions/37552407/perl-grep-a-parent-directory/37552832#37552832", "title": "Perl: grep a parent directory", "body": "<p>I assume you want find a directory name which contains a child directory with a specific name. You can do this using <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow\">File::Find::Rule</a> :</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nuse File::Find::Rule;\n\nmy $dir_to_search = '/path/toParentDir';\nmy $dir_to_find   = 'childDirName';\n\nmy @dirs = File::Find::Rule-&gt;directory-&gt;mindepth(1)-&gt;maxdepth(1)-&gt;in( $dir_to_search );\nfor my $dir ( @dirs ) {\n    if ( -d \"$dir/$dir_to_find\" ) {\n        my $rel_dir = $dir =~ s{^\\Q$dir_to_search/}{}r;\n        say \"Parent dir is '$rel_dir'\";\n    }\n}\n</code></pre>\n\n<p>For example, if the directory tree is:</p>\n\n<pre><code>/\n\u2514\u2500\u2500 path\n    \u2514\u2500\u2500 toParentDir\n        \u251c\u2500\u2500 parentDir\n        \u2502   \u2514\u2500\u2500 childDirName\n        \u2514\u2500\u2500 otherDir\n            \u2514\u2500\u2500 notChildDirName\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>Parent dir is 'parentDir'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6388641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca07ab4c9ee8f11a7f30573dfdd26e2e?s=128&d=identicon&r=PG&f=1", "display_name": "user6388641", "link": "https://stackoverflow.com/users/6388641/user6388641"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "closed_date": 1464722489, "accepted_answer_id": 37552832, "answer_count": 1, "score": 0, "last_activity_date": 1464723758, "creation_date": 1464716793, "question_id": 37552407, "link": "https://stackoverflow.com/questions/37552407/perl-grep-a-parent-directory", "closed_reason": "Needs details or clarity", "title": "Perl: grep a parent directory", "body": "<p>I am new in Perl and I want to grep a parent directory that contains a specific child dir name under a specific path. </p>\n\n<p>Inputs: child dir name \"childDirName\" and the path that contains the parent directory \"/path/toParentDir/\"</p>\n\n<p>Output: the parent directory \"parentDir\" </p>\n\n<p>I have looked at file::find but I am a overwhelmed because I don't know the full path to the child dir /path/toparentDir/parentDir/childDirName.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 950, "user_id": 552683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7193133c028afee6b0a63acc5f9c6760?s=128&d=identicon&r=PG", "display_name": "Davor Cubranic", "link": "https://stackoverflow.com/users/552683/davor-cubranic"}, "edited": false, "score": 0, "creation_date": 1464811400, "post_id": 37552225, "comment_id": 62642441, "body": "No, because it&#39;s a Lisp interpreter in Perl, not a <i>Perl interactive shell</i>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1464716138, "last_edit_date": 1592644375, "creation_date": 1464716138, "answer_id": 37552225, "question_id": 37551837, "link": "https://stackoverflow.com/questions/37551837/is-there-a-perl-interactive-shell-repl-that-can-handle-continuing-lines/37552225#37552225", "title": "Is there a Perl interactive shell (REPL) that can handle continuing lines?", "body": "<p>The first thing that a <a href=\"http://search.cpan.org/search?query=REPL&amp;mode=module\" rel=\"nofollow noreferrer\">CPAN search</a> comes up with is <a href=\"https://metacpan.org/pod/Repl::Loop\" rel=\"nofollow noreferrer\"><code>Repl::Loop</code></a>. Does that work for you?</p>\n"}], "owner": {"reputation": 950, "user_id": 552683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7193133c028afee6b0a63acc5f9c6760?s=128&d=identicon&r=PG", "display_name": "Davor Cubranic", "link": "https://stackoverflow.com/users/552683/davor-cubranic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1464716138, "creation_date": 1464714783, "question_id": 37551837, "link": "https://stackoverflow.com/questions/37551837/is-there-a-perl-interactive-shell-repl-that-can-handle-continuing-lines", "title": "Is there a Perl interactive shell (REPL) that can handle continuing lines?", "body": "<p>Matt Trout's <a href=\"http://shadow.cat/blog/matt-s-trout/mstpan-17/\" rel=\"nofollow\">overview</a> of interactive shells for Perl lists five choices for Perl interactive shells, and I've tried most of them. But not one can handle continuing lines, for example:</p>\n\n<pre class=\"lang-pl prettyprint-override\"><code>open my $f, \"foo\" ||\n    die \"Cannot open 'foo': $!\";\n</code></pre>\n\n<p>This is a very common Perl idiom so it's annoying that I can't copy-and-paste most of the code from my editor.</p>\n\n<p>Is there a REPL, or maybe a plugin for <a href=\"https://metacpan.org/pod/Reply\" rel=\"nofollow\"><code>Reply</code></a> or <a href=\"https://metacpan.org/pod/Devel::REPL\" rel=\"nofollow\"><code>Devel::Repl</code></a> that can handle continuing lines? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464712432, "post_id": 37551088, "comment_id": 62590787, "body": "I don&#39;t understand your requirement. You don&#39;t want the full path to the directory that the file is in, and you don&#39;t want the full file name. What are the rules for the things you want?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1464712518, "post_id": 37551088, "comment_id": 62590840, "body": "What are the rules to select <code>Sample01</code>?"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1464712676, "post_id": 37551088, "comment_id": 62590941, "body": "My script passes my full path which looks like /usr/local/projects/Tool/Work/Part12/Tool.Sample01.2.pdf and here &quot;Sample01&quot; is the sample id which I need to extract and pass to another variable in the script. I made edits to the sample path above, I hope its more clear now"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1464713140, "post_id": 37551088, "comment_id": 62591210, "body": "<code>File::Spec</code>. Regex based solutions have certain risks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464713729, "post_id": 37551088, "comment_id": 62591568, "body": "I think you&#39;re a little lost. Your path is <code>&#47;usr&#47;local&#47;projects&#47;Tool&#47;Work&#47;Section12&#47;Tool.Sample.2.pdf</code>, and you want to extract ` Sample1` from that, and then somehow assign <code>ABC</code> to <code>$Sample_id</code>. How can that happen?"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1464714005, "post_id": 37551088, "comment_id": 62591745, "body": "Ahh sorry for that, my original question had &quot;Sample&quot; in the path( to which your answer is perfect) but I tried it to simplify the Sample name by writing &quot;ABC&quot;, but while I was making changes you replied so I changed it back to original! Now the question is back to its original form. Thanks again!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464714406, "post_id": 37551088, "comment_id": 62591933, "body": "@AnkP: <i>(I&#39;m writing this with reference to the first iteration of your question, as it is the last self-consistent one.)</i> Discarding <code>Section12</code> from the path is such an odd requirement. It would help if you reassured us in the question that that is truly what you want to do. Selecting the correct part from the file name is also in question. What is it about <code>Sample01</code> in <code>Tool.Sample01.2.pdf</code> that defines it as the part of the string that you want to extract?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464715361, "post_id": 37551088, "comment_id": 62592471, "body": "@AnkP: Thank you for that. It&#39;s <i>always</i> best to show as much as possible of your <b><i>real data</i></b>. You will always make mistakes if you try to invent parallels that you <i>think</i> will behave the same, and you will have to come back and say, <i>well my</i> <b><i>real</i></b> <i>data isn&#39;t quite like that</i>! I hope you have your solution?"}, {"owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "edited": false, "score": 0, "creation_date": 1464718063, "post_id": 37551088, "comment_id": 62594026, "body": "Thanks Borodin, the parent script creates multiple files like <code>&#47;usr&#47;local&#47;projects&#47;Tool&#47;Work&#47;Section12&#47;Tool.Sample.2.pdf, &#47;usr&#47;local&#47;projects&#47;Tool&#47;Work&#47;Section13&#47;Tool.Sample.3.pdf, &#47;usr&#47;local&#47;projects&#47;Tool&#47;Work&#47;Section14&#47;Tool.Sample.4.pdf</code> and I need to just find the invariable sample name and the path before the creation of subsections ."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1464728625, "last_edit_date": 1464728625, "creation_date": 1464713153, "answer_id": 37551379, "question_id": 37551088, "link": "https://stackoverflow.com/questions/37551088/find-sample-name-and-directory-name-from-a-path/37551379#37551379", "title": "Find sample name and directory name from a path", "body": "\n\n<p>You should use the core <a href=\"https://metacpan.org/pod/File::Spec::Functions\" rel=\"nofollow\"><code>File::Spec::Functions</code></a> module so that your code respects any eccentricities of the platform you're working on. <code>splitdir</code> and <code>catdir</code> from that module separate and recombine path components, making your task mostly simple</p>\n\n<p>I've used <code>splitdir</code> here to put the steps of your <code>$path</code> into array <code>@path</code>. The last element is the file name, which I've copied out using <code>pop</code>, and the second-from-last is <code>Part12</code>, which you don't seem to be interested in, so I've used another <code>pop</code> to get rid of that</p>\n\n<p>Then all that's left is to rebuild <code>$dir_path</code> from what's left of <code>@path</code>, and extract the part of the file name that you're interested in</p>\n\n<p>To do the latter there are several options, depending on what you mean. It could be the second field of the file name split on dots <code>.</code>, or the third from the end, split the same way. I've gone for the field that starts with <code>sample</code> in either upper or lower-case. A regex finds that for me</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse File::Spec::Functions qw/ splitdir catdir /;\n\nmy $path = 'E:/usr/local/projects/Tool/Work/Part12/Tool.Sample01.2.pdf';\n\nmy @path = splitdir $path;\n\nmy $file = pop @path;        # Copy and remove the file name from the end\nmy $local_dir = pop @path;   # Remove `Part12` per requirement\n\nmy $dir_path = catdir @path; # Rebuild what is left of the path\n\n\n# Pick the first subsequence of the file name that starts with `sample`\n#\nmy ($sample) = grep /^sample/i, split /\\./, $file;\n\nprint \"\\$sample = $sample\\n\";\nprint \"\\$dir_path = $dir_path\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>$sample = Sample01\n$dir_path = /usr/local/projects/Tool/Work\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464714094, "post_id": 37551455, "comment_id": 62591796, "body": "<a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow noreferrer\">File::Spec</a> would make this much clearer, more portable, and less prone to mistakes. It makes a little more sense to use regex patterns on Linux file paths than on XML or HTML, but not by a big margin. If you&#39;re not considering portability then I would just start with <code>my @path = $path =~ m|[^&#47;]+|g</code> and then manipulate the array"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464714768, "post_id": 37551455, "comment_id": 62592134, "body": "@Borodin  I use <code>File::Spec</code> and I like it. But <code>File::Basename</code> is just as solid and used and I think it is good to have an example of that as well. (I think that overall I use it more than the other one.) As for splitting into directories, I&#39;d still go with the module from your solution. I use that in my own code for similar (and a few other) purposes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464715276, "post_id": 37551455, "comment_id": 62592422, "body": "@zdim: It&#39;s just that the results of <code>fileparse</code> don&#39;t really get you very far. <code>$suffix</code> will always be the empty string, so all it has done is separate the last element of the string as the file name. You need to do that again anyway to remove the parent directory, and you&#39;ve had to resort to regex patterns to do most of the heavy work"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464716685, "post_id": 37551455, "comment_id": 62593171, "body": "@Borodin  I disagree with that. Splitting into path + filename is the most common need in parsing full paths.  It needs one extra step here, but other approaches do just as well.  With <code>File::Spec</code> you have to manipulate arrays and still need to process the filename itself.  Can&#39;t escape that.  Are you saying that this module is unsuitable for general use and that one should only use <code>File::Spec</code>?"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 0, "last_activity_date": 1482913135, "last_edit_date": 1495535435, "creation_date": 1464713401, "answer_id": 37551455, "question_id": 37551088, "link": "https://stackoverflow.com/questions/37551088/find-sample-name-and-directory-name-from-a-path/37551455#37551455", "title": "Find sample name and directory name from a path", "body": "<p>There are two parts to this -- split the full path, and extract particular components of some of its parts. Splitting a file name with the full path into its components is nicely done by a few modules. Here I'll use the core module <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\"><code>File::Basename</code></a>. Then the  path and filename can be processed for specific requirements, and here I'll use regex.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse File::Basename qw(fileparse);\n\nmy $fullname = '/usr/local/projects/Tool/Work/Section12/Tool.Sample.2.pdf';\n\n# Parse it into the path and filename\nmy ($filename, $path) = fileparse($fullname);\n\n# Extract needed part of the path: all except last directory\nmy ($dirs) = $path =~ m|(.*)/.*/|;  # / stop editor coloring\n\n# Extract needed part of filename: between the first `.` and the next\n my ($tag) = $filename =~ /[^.]+\\.([^.]+)/;\n\nprint \"$dirs\\n$tag\\n\";\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\n/usr/local/projects/Tool/Work\nSample\n</pre>\n\n<p>The regex for pulling parts out of the path and filename are both specific to the task. The first one uses the fact that we only need to drop <em>the</em> last component of the path, so the greediness of <code>.*</code> works out right. In the second one, I use the fact that the pattern goes between the very first <code>.</code> and the next.</p>\n\n<hr>\n\n<p>Note that in the basic invocation above the extension is not extracted and the filename is returned with its extension. Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for bringing this up in a comment. See the documentation, as should always be done with any suggested modules. </p>\n\n<p>This is by far the most common need when working with full paths. But if you want to get the extension split off as well then pass another argument, which can be a list of extensions to seek or a regex. Then the file-name part will be returned without the extension.</p>\n\n<pre><code>my ($base, $path, $ext) = fileparse($fullname, @suffix_list);\n</code></pre>\n\n<p>For example, <code>@suffix_list</code> can be <code>qr/\\.[^.]*/</code> and in this case we have</p>\n\n<pre><code>my ($base, $path, $ext) = fileparse($fullname, qr/\\.[^.]*/);\nprint \"$path\\n$base\\n$ext\\n\";\n</code></pre>\n\n<p>printing</p>\n\n<pre>\n/usr/local/projects/Tool/Work/Section12/\nTool.Sample.2\n.pdf\n</pre>\n\n<p>A note on reliability, from docs:</p>\n\n<blockquote>\n  <p>You are guaranteed that <code>$directories . $filename . $suffix</code> will denote the same location as the original <code>$path</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 551, "user_id": 5621995, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2fbc9889325c4e90e235b64ff5fe018b?s=128&d=identicon&r=PG&f=1", "display_name": "AnkP", "link": "https://stackoverflow.com/users/5621995/ankp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 37551379, "answer_count": 2, "score": 0, "last_activity_date": 1482913135, "creation_date": 1464712222, "last_edit_date": 1464713863, "question_id": 37551088, "link": "https://stackoverflow.com/questions/37551088/find-sample-name-and-directory-name-from-a-path", "title": "Find sample name and directory name from a path", "body": "<p>My script receives a complete path name of a file from another script and I am trying to break this full path name in perl and pass this information to my script.</p>\n\n<p>I am unable to extract it using split, can anyone please suggest on how to approach this - \nI need to split a path which cold look like  - <code>path =</code> <code>/usr/local/projects/Tool/Work/Section12/Tool.Sample.2.pdf</code></p>\n\n<p>to extract these values  <code>Sample1</code> and <code>/usr/local/projects/Tool/Work/</code>, so that I can use these to assign values to two variables in my script for example <code>$Sample_id = Sample</code> and <code>$Dir=/usr/local/projects/Tool/Work/</code></p>\n\n<p>Can anyone please suggest? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "templates", "view", "catalyst"], "answers": [{"tags": [], "owner": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "is_accepted": true, "score": 4, "last_activity_date": 1465474259, "last_edit_date": 1465474259, "creation_date": 1464707610, "answer_id": 37549496, "question_id": 37548181, "link": "https://stackoverflow.com/questions/37548181/explicit-calling-a-view-in-catalyst/37549496#37549496", "title": "Explicit calling a view in Catalyst", "body": "<p>This can be a little tricky because it is a combination of extremely flexible and plain DWIW. The <code>.tt</code> in the template name indicates that <a href=\"https://metacpan.org/pod/Template::Toolkit\" rel=\"nofollow\">Template::Toolkit</a> is the presumptive default. It's not necessary to use this View at all but it is used in most of the documentation.</p>\n\n<p>You can render whatever is in your stash/<code>$ctx</code> by forwarding to a view: <code>$c-&gt;forward($c-&gt;view(\"JSON\"));</code> for example, or you can decide for the rest of the request cycle like this <code>$c-&gt;stash( current_view =&gt; \"CSV\" )</code>. You have to have the view(s) installed and configured in your application, of course. You can also use views directly-</p>\n\n<pre><code>my $body = $c-&gt;view(\"Xslate\")-&gt;render($c, \"folder/email_template.tx\", $params);\n</code></pre>\n\n<p>A tricky part becomes what your <code>end</code> method(s) will do.</p>\n\n<p>The generally recommended default is <a href=\"https://metacpan.org/pod/Catalyst::Action::RenderView\" rel=\"nofollow\">Catalyst::Action::RenderView</a>. It is smart (and flexible if you want to change its behavior). If you have set a redirect, for example, it won't render a page, it will just do the redirect. If you have already generated <code>$c-&gt;response-&gt;body</code> content it will also \"just stop\" and trust that what you've already done is what you wanted.</p>\n\n<p>There is enough complexity in the flexibility that I really recommend just putting together a toy app run in the restarting dev server and trying out all the things you want to understand better. None of it is that hard in itself but it all adds up to confusion unless you break it down into digestible chunks.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 37549496, "answer_count": 1, "score": 3, "last_activity_date": 1465474259, "creation_date": 1464704066, "last_edit_date": 1464707681, "question_id": 37548181, "link": "https://stackoverflow.com/questions/37548181/explicit-calling-a-view-in-catalyst", "title": "Explicit calling a view in Catalyst", "body": "<p>Reading <a href=\"http://search.cpan.org/~ether/Catalyst-Manual-5.9009/lib/Catalyst/Manual/Tutorial/02_CatalystBasics.pod\" rel=\"nofollow\">http://search.cpan.org/~ether/Catalyst-Manual-5.9009/lib/Catalyst/Manual/Tutorial/02_CatalystBasics.pod</a> I see <code>$c-&gt;stash(template =&gt; 'hello.tt');</code>.</p>\n\n<p>There is a template, but where is the view? Why is the view not specified explicitly?</p>\n\n<p>Also: How to call a view explicitly (not by the template name)?</p>\n"}, {"tags": ["perl", "if-statement"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1464701949, "post_id": 37547218, "comment_id": 62583278, "body": "Tests stop once a condition succeeds, this means the second <code>$i==1</code> is never tested when <code>$i=1</code>."}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1464710417, "post_id": 37547218, "comment_id": 62589497, "body": "I haven&#39;t written an else in five years. I can&#39;t think of an elsif."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464706603, "post_id": 37547363, "comment_id": 62586771, "body": "(I think <code>2&#47;0</code> used to die at compile-time because that&#39;s when <code>2&#47;0</code> is evaluated, but the exception is deferred now.)"}], "tags": [], "owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "is_accepted": true, "score": 5, "last_activity_date": 1464701863, "creation_date": 1464701863, "answer_id": 37547363, "question_id": 37547218, "link": "https://stackoverflow.com/questions/37547218/multiple-else-if-conditions-true/37547363#37547363", "title": "Multiple else if conditions true", "body": "<p>Easy to try:</p>\n\n<pre><code>use feature \":5.10\";\n\nmy $i = 1;\n\nif ($i == 1) {\n    say \"A\"; # this is the only branch executed\n} elsif (i == 2) {\n    say \"B\";\n} elsif (i == 1) {\n    say \"C\";\n} else {\n    say \"D\";\n}\n</code></pre>\n\n<p>Each <code>elsif</code> is only considered if the previous conditions did not succeed. You can see that the comparisons are not even tried:</p>\n\n<pre><code>if ($i == 1) {\n    say \"A\";\n} elsif (i == 2/0) { # This doesn\u2019t blow up since the comparison is never tried\n    say \"B\";\n} else {\n    say \"C\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 6383649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749298d2f89aaea717e6358fb42c7807?s=128&d=identicon&r=PG&f=1", "display_name": "MalMonk", "link": "https://stackoverflow.com/users/6383649/malmonk"}, "is_accepted": false, "score": 2, "last_activity_date": 1464706535, "last_edit_date": 1464706535, "creation_date": 1464702024, "answer_id": 37547428, "question_id": 37547218, "link": "https://stackoverflow.com/questions/37547218/multiple-else-if-conditions-true/37547428#37547428", "title": "Multiple else if conditions true", "body": "<p>The system starts at the if statement and checks the condition. If it is true, it executes the body of the statement and then skips over the remaining else and else if statements. If it is false, it moves down to the first else if statement listed. The same process occurs: check condition, if true execute body and skip over remaining else if and else statements; if false skip down to the next else if statement.</p>\n\n<p><strong>In short</strong>: the else if statements are chosen in order from the top down. So if you have two else if statements that would both be true, only the top one would be executed.</p>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1464707264, "creation_date": 1464707264, "answer_id": 37549369, "question_id": 37547218, "link": "https://stackoverflow.com/questions/37547218/multiple-else-if-conditions-true/37549369#37549369", "title": "Multiple else if conditions true", "body": "<p>First match will win other esle/elsif blocks are skipped.</p>\n\n<p>No, the second <code>elsif</code> block will not be reached.</p>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2464, "favorite_count": 0, "accepted_answer_id": 37547363, "answer_count": 3, "score": 0, "last_activity_date": 1464711893, "creation_date": 1464701479, "last_edit_date": 1464711893, "question_id": 37547218, "link": "https://stackoverflow.com/questions/37547218/multiple-else-if-conditions-true", "title": "Multiple else if conditions true", "body": "<p>I have multiple <code>elsif</code> conditions in a else if statement. </p>\n\n<p>What is the flow of the statement if multiple conditions are true? So in the simplistic example below which serves as a demonstration only, is the the second elsif condition ever reached?</p>\n\n<pre><code>my $i = 1;\n\nif ($i == 1){\n}\nelsif (i == 2){\n}\nelsif (i == 1){\n}\nelse{\n}\n</code></pre>\n"}, {"tags": ["perl", "ssl", "heroku", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5514994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WoTju.jpg?s=128&g=1", "display_name": "Harrison-SC", "link": "https://stackoverflow.com/users/5514994/harrison-sc"}, "edited": false, "score": 0, "creation_date": 1465405673, "post_id": 37544926, "comment_id": 62891542, "body": "You were right. After some digging around, I found out that there were actually more than two Perl&#39;s installed."}], "tags": [], "owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "is_accepted": false, "score": 5, "last_activity_date": 1464695292, "creation_date": 1464695292, "answer_id": 37544926, "question_id": 37543555, "link": "https://stackoverflow.com/questions/37543555/iosocketssl-1-94-required-for-tls-support-error-when-running-mojolicious/37544926#37544926", "title": "&quot;IO::Socket::SSL 1.94+ required for TLS support&quot; Error when running Mojolicious App on Heroku", "body": "<p>I suspect that you have two Perls. One has the modules and the other runs the application. I couldn't be sure without being able to dig in more. I don't especially like installing modules via the heroku command though, they should be in the make file. </p>\n\n<p>Perhaps make a route that dumps %INC into the browser (temporarily) after attempting the request that fails.</p>\n"}], "owner": {"reputation": 7, "user_id": 5514994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WoTju.jpg?s=128&g=1", "display_name": "Harrison-SC", "link": "https://stackoverflow.com/users/5514994/harrison-sc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483800135, "creation_date": 1464691624, "question_id": 37543555, "link": "https://stackoverflow.com/questions/37543555/iosocketssl-1-94-required-for-tls-support-error-when-running-mojolicious", "title": "&quot;IO::Socket::SSL 1.94+ required for TLS support&quot; Error when running Mojolicious App on Heroku", "body": "<p>I have followed the instructions from here <a href=\"https://github.com/tempire/mojolicious-command-deploy-heroku\" rel=\"nofollow\">Tempire's Mojolicious Deploy App Heroku</a>. Everything works fine and I have verified that all prerequisites in Makefile.PL are there. Running this command from my terminal gives me IO::Socket::SSL is up to date (2.027).\nNet::SSLeay is up to date (1.74).</p>\n\n<pre><code>heroku run --app sheltered-island-80963 -- /app/vendor/perl/bin/perl /app/vendor/perl/bin/cpan IO::Socket::SSL Net::SSLeay\n</code></pre>\n\n<p>However, I have a controller that performs some http requests before rendering and when I try to use UserAgent, it gives me the error that IO::Socket::SSL 1.94 is required. The app runs fine locally but fails on heroku.</p>\n\n<p>I have tried to disable TLS by setting MOJO_NO_TLS=1 but still the error persists. Anyone know of a way to fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1464706722, "post_id": 37542674, "comment_id": 62586868, "body": "See <a href=\"http://www.perlmonks.org/?node_id=790129\" rel=\"nofollow noreferrer\">Mini-Tutorial: Scalar vs List Assignment Operator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 4, "creation_date": 1464691254, "post_id": 37542749, "comment_id": 62575667, "body": "It might be added that this is not a fluke: many Perl expressions return different results depending on whether they are in list context or not.  E.g. this is why <code>my $match = $var =~ &#47;con(.*)text&#47;</code> won&#39;t give you the value of <code>$1</code> in <code>$match</code> whereas <code>my ($match) = $var =~ &#47;con(.*)text&#47;</code> will."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 14, "last_activity_date": 1464689658, "last_edit_date": 1464689658, "creation_date": 1464689327, "answer_id": 37542749, "question_id": 37542674, "link": "https://stackoverflow.com/questions/37542674/whats-the-difference-between-test-test-and-test-test-in-perl/37542749#37542749", "title": "Whats the difference between ($test) = (@test); and $test = @test; in Perl?", "body": "<blockquote>\n<pre><code>($test) = (@test); \n</code></pre>\n</blockquote>\n\n<p>This assigns the values inside of <code>@test</code> to a list of variables that only contains <code>$test</code>. So <code>$test</code> will contain the first element of <code>@test</code>. That's called <em>list context</em>. You can also leave out the parenthesis around <code>@test</code>.</p>\n\n<pre><code>my @test = ('a', 'b');\nmy ($test) = @test;    # 'a'\n</code></pre>\n\n<p>This is also very commonly used to assign the parameters of functions to variables. The following will assign the first three arguments to the function and ignore any other arguments that follow.</p>\n\n<pre><code>sub foo {\n    my ($self, $foo, $bar) = @_;\n\n    # ...\n}\n</code></pre>\n\n<p>You can also skip elements in the middle. This is also valid. The <code>bar</code> value will not get assigned here.</p>\n\n<pre><code>my @foo = qw(foo bar baz);\n(my $foo, undef, my $baz) = @foo;\n</code></pre>\n\n<hr>\n\n<blockquote>\n<pre><code>$test = @test;\n</code></pre>\n</blockquote>\n\n<p>This forces <code>@test</code> into <em>scalar context</em>. Arrays in scalar context return the number of elements, so <code>$test</code> will become an integer.</p>\n\n<pre><code>my @test = ('a', 'b');\nmy $test = @test;      # 2\n</code></pre>\n\n<hr>\n\n<p>You can read more about context in <a href=\"http://perldoc.perl.org/perldata.html#Context\">perldata</a>.</p>\n"}], "owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 37542749, "answer_count": 1, "score": 6, "last_activity_date": 1464689658, "creation_date": 1464689103, "last_edit_date": 1464689347, "question_id": 37542674, "link": "https://stackoverflow.com/questions/37542674/whats-the-difference-between-test-test-and-test-test-in-perl", "title": "Whats the difference between ($test) = (@test); and $test = @test; in Perl?", "body": "<pre><code>($test) = (@test);\n$test = @test;\n</code></pre>\n\n<p>With one bracket around the variable it acesses the first element of the array. I cant find any info on what the bracket around the array does.</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1464686406, "post_id": 37541593, "comment_id": 62572376, "body": "Have you started on it yet? The usual suspect for command line options in Perl is <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">metacpan.org/pod/Getopt::Long</a>."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464686899, "post_id": 37541593, "comment_id": 62572716, "body": "I first tried to use Getopt::ArgParse but failed to install the module and now I started working one Getopt::Long . Thanks for your suggestion."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1464687069, "post_id": 37541593, "comment_id": 62572840, "body": "That should go in the question, along with why it failed. The way your question is now, it will likely get closed as off-topic."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464687806, "post_id": 37541593, "comment_id": 62573434, "body": "Thanks for your comments about the question and I changed the question title little bit."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 6, "last_activity_date": 1464704959, "last_edit_date": 1464704959, "creation_date": 1464704593, "answer_id": 37548360, "question_id": 37541593, "link": "https://stackoverflow.com/questions/37541593/is-there-a-perl-module-to-replace-argparse-module-in-python-programming/37548360#37548360", "title": "Is there a Perl module to replace Argparse module in Python programming?", "body": "<p>Here's a basic example using <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"noreferrer\">Getopt::Long</a>, pretty much Perl's de-facto standard for argument parsing:</p>\n\n<pre><code>use Getopt::Long;\n\nmy $ip;\nmy $port;\nmy $foreground = 0; # defaults to 0 if not sent in\nmy $stdout = 1;     # defaults to 1 if not sent in\nmy $debug;\n\nGetOptions(\n    \"ip=s\"       =&gt; \\$ip,         # string\n    \"port=i\"     =&gt; \\$port,       # int\n    \"fg\"         =&gt; \\$foreground, # bool, flag doesn't need a param\n    \"stdout\"     =&gt; \\$stdout,\n    \"debug=s\"    =&gt; \\$debug,\n);\n</code></pre>\n\n<p>Call like this:</p>\n\n<pre><code>script.pl --port 7800 --ip 127.0.0.1\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>script.pl -p 7800 -i 127.0.0.1\n</code></pre>\n"}], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 928, "favorite_count": 1, "closed_date": 1464717676, "answer_count": 1, "score": 0, "last_activity_date": 1470065917, "creation_date": 1464686181, "last_edit_date": 1470065917, "question_id": 37541593, "link": "https://stackoverflow.com/questions/37541593/is-there-a-perl-module-to-replace-argparse-module-in-python-programming", "closed_reason": "Not suitable for this site", "title": "Is there a Perl module to replace Argparse module in Python programming?", "body": "<p>To remove a language dependency, I need to use any module or code to handle command line argument in Perl. Earlier I was using the Python <strong>Argparse</strong> module to handle the command line arguments.</p>\n\n<p>My Python code with argparse module:</p>\n\n<pre><code>import argparse\n\ndefault_database_config='config/database.config'\ndefault_general_config = 'config/general.config'\ncommandLineArgumentParser = argparse.ArgumentParser()\ncommandLineArgumentParser.add_argument(\"-dconfig\", \"--dconfigaration\", help=\"Database Configuration file name\", default=default_database_config)\ncommandLineArgumentParser.add_argument(\"-gconfig\", \"--gconfigaration\", help=\"General Configuration file name\", default=default_general_config)\ncommandLineArguments = commandLineArgumentParser.parse_args()\n\ndatabase_config_file = commandLineArguments.dconfigaration\ngeneral_config_file = commandLineArguments.gconfigaration\n</code></pre>\n\n<p>How do I convert the above Python code to Perl code?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 2, "creation_date": 1464684279, "post_id": 37539364, "comment_id": 62571059, "body": "define <i>optimized</i>!"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1464707653, "post_id": 37539364, "comment_id": 62587541, "body": "I would not recomend to you to optimize in such way. What you will do if filename will contain whitespace? Logic will increase. Look @mkHun unswer."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1464708575, "post_id": 37539364, "comment_id": 62588220, "body": "Have a look at <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/Getopt/Long.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1464684422, "post_id": 37540615, "comment_id": 62571138, "body": "Whilst clever, I am not really convinced that anything in &#39;perl secret&#39; is something you should be using in real  code, simply because it&#39;s obscure."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464726651, "post_id": 37540615, "comment_id": 62598963, "body": "<code>scalar(&lt;&gt;)</code> or <code>&quot;&quot;.&lt;&gt;</code> would be less &quot;secret&quot;. // Note that reading from a file handle after it returned EOF is a no-no, so this approach is inherently flawed."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1464709677, "last_edit_date": 1464709677, "creation_date": 1464683364, "answer_id": 37540615, "question_id": 37539364, "link": "https://stackoverflow.com/questions/37539364/perl-program-to-take-two-different-inputs-through-stdin/37540615#37540615", "title": "Perl program to take two different inputs through STDIN", "body": "<p>What about <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod#Kite\" rel=\"nofollow\">kite</a>  From perl secret </p>\n\n<pre><code>use warnings;\nuse strict;\nprint \"Enter the filename and string to be compared:\";\nchomp( my @ar = (~~&lt;&gt;, ~~&lt;&gt; ) );\nprint @ar;        \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1464706453, "last_edit_date": 1464706453, "creation_date": 1464684686, "answer_id": 37541063, "question_id": 37539364, "link": "https://stackoverflow.com/questions/37539364/perl-program-to-take-two-different-inputs-through-stdin/37541063#37541063", "title": "Perl program to take two different inputs through STDIN", "body": "<p>That's about as optimised as you get. Don't bother trying to hand optimise code until you're sure you need to. Given this is a wait for IO, it will just not matter, because IO is slower than anything you're doing in code.</p>\n\n<p>But if you meant more <em>concise</em>:</p>\n\n<pre><code>print \"Enter the filename and string to be compared:\";\nchomp ( my ( $filename, $string )  = split ' ', &lt;&gt; ); \n</code></pre>\n\n<p>This takes <code>&lt;&gt;</code> - which is the magic filehandle, and reads <em>either</em> STDIN or a filename specified on command line. (Works like <code>grep</code>/<code>sed</code>/<code>awk</code>). </p>\n\n<p>We split it on a space, in a scalar context - and then hand the values from split to a list assignment to <code>$filename</code> and <code>$string</code>. Which is then chomped to strip linefeeds. </p>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "is_accepted": false, "score": 0, "last_activity_date": 1464805331, "creation_date": 1464805331, "answer_id": 37576115, "question_id": 37539364, "link": "https://stackoverflow.com/questions/37539364/perl-program-to-take-two-different-inputs-through-stdin/37576115#37576115", "title": "Perl program to take two different inputs through STDIN", "body": "<p>Try using the code bellow with the \n`comand:perl your_script.pl -file_name 'some_file' -string 'some_string'</p>\n\n<pre><code>use Getopt::Long;\n\nmy ( $file_name, $string );\nGetOptions(\n'file_name=s' =&gt; \\$file_name,\n'string=s' =&gt; \\$string,\n) or die \"Could not parse options\";\n\nif($file_name eq $string )\n{\nprint \"The file name is the same as the string\\n\";\n}else{\nprint \"Not a match\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6403276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/404e4730eec0681d8b76a8e719d07db3?s=128&d=identicon&r=PG&f=1", "display_name": "user6403276", "link": "https://stackoverflow.com/users/6403276/user6403276"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 37541063, "answer_count": 3, "score": 1, "last_activity_date": 1464805331, "creation_date": 1464679480, "question_id": 37539364, "link": "https://stackoverflow.com/questions/37539364/perl-program-to-take-two-different-inputs-through-stdin", "title": "Perl program to take two different inputs through STDIN", "body": "<p>I'm trying to write a perl program:</p>\n\n<pre><code>    print \"Enter the filename:\";\n    $filename = readline STDIN;\n\n    print \"Enter the string to be compared\";\n    $string1 = readline STDIN;\n</code></pre>\n\n<p>To combine these two inputs in one go, I did the following:</p>\n\n<pre><code>    print \"Enter the filename and string to be compared:\";\n    my $input1 = readline STDIN; \n    my @name = split(' ',$input1); //split the input parameters by space\n    $filename = $name[0];\n    $string1 = $name[1];\n    chomp $string1;\n</code></pre>\n\n<p>This is functional code,I wanted to know if there is any other way to implement more optimized version for this logic?</p>\n\n<p>Thanks,\nDD</p>\n"}, {"tags": ["perl", "sorting"], "answers": [{"tags": [], "owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "is_accepted": true, "score": 9, "last_activity_date": 1464679964, "creation_date": 1464679964, "answer_id": 37539543, "question_id": 37539230, "link": "https://stackoverflow.com/questions/37539230/please-explain-perl-statement/37539543#37539543", "title": "Please explain perl statement", "body": "<p>The line:</p>\n\n<pre><code>@ranks[@sorted_positions] = ( 1 .. @sorted_positions );\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>@ranks[5,0,3,4,2,1] = (1,2,3,4,5,6);\n</code></pre>\n\n<p>which is equivalent to:</p>\n\n<pre><code>$ranks[5] = 1;\n$ranks[0] = 2;\n$ranks[3] = 3;\n$ranks[4] = 4;\n$ranks[2] = 5;\n$ranks[1] = 6;\n</code></pre>\n\n<p>The example is using <code>slices</code> which are documented in the <a href=\"http://perldoc.perl.org/perldata.html#Slices\"><code>perldata</code> man page</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 3, "last_activity_date": 1464680239, "creation_date": 1464680239, "answer_id": 37539644, "question_id": 37539230, "link": "https://stackoverflow.com/questions/37539230/please-explain-perl-statement/37539644#37539644", "title": "Please explain perl statement", "body": "<p>Let suppose you want to assign string 'x' into the first position of an array, 'y' into the second position and 'z' into the third position.  Instead of doing three assignments, you can do them at the same time;</p>\n\n<pre><code>@array[0,1,2] = (\"x\", \"y\", \"z\");\n</code></pre>\n\n<p>You don't have to do these in order;</p>\n\n<pre><code>@array[2,0,1] = (\"z\", \"x\", \"y\");    # same result\n</code></pre>\n\n<p>The <strong>right-hand side</strong> of the line in question produces a list of numbers starting with 1 and finishing at the integer value returned by the expression <code>@sorted_positions</code> (which is 6 as there are 6 things in @sorted_positions) - ie its <em>identical</em> to;</p>\n\n<pre><code>(1,2,3,4,5,6)\n</code></pre>\n\n<p>So, <strong>the whole statement</strong> is identical to:</p>\n\n<pre><code>@ranks[5,0,3,4,2] = (1,2,3,4,5,6) ;\n</code></pre>\n\n<p>So, if we take just one iteration of this:</p>\n\n<pre><code>foreach ( 0 .. $#ranks ) {\n    print \"$input[$_] sorts into position $ranks[$_]\\n\";\n}\n</code></pre>\n\n<p>we get;</p>\n\n<pre><code>print \"$input[0] sorts into position $ranks[0]\\n\" \n# ie: Gilligan sorts into position 2\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 37539543, "answer_count": 2, "score": 2, "last_activity_date": 1464680239, "creation_date": 1464679056, "last_edit_date": 1464679442, "question_id": 37539230, "link": "https://stackoverflow.com/questions/37539230/please-explain-perl-statement", "title": "Please explain perl statement", "body": "<p>I am reading Intermediate Perl book and in Chapt10 there is this code. I added few print statements but core logic is untouched.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @input = qw(Gilligan Skipper Professor Ginger Mary Ann);\nmy @sorted_positions = sort { $input[$a] cmp $input[$b] } 0 .. $#input;\nprint Dumper( \\@sorted_positions );\nmy @ranks;\n@ranks[@sorted_positions] = ( 1 .. @sorted_positions );\nprint Dumper( \\@ranks );\nforeach ( 0 .. $#ranks ) {\n    print \"$input[$_] sorts into position $ranks[$_]\\n\";\n}\n</code></pre>\n\n<p>When i check the Dumper output then for <code>@sorted_positions</code> array it is printing </p>\n\n<pre><code>$VAR1 = [\n          5,\n          0,\n          3,\n          4,\n          2,\n          1\n        ];\n</code></pre>\n\n<p>which make sense to me but for <code>@ranks</code> array it is printing </p>\n\n<pre><code>$VAR1 = [\n          2,\n          6,\n          5,\n          3,\n          4,\n          1\n        ];\n</code></pre>\n\n<p>I am unable to understand what this line is doing.</p>\n\n<pre><code>@ranks[@sorted_positions] = ( 1 .. @sorted_positions );\n</code></pre>\n\n<p>I am able understand what output means in reference to the program but not able to understand how that output is coming i.e. what exactly is perl doing inside that statement. </p>\n"}, {"tags": ["linux", "perl", "ssh", "routing", "ip"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 2, "last_activity_date": 1464679204, "creation_date": 1464679204, "answer_id": 37539281, "question_id": 37536316, "link": "https://stackoverflow.com/questions/37536316/perls-netssh2-local-socket/37539281#37539281", "title": "Perl&#39;s NET:SSH2 local socket", "body": "<p>On Linux, you have <code>SO_BINDTODEVICE</code> available as an option for <code>setsockopt()</code>. I haven't tried but <a href=\"http://www.perlmonks.org/?node_id=251477\" rel=\"nofollow\">this</a> should be relevant.</p>\n\n<p>Once you have an <code>IO::Socket::INET</code> object set up, bound to the correct network device and just before connecting it, you can pass it to Net::SSH2's <code>connect()</code>.</p>\n\n<p>Caveat: I've done this in C but never in Perl; this is just from skimming the docs.</p>\n"}], "owner": {"reputation": 23, "user_id": 4071735, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/67f94ad316a3717bc44169b14360fa53?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Nigmatullin", "link": "https://stackoverflow.com/users/4071735/kamil-nigmatullin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1464679204, "creation_date": 1464664830, "last_edit_date": 1464672663, "question_id": 37536316, "link": "https://stackoverflow.com/questions/37536316/perls-netssh2-local-socket", "title": "Perl&#39;s NET:SSH2 local socket", "body": "<p>I have two interfaces on my machine eth0 - 172.16.4.70 and eth0:1 - 172.16.4.71\nThe default behaviour of NET:SSH2 is to create connection from eth0. How can I make the script to use my floating IP in eth0:1? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "list", "perl", "hash", "inline"], "comments": [{"owner": {"reputation": 89490, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1464667903, "post_id": 37535999, "comment_id": 62563375, "body": "The quotes are screwed up in your source data. <code>\u2019</code> should be <code>&#39;</code>. You also have a random <code>2.1. Usage 19 gmusicapi Documentation, Release 10.0.1</code> and <code>20 Chapter 2. Using gmusicapi gmusicapi Documentation, Release 10.0.1</code> stuck in the middle there. Remove them first. You also have some lines that are split (1 key has two string values, one on each line) that will need to be repaired, and in case you hadn&#39;t noticed, some of your URLs are incomplete, like <code>&#39;http:&#47;&#47;lh5.ggpht.com&#47;YNGkFdrtk43e8H941fuAHjflrNZ1CJUeqdoys.&zwnj;&#8203;..&#39;</code>."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1464672566, "post_id": 37535999, "comment_id": 62564855, "body": "Which module are you using?"}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464678992, "post_id": 37535999, "comment_id": 62567877, "body": "There was a desire to bring back some old unmaintained code, so I have been adding fixes here and there to get it working. It&#39;s a squeezebox plugin that seems to be ran using perl with python code inside. It uses a python plugin that accesses google music&#39;s api. I added notes to my first. This specific section I believe uses Inline::Python Data Object"}, {"owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1464867121, "post_id": 37535999, "comment_id": 62665997, "body": "@CREW - I&#39;ve been working on the same problem (google music plugin for squeezebox) for the past two hours; have you got anywhere? Is there any development discussion/hub for this? It would make sense for those who wanted to get this working to band together somehow..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1464907827, "post_id": 37535999, "comment_id": 62691348, "body": "@askvictor  With the data structure CREW figured out coming back from Python&#39;s object and posted here, there is now just JSON data and then the rest is straight Perl. See my post below."}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "reply_to_user": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1464924695, "post_id": 37535999, "comment_id": 62695242, "body": "@askvictor Yeah, I saw your post on the repo, I think that would be smart"}, {"owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466306986, "post_id": 37535999, "comment_id": 63260176, "body": "@CREW - I&#39;ve started a github team for this project at <a href=\"https://github.com/squeezebox-googlemusic\" rel=\"nofollow noreferrer\">github.com/squeezebox-googlemusic</a>"}], "answers": [{"tags": [], "owner": {"reputation": 89490, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": false, "score": 1, "last_activity_date": 1464668194, "creation_date": 1464668194, "answer_id": 37536737, "question_id": 37535999, "link": "https://stackoverflow.com/questions/37535999/how-would-i-read-this-data-structure-in-perl-dictionary-hash-with-keys-containi/37536737#37536737", "title": "How would I read this data structure in Perl? Dictionary/Hash with keys containing lists containing lists. Python::Inline giving me errors", "body": "<p>OK, this isn't really an answer, but out of the goodness of my heart I cleaned up your data for you. Here is a real Python dict. I don't know if some of the numerical string values should be ints or not, so I didn't mess with them. It'll be up to you to figure out what to do with the truncated URLs.</p>\n\n<p>Another way to go about this would be to change <code>True</code> to <code>true</code>, <code>False</code> to <code>false</code>, and parse the dict as JSON.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>{\n    'album_hits': [\n    {\n        'album':\n        {\n            'albumArtRef': 'http://lh5.ggpht.com/DVIg4GiD6msHfgPs_Vu_2eRxCyAoz0fF...',\n            'albumArtist': 'J.Cole',\n            'albumId': 'Bfp2tuhynyqppnp6zennhmf6w3y',\n            'artist': 'J.Cole',\n            'artistId': ['Ajgnxme45wcqqv44vykrleifpji'],\n            'description_attribution':\n            {\n                'kind': 'sj#attribution',\n                'license_title': 'Creative Commons Attribution CC-BY',\n                'license_url': 'http://creativecommons.org/licenses/by/4.0/legalcode',\n                'source_title': 'Freebase',\n                'source_url': ''\n            },\n            'explicitType': '1',\n            'kind': 'sj#album',\n            'name': 'Work Out',\n            'year': 2011\n        },\n        'type': '3'\n    }],\n    'artist_hits': [\n    {\n        'artist':\n        {\n            'artistArtRef': 'http://lh3.googleusercontent.com/MJe-cDw9uQ-pUagoLlm...',\n            'artistArtRefs': [\n            {\n                'aspectRatio': '2',\n                'autogen': False,\n                'kind': 'sj#imageRef',\n                'url': 'http://lh3.googleusercontent.com/MJe-cDw9uQ-pUagoLlmKX3x_K...'\n            }],\n            'artistId': 'Ajgnxme45wcqqv44vykrleifpji',\n            'artist_bio_attribution':\n            {\n                'kind': 'sj#attribution',\n                'source_title': 'David Jeffries, Rovi'\n            },\n            'kind': 'sj#artist',\n            'name': 'J. Cole'\n        },\n        'type': '2'\n    }],\n    'playlist_hits': [\n    {\n        'playlist':\n        {\n            'albumArtRef': [\n            {\n                'url': 'http://lh3.googleusercontent.com/KJsAhrg8Jk_5A4xYLA68LFC...'\n            }],\n            'description': 'Workout Plan ',\n            'kind': 'sj#playlist',\n            'name': 'Workout',\n            'ownerName': 'Ida Sarver',\n            'shareToken': 'AMaBXyktyF6Yy_G-8wQy8Rru0tkueIbIFblt2h0BpkvTzHDz-fFj6P...',\n            'type': 'SHARED'\n        },\n        'type': '4'\n    }],\n    'situation_hits': [\n    {\n        'situation':\n        {\n            'description': 'Level up and enter beast mode with some loud, aggressive music.',\n            'id': 'Nrklpcyfewwrmodvtds5qlfp5ve',\n            'imageUrl': 'http://lh3.googleusercontent.com/Cd8WRMaG_pDwjTC_dSPIIuf...',\n            'title': 'Entering Beast Mode',\n            'wideImageUrl': 'http://lh3.googleusercontent.com/8A9S-nTb5pfJLcpS8P...'\n        },\n        'type': '7'\n    }],\n    'song_hits': [\n    {\n        'track':\n        {\n            'album': 'Work Out',\n            'albumArtRef': [\n            {\n                'aspectRatio': '1',\n                'autogen': False,\n                'kind': 'sj#imageRef',\n                'url': 'http://lh5.ggpht.com/DVIg4GiD6msHfgPs_Vu_2eRxCyAoz0fFdxj5w...'\n            }],\n            'albumArtist': 'J.Cole',\n            'albumAvailableForPurchase': True,\n            'albumId': 'Bfp2tuhynyqppnp6zennhmf6w3y',\n            'artist': 'J Cole',\n            'artistId': ['Ajgnxme45wcqqv44vykrleifpji', 'Ampniqsqcwxk7btbgh5ycujij5i'],\n            'composer': '',\n            'discNumber': 1,\n            'durationMillis': '234000',\n            'estimatedSize': '9368582',\n            'explicitType': '1',\n            'genre': 'Pop',\n            'kind': 'sj#track',\n            'nid': 'Tq3nsmzeumhilpegkimjcnbr6aq',\n            'primaryVideo':\n            {\n                'id': '6PN78PS_QsM',\n                'kind': 'sj#video',\n                'thumbnails': [\n                {\n                    'height': 180,\n                    'url': 'https://i.ytimg.com/vi/6PN78PS_QsM/mqdefault.jpg',\n                    'width': 320\n                }]\n            },\n            'storeId': 'Tq3nsmzeumhilpegkimjcnbr6aq',\n            'title': 'Work Out',\n            'trackAvailableForPurchase': True,\n            'trackAvailableForSubscription': True,\n            'trackNumber': 1,\n            'trackType': '7',\n            'year': 2011\n        },\n        'type': '1'\n    }],\n    'station_hits': [\n    {\n        'station':\n        {\n            'compositeArtRefs': [\n            {\n                'aspectRatio': '1',\n                'kind': 'sj#imageRef',\n                'url': 'http://lh3.googleusercontent.com/3aD9mFppy6PwjADnjwv_w...'\n            }],\n            'contentTypes': ['1'],\n            'description': 'These riff-tastic metal tracks are perfect for getting the blood pumping.',\n            'imageUrls': [\n            {\n                'aspectRatio': '1',\n                'autogen': False,\n                'kind': 'sj#imageRef',\n                'url': 'http://lh5.ggpht.com/YNGkFdrtk43e8H941fuAHjflrNZ1CJUeqdoys...'\n            }],\n            'kind': 'sj#radioStation',\n            'name': 'Heavy Metal Workout',\n            'seed':\n            {\n                'curatedStationId': 'Lcwg73w3bd64hsrgarnorif52r',\n                'kind': 'sj#radioSeed',\n                'seedType': '9'\n            },\n            'skipEventHistory': [],\n            'stationSeeds': [\n            {\n                'curatedStationId': 'Lcwg73w3bd64hsrgarnorif52r',\n                'kind': 'sj#radioSeed',\n                'seedType': '9'\n            }]\n        },\n        'type': '6'\n    }],\n    'video_hits': [\n    {\n        'score': 629.6226806640625,\n        'type': '8',\n        'youtube_video':\n        {\n            'id': '6PN78PS_QsM',\n            'kind': 'sj#video',\n            'thumbnails': [\n            {\n                'height': 180,\n                'url': 'https://i.ytimg.com/vi/6PN78PS_QsM/mqdefault.jpg',\n                'width': 320\n            }],\n            'title': 'J. Cole - Work Out'\n        }\n    }]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464680166, "post_id": 37537992, "comment_id": 62568600, "body": "Wow, this makes a lot of sense. I artist_to_slim_artist puts the data in a format &#39;slimbox&#39; can read to show on it&#39;s web UI. Example [Full File]]: <a href=\"http://pastebin.com/DMnDc56i\" rel=\"nofollow noreferrer\">pastebin.com/DMnDc56i</a>"}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464680172, "post_id": 37537992, "comment_id": 62568602, "body": "I&#39;m going to try and put it together in a few hours after I wake. Thanks a lot for putting this in the right direction, I&#39;m excited to try new ground. I&#39;ll be back in the morning."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464726609, "post_id": 37537992, "comment_id": 62598935, "body": "@CREW  Well, it&#39;s great that you cleaned up those python objects (from your previous post) -- now you have JSON. That&#39;s known, clear and workable."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464908146, "post_id": 37537992, "comment_id": 62691449, "body": "@CREW When you say &quot;<i>artist-to-slim-artist puts the data in a format &#39;slimbox&#39;</i>&quot; -- what does that return? A single object of some sort?  (I looked at your link but can&#39;t read through all of that now.)  If it&#39;s just one thing returned I&#39;l add code to put it on the array etc, if you need that."}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464924935, "post_id": 37537992, "comment_id": 62695297, "body": "Yeah, it returns an array of individual track information. But I&#39;m still having issues getting to that part lol. I think our stackoverflow thread has caught others attention too. JSON is unable to parse the native results that the gmusicapi returns because it doesn&#39;t return a correct JSON format apparently. I think the changes that were made here to fix the JSON would have to be done programatically first."}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464925156, "post_id": 37537992, "comment_id": 62695345, "body": "Right now, when I read each &#39;key&#39; like we did (ex: song_hits, playlist_hits, etc), I can get a reply in the format [{u&#39;track&#39;:{u&#39;artref&#39;:[{u&#39;url&#39;:u&#39;http:...&#39;}]}}], but I can&#39;t get any further. Reading the track key like I&#39;m supposed to gives Python::Inline errors about not being able to access a first key. So my options are to either figure out how to manually access the &#39;track&#39; structure without using keys (Bypass Python::Inline issues), or turn it into another data structure to parse (like JSON corrected, or something else)"}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464925252, "post_id": 37537992, "comment_id": 62695380, "body": "A returned example of the complex data structure which I can&#39;t figure out how to read without getting Python::Inline errors: <a href=\"http://pastebin.com/raw/tincMpwQ\" rel=\"nofollow noreferrer\">pastebin.com/raw/tincMpwQ</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464935021, "post_id": 37537992, "comment_id": 62698522, "body": "@CREW  Oh ... that&#39;s some butchered JSON. (May unicode origin have something to do with it?) I don&#39;t know that messing with Python::Inline would help with that. You got it out of that object and that is good, that&#39;s what was burried inside I guess. Now you need to fix it.  However, that&#39;s a completely different question, at this point. I&#39;d suggest that you wrap this up here and then you can post a question on &#39;How to fix a broken JSON&#39; or some such. (State the background of the problem.) I&#39;ll add comments to my post shortly, to articulate this. Will let you know when it&#39;s up."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 1, "creation_date": 1464938383, "post_id": 37537992, "comment_id": 62700309, "body": "@CREW  I actually managed to clean up that (strictly speaking invalid) JSON from your link.  It&#39;s very telling, what kinds of things come up.  Can&#39;t post that here since it is really unrelated to this question, but will add to the upcoming comment."}, {"owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1464975771, "post_id": 37537992, "comment_id": 62723561, "body": "Interesting, from the latest pastebin correct? Yeah, I originally thought it was unicode issues then realized small other things were returned as well strange"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 1, "creation_date": 1464987352, "post_id": 37537992, "comment_id": 62729123, "body": "@CREW Yes, from that.  I will add a fat comment on bad JSON, just been tied up here."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "edited": false, "score": 0, "creation_date": 1466152311, "post_id": 37537992, "comment_id": 63208747, "body": "@CREW  I have no idea whether you have any use of this, but I&#39;ve added to the post the regex that cleans up that 100Kb document you linked in a comment above.  Just letting you know.  (Btw, I don&#39;t like what I see when I <code>Data::Dumper</code> it -- there are again those Python classes.  It seems that they are nested or so.  But, the document parses cleanly.)"}, {"owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466506562, "post_id": 37537992, "comment_id": 63333639, "body": "I think this is barking up the wrong tree; $googleResult isn&#39;t a string, but a data structure returned by Inline Python code. So treating it as JSON code won&#39;t work, unless you can first convert the structure into text, the mangle it, then read it back in as a Perl structure. I&#39;ve created a smaller sample program at <a href=\"http://stackoverflow.com/questions/37937897/how-do-i-use-or-convert-or-view-inline-python-objects-in-perl\" title=\"how do i use or convert or view inline python objects in perl\">stackoverflow.com/questions/37937897/&hellip;</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466530854, "post_id": 37537992, "comment_id": 63350799, "body": "@askvictor  We&#39;ve all always agreed on the origin of data. I don&#39;t know whether you followed this problem -- there had been a previous question along the lines of what you&#39;re saying.  Somehow CREW did convert that to JSON, and this now is strictly about JSON data.  In <i>this</i> question <code>$googleResult</code> is as shown, slightly broken JSON. The question of how it was converted remain, and I mention that.  As for your own recent question, it is eerily similar to a previous question by CREW, which this is a follow-up on.  Perhaphs ask CREW how they converted it to JSON.  Thanks for the comment!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466531400, "post_id": 37537992, "comment_id": 63351119, "body": "@askvictor  If you are talking about the latest addition -- I looked at a linked file and saw JSON-like data -- and cleaned it up so that a JSON parser can read it.  This worked well and now you can nicely work with it as Perl data structure.  The catch: it seems to again have Python objects, burried as values in this piece of JSON data, here or there.  So perhaps the original conversion, that led to this question, didn&#39;t work fully on that big file, or just can&#39;t deal with nested objects.  I mention all this. If you have a way to convert correctly I think that CREW may be very interested."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466533724, "post_id": 37537992, "comment_id": 63352389, "body": "@askvictor  Are you saying that this isn&#39;t meant to be JSON, not even broken, but a Python dict?  But then isn&#39;t it broken even worse ...? (My Python&#39;s a little rusty.)  In the linked file there are yet other extra things, which I can&#39;t associate with Python data structures at all."}, {"owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466548719, "post_id": 37537992, "comment_id": 63359666, "body": "@zdim: correct; it&#39;s a python structure (a dict of lists of dicts of etc etc). It originates from a JSON reponse from an server, but the gmusicapi puts it into a Python structure, which the Inline Python perl module should convert into a Perl structure."}, {"owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466549129, "post_id": 37537992, "comment_id": 63359774, "body": "@zdim (sorry, didn&#39;t see the 1st three comments; only responded to most recent :) The code in this question doesn&#39;t convert the python response to JSON or a string as far as I can see; it is basically the code from the unmaintained project. I can&#39;t see any code here, nor linked questions that use a string representation of the data. One approach would certainly be to use JSON as an intermediary, but there are much cleaner ways than mangling a Python-structure-as-a-string into JSON."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466573140, "post_id": 37537992, "comment_id": 63365708, "body": "@askvictor Well, right, there is no conversion here -- the Inline Python object was evident in the previous question and I meant to say that I thought that the <i>data</i> shown is (slightly invalid) JSON. I didn&#39;t realize that it is a python structure right as it stands, thank you.  But still, if this is what need be handled by Perl, I don&#39;t know how to do it otherwise. Some Inline Python code ... but that has got us all here :)  Also, the pastebin document in a comment in this thread has stuff which can&#39;t be Python (<code>u&#39;...&#39;</code>, and others).  So apparently it&#39;s all (even) worse than it seems."}, {"owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "edited": false, "score": 0, "creation_date": 1466586700, "post_id": 37537992, "comment_id": 63373664, "body": "FWIW in python, a unicode string is represented as u&#39;String in here&#39; i.e. the character u sits before the opening quote. In python 3 everything is unicode by default, so increasing numbers of libraries are using unicode by default."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1553156148, "last_edit_date": 1553156148, "creation_date": 1464674844, "answer_id": 37537992, "question_id": 37535999, "link": "https://stackoverflow.com/questions/37535999/how-would-i-read-this-data-structure-in-perl-dictionary-hash-with-keys-containi/37537992#37537992", "title": "How would I read this data structure in Perl? Dictionary/Hash with keys containing lists containing lists. Python::Inline giving me errors", "body": "<p>I take it that the data structure shown is in <code>$googleResult</code>. This is 'almost' <code>JSON</code> and you can process it as such using modules, after a simple cleanup. I will use <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.02/XS.pm\" rel=\"nofollow noreferrer\">JSON::XS</a>. The code below takes off after <code>$googleResult</code> has been acquired. (In tests I actually copied data shown in the question into a file and read it in.)  I first replace <code>'</code> by <code>\"</code> and lower-case <code>True</code> and <code>False</code>, to get a valid JSON format which the module can decode.</p>\n\n<pre><code># Other code from the question ...\nuse JSON::XS;\n\n# For tests I loaded shown data into $googleResult (did not run this eval)\neval {\n    $googleResult = $googleapi-&gt;search($query, $prefs-&gt;get('max_search_items'));\n};\nif ($@) {\n    $log-&gt;error(\"Not able to search All Access for \\\"$query\\\": $@\");\n    return;\n}\n\n# The structure shown in the question needs a cleanup\n# But this may be a road to madness, if there is more\n$googleResult =~ s/'/\"/g;        # ' turn off wrong editor coloring\n$googleResult =~ s/False/false/g;\n$googleResult =~ s/True/true/g;\n\nmy $coder = JSON::XS-&gt;new;    \n# There are many options for how to set it up. Example:\n# JSON::XS-&gt;new-&gt;ascii-&gt;pretty-&gt;allow_nonref;    \n\nmy $data = $coder-&gt;decode($googleResult);  \n# Now this is a normal Perl data structure that we can work with. \n# Look at what's under 'album_hits' for example\nmy $ralbhits = $data-&gt;{'album_hits'};  \nprint Dumper($ralbhits);\n# We get: VAR1 = [ { 'album' =&gt; { albumID =&gt; ... } } ]\n# Array reference, with nested hash references as the sole element\n\n# Extract the 'artist'\nmy $artist = $ralbhits-&gt;[0]-&gt;{'album'}-&gt;{'artist'};\nprint \"$artist\\n\";\n</code></pre>\n\n<p>This prints <code>J. Cole</code> (after the dump which I omit here). You can for convenience first extract a part of the structure and then query it far more simply. For example</p>\n\n<pre><code># Get the hashref for album\nmy $ralbum = $ralbhits-&gt;[0]-&gt;{'album'};\nmy $artist = $ralbum-&gt;{'artist'};\n</code></pre>\n\n<p>Now once the data is unpacked you can retrieve what you need, based on what <code>artist_to_slim_artist()</code> needs and does. This is a normal data structure to work with.</p>\n\n<p>Modules for JSON parsing return Perl data structures, see <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.02/XS.pm#MAPPING\" rel=\"nofollow noreferrer\">Mapping in JSON::XS</a>.  Generally they will be nested, except in very simple cases. For how to work with them see <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>, a cookbook on complex data structures.</p>\n\n<hr>\n\n<p>The <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\"><code>JSON</code></a> object given in this example, while invalid, needed very little correction. However, it may get far more complicated. For example, there is a far larger document (~<code>100kB</code>) linked to in a comment, with these problems.</p>\n\n<ul>\n<li><p>Name-value pairs are enclosed in <code>'</code> instead of <code>\"</code> <em>and</em> the values themselves contain <code>'</code> (like <code>isn't</code> and other contractions), complicating the matching of <code>'</code> pairs.</p></li>\n<li><p>Invalid <code>u'</code> sequences at the beginning of names and values (<code>u</code> need be removed). This can be rolled together with the above, as they come together. There was also <code>u\"</code>.</p></li>\n<li><p>Text may contain all kinds of escapes, for example some encoding of accents, which are not valid JSON. (One in that document.) This can be found and fixed (escaped for example). </p></li>\n</ul>\n\n<p>It took a few minutes to come up with a few regex that corrected the document at the link, at close to 100kB in size, so that it parses cleanly with the above code. But the problem is that it is hard to tell what other trouble may be in the next document. Still, since this may be of interest here is the regex.</p>\n\n<p>Instead of being enclosed in a pair of <code>\"</code>, the names and values are in between <code>'</code>, and the leading one also has an extra char, <code>u'</code>. What makes it easier is that the closing <code>'</code> must be followed by either of <code>, : ] }</code> and I use positive lookahead to assert that.  Finally, there are some <code>u\"</code> opening quotes and <code>u</code> is removed, first.</p>\n\n<pre><code>$googleResult =~ s/False/false/g;\n$googleResult =~ s/True/true/g;\n$googleResult =~ s/u\"/\"/g;\n# There are also escaped characters in text, escape that backslash\n$googleResult =~ s|(\\\\)|$1$1|g;\n# Correct delimiters from u'...' to \"...\", see text below   \n$googleResult =~ s/u'(.*?)' (?= []:},] )/\"$1\"/gx;\n# We are good now, decode it\nmy $data = $coder-&gt;decode($googleResult); \nmy $alb = $data-&gt;[0]{track}{album};\nprint \"$alb\\n\";\n</code></pre>\n\n<p>This prints <code>These Things Happen</code> (correctly).  Above we capture between <code>u'</code> and the first <code>'</code> that is followed by either of  <code>]:,}</code> (for which a character class <code>[...]</code> is used). Then <code>u''</code> is replaced by <code>\"\"</code>.  After this <code>decode($googleResult);</code> works and we get the Perl data structure to query.</p>\n\n<p>There are various modules that allow a 'relaxed' approach and will accept many such irregularities. However, by using them we agree to use an invalid JSON, which is meant to be a simple and clear data format, and I wouldn't advise to go down that road. Note that the nearly full specification of the format fits nicely in one clear and genereously illustrated page at the above link. Also see <a href=\"http://json.org/example.html\" rel=\"nofollow noreferrer\"><code>JSON Example</code></a>, for a handful of examples.</p>\n\n<p>I think that the best bet is to try to clean it up. Run a decoder like in the code above and see the error message. It will pinpoint the problem exactly. Then add a regex to correct that particular violation of format. Then go again. If the various documents you may work with carry more or less the same set of problems (like the ones above for example) it may well work. Or it may turn out that it is too much trouble, if new violations keep coming up, in which case you may need a different approach.</p>\n\n<p>Finally, I don't know how you arrived at this format from the original Python-object problem. Could it be that the format got broken somewhere in translation? I don't see how that would be the case. Is it actually not meant to be JSON? However, it is  too close to it for that. </p>\n\n<p>Is it possible to ask for valid JSON to be provided?</p>\n"}, {"tags": [], "owner": {"reputation": 3037, "user_id": 224511, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a3c6ce6aad74e51bfaa87dc5ba3f1477?s=128&d=identicon&r=PG", "display_name": "askvictor", "link": "https://stackoverflow.com/users/224511/askvictor"}, "is_accepted": false, "score": 0, "last_activity_date": 1466569616, "creation_date": 1466569616, "answer_id": 37958546, "question_id": 37535999, "link": "https://stackoverflow.com/questions/37535999/how-would-i-read-this-data-structure-in-perl-dictionary-hash-with-keys-containi/37958546#37958546", "title": "How would I read this data structure in Perl? Dictionary/Hash with keys containing lists containing lists. Python::Inline giving me errors", "body": "<p>I've worked out a solution using a list comprehension like so:</p>\n\n<pre><code>use Inline::Python qw(py_eval);\n\nmy $song_hits = py_eval(\"[x for x in $googleResult-&gt;{song_hits}]\", 0);\nfor my $hit (@$song_hits) {\n    push @{$result-&gt;{tracks}}, to_slim_track($hit-&gt;{track});\n}\n</code></pre>\n\n<p>The commit is at:\n<a href=\"https://github.com/squeezebox-googlemusic/squeezebox-googlemusic/commit/e6fa62d9da3bc7295023283ef5d25698737e5772\" rel=\"nofollow\">https://github.com/squeezebox-googlemusic/squeezebox-googlemusic/commit/e6fa62d9da3bc7295023283ef5d25698737e5772</a></p>\n"}], "owner": {"reputation": 856, "user_id": 1155131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5b90b59acf781a17e6fd5aaa2acf4742?s=128&d=identicon&r=PG", "display_name": "CREW", "link": "https://stackoverflow.com/users/1155131/crew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 1, "accepted_answer_id": 37537992, "answer_count": 3, "score": 2, "last_activity_date": 1553156148, "creation_date": 1464662301, "last_edit_date": 1464680298, "question_id": 37535999, "link": "https://stackoverflow.com/questions/37535999/how-would-i-read-this-data-structure-in-perl-dictionary-hash-with-keys-containi", "title": "How would I read this data structure in Perl? Dictionary/Hash with keys containing lists containing lists. Python::Inline giving me errors", "body": "<p>I've been struggling for about 3 weeks on this simple issue. I can't understand why and I would give anything to solve it lol.</p>\n\n<p>I am trying to read values from the data structure below. The docs say it's a dictionary with keys containing lists of results of that type.</p>\n\n<p>Example: I get the master query reply using an eval function. I lookup the key \"song_hits\" to get that structure. Then I lookup the key 'track' and parse it. The problem is getting to the 'track' part.</p>\n\n<p>When I do it from how Perl docs tell me to, I get Can't locate object method \"FIRSTKEY\" via package \"Inline::Python::Object::Data\". </p>\n\n<p>So I'm wondering if there's a way to read the value using the eval function to bypass ObjectData's hash key limitation, another way to read it given I know exact keys, or if I'm just doing this entirely wrong.</p>\n\n<pre><code>{\n'album_hits': [\n{\n    'album':\n    {\n        'albumArtRef': 'http://lh5.ggpht.com/DVIg4GiD6msHfgPs_Vu_2eRxCyAoz0fF...',\n        'albumArtist': 'J.Cole',\n        'albumId': 'Bfp2tuhynyqppnp6zennhmf6w3y',\n        'artist': 'J.Cole',\n        'artistId': ['Ajgnxme45wcqqv44vykrleifpji'],\n        'description_attribution':\n        {\n            'kind': 'sj#attribution',\n            'license_title': 'Creative Commons Attribution CC-BY',\n            'license_url': 'http://creativecommons.org/licenses/by/4.0/legalcode',\n            'source_title': 'Freebase',\n            'source_url': ''\n        },\n        'explicitType': '1',\n        'kind': 'sj#album',\n        'name': 'Work Out',\n        'year': 2011\n    },\n    'type': '3'\n}],\n'artist_hits': [\n{\n    'artist':\n    {\n        'artistArtRef': 'http://lh3.googleusercontent.com/MJe-cDw9uQ-pUagoLlm...',\n        'artistArtRefs': [\n        {\n            'aspectRatio': '2',\n            'autogen': False,\n            'kind': 'sj#imageRef',\n            'url': 'http://lh3.googleusercontent.com/MJe-cDw9uQ-pUagoLlmKX3x_K...'\n        }],\n        'artistId': 'Ajgnxme45wcqqv44vykrleifpji',\n        'artist_bio_attribution':\n        {\n            'kind': 'sj#attribution',\n            'source_title': 'David Jeffries, Rovi'\n        },\n        'kind': 'sj#artist',\n        'name': 'J. Cole'\n    },\n    'type': '2'\n}],\n'playlist_hits': [\n{\n    'playlist':\n    {\n        'albumArtRef': [\n        {\n            'url': 'http://lh3.googleusercontent.com/KJsAhrg8Jk_5A4xYLA68LFC...'\n        }],\n        'description': 'Workout Plan ',\n        'kind': 'sj#playlist',\n        'name': 'Workout',\n        'ownerName': 'Ida Sarver',\n        'shareToken': 'AMaBXyktyF6Yy_G-8wQy8Rru0tkueIbIFblt2h0BpkvTzHDz-fFj6P...',\n        'type': 'SHARED'\n    },\n    'type': '4'\n}],\n'situation_hits': [\n{\n    'situation':\n    {\n        'description': 'Level up and enter beast mode with some loud, aggressive music.',\n        'id': 'Nrklpcyfewwrmodvtds5qlfp5ve',\n        'imageUrl': 'http://lh3.googleusercontent.com/Cd8WRMaG_pDwjTC_dSPIIuf...',\n        'title': 'Entering Beast Mode',\n        'wideImageUrl': 'http://lh3.googleusercontent.com/8A9S-nTb5pfJLcpS8P...'\n    },\n    'type': '7'\n}],\n'song_hits': [\n{\n    'track':\n    {\n        'album': 'Work Out',\n        'albumArtRef': [\n        {\n            'aspectRatio': '1',\n            'autogen': False,\n            'kind': 'sj#imageRef',\n            'url': 'http://lh5.ggpht.com/DVIg4GiD6msHfgPs_Vu_2eRxCyAoz0fFdxj5w...'\n        }],\n        'albumArtist': 'J.Cole',\n        'albumAvailableForPurchase': True,\n        'albumId': 'Bfp2tuhynyqppnp6zennhmf6w3y',\n        'artist': 'J Cole',\n        'artistId': ['Ajgnxme45wcqqv44vykrleifpji', 'Ampniqsqcwxk7btbgh5ycujij5i'],\n        'composer': '',\n        'discNumber': 1,\n        'durationMillis': '234000',\n        'estimatedSize': '9368582',\n        'explicitType': '1',\n        'genre': 'Pop',\n        'kind': 'sj#track',\n        'nid': 'Tq3nsmzeumhilpegkimjcnbr6aq',\n        'primaryVideo':\n        {\n            'id': '6PN78PS_QsM',\n            'kind': 'sj#video',\n            'thumbnails': [\n            {\n                'height': 180,\n                'url': 'https://i.ytimg.com/vi/6PN78PS_QsM/mqdefault.jpg',\n                'width': 320\n            }]\n        },\n        'storeId': 'Tq3nsmzeumhilpegkimjcnbr6aq',\n        'title': 'Work Out',\n        'trackAvailableForPurchase': True,\n        'trackAvailableForSubscription': True,\n        'trackNumber': 1,\n        'trackType': '7',\n        'year': 2011\n    },\n    'type': '1'\n}],\n'station_hits': [\n{\n    'station':\n    {\n        'compositeArtRefs': [\n        {\n            'aspectRatio': '1',\n            'kind': 'sj#imageRef',\n            'url': 'http://lh3.googleusercontent.com/3aD9mFppy6PwjADnjwv_w...'\n        }],\n        'contentTypes': ['1'],\n        'description': 'These riff-tastic metal tracks are perfect for getting the blood pumping.',\n        'imageUrls': [\n        {\n            'aspectRatio': '1',\n            'autogen': False,\n            'kind': 'sj#imageRef',\n            'url': 'http://lh5.ggpht.com/YNGkFdrtk43e8H941fuAHjflrNZ1CJUeqdoys...'\n        }],\n        'kind': 'sj#radioStation',\n        'name': 'Heavy Metal Workout',\n        'seed':\n        {\n            'curatedStationId': 'Lcwg73w3bd64hsrgarnorif52r',\n            'kind': 'sj#radioSeed',\n            'seedType': '9'\n        },\n        'skipEventHistory': [],\n        'stationSeeds': [\n        {\n            'curatedStationId': 'Lcwg73w3bd64hsrgarnorif52r',\n            'kind': 'sj#radioSeed',\n            'seedType': '9'\n        }]\n    },\n    'type': '6'\n}],\n'video_hits': [\n{\n    'score': 629.6226806640625,\n    'type': '8',\n    'youtube_video':\n    {\n        'id': '6PN78PS_QsM',\n        'kind': 'sj#video',\n        'thumbnails': [\n        {\n            'height': 180,\n            'url': 'https://i.ytimg.com/vi/6PN78PS_QsM/mqdefault.jpg',\n            'width': 320\n        }],\n        'title': 'J. Cole - Work Out'\n    }\n}]\n</code></pre>\n\n<p>}</p>\n\n<p>Cleaned, but broken code with 3 weeks of different attempts: (I have tried for, foreach, while, but the furthest it would read would be either the entire unicode array, error, or an empty string)</p>\n\n<pre><code>sub search {\n    my $query = shift;\n\n    my $uri = 'googlemusic:search:' . $query;\n\n    if (my $result = $cache-&gt;get($uri)) {\n        return $result;\n    }\n\n    my $googleResult;\n    my $result = {\n        tracks =&gt; [],\n        albums =&gt; [],\n        artists =&gt; [],\n    };        \n\n    eval {\n        $googleResult = $googleapi-&gt;search($query, $prefs-&gt;get('max_search_items'));\n    };\n    if ($@) {\n        $log-&gt;error(\"Not able to search All Access for \\\"$query\\\": $@\");\n        return;\n    }\n    #gives not an ARRAY refernce error\n    for my $hit (@{$googleResult-&gt;{song_hits}}) {\n        push @{$result-&gt;{tracks}}, to_slim_track($hit-&gt;{track});\n    }\n    #works, but gives an error on the next line, 'newlist' object has no attribute 'album' \n    for my $hit ({$googleResult-&gt;{album_hits}}) {\n        push @{$result-&gt;{albums}}, album_to_slim_album($hit-&gt;{album});\n    }\n    #Perl and others recommended way, but gives  Can't locate object method \"FIRSTKEY\" via package \"Inline::Python::Object::Data\"\n    for my $hit (%{$googleResult-&gt;{artist_hits}}) {\n        push @{$result-&gt;{artists}}, artist_to_slim_artist($hit-&gt;{artist});\n    }\n\n    # Add to the cache\n    $cache-&gt;set($uri, $result, $CACHE_TIME);\n\n    return $result;\n}\n</code></pre>\n\n<p>I have tried reading up, but have gotten so many errors including:</p>\n\n<ul>\n<li>'key' does not exist </li>\n<li>Can't use string (\"track\") as a HASH ref while strict refs in use</li>\n<li>Type of argument to keys on reference must be unblessed hashref or arrayref</li>\n</ul>\n\n<p>My Full Test File: <a href=\"http://pastebin.com/DMnDc56i\" rel=\"nofollow\">http://pastebin.com/DMnDc56i</a>\nGoogleApi PM (Python GAPI Hook): <a href=\"https://raw.githubusercontent.com/hechtus/squeezebox-googlemusic/master/GoogleMusic/GoogleAPI.pm\" rel=\"nofollow\">https://raw.githubusercontent.com/hechtus/squeezebox-googlemusic/master/GoogleMusic/GoogleAPI.pm</a></p>\n\n<p>Edit: Info, There were a couple of people who wanted unmaintained old code fixed, so I offered to help and got everything working besides this part.</p>\n\n<p>Old Code Git: <a href=\"https://github.com/hechtus/squeezebox-googlemusic\" rel=\"nofollow\">https://github.com/hechtus/squeezebox-googlemusic</a></p>\n\n<p>Google Api Python I use: <a href=\"https://github.com/simon-weber/gmusicapi\" rel=\"nofollow\">https://github.com/simon-weber/gmusicapi</a></p>\n"}, {"tags": ["bash", "perl", "escaping"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 2, "creation_date": 1464662355, "post_id": 37535884, "comment_id": 62562051, "body": "Escape the slashes \\"}, {"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1464663721, "post_id": 37535884, "comment_id": 62562349, "body": "@mkHun Not all of them right -- it currently looks like: <code>system(&quot;sed -i &#39;\\$!N; &#47;^\\\\(.*\\\\)\\\\n\\\\1\\$&#47;!p; d&#39; *[13579].csv&quot;)</code>. Does this look right?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 3, "creation_date": 1464664066, "post_id": 37535884, "comment_id": 62562424, "body": "If you need to escape things, you&#39;re doing it wrong: If you start a program (<code>sed</code>, in this case) by directly <code>exec</code>&#39;ing an argv array, there is no shell, so nothing needs to be shell-escaped. Yes, that means you don&#39;t get globbing, but perl can do globbing itself."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1464684747, "post_id": 37535884, "comment_id": 62571343, "body": "I wouldn&#39;t call <code>sed</code> from <code>perl</code>, because <code>perl</code> can do everything <code>sed</code> can without a call out."}, {"owner": {"reputation": 17600, "user_id": 793796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mk3lA.jpg?s=128&g=1", "display_name": "anishsane", "link": "https://stackoverflow.com/users/793796/anishsane"}, "edited": false, "score": 0, "creation_date": 1464685125, "post_id": 37535884, "comment_id": 62571574, "body": "Not related to this issue, but you can use <code>uniq</code> instead of <code>sed</code> based approach here."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "edited": false, "score": 0, "creation_date": 1464664687, "post_id": 37536194, "comment_id": 62562551, "body": "Thanks so much! Very informative and helpful. I&#39;ll keep this in mind moving forward."}], "tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": true, "score": 1, "last_activity_date": 1464668282, "last_edit_date": 1464668282, "creation_date": 1464663848, "answer_id": 37536194, "question_id": 37535884, "link": "https://stackoverflow.com/questions/37535884/escaping-in-bash-within-perl/37536194#37536194", "title": "Escaping in bash within perl", "body": "<p>When putting sed in Perl it can be fussy, there's a couple things you could do. The first would be to change the type of quotes you wrap around the command system is running and the sed pattern (flip outer to single, inner to double); the other option would be to escape the <code>\\</code> characters in sed. </p>\n\n<pre><code>system('sed -i \"$!N;/^\\(.*\\)\\n\\1$/!p;d\" *filename');\n</code></pre>\n\n<p>Note: since your filename uses a special characters there might be escaping needed for that to work with globbing (eg. <code>*\\\\[13579].csv</code>); escaping would be something like this:</p>\n\n<pre><code>system(\"sed -i '$!N;/^\\\\(.*\\\\)\\\\n\\\\1\\$/!p;d' *\\\\[13579].csv\");\n</code></pre>\n\n<p>If your file name happens to include spaces then those would need escaping as well.</p>\n\n<pre><code>system(\"sed -i '$!N;/^\\\\(.*\\\\)\\\\n\\\\1\\$/!p;d' *\\\\[12345]\\\\ \\\\[13579].csv\");\n</code></pre>\n\n<p><code>sed</code> would then find any files matching <code>*[12345] [13579].csv</code> and in-place edit them.</p>\n"}], "owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 37536194, "answer_count": 1, "score": 1, "last_activity_date": 1464668282, "creation_date": 1464661419, "question_id": 37535884, "link": "https://stackoverflow.com/questions/37535884/escaping-in-bash-within-perl", "title": "Escaping in bash within perl", "body": "<p>I'm running something in perl and have the following command, which deletes consecutive duplicate lines (only keeping one of them) </p>\n\n<p><code>system(\"sed -i '$!N; /^\\(.*\\)\\n\\1$/!p; d' *[13579].csv\");</code></p>\n\n<p>However, when I run this, I get the following error: </p>\n\n<p><code>sed: -e expression #1, char 11: unterminated address regex</code> </p>\n\n<p>I have a feeling it has to do with my escaping, but I'm not too certain as I am rather inexperienced with perl and bash. I know the dollar signs should be escaped, but what about the backslashes? Does anyone have a good resource they can point me to to learn more about escaping bash within perl? Thanks!</p>\n"}, {"tags": ["perl", "xpath", "mechanize", "html-treebuilder"], "answers": [{"comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1464662328, "post_id": 37535818, "comment_id": 62562041, "body": "The original HTML source does include the end tag."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1464660756, "creation_date": 1464660756, "answer_id": 37535818, "question_id": 37535766, "link": "https://stackoverflow.com/questions/37535766/htmltreebuilderxpath-missing-last-tag-in-result/37535818#37535818", "title": "HTML::TreeBuilder::XPath missing last tag in result", "body": "<p>In HTML, the end tag is optional for <a href=\"https://www.w3.org/TR/html4/struct/text.html#h-9.3.1\" rel=\"nofollow\">P elements</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 2, "last_activity_date": 1464814763, "last_edit_date": 1592644375, "creation_date": 1464814763, "answer_id": 37578678, "question_id": 37535766, "link": "https://stackoverflow.com/questions/37535766/htmltreebuilderxpath-missing-last-tag-in-result/37578678#37578678", "title": "HTML::TreeBuilder::XPath missing last tag in result", "body": "<p>By default, the <a href=\"https://metacpan.org/pod/HTML::Element#as_HTML\" rel=\"nofollow noreferrer\"><code>as_HTML</code></a> method omits certain optional end tags:</p>\n<blockquote>\n<p><strong>as_HTML</strong></p>\n<pre><code>$s = $h-&gt;as_HTML();\n$s = $h-&gt;as_HTML($entities);\n$s = $h-&gt;as_HTML($entities, $indent_char);\n$s = $h-&gt;as_HTML($entities, $indent_char, \\%optional_end_tags);\n</code></pre>\n<p>[ ... ]</p>\n<p>If <code>\\%optional_end_tags</code> is specified and defined, it should be a reference to a hash that holds a true value for every tag name whose end tag is optional. Defaults to <code>\\%HTML::Element::optionalEndTag</code>, which is an alias to <code>%HTML::Tagset::optionalEndTag</code>, which, at time of writing, contains true values for <code>p, li, dt, dd</code>. A useful value to pass is an empty hashref, <code>{}</code>, which means that no end-tags are optional for this dump.</p>\n</blockquote>\n<p>For example:</p>\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse HTML::TreeBuilder::XPath;\n\nmy $tree = HTML::TreeBuilder::XPath-&gt;new_from_content('&lt;p&gt;foo&lt;/p&gt;');\nmy @nodes = $tree-&gt;findnodes('//p');\n\nsay $nodes[0]-&gt;as_HTML(undef, undef, {});\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;p&gt;foo&lt;/p&gt;\n</code></pre>\n<p>Note that you should always <code>use strict;</code> and <code>use warnings 'all';</code>.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464814811, "creation_date": 1464660331, "last_edit_date": 1464660542, "question_id": 37535766, "link": "https://stackoverflow.com/questions/37535766/htmltreebuilderxpath-missing-last-tag-in-result", "title": "HTML::TreeBuilder::XPath missing last tag in result", "body": "<pre><code>use WWW::Mechanize;\nuse HTML::TreeBuilder::XPath;\nmy $mech = new WWW::Mechanize;\nmy $tree = new HTML::TreeBuilder::XPath;\nmy $url = \"http://www.elaws.gov.bw/wondersbtree.php\";\n$mech-&gt;get($url);\n$tree-&gt;parse($mech-&gt;content());\n@nodes = $tree-&gt;findnodes(\"//p[font = 'PRINCIPAL LEGISLATION']\");\nprint @nodes[0]-&gt;as_HTML;\n</code></pre>\n\n<p>The above code prints out the HTML element searched for, but it is missing the final <code>&lt;/p&gt;</code> tag.  Why?  Is this intentional or is it a bug in the module?</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1464632744, "creation_date": 1464632744, "answer_id": 37531735, "question_id": 37531667, "link": "https://stackoverflow.com/questions/37531667/export-hash-from-module/37531735#37531735", "title": "Export HASH from module", "body": "<p>Exporting variables is a bad practice. You can always export a sub that returns the content of the variable, though:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\n{   package HashExport;\n    my %hash = ( key =&gt; 'value' );\n\n    sub get_hash {\n        return %hash\n    }\n}\n\nuse Data::Dumper;\nmy %imported = HashExport::get_hash();\nprint Dumper \\%imported;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5489893, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/275adc5dc70b64aa244847c670734f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Riaan Badenhorst", "link": "https://stackoverflow.com/users/5489893/riaan-badenhorst"}, "edited": false, "score": 0, "creation_date": 1464635177, "post_id": 37531892, "comment_id": 62554878, "body": "Thanks a lot. I had to add a my @processors outside the for loop. Works well! Still trying to wrap my head around this concept of % to @ to $"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51, "user_id": 5489893, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/275adc5dc70b64aa244847c670734f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Riaan Badenhorst", "link": "https://stackoverflow.com/users/5489893/riaan-badenhorst"}, "edited": false, "score": 0, "creation_date": 1464635629, "post_id": 37531892, "comment_id": 62555051, "body": "hum... <code>my @processors</code> should not appear in the first version, and it already appears in the second version."}, {"owner": {"reputation": 51, "user_id": 5489893, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/275adc5dc70b64aa244847c670734f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Riaan Badenhorst", "link": "https://stackoverflow.com/users/5489893/riaan-badenhorst"}, "edited": false, "score": 0, "creation_date": 1464679485, "post_id": 37531892, "comment_id": 62568183, "body": "Sorry meant, my $processor"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 51, "user_id": 5489893, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/275adc5dc70b64aa244847c670734f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Riaan Badenhorst", "link": "https://stackoverflow.com/users/5489893/riaan-badenhorst"}, "edited": false, "score": 0, "creation_date": 1464700841, "post_id": 37531892, "comment_id": 62582431, "body": "But that&#39;s not true. There&#39;s a bug if you need <code>$processor</code> (singular) outside the loop"}, {"owner": {"reputation": 51, "user_id": 5489893, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/275adc5dc70b64aa244847c670734f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Riaan Badenhorst", "link": "https://stackoverflow.com/users/5489893/riaan-badenhorst"}, "edited": false, "score": 0, "creation_date": 1464757144, "post_id": 37531892, "comment_id": 62607829, "body": "Disregard that, I was being daft. Thanks for the help!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1464633454, "creation_date": 1464633454, "answer_id": 37531892, "question_id": 37531667, "link": "https://stackoverflow.com/questions/37531667/export-hash-from-module/37531892#37531892", "title": "Export HASH from module", "body": "<p>Return a reference to it.</p>\n\n<p>The module:</p>\n\n<pre><code>package My::Module;\n\nuse strict;\nuse warnings;\n\nuse Exporter          qw( import );\nuse Win32::SystemInfo qw( );\n\nour @EXPORT_OK = qw( get_processors );\n\nsub get_processors {\n    my %processors;\n    Win32::SystemInfo::ProcessorInfo(%processors);\n    return \\%processors;\n}\n\n1;\n</code></pre>\n\n<p>The caller:</p>\n\n<pre><code>use My::Module qw( get_processors );\n\nmy $processors = get_processors();\n\nfor my $i (0 .. $processors-&gt;{NumProcessors}-1)\n    my $processor = $processors-&gt;{\"Processor$i\"};\n\n    print \"Processor $i\\n\";\n    print \"Processor Name:  $processor-&gt;{ProcessorName}\\n\";\n    print \"Processor Info:  $processor-&gt;{Identifier}\\n\";\n    print \"Processor Speed: $processor-&gt;{MHZ} MHz\\n\"; \n    print \"\\n\";\n}\n</code></pre>\n\n<hr>\n\n<p>The above already \"fixes\" some of <code>Win32::SystemInfo::ProcessorInfo</code>'s weird interfaces. The following fixes it further:</p>\n\n<p>The module:</p>\n\n<pre><code>package My::Module;\n\nuse strict;\nuse warnings;\n\nuse Exporter          qw( import );\nuse Win32::SystemInfo qw( );\n\nour @EXPORT_OK = qw( get_processors );\n\nsub get_processors {\n    my %processors;\n    Win32::SystemInfo::ProcessorInfo(%processors);\n    return\n        map { $processors{\"Processor$_\"} }\n            0 .. $processors{NumProcessors}-1;\n}\n\n1;\n</code></pre>\n\n<p>The caller:</p>\n\n<pre><code>use My::Module qw( get_processors );\n\nmy @processors = get_processors();\n\nfor my $i (0..$#processors)\n    my $processor = $processors[$i];\n\n    print \"Processor $i\\n\";\n    print \"Processor Name:  $processor-&gt;{ProcessorName}\\n\";\n    print \"Processor Info:  $processor-&gt;{Identifier}\\n\";\n    print \"Processor Speed: $processor-&gt;{MHZ} MHz\\n\"; \n    print \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1464636767, "creation_date": 1464636767, "answer_id": 37532574, "question_id": 37531667, "link": "https://stackoverflow.com/questions/37531667/export-hash-from-module/37532574#37532574", "title": "Export HASH from module", "body": "<p>It depends what you're trying to do</p>\n\n<p>You can use <code>Exporter</code> to export any package identifier. It just happens to be named subroutines that don't need a leading sigil and are always package identifiers</p>\n\n<p>I can create a globally-accessible hash like this</p>\n\n<h3>MyStuff.pm</h3>\n\n<pre><code>package MyStuff;\n\nuse strict;\nuse warnings 'all';\n\nuse Exporter 'import';\n\nour @EXPORT_OK = qw/ %Data /;\n\nour %Data = (\n    a =&gt; 1,\n    b =&gt; 2,\n    c =&gt; 3,\n);\n\n1;\n</code></pre>\n\n<p>And import and use it like this</p>\n\n<h3>main.pl</h3>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse MyStuff '%Data';\n\nuse Data::Dump;\n\ndd \\%Data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{ a =&gt; 1, b =&gt; 2, c =&gt; 3 }\n</code></pre>\n\n<p>However <em>any</em> sort of global mutable value lays you open to all sorts of <em>action at a distance</em> bugs. The alternative of writing a global subroutine that returns a reference to a value is really no better at all</p>\n"}], "owner": {"reputation": 51, "user_id": 5489893, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/275adc5dc70b64aa244847c670734f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Riaan Badenhorst", "link": "https://stackoverflow.com/users/5489893/riaan-badenhorst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 0, "accepted_answer_id": 37531892, "answer_count": 3, "score": 0, "last_activity_date": 1464636767, "creation_date": 1464632448, "last_edit_date": 1495541754, "question_id": 37531667, "link": "https://stackoverflow.com/questions/37531667/export-hash-from-module", "title": "Export HASH from module", "body": "<p>Can some explain how to pass a HASH from a module to main. I've read posts like <a href=\"https://stackoverflow.com/questions/4543934/how-to-share-export-a-global-variable-between-two-different-perl-scripts\">How to share/export a global variable between two different perl scripts?</a> and understand the basic concept behind it but this is a little different and I can't find any examples.</p>\n\n<p>This module works if called from main, but how do I just pass the hash to main so that I can print in there, instead of printing it from the module. Or so I can write the key values to file or something.</p>\n\n<pre><code>package My::Module;\nuse strict;\nuse warnings;\n\nuse Exporter;\nour @ISA = 'Exporter';\nour @EXPORT = qw(get_proc_info);\n\nsub get_proc_info\n    {\n\n        my %processor;\n        Win32::SystemInfo::ProcessorInfo(%processor);\n                for (my $i=0;$i&lt;$processor{NumProcessors};$i++)\n                {\n                    print \"Processor $i\\n\";\n                    print \"Processor Name: \" . $processor{\"Processor$i\"}{ProcessorName} . \"\\n\";\n                    print \"Processor Info: \" . $processor{\"Processor$i\"}{Identifier} . \"\\n\";\n                    print \"Processor Speed: \" . $processor{\"Processor$i\"}{MHZ} . \"MHz\\n\\n\"; \n                }  \n\n    }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 1, "creation_date": 1464625827, "post_id": 37529568, "comment_id": 62551015, "body": "seems to be working fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464627997, "post_id": 37529568, "comment_id": 62551911, "body": "If there&#39;s a file in the current directory which has a name that contains <code>2016_05May_30Mo</code>, the code you posted will print its name as desired."}, {"owner": {"reputation": 31, "user_id": 6401028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab80aaff99e91ee3420ba1d74f3fa10a?s=128&d=identicon&r=PG&f=1", "display_name": "cannonfodder", "link": "https://stackoverflow.com/users/6401028/cannonfodder"}, "edited": false, "score": 0, "creation_date": 1464630709, "post_id": 37529568, "comment_id": 62552986, "body": "any idea why it would work for you two and not me?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464632498, "post_id": 37529568, "comment_id": 62553733, "body": "The two most likely possibilities: 1) Because there&#39;s no file in the current directory with a name containing <code>2016_05May_30Mo</code>. 2) Because you posted code is different than what you ran."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464695759, "post_id": 37529568, "comment_id": 62578682, "body": "If neither your own code nor either of the offered solutions are working for you then there is something else at play here. Please show how you&#39;re running your program and exactly what output you&#39;re getting"}, {"owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "edited": false, "score": 0, "creation_date": 1464956570, "post_id": 37529568, "comment_id": 62711191, "body": "@cannonfodder If you found an answer provided here helpful, please upvote and/or mark as accepted, so that other users with a similar question can benefit."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464627771, "post_id": 37529699, "comment_id": 62551817, "body": "1) Don&#39;t you mean <code>&#47;\\Q${customDate}\\E\\.txt\\z&#47;</code> or <code>&#47;^\\Q${customDate}\\E\\.txt\\z&#47;</code>? 2) I don&#39;t see how that addresses the problem at all. The OP is complaining that he&#39;s not getting enough matches, and what you posted further limits what gets matched."}, {"owner": {"reputation": 31, "user_id": 6401028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab80aaff99e91ee3420ba1d74f3fa10a?s=128&d=identicon&r=PG&f=1", "display_name": "cannonfodder", "link": "https://stackoverflow.com/users/6401028/cannonfodder"}, "edited": false, "score": 0, "creation_date": 1464628180, "post_id": 37529699, "comment_id": 62551993, "body": "@ Wayne Booth: File names contain the custom date format and end in &quot;.txt&quot; but may also have text in between the date in the extension: <code>2016_05may_22.txt</code> or <code>2016_05may_30mon__payroll.txt</code>.  I tried what you suggest and it does not work either."}, {"owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "reply_to_user": {"reputation": 31, "user_id": 6401028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab80aaff99e91ee3420ba1d74f3fa10a?s=128&d=identicon&r=PG&f=1", "display_name": "cannonfodder", "link": "https://stackoverflow.com/users/6401028/cannonfodder"}, "edited": false, "score": 1, "creation_date": 1464635403, "post_id": 37529699, "comment_id": 62554974, "body": "@cannonfodder \t I missed that requirement in your question. If you need something after the timestamp we need a different grep expression. Updating my answer to match"}], "tags": [], "owner": {"reputation": 405, "user_id": 6336615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-54JWXHU1LhI/AAAAAAAAAAI/AAAAAAAABKc/N9fUA8Ue7e4/photo.jpg?sz=128", "display_name": "Wayne Booth", "link": "https://stackoverflow.com/users/6336615/wayne-booth"}, "is_accepted": false, "score": -1, "last_activity_date": 1464632983, "last_edit_date": 1464632983, "creation_date": 1464623720, "answer_id": 37529699, "question_id": 37529568, "link": "https://stackoverflow.com/questions/37529568/how-do-you-check-for-the-existence-of-file-names-with-a-specific-string-in-perl/37529699#37529699", "title": "How do you check for the existence of file names with a specific string in Perl", "body": "<p>The reason you're not getting what you expect is the <code>*</code> in the grep is looking for the last character of the \"$customDate\" repeated as many times as it likes (which is not what you expect from the <code>*</code> in this case).</p>\n\n<p>If your file has a \"somedata.txt\" ext, you should update the code as such, which will look for your date string then any number of characters followed by a txt:</p>\n\n<pre><code>$customDate = strftime \"%Y_%m%b_%d%a\", localtime;\n\nopendir(DIR, \".\") or die \"$!\";\nmy @FILES  = grep { /${customDate}.*\\.txt/ } readdir(DIR);\nclosedir(DIR);\n\nprint \"$_\\n\" for @FILES;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 6401028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab80aaff99e91ee3420ba1d74f3fa10a?s=128&d=identicon&r=PG&f=1", "display_name": "cannonfodder", "link": "https://stackoverflow.com/users/6401028/cannonfodder"}, "edited": false, "score": 0, "creation_date": 1464689653, "post_id": 37532225, "comment_id": 62574643, "body": "your answer exemplifies why I abhor turning to forums for help... its pedantic tone is self-serving but ultimately, of little use to the original poster thank you very much... btw, while you kinda sorta understand what it is my first stab at perl is meant to do (after having focused WAY too much on the evil&#39;s of wanting to write a perl script that does the same thing I already have a bash script for) your answer does not work... or its beyond my skill level... either way, life is too short to waste any more time on this..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 31, "user_id": 6401028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab80aaff99e91ee3420ba1d74f3fa10a?s=128&d=identicon&r=PG&f=1", "display_name": "cannonfodder", "link": "https://stackoverflow.com/users/6401028/cannonfodder"}, "edited": false, "score": 1, "creation_date": 1464695387, "post_id": 37532225, "comment_id": 62578421, "body": "@cannonfodder: I&#39;m sorry you feel that way. Your sentence <i>&quot;I am rewriting a Bash script in Perl in order to learn the latter.&quot;</i> stands alone at the top of your post. I assumed that it was the main drive of your question so I addressed it with that in mind. I stand by my statement that rewriting programs from a different language is a bad way to learn a new language., although I think you can learn a <i>lot</i> by writing some simple command-line utilities, such as <code>ls</code> and <code>grep</code> without reference to the original C. And my code works fine for me: you need to run it as <code>perl program.pl</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 31, "user_id": 6401028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab80aaff99e91ee3420ba1d74f3fa10a?s=128&d=identicon&r=PG&f=1", "display_name": "cannonfodder", "link": "https://stackoverflow.com/users/6401028/cannonfodder"}, "edited": false, "score": 0, "creation_date": 1464699207, "post_id": 37532225, "comment_id": 62581116, "body": "@cannonfodder I think maybe you are too negative in your first comment.. In my opinion this answer is fairly well-written and may become a source of useful information for users of this forum in the future (note that answers are written for a general audience, so no need to take anything personal)."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1464695412, "last_edit_date": 1464695412, "creation_date": 1464635078, "answer_id": 37532225, "question_id": 37529568, "link": "https://stackoverflow.com/questions/37529568/how-do-you-check-for-the-existence-of-file-names-with-a-specific-string-in-perl/37532225#37532225", "title": "How do you check for the existence of file names with a specific string in Perl", "body": "<blockquote>\n  <p>\"I am rewriting a Bash script in Perl in order to learn the latter.\"</p>\n</blockquote>\n\n<p>I think you're taking the wrong approach to learning Perl, or to learning any language.</p>\n\n<p>While there are always a lot of similarities between procedural languages, it is always wrong to focus on those above the differences. Programming languages must be learned from scratch if you hope ever to be able to read and write them well</p>\n\n<p>I regularly see Perl code on Stack Overflow that has clearly been written by someone with the wrong head on. For instance, the clearest signs of a C programmer are</p>\n\n<ul>\n<li><p>Declaring <em>everything</em> in one block at the top of a source file</p></li>\n<li><p>Over-use of <code>scalar</code> and parentheses</p></li>\n<li><p>Under-use of the <em>default variable</em> <code>$_</code> and regular expressions</p></li>\n<li><p>Using the C-style <code>for</code> loop, which usually looks something like this in Perl</p>\n\n<pre><code>my $i;\n\nfor ($i=0; $i&lt;=scalar(@data); $i++)\n{\n    process($data[$i])\n}\n</code></pre>\n\n<p>Apart from ignoring <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow\"><code>perlstyle</code></a> completely, the author is grasping for something familiar instead of embracing the new language. In idiomatic Perl that should look like</p>\n\n<pre><code>process($_) for @data\n</code></pre></li>\n</ul>\n\n<p>Reaching further, it is easy to become complacent about the consequences of phrases you may be writing glibly in the shell</p>\n\n<p>You need to be aware that your shell statement</p>\n\n<pre><code>ls |grep $customDate\n</code></pre>\n\n<p>is starting new processes to run <code>/bin/ls</code> and <code>/bin/grep</code>, and piping information between them and back to the shell process. The Linux shell and its supporting utilities are designed to get trivial jobs done easily, but I believe they are being used too much with elaborate shell script <em>one-liners</em> that are opaque and beyond debugging</p>\n\n<p><br/></p>\n\n<hr>\n\n<p>It's very hard to tell exactly what it is that you need your program to do, but it's looking like you want to discover whether there are any files that contain a string like <code>2016_05May_30Mon</code> in the current directory</p>\n\n<p>I have to say that's a horrible date-time format and I've struggling to believe that it's what you want, but I would prefer Perl's core <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> module over <a href=\"https://metacpan.org/pod/POSIX\" rel=\"nofollow\"><code>POSIX</code></a> any time</p>\n\n<p>In this instance I would also make use od Perl's regular expressions, the <code>-X</code> *file test operators, and Perl's <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a> operator instead of <code>opendir</code>, <code>readdir</code>, <code>closedir</code>. None of those have a direct equivalent in any shell language</p>\n\n<p>So, assuming that my guesses about your intention are correct, I would write this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Time::Piece;\n\nmy $dtime = localtime()-&gt;strftime('%Y_%m%b_%d%a');\n\nsay for grep { -f and /$dtime/ } glob '*.txt';\n</code></pre>\n\n<p>which isn't remotely like your translation from shell to Perl</p>\n"}], "owner": {"reputation": 31, "user_id": 6401028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab80aaff99e91ee3420ba1d74f3fa10a?s=128&d=identicon&r=PG&f=1", "display_name": "cannonfodder", "link": "https://stackoverflow.com/users/6401028/cannonfodder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1464958483, "creation_date": 1464623279, "last_edit_date": 1464627518, "question_id": 37529568, "link": "https://stackoverflow.com/questions/37529568/how-do-you-check-for-the-existence-of-file-names-with-a-specific-string-in-perl", "title": "How do you check for the existence of file names with a specific string in Perl", "body": "<p>I am rewriting a Bash script in Perl in order to learn the latter.</p>\n\n<p>The script creates a file using the current date in a custom format and a \".txt\" extension but checks first to make sure no file with the date in question already exists.</p>\n\n<p>In Bash, I accomplish this with <code>ls |grep $customDate</code> as a condition. That is, if <code>ls |grep $customDate</code> is true, a warning is issued and no file is create while if <code>ls |grep $customDate</code> is false, the file gets created with the custom date plus a \".txt\" extension</p>\n\n<p>How can I mimic this in Perl?</p>\n\n<p>For testing purposes, I wrote the code below but it does not print out anything - even when I have created a file that meets the condition:</p>\n\n<pre><code>use POSIX qw( strftime );\n\n$customDate = strftime \"%Y_%m%b_%d%a\", localtime;\n\nopendir(DIR, \".\") or die \"$!\";\nmy @FILES  = grep { /${customDate}*/ } readdir(DIR);\nclosedir(DIR);\n\nprint \"$_\\n\" for @FILES;\n</code></pre>\n\n<p>I apologize if my question is unclear</p>\n"}, {"tags": ["java", "xml", "perl", "web-services", "soap"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1464685491, "post_id": 37529036, "comment_id": 62571801, "body": "The second <code>&lt;?xml ...&gt;</code> is invalid XML."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1464688205, "last_edit_date": 1495541754, "creation_date": 1464688205, "answer_id": 37542368, "question_id": 37529036, "link": "https://stackoverflow.com/questions/37529036/soap-request-xml-content-as-a-string-content-is-not-allowed-in-prolog-and-prema/37542368#37542368", "title": "SOAP request xml content as a string: Content is not allowed in prolog and Premature end of file error", "body": "<p>The data type of the <code>xmlContent</code> element is <code>xsd:string</code>. That suggests it should be one long string that contains stuff that looks like XML. That it's named <em>xmlContent</em> is incidental. They just chose that arbitrary name.</p>\n\n<p>Try passing a string with XML in it, instead of a bunch of actual XML tags. Use <a href=\"https://stackoverflow.com/a/2784200/1331451\">CDATA</a> to escape it like so.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;SOAP-ENV:Envelope xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\" xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/1999/XMLSchema\" SOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n&lt;SOAP-ENV:Body&gt;\n    &lt;namesp1:method1 xmlns:namesp1=\"http://vendor.com\"&gt;\n    &lt;xmlContent xsi:type=\"xsd:string\"&gt;\n        &lt;![CDATA[&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;product id=\"ABC\" type=\"CSV\"&gt;\n        &lt;columns&gt;\n            &lt;column name=\"DATE\" format=\"yyyymmdd\" /&gt;\n            &lt;column name=\"COUNTRY\" format=\"DESC\"/&gt;\n        &lt;/columns&gt;\n        &lt;/product&gt;]]&gt;\n    &lt;/xmlContent&gt;\n    &lt;/namesp1:method1&gt;\n&lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>Note there shouldn't be a newline or other whitespace between the <code>&lt;![CDATA[</code> and the <code>&lt;?xml&gt;</code>, because that would be seen as part of the content, and the server on the other end might choke on it when parsing that part as actual XML. The whitespace in front of the <code>&lt;![CDATA[</code> however is fine, as that is just arbitrary whitespace inside of the outer XML, which is ignored.</p>\n"}], "owner": {"reputation": 395, "user_id": 5120812, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/869897239754598/picture?type=large", "display_name": "Feiiiiiiiiiiiii", "link": "https://stackoverflow.com/users/5120812/feiiiiiiiiiiiii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1183, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464688205, "creation_date": 1464621405, "last_edit_date": 1464687874, "question_id": 37529036, "link": "https://stackoverflow.com/questions/37529036/soap-request-xml-content-as-a-string-content-is-not-allowed-in-prolog-and-prema", "title": "SOAP request xml content as a string: Content is not allowed in prolog and Premature end of file error", "body": "<p>I'm trying to access a SOAP web service of a data vendor. The server is written in Java. I'm accessing it from Perl. Due to some specialty, I have to send original http requests myself instead of using SOAP Lite package.</p>\n\n<p>The client is working fine. I can call most methods, and the response I get also looks good, which means things like request, response and namespace are all good. However, there is one method that I have trouble with. The wsdl of its request data type is as below:</p>\n\n<pre><code>&lt;xs:element name=\"method1\"&gt;\n    &lt;xs:complexType&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element minOccurs=\"0\" name=\"xmlContent\" nillable=\"true\" type=\"xs:string\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:element&gt;\n</code></pre>\n\n<p>The unique part of this method is that it accepts a string element, xmlContent, which is actually xml content. And here is my request:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;SOAP-ENV:Envelope xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\" xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/1999/XMLSchema\" SOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n&lt;SOAP-ENV:Body&gt;\n    &lt;namesp1:method1 xmlns:namesp1=\"http://vendor.com\"&gt;\n    &lt;xmlContent xsi:type=\"xsd:string\"&gt;\n        &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;product id=\"ABC\" type=\"CSV\"&gt;\n        &lt;columns&gt;\n            &lt;column name=\"DATE\" format=\"yyyymmdd\" /&gt;\n            &lt;column name=\"COUNTRY\" format=\"DESC\"/&gt;\n        &lt;/columns&gt;\n        &lt;/product&gt;\n    &lt;/xmlContent&gt;\n    &lt;/namesp1:method1&gt;\n&lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>I saved the request in a file, and read the file into Perl, and send the http post request. The fault string I got is: <code>Validation Error(s): Content is not allowed in prolog</code>.</p>\n\n<p>I googled, and it seems to be Java couldn't recognize the 2nd <code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</code> line. I tried removing that line, but I got a different error: <code>premature end of file</code></p>\n\n<p>My questions: Am I putting the xml content part the right way? What's causing the error? How can I fix it?</p>\n"}, {"tags": ["bash", "perl", "awk", "sed", "tr"], "answers": [{"comments": [{"owner": {"reputation": 10281, "user_id": 51760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI89u.jpg?s=128&g=1", "display_name": "Aif", "link": "https://stackoverflow.com/users/51760/aif"}, "edited": false, "score": 0, "creation_date": 1464620301, "post_id": 37528629, "comment_id": 62548171, "body": "Maybe you should precise that this is Perl."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 10281, "user_id": 51760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SI89u.jpg?s=128&g=1", "display_name": "Aif", "link": "https://stackoverflow.com/users/51760/aif"}, "edited": false, "score": 0, "creation_date": 1464621364, "post_id": 37528629, "comment_id": 62548761, "body": "@Ed Morton, Replacing <code>chomp;</code> with <code>s&#47;\\s+\\z&#47;&#47;;</code> will cause it accept both CRLF and LF."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1498588176, "last_edit_date": 1498588176, "creation_date": 1464620105, "answer_id": 37528629, "question_id": 37528503, "link": "https://stackoverflow.com/questions/37528503/how-to-merge-lines-that-do-not-begin-with-certain-character/37528629#37528629", "title": "how to merge lines that do not begin with certain character", "body": "<pre><code>perl -ne'\n   if (/^&gt;/) {\n      print(\"\\n\") if $. != 1;\n   } else {\n      chomp;\n   }\n   print;\n} {\n   print(\"\\n\") if $. != 1;\n'\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/41742890/589924\">Specifying file to process to Perl one-liner</a> for usage.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1464620571, "creation_date": 1464620571, "answer_id": 37528753, "question_id": 37528503, "link": "https://stackoverflow.com/questions/37528503/how-to-merge-lines-that-do-not-begin-with-certain-character/37528753#37528753", "title": "how to merge lines that do not begin with certain character", "body": "<p>I know this has been asked/answered a thousand times but I can't find it so:</p>\n\n<pre><code>$ awk '/^&gt;/{print (NR&gt;1?ORS:\"\") $0; next} {printf \"%s\", $0} END{print \"\"}' file\n&gt;A13P0\nACCATAGAGAGCCCGAGATTTA\n&gt;03HK2\nACACAGTGTGTTTAGAGGGAGA\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 2, "last_activity_date": 1464623493, "creation_date": 1464623493, "answer_id": 37529633, "question_id": 37528503, "link": "https://stackoverflow.com/questions/37528503/how-to-merge-lines-that-do-not-begin-with-certain-character/37529633#37529633", "title": "how to merge lines that do not begin with certain character", "body": "<p>with a perl command line:</p>\n\n<pre><code>perl -pE '$.&gt;1 &amp;&amp; !s/^&gt;/\\n&gt;/ &amp;&amp; chomp; END{say}' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": false, "score": 0, "last_activity_date": 1464632566, "last_edit_date": 1464632566, "creation_date": 1464624945, "answer_id": 37529995, "question_id": 37528503, "link": "https://stackoverflow.com/questions/37528503/how-to-merge-lines-that-do-not-begin-with-certain-character/37529995#37529995", "title": "how to merge lines that do not begin with certain character", "body": "<p>With sed :</p>\n\n<pre><code>$ sed ':a;$!N;/&gt;/!{s/\\n\\([^&gt;]\\)/\\1/;ta};P;D' file\n&gt;A13P0\nACCATAGAGAGCCCGAGATTTA\n&gt;03HK2\nACACAGTGTGTTTAGAGGGAGA\n</code></pre>\n"}], "owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 37528629, "answer_count": 4, "score": 1, "last_activity_date": 1498588176, "creation_date": 1464619728, "question_id": 37528503, "link": "https://stackoverflow.com/questions/37528503/how-to-merge-lines-that-do-not-begin-with-certain-character", "title": "how to merge lines that do not begin with certain character", "body": "<p>if i have the following:</p>\n\n<pre><code>&gt;A13P0\nACCATAGAGAG\nCCCGAGATTTA\n&gt;03HK2\nACACAGTGTGT\nTTAGAGGGAGA\n</code></pre>\n\n<p>How do I merge lines that do not begin with <code>&gt;</code>?</p>\n\n<p>i.e.</p>\n\n<pre><code>&gt;A13P0\nACCATAGAGAGCCCGAGATTTA\n&gt;03HK2\nACACAGTGTGTTTAGAGGGAGA\n</code></pre>\n\n<p>thanks!</p>\n"}, {"tags": ["perl", "readline"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464620605, "post_id": 37528446, "comment_id": 62548354, "body": "If you want to read from STDIN, you&#39;ll need to read from STDIN. You could base the behaviour on <code>my $interactive = !@ARGV &amp;&amp; -t STDIN;</code>"}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 1, "creation_date": 1464625558, "post_id": 37528446, "comment_id": 62550921, "body": "Classic example of Useless Use of Cat in your question title. See <a href=\"https://en.wikipedia.org/wiki/Cat_%28Unix%29#Useless_use_of_cat\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cat_%28Unix%29#Useless_use_of_cat</a>"}, {"owner": {"reputation": 74715, "user_id": 471272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jSlyx.gif?s=128&g=1", "display_name": "tchrist", "link": "https://stackoverflow.com/users/471272/tchrist"}, "edited": false, "score": 1, "creation_date": 1464631230, "post_id": 37528446, "comment_id": 62553188, "body": "You need to decide where you want to read from: if you use <code>readline</code> then it will always read from <i>/dev/tty</i>.  If you use <code>&lt;&gt;</code> or the standard input, it may or may not."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1464800943, "last_edit_date": 1464800943, "creation_date": 1464661460, "answer_id": 37535891, "question_id": 37528446, "link": "https://stackoverflow.com/questions/37528446/how-to-cat-text-script-pl/37535891#37535891", "title": "How to: cat text | ./script.pl", "body": "<p>You need to set it up to use the input and output filehandles that you want.  The docs don't spell it out, but the constructor takes either a string (to serve as a name), or that string and globs for input and output filehandles (need both). </p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Term::ReadLine;\n\nmy $term = Term::ReadLine-&gt;new('name', \\*STDIN, \\*STDOUT);\n\nwhile (my $line = $term-&gt;readline()) {\n    print $line, \"\\n\";\n}\n</code></pre>\n\n<p>Now </p>\n\n<pre>\necho \"hello\\nthere\" | script.pl\n</pre>\n\n<p>prints the two lines with <code>hello</code> and <code>there</code>, while <code>scipt.pl &lt; input.txt</code> prints out the lines of the file <code>input.txt</code>. After this the normal <code>STDIN</code> and <code>STDOUT</code> will be used by the module's <code>$term</code> for all future I/O. Note that the module has methods for retrieving input and output filehandles  (<code>$term-&gt;OUT</code> and <code>$term-&gt;IN</code>) so you can change later where your I/O goes.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/Term/ReadLine.html\" rel=\"nofollow\"><code>Term::ReaLine</code></a> itself doesn't have much detail but this is a front end for other modules, listed on the page. Their pages have far more information. Also, I believe that uses of this are covered elsewhere, for example in the good old <code>Cookbook</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 4248345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ddad9e8c6dd0ebd25f73360f1f053c6?s=128&d=identicon&r=PG&f=1", "display_name": "Kunc&#237;k", "link": "https://stackoverflow.com/users/4248345/kunc%c3%adk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 37535891, "answer_count": 1, "score": 3, "last_activity_date": 1464800943, "creation_date": 1464619531, "question_id": 37528446, "link": "https://stackoverflow.com/questions/37528446/how-to-cat-text-script-pl", "title": "How to: cat text | ./script.pl", "body": "<p>I started using <code>Term::Readline</code> recently, but now I realized <code>cat text | ./script.pl</code> doesn't work (no output).</p>\n\n<p>script.pl snippet before (working ok):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n$| = 1;\nwhile (&lt;&gt;) {\n   print $_;\n}\n</code></pre>\n\n<p>script.pl snippet after (working only interactively):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Term::ReadLine\n\n$| = 1;\nmy $term = Term::ReadLine-&gt;new('name');\nmy $input;\nwhile (defined ($input = $term-&gt;readline('')) ) {\n   print $input;\n}\n</code></pre>\n\n<p>Is there anything I can do to preserve this behavior (to have the lines printed) ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "edited": false, "score": 0, "creation_date": 1464620246, "post_id": 37528421, "comment_id": 62548142, "body": "@simbabque Updated the post"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464620263, "post_id": 37528421, "comment_id": 62548153, "body": "Can you add expected output?"}, {"owner": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464620505, "post_id": 37528421, "comment_id": 62548292, "body": "I can share whole dataset"}], "answers": [{"tags": [], "owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "is_accepted": true, "score": 3, "last_activity_date": 1464645320, "creation_date": 1464645320, "answer_id": 37534083, "question_id": 37528421, "link": "https://stackoverflow.com/questions/37528421/printing-in-patterns-in-perl/37534083#37534083", "title": "Printing in patterns in perl", "body": "<h1>Description</h1>\n\n<pre><code>^([^:]+:stem[^:]+)(?::stem(?=.*?(:suffix))|)([^:]+?\\|:suffix[^:]*)(?::suffix[^:]*)*$\n</code></pre>\n\n<p><strong>Replace with:</strong> <code>\\1\\2\\3</code></p>\n\n<p><img src=\"https://www.debuggex.com/i/qWe1oCJFOV_4ITKg.png\" alt=\"Regular expression visualization\"></p>\n\n<p>This regular expression will do the following:</p>\n\n<ul>\n<li>Assumes that each line will have a <code>suffix</code> string this is then pattern matched and pulled into the capture group 2</li>\n<li>If there is a second <code>stem</code> it is replaced with <code>suffix</code></li>\n<li>Removes all but the first <code>suffix</code> entries</li>\n</ul>\n\n<h1>Example</h1>\n\n<p><strong>Live Demo</strong></p>\n\n<p><a href=\"https://regex101.com/r/rJ9gW3/2\" rel=\"nofollow\">https://regex101.com/r/rJ9gW3/2</a></p>\n\n<p><strong>Sample text</strong></p>\n\n<pre><code>\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d41\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41=\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d4d\u200d:stem\u0d09\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d:stem\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41|:suffix,:suffix:suffix\n\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d3e\u0d2f=\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d4d:stem\u0d06\u0d2f|:suffix:suffix\n\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d3e\u0d23\u0d4d=\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d4d:stem\u0d06\u0d23\u0d4d|:suffix:suffix\n</code></pre>\n\n<p><strong>Sample Matches</strong></p>\n\n<pre><code>\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d41\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41=\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d4d\u200d:stem\u0d09\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d:suffix\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41|:suffix,\n\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d3e\u0d2f=\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d4d:stem\u0d06\u0d2f|:suffix\n\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d3e\u0d23\u0d4d=\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d4d:stem\u0d06\u0d23\u0d4d|:suffix\n</code></pre>\n\n<h1>Explanation</h1>\n\n<pre><code>NODE                     EXPLANATION\n----------------------------------------------------------------------\n  ^                        the beginning of a \"line\"\n----------------------------------------------------------------------\n  (                        group and capture to \\1:\n----------------------------------------------------------------------\n    [^:]+                    any character except: ':' (1 or more\n                             times (matching the most amount\n                             possible))\n----------------------------------------------------------------------\n    :stem                    ':stem'\n----------------------------------------------------------------------\n    [^:]+                    any character except: ':' (1 or more\n                             times (matching the most amount\n                             possible))\n----------------------------------------------------------------------\n  )                        end of \\1\n----------------------------------------------------------------------\n  (?:                      group, but do not capture:\n----------------------------------------------------------------------\n    :stem                    ':stem'\n----------------------------------------------------------------------\n    (?=                      look ahead to see if there is:\n----------------------------------------------------------------------\n      .*?                      any character except \\n (0 or more\n                               times (matching the least amount\n                               possible))\n----------------------------------------------------------------------\n      (                        group and capture to \\2:\n----------------------------------------------------------------------\n        :suffix                   ':suffix'\n----------------------------------------------------------------------\n      )                        end of \\2\n----------------------------------------------------------------------\n    )                        end of look-ahead\n----------------------------------------------------------------------\n   |                        OR\n----------------------------------------------------------------------\n  )                        end of grouping\n----------------------------------------------------------------------\n  (                        group and capture to \\3:\n----------------------------------------------------------------------\n    [^:]+?                   any character except: ':' (1 or more\n                             times (matching the least amount\n                             possible))\n----------------------------------------------------------------------\n    \\|                       '|'\n----------------------------------------------------------------------\n    :suffix                  ':suffix'\n----------------------------------------------------------------------\n    [^:]*                    any character except: ':' (0 or more\n                             times (matching the most amount\n                             possible))\n----------------------------------------------------------------------\n  )                        end of \\3\n----------------------------------------------------------------------\n  (?:                      group, but do not capture (0 or more times\n                           (matching the most amount possible)):\n----------------------------------------------------------------------\n    :suffix                  ':suffix'\n----------------------------------------------------------------------\n    [^:]*                    any character except: ':' (0 or more\n                             times (matching the most amount\n                             possible))\n----------------------------------------------------------------------\n  )*                       end of grouping\n----------------------------------------------------------------------\n  $                        before an optional \\n, and the end of a\n                           \"line\"\n----------------------------------------------------------------------\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 37534083, "answer_count": 1, "score": 3, "last_activity_date": 1464645320, "creation_date": 1464619459, "last_edit_date": 1464625217, "question_id": 37528421, "link": "https://stackoverflow.com/questions/37528421/printing-in-patterns-in-perl", "title": "Printing in patterns in perl", "body": "<p>I am having a great trouble to remove the errors in unicode encoded corpus.\nIn following form </p>\n\n<pre><code>\u0d30\u0d23\u0d35\u0d30\u0d4d\u200d\u0d17\u0d4d\u0d17\u0d24\u0d4d\u0d24\u0d3f\u0d28\u0d15\u0d24\u0d4d\u0d24\u0d41=\u0d2d\u0d30\u0d23\u0d35\u0d30\u0d4d\u200d\u0d17\u0d4d\u0d17\u0d24\u0d4d\u0d24\u0d3f\u0d28\u0d4d:stem\u0d05\u0d15\u0d24\u0d4d\u0d24\u0d41|:suffix\n\u0d2d\u0d38\u0d4d\u0d2e\u0d2e\u0d3e\u0d15\u0d4d\u0d15\u0d3f\u0d15\u0d4d\u0d15\u0d33\u0d2f\u0d41\u0d15\u0d2f\u0d41\u0d02=\u0d2d\u0d38\u0d4d\u0d2e\u0d02:stem\u0d06\u0d15\u0d4d\u0d15\u0d3f\u0d15\u0d4d\u0d15\u0d33\u0d2f\u0d41\u0d15\u0d2f\u0d41\u0d02|:suffix\n\u0d2d\u0d38\u0d4d\u0d2e\u0d2e\u0d3e\u0d15\u0d4d\u0d15\u0d3f=\u0d2d\u0d38\u0d4d\u0d2e\u0d02:stem\u0d06\u0d15\u0d4d\u0d15\u0d3f|:suffix\n\u0d2d\u0d3e\u0d17\u0d24\u0d4d\u0d24\u0d41\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41\u0d23\u0d4d\u0d1f\u0d3e\u0d15\u0d23\u0d02=\u0d2d\u0d3e\u0d17\u0d24\u0d4d\u0d24\u0d4d:stem\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d4d:stem\u0d09\u0d23\u0d4d\u0d1f\u0d3e\u0d15\u0d23\u0d02|:suffix,:\n\u0d2d\u0d3e\u0d17\u0d2e\u0d3e\u0d2f=\u0d2d\u0d3e\u0d17\u0d02:stem\u0d06\u0d2f|:suffix\n\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d3f\u0d32\u0d4d\u200d\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41\u0d02=\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d3f\u0d32\u0d4d\u200d:stem\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41\u0d02|:suffix:suffix\n\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d41\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41=\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d4d\u200d:stem\u0d09\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d:stem\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41|:suffix,:suffix:suffix\n\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2f\u0d3e\u0d2f\u0d3f=\u0d2d\u0d3e\u0d30\u0d4d\u0d2f:stem\u0d06\u0d2f\u0d3f|:suffix\n\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d3e\u0d2f=\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d4d:stem\u0d06\u0d2f|:suffix:suffix\n\u0d2d\u0d3f\u0d24\u0d4d\u0d24\u0d3f\u0d15\u0d33\u0d4a\u0d15\u0d4d\u0d15\u0d46=\u0d2d\u0d3f\u0d24\u0d4d\u0d24\u0d3f\u0d15\u0d33\u0d4d\u200d:stem\u0d12\u0d15\u0d4d\u0d15\u0d46|:suffix\n\u0d2d\u0d3f\u0d28\u0d4d\u0d28\u0d24\u0d2f\u0d3f\u0d32\u0d4d\u0d32\u0d46\u0d28\u0d4d\u0d28\u0d41\u0d02=\u0d2d\u0d3f\u0d28\u0d4d\u0d28\u0d24:stem\u0d07\u0d32\u0d4d\u0d32:stem\u0d0e\u0d28\u0d4d\u0d28\u0d41\u0d02|:suffix,:suffix0\n\u0d2d\u0d42\u0d2a\u0d4d\u0d30\u0d2d\u0d41\u0d15\u0d4d\u0d15\u0d33\u0d46\u0d28\u0d4d\u0d28\u0d4d=\u0d2d\u0d42\u0d2a\u0d4d\u0d30\u0d2d\u0d41\u0d15\u0d4d\u0d15\u0d33\u0d4d\u200d:stem\u0d0e\u0d28\u0d4d\u0d28\u0d4d|:suffix0\n\u0d2d\u0d42\u0d2e\u0d3f\u0d2f\u0d3f\u0d32\u0d4d\u200d\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d4d=\u0d2d\u0d42\u0d2e\u0d3f\u0d2f\u0d3f\u0d32\u0d4d\u200d:stem\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d4d|:suffix\n\u0d2d\u0d42\u0d2e\u0d3f\u0d2f\u0d3f\u0d32\u0d41\u0d33\u0d4d\u0d33=\u0d2d\u0d42\u0d2e\u0d3f\u0d2f\u0d3f\u0d32\u0d4d\u200d:stem\u0d09\u0d33\u0d4d\u0d33|:suffix\n\u0d2d\u0d42\u0d2e\u0d3f\u0d2f\u0d46\u0d2a\u0d4d\u0d2a\u0d4b\u0d32\u0d4a\u0d30\u0d41=\u0d2d\u0d42\u0d2e\u0d3f\u0d2f\u0d46:stem\u0d2a\u0d4b\u0d32\u0d46:stem\u0d12\u0d30\u0d41|:suffix,:suffix0\n\u0d2d\u0d42\u0d2e\u0d41\u0d16\u0d35\u0d40\u0d15\u0d4d\u0d37\u0d23\u0d28\u0d3e\u0d2f\u0d3f=\u0d2d\u0d42\u0d2e\u0d41\u0d16\u0d35\u0d40\u0d15\u0d4d\u0d37\u0d23\u0d28\u0d4d\u200d:stem\u0d06\u0d2f\u0d3f|:suffix:suffix\n\u0d2d\u0d42\u0d38\u0d1e\u0d4d\u0d1a\u0d3e\u0d30\u0d02\u0d2a\u0d4b\u0d32\u0d46=\u0d2d\u0d42\u0d38\u0d1e\u0d4d\u0d1a\u0d3e\u0d30\u0d02:stem\u0d2a\u0d4b\u0d32\u0d46|:suffix\n\u0d2d\u0d47\u0d26\u0d3f\u0d15\u0d4d\u0d15\u0d47\u0d23\u0d4d\u0d1f\u0d24\u0d3e\u0d2f\u0d3f=\u0d2d\u0d47\u0d26\u0d3f\u0d15\u0d4d\u0d15\u0d47\u0d23\u0d4d\u0d1f\u0d24\u0d3e\u0d4d:stem\u0d06\u0d2f\u0d3f|:suffix:suffix\n\u0d2d\u0d57\u0d24\u0d3f\u0d15\u0d35\u0d3e\u0d26\u0d3f\u0d15\u0d33\u0d3e\u0d23\u0d4d=\u0d2d\u0d57\u0d24\u0d3f\u0d15\u0d35\u0d3e\u0d26\u0d3f\u0d15\u0d33\u0d4d\u200d:stem\u0d06\u0d23\u0d4d|:suffix0\n\u0d2e\u0d15\u0d4d\u0d15\u0d33\u0d2f\u0d1a\u0d4d\u0d1a\u0d41=\u0d2e\u0d15\u0d4d\u0d15\u0d33\u0d4d\u200d:stem\u0d05\u0d2f\u0d1a\u0d4d\u0d1a\u0d41|:suffix\n\u0d2e\u0d15\u0d4d\u0d15\u0d33\u0d4d\u200d\u0d15\u0d4d\u0d15\u0d3e\u0d23\u0d4d=\u0d2e\u0d15\u0d4d\u0d15\u0d33\u0d4d\u200d\u0d15\u0d4d\u0d15\u0d4d:stem\u0d06\u0d23\u0d4d|:suffix\n\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d3e\u0d23\u0d4d=\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d4d:stem\u0d06\u0d23\u0d4d|:suffix:suffix\n\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d36\u0d4d\u0d35\u0d30\u0d24\u0d4d\u0d24\u0d3e\u0d23\u0d4d=\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d36\u0d4d\u0d35\u0d30\u0d24\u0d4d\u0d24\u0d4d:stem\u0d06\u0d23\u0d4d|:suffix:suffix\n\u0d2e\u0d1e\u0d4d\u0d1e\u0d41\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d24\u0d4d\u0d24\u0d3f\u0d32\u0d3e\u0d34\u0d4d\u0d24\u0d4d\u0d24\u0d3f=\u0d2e\u0d1e\u0d4d\u0d1e\u0d41\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d24\u0d4d\u0d24\u0d3f\u0d32\u0d4d\u200d:stem\u0d06\u0d34\u0d4d\u0d24\u0d4d\u0d24\u0d3f|:suffix:suffix\n\u0d2e\u0d1f\u0d19\u0d4d\u0d19\u0d3e\u0d23\u0d3f\u0d24\u0d3f\u0d28\u0d4d=\u0d2e\u0d1f\u0d19\u0d4d\u0d19\u0d4d:stem\u0d06\u0d23\u0d4d:stem\u0d07\u0d24\u0d3f\u0d28\u0d4d|:suffix,:suffix\n\u0d2e\u0d1f\u0d3f\u0d2f\u0d28\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d41=\u0d2e\u0d1f\u0d3f\u0d2f\u0d28\u0d4d\u200d:stem\u0d06\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d41|:suffix\n</code></pre>\n\n<p>Where I need to remove two stem together  and  two suffixes together. In the case of two stems I need keep first stem and convert the second into suffix. In the case of  two suffixes like this <code>:suffix:suffix</code>, <code>:suffix,:suffix0</code> I need to keep only one suffix </p>\n\n<pre><code>use strict;\nuse warnings qw/ all FATAL /;\n\nuse List::Util 'reduce';\n\nwhile ( &lt;&gt; ) {\n\n    my ($word, $ss) = / \\( ( /[^()]* ) \\) /gx;\n\n    my @ss = split ' ', $ss;\n\n    my $str = reduce { sprintf 'S (%s) (%s)', $a, $b } @ss;\n\n    printf \"%s (%s)\\n\", $word, $str;\n} \n</code></pre>\n\n<p>This is the perl code I am trying to change but that code is not sufficient to handle the complexities. Is there any way to handle the kinds of errors.  </p>\n\n<pre><code>**Expected output**  \n\n`\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d41\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41=\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d4d\u200d:stem\u0d09\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d:stem\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41|:suffix,:suffix:suffix` to\n\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d41\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41=\u0d2d\u0d3e\u0d30\u0d4d\u0d2f\u0d2e\u0d3e\u0d30\u0d4d\u200d:stem\u0d09\u0d23\u0d4d\u0d1f\u0d3e\u0d2f\u0d3f\u0d30\u0d41\u0d28\u0d4d\u0d28\u0d35\u0d30\u0d3f\u0d32\u0d4d\u200d:suffix\u0d28\u0d3f\u0d28\u0d4d\u0d28\u0d41|:suffix\n\n\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d3e\u0d2f=\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d4d:stem\u0d06\u0d2f|:suffix:suffix to\n\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d3e\u0d2f=\u0d2d\u0d3e\u200c\u0d37\u0d4d\u0d2f\u0d15\u0d30\u0d4d\u200d\u0d24\u0d4d\u0d24\u0d3e\u0d35\u0d4d:stem\u0d06\u0d2f|:suffix\n \u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d3e\u0d23\u0d4d=\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d4d:stem\u0d06\u0d23\u0d4d|:suffix:suffix to\n\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d3e\u0d23\u0d4d=\u0d2e\u0d1e\u0d4d\u0d1a\u0d47\u0d30\u0d3f\u0d2f\u0d3f\u0d32\u0d47\u0d15\u0d4d\u0d15\u0d4d:stem\u0d06\u0d23\u0d4d|:suffix\n</code></pre>\n\n<p>Any one interested in helping me?</p>\n"}, {"tags": ["python", "perl", "awk", "text-processing"], "comments": [{"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 0, "creation_date": 1464616830, "post_id": 37527049, "comment_id": 62546246, "body": "you edited your question, removed tag perl, shell and awk. what do you mean? those answers won&#39;t be accepted any longer or what?"}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "reply_to_user": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "edited": false, "score": 0, "creation_date": 1464616958, "post_id": 37527049, "comment_id": 62546310, "body": "Any language is accepted"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1464633033, "post_id": 37527049, "comment_id": 62553951, "body": "Can we rely on the fact that all the lines with the same first column will be adjacent to each other in the input (like they are in your sample)? That lets the code be much more efficient."}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464633175, "post_id": 37527049, "comment_id": 62554016, "body": "The question is still open. Kent script has a small deviation from the correct result. Is forgetting genes with just one GO term, appart from having duplicated lines. In the above example, forgets &#39;Q97R95 GO:0006561&#39; line, but result is still fine since GO term &#39;0006561&#39; is also in other lines of gene &#39;Q97R95&#39;."}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1464633232, "post_id": 37527049, "comment_id": 62554046, "body": "Yes @hobbs, I can sort the input file before. In fact, the large file I&#39;m giving is sorted."}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464635813, "post_id": 37527049, "comment_id": 62555131, "body": "Seems hobbs solved the dilemma. Kent script had a small deviation from the correct result. Is forgetting genes with just one GO term, appart from having duplicated lines. In the above example, forgets &#39;Q97R95 GO:0006561&#39; line, but result is still fine since GO term &#39;0006561&#39; is also in other lines of gene &#39;Q97R95&#39;. \u2013 biotech 42 mins ago"}], "answers": [{"comments": [{"owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "reply_to_user": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464618556, "post_id": 37527447, "comment_id": 62547241, "body": "@biotech here I tested, the line ran without any error. do you have gnu awk?"}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464622928, "post_id": 37527447, "comment_id": 62549627, "body": "awk: {for(i=2;i&lt;=NF;i++)r[$1][$i]} awk:                         ^ syntax error awk: cmd. line:3:                 for(y in r[x]){printf &quot;%s%s&quot;,(b?&quot;,&quot;:&quot;&quot;),y;b=1} awk: cmd. line:3:                           ^ syntax error"}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464623338, "post_id": 37527447, "comment_id": 62549850, "body": "We need a third tester to replicate possible errors"}, {"owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "edited": false, "score": 1, "creation_date": 1464623835, "post_id": 37527447, "comment_id": 62550140, "body": "For me it works fine with <b>GNU</b> awk. I get the syntax error with plain awk. Do a <code>awk --version</code> to confirm that you are using GNU awk (e.g., mine returns <code>GNU Awk 4.1.3, API: 1.1</code>)"}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464623924, "post_id": 37527447, "comment_id": 62550184, "body": "I have GNU Awk 3.1.7"}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464624309, "post_id": 37527447, "comment_id": 62550373, "body": "What is &#39;plain&#39; awk?"}, {"owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "edited": false, "score": 0, "creation_date": 1464624948, "post_id": 37527447, "comment_id": 62550656, "body": "I&#39;m sure there&#39;s a better way to say it, but by &quot;plain&quot; awk I just meant &quot;awk but not gawk&quot; (where gawk == GNU awk).  In your case, however, it&#39;s not a question of awk vs. gawk, but the version. I&#39;m pretty sure that true multidimensional arrays were introduced to gawk in version 4. Perhaps @Kent can confirm."}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464625005, "post_id": 37527447, "comment_id": 62550685, "body": "OK, it&#39;s working with GNU Awk 4.1.3, API: 1.1 . I installed it now in OSX. You are modern people. First time happens to me."}], "tags": [], "owner": {"reputation": 172306, "user_id": 164835, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ayYoh.jpg?s=128&g=1", "display_name": "Kent", "link": "https://stackoverflow.com/users/164835/kent"}, "is_accepted": false, "score": 1, "last_activity_date": 1464616522, "creation_date": 1464616522, "answer_id": 37527447, "question_id": 37527049, "link": "https://stackoverflow.com/questions/37527049/collapse-rows-based-on-column-1/37527447#37527447", "title": "Collapse rows based on column 1", "body": "<p>You can make use of 2-d array of gnu awk:</p>\n\n<pre><code>awk -F'[, ]+' '{for(i=2;i&lt;=NF;i++)r[$1][$i]}\n         END{for(x in r){\n                printf \"%s \",x;b=0;\n                for(y in r[x]){printf \"%s%s\",(b?\",\":\"\"),y;b=1}\n                print \"\"}\n         }' file\n</code></pre>\n\n<p>It gives:</p>\n\n<pre><code>Q97R95 GO:0005737,GO:0006561,GO:0004349\n</code></pre>\n\n<p>The duplicated fields are removed, however the order was not kept.</p>\n"}, {"comments": [{"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464634412, "post_id": 37532017, "comment_id": 62554579, "body": "Great. 3665 IDs, as in the input.txt file. We are not losing genes, nice."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464634440, "post_id": 37532017, "comment_id": 62554586, "body": "@biotech tweaked to make it match more exactly. For input it accepts any kind of whitespace. For output it will use a tab for the first separator, and &quot;, &quot; for the rest."}, {"owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464634924, "post_id": 37532017, "comment_id": 62554784, "body": "Nice, very elegant. In fact, I noticed now that my input file has two spaces as first separator."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "edited": false, "score": 0, "creation_date": 1464634992, "post_id": 37532017, "comment_id": 62554812, "body": "@biotech yeah, that&#39;s what I was actually imitating. :)"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 0, "last_activity_date": 1469504145, "last_edit_date": 1469504145, "creation_date": 1464634078, "answer_id": 37532017, "question_id": 37527049, "link": "https://stackoverflow.com/questions/37527049/collapse-rows-based-on-column-1/37532017#37532017", "title": "Collapse rows based on column 1", "body": "<p>Here is a, hopefully tidy, Perl solution. It preserves order of keys and values as far as possible, and doesn't keep the whole file contents in memory, only as much as necessary to do the job.</p>\n\n<pre><code>#!perl\nuse strict;\nuse warnings;\n\nmy ($prev_key, @seen_values, %seen_values);\n\nwhile (&lt;&gt;) {\n  # Parse the input\n  chomp;\n  my ($key, $values) = split /\\s+/, $_, 2;\n  my @values = split /,\\s*/, $values;\n\n  # If we have a new key...\n  if ($key ne $prev_key) {\n    # output the old data, as long as there is some,\n    if (@seen_values) {\n      print \"$prev_key\\t\", join(\", \", @seen_values), \"\\n\";\n    }\n    # clear it out,\n    @seen_values = %seen_values = ();\n    # and remember the new key for next time.\n    $prev_key = $key;\n  }\n\n  # Merge this line's values with previous ones, de-duplicating\n  # but preserving order.\n  for my $value (@values) {\n    push @seen_values, $value unless $seen_values{$value}++;\n  }\n}\n\n# Output what's left after the last line\nif (@seen_values) {\n  print \"$prev_key\\t\", join(\", \", @seen_values), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 2604088, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7edc3c47905e743436cfe0a36f03e189?s=128&d=identicon&r=PG&f=1", "display_name": "biotech", "link": "https://stackoverflow.com/users/2604088/biotech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 37532017, "answer_count": 2, "score": 0, "last_activity_date": 1469504145, "creation_date": 1464615318, "last_edit_date": 1464636708, "question_id": 37527049, "link": "https://stackoverflow.com/questions/37527049/collapse-rows-based-on-column-1", "title": "Collapse rows based on column 1", "body": "<p>I want to parse InterProScan results for TopGO R package.</p>\n\n<p>I would like to have a file in a format a bit distant of what I have.</p>\n\n<pre><code># input file (gene_ID  GO_ID1, GO_ID2, GO_ID3, ....)\nQ97R95  GO:0004349, GO:0005737, GO:0006561\nQ97R95  GO:0004349, GO:0006561\nQ97R95  GO:0005737, GO:0006561\nQ97R95  GO:0006561\n\n\n# desired output (removed duplicates and rows collapsed)\nQ97R95  GO:0004349,GO:0005737,GO:0006561\n</code></pre>\n\n<p>You can test your tool with the whole data file here:</p>\n\n<p><a href=\"https://drive.google.com/file/d/0B8-ZAuZe8jldMHRsbGgtZmVlZVU/view?usp=sharing\" rel=\"nofollow\">https://drive.google.com/file/d/0B8-ZAuZe8jldMHRsbGgtZmVlZVU/view?usp=sharing</a></p>\n"}, {"tags": ["perl", "event-handling", "anyevent"], "answers": [{"tags": [], "owner": {"reputation": 1916, "user_id": 5037341, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ckryF.gif?s=128&g=1", "display_name": "Destrif", "link": "https://stackoverflow.com/users/5037341/destrif"}, "is_accepted": false, "score": 0, "last_activity_date": 1464616773, "creation_date": 1464616773, "answer_id": 37527554, "question_id": 37527001, "link": "https://stackoverflow.com/questions/37527001/perl-anyevent-non-blocking-redis-push/37527554#37527554", "title": "Perl Anyevent , non blocking redis push", "body": "<p>Please note that you haven't defined, connection_timeout:</p>\n\n<pre><code>my $redis = AnyEvent::Redis::RipeRedis-&gt;new(\n  host     =&gt; 'localhost',\n  port     =&gt; '6379',\n    );\n</code></pre>\n\n<p>Should looks like:</p>\n\n<pre><code>  my $redis = AnyEvent::Redis::RipeRedis-&gt;new(\n    host =&gt; 'localhost',\n    port =&gt; '6379',\n    password =&gt; 'your_password',\n    connection_timeout =&gt; 5,\n    reconnect =&gt; 1,\n    encoding =&gt; 'utf8');\n</code></pre>\n\n<p>From:</p>\n\n<p><a href=\"ftp://ftp.uni-siegen.de/pub/CPAN/authors/id/I/IP/IPH/AnyEvent-Redis-RipeRedis-1.002.readme\" rel=\"nofollow\">ftp://ftp.uni-siegen.de/pub/CPAN/authors/id/I/IP/IPH/AnyEvent-Redis-RipeRedis-1.002.readme</a></p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "is_accepted": true, "score": 0, "last_activity_date": 1497867511, "last_edit_date": 1592644375, "creation_date": 1464695190, "answer_id": 37544882, "question_id": 37527001, "link": "https://stackoverflow.com/questions/37527001/perl-anyevent-non-blocking-redis-push/37544882#37544882", "title": "Perl Anyevent , non blocking redis push", "body": "<p>You block script execution  when you call $cv-&gt;recv() in while loop and script are waiting $cv-&gt;send or $cv-&gt;croak, but in callback you don't call $cv-&gt;send().</p>\n<blockquote>\n<p>$cv-&gt;recv</p>\n<p>Wait (blocking if necessary) until the -&gt;send or -&gt;croak methods have been called on $cv, while servicing other watchers normally.</p>\n</blockquote>\n<p>If you want to send different not blocking requestes try to use AnyEvents begin and end methods.</p>\n<pre><code>#!/usr/bin/perl\nuse AnyEvent;\nuse AnyEvent::Redis::RipeRedis;\nuse strict;\n\nmy $redis = AnyEvent::Redis::RipeRedis-&gt;new(\n  host     =&gt; 'localhost',\n  port     =&gt; '6379',\n);\n\nmy $i=0;\n\nmy  $cv = AnyEvent-&gt;condvar;\nwhile($i++ &lt; 5) {\n   $cv-&gt;begin;\n   $redis-&gt;rpush( 'list', &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,\n               { \n                  on_done =&gt; sub {\n                    my $data = shift;\n                    print &quot;$data\\n&quot;;\n                    $cv-&gt;end();\n                  },\n               }\n    );\n}\n\n$cv-&gt;recv();\n</code></pre>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 1, "accepted_answer_id": 37544882, "answer_count": 2, "score": 4, "last_activity_date": 1497867511, "creation_date": 1464615166, "question_id": 37527001, "link": "https://stackoverflow.com/questions/37527001/perl-anyevent-non-blocking-redis-push", "title": "Perl Anyevent , non blocking redis push", "body": "<p>I have the code below to do non blocking rpush into a redis server\nWhen I run this for just 1 rpush , the code works fine \nBut when I run this in a while loop the script hangs after the first execution. \nWhy ? </p>\n\n<pre><code>#!/usr/bin/perl                                                                                                                                                          \nuse AnyEvent;\nuse AnyEvent::Redis::RipeRedis;\nuse strict;\n#my $cv = AE::cv();                                                                                                                                                      \n\nmy $redis = AnyEvent::Redis::RipeRedis-&gt;new(\n  host     =&gt; 'localhost',\n  port     =&gt; '6379',\n    );\n\nmy $i=0;\n\nmy $cv;\nwhile($i++ &lt; 5) {\n    $cv = AnyEvent-&gt;condvar;\n    $redis-&gt;rpush( 'list', \"1\",\"2\",\"3\",\n                   { on_done =&gt; sub {\n                   my $data = shift;\n                   print \"$data\\n\";\n                     },\n                   }\n        );\n    $cv-&gt;recv();\n}\n$redis-&gt;quit(\n    sub {$cv-&gt;send();}\n    );\n$cv-&gt;recv();\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 29, "user_id": 6255615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d36ce63eab558609401f5e9847853d9?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6255615/john-doe"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1464611071, "post_id": 37525253, "comment_id": 62542728, "body": "yes I have and I am still trying to find a way.."}], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "is_accepted": false, "score": 0, "last_activity_date": 1464612778, "creation_date": 1464612778, "answer_id": 37526181, "question_id": 37525253, "link": "https://stackoverflow.com/questions/37525253/how-do-i-join-multiple-lines-into-one-element-of-an-array-in-perl/37526181#37526181", "title": "how do I join multiple lines into one element of an array in PERL?", "body": "<p>You can just read your file line by line. Since every line starty with an <code>#</code> there's a possibility to check whether it's empty or not.</p>\n\n<p>Look at this:</p>\n\n<pre><code>my $yourFile = 'yourFile.txt';\nopen (my $data, '&lt;', $yourFile) or die \"Could not open $yourFile: $!\";\n\nmy @output;\nmy $i = 0;\nwhile( my $line = &lt;$data&gt;)  {   \n  if( $line =~ /\\#/){\n    $output[$i] .= $line;\n  }else{ \n   $i++;\n  }\n}\n</code></pre>\n\n<p>Here you read the file line by line. If there's an <code>#</code> you write the line in the array position <code>$i</code>. Otherwise you increment $i.</p>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464704621, "post_id": 37526212, "comment_id": 62585414, "body": "@Borodin: Ok Thanks..."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": -1, "last_activity_date": 1464612891, "creation_date": 1464612891, "answer_id": 37526212, "question_id": 37525253, "link": "https://stackoverflow.com/questions/37525253/how-do-i-join-multiple-lines-into-one-element-of-an-array-in-perl/37526212#37526212", "title": "how do I join multiple lines into one element of an array in PERL?", "body": "<p>Please try this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $lines = \"\";\nmy @line;\nmy $el = '1';\nwhile(&lt;DATA&gt;)\n{\n    if($_!~m/^$/i) {  $lines .= \"$_\\n\"; }\n    elsif($_=~m/^$/i) {\n        $lines=~s/\\n{1,}/\\n/g;\n    push(@line, \"\\n\\n&lt;array-$el&gt;$lines&lt;/array-$el&gt;\"); $el++;  $lines = \"\"; }\n}\n\nprint @line;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6255615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d36ce63eab558609401f5e9847853d9?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6255615/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "closed_date": 1464617251, "accepted_answer_id": 37526212, "answer_count": 2, "score": -1, "last_activity_date": 1464612891, "creation_date": 1464609945, "question_id": 37525253, "link": "https://stackoverflow.com/questions/37525253/how-do-i-join-multiple-lines-into-one-element-of-an-array-in-perl", "closed_reason": "Duplicate", "title": "how do I join multiple lines into one element of an array in PERL?", "body": "<pre><code>#L_ENTRY    &lt;s_slash_1&gt;\n#LEX        &lt;/&gt;\n#ROOT       &lt;/&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;slash&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n#L_ENTRY    &lt;s_comma_1&gt;\n#LEX        &lt;,&gt;\n#ROOT       &lt;,&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;comma&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n#L_ENTRY    &lt;s_tilde_1&gt;\n#LEX        &lt;~&gt;\n#ROOT       &lt;~&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;tilde&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n#L_ENTRY    &lt;s_at_1&gt;\n#LEX        &lt;@&gt;\n#ROOT       &lt;@&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;at&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n</code></pre>\n\n<p>Above is my text file. I want to join each line into one element of an array until there is a 'return' and continue to join the next lines until there is another 'return'. In the text above, there are three returns, so what I want is an array of four elements.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["algorithm", "perl", "matrix", "hash", "sequence"], "comments": [{"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464609432, "post_id": 37524660, "comment_id": 62541686, "body": "<a href=\"http://pastebin.com/7QnBDTDY\" rel=\"nofollow noreferrer\">pastebin.com/7QnBDTDY</a>"}, {"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464609674, "post_id": 37524660, "comment_id": 62541820, "body": "Its too big (15mb) for pastebin.com"}, {"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464609889, "post_id": 37524660, "comment_id": 62541968, "body": "<a href=\"http://www.filedropper.com/duomenys\" rel=\"nofollow noreferrer\">filedropper.com/duomenys</a>"}, {"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464611285, "post_id": 37524660, "comment_id": 62542888, "body": "I think comparing &quot;letter&quot; with &quot; &quot;(space) or &quot;&quot; should give us number -4"}, {"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464612320, "post_id": 37524660, "comment_id": 62543573, "body": "It&#39;s enougth to find one title for one unknown sequence."}, {"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464613240, "post_id": 37524660, "comment_id": 62544124, "body": "So if there is 50 unknown sequences, output file should give us 50 titles, some tittles can be the same :)"}], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1464612093, "last_edit_date": 1464612093, "creation_date": 1464611743, "answer_id": 37525840, "question_id": 37524660, "link": "https://stackoverflow.com/questions/37524660/scaning-and-matching-letter-sequences-using-matrix/37525840#37525840", "title": "Scaning and matching letter sequences using matrix", "body": "<p>Here is the basic version of solution to your problem, as per I understood. I considered both the sequence equal, you can make the changes easily if you need. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# convert your matrix file to 2D hash\nmy %hash;\n\nopen my $fh, '&lt;', 'matrix' or die \"unable to open file: $!\\n\";\n\nchomp(my $heading = &lt;$fh&gt;);\n\n# strip out space from begining\n$heading =~ s/^\\s+//g;\n\nmy @headings = split (/\\s+/, $heading);\n\nwhile(&lt;$fh&gt;) {\n    chomp;\n    my @line = split;\n    my $key1 = shift @line;\n    foreach my $i( 0 .. $#line) {\n        $hash{$key1}{$headings[$i]} = $line[$i];\n    }\n}\nclose $fh;\n\n# Took from your example for reference\n\nmy $duameny = \"ABW\";\nmy $duota = \"ABF\";\n\nmy @duamenys = split (//,$duameny);\nmy @duotas = split (//,$duota);\n\n# calculate sum from hash\n# considering both sequences are equal\n\nmy $sum = 0;\nforeach my $i (0 .. $#duamenys) {\n    $sum += $hash{$duamenys[$i]}{$duotas[$i]};\n}\n\n# calculate length from sequence\nmy $length = (length $duameny) * 3;\n\nprint \"SUM: $sum, Length: $length\\n\";\n\nif($sum &gt;= $length) {\n    # probably you know how to print the title\n    # print the title from duamenys.txt\n}\n</code></pre>\n\n<p>Below is summary of my approach.</p>\n\n<ol>\n<li>First converted the matrix into 2D hash for lookup.</li>\n<li>Calculated sum from the hash for sequences.</li>\n<li>Calculated length from the sequences</li>\n<li>Compare them and print the title if <code>sum &gt;= length</code> .</li>\n</ol>\n\n<p><strong>output:</strong></p>\n\n<pre><code>SUM: 9, Length: 9\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1465495899, "creation_date": 1464608028, "last_edit_date": 1465495899, "question_id": 37524660, "link": "https://stackoverflow.com/questions/37524660/scaning-and-matching-letter-sequences-using-matrix", "title": "Scaning and matching letter sequences using matrix", "body": "<p>I have two txt files, then I put them into hash'es, sequence => title.\nIn file DUOMENYS.txt title is known, in file \"DUOTA.txt\" title is unknown.\nSo for every sequence in file \"DUOTA.txt\" I need to find similar sequence in file DUOMENYS.txt and then print that known title.\nI tried to make this with slimple matching, printing title with more than 90% sequence symbol matches, but I was told that it is wrong, and I have to do it other way, with this table: <a href=\"http://www.ncbi.nlm.nih.gov/Class/FieldGuide/BLOSUM62.txt\" rel=\"nofollow\">http://www.ncbi.nlm.nih.gov/Class/FieldGuide/BLOSUM62.txt</a>\nI have to compare letters from known sequence and unknown sequence and get number\n    (-4)-9, if sum of all that numbers => length of sequence * 3, print that title</p>\n\n<pre><code>Example, ABW =&gt; TILE1, DUOMENYS.txt, ABF =&gt; UNKNOWNTITLE, DUOTA.txt,\nA B W\nA B F\n4 4 1 sum = 9\nlength 3 x 3 = 9\n9 =&gt; 9, true, print.\n</code></pre>\n\n<p>So the problem is I don't know how to make it happen....</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Data::Dumper;\n\nopen (OUTPUT, \"&gt;OUTPUT.txt\") or die \"$!\"; #Turimos vairenio sekos\nopen (DUOMENYS, \"DUOMENYS.txt\") or die \"$!\";\n\nopen (OUTPUT1, \"&gt;OUTPUT1.txt\") or die \"$!\"; #Tiriamos sekos\nopen (DUOTA, \"DUOTA.txt\") or die \"$!\";\n\nopen (OUTPUT2, \"&gt;OUTPUT2.txt\") or die \"$!\"; #rezultatai\n\nopen (MATRIX, \"MATRIX.txt\") or die \"$!\";\n\n#--------------------DUOMENYS-HASH-----------------------------\n\n#my $contentFile = $ARGV[0];\nmy $contentFile = &lt;DUOMENYS&gt;;\nmy %testHash = ();\nmy $currentKey = \"\";\nmy $seka = \"\";\nmy %nhash = ();\n\n\nopen(my $contentFH,\"&lt;\",$contentFile);\nwhile(my $contentLine = &lt;DUOMENYS&gt;){\n    chomp($contentLine);\n    next if($contentLine eq \"\"); # Empty lines.\n    if($contentLine =~ /^\\&gt;(.*)/){\n        $testHash{$currentKey} = $seka;\n        $currentKey= $1;\n        $seka = \"\";\n    }else{\n        $seka .= $contentLine;\n    }\n}\n\n#-------------------DUOTA-HASH-------------------------------------\n\n#my $contentFile1 = $ARGV[0];\nmy $contentFile1 = &lt;DUOTA&gt;;\nmy %testHash1 = ();\nmy $currentKey1 = \"\";\nmy $seka1 = \"\";\nmy %nhash1 = ();\n\nopen(my $contentFH1,\"&lt;\",$contentFile1);\nwhile(my $contentLine1 = &lt;DUOTA&gt;){\n    chomp($contentLine1);\n    next if($contentLine1 eq \"\"); # Empty lines.\n    if($contentLine1 =~ /^\\&gt;(.*)/){\n        $testHash1{$currentKey1} = $seka1;\n        $currentKey1= $1;\n        $seka1 = \"\";\n    }else{\n        $seka1 .= $contentLine1;\n    }    \n}\n\n#--------------------OUTPUT-HASH------------------------------------\n\n%nhash = reverse %testHash;\nprint OUTPUT Dumper(\\%nhash);\n\n%nhash1 = reverse %testHash1;\nprint OUTPUT1 Dumper(\\%nhash1);\n\n#---------------------MATCHING---------------------------------------\n\nmy $klaidu_skaicius = 0;\nmy @sekos = keys %nhash;\nmy @duotos_sekos = keys %nhash1;\nmy $i = 0;\nmy $j = 0;\n\nfor($i = 0; $i &lt;= scalar@sekos; $i++){\n    for($j = 0; $j &lt;= scalar@duotos_sekos; $j++){\n        $klaidu_skaicius = (@sekos[$i] ^ @duotos_sekos[$j]) =~ tr/\\0//c;\n        if($klaidu_skaicius &lt;= length(@sekos[$i])/10){\n            print OUTPUT2 substr( $nhash{@sekos[$i]}, 0, 9 ), \"\\n\";\n        }\n        else{\n            print OUTPUT2 \"\";\n        }\n\n    }\n}\n</code></pre>\n\n<h3>From comments</h3>\n\n<p>pastebin.com/7QnBDTDY \u2013 povilito May 30 at 11:57</p>\n\n<p>Its too big (15mb) for pastebin.com \u2013 povilito May 30 at 12:01</p>\n\n<p>filedropper.com/duomenys \u2013 povilito May 30 at 12:04</p>\n\n<p>I think comparing \"letter\" with \" \"(space) or \"\" should give us number -4 \u2013 povilito May 30 at 12:28</p>\n\n<p>It's enougth to find one title for one unknown sequence. \u2013 povilito May 30 at 12:45</p>\n\n<p>So if there is 50 unknown sequences, output file should give us 50 titles, some tittles can be the same :) </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 5, "creation_date": 1464603826, "post_id": 37522877, "comment_id": 62538392, "body": "Please upload the text version of your file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464605328, "post_id": 37522877, "comment_id": 62539299, "body": "You are getting downvotes because you have posted your data on a separate site and in image form. You should put all relevant question directly into the question if it is at all possible, and text (programs and data) should be added in text form so that it may be copied and used for testing a potential solution"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464622819, "post_id": 37522877, "comment_id": 62549579, "body": "My best guess about why you posted <a href=\"http://stackoverflow.com/questions/37525253/\">another, identical question</a> is that you couldn&#39;t see how to edit your question to add the data in text form. If you look at the bottom of your post, just below the [perl] tag, there are four active links. The second one is <code>edit</code>, which allows you to edit your post. In future, please do that instead of opening a new question or writing data in comments. Thanks"}, {"owner": {"reputation": 29, "user_id": 6255615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d36ce63eab558609401f5e9847853d9?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6255615/john-doe"}, "edited": false, "score": 0, "creation_date": 1464667753, "post_id": 37522877, "comment_id": 62563342, "body": "Yes I am very new to programming and to this community, thank you very much for you kind explanation!"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467555366, "last_edit_date": 1467555366, "creation_date": 1464605106, "answer_id": 37523749, "question_id": 37522877, "link": "https://stackoverflow.com/questions/37522877/how-can-i-read-multiple-lines-of-a-file-into-blocks-in-perl/37523749#37523749", "title": "How can I read multiple lines of a file into blocks in Perl?", "body": "\n\n<p>If you set the input record separator variable to the empty string, then perl will work in <em>paragraph mode</em>, and return a block at a time separated by one or more blank lines in the input data</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nlocal $/ = '';\n\n\nmy $n;\nwhile ( &lt;DATA&gt; ) {\n    printf \"Block %d:\\n&lt;&lt;%s&gt;&gt;\\n\\n\", ++$n, $_;\n}\n\n__DATA__\nA\nB\nC\nD\nE\nF\n\nA\nB\nC\nD\nE\nF\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Block 1:\n&lt;&lt;A\nB\nC\nD\nE\nF\n\n&gt;&gt;\n\nBlock 2:\n&lt;&lt;A\nB\nC\nD\nE\nF\n\n&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 0, "last_activity_date": 1464607961, "last_edit_date": 1464607961, "creation_date": 1464606530, "answer_id": 37524173, "question_id": 37522877, "link": "https://stackoverflow.com/questions/37522877/how-can-i-read-multiple-lines-of-a-file-into-blocks-in-perl/37524173#37524173", "title": "How can I read multiple lines of a file into blocks in Perl?", "body": "<p>There are two ways to do it.  Firstly, you can set the \"input record separator\" special variable (see more <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow\">here</a>).  In short, you are telling perl that a line is not terminated by a new-line char.  In your case, you could set it to '#SYNONYM &lt;0>'.  Then when you read in one line, you get everything up to that point in the file that has that tag - if the tag is not there, then you get what's left in the file.  So, for input data that looks like this;</p>\n\n<pre><code>#L_ENTRY        &lt;s_slash_1&gt;\n#LEX         &lt;/&gt;\n#ROOT        &lt;/&gt;\n#POS         &lt;sp&gt;\n#SUBCAT      &lt;slash&gt;\n#S_LINK            &lt;&gt;\n#BITS     &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n#L_ENTRY        &lt;s_comma_1&gt;\n#LEX         &lt;,&gt;\n#ROOT        &lt;,&gt;\n#POS         &lt;sp&gt;\n#SUBCAT      &lt;comma&gt;\n#S_LINK            &lt;&gt;\n#BITS     &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n</code></pre>\n\n<p>if you run this;</p>\n\n<pre><code>use v5.14;\nuse warnings;\n\nmy $filename = \"data.txt\" ;\nopen(my $fh, '&lt;', $filename) or die \"$filename: $!\" ;\nlocal $/ = \"#SYNONYM     &lt;0&gt;\\n\" ;\nmy @chunks = &lt;$fh&gt; ;\nsay $chunks[0] ;\nsay '---' ;\nsay $chunks[1] ;\n</code></pre>\n\n<p>You get;</p>\n\n<pre><code>#L_ENTRY        &lt;s_slash_1&gt;\n#LEX         &lt;/&gt;\n#ROOT        &lt;/&gt;\n#POS         &lt;sp&gt;\n#SUBCAT      &lt;slash&gt;\n#S_LINK            &lt;&gt;\n#BITS     &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n---\n\n#L_ENTRY        &lt;s_comma_1&gt;\n#LEX         &lt;,&gt;\n#ROOT        &lt;,&gt;\n#POS         &lt;sp&gt;\n#SUBCAT      &lt;comma&gt;\n#S_LINK            &lt;&gt;\n#BITS     &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n</code></pre>\n\n<p>A couple of notes about this;</p>\n\n<ol>\n<li>Any extra data between your records is going to \"get caught in the net\" and end up at the start of each record;</li>\n<li>The record separator itself is still part of the data and is at the end of each record.</li>\n</ol>\n\n<p>To get more control, it's better to process the data line-by-line and use regexs to switch between \"capture\" mode and \"dont capture\" mode:</p>\n\n<pre><code>use v5.14;\nuse warnings;\n\nmy $filename = \"data.txt\" ;\nopen(my $fh, '&lt;', $filename) or die \"$filename: $!\" ;\n\nmy $found_start_token = qr/ \\s* \\#L_ENTRY \\s* /x;\nmy $found_stop_token  = qr/ \\s* \\#SYNONYM \\s+ \\&lt;0\\&gt; \\s* \\n /x;\n\nmy @chunks ;\nmy $chunk  ;\nmy $capture_mode = 0 ;\n\nwhile ( &lt;$fh&gt; )  {\n    $capture_mode = 1 if /$found_start_token/ ;\n    $chunk .= $_ if $capture_mode ;\n    if (/$found_stop_token/) {\n        push @chunks, $chunk ;\n        $chunk = '' ;\n        $capture_mode = 0 ;\n    }\n}\nsay $chunks[0] ;\nsay '---' ;\nsay $chunks[1] ;\nexit 0\n</code></pre>\n\n<p>A couple of notes;</p>\n\n<ol>\n<li>The program works by string concatenation of the current line, <code>$_</code>, on to <code>$chunk</code> if we're in caputure mode.</li>\n<li>Capture mode is turned off and on using regexs in 'extended mode', <code>/x</code>.  This allows adding whitespace to the regex for easier reading.</li>\n<li>Extra data between record will <em>not</em> appear in the chunks.</li>\n<li>It produces the same output as before.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1464623165, "last_edit_date": 1495541308, "creation_date": 1464623165, "answer_id": 37529544, "question_id": 37522877, "link": "https://stackoverflow.com/questions/37522877/how-can-i-read-multiple-lines-of-a-file-into-blocks-in-perl/37529544#37529544", "title": "How can I read multiple lines of a file into blocks in Perl?", "body": "\n\n<p>From this and <a href=\"https://stackoverflow.com/questions/37525253\">your succeeding question</a> it's looking like you have the answer but are unaware of it</p>\n\n<p>As long as your blocks are separated by at least one blank line, you can use Perl's <em>paragraph mode</em>, which will hand you back the text in blocks</p>\n\n<p>Here's another, different example that I hope you understand. I've created a file called <code>test.txt</code> that contains the data that you posted, and opened it in paragraph mode</p>\n\n<p>The output is from <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\"><code>Data::Dump</code></a>, which I've used only to demonstrate that the resulting array contains exactly the four strings that you asked for</p>\n\n<p>Please add a comment to this solution if you need any more explanation</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nmy $file = 'test.txt';\n\nmy @chunks = do {\n    open my $fh, '&lt;', $file;\n    local $/ = '';\n    &lt;$fh&gt;;\n};\n\nuse Data::Dump;\ndd \\@chunks;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\n  \"#L_ENTRY    &lt;s_slash_1&gt;\\n#LEX        &lt;/&gt;\\n#ROOT       &lt;/&gt;\\n#POS        &lt;sp&gt;\\n#SUBCAT     &lt;slash&gt;\\n#S_LINK           &lt;&gt;\\n#BITS    &lt;&gt;\\n#WEIGHT      &lt;0.1&gt;\\n#SYNONYM     &lt;0&gt;\\n\\n\",\n  \"#L_ENTRY    &lt;s_comma_1&gt;\\n#LEX        &lt;,&gt;\\n#ROOT       &lt;,&gt;\\n#POS        &lt;sp&gt;\\n#SUBCAT     &lt;comma&gt;\\n#S_LINK           &lt;&gt;\\n#BITS    &lt;&gt;\\n#WEIGHT      &lt;0.1&gt;\\n#SYNONYM     &lt;0&gt;\\n\\n\",\n  \"#L_ENTRY    &lt;s_tilde_1&gt;\\n#LEX        &lt;~&gt;\\n#ROOT       &lt;~&gt;\\n#POS        &lt;sp&gt;\\n#SUBCAT     &lt;tilde&gt;\\n#S_LINK           &lt;&gt;\\n#BITS    &lt;&gt;\\n#WEIGHT      &lt;0.1&gt;\\n#SYNONYM     &lt;0&gt;\\n\\n\",\n  \"#L_ENTRY    &lt;s_at_1&gt;\\n#LEX        &lt;\\@&gt;\\n#ROOT       &lt;\\@&gt;\\n#POS        &lt;sp&gt;\\n#SUBCAT     &lt;at&gt;\\n#S_LINK           &lt;&gt;\\n#BITS    &lt;&gt;\\n#WEIGHT      &lt;0.1&gt;\\n#SYNONYM     &lt;0&gt;\\n\",\n]\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6255615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d36ce63eab558609401f5e9847853d9?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6255615/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 37524173, "answer_count": 3, "score": -1, "last_activity_date": 1467555366, "creation_date": 1464602603, "last_edit_date": 1464622515, "question_id": 37522877, "link": "https://stackoverflow.com/questions/37522877/how-can-i-read-multiple-lines-of-a-file-into-blocks-in-perl", "title": "How can I read multiple lines of a file into blocks in Perl?", "body": "<p>I have a file which contains the text below.</p>\n\n<pre><code>#L_ENTRY    &lt;s_slash_1&gt;\n#LEX        &lt;/&gt;\n#ROOT       &lt;/&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;slash&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n#L_ENTRY    &lt;s_comma_1&gt;\n#LEX        &lt;,&gt;\n#ROOT       &lt;,&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;comma&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n#L_ENTRY    &lt;s_tilde_1&gt;\n#LEX        &lt;~&gt;\n#ROOT       &lt;~&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;tilde&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n\n#L_ENTRY    &lt;s_at_1&gt;\n#LEX        &lt;@&gt;\n#ROOT       &lt;@&gt;\n#POS        &lt;sp&gt;\n#SUBCAT     &lt;at&gt;\n#S_LINK           &lt;&gt;\n#BITS    &lt;&gt;\n#WEIGHT      &lt;0.1&gt;\n#SYNONYM     &lt;0&gt;\n</code></pre>\n\n<p>I know how to make the lines into an array using Perl, but in this case I want to make an array with two elements. Each that begins with <code>#L_ENTRY</code> and ends with <code>#SYNONYM &lt;0&gt;</code>. </p>\n\n<p>Can anyone help? </p>\n"}, {"tags": ["perl", "inheritance", "syntax"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 8, "last_activity_date": 1464599449, "last_edit_date": 1464599449, "creation_date": 1464597917, "answer_id": 37521315, "question_id": 37521028, "link": "https://stackoverflow.com/questions/37521028/what-is-the-preferred-convention-for-perl-inheritance/37521315#37521315", "title": "What is the preferred convention for Perl Inheritance", "body": "<p>Manipulating @ISA is the oldest way. <a href=\"http://p3rl.org/base\" rel=\"noreferrer\">base</a> was the second way, and <a href=\"http://p3rl.org/parent\" rel=\"noreferrer\">parent</a> is even newer. So, I'd recommend <code>parent</code> for new projects.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 18, "last_activity_date": 1464598979, "creation_date": 1464598979, "answer_id": 37521664, "question_id": 37521028, "link": "https://stackoverflow.com/questions/37521028/what-is-the-preferred-convention-for-perl-inheritance/37521664#37521664", "title": "What is the preferred convention for Perl Inheritance", "body": "<p>The <code>use parent</code> pragma sets up the <code>@ISA</code> at compile time.  From <a href=\"http://perldoc.perl.org/parent.html\">parent</a></p>\n\n<blockquote>\n  <p>Establish an ISA relationship with base classes at compile time</p>\n</blockquote>\n\n<p>When you <code>use ParentClass;</code> and then manually set up <code>@ISA</code> that happens at run time.  In this case code in <code>BEGIN</code>, <code>CHECK</code>, or <code>INIT</code> blocks won't be able to use the inheritance hierarchy without extra work.</p>\n\n<p>The <code>use base</code> pragma is older and <code>parent</code> is recommended in docs.  From <a href=\"http://perldoc.perl.org/base.html\">base</a></p>\n\n<blockquote>\n  <p>Unless you are using the fields pragma, consider this module discouraged in favor of the lighter-weight parent</p>\n</blockquote>\n\n<p>Thus I'd say go with <code>use parent</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 8, "last_activity_date": 1464633002, "last_edit_date": 1464633002, "creation_date": 1464628332, "answer_id": 37530787, "question_id": 37521028, "link": "https://stackoverflow.com/questions/37521028/what-is-the-preferred-convention-for-perl-inheritance/37530787#37530787", "title": "What is the preferred convention for Perl Inheritance", "body": "<pre><code>use parent 'Foo::Bar';\n</code></pre>\n\n<p>is cleanest, although the repetitious</p>\n\n<pre><code>use Foo::Bar qw( );\nour @ISA = 'Foo::Bar';\n</code></pre>\n\n<p>is still commonly used. The former also has the advantage of happening sooner (when the file is compiled) than the latter (when the file is executed), though that rarely matters.</p>\n\n<p><em>base</em> is discouraged because it silences errors that occur when a module is loaded.</p>\n"}], "owner": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 37521664, "answer_count": 3, "score": 13, "last_activity_date": 1464633002, "creation_date": 1464596990, "question_id": 37521028, "link": "https://stackoverflow.com/questions/37521028/what-is-the-preferred-convention-for-perl-inheritance", "title": "What is the preferred convention for Perl Inheritance", "body": "<p>In the example below, I have 3 different syntax/mechanisms for defining inheritance. All of them work. Can someone tell me which one is preferred and why (yes, I know \"there is more than ...\"). Also, why do I need \"use WB\" in 1 case and not the other 2. TIA</p>\n\n<p>The main -</p>\n\n<pre><code>#!/usr/local/bin/perl -w\n#######################\n\nuse strict;\nuse River;\nuse Ocean;\nuse Lake;\n\nmy $pName = $0;         $pName =~ s/.*\\///;     $pName =~ s/\\.\\w+$//;\n\nmy @sources = (Ocean-&gt;new ('Pacific', 1),\n               River-&gt;new ('Brazos', 0),\n               Lake-&gt;new ('Tahoe', 0) );\nforeach (@sources) {\n        $_-&gt;printIfSaline ($pName);\n}\n</code></pre>\n\n<p>The modules (Lake, River and Ocean inherit from WaterBody):</p>\n\n<pre><code>######################\n# File: Lake.pm\n######################\n\npackage Lake;\n\nuse strict;\nuse WaterBody;\nour @ISA = ('WaterBody');\n\nsub new {\n    my $class = shift;\n    $class-&gt;SUPER::new(@_)\n}\n\nsub printIfSaline {\n        my ($self, $prompt) = @_;\n        my $name = $self-&gt;getName();\n        my $taste = $self-&gt;isSaline() ? \"salty\" : \"sweet\";\n        print \"$prompt: Lake $name has $taste water\\n\";\n}\n\n1\n\n######################\n# File: Ocean.pm\n######################\n\npackage Ocean;\n\nuse strict;\nuse parent 'WaterBody';\n\nsub new {\n    my $class = shift;\n    $class-&gt;SUPER::new(@_);\n}\n\nsub printIfSaline {\n        my ($self, $prompt) = @_;\n        my $name = $self-&gt;getName;\n        my $taste = $self-&gt;SUPER::isSaline() ? \"salty\" : \"sweet\";\n        print \"$prompt: $name Ocean has $taste water\\n\";\n}\n\n1\n\n######################\n# File: River.pm\n######################\n\npackage River;\n\nuse strict;\nuse base 'WaterBody';\n\nsub new {\n    my $class = shift;\n    $class-&gt;SUPER::new(@_);\n}\n\nsub printIfSaline {\n    my ($self, $prompt) = @_;\n    my $name = $self-&gt;getName;\n    my $taste = $self-&gt;isSaline ? \"salty\" : \"sweet\";\n    print \"$prompt: $name river has $taste water\\n\";\n}\n\n1\n\n######################\n# File: WaterBody.pm\n######################\n\npackage WaterBody;\n\nsub new {\n    my $class = shift;\n    my $self = {};\n    $self-&gt;{name} = shift;\n    $self-&gt;{saline} = shift;\n    bless $self, $class;\n    return $self;\n}\n\nsub getName {\n    my ($self) = @_;\n    $self-&gt;{name}\n}\n\nsub isSaline {\n    my ($self) = @_;\n    $self-&gt;{saline}\n}\n\n1\n</code></pre>\n"}, {"tags": ["xml", "perl", "dom"], "comments": [{"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 1, "creation_date": 1464582244, "post_id": 37517358, "comment_id": 62528363, "body": "The input file doesn&#39;t seem to have the word &quot;web&quot;."}, {"owner": {"reputation": 11, "user_id": 6398638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce262635757ae9b4f1f4dd6677edacc?s=128&d=identicon&r=PG&f=1", "display_name": "user6398638", "link": "https://stackoverflow.com/users/6398638/user6398638"}, "reply_to_user": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 0, "creation_date": 1464582818, "post_id": 37517358, "comment_id": 62528514, "body": "Sorry couldnt find a place to edit the question. just assume it has word web instead of programming in the title."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464606229, "post_id": 37517358, "comment_id": 62539809, "body": "At the bottom of your question, on the line below the list of tags, are four options: <code>share</code>, <code>edit</code>, <code>close</code>, and <code>flag</code>. One of those is the one you want"}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 2, "last_activity_date": 1464587120, "creation_date": 1464587120, "answer_id": 37518369, "question_id": 37517358, "link": "https://stackoverflow.com/questions/37517358/xml-and-perl-parsing-using-dom-searching-for-a-value/37518369#37518369", "title": "XML and perl parsing using DOM - Searching for a value", "body": "<p>The XML::DOM module is not really a module I'd recommend since it doesn't support XPath and it's not very fast.  For the type of thing you're trying to do, I'd recommend a module that support XPath.  The two most commonly used ones are XML::LibXML and XML::Twig.</p>\n\n<p>I've written a <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow\">tutorial for using XML::LibXML</a> which includes lots of examples.</p>\n\n<p>For your question the following might do what you want:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nuse XML::LibXML;\n\nmy $course_file= shift;\n\nmy $dom = XML::LibXML-&gt;load_xml(location =&gt; $course_file);\n\nmy @matches = $dom-&gt;findnodes('//unit[contains(./title, \"Programming\")]');\nmy $count = @matches;\n\nsay \"Total matching units: $count\";\n</code></pre>\n\n<p>You can learn more about XPath with the <a href=\"http://grantm.github.io/perl-libxml-by-example/xpath.html\" rel=\"nofollow\">examples page</a>, which also links to the <a href=\"http://grantm.github.io/perl-libxml-by-example/_static/xpath-sandbox/xpath-sandbox.html?q=%2F%2Fmovie%2Ftitle\" rel=\"nofollow\">XPath sandbox</a> where you can try different expressions to see what they match.</p>\n"}], "owner": {"reputation": 11, "user_id": 6398638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce262635757ae9b4f1f4dd6677edacc?s=128&d=identicon&r=PG&f=1", "display_name": "user6398638", "link": "https://stackoverflow.com/users/6398638/user6398638"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464587120, "creation_date": 1464580340, "last_edit_date": 1464586269, "question_id": 37517358, "link": "https://stackoverflow.com/questions/37517358/xml-and-perl-parsing-using-dom-searching-for-a-value", "title": "XML and perl parsing using DOM - Searching for a value", "body": "<p>Im using following script to count the number of elements in a xml file. \nThanks to one of the gurus here I can print the number. </p>\n\n<p>Just want to know how do I add another funcionality which will look for the word \"web\" and print only the number of units which contains that word?</p>\n\n<p>Thanks. </p>\n\n<pre><code>  #!/usr/bin/perl -w \n  use strict;\n  use XML::DOM; \n\n  my $course_file= shift;\n\n  my $parser = new XML::DOM::Parser;\n\n  my $course = $parser-&gt;parsefile($course_file); \n\n  my @units = $course-&gt;getElementsByTagName(\"title\");\n\n\n  foreach my $u (@units)\n  {\n    foreach my $child ($u-&gt;getChildNodes)\n    {\n\n        if ($child-&gt;getNodeName eq \"internet\")\n        {\n            $u-&gt;removeChild($child);\n        }\n    } \n   }\n\n   print(scalar(@units),\"\\n\");\n</code></pre>\n\n<p>Example XML:</p>\n\n<pre><code>&lt;course&gt;\n  &lt;name&gt;Internet Computing&lt;/name&gt;\n  &lt;duration&gt;3 years&lt;/duration&gt;\n  &lt;unit&gt;\n    &lt;title&gt;Programming&lt;/title&gt;\n    &lt;lecturer&gt;\n      &lt;surname language=\"English\"&gt;X&lt;/surname&gt;\n    &lt;/lecturer&gt;\n  &lt;/unit&gt;\n  &lt;unit&gt;\n    &lt;title&gt;Internet&lt;/title&gt;\n    &lt;lecturer&gt;\n      &lt;surname&gt;S&lt;/surname&gt;\n    &lt;/lecturer&gt;\n  &lt;/unit&gt;\n&lt;/course&gt;\n</code></pre>\n"}, {"tags": ["xml", "perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1464576753, "creation_date": 1464576753, "answer_id": 37517005, "question_id": 37516968, "link": "https://stackoverflow.com/questions/37516968/how-do-i-print-the-number-of-elements/37517005#37517005", "title": "how do I print the number of elements", "body": "<p>To find the number of elements in an array, evaluate the array in scalar context.</p>\n\n<pre><code>print(scalar(@nodes), \"\\n\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print(0+@nodes, \"\\n\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print(@nodes . \"\\n\");\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 2948959, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f6187b448f44d9585411e74b5f7363d3?s=128&d=identicon&r=PG&f=1", "display_name": "CJM", "link": "https://stackoverflow.com/users/2948959/cjm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 37517005, "answer_count": 1, "score": 1, "last_activity_date": 1464576753, "creation_date": 1464576510, "question_id": 37516968, "link": "https://stackoverflow.com/questions/37516968/how-do-i-print-the-number-of-elements", "title": "how do I print the number of elements", "body": "<p>following is my code which will return name of the units. \nbut how do I count and print the number of units using perl?\nbasically printing the number of elements which contains unit tag?\nThanks. </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse XML::DOM;\n\nmy $parser = new XML::DOM::Parser;\nmy $dom_obj;\n\ndie \"Unable to parse XML document\\n\" \n    unless $dom_obj = $parser-&gt;parsefile(\"course.xml\");\n\nmy @nodes = $dom_obj-&gt;getElementsByTagName(\"unit\");\n\nforeach my $elem (@nodes)\n{\n    if ($elem-&gt;getNodeType == ELEMENT_NODE)\n    {\n        print $elem-&gt;getTagName, \"\\n\";\n    }\n\n} \n</code></pre>\n"}, {"tags": ["android", "windows", "perl"], "comments": [{"owner": {"reputation": 3944, "user_id": 3515174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/64aba1729d6b7cb976be0a6ed66ae1c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mardoxx", "link": "https://stackoverflow.com/users/3515174/mardoxx"}, "edited": false, "score": 0, "creation_date": 1464557043, "post_id": 37515047, "comment_id": 62523677, "body": "Probably want to look at using some MTP library"}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1464592558, "post_id": 37515047, "comment_id": 62532127, "body": "As far as I know, there is no drive/directory path. It&#39;s more like a explorer plugin adding an icon and trying to behave like a folder without being one."}], "answers": [{"tags": [], "owner": {"reputation": 3991, "user_id": 291877, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fed330de1d82c824dce22767d56a5fb5?s=128&d=identicon&r=PG", "display_name": "Zhang18", "link": "https://stackoverflow.com/users/291877/zhang18"}, "is_accepted": true, "score": 0, "last_activity_date": 1477920178, "creation_date": 1477920178, "answer_id": 40343077, "question_id": 37515047, "link": "https://stackoverflow.com/questions/37515047/how-to-access-a-usb-connected-phone-via-perl/40343077#40343077", "title": "How to access a USB connected phone via perl", "body": "<p>Found a work around by copying the files (manually) to a tmp directory on C: drive and process it from there. Not elegant, but serves the purpose for now.</p>\n"}], "owner": {"reputation": 3991, "user_id": 291877, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fed330de1d82c824dce22767d56a5fb5?s=128&d=identicon&r=PG", "display_name": "Zhang18", "link": "https://stackoverflow.com/users/291877/zhang18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 40343077, "answer_count": 1, "score": 1, "last_activity_date": 1477920178, "creation_date": 1464556399, "question_id": 37515047, "link": "https://stackoverflow.com/questions/37515047/how-to-access-a-usb-connected-phone-via-perl", "title": "How to access a USB connected phone via perl", "body": "<p>When I connect my android phone via USB to my PC with Windows 10, it shows up as <code>This PC\\SAMSUNG-SM-G925A\\Phone</code> in the browser. However, I'm not able to access the directories on the device with that string. Does anyone know what directory should I use? I have Windows based ActivePerl. For starters, is there a drive letter (if so, how can I find out) that points to the root directory on that phone? Thx!</p>\n"}, {"tags": ["perl", "unicode"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1464558100, "post_id": 37515013, "comment_id": 62523931, "body": "It should work fine if you add <code>binmode STDOUT, &quot;:utf8&quot;;</code> (provided your output terminal expects UTF8 encoded data)"}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 5367974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a04af26730eb6b8cc17b9ebadf1634a6?s=128&d=identicon&r=PG&f=1", "display_name": "T. Carson", "link": "https://stackoverflow.com/users/5367974/t-carson"}, "edited": false, "score": 0, "creation_date": 1464579186, "post_id": 37516658, "comment_id": 62527750, "body": "Thank you so much! I&#39;d found the first recommendation, and it wasn&#39;t fixing anything for my on my Windows box, and I was dead stumped. I really appreciate the help. :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1464573092, "creation_date": 1464573092, "answer_id": 37516658, "question_id": 37515013, "link": "https://stackoverflow.com/questions/37515013/decode-unicode-escape-characters-with-perl/37516658#37516658", "title": "Decode unicode escape characters with perl", "body": "<p>You didn't tell Perl how to encode the output. You need to add</p>\n\n<pre><code>use open ':std', ':encoding(XXX)';\n</code></pre>\n\n<p>where <code>XXX</code> is the encoding the terminal expects.</p>\n\n<p>On unix boxes, you normally need</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>On Windows boxes, you normally need</p>\n\n<pre><code>use Win32 qw( );\nuse open ':std', ':encoding(cp'.Win32::GetConsoleOutputCP().')';\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5367974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a04af26730eb6b8cc17b9ebadf1634a6?s=128&d=identicon&r=PG&f=1", "display_name": "T. Carson", "link": "https://stackoverflow.com/users/5367974/t-carson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1027, "favorite_count": 0, "accepted_answer_id": 37516658, "answer_count": 1, "score": 1, "last_activity_date": 1464573092, "creation_date": 1464556149, "question_id": 37515013, "link": "https://stackoverflow.com/questions/37515013/decode-unicode-escape-characters-with-perl", "title": "Decode unicode escape characters with perl", "body": "<p>I hate to ask a question that's undoubtedly been answered a dozen times before, but I find encoding issues confusing and am having a hard time matching up other people's q/a with my own problem.</p>\n\n<p>I'm pulling information from a json file online, and my perl script isn't handling unicode escape characters properly.</p>\n\n<p>Script looks like this:</p>\n\n<pre><code>use LWP::Simple;\nuse JSON;\nmy $url = ______;\nmy $json = get($url);\nmy $data = decode_json($json);\nforeach my $i (0 .. $#{data-&gt;{People}}) {\n   print \"$data-&gt;{People}[$i]{first_name} $data-&gt;{People}[$i]{last_name}\\n\";\n}\n</code></pre>\n\n<p>It encounters jsons that look like this: <code>\"first_name\":\"F\\u00e9lix\",\"last_name\":\"Cat\"</code> and prints them like this: <code>F\u0398lix Cat</code></p>\n\n<p>I'm sure there's a trivial fix here, but I'm stumped. I'd really appreciate any help you can provide.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1464565054, "last_edit_date": 1464565054, "creation_date": 1464562649, "answer_id": 37515747, "question_id": 37514135, "link": "https://stackoverflow.com/questions/37514135/get-sequence-length-from-each-different-organism-genbank-file/37515747#37515747", "title": "get sequence length from each different organism - genbank file", "body": "<blockquote>\n  <p>Which part should I change to print the lengths for each organism?</p>\n</blockquote>\n\n<p>I think you should change many parts of your program (primarily I would change the logic where you use the sequence as hash key, to instead use the organism as hash key). Here is a suggestion: </p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $filename = 'datafile.txt';\nchomp ($filename);\nopen(IN, $filename) or die \"\\n error opening file \\n;/\\n\";\n\n$/ = \"//\";\n\nmy %organisms ;\nwhile (my $block = &lt;IN&gt;)  {\n    next if $block =~ /^\\s*\\n\\s*$/;\n    my ($definition , $sequence) = split \"ORIGIN\", $block; \n\n    my $accession; \n    $definition =~ m/ACCESSION\\s*(\\S+)/x\n        ? $accession = $1\n        : die \"No ACCESSION\";\n\n    my $organism;\n    $definition =~ m/ORGANISM\\s*(\\S.+)\\n/x\n        ? $organism = $1\n        : die \"No ORGANISM\";\n\n    $sequence =~ s/[\\d\\n\\s\\t\\/]//g;\n    push @{ $organisms{ $organism }{info} }, [ $sequence, $accession ];\n}\n\nfor my $organism ( keys %organisms ) {\n    say \"Organism: $organism\";\n    my $info = $organisms{ $organism }{info};\n    my $sum = 0;\n    map { $sum += length $_-&gt;[0] } @$info;\n    my ( $min_len, $min_id, $max_len, $max_id ) = map { length $_-&gt;[0], $_-&gt;[1] }\n      (sort { length $a-&gt;[0] &lt;=&gt;  length $b-&gt;[0]} @$info)[0,-1];\n\n    say \"average length = \" .  $sum / ( scalar @$info );\n    say \"shortest length = $min_len | $min_id\";\n    say \"longest length = $max_len | $max_id\";\n    say \"\";\n}\n</code></pre>\n\n<p>Output is now:</p>\n\n<pre><code>Organism: Homo sapiens\naverage length = 39.5\nshortest length = 20 | NM_001112\nlongest length = 59 | NM_854\n\nOrganism: Caenorhabditis elegans\naverage length = 234.5\nshortest length = 229 | AW04463\nlongest length = 240 | AW057463\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6397793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2ba16af17c1e059c1ae750db794fcc?s=128&d=identicon&r=PG&f=1", "display_name": "prasab", "link": "https://stackoverflow.com/users/6397793/prasab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 37515747, "answer_count": 1, "score": 0, "last_activity_date": 1464565054, "creation_date": 1464550670, "question_id": 37514135, "link": "https://stackoverflow.com/questions/37514135/get-sequence-length-from-each-different-organism-genbank-file", "title": "get sequence length from each different organism - genbank file", "body": "<p>I'd like to get the max, min and average length from a genbank file containing different organisms types, I'd like to get this for every organism. </p>\n\n<p>Example:</p>\n\n<pre><code>Organism: Homo sapiens\naverage length = 160 \nshortest length = 20 | id of shortest seq\nlongest length = 500 | id of longest seq\n\nOrganism: Caenorhabditis elegans\naverage length = 140 \nshortest length = 40 | id of shortest seq\nlongest length = 300 | id of longest seq\n</code></pre>\n\n<p>I managed to get the lengths but I can't separate them by organism</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"enter file path: \";\nmy $filename = &lt;&gt;;\nchomp ($filename);\nopen(IN, $filename) or die \"\\n error opening file \\n;/\\n\";\n\n$/ = \"//\";\n\nmy %organisms ;\nwhile (my $block = &lt;IN&gt;)  {\n    next if $block =~ /^\\s*\\n\\s*$/;\n    my ($definition , $sequence) = split \"ORIGIN\", $block; \n\n    my $accession; \n    $definition =~ m/(ACCESSION.+[0-9])/x\n        ? $accession = $1\n        : die \"No ACCESSION\";\n\n    my $organism;\n    $definition =~ m/(ORGANISM\\s+.+\\n)/x\n        ? $organism = $1\n        : die \"No ORGANISM\";\n\n\n    $sequence =~ s/[\\d\\n\\s\\t\\/]//g;\n    $organisms{ $sequence } = [ $organism, $accession ];\n    }\n\nmy $sum = 0;\nforeach my $sequence( keys %organisms) {\n\n    my $current_len = length($sequence);\n         $sum += $current_len;\n};\nmy $number_seqs = scalar keys %organisms;\nmy $average = ($sum / $number_seqs);\nprint \"average length = $average \\n\";\n\nmy @sorted_keys = sort { length $a  &lt;=&gt;  length $b } keys %organisms ;\nmy $shortest = $sorted_keys[0];\nmy $longest  = $sorted_keys[-1];\nmy $short = length $shortest;\nmy $long = length $longest;\nmy $short_id = $organisms{$shortest}-&gt;[1];\nmy $long_id = $organisms{$longest}-&gt;[1];\nmy $short_type = $organisms{$shortest}-&gt;[0];\nmy $long_type = $organisms{$longest}-&gt;[0];\n\nprint \"shortest length = $short | $short_id | $short_type\\n\";\nprint \"longest length = $long | $long_id | $long_type\\n\";\n\n\nexit;\n</code></pre>\n\n<p>Which part should I change to print the lengths for each organism?</p>\n\n<p>input example:</p>\n\n<pre><code>LOCUS       NM_001112            40 bp    mRNA    linear   PRI 20-AP\nDEFINITION  Homo sapiens transcript variant 5, mRNA.\nACCESSION   NM_001112\nKEYWORDS    RefSeq.\nSOURCE      Homo sapiens (human)\n  ORGANISM  Homo sapiens\nORIGIN      \n        1 actgggcggc ccttagaccc\n       //\nLOCUS       NM_854               212 bp    mRNA    linear   PRI 20-AP\nDEFINITION  Homo sapiens transcript variant 1, mRNA.\nACCESSION   NM_854\nKEYWORDS    RefSeq.\nSOURCE      Homo sapiens (human)\n  ORGANISM  Homo sapiens\nORIGIN      \n        1 gggcaaaag aagcaggtca cacagcctgt ttcctgtttt caaacgggga acttagaaag\n\n//\nLOCUS       AW057463                 469 bp    mRNA    linear   EST 29-SE\nDEFINITION  ca03d09.x1 C elegans fem3 Q23 S1 Caenorhabditis elegans cDNA 3'\nACCESSION   AW057463\nVERSION     AW057463.1  GI:5933102\nDBLINK      BioSample: LIBEST_002392\nKEYWORDS    EST.\nSOURCE      Caenorhabditis elegans\n  ORGANISM  Caenorhabditis elegans\nORIGIN      \n        1 ttttactcaa aactatctat ccaagttaat cagtagtgtt agttctagtt aagttattaa\n       61 ggcgcacggt ctgtctcctt gcttcttctc tttgtatccc ctttctcctt tttcaaaact\n      121 tcactttcat caataattgg ttctttagaa tacagttttc caatttccac gtactctctt\n      181 ctcttccgat ccttgtcaaa ctttttcttc gggagctcat cttctggaac tactttcaca\n//\nLOCUS       AW04463                 259 bp    mRNA    linear   EST 14-SE\nDEFINITION  ca02d86.x1 C elegans fem6 S12 Q3 Caenorhabditis elegans cDNA 3'\nACCESSION   AW04463\nVERSION     AW04463.1  GI:90872\nDBLINK      BioSample: LIBEST_004372\nKEYWORDS    EST.\nSOURCE      Caenorhabditis elegans\n  ORGANISM  Caenorhabditis elegans\nORIGIN      \n      241 tttttcgatg gaaccaaacg ggaacgagtt ggcttttcca ccaaaagatt agcgtactcc\n      301 gaactgtatt tccccttctt tttcttttca agaggaacat tttctcgttg agtatcatcg\n      361 tcctccaaac tttgttgagt agtcatggac tgggtccgag agaattcaac ggtaggcatg\n      421 gaacctttgc tcttgtcgtc gtttgccttt ggtgcctttc ccttttgaa\n//\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1464548015, "post_id": 37513584, "comment_id": 62520783, "body": "Possible duplicate <a href=\"http://stackoverflow.com/questions/36533282/how-to-replace-multiple-any-character-including-newline-in-perl-regex/36534283#36534283\">How to replace multiple any-character (including newline) in Perl RegEx?</a>"}, {"owner": {"reputation": 83, "user_id": 4326181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b2882df9ea455d4a47eba0092a8761d?s=128&d=identicon&r=PG&f=1", "display_name": "Trent Three", "link": "https://stackoverflow.com/users/4326181/trent-three"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1464548700, "post_id": 37513584, "comment_id": 62520998, "body": "Not a duplicate, but that explains why it&#39;s not working (-p option is the culprit?) but I don&#39;t understand what the structure should be of the search-and-replace code in the example.  It would be helpful if we could have an actual working copy of the example above."}, {"owner": {"reputation": 83, "user_id": 4326181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b2882df9ea455d4a47eba0092a8761d?s=128&d=identicon&r=PG&f=1", "display_name": "Trent Three", "link": "https://stackoverflow.com/users/4326181/trent-three"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1464548784, "post_id": 37513584, "comment_id": 62521029, "body": "Is there perhaps an alternative to the -p command to read the file as one line?  And how would the SnR code be integrated?   Ideally I&#39;m thinking this can be coded as a single command line without having to create a separate perl file?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464600222, "post_id": 37514053, "comment_id": 62536156, "body": "This should work, but one day a file will  come along that contains a legitimate NUL character and your command will break. It&#39;s best to use <code>perl -0777 -pe &#39; ... &#39;</code> which sets <code>$&#47;</code> to <code>undef</code>"}], "tags": [], "owner": {"reputation": 2324, "user_id": 5334131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JU6Bo.jpg?s=128&g=1", "display_name": "Hellmar Becker", "link": "https://stackoverflow.com/users/5334131/hellmar-becker"}, "is_accepted": true, "score": 2, "last_activity_date": 1464550234, "creation_date": 1464550234, "answer_id": 37514053, "question_id": 37513584, "link": "https://stackoverflow.com/questions/37513584/perl-command-line-to-replace-text-block-across-multi-line-using-regex/37514053#37514053", "title": "Perl command line to replace text block across multi-line using regex", "body": "<p>You can set the record separator with the <code>-0</code> option. Like so:</p>\n\n<pre><code>perl -0pe 's/.../.../g' *.html\n</code></pre>\n\n<p>This sets the record separator to the <code>NUL</code> character, so that the entire file is read at once, rather than line by line.</p>\n"}], "owner": {"reputation": 83, "user_id": 4326181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b2882df9ea455d4a47eba0092a8761d?s=128&d=identicon&r=PG&f=1", "display_name": "Trent Three", "link": "https://stackoverflow.com/users/4326181/trent-three"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1537, "favorite_count": 0, "accepted_answer_id": 37514053, "answer_count": 1, "score": 1, "last_activity_date": 1464550394, "creation_date": 1464547393, "last_edit_date": 1464550394, "question_id": 37513584, "link": "https://stackoverflow.com/questions/37513584/perl-command-line-to-replace-text-block-across-multi-line-using-regex", "title": "Perl command line to replace text block across multi-line using regex", "body": "<p>I've got a bunch of html files that I need to replace the following text:</p>\n\n<pre><code>&lt;div id=\"header\"&gt;\nplus all info between\n&lt;!-- end #header --&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;?php include (\"header.php\"); ?&gt;\n</code></pre>\n\n<p>I thought I could run something like this but it isn't matching the text:</p>\n\n<pre><code>perl -p -i.bak -e 's/&lt;div id=\"header\"&gt;.*&lt;!\\-\\- end #header \\-\\-&gt;/&lt;\\?php include \\(\"header\\.php\"\\); \\?&gt;/g' *.html\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -p -i.bak -e 's/&lt;div id=\"header\"&gt;[\\S\\s\\n]*&lt;!\\-\\- end \\#header \\-\\-&gt;/&lt;\\?php include \\(\"header\\.php\"\\); \\?&gt;/img' *.html\n</code></pre>\n\n<p>I don't know if it's not searching across multiple lines and I need a parameter or I'm not escaping characters right.  Any help would be appreciated.</p>\n\n<p>I would like to batch run this in a directory and change all the content within each file where appropriate.</p>\n\n<p>EDIT: looking for a single command line version, not using multiple pl files if possible.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1464546602, "creation_date": 1464546602, "answer_id": 37513465, "question_id": 37513376, "link": "https://stackoverflow.com/questions/37513376/get-fasta-file-sequence-from-a-hash/37513465#37513465", "title": "get fasta file sequence from a hash", "body": "<p>You aren't correctly accumulating the hash, and you aren't printing it either.</p>\n\n<pre><code>    while (&lt;FILE&gt;) {\n        chomp;\n\n        if($_ =~ /^&gt;(.+)/){\n            $id = $1;\n\n        } elsif (/^[A-Z]+$/) {\n            $seq .= $_;\n\n        } else {\n            $fastahash{$id} = $seq;   # Populate the hash.\n        }\n    }\n\n   for my $id (keys %fastahash) {\n      print \"$id $fastahash{$id}\\n\";  # Print it.\n\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 0, "last_activity_date": 1464546656, "creation_date": 1464546656, "answer_id": 37513475, "question_id": 37513376, "link": "https://stackoverflow.com/questions/37513376/get-fasta-file-sequence-from-a-hash/37513475#37513475", "title": "get fasta file sequence from a hash", "body": "<p>You're assigning <code>$_</code> to fastahash when you should, I think, be assigning <code>$seq</code>. Also, you never reset id or seq, so there's a potential bug. Try something like this:</p>\n\n<pre><code>while (&lt;FILE&gt;) {\n    chomp;\n\n    if (/^&gt;(.+)/) {\n        $id = $1;\n    } elsif (/^[A-Z]+$/) {\n        $seq .= $_;\n    } else {\n        $fastahash{$id} = $seq if $id;\n        $id = undef;\n        $seq = '';\n    }\n}\n\n$fastahash{$id} = $seq if $id;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1464548360, "creation_date": 1464548360, "answer_id": 37513727, "question_id": 37513376, "link": "https://stackoverflow.com/questions/37513376/get-fasta-file-sequence-from-a-hash/37513727#37513727", "title": "get fasta file sequence from a hash", "body": "\n\n<p>I realise that this isn't a code review, but I thought it would be useful to make some comments on your code</p>\n\n<ul>\n<li><p>There's ordinarily no need to define variables when you declare them. In fact it will often remove useful error messages if you set scalar variables to the empty string</p></li>\n<li><p>It is best practice to use lexical file handles and the three-parameter form of <code>open</code>. So</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>open FILE, \"file.fasta\", or die $!;\n</code></pre>\n\n<p>is better written as</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>open my $fh, '&lt;', 'file.fasta' or die $!;\n</code></pre>\n\n<p>(Note that you also have a superfluous comma in your original code.)</p>\n\n<p>Lexical file handles generally remove the necessity to <code>close</code> them, as they will be closed implicitly when they destroyed when they go out of scope</p></li>\n<li><p>You may be unfamiliar with Perl's <em>default</em> variable <code>$_</code>, but code can be made much clearer and more concise if you use it</p>\n\n<p>You already use it with <code>chomp</code>, which is equivalent to <code>chomp $_</code>, and <code>$_ =~ /^&gt;(.+)/</code> need be only <code>/^&gt;(.+)/</code></p></li>\n<li><p>Note that <code>foreach</code> is exactly equivalent to <code>for</code>, and most programmers familiar with Perl will prefer the former</p></li>\n</ul>\n\n<p>I would write your program something like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nopen my $fh, '&lt;', 'file.fasta' or die $!;\n\nmy %fasta_hash;\nmy ($id, $seq);\n\nwhile ( &lt;$fh&gt; ) {\n\n    chomp;\n\n    if ( /^&gt;(.+)/ ) {\n        $id = $1;\n    }\n    elsif ( /\\S/ and not /[^ACGTU]/ ) {\n        $seq .= $_;\n    }\n    else {\n        $fasta_hash{$id} = $seq;\n    }\n}\n\nfor my $id ( keys %fasta_hash ) {\n    print \"$id -- $fasta_hash{$id}\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>cel-mir-35 MI0000006 Caenorhabditis elegans miR-35 stem-loop -- UCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUAUCACCGGGUGGAAACUAGCAGUGGCUCGAUCUUUUCC\ncel-mir-37 MI0000008 Caenorhabditis elegans miR-37 stem-loop -- UCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUAUCACCGGGUGGAAACUAGCAGUGGCUCGAUCUUUUCCCACCGCUGUCGGGGAACCGCGCCAAUUUUCGCUUCAGUGCUAGACCAUCCAAAGUGUCUAUCACCGGGUGAAAAUUCGCAUGGGUCCCCGACGCGGAUUCUAGAAACCCUUGGACCAGUGUGGGUGUCCGUUGCGGUGCUACAUUCUCUAAUCUGUAUCACCGGGUGAACACUUGCAGUGGUCCUCGUGGUUUCU\ncel-mir-36 MI0000007 Caenorhabditis elegans miR-36 stem-loop -- UCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUAUCACCGGGUGGAAACUAGCAGUGGCUCGAUCUUUUCCCACCGCUGUCGGGGAACCGCGCCAAUUUUCGCUUCAGUGCUAGACCAUCCAAAGUGUCUAUCACCGGGUGAAAAUUCGCAUGGGUCCCCGACGCGGA\n</code></pre>\n\n<p>As for how to reverse the hash so that the sequences are used as keys, in my version above you can just change the line <code>$fasta_hash{$id} = $seq;</code> to <code>$fasta_hash{$seq} = $id;</code></p>\n"}], "owner": {"reputation": 19, "user_id": 6295895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1053659371336814/picture?type=large", "display_name": "Tomb", "link": "https://stackoverflow.com/users/6295895/tomb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 37513465, "answer_count": 3, "score": 0, "last_activity_date": 1464548360, "creation_date": 1464546077, "last_edit_date": 1464547312, "question_id": 37513376, "link": "https://stackoverflow.com/questions/37513376/get-fasta-file-sequence-from-a-hash", "title": "get fasta file sequence from a hash", "body": "\n\n<p>I'm trying to put a FASTA file into a hash so that I can manipulate it later, with the ID as the key and the sequence as the value. But my output is only printing the last ID and joining all the sequences together.</p>\n\n<h3>input:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;cel-mir-35 MI0000006 Caenorhabditis elegans miR-35 stem-loop\nUCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUA\nUCACCGGGUGGAAACUAGCAGUGGCUCGAUCUUUUCC\n\n&gt;cel-mir-36 MI0000007 Caenorhabditis elegans miR-36 stem-loop\nCACCGCUGUCGGGGAACCGCGCCAAUUUUCGCUUCAGUGCUAGACCAUCCAAAGUGUCUA\nUCACCGGGUGAAAAUUCGCAUGGGUCCCCGACGCGGA\n\n&gt;cel-mir-37 MI0000008 Caenorhabditis elegans miR-37 stem-loop\nUUCUAGAAACCCUUGGACCAGUGUGGGUGUCCGUUGCGGUGCUACAUUCUCUAAUCUGUA\nUCACCGGGUGAACACUUGCAGUGGUCCUCGUGGUUUCU\n\n&gt;cel-mir-38 MI0000009 Caenorhabditis elegans miR-38 stem-loop\nGUGAGCCAGGUCCUGUUCCGGUUUUUUCCGUGGUGAUAACGCAUCCAAAAGUCUCUAUCA\nCCGGGAGAAAAACUGGAGUAGGACCUGUGACUCAU\n</code></pre>\n\n<h3>my output is this</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>cel-mir-38 MI0000009 Caenorhabditis elegans miR-38 stem-loop     UCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUAUCACCGGGUGGAAACUAGGGCUCGAUCUUUUCCCACCGCUGUCGGGGAACCGCGCCAAUUUUCGCUUCAGUGCUAGACCAUCCAAAGUGUCUAUCACCGGGUGAAAAUUCGCAUGGGUCCCCGACGCGGAUUCUAGAAACCCUUGGACCAGUGUGGGUGUCCGUUGCGGUGCUACAUUCUCUAAUCUGUAUCACCGGGUGAACACUUGCAGUGGUCCUCGUGGUUUCUGUGAGCCAGGUCCUGUUCCGGUUUUUUCCGUGGUGAUAACGCAUCCAAAAGUCUCUAUCACCGGGAGAAAAACUGGAGUAGGACCUGUGACUCAU\ncel-mir-38 MI0000009 Caenorhabditis elegans miR-38 stem-loop     UCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUAUCACCGGGUGGAAACUAGGGCUCGAUCUUUUCCCACCGCUGUCGGGGAACCGCGCCAAUUUUCGCUUCAGUGCUAGACCAUCCAAAGUGUCUAUCACCGGGUGAAAAUUCGCAUGGGUCCCCGACGCGGAUUCUAGAAACCCUUGGACCAGUGUGGGUGUCCGUUGCGGUGCUACAUUCUCUAAUCUGUAUCACCGGGUGAACACUUGCAGUGGUCCUCGUGGUUUCUGUGAGCCAGGUCCUGUUCCGGUUUUUUCCGUGGUGAUAACGCAUCCAAAAGUCUCUAUCACCGGGAGAAAAACUGGAGUAGGACCUGUGACUCAU\ncel-mir-38 MI0000009 Caenorhabditis elegans miR-38 stem-loop     UCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUAUCACCGGGUGGAAACUAGGGCUCGAUCUUUUCCCACCGCUGUCGGGGAACCGCGCCAAUUUUCGCUUCAGUGCUAGACCAUCCAAAGUGUCUAUCACCGGGUGAAAAUUCGCAUGGGUCCCCGACGCGGAUUCUAGAAACCCUUGGACCAGUGUGGGUGUCCGUUGCGGUGCUACAUUCUCUAAUCUGUAUCACCGGGUGAACACUUGCAGUGGUCCUCGUGGUUUCUGUGAGCCAGGUCCUGUUCCGGUUUUUUCCGUGGUGAUAACGCAUCCAAAAGUCUCUAUCACCGGGAGAAAAACUGGAGUAGGACCUGUGACUCAU\ncel-mir-38 MI0000009 Caenorhabditis elegans miR-38 stem-loop     UCUCGGAUCAGAUCGAGCCAUUGCUGGUUUCUUCCACAGUGGUACUUUCCAUUAGAACUAUCACCGGGUGGAAACUAGGGCUCGAUCUUUUCCCACCGCUGUCGGGGAACCGCGCCAAUUUUCGCUUCAGUGCUAGACCAUCCAAAGUGUCUAUCACCGGGUGAAAAUUCGCAUGGGUCCCCGACGCGGAUUCUAGAAACCCUUGGACCAGUGUGGGUGUCCGUUGCGGUGCUACAUUCUCUAAUCUGUAUCACCGGGUGAACACUUGCAGUGGUCCUCGUGGUUUCUGUGAGCCAGGUCCUGUUCCGGUUUUUUCCGUGGUGAUAACGCAUCCAAAAGUCUCUAUCACCGGGAGAAAAACUGGAGUAGGACCUGUGACUCAU\n</code></pre>\n\n<p>I'd like to get each ID and the corresponding sequence as an output</p>\n\n<h3>code:</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy %fastahash = ();\nmy $id        = '';\nmy $seq       = '';\n\nopen FILE, \"file.fasta\", or die $!;\n\nwhile ( &lt;FILE&gt; ) {\n\n    chomp;\n\n    if ( $_ =~ /^&gt;(.+)/ ) {\n        $id = $1;\n    }\n    elsif ( $_ =~ m/^[A-Z]+$/ ) {\n        $seq .= $_;\n\n    }\n    else {\n        $fastahash{$id} .= $_;\n    }\n}\n\nforeach my $sequence ( keys %fastahash ) {\n    print \"$id $seq\\n\";\n}\n\nclose FILE;\n</code></pre>\n\n<p>Which part should I change?</p>\n\n<p>Also, how can I get the sequence as key and id as value?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1464520211, "post_id": 37509042, "comment_id": 62512177, "body": "What output do you expect?"}, {"owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "edited": false, "score": 0, "creation_date": 1464535768, "post_id": 37509042, "comment_id": 62516890, "body": "The script use posted won&#39;t even compile. Post a real code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6331340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ad5e76b49b1050f313bd555c705ff3f?s=128&d=identicon&r=PG&f=1", "display_name": "Buddy", "link": "https://stackoverflow.com/users/6331340/buddy"}, "edited": false, "score": 0, "creation_date": 1464582185, "post_id": 37511827, "comment_id": 62528347, "body": "It worked. Thanks Jira. I am now working on blank space. But, didn&#39;t know I make such a silly mistake."}], "tags": [], "owner": {"reputation": 3604, "user_id": 436450, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afd75178763cf41af43a103b95277ae?s=128&d=identicon&r=PG", "display_name": "jira", "link": "https://stackoverflow.com/users/436450/jira"}, "is_accepted": true, "score": 0, "last_activity_date": 1464536609, "creation_date": 1464536609, "answer_id": 37511827, "question_id": 37509042, "link": "https://stackoverflow.com/questions/37509042/matching-required-array-element-with-another-array-elements-in-perl/37511827#37511827", "title": "matching required array element with another array elements in perl", "body": "<p>Change the condition at the end of your script from</p>\n\n<pre><code>$line =~ m/^$PU_file_line/\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$PU_file_line =~ /^$line/\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6331340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ad5e76b49b1050f313bd555c705ff3f?s=128&d=identicon&r=PG&f=1", "display_name": "Buddy", "link": "https://stackoverflow.com/users/6331340/buddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 37511827, "answer_count": 1, "score": 0, "last_activity_date": 1464536609, "creation_date": 1464519507, "question_id": 37509042, "link": "https://stackoverflow.com/questions/37509042/matching-required-array-element-with-another-array-elements-in-perl", "title": "matching required array element with another array elements in perl", "body": "<p>I am trying to match one array single column into another and print those lines. But it's coming as blank. Dont know where its going wrong. The individual element is getting printed...\nLooking for some help. The code is as below;</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n#use File::Find;\n\n#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# Define file names and its location\nmy $input = $ARGV[0];       # requires input raw DS8K PU file\n\n############################################################################################\n# Section to read config file and extract volumes of user inserted volumegroup\n############################################################################################\nmy $input_PU_config = $ARGV[1];   # requires input config file\n\nmy @vg_vol_id;    # defining variable for config file\nmy @interval_data = ('start_time','length');\n\nprint \"\\nEnter the volume group number you need to work upon: \";    # I insert number as 8 and it greps \"V8\" required line from the config file\nchomp (my $vol_grp_number = &lt;STDIN&gt;);\n\nopen (CONFIG_INFILE,\"$input_PU_config_file\") or die \"Could not open: $!\";\nwhile (&lt;CONFIG_INFILE&gt;)\n    {\n     if (/ FB 512 / &amp;&amp; (/ V$vol_grp_number,/ || /,V$vol_grp_number / || / V$vol_grp_number /))  ## If device is part of multiple VG\n        {\n         my @volume_id = split(/\\s+/,$_);\n         push @vg_vol_id, \"0x$volume_id[1]\";\n         #print \"0x$volume_id[1]\\n\";\n        }\n    }\nunshift @vg_vol_id,@interval_data;\n#print \"@vg_vol_id\\n\";\nclose (CONFIG_INFILE);\n############################################################################################\n# Grab the only vols stats for different intervals and put it in a file\nopen (INFILE,\"$input_file\") or die \"Could not open: $!\";\nopen (OUTFILE,\"&gt;$output_file\") or die \"Could not open: $!\";\nwhile (&lt;INFILE&gt;)\n    {\n     if (/^volume stats/ .. /^$/)\n        {\n         print (OUTFILE \"$_\");\n        }\n    }\nclose (INFILE);\nclose (OUTFILE);\n###############################################################################################\n# the parsed file is stored as @PU_file array element\nopen (PARSED_PU_FILE,\"$output_file\") or die \"Could not open parsed file: $!\";\nmy @PU_file = &lt;PARSED_PU_FILE&gt;;\n###############################################################################################\nforeach my $PU_file_line (@PU_file)\n    {\n            #chomp ($PU_file_line);\n            #print \"$line\\n\";\n            foreach my $line (@vg_vol_id)\n                    {\n                            chomp ($line);\n                            #print \"$line\\n\";\n                            if ( $line =~ m/^$PU_file_line/)\n                            {\n                                    print \"$PU_file_line\\n\";\n                            }\n                    }\n                    #print \"======================\\n\";\n    }\nclose (PARSED_PU_FILE);\n</code></pre>\n\n<p>The input.txt file looks as below</p>\n\n<pre><code>unwanted lines\nunwanted lines\nunwanted lines\nunwanted lines\n\nvolume stats\nstart_time  1\nlength      2\n--------\nID\n0x00a,1,2,3,4\n0x00b,11,12,13,14\n0x00c,21,22,23,24\n\nunwanted lines\nunwanted lines\nunwanted lines\n\nvolume stats\nstart_time  2\nlength      2\n--------\nID\n0x00a,31,32,33,34\n0x00b,41,42,43,44\n0x00c,51,52,53,54\n\nunwanted lines\nunwanted lines\nunwanted lines\n\nvolume stats\nstart_time  3\nlength      2\n--------\nID\n0x00a,61,62,63,64\n0x00b,71,72,73,74\n0x00c,81,82,83,84\n\nunwanted lines\nunwanted lines\nunwanted lines\n</code></pre>\n\n<p>The config_input.txt file looks as below;</p>\n\n<pre><code>unwanted lines\nunwanted lines\nEP0Vol1000   00a Online   Normal    Normal      2107-900  FB 512   P0      Standard      DS        68.0           -    142606336 V4,V9            142606336 rotateexts PG0     RG0\nEP0Vol1000   00b Online   Normal    Normal      2107-900  FB 512   P0      Standard      DS        68.0           -    142606336 V4,V8            142606336 rotateexts PG0     RG0\nEP0Vol1001   00c Online   Normal    Normal      2107-900  FB 512   P0      Standard      DS        68.0           -    142606336 V4,V8            142606336 rotateexts PG0     RG0\nEP0Vol1001   00d Online   Normal    Normal      2107-900  FB 512   P0      Standard      DS        68.0           -    142606336 V4,V10            142606336 rotateexts PG0     RG0\nunwanted lines\nunwanted lines\n</code></pre>\n\n<p>The output is coming blank.</p>\n"}, {"tags": ["regex", "perl", "find"], "comments": [{"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 1, "creation_date": 1464514756, "post_id": 37506455, "comment_id": 62510656, "body": "Can you please post the code that you have written?"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 3889479, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5abf6d3b79faf81d4bf3613c78144d40?s=128&d=identicon&r=PG&f=1", "display_name": "user3889479", "link": "https://stackoverflow.com/users/3889479/user3889479"}, "edited": false, "score": 0, "creation_date": 1464581733, "post_id": 37506562, "comment_id": 62528243, "body": "Thank you very much. It works as I was expecting. Sometime my data-format is highway=2.8e+10  and some time just 28 ...is there anyway to make it format independent ?"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 3, "last_activity_date": 1464582396, "last_edit_date": 1464582396, "creation_date": 1464500073, "answer_id": 37506562, "question_id": 37506455, "link": "https://stackoverflow.com/questions/37506455/how-to-print-a-word-in-perl-from-a-line-which-has-matching-letters/37506562#37506562", "title": "How to print a word in Perl from a line which has matching letters", "body": "<p>Use <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">regular expression</a>  </p>\n\n<pre><code>open my $fh, \"&lt;\", \"file.txt\" or die \"$! error opening \";\nwhile (&lt;$fh&gt;)\n{\n    print $1 if( m/\\b(highway=[^\\s]+)\\b/);\n}\n</code></pre>\n\n<p><code>\\b</code> means boundary. which helps to match the word which contain the exact word <code>highway=22</code>. Without using <code>\\b</code> it will matches the word between the character for example without boundary matches the following data <code>somehighway=221data</code></p>\n\n<p><code>+</code> matches the previous character one or more times (greedy). In your script which is match the digit characters one or more times</p>\n\n<p><code>$1</code> stores the first grouping value from the pattern matching.   </p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1464511426, "post_id": 37507871, "comment_id": 62509890, "body": "I don&#39;t know what is the use of substitution here.?"}], "tags": [], "owner": {"reputation": 1975, "user_id": 975123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77b6e3032b52ff422b1f4457df337bbe?s=128&d=identicon&r=PG", "display_name": "mekazu", "link": "https://stackoverflow.com/users/975123/mekazu"}, "is_accepted": false, "score": 0, "last_activity_date": 1464511200, "creation_date": 1464511200, "answer_id": 37507871, "question_id": 37506455, "link": "https://stackoverflow.com/questions/37506455/how-to-print-a-word-in-perl-from-a-line-which-has-matching-letters/37507871#37507871", "title": "How to print a word in Perl from a line which has matching letters", "body": "<p><code>perl -pE 's/.*\\bhighway=(\\d+).*\\b/$1/' &lt; file.txt</code></p>\n"}], "owner": {"reputation": 27, "user_id": 3889479, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5abf6d3b79faf81d4bf3613c78144d40?s=128&d=identicon&r=PG&f=1", "display_name": "user3889479", "link": "https://stackoverflow.com/users/3889479/user3889479"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1464582396, "creation_date": 1464498903, "last_edit_date": 1464518250, "question_id": 37506455, "link": "https://stackoverflow.com/questions/37506455/how-to-print-a-word-in-perl-from-a-line-which-has-matching-letters", "title": "How to print a word in Perl from a line which has matching letters", "body": "<p>I am using a Perl to read a file and print a word located in 5th field.\nHere is my line:</p>\n\n<pre><code>MN2 x=2 y=3 z=8 highway=9 industry=cotton price=40 unit=2\n</code></pre>\n\n<p>I am reading the line and printing the <code>highway=9</code>.\nMy issue is that sometimes the location of <code>highway=9</code> in the line changes and so I print a wrong data.</p>\n\n<p>Is there any simple command in Perl which grabs the word \"highway\" and prints its value rather than printing based on the field number.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 3, "last_activity_date": 1464500747, "last_edit_date": 1464500747, "creation_date": 1464498872, "answer_id": 37506451, "question_id": 37505540, "link": "https://stackoverflow.com/questions/37505540/how-can-i-print-the-result-of-filefind-on-html-perl-script/37506451#37506451", "title": "How can I print the result of File::Find on html perl script?", "body": "<p>Your problem is back tick. Back tick only using for execute the linux commands.</p>\n\n<p><code>print find(sub {print $File::Find::name if ($_ eq $search); }, '/home');</code>  This is not a linux command. This is perl script. </p>\n\n<p>So your script should be as follow</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI qw(:standard);\nuse File::Find;\nmy $search = param('value');\nmy $result;\nfind( sub { $result.=$File::Find::name if ($_ eq $search ); }, \"/home\");\n\nprint \"Content-type:text/html\\n\\n\";\n\nprint \"&lt;html&gt;\";\nprint \"&lt;head&gt;&lt;/head&gt;\";\nprint \"&lt;body&gt;\";\nprint \"$result\\n\\n\";\nprint \"&lt;/body&gt;\";\nprint \"&lt;/html&gt;\";\n</code></pre>\n\n<p>You want to execute the result in back tick run the perl one liner with <code>-e</code> <code>-M</code> switches. <code>-e</code> to execute the perl command. <code>-M</code> switch using for include the module in you oneliner.  So which is should be as follow</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI qw(:standard);\nmy $search = param('value');\nmy $result = ` perl -MFile::Find -e 'print find(sub {print $File::Find::name if(/^$search\\$/);}, \"/home\" )'`;\n\nprint \"Content-type:text/html\\n\\n\";\n\nprint \"&lt;html&gt;\";\nprint \"&lt;head&gt;&lt;/head&gt;\";\nprint \"&lt;body&gt;\";\nprint \"$result\";\nprint \"&lt;/body&gt;\";\nprint \"&lt;/html&gt;\";\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6392963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f80e7216e5306a8eef9fbc8257ec69e?s=128&d=identicon&r=PG&f=1", "display_name": "humber", "link": "https://stackoverflow.com/users/6392963/humber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464520325, "creation_date": 1464488280, "last_edit_date": 1464520325, "question_id": 37505540, "link": "https://stackoverflow.com/questions/37505540/how-can-i-print-the-result-of-filefind-on-html-perl-script", "title": "How can I print the result of File::Find on html perl script?", "body": "<p>I have to show the results from a search in a website. I'm receiving a search parameter from an html form. When I try this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI qw(:standard);\nuse File::Find;\nmy $search = param('value');\nmy $result = `print find(sub {print $File::Find::name if ($_ eq $search);\n}, '/home');`\n\nprint \"Content-type:text/html\\n\\n\";\n\nprint \"&lt;html&gt;\";\nprint \"&lt;head&gt;&lt;/head&gt;\";\nprint \"&lt;body\";\nprint \"$result\";\nprint \"&lt;/body&gt;\";\nprint \"&lt;/html&gt;\";\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>syntax error at ./search.pl line 8, near \"print\"\nExecution of ./search.pl aborted due to complication errors.\n</code></pre>\n\n<p>I think it's the assigning of find that's prompting the error. But I've tried other ways to no avail.</p>\n"}, {"tags": ["perl", "cgi", "travis-ci", "perlbrew", "xs"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1464520101, "post_id": 37505516, "comment_id": 62512154, "body": "I tried to clone the branch <code>cgi-test</code> to my Ubuntu laptop and then run <code>dzil run prove</code> to check for failed tests. The first run failed due to missing modules: File::Slurper, Test::File, and CGI::Test. After installing these three modules, all tests passed."}, {"owner": {"reputation": 5181, "user_id": 793172, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ec2c4d63fb493164e87d386646c2285?s=128&d=identicon&r=PG", "display_name": "Axel Beckert", "link": "https://stackoverflow.com/users/793172/axel-beckert"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1464534008, "post_id": 37505516, "comment_id": 62516327, "body": "Thanks for the comment. I usually use <code>dzil smoke</code> or <code>dzil test</code> instead of <code>dzil run prove</code>. Not sure if that makes any difference here. Dist::Zilla should gather all required modules and write them into <code>META.yml</code> and <code>META.json</code>. And since the error message is clearly not a &quot;missing module&quot; issue, I doubt that the issues you ran into are related."}], "answers": [{"tags": [], "owner": {"reputation": 5181, "user_id": 793172, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ec2c4d63fb493164e87d386646c2285?s=128&d=identicon&r=PG", "display_name": "Axel Beckert", "link": "https://stackoverflow.com/users/793172/axel-beckert"}, "is_accepted": true, "score": 6, "last_activity_date": 1464539600, "creation_date": 1464539600, "answer_id": 37512321, "question_id": 37505516, "link": "https://stackoverflow.com/questions/37505516/auto-list-util-util-so-undefined-symbol-pl-stack-sp-at-xsloader-pm-only/37512321#37512321", "title": "&quot;\u2026/auto/List/Util/Util.so: undefined symbol: PL_stack_sp at \u2026/XSLoader.pm&quot; only when running test suite with CGI::Test _and_ on Travis CI", "body": "<p>Found it myself: It were the <code>#!/usr/bin/perl</code> shebang lines in my example CGI scripts in the test suite (and/or maybe also the same shebang line in <code>t/cgi-test.t</code>).</p>\n\n<p><a href=\"https://travis-ci.org/xtaran/CGI-Github-Webhook/builds/133749890\" rel=\"noreferrer\">Changing them to <code>#!/usr/bin/env perl</code> fixed the issue</a>, i.e. the tested CGI scripts were running with the system <code>perl</code> instead of the perlbrew-installed one.</p>\n"}], "owner": {"reputation": 5181, "user_id": 793172, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ec2c4d63fb493164e87d386646c2285?s=128&d=identicon&r=PG", "display_name": "Axel Beckert", "link": "https://stackoverflow.com/users/793172/axel-beckert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2474, "favorite_count": 1, "accepted_answer_id": 37512321, "answer_count": 1, "score": 2, "last_activity_date": 1464539600, "creation_date": 1464487913, "last_edit_date": 1464535837, "question_id": 37505516, "link": "https://stackoverflow.com/questions/37505516/auto-list-util-util-so-undefined-symbol-pl-stack-sp-at-xsloader-pm-only", "title": "&quot;\u2026/auto/List/Util/Util.so: undefined symbol: PL_stack_sp at \u2026/XSLoader.pm&quot; only when running test suite with CGI::Test _and_ on Travis CI", "body": "<p>I have a Perl module called <a href=\"https://github.com/xtaran/CGI-Github-Webhook\" rel=\"nofollow\">CGI::Github::Webhook</a> whose test suite <a href=\"https://travis-ci.org/xtaran/CGI-Github-Webhook/branches\" rel=\"nofollow\">works fine on Travis CI so far on the branch master</a>. But since it's a module for writing CGI scripts, I wanted to test it with <a href=\"https://metacpan.org/pod/CGI::Test\" rel=\"nofollow\">CGI::Test</a> as this would be closer to real-life scenarios.</p>\n\n<p>But <a href=\"https://travis-ci.org/xtaran/CGI-Github-Webhook/branches\" rel=\"nofollow\">every Travis CI run in the branch <code>cgi-test</code> failed so far</a>. Except for the runs with Perl 5.24 and above, every failed run contained these lines, just with different Perl version numbers in the paths:</p>\n\n<pre><code>Attempt to reload List/Util.pm aborted.\nCompilation failed in require at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Sub/Exporter/Progressive.pm line 9.\nBEGIN failed--compilation aborted at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Sub/Exporter/Progressive.pm line 9.\nCompilation failed in require at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Devel/GlobalDestruction.pm line 11.\nBEGIN failed--compilation aborted at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Devel/GlobalDestruction.pm line 11.\nCompilation failed in require at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Moo/_Utils.pm line 21.\nBEGIN failed--compilation aborted at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Moo/_Utils.pm line 21.\nCompilation failed in require at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Moo.pm line 4.\nBEGIN failed--compilation aborted at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/Moo.pm line 4.\nCompilation failed in require at /home/travis/build/xtaran/CGI-Github-Webhook/build_dir/lib/CGI/Github/Webhook.pm line 11.\nBEGIN failed--compilation aborted at /home/travis/build/xtaran/CGI-Github-Webhook/build_dir/lib/CGI/Github/Webhook.pm line 11.\nCompilation failed in require at ./cgitest.pl line 10.\nBEGIN failed--compilation aborted at ./cgitest.pl line 10.\nscript /cgi-bin/cgitest.pl generated no valid headers at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/CGI/Test.pm line 468.\nUse of uninitialized value $in_fname in unlink at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/CGI/Test.pm line 469.\nUse of uninitialized value $in_fname in concatenation (.) or string at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/CGI/Test.pm line 469.\ncan't unlink : No such file or directory at /home/travis/perl5/perlbrew/perls/5.22.0/lib/site_perl/5.22.0/CGI/Test.pm line 469.\n</code></pre>\n\n<p>Example taken from <a href=\"https://travis-ci.org/xtaran/CGI-Github-Webhook/jobs/133666035#L311\" rel=\"nofollow\">currently latest run under Perl 5.22</a>. The symptoms on Perl 5.24 are more or less the same, just the initial error message seems differently phrased.</p>\n\n<p>Anyone an idea what's going wrong here?  Do I even have a chance to fix this? Looks like a bug to me. But in which module? I've found no matching bug reports <a href=\"https://github.com/nohuhu/CGI-Test/issues\" rel=\"nofollow\">against CGI-Test</a>, <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=Scalar-List-Utils\" rel=\"nofollow\">Scalar-List-Utils</a> or <a href=\"https://rt.perl.org/Public/Search/Results.html?Query=Queue=%27perl5%27%20AND%20Content%20LIKE%20%27module=XSLoader%27%20AND%20%28Status=%27open%27%20OR%20Status=%27new%27%20OR%20Status=%27stalled%27%29\" rel=\"nofollow\">XSLoader</a>, but would have expected that such an issue is already reported since it doesn't seem to be new. (First noticed several months ago.)</p>\n\n<p>It though does not fail if I run that test suite with the system-provided Perl and Perl Modules on Debian Unstable (currently Perl version 5.22), so I can't really reproduce the issue locally.</p>\n"}, {"tags": ["perl", "ssh", "public-key"], "comments": [{"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 1, "creation_date": 1464512632, "post_id": 37503342, "comment_id": 62510173, "body": "you are passing passphrase as the last argument, right? What authentication mode did you use when you connected from command line?"}, {"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "reply_to_user": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 2, "creation_date": 1464526064, "post_id": 37503342, "comment_id": 62513918, "body": "This works in bash: &#39;ssh -i /root/.ssh/privkey username@remotehost.remotedomain.tld ls -l&#39; and then I enter keypassword to unlock privkey"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1464542458, "post_id": 37503342, "comment_id": 62519034, "body": "Use <code>auth_publickey</code> method. BTW, latest Net::SSH2 version is 0.60."}, {"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1464625029, "post_id": 37503342, "comment_id": 62550696, "body": "No joy. It&#39;s a bit frustrating that there&#39;s no error message to work with. strace reveals this: read(5, &quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;..., 4096) = 1766 || close(5)                                = 0 || munmap(0x7f10a0dd8000, 4096)            = 0 || write(2, &quot;Died at ./nrp.pl line 21.\\n&quot;, 26Died at ./nrp.pl line 21. ) = 26 || write(2, &quot;Net::SSH2::DESTROY object 0xf73d&quot;..., 35Net::SSH2::DESTROY object 0xf73dc0 ) = 35  Given there&#39;s not network write I would guess there&#39;s something about the key Net:SSH2 does not like"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1464762377, "post_id": 37503342, "comment_id": 62610021, "body": "print the Net::SSH2 error before calling <code>die</code>: <code>print STDERR join(&#39; &#39;, $ssh-&gt;error);</code>"}, {"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1464863131, "post_id": 37503342, "comment_id": 62663455, "body": "The $ssh-&gt;auth_publickey err msg is &#39;-19 LIBSSH2_ERROR_PUBLICKEY_UNVERIFIED Callback returned error&#39;. auth_hostbased apperantly expects filenames. After invoking it as &quot;$ssh-&gt;auth_hostbased(&#39;username&#39;, &#39;seckeyfile&#39;, &#39;pubkeyfile&#39;, &#39;myhost.mydomain.tld&#39;, &#39;username&#39;, &#39;keypassword&#39;)&quot; the msg is &#39;-17 LIBSSH2_ERROR_METHOD_NONE No handler for specified private key&#39;"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1464864619, "post_id": 37503342, "comment_id": 62664374, "body": "Maybe you are using a key type not supported yet by <code>libssh2</code>. It is quite behind OpenSSH in that regard."}, {"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1464888064, "post_id": 37503342, "comment_id": 62681627, "body": "Bummer. Guess I have to use /usr/bin/ssh with Expect then as I can&#39;t change the system libs. Thanks for the help, though!"}, {"owner": {"reputation": 1352, "user_id": 73077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a2499f7835b6607a0f217f00089bcc?s=128&d=identicon&r=PG", "display_name": "Jiri Klouda", "link": "https://stackoverflow.com/users/73077/jiri-klouda"}, "edited": false, "score": 0, "creation_date": 1466967054, "post_id": 37503342, "comment_id": 63523899, "body": "If you can change the /etc/ssh/sshd_config on remote then:HostbasedAuthentication yes HostbasedAcceptedKeyTypes ssh-rsa*"}, {"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1467009622, "post_id": 37503342, "comment_id": 63534126, "body": "Unfortunately I can not change the remote server config"}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 7173214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947c3285453a319249d63351ada0c795?s=128&d=identicon&r=PG", "display_name": "FranzCC", "link": "https://stackoverflow.com/users/7173214/franzcc"}, "is_accepted": false, "score": 1, "last_activity_date": 1479460369, "creation_date": 1479460369, "answer_id": 40673158, "question_id": 37503342, "link": "https://stackoverflow.com/questions/37503342/perl-netssh2-pubkey-authentication-issue/40673158#40673158", "title": "Perl Net::SSH2 pubkey authentication issue", "body": "<p>Why not using Net::OpenSSH ?\nThat is a simple ssh wrapper script, i wrote some time ago:</p>\n\n<pre><code>#!/usr/bin/perl\n\n#Simple SSH Remote Executor  using Net::OpenSSH Library\n\nuse warnings;\nuse strict;\nuse Net::OpenSSH;\n# see http://search.cpan.org/~salva/Net-OpenSSH-0.62/lib/Net/OpenSSH.pm#DEBUGGING\n$Net::OpenSSH::debug = undef;\nuse Getopt::Long;\n\n\nmy $timeout = 10;\nmy ($username,$identity,$hostname,$command) = undef;\nmy $uid=getpwuid($&lt;);\nmy $ctl_dir=qq{/tmp/.libnet-puppet-$uid};\nmy $ctl_mode=0700;\n\nif ( ! -d $ctl_dir ) { mkdir( $ctl_dir,$ctl_mode ) };\n\nopen my $stderr_fh, '&gt;&gt;', '/dev/null' or die $!;\n\n\nsub print_help{\n    print qq{\\nusage: $0 [options] -h Hostname\n\n        -u username\n\n        -i identity\n\n        -c command\n\n        long options are supported !\n\n  };\n        exit (1);\n}\n\n\n\nGetOptions (\"hostname=s\" =&gt; \\$hostname, # string\n                \"username=s\" =&gt; \\$username, # string\n                \"identity=s\" =&gt; \\$identity, # string\n                \"command=s\" =&gt; \\$command) # string\nor print_help;\n\nif ( not defined $username or not defined $identity or not defined $hostname or not defined $command ) { print_help };\n\nmy $port = q{22};\nmy $user = $username;\nmy $ssh;\n\nmy $cmd = qq{$command};\n\nmy $options = {\n    host =&gt; $hostname,\n           user =&gt; $user,\n           port =&gt; $port,\n           default_stderr_fh =&gt; $stderr_fh,\n       ctl_dir =&gt; $ctl_dir,\n       master_opts =&gt; [\n                   -o =&gt; \"UserKnownHostsFile=/dev/null\",\n                   -o =&gt; \"StrictHostKeyChecking=no\",\n                   -o =&gt; qq{IdentityFile=$identity},\n               ],\n    timeout =&gt; $timeout };\n\n#ALARM Timer timeout handling\n$SIG{ALRM} = sub {\n  printf( \"%s\\n\", qq{invalid-timeout-connecting-to-node-$hostname});\n  exit(1);\n};\n\n#init alarm timer ;-)\nalarm( $timeout );\n\n$ssh = Net::OpenSSH-&gt;new( %{$options} )\n           or $ssh-&gt;error and die \"Couldn't establish SSH connection: \". $ssh-&gt;error;\n\nmy (@out, $err) = $ssh-&gt;capture2({ timeout =&gt; 10 }, $cmd);\n\ndie(\"Error: %s\\n\", $err) if defined $err;\n\nif ( (scalar(@out)) eq 0 ) {\n  printf( \"%s\\n\", qq{invalid-empty-string-received-by-node-$hostname});\n  exit(1);\n}\n\nforeach my $line ( @out ) {\n    $line =~ s/^\\s{1,}//;\n       printf (\"%s\",$line);\n}\n</code></pre>\n\n<p>Install it using cpanm (cpanm Net::OpenSSH) or as debian package \"libnet-openssh-perl\".<br>\nSee \"man ssh_config\" for available master options.<br>\nI think that script will be of great help though.<br>\nRgds. Franz</p>\n"}], "owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1479460369, "creation_date": 1464466228, "last_edit_date": 1464526112, "question_id": 37503342, "link": "https://stackoverflow.com/questions/37503342/perl-netssh2-pubkey-authentication-issue", "title": "Perl Net::SSH2 pubkey authentication issue", "body": "<p>I am trying to connect to a remote SSH server using Net::SSH2. Commandline ssh works fine. I can not seem to figure out the correct auth_hostbased parameters, though</p>\n\n<p>This is my code:</p>\n\n<pre><code>use Net::SSH2;\n\nmy $ssh = Net::SSH2-&gt;new();\n$ssh-&gt;debug(1);\n$ssh-&gt;trace(-1);\n$ssh-&gt;connect('remotehost.remotedomain.tld') or die;\n$ssh-&gt;auth_hostbased('username',\n    'ssh-rsa  AAAAB3Nz[..]C0JoaFF9 root@myhost',\n    '-----BEGIN RSA PRIVATE KEY-----\n    Proc-Type: 4,ENCRYPTED\n    DEK-Info: AES-128-CBC,FA97214E87562096A7E480C82DAE5EB4\n\n    XIMKnj9k[..]kpRo5V\n    -----END RSA PRIVATE KEY-----',\n    'myhost.mydomain.tld',\n    'username',\n    'keypassword') or die;\n</code></pre>\n\n<p>The snippet dies @ $ssh->auth_hostbased with just a 'Net::SSH2::DESTROY object 0xe17de0'. Setting trace does not seem to matter. Replacing die with $ssh->die_with_error throws a 'die_with_error is not a valid Net::SSH2 macro'. Downloading the current 0.53 version of Net:SSH2 did not work as the script no longer compiles: 'Net::SSH2 object version 0.44 does not match bootstrap parameter 0.53'</p>\n\n<p>Any help on the correct parameter format or an alternative module is appreciated.</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1464466486, "post_id": 37500860, "comment_id": 62501607, "body": "I posted a comment which clearly came across as &quot;curt.&quot;  I didn&#39;t mean to make it unpleasant, just meant to ask for clarification of something I didn&#39;t understand. I apologize. Here is the question I had. What do you want to accomplish with a package name in a variable and then with using the arrow operator on it? This is usually done with objects. Knowing the purpose helps me in putting together a more suitable answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464473019, "post_id": 37500860, "comment_id": 62503357, "body": "<code>\\&amp;{ $package . &#39;::print&#39; }-&gt;()</code>"}, {"owner": {"reputation": 191, "user_id": 1520203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85edc8f7b2e989c91e1be8cdd7fd5bfb?s=128&d=identicon&r=PG", "display_name": "juettemann", "link": "https://stackoverflow.com/users/1520203/juettemann"}, "edited": false, "score": 0, "creation_date": 1464511003, "post_id": 37500860, "comment_id": 62509803, "body": "No offense taken, I am German. We are curt by default.  I have module which evaluates at the beginning if it is possible to load an XS module, else another one (fallback): ` package Adaptor;  our $reference; eval{require(xs::module)} if($@){$reference = &quot;nonxs::module&quot;} else{$reference = &quot;xs::module&quot;} $reference-&gt;method_call(); ` Several method names in the xs module are the same as in the Adaptor.pm, so when I export, they are overwritten. Hence the idea was to store the reference to the object in a variable. I will now rename the methods in the xs module and export. Thanks you!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464600411, "post_id": 37500860, "comment_id": 62536271, "body": "@juettemann  That&#39;s a relief! Thank you for the response. I&#39;d always recommend cleaning up conflicts first. if possible. Thanks for explaining it, I see now what you meant with it."}], "answers": [{"comments": [{"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 0, "creation_date": 1464454705, "post_id": 37500922, "comment_id": 62498044, "body": "When <i>blessed</i>, <code>$_[0]</code> could not be <i><code>equal</code></i> to <i>package name</i>!"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 0, "creation_date": 1464454730, "post_id": 37500922, "comment_id": 62498056, "body": "Nope, that&#39;s why I use <code>|| ref $_[0] ...</code>, which catches the case where it is a blessed reference. Much like <code>ref $thing eq &#39;HASH&#39;</code>"}, {"owner": {"reputation": 191, "user_id": 1520203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85edc8f7b2e989c91e1be8cdd7fd5bfb?s=128&d=identicon&r=PG", "display_name": "juettemann", "link": "https://stackoverflow.com/users/1520203/juettemann"}, "edited": false, "score": 0, "creation_date": 1464512129, "post_id": 37500922, "comment_id": 62510057, "body": "Thanks @stevieb, this might come in handy in the future."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1464450765, "last_edit_date": 1464450765, "creation_date": 1464450075, "answer_id": 37500922, "question_id": 37500860, "link": "https://stackoverflow.com/questions/37500860/perl-using-a-variable-to-reference-a-module-messes-up-passing-parameters/37500922#37500922", "title": "Perl using a variable to reference a module messes up passing parameters", "body": "<p>That's just how Perl's package system works. You need to handle this yourself in the sub being called. You can't change it prior to the call.</p>\n\n<pre><code>sub print {\n    # special variable __PACKAGE__ contains \"TOTO\"\n\n    if ($_[0] eq __PACKAGE__ || ref $_[0] eq __PACKAGE__){\n        shift; # throw away class/object\n    } \n    print Dumper(@_);\n}\n</code></pre>\n\n<p>The <code>ref $_[0]</code> part isn't technically needed, because you don't have a constructor in your class (you call the method on the class only, but it will just do the right thing if you ever do use objects without having to change anything later).</p>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464451140, "post_id": 37500956, "comment_id": 62496979, "body": "Using a variable as a class name is very useful in testing. Say you want to create 50 new objects in a test file, each inside of it&#39;s own scope. Instead of typing <code>my $obj = Some::Module::Somewhere-&gt;new;</code> 50 times, I usually do: <code>my $mod = &#39;Some::Module::Somewhere&#39;;</code> (global scope) then, each time I need an object, <code>my $obj = $mod-&gt;new;</code>. Much shorter :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464451556, "post_id": 37500956, "comment_id": 62497095, "body": "@stevieb  OK, thanks for that -- I use the class name occasionally as well. But this is not a class -- OP sets up a package."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464451802, "post_id": 37500956, "comment_id": 62497162, "body": "a package is a class: <a href=\"http://perldoc.perl.org/perlobj.html#A-Class-is-Simply-a-Package\" rel=\"nofollow noreferrer\">A class is simply a package: perlobj</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464451924, "post_id": 37500956, "comment_id": 62497189, "body": "@stevieb  No, a package is not a class. If you don&#39;t bless in it you can&#39;t create objects.  You turned the quote around: <i>A class is a package</i>, the other way round is not true."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464452002, "post_id": 37500956, "comment_id": 62497207, "body": "@stevieb  That&#39;s a nice trick you have there :)  Is everything OK with import hiearchies etc?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464452214, "post_id": 37500956, "comment_id": 62497268, "body": "Unless there are edge cases I haven&#39;t triggered, I&#39;ve never had an issue :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1525766733, "last_edit_date": 1525766733, "creation_date": 1464450263, "answer_id": 37500956, "question_id": 37500860, "link": "https://stackoverflow.com/questions/37500860/perl-using-a-variable-to-reference-a-module-messes-up-passing-parameters/37500956#37500956", "title": "Perl using a variable to reference a module messes up passing parameters", "body": "<p><strong>Short:</strong>  The observed behavior comes from use of <code>-&gt;</code> on a package name. </p>\n\n<p>The arrow operator is used with a reference or with an object, which itself is a reference to a data structure that has been <code>bless</code>-ed into its class. (Or with a class name, see below.) That object or the class name is quietly passed as the first argument so that the whole system would work. Note that the package in the question does <em>not</em> define a class (objects cannot be created with it). </p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"nofollow noreferrer\">Arrow operator in perlop</a></p>\n\n<blockquote>\n  <p>\"-> \" is an infix dereference operator, just as it is in C and C++. If the right side is either a [...] , {...} , or a (...) subscript, then the left side must be either a hard or symbolic reference to an array, a hash, or a subroutine respectively. (Or technically speaking, a location capable of holding a hard reference, if it's an array or hash reference being used for assignment.)  See <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a>. </p>\n</blockquote>\n\n<p>It continues, to statements of direct interest in this problem</p>\n\n<blockquote>\n  <p>Otherwise, the right side is a method name or a simple scalar variable containing either the method name or a subroutine reference, and the left side must be either an object (a blessed reference) or a class name (that is, a package name).  See <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perlobj</a>.</p>\n</blockquote>\n\n<p>So in uses related to classes the left-hand side may contain the class name, and class methods can then be invoked on it (or it can be just queried). Given that a class is a package then this <em>is</em> a package name. </p>\n\n<p>The situation in the question falls within this so the package name is passed to the subroutine. However, according to the above quote it seems that the sub can only be a <em>method</em>, which isn't the case here. So it may be that this use of <code>-&gt;</code> should really be disallowed.  Either way, using it on a package which isn't a class strikes me as mistaken.</p>\n\n<hr>\n\n<p><em>Update to clarification</em>.  This use was intended, to resolve an ambiguity in which package was loaded. The package name is saved into a variable and then the sub invoked on it, using the arrow operator. In this case code would have to be added to the sub to handle the first argument (package name) which is passed regardless of the invocation, by the courtesy of the arrow operator.  But then we would have to allow a case when this <em>is</em> invoked on an object, ending up with a code that covers two distinct uses. I believe that it is better to change to a design that does not involve all this.</p>\n\n<hr>\n\n<p>If you want to use a package, say as a library</p>\n\n<p><strong>File TOTO.pm</strong></p>\n\n<pre><code>pacakge TOTO;\n\nuse Exporter;\nour (@ISA, @EXPORT_OK);\n@ISA = ('Exporter');\n@EXPORT_OK = qw(prn);   # This can be asked for by user of package\n\nuse Data::Dumper;\n\nsub prn {\n       print Dumper(@_);\n}\n\n1;  # important for 'require' when this is used\n</code></pre>\n\n<p>I've changed the sub name to <code>prn</code> so that it's not a Perl library function.  The main script</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse TOTO qw(prn);\n\nprn(\"Hello World\");\n</code></pre>\n\n<p>The fully qualified name <code>TOTO::prn()</code> can always be used.  If you wanted to make this a class that would require a bit more in the package.</p>\n\n<p>This package, <code>TOTO</code>, does not export anything by default, unless asked for.  That's what <code>@EXPORT_OK</code> sets up and that's why we need to list functions to import into <code>main::</code> when <code>use TOTO</code>.  Start, for example, with <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\">perlmod</a></p>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464453008, "post_id": 37501315, "comment_id": 62497569, "body": "That&#39;ll work, but it&#39;ll break <code>TOTO::print()</code>. The string passed in will be put into <code>$this</code>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464453234, "post_id": 37501315, "comment_id": 62497625, "body": "also, technically, <code>TOTO-&gt;print()</code> is valid. It&#39;s no different than <code>my $log = Log::Log4perl-&gt;get_logger;</code> Note also that it&#39;s a bareword, not a quoted string."}, {"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464454497, "post_id": 37501315, "comment_id": 62497987, "body": "@stevieb Especially, in <code>man perlobj</code>, search for <b><i>bareword</i></b>!  <i>&lt;&lt;...it sometimes interprets a bareword&#39;s meaning incorrectly. For example, the construct <code>Class-&gt;new()</code> can be interpreted as either <code>&#39;Class&#39;-&gt;new()</code> or  <code>Class()-&gt;new()</code>...&gt;&gt;</i>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464462696, "post_id": 37501315, "comment_id": 62500554, "body": "Are you familiar with Perl? <code>TOTO-&gt;print(&quot;Hello World&quot;)</code> is a perfectly good object-oriented call. It is a call to the <i>class method</i> <code>print</code>, and you usually see it as a call to the constructor <code>my $object = TOTO-&gt;new</code>."}, {"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464463369, "post_id": 37501315, "comment_id": 62500751, "body": "@Borodin In <code>TOTO-&gt;print()</code>, <code>TOTO</code> is a <i>bareword</i>, It could be interpreter as <code>TOTO()-&gt;print</code> or <code>&#39;TOTO&#39;-&gt;print</code>... I don&#39;t like barewords! (Even for opening a file I prefer <code>open my $handler</code> than <code>open HANDLER</code>... But it&#39;s my own feeling). This could spare a lot of border effect wich could make hard debug of strange behaviours... In fact: You&#39;re right <code>TOTO-&gt;print()</code> is a perfectly good object-oriented call... in a perfect world... but could leed to strange behaviours in badly written scripts.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464466898, "post_id": 37501315, "comment_id": 62501738, "body": "@F.Hauri: I think you are out of touch with modern Perl. If you insist, then you may call <code>my $toto = &#39;TOTO&#39;-&gt;new</code>, but Perl has a <a href=\"https://en.wikipedia.org/wiki/DWIM\" rel=\"nofollow noreferrer\">DWIM</a> approach so that both work fine. If there is any substance behind <b><i>&quot; I don&#39;t like barewords! &quot;</i></b> then please post a new question, otherwise I think you are distracting from the original question."}], "tags": [], "owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "is_accepted": false, "score": 0, "last_activity_date": 1464453994, "last_edit_date": 1464453994, "creation_date": 1464452534, "answer_id": 37501315, "question_id": 37500860, "link": "https://stackoverflow.com/questions/37500860/perl-using-a-variable-to-reference-a-module-messes-up-passing-parameters/37501315#37501315", "title": "Perl using a variable to reference a module messes up passing parameters", "body": "<p>Check differences between this:</p>\n\n<pre><code>TOTO::print(\"Hello World\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>TOTO-&gt;print(\"Hello World\");\n</code></pre>\n\n<p>which is not proper object notation, because <code>TOTO</code> is just a string.</p>\n\n<p>Syntaxe <code>object-&gt;function(arguments)</code> whil pass <code>object</code> as 1st argument, to be stored as <code>$this</code>, for sample.</p>\n\n<pre><code>sub print {\n    my $this = shift @_;\n    print Dumper(@_);\n}\n</code></pre>\n\n<p>May do the job (even if not blessed object).</p>\n\n<p>Try this:</p>\n\n<pre><code>package TOTO;\nuse Data::Dumper;\nsub new { return bless {}, shift; }\n\nsub print {\n    my $self = shift @_;\n    if   ( scalar $self =~ /=HASH\\(/ ) {\n        print Dumper(@_);\n    } else {\n        print Dumper($self);\n    }\n}\n\npackage main;\n\nmy $package = TOTO-&gt;new();\n\n$package-&gt;print(\"Hello World\");\n\nTOTO::print(\"Hello World\");\n</code></pre>\n\n<p>This could output:</p>\n\n<pre><code>$VAR1 = 'Hello World';\n$VAR1 = 'Hello World';\n</code></pre>\n\n<p>And have a look at <code>man perlobj</code>, <code>man perlootut</code> and <code>man perlmodlib</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1464465836, "last_edit_date": 1464465836, "creation_date": 1464463486, "answer_id": 37503011, "question_id": 37500860, "link": "https://stackoverflow.com/questions/37500860/perl-using-a-variable-to-reference-a-module-messes-up-passing-parameters/37503011#37503011", "title": "Perl using a variable to reference a module messes up passing parameters", "body": "<p>In the simplest terms, to create an object-oriented <code>TOTO</code> module you must create a file <code>TOTO.pm</code> that contains at least a constructor subroutine <code>new</code></p>\n\n<pre><code>package TOTO;\n\nsub new {\n    bless {};\n}\n\nsub print {\n    print \"I am a TOTO object\\n\";\n}\n\n1;\n</code></pre>\n\n<p>That code must be saved in a file called <code>TOTO.pm</code>that must match the <code>package TOTO</code> name in the source</p>\n\n<p>Then you may write a program, say <code>main.pl</code>, that uses that module. For instance</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse TOTO;\n\nmy $object = TOTO-&gt;new;\n\n$object-&gt;print;\n</code></pre>\n\n<p>And then you have created a new <code>TOTO</code> object that says what it is</p>\n\n<p>If I run</p>\n\n<pre><code>$ perl main.pl\n</code></pre>\n\n<p>I get the output</p>\n\n<pre><code>I am a TOTO object\n</code></pre>\n\n<p>You will want to make this code more useful, and there are many variations on this theme, but those are the basics</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1464467737, "creation_date": 1464467737, "answer_id": 37503536, "question_id": 37500860, "link": "https://stackoverflow.com/questions/37500860/perl-using-a-variable-to-reference-a-module-messes-up-passing-parameters/37503536#37503536", "title": "Perl using a variable to reference a module messes up passing parameters", "body": "<p>Here's the issue</p>\n\n<blockquote>\n  <p>Any advice on how to avoid having TOTO passed as the first variable?</p>\n</blockquote>\n\n<p>You've discovered the answer yourself. This works fine</p>\n\n<pre><code>TOTO::print('Hello World');\n</code></pre>\n\n<p>If you call it as</p>\n\n<pre><code>TOTO-&gt;print('Hello World');\n</code></pre>\n\n<p>then you're asking for perl to call <code>print</code> as a class method and pass <code>('TOTO', 'Hello World')</code> as parameters to the <code>TOTO::print</code> subroutine</p>\n\n<p>If <code>TOTO</code> is just a bunch of subroutines then, as you found, just call <code>TOTO::totosub</code></p>\n"}], "owner": {"reputation": 191, "user_id": 1520203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85edc8f7b2e989c91e1be8cdd7fd5bfb?s=128&d=identicon&r=PG", "display_name": "juettemann", "link": "https://stackoverflow.com/users/1520203/juettemann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 37500956, "answer_count": 5, "score": 5, "last_activity_date": 1525766733, "creation_date": 1464449581, "last_edit_date": 1464467314, "question_id": 37500860, "link": "https://stackoverflow.com/questions/37500860/perl-using-a-variable-to-reference-a-module-messes-up-passing-parameters", "title": "Perl using a variable to reference a module messes up passing parameters", "body": "<p>I have a problem when using a variable to reference a module, it seems to mess up the passing of the variables:</p>\n\n<h3>TOTO.pm</h3>\n\n<pre><code>package TOTO;\n\nuse Data::Dumper;\n\nsub print {\n       print Dumper(@_);\n}\n</code></pre>\n\n<h3>Perl program</h3>\n\n<pre><code>package main;\n\nTOTO::print('Hello World');\nprint \"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\\n\";\nmy $package = 'TOTO';\n\n$package-&gt;print('Hello World');\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>$VAR1 = 'Hello World';\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n$VAR1 = 'TOTO';\n$VAR2 = 'Hello World';\n</code></pre>\n\n<p>Any advice on how to avoid having <code>TOTO</code> passed as the first variable?</p>\n"}, {"tags": ["regex", "perl", "command-line"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1464460330, "post_id": 37500502, "comment_id": 62499846, "body": "<a href=\"https://stackoverflow.com/questions/25911424/how-to-view-the-code-block-genereated-by-n-or-p-switch-in-perl-one-liner\" title=\"how to view the code block genereated by n or p switch in perl one liner\">stackoverflow.com/questions/25911424/&hellip;</a> or check <code>perl -h</code>"}], "answers": [{"comments": [{"owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1464447986, "post_id": 37500557, "comment_id": 62495928, "body": "What do you mean &quot;re-populates the file&quot;? It prints in STDOUT right?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1464448039, "post_id": 37500557, "comment_id": 62495942, "body": "No, not with <code>-i</code>. That flag says rewrite the file, <code>test.txt</code> in-place. So you&#39;re writing back to that file with the <code>-i</code> flag."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "edited": false, "score": 0, "creation_date": 1464448064, "post_id": 37500557, "comment_id": 62495954, "body": "to print to <code>STDOUT</code>, don&#39;t use <code>-i</code>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 4, "last_activity_date": 1464448596, "last_edit_date": 1464448596, "creation_date": 1464447834, "answer_id": 37500557, "question_id": 37500502, "link": "https://stackoverflow.com/questions/37500502/why-the-following-variations-of-s-g-from-command-line-are-wrong/37500557#37500557", "title": "Why the following variations of s/g from command line are wrong?", "body": "<p><code>-p</code> prints out each line automatically (the contents of <code>$_</code>, which contains the current line's contents), which re-populates the file (due to the <code>-i</code> flag in use), where <code>-n</code> loops over the file like <code>-p</code> does, but it doesn't automatically print. You have to do that yourself, otherwise it just overwrites the file with nothing. The <code>-n</code> flag allows you to skip over lines that you don't want to re-insert into the original file (amongst other things), whereby with <code>-p</code>, you'd have to use conditional statements along with <code>next()</code> etc. to achieve the same result.</p>\n\n<pre><code>perl -n -i -e '  \n$var = $_;  \n$var =~ s/cat/CAT/g;\nprint $var;  \n' text.txt  \n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">perlrun</a>.</p>\n\n<p>In your last example, <code>-p</code> will only automatically print <code>$_</code> (the original, unmodified line). It doesn't auto-print <code>$var</code> at all, so in that case, you'd have to print <code>$var</code> like in the example above, but then you'd get both the original line, and the modified one printed to the file.</p>\n\n<p>You're better off not assigning <code>$_</code> to anything if all you're doing is overwriting a file. Just use it as is. eg. (same as your first example):</p>\n\n<pre><code>perl -p -i -e '   \ns/cat/CAT/g;  \n' text.txt  \n</code></pre>\n"}], "owner": {"reputation": 16982, "user_id": 1197249, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1bd14b525fbc9b28f6ff37248ddc9074?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/1197249/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1464448596, "creation_date": 1464447559, "question_id": 37500502, "link": "https://stackoverflow.com/questions/37500502/why-the-following-variations-of-s-g-from-command-line-are-wrong", "title": "Why the following variations of s/g from command line are wrong?", "body": "<p>I have a small file as follows:  </p>\n\n<pre><code>$ cat text.txt\nvacation\ncat\nThis is a test\n</code></pre>\n\n<p>This command substitutes all occurrences of cat to CAT correctly as I wanted:   </p>\n\n<pre><code>$ perl -p -i -e '\ns/cat/CAT/g;\n' text.txt \n</code></pre>\n\n<p>But why the following two mess the file up?<br>\nThe following deletes the contents of the file  </p>\n\n<pre><code>$ perl -n -i -e '  \n$var = $_;  \n$var =~ s/cat/CAT/g;  \n' text.txt  \n</code></pre>\n\n<p>And this one just does not do the substitution correctly</p>\n\n<pre><code>$ perl -p -i -e '\n$var = $_;\n$var =~ s/cat/CAT/g;\n' text.txt\n\n$ cat text.txt\ncation\ncat\nThis is a test\n</code></pre>\n\n<p>Why? What am I messing up here?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "reply_to_user": {"reputation": 4983, "user_id": 301650, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f27c12daaa5e5bbd744fab013c9a3edc?s=128&d=identicon&r=PG", "display_name": "Nikem", "link": "https://stackoverflow.com/users/301650/nikem"}, "edited": false, "score": 0, "creation_date": 1464449603, "post_id": 37500456, "comment_id": 62496470, "body": "open (DATA, &quot;seq-at.txt&quot;)or die &quot;blabla&quot;;  @data = &lt;DATA&gt;; %result = ();  $k = 0; $i = 0; while($k != @data){ \t$info = @data[$k]; \t\t\t\t#istrina pirma elementa \tif(@data[$i] !=~ &quot;&gt;&quot;){ \t\t$key .= @data[$i]; \t\t$i++; \t} \telse{ \t\t$k = $i; \t} \t$result{$key} = $value; }"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "edited": false, "score": 0, "creation_date": 1464451779, "post_id": 37500877, "comment_id": 62497152, "body": "How to make all $contentLine&#39;s not separated with &quot;,&quot;, just one solid string?"}, {"owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "edited": false, "score": 0, "creation_date": 1464453690, "post_id": 37500877, "comment_id": 62497763, "body": "I copied your code and i&#39;m geting this... <a href=\"http://i.stack.imgur.com/WcwkZ.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/WcwkZ.png</a> no key..."}, {"owner": {"reputation": 1, "user_id": 1888864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhoTE.jpg?s=128&g=1", "display_name": "sebosp", "link": "https://stackoverflow.com/users/1888864/sebosp"}, "reply_to_user": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "edited": false, "score": 0, "creation_date": 1464454583, "post_id": 37500877, "comment_id": 62498011, "body": "In your example content, I see it starts with &quot;&gt;&quot; (quotes included), if the quotes were to remove formatting you must change line 14 to <code>if($contentLine =~ &#47;^\\&gt;(.*)&#47;){</code> (remove the double-quotes)"}], "tags": [], "owner": {"reputation": 1, "user_id": 1888864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vhoTE.jpg?s=128&g=1", "display_name": "sebosp", "link": "https://stackoverflow.com/users/1888864/sebosp"}, "is_accepted": false, "score": 0, "last_activity_date": 1464449702, "creation_date": 1464449702, "answer_id": 37500877, "question_id": 37500456, "link": "https://stackoverflow.com/questions/37500456/is-it-possible-to-put-elements-of-array-to-hash-in-perl/37500877#37500877", "title": "Is it possible to put elements of array to hash in perl?", "body": "<p>It is unclear what you want, the array seems to be the lines subsequent to the random sequence number... If the contenst of a file <code>test.txt</code> are:</p>\n\n<pre><code>Line 1:\"&gt;\"random sequence 1 consisting of 500 residues.\nLine 2:VILVWRISEMNPTHEIYPEVSYEDRQPFRCFDEGINMQMGQKSCRNCLIFTRNAFAYGIV\nLine 3:HFLEWGILLTHIIHCCHQIQGGCDCTRHPVRFYPQHRNDDVDKPCQTKSPMQVRYGDDSD;\n</code></pre>\n\n<p>You could try something like:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $contentFile = $ARGV[0];\nmy %testHash = ();\nmy $currentKey = \"\";\n\nopen(my $contentFH,\"&lt;\",$contentFile);\nwhile(my $contentLine = &lt;$contentFH&gt;){\n    chomp($contentLine);\n    next if($contentLine eq ''); # Empty lines.\n    if($contentLine =~ /^\"\\&gt;\"(.*)/){\n            $currentKey= $1;\n    }else{\n            push(@{$testHash{$currentKey}},$contentLine);\n    }\n}\nprint Dumper(\\%testHash);\n</code></pre>\n\n<p>Which results in a structure like this:</p>\n\n<pre><code>seb@amon:[~]$ perl test.pl test.txt\n$VAR1 = {\n          'random sequence 3 consisting of 500 residues.' =&gt; [\n                                                               'AYCSCWRIHNVVFQKDVVLGYWGHCWMSWGSMNQPFHRQPYNKYFCMAPDWCNIGTYAWK'\n                                                             ],\n          'random sequence 1 consisting of 500 residues.' =&gt; [\n                                                               'VILVWRISEMNPTHEIYPEVSYEDRQPFRCFDEGINMQMGQKSCRNCLIFTRNAFAYGIV',\n                                                               'HFLEWGILLTHIIHCCHQIQGGCDCTRHPVRFYPQHRNDDVDKPCQTKSPMQVRYGDDSD;'\n                                                             ],\n          'random sequence 2 consisting of 500 residues.' =&gt; [\n                                                               'KAAATKKPWADTIPYLLCTFMQTSGLEWLHTDYNNFSSVVCVRYFEQFWVQCQDHVFVKN',\n                                                               'KNWHQVLWEEYAVIDSMNFAWPPLYQSVSSNLDSTERMMWWWVYYQFEDNIQIRMEWCNI',\n                                                               'YSGFLSREKLELTHNKCEVCVDKFVRLVFKQTKWVRTMNNRRRVRFRGIYQQTAIQEYHV',\n                                                               'HQKIIRYPCHVMQFHDPSAPCDMTRQGKRMNFCFIIFLYTLYEVKYWMHFLTYLNCLEHR;'\n                                                             ]\n        };\n</code></pre>\n\n<p>You would be basically using each hash \"value\" as an array structure, the <code>@{</code>$variable<code>}</code> does the magic.</p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1464477263, "last_edit_date": 1464477263, "creation_date": 1464476601, "answer_id": 37504530, "question_id": 37500456, "link": "https://stackoverflow.com/questions/37500456/is-it-possible-to-put-elements-of-array-to-hash-in-perl/37504530#37504530", "title": "Is it possible to put elements of array to hash in perl?", "body": "<p>You don't have to previously use an array, you can directly build your hash:</p>\n\n<pre><code>use strict;\nuse warnings;\n# ^- start always your code like this to see errors and what is ambiguous\n\n# declare your variables using \"my\" to specify the scope\nmy $filename = 'seq-at.txt'; \n\n# use the 3 parameters open syntax to avoid to overwrite the file:\nopen my $fh, '&lt;', $filename or die \"unable to open '$filename' $!\";\n\nmy %hash;\nmy $hkey = '';\nmy $hval = '';\n\nwhile (&lt;$fh&gt;) {\n    chomp; # remove the newline \\n (or \\r\\n)\n    if (/^&gt;/) { # when the line start with \"&gt;\"\n        # store the key/value in the hash if the key isn't empty\n        # (the key is empty when the first \"&gt;\" is encountered)\n        $hash{$hkey} = $hval if ($hkey);\n        # store the line in $hval and clear $hkey\n        ($hval, $hkey) = $_;\n    } elsif (/\\S/) { # when the line isn't empty (or blank)\n        # append the line to the key\n        $hkey .= $_;\n    }\n}\n\n# store the last key/val in the hash if any\n$hash{$hkey} = $hval if ($hkey);\n\n# display the hash\nforeach (keys %hash) {\n    print \"key: $_\\nvalue: $hash{$_}\\n\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6394697, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-u3524uGNWD0/AAAAAAAAAAI/AAAAAAAAAGQ/rIQ_0iZqdW0/photo.jpg?sz=128", "display_name": "povilito", "link": "https://stackoverflow.com/users/6394697/povilito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464477263, "creation_date": 1464447338, "last_edit_date": 1464471987, "question_id": 37500456, "link": "https://stackoverflow.com/questions/37500456/is-it-possible-to-put-elements-of-array-to-hash-in-perl", "title": "Is it possible to put elements of array to hash in perl?", "body": "<p>example of file content:</p>\n\n<pre><code>&gt;random sequence 1 consisting of 500 residues.\nVILVWRISEMNPTHEIYPEVSYEDRQPFRCFDEGINMQMGQKSCRNCLIFTRNAFAYGIV\nHFLEWGILLTHIIHCCHQIQGGCDCTRHPVRFYPQHRNDDVDKPCQTKSPMQVRYGDDSD;\n\n&gt;random sequence 2 consisting of 500 residues.\nKAAATKKPWADTIPYLLCTFMQTSGLEWLHTDYNNFSSVVCVRYFEQFWVQCQDHVFVKN\nKNWHQVLWEEYAVIDSMNFAWPPLYQSVSSNLDSTERMMWWWVYYQFEDNIQIRMEWCNI\nYSGFLSREKLELTHNKCEVCVDKFVRLVFKQTKWVRTMNNRRRVRFRGIYQQTAIQEYHV\nHQKIIRYPCHVMQFHDPSAPCDMTRQGKRMNFCFIIFLYTLYEVKYWMHFLTYLNCLEHR;\n\n&gt;random sequence 3 consisting of 500 residues.\nAYCSCWRIHNVVFQKDVVLGYWGHCWMSWGSMNQPFHRQPYNKYFCMAPDWCNIGTYAWK\n</code></pre>\n\n<p>I need an algorithm to build a hash <code>$hash{$key} = $value;</code> where lines starting with <code>&gt;</code> are the values and following lines are the keys.</p>\n\n<p>What I have tried:</p>\n\n<pre><code>open (DATA, \"seq-at.txt\") or die \"blabla\";\n@data = &lt;DATA&gt;;\n%result = ();\n$k = 0;\n$i = 0;\n\nwhile($k != @data) {\n    $info = @data[$k]; #istrina pirma elementa\n    if(@data[$i] !=~ \"&gt;\") {\n        $key .= @data[$i]; $i++;\n    } else {\n        $k = $i;\n    }\n    $result{$key} = $value;\n}\n</code></pre>\n\n<p>but it doesn't work.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1464441031, "post_id": 37499182, "comment_id": 62493751, "body": "&quot;One-liner&quot; perl programs are supposed to be a quick convenience to avoid creating a file and the associated boilerplate code, but the gain is quickly minimised and reversed if the compact format prevents proper debugging. Is there a reason why you can&#39;t write a proper script for this? It will be impossible to maintain if you don&#39;t"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464441340, "post_id": 37499182, "comment_id": 62493859, "body": "What should happen in the cases where the STB field has two values as you describe? Do both of them need to be beneath 0.8 for a GOOD record, just the first, or something different?"}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464441402, "post_id": 37499182, "comment_id": 62493874, "body": "No reason other then I am not sure how to handle the two conditions.  The script does run and work for most but not all... thank you :)."}, {"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464441558, "post_id": 37499182, "comment_id": 62493926, "body": "If the STB has two values in it, then each value is treated as individual, so that in the end, &quot;GOOD&quot; and &quot;STRAND BIAS&#39; results for each.  Thank you :)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464445737, "post_id": 37499182, "comment_id": 62495247, "body": "Please will you fix your <i>desired output</i>? At present, line 1 has nothing appended to it while line 4 has <code>GOOD 320 Reads GOOD</code>. Do you really want the two STB statuses separated by the &quot;reads&quot; value"}], "answers": [{"comments": [{"owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 0, "creation_date": 1464442821, "post_id": 37499670, "comment_id": 62494344, "body": "Thank you very much for the great code and helpful explanations, I appreciate it :)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "edited": false, "score": 1, "creation_date": 1464443056, "post_id": 37499670, "comment_id": 62494436, "body": "@Chris: You&#39;re welcome. I&#39;ve altered it to append an extra status string to the output for each value of <code>STB</code>. I hope this is what you meant"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467554286, "last_edit_date": 1467554286, "creation_date": 1464442479, "answer_id": 37499670, "question_id": 37499182, "link": "https://stackoverflow.com/questions/37499182/analyse-text-records-based-on-the-value-of-two-fields/37499670#37499670", "title": "Analyse text records based on the value of two fields", "body": "\n\n<p>It would really be nice to have some more information</p>\n\n<p>On the face of it, as long as you're happy to ignore the second value for <code>STB</code>, you can simply remove the insistence  of a semicolon <code>;</code> after the value. Like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ple '/^[^#].*FDP=(\\d+);.*STB=(\\d+\\.\\d+)/ and $_.=($2 &gt;= 0.8?\" STRAND BIAS \":\" GOOD \").$1.\" reads\"'\n</code></pre>\n\n<p>But that's pretty awful Perl code and, as you have found, damned hard to debug</p>\n\n<p>I would prefer something like this: a script which extracts <em>all</em> of the labelled values into a hash and uses them directly from there</p>\n\n<p>I've guessed that you want <em>all</em> of the <code>STB</code> values to be under 0.8 for a GOOD result, so I've used the <code>all</code> function from <a href=\"https://metacpan.org/pod/List::Util\" rel=\"nofollow\"><code>List::Util</code></a> to test that. I just split the <code>STB</code> value on commas and create a Boolean <code>$all_ok</code> status variable that indicates whether this is true. This works fine whether there's one value or one thousand</p>\n\n<p>Then <code>printf</code> builds the output string from the components that we've calculated</p>\n\n<p>I've emptied the <code>$line</code> variable so that we can see just what is appended to each line for debugging purposes. Just delete that statement or comment it out for the real run</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'all';\n\nwhile ( &lt;&gt; ) {\n    next unless /\\S/;\n    my @fields = split;\n\n    chomp( my $line = $_ );\n\n    my %values = map { split /=/ } split /;/, $fields[7];\n    my $all_ok = all { $_ &lt; 0.8 } split /,/, $values{STB};\n\n    $line = '';  # for debugging\n\n    printf \"%s %s %s reads\\n\", $line, $all_ok ? 'GOOD' : 'STRAND BIAS', $values{FDP};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code> GOOD 39 reads\n GOOD 105 reads\n GOOD 111 reads\n GOOD 320 reads\n STRAND BIAS 82 reads\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Now that you've explained that you want a list of status values in the output I can write a better solution. You no longer need <code>List::Util::all</code>, but instead need to create an array of boolean status values from the list of <code>STB</code> data</p>\n\n<p>Don't forget to comment out <code>$line = ''</code> before you run the data for real</p>\n\n<p>It looks like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'all';\n\nwhile ( &lt;&gt; ) {\n    next unless /\\S/;\n    my @fields = split;\n\n    chomp( my $line = $_ );\n\n    my %values = map { split /=/ } split /;/, $fields[7];\n\n    my @stb_ok = map { $_ &lt; 0.8 } split /,/, $values{STB};\n    my @good   = map { $_ ? 'GOOD' : 'STRAND BIAS' } @stb_ok;\n\n    $line = '';  # for debugging\n\n    printf \"%s %s %s reads\\n\", $line, \"@good\", $values{FDP};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code> GOOD GOOD 39 reads\n GOOD 105 reads\n GOOD 111 reads\n GOOD GOOD 320 reads\n STRAND BIAS 82 reads\n</code></pre>\n"}], "owner": {"reputation": 2528, "user_id": 4668368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/70b77439d7ee9bb7410105b7bc912afb?s=128&d=identicon&r=PG&f=1", "display_name": "justaguy", "link": "https://stackoverflow.com/users/4668368/justaguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 37499670, "answer_count": 1, "score": 0, "last_activity_date": 1467554286, "creation_date": 1464439694, "last_edit_date": 1464445606, "question_id": 37499182, "link": "https://stackoverflow.com/questions/37499182/analyse-text-records-based-on-the-value-of-two-fields", "title": "Analyse text records based on the value of two fields", "body": "<p></p>\n\n<p>I am using Perl to test a couple of conditions in each line of an input file. The one-liner below works for most records but not all.</p>\n\n<p>In the <em>current output</em>, lines 2,3, and 5 are correct, but lines 1 and 4 are not, presumably because the <code>STB</code> value has two comma-separated values in it instead of one. For instance <code>STB=0.5,0.645036;</code> instead of <code>STB=0.590597;</code>.</p>\n\n<p>I can not seem to figure out how to apply the same logic to both conditions, that is if <code>STB &gt;= 0.8</code>, then \"STRAND BIAS\" and the <code>reads</code> are the value of the <code>FDP</code> field.</p>\n\n<p>The input file will have some lines in it with one <code>STB</code> value and also some with two.</p>\n\n<h3>Perl</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ple '/^[^#].*FDP=(\\d+);.*STB=(\\d+\\.\\d+);/ and $_.=($2 &gt;= 0.8?\" STRAND BIAS \":\" GOOD \").$1.\" reads\"' input &gt; out\n</code></pre>\n\n<h3>Input</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>chr1    93159358    .   CT  AC,C    51.3482 PASS    AF=0,0.538462;AO=4,12;DP=39;FAO=0,21;FDP=39;FR=.;FRO=18;FSAF=0,11;FSAR=0,10;FSRF=15;FSRR=3;FWDB=0.0379899,0.0954749;FXX=0;HRUN=1,5;LEN=2,1;MLLD=22.441,10.1519;OALT=AC,-;OID=.,.;OMAPALT=AC,C;OPOS=93159358,93159359;OREF=CT,T;PB=0.5,0.5;PBP=1,1;QD=5.26648;RBI=0.0698716,0.219287;REFB=-0.0299799,-0.0774582;REVB=0.0586414,0.197411;RO=22;SAF=0,9;SAR=4,3;SRF=17;SRR=5;SSEN=0,0;SSEP=0,0;SSSB=-0.747246,-0.0336118;STB=0.5,0.645036;STBP=1,0.086;TYPE=mnp,del;VARB=0.059091,0.135819;ANN=EVI5    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/2:46:39:39:22:18:4,12:0,21:0,0.538462:4,3:0,9:17:5:0,10:0,11:15:3\nchr1    93073228    .   C   A   142.937 PASS    AF=0.4;AO=42;DP=105;FAO=42;FDP=105;FR=.;FRO=63;FSAF=25;FSAR=17;FSRF=28;FSRR=35;FWDB=-0.00213313;FXX=0.00943307;HRUN=2;LEN=1;MLLD=178.966;OALT=A;OID=.;OMAPALT=A;OPOS=93073228;OREF=C;PB=0.5;PBP=1;QD=5.44523;RBI=0.00753887;REFB=-0.0179184;REVB=-0.00723079;RO=63;SAF=25;SAR=17;SRF=28;SRR=35;SSEN=0;SSEP=0;SSSB=0.159972;STB=0.590597;STBP=0.144;TYPE=snp;VARB=0.0207923;ANN=EVI5 GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/1:142:105:105:63:63:42:42:0.4:17:25:28:35:17:25:28:35\nchr1    93089823    .   T   C   1038.33 PASS    AF=1;AO=110;DP=111;FAO=111;FDP=111;FR=.;FRO=0;FSAF=76;FSAR=35;FSRF=0;FSRR=0;FWDB=0.0247073;FXX=0.00892777;HRUN=2;LEN=1;MLLD=59.5565;OALT=C;OID=.;OMAPALT=C;OPOS=93089823;OREF=T;PB=0.5;PBP=1;QD=37.4173;RBI=0.025038;REFB=-0.0649256;REVB=-0.0040564;RO=1;SAF=75;SAR=35;SRF=1;SRR=0;SSEN=0;SSEP=0;SSSB=-0.00628837;STB=0.5;STBP=1;TYPE=snp;VARB=0.000880627;ANN=EVI5    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   1/1:42:111:111:1:0:110:111:1:35:75:1:0:35:76:0:0\nchr11   36596027    .   AG  AA,A    1031.71 PASS    AF=0.121875,0.703125;AO=52,118;DP=333;FAO=39,225;FDP=320;FR=.;FRO=56;FSAF=2,136;FSAR=37,89;FSRF=14;FSRR=42;FWDB=0.0148693,0.00188064;FXX=0.0615818;HRUN=5,5;LEN=1,1;MLLD=11.6837,10.3394;OALT=A,-;OID=.,.;OMAPALT=AA,A;OPOS=36596028,36596028;OREF=G,G;PB=0.5,0.5;PBP=1,1;QD=12.8964;RBI=0.065829,0.11083;REFB=-0.0510698,-0.110624;REVB=0.0641277,0.110814;RO=85;SAF=2,84;SAR=50,34;SRF=17;SRR=68;SSEN=0,0;SSEP=0,0.328125;SSSB=-0.504054,0.394265;STB=0.789128,0.571642;STBP=0.007,0;TYPE=snp,del;VARB=0.0245642,0.134756;ANN=RAG1    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/2:42:333:320:85:56:52,118:39,225:0.121875,0.703125:50,34:2,84:17:68:37,89:2,136:14:42\nchr11   95825383    .   C   T   143.023 PASS    AF=0.47561;AO=28;DP=71;FAO=39;FDP=82;FR=.;FRO=43;FSAF=6;FSAR=33;FSRF=40;FSRR=3;FWDB=-0.0301041;FXX=0.0238067;HRUN=1;LEN=1;MLLD=189.321;OALT=T;OID=.;OMAPALT=T;OPOS=95825383;OREF=C;PB=0.5;PBP=1;QD=6.97675;RBI=0.153139;REFB=-0.0165525;REVB=0.150151;RO=43;SAF=6;SAR=22;SRF=40;SRR=3;SSEN=0;SSEP=0;SSSB=-0.666847;STB=0.875258;STBP=0;TYPE=snp;VARB=0.0275999;ANN=MAML2    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/1:143:71:82:43:43:28:39:0.47561:22:6:40:3:33:6:40:3\n</code></pre>\n\n<h3>Current output (lines 2,3, and 5 are correct)</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>line 1 STB=0.5,0.645036\nline 4 STB=0.789128,0.571642\n</code></pre>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>chr1    93159358    .   CT  AC,C    51.3482 PASS    AF=0,0.538462;AO=4,12;DP=39;FAO=0,21;FDP=39;FR=.;FRO=18;FSAF=0,11;FSAR=0,10;FSRF=15;FSRR=3;FWDB=0.0379899,0.0954749;FXX=0;HRUN=1,5;LEN=2,1;MLLD=22.441,10.1519;OALT=AC,-;OID=.,.;OMAPALT=AC,C;OPOS=93159358,93159359;OREF=CT,T;PB=0.5,0.5;PBP=1,1;QD=5.26648;RBI=0.0698716,0.219287;REFB=-0.0299799,-0.0774582;REVB=0.0586414,0.197411;RO=22;SAF=0,9;SAR=4,3;SRF=17;SRR=5;SSEN=0,0;SSEP=0,0;SSSB=-0.747246,-0.0336118;STB=0.5,0.645036;STBP=1,0.086;TYPE=mnp,del;VARB=0.059091,0.135819;ANN=EVI5    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/2:46:39:39:22:18:4,12:0,21:0,0.538462:4,3:0,9:17:5:0,10:0,11:15:3\nchr1    93073228    .   C   A   142.937 PASS    AF=0.4;AO=42;DP=105;FAO=42;FDP=105;FR=.;FRO=63;FSAF=25;FSAR=17;FSRF=28;FSRR=35;FWDB=-0.00213313;FXX=0.00943307;HRUN=2;LEN=1;MLLD=178.966;OALT=A;OID=.;OMAPALT=A;OPOS=93073228;OREF=C;PB=0.5;PBP=1;QD=5.44523;RBI=0.00753887;REFB=-0.0179184;REVB=-0.00723079;RO=63;SAF=25;SAR=17;SRF=28;SRR=35;SSEN=0;SSEP=0;SSSB=0.159972;STB=0.590597;STBP=0.144;TYPE=snp;VARB=0.0207923;ANN=EVI5 GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/1:142:105:105:63:63:42:42:0.4:17:25:28:35:17:25:28:35 GOOD 105 reads\nchr1    93089823    .   T   C   1038.33 PASS    AF=1;AO=110;DP=111;FAO=111;FDP=111;FR=.;FRO=0;FSAF=76;FSAR=35;FSRF=0;FSRR=0;FWDB=0.0247073;FXX=0.00892777;HRUN=2;LEN=1;MLLD=59.5565;OALT=C;OID=.;OMAPALT=C;OPOS=93089823;OREF=T;PB=0.5;PBP=1;QD=37.4173;RBI=0.025038;REFB=-0.0649256;REVB=-0.0040564;RO=1;SAF=75;SAR=35;SRF=1;SRR=0;SSEN=0;SSEP=0;SSSB=-0.00628837;STB=0.5;STBP=1;TYPE=snp;VARB=0.000880627;ANN=EVI5    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   1/1:42:111:111:1:0:110:111:1:35:75:1:0:35:76:0:0 GOOD 111 reads\nchr11   36596027    .   AG  AA,A    1031.71 PASS    AF=0.121875,0.703125;AO=52,118;DP=333;FAO=39,225;FDP=320;FR=.;FRO=56;FSAF=2,136;FSAR=37,89;FSRF=14;FSRR=42;FWDB=0.0148693,0.00188064;FXX=0.0615818;HRUN=5,5;LEN=1,1;MLLD=11.6837,10.3394;OALT=A,-;OID=.,.;OMAPALT=AA,A;OPOS=36596028,36596028;OREF=G,G;PB=0.5,0.5;PBP=1,1;QD=12.8964;RBI=0.065829,0.11083;REFB=-0.0510698,-0.110624;REVB=0.0641277,0.110814;RO=85;SAF=2,84;SAR=50,34;SRF=17;SRR=68;SSEN=0,0;SSEP=0,0.328125;SSSB=-0.504054,0.394265;STB=0.789128,0.571642;STBP=0.007,0;TYPE=snp,del;VARB=0.0245642,0.134756;ANN=RAG1    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/2:42:333:320:85:56:52,118:39,225:0.121875,0.703125:50,34:2,84:17:68:37,89:2,136:14:42\nchr11   95825383    .   C   T   143.023 PASS    AF=0.47561;AO=28;DP=71;FAO=39;FDP=82;FR=.;FRO=43;FSAF=6;FSAR=33;FSRF=40;FSRR=3;FWDB=-0.0301041;FXX=0.0238067;HRUN=1;LEN=1;MLLD=189.321;OALT=T;OID=.;OMAPALT=T;OPOS=95825383;OREF=C;PB=0.5;PBP=1;QD=6.97675;RBI=0.153139;REFB=-0.0165525;REVB=0.150151;RO=43;SAF=6;SAR=22;SRF=40;SRR=3;SSEN=0;SSEP=0;SSSB=-0.666847;STB=0.875258;STBP=0;TYPE=snp;VARB=0.0275999;ANN=MAML2    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/1:143:71:82:43:43:28:39:0.47561:22:6:40:3:33:6:40:3 STRAND BIAS 82 reads\n</code></pre>\n\n<h3>Desired output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>chr1    93159358    .   CT  AC,C    51.3482 PASS    AF=0,0.538462;AO=4,12;DP=39;FAO=0,21;FDP=39;FR=.;FRO=18;FSAF=0,11;FSAR=0,10;FSRF=15;FSRR=3;FWDB=0.0379899,0.0954749;FXX=0;HRUN=1,5;LEN=2,1;MLLD=22.441,10.1519;OALT=AC,-;OID=.,.;OMAPALT=AC,C;OPOS=93159358,93159359;OREF=CT,T;PB=0.5,0.5;PBP=1,1;QD=5.26648;RBI=0.0698716,0.219287;REFB=-0.0299799,-0.0774582;REVB=0.0586414,0.197411;RO=22;SAF=0,9;SAR=4,3;SRF=17;SRR=5;SSEN=0,0;SSEP=0,0;SSSB=-0.747246,-0.0336118;STB=0.5,0.645036;STBP=1,0.086;TYPE=mnp,del;VARB=0.059091,0.135819;ANN=EVI5    GOOD 39 Reads GOOD readsGT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/2:46:39:39:22:18:4,12:0,21:0,0.538462:4,3:0,9:17:5:0,10:0,11:15:3\nchr1    93073228    .   C   A   142.937 PASS    AF=0.4;AO=42;DP=105;FAO=42;FDP=105;FR=.;FRO=63;FSAF=25;FSAR=17;FSRF=28;FSRR=35;FWDB=-0.00213313;FXX=0.00943307;HRUN=2;LEN=1;MLLD=178.966;OALT=A;OID=.;OMAPALT=A;OPOS=93073228;OREF=C;PB=0.5;PBP=1;QD=5.44523;RBI=0.00753887;REFB=-0.0179184;REVB=-0.00723079;RO=63;SAF=25;SAR=17;SRF=28;SRR=35;SSEN=0;SSEP=0;SSSB=0.159972;STB=0.590597;STBP=0.144;TYPE=snp;VARB=0.0207923;ANN=EVI5 GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/1:142:105:105:63:63:42:42:0.4:17:25:28:35:17:25:28:35 GOOD 105 reads\nchr1    93089823    .   T   C   1038.33 PASS    AF=1;AO=110;DP=111;FAO=111;FDP=111;FR=.;FRO=0;FSAF=76;FSAR=35;FSRF=0;FSRR=0;FWDB=0.0247073;FXX=0.00892777;HRUN=2;LEN=1;MLLD=59.5565;OALT=C;OID=.;OMAPALT=C;OPOS=93089823;OREF=T;PB=0.5;PBP=1;QD=37.4173;RBI=0.025038;REFB=-0.0649256;REVB=-0.0040564;RO=1;SAF=75;SAR=35;SRF=1;SRR=0;SSEN=0;SSEP=0;SSSB=-0.00628837;STB=0.5;STBP=1;TYPE=snp;VARB=0.000880627;ANN=EVI5    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   1/1:42:111:111:1:0:110:111:1:35:75:1:0:35:76:0:0 GOOD 111 reads\nchr11   36596027    .   AG  AA,A    1031.71 PASS    AF=0.121875,0.703125;AO=52,118;DP=333;FAO=39,225;FDP=320;FR=.;FRO=56;FSAF=2,136;FSAR=37,89;FSRF=14;FSRR=42;FWDB=0.0148693,0.00188064;FXX=0.0615818;HRUN=5,5;LEN=1,1;MLLD=11.6837,10.3394;OALT=A,-;OID=.,.;OMAPALT=AA,A;OPOS=36596028,36596028;OREF=G,G;PB=0.5,0.5;PBP=1,1;QD=12.8964;RBI=0.065829,0.11083;REFB=-0.0510698,-0.110624;REVB=0.0641277,0.110814;RO=85;SAF=2,84;SAR=50,34;SRF=17;SRR=68;SSEN=0,0;SSEP=0,0.328125;SSSB=-0.504054,0.394265;STB=0.789128,0.571642;STBP=0.007,0;TYPE=snp,del;VARB=0.0245642,0.134756;ANN=RAG1    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/2:42:333:320:85:56:52,118:39,225:0.121875,0.703125:50,34:2,84:17:68:37,89:2,136:14:42 GOOD 320 Reads GOOD\nchr11   95825383    .   C   T   143.023 PASS    AF=0.47561;AO=28;DP=71;FAO=39;FDP=82;FR=.;FRO=43;FSAF=6;FSAR=33;FSRF=40;FSRR=3;FWDB=-0.0301041;FXX=0.0238067;HRUN=1;LEN=1;MLLD=189.321;OALT=T;OID=.;OMAPALT=T;OPOS=95825383;OREF=C;PB=0.5;PBP=1;QD=6.97675;RBI=0.153139;REFB=-0.0165525;REVB=0.150151;RO=43;SAF=6;SAR=22;SRF=40;SRR=3;SSEN=0;SSEP=0;SSSB=-0.666847;STB=0.875258;STBP=0;TYPE=snp;VARB=0.0275999;ANN=MAML2    GT:GQ:DP:FDP:RO:FRO:AO:FAO:AF:SAR:SAF:SRF:SRR:FSAR:FSAF:FSRF:FSRR   0/1:143:71:82:43:43:28:39:0.47561:22:6:40:3:33:6:40:3 STRAND BIAS 82 reads\n</code></pre>\n"}, {"tags": ["php", "linux", "perl", "serial-port"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464437959, "post_id": 37498648, "comment_id": 62492791, "body": "<i>&quot;The code is not working&quot;</i> We need to know rather more than that. You should try running the program from the command line to see the output and any messages. Please also remove the comment from <code>use strict</code> and <code>use warnings</code>. Those are essential to save you from yourself."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464446267, "post_id": 37498648, "comment_id": 62495408, "body": "You don&#39;t need the shebang line on Windows. Perl will ignore it except for any command-line switches that are included there"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464446358, "post_id": 37498648, "comment_id": 62495436, "body": "Also, if you <code>warn &#39;here&#39;</code> instead of using <code>print</code>, perl will show the source line number as well so that you can distinguish between the calls. You can just <code>warn;</code> if you like, and perl will say <code>Warning: something&#39;s wrong at C:\\Perl\\source\\program.pl line 8.</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7748, "user_id": 1258004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jlWxl.png?s=128&g=1", "display_name": "Jobin", "link": "https://stackoverflow.com/users/1258004/jobin"}, "edited": false, "score": 0, "creation_date": 1464579541, "post_id": 37499173, "comment_id": 62527826, "body": "Thanks for the answer. When I run the code from CLI it shows some error like declaration error for $PortObj and $string_in so I just declare it with my now it shows Bareword &quot;ON&quot; not allowed while &quot;strict subs&quot; in use at serial.pl line 17. that is in &quot;$PortObj-&gt;user_msg(ON);&quot; so i just commented that line."}, {"owner": {"reputation": 7748, "user_id": 1258004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jlWxl.png?s=128&g=1", "display_name": "Jobin", "link": "https://stackoverflow.com/users/1258004/jobin"}, "edited": false, "score": 0, "creation_date": 1464579756, "post_id": 37499173, "comment_id": 62527854, "body": "Now its showing error @ Can&#39;t use string (&quot;&quot;) as a symbol ref while &quot;strict refs&quot; in use at serial.pl line 40. that is   $string_in = $PortObj-&gt;input;   print $string_in , Im not sure how to print the  port value from device. Also this one major doubt it works from web page as well right ? Other wise no use for me to do the stuff, bcoz I need to get it from web application."}, {"owner": {"reputation": 7748, "user_id": 1258004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jlWxl.png?s=128&g=1", "display_name": "Jobin", "link": "https://stackoverflow.com/users/1258004/jobin"}, "edited": false, "score": 0, "creation_date": 1464580705, "post_id": 37499173, "comment_id": 62528023, "body": "ok great I solved it :) thanks for the support When I run the script from browser it return error, So I run the script from PHP means PHP call a perl and return the result in browser works fine :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1464439666, "creation_date": 1464439666, "answer_id": 37499173, "question_id": 37498648, "link": "https://stackoverflow.com/questions/37498648/reading-serial-port-in-perl/37499173#37499173", "title": "Reading Serial Port in Perl", "body": "<blockquote>\n<pre><code>use Win32::SerialPort qw( :STAT 0.19 );\n</code></pre>\n</blockquote>\n\n<p>This is the same as</p>\n\n<pre><code>use Win32::SerialPort ':STAT', '0.19';\n</code></pre>\n\n<p>The <code>:STAT</code> imports a number of useful status constants, and is explained <a href=\"https://metacpan.org/pod/Win32::SerialPort#Exports\" rel=\"nofollow\">under <strong><em>Exports</em></strong></a> in the documentation for the module</p>\n\n<p>The <code>0.19</code> is part of Perl, and is insisting that the version of <code>Win32::SerialPort</code> must be 0.19 or later. The current version is 0.22. If you change <code>0.19</code> to <code>0.23</code> then you will see the effect it has</p>\n"}], "owner": {"reputation": 7748, "user_id": 1258004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jlWxl.png?s=128&g=1", "display_name": "Jobin", "link": "https://stackoverflow.com/users/1258004/jobin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2081, "favorite_count": 1, "accepted_answer_id": 37499173, "answer_count": 1, "score": 0, "last_activity_date": 1464580847, "creation_date": 1464436364, "last_edit_date": 1464580847, "question_id": 37498648, "link": "https://stackoverflow.com/questions/37498648/reading-serial-port-in-perl", "title": "Reading Serial Port in Perl", "body": "<p>I'm bit tired of reading serial port, using <code>Perl</code> first of all <code>Perl</code> is not my primary development tool, I'm from <code>PHP</code> background.\nSo please guide me in a right way. my intention is to read the data from a weight machine to a web page, I already did a lot of research on this topic.</p>\n\n<p>The browser app cannot read serial port data directly so I choose the user end machine can be installed with a server (Apache) and do the task with PHP and web application can read the result using an Ajax call to <code>localhost url</code> the idea is working great on Linux machines but on windows PC it stuck.</p>\n\n<p>I understand PHP can't read data from serial port in windows like Linux so I choose Perl to do the stuff. I did some search an got few codes and last 8 hours I'm fighting with that :(</p>\n\n<pre><code>#!E:\\xampp\\perl\\bin\\perl.exe\n# The above line is perl execution path in xampp\n# The below line tells the browser, that this script will send html content.\n# If you miss this line then it will show \"malformed header from script\" error.\n\n  print \"Content-type: text/plain\\n\\n\";\n  # use strict; use warnings;\n  use Win32;\n  require 5.003;\n  use Win32::SerialPort qw( :STAT 0.19 );\n  print \"here\";\n  $PortObj = new Win32::SerialPort (\"COM3\") || die \"Can't open COM3: $^E\\n\";\n  print \"here\";\n  $PortObj-&gt;user_msg(ON);\n  $PortObj-&gt;databits(8);\n  $PortObj-&gt;baudrate(9600);\n  $PortObj-&gt;parity(\"none\");\n  $PortObj-&gt;stopbits(1);\n  $PortObj-&gt;handshake(\"rts\");\n  $PortObj-&gt;buffers(4096, 4096);\n\n  $PortObj-&gt;error_msg(1);  # prints major messages like \"Framing Error\"\n  $PortObj-&gt;user_msg(1);  \n\n  $PortObj-&gt;write_settings || undef $PortObj;\n\n\n  print \"here\";\n  # $PortObj-&gt;save($Configuration_File_Name);\n  $PortObj-&gt;read_interval(100);    # max time between read char (milliseconds)\n  $PortObj-&gt;read_char_time(5);     # avg time between read char\n  $PortObj-&gt;read_const_time(100);\n\n   print \"here\";\n   $string_in = $PortObj-&gt;read(\"200\");\n\n   print $string_in\n  # $PortObj-&gt;baudrate(300);\n  # $PortObj-&gt;restart($Configuration_File_Name);  # back to 9600 baud\n\n  $PortObj-&gt;close || die \"failed to close\";\n  undef $PortObj;  \n</code></pre>\n\n<p>The code is not working but on forum and many other places it says working like <a href=\"https://metacpan.org/pod/release/BBIRTH/SerialPort-0_10/SerialPort.pm\" rel=\"nofollow\">here</a> , <a href=\"http://search.cpan.org/~bbirth/Win32-SerialPort-0.19/lib/Win32/SerialPort.pm\" rel=\"nofollow\">here</a>, <a href=\"http://www.perlmonks.org/bare/?node_id=682439\" rel=\"nofollow\">this</a> and <a href=\"http://answers.google.com/answers/threadview/id/16034.html\" rel=\"nofollow\">this</a>.</p>\n\n<p>Im unable to find what is this means \"use Win32::SerialPort qw( :STAT 0.19 );\"\nis that something like importing that library with version number. ?</p>\n\n<p>I'm already installed  Xampp with Perl and <code>activePerl Win32::serialport 0.22</code> and its API but when I run the code it return an error like</p>\n\n<pre><code>Error message:\nEnd of script output before headers: serial.pl \n</code></pre>\n\n<p>500 Error</p>\n\n<p>Any idea ?? </p>\n\n<p><strong>Solved</strong></p>\n\n<p>For reading section I use the code below.</p>\n\n<pre><code># warn \"here\";\n  my ($ser) = @_;\n  my ($numChars, $c);\n  my $line = '';\n  do {\n    do {\n      ($numChars, $c) = $PortObj-&gt;read(1);\n      #print \"$numChars read=$c\\n\";\n    } while ($numChars &lt; 1);\n    # print $c;\n    $line .= $c;\n  } while ($c ne \"\\n\");\n   print $line;\n</code></pre>\n\n<p>The code works fine from CLI so I just put a PHP file to read the perl script and return the data.</p>\n"}, {"tags": ["perl", "loops", "lwp"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1465116715, "post_id": 37497442, "comment_id": 62760199, "body": "Add <code>use strict; use warnings;</code> at the top, and remove <code>-w</code>."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1465115930, "creation_date": 1465115930, "answer_id": 37639971, "question_id": 37497442, "link": "https://stackoverflow.com/questions/37497442/fetch-a-url-100-times-using-perl/37639971#37639971", "title": "Fetch a URL 100 times using Perl", "body": "<p>Use a (simple) <code>for</code> loop.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse LWP::Simple;\nmy $uri =  'http://my link here';\nget $uri for 1 .. 100;\n</code></pre>\n\n<p><strong>Update:</strong> Just read in a comment that you don't care about the returned data, so I've edited my answer to remove the unnecessary <code>$content</code> variable.</p>\n"}], "owner": {"reputation": 7, "user_id": 6185515, "user_type": "registered", "profile_image": "https://graph.facebook.com/1010613022353732/picture?type=large", "display_name": "Valeria Grishina", "link": "https://stackoverflow.com/users/6185515/valeria-grishina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1465116686, "creation_date": 1464428328, "last_edit_date": 1465116686, "question_id": 37497442, "link": "https://stackoverflow.com/questions/37497442/fetch-a-url-100-times-using-perl", "title": "Fetch a URL 100 times using Perl", "body": "<p>The problem I met is that I need to get one URL (I cannot be specific that link exactly, this link is doing request and looks like <a href=\"http://link.com/?name=name&amp;password=password&amp;\" rel=\"nofollow\">http://link.com/?name=name&amp;password=password&amp;</a> and etc)</p>\n\n<p>And I need to fetch this URL 100 times in a row. I can not do this manually using browser - this takes much time.</p>\n\n<p>Is there any option to run (just run, like you put link in browser and press enter) this link 100 times in a row using Perl scripting?</p>\n\n<p>I have not met before with the Perl and therefore asking the help directly. As I google before some information and make a little script, but seems like I missing something in my knowledge:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse LWP::Simple;\nmy $uri =  'http://my link here';\nmy $content = get $uri;\n</code></pre>\n\n<p>Could you please advise to me how I can finish this script?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1975, "user_id": 975123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77b6e3032b52ff422b1f4457df337bbe?s=128&d=identicon&r=PG", "display_name": "mekazu", "link": "https://stackoverflow.com/users/975123/mekazu"}, "edited": false, "score": 0, "creation_date": 1464519495, "post_id": 37497112, "comment_id": 62511963, "body": "I think using the /g to return the part of the string that matches the expression is a bit of an advanced use of the flag, and isn&#39;t really what /g is for. You&#39;re better off using parens to specify the bits of the string to extract i.e. my ($extracted) = $string =~ /^(D\\d+)C\\d+/"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1464425971, "creation_date": 1464425971, "answer_id": 37497112, "question_id": 37496978, "link": "https://stackoverflow.com/questions/37496978/how-to-extract-pattern-from-a-word/37497112#37497112", "title": "How to extract pattern from a word", "body": "<p>Use a regular expression.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nfor my $string (qw( D11C1 D1C12 )) {\n    my ($extracted) = $string =~ /D[0-9]+/g;\n    say $extracted;\n}\n</code></pre>\n\n<p><code>D</code> matches itslef, <code>[0-9]</code> matches digits, <code>+</code> means the digit can be repeated one or more times. The <code>/g</code> at the end, in this case, just makes the expression return the matching part of the string. See <a href=\"http://p3rl.org/perlre\" rel=\"nofollow\">perlre</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 2342050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f7e24368e61f618c084ce43339cb284?s=128&d=identicon&r=PG", "display_name": "A.Kryeem", "link": "https://stackoverflow.com/users/2342050/a-kryeem"}, "is_accepted": true, "score": 0, "last_activity_date": 1464441070, "creation_date": 1464441070, "answer_id": 37499418, "question_id": 37496978, "link": "https://stackoverflow.com/questions/37496978/how-to-extract-pattern-from-a-word/37499418#37499418", "title": "How to extract pattern from a word", "body": "<p>You may use something like:</p>\n\n<pre><code>$word =~ /.*(D\\d+).*/;\nmy $res = $1;\n</code></pre>\n\n<p>\\d+ - matches at least one digit.</p>\n"}, {"tags": [], "owner": {"reputation": 1975, "user_id": 975123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77b6e3032b52ff422b1f4457df337bbe?s=128&d=identicon&r=PG", "display_name": "mekazu", "link": "https://stackoverflow.com/users/975123/mekazu"}, "is_accepted": false, "score": 1, "last_activity_date": 1464518847, "creation_date": 1464518847, "answer_id": 37508962, "question_id": 37496978, "link": "https://stackoverflow.com/questions/37496978/how-to-extract-pattern-from-a-word/37508962#37508962", "title": "How to extract pattern from a word", "body": "<pre><code>my ($d) = $input =~ m/(D\\d+)/;\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>perl -E 'while(my $input = shift) { my ($d) = $input =~ m/(D\\d+)/; say $d }' D11C1 D1C1\nD11\nD1\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4871106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9b7aca273b3cc612ae277483c64b58?s=128&d=identicon&r=PG&f=1", "display_name": "vmadhav", "link": "https://stackoverflow.com/users/4871106/vmadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 37499418, "answer_count": 3, "score": 0, "last_activity_date": 1464518847, "creation_date": 1464424924, "last_edit_date": 1464442573, "question_id": 37496978, "link": "https://stackoverflow.com/questions/37496978/how-to-extract-pattern-from-a-word", "title": "How to extract pattern from a word", "body": "<p>I'm new to perl, I have come across a scenario where I have to extract <code>D[number]</code> from a word.</p>\n\n<p>example : \nIf input string is <code>D11C1</code>, <code>D11</code> should be extracted  </p>\n\n<p>If input string is <code>D1C12</code>, <code>D1</code> should be extracted.</p>\n"}, {"tags": ["perl", "pdf-generation"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464436171, "post_id": 37495086, "comment_id": 62492161, "body": "I don&#39;t understand <i>&quot;pagenot found in the PDF have 50 pages&quot;</i>. Please explain"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1464438180, "post_id": 37495086, "comment_id": 62492867, "body": "I should think &quot;pagenot found&quot; is the content/text on the pdf file. May I correct."}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1464439733, "creation_date": 1464439733, "answer_id": 37499191, "question_id": 37495086, "link": "https://stackoverflow.com/questions/37495086/perl-script-for-removing-pages-from-a-pdf-file-based-on-pattern/37499191#37499191", "title": "Perl script for removing pages from a pdf file based on pattern", "body": "<p>Could you please try this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CAM::PDF;\n\nmy $pdf = CAM::PDF-&gt;new('input.pdf');\nmy $ttl_pgs = $pdf-&gt;numPages();\n\nfor(1..$ttl_pgs)\n{\n    my $pagnum = $_;\n    my $pdf_cnt = $pdf-&gt;getPageContent($pagnum);\n    if($pdf_cnt=~m/pages not found/i)\n    {\n         $pdf-&gt;deletePage($pagnum);\n    }\n}\n$pdf-&gt;cleanoutput('output.pdf');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6393443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3a0084e01f9ed41c48ef1408398a5f5?s=128&d=identicon&r=PG&f=1", "display_name": "vara g", "link": "https://stackoverflow.com/users/6393443/vara-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1464439733, "creation_date": 1464408525, "last_edit_date": 1464436141, "question_id": 37495086, "link": "https://stackoverflow.com/questions/37495086/perl-script-for-removing-pages-from-a-pdf-file-based-on-pattern", "title": "Perl script for removing pages from a pdf file based on pattern", "body": "<p>We have a 3,000-page PDF file and we want to remove pages based on a pattern.</p>\n\n<p>For example pagenot found in the PDF have 50 pages. Now output is like to 2,950 pages by removing 50 pages from the document.</p>\n"}, {"tags": ["perl", "date"], "comments": [{"owner": {"reputation": 1975, "user_id": 975123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77b6e3032b52ff422b1f4457df337bbe?s=128&d=identicon&r=PG", "display_name": "mekazu", "link": "https://stackoverflow.com/users/975123/mekazu"}, "edited": false, "score": 0, "creation_date": 1464519735, "post_id": 37494493, "comment_id": 62512042, "body": "It won&#39;t solve your problem but have you considered giving your fields better names than $field0 etc? How about $log_date or something that describes what it contains?"}, {"owner": {"reputation": 53, "user_id": 5694217, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/03fca0cf8bf2ee4335485c58d4ed7b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Steve W", "link": "https://stackoverflow.com/users/5694217/steve-w"}, "reply_to_user": {"reputation": 1975, "user_id": 975123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77b6e3032b52ff422b1f4457df337bbe?s=128&d=identicon&r=PG", "display_name": "mekazu", "link": "https://stackoverflow.com/users/975123/mekazu"}, "edited": false, "score": 0, "creation_date": 1464676794, "post_id": 37494493, "comment_id": 62566626, "body": "@mekazu - Yep did that"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467562728, "last_edit_date": 1467562728, "creation_date": 1464437059, "answer_id": 37498764, "question_id": 37494493, "link": "https://stackoverflow.com/questions/37494493/perl-converting-a-date-held-in-a-string-to-a-different-format/37498764#37498764", "title": "Perl: Converting a date held in a string to a different format", "body": "<p>There are two obvious approaches. The first is to use the core <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> module to parse the date-time string and reformat it, and the second is to use a regex substitution to match the three date fields and reverse them</p>\n\n<p>Here are both techniques used in a single program</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Time::Piece;\n\nmy $time0 = my $time1 = '2016-05-28 12:53:19';\n\n$time0 = Time::Piece-&gt;strptime($time0, '%Y-%m-%d %H:%M:%S')-&gt;strftime('%d-%m-%Y %H:%M:%S');\nsay $time0;\n\n$time1 =~ s/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)/$3-$2-$1/;\nsay $time1;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>28-05-2016 12:53:19\n28-05-2016 12:53:19\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5694217, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/03fca0cf8bf2ee4335485c58d4ed7b5f?s=128&d=identicon&r=PG&f=1", "display_name": "Steve W", "link": "https://stackoverflow.com/users/5694217/steve-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 1, "accepted_answer_id": 37498764, "answer_count": 1, "score": 2, "last_activity_date": 1467562728, "creation_date": 1464400893, "last_edit_date": 1464436922, "question_id": 37494493, "link": "https://stackoverflow.com/questions/37494493/perl-converting-a-date-held-in-a-string-to-a-different-format", "title": "Perl: Converting a date held in a string to a different format", "body": "<p>I have a date that I have extracted from a log file in <code>YYYY-MM-DD HH:MM:SS</code> format.  </p>\n\n<p>I have it in a variable called <code>$field0</code> along with another nine variables <code>$field1</code> - <code>$field9</code>.</p>\n\n<p>Using Perl I want to change the format of the string to <code>DD-MM-YYYY HH:MM:SS</code> and put it back in <code>$field0</code> </p>\n\n<p>Surely there must be a really easy way to do this?</p>\n\n<p>Can anyone assist please or point me somewhere that has am example?</p>\n"}, {"tags": ["perl", "www-mechanize"], "answers": [{"tags": [], "owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "is_accepted": true, "score": 0, "last_activity_date": 1464402916, "creation_date": 1464402916, "answer_id": 37494624, "question_id": 37494438, "link": "https://stackoverflow.com/questions/37494438/wwwmechanizephantomjs-javascript-form-submit/37494624#37494624", "title": "WWW::Mechanize::PhantomJS Javascript form submit", "body": "<p>It seems I have solved the problem. The page is using multiple frames. $mech->submit() is working fine on this form, but only if I select the correct frame.</p>\n\n<pre><code>sub f { my $mech = shift; my @frames = $mech-&gt;expand_frames(); return $frames[2]; };\n$mech-&gt;activate_container(f( $mech ));\n</code></pre>\n\n<p>It seems <code>$frames[2]</code> holds the content of the submit form. Once selected <code>$mech-&gt;submit()</code> is working fine.</p>\n\n<p>All my previous tries were inside the header iframe, that holds literally just a bold heading line. </p>\n"}], "owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 37494624, "answer_count": 1, "score": 0, "last_activity_date": 1464402916, "creation_date": 1464400074, "question_id": 37494438, "link": "https://stackoverflow.com/questions/37494438/wwwmechanizephantomjs-javascript-form-submit", "title": "WWW::Mechanize::PhantomJS Javascript form submit", "body": "<p>After trying a lot I still have no idea how I can execute this post method with WWW::Mechanize::PhantomJS. It uses javascript on onsubmit=\"_onlickWeiter()\" </p>\n\n<pre><code>&lt;form name=\"NeuerMBAntrag\" action=\"Mahnantrag\" method=\"post\" onsubmit=\"_onclickWeiter()\"&gt;\n&lt;input name=\"_ts\" value=\"1464398188768\" type=\"hidden\"&gt;\n&lt;input name=\"Command\" value=\"neuerMBAntrag\" type=\"hidden\n</code></pre>\n\n<p>_onClickWeiter()</p>\n\n<pre><code>function _onclickWeiter()\n{\n   document.NeuerMBAntrag.Command.value = \"neuerMBAntragForce\" ;\n   document.NeuerMBAntrag.submit() ;\n}\n</code></pre>\n\n<p>If I call <code>$mech-&gt;submit()</code> it does not load. </p>\n\n<p>The website has only buttons and no input fields, there are two buttons on the page inside the <code>&lt;form&gt;&lt;/form&gt;</code> tag.</p>\n\n<p>Button 1:</p>\n\n<pre><code>&lt;input src=\"images/butt_neuerAntrag_120x19.gif\" name=\"neuer Antrag\" alt=\"Weiter mit neuem Antrag, alte Eingaben gehen verloren (Alt+N)\" accesskey=\"n\" tabindex=\"2\" border=\"0\" type=\"image\"&gt;\n</code></pre>\n\n<p><code>$mech-&gt;click('neuer Antrag');</code> does not work.</p>\n\n<pre><code>&lt;form name=\"NeuerMBAntrag\" action=\"Mahnantrag\"  method=\"post\" onSubmit=\"_onclickWeiter()\"&gt;\n&lt;input type=\"hidden\" name=\"_ts\" value=\"1464399779271\" /&gt;\n&lt;input type=\"hidden\" name=\"Command\" value=\"neuerMBAntrag\"&gt;\n\n&lt;table border=\"0\" cellspacing=\"0\" width=\"750\"&gt;\n    &lt;tr bgcolor=\"#666666\"&gt;\n    &lt;td width=\"10\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;td width=\"10\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;td width=\"10\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;td width=\"80\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;td width=\"10\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;td width=\"320\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;td width=\"110\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;td width=\"110\"&gt;&amp;#160;&lt;/td&gt;\n    &lt;/tr&gt;\n\n  &lt;tr bgcolor=\"#666666\"&gt;\n    &lt;td colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td class=\"zeile1\" colspan=\"4\"&gt;Antrag auf Erlass eines Mahnbescheids&lt;/td&gt;\n\n    &lt;td colspan=\"2\" align=\"right\"&gt;&lt;table cellspacing=\"1\" cellpadding=\"1\"&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_bevollmaechtigter_off.gif\" alt=\"Prozessbevollm&amp;auml;chtigter (noch keine Angaben)\" title=\"Prozessbevollm&amp;auml;chtigter (noch keine Angaben)\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_antragsteller_off.gif\" alt=\"Antragsteller (noch keine Angaben)\" title=\"Antragsteller (noch keine Angaben)\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_antragsgegner_off.gif\" alt=\"Antragsgegner (noch keine Angaben)\" title=\"Antragsgegner (noch keine Angaben)\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_forderung_off.gif\" alt=\"Hauptforderung/Zinsen (noch keine Angaben)\" title=\"Hauptforderung/Zinsen (noch keine Angaben)\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_nebenforderung_off.gif\" alt=\"Auslagen und Nebenforderungen (noch keine Angaben)\" title=\"Auslagen und Nebenforderungen (noch keine Angaben)\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_allgemein_antrag_off.gif\" alt=\"Allgemeine Angaben (noch keine Angaben)\" title=\"Allgemeine Angaben (noch keine Angaben)\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_datenuebersicht_off.gif\" alt=\"Daten&amp;uuml;bersicht\" title=\"Daten&amp;uuml;bersicht\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/ico_drucken_off.gif\" alt=\"Druck\" title=\"Druck\"&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;table border=\"0\" cellspacing=\"0\" width=\"560\"&gt;\n    &lt;tr&gt;\n     &lt;td width=10&gt;&lt;/td&gt;\n     &lt;td width=300&gt;&lt;/td&gt;\n     &lt;td width=240&gt;&lt;/td&gt;\n     &lt;td width=10&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n    &lt;tr&gt;\n     &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n     &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n     &lt;td colspan=\"2\" class=\"literal\" align=\"right\" valign=\"bottom\"&gt;&lt;a&gt;&lt;img src=\"images/butt_hilfe.gif\" border=\"0\" alt=\"Einf\u00fchrung\" onClick=\"hilfe('hilfe/einfuehrung.htm')\"&gt;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"text\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"text\" colspan=\"2\"&gt;\n            &lt;p&gt;Der Antrag auf Erlass eines Mahnbescheids ist in 8 Schritte aufgeteilt.\n                &lt;ol&gt;\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_bevollmaechtigter_on_mini.gif'&gt; Prozessbevollm&amp;auml;chtigten erfassen (sofern vorhanden)\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_antragsteller_on_mini.gif'&gt; Antragstellerdaten erfassen\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_antragsgegner_on_mini.gif'&gt; Antragsgegner erfassen\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_forderung_on_mini.gif'&gt; Anspruch/Forderung erfassen\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_nebenforderung_on_mini.gif'&gt; Auslagen und Nebenforderung erfassen (sofern vorhanden)\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_allgemein_antrag_on_mini.gif'&gt; Allgemeine Angaben zum Antrag\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_datenuebersicht_on_mini.gif'&gt; &amp;Uuml;berpr&amp;uuml;fen der Antragsdaten\n                    &lt;li&gt;Schritt: &lt;img src='https://www.online-mahnantrag.de:443/omahn/images/ico_drucken_on_mini.gif'&gt; Druck/Antragsabgabe\n                &lt;/ol&gt;\n            &lt;/p&gt;\n            &lt;p&gt;Geben Sie zu jedem Schritt die erforderlichen Daten ein. Mit &lt;img src=\"images/butt_weiter_rund_klein.gif\" width=13 height=13 alt=\"\" border=\"0\"&gt; best&amp;auml;tigen Sie Ihre Eingabe und gelangen zum jeweils n&amp;auml;chsten Schritt oder Teilschritt.&lt;/p&gt;\n            &lt;p&gt;Haben Sie schon Daten erfa&amp;szlig;t, m&amp;ouml;chten aber von vorne beginnen, so bet&amp;auml;tigen Sie \"Neuer Antrag\" auf dieser Seite. Alle bisher erfassten Daten werden dann gel&amp;ouml;scht.&lt;/p&gt;\n        &lt;td class=\"text\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;td class=\"text\"&gt;\n        &lt;a href=\"/omahn/Mahnantrag?_ts=9161743-1464399779271&amp;Command=showBundesland\" target=\"main\" accesskey=\"z\" tabindex=3&gt;&lt;img src=\"images/butt_zurueck_60x19.gif\" border=\"0\" alt=\"Zur Auswahl des Bundeslandes (Alt+Z)\" &gt;&lt;/a&gt;\n&lt;!--            &lt;p&gt;Wir w&amp;uuml;nschen Ihnen viel Spa&amp;szlig; bei der Eingabe Ihrer Daten.&lt;/p&gt;--&gt;\n        &lt;/td&gt;\n        &lt;td align=\"right\" height=40 id=\".\" valign=\"BOTTOM\" width=\".\"&gt;\n        &lt;a href=\"/omahn/Mahnantrag?_ts=9161744-1464399779271&amp;Command=neuerMBAntrag\" target=\"main\"&gt;&lt;img src=\"images/butt_weiter_60x19.gif\" border=\"0\" name=\"weiter\"  alt=\"Weiter, der aktuelle Antrag bleibt erhalten (Alt+W)\" accesskey=\"w\"  tabindex=1&gt;&lt;/a&gt;&amp;#160;&amp;#160;\n\n        &lt;input type=\"image\" src=\"images/butt_neuerAntrag_120x19.gif\" border=\"0\" name=\"neuer Antrag\"  alt=\"Weiter mit neuem Antrag, alte Eingaben gehen verloren (Alt+N)\" accesskey=\"n\" tabindex=2&gt;&amp;#160;&amp;#160;&lt;/td&gt;\n        &lt;td class=\"text\"&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>It looks like the _onClickWeiter() adds another variable  <code>document.NeuerMBAntrag.Command.value = \"neuerMBAntragForce\" ;</code> and then submits. How would I call this with WWW::Mechanize:PhantomJS the easiest way without loss of <code>&lt;input&gt;&lt;/input&gt;</code> fields inside <code>&lt;form&gt;&lt;/form&gt;</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48191, "user_id": 1250772, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/633e1f643d2c9b043231b4a32b078907?s=128&d=identicon&r=PG", "display_name": "Kaz", "link": "https://stackoverflow.com/users/1250772/kaz"}, "edited": false, "score": 0, "creation_date": 1464396882, "post_id": 37494101, "comment_id": 62484427, "body": "I don&#39;t see <code>ORGANISM</code> in the data. Maybe you mean <code>ORIGIN</code>?"}, {"owner": {"reputation": 1975, "user_id": 975123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77b6e3032b52ff422b1f4457df337bbe?s=128&d=identicon&r=PG", "display_name": "mekazu", "link": "https://stackoverflow.com/users/975123/mekazu"}, "edited": false, "score": 0, "creation_date": 1464397319, "post_id": 37494101, "comment_id": 62484501, "body": "Your main problem is that you&#39;re declaring a fresh empty hash %size to use for the sort command, which has no relevance to the $size scalar above. You need to declare something like a $biggest_sequence and $smallest_sequence above the while ($line) loop and calculate for each sequence whether it should take place of the old $biggest_sequence or $smallest_sequence."}, {"owner": {"reputation": 127, "user_id": 6002690, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/427760998f97e05543f6e49017577d02?s=128&d=identicon&r=PG&f=1", "display_name": "jnmf", "link": "https://stackoverflow.com/users/6002690/jnmf"}, "edited": false, "score": 0, "creation_date": 1464397678, "post_id": 37494101, "comment_id": 62484567, "body": "yes, sorry, I cut out the header because it was too big and missed the organism part."}, {"owner": {"reputation": 127, "user_id": 6002690, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/427760998f97e05543f6e49017577d02?s=128&d=identicon&r=PG&f=1", "display_name": "jnmf", "link": "https://stackoverflow.com/users/6002690/jnmf"}, "edited": false, "score": 0, "creation_date": 1464397689, "post_id": 37494101, "comment_id": 62484570, "body": "ok, i&#39;ll try to do that, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 1, "last_activity_date": 1464412533, "last_edit_date": 1464412533, "creation_date": 1464409014, "answer_id": 37495124, "question_id": 37494101, "link": "https://stackoverflow.com/questions/37494101/get-shortest-and-longest-sequence-in-file/37495124#37495124", "title": "Get shortest and longest sequence in file", "body": "<p>You state that you want two pieces of data - the accession and the organism - for the longest and shortest sequence.  This means your hash values need to store two elements.  As well as that, when you use '//' as a record separator, the '//' still appears on the end of each record.  So, when you filter out whitespace and digits from you sequence, you're still left with '//' on the end.  When I ran your code through the debugger, I was finding the lengths were all out by 2 because of this.</p>\n\n<p>A couple of other things:</p>\n\n<ol>\n<li>When using regexs, use 'extended mode', <code>/x</code>, so you can include whitespace for readabillity</li>\n<li>you presume a successful match when you dig out <code>$definition</code> - better to test your regexs and assign on match, die on missmatch</li>\n<li>Rather than store the length in the hash (and lose the sequence itself), you might as well store the sequence and calculate the lengths later;</li>\n<li>I renamed the variable <code>$line</code> to <code>$chunk</code> as it contains several lines</li>\n<li>All the stuff to do with calculating the shortest and longest and printing the resuts needs to move out of the loop.  In its place, you simply need to make an entry into the hash.  As described above, the hash values need to be an array with two values - the accession and the organism.</li>\n<li>You remove digits from the sequence in one command and then whitespace from the sequence in another - might as well do them both togeather.  While we're at it, might as well remove the '/'s on the end of the record.</li>\n</ol>\n\n<p>Given the mods above, I get;</p>\n\n<pre><code>use v5.14;\nuse warnings;\n\nprint \"Enter file path: \";\nchomp(my $filename = &lt;&gt;);\nopen(IN, $filename) or die \"\\n error opening file \\n;/\\n\";\n\n$/ = \"//\" ;\n\nmy %organisms ;\nwhile (my $chunk = &lt;IN&gt;)  {\n    next if $chunk =~ /^\\s*\\n\\s*$/ ;\n    my ($definition , $sequence) = split \"ORIGIN\", $chunk ;\n\n    my $organism ;\n    $definition =~ m/ ORGANISM [\\s\\t]+ (.+) [\\n\\s\\t]+ /x\n        ? $organism = $1\n        : die \"Couldnt find ORGANISM line\" ;\n\n    my $accession ;\n    $definition =~ m/ ACCESSION [\\s\\t]+ (\\D\\D _ \\d{6} (\\d*))  [\\n\\s\\t]+ /x\n        ? $accession = $1\n        : die \"Cant find ACCESSION line\" ;\n\n    $sequence =~ s/[\\d\\n\\s\\t\\/]//g;\n    $organisms{ $sequence } = [ $accession , $organism ] ;\n}\n\n\nmy @sorted_keys = sort { length $a  &lt;=&gt;  length $b } keys %organisms ;\nmy $shortest = $sorted_keys[0];\nmy $longest  = $sorted_keys[-1];\n\nsay \"this is the shortest: \",  $organisms{$shortest}-&gt;[0],\n                        \", \",  $organisms{$shortest}-&gt;[1],\n                   \" size: \",  length $shortest, \"\\n\",\n               \" sequence: \",  $shortest ;\n\nsay  \"this is the longest: \",  $organisms{$longest}-&gt;[0],\n                        \", \",  $organisms{$longest}-&gt;[1],\n                   \" size: \",  length $longest, \"\\n\",\n               \" sequence: \",  $longest ;\n\nexit;\n</code></pre>\n\n<p>when ran on your data, it produces;</p>\n\n<pre><code>$ ./sequence.pl\nEnter file path: data.txt\nthis is the shortest: NM_001323410, Homo sapiens size: 113\n sequence: actacttccggcttccccgccccgccccgtccccgggcgtctccattttggtctcaggtgtggactcggcaagaaccagcgcaagagggaagcagagttatagctaccccggc\nthis is the longest: NM_182854, Homo sapiens size: 120\n sequence: gggcgatcagaagcaggtcacacagcctgtttcctgttttcaaacggggaacttagaaagtggcagcccctcggcttgtcgccggagctgagaaccaagagctcgaaggggccatatgac\n</code></pre>\n\n<p><strong>UPDATE</strong>\nThe problem with the code above is that if the same sequence appears in two chunks, then data is going to be overwritten in the hash and lost.  Below is an updated version that stores data in an array of arrays which will advoid the problem.  It produces exactly the same output:</p>\n\n<pre><code>use v5.14;\nuse warnings;\n\nprint \"Enter file path: \";\nchomp(my $filename = &lt;&gt;);\nopen(IN, $filename) or die \"\\n error opening file \\n;/\\n\";\n\n$/ = \"//\" ;\n\nmy @organisms ;\nwhile (my $chunk = &lt;IN&gt;)  {\n    next if $chunk =~ /^\\s*\\n\\s*$/ ;\n    my ($definition , $sequence) = split \"ORIGIN\", $chunk ;\n\n    my $organism ;\n    $definition =~ m/ ORGANISM [\\s\\t]+ (.+) [\\n\\s\\t]+ /x\n        ? $organism = $1\n        : die \"Couldnt find ORGANISM line\" ;\n\n    my $accession ;\n    $definition =~ m/ ACCESSION [\\s\\t]+ (\\D\\D _ \\d{6} (\\d*))  [\\n\\s\\t]+ /x\n        ? $accession = $1\n        : die \"Cant find ACCESSION line\" ;\n\n    $sequence =~ s/[\\d\\n\\s\\t\\/]//g;\n    push @organisms, [$organism , $accession , $sequence] ;\n}\n\n\nmy @sorted_organisms = sort { length $a-&gt;[2]  &lt;=&gt;  length $b-&gt;[2] }  @organisms ;\n\nmy ($organism , $accession , $sequence) = @{ $sorted_organisms[0] };\nsay \"this is the shortest: $accession, $organism, size: \",\n    length $sequence, \"\\n\", \" sequence: \",  $sequence ;\n\n($organism , $accession , $sequence) = @{ $sorted_organisms[-1] };\nsay \"this is the longest: $accession, $organism, size: \",\n    length $sequence, \"\\n\", \" sequence: \",  $sequence ;\n\nexit;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 127, "user_id": 6002690, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/427760998f97e05543f6e49017577d02?s=128&d=identicon&r=PG&f=1", "display_name": "jnmf", "link": "https://stackoverflow.com/users/6002690/jnmf"}, "edited": false, "score": 0, "creation_date": 1464481619, "post_id": 37495866, "comment_id": 62505002, "body": "@jnmf  Glad it was useful.  Thanks for feedback :):"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1464481898, "last_edit_date": 1464481898, "creation_date": 1464416095, "answer_id": 37495866, "question_id": 37494101, "link": "https://stackoverflow.com/questions/37494101/get-shortest-and-longest-sequence-in-file/37495866#37495866", "title": "Get shortest and longest sequence in file", "body": "<p>We need to find extreme-length entries while being able to identify the record they belong to. Reading records by <code>//</code> is again a nice idea. However, then each record is a string and pulling the sequence out of it directly is harder than breaking it into lines first. Thus we may as well go line by line, given that there are clear markers for everything needed.</p>\n\n<p>A choice of data structure is important and depends on the purpose.  Here I organize data so that it is easy to work with, into a hash with elements</p>\n\n<pre><code>%block = ( 'accession' =&gt; { 'type' =&gt; type, 'sequence' =&gt; sequence }, ... )\n</code></pre>\n\n<p>The search to perform once the data is read in would be greatly aided by organizing this by 'sequence' (instead of by 'accession'), but that would make it very hard to work with. I presume that this may end up being used for more, and that a small loss of speed is not of consequence. If the sole objective here were to answer the specific question with optimal performance other approaches would be more suitable.  Comments follow the code.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw(say);\n\nmy $file = 'data_seqs.txt';\nopen my $fh, '&lt;', $file or die \"Can't open $file -- $!\";\n\n# Hash, helper variables, flag (inside a sequence?), sequence-end marker\nmy (%block, $accession, $sequence);\nmy $is_seq = 0;\nmy $end_marker = qr(\\s*//); # marks end of sequence: //\n\nwhile (my $line = &lt;$fh&gt;) \n{\n    chomp($line);\n    next if $line =~ /^\\s*$/;       # skip empty lines\n\n    if ($line =~ /$end_marker/) {  # done with the sequence\n        $is_seq = 0;\n        $sequence = ''; \n        next;\n    }   \n\n    if ($line =~ /^\\s*ACCESSION\\s*(\\w+)/) { \n        $accession = $1; \n    }   \n    elsif ($line =~ /^\\s*ORGANISM\\s*(.+)/) {\n        $block{$accession}{'type'} = $1; \n    }   \n    elsif ($line =~ /^\\s*ORIGIN/) {  # start sequence on next line\n        $is_seq = 1;\n    }   \n    elsif ($is_seq) {                # read (and add to) sequence\n        if ($line =~ /^\\s*\\d+\\s*(.*)/) {\n            $block{$accession}{'sequence'} .= $1; \n        }\n        else { warn \"Not sequence? Line: $line \" }\n    }   \n}\n\n# Identify keys for max and min lenght. Initialize with any keys\nmy ($max, $min) = keys %block;\n\nforeach my $acc (keys %block) \n{\n    my $current_len = length($block{$acc}{'sequence'});\n    if ( $current_len &gt; length($block{$max}{'sequence'}) ) { \n        $max = $acc;\n    }\n    if ( $current_len &lt; length($block{$min}{'sequence'}) ) {\n        $min = $acc;\n   }\n}\n\nsay \"Maximum length sequence:  ACCESSION: $max, ORGANISM: \" . $block{$max}{'type'};\nsay \"Minimum length sequence:  ACCESSION: $min, ORGANISM: \" . $block{$min}{'type'};\n\nuse Data::Dumper;\nprint Dumper(\\%block);\n</code></pre>\n\n<p>This prints (Dumper's printout omitted)</p>\n\n<pre>\nMaximum length sequence:  ACCESSION: NM_182854, ORGANISM Homo sapiens\nMinimum length sequence:  ACCESSION: NM_001323410, ORGANISM Homo sapiens\n</pre>\n\n<p>A comment on searching efficiency</p>\n\n<p>One common approach would be to first build a reverse lookup hash, then use a library, say from <code>List::Utils</code>, to find max and min, then look up where they belong. For this we do need to build the lookup hash and we'd use the library twice, while searching through it by hand as above makes one pass over the structure and is also simpler.  Another option would be to have hash top-level keys be sequences and then directly find max and min. However, such hash would be considerably harder to work with.</p>\n\n<p>Yet another approach would be to organize data into a structure that would allow more efficient retrieval of this specific information, probably based on arrays. </p>\n\n<p>However, the efficiency gain doesn't seem to justify the great loss of convenience. If the speed turns out to be a problem then this should be considered.</p>\n\n<p>If you need to work with multiple files just change the loop to <code>while (&lt;&gt;)</code> and submit them on the command line. All lines from all of them will then be read line by line and the code stays the same.</p>\n\n<p>It may be that I misunderstood some terms. I don't remove empty spaces from the \"sequence\", and use words on the first line only for \"type\", just to name a couple of candidates. These are easy to adjust, please let me know.</p>\n"}], "owner": {"reputation": 127, "user_id": 6002690, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/427760998f97e05543f6e49017577d02?s=128&d=identicon&r=PG&f=1", "display_name": "jnmf", "link": "https://stackoverflow.com/users/6002690/jnmf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 1, "accepted_answer_id": 37495124, "answer_count": 2, "score": 2, "last_activity_date": 1464481898, "creation_date": 1464395686, "last_edit_date": 1464397650, "question_id": 37494101, "link": "https://stackoverflow.com/questions/37494101/get-shortest-and-longest-sequence-in-file", "title": "Get shortest and longest sequence in file", "body": "<p>I'm trying to get the shortest and longest sequence in a file containing multiple genbank-like entries. example of the file:</p>\n\n<pre><code>LOCUS       NM_182854               2912 bp    mRNA    linear   PRI 20-APR-2016\nDEFINITION  Homo sapiens mRNA.\nACCESSION   NM_182854\nSOURCE      Homo sapiens (human)\n  ORGANISM  Homo sapiens\n            Eukaryota; Metazoa; Chordata; Craniata; Vertebrata; Euteleostomi;\n            Mammalia; Eutheria; Euarchontoglires; Primates; Haplorrhini;\n            Catarrhini; Hominidae; Homo.\n\nORIGIN      \n        1 gggcgatcag aagcaggtca cacagcctgt ttcctgtttt caaacgggga acttagaaag\n       61 tggcagcccc tcggcttgtc gccggagctg agaaccaaga gctcgaaggg gccatatgac\n      //\n\nLOCUS       NM_001323410            6992 bp    mRNA    linear   PRI 20-APR-2016\nDEFINITION  Homo sapiens  mRNA.\nACCESSION   NM_001323410\nSOURCE      Homo sapiens (human)\n  ORGANISM  Homo sapiens\n            Eukaryota; Metazoa; Chordata; Craniata; Vertebrata; Euteleostomi;\n            Mammalia; Eutheria; Euarchontoglires; Primates; Haplorrhini;\n            Catarrhini; Hominidae; Homo.\n\nORIGIN      \n        1 actacttccg gcttccccgc cccgccccgt ccccgggcgt ctccattttg gtctcaggtg\n       61 tggactcggc aagaaccagc gcaagaggga agcagagtta tagctacccc ggc\n      //\n</code></pre>\n\n<p>I'd like to print the accession number, the type of the organism from the shortest sequence and the longest sequence</p>\n\n<p>my code so far:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"enter file path\\n\";\n\nwhile (my $line = &lt;&gt;){\n    chomp $line;\n    my @record = ($line);\n\n    foreach my $file(@record){\n    open(IN, \"$file\") or die \"\\n error opening file \\n;/\\n\";\n\n    $/=\"//\";\n\n    while (my $line = &lt;IN&gt;){\n        my @gb_seq = split (\"ORIGIN\", $line);\n        my $definition = $gb_seq[0];\n        my $sequence = $gb_seq[1];\n\n        $definition =~ m/ORGANISM[\\s\\t]+(.+)[\\n\\s\\t]+/;\n        my $organism = $1;\n\n        if ($definition =~ m/ACCESSION[\\s\\t]+(\\D\\D_\\d\\d\\d\\d\\d\\d(\\d*))[\\n\\s\\t]+/){\n        my $accession = $1;\n\n            $sequence =~ s/\\d//g;\n            $sequence =~ s/[\\n\\s\\t]//g;\n            my $size = length($sequence);\n            my @sorted_keys = sort { $a &lt;=&gt; $b } keys my %size;\n            my $shortest = $sorted_keys[0];\n            my $longest = $sorted_keys[-1];\n\n            print \"this is the shortest: $accession $organism size: $shortest\\n\";\n            print \"this is the longest: $accession $organism size: $longest\\n\";\n    }\n    }}}\n    exit;\n</code></pre>\n\n<p>I thought about putting the length in a hash to get the shortest and the longest but something is wrong there. I get these errors:</p>\n\n<pre><code>Use of uninitialized value $organism in concatenation (.) or string at test.pl line 39, &lt;IN&gt; chunk 1\nUse of uninitialized value $shortest in concatenation (.) or string at test.pl line 39, &lt;IN&gt; chunk 1.\nUse of uninitialized value $longest in concatenation (.) or string at test.pl line 40, &lt;IN&gt; chunk 1.\n</code></pre>\n\n<p>What part should I change? Thanks</p>\n"}, {"tags": ["perl", "grep", "tail"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1464398045, "post_id": 37494068, "comment_id": 62484633, "body": "<a href=\"https://stackoverflow.com/posts/37494068/edit\">edit</a> your question to include a few lines of concise, testable sample input and expected output. If you mean <code>tail -f</code> instead of <code>tail</code> then be sure to state that - it&#39;s a very important distinction."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1464399412, "post_id": 37494068, "comment_id": 62484879, "body": "Also, do you want whole words. (e.g. if <code>abc</code> was a word, can <code>abcd xyz</code> be a match or only <code>abc xyz</code>). The more you specify this, the better the results will be"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1464423750, "post_id": 37494068, "comment_id": 62488955, "body": "I can&#39;t see what this has to do with Perl?"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1464489522, "post_id": 37494068, "comment_id": 62506059, "body": "@MarkSetchell When I&#39;ve seen similar shell pipeline/filter questions, the OP sometimes specifies that they have a particular utility in mind to implement the solution in (e.g. <code>sed</code>, <code>awk</code>, <code>perl</code>, <code>python</code>) and the question gets tagged with it. Here, OP stated that several things were tried [as a replacement for the <code>grep</code>] and I presume a perl script was one of them and the preferred solution is to be written in perl (e.g. <code>tail file | perl ...</code>). I&#39;ve see OPs [try to] do <code>sed</code> filters [tagged] but <code>sed</code> just can&#39;t do it and they get an <code>awk</code> answer and are perfectly happy with it."}, {"owner": {"reputation": 1, "user_id": 4385821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EvTmZDJvMBA/AAAAAAAAAAI/AAAAAAAAAN4/7eP5CHSos10/photo.jpg?sz=128", "display_name": "Allan Orozco", "link": "https://stackoverflow.com/users/4385821/allan-orozco"}, "edited": false, "score": 0, "creation_date": 1464575011, "post_id": 37494068, "comment_id": 62527021, "body": "EdMorton i have edited the original, thanks i mean tail -f.  CraigEstey you got it right.   im looking for a simple line solution, i will create an script if a single line is not possible. And yes awk is fine if it can be done with it."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1464607573, "post_id": 37494068, "comment_id": 62540585, "body": "@AllanOrozco - put an <code>@</code> in front of someones name if you want them to be notified of a comment you direct to them. You haven&#39;t told us what you mean by <code>word</code> - does <code>word_x7</code> match <code>word_x</code> or not? If <code>word_x</code> appeared once on line 3 and then once on line 5 (as opposed to twice on one line), should the script abort or not?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4385821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EvTmZDJvMBA/AAAAAAAAAAI/AAAAAAAAAN4/7eP5CHSos10/photo.jpg?sz=128", "display_name": "Allan Orozco", "link": "https://stackoverflow.com/users/4385821/allan-orozco"}, "edited": false, "score": 1, "creation_date": 1464574413, "post_id": 37494304, "comment_id": 62526913, "body": "This seem to be what i was looking for, thanks i will give it a try once i get back to my dev machine"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1464582359, "post_id": 37494304, "comment_id": 62528397, "body": "Based on Allan&#39;s edit, it looks like the word frequencies have to be on a per line basis. Thus, for a sequence <code>word1 able</code>, <code>word1 baker</code>, <code>word2 charlie</code>, your command aborts on baker instead of charlie. Allan, can you confirm/clarify this?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1464607500, "post_id": 37494304, "comment_id": 62540549, "body": "@CraigEstey thanks for the heads up I actually read the sample differently and there was a bug in my script where I was counting the number of lines that contain word1 instead of the number of occurrences of word1 and so when word1 occurred twice on a line I was only counting it once. I&#39;ve fixed that now."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1464608033, "last_edit_date": 1464608033, "creation_date": 1464398230, "answer_id": 37494304, "question_id": 37494068, "link": "https://stackoverflow.com/questions/37494068/greping-two-different-things-from-a-tail-command/37494304#37494304", "title": "greping two different things from a tail command", "body": "<p>Without sample input/output it's a guess but it SOUNDS like this is what you're looking for:</p>\n\n<pre><code>tail file | awk '{x+=gsub(/word_x/,\"&amp;\")} x==2||/word_y/{exit} 1'\n</code></pre>\n\n<p>Depending on the requirements you haven't shared with us yet, you may need word boundaries too, e.g. with GNU awk:</p>\n\n<pre><code>tail file | awk '{x+=gsub(/\\&lt;word_x\\&gt;/,\"&amp;\")} x==2||/\\&lt;word_y\\&gt;/{exit} 1'\n</code></pre>\n\n<p>If you only want to consider cases where <code>word_x</code> occurs twice <strong>on one line</strong> then it's briefer:</p>\n\n<pre><code>tail file | awk 'gsub(/\\&lt;word_x\\&gt;/,\"&amp;\")==2||/\\&lt;word_y\\&gt;/{exit} 1'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4385821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EvTmZDJvMBA/AAAAAAAAAAI/AAAAAAAAAN4/7eP5CHSos10/photo.jpg?sz=128", "display_name": "Allan Orozco", "link": "https://stackoverflow.com/users/4385821/allan-orozco"}, "edited": false, "score": 0, "creation_date": 1464574351, "post_id": 37494309, "comment_id": 62526902, "body": "Thanks for the response, ill try something like that code thanks. BTW I have edited the original post, what i am looking to do is a single cmd line call, i wondering is that is possible with out doing a new script."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 1, "user_id": 4385821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EvTmZDJvMBA/AAAAAAAAAAI/AAAAAAAAAN4/7eP5CHSos10/photo.jpg?sz=128", "display_name": "Allan Orozco", "link": "https://stackoverflow.com/users/4385821/allan-orozco"}, "edited": false, "score": 0, "creation_date": 1464577007, "post_id": 37494309, "comment_id": 62527353, "body": "Thanks for edit. To clarify, your new rule (2) implies that <code>text x text y y</code> should <i>not</i> match because it has <i>one</i> <code>x</code>and needs <i>one</i> <code>y</code> whereas this line has <i>two</i> <code>y</code>s? If not, only (1) and (3) are needed as (3) covers (2). Notice that both my script and Ed&#39;s are using hashes for word freq, so something simpler might not be possible. With perl, it can invoke the <code>tail -f</code> in a pipe internally, so <code>script word_x word_y [ifile]</code> and <i>no</i> shell pipe for <code>tail -f file | script</code> needed. Sounds like you want only whole words to match? If so, my regex is wrong and the script can be simplified"}], "tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": false, "score": 0, "last_activity_date": 1464399210, "last_edit_date": 1464399210, "creation_date": 1464398274, "answer_id": 37494309, "question_id": 37494068, "link": "https://stackoverflow.com/questions/37494068/greping-two-different-things-from-a-tail-command/37494309#37494309", "title": "greping two different things from a tail command", "body": "<blockquote>\n  <p>(1) if word_x appears 2 or more times abort the tail</p>\n</blockquote>\n\n<p>That's clear. But, the following is inconsistent</p>\n\n<blockquote>\n  <p>(2) if word_x appears only 1 time, look for word_y</p>\n</blockquote>\n\n<p>This says look for <code>word_y</code> only if the line has a single occurence of <code>word_x</code></p>\n\n<blockquote>\n  <p>(3) and abort the tail if word_x doesnt appear but word y appears abort the tail</p>\n</blockquote>\n\n<p>However, this says only look for <code>word_y</code> if <code>word_x</code> does <em>not</em> appear.</p>\n\n<p>(2) and (3) appear to conflict. To me, ignoring (2) and using (3) makes the most sense.</p>\n\n<p>Also, you didn't say whether you wanted the \"abort\" line to be passed on or not.</p>\n\n<p>Here's some code that I believe will work. I did some minimal testing on it</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy($word_x) = shift(@ARGV);\nmy($word_y) = shift(@ARGV);\n\n# quirk of perl -- the regex needs the longest to be first in order if had\n# similar words like \"abc\" and \"abcd\"\nmy(@rgx) = ($word_x,$word_y);\n@rgx = sort({length($b) &lt;=&gt; length($a)} @rgx);\nmy($rgx) = join(\"|\",@rgx);\n\nwhile (my $buf = &lt;STDIN&gt;) {\n    chomp($buf);\n\n    # NOTE: this assumes the \"abort\" line should be printed\n    print($buf,\"\\n\");\n\n    # get frequency of each word\n    # NOTE: this grabs partials, so it may need \\b or \\W wrappers\n    my(%freq);\n    while ($buf =~ /($rgx)/go) {\n        $freq{$1} += 1;\n    }\n\n    my $xcnt = $freq{$word_x};\n\n    # got two or more of x -- we're done\n    last if ($xcnt &gt;= 2);\n\n    # only look for y if x does _not_ appear at all\n    if ($xcnt == 0) {\n        # found a y -- we're done\n        last if ($freq{$word_y} &gt;= 1);\n    }\n\n    # NOTE: this assumes the \"abort\" line should _not_ be printed\n    # use either of the prints but _not_ both\n    ###print($buf,\"\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4385821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EvTmZDJvMBA/AAAAAAAAAAI/AAAAAAAAAN4/7eP5CHSos10/photo.jpg?sz=128", "display_name": "Allan Orozco", "link": "https://stackoverflow.com/users/4385821/allan-orozco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464608033, "creation_date": 1464395386, "last_edit_date": 1464575039, "question_id": 37494068, "link": "https://stackoverflow.com/questions/37494068/greping-two-different-things-from-a-tail-command", "title": "greping two different things from a tail command", "body": "<p>Is there a way to grep 2 instances of one word or 1 instance of another word in a single cmd line with perl (perl is a must)</p>\n\n<p>I am trying to do a tail -f file | grep -m 2 word_x OR grep word_y </p>\n\n<p>I am trying to catch word_x two times in the file, if that happens then the tail stops. \nBut word_x doesnt always appear, so i like to have another word_y to stop the tail command.</p>\n\n<p>if word_x appears 2 or more times abort the tail;<br>\nif word_x appears only 1 time, look for one ocurrance of word_y and abort the tail;<br>\nif word_x doesnt appear but word y appears abort the tail;  </p>\n\n<p>Word_y is the last word that will always appear on my file.</p>\n\n<p>So it can be like this 3 examples</p>\n\n<p>text<br>\ntext<br>\nword_x \ntext\nword_x<br>\ntest<br>\nword_y</p>\n\n<p>text<br>\ntext<br>\ntext\nword_x<br>\ntest<br>\nword_y  </p>\n\n<p>text<br>\ntext<br>\ntext<br>\nword_y</p>\n\n<p>I need to tail the file. i can use other command it doesnt need to be grep.</p>\n\n<p>Is this possible? i have tried several things but cant come with a simple solution, maybe its not possible to do it on a single command line instruction.</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "multiline"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1464390673, "post_id": 37493450, "comment_id": 62483226, "body": "That looks <i>really</i> close to <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">JSON</a> which would be very easy to parse. I don&#39;t suppose you can change the format to JSON?"}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1464790557, "post_id": 37493450, "comment_id": 62629854, "body": "@Schwern Does that require changing the format of the data within the text documents? If so, then unfortunately that is something I cannot change"}], "answers": [{"tags": [], "owner": {"reputation": 2945, "user_id": 216142, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1bae18aebc08108ae3c9b58f45407e0d?s=128&d=identicon&r=PG", "display_name": "Colin Newell", "link": "https://stackoverflow.com/users/216142/colin-newell"}, "is_accepted": false, "score": 0, "last_activity_date": 1464390589, "creation_date": 1464390589, "answer_id": 37493511, "question_id": 37493450, "link": "https://stackoverflow.com/questions/37493450/perl-populate-2d-array-of-unknown-length-with-multiline-data/37493511#37493511", "title": "Perl: Populate 2D Array of Unknown Length with Multiline Data", "body": "<p>All you should need is another array for the blocks.  You then push this onto your main array when you hit the next one or the final block.</p>\n\n<pre><code>my @analysis_Ids;\nmy $current_analysis = [];\nwhile (my $current_line = &lt;$textfile&gt;) {\n    push @$current_analysis, $_;\n    # if next one, push @analysis_Ids, $current_analysis; and reset $current_analysis;\n}\n# check for the final one.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1464791356, "post_id": 37493955, "comment_id": 62630511, "body": "Thank you! I had seen ranged operators used before but did not know they could be used this way. :)"}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1464792739, "post_id": 37493955, "comment_id": 62631563, "body": "What is the difference between <code>qr|regex|</code> and <code>qr(regex)</code>? I don&#39;t see either of those delimiters in the <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\">perlop documentation</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 1, "creation_date": 1464801530, "post_id": 37493955, "comment_id": 62637235, "body": "@Kimbluey  These range operators are sometimes exactly what you need :).  There is no difference in delimiters -- you can use practically any. The docs just don&#39;t list all that, but note the sentence from your link -- <i>...a <code>{}</code> represents any pair of delimiters you choose</i>. It is pretty much like for a normal regex, where you can even do: <code>$var =~ s{pattern}{repl}</code>. This can be extremely helpful.  I&#39;ll add a note on this to the post."}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1464813029, "post_id": 37493955, "comment_id": 62643282, "body": "Thanks! One last question, if I may: Later in my program, I need to get each piece of information from every Analysis Block...long story short, I&#39;m iterating through the array of arrays and I&#39;m having trouble saving the multi-line Note data to a single variable. As I&#39;m iterating, I&#39;m looking for <code>Note\\s+=(\\s+.*)</code>, but of course that just gets the first line of each note. How can I grab all Note data from <code>Note = [note data]</code> to the end of the sub-array (where Note&#39;s data ends)? Is there an easy way to say, &quot;If you find Note, grab this and all following values &#39;til the sub-array&#39;s end&quot;?"}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1464813312, "post_id": 37493955, "comment_id": 62643427, "body": "I&#39;m trying to bring each line of the Note data together into one long string variable per Analysis Block, e.g. <code>$note = [note data line1] . [note data line 2] . [...] . [note data line n]</code>"}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1464813578, "post_id": 37493955, "comment_id": 62643570, "body": "(Let me know if that&#39;s too big a question to ask and answer in comments)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 1, "creation_date": 1464813807, "post_id": 37493955, "comment_id": 62643696, "body": "@Kimbluey  OK, so now you are processing what is in the array, line by line (what range saved us from above :). (1) You can set a flag when you hit &#39;Note&#39; and merge lines when the flag is true. Say you are looping over <code>@analysis_info</code>. Then <code>@block = @{$analysis_info[$i]}; $is_note = 0; for $line (@block) { if ($line =~ &#47;^\\s*Note&#47;) { $is_note = 1; };  if ($is_note) { $note_text .= $line }; }</code>. This relies on the &#39;Note&#39; ending with array (no other lines following).  Add <code>my</code> etc.  <i>Check this</i>, it&#39;s tricky to type code here.  (2) Or, you could again use the range operator :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1464814240, "post_id": 37493955, "comment_id": 62643954, "body": "@Kimbluey  A bit big for a comment, yes, but I tried.  You nicely raised a question about other approaches, and yes there are (of course), but what to choose depends on exactly what you need to do with data afterwards.  If there is more and more processing to do and it gets hairy this way you may want to reconsider the array-of-arrays.  That may well be another good question (also see the perldsc link in my post)."}, {"owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 0, "creation_date": 1464814641, "post_id": 37493955, "comment_id": 62644177, "body": "Okay, thank you very much! Yea, it probably looks weird that I&#39;m collecting the data in an array-of-arrays and <i>then</i> separating everything out anyway, but unfortunately with all the other things my program must do I am required to D: Thanks again!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "edited": false, "score": 1, "creation_date": 1464823254, "post_id": 37493955, "comment_id": 62647488, "body": "@Kimbluey Well, it doesn&#39;t look weird -- it&#39;s a reasonable way to store lines (and process them later).  It (always) depends on what you do with data.  Another possibly useful way to keep these would be in a hash, <code>{&#39;Lines&#39; =&gt; &#39;string&#39;, &#39;Reason&#39; =&gt; &#39;string&#39;, ... }</code>. This is convenient since you can then retrieve them by name. (Can keep references to these hashes in an array, for example.)  However, it may be far better to just have arrays that you cleanly iterate over.  It depends."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1464811241, "last_edit_date": 1464811241, "creation_date": 1464394403, "answer_id": 37493955, "question_id": 37493450, "link": "https://stackoverflow.com/questions/37493450/perl-populate-2d-array-of-unknown-length-with-multiline-data/37493955#37493955", "title": "Perl: Populate 2D Array of Unknown Length with Multiline Data", "body": "<p>Here is a way to get what the question asks for, in particular by using array of arrays.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = 'data_analysis.txt';\nopen my $fh, '&lt;', $file or die \"Can't open $file -- $!\";\n\n# Prepare (and compile) START/END paterns, capturing ID in START\nmy $start_pattern = qr|\\*ANALYSIS_START\\*\\s*\\[([^[]+)\\]|;\nmy $end_pattern   = qr(\\*ANALYSIS_END\\*);\n\nmy @analysis_IDs;\nmy @analysis_info;\n\nwhile (my $line = &lt;$fh&gt;) \n{\n    chomp($line);\n\n    # Code that gets other, single-line information from file\n\n    if ($line =~ $start_pattern .. $line =~ $end_pattern) \n    {   \n        if ($line =~ $start_pattern) {\n            push @analysis_IDs, $1;    # Get the analysis ID\n            push @analysis_info, [];   # Add arrayref this block's lines\n        }   \n        elsif (not $line =~ $end_pattern) {\n            push @{$analysis_info[-1]}, $line;  # add to last []\n        }\n    }   \n}\n\nprint \"$_\\n\" for @analysis_IDs;\n\nuse Data::Dumper;\nprint Dumper(\\@analysis_info);\n</code></pre>\n\n<p>The code uses the range operator <code>..</code> to determine when it is inside the patterns. This useful operator keeps the state across iterations so it knows when a condition has been satisfied and is still true (or not). It evaluates true once the first condition becomes (and stays) true, as long as the second one stays false. This saves us from maintaining a separate variable to keep track of all that. See <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">Range Operators in perlop</a>. Since start and end patterns need a different treatment, they are distinguished (again) inside. This is not the most efficient way but I am hoping that it is clear.</p>\n\n<p>Matching may use <code>$line =~ $pattern</code> instead of <code>$line =~ /$pattern/</code> since the used patterns had been prepared with <code>qr</code>.  An explicit <code>$line</code> is used in quest for clarity but one can just (implicitly) use <code>$_</code> which provides for more compact code.  In particular, the range condition simplifies to <code>(/$start_pattern/ .. /$end_pattern/)</code>, where we now do need delimiters. A nearly any delimiter (or a pair) can be used, which holds for <code>qr</code> operator as well. See <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow\">Quote-like operators in perlop</a>. Note that I use <code>qr|...|</code> in the first case above so that <code>()</code> can be used freely inside, what isn't possible in the second one since they <em>are</em> the delimiters. Standard regex docs are -- tutorial <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">perlretut</a>, quick introduction <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow\">perlrequick</a>, full syntax <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a>, and reference <a href=\"http://perldoc.perl.org/perlreref.html\" rel=\"nofollow\">perlreref</a>.</p>\n\n<p>With this approach you keep a separate array with analysis ID and another one with blocks, as asked.  They agree by indices, but that may not be a most reliable system. </p>\n\n<p>Instead, a hash of arrays can be used, for example. Then an anonymous array for a block's content would be a 'value' for the key which is the ID. In this case you wouldn't have an order maintained though. That can be solved with another auxilliary structure, for example, if needed.</p>\n\n<p>Here is a tutorial about <a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow\">Arrays of Arrays</a> and a cookbook on <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">Complex Data structures</a>.</p>\n"}], "owner": {"reputation": 941, "user_id": 4019922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GaFfc96W3qg/AAAAAAAAAAI/AAAAAAAAAMg/TPHnsPXCoeQ/photo.jpg?sz=128", "display_name": "Kimbluey", "link": "https://stackoverflow.com/users/4019922/kimbluey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 37493955, "answer_count": 2, "score": 1, "last_activity_date": 1464811241, "creation_date": 1464390099, "last_edit_date": 1495535338, "question_id": 37493450, "link": "https://stackoverflow.com/questions/37493450/perl-populate-2d-array-of-unknown-length-with-multiline-data", "title": "Perl: Populate 2D Array of Unknown Length with Multiline Data", "body": "<h2>Background</h2>\n\n<p>I have a Perl program that is going through directories and parsing text files for certain information. One such piece of information is the Analysis Block, which looks like this:</p>\n\n<pre><code>*ANALYSIS_START* [analysis ID]\n  Line(s)     = [multi- or single-line Line(s) data]\n  Reason Code = [single-line Reason Code data]\n  CR          = [single-line CR data]\n  Note        = [multi-line Note data]\n                [multi-line Note data]\n*ANALYSIS_END* \n</code></pre>\n\n<p>A text file can have <em>zero</em> Analysis Blocks, or it may have <em>any number</em> of these Analysis Blocks - the number of blocks and the size of each are unknown. What I'm hoping to do is to gather the information within these blocks in a 2D array. For example, if a text file had exactly 2 Analysis Blocks, the 2D array would look something like this:</p>\n\n<pre><code>$VAR1 = [\n            [                                       \n                Lines       = [multi- or single-line data]\n                Reason Code = [single-line data]\n                CR          = [single-line data]\n                Note        = [multi-line data]\n                              [multi-line data]\n            ]                                       \n            [                                       \n                Lines       = [multi- or single-line data]\n                Reason Code = [single-line data]\n                CR          = [single-line data]\n                Note        = [multi-line data]\n                              [multi-line data]\n            ]                                       \n        ];\n</code></pre>\n\n<p>If someone has a better suggestion for gathering data while keeping each Analysis Block together as shown above, let me know. There may be a better solution than a 2D array that I'm unaware of.</p>\n\n<h2>Attempt</h2>\n\n<p>I'm fairly new to Perl, but I understand how to create a 2D array by looking at <a href=\"https://stackoverflow.com/questions/317310/how-can-i-create-multidimensional-arrays-in-perl\">this SO question</a>. The problem is that I'm not sure how to populate a 2D array with my specific case. So far, I have the following code:</p>\n\n<pre><code>while (my $current_line = &lt;$textfile&gt;) {\n\n    # Code that gets other, single-line information from file\n\n    $pattern = '\\*ANALYSIS_START\\*';\n    if ($current_line =~ $pattern) {       # Find Analysis Block\n        push @analysis_IDs, $1;            # Get the analysis ID\n        while(&lt;$textfile&gt;) {\n            last if /\\*ANALYSIS_END\\*/;    # Stop at block's end\n            push @analysis_info, $_;       # Append each line of data\n        }\n    }\n}\n</code></pre>\n\n<p>Of course, this causes my array to look something like this, where each line of the file is separate but the Analysis Blocks are not:</p>\n\n<pre><code>$VAR1 = ''\n$VAR2 = 'Lines       = [lines data]'\n$VAR3 = 'Reason Code = [reason code data]'\n$VAR4 = 'CR          = [cr data]'\n$VAR5 = 'Note        = [note data]'\n$VAR6 = '              [note data...]'\n$VAR7 = ''\n$VAR8 = 'Lines       = [lines data]'\n$VAR9 = 'Reason Code = [reason code data]'\n$VAR10= 'CR          = [cr data]'\n$VAR11= 'Note        = [note data]'\n$VAR12= '              [note data...]'\n</code></pre>\n\n<h2>Question</h2>\n\n<p>I'm having trouble wrapping my head around how to iterate through each section of the file in order to create the desired 2D array. I've probably just been staring at it too long.</p>\n\n<p>How can I create the array I need? All explanations, word-only or those with code examples, are very much appreciated.</p>\n\n<hr>\n\n<p><em>Can my question be improved? Please let me know in the comments!</em></p>\n"}, {"tags": ["perl", "apache2", "cgi"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1464389911, "post_id": 37493383, "comment_id": 62483051, "body": "Hint: <code>@option</code> is not the same thing as <code>$option</code>. 2nd hint: <code>use strict; use warnings;</code>"}, {"owner": {"reputation": 11, "user_id": 6392963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f80e7216e5306a8eef9fbc8257ec69e?s=128&d=identicon&r=PG&f=1", "display_name": "humber", "link": "https://stackoverflow.com/users/6392963/humber"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1464392272, "post_id": 37493383, "comment_id": 62483593, "body": "wow. I can&#39;t believe I didn&#39;t notice that. Thanks!"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1464392459, "post_id": 37493383, "comment_id": 62483628, "body": "We all don&#39;t notice things sometimes. <code>use strict; use warnings;</code> will help you notice things."}], "answers": [{"tags": [], "owner": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "is_accepted": false, "score": 1, "last_activity_date": 1464533282, "creation_date": 1464533282, "answer_id": 37511273, "question_id": 37493383, "link": "https://stackoverflow.com/questions/37493383/perl-elsif-statement-isnt-working-in-apache2-script/37511273#37511273", "title": "Perl elsif statement isn&#39;t working in apache2 script", "body": "<p>As @mob pointed out in comments, change all the <code>@option</code> to <code>$option</code>:</p>\n\n<pre><code>if($option eq \"processes\") {\n       print \"Processes\";\n} elsif($option eq \"calendar\") {\n       print \"Calendar\";\n} elsif($option eq \"location\") {\n        print \"Location\";\n} elsif($option eq \"users\") {\n        print \"Users\";\n} elsif($option eq \"file\") {\n        print \"File\";\n} else {\n       print \"Not working\";\n}\n</code></pre>\n\n<p>If you add this at the top of your script, Perl will give you warnings about undefined variables so that you can avoid such mistakes in the future:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6392963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f80e7216e5306a8eef9fbc8257ec69e?s=128&d=identicon&r=PG&f=1", "display_name": "humber", "link": "https://stackoverflow.com/users/6392963/humber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464533282, "creation_date": 1464389657, "question_id": 37493383, "link": "https://stackoverflow.com/questions/37493383/perl-elsif-statement-isnt-working-in-apache2-script", "title": "Perl elsif statement isn&#39;t working in apache2 script", "body": "<p>So I have to make a website that creates other websites using cgi scripts in apache.</p>\n\n<p>My index.html has to use forms so that the user selects an option.</p>\n\n<pre><code>            &lt;html&gt;\n            &lt;head&gt;&lt;/head&gt;\n            &lt;body&gt;\n            &lt;h1&gt;Welcome to Magnum system check&lt;/h1&gt;\n\n            &lt;form action=\"/cgi-bin/main.pl\" method=\"POST\" target=\"_blank\"&gt;\n              &lt;input type=\"radio\" name=\"option\" value=\"processes\" checked&gt; View my processes&lt;br&gt;\n              &lt;input type=\"radio\" name=\"option\" value=\"calendar\"&gt; View the calendar&lt;br&gt;\n              &lt;input type=\"radio\" name=\"option\" value=\"location\"&gt; View my location coordinates&lt;br&gt;\n              &lt;input type=\"radio\" name=\"option\" value=\"users\"&gt; View all users connected on my system&lt;br&gt;\n              &lt;input type=\"radio\" name=\"option\" value=\"file\"&gt; Find a file or directory&lt;br&gt;\n              &lt;input type=\"submit\" value=\"Submit\"&gt;\n            &lt;/form&gt;\n\n            &lt;/body&gt;\n            &lt;/html&gt;\n</code></pre>\n\n<p>This works fine. I tested the main.pl with this code to make sure that it was receiving different values.</p>\n\n<pre><code>            #!/usr/bin/perl\n            use CGI qw(:standard);\n            my $option = param('option');\n\n            print header;\n            print start_html(\"Main test\");\n            print h2(\"your option was $option\");\n            print end_html;\n</code></pre>\n\n<p>It printed the selected value in the newly created html. Now, since each option has to do something different, I decided to do an elsif for each option. (I tried using the given command but it never compiled).</p>\n\n<p>So the problem with the following code is that it only works for the first option (processes). Any time I choose another option, it defaults to \"Not Working\".</p>\n\n<pre><code>            #!/usr/bin/perl\n            use CGI qw(:standard);\n\n            my $option = param('option');\n            print \"Content-type: text/html\\n\\n\";\n\n            if($option eq \"processes\") {\n                   print \"Processes\";\n            } elsif(@option eq \"calendar\") {\n                   print \"Calendar\";\n            } elsif(@option eq \"location\") {\n                    print \"Location\";\n            } elsif(@option eq \"users\") {\n                    print \"Users\";\n            } elsif(@option eq \"file\") {\n                    print \"File\";\n            } else {\n                   print \"Not working\";\n            }\n</code></pre>\n\n<p>Any idea as to why it's not working? Or is there a better alternative to elsif?</p>\n"}, {"tags": ["postgresql", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5507693"}, "edited": false, "score": 0, "creation_date": 1464388144, "post_id": 37493136, "comment_id": 62482544, "body": "Currently, the contents of the csv file are replaced whenever the script is executed."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1464389865, "creation_date": 1464389865, "answer_id": 37493420, "question_id": 37493136, "link": "https://stackoverflow.com/questions/37493136/i-am-currently-developing-a-script-in-perl-it-works-but-i-would-like-to-append-t/37493420#37493420", "title": "I am currently developing a script in PERL it works but I would like to append the contents to the CSV file whenever the script is executed", "body": "<p>Looking at <a href=\"https://www.postgresql.org/docs/9.2/static/sql-copy.html\" rel=\"nofollow\">the docs for the postgresql COPY command</a>, I don't see any obvious was to append to the file in postgresql. But with Perl, you could open the contents of one file and append it to another file, so you could do something like</p>\n\n<pre><code>my $SQL = \"COPY (SELECT * FROM Parent WHERE StartDate &lt; NOW() - INTERVAL '$var days')\n           TO 'some_other_file.csv' WITH CSV\";\nmy $sth = $dbh-&gt;prepare($SQL);\nmy $rv1 = $dbh-&gt;do($SQL) or die $DBI::errstr;\n\n# append some_other_file.csv to ~/Desktop/new1.csv\nopen my $f1, '&lt;', 'some_other_file.csv' or die \"No other file: $!\";\nopen my $f2, '&gt;&gt;', '/home/username/Desktop/new1.csv' or die \"Can't append: $!\";\nprint $f2 &lt;$f1&gt;;\nclose $f2;\nclose $f1;\nunlink 'some_other_file.csv';\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5507693"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464389865, "creation_date": 1464388035, "last_edit_date": 1464388355, "question_id": 37493136, "link": "https://stackoverflow.com/questions/37493136/i-am-currently-developing-a-script-in-perl-it-works-but-i-would-like-to-append-t", "title": "I am currently developing a script in PERL it works but I would like to append the contents to the CSV file whenever the script is executed", "body": "<pre><code>print \"Enter number of days: \";\nmy $var = &lt;STDIN&gt;;\n\nmy $SQL = \"COPY (SELECT * FROM Parent WHERE StartDate &lt; NOW() - INTERVAL '$var days')\n           TO '/home/username/Desktop/new1.csv' WITH CSV\";\nmy $sth = $dbh-&gt;prepare($SQL);\nmy $rv1 = $dbh-&gt;do($SQL) or die $DBI::errstr;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hadoop", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464382937, "post_id": 37492134, "comment_id": 62480733, "body": "Please show the code that you&#39;ve written"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1464383163, "creation_date": 1464383163, "answer_id": 37492259, "question_id": 37492134, "link": "https://stackoverflow.com/questions/37492134/perl-hash-array-implementation-for-hadoop/37492259#37492259", "title": "Perl Hash/Array Implementation for Hadoop", "body": "<pre><code>use strict;\nuse warnings; \n\nmy @keys = qw(A B C D E);     \nopen my $fh, '&lt;', $filename_from_hdfs\n   or die \"$!\";\n\nmy %mapping;\nwhile ( my $line = readline($fh) ) {\n   chomp($line);\n   my ($key, $value) = split /,/, $line; \n\n   $mapping{$key} = $value; \n}\n\n# zero out keys with no value\n$mapping{$_} //= 0 foreach @keys; \n\nprint join(',', map { \"$_=$mapping{$_}\" } sort keys %mapping), \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 869, "user_id": 4648809, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d2806509752d99c8d412f3c8d151a63e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4648809/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1464383345, "creation_date": 1464383345, "answer_id": 37492292, "question_id": 37492134, "link": "https://stackoverflow.com/questions/37492134/perl-hash-array-implementation-for-hadoop/37492292#37492292", "title": "Perl Hash/Array Implementation for Hadoop", "body": "<pre><code>my %result;\n#assign zero to all keys\nfor my $key ('A' .. 'E')\n{\n $result{$key} = 0;\n}\n#open file, read each line one by one\n#Split each read line from file in ($key, $value).\nresult{$key} = $value;\n\n#After finishing reading the file, traverse %result and output key, values\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6392753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658da1eeebd94d1f1fbeb9a2dfb1835d?s=128&d=identicon&r=PG&f=1", "display_name": "danipa", "link": "https://stackoverflow.com/users/6392753/danipa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1464383345, "creation_date": 1464382602, "last_edit_date": 1464382915, "question_id": 37492134, "link": "https://stackoverflow.com/questions/37492134/perl-hash-array-implementation-for-hadoop", "title": "Perl Hash/Array Implementation for Hadoop", "body": "<p>I am new to Perl and trying to figure out the best way to implement this, but unsure of syntax at the moment.</p>\n\n<p>My script as of right now is reading a file off HDFS that contains key,value pairs out of a number of possibilities.</p>\n\n<p>For example, let's say that I can have keys that range from A,B,C,D,E</p>\n\n<p>The file I am reading from will be newline separated to look like:</p>\n\n<pre><code>A,50\nC,30\n</code></pre>\n\n<p>In my script, I want to read the file and assign variables to the corresponding values, and if any variables do not exist, I want to assign them to a zero value.</p>\n\n<p>So, by the end of the script, I want to have an output that prints like this:</p>\n\n<pre><code>A=50,B=0,C=30,D=0,E=0\n</code></pre>\n\n<p>With my limited knowledge in Perl, I was wondering how to set up the best loop to collect the information like this would be? I have functionality that reads the file, but nothing to collect the metrics into some kind of Array or Hash grouping. </p>\n"}, {"tags": ["perl", "shell", "sh"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1464379430, "post_id": 37491407, "comment_id": 62479298, "body": "if you only need to read the first of the file, then the <code>while</code> is overkill. just <code>read</code> the line. <code>$id</code> would contain your value, then you use <code>[</code>/<code>test</code> in bash to check the value in there."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1464379646, "post_id": 37491407, "comment_id": 62479412, "body": "Why is the perl tag with this question? Do you want solution in perl?"}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1464380026, "post_id": 37491407, "comment_id": 62479564, "body": "Yeah, I can do this using .sh or .pl any s.olution would work for me"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1464384811, "post_id": 37491736, "comment_id": 62481417, "body": "Thank you!!! Is there a way for the body to display like  &#39;You have 108 errors&#39;   the 108 should come from the number in that .txt file"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 1, "creation_date": 1464387742, "post_id": 37491736, "comment_id": 62482403, "body": "@connollyc4  You mean in the body of the email? That would be a matter of what <code>mailx</code> allows you to do.  I&#39;ll adjust the post for this, let me know.  You have options there, it depends on what exactly you want to do."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1464390974, "post_id": 37491736, "comment_id": 62483321, "body": "@connollyc4  I&#39;ve updated the post considerably.  I changed how an email is sent, to what I think may be better (it&#39;s simpler), and offered yet another way to compose it.  Please let me know how this works for you."}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1464454765, "post_id": 37491736, "comment_id": 62498065, "body": "Thank you zdim! I appreciate your help on this :)"}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1464457498, "post_id": 37491736, "comment_id": 62498943, "body": "quick question. If I wanted to look at the number on the second line instead of the first like, how would I be able to modify that part of the script?  I believe this line would need to be modified my ($num) = $cont =~ /^(\\d+)/;  Not sure how I can change that to look at the second line of the file and not the first"}, {"owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1464466423, "post_id": 37491736, "comment_id": 62501594, "body": "The only reason I asked about the second line is because my query that spools to a file looks like this: `` <code>bash-3.2$ cat error.txt &#39; 210 bash-3.2$ </code> For some reason I get a &#39; on the first line and the number is written on the second line every time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "edited": false, "score": 0, "creation_date": 1464498127, "post_id": 37491736, "comment_id": 62507253, "body": "@connollyc4  I don&#39;t quite understand the last comment, specially that command line.  But I&#39;ve added more code, for more general conditions.  It&#39;s written to get the first number on the second line but should be very easy to adjust to something else. Let me know if there&#39;s more."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1472889002, "last_edit_date": 1472889002, "creation_date": 1464380808, "answer_id": 37491736, "question_id": 37491407, "link": "https://stackoverflow.com/questions/37491407/sh-script-if-number-100-send-email-with-the-number/37491736#37491736", "title": ".sh script if number &gt; 100 send email with the number", "body": "<p>Here is a simple Perl script. Since we need to both send a message and a file, the example from the question is changed to <em>attach</em> the file. This seems suitable with a small text file, which content is discussed in the body anyway.  There are other ways to do this with <code>mailx</code>, see <code>man mailx</code> on your system.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = '/home/tted01/SPOOL/error.txt';\nmy $mark = 100;\n\n# Slurp the whole file into a variable\nmy $cont = do {\n    open my $fh, '&lt;', $file  or die \"Can't open $file -- $!\";\n    local $/; \n    &lt;$fh&gt;;\n};\n\n# Pull the first number\nmy ($num) = $cont =~ /^(\\d+)/;\n\nif ($num &gt; $mark) \n{\n    my $body = \"You have $num errors.\";\n    my $cmd_email = \"echo $body | \" .\n        \"mailx -a $file -s \\\"ERROR\\\" ted.neal\\@gmail.com\";\n    system($cmd_email) == 0  or die \"Error sending email -- $!\";\n}\n</code></pre>\n\n<p>Since this is clearly a small enough file it is read in one go, into a variable. We extract the very first number that was in the file by a simple regex. (A \"number\" is understood as consecutive digits, up to anything other than a digit.)</p>\n\n<p>The email command is executed via <code>system</code>, which in Perl uses <code>sh</code>. Perl's <code>system</code> returns a <code>0</code> if a command was executed without errors so we test against that. Note that this doesn't tell us how the command itself did, only whether it ran fine.  All this can be done in other ways, if needed -- one can use backticks (<code>qx</code>) to get back the output, with possible stream redirection in the command to get the error as well. Also, <code>bash</code> can be invoked explicitly if needed.</p>\n\n<hr>\n\n<p>Here is another option for how to compose the message.  If the file is indeed so small, you can include its content in the message body.</p>\n\n<p>Everything before and after this snippet stays as above.</p>\n\n<pre><code>my ($num) = $cont =~ /^(\\d+)/;\n\nchomp($cont);\nmy $body = \"You have $num errors. Log file: $file. Content: $cont\";\n\nmy $cmd_email = \"echo $body | mailx -s \\\"ERROR\\\" ted.neal\\@gmail.com\";\n</code></pre>\n\n<p>Note that here we have to be careful with newlines, thus the <code>chomp</code> and no newlines in the message body. So this is pushing it a little.</p>\n\n<p>If the log file may or may not be too large, you can check the number of lines and perhaps include the first 5 or 10 (and attach the file), or include the whole file as above (if small enough).  This is easy to process in Perl. You can refine this further a lot. Finally, if things grow and get sophisticated you can use Perl modules for email.</p>\n\n<hr>\n\n<p>A very reasonable question came up -- what if the number is not the very first thing in the file?  What if it is the first thing on the second line, for example?</p>\n\n<p>If the file is small, one can still read it into a variable like above and use a (more complicated) regex to find the pattern.  For example, if the number is the first thing on the second line</p>\n\n<pre><code>my ($num) = $cont =~ /.*\\n(\\d+)/;\n</code></pre>\n\n<p>The pattern matches the newline directly by <code>\\n</code> and captures the first number after it.  Since there is no <code>/s</code> or such modifiers, a newline is not matched by <code>.</code> so the greedy <code>.*</code> does stop at the first newline, as needed.</p>\n\n<p>However, this gets nastier very rapidly as more complicated requirements come. So better just process line by line.</p>\n\n<pre><code># Instead of reading all content into $cont\nopen my $fh, '&lt;', $file  or die \"Can't open $file -- $!\";\n\nmy $num;\nwhile (my $line = &lt;$fh&gt;) \n{\n    if ($. == 2) {                    # $. is number of lines read\n        ($num) = $line =~ /^(\\d+)/;\n        last;                         # we are done, quit the loop\n    }\n}\n# Process the same way as above\n</code></pre>\n\n<p>We use one of Perl's built-in <em>special variables</em>, <code>$.</code>, which holds the number of lines having been read from the (last accessed) filehandle.  See <a href=\"http://perldoc.perl.org/perlvar.html#SPECIAL-VARIABLES\" rel=\"nofollow\">Special Variables in perlvar</a>. Note that the line is read at <code>&lt;&gt;</code>, so inside the loop <code>$.</code> is <code>1</code> when we are processing the first line, etc. The regex is the same, and here is an explanation that is missing above.</p>\n\n<p>The match <code>$line =~ m/.../</code> always returns a <em>list</em> of matches since it can match many times, so we 'catch' it in a list, using <code>()</code>.  Since there is clearly just one here it is enough to use one variable, thus <code>($num)</code>.  The <code>m/</code> may be omitted and you'll generally see it that way, <code>=~ /.../</code>.</p>\n\n<p>This is a simple condition, that it's the second line.  But this way you can use far more sophisticated ones as well.</p>\n"}, {"comments": [{"owner": {"reputation": 2405, "user_id": 3639306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GJfHk.png?s=128&g=1", "display_name": "sumitya", "link": "https://stackoverflow.com/users/3639306/sumitya"}, "edited": false, "score": 0, "creation_date": 1464384557, "post_id": 37492141, "comment_id": 62481327, "body": "@connollyc4 - <code>mailx -s &quot;You have $id errors&quot; ted.neal@gmail.com,ted1.neal@gmail.com  &lt; &#47;home&#47;tted01&#47;SPOOL&#47;output.txt</code> like this you can add more than 1 email addresses to send mail to. From output.txt file only body will be sent. you can mention your message in this file."}], "tags": [], "owner": {"reputation": 2405, "user_id": 3639306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GJfHk.png?s=128&g=1", "display_name": "sumitya", "link": "https://stackoverflow.com/users/3639306/sumitya"}, "is_accepted": false, "score": 1, "last_activity_date": 1464382637, "creation_date": 1464382637, "answer_id": 37492141, "question_id": 37491407, "link": "https://stackoverflow.com/questions/37491407/sh-script-if-number-100-send-email-with-the-number/37492141#37492141", "title": ".sh script if number &gt; 100 send email with the number", "body": "<p>Here you have bash script solution:-</p>\n\n<pre><code>#!/bin/bash\nfilename = '/home/tted01/SPOOL/error.txt'\n\nwhile read -r line;\ndo\nid =`echo $line`\n    if [ $id -gt 100 ]; then\n        mailx -s \"You have $id errors\" ted.neal@gmail.com  &lt; /home/tted01/SPOOL/output.txt\n    fi\nsleep 5\ndone &lt; filename\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 6292987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cf408d91ad5f6adb872fb56220c1b85b?s=128&d=identicon&r=PG&f=1", "display_name": "connollyc4", "link": "https://stackoverflow.com/users/6292987/connollyc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 37491736, "answer_count": 2, "score": 1, "last_activity_date": 1472889002, "creation_date": 1464379230, "last_edit_date": 1464379507, "question_id": 37491407, "link": "https://stackoverflow.com/questions/37491407/sh-script-if-number-100-send-email-with-the-number", "title": ".sh script if number &gt; 100 send email with the number", "body": "<p></p>\n\n<p>I am trying to write a script that looks at a .txt file and determins if the first number is greater or equal to 100. If it is then send an email, if it is not, do nothing.</p>\n\n<p>Here is an example of what the .txt file would look like</p>\n\n<p>vi output.txt</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>108\n</code></pre>\n\n<p>since that number is over 100 it should send an email of the number:</p>\n\n<p>Example of email</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>You have 108 errors\n</code></pre>\n\n<p>This is what I got so far:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nfilename = '/home/tted01/SPOOL/error.txt'\n\nwhile read -r line\ndo\n    id = $(cut -c-3 &lt;&lt;&lt; \"$line\")\n    echo $id &gt;&gt; /home/tted01/SPOOL/output.txt\ndone &lt; \"$filename\"\n\nmailx -s \"ERRORS\" ted.neal@gmail.com -- -f ted.neal@gmail.com &lt; /home/tted01/SPOOL/output.txt\nsleep 5\n\nexit 0\n</code></pre>\n\n<p>I can't figure out the conditional statement and how to parse the variable.</p>\n"}, {"tags": ["perl", "if-statement", "for-loop", "while-loop", "scripting"], "comments": [{"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "edited": false, "score": 4, "creation_date": 1464370812, "post_id": 37489163, "comment_id": 62475156, "body": "Can you please explicitly mention the input, expected output and the output this code is giving?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464371646, "post_id": 37489163, "comment_id": 62475542, "body": "Because the pattern in <code>$str1</code> matches or the pattern in <code>$str_2</code> doesn&#39;t, and because the pattern in <code>$str3</code> matches or the pattern in <code>$str_4</code>  doesn&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "edited": false, "score": 0, "creation_date": 1464379236, "post_id": 37489630, "comment_id": 62479207, "body": "Thanks for the idea! But I found out that the condition works properly. But it only fetches first result and not able check for further lines on the file.                          Please check above example on the question @xxfelixxx"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "edited": false, "score": 0, "creation_date": 1464379428, "post_id": 37489630, "comment_id": 62479296, "body": "Try changing the name of the variable from <code>$fh</code> to <code>$fh_log</code> inside your while loop.  You might be closing the file handle you are trying to iterate over, which would cut you off after 1 match."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1464380228, "last_edit_date": 1464380228, "creation_date": 1464371614, "answer_id": 37489630, "question_id": 37489163, "link": "https://stackoverflow.com/questions/37489163/perl-loop-not-filtering-right-results/37489630#37489630", "title": "Perl Loop not filtering right results", "body": "<p>You are closing the filehandle that you are trying to iterate over!</p>\n\n<p>If you had <code>use warnings;</code> in your code, perl would have warned you:</p>\n\n<p><code>readline() on closed filehandle $fh at /home/felix/abdc/foo.pl line 9.</code></p>\n\n<p><strong>Always</strong> <code>use warnings;</code> and <code>use strict;</code></p>\n\n<p>Rewrite your while loop like this:</p>\n\n<pre><code>open my $fh, \"&lt;$file\" or die \"Unable to open '$file' : $!\";\nopen my $out, \"&gt;output_log\" or die \"Unable to open 'output_log' : $!\";\n\nwhile (my $line = &lt;$fh&gt;) {\n    if ( ... ) {\n        print $out $line;\n    }\n    ...\n}\nclose $out or die \"Unable to finish writing output_log : $!\";\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6268623, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d3d1b7f3fcb0c7d3e102c93057adab?s=128&d=identicon&r=PG&f=1", "display_name": "Sang.P", "link": "https://stackoverflow.com/users/6268623/sang-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 37489630, "answer_count": 1, "score": 1, "last_activity_date": 1464380228, "creation_date": 1464369699, "last_edit_date": 1464379879, "question_id": 37489163, "link": "https://stackoverflow.com/questions/37489163/perl-loop-not-filtering-right-results", "title": "Perl Loop not filtering right results", "body": "<p>Why does my while loop seem to be missing some match values?\nThis result output is not returning all the possible values after reading the files. There are some missing values. </p>\n\n<pre><code># str_1,2,3,4 are my search strings \n\nwhile ($line = &lt;$fh&gt;) {\n\n    if ( $line !~ /$str_1/ &amp;&amp; $line =~ /$str_2/ ) {\n        open($fh, '&gt;&gt;report.txt');\n        print $fh \"$file : $line\";\n        close $fh;\n    }\n\n    if ( $line !~ /$str_3/ &amp;&amp; $line =~ /$str_4/ ) {  \n        open($fh, '&gt;&gt;report.txt');\n        print $fh \"$file : $line\";  \n        close $fh;\n    } \n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Number of Attendance = 1 INFO:21\nNumber of Attendance = 2 INFO:21\nNumber of Attendance = 1 INFO:21 \n\n# There are results such as Number of Attendance = 8 INFO:21 which my code is not able to search.\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>     #my log file which is the input\n    Number of Attendance = 1 from XYZ FACI     INFO:21\n    Number of Attendance = 0 from UZQ BLAH     INFO:21\n    Number of Attendance = 8 from WZW BLAH     INFO:21\n    Number of Attendance = 0 from WZW BLAH     INFO:21\n    Number of Attendance = 0 from WZW BLAH     INFO:21\n    Number of Attendance = 0 from WZW BLAH     INFO:21\n\n   so here my str1 = /Number of Attendance = 0/\n              str2 = /INFO:21/\n\n   #So output for my code now is only\n\n    Number of Attendance = 1 from XYZ FACI     INFO:21\n\n  #But,Expected output should be\n\n   Number of Attendance = 1 from XYZ FACI     INFO:21\n   Number of Attendance = 8 from WZW BLAH     INFO:21\n</code></pre>\n\n<p>I think its only reading all my files only once and returning the first output value instead  of returning all the possible values.</p>\n"}, {"tags": ["forms", "perl", "submit", "jquery-selectbox"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1464366573, "post_id": 37488192, "comment_id": 62473023, "body": "What language is that code? It looks like HTML without the angle brackets, but I don&#39;t understand the single quotes in the first line"}, {"owner": {"reputation": 19, "user_id": 6376499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/942d9d9c7f8e62b46bae8bf8643079fa?s=128&d=identicon&r=PG&f=1", "display_name": "J.Daxter", "link": "https://stackoverflow.com/users/6376499/j-daxter"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464366876, "post_id": 37488192, "comment_id": 62473175, "body": "Thats what it is, I am new to this website and could not figure out how to display the code like you did all of this code is coming from print statements. Thank you for fixing it though that makes it a lot easier to read."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464367438, "post_id": 37488192, "comment_id": 62473507, "body": "To turn a block of text into a code block, just select all the lines in the block and hit Ctrl-K. It just indents the block by four spaces, so you can achieve the same effect using the space bar if you prefer"}, {"owner": {"reputation": 19, "user_id": 6376499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/942d9d9c7f8e62b46bae8bf8643079fa?s=128&d=identicon&r=PG&f=1", "display_name": "J.Daxter", "link": "https://stackoverflow.com/users/6376499/j-daxter"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464367547, "post_id": 37488192, "comment_id": 62473549, "body": "Ok thanks for the help!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464368035, "post_id": 37488192, "comment_id": 62473796, "body": "What you&#39;re describing doesn&#39;t make much sense, because submitting a form involves sending an HTTP message to the server. Unless you&#39;re using asynchronous AJAX, HTTP requests and responses are sent by the client and server in strict alternation, so you can&#39;t just get your client to submit two forms at the same time. If you explain clearly the effect you want to achieve then I&#39;m sure we could help better."}], "owner": {"reputation": 19, "user_id": 6376499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/942d9d9c7f8e62b46bae8bf8643079fa?s=128&d=identicon&r=PG&f=1", "display_name": "J.Daxter", "link": "https://stackoverflow.com/users/6376499/j-daxter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1464367297, "creation_date": 1464365927, "last_edit_date": 1464367297, "question_id": 37488192, "link": "https://stackoverflow.com/questions/37488192/in-perl-can-one-select-box-be-in-two-forms-to-be-submitted", "title": "In Perl can one Select box be in two forms to be submitted?", "body": "<p>I currently have two forms in my CGI script. One of the forms has a submit box.</p>\n\n<p>I am wondering if I can put that same box in the other form so as to send the values from the select box to two different CGI scripts via the two forms.</p>\n\n<pre><code>&lt;FORM ACTION=\"index.cgi\" ID=\"Form\" METHOD=\"POST\" &gt;\n    &lt;SELECT NAME=\"stime\" ID=\"stim\" SIZE=4 &gt;\n    ....\n    &lt;/SELECT&gt;\n&lt;/FORM&gt;\n</code></pre>\n\n<p>Is there a way for me to put the select box <code>stime</code> into another form?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1464360726, "post_id": 37486266, "comment_id": 62469378, "body": "does it work if you use bareword module name: <code>require Bio::EnsEMBL::HDFS;</code> and <code>require Bio::EnsEMBL::HDFS_mockup</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 1520203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85edc8f7b2e989c91e1be8cdd7fd5bfb?s=128&d=identicon&r=PG", "display_name": "juettemann", "link": "https://stackoverflow.com/users/1520203/juettemann"}, "edited": false, "score": 1, "creation_date": 1464449054, "post_id": 37486692, "comment_id": 62496273, "body": "Ouch. Not seeing that was a sure sign to stop coding and start the weekend. Thanks!"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 9, "last_activity_date": 1464361251, "creation_date": 1464361251, "answer_id": 37486692, "question_id": 37486266, "link": "https://stackoverflow.com/questions/37486266/perl-require-fails-to-find-library-in-inc-when-used-in-eval/37486692#37486692", "title": "Perl require fails to find Library in @INC when used in eval", "body": "<p>This is because when you quote the module when using <a href=\"http://perldoc.perl.org/functions/require.html\">require</a>, it uses the quoted string as the name of the actual module file. So instead of looking for <code>Bio/EnsEMBL/HDF5.pm</code>, it's searching <code>@INC</code> for a file named <code>Bio::EnsEMBL::HDF5</code>.</p>\n\n<p>Remove the quotes so that the module name is a bareword. Here's an example:</p>\n\n<p>Notice how the module name hasn't been transformed into a file path:</p>\n\n<pre><code>require \"Data::Dumper\";\nCan't locate Data::Dumper in @INC (@INC contains: ...\n</code></pre>\n\n<p>Now, in this example, I've intentionally mistyped the module name so I could produce the error. Notice how the module has been transformed into an actual file path:</p>\n\n<pre><code>require Data::Dumperx;\nCan't locate Data/Dumperx.pm in @INC (you may need to install the Data::Dumperx module)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1464362634, "last_edit_date": 1464362634, "creation_date": 1464361366, "answer_id": 37486724, "question_id": 37486266, "link": "https://stackoverflow.com/questions/37486266/perl-require-fails-to-find-library-in-inc-when-used-in-eval/37486724#37486724", "title": "Perl require fails to find Library in @INC when used in eval", "body": "<pre><code>use Bio::EnsEMBL::HDF5; \n</code></pre>\n\n<p>almost identical to</p>\n\n<pre><code>BEGIN {\n   require Bio::EnsEMBL::HDF5; \n   import Bio::EnsEMBL::HDF5; \n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code># Looks for file \"Bio::EnsEMBL::HDF5_mockup\"\nrequire \"Bio::EnsEMBL::HDF5_mockup\";\n</code></pre>\n\n<p>isn't equivalent to </p>\n\n<pre><code># Looks for file \"Bio/EnsEMBL/HDF5_mockup.pm\"\nrequire Bio::EnsEMBL::HDF5_mockup;\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 1520203, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85edc8f7b2e989c91e1be8cdd7fd5bfb?s=128&d=identicon&r=PG", "display_name": "juettemann", "link": "https://stackoverflow.com/users/1520203/juettemann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 37486692, "answer_count": 2, "score": 1, "last_activity_date": 1464362634, "creation_date": 1464359950, "question_id": 37486266, "link": "https://stackoverflow.com/questions/37486266/perl-require-fails-to-find-library-in-inc-when-used-in-eval", "title": "Perl require fails to find Library in @INC when used in eval", "body": "<p><br>\ndepending on if a certain Module can be loaded, I'd like to decide if it is used:    </p>\n\n<pre><code>BEGIN {\n  eval {\n    require \"Bio::EnsEMBL::HDF5\";\n    $hdf5 = \"Bio::EnsEMBL::HDF5\";\n  };\n  if ($@) {\n    require \"Bio::EnsEMBL::HDF5_mockup\";\n    $hdf5 = \"Bio::EnsEMBL::HDF5_mockup\";\n  }\n}\n</code></pre>\n\n<p>which results in <br> \n<code>Can't locate Bio::EnsEMBL::HDF5_mockup in @INC</code></p>\n\n<p>However:</p>\n\n<pre><code>use Bio::EnsEMBL::HDF5; \nuse Bio::EnsEMBL::HDF5_mockup;\n</code></pre>\n\n<p>works fine. Also when I switch HDF5 and HDF5_mockup in the BEGIN block, it locates always the one I require first, and fails to find the second one.<br>\nThanks for any pointer.</p>\n"}, {"tags": ["macos", "perl", "perl-module", "wxwidgets"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464354298, "post_id": 37483020, "comment_id": 62464850, "body": "Do you have a C compiler installed on your system?  It is probably croaking when trying to invoke a compiler which doesn&#39;t exist."}, {"owner": {"reputation": 441, "user_id": 6244265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J8T40o2jK-8/AAAAAAAAAAI/AAAAAAAAABM/44IoURCiDQc/photo.jpg?sz=128", "display_name": "Gnu", "link": "https://stackoverflow.com/users/6244265/gnu"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464372909, "post_id": 37483020, "comment_id": 62476134, "body": "Yes I have the gcc properly installed."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464375376, "post_id": 37483020, "comment_id": 62477430, "body": "Try using cpan interactively.  You can run the get/make/test/install steps one at a time and look to see what happened.  Try running the make step and see what errors you get.  It is likely you are missing a tool or a dependency.  Enter cpan and then type &#39;h&#39; for help."}, {"owner": {"reputation": 441, "user_id": 6244265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J8T40o2jK-8/AAAAAAAAAAI/AAAAAAAAABM/44IoURCiDQc/photo.jpg?sz=128", "display_name": "Gnu", "link": "https://stackoverflow.com/users/6244265/gnu"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464422565, "post_id": 37483020, "comment_id": 62488677, "body": "Thanks again. But I tried that too with no luck. I also tried to install wx-0.9928 from source but also with no luck; the build exists with an error.                                                                                                                         ^ /System/Library/Frameworks/CoreServices.framework/Frameworks&zwnj;&#8203;/FSEvents.framework/&zwnj;&#8203;Headers/FSEvents.h:4&zwnj;&#8203;97:1: error: expected declaration before &#39;}&#39; token  };  ^ make: *** [Wx.o] Error 1"}, {"owner": {"reputation": 441, "user_id": 6244265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J8T40o2jK-8/AAAAAAAAAAI/AAAAAAAAABM/44IoURCiDQc/photo.jpg?sz=128", "display_name": "Gnu", "link": "https://stackoverflow.com/users/6244265/gnu"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464454698, "post_id": 37483020, "comment_id": 62498042, "body": "please see the failed cpanm Wx log above"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464507063, "post_id": 37483020, "comment_id": 62508902, "body": "Have a look at Makefile.PL line 21 and see what package it needs."}, {"owner": {"reputation": 441, "user_id": 6244265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J8T40o2jK-8/AAAAAAAAAAI/AAAAAAAAABM/44IoURCiDQc/photo.jpg?sz=128", "display_name": "Gnu", "link": "https://stackoverflow.com/users/6244265/gnu"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464581530, "post_id": 37483020, "comment_id": 62528188, "body": "Line 21 is:  (use Wx::build::MakeMaker::Core;). I tried to install it but this also fails!"}, {"owner": {"reputation": 441, "user_id": 6244265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J8T40o2jK-8/AAAAAAAAAAI/AAAAAAAAABM/44IoURCiDQc/photo.jpg?sz=128", "display_name": "Gnu", "link": "https://stackoverflow.com/users/6244265/gnu"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464804889, "post_id": 37483020, "comment_id": 62639068, "body": "I have wasted a lot of time on this, searched almost everywhere. My conclusion is that OSX is the wrong place to do science. I gave up on this!!"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464849516, "post_id": 37483020, "comment_id": 62654686, "body": "Have a look at CPAN testers: <a href=\"http://www.cpantesters.org/distro/W/Wx.html\" rel=\"nofollow noreferrer\">cpantesters.org/distro/W/Wx.html</a>  maybe there is a combo of Mac + perl that is known to work.  <a href=\"http://matrix.cpantesters.org/?dist=Wx+0.9928\" rel=\"nofollow noreferrer\">matrix.cpantesters.org/?dist=Wx+0.9928</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464852038, "post_id": 37483020, "comment_id": 62656010, "body": "Do you have <code>make</code> installed?"}, {"owner": {"reputation": 441, "user_id": 6244265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J8T40o2jK-8/AAAAAAAAAAI/AAAAAAAAABM/44IoURCiDQc/photo.jpg?sz=128", "display_name": "Gnu", "link": "https://stackoverflow.com/users/6244265/gnu"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464946470, "post_id": 37483020, "comment_id": 62704975, "body": "Yes, I do have make installed. Also have tried the tested perl versions 5.24.0. 5.19.1, and 5.18.2. All of them fail Wx. I must add that I have Homebrew installed but I cannot see that a problem since many other Perl formulas were installed correctly."}], "owner": {"reputation": 441, "user_id": 6244265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J8T40o2jK-8/AAAAAAAAAAI/AAAAAAAAABM/44IoURCiDQc/photo.jpg?sz=128", "display_name": "Gnu", "link": "https://stackoverflow.com/users/6244265/gnu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1464454627, "creation_date": 1464350485, "last_edit_date": 1464454627, "question_id": 37483020, "link": "https://stackoverflow.com/questions/37483020/install-wxperlsplashfast-or-any-wx-perl-modules-is-driving-me-insane-on-mac", "title": "install Wx::Perl::SplashFast or any Wx perl modules is driving me insane on mac OS El Capitan 10.11.5", "body": "\n\n<p>I have tried again and again to install any of the Perl <code>Wx</code> modules including <a href=\"https://metacpan.org/pod/Wx::Perl::SplashFast\" rel=\"nofollow\"><code>Wx::Perl::SplashFast</code></a> without any success. I have a program that needs this module and I have successful installed all the required modules expect <code>Wx</code> and anything related.</p>\n\n<p>I used <code>sudo cpan -f Wx::Perl::SplashFast</code> and I get the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>make: *** [Wx.o] Error 1\n  MDOOTSON/Wx-0.9928.tar.gz\n  /usr/bin/make -- NOT OK\n'YAML' not installed, will not store persistent state\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\n</code></pre>\n\n<p>Please note that I have wxpython installed in the system path at\n<code>/usr/local/lib/wxPython-3.0.2.0/lib/python2.7/site-packages/wx-3.0-osx_cocoa/wx</code>\nand other programs that require wxpython work fine. It is a challenge to install these Perl modules.</p>\n\n<p>Could anyone help please?</p>\n\n<p>Edit:\nHere is the log from failed cpanm Wx:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>    cpanm (App::cpanminus) 1.7042 on perl 5.018002 built for darwin-2level\nWork directory is /Users/STGNU/.cpanm/work/1464453743.57963\nYou have make /usr/bin/make\nYou have LWP 6.15\nYou have /usr/bin/tar: bsdtar 2.8.3 - libarchive 2.8.3\nYou have /usr/bin/unzip\nSearching Wx () on cpanmetadb ...\n--&gt; Working on Wx\nFetching http://www.cpan.org/authors/id/M/MD/MDOOTSON/Wx-0.9928.tar.gz\n-&gt; OK\nUnpacking Wx-0.9928.tar.gz\nEntering Wx-0.9928\nChecking configure dependencies from META.json\nChecking if you have Alien::wxWidgets 0.25 ... Yes (0.67)\nConfiguring Wx-0.9928\nRunning Makefile.PL\nSearching configuration for:\nwxWidgets (any version) for (any toolkit); compiler compatibility: gcc 3.4; \n\nAvailable configurations:\nwxWidgets 3.000002 for mac; compiler compatibility: nc 0; options: no debug, unicode, no mslu\nCompilation failed in require at Makefile.PL line 21.\nBEGIN failed--compilation aborted at Makefile.PL line 21.\n-&gt; N/A\n-&gt; FAIL Configure failed for Wx-0.9928. See /Users/STGNU/.cpanm/work/1464453743.57963/build.log for details.\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": false, "score": 6, "last_activity_date": 1464352548, "creation_date": 1464352548, "answer_id": 37483758, "question_id": 37482732, "link": "https://stackoverflow.com/questions/37482732/perl-cpan-force-install-not-working-in-single-command/37483758#37483758", "title": "Perl: cpan force install not working in single command", "body": "<p>use the <code>-f</code> option</p>\n\n<p>From <code>man cpan</code>:</p>\n\n<blockquote>\n  <p><code>-f</code>  Force the specified action, when it normally would have failed. Use this to install a module even if its tests fail. When you use this\n  option, <code>-i</code> is not optional for installing a module when you need to\n  force it:</p>\n\n<pre><code>               % cpan -f -i Module::Foo\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "is_accepted": true, "score": 13, "last_activity_date": 1533934199, "last_edit_date": 1592644375, "creation_date": 1464354115, "answer_id": 37484246, "question_id": 37482732, "link": "https://stackoverflow.com/questions/37482732/perl-cpan-force-install-not-working-in-single-command/37484246#37484246", "title": "Perl: cpan force install not working in single command", "body": "<p>Please try <code>cpan -fi Net::DNS::SEC</code></p>\n<p><strong>What the flags mean:</strong></p>\n<blockquote>\n<ul>\n<li><p><code>f</code>: Force the specified action, when it normally would have failed. Use this to install a module even if its tests fail. When you use this option, <code>-i</code> is not optional for installing a module when you need to force it.</p>\n</li>\n<li><p><code>i</code>: Install the specified modules.</p>\n</li>\n</ul>\n</blockquote>\n<p><code>cpan -h</code> would provide you more details.</p>\n"}], "owner": {"reputation": 1779, "user_id": 2214576, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ca0629dcdb8d4d3747c78674e90d5203?s=128&d=identicon&r=PG", "display_name": "Randomly Named User", "link": "https://stackoverflow.com/users/2214576/randomly-named-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12900, "favorite_count": 0, "accepted_answer_id": 37484246, "answer_count": 2, "score": 5, "last_activity_date": 1533934199, "creation_date": 1464349612, "question_id": 37482732, "link": "https://stackoverflow.com/questions/37482732/perl-cpan-force-install-not-working-in-single-command", "title": "Perl: cpan force install not working in single command", "body": "<p>I want to <code>force install</code> a perl module. When I do this, the installation succeeds:</p>\n\n<pre><code>cpan shell -- CPAN exploration and modules installation (v2.00)\nEnter 'h' for help.\n\ncpan[1]&gt; force install Net::DNS::SEC\n</code></pre>\n\n<p>But when I do this, it fails:</p>\n\n<pre><code>root@ubuntu:~# cpan force install Net::DNS::SEC\n\nWarning: Cannot install force, don't know what it is.\nTry the command\n\n    i /force/ \n\n...\n...\n\nRunning make install\n  make test had returned bad status, won't install without force    \n</code></pre>\n\n<p>I need to run the <code>cpan force install</code> in a single command. How do I proceed?    </p>\n"}, {"tags": ["perl", "backup"], "comments": [{"owner": {"reputation": 511, "user_id": 730721, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5ca9361b9e683632292a477d602677fc?s=128&d=identicon&r=PG", "display_name": "katastrophos", "link": "https://stackoverflow.com/users/730721/katastrophos"}, "edited": false, "score": 2, "creation_date": 1464349716, "post_id": 37481633, "comment_id": 62461795, "body": "May be the solution already exists: rsnapshot [link] (<a href=\"http://rsnapshot.org/\" rel=\"nofollow noreferrer\">rsnapshot.org</a>). It is written in perl. Consider to use it."}], "owner": {"reputation": 21, "user_id": 6385081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3a24a0d33857c47e75d481fa31bd588?s=128&d=identicon&r=PG&f=1", "display_name": "Diego dexconecta", "link": "https://stackoverflow.com/users/6385081/diego-dexconecta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1464346486, "creation_date": 1464346486, "question_id": 37481633, "link": "https://stackoverflow.com/questions/37481633/incremental-backup-perl-crontab", "title": "Incremental backup perl crontab", "body": "<p>I would like to write a perl program to make an incremental backup of my server.</p>\n\n<p>It should be something like that:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse File::Copy;\nuse File::Rotate::Backup;\nuse File::Path;\n\n    rmtree \"/backup/\";\n    mkdir \"/backup\";\n\n    my $file= { archive_copies =&gt; 1,\n            dir_copies =&gt; 1,\n            backup_dir =&gt; '/backup',\n            file_prefix =&gt; 'backup_' ,\n            verbose =&gt; 1,\n            use_flock =&gt;1,\n            };\n\n    my $copy= File::Rotate::Backup-&gt;new($file);\n    $copy-&gt;backup([[ '/home/' =&gt; 'home' ] ]);\n</code></pre>\n\n<p>like this, Im just creating each time I execute a new folder with the backup, but I would like to have a folder with a full backup of the first day and the incremental of the rest of the week.</p>\n\n<p>Thank you very much :)</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464364681, "post_id": 37481027, "comment_id": 62471972, "body": "You shouldn&#39;t be using <code>Exporter</code> for an object-oriented module. Just remove <code>use Exporter</code> and <code>our @EXPORT_OK</code>"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 6, "last_activity_date": 1464345040, "creation_date": 1464345040, "answer_id": 37481133, "question_id": 37481027, "link": "https://stackoverflow.com/questions/37481027/cannot-get-hash-passed-as-reference-in-a-module/37481133#37481133", "title": "Cannot get hash passed as reference in a module", "body": "<p>When you call a sub as a method, the first value in <code>@_</code> will be the object you called it on.</p>\n\n<p>The first argument you pass to it will be the <strong>second</strong> value in <code>@_</code>, which you are currently ignoring.</p>\n\n<pre><code>sub printhash {\n    my ($self, $h) = @_;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": true, "score": 6, "last_activity_date": 1464844099, "last_edit_date": 1464844099, "creation_date": 1464345156, "answer_id": 37481186, "question_id": 37481027, "link": "https://stackoverflow.com/questions/37481027/cannot-get-hash-passed-as-reference-in-a-module/37481186#37481186", "title": "Cannot get hash passed as reference in a module", "body": "<p>In Module1, change sub printhash to:</p>\n\n<pre><code>sub printhash {\n    my ($self, $h) = @_;\n    # leave the rest\n}\n</code></pre>\n\n<p>When you invoke a method on a object as <code>$obj-&gt;method( $param1 )</code> the \nmethod gets the object itself as the first parameter, and $param1 as the second parameter.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlootut.html\" rel=\"nofollow noreferrer\">perldoc perlootut</a> - Object-Oriented Programming in Perl Tutorial</p>\n\n<p><a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perldoc perlobj</a> - Perl Object Reference</p>\n"}], "owner": {"reputation": 43, "user_id": 6390463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59e7371daa9d3929a84868c94f80192?s=128&d=identicon&r=PG&f=1", "display_name": "eniosp", "link": "https://stackoverflow.com/users/6390463/eniosp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 37481186, "answer_count": 2, "score": 4, "last_activity_date": 1464844099, "creation_date": 1464344731, "question_id": 37481027, "link": "https://stackoverflow.com/questions/37481027/cannot-get-hash-passed-as-reference-in-a-module", "title": "Cannot get hash passed as reference in a module", "body": "<p>I want to pass a hash reference to a module. But, in the module, I am not able to get the hash back.</p>\n\n<p>The example:</p>\n\n<pre><code>#!/usr/bin/perl\n#code.pl\nuse strict;\nuse Module1;\n\nmy $obj = new Module1;\n\nmy %h = (\n    k1 =&gt; 'V1'\n);\n\nprint \"reference on the caller\", \\%h, \"\\n\";\n\nmy $y = $obj-&gt;printhash(\\%h);\n</code></pre>\n\n<p>Now, Module1.pm:</p>\n\n<pre><code>package Module1;\nuse strict;\nuse Exporter qw(import);\nour @EXPORT_OK = qw();\nuse Data::Dumper;\n\nsub new {\n    my $class = $_[0];\n    my $objref = {};\n    bless $objref, $class;\n    return $objref;\n}\n\n\nsub printhash {\n    my $h = shift;\n\n    print \"reference on module -&gt; $h \\n\";\n    print \"h on module -&gt; \", Dumper $h, \"\\n\";\n}\n1;\n</code></pre>\n\n<p>The output will be something like:</p>\n\n<pre><code>reference on the callerHASH(0x2df8528)\nreference on module -&gt; Module1=HASH(0x16a3f60)\nh on module -&gt; $VAR1 = bless( {}, 'Module1' );\n$VAR2 = '\n';\n</code></pre>\n\n<p>How can I get back the value passed by the caller?\nThis is an old version of perl: v5.8.3</p>\n"}, {"tags": ["perl", "search", "replace", "symbols", "bareword"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464342947, "post_id": 37480019, "comment_id": 62457658, "body": "<a href=\"http://stackoverflow.com/questions/619926/should-i-escape-shell-arguments-in-perl\" title=\"should i escape shell arguments in perl\">stackoverflow.com/questions/619926/&hellip;</a>"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 3, "creation_date": 1464344167, "post_id": 37480019, "comment_id": 62458487, "body": "Why are using backtick with system command? You should use <code>&quot; &quot;</code> like <code>system(&quot; &quot;)</code> ."}, {"owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "edited": false, "score": 0, "creation_date": 1464344380, "post_id": 37480019, "comment_id": 62458619, "body": "Thanks for your reply.     system(&quot;perl -p -i -e &#39;s/\\/\\$/\\/\\\\\\$/g&#39; sed_list.tcl&quot;); This I have already tried but of no use,. I still get the same error. Please suggest a fix. I will try and update you"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1464345211, "post_id": 37480019, "comment_id": 62459136, "body": "If you have tried something and doesn&#39;t work, try to fix it but for that do not use wrong syntax."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1464346091, "post_id": 37480019, "comment_id": 62459613, "body": "Make it more readable, please use <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\"><code>quotemeta</code></a> and any other delimiter than <code>&#47;</code> like this <code>s{\\Q&#47;$}{\\Q\\$}g</code>"}, {"owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "edited": false, "score": 0, "creation_date": 1464347810, "post_id": 37480019, "comment_id": 62460724, "body": "Thank you guys for helping me out .. :D"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "edited": false, "score": 0, "creation_date": 1464345394, "post_id": 37480874, "comment_id": 62459230, "body": "Thanks for your reply. When I am using System Function like you have specified, I am getting the below error &quot;syntax error at flat_rtl_gen.pl line 175, near &quot;system&quot; Execution of flat_rtl_gen.pl aborted due to compilation errors.&quot;  When I used Back Ticks, I am getting The below Error &quot;Backticks found where operator expected at flat_rtl_gen.pl line 177, near &quot;<code>&quot;perl -p -i -e &#39;s&#47;\\&#47;\\$&#47;\\&#47;\\\\\\$&#47;g&#39; sed_list_gen.tcl&quot;</code>&quot;         (Missing semicolon on previous line?) syntax error at flat_rtl_gen.pl line 177, near &quot;<code>&quot;perl -p -i -e &#39;s&#47;\\&#47;\\$&#47;\\&#47;\\\\\\$&#47;g&#39; sed_list_gen.tcl&quot;</code>&quot; Please Suggest . ."}, {"owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "reply_to_user": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "edited": false, "score": 0, "creation_date": 1464345954, "post_id": 37480874, "comment_id": 62459529, "body": "I tried out and didn&#39;t find any errors. Can you please post flat_rtl_gen.pl? Also do &quot;perl -c flat_rtl_gen.pl&quot; and post the result. Please edit the question to add these details."}, {"owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "edited": false, "score": 0, "creation_date": 1464347047, "post_id": 37480874, "comment_id": 62460234, "body": "Hi silent Monk, the below code worked  <code>perl -p -i -e &#39;s&#47;\\\\\\&#47;\\\\\\$&#47;\\\\\\&#47;\\\\\\\\\\\\\\$\\g&#39; file</code>;     I am really thank ful to you for your time. I will try out your code and will update you .."}, {"owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "edited": false, "score": 0, "creation_date": 1464347312, "post_id": 37480874, "comment_id": 62460413, "body": "I can not post flat_rtl_gen script as it is proprietary script.  When I did &quot;perl -c flat_rtl_gen.pl $PWD&quot;. I got a msg saying that Syntax OK. But when I am running with the fix that you have given, I am still getting an error saying that &quot;Syntax error at -e, near &quot;s//$/&quot; &quot;"}, {"owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "edited": false, "score": 0, "creation_date": 1464347790, "post_id": 37480874, "comment_id": 62460707, "body": "Thanks once again for your time :D"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1464358126, "post_id": 37480874, "comment_id": 62467483, "body": "The problem with the first statement here is that your system command is using double quotes, which causes each backslash to be treated as an escape character <i>before</i> the string is passed to the argument of <code>perl -p -i -e</code>.  As a result you&#39;d have to double-backslash all of the meta characters.  You can get around it by just using non-interpolating quotes:  <code>system(q{perl -p -i -e &#39;s&#47;\\&#47;\\$&#47;\\&#47;\\\\\\$&#47;g&#39; sed_list.tcl});</code>"}], "tags": [], "owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "is_accepted": false, "score": 0, "last_activity_date": 1464358937, "last_edit_date": 1464358937, "creation_date": 1464344283, "answer_id": 37480874, "question_id": 37480019, "link": "https://stackoverflow.com/questions/37480019/perl-search-and-replace-command-not-working-when-called-from-inside-another-perl/37480874#37480874", "title": "Perl Search and Replace Command Not Working When Called from Inside another Perl Script", "body": "<p>You can execute an external command by passing the command to a system function or by using <strong>backticks(``)</strong> operator. Please pass the command to the <strong>system()</strong> function as a string:</p>\n\n<p><code>system(q{perl -p -i -e 's/\\/\\$/\\/\\\\\\$/g' sed_list.tcl})</code></p>\n\n<p>or use backticks as:</p>\n\n<pre><code>`perl -p -i -e 's/\\/\\$/\\/\\\\\\$/g' sed_list_gen.tcl`\n</code></pre>\n\n<p>Edit:\nAs suggested by Paul in the comments.</p>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 1, "creation_date": 1464358347, "post_id": 37482107, "comment_id": 62467636, "body": "My goodness that&#39;s disastrously messy.  You can take two steps to clean it up.  1) Use non-interpolating quotes for your <code>system()</code> command.  2) Use a delimiter other than <code>&#47;</code> for your search-and-replace:  <code>system(q{perl -p -i -e&#39;s!&#47;\\$!&#47;\\\\$!&#39;});</code>"}], "tags": [], "owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "is_accepted": false, "score": 0, "last_activity_date": 1464347765, "creation_date": 1464347765, "answer_id": 37482107, "question_id": 37480019, "link": "https://stackoverflow.com/questions/37480019/perl-search-and-replace-command-not-working-when-called-from-inside-another-perl/37482107#37482107", "title": "Perl Search and Replace Command Not Working When Called from Inside another Perl Script", "body": "<p>Some one here Suggested that I should Escape all Back Slashes while using System Command or calling another command using BackTicks from inside a perl script. But later they have deleted their answer. It worked for me. I would like to thank every one for taking effort and helping me out in solving my question. </p>\n\n<p>Here is the correct working code.</p>\n\n<pre><code>`perl -p -i -e 's/\\\\\\/\\\\\\$/\\\\\\/\\\\\\\\\\\\\\$/g' sed_list_gen.tcl`;\n</code></pre>\n\n<p>or Use System function as shown Below</p>\n\n<pre><code>system(\"perl -p -i -e 's/\\\\\\/\\\\\\$/\\\\\\/\\\\\\\\\\\\\\$/g' sed_list_gen.tcl\");\n</code></pre>\n\n<p>Thanks once again for the community for helping me out. . . </p>\n"}], "owner": {"reputation": 41, "user_id": 5897000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00b4ffa958829a8245bc8ca72effe3cf?s=128&d=identicon&r=PG&f=1", "display_name": "Sridhar", "link": "https://stackoverflow.com/users/5897000/sridhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 621, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1464358937, "creation_date": 1464341842, "question_id": 37480019, "link": "https://stackoverflow.com/questions/37480019/perl-search-and-replace-command-not-working-when-called-from-inside-another-perl", "title": "Perl Search and Replace Command Not Working When Called from Inside another Perl Script", "body": "<p>I am a beginner with Perl. I am using the Below Perl Command To Search and Replace \"/$\" Sequence in my tcl Script. This works well When used on the linux Command Line directly.</p>\n\n<pre><code>perl -p -i -e 's/\\/\\$/\\/\\\\\\$/g' sed_list.tcl\n</code></pre>\n\n<p>I am calling to Call the above Perl One liner in another Perl script using System Command and only with \" ` \" Back Tick.</p>\n\n<pre><code>system(`perl -p -i -e 's/\\/\\$/\\/\\\\\\$/g' sed_list.tcl`);\n`perl -p -i -e 's/\\/\\$/\\/\\\\\\$/g' sed_list.tcl`;\n</code></pre>\n\n<p>I am getting the Below error. Please Help With this issue.</p>\n\n<pre><code>Bareword found where operator expected at -e line 1, near \"$/g\"\n(Missing operator before g?)\nFinal $ should be \\$ or $name at -e line 1, within string\nsyntax error at -e line 1, near \"s//$/\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>I Dont Know if I Can use any other Separation Operator like % and # just like SED command but, When I used '%' operator for separation, I didn't see error but job is not done.</p>\n\n<pre><code>`perl -p -i -e 's%\\/\\$%\\/\\\\\\$%g' sed_list.tcl`; \n</code></pre>\n\n<p>I couldn't find sufficient results for this particular issue of '$' variable on the web. Any help is appreciated.</p>\n"}, {"tags": ["text-processing", "perl"], "comments": [{"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "edited": false, "score": 0, "creation_date": 1464343220, "post_id": 37490053, "comment_id": 62476318, "body": "Please <a href=\"https://stackoverflow.com/posts/37490053/edit\">edit</a> your question and give us an example of the input you need to parse and the output you would like to see. A link to your previous question for context would also be helpful. I think what you want is to count only unique matches, ignoring repetitions of the same word. Is that correct?"}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "edited": false, "score": 0, "creation_date": 1464344502, "post_id": 37490054, "comment_id": 62476319, "body": "Hi terdon, this is closer to what I want to achieve definitely, however see my edit to my question with sample output. At the moment your amendment will only match 1 instance of the a given word then move on, but if both files contain multiple instances of the same word I would like them to count as matches."}, {"owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "reply_to_user": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "edited": false, "score": 0, "creation_date": 1464346302, "post_id": 37490054, "comment_id": 62476320, "body": "@nmh OK, see updated script. Next time though, make sure to include enough examples for us to understand. Show us sample data that reproduce all possible situations and explain what output you need from it. Also, this sort of complex question is really not good for the site. If the answer to your question is a full script, then you need to break the question into smaller chunks that you can use to write the script yourself."}, {"owner": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "edited": false, "score": 0, "creation_date": 1464347476, "post_id": 37490054, "comment_id": 62476321, "body": "Ok, understood. My original question did start with me trying to use grep but then morphed into a perl script which I know very little about! Thanks for your help, I&#39;ll try and split my queries up in the future."}, {"owner": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "edited": false, "score": 0, "creation_date": 1470241960, "post_id": 37490054, "comment_id": 64872045, "body": "Hi terdon, I&#39;ve been reading this script quite regularly and I don&#39;&#39;t know if it&#39;s just me, but I struggle to read perl, even if I break it down. I was wondering if you could add some additional # comments to the answer just so I can get my head around how it works?"}], "tags": [], "owner": {"reputation": 2792, "user_id": 1081936, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B5cTn.png?s=128&g=1", "display_name": "terdon", "link": "https://stackoverflow.com/users/1081936/terdon"}, "is_accepted": true, "score": 1, "last_activity_date": 1464346217, "creation_date": 1464343521, "answer_id": 37490054, "question_id": 37490053, "link": "https://stackoverflow.com/questions/37490053/amend-perl-script-so-that-words-are-matched-on-a-word-for-word-basis/37490054#37490054", "title": "Amend perl script so that words are matched on a word for word basis", "body": "<p>If you just wan to count unique matches, you can use a hash instead of a list to collect the words from <code>csv1</code>, just like you do for <code>csv2</code>, and then also count the occurrences of each word separately:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy @csv2 = ();\nopen CSV2, \"&lt;csv2\" or die;\n@csv2=&lt;CSV2&gt;;\nclose CSV2;\n\nmy %csv2hash = ();\nfor (@csv2) {\n  chomp;\n  my ($title) = $_ =~ /^.+?,\\s*([^,]+?),/; #/ match the title \n  $csv2hash{$_} = $title;\n}\n\nopen CSV1, \"&lt;csv1\" or die;\nwhile (&lt;CSV1&gt;) {\n  chomp;\n  my ($title) = $_ =~ /^.+?,\\s*([^,]+?),/; #/ match the title \n    my %words;\n    $words{$_}++ for split /\\s+/, $title;    #/ get words\n    ## Collect unique words\n    my @titlewords = keys(%words);\n  my @new;                          #add exception words which shouldn't be matched\n  foreach my $t (@titlewords){\n        push(@new, $t) if $t !~ /^(and|if|where)$/i;\n  }\n  @titlewords = @new;\n  my $desired = 3;\n  my $matched = 0;\n  foreach my $csv2 (keys %csv2hash) {\n    my $count = 0;\n    my $value = $csv2hash{$csv2};\n    foreach my $word (@titlewords) {\n            my @matches   = ( $value=~/\\b$word\\b/ig );\n            my $numIncsv2 = scalar(@matches);\n            @matches      = ( $title=~/\\b$word\\b/ig );\n            my $numIncsv1 = scalar(@matches);\n            ++$count if $value =~ /\\b$word\\b/i;\n            if ($count &gt;= $desired || ($numIncsv1 &gt;= $desired &amp;&amp; $numIncsv2 &gt;= $desired)) {\n                $count = $desired+1;\n                last;\n            }\n    }\n    if ($count &gt;= $desired) {\n      print \"$csv2\\n\";\n      ++$matched;\n    }\n  }\n  print \"$_\\n\" if $matched;\n}\nclose CSV1;\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1464373295, "question_id": 285855}, "owner": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 37490054, "answer_count": 1, "score": 2, "last_activity_date": 1464373295, "creation_date": 1464341540, "last_edit_date": 1492086987, "question_id": 37490053, "link": "https://stackoverflow.com/questions/37490053/amend-perl-script-so-that-words-are-matched-on-a-word-for-word-basis", "title": "Amend perl script so that words are matched on a word for word basis", "body": "<p>I have been using this perl script (thanks to Jeff Schaller) to match 3 or more words in the title fields of two separate csv files. \nOriginal question here:</p>\n\n<p><a href=\"https://unix.stackexchange.com/questions/283942/matching-3-or-more-words-from-fields-in-separate-csv-files?noredirect=1#comment494461_283942\">https://unix.stackexchange.com/questions/283942/matching-3-or-more-words-from-fields-in-separate-csv-files?noredirect=1#comment494461_283942</a></p>\n\n<p>I have also added some exception functionality following advice from meuh:</p>\n\n<pre><code>#!/bin/perl\n\nmy @csv2 = ();\nopen CSV2, \"&lt;csv2\" or die;\n@csv2=&lt;CSV2&gt;;\nclose CSV2;\n\nmy %csv2hash = ();\nfor (@csv2) {\n  chomp;\n  my ($title) = $_ =~ /^.+?,\\s*([^,]+?),/; #/ match the title \n  $csv2hash{$_} = $title;\n}\n\nopen CSV1, \"&lt;csv1\" or die;\nwhile (&lt;CSV1&gt;) {\n  chomp;\n  my ($title) = $_ =~ /^.+?,\\s*([^,]+?),/; #/ match the title \n  my @titlewords = split /\\s+/, $title;    #/ get words\n\n  my @new;                          #add exception words which shouldn't be matched\n  foreach my $t (@titlewords){\n  push(@new, $t) if $t !~ /^(and|if|where)$/i;\n  }\n  @titlewords = @new;\n  my $desired = 3;\n  my $matched = 0;\n  foreach my $csv2 (keys %csv2hash) {\n    my $count = 0;\n    my $value = $csv2hash{$csv2};\n    foreach my $word (@titlewords) {\n      ++$count if $value =~ /\\b$word\\b/i;\n      last if $count &gt;= $desired;\n    }\n    if ($count &gt;= $desired) {\n      print \"$csv2\\n\";\n      ++$matched;\n    }\n  }\n  print \"$_\\n\" if $matched;\n}\nclose CSV1;\n</code></pre>\n\n<p>During my testing, one issue I've found that I would like to tweak is that if csv2 contains a single common word such as <code>the</code>, if this is replicated in csv1 three or more times then three positive matches is found. To clarify:</p>\n\n<p>If csv1 contains:</p>\n\n<pre><code>1216454,the important people feel the same way as the others, 15445454, 45445645\n</code></pre>\n\n<p>^ i.e. there are three insatnces of <code>the</code> in the above line</p>\n\n<p>If csv2 contains:</p>\n\n<pre><code>14564564,the tallest man on earth,546456,47878787\n</code></pre>\n\n<p>^ i.e. there is one instance of <code>the</code> in this line</p>\n\n<p>Then I would like only one word to be classed as matching, and there be no output (based on my desired number of matching words- 3 ) because there is only one instance of the matching word in one of the files.</p>\n\n<p>However if:</p>\n\n<p>csv1 contained:</p>\n\n<pre><code>1216454,the important people feel the same way as the others,15445454, 45445645\n</code></pre>\n\n<p>and csv2 contained:</p>\n\n<pre><code>15456456,the only way the man can sing the blues,444545,454545\n</code></pre>\n\n<p>Then, as there are three matching words in each (i.e. 3 instances of the word <code>the</code> in each title, then I would like this to be classed as a matching title based on my desired number of matching words being 3 or more, thus generating the output:</p>\n\n<pre><code>1216454,the important people feel the same way as the others,15445454, 45445645\n15456456,the only way the man can sing the blues,444545,454545\n</code></pre>\n\n<p>I would like to amend the script so that if there is one instance of a word in a csv, and multiple instances of the same word in the other csv then that is classed as only one match. However, if there were say 3 instance of the word <code>the</code> in both files, then it should still be classed as three matches. Basically I would like matches to be on a word for word basis. \nEverything about the script other than this is perfect so I would rather not go back to the drawing board completely as I am happy with everything other than this. \nI hope I've explained it ok, if anyone need any clarification let me know. </p>\n"}, {"tags": ["linux", "string", "bash", "perl", "shell"], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1464321645, "post_id": 37474592, "comment_id": 62447488, "body": "Use <code>-l</code> to avoid the <code>chomp</code> and the <code>print &quot;\\n&quot;</code>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1464321908, "post_id": 37474592, "comment_id": 62447566, "body": "Thanks  @hobbs.  Updated."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464331319, "post_id": 37474592, "comment_id": 62450690, "body": "Thanks @ikegami for the updates."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 10, "last_activity_date": 1464330075, "last_edit_date": 1592644375, "creation_date": 1464321394, "answer_id": 37474592, "question_id": 37474521, "link": "https://stackoverflow.com/questions/37474521/print-a-string-separated-by-dots-in-reverse-order/37474592#37474592", "title": "Print a string separated by dots in reverse order", "body": "<p>Split by <code>.</code> then reverse the results, then join them up again.</p>\n<blockquote>\n<p>Perl Command Switches:</p>\n<p><code>-l</code> means &quot;remove/add the newline character from input/output.&quot;</p>\n<p><code>-p</code> means &quot;execute the program for each line of input, and print <code>$_</code> after each execution.&quot;</p>\n<p><code>-e</code> means &quot;the following argument is the code of the program to run.&quot;</p>\n</blockquote>\n<p><a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"noreferrer\">perldoc perlrun</a> for more details.</p>\n<pre><code>echo maps.google.com | perl -lpe '$_ = join &quot;.&quot;, reverse split /\\./;'\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>com.google.maps\n</code></pre>\n<hr />\n<p>It also works if you have a data file with lots of rows.</p>\n<p><strong>input</strong></p>\n<pre><code>maps.google.com\ntranslate.google.com\nmail.google.com\n</code></pre>\n<p><strong>run</strong></p>\n<pre><code>perl -lpe '$_ = join &quot;.&quot;, reverse split /\\./;' input\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>com.google.maps\ncom.google.translate\ncom.google.mail\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 292, "user_id": 4478261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SppMh.png?s=128&g=1", "display_name": "anudeep", "link": "https://stackoverflow.com/users/4478261/anudeep"}, "edited": false, "score": 0, "creation_date": 1464325675, "post_id": 37474594, "comment_id": 62448548, "body": "can you please let me know how does &#39;(i==1?&quot;\\n&quot;:&quot;.&quot;)&#39; work?"}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 292, "user_id": 4478261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SppMh.png?s=128&g=1", "display_name": "anudeep", "link": "https://stackoverflow.com/users/4478261/anudeep"}, "edited": false, "score": 0, "creation_date": 1464326360, "post_id": 37474594, "comment_id": 62448753, "body": "@deeps Good point.  I have added an explanation and link to documentation for <i>ternary statements</i>."}, {"owner": {"reputation": 292, "user_id": 4478261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SppMh.png?s=128&g=1", "display_name": "anudeep", "link": "https://stackoverflow.com/users/4478261/anudeep"}, "edited": false, "score": 0, "creation_date": 1464328123, "post_id": 37474594, "comment_id": 62449336, "body": "thanks @john1024 for your detailed explanation"}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 2, "last_activity_date": 1464326079, "last_edit_date": 1464326079, "creation_date": 1464321411, "answer_id": 37474594, "question_id": 37474521, "link": "https://stackoverflow.com/questions/37474521/print-a-string-separated-by-dots-in-reverse-order/37474594#37474594", "title": "Print a string separated by dots in reverse order", "body": "<pre><code>$ echo maps.google.com | awk -F. '{for (i=NF;i&gt;0;i--) printf \"%s%s\",$i,(i==1?\"\\n\":\".\")}'\ncom.google.maps\n</code></pre>\n\n<h3>How it works</h3>\n\n<ul>\n<li><p><code>-F.</code></p>\n\n<p>This tells awk to use a period as the field separator</p></li>\n<li><p><code>for (i=NF;i&gt;0;i--) printf \"%s%s\",$i,(i==1?\"\\n\":\".\")</code></p>\n\n<p>This loops over all fields, starting with the last and ending with the first and printing them, followed by a period (except for the first field which is followed by a newline).</p>\n\n<p>The one tricky part above is <code>(i==1?\"\\n\":\".\")</code>.  This is called a <em>ternary statement</em>.  The part before the <code>?</code> is a logical condition.  If the condition is true then the value after the question mark, but before the <code>:</code>, is used.  If it is false, then the value after the <code>:</code> is used.  In this case, that means that, when we are on the first field <code>i==1</code>, then the statement returns a newline, <code>\\n</code>.  If we are on any other field, it returns a period, <code>.</code>.  We use this to put a period after all the fields except for the first (which, in the output, is printed last).  After it, we put a newline.</p>\n\n<p>For more on <em>ternary statements</em>, see the <a href=\"https://www.gnu.org/software/gawk/manual/html_node/Conditional-Exp.html#Conditional-Exp\" rel=\"nofollow\">GNU docs</a>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2565, "user_id": 4593127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d661b3425b0e9cd38ee220844e1b8659?s=128&d=identicon&r=PG&f=1", "display_name": "gaganso", "link": "https://stackoverflow.com/users/4593127/gaganso"}, "is_accepted": false, "score": 1, "last_activity_date": 1464321448, "creation_date": 1464321448, "answer_id": 37474601, "question_id": 37474521, "link": "https://stackoverflow.com/questions/37474521/print-a-string-separated-by-dots-in-reverse-order/37474601#37474601", "title": "Print a string separated by dots in reverse order", "body": "<p>Solution in Perl:</p>\n\n<pre><code>$str = \"maps.google.com\";\n@arr =split('\\.',$str);\nprint join(\".\",reverse @arr);\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>com.google.maps</p>\n</blockquote>\n\n<p>Split the string on \".\" and reverse the array. Join the reversed array using \".\".</p>\n"}, {"tags": [], "owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "is_accepted": false, "score": 3, "last_activity_date": 1464322752, "creation_date": 1464322752, "answer_id": 37474783, "question_id": 37474521, "link": "https://stackoverflow.com/questions/37474521/print-a-string-separated-by-dots-in-reverse-order/37474783#37474783", "title": "Print a string separated by dots in reverse order", "body": "<p>Using a <strong>bunch of utils</strong>:</p>\n\n<pre><code>$ tr '.' $'\\n' &lt;&lt;&lt; 'maps.google.com' | tac | paste -s -d '.'\ncom.google.maps\n</code></pre>\n\n<p>This replaces all periods with newlines (<code>tr</code>), then reverses the order of the lines (<code>tac</code>), then pastes the lines serially (<code>paste -s</code>), with the period as the delimiter (<code>-d '.'</code>).</p>\n\n<p>Considerably uglier (or just wordier?) in <strong>pure Bash</strong>:</p>\n\n<pre><code># Read string into array 'arr', split at periods by setting IFS\nIFS=. read -a arr &lt;&lt;&lt; 'maps.google.com'\n\n# Loop over array from the end\nfor (( i = $(( ${#arr[@]}-1 )); i &gt;= 0; --i )); do\n\n    # Append element plus a period to result string\n    res+=${arr[i]}.\ndone\n\n# Print result string minus the last period\necho \"${res%.}\"\n</code></pre>\n"}], "owner": {"reputation": 292, "user_id": 4478261, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SppMh.png?s=128&g=1", "display_name": "anudeep", "link": "https://stackoverflow.com/users/4478261/anudeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1079, "favorite_count": 1, "closed_date": 1464338383, "answer_count": 4, "score": 0, "last_activity_date": 1464330075, "creation_date": 1464320905, "last_edit_date": 1464322881, "question_id": 37474521, "link": "https://stackoverflow.com/questions/37474521/print-a-string-separated-by-dots-in-reverse-order", "closed_reason": "Needs more focus", "title": "Print a string separated by dots in reverse order", "body": "<p>I need to print a string in reverse order in bash shell.</p>\n\n<pre><code>[deeps@host1:~]echo maps.google.com|rev\nmoc.elgoog.spam\n[deeps@host1:~]\n</code></pre>\n\n<p>But I need it as \"com.google.maps\". I need it in general for any string separated by period (<code>.</code>).</p>\n\n<p>It should print in reverse order. How do I do that?</p>\n\n<p>I need the solution in Perl as well.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5426, "user_id": 4887423, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yW2L2.jpg?s=128&g=1", "display_name": "Willie Cheng", "link": "https://stackoverflow.com/users/4887423/willie-cheng"}, "edited": false, "score": 1, "creation_date": 1464316914, "post_id": 37473961, "comment_id": 62446333, "body": "Please check this<a href=\"http://stackoverflow.com/help\">URL</a> it will be handy to lift your content quality up"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1464328945, "post_id": 37473961, "comment_id": 62449621, "body": "(1) For array <code>@arr</code> an element is <code>$arr[3]</code>, with <code>$</code> since it&#39;s a scalar.  (2) Don&#39;t try to set variable <i>names</i> in running code. It is <i>not</i> recommended.  You can <i>always</i> solve the problem in other, good, ways. For example, try this.  An array <code>@users</code> can have <i>references</i> to arrays.  No worries about users 1,2,... -- just iterate through <code>@users</code>.  See tutorials on <a href=\"http://perldoc.perl.org/perllol.html\" rel=\"nofollow noreferrer\">Array of arrays</a> and on <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">complex data structures</a>.  Array indices start at <code>0</code>. Always <b>use warnings;</b>. Read up on the language, this is too basic."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1464332258, "post_id": 37473961, "comment_id": 62451202, "body": "<i>It doesn&#39;t work</i> doesn&#39;t make any sense. Telling what are you expecting and what are you getting would be more helpful."}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1464332497, "post_id": 37474387, "comment_id": 62451328, "body": "No, don&#39;t use <code>eval</code> for this kind of task, instead change the data structure and use simply an array of arrayrefs as @zdim already suggested. Just because it is technically possible to do it this way, doesn&#39;t mean it should be done this way. Just my 2 cents."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1464333798, "post_id": 37474387, "comment_id": 62452085, "body": "Thanks @dgw.  Updated to a non <code>eval</code> version as suggested.  Agreed that simpler is better."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1464333741, "last_edit_date": 1464333741, "creation_date": 1464319841, "answer_id": 37474387, "question_id": 37473961, "link": "https://stackoverflow.com/questions/37473961/simple-perl-for-loop-error/37474387#37474387", "title": "Simple Perl for-loop error", "body": "<p>Use References to iterate over the different arrays.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perldoc perlref</a> - perl references</p>\n\n<p><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">perldoc perldsc</a> - perl data structure cookbook</p>\n\n<pre><code>#/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy @user1 = ( 1, 2, 3, 4 );\nmy @user2 = ( 4, 3, 1, 2 );\nmy @user3 = ( 2, 1, 4, 3 );\n\nmy $data = [ \\@user1, \\@user2, \\@user3 ];\nmy $field = 3; # Fourth field, perl is 0-based                                           \n\nfor my $users ( @$data ) {\n    # $users-&gt;[...] instead of $users[...] because $users is an array reference             \n    if ( $users-&gt;[$field] &gt;= 4.0 ) {\n        print \"first\";\n    } elsif ( $users-&gt;[$field] &lt; 4.0 and $users-&gt;[$field] &gt;= 2.5 ) {\n        print \"second\";\n    } else {\n        print \"third\";\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>first\nthird\nsecond\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6388837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6d27d17a14699103dc9fbaa2e00c3a?s=128&d=identicon&r=PG&f=1", "display_name": "user6388837", "link": "https://stackoverflow.com/users/6388837/user6388837"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1464333741, "creation_date": 1464316717, "last_edit_date": 1464320897, "question_id": 37473961, "link": "https://stackoverflow.com/questions/37473961/simple-perl-for-loop-error", "title": "Simple Perl for-loop error", "body": "<pre><code>for ($i=1; $i&lt;=3; $i++) {\n    if ( @user$i[3] &gt;= 4.0 ) {\n        print \"first\";\n    } elsif ( @user$i[3] &lt; 4.0 and @user$i[3] &gt;= 2.5 ) {\n        print \"second\";\n    } else {\n        print \"third\";\n    }\n}\n</code></pre>\n\n<p>It doesn't work</p>\n\n<p>I want same function below code</p>\n\n<p>Could you give me some help</p>\n\n<pre><code>if ( @user1[3] &gt;= 4.0 ) {\n     print \"first\";\n} elsif ( @user1[3] &lt; 4.0 and @user1[3] &gt;= 2.5 ) {\n     print \"second\";\n} else {\n     print \"third\";\n}\n\nif ( @user2[3] &gt;= 4.0 ) {\n    print \"first\";\n} elsif ( @user2[3] &lt; 4.0 and @user2[3] &gt;= 2.5 ) {\n    print \"second\";\n} else {\n    print \"third\";\n}\n\nif ( @user3[3] &gt;= 4.0 ) {\n    print \"first\";\n} elsif ( @user3[3] &lt; 4.0 and @user3[3] &gt;= 2.5 ) {\n    print \"second\";\n} else {\n    print \"third\";\n}\n</code></pre>\n"}, {"tags": ["perl", "edit"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 0, "creation_date": 1464317788, "post_id": 37474063, "comment_id": 62446543, "body": "Is there anyway to get difference in such case, with substitutions too?"}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "reply_to_user": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "edited": false, "score": 1, "creation_date": 1464318136, "post_id": 37474063, "comment_id": 62446645, "body": "I think what you are looking for is <a href=\"http://search.cpan.org/~dyacob/String-LCSS-0.12/lib/String/LCSS.pm\" rel=\"nofollow noreferrer\">longest common substring</a>"}], "tags": [], "owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "is_accepted": false, "score": 2, "last_activity_date": 1464317465, "creation_date": 1464317465, "answer_id": 37474063, "question_id": 37473924, "link": "https://stackoverflow.com/questions/37473924/perl-textfuzzy-different-string-giving-same-edit-distance/37474063#37474063", "title": "perl: Text::Fuzzy, different string giving same edit distance?", "body": "<p>That seems right since all the characters of subsequence are present in the longer sequence both would have the same Levenshtein  edit distance. This is so because all it would need is deletions to transform the  longer to shorter sequence </p>\n\n<p>Example :</p>\n\n<p><code>artic =&gt; arc</code> edit distance 2, i.e deletions 2 \n<code>arche =&gt; arc</code> would have the same edit distance 2 i.e deletions 2</p>\n"}, {"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1464318148, "creation_date": 1464318148, "answer_id": 37474163, "question_id": 37473924, "link": "https://stackoverflow.com/questions/37473924/perl-textfuzzy-different-string-giving-same-edit-distance/37474163#37474163", "title": "perl: Text::Fuzzy, different string giving same edit distance?", "body": "<p>Sure. In the first case, all of the characters in <code>$barcode</code> appear together at the beginning of the line, so it takes 81 (93 - 12) edits to add all of the other characters at the end.</p>\n\n<p>In the second case, all of the characters in <code>$barcode</code> still appear, in order, just with a bunch of stuff in between. Since they do, no deletions or substitutions are necessary, and the distance is still 81, the characters are just added in different places. To illustrate:</p>\n\n<pre><code>GACGAGACTGATCACCTGATATCCTGTAAAATCCTTTTCTTC ...\n________T___C_CCT_______TGT______CT___C__C ...\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 5106204, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea44da36974d202ff23940ec61348965?s=128&d=identicon&r=PG&f=1", "display_name": "SSh", "link": "https://stackoverflow.com/users/5106204/ssh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1464318148, "creation_date": 1464316449, "question_id": 37473924, "link": "https://stackoverflow.com/questions/37473924/perl-textfuzzy-different-string-giving-same-edit-distance", "title": "perl: Text::Fuzzy, different string giving same edit distance?", "body": "<p>Checking distance between <code>$barcode</code> and two strings, first string has same 12 characters at the front and another is completely different but both gives same distance?</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Text::Fuzzy;\nmy $barcode =  \"TCCCTTGTCTCC\";\n\nforeach my $line1 (&lt;DATA&gt;) {\n    print \"New string\\n\";\n    print \"Barcode length:\", length $barcode, \"\\nSequence length:\",\n    length $line1, \"\\n\";\n    my $tf = Text::Fuzzy-&gt;new($barcode);\n    my $ed = $tf-&gt;distance($line1);\n    print \"Edit distance: \", $ed ,\"\\n\\n\";\n}\n\n__DATA__\nTCCCTTGTCTCCCCTGATATCCTGTAAAATCCTTTTCTTCTGATGGGTGCCATTTGCCACTAGAGGAAGCTGAACAGACCTGACTACCTGGA\nGACGAGACTGATCACCTGATATCCTGTAAAATCCTTTTCTTCTGATGGGTGCCATTTGCCACTAGAGGAAGCTGCAGACCTGACTACCTGGA\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>New string\nBarcode length:12\nSequence length:93\nEdit distance: 81\n\nNew string\nBarcode length:12\nSequence length:93\nEdit distance: 81\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 1, "creation_date": 1464311556, "post_id": 37473197, "comment_id": 62445100, "body": "This is a very basic operation that can be done with either a regex or <code>split(&quot;&#47;&quot;,$file)</code>. But, are all the filenames of the form <code>&#47;x1&#47;x2&#47;x3</code>? Do you have any that are [say] <code>&#47;x1&#47;x2&#47;x3&#47;x4</code> [or longer]? And, what would you want in that case? It seems to me that <code>&#47;x1</code> and <code>x3</code> [and discarding <code>x2</code>] aren&#39;t as useful as <code>&#47;x1&#47;x2</code> and <code>x3</code>--I&#39;m trying to imagine the use case."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464315831, "post_id": 37473197, "comment_id": 62446089, "body": "This is a trivial problem. Do you know any Perl at all? What research have you done, and why did the results not satisfy you?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1464362546, "last_edit_date": 1464362546, "creation_date": 1464316023, "answer_id": 37473860, "question_id": 37473197, "link": "https://stackoverflow.com/questions/37473197/perl-searching-for-an-intermediate-directory-name/37473860#37473860", "title": "Perl: Searching for an intermediate directory name", "body": "<p>I recommend that you look at the core <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow\"><code>File::Spec</code></a> module</p>\n\n<p>The <code>splitdir</code> class method should help you</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6388641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca07ab4c9ee8f11a7f30573dfdd26e2e?s=128&d=identicon&r=PG&f=1", "display_name": "user6388641", "link": "https://stackoverflow.com/users/6388641/user6388641"}, "edited": false, "score": 0, "creation_date": 1464384443, "post_id": 37477218, "comment_id": 62481282, "body": "Thanks for the reply. but It is not what I am trying to do. Actually, I do not know the path /x1/x2/x3. what I only know is the path  /x1 and the name x3. In another word I am trying to search for the parent directory that contains the x3 subdirectory under the /x1 path"}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 2, "last_activity_date": 1464333613, "creation_date": 1464333613, "answer_id": 37477218, "question_id": 37473197, "link": "https://stackoverflow.com/questions/37473197/perl-searching-for-an-intermediate-directory-name/37477218#37477218", "title": "Perl: Searching for an intermediate directory name", "body": "<p>Go with <em>Borodin</em>'s solution. But in case you don't want use a module, split the path with <code>/</code>:</p>\n\n<pre><code>my $dir = \"/x1/x2/x3\";\nmy $paths = (split \"/\", $dir)[2];\nprint $paths, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>x2\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6388641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca07ab4c9ee8f11a7f30573dfdd26e2e?s=128&d=identicon&r=PG&f=1", "display_name": "user6388641", "link": "https://stackoverflow.com/users/6388641/user6388641"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1464385065, "creation_date": 1464310440, "last_edit_date": 1464385065, "question_id": 37473197, "link": "https://stackoverflow.com/questions/37473197/perl-searching-for-an-intermediate-directory-name", "title": "Perl: Searching for an intermediate directory name", "body": "<p>I am trying to find an efficient way to find out and intermediate directory name. For example I want to get \"x2\" directory name in the following path /x1/x2/x3 giving the path /x1 and the name x3. </p>\n\n<p>NOTE: I do not know the full path /x1/x2/x3. I only know /x1 and the name x3. In another word, I am trying to search for the parent directory of the subdirectory x3 under the /x1 path. </p>\n\n<p>Would you please help?\nThank You!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 2, "creation_date": 1464312360, "post_id": 37473148, "comment_id": 62445281, "body": "Is it possible to post the input data file somewhere?  Without it, the problem can&#39;t be reproduced locally making it an order of magnitude harder to debug."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464320209, "post_id": 37473148, "comment_id": 62447158, "body": "Try initializing your <code>@sum</code> and <code>@sum2</code> arrays to be all zero first?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464320496, "post_id": 37473148, "comment_id": 62447223, "body": "Also, you iterate <code>$q</code> from 2 to 18.  Do you mean to skip the 0 and 1 positions of your <code>@sum</code> and <code>@sum2</code> arrays?  These will be uninitialized unless you do something about it."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464320720, "post_id": 37473148, "comment_id": 62447266, "body": "Your code would also benefit from refactoring you nearly duplicated code sections into subroutines.  Also the arbitrary indexes for <code>$integer</code> should be turned into constants with some justifcation for their values.  An example of the input format in the comments of your code would also do wonders for others trying to grok your code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1464324022, "post_id": 37473148, "comment_id": 62448099, "body": "The first observation: this is far too much straight code.  It should be split in subroutines.  Then you can actually check parts of the process. Also, it would allow and force you to partition and  structure your problem, almost certainly resulting in better code."}, {"owner": {"reputation": 21, "user_id": 5298950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/972b38e05547f757a0d0446b1e499edf?s=128&d=identicon&r=PG&f=1", "display_name": "knytshade", "link": "https://stackoverflow.com/users/5298950/knytshade"}, "edited": false, "score": 0, "creation_date": 1464377008, "post_id": 37473148, "comment_id": 62478185, "body": "Thank you for the suggestions. I have edited the question to include some data. I did mean to skip 0 and 1 since the atoms are 1-based and C21 has different bonding."}], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 3, "last_activity_date": 1464324135, "last_edit_date": 1464324135, "creation_date": 1464320571, "answer_id": 37474470, "question_id": 37473148, "link": "https://stackoverflow.com/questions/37473148/perl-use-of-uninitialized-value-in-addition-when-all-values-are-initialized/37474470#37474470", "title": "Perl Use of uninitialized value in addition when all values are initialized", "body": "<p>Without the input data it's impossible to reproduce the problem locally making it near impossible to help with debugging.  Having looked at your code though, there a several things I can suggest that will simplify the code and hopefully make it easier to find the problem.</p>\n\n<p>Firstly, nearly all of your loops iterate over an integer variable between two values in C-style <code>for</code> loop.  That form of <code>for</code> is there if you absolutely need it but perl has far more expressive - and therefore far easier to read and understand the authors intent - forms of a for loop.</p>\n\n<p>Where you simply need an integer range; eg </p>\n\n<pre><code>for (my $integer= 2; ($integer &lt;= 8); $integer++) { \n</code></pre>\n\n<p>you can simply state \"I want $integer to go from 2 to 8\";</p>\n\n<pre><code>for my $integer (2 .. 8)\n</code></pre>\n\n<p>Where you're using the integer solely for the purpose of indexing back into an array to get at the contents, you can simply tell perl you want to iterate over the array contents - ie instead of;</p>\n\n<pre><code>for (my $line = 0; $line &lt;= $#data; ++$line) {\n    if(($data[$line] =~ ... etc ...\n    chomp $data[$line];\n</code></pre>\n\n<p>you can more simply;</p>\n\n<pre><code>for my $line (@data) {\n    if(($line =~ ... etc ...\n    chomp $line;\n</code></pre>\n\n<p>Secondly, where you've got several regexs in play, it helps to separate their definition from their use.  It allows the reader to consume and understand the regex itself separately from (later) seeing how/why it being applied.  Also, 'extended mode' regex allow whitespace in the regex definition.  It's simply amazing how much easier it is to read regexes (regexen?) with whitespace - so much so, that one should consider making it a rule to simply just <em>always</em> use <code>/x</code>.  Togeather, we can replace;</p>\n\n<pre><code>if(($data[$line] =~ m/\\s+C2$integer\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n</code></pre>\n\n<p>with;</p>\n\n<pre><code>my $has_POPC        = qr/ \\s+  POPC        \\s+ /x;\nmy $has_lipid       = qr/ \\s+  $lipid      \\s+ /x;\nmy $has_C2_integer  = qr/ \\s+  C2 $integer \\s+ /x;\n\nif( $line =~ $has_C2_integer  &amp;&amp;  $line =~ $has_lipid  &amp;&amp;  $line =~ $has_POPC) {\n</code></pre>\n\n<p>Thirdly - perhaps most imprtantly because I think its potentially a bug - within several of your inner loops you have;</p>\n\n<pre><code>my @splitline = (split /\\s+/, $data[$line]);\nforeach (@splitline) {\n    $x1[0]= $splitline[5];\n    $y1[0]= $splitline[6];\n    $z1[0]= $splitline[7];\n}\n</code></pre>\n\n<p>Again - I don't have the input data and therefore can't check - but this is almost certainly a mistake.  You're splitting the line on whitespace - for the sake of discussion, let say it has 10 \"pieces\".  You then iterate over those pieces (putting them into the default topic, <code>$_</code>) but make no reference to the topical piece itself - ie, you're not using <code>$_</code>.  Therefore, the code is putting pieces 5, 6 &amp; 7 into x1, y1 &amp; z1 (respectively) - 10 times over.  Now, it <em>probably</em> doesn't matter but as I said, its almost certainly not what you wanted and therefore is a bug waiting to happen.  You <em>may</em> (its a matter of balance between terseness vs readabillity) want to consolidate the three assignments into list form and (again, optionally) eliminate the temporary variable, <code>@splitline</code>;</p>\n\n<pre><code>if( $line =~ $has_C2_integer  &amp;&amp;  $line =~ $has_lipid  &amp;&amp;  $line =~ $has_POPC) {\n    ( $x1[0], $y1[0], $z1[0] ) = (split /\\s+/ $line)[ 5, 6, 7 ];\n}\n</code></pre>\n\n<p>Putting these ideas togeather enables replacing this;</p>\n\n<pre><code>#Start for lipid count\nfor (my $lipid=1; ($lipid &lt;= $lipid_num); $lipid++) {\n    # First Carbon/Integer counter\n    for (my $integer= 2; ($integer &lt;= 8); $integer++) {\n        #Split line 1\n        for (my $line = 0; $line &lt;= $#data; ++$line) {\n                #Search 1.1\n                if(($data[$line] =~ m/\\s+C2$integer\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                        chomp $data[$line];\n                        my @splitline = (split /\\s+/, $data[$line]);\n                        foreach (@splitline) {\n                                $x1[0]= $splitline[5];\n                                $y1[0]= $splitline[6];\n                                $z1[0]= $splitline[7];\n                        }\n                }\n                #Search 1.2\n                    if(($data[$line] =~ m/\\s+H$integer$R\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                            my @splitline = (split /\\s+/, $data[$line]);\n                        foreach (@splitline) {\n                                $x1[1]= $splitline[5];\n                                    $y1[1]= $splitline[6];\n                                    $z1[1]= $splitline[7];\n                        }\n                }\n                #Search 1.3\n                    if(($data[$line] =~ m/\\s+H$integer$S\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                            my @splitline = (split /\\s+/, $data[$line]);\n                        foreach (@splitline) {\n                                $x1[2]= $splitline[5];\n                                    $y1[2]= $splitline[6];\n                                    $z1[2]= $splitline[7];\n                        }\n                }\n        }\n</code></pre>\n\n<p>with ;</p>\n\n<pre><code>my $has_POPC = qr/ \\s+ POPC \\s+ /x;\n#Start for lipid count\nfor my $lipid (1 .. $lipid_num) {\n    my $has_lipid = qr/ \\s+ $lipid \\s+ /x;\n\n    # First Carbon/Integer counter\n    for my $integer (2 .. 8) {\n        my $has_C2_integer  = qr/ \\s+ C2 $integer   \\s+ /x;\n        my $has_H_integer_R = qr/ \\s+ H  $integer R \\s+ /x;\n        my $has_H_integer_S = qr/ \\s+ H  $integer S \\s+ /x;\n\n        #Split line 1\n        for my $line (@data) {\n            chomp $line;\n\n            #Search 1.1\n            if ($line =~ $has_C2_integer &amp;&amp; $line =~ $has_lipid &amp;&amp; $line =~ $has_POPC)  {\n                ($x1[0], $y1[0], $z1[0]) = (split /\\s+/ $line)[ 5, 6, 7 ];\n            }\n\n            #Search 1.2\n            if ($line =~ $has_H_integer_R &amp;&amp; $line =~ $has_lipid &amp;&amp; $line =~ $has_POPC) {\n                ($x1[1], $y1[1], $z1[1]) = (split /\\s+/ $line)[ 5, 6, 7 ];\n            }\n\n            #Search 1.3\n            if ($line =~ $has_H_integer_S &amp;&amp; $line =~ $has_lipid &amp;&amp; $line =~ $has_POPC) {\n                ($x1[2], $y1[2], $z1[2]) = (split /\\s+/ $line)[ 5, 6, 7 ];\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>...that's a reduction in the number of lines by about a third and is (arguably) more readable.  Later in the program the structure is repeated almost verbatim, so you should be able to obtain the same reduction again.  This has to be rigorously checked of course, which I can't do.  Finally, have a good look at the <a href=\"http://www.thegeekstuff.com/2010/05/perl-debugger/\" rel=\"nofollow\">Perl debugger</a>.  It only takes about 15 minutes to get across the basics and it will repay you 10 times over (at least).</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5298950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/972b38e05547f757a0d0446b1e499edf?s=128&d=identicon&r=PG&f=1", "display_name": "knytshade", "link": "https://stackoverflow.com/users/5298950/knytshade"}, "is_accepted": true, "score": 0, "last_activity_date": 1464387873, "creation_date": 1464387873, "answer_id": 37493111, "question_id": 37473148, "link": "https://stackoverflow.com/questions/37473148/perl-use-of-uninitialized-value-in-addition-when-all-values-are-initialized/37493111#37493111", "title": "Perl Use of uninitialized value in addition when all values are initialized", "body": "<p>Turns out I was adding my $sum[$t], which did not have a value, to something that did and this was giving the error. To fix this I changed from:</p>\n\n<pre><code>$sum[$t]= $theta_values[$t][$j] + $sum[$t];\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>$sum[$t]+= $theta_values[$t][$j];\n</code></pre>\n\n<p>Thank you all for the help.</p>\n"}], "owner": {"reputation": 21, "user_id": 5298950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/972b38e05547f757a0d0446b1e499edf?s=128&d=identicon&r=PG&f=1", "display_name": "knytshade", "link": "https://stackoverflow.com/users/5298950/knytshade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 37493111, "answer_count": 2, "score": 2, "last_activity_date": 1516760603, "creation_date": 1464310075, "last_edit_date": 1516760603, "question_id": 37473148, "link": "https://stackoverflow.com/questions/37473148/perl-use-of-uninitialized-value-in-addition-when-all-values-are-initialized", "title": "Perl Use of uninitialized value in addition when all values are initialized", "body": "<p>I am attempting to write a script that calculates the order parameter for several carbon to hydrogen bonds and outputs those values. The math is trivial but I am getting a \"Use of uninitialized value in addition\" error when I attempt to average the values at the end. \nI am well aware of how common and easily fixed this error is but I have checked all values given, there is a value for all 9212 values ( I checked by printing each, putting this into an excel document and searching for empty cells). I am at a loss and I am not sure how to further debug.</p>\n\n<p>My script takes an input file, goes line by line, takes the x,y,z coords if certain strings are present, does math on these coords (finds the angle between two vectors and the z-axis), should be averaging each $integer section together (so average of all 2's etc). It does this for 3 segments (2-8, 9-10, and 11-18), saves these to two arrays (@theta_values and @theta2_values) and finally it should average each \"integer\" together to find the average angle between the vector and the z-axis. \nIn total there should be 34 values output, which does happen but each value has a \"Use of uninitialized value in addition (+) at angle_checker_v3.pl line 334,  line 34303.\" error, and all averages other than the first are too small.</p>\n\n<p>For reference, line 334 is where I average and line 34303 is the last line of the file. </p>\n\n<p>Some sample data would be:</p>\n\n<pre><code>ATOM   2199  C22 POPC    1      -9.427  11.863  11.706  1.00  0.00      MEMB\nATOM   2200  H2R POPC    1     -10.347  11.662  12.293  1.00  0.00      MEMB\nATOM   2201  H2S POPC    1      -8.968  10.895  11.443  1.00  0.00      MEMB\nATOM   2211  C23 POPC    1      -9.801  12.641  10.423  1.00  0.00      MEMB\nATOM   2212  H3R POPC    1     -10.136  13.667  10.696  1.00  0.00      MEMB\nATOM   2213  H3S POPC    1     -10.658  12.124   9.934  1.00  0.00      MEMB\nATOM   2214  C24 POPC    1      -8.663  12.751   9.396  1.00  0.00      MEMB\nATOM   2215  H4R POPC    1      -7.763  13.166   9.894  1.00  0.00      MEMB\nATOM   2216  H4S POPC    1      -8.961  13.479   8.607  1.00  0.00      MEMB\n</code></pre>\n\n<p>*I intentionally skipped 10 atoms that did not matter above</p>\n\n<p>In order the columns denote: substance (not relevant), atom number, type of atom, residue number/molecule type, residue number, x-coord, y-coord, z-coord, alpha number (not relevant), beta column (not relevant), and overall molecule type. </p>\n\n<p>TLDR;\nMy averaging script:</p>\n\n<pre><code>#Averaging theta values\nfor (my $t=2; ($t &lt;= 18); $t++) {\n    for (my $j=1; ($j &lt;= $lipid_num); $j++) {\n            $sum[$t]= $theta_values[$t][$j] + $sum[$t];\n    }\n    $average[$t]= $sum[$t] / $lipid_num;\n    print \"Average theta for carbon $t is $average[$t]\\n\";\n}\n\n#Averaging Theta2 values\nfor (my $q=2; ($q &lt;= 18); $q++) {\n        for (my $b=1; ($b &lt;= $lipid_num); $b++) {\n                $sum2[$q]= $theta2_values[$q][$b] + $sum2[$q];\n        }\n        $average2[$q]= $sum2[$q] / $lipid_num;\n        print \"Average theta2 for carbon $q is $average2[$q]\\n\";\n}\n</code></pre>\n\n<p>Does not find values at all positions even though I have verified that there are values at all positions.</p>\n\n<p>This is the full script, I realize how large it is.</p>\n\n<pre><code>        #Usage:                                                                      #\n# perl angle_checker.pl [granuphilin_prot-memb_system].pdb \n#!/usr/bin/perl \n\nuse strict;\nuse warnings;\nuse Math::Trig;\n\nmy $inputfile = $ARGV[0];\n\nopen (INPUTFILE, \"&lt;\", $inputfile) or die $!;\n\nmy @data = &lt;INPUTFILE&gt;;\n\n#Quick Change Variables\n\nmy $lipid_num = 256;\n\n#Library\nmy @sum;\nmy @average;\nmy @sum2;\nmy @average2;\nmy @x1;\nmy @y1;\nmy @z1;\nmy $R = 'R';\nmy $S = 'S';\nmy $one = '1';\nmy @theta_values;\nmy @theta2_values;\nmy @vectorCtoHR;\nmy @vectorCtoHS;\nmy @normal;\n\n#Start for lipid count\nfor (my $lipid=1; ($lipid &lt;= $lipid_num); $lipid++) {\n    # First Carbon/Integer counter\n    for (my $integer= 2; ($integer &lt;= 8); $integer++) {\n            #Split line 1\n            for (my $line = 0; $line &lt;= $#data; ++$line) {\n                    #Search 1.1\n                    if(($data[$line] =~ m/\\s+C2$integer\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                            chomp $data[$line];\n                            my @splitline = (split /\\s+/, $data[$line]);\n                            foreach (@splitline) {\n                                    $x1[0]= $splitline[5];\n                                    $y1[0]= $splitline[6];\n                                    $z1[0]= $splitline[7];\n                            }\n                    }\n                    #Search 1.2\n                        if(($data[$line] =~ m/\\s+H$integer$R\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                                my @splitline = (split /\\s+/, $data[$line]);\n                            foreach (@splitline) {\n                                    $x1[1]= $splitline[5];\n                                        $y1[1]= $splitline[6];\n                                        $z1[1]= $splitline[7];\n                            }\n                    }\n                    #Search 1.3\n                        if(($data[$line] =~ m/\\s+H$integer$S\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                                my @splitline = (split /\\s+/, $data[$line]);\n                            foreach (@splitline) {\n                                    $x1[2]= $splitline[5];\n                                        $y1[2]= $splitline[6];\n                                        $z1[2]= $splitline[7];\n                            }\n                    }\n            }\n\n\n\n    #Z-axis\n    $normal[0]= 0;\n    $normal[1]= 0;\n    $normal[2]= 100;\n\n    #Vector 1\n    $vectorCtoHR[0]=($x1[0] - ($x1[1]));\n    $vectorCtoHR[1]=($y1[0] - ($y1[1]));\n    $vectorCtoHR[2]=($z1[0] - ($z1[1]));\n\n    #Vector 2\n    $vectorCtoHS[0]=($x1[0] - ($x1[2]));\n        $vectorCtoHS[1]=($y1[0] - ($y1[2]));\n        $vectorCtoHS[2]=($z1[0] - ($z1[2]));\n\n    #First Angle\n\n    my $x1mag = sqrt(($vectorCtoHS[0]**2)+($vectorCtoHS[1]**2)+($vectorCtoHS[2]**2));\n    my $x2mag = sqrt(($normal[0]**2)+($normal[1]**2)+($normal[2]**2));\n\n    #Dot product \n    my $dotproduct = (($vectorCtoHS[0]*$normal[0])+($vectorCtoHS[1]*$normal[1])+($vectorCtoHS[2]*$normal[2]));\n\n    my $theta = acos($dotproduct/($x1mag*$x2mag));\n    $theta_values[$integer][$lipid]= $theta;\n\n    # Second Angle  \n        my $x3mag = sqrt(($vectorCtoHR[0]**2)+($vectorCtoHR[1]**2)+($vectorCtoHR[2]**2));\n\n        my $dotproduct2 = (($vectorCtoHR[0]*$normal[0])+($vectorCtoHR[1]*$normal[1])+($vectorCtoHR[2]*$normal[2]));\n\n        my $theta2 = acos($dotproduct2/($x3mag*$x2mag));\n        $theta2_values[$integer][$lipid]= $theta2;\n    }\n    #Section 2 Search These only have one hydrogen to search for, hence 1 less search\n    for (my $integer = 9; ($integer &lt;= 10); $integer++) {\n                for (my $line = 0; $line &lt;= $#data; ++$line) {\n                        if(($data[$line] =~ m/\\s+C2$integer\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                                chomp $data[$line];\n                                my @splitline = (split /\\s+/, $data[$line]);\n                                foreach (@splitline) {\n                                        $x1[0]= $splitline[5];\n                                        $y1[0]= $splitline[6];\n                                        $z1[0]= $splitline[7];\n                                }\n                        }\n                    if(($data[$line] =~ m/\\s+H$integer$one\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                                my @splitline = (split /\\s+/, $data[$line]);\n                                foreach (@splitline) {\n                                        $x1[1]= $splitline[5];\n                                        $y1[1]= $splitline[6];\n                                        $z1[1]= $splitline[7];\n                                }\n                        }\n                }\n    $normal[0]= 0;\n    $normal[1]= 0;\n    $normal[2]= 100;\n    $vectorCtoHR[0]=($x1[0] - ($x1[1]));\n    $vectorCtoHR[1]=($y1[0] - ($y1[1]));\n    $vectorCtoHR[2]=($z1[0] - ($z1[1]));\n\n    my $x1mag = sqrt(($vectorCtoHR[0]**2)+($vectorCtoHR[1]**2)+($vectorCtoHR[2]**2));\n    my $x2mag = sqrt(($normal[0]**2)+($normal[1]**2)+($normal[2]**2));\n\n    #Dot product \n    my $dotproduct = (($vectorCtoHR[0]*$normal[0])+($vectorCtoHR[1]*$normal[1])+($vectorCtoHR[2]*$normal[2]));\n\n    my $theta = acos($dotproduct/($x1mag*$x2mag));\n    $theta_values[$integer][$lipid]= $theta;\n    $theta2_values[$integer][$lipid]= $theta;\n    }\n\n    #Effectively the same as section 1\n    for (my $integer= 11; ($integer &lt;= 18); $integer++) {\n            for (my $line = 0; $line &lt;= $#data; ++$line) {\n                    if(($data[$line] =~ m/\\s+C2$integer\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                            chomp $data[$line];\n                            my @splitline = (split /\\s+/, $data[$line]);\n                            foreach (@splitline) {\n                                    $x1[0]= $splitline[5];\n                                    $y1[0]= $splitline[6];\n                                    $z1[0]= $splitline[7];\n                            }\n                    }\n                        if(($data[$line] =~ m/\\s+H$integer$R\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                                my @splitline = (split /\\s+/, $data[$line]);\n                            foreach (@splitline) {\n                                    $x1[1]= $splitline[5];\n                                        $y1[1]= $splitline[6];\n                                        $z1[1]= $splitline[7];\n                            }\n                    }\n                        if(($data[$line] =~ m/\\s+H$integer$S\\s+/)&amp;&amp;($data[$line] =~ m/\\s+$lipid\\s+/)&amp;&amp;($data[$line] =~ m/\\s+POPC\\s+/)) {\n                                my @splitline = (split /\\s+/, $data[$line]);\n                            foreach (@splitline) {\n                                    $x1[2]= $splitline[5];\n                                        $y1[2]= $splitline[6];\n                                        $z1[2]= $splitline[7];\n                            }\n                    }\n            }\n    $normal[0]= 0;\n    $normal[1]= 0;\n    $normal[2]= 100;\n\n    $vectorCtoHR[0]=($x1[0] - ($x1[1]));\n    $vectorCtoHR[1]=($y1[0] - ($y1[1]));\n    $vectorCtoHR[2]=($z1[0] - ($z1[1]));\n\n    $vectorCtoHS[0]=($x1[0] - ($x1[2]));\n        $vectorCtoHS[1]=($y1[0] - ($y1[2]));\n        $vectorCtoHS[2]=($z1[0] - ($z1[2]));\n\n    #First Angle\n\n    my $x1mag = sqrt(($vectorCtoHS[0]**2)+($vectorCtoHS[1]**2)+($vectorCtoHS[2]**2));\n    my $x2mag = sqrt(($normal[0]**2)+($normal[1]**2)+($normal[2]**2));\n\n    #Dot product \n    my $dotproduct = (($vectorCtoHS[0]*$normal[0])+($vectorCtoHS[1]*$normal[1])+($vectorCtoHS[2]*$normal[2]));\n\n    my $theta = acos($dotproduct/($x1mag*$x2mag));\n    $theta_values[$integer][$lipid]= $theta;\n    }\nprint \"done with $lipid\\n\";\n#End of lipid search\n}\n#Averaging starts now\n\n#Averaging theta values\nfor (my $t=2; ($t &lt;= 18); $t++) {\n    for (my $j=1; ($j &lt;= $lipid_num); $j++) {\n            $sum[$t]= $theta_values[$t][$j] + $sum[$t];\n    }\n    $average[$t]= $sum[$t] / $lipid_num;\n    print \"Average theta for carbon $t is $average[$t]\\n\";\n}\n\n#Averaging Theta2 values\nfor (my $q=2; ($q &lt;= 18); $q++) {\n        for (my $b=1; ($b &lt;= $lipid_num); $b++) {\n                $sum2[$q]= $theta2_values[$q][$b] + $sum2[$q];\n        }\n        $average2[$q]= $sum2[$q] / $lipid_num;\n        print \"Average theta2 for carbon $q is $average2[$q]\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1464313868, "post_id": 37473017, "comment_id": 62445611, "body": "For caller, your &quot;idiom&quot; seems laborous [and, more importantly, error prone]. How about replacing the ternary with a more straightforward helper function like: <code>sub defme { my(@arr);  push(@arr,$_[0],$_[1]) if ($_[1]);  @arr; }</code>? Then, you have <code>defme(&quot;bar&quot;,$bar)</code> instead of the ternary. Or, in constructor, do the <code>&#47;&#47;</code> or <code>&#47;&#47;=</code> as needed <i>before</i> calling <code>validated_list</code> since the first arg always points to a temp anyway?"}, {"owner": {"reputation": 3055, "user_id": 2865186, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ehbWg.jpg?s=128&g=1", "display_name": "MattSizzle", "link": "https://stackoverflow.com/users/2865186/mattsizzle"}, "reply_to_user": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1464314541, "post_id": 37473017, "comment_id": 62445776, "body": "@CraigEstey can you explain how it is more error prone and laborious (I was mainly concerned with the readiblity), and how your solution works because I am not seeing how it is applicable ?"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 0, "creation_date": 1464317787, "post_id": 37473017, "comment_id": 62446542, "body": "My function, AFAICT, does what the ternary does--produces an array that is either filled with <code>($sym,$val)</code> or empty. And, IMO, <code>defme(&quot;bar&quot;,$bar)</code> is more readable than the [longer] <code>$bar ? (bar =&gt; $bar) : ()</code>. The fnc call is shorter and simpler than the ternary syntax. And, if needed, you can add debug printfs to the fnc. But, it is probably better to have all callers just do <code>(bar =&gt; $var)</code> and let <code>foo</code> deal with it rather than put the responsibility on the callers. Even if you still want the ternary, <code>foo</code> still needs to defensively check this anyway. So, if check why not fix as well?"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "edited": false, "score": 1, "creation_date": 1464318446, "post_id": 37473017, "comment_id": 62446720, "body": "It looks like <code>foo</code> breaks if it gets <code>bar =&gt; $bar</code> if <code>$bar</code> is undef. But, as I said, having every caller do the check (via ternary)? I&#39;d just pass the whatever and have <code>foo</code> strip the undef values from the hash: <code>@sym = keys(%$hash); for $sym (@sym) { delete{$hash-&gt;{$sym}} unless (defined($hash-&gt;{$sym})); }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3055, "user_id": 2865186, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ehbWg.jpg?s=128&g=1", "display_name": "MattSizzle", "link": "https://stackoverflow.com/users/2865186/mattsizzle"}, "edited": false, "score": 0, "creation_date": 1464361497, "post_id": 37479738, "comment_id": 62469922, "body": "The Moose packages are a black box for my question"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 3055, "user_id": 2865186, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ehbWg.jpg?s=128&g=1", "display_name": "MattSizzle", "link": "https://stackoverflow.com/users/2865186/mattsizzle"}, "edited": false, "score": 0, "creation_date": 1464366782, "post_id": 37479738, "comment_id": 62473130, "body": "@MattSizzle I am not sure what you mean by <code>black box</code>. To me,  a <code>black box</code> would mean that you cannot modify anything inside. You can only communicate through the API. Could you explain what you have in mind?"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1464341059, "last_edit_date": 1495540799, "creation_date": 1464341059, "answer_id": 37479738, "question_id": 37473017, "link": "https://stackoverflow.com/questions/37473017/conditional-parameter-passing-with-moosexparamsvalidate/37479738#37479738", "title": "Conditional parameter passing with MooseX::Params::Validate", "body": "<p>As <a href=\"https://stackoverflow.com/users/5382650/craig-estey\">Craig Estey</a> said in his comment, I think it would make sense just to pass in the options to your function and not having to care whether they are undefined or not. Instead, strip undefined hash keys as a preprocessing step before calling <code>MooseX::Params::Validate::validated_list()</code>. For example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $bar;\n\nFoo-&gt;foo({\n    foo =&gt; 'I, Foo need a VERY flexible interface. ',\n    bar =&gt; $bar\n});\n\npackage Foo;\n\nuse Moose;\nuse MooseX::Params::Validate ();\n\nsub foo {\n    my $self = shift;\n\n    my ( $foo, $bar ) = validated_list(\n      \\@_,\n      foo =&gt; { isa =&gt; 'Str' },\n      bar =&gt; { isa =&gt; 'Str', optional =&gt; 1 },\n    );\n\n    $bar //= 'undef';  # Just to avoid printing warning: Use of uninitialized value \n    print $foo . $bar . \"\\n\";\n}\n\nsub validated_list {\n    for (keys %{ $_[0]-&gt;[0] } ) {\n        delete $_[0]-&gt;[0]{$_} if !defined $_[0]-&gt;[0]{$_};\n    }\n    return MooseX::Params::Validate::validated_list( @_ );\n}\n1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19246, "user_id": 1160036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4AkVQ.jpg?s=128&g=1", "display_name": "Despertar", "link": "https://stackoverflow.com/users/1160036/despertar"}, "is_accepted": false, "score": 0, "last_activity_date": 1464366889, "creation_date": 1464366889, "answer_id": 37488436, "question_id": 37473017, "link": "https://stackoverflow.com/questions/37473017/conditional-parameter-passing-with-moosexparamsvalidate/37488436#37488436", "title": "Conditional parameter passing with MooseX::Params::Validate", "body": "<p>The <code>Maybe</code> type might be what you are looking for. Normally MooseX::Params::Validate does <em>not</em> allow undef to be passed for things liked Str, forcing you to use a ternary to conditionally pass or not pass it. An optional variable will be undef anyways in the subroutine, but with Maybe it makes it easier for the caller to just pass through the variables they have (which may or not be defined).</p>\n\n<pre><code>sub foo {\n    my $self = shift;\n    my ( $foo, $bar ) = validated_list(\n      \\@_,\n      foo =&gt; { isa =&gt; 'Str' },\n      bar =&gt; { isa =&gt; 'Maybe[Str]', optional =&gt; 1 }\n    );\n\n    print $foo . $bar . \"\\n\";\n}\n</code></pre>\n\n<p>By using Maybe[Str], it will now accept the undef value and you can handle this undef how you see fit in your subroutine.</p>\n\n<pre><code>Maybe[`a] accepts either `a or undef.\n</code></pre>\n\n<p><a href=\"http://search.cpan.org/dist/Moose-2.0604/lib/Moose/Manual/Types.pod\" rel=\"nofollow\">http://search.cpan.org/dist/Moose-2.0604/lib/Moose/Manual/Types.pod</a></p>\n"}], "owner": {"reputation": 3055, "user_id": 2865186, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ehbWg.jpg?s=128&g=1", "display_name": "MattSizzle", "link": "https://stackoverflow.com/users/2865186/mattsizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1464366889, "creation_date": 1464308823, "last_edit_date": 1464335008, "question_id": 37473017, "link": "https://stackoverflow.com/questions/37473017/conditional-parameter-passing-with-moosexparamsvalidate", "title": "Conditional parameter passing with MooseX::Params::Validate", "body": "<p>I work alot with <code>Moose</code> packages in Perl that use <code>MooseX::Params::Validate</code> to define an interface. These interfaces tend to be rather flexible and allow for multiple optional parameters. Unfortunately this is Perl so the return types will vary based on the optional parameters and there is a benefit to passing the optional parameters in most cases when defined in the caller. Various methods exported from <code>MooseX::Params::Validate</code> are used in this codebase so due to the various ways that package will be handled <code>undef</code> parameters I can not passing it will be graceful in anyway. I tend to use the following method, but it comes up a lot in reviews, and I would like to ask if there is another way to achieve this flexibility. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $bar;\n\nFoo-&gt;foo({\n    foo =&gt; 'I, Foo need a VERY flexible interface. ',\n    $bar ? ( bar =&gt; $bar ) : ()\n});\n\n$bar = \"Very flexible...\";\n\nFoo-&gt;foo({\n    foo =&gt; 'I, Foo need a VERY flexible interface. ',\n    $bar ? ( bar =&gt; $bar ) : ()\n});\n\npackage Foo;\n\nuse Moose;\nuse MooseX::Params::Validate;\n\nsub foo {\n    my $self = shift;\n    my ( $foo, $bar ) = validated_list(\n      \\@_,\n      foo =&gt; { isa =&gt; 'Str' },\n      bar =&gt; { isa =&gt; 'Str', optional =&gt; 1 },\n    );\n\n    print $foo . $bar . \"\\n\";\n}\n\n1;\n</code></pre>\n\n<p>The ternary operator to check the variables <code>defined</code> state is what always leaves me wanting a <code>//</code> type parameter option, but I can't see anywhere this type of operation is supported.</p>\n\n<p>Answers for the <code>caller</code> is preferred as I don't want to (won't) change the interface of the various packages, but I am open to answers showing methods of handling <code>undef</code> parameters values being passed as well.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 2, "creation_date": 1464295248, "post_id": 37470533, "comment_id": 62439823, "body": "You probably need to <code>chomp</code> your file name. And you can ditch the &quot;C style&quot; for loop in favor of <code>for my $filename (@list)</code>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1464295687, "post_id": 37470533, "comment_id": 62440051, "body": "As long as you&#39;re using Path::Tiny, you might as well use <a href=\"https://metacpan.org/pod/Path::Tiny#lines-lines_raw-lines_utf8\" rel=\"nofollow noreferrer\">Path::Tiny-&gt;lines</a> to read in the list."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1464296387, "post_id": 37470533, "comment_id": 62440409, "body": "Could you please post the contents of file list.txt?"}, {"owner": {"reputation": 11, "user_id": 6388086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724e3aee30651e28dc841a62fb92029c?s=128&d=identicon&r=PG&f=1", "display_name": "ykjang322", "link": "https://stackoverflow.com/users/6388086/ykjang322"}, "reply_to_user": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 0, "creation_date": 1464640360, "post_id": 37470533, "comment_id": 62556899, "body": "@squiguy You are right. The use of <code>chomp</code> solves my problem. Thank you for your help."}], "answers": [{"comments": [{"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1464311979, "post_id": 37470901, "comment_id": 62445196, "body": "When I ran it, I got the same error format - with brackets and newline.  Killer answer - spot on.  The only thing I would have added is a test of $path-&gt;exists prior to the attempted reading."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1464325099, "post_id": 37470901, "comment_id": 62448399, "body": "@Marty No need, Path::Tiny will throw an exception if the file does not exist. And checking if it does exist doesn&#39;t mean it can be opened for reading, you&#39;d need to check <code>-r</code>, but again it&#39;s redundant with Path::Tiny. It&#39;s also non-atomic; just because it existed/was readable when you looked doesn&#39;t mean it will still be so when you try to open it. The best way to check if a file can be opened for reading is to open it for reading."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464445094, "post_id": 37470901, "comment_id": 62495048, "body": "It&#39;s important to note that <code>slurp_utf8</code> also opens the file with a <code>:raw</code> layer. In my opinion this is inappropriate in the light of Perl&#39;s text IO conventions, and will cause data read from a file originating on Windows to retain the CR characters that Perl normally removes on input and restores on output"}, {"owner": {"reputation": 11, "user_id": 6388086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724e3aee30651e28dc841a62fb92029c?s=128&d=identicon&r=PG&f=1", "display_name": "ykjang322", "link": "https://stackoverflow.com/users/6388086/ykjang322"}, "edited": false, "score": 0, "creation_date": 1464640778, "post_id": 37470901, "comment_id": 62557035, "body": "@Schwern Thank you for your detailed explanations. Yes, you are absolutely right. I got the exact same message what you think. Just tried to change the file name. Now I understand that is not a good idea when I ask debugging. So the use of <code>chomp</code> solves my problem basically. For the part of removing C-style for loop, in fact I got this message: <code>Can&#39;t use string &lt;&quot;Path::Tiny&quot;&gt; as an ARRAY ref while &quot;strict refs&quot; in use at c:&#47;Dwimperl&#47;perl&#47;site&#47;lib&#47;Path&#47;Tiny.pm line 1024.</code> I am wondering if I did something wrong in my program applying your suggestion."}, {"owner": {"reputation": 11, "user_id": 6388086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724e3aee30651e28dc841a62fb92029c?s=128&d=identicon&r=PG&f=1", "display_name": "ykjang322", "link": "https://stackoverflow.com/users/6388086/ykjang322"}, "edited": false, "score": 0, "creation_date": 1464640974, "post_id": 37470901, "comment_id": 62557109, "body": "@Schwern I am pretty new in this, so I apologize if I am asking too simple question again. But I don&#39;t understand what this ARRAY ref in the message. I appreciate all your help. My code is as follows: <code>use strict; use 5.010; use warnings; use Path::Tiny qw(path); # http:&#47;&#47;perlmaven.com&#47;use-path-tiny-to-read-and-write-file  Path::Tiny-&gt;lines;  my $file = &quot;list.txt&quot;; my @filenames = path($file)-&gt;lines_utf8; chomp @filenames;  for my $filename (@filenames) { \tmy $content = path($filename)-&gt;slurp_utf8; \tsay $content; }</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 11, "user_id": 6388086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724e3aee30651e28dc841a62fb92029c?s=128&d=identicon&r=PG&f=1", "display_name": "ykjang322", "link": "https://stackoverflow.com/users/6388086/ykjang322"}, "edited": false, "score": 0, "creation_date": 1464643980, "post_id": 37470901, "comment_id": 62558048, "body": "@ykjang322 <code>Path::Tiny-&gt;lines</code> didn&#39;t mean to literally use that code. It meant to use the <code>lines</code> method of <code>Path::Tiny</code> on a <code>Path::Tiny</code> object as illustrated in the following line: <code>path($file)-&gt;lines_utf8;</code>."}, {"owner": {"reputation": 11, "user_id": 6388086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724e3aee30651e28dc841a62fb92029c?s=128&d=identicon&r=PG&f=1", "display_name": "ykjang322", "link": "https://stackoverflow.com/users/6388086/ykjang322"}, "edited": false, "score": 1, "creation_date": 1464707020, "post_id": 37470901, "comment_id": 62587070, "body": "@Schwern I get it. Thank you!"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1464297452, "last_edit_date": 1464297452, "creation_date": 1464296436, "answer_id": 37470901, "question_id": 37470533, "link": "https://stackoverflow.com/questions/37470533/error-in-reading-txt-files-using-pathtiny-in-perl/37470901#37470901", "title": "Error in reading txt files using Path::Tiny in Perl", "body": "<p>I'm not sure how you got <code>Invalid argument</code> (<a href=\"http://pubs.opengroup.org/onlinepubs/009695399/functions/open.html\" rel=\"nofollow\">EINVAL</a>) as an error, but it's clear from the error message the lines in the file contain things like <code>[thefirstfilenames.txt]</code> with the brackets. That's probably not a valid filename, you'll need to remove them either from the file or in the program.</p>\n\n<p>Buuut... I suspect you didn't show us the real error message, really important when asking for debugging help. I suspect what you got instead is something like this, newline and all.</p>\n\n<pre><code>Error open &lt;&lt;:raw:encoding&lt;UTF-8&gt;&gt; on 'somefilename.txt\n': Invalid argument at Test2.PL line 15.\n</code></pre>\n\n<p>When you read from a file, each line still has a newline on it. You need to remove it. This is generally done with <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code></a> and can be done on a whole list at once.</p>\n\n<hr>\n\n<p>There's other things that can be done to improve the code. Since you're already using Path::Tiny, replace the start of the program with a call to <a href=\"https://metacpan.org/pod/Path::Tiny#lines-lines_raw-lines_utf8\" rel=\"nofollow\"><code>Path::Tiny-&gt;lines</code></a>. And call it what's in it: <code>@filenames</code>.</p>\n\n<pre><code>my @filenames = path($file)-&gt;lines_utf8;\nchomp @filenames;\n</code></pre>\n\n<p>Most importantly to get rid of the C-style for loop and <a href=\"http://perlmeme.org/howtos/syntax/foreach.html\" rel=\"nofollow\">let Perl iterate through the <code>@filenames</code></a>.</p>\n\n<pre><code>for my $filename (@filenames) {\n    my $content = path($filename)-&gt;slurp_utf8;\n    say $content;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1464297034, "post_id": 37471001, "comment_id": 62440761, "body": "Path::Tiny is <i>not</i> the problem. How did you conclude it&#39;s introducing extra newlines? Going back to weird Perl I/O idioms is regressing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1464444890, "post_id": 37471001, "comment_id": 62494993, "body": "@Schwern: I said nowhere that the module was the problem. Now please keep your fury more contained and your <code>Path::Tiny</code> fan mail just between you and the author"}, {"owner": {"reputation": 11, "user_id": 6388086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724e3aee30651e28dc841a62fb92029c?s=128&d=identicon&r=PG&f=1", "display_name": "ykjang322", "link": "https://stackoverflow.com/users/6388086/ykjang322"}, "edited": false, "score": 0, "creation_date": 1464641516, "post_id": 37471001, "comment_id": 62557315, "body": "@Borodin Thank you for your help. I think I need to study perl a bit more to understand your answer. The second program you showed works perfect for me, but the first program does not. I assume that is because I did not use the square bracket for the file name in fact. Thank you!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1464444847, "last_edit_date": 1464444847, "creation_date": 1464296708, "answer_id": 37471001, "question_id": 37470533, "link": "https://stackoverflow.com/questions/37470533/error-in-reading-txt-files-using-pathtiny-in-perl/37471001#37471001", "title": "Error in reading txt files using Path::Tiny in Perl", "body": "<p>The main problem is that you don't remove the unwanted characters from the ends of the file names read from <code>list.txt</code>. That means every values of <code>$filename</code> will still be contained in square brackets <code>[ ... ]</code> and have an unwanted <code>\"\\n\"</code> appended to it that you should remove</p>\n\n<p>Here's a rewrite of your own code that fixes this. It also corrects some old-fashioned technniques, such as using <em>lexical file handles</em> with the <em>three-parameter form of <code>open</code></em>, and iterating over the <em>contents</em> of <code>@list</code> instead of its indexes</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Path::Tiny 'path';\n\nmy $file = 'list.txt';\n\nmy @files = do {\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n    map { / \\[ ( [^\\[\\]]+ ) \\] /x } &lt;$fh&gt;;\n};\n\nfor my $file ( @files) {\n    my $content = path($file)-&gt;slurp_utf8;\n    print $content, \"\\n\";\n}\n</code></pre>\n\n<p>This will work for you, but in my opinion <code>Path::Tiny</code> is unnecessary here, and <code>slurp_utf8</code> retains the CR character in Windows line endings which is not standard Perl behaviour and probably not what is wanted. A slurp is simple to do using a <code>do</code> block that opens the file and localizes <code>$/</code>. It has the advantage that everything is done in standard Perl, and anyone reading it doesn't have to guess at what <code>path($file)-&gt;slurp_utf8</code> might do (which clearly isn't a straightforward slurp as you might expect). Like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file = 'list.txt';\n\nmy @files = do {\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n    &lt;$fh&gt;;\n};\nchomp @files;\n\nfor my $file ( @files) {\n\n    my $content = do {\n        open my $fh, '&lt;:encoding(utf-8)', $file or die qq{Unable to open \"$file\" for input: $!};\n        local $/;\n        &lt;$fh&gt;;\n    };\n\n    print $content, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6388086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724e3aee30651e28dc841a62fb92029c?s=128&d=identicon&r=PG&f=1", "display_name": "ykjang322", "link": "https://stackoverflow.com/users/6388086/ykjang322"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 1, "accepted_answer_id": 37470901, "answer_count": 2, "score": 1, "last_activity_date": 1464444847, "creation_date": 1464295050, "last_edit_date": 1464296067, "question_id": 37470533, "link": "https://stackoverflow.com/questions/37470533/error-in-reading-txt-files-using-pathtiny-in-perl", "title": "Error in reading txt files using Path::Tiny in Perl", "body": "\n\n<p>I want to use the <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow\"><code>Path::Tiny</code></a> module to read some text files.</p>\n\n<p>I created the list of file names I wanted to read in file <code>list.txt</code>, but when I run my code I get this error message</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Error open &lt;&lt;:raw:encoding&lt;UTF-8&gt;&gt; on '[thefirstfilenames.txt]': Invalid argument at Test2.PL line 15.\n</code></pre>\n</blockquote>\n\n<p>My code is as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse 5.010;\nuse warnings;\n\nuse Path::Tiny qw(path); # http://perlmaven.com/use-path-tiny-to-read-and-write-file\n\nmy $file = \"list.txt\";\nopen (FH, \"&lt; $file\") or die \"Can't open $file for read: $!\";\nmy @list = &lt;FH&gt;;\nclose FH or die \"Cannot close $file: $!\"; \n\nmy $size = @list;\n\nfor ( my $i = 0; $i &lt; $size; $i++ ) {\n    my $filename = \"$list[$i]\";\n    my $content = path($filename)-&gt;slurp_utf8;\n    print \"$content\\n\";\n}\n</code></pre>\n\n<p>Is there any solution to this? It works fine when I put the name of the file one by one manually.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1464295463, "post_id": 37470491, "comment_id": 62439954, "body": "<code>duplicates all lines starting with \\txt</code> = <code>s&#47;^(\\\\txt )(.*)&#47;$1$2\\n\\\\xtx $2&#47;mg</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1464295859, "post_id": 37470491, "comment_id": 62440133, "body": "You&#39;d need the <code>s&#47;&#47;&#47;eg</code> eval form to do this. And preserve/shrinking formatting via spaces will be a little tedious, but doable."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1464296122, "post_id": 37470491, "comment_id": 62440263, "body": "Could you provide real example string, because I don&#39;t think your description is very clear."}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1464330173, "post_id": 37470491, "comment_id": 62450130, "body": "@CasimiretHippolyte I just edited the question with some real data."}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1464329338, "post_id": 37470676, "comment_id": 62449777, "body": "Thank you for looking into this!  But this script duplicates all other lines too.  And I also couldn&#39;t get it to remove the symbol characters."}], "tags": [], "owner": {"reputation": 33, "user_id": 6381900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7b8f7151f2094ca8634992f44c01e54?s=128&d=identicon&r=PG&f=1", "display_name": "Zach A.", "link": "https://stackoverflow.com/users/6381900/zach-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1464295621, "creation_date": 1464295621, "answer_id": 37470676, "question_id": 37470491, "link": "https://stackoverflow.com/questions/37470491/perl-script-search-replace-and-transform-results/37470676#37470676", "title": "Perl script search/replace and transform results", "body": "<p>You can refactor it a bit, so you don't have to put it all into one regex:</p>\n\n<pre><code>use strict;\nuse warnings;    \n$^I = '.bak';\nwhile (&lt;&gt;) {\n    print; \n    if(/^\\\\txt/) {\n        s/^\\\\txt//; # remove \\txt\n        s/[\\[\\]\\(\\)//g; # remove all unwanted characters\n        print \"\\xtx $_\";\n    }\n    print; \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1464329551, "post_id": 37471883, "comment_id": 62449874, "body": "Thank you!, this looks like it&#39;s going to do it!   Would you mind explaining how I can get that to <code>print</code> the output to the original file (as in the original example?) So that I can say <code>perl script.pl myfile.txt</code>   Sorry, if this should be obvious, but I&#39;m a total beginner at perl :/"}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1464342094, "post_id": 37471883, "comment_id": 62457087, "body": "&quot;... he who seeks shall find ...&quot; \u2013 I think I figured it out ... I put the code that I&#39;ve ended up using below, when you get a chance would you mind checking real quick if I made any big mistakes?  (it does produce the correct output so I guess everything&#39;s fine)   Thank you so much for your help!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 2, "last_activity_date": 1464300736, "creation_date": 1464300736, "answer_id": 37471883, "question_id": 37470491, "link": "https://stackoverflow.com/questions/37470491/perl-script-search-replace-and-transform-results/37471883#37471883", "title": "Perl script search/replace and transform results", "body": "<p>You could try this conversion  </p>\n\n<p>Perl  </p>\n\n<pre><code>use strict;\nuse warnings;\n\nbinmode (DATA, \":utf8\");\nbinmode (STDOUT, \":utf8\");\n\nwhile (&lt;DATA&gt;) {\n   s/^(\\\\txt )(.*)/GetConvetedLine($1,$2)/me;\n   print; \n}\n\nsub GetConvetedLine\n{\n    my ($txt, $body) = @_;\n    my $newbody = $body;\n    $newbody =~ s/[^\\pL\\s]+//g;\n    $newbody =~ s/\\s+/ /g;\n    $newbody = lc($newbody);\n    return $txt . $body . \"\\n\" . \"\\\\xtx \" . $newbody;\n}\n\n\n__DATA__    \n\\txt Text (.) with [ symbols and Num[bers (.2) and ch\u00e1ract\u1ebdrs with diacr\u00edtics\n</code></pre>\n\n<p>Output  </p>\n\n<pre><code>\\txt Text (.) with [ symbols and Num[bers (.2) and ch\u00e1ract\u1ebdrs with diacr\u00edtics\n\\xtx text with symbols and numbers and ch\u00e1ract\u1ebdrs with diacr\u00edtics\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1464374196, "post_id": 37480145, "comment_id": 62476819, "body": "Yea, it looks ok. You don&#39;t need the print in GetConvertedLine(), and I would use <code>$newbody =~ s&#47;\\s+&#47; &#47;g;</code> like the original. <code>\\R</code> means linebreak. Basically, there are never any linebreaks in $newbody, since that is the match from <code>(.*)</code> meaning match anything <i>except</i> linebreaks."}, {"owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "edited": false, "score": 0, "creation_date": 1464429708, "post_id": 37480145, "comment_id": 62490488, "body": "Thank you @sln. I had put the \\R because for some reason I would get some weird &quot;Windows&quot; line break characters at the end of the <code>$newbody</code> (probably due to some carriage returns from the original file) and then the next line (depending on the text editor) wasn&#39;t on the next line anymore.  \\R seemed to get rid of them.  But I now found a better solution which is searching for <code>s&#47; \\s+&#47; &#47;g;</code> (i.e., a space before <code>\\s+</code>). That would get rid of the problem."}], "tags": [], "owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1464425500, "last_edit_date": 1464425500, "creation_date": 1464342254, "answer_id": 37480145, "question_id": 37470491, "link": "https://stackoverflow.com/questions/37470491/perl-script-search-replace-and-transform-results/37480145#37480145", "title": "Perl script search/replace and transform results", "body": "<p>For the record, this is the (slightly modified) version of sln's answer above that I ended up using.  It can be invoked the same way that I used to invoke the original script with <code>perl script.pl myfile.txt</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse open qw(:std :utf8);\n$^I = '.bak'; # create a backup copy \n\nwhile (&lt;&gt;) {\n   s/^(\\\\txt )(.*)/GetConvetedLine($1,$2)/me;\n   print;\n}\n\nsub GetConvetedLine\n{\n    my ($txt, $body) = @_;\n    my $newbody = $body;\n    $newbody =~ s/[^\\pL\\s]+//g;\n    $newbody =~ s/ \\s+/ /g;\n    $newbody = lc($newbody);\n    return $txt . $body . \"\\n\" . \"\\\\xtx \" . $newbody;\n}\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 5814380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc5247afa42014a646feaf185d52c6e2?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/5814380/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 37471883, "answer_count": 3, "score": 1, "last_activity_date": 1464425500, "creation_date": 1464294891, "last_edit_date": 1464330115, "question_id": 37470491, "link": "https://stackoverflow.com/questions/37470491/perl-script-search-replace-and-transform-results", "title": "Perl script search/replace and transform results", "body": "\n\n<p>I am running a simple Perl script which duplicates all lines starting with <code>\\txt</code> to <code>\\xtx</code>. So far so good. </p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse warnings;    \n\n$^I = '.bak';\n\nwhile ( &lt;&gt; ) {\n\n   s/(\\\\txt )(.*)/$1$2\\n\\\\xtx $2/g;\n\n   print; \n}\n</code></pre>\n\n<p>Now I would like to \"scrub\" all the new lines starting with <code>\\\\xtx</code> and </p>\n\n<ol>\n<li><p>Delete all non-word characters: any character that is non-alphabetic but keeping characters with diacritics</p></li>\n<li><p>Convert everything to lower case.</p></li>\n</ol>\n\n<p>And that's where my rudimentary programming skills end</p>\n\n<p>My text file looks like this:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\txt Text (.) with [ symbols and Num[bers (.2) and ch\u00e1ract\u1ebdrs with diacr\u00edtics  \n\\abc More text ...\n</code></pre>\n\n<p>My script so far produces:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\txt Text (.) with [ symbols and Num[bers (.2) and ch\u00e1ract\u1ebdrs with diacr\u00edtics  \n\\xtx Text (.) with [ symbols and Num[bers (.2) and ch\u00e1ract\u1ebdrs with diacr\u00edtics  \n\\abc More text ...\n</code></pre>\n\n<p>And I would like to achieve:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\txt Text (.) with [ symbols and Num[bers (.2) and ch\u00e1ract\u1ebdrs with diacr\u00edtics  \n\\xtx text with symbols and numbers and ch\u00e1ract\u1ebdrs with diacr\u00edtics  \n\\abc More text ...\n</code></pre>\n\n<p>Any help much appreciated!</p>\n\n<p><em>EDIT:</em><br>\nHere's a real example string:  </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\_sh v3.0  400  Text3  \n\n\\ref 2013-05-01_08.36.14 001  \n\\txt Djawy (.) de os\u1ebd[ma (.2) EDJu::  \n\\fts Te equivocaste, saliste,   \n\\fte   \n\n\\ELANParticipant #TBGD  \n\\ELANBegin 00:00:05.367  \n\\ELANEnd 00:00:06.521  \n\\dt 26/May/2016  \n\n\\ref 2013-05-01_08.36.14 002  \n\\txt [A;;;;;;;;;;;;;   \n\\fts A;;;;;;;;;;;;;  \n\\fte   \n...\n</code></pre>\n\n<p>... everything should stay as is, except for the lines starting with \\txt ...</p>\n"}, {"tags": ["java", "c#", "perl", "web-services", "soap"], "comments": [{"owner": {"reputation": 989, "user_id": 2534346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PnMP0.jpg?s=128&g=1", "display_name": "Kamil Solecki", "link": "https://stackoverflow.com/users/2534346/kamil-solecki"}, "edited": false, "score": 0, "creation_date": 1464293998, "post_id": 37468992, "comment_id": 62439144, "body": "I&#39;m wondering if that could be the problem, but did you add a service reference or web reference? To add a web reference, go to &quot;add service reference&quot; and in more options there is a button &quot;add a web reference&quot;."}, {"owner": {"reputation": 395, "user_id": 5120812, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/869897239754598/picture?type=large", "display_name": "Feiiiiiiiiiiiii", "link": "https://stackoverflow.com/users/5120812/feiiiiiiiiiiiii"}, "reply_to_user": {"reputation": 989, "user_id": 2534346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PnMP0.jpg?s=128&g=1", "display_name": "Kamil Solecki", "link": "https://stackoverflow.com/users/2534346/kamil-solecki"}, "edited": false, "score": 0, "creation_date": 1464384078, "post_id": 37468992, "comment_id": 62481127, "body": "Thank you so much Kamil! That is exactly the issue. I didn&#39;t add web reference earlier. Now I added it and it works fine in C# now. I&#39;ll need to find a way to make it work in Perl or Python now."}, {"owner": {"reputation": 395, "user_id": 5120812, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/869897239754598/picture?type=large", "display_name": "Feiiiiiiiiiiiii", "link": "https://stackoverflow.com/users/5120812/feiiiiiiiiiiiii"}, "reply_to_user": {"reputation": 989, "user_id": 2534346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PnMP0.jpg?s=128&g=1", "display_name": "Kamil Solecki", "link": "https://stackoverflow.com/users/2534346/kamil-solecki"}, "edited": false, "score": 0, "creation_date": 1464384188, "post_id": 37468992, "comment_id": 62481176, "body": "Can you explain in more detail why adding the web reference would make it work? Thanks a lot!"}, {"owner": {"reputation": 989, "user_id": 2534346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PnMP0.jpg?s=128&g=1", "display_name": "Kamil Solecki", "link": "https://stackoverflow.com/users/2534346/kamil-solecki"}, "edited": false, "score": 0, "creation_date": 1464422296, "post_id": 37468992, "comment_id": 62488596, "body": "The difference is explained here: <a href=\"http://stackoverflow.com/questions/308454/difference-between-web-reference-and-service-reference\" title=\"difference between web reference and service reference\">stackoverflow.com/questions/308454/&hellip;</a> The reason why I suggested it is because I&#39;ve hit same problem few times ;) Glad I could help."}], "owner": {"reputation": 395, "user_id": 5120812, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/869897239754598/picture?type=large", "display_name": "Feiiiiiiiiiiiii", "link": "https://stackoverflow.com/users/5120812/feiiiiiiiiiiiii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1464292593, "creation_date": 1464289063, "last_edit_date": 1464292593, "question_id": 37468992, "link": "https://stackoverflow.com/questions/37468992/able-to-log-in-to-soap-web-service-on-browser-and-java-but-not-code-c-perl", "title": "Able to log in to SOAP web service on browser and Java but not code C#/Perl", "body": "\n\n<p>I'm working on a project to connect to a remote SOAP web service. The vendor provided the WSDL link and sample Java code for connection.</p>\n\n<p>In the Java code, the authentication is done via Apache HttpClient. I was able to pass the authentication step but not further (calling method).</p>\n\n<p>I got errors like</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.axis2.AxisFault: Unconnected sockets not implemented\nUnable to sendViaPost to url[my_http_endpoint]\n</code></pre>\n</blockquote>\n\n<p>Is this a firewall issue? If so, why would I be able to pass the authentication?</p>\n\n<p>I'm able to log in directly from the browser too, by entering username and password. But when I try to connect to the HTTP endpoint using Perl / C# / Python (basically anything other than Java, because we do not use Java here) I was unable to log in.</p>\n\n<p>With C# I added a Service Reference (GUI), entered the WSDL link, and it prompted for username &amp; password. I entered it, but then it kept asking for username &amp; password. I'm on the same box with my browser, so there shouldn't be any firewall issue.</p>\n\n<p>Are there any possible reasons? Is the C# missing libraries? What C# or Perl library would provide the same functionality as Java HttpClient?</p>\n"}, {"tags": ["perl", "cygwin", "cpan"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1464287511, "post_id": 37468510, "comment_id": 62435659, "body": "Are the environment variables <code>PERL_MB_OPT</code> and <code>PERL_MM_OPT</code> set?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1464288575, "post_id": 37468510, "comment_id": 62436254, "body": "Please add the output of <code>echo &#39;o conf&#39; | cpan | perl -ne&#39;print if &#47;^\\s*(make|mbuild)(pl)?_&#47;&#39;</code> and the output of <code>perl -le&#39;print &quot;$_=$ENV{$_}&quot; for grep &#47;^PERL&#47;, keys %ENV&#39;</code> to your question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1464290647, "post_id": 37468510, "comment_id": 62437392, "body": "You <i>might</i> have configured cpan to <a href=\"http://stackoverflow.com/q/32726324/176646\">bootstrap local::lib</a>, although in that case I would also expect to see the <code>PERL_LOCAL_LIB_ROOT</code> variable set."}, {"owner": {"reputation": 1466, "user_id": 2689696, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/303b6001169b9992aee46c054b3c49bc?s=128&d=identicon&r=PG&f=1", "display_name": "tejas", "link": "https://stackoverflow.com/users/2689696/tejas"}, "edited": false, "score": 0, "creation_date": 1464292212, "post_id": 37468510, "comment_id": 62438249, "body": "there is no <code>PERL_LOCAL_LIB_ROOT</code> in <code>.bashrc</code> and I ran <code>o conf init</code> and it didnt prompt me anything about <code>local::lib</code>. maybe i could add that manually in <code>.bashrc</code> and also update <code>PATH</code> variable to include <code>~&#47;perl5&#47;bin</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464330362, "post_id": 37468510, "comment_id": 62450209, "body": "(Use @username in replies to other people so they get notified. It&#39;s a fluke that I noticed you provided the requested information.)"}], "answers": [{"comments": [{"owner": {"reputation": 1466, "user_id": 2689696, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/303b6001169b9992aee46c054b3c49bc?s=128&d=identicon&r=PG&f=1", "display_name": "tejas", "link": "https://stackoverflow.com/users/2689696/tejas"}, "edited": false, "score": 0, "creation_date": 1464418759, "post_id": 37476109, "comment_id": 62487758, "body": "also @ThisSuitIsBlackNot &#39;s question helped, i added these three manually to .bashrc  export PATH=&quot;$PATH:/home/&lt;user&gt;/perl5/bin&quot;                                         PERL_LOCAL_LIB_ROOT=&quot;/home/&lt;user&gt;/perl5&quot;; export PERL_LOCAL_LIB_ROOT;              PERL5LIB=&quot;/home/&lt;user&gt;/perl5/lib/perl5${PERL5LIB+:}${PERL5LI&zwnj;&#8203;B}&quot;; export PERL5LIB;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1464329816, "creation_date": 1464329816, "answer_id": 37476109, "question_id": 37468510, "link": "https://stackoverflow.com/questions/37468510/cygwin-perl-cpan-installations-in-wrong-directory/37476109#37476109", "title": "cygwin perl cpan installations in wrong directory", "body": "<p>The following tell the module installers (ExtUtils::MakeMaker and Module::Build respectively) to install the modules in directory other than the one <code>perl</code> looks in:</p>\n\n<pre><code>PERL_MM_OPT=INSTALL_BASE=/home/&lt;user&gt;/perl5\nPERL_MB_OPT=--install_base \"/home/&lt;user&gt;/perl5\"\n</code></pre>\n\n<p>Either unset these variables (to install the modules in their \"proper\" place), or tell <code>perl</code> to look for modules in that directory.</p>\n\n<pre><code>export PERL5LIB=\"$HOME/perl5/lib/perl5\"\n</code></pre>\n"}], "owner": {"reputation": 1466, "user_id": 2689696, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/303b6001169b9992aee46c054b3c49bc?s=128&d=identicon&r=PG&f=1", "display_name": "tejas", "link": "https://stackoverflow.com/users/2689696/tejas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 37476109, "answer_count": 1, "score": 0, "last_activity_date": 1464329816, "creation_date": 1464287334, "last_edit_date": 1464290232, "question_id": 37468510, "link": "https://stackoverflow.com/questions/37468510/cygwin-perl-cpan-installations-in-wrong-directory", "title": "cygwin perl cpan installations in wrong directory", "body": "<p>I have a cygwin perl setup and i do a <code>cpan App::cpanminus</code> or <code>cpan ExtUtils::Config</code> i get a response that the packages are installed successfully, </p>\n\n<p>but cpanm is not in path its on <code>~/Perl5/bin</code>\nand i dont know where <code>ExtUtils::Config</code> is installed\nif i do a <code>perl -e 'use ExtUtils::Config;'</code> i get an error that it is not found</p>\n\n<p>I feel this is a cpan configuration error but dont know what it is or how to fix it, can some one help me in this regard?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Output of\n<code>echo 'o conf' | cpan | perl -ne'print if /^\\s*(make|mbuild)(pl)?_/'</code></p>\n\n<pre><code>make_arg           []\nmake_install_arg   []\nmake_install_make_command [/usr/bin/make]\nmakepl_arg         []\nmbuild_arg         []\nmbuild_install_arg []\nmbuild_install_build_command [./Build]\nmbuildpl_arg       []\n</code></pre>\n\n<p>and output of <code>perl -le'print \"$_=$ENV{$_}\" for grep /^PERL/, keys %ENV'</code></p>\n\n<pre><code>PERL_MB_OPT=--install_base \"/home/&lt;user&gt;/perl5\"\nPERL_MM_OPT=INSTALL_BASE=/home/&lt;user&gt;/perl5\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "edited": false, "score": 0, "creation_date": 1464268527, "post_id": 37461879, "comment_id": 62422747, "body": "read this <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html</a>"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1464299296, "post_id": 37461879, "comment_id": 62441754, "body": "I&#39;d recommend <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">Mark&#39;s very short tutorial about references</a>."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464269555, "post_id": 37462141, "comment_id": 62423559, "body": "Hah! I&#39;ve just posted your last section as an answer, including variable naming. Sorry. You&#39;re not quite right though, as the last assignment uses <code>-&gt;{tb}-&gt;{change}-&gt;</code> instead of <code>-&gt;{tb}-&gt;{tb}-&gt;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1464269659, "post_id": 37462141, "comment_id": 62423645, "body": "So, in the last case we even don&#39;t need if !define and/or unless?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1464269707, "post_id": 37462141, "comment_id": 62423692, "body": "@Borodin indeed. I didn&#39;t see that part. Too many arrows. Thanks for pointing it out. Your explanation is way more concise though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1464269843, "post_id": 37462141, "comment_id": 62423795, "body": "@osamuyl the <code>&#47;&#47;=</code> combines that into a simple operator."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464269953, "post_id": 37462141, "comment_id": 62423890, "body": "@simbabque: By all accounts lengthier posts gather more votes, so while concise should be a <i>good thing</i>, it&#39;s not an advantage on Stack Overflow. One of its many anomalies!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464270334, "post_id": 37462141, "comment_id": 62424198, "body": "@simbabque: I had no idea your first language was not English\u2014you write very well. What is your native language? I have a chronic guilt that English-speaking nations have become lazy with language and require other nationalities to fall in line. And unfortunately I am disabled and unable to travel far, but do send your holiday snaps!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1464270622, "post_id": 37462141, "comment_id": 62424438, "body": "Guys, please let me know the website, where I can read EVERYTING ABOUT THBIS."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464270844, "post_id": 37462141, "comment_id": 62424611, "body": "@Borodin German. That&#39;s unfortunate, Perl conferences are a lot of fun, and <a href=\"http://meta.stackoverflow.com/a/303313/1331451\">great to meet like-minded people</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464270903, "post_id": 37462141, "comment_id": 62424667, "body": "@osamuyl you can always read the Perl documentation at <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a>. Make sure to pick the right version on the left. If you don&#39;t know your Perl version, run <code>perl -v</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1464271044, "post_id": 37462141, "comment_id": 62424764, "body": "I HAVE PERL 5.18.4. All I can find on perldoc.perl.org? BTW, my Perl program is for WINDOWS. Does it makes any difference?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464271063, "post_id": 37462141, "comment_id": 62424788, "body": "@osamuyl Unfortunately there&#39;s no single page (at least none I know of) but several: <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow noreferrer\">data structures</a>, <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\"><code>&#47;&#47;</code>, <code>&#47;&#47;=</code></a>, <a href=\"http://perldoc.perl.org/perlref.html#Using-References\" rel=\"nofollow noreferrer\">arrow operator (3rd bullet)</a>. Perl 5.18 is ok. It&#39;s not the very latest (5.24) but new enough. And Windows makes no difference with regard to the current issue."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1464271255, "post_id": 37462141, "comment_id": 62424951, "body": "@osamuyl for 5.18.4 you should refer to the 5.18.2 docs. I don&#39;t know why they don&#39;t have the .4 version there, but the <a href=\"http://perldoc.perl.org/perl5184delta.html\" rel=\"nofollow noreferrer\">perldelta</a> shows that there were not a lot of things changed, and that 5.18.3 was broken. You can also use the <code>perldoc</code> command on the command line. But that kind of requires a bit of an overview of how the documentation is structured."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464271850, "post_id": 37462141, "comment_id": 62425409, "body": "@simbabque All non-even version numbers should be avoided because, well, they are odd. ;-) They are debugging or sth. versions and it&#39;s better to stick to the even ones (5.10, .12, .14, ...). I believe this is true also for the 3rd digits (the &quot;4&quot; in &quot;5.18.4&quot;). (How are they called? Tiny?)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464272268, "post_id": 37462141, "comment_id": 62425755, "body": "@PerlDog the odd thing is for mayor releases, not for minor ones as far as I know. Those are development releases. Since the language is Perl 5, the first sub-version is the mayor, and the second sub-version is the minor release."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464272633, "post_id": 37462141, "comment_id": 62426087, "body": "@simbabque Ah, ok. Im never sure about the terminology. But while we were talking about languages: <i>odd</i> has two different meanings: <i>uneven</i> and <i>strange</i>. I just tend to avoid the strange ones ;-)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1464272820, "post_id": 37462141, "comment_id": 62426243, "body": "Guys, thanks a lot for your help and explanation. It is very difficult to get code from somebody else, who is not with the company and try to understand it."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1464273197, "post_id": 37462141, "comment_id": 62426576, "body": "To be clear, the odd/even number for development/production versions of Perl only applies to the <b>second</b> part of the version number. The current version is 5.24.0. If a bugfix version is released, that will be 5.24.1 - and that will be a production version. 5.25.x is the current development version."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1464273202, "post_id": 37462141, "comment_id": 62426580, "body": "@osamuyl the first thing I usually do when I have to understand a block of code that makes no sense is indent it properly. <a href=\"https://metacpan.org/pod/distribution/Perl-Tidy/bin/perltidy\" rel=\"nofollow noreferrer\">Perltidy</a> is great for that. I&#39;ve set that up in my IDE as a keyboard shortcut. Besides that, you&#39;ll just have to get more practice I believe. It&#39;s not like we learn all this stuff by heart (though some maybe do;)), but rather knowledge comes with experience."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464334417, "post_id": 37462141, "comment_id": 62452451, "body": "@Borodin now I&#39;m getting downvotes, probably because the bottom of my answer looks like your answer, which is on top now. It&#39;s not always the longer answers that win... ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1464362711, "post_id": 37462141, "comment_id": 62470742, "body": "@PerlDog: <i>&quot;How are they called? Tiny?&quot;</i> I think you&#39;re looking for &quot;minor&quot;"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1464269755, "last_edit_date": 1464269755, "creation_date": 1464268990, "answer_id": 37462141, "question_id": 37461879, "link": "https://stackoverflow.com/questions/37461879/perl-hashes-i-dont-understand-why-and-what-is-going-on/37462141#37462141", "title": "Perl hashes: I don&#39;t understand why and what is going on", "body": "<p>I have re-indented your code and replaced the <code>if !defined</code> with <code>unless</code>. I have also removed the parenthesis to make it more easy to understand what's going on.</p>\n\n<pre><code># advisory\n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24974-000'} = 0\n    unless defined $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24974-000'};\n\n# operating         \n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24975-000'} = 0\n    unless defined $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24975-000'};\n\n# change in market    \n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-800'} = 0\n    unless defined $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-800'};\n\n# book value \n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-000'} = 0\n    unless defined $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-000'};\n\n# dividend_income  \n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{change}-&gt;{'3|INCOME|46515-000'} = 0\n    unless defined $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{change}-&gt;{'3|INCOME|46515-000'}; \n</code></pre>\n\n<p>It now reads a lot better, because it's almost English. </p>\n\n<p>There is a <em>postfix</em> <code>if</code> command in Perl that means <em>run this line <strong>if</strong> the following is true</em>. The <code>unless</code> I replaced is the same, just a <em>if not</em>.</p>\n\n<p>This is really just one operation repeated five times with different values. It looks in the <code>$data</code> data structure if a certain value is defined, which means it's not <code>undef</code>. If that is not the case, it puts a default value of <code>0</code> there.</p>\n\n<hr>\n\n<p>The whole code could be made way easier to read like this:</p>\n\n<pre><code>my $tb = $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb};\n$tb-&gt;{tb}-&gt;{'2|LIABILITIES|24974-000'} //= 0;    # advisory\n$tb-&gt;{tb}-&gt;{'2|LIABILITIES|24975-000'} //= 0;    # operating\n$tb-&gt;{tb}-&gt;{'1|ASSETS|11150-800'}      //= 0;    # change in market\n$tb-&gt;{tb}-&gt;{'1|ASSETS|11150-000'}      //= 0;    # book value\n$tb-&gt;{change}-&gt;{'3|INCOME|46515-000'}  //= 0;    # dividend_income\n</code></pre>\n\n<p>This means the same thing. I first took the part of the data structure that was deep down and assigned it to a variable. Because these are all references, that's not a copy, but rather like a pointer. <a href=\"http://perldoc.perl.org/perlop.html#Assignment-Operators\" rel=\"nofollow\">The <code>//=</code> operator</a> means <em>assign the right-hand-side value to the left-hand-side value if that value is not defined</em>. It was <a href=\"http://perldoc.perl.org/perl590delta.html#Defined-or-operators\" rel=\"nofollow\">added in Perl 5.9.0</a>. Now your code is a lot more readable.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 1, "creation_date": 1464270116, "post_id": 37462295, "comment_id": 62424032, "body": "@Borodon,@simbabque, your explanation is perfect. Could you please tell me where can I read about all this? The website is better, if it exists."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "edited": false, "score": 0, "creation_date": 1464271295, "post_id": 37462295, "comment_id": 62424981, "body": "Does it makes any difference if my program is for WINODWS?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1464271447, "post_id": 37462295, "comment_id": 62425105, "body": "@osamuyl No. Not in this case. As long as you&#39;re using Perl 5.10+ (when <code>&#47;&#47;</code> was introduced to the public)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1464362234, "post_id": 37462295, "comment_id": 62470407, "body": "@osamuyl: Perl is distributed with a full set of documentation that may be accessed using the <code>perldoc</code> command-line utility. It&#39;s also available on line at <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">perldoc.perl.org</a>. There is a contents page at <a href=\"http://perldoc.perl.org/perl.html\" rel=\"nofollow noreferrer\"><code>perldoc perl</code></a> and all the operators, including <code>&#47;&#47;=</code>, are documented at <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>, specifially the <a href=\"http://perldoc.perl.org/perlop.html#Assignment-Operators\" rel=\"nofollow noreferrer\"><i>Assignment Operators</i> section</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1464270007, "last_edit_date": 1464270007, "creation_date": 1464269364, "answer_id": 37462295, "question_id": 37461879, "link": "https://stackoverflow.com/questions/37461879/perl-hashes-i-dont-understand-why-and-what-is-going-on/37462295#37462295", "title": "Perl hashes: I don&#39;t understand why and what is going on", "body": "<p>All it's doing is setting some nested hash values to zero if they are currently <code>undef</code>. It can be written much more cleanly</p>\n\n<p>This code is equivalent. It makes these changes</p>\n\n<ul>\n<li><p>Extract the root hash reference to a variable <code>$tb</code></p></li>\n<li><p>Remove unnecessary indirection operators <code>-&gt;</code></p></li>\n<li><p>Make use of the <em>defined-or assignment operator</em> <code>//=</code></p>\n\n<p><code>a //= b</code> means <code>a = b unless defined a</code></p></li>\n</ul>\n\n<p>I hope this is clearer for you</p>\n\n<pre><code>my $tb = $data-&gt;{reports}{ $args-&gt;{port} }{tb};\n\n$tb-&gt;{tb}{'2|LIABILITIES|24974-000'} //= 0; # advisory    \n$tb-&gt;{tb}{'2|LIABILITIES|24975-000'} //= 0; # operating         \n$tb-&gt;{tb}{'1|ASSETS|11150-800'}      //= 0; # change in market    \n$tb-&gt;{tb}{'1|ASSETS|11150-000'}      //= 0; # book value \n$tb-&gt;{change}{'3|INCOME|46515-000'}  //= 0; # dividend_income  \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5420071"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1464290679, "creation_date": 1464268316, "last_edit_date": 1464290679, "question_id": 37461879, "link": "https://stackoverflow.com/questions/37461879/perl-hashes-i-dont-understand-why-and-what-is-going-on", "title": "Perl hashes: I don&#39;t understand why and what is going on", "body": "<p>I have the code below:</p>\n\n<pre><code>$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24974-000'} = 0\n        if ( !defined( $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24974-000'} ) ); # advisory    \n\n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24975-000'} = 0\n        if ( !defined( $data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'2|LIABILITIES|24975-000'} ) ); # operating         \n\n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-800'} = 0\n        if ( !defined($data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-800'} ) );       # change in market    \n\n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-000'} = 0\n        if ( !defined($data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{tb}-&gt;{'1|ASSETS|11150-000'} ) );       # book value    \n\n$data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{change}-&gt;{'3|INCOME|46515-000'} = 0\n        if ( !defined($data-&gt;{reports}-&gt;{ $args-&gt;{port} }-&gt;{tb}-&gt;{change}-&gt;{'3|INCOME|46515-000'} ) );   # dividend_income  \n</code></pre>\n\n<p>I don't understand what this code does. Maybe it connects hash <code>$data</code> key <code>reports</code> with hash <code>$arg</code> key <code>port</code>, hash <code>tb</code> and so on</p>\n"}, {"tags": ["perl", "utf-8", "cgi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1464278323, "post_id": 37459622, "comment_id": 62430177, "body": "More likely: whatever is creating the files is &quot;sanitizing&quot; the names first."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1464278830, "post_id": 37459622, "comment_id": 62430514, "body": "I think that both of your suggestions are unlikely. I think that whatever is creating those files is running the filenames through a transformation like <code>s&#47;[^a-z0-9_\\.]&#47;_&#47;g</code>."}, {"owner": {"reputation": 41, "user_id": 5834139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGU2v.jpg?s=128&g=1", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/5834139/abdelhafidh-belalia"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1464279412, "post_id": 37459622, "comment_id": 62430936, "body": "@DaveCross looks you are right, i found <code>s&#47;[^a-zA-Z0-9-_\\.]&#47;_&#47;gs</code> mostly it&#39;s for security reason, is there a solution for my problem to accept most chars"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1464337282, "post_id": 37459622, "comment_id": 62454082, "body": "Well, that regex lists all of the characters that you allow in your filenames. So it&#39;s &quot;simply&quot; a case of adding all the characters you want to allow to that list. You&#39;ll probably want to use a range :-)"}, {"owner": {"reputation": 41, "user_id": 5834139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGU2v.jpg?s=128&g=1", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/5834139/abdelhafidh-belalia"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1464347563, "post_id": 37459622, "comment_id": 62460567, "body": "@DaveCross already done thank you"}], "answers": [{"comments": [{"owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "edited": false, "score": 0, "creation_date": 1471986079, "post_id": 37482193, "comment_id": 65568609, "body": "There is an easier way to do this, without inserting potentially non-displayable characters into the regex.  Use [:alpha:]."}], "tags": [], "owner": {"reputation": 41, "user_id": 5834139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGU2v.jpg?s=128&g=1", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/5834139/abdelhafidh-belalia"}, "is_accepted": false, "score": 0, "last_activity_date": 1464348010, "last_edit_date": 1495542182, "creation_date": 1464348010, "answer_id": 37482193, "question_id": 37459622, "link": "https://stackoverflow.com/questions/37459622/perl-cgi-upload-encoding/37482193#37482193", "title": "Perl CGI Upload Encoding", "body": "<p>The problem was a regex form that turn all chars exept a-z, A-Z, 0-9 to \"_\"</p>\n\n<p>regex form: <code>s/[^a-zA-Z0-9-_\\.]/_/gs</code></p>\n\n<p>i just added a range of chars that i need, so final results for me is :</p>\n\n<p>regex form: <code>s/[^a-z\u0600-\ud83b\udef1A-Z0-9-_\\.]/_/gs</code>  </p>\n\n<p>range i added is : U+0600 TO U+1EEFx<br>\nit's arabic chars range</p>\n\n<p><strong>Ref:</strong> <a href=\"https://en.wikipedia.org/wiki/Arabic_script_in_Unicode\" rel=\"nofollow noreferrer\" title=\"Arabic script in Unicode\">https://en.wikipedia.org/wiki/Arabic_script_in_Unicode</a></p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/7231/dave-cross\" title=\"Dave Cross\">@Dave-Cross</a></p>\n"}, {"tags": [], "owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "is_accepted": false, "score": 0, "last_activity_date": 1471986040, "creation_date": 1471986040, "answer_id": 39110601, "question_id": 37459622, "link": "https://stackoverflow.com/questions/37459622/perl-cgi-upload-encoding/39110601#39110601", "title": "Perl CGI Upload Encoding", "body": "<p>To match alpha, without UTF8:</p>\n\n<pre><code>/a-zA-Z/\n</code></pre>\n\n<p>To match alpha, with accented characters in UTF-8 and Latin1:</p>\n\n<pre><code>/[:alpha:]/\n</code></pre>\n\n<p>No need to complicate it any further for the next developer.</p>\n"}], "owner": {"reputation": 41, "user_id": 5834139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGU2v.jpg?s=128&g=1", "display_name": "Abdelhafidh Belalia", "link": "https://stackoverflow.com/users/5834139/abdelhafidh-belalia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1471986040, "creation_date": 1464262254, "last_edit_date": 1464278107, "question_id": 37459622, "link": "https://stackoverflow.com/questions/37459622/perl-cgi-upload-encoding", "title": "Perl CGI Upload Encoding", "body": "<p>when i input a string encoded utf8 in a cgi script it converted to underscore</p>\n\n<p><strong>example 1 :</strong>\ni uploaded a file <code>\"\u062a\u062c\u0631\u0628\u0629.jpeg\"</code><br>\ni have found that file named <code>\"__________.jpeg\"</code></p>\n\n<p><strong>example 2 :</strong> i uploaded a file <code>\"1(1).jpeg\"</code><br>\ni have found that file named <code>\"1_1_.jpeg\"</code></p>\n\n<p>i think there is two possibilities :  </p>\n\n<ol>\n<li>There is a function that encode special chars like the one used in PHP : <code>basename</code></li>\n<li>There is a missing function to accept UTF8 file name encoding</li>\n</ol>\n\n<p>So what do you think? </p>\n"}, {"tags": ["javascript", "php", "perl"], "comments": [{"owner": {"reputation": 128254, "user_id": 13508, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9e1d852b4d287027fe76f794e506878?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro Gonz&#225;lez", "link": "https://stackoverflow.com/users/13508/%c3%81lvaro-gonz%c3%a1lez"}, "edited": false, "score": 2, "creation_date": 1464251541, "post_id": 37455372, "comment_id": 62411136, "body": "The <a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow noreferrer\">manual page for exec()</a> describes the function as &quot;Execute an external program&quot;. That&#39;s a pretty good clue that PHP can actually do it thus you don&#39;t need Node or any other technology. However, if you&#39;re able to switch languages (i.e., PHP is not a requirement) can&#39;t you just do it plain Perl?"}], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1464252464, "post_id": 37455444, "comment_id": 62411771, "body": "Can I just ask (out of curiosity) would any output from the Perl program be output to the webpage that called the script (assuming there is output) ?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1464252503, "post_id": 37455444, "comment_id": 62411793, "body": "No. That&#39;s what the second argument to <code>exec</code> is for."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1464251227, "creation_date": 1464251227, "answer_id": 37455444, "question_id": 37455372, "link": "https://stackoverflow.com/questions/37455372/executing-a-perl-file-from-php/37455444#37455444", "title": "executing a perl file from php", "body": "<p>There is absolutely no need to involve JavaScript.</p>\n\n<p>The first argument of <a href=\"http://php.net/manual/en/function.exec.php\" rel=\"nofollow\"><code>exec</code></a> needs to be a string. You can't just shove shell commands into the middle of PHP.</p>\n\n<pre><code>exec(\"perl changePass.pl\")\n</code></pre>\n\n<p>Ensure that <code>perl</code> is on your path (this is likely). Ensure that <code>changePass.pl</code> is in the current working directory (this is very likely to not be the case). Alternatively <em>use full paths</em> to them.</p>\n"}], "owner": {"reputation": 21, "user_id": 6385081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3a24a0d33857c47e75d481fa31bd588?s=128&d=identicon&r=PG&f=1", "display_name": "Diego dexconecta", "link": "https://stackoverflow.com/users/6385081/diego-dexconecta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 37455444, "answer_count": 1, "score": 0, "last_activity_date": 1464251315, "creation_date": 1464251026, "last_edit_date": 1464251315, "question_id": 37455372, "link": "https://stackoverflow.com/questions/37455372/executing-a-perl-file-from-php", "title": "executing a perl file from php", "body": "<p>I am working with perl and php, and I would like to call a perl program at some point.\nBoth of them are in the same folder and I dont need to pass any argument, just execute it.</p>\n\n<p>I dont know if i need to use <strong>javascript</strong> or just a </p>\n\n<pre><code>exec();\n</code></pre>\n\n<p>doing something like this:</p>\n\n<pre><code>$result = exec(perl changePass.pl)\n</code></pre>\n\n<p>I already tried both of them and I wasnt able to execute it.</p>\n\n<p>Thank yoy very much.</p>\n"}, {"tags": ["perl", "command-line-arguments", "getopt", "getopt-long"], "comments": [{"owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 1, "creation_date": 1464258864, "post_id": 37453445, "comment_id": 62416079, "body": "You might find <a href=\"http://perltricks.com/article/195/2015/10/21/Professional-scripts-are-a-snap-with-Getopt--Long/\" rel=\"nofollow noreferrer\">this article</a> useful."}], "answers": [{"tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 3, "last_activity_date": 1464247990, "last_edit_date": 1464247990, "creation_date": 1464245497, "answer_id": 37453544, "question_id": 37453445, "link": "https://stackoverflow.com/questions/37453445/how-to-pass-both-mandatory-and-optional-command-line-arguments-to-perl-script/37453544#37453544", "title": "How to pass both mandatory and optional command line arguments to perl script?", "body": "<p>My approach with <code>Getopt::Long</code>:</p>\n\n<pre><code>sub help { print \"Some help\"; exit }\n\nsub main {\n    GetOptions(\n        'file|f=s'   =&gt; \\( my $file = undef ),\n        'tag|t=s'    =&gt; \\( my $tag = undef ),\n        'help|h'     =&gt; \\( my $printHelp = undef ),\n    );\n\n    help() if $printHelp;\n    help() unless $file;\n\n[...]\n\n}\n</code></pre>\n\n<p>In this case, the option <code>--file</code> or <code>-f</code> is mandatory. I check if <code>$file</code> is defined, otherwise I abort execution printing the help of the program.</p>\n\n<p>I wouldn't mix <em>named</em> input parameters in the form <code>--param=*value*</code> with no-named parameters. \nThat said, you can manipulate <code>@ARGV</code> before calling <code>Getopt::Long</code> and configure it to do what you have asked, but it is confusing to mix two types of input parameter <em>philosophy</em> for the users of your script.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse feature qw{say};\nuse Carp;\nuse Getopt::Long;    \n\nsub main {    \n    my $firstParam = shift @ARGV;\n    croak \"Mandatory parameter not given\"\n        if (!$firstParam || $firstParam =~ /^-/);\n\n    GetOptions(\n        'file|f=s'   =&gt; \\( my $file = undef ),\n        'tag|t=s'    =&gt; \\( my $tag = undef ),\n    );\n\n\n    say 'Mandatory: ', $firstParam;\n    say 'Optional $file: ', $file if $file;\n    say 'Optional $tag: ', $tag if $tag;\n}\n\nmain();\n</code></pre>\n\n<p>You can call it as <code>./test.pl mandatory -f file -t tag</code>:</p>\n\n<pre><code>Mandatory: mandatory                                                                                        \nOptional $file: file                                                                                      \nOptional $tag: tag  \n</code></pre>\n\n<p>You will have to restrict the mandatory parameter(s) to a fixed position (in my example the first as in the question, but it could be the last ones also).</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 8, "last_activity_date": 1594869929, "last_edit_date": 1594869929, "creation_date": 1464245518, "answer_id": 37453550, "question_id": 37453445, "link": "https://stackoverflow.com/questions/37453445/how-to-pass-both-mandatory-and-optional-command-line-arguments-to-perl-script/37453550#37453550", "title": "How to pass both mandatory and optional command line arguments to perl script?", "body": "<p>The good <code>Getopt::Long</code> does not have a mechanism for that. It specifically <a href=\"http://perldoc.perl.org/Getopt/Long.html#GetOptions-does-not-return-a-false-result-when-an-option-is-not-supplied\" rel=\"nofollow noreferrer\">processes <em>options</em></a>.</p>\n<p>However, as it does its work it removes those options from <code>@ARGV</code> so once it's finished you can check whether the expected arguments are there. See the second part for this but I would like to first suggest another way: Make those arguments named and then <code>Getopt</code> will process them.</p>\n<p>Then it is easy to check whether they were submitted.  For example</p>\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse Getopt::Long;\n\nmy $mandatoryArg;\nmy $opt;\n\n# Read command-line arguments, exit with usage message in case of error\nGetOptions( 'name=s' =&gt; \\$mandatoryArg, 'flag' =&gt; \\$opt )\n    or usage(); \n\nif (not defined $mandatoryArg) {\n    say STDERR &quot;Argument 'name' is mandatory&quot;;\n    usage();\n}\n\n# The program goes now. Value for $opt may or may have not been supplied\n\nsub usage {\n    say STDERR &quot;Usage: $0 ...&quot;;   # full usage message\n    exit;\n}\n</code></pre>\n<p>So if <code>--name string</code> isn't given on the command line the <code>$mandatoryArg</code> stays undefined and the program exits. That variable doesn't need a default value since it is mandatory, and it shouldn't have one for this check to work.</p>\n<p>Argument checking and processing is often far more involved, and this is when <code>Getopt</code> shines.</p>\n<hr />\n<p>The <code>mandatoryArgument1</code> in the question is supplied without a name. While <code>Getopt</code> can be made to <a href=\"http://perldoc.perl.org/Getopt/Long.html#Argument-callback\" rel=\"nofollow noreferrer\">act on a non-option input</a>, it cannot detect that an expected one is <em>not</em> there.<sup>\u2020</sup></p>\n<p>The module does allow to mix arguments with named options, anywhere on the command line. See <a href=\"http://perldoc.perl.org/Getopt/Long.html#Mixing-command-line-option-with-other-arguments\" rel=\"nofollow noreferrer\">Option with other arguments</a> in docs. So you can invoke the program as</p>\n<pre><code>script.pl --opt1 value1 unnamed_arg --opt2 value2\n</code></pre>\n<p>but I'd suggest to the user to supply them after named options.</p>\n<p>Then, after <code>GetOptions</code> does its job, <code>@ARGV</code> will contain the string <code>unnamed_arg</code> and you can get it (or find out that it isn't there).  Processing of named options by <code>GetOptions</code> is the same as above.</p>\n<pre><code>my ($var1, $var2, $flag);\n\nGetOptions('opt1=s' =&gt; \\$var1, 'opt2=i' =&gt; \\$var2, 'f' =&gt; \\$flag)\n    or usage(); \n\n# All supplied named options have been collected, all else left in @ARGV\n# Read the remaining argument(s) from @ARGV, or exit with message\n\n# This can get far more complicated if more than one is expected\nmy $mandatoryArg1 = shift @ARGV || do {\n    say STDERR &quot;Mandatory argument (description) is missing&quot;;\n    usage();\n};\n</code></pre>\n<p>Above you have to process <code>@ARGV</code> by hand once <code>Getopt</code> picked up the named arguments.</p>\n<p>If there is more than one such argument the user has to strictly respect their expected relative position on the command line, as there is in general no way for the program to tell what's what. So errors where the user confuses their order on the command line in general cannot be caught.</p>\n<p>This becomes a hindrance and I'd suggest to have <em>at most one</em> kind of unnamed argument(s), and only in the case where it is obvious what that must be, like filename(s).</p>\n<p>While all this is possible modules like <code>Getopt</code> exist precisely so that we don't have to do it.</p>\n<hr />\n<p><sup>\u2020</sup> \u00a0 Action for input that doesn't look like an option is set up using the &quot;name&quot; of <code>'&lt;&gt;'</code></p>\n<pre><code>Getoptions( 'opt=s' =&gt; \\$var, ..., '&lt;&gt;' =&gt; \\&amp;arg_cb );\n\nsub arg_cb { say &quot;Doesn't look like an option: $_[0]&quot; }\n</code></pre>\n<p>where the sub <code>arg_cb</code> is invoked only if a non-option-looking argument <em>is seen</em>.</p>\n"}], "owner": {"reputation": 89, "user_id": 2524261, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a11298c94c626fe04978f12bd913655b?s=128&d=identicon&r=PG", "display_name": "user2524261", "link": "https://stackoverflow.com/users/2524261/user2524261"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6486, "favorite_count": 2, "accepted_answer_id": 37453550, "answer_count": 2, "score": 3, "last_activity_date": 1594869929, "creation_date": 1464245185, "question_id": 37453445, "link": "https://stackoverflow.com/questions/37453445/how-to-pass-both-mandatory-and-optional-command-line-arguments-to-perl-script", "title": "How to pass both mandatory and optional command line arguments to perl script?", "body": "<p>I am using Getopt::Long to pass options to my Perl script.</p>\n\n<p>But I want to do something like this :</p>\n\n<pre><code>perl myScript mandatoryArgument1 -optionalArgument1=someValue\n</code></pre>\n\n<p>I want the script to throw an error if mandatoryArgument1 is missing. How can this be done?</p>\n"}, {"tags": ["perl", "perl-critic"], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 4997534, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/593a268ebc9d21935c2b136280eb85ff?s=128&d=identicon&r=PG&f=1", "display_name": "kanishka", "link": "https://stackoverflow.com/users/4997534/kanishka"}, "edited": false, "score": 0, "creation_date": 1464246797, "post_id": 37451838, "comment_id": 62408342, "body": "what to write in the.perlcriticrc file ? what to pass in param_hash ? I am not getting how to start and where to start so that I can modify it . if possible can you please provide me the example of .perlcriticrc that runs properly with default settings of Perl critics and I can understand how should I modify."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464249508, "post_id": 37451838, "comment_id": 62409936, "body": "Example .perlcriticrc <a href=\"https://raw.githubusercontent.com/schwern/Perl-Critic/master/examples/perlcriticrc-conway\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/schwern/Perl-Critic/master/example&zwnj;&#8203;s/&hellip;</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1464249777, "post_id": 37451838, "comment_id": 62410102, "body": "<a href=\"http://stackoverflow.com/questions/51499/are-there-any-good-automated-frameworks-for-applying-coding-standards-in-perl?lq=1\" title=\"are there any good automated frameworks for applying coding standards in perl\">stackoverflow.com/questions/51499/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 1, "last_activity_date": 1464238256, "creation_date": 1464238256, "answer_id": 37451838, "question_id": 37451696, "link": "https://stackoverflow.com/questions/37451696/how-to-modify-rules-in-perlcritic/37451838#37451838", "title": "how to modify rules in perlcritic", "body": "<p>According to the doco for <a href=\"http://search.cpan.org/~thaljef/Perl-Critic-1.126/lib/Perl/Critic.pm\" rel=\"nofollow\">Perl::Critic</a>, you can add a \"policy\" with the <code>add_policy( -policy =&gt; $policy_name, -params =&gt; \\%param_hash )</code> method:</p>\n\n<blockquote>\n  <p><code>-policy</code> is the name of a Perl::Critic::Policy subclass module. The 'Perl::Critic::Policy' portion of the name can be omitted for brevity. This argument is required.</p>\n</blockquote>\n\n<p>Then, when you look at the linked documentation for the subclass module (emphasis mine);</p>\n\n<blockquote>\n  <p>To work with the Perl::Critic engine, your implementation must behave as described below. For a detailed explanation on how to make new Policy modules, please see the <strong>Perl::Critic::DEVELOPER</strong> document included in this distribution.</p>\n</blockquote>\n\n<p>... we see there's a whole document covering exactly what you want to do.</p>\n\n<p>What part of that document are you having trouble with?</p>\n"}], "owner": {"reputation": 106, "user_id": 4997534, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/593a268ebc9d21935c2b136280eb85ff?s=128&d=identicon&r=PG&f=1", "display_name": "kanishka", "link": "https://stackoverflow.com/users/4997534/kanishka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "closed_date": 1464248945, "accepted_answer_id": 37451838, "answer_count": 1, "score": -1, "last_activity_date": 1464238256, "creation_date": 1464237288, "question_id": 37451696, "link": "https://stackoverflow.com/questions/37451696/how-to-modify-rules-in-perlcritic", "closed_reason": "Needs details or clarity", "title": "how to modify rules in perlcritic", "body": "<p>Hie ,</p>\n\n<p>Perl critic (Source Code Analyser).\nI am new to this . Although I have studied the documentation and know how to run it (That's not enough!).\nI want to modify the rules (i.e include,exclude or add my own rules to it).\nI know .perlcriticrc file can do that.\nBut I don't know how to do it.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "xpath", "www-mechanize-firefox"], "comments": [{"owner": {"reputation": 534, "user_id": 6356910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5d88fc45e4185aa228d3ef08f0442?s=128&d=identicon&r=PG&f=1", "display_name": "Otterbein", "link": "https://stackoverflow.com/users/6356910/otterbein"}, "edited": false, "score": 0, "creation_date": 1464602099, "post_id": 37449661, "comment_id": 62537249, "body": "The method returns the node(s) of the XML (the HTML-Document you run it against) which match your selector. Have you tried to use the Data::Dumper to look into your result? (e.g. print Dumper($mech-&gt;xpath( [yourXpathQuery] ) )"}], "answers": [{"tags": [], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "is_accepted": false, "score": 0, "last_activity_date": 1467334201, "creation_date": 1467334201, "answer_id": 38135423, "question_id": 37449661, "link": "https://stackoverflow.com/questions/37449661/what-does-mech-xpath-return-using-wwwmechanizefirefox/38135423#38135423", "title": "What does $mech-&gt;xpath() return using WWW::Mechanize::Firefox?", "body": "<p>It returns a <code>MozRepl::RemoteObject::Instance</code> object.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467334201, "creation_date": 1464222246, "last_edit_date": 1464324650, "question_id": 37449661, "link": "https://stackoverflow.com/questions/37449661/what-does-mech-xpath-return-using-wwwmechanizefirefox", "title": "What does $mech-&gt;xpath() return using WWW::Mechanize::Firefox?", "body": "<p>What does <code>$mech-&gt;xpath()</code> return using <code>WWW::Mechanize::Firefox</code>?</p>\n\n<p>The <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-Firefox-0.79/lib/WWW/Mechanize/Firefox.pm#$mech-%3Expath(_$query,_%25options_)\" rel=\"nofollow\">documentation</a> says it <code>\"Returns the matched results.\"</code>, which doesn't help.</p>\n\n<p>What object or array of objects is returned and where is a specification of this object so I can reference its member variables and methods?</p>\n\n<p>So far I have guessed that this is relevant: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/Element</a></p>\n"}]