[{"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 1, "creation_date": 1534373329, "post_id": 51867410, "comment_id": 90686788, "body": "Are you sure that you have no extra spaces at end of line? They do not show but will make your regex fail. See <code>cat -e</code> for example to double check."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534373329, "post_id": 51867410, "comment_id": 90686789, "body": "Note that the <code>g</code> is useless. <code>^</code> will only match at the start of the string, so there can only be one match per string. (But that&#39;s fine, since you process the file one line at a time.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534373410, "post_id": 51867410, "comment_id": 90686807, "body": "The program works fine for the data you posted. Perhaps there were some hidden characters you didn&#39;t copy (such as a Carriage Return)?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534381849, "post_id": 51867836, "comment_id": 90688540, "body": "<code>s&#47;^N1\\^SE\\^\\^92\\^\\K\\d+&#47;&#47;</code> will do the trick without removing the hidden characters. It also won&#39;t start matching things that weren&#39;t being match before."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534382071, "post_id": 51867836, "comment_id": 90688579, "body": "<code>\\K</code> isn&#39;t a lookbehind. Compare <code>perl -le&#39;print for &quot;abcde&quot; =~ &#47;(?&lt;=\\w)\\w&#47;g&#39;</code> and <code>perl -le&#39;print for &quot;abcde&quot; =~ &#47;\\w\\K\\w&#47;g&#39;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534384924, "post_id": 51867836, "comment_id": 90689113, "body": "<code>s&#47;^\\QN1^SE^^92^\\E\\K.*&#47;&#47;</code> is much easier on the eye!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534387208, "post_id": 51867836, "comment_id": 90689497, "body": "@ikegami From docs I linked: &quot;<i>A zero-width positive lookbehind assertion.</i>&quot;. Perhaps it&#39;s not the best name for that functionality but I can&#39;t deviate from names in docs. Yes, matching only what they do may be better (we don&#39;t really know what&#39;s off) but they did also say &quot;<i>dropping any value ... after</i>&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534389811, "post_id": 51867836, "comment_id": 90689987, "body": "1) Sure, you can deviate from the docs when they&#39;re wrong, but 2) the docs only say that &quot;[<code>\\K</code>] effectively provides variable-length lookbehind&quot;. It doesn&#39;t <i>actually</i> do so."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534391053, "post_id": 51867836, "comment_id": 90690211, "body": "@ikegami Your second example makes a good point! (It&#39;s precisely because it drops previous matches? While for <code>b</code> and <code>d</code> there weren&#39;t any so it works there?) It means that <code>\\K</code> cannot be used with <code>&#47;g</code>; that should be documented."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534447140, "post_id": 51867836, "comment_id": 90719616, "body": "It can be used with /g sometimes.  /$sep\\K$pat(?=$sep)/g"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534497717, "post_id": 51867836, "comment_id": 90735321, "body": "@ikegami Thank you for bringing this up. I had no clue (never even thought about such differences)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1534524941, "last_edit_date": 1534524941, "creation_date": 1534376523, "answer_id": 51867836, "question_id": 51867410, "link": "https://stackoverflow.com/questions/51867410/perl-in-place-edit-find-and-replace-in-x12850-formatted-file/51867836#51867836", "title": "Perl In place edit: Find and replace in X12850 formatted file", "body": "<p>You may have missed to copy here some hidden character(s) or spaces. Those may well be at the end of the line so try</p>\n\n<pre><code>perl -i -pe 's/^N1\\^SE\\^\\^92\\^\\K.*//' Test\n</code></pre>\n\n<p>The <code>\\K</code> is a special form of the \"<a href=\"http://perldoc.perl.org/perlre.html#Lookaround-Assertions\" rel=\"nofollow noreferrer\">positive lookbehind</a>\" which drops all previous matches so only <code>.*</code> after it (the rest) are removed by the substitution. <sup>&dagger;</sup></p>\n\n<p>This takes seriously the requirement \"<em>dropping any value ... after</em>\", as it matches lines with things other than the sole <code>\\d</code> from the question's example.</p>\n\n<p>Or use <a href=\"https://perldoc.perl.org/perlre.html#Quoting-metacharacters\" rel=\"nofollow noreferrer\">\\Q...\\E</a> sequence to escape special characters (see <a href=\"https://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a>)</p>\n\n<pre><code>perl -i -pe 's/^\\QN1^SE^^92^\\E\\K.*//' Test\n</code></pre>\n\n<p>per <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a>'s comment.</p>\n\n<p>Another take is to specifically match <code>\\d</code> as in the question</p>\n\n<pre><code>s/^N1\\^SE\\^\\^92\\^\\K\\d+//\n</code></pre>\n\n<p>per <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>'s comment. This stays true to your patterns and it also <em>doesn't</em> remove whatever may be hiding at the end of the line.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> &nbsp; The term \"lookbehind\" for <code>\\K</code> is from documentation but, while <code>\\K</code> clearly \"looks behind,\" it has marked differences from how the normal lookbehind assertions behave. </p>\n\n<p>Here is a striking example from <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>.  Compare</p>\n\n<pre><code>perl -le'print for \"abcde\" =~ /(?&lt;=\\w)\\w/g'  # prints lines: b c d e\n</code></pre>\n\n<p>and </p>\n\n<pre><code>perl -le'print for \"abcde\" =~ /\\w\\K\\w/g'     # prints lines: b d\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10231562, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pNWCl8nBnXc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qLMz8dXHsRtCOZfJYpIOsKQvWwwg/mo/photo.jpg?sz=128", "display_name": "Preston Burdwell", "link": "https://stackoverflow.com/users/10231562/preston-burdwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 51867836, "answer_count": 1, "score": 3, "last_activity_date": 1534524941, "creation_date": 1534372841, "last_edit_date": 1534372933, "question_id": 51867410, "link": "https://stackoverflow.com/questions/51867410/perl-in-place-edit-find-and-replace-in-x12850-formatted-file", "title": "Perl In place edit: Find and replace in X12850 formatted file", "body": "<p>I am new to Perl and cannot figure this out. I have a file called <strong>Test</strong>:</p>\n\n<pre><code>ISA^00^          ^00^          ^01^SupplyScan     ^01^NOVA           ^180815^0719^U^00204^000000255^0^P^^\nGS^PO^SupplyScan^NOVA^20180815^0719^00000255^X^002004\nST^850^00000255\nBEG^00^SA^0000000059^^20180815\nDTM^097^20180815^0719\nN1^BY^^92^\nN1^SE^^92^1\nN1^ST^^92^\nPO1^1^4^BX^40.000^^^^^^^^IN^131470^^^1^\nPID^F^^^^CATH 6FR .070 MPA 1 100CM\nREF^\nPO1^2^4^BX^40.000^^^^^^^^IN^131295^^^1^\nPID^F^^^^CATHETER 6FR XB 3.5\nREF^\nPO1^3^2^EA^48.000^^^^^^^^IN^132288^^^1^\nPID^F^^^^CATH 6FR AL-1 SH\nREF^\nPO1^4^2^BX^48.000^^^^^^^^IN^131297^^^1^\nPID^F^^^^CATHETER 6FR .070 JL4SH 100CM\nREF^\nCTT^4^12\nSE^20^00000255\nGE^1^00000255\nIEA^1^00000255\n</code></pre>\n\n<p>What I am trying to do is an in place edit, dropping any value in the <code>N1^SE</code> segment after the <code>92^</code>. I tried this but I cant seem to make it work:</p>\n\n<pre><code>perl -i -pe 's/^N1\\^SE\\^\\^92\\^\\d+$/N1^SE^^92^/g' Test\n</code></pre>\n\n<p>The final result should include the <code>N1^SE</code> segment looking like this:\n<code>N1^SE^^92^</code></p>\n\n<p>It worked when I just had the one line in the file: <code>N1^SE^^92^1</code>. But when I try to globally substitute in the entire file, it doesn't work</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "pdl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1534382556, "post_id": 51867785, "comment_id": 90688675, "body": "Note that this won&#39;t work in a Perl program without the addition of <code>use PDL::NiceSlice</code>. This module allows more concise <code>slice</code>/<code>dice</code> expressions, but it uses source filtering, which is generally a Bad Thing."}], "tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": false, "score": 1, "last_activity_date": 1534376080, "creation_date": 1534376080, "answer_id": 51867785, "question_id": 51864283, "link": "https://stackoverflow.com/questions/51864283/how-do-i-extract-specific-rows-from-a-pdl-matrix/51867785#51867785", "title": "How do I extract specific rows from a PDL matrix?", "body": "<p>I'm new to <code>PDL</code>, but it seems like you can use <code>which</code> result as a mask.</p>\n\n<p>You need to <code>transpose</code> original variable first, then <code>transpose</code> it back after using <code>slice</code>.</p>\n\n<pre><code>pdl&gt; $a = pdl [[1, 0, 1], [0, 1, 0], [0, 1, 1]]\n\npdl&gt; p which($a(2) == 1)\n[0 2]\n\npdl&gt; p $a-&gt;transpose    \n\n[\n [1 0 0]\n [0 1 1]\n [1 0 1]\n]\n\npdl&gt; p $a-&gt;transpose-&gt;slice(which($a(2) == 1))-&gt;transpose\n\n[\n [1 0 1]\n [0 1 1]\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 617, "user_id": 1938600, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5892288702862ce1bf3fe2ae54745e72?s=128&d=identicon&r=PG", "display_name": "marcantonio", "link": "https://stackoverflow.com/users/1938600/marcantonio"}, "edited": false, "score": 0, "creation_date": 1534471066, "post_id": 51868402, "comment_id": 90726145, "body": "Thanks! It looks like I can use multiple conditions with something like <code>$aa-&gt;dice_axis(1, which($aa-&gt;index(0) == 1 &amp; $aa-&gt;index(2) == 1))</code>. Is that correct?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 617, "user_id": 1938600, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5892288702862ce1bf3fe2ae54745e72?s=128&d=identicon&r=PG", "display_name": "marcantonio", "link": "https://stackoverflow.com/users/1938600/marcantonio"}, "edited": false, "score": 0, "creation_date": 1534474646, "post_id": 51868402, "comment_id": 90726793, "body": "@marcantonio: Pretty much yes. But <code>&amp;</code> in Perl is a bitwise mask operator; you need <code>&amp;&amp;</code> or <code>and</code>, which are identical but with different precedences."}, {"owner": {"reputation": 617, "user_id": 1938600, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5892288702862ce1bf3fe2ae54745e72?s=128&d=identicon&r=PG", "display_name": "marcantonio", "link": "https://stackoverflow.com/users/1938600/marcantonio"}, "edited": false, "score": 1, "creation_date": 1534528928, "post_id": 51868402, "comment_id": 90752587, "body": "I came across this: <a href=\"http://pdl.perl.org/?docs=FAQ&amp;title=PDL::FAQ%20-%20Frequently%20Asked%20Questions#Q:-6.11-Logical-operators-and-piddles---and-dont-work\" rel=\"nofollow noreferrer\">pdl.perl.org/&hellip;</a> which is why I used <code>&amp;</code> rather than <code>&amp;&amp;</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1534382371, "creation_date": 1534382371, "answer_id": 51868402, "question_id": 51864283, "link": "https://stackoverflow.com/questions/51864283/how-do-i-extract-specific-rows-from-a-pdl-matrix/51868402#51868402", "title": "How do I extract specific rows from a PDL matrix?", "body": "<p></p>\n\n<p>You need to use <code>which</code> to generate a list of indexes of your matrix which have a value of 1 in the third column</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>which($aa-&gt;index(2) == 1)\n</code></pre>\n\n<p>and pass this to <code>dice_axis</code>, which will select the rows with the given indexes. Axis 0 is the columns and axis 1 is the rows, so the code looks like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse PDL;\n\nmy $aa = pdl &lt;&lt;__END_PDL__;\n[\n  [1, 0, 1]\n  [0, 1, 0]\n  [0, 1, 1]\n]\n__END_PDL__\n\nmy $result = $aa-&gt;dice_axis(1, which($aa-&gt;index(2) == 1));\n\nprint $result;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\n [1 0 1]\n [0 1 1]\n]\n</code></pre>\n"}], "owner": {"reputation": 617, "user_id": 1938600, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5892288702862ce1bf3fe2ae54745e72?s=128&d=identicon&r=PG", "display_name": "marcantonio", "link": "https://stackoverflow.com/users/1938600/marcantonio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 51868402, "answer_count": 2, "score": 3, "last_activity_date": 1534382371, "creation_date": 1534357185, "question_id": 51864283, "link": "https://stackoverflow.com/questions/51864283/how-do-i-extract-specific-rows-from-a-pdl-matrix", "title": "How do I extract specific rows from a PDL matrix?", "body": "<p>Suppose I have:</p>\n\n<pre><code>$a = [\n      [1, 0, 1]\n      [0, 1, 0]\n      [0, 1, 1]\n     ]\n</code></pre>\n\n<p>and I want to extract all rows where <code>$row[2] == 1</code>. My resulting piddle would look like:</p>\n\n<pre><code>$b = [\n      [1, 0, 1]\n      [0, 1, 1]\n     ]\n</code></pre>\n\n<p>Is this possible with PDL?</p>\n"}, {"tags": ["html", "css", "perl", "modal-dialog"], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 2, "last_activity_date": 1534372950, "creation_date": 1534372950, "answer_id": 51867431, "question_id": 51863957, "link": "https://stackoverflow.com/questions/51863957/how-to-display-multiple-links-in-a-modal-box-in-perl/51867431#51867431", "title": "How to display multiple links in a modal box in perl?", "body": "<p>In this line:</p>\n\n<pre><code>my $links=\"'select a link',\\$cgi-&gt;a({-href=&gt;somelink},'LINK1'),\\$cgi-&gt;a({-href=&gt;somelink},'LINK2');\n</code></pre>\n\n<p><code>$cgi-&gt;a(...)</code> is a method call, you have it in a double quoted string, but you can't interpolate method calls in a double quoted string.</p>\n\n<p>Try something like this instead:</p>\n\n<pre><code>my @links = 'select a link', $cgi-&gt;a({-href=&gt;somelink},'LINK1'), ...\n</code></pre>\n\n<p>Which creates an array of things rather than trying to put all the things in a string.  Then change</p>\n\n<pre><code>$cgi-&gt;p({}, $links)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>$cgi-&gt;p({}, @links)\n</code></pre>\n\n<p>I haven't tested this - sorry.</p>\n\n<p>Just because you're using CGI doesn't mean you have to use the CGI methods for generating HTML.  I would strongly recommend looking at using a templating module like <a href=\"https://metacpan.org/pod/distribution/Template-Toolkit/lib/Template/Tutorial/Web.pod\" rel=\"nofollow noreferrer\">Template::Toolkit</a>, or a framework like <a href=\"https://metacpan.org/release/Mojolicious\" rel=\"nofollow noreferrer\">Mojolicious</a> which can be run from CGI and includes a templating system (and has next to no dependencies).</p>\n"}], "owner": {"reputation": 19, "user_id": 10230644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41e36b8e48a13af68fe70394a31e4032?s=128&d=identicon&r=PG&f=1", "display_name": "RalphD", "link": "https://stackoverflow.com/users/10230644/ralphd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534372950, "creation_date": 1534355652, "last_edit_date": 1534356181, "question_id": 51863957, "link": "https://stackoverflow.com/questions/51863957/how-to-display-multiple-links-in-a-modal-box-in-perl", "title": "How to display multiple links in a modal box in perl?", "body": "<p>I am trying to display multiple links in a single modal box on <code>onclick</code> function like this</p>\n\n<pre><code>$cgi-&gt;img({ -src =&gt;'/images/question.png',\n            -width=&gt;10,\n            -border=&gt;0,\n            -height=&gt;10,\n            -alt=&gt;'Redirect Link',\n            -onClick=&gt;\"image_click()\"\n           }\n          ),$cgi-&gt;div({-id=\"modal1\",-class=&gt;\"modal\"},$cgi-&gt;div({-class=&gt;\"modal2\"},$cgi-&gt;span({-class=&gt;\"close\",-onclick=&gt;span_click()\"},'&amp;times;'),$cgi-&gt;p({},$links),),)\n</code></pre>\n\n<p>It's working fine when I want to display a single link but if I want to display multiple links in the same box.I wasn't able to get it.Instead I am getting the text of it. \nMy links looks something like this</p>\n\n<pre><code>  my $links=\"'select a link',\\$cgi-&gt;a({-href=&gt;somelink},'LINK1'),\\$cgi-&gt;a({-href=&gt;somelink},'LINK2');\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["macos", "perl", "openssl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534357471, "post_id": 51863643, "comment_id": 90680825, "body": "Does your linker know to look in that directory for libraries?  Not sure about the specifics of OS X, but there&#39;s probably a config file and/or environment variable that holds the list of directories to search."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534362326, "post_id": 51863643, "comment_id": 90682991, "body": "The error is coming from the <code>dlopen</code> system call. Consult its man page?"}, {"owner": {"reputation": 8277, "user_id": 270511, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/cdb15b84fe2146fa0f381240875081bd?s=128&d=identicon&r=PG", "display_name": "Lawrence I. Siden", "link": "https://stackoverflow.com/users/270511/lawrence-i-siden"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534365053, "post_id": 51863643, "comment_id": 90684173, "body": "@Shawn Thanks, I already tried with and without LD_LIBRARY_PATH=/usr/local/opt/openssl/lib/libssl.  No luck."}, {"owner": {"reputation": 8277, "user_id": 270511, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/cdb15b84fe2146fa0f381240875081bd?s=128&d=identicon&r=PG", "display_name": "Lawrence I. Siden", "link": "https://stackoverflow.com/users/270511/lawrence-i-siden"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534365542, "post_id": 51863643, "comment_id": 90684357, "body": "@ikegami, thanki you. I noticed that the argument to dlopen() starts with &#39;$HOME/...&#39; which looks like $HOME hasn&#39;t been expanded to &#39;/Users/...&#39;. If I search my local env vars for HOME with &quot;env | grep HOME&quot; all I get is &quot;HOME=/Users/...&quot; which is what I&#39;d expect.  So &#39;$HOME&#39; must be single-quoted somewhere in cpanm. This is way out of scope for my project, but I&#39;ll have to check.  Good catch!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534366235, "post_id": 51863643, "comment_id": 90684651, "body": "oh yeah, duh! awesome"}, {"owner": {"reputation": 8277, "user_id": 270511, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/cdb15b84fe2146fa0f381240875081bd?s=128&d=identicon&r=PG", "display_name": "Lawrence I. Siden", "link": "https://stackoverflow.com/users/270511/lawrence-i-siden"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534453753, "post_id": 51863643, "comment_id": 90722230, "body": "@ikegami - I think that was me that replaced the path to my home dir with $HOME in the post so as not to give away sensitive info.  I still have the problem.  I could create a soft link to /usr/local/opt/lib but I saw a warning about that weakening security so I&#39;m reluctant."}], "owner": {"reputation": 8277, "user_id": 270511, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/cdb15b84fe2146fa0f381240875081bd?s=128&d=identicon&r=PG", "display_name": "Lawrence I. Siden", "link": "https://stackoverflow.com/users/270511/lawrence-i-siden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1534356937, "creation_date": 1534354416, "last_edit_date": 1534356937, "question_id": 51863643, "link": "https://stackoverflow.com/questions/51863643/dynaloader-pm-cant-find-libssl", "title": "DynaLoader.pm can&#39;t find libssl", "body": "<p>I built a Perl library to deploy on with some CGI scripts on a web server using ExtUtils::MakeMaker (perl Makefile.PL, etc.). When I run \"PERL5LIB=$HOME/perl5/lib/perl5 make test\" it builds like a champ and all tests pass. </p>\n\n<p>However, when I try to deploy it to another project in which I installed all Perl dependencies into ./local/lib/perl5 (using carton), then attempt to install my custom lib</p>\n\n<pre><code>PER5LIB=local/bin/perl5 cpanm -L ./local .../MY-Lib.tar.gz\n</code></pre>\n\n<p>the tests fail because DynaLoader.pm cannot find libssl.1.0.0.dylib.</p>\n\n<p>I already have libssl.1.0.0.dylib installed as /usr/local/opt/openssl/lib/libssl.1.0.0.dylib.</p>\n\n<p>I even tried hacking the local Makefile in the cpan work directory and append \"-L/usr/local/opt/openssl/lib\" to LDDLFLAGS and try re-running make test, but DynaLoader.pm still can't find libssl.</p>\n\n<p>The first error message in the log is: </p>\n\n<pre><code>install_driver(mysql) failed: Can't load '$HOME/my-project/scripts/local/lib/perl5/darwin-thread-multi-2level/auto/DBD/mysql/mysql.bundle' for module DBD::mysql: dlopen($HOME/my-project/scripts/local/lib/perl5/darwin-thread-multi-2level/auto/DBD/mysql/mysql.bundle, 2): Library not loaded: libssl.1.0.0.dylib\n  Referenced from: $HOME/my-project/scripts/local/lib/perl5/darwin-thread-multi-2level/auto/DBD/mysql/mysql.bundle\n  Reason: image not found at /usr/local/Cellar/perl/5.28.0/lib/perl5/5.28.0/darwin-thread-multi-2level/DynaLoader.pm line 197.\n</code></pre>\n\n<p>How can I get DynaLoader.pm to find libssl when PERL5LIB is pointing to a local dir even with all prerequisites installed?  How can I debug this?</p>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1534354361, "post_id": 51861648, "comment_id": 90679354, "body": "Your cursor.pl script does not appear to have anything to do with loading a database. This question is difficult to answer. It might get more helpful replies if you showed what the input to cursor.pl looks like."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534354880, "post_id": 51861648, "comment_id": 90679568, "body": "You have <code>records delimited by newline</code> but don&#39;t print any newlines in your code, which I supposed could be a problem. You also print lines that don&#39;t start with <b>PARSING IN CURSOR</b> if that&#39;s important."}, {"owner": {"reputation": 9, "user_id": 10200588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_4CoyilKboM/AAAAAAAAAAI/AAAAAAAAAIY/_PHDv0f6RUA/photo.jpg?sz=128", "display_name": "Eddie Yair Purisaca Rivera", "link": "https://stackoverflow.com/users/10200588/eddie-yair-purisaca-rivera"}, "edited": false, "score": 0, "creation_date": 1534430387, "post_id": 51861648, "comment_id": 90710807, "body": "From trace file oracle generate:"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 10200588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_4CoyilKboM/AAAAAAAAAAI/AAAAAAAAAIY/_PHDv0f6RUA/photo.jpg?sz=128", "display_name": "Eddie Yair Purisaca Rivera", "link": "https://stackoverflow.com/users/10200588/eddie-yair-purisaca-rivera"}, "is_accepted": false, "score": 0, "last_activity_date": 1534430487, "creation_date": 1534430487, "answer_id": 51879718, "question_id": 51861648, "link": "https://stackoverflow.com/questions/51861648/load-external-table-data-in-oracle-11g/51879718#51879718", "title": "Load external table data in Oracle 11g", "body": "<p>from oracle trace file the cursor.pl file</p>\n\n<pre><code>*** 2018-08-07 21:45:39.760\n*** SESSION ID:(91.29067) 2018-08-07 21:45:39.760\n*** CLIENT ID:() 2018-08-07 21:45:39.760\n*** SERVICE NAME:(SYS$USERS) 2018-08-07 21:45:39.760\n*** MODULE NAME:(JDBC Thin Client) 2018-08-07 21:45:39.760\n*** ACTION NAME:() 2018-08-07 21:45:39.760\n\nCLOSE #140422479054456:c=0,e=4,dep=2,type=0,tim=1533696339760472\n=====================\nPARSING IN CURSOR #140422479054456 len=39 dep=2 uid=0 oct=42 lid=0 tim=1533696339761022 hv=1387085665 ad='0' sqlid='8ucy5sx9augv1'\nALTER SESSION SET NLS_COMP = LINGUISTIC\nEND OF STMT\nPARSE #140422479054456:c=0,e=41,p=0,cr=0,cu=0,mis=0,r=0,dep=2,og=0,plh=0,tim=1533696339761021\nEXEC #140422479054456:c=0,e=43,p=0,cr=0,cu=0,mis=0,r=0,dep=2,og=0,plh=0,tim=1533696339761161\nCLOSE #140422479054456:c=0,e=5,dep=2,type=0,tim=1533696339761206\n=====================\nPARSING IN CURSOR #140422479054456 len=38 dep=2 uid=0 oct=42 lid=0 tim=1533696339761346 hv=2873506939 ad='0' sqlid='2m2yxqapncg3v'\nALTER SESSION SET NLS_SORT = BINARY_AI\nEND OF STMT\nPARSE #140422479054456:c=0,e=42,p=0,cr=0,cu=0,mis=0,r=0,dep=2,og=0,plh=0,tim=1533696339761345\nEXEC #140422479054456:c=0,e=27,p=0,cr=0,cu=0,mis=0,r=0,dep=2,og=0,plh=0,tim=1533696339761452\nCLOSE #140422479054456:c=0,e=4,dep=2,type=0,tim=1533696339761492\n=====================\nPARSING IN CURSOR #140422478993488 len=466 dep=1 uid=0 oct=47 lid=0 tim=1533696339761539 hv=3544542139 ad='1936d9f28' sqlid='c85q9cz9nauxv'\nDECLARE\n  cmmd1 VARCHAR2(64);\n  cmmd2 VARCHAR2(64);\n  --cmmd3 VARCHAR2(64);\nBEGIN\nif USER = 'UTEC' then\nexecute immediate 'Alter session set events ''10046 trace name context forever, level 8''';\nend if;\n    --cmmd3 := 'ALTER SESSION SET SQL_TRACE = TRUE';\n    cmmd1 := 'ALTER SESSION SET NLS_COMP = LINGUISTIC';\n    cmmd2 := 'ALTER SESSION SET NLS_SORT = BINARY_AI';\n    --EXECUTE IMMEDIATE cmmd3;\n    EXECUTE IMMEDIATE cmmd1;\n    EXECUTE IMMEDIATE cmmd2;\nEND;\nEND OF STMT\nEXEC #140422478993488:c=3000,e=2494,p=0,cr=0,cu=0,mis=0,r=1,dep=1,og=4,plh=0,tim=1533696339761537\nCLOSE #140422478993488:c=0,e=36,dep=1,type=1,tim=1533696339761810\nWAIT #0: nam='SQL*Net message to client' ela= 3 driver id=1413697536 #bytes=1 p3=0 obj#=-1 tim=1533696339761911\nWAIT #0: nam='SQL*Net message from client' ela= 25844 driver id=1413697536 #bytes=1 p3=0 obj#=-1 tim=1533696339787818\nWAIT #0: nam='SQL*Net message to client' ela= 2 driver id=1413697536 #bytes=1 p3=0 obj#=-1 tim=1533696339787880\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10200588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_4CoyilKboM/AAAAAAAAAAI/AAAAAAAAAIY/_PHDv0f6RUA/photo.jpg?sz=128", "display_name": "Eddie Yair Purisaca Rivera", "link": "https://stackoverflow.com/users/10200588/eddie-yair-purisaca-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534430487, "creation_date": 1534346483, "last_edit_date": 1534355271, "question_id": 51861648, "link": "https://stackoverflow.com/questions/51861648/load-external-table-data-in-oracle-11g", "title": "Load external table data in Oracle 11g", "body": "<p>I would like to know if you can help me with a process that I am trying to adapt to get some interesting data from the trace files.</p>\n\n<p>I have an external table called <code>cursor</code>, which performs the loading of data through a program in Perl <code>cursor.pl</code>; load works with all those fields but something happens in the program that the <code>lineno</code> field that keeps the number of lines seems to intersect with string data.</p>\n\n<p>What I did was try putting the field <code>lineno</code> as VARCHAR(100) to see what happened, and load this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/hFKSz.jpg\" alt=\"Result select * from cursor\"></p>\n\n<p>If I want to omit the <code>sql_text</code> field, it falls down when recreating the table and doing a SELECT.</p>\n\n<h3>External Table</h3>\n\n<pre><code>CREATE TABLE cursor (\n    lineno            NUMBER,\n    crsr              NUMBER,\n    crsr_length       NUMBER,\n    call_depth        NUMBER,\n    parsing_user_id   NUMBER,\n    command_type      NUMBER,\n    parsing_schema_id NUMBER,\n    tim               NUMBER,\n    hash_value        NUMBER,\n    address           VARCHAR2(50),\n    sqlid             VARCHAR2(20),\n    sql_text          VARCHAR2(4000)\n)\n\nORGANIZATION EXTERNAL (\n\n    type oracle_loader\n    default directory \"TRACE_DIR\"\n\n    access parameters (\n\n        records delimited by newline\n        preprocessor exe_trc_dir:'cursor.pl'\n        logfile trace_dir:'cursor.log'\n        badfile trace_dir:'cursor.bad'\n        fields terminated by '!' optionally enclosed by \"'\"\n\n        MISSING FIELD VALUES ARE NULL (\n            lineno            CHAR,          \n            crsr              CHAR,\n            crsr_length       CHAR,\n            call_depth        CHAR,\n            parsing_user_id   CHAR,\n            command_type      CHAR,\n            parsing_schema_id CHAR,\n            tim               CHAR,\n            hash_value        CHAR,\n            address           CHAR,\n            sqlid             CHAR,\n            sql_text          CHAR(4000)\n        )\n    )\n\n    location ('bdutec01_ora_15431.trc')\n)\n</code></pre>\n\n<h3>cursor.pl</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;&gt;) {\n\n    if ( /^PARSING IN CURSOR/../END OF STMT/ ) {\n\n        if ( /^PARSING IN CURSOR/ ) {\n\n            s/^PARSING IN CURSOR \\#//;\n            s/ [a-z]+=/!/g;\n            s/\\n$/!/;\n\n            $_ = \"$.!$_\";\n        }\n        unless ( /^END OF STMT/ ) {\n            print;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "http", "http-status-code-302", "lwp-useragent"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1534346521, "post_id": 51861496, "comment_id": 90675464, "body": "Get redirects by default, no need to add it.  Possibly you are hitting the max_redirect limit (default 7)?  Look at the response and see if it actually is redirecting?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1534346675, "post_id": 51861496, "comment_id": 90675557, "body": "You do understand that what you are doing is what you would do for a very few websites that use http header based authentication, and it won&#39;t work for a more common website that has a login form, correct?"}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1534350834, "post_id": 51861496, "comment_id": 90677795, "body": "@ysth Thanks.  The response says the document has moved here along with 302 status code, even removing $uagent -&gt;request_redirectable not helping."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534382624, "post_id": 51861496, "comment_id": 90688688, "body": "Please provide the response headers (<code>$response-&gt;headers-&gt;as_string</code>). Feel free to obfuscate private info (replace private words with other words), but don&#39;t remove anything"}, {"owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534391642, "post_id": 51861496, "comment_id": 90690311, "body": "@ikegami It says Authorization: Basic Ui0ow00d0dbu3nyKljdidimd== User-Agent: libwww-perl/6.13"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1534398849, "post_id": 51861496, "comment_id": 90692154, "body": "When I said look at the response, I didn&#39;t mean the final content.  Try <code>use Data::Dumper; print Dumper $response;</code>. (instead of or before calling -&gt;content)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534427285, "post_id": 51861496, "comment_id": 90708579, "body": "@A.G.Progm.Enthusiast, There&#39;s no way the command I gave you returned what you said it did --you printed <code>$req-&gt;headers-&gt;as_string</code> instead of <code>$response-&gt;headers-&gt;as_string</code>--  and there&#39;s no way the command ysth gave returned (just) what said it did. We got lucky, and you included enough in the latter, though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534427590, "post_id": 51861496, "comment_id": 90708811, "body": "Tip: <code>&quot;$url&quot;</code> should be <code>$url</code>. Converting strings to strings is a useless waste"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534427658, "post_id": 51861496, "comment_id": 90708857, "body": "Tip: <code>push @{ $uagent-&gt;requests_redirectable }, &#39;GET&#39;;</code> is useless. <code>GET</code> (and <code>HEAD</code>) are already in that array."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534427768, "post_id": 51861496, "comment_id": 90708926, "body": "Tip: The indirect method call syntax is problematic and discouraged. Replace <code>new LWP::UserAgent(...)</code> with <code>LWP::UserAgent-&gt;new(...)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1534427784, "last_edit_date": 1534427784, "creation_date": 1534426956, "answer_id": 51878533, "question_id": 51861496, "link": "https://stackoverflow.com/questions/51861496/how-to-get-rid-of-http-302-status-code-while-reading-a-page-in-perl/51878533#51878533", "title": "How to get rid of HTTP 302 status code while reading a page in Perl?", "body": "<p>One of the headers you received was</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Client-Warning: Redirect loop detected (max_redirect = 7)\n</code></pre>\n\n<p>LWP detected that it was in an endless chain of redirects, and aborted. The web site probably relies on the cookies it provides being returned, but you didn't create a cookie jar for the agent to allow it to do that.</p>\n\n<p>Replace</p>\n\n<pre><code>my $uagent = LWP::UserAgent-&gt;new();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my $uagent = LWP::UserAgent-&gt;new( cookie_jar =&gt; {} );\n</code></pre>\n"}], "owner": {"reputation": 680, "user_id": 6038082, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/354cfd22c3080b02a5ae540f5b5abfc2?s=128&d=identicon&r=PG&f=1", "display_name": "A.G.Progm.Enthusiast", "link": "https://stackoverflow.com/users/6038082/a-g-progm-enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534431716, "creation_date": 1534345981, "last_edit_date": 1534431716, "question_id": 51861496, "link": "https://stackoverflow.com/questions/51861496/how-to-get-rid-of-http-302-status-code-while-reading-a-page-in-perl", "title": "How to get rid of HTTP 302 status code while reading a page in Perl?", "body": "<p>I am trying to fetch the content of a webpage which requires authentication using LWP::UserAgent. However I am getting status as 302 Found and \"The document has moved here</p>\n\n<p>I have added <code>push @{ $uagent-&gt;requests_redirectable }, 'GET';</code> statement but no help.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\n\nmy $userid = \"iamuser\";\nmy $password = \"thisispassword\";\nmy $url = \"http://some_website-requires-authentication\";\n\nmy $uagent = new LWP::UserAgent();\npush @{ $uagent-&gt;requests_redirectable }, 'GET';\n\nmy $req = HTTP::Request-&gt;new(GET=&gt;\"$url\");\n$req-&gt;authorization_basic($userid,$password);\n\nmy $response = $uagent-&gt;request($req);\nprint $response-&gt;status_line, \"\\n\";\nprint $response-&gt;headers-&gt;as_string;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>302 Found\nCache-Control: no-store\nConnection: Keep-Alive\nDate: Wed, 11 Aug 2018 04:43:10 GMT\nLocation: HTTP://my_url.website.com/page/bag\nServer: website\nContent-Length: 239\nContent-Type: text/html; charset=iso-8859-1\nClient-Date: Wed, 11 0 04:43:11 GMT\nClient-Peer: \nClient-Response-Num: 1\nClient-SSL-Cert-Issuer: /CGB/ST=Larer Urban/L=Reds/O=COKPO CB Insurabce/CN=DO A  Secure SDL\nClient-SSL-Cert-Subject: /C=UKBopp Drive/O=te Incorporated/OU=COPPER/CN=hula.website.com\nClient-SSL-Cipher: AES128-SHA\nClient-SSL-Socket-Class: IO::Socket::SSL\nClient-Warning: Redirect loop detected (max_redirect = 7)\nKeep-Alive: timeout=5, max=91\nSet-Cookie: blablabla\nStrict-Transport-Security: max-age=31536000\nTitle: 302 Found\nX-Frame-Options: DENY\n</code></pre>\n\n<p>Need help on what I am doing wrong? \nThanks in advance.</p>\n"}, {"tags": ["string", "perl", "split"], "comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 1, "creation_date": 1534274926, "post_id": 51848356, "comment_id": 90650329, "body": "A string is a scalar value..."}, {"owner": {"reputation": 107, "user_id": 816645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/683076a6c1f49e2d16e81b54cd22e296?s=128&d=identicon&r=PG", "display_name": "dutsnekcirf", "link": "https://stackoverflow.com/users/816645/dutsnekcirf"}, "reply_to_user": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 1, "creation_date": 1534284264, "post_id": 51848356, "comment_id": 90653927, "body": "This shows my limited knowledge of perl.  I&#39;ve spent most of my programming (still not much) in VB.  Thanks for the clarification Patrick."}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 7, "last_activity_date": 1534275317, "creation_date": 1534275317, "answer_id": 51848636, "question_id": 51848356, "link": "https://stackoverflow.com/questions/51848356/getting-the-characters-of-a-string-up-to-the-first/51848636#51848636", "title": "Getting the characters of a string up to the first &quot;.&quot;", "body": "<p>The dot character has special meaning for regular expressions in Perl, and the 1st argument to <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\">split</a> is a regular expression.  You need to escape the dot:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $name = 'dc1-ent.ent.ped.local';\nprint \"$name\\n\";\nmy @tmpStr = split /\\./, $name;\nmy $hostname = $tmpStr[0];\nprint \"Host name is $hostname\\n\";\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>dc1-ent.ent.ped.local\nHost name is dc1-ent\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": false, "score": 1, "last_activity_date": 1534275352, "creation_date": 1534275352, "answer_id": 51848643, "question_id": 51848356, "link": "https://stackoverflow.com/questions/51848356/getting-the-characters-of-a-string-up-to-the-first/51848643#51848643", "title": "Getting the characters of a string up to the first &quot;.&quot;", "body": "<p>Your problem is not related to <code>gethostbyaddr()</code> but by what follows.</p>\n\n<p>Proof:</p>\n\n<pre><code> DB&lt;1&gt; $name = 'dc1-ent.ent.ped.local';\n\n DB&lt;2&gt; @tmpStr = split \".\", $name;\n\n DB&lt;3&gt; print @tmpStr;\n</code></pre>\n\n<p>(nothing printed)</p>\n\n<p>Try instead using <code>split</code> that way:</p>\n\n<pre><code>  DB&lt;8&gt; $name = 'dc1-ent.ent.ped.local';\n\n  DB&lt;9&gt; @tmpStr = split(/\\./, $name);\n\n  DB&lt;10&gt; print @tmpStr;\ndc1-ententpedlocal\n  DB&lt;11&gt; print join(' ', @tmpStr);\ndc1-ent ent ped local\n  DB&lt;12&gt; x @tmpStr;\n0  'dc1-ent'\n1  'ent'\n2  'ped'\n3  'local'\n</code></pre>\n\n<p>Or if you absolutely want a string and not a regex, protect the dot also as your string is still parsed as a regular expression (which is why being explicit with <code>/  /</code> has its merits, it forces you to remember that some character have special meaning there, like the dot):</p>\n\n<pre><code>  DB&lt;1&gt; $name = 'dc1-ent.ent.ped.local';\n\n  DB&lt;2&gt; @tmpStr = split('.', $name);\n\n  DB&lt;3&gt; print @tmpStr;\n\n  DB&lt;4&gt; @tmpStr = split('\\.', $name);\n\n  DB&lt;5&gt; x @tmpStr\n0  'dc1-ent'\n1  'ent'\n2  'ped'\n3  'local'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2617, "user_id": 1184510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3152289ebed501d45a3a3488b45720?s=128&d=identicon&r=PG", "display_name": "memowe", "link": "https://stackoverflow.com/users/1184510/memowe"}, "edited": false, "score": 0, "creation_date": 1534410873, "post_id": 51849843, "comment_id": 90698493, "body": "To get the <i>first</i> characters up to the first <code>.</code> I would suggest using <code>&#47;^([^.]*)&#47;</code>:"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2617, "user_id": 1184510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3152289ebed501d45a3a3488b45720?s=128&d=identicon&r=PG", "display_name": "memowe", "link": "https://stackoverflow.com/users/1184510/memowe"}, "edited": false, "score": 0, "creation_date": 1534432129, "post_id": 51849843, "comment_id": 90711939, "body": "@memowe: Why? You think it might skip a few characters without the anchor? Especially with a <code>*</code> quantifier, which will happily match nothing at all if <code>$name</code> starts with a dot! <code>gethostbyaddr</code> can not return strings like that."}, {"owner": {"reputation": 2617, "user_id": 1184510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3152289ebed501d45a3a3488b45720?s=128&d=identicon&r=PG", "display_name": "memowe", "link": "https://stackoverflow.com/users/1184510/memowe"}, "edited": false, "score": 0, "creation_date": 1534747283, "post_id": 51849843, "comment_id": 90799892, "body": "Matching the empty string shouldn&#39;t be considered a problem when the empty string is &quot;the characters of a string up to the first dot&quot;. There&#39;s no difference regarding <code>gethostbyaddr</code> and the regex with anchor matches correctly in the general case."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2617, "user_id": 1184510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3152289ebed501d45a3a3488b45720?s=128&d=identicon&r=PG", "display_name": "memowe", "link": "https://stackoverflow.com/users/1184510/memowe"}, "edited": false, "score": 0, "creation_date": 1534761771, "post_id": 51849843, "comment_id": 90807527, "body": "@memowe: You&#39;ve added an anchor and changed the quantifier. I&#39;m happy with the quantifier, although making a change purely because it does no harm (<i>&quot;shouldn&#39;t be considered a problem&quot;</i>) is very odd, but you need to answer why you think the anchor is an improvement. Is it just that it also does no harm?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1534281261, "creation_date": 1534281261, "answer_id": 51849843, "question_id": 51848356, "link": "https://stackoverflow.com/questions/51848356/getting-the-characters-of-a-string-up-to-the-first/51849843#51849843", "title": "Getting the characters of a string up to the first &quot;.&quot;", "body": "<p>I would write it like this</p>\n\n<pre><code>my $name = gethostbyaddr(inet_aton('192.168.2.3'), AF_INET);\nmy ($host) = $name =~ /([^.]+)/;\n\nsay $host;\n</code></pre>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1250553600, "open_beta_date": 1247529600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon@2.png", "twitter_account": "super_user", "favicon_url": "https://cdn.sstatic.net/Sites/superuser/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon.png", "audience": "computer enthusiasts and power users", "site_url": "https://superuser.com", "api_site_parameter": "superuser", "logo_url": "https://cdn.sstatic.net/Sites/superuser/Img/logo.png", "name": "Super User", "site_type": "main_site"}, "on_date": 1534274071, "question_id": 1349048}, "owner": {"reputation": 107, "user_id": 816645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/683076a6c1f49e2d16e81b54cd22e296?s=128&d=identicon&r=PG", "display_name": "dutsnekcirf", "link": "https://stackoverflow.com/users/816645/dutsnekcirf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 51848636, "answer_count": 3, "score": 1, "last_activity_date": 1534281261, "creation_date": 1534266517, "last_edit_date": 1534279857, "question_id": 51848356, "link": "https://stackoverflow.com/questions/51848356/getting-the-characters-of-a-string-up-to-the-first", "title": "Getting the characters of a string up to the first &quot;.&quot;", "body": "<p>I'm attempting to use Perl's <code>gethostnamebyaddr</code> function.  The annoying thing is that it returns the entire domain name in scalar format. I want to parse out only the hostname and discard the rest.</p>\n\n<p>I'm using <code>split</code> to divide the domain name into an array and then taking only the first value but this doesn't seem to work.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Socket;\n\nmy $name;\nmy $hostname;\nmy @tmpStr;\n\n$name  = gethostbyaddr(inet_aton(\"192.168.2.3\"), AF_INET);\nprint \"$name\\n\";\n\n@tmpStr = split \".\", $name;\n$hostname = $tmpStr[0];\nprint \"Host name is $hostname\\n\";\n</code></pre>\n\n<p>When the above code is executed, I get the following:</p>\n\n<pre><code>dc1-ent.ent.ped.local \nHost name is\n</code></pre>\n\n<p>According to <a href=\"https://www.tutorialspoint.com/perl/perl_gethostbyaddr.htm\" rel=\"nofollow noreferrer\">this</a> website the return value is not a string but is rather a scalar value and so my attempt at splitting it doesn't work.</p>\n\n<p>I can't figure out how to convert it to a string before I can split it or parse out the hostname by itself.</p>\n"}, {"tags": ["perl", "data-structures"], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1534257383, "post_id": 51841843, "comment_id": 90641192, "body": "Thank you for the answer. The short version seems quite plausible as it shortens the representation fairly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 2, "creation_date": 1534261066, "post_id": 51841843, "comment_id": 90643541, "body": "@Romario: The &quot;short version&quot; is dreadful: it sacrifices readability for conciseness. Since the whole purpose of conciseness is better readability it&#39;s a pointless effort."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1534266862, "post_id": 51841843, "comment_id": 90646552, "body": "<i>&quot;inside <code>qw</code> you can&#39;t use the square brackets&quot;</i> This isn&#39;t true. Square brackets are fine inside <code>qw&#47;&#47;</code> but they behave no differently from any other non-space character."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534323905, "post_id": 51841843, "comment_id": 90663900, "body": "@ @Borodin Yes, the &quot;short version&quot; has issues in terms of readibility . Actually it&#39;s only good for showing a way to represent AoAoA concisely. Other than that it&#39;s unusable because I can no longer index the elements as I can in an array :("}], "tags": [], "owner": {"reputation": 645, "user_id": 2291758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4391c4d45560de40165b291211b13ba6?s=128&d=identicon&r=PG", "display_name": "user2291758", "link": "https://stackoverflow.com/users/2291758/user2291758"}, "is_accepted": false, "score": 1, "last_activity_date": 1534251218, "last_edit_date": 1534251218, "creation_date": 1534250875, "answer_id": 51841843, "question_id": 51841700, "link": "https://stackoverflow.com/questions/51841700/array-of-arrays-of-arrays-in-qw-representation-in-perl/51841843#51841843", "title": "Array of arrays of arrays in qw representation in Perl", "body": "<p>This doesn't work since inside <code>qw</code> you can't use the square brackets. so the elements in your qw are \"<code>[a</code>\", \"<code>b]</code>\", ... .</p>\n\n<p>What you probably want is:</p>\n\n<pre><code>my @AoAoA = (\n   [ [qw/a b/], [qw/c d/], [qw/e f/] ],\n   [ [qw/r t/], [qw/m n/], [qw/k l/] ],\n   [ [qw/z x/], [qw/b a/], [qw/p u/] ]\n    );\n</code></pre>\n\n<p>Trying to make it shorter:</p>\n\n<pre><code>my @AoAoA = map {[map {[split ' ']} split /,/]} (\n   \"a b,c d,e f\",\n   \"r t,m n,k l\",\n   \"z x,b a,p u\"\n    );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1534256960, "post_id": 51841915, "comment_id": 90640881, "body": "Thank you for the answer. Instead of using qw inside the second degree arrays i.e. [ [ qw/ a b /] , writing directly [ [a,b] (without quotes) works too, but only until the [m,n] element i.e. I have to qw that element. The elements following that I don&#39;t have to qw, only that element I have to qw. If that element didn&#39;t need qw, then it would be quite fine."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 1, "creation_date": 1534260337, "post_id": 51841915, "comment_id": 90643132, "body": "@Romario Always <code>use strict; use warnings &#39;all&#39;</code>. That way, using directly <code>a, b</code>  (without quotes) won&#39;t work, but that&#39;s a good thing. The reason <code>m</code> isn&#39;t working without the quotes is that <code>m</code> is the match operator (<code>y</code> wouldn&#39;t work as well)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534260532, "post_id": 51841915, "comment_id": 90643246, "body": "@Romano: It would <i>not</i> be &quot;fine&quot; because that means you don&#39;t have <code>use strict</code> and <code>use warnings &#39;all&#39;</code> in place at the top of your program. These are essential for <i>every</i> Perl program you write, and you should start including them immediately. Even if you omit these measures, you will see eighteen warning messages <code>Unquoted string &quot;a&quot; may clash with future reserved word</code> etc. with any recent version of Perl. Just because something appears to work doesn&#39;t mean it should be written like that."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1534325127, "post_id": 51841915, "comment_id": 90664437, "body": "@Dada thank you for the input. The &#39;m&#39; interfering with the m operator is right; I&#39;ve tried changing m to some other char and it worked. So,  using chars without quotes is not an option. I have to think of other ways to represent AoAoA concisely."}, {"owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "edited": false, "score": 0, "creation_date": 1534325178, "post_id": 51841915, "comment_id": 90664466, "body": "@Borodin You&#39;re correct, in that form it&#39;s not totally fine. It was an experiment to see if it would work. Anyway because of the clash with the one-word operator names such as &#39;m&#39; it didn&#39;t work. Now I have to think of other ways to  represent that AoAoA."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 9, "last_activity_date": 1534260041, "last_edit_date": 1534260041, "creation_date": 1534251063, "answer_id": 51841915, "question_id": 51841700, "link": "https://stackoverflow.com/questions/51841700/array-of-arrays-of-arrays-in-qw-representation-in-perl/51841915#51841915", "title": "Array of arrays of arrays in qw representation in Perl", "body": "<p><code>qw</code> is short for <em>quote words</em>. It will implicitly quote every non-space substring for you, which is often very useful. But you can't add complex data structures using the same construct</p>\n\n<p>Your assignment</p>\n\n<pre><code>my @AoAoA = (\n    [ qw/ [a b] [c d] [e f] / ],\n    [ qw/ [r t] [m n] [k l] / ],\n    [ qw/ [z x] [b a] [p u] / ]\n)\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>my @AoAoA = (\n    [ '[a', 'b]', '[c', 'd]', '[e', 'f]' ],\n    [ '[r', 't]', '[m', 'n]', '[k', 'l]' ],\n    [ '[z', 'x]', '[b', 'a]', '[p', 'u]' ]\n)\n</code></pre>\n\n<p>which is unlikely to be what you want. Instead you must use <code>qw//</code> to define <em>only the strings</em> in your structure, like this</p>\n\n<pre><code>my @AoAoA = (\n    [ [ qw/ a b / ], [ qw/ c d / ], [ qw/ e f / ] ],\n    [ [ qw/ r t / ], [ qw/ m n / ], [ qw/ k l / ] ],\n    [ [ qw/ z x / ], [ qw/ b a / ], [ qw/ p u / ] ]\n)\n</code></pre>\n\n<p>Then you can write</p>\n\n<pre><code>my $first_elt = $AoAoA[0][0];    # ['a', 'b']\nmy $first_val = $first_elt-&gt;[0]; # 'a'\n</code></pre>\n\n<p>Or you can use just</p>\n\n<pre><code>my $first_val = $AoAoA[0][0][0]; # 'a'\n</code></pre>\n"}], "owner": {"reputation": 1091, "user_id": 2474153, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/135319305ef65fd3ac0259fdbd7f4116?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/2474153/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 51841915, "answer_count": 2, "score": 0, "last_activity_date": 1534260041, "creation_date": 1534250445, "question_id": 51841700, "link": "https://stackoverflow.com/questions/51841700/array-of-arrays-of-arrays-in-qw-representation-in-perl", "title": "Array of arrays of arrays in qw representation in Perl", "body": "<p>Hello I'd like to form a data structure like this:</p>\n\n<pre><code>my @AoAoA = (\n   [ qw/ [a b] [c d] [e f] / ],\n   [ qw/ [r t] [m n] [k l] / ],\n   [ qw/ [z x] [b a] [p u] / ]\n    );\n</code></pre>\n\n<p>In this structure which I call array of arrays of arrays in qw representation, AoAoA for short, when I want to access the first array's first array's first value:</p>\n\n<pre><code>my $first_elt = @{$AoAoA[0]}[0];# supposed to be [a b]\nmy $first_val = @{$first_elt}[0];# supposed to be 'a'\n\nprint \"$first_val\\n\";\n</code></pre>\n\n<p>it prints nothing. How sould I arrange it so I can access that value correctly? Thank you.</p>\n"}, {"tags": ["linux", "bash", "perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1534244050, "post_id": 51839680, "comment_id": 90632349, "body": "Does <code>.&#47;cfg&#47;GenerateDTIPubSub --DTIFramePubSub</code> not work?"}, {"owner": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "edited": false, "score": 1, "creation_date": 1534244057, "post_id": 51839680, "comment_id": 90632352, "body": "What is the error message?"}, {"owner": {"reputation": 2666, "user_id": 937093, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3f1cebb492bf988423f44b552cd8c5c0?s=128&d=identicon&r=PG", "display_name": "Steffen Winkler", "link": "https://stackoverflow.com/users/937093/steffen-winkler"}, "edited": false, "score": 1, "creation_date": 1534244060, "post_id": 51839680, "comment_id": 90632353, "body": "What is your question here? Is <code>cfg</code> a folder inside the &#39;folder above&#39;? In that case you answered your own question."}, {"owner": {"reputation": 70931, "user_id": 882003, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/de71acd9a8eab73186dea35aea7a68f2?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/882003/john"}, "edited": false, "score": 2, "creation_date": 1534244105, "post_id": 51839680, "comment_id": 90632392, "body": "Whether you can call a script from a different directory does depend a lot on how the script has been written"}, {"owner": {"reputation": 70931, "user_id": 882003, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/de71acd9a8eab73186dea35aea7a68f2?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/882003/john"}, "edited": false, "score": 0, "creation_date": 1534244166, "post_id": 51839680, "comment_id": 90632436, "body": "You could try <code>cd cfg &amp;&amp; .&#47;GenerateDTIPubSub --DTIFramePubSub</code>, i.e. temporarily changing the directory before you call the script"}, {"owner": {"reputation": 2666, "user_id": 937093, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3f1cebb492bf988423f44b552cd8c5c0?s=128&d=identicon&r=PG", "display_name": "Steffen Winkler", "link": "https://stackoverflow.com/users/937093/steffen-winkler"}, "reply_to_user": {"reputation": 4890, "user_id": 3751845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4b51d8d32d17d1d0a4200f68e5941517?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/3751845/nan"}, "edited": false, "score": 1, "creation_date": 1534244239, "post_id": 51839680, "comment_id": 90632484, "body": "In response to the edit: What exactly doesn&#39;t work? As @NaN said we need the error message. Is the script itself throwing an exception? Can it not be found? Short reminder that on Linux, generally speaking, the file and foldernames are casesensitive. So if your folder is spelled <code>Cfg</code> that would explain why the script can&#39;t be found"}, {"owner": {"reputation": 2666, "user_id": 937093, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3f1cebb492bf988423f44b552cd8c5c0?s=128&d=identicon&r=PG", "display_name": "Steffen Winkler", "link": "https://stackoverflow.com/users/937093/steffen-winkler"}, "reply_to_user": {"reputation": 70931, "user_id": 882003, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/de71acd9a8eab73186dea35aea7a68f2?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/882003/john"}, "edited": false, "score": 0, "creation_date": 1534244799, "post_id": 51839680, "comment_id": 90632858, "body": "This reads like what @john had in mind. Somewhere inside the bash script the current path is used."}, {"owner": {"reputation": 37, "user_id": 7582107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c35858b83e7370d9f0577bc7b8b0c89b?s=128&d=identicon&r=PG&f=1", "display_name": "JackCross", "link": "https://stackoverflow.com/users/7582107/jackcross"}, "reply_to_user": {"reputation": 70931, "user_id": 882003, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/de71acd9a8eab73186dea35aea7a68f2?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/882003/john"}, "edited": false, "score": 0, "creation_date": 1534244883, "post_id": 51839680, "comment_id": 90632916, "body": "@john yes you&#39;re onto something with path needing to change in the script itself, that helps"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1534250154, "post_id": 51839680, "comment_id": 90636117, "body": "Stack Overflow is a site for programming and development questions. This question appears to be off-topic because it is not about programming or development. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://superuser.com/\">Super User</a> or <a href=\"http://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a> would be a better place to ask."}], "answers": [{"tags": [], "owner": {"reputation": 70931, "user_id": 882003, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/de71acd9a8eab73186dea35aea7a68f2?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/882003/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1534244849, "creation_date": 1534244849, "answer_id": 51839999, "question_id": 51839680, "link": "https://stackoverflow.com/questions/51839680/linux-how-do-i-execute-a-bash-script-from-the-parent-directory/51839999#51839999", "title": "Linux how do I execute a bash script from the parent directory?", "body": "<p>It seems you must (temporarily) change the current working directory before calling your script. You can do that with the following technique</p>\n\n<pre><code>cd cfg &amp;&amp; ./GenerateDTIPubSub --DTIFramePubSub\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 7582107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c35858b83e7370d9f0577bc7b8b0c89b?s=128&d=identicon&r=PG&f=1", "display_name": "JackCross", "link": "https://stackoverflow.com/users/7582107/jackcross"}, "is_accepted": false, "score": 0, "last_activity_date": 1534245043, "creation_date": 1534245043, "answer_id": 51840061, "question_id": 51839680, "link": "https://stackoverflow.com/questions/51839680/linux-how-do-i-execute-a-bash-script-from-the-parent-directory/51840061#51840061", "title": "Linux how do I execute a bash script from the parent directory?", "body": "<p>The problem was the path of the Perl script inside the base script needs to be changed to include the <code>/cgf</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1534246281, "last_edit_date": 1534246281, "creation_date": 1534245822, "answer_id": 51840297, "question_id": 51839680, "link": "https://stackoverflow.com/questions/51839680/linux-how-do-i-execute-a-bash-script-from-the-parent-directory/51840297#51840297", "title": "Linux how do I execute a bash script from the parent directory?", "body": "<p>To work around the problem, you can use the following:</p>\n\n<pre><code>( cd cfg; ./GenerateDTIPubSub --DTIFramePubSub )\n</code></pre>\n\n<p>The parens create a subshell to avoid changing the current work directory for anything but the <code>perl</code> process.</p>\n\n<hr>\n\n<p>The underlying problem is that <code>GenerateDTIPubSub</code> assumes the current work directory is the script's directory. What follows are instructions on how to fix that.</p>\n\n<ol>\n<li><p>The quick and dirty approach:</p>\n\n<p>Add the following:</p>\n\n<pre><code>use FindBin qw( $RealBin );\nBEGIN { chdir($RealBin); }\n</code></pre></li>\n<li><p>The more sensible approach:</p>\n\n<p>First, add the following:</p>\n\n<pre><code>use FindBin qw( $RealBin );\n</code></pre>\n\n<p>Then replace </p>\n\n<pre><code>\"Scripts/DTIPubSub.pl\"\n</code></pre>\n\n<p>with</p>\n\n<pre><code>\"$RealBin/Scripts/DTIPubSub.pl\"\n</code></pre>\n\n<p>You may need to do multiple similar fixes in the code.</p></li>\n</ol>\n"}], "owner": {"reputation": 37, "user_id": 7582107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c35858b83e7370d9f0577bc7b8b0c89b?s=128&d=identicon&r=PG&f=1", "display_name": "JackCross", "link": "https://stackoverflow.com/users/7582107/jackcross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1534287709, "creation_date": 1534243768, "last_edit_date": 1534287709, "question_id": 51839680, "link": "https://stackoverflow.com/questions/51839680/linux-how-do-i-execute-a-bash-script-from-the-parent-directory", "title": "Linux how do I execute a bash script from the parent directory?", "body": "<p>I have a script called GenerateDTIPubSub and if I call it from its file location using the terminal (which I opened in the same file location):</p>\n\n<p>./GenerateDTIPubSub --DTIFramePubSub</p>\n\n<p>works fine. </p>\n\n<p>How do I now execute the script while in the folder above? \nExample: <code>./cfg/GenerateDTIPubSub --DTIFramePubSub</code></p>\n\n<p>Which does not work(reminding you that I've also opened the terminal in the folder above)</p>\n\n<p>edit: It executes but the bash script but can not find the perl script that it executes unless the bash script is executed from its directory (if that makes sense)</p>\n\n<p><code>./GenerateDTIPubSub --DTIFramePubSub</code> GenerateDTIPubSub then calls the DTIFramePubSub function that calls a perl script, this path works fine </p>\n\n<p><code>./cfg/GenerateDTIPubSub --DTIFramePubSub</code> this does not work, it can't find the perl script </p>\n\n<blockquote>\n  <p>Can't open perl script \"Scripts/DTIPubSub.pl\": No such file or directory  </p>\n</blockquote>\n\n<p>but the path for the perl script does not change only the bash file path  </p>\n"}, {"tags": ["perl", "unix", "average"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 8, "creation_date": 1534237203, "post_id": 51836897, "comment_id": 90628320, "body": "What did you try? What issues are you having?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534237967, "post_id": 51836897, "comment_id": 90628802, "body": "<code>$counts{$row-&gt;{id}} += $row-&gt;{nucleotides};</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 3, "creation_date": 1534240818, "post_id": 51838083, "comment_id": 90630509, "body": "Your <code>if (! $hash{$id}) ... else ...</code> should just be <code>$hash{$id} += $nuc</code>. Also, (as @Borodin will surely mention soon), <code>%hash</code> is not a good name for a hash."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1534246501, "post_id": 51838083, "comment_id": 90633839, "body": "Tip: <code>if (scalar (keys ( %count ) ) &gt; 0)</code> can be written <code>if (%count)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1534246560, "post_id": 51838083, "comment_id": 90633865, "body": "Tip: The first <code>say</code> should be outside the <code>if</code> (making the <code>if</code> useless)."}], "tags": [], "owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "is_accepted": true, "score": 3, "last_activity_date": 1534241171, "last_edit_date": 1534241171, "creation_date": 1534238703, "answer_id": 51838083, "question_id": 51836897, "link": "https://stackoverflow.com/questions/51836897/how-to-sum-values-for-same-ocurrence-in-a-file/51838083#51838083", "title": "how to sum values for same ocurrence in a file?", "body": "<p>You can try this</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy %count;\n\nwhile (&lt;DATA&gt;) {\n        chomp;\n        next if $. == 1; # skip header\n        my ($id, $nuc) = split(/;/, $_);\n        $count{$id} += $nuc;\n}\n\nif (scalar (keys ( %count ) ) &gt; 0) {\n        say \"id;nucleotides\";\n        foreach (sort keys %count) {\n                say \"$_;$count{$_}\";\n        }\n}\n\n__DATA__\nid;nucleotides\nseq1;230\nseq2;40\nseq1;50\nseq3;30\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 424, "user_id": 9293289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a0091952b90b14ecd59ca6e5d5523b?s=128&d=identicon&r=PG&f=1", "display_name": "shaiki siegal", "link": "https://stackoverflow.com/users/9293289/shaiki-siegal"}, "is_accepted": false, "score": 2, "last_activity_date": 1534238810, "creation_date": 1534238810, "answer_id": 51838116, "question_id": 51836897, "link": "https://stackoverflow.com/questions/51836897/how-to-sum-values-for-same-ocurrence-in-a-file/51838116#51838116", "title": "how to sum values for same ocurrence in a file?", "body": "<p><strong>awk:</strong></p>\n\n<pre><code>awk -F';' 'NR==1;(NR&gt;1){A[$1]+=$2} END{for(i in A)print i\";\"A[i]}' file\n</code></pre>\n\n<p>1) <code>-F';'</code> - <code>;</code> char as separator </p>\n\n<p>2)  <code>NR==1;</code> - print the first line (title)</p>\n\n<p>3) <code>(NR&gt;1){A[$1]+=$2}</code> - if not the first line, sum the value to $1 hash (a) key</p>\n\n<p>4) <code>END{for(i in A)print i\";\"A[i]</code> - once finished sum of all file's lines print hash in \"key;value\" format</p>\n"}], "owner": {"reputation": 133, "user_id": 5302107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/778e30389437ddb701d5d5a55a78defe?s=128&d=identicon&r=PG&f=1", "display_name": "Mia Lua", "link": "https://stackoverflow.com/users/5302107/mia-lua"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "closed_date": 1534252951, "accepted_answer_id": 51838083, "answer_count": 2, "score": -3, "last_activity_date": 1562330874, "creation_date": 1534234975, "last_edit_date": 1562330874, "question_id": 51836897, "link": "https://stackoverflow.com/questions/51836897/how-to-sum-values-for-same-ocurrence-in-a-file", "closed_reason": "Needs more focus", "title": "how to sum values for same ocurrence in a file?", "body": "<p>I have the next csv file : </p>\n\n<pre><code>id;nucleotides\nseq1;230\nseq2;40\nseq1;50\nseq3;30\n</code></pre>\n\n<p>and the desire result is the unique id and the sum of the nucleotides : </p>\n\n<pre><code>id;nucleotides\nseq1;280\nseq2;40\nseq3;30\n</code></pre>\n\n<p>Is there any fast way to do it in Perl or unix? </p>\n"}, {"tags": ["perl", "file", "filesize", "file-extension"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534249598, "post_id": 51832909, "comment_id": 90635797, "body": "You appear to have attempted to add the solution to your question. Please don&#39;t do that. I have rolled back your edit."}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1534216009, "post_id": 51833044, "comment_id": 90620219, "body": "but how to get the file name from my $path ??"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "reply_to_user": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 1, "creation_date": 1534217535, "post_id": 51833044, "comment_id": 90620521, "body": "@georgetovrea - Use <code>File::Spec</code> if you want individual components of it or to normalize it. (Or <code>File::Basename</code> or <code>Cwd</code> or several other modules depending on what you want to do)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534226669, "post_id": 51833044, "comment_id": 90623004, "body": "Need <code>$path</code> there, and might as well take care of possible spaces in names with either of these: <code>glob qq{&quot;$path&#47;2018-08-14*&quot;};</code> or <code>glob &quot;\\Q$path&#47;...\\E&quot;</code> or <code>use File::Glob &#39;:bsd_glob&#39;; my @files = glob &quot;$path&#47;2018-08-14*&quot;;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534227874, "post_id": 51833044, "comment_id": 90623470, "body": "Note that <code>$path&#47;*</code> allows an injection bug, and I am not sure whether <code>bsd_glob</code> or double quoting prevent it.  This is the main reason for the escape sequence, <code>\\Q...\\E</code>, which also escapes spaces so it solves that problem as well."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534231826, "post_id": 51833044, "comment_id": 90625344, "body": "@zdim, You need quotemeta with <code>bsd_glob</code> too. Space isn&#39;t the only special character!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534232399, "post_id": 51833044, "comment_id": 90625643, "body": "@ikegami Ah, right, thank you.  I&#39;ll leave it now since it&#39;s been noted.  Sometimes I wish I could edit comments."}, {"owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1534494551, "post_id": 51833044, "comment_id": 90733588, "body": "@Joshua , but how to check the file (2018-08-14-*) is exists or not  first?"}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "reply_to_user": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1534502952, "post_id": 51833044, "comment_id": 90738120, "body": "@georgetovrea You want to check if <i>any</i> files match <code>2018-08-14-*</code> first? You could assign the result of glob to an array first. <code>my @files = glob(&#39;2018-08-14-*&#39;); if (@files) { # files exist }</code>. However, it&#39;s worth mentioning that in my answer above, it will only enter the <code>for</code> loop if files exist. If <code>glob</code> returned nothing, the loop would not run."}, {"owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "reply_to_user": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1534503111, "post_id": 51833044, "comment_id": 90738221, "body": "@georgetovrea If you have created a filename string and you want to check if it exists first, just use the <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file test operators</a>. <code>my $file =  &quot;$yy-$mm-$dd-$hh-$mm-$ss&quot;; my $path = &quot;&#47;home&#47;httpd&#47;doc&#47;$user&#47;$year&#47;$file&quot;; if (-e $path) { print &quot;$path exists&quot; }</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534902182, "post_id": 51833044, "comment_id": 90867960, "body": "Again: this won&#39;t work.  Their file is in <code>$path</code> directory while your <code>glob</code> seeks the bare filename (without the path)."}], "tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 5, "last_activity_date": 1534503382, "last_edit_date": 1534503382, "creation_date": 1534215013, "answer_id": 51833044, "question_id": 51832909, "link": "https://stackoverflow.com/questions/51832909/how-to-check-file-exists-and-get-file-size-by-substring/51833044#51833044", "title": "how to check file exists and get file size by substring?", "body": "<p>Simplest way would be to use the pattern matching in <a href=\"https://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\"><code>glob</code></a>, and then use <a href=\"https://perldoc.perl.org/functions/stat.html\" rel=\"nofollow noreferrer\"><code>stat</code></a> on the file.</p>\n\n<pre><code>for my $name ( glob('2018-08-14-*') ) { \n    my $size = ( stat($name) )[7];\n    say \"name is '$name', size is $size bytes\";\n}\n</code></pre>\n\n<p>or better yet... use <a href=\"https://perldoc.perl.org/File/stat.html\" rel=\"nofollow noreferrer\"><code>File::stat</code></a></p>\n\n<pre><code>use File::stat;\n\nfor my $name ( glob('2018-08-14-*') ) { \n    my $size = stat($name)-&gt;size;\n    say \"name is '$name', size is $size bytes\";\n}\n</code></pre>\n\n<p>I answered a similar question on <a href=\"https://www.reddit.com/r/perl/comments/8nxgox/globbing_in_different_directory/dzzj7wq/\" rel=\"nofollow noreferrer\">r/perl</a> that's worth reading if you interested in the different ways to do what you want</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you have created a filename variable, and you want to check if it exists, just use the <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file test operators</a></p>\n\n<pre><code>my $file =  \"$yy-$mm-$dd-$hh-$mm-$ss\";\nmy $path = \"/home/httpd/doc/$user/$year/\";\n\nif (-e $path) { say \"$path exists\" }\nif (-d $path) { say \"$path is a dir\" }\nif (-w $path) { say \"$path is a writeable\" }\n\nif (-e \"$path/$file\" &amp;&amp; -r \"$path/$file\" ) {\n    say \"$path/$file exists and is readable\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1534490581, "post_id": 51886810, "comment_id": 90731489, "body": ",but now my problem I don&#39;t know the filename ($yy-$mm-$dd-$hh-$mm-$ss) , only I can get the file name is start with $yy-$mm-$dd , but I don&#39;t know $hh-$mm-$ss ??"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1534508218, "post_id": 51886810, "comment_id": 90741045, "body": "Fair enough. Your original question was a bit vague, but in retrospect I guess you did say that. The answer is edited to extract the filename for each file in the dir, and check for your date string with regex."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1534742954, "post_id": 51886810, "comment_id": 90798572, "body": "The <code>readdir</code> returns bare filename, without the path; so there is no need for <code>basename</code>. But it does return the filename given to it (<code>$_</code>), so this will still work."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1534880197, "post_id": 51886810, "comment_id": 90861602, "body": "Oh yeah, you&#39;re right, thanks. <code>File::Basename</code> is unnecessary because <code>readdir</code> gives you the basenames. I&#39;ll leave it in to avoid confusion by editing it though."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 2, "last_activity_date": 1534593974, "last_edit_date": 1534593974, "creation_date": 1534464319, "answer_id": 51886810, "question_id": 51832909, "link": "https://stackoverflow.com/questions/51832909/how-to-check-file-exists-and-get-file-size-by-substring/51886810#51886810", "title": "how to check file exists and get file size by substring?", "body": "<p>Your path should be double-quoted, if it contains variables. If the path is single-quoted, <code>$file</code> and <code>$year</code> won't get interpolated</p>\n\n<pre><code>use v5.10;\nuse strict;\nuse warnings;\nuse File::Basename;\n\nmy ($user,$year) = @ARGV;\nmy $check = '2018-08-14';\n\nopendir my $dir_handle, \"/home/httpd/doc/$user/$year/\";\n\n# use File::Basename to get the filename from each file in the dir\n# use regex to check if each filename starts with the string to check for\nwhile (readdir $dir_handle) {\n    my $name = basename($_);\n    if ($name =~ /^$check/) {\n        say \"$name found. size: \". -s $dir.$name;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 2, "answer_count": 2, "score": -3, "last_activity_date": 1534593974, "creation_date": 1534213852, "last_edit_date": 1534249466, "question_id": 51832909, "link": "https://stackoverflow.com/questions/51832909/how-to-check-file-exists-and-get-file-size-by-substring", "title": "how to check file exists and get file size by substring?", "body": "<p>I have a directory will create every day file  like '2018-08-14-9-22-4',\nthe file name created is by yyyy-mm-dd-h-m-s, \nhow to check file is exists by substring like '2018-08-14' ?\nand get the file full name  and file size ?</p>\n\n<pre><code>my $file =  \"$yy-$mm-$dd-$hh-$mm-$ss\";\nmy $path = '/home/httpd/doc/$user/$year/[every day file]'\n</code></pre>\n"}, {"tags": ["regex", "excel", "perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1534195988, "post_id": 51830446, "comment_id": 90615990, "body": "You&#39;ve told us what you&#39;re trying to do, but you haven&#39;t told us what&#39;s actually happening! &quot;It&#39;s not working&quot; is not a problem statement."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1534196118, "post_id": 51830446, "comment_id": 90616051, "body": "Hint: <i>Binary <code>&quot;=~&quot;</code> binds a <b>scalar expression</b> to a pattern match.</i> <a href=\"https://perldoc.pl/perlop\" rel=\"nofollow noreferrer\">perldoc.pl/perlop</a>"}], "answers": [{"comments": [{"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1534196958, "post_id": 51831026, "comment_id": 90616281, "body": "Thanks so much @Borodin.  I&#39;ve been working this all day."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1534196765, "creation_date": 1534196765, "answer_id": 51831026, "question_id": 51830446, "link": "https://stackoverflow.com/questions/51830446/use-perl-and-regex-on-excel-cells-to-combine-any-leading-numbers-w-o-whitespaces/51831026#51831026", "title": "Use Perl and Regex on Excel Cells to Combine Any Leading Numbers w/o Whitespaces", "body": "<p><code>$cell-&gt;value</code> is a <em>method call</em>, not a modifiable scalar, so you can't use <code>s///</code> on it</p>\n\n<p>There's also no point in checking whether your substitution had any effect: you just want to write the value to the output whether it changed or not</p>\n\n<p>Refactor your loop like this</p>\n\n<pre><code>for my $row ( $row_min .. $row_max ) {\n\n    for my $col ( $col_min .. $col_max ) {\n\n        my $value = $worksheet_R-&gt;get_cell( $row, $col )-&gt;value;\n\n        $value =~ s/^(\\S+\\s+\\d+)\\s+/$1/;\n\n        $worksheet_W-&gt;write($row, $col, $value);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 51831026, "answer_count": 1, "score": 1, "last_activity_date": 1534196765, "creation_date": 1534193824, "question_id": 51830446, "link": "https://stackoverflow.com/questions/51830446/use-perl-and-regex-on-excel-cells-to-combine-any-leading-numbers-w-o-whitespaces", "title": "Use Perl and Regex on Excel Cells to Combine Any Leading Numbers w/o Whitespaces", "body": "<p>Using Perl and Regex for an Excel cell, I am trying to combine the first leading numbers with whitespaces and leaving the other whitespaces alone in the same cell.  See the examples for the designated input and output.  My code is not giving me the designated output.</p>\n\n<p>In Excel, the cell is as follows:</p>\n\n<pre><code>___________________________\n     A\n___________________________\nApples 2 Green 3 Red\n____________________________\nGrapefruits 3 Pink 2 Yellow\n ___________________________\nPeaches\n___________________________\nGrapes\n___________________________\n</code></pre>\n\n<p>The designated output is as follows:</p>\n\n<pre><code>___________________________\n     A\n___________________________\nApples 2Green 3 Red\n____________________________\nGrapefruits 3Pink 2 Yellow\n___________________________\nPeaches\n___________________________\nGrapes\n___________________________\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>#! /usr/bin/perl\nuse v5.10.0;\nuse warnings;\n\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::ParseExcel::SaveParser;\nuse Spreadsheet::WriteExcel;\n\nmy $parser = Spreadsheet::ParseExcel::SaveParser-&gt;new();\nmy $workbook_R = $parser-&gt;parse('C:\\Perl\\Scripts\\Muliple_Fruits.xls');\n\nmy $workbook_W = Spreadsheet::WriteExcel-&gt;new('C:\\Perl\\Scripts\\New_Multiple_Fruits.xls');\nmy $worksheet_W = $workbook_W-&gt;add_worksheet();\n\nfor my $worksheet_R ( $workbook_R-&gt;worksheets() ){\n\nmy ( $row_min, $row_max ) = $worksheet_R-&gt;row_range();\nmy ( $col_min, $col_max ) = $worksheet_R-&gt;col_range(); \n\n  for my $row ( $row_min .. $row_max ) {\n  for my $col ( $col_min .. $col_max ) {\n\n  my $cell = $worksheet_R-&gt;get_cell( $row, $col );\n\n  #if the cell contains a leading number with a space then combine it\n\n  if ($cell-&gt;value =~ s/^(\\S+\\s+\\d+)\\s+/$1/) {\n  $worksheet_W-&gt;write($row, $col,$cell-&gt;value())\n  }\n\n #print the existing cell contents\n else {\n $worksheet_W-&gt;write($row, $col, $cell-&gt;value);\n      } \n    }\n   }\n  }\n</code></pre>\n"}, {"tags": ["bash", "perl", "xargs"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1534192783, "post_id": 51830172, "comment_id": 90614796, "body": "I am not sure of all that&#39;s involved in your pipeline, but see three ways to pass arguments from bash to Perl one-liner in <a href=\"https://stackoverflow.com/a/51713578/4653379\">this post</a>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1534193226, "post_id": 51830172, "comment_id": 90614973, "body": "Proposal (3) is a source of major security vulnerabilities. Actually-exploited-in-the-real-world security vulnerabilities -- search for &quot;shell injection&quot;; injecting data as code into a perl interpreter is just as bad as injecting it into a shell. Don&#39;t do that, <i>especially</i> when you&#39;re processing 1.5GB of data and can&#39;t read through it by hand to find any <code>&quot;+system(&quot;rm -rf ~&quot;)+&quot;</code> substrings."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1534193405, "post_id": 51830172, "comment_id": 90615059, "body": "(For that matter, <code>xargs</code> without <code>-0</code> or <code>-d $&#39;\\n&#39;</code> is also considered bad practice in the bash world for some rather good reasons; see <a href=\"http://mywiki.wooledge.org/UsingFind#Actions_in_bulk:_xargs.2C_-print0_and_-exec_.2B-\" rel=\"nofollow noreferrer\">the &quot;Actions in Bulk&quot; section of Using Find</a>)."}, {"owner": {"reputation": 100758, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 0, "creation_date": 1534193462, "post_id": 51830172, "comment_id": 90615085, "body": "Is <code>--setvar</code> a thing, or something you made up?"}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534195058, "post_id": 51830172, "comment_id": 90615680, "body": "--setvar is a thing I made up to demonstrate what I&#39;m trying to do. The data is 100% trusted and this is a &quot;one-shot&quot; program I&#39;m using to search data. @zdim I think proposal 2  answers my question.  I don&#39;t believe the question itself is a duplicate so if you want to post as answer I&#39;ll accept. Any edits to my question to improve searchability are welcome."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1534195412, "post_id": 51830172, "comment_id": 90615793, "body": "And @CharlesDuffy agree. I was being sloppy and I&#39;ll fix. I trust the data (and know how it is formatted) but no reason not to use -0"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534197064, "post_id": 51830172, "comment_id": 90616310, "body": "@zzxyz  That may be a good idea since the title is crystal clear (while that one is a different business).  However, there is more involved here and I am still not quite sure of it all -- do you mean: by <code>--setvar</code> to indicate that you want some way to &quot;set a var&quot;, which would be the shell variable <code>pipeContents</code>, which would be set to the current phrase processed by <code>xargs</code> (is that what <code>{}</code> do here?) ... ?  That&#39;s quite a bit rolled into one :)  I can&#39;t suggest another way since I&#39;m also unsure of the whole context; is <code>xargs</code> crucial here or not?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534200373, "post_id": 51830172, "comment_id": 90617185, "body": "Re &quot;<i>3)</i>&quot;, You mean like <code>echo abc | xargs -i perl -E&#39;say &quot;&lt;{}&gt;&quot;&#39;</code>? Well, it &quot;works&quot; (because <code>xargs</code> sees two string, <code>perl</code> and <code>-Esay &quot;&lt;{}&gt;&quot;</code>, and it replaces all instances of <code>{}</code> in those strings), but don&#39;t do that. Generating Perl code from the shell is a BAD idea."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1534203473, "post_id": 51830172, "comment_id": 90617885, "body": "I just realized ikegami and Charles Duffy were referring to <i>my</i> proposal #3, and not option #3 from zdim&#39;s link.  Fair enough, and the <code>-s</code> option keeps that from being desirable."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534206188, "post_id": 51830172, "comment_id": 90618355, "body": "@zdim - Regarding clarifying my question, you may have figured it out, but <code>xargs -i</code>.  Well, create a directory with 3 files and then do <code>find . -print0 | xargs -0 echo hello</code> and <code>find . -print0 | xargs -0 -i echo {} hello</code>  Two things.  It allows you to put the pipe &quot;output&quot; wherever.  It has the side-effect of <code>-n1</code>, which, for example, has the side-effect of causing perl to output correct file line numbers with <code>$.</code> ...and slowing perl WAY down if there are a ton of files."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1534267670, "post_id": 51830172, "comment_id": 90646983, "body": "thank you for explanation -- yes, I know <code>xargs</code> but I wasn&#39;t sure whether it was integral to what you want, or used only to &quot;<i>demonstrate...</i>&quot;. I also wasn&#39;t sure what altogether the goal was.  But it&#39;s all good now, you&#39;ve got a <i>really thorough</i> analysis from ikegami :)"}], "answers": [{"comments": [{"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1534204128, "post_id": 51831085, "comment_id": 90618004, "body": "I&#39;m gonna be a day or so processing this answer:)  Regarding bulletpoint #2...it&#39;s a great point.  I really don&#39;t even need a regex for the last bit...Just a straight compare or &quot;string begins with&quot;.  That said, a few extra results are fine.  They are going to a terminal, where I&#39;m inspecting them by hand.  I&#39;m basically looking at a text dump of a SQL-style database...manually inspecting the data, more or less."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1534253684, "post_id": 51831085, "comment_id": 90638588, "body": "kudos on the detail in the answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1534258196, "last_edit_date": 1534258196, "creation_date": 1534197137, "answer_id": 51831085, "question_id": 51830172, "link": "https://stackoverflow.com/questions/51830172/pass-an-argument-from-bash-to-perl-without-use-of-argv/51831085#51831085", "title": "pass an argument from bash to perl without use of ARGV", "body": "<p>Two notes before I start:</p>\n\n<ul>\n<li>The trailing <code>|</code> in the pattern will cause every line to match. It needs to be removed.</li>\n<li><code>/3346|10989|95459|139670|2239329|3195595|3210017/</code> will match <code>9993346</code>, so you need to anchor the pattern.</li>\n</ul>\n\n<p>Fixes for these problems are present in all of the following solutions.</p>\n\n<hr>\n\n<p>You can pass data to a program through</p>\n\n<ul>\n<li>Argument list</li>\n<li>Environment</li>\n<li>An open file descriptor (e.g. stdin, but fd 3 or higher could also be used) to a pipe</li>\n<li>External storage (file, database, memcache daemon, etc)</li>\n</ul>\n\n<p>You can still use the argument list. You just need to remove the argument from <code>@ARGV</code> before the loop starts by using <code>BEGIN</code> or avoiding <code>-n</code>.</p>\n\n<pre><code>perl -ne'print if /ENGPacific Beach\\s\\s/' 15AM171H0N15000GAJK5 |\nperl -ane'push @p, $F[1]; END { print join \"|\", @p; }' |\nxargs -i perl -ane'\n    BEGIN { $p = shift(@ARGV); }\n    print if $F[3] =~ /^(?:$p)\\z/;\n' {} 15AM171H0N15000GAJK5\n</code></pre>\n\n<p>Perl also has a built-in argument parsing function in the form of <code>-s</code> you could utilize.</p>\n\n<pre><code>perl -ne'print if /ENGPacific Beach\\s\\s/' 15AM171H0N15000GAJK5 |\nperl -ane'push @p, $F[1]; END { print join \"|\", @p; }' |\nxargs -i perl -sane'print if $F[3] =~ /^(?:$p)\\z/' -- -p={} 15AM171H0N15000GAJK5\n</code></pre>\n\n<p><code>xargs</code> doesn't seem to have an option to set an environment variable, so taking that approach gets a little complicated.</p>\n\n<pre><code>perl -ne'print if /ENGPacific Beach\\s\\s/' 15AM171H0N15000GAJK5 |\nperl -ane'push @p, $F[1]; END { print join \"|\", @p; }' |\nxargs -i sh -c '\n    P=\"$1\" perl -ane'\\''print if $F[3] =~ /^(?:$ENV{P})\\z/'\\'' 15AM171H0N15000GAJK5\n' dummy {}\n</code></pre>\n\n<p>It's weird to involve <code>xargs</code> for a single line. If we avoid <code>xargs</code>, we can turn the above (ugly) command inside out, giving something quite nice.</p>\n\n<pre><code>P=\"$(\n    perl -ne'print if /ENGPacific Beach\\s\\s/' 15AM171H0N15000GAJK5 |\n    perl -ane'push @p, $F[1]; END { print join \"|\", @p; }'\n)\" perl -ane'print if $F[3] =~ /^(?:$ENV{P})\\z/' 15AM171H0N15000GAJK5\n</code></pre>\n\n<p>By the way, you don't need a second <code>perl</code> to split only the matching lines.</p>\n\n<pre><code>P=\"$(\n    perl -ne'\n       push @p, (split)[1] if /ENGPacific Beach\\s\\s/;\n       END { print join \"|\", @p; }\n    ' 15AM171H0N15000GAJK5\n)\" perl -ane'print if $F[3] =~ /^(?:$ENV{P})\\z/' 15AM171H0N15000GAJK5\n</code></pre>\n\n<p>That said, I think using <code>$ENV{P}</code> repeatedly should be avoided to speed things up.</p>\n\n<pre><code>P=... perl -ane'print if $F[3] =~ /^(?:$ENV{P})\\z/o' 15AM171H0N15000GAJK5\n</code></pre>\n\n<p>From there, I see two possible speed improvements. (Test to be sure.)</p>\n\n<ol>\n<li><p>Avoiding splitting entirely in the last <code>perl</code>.</p>\n\n<pre><code>P=... perl -ne'\n   BEGIN { $re = qr/^(?:\\S+\\s+){3}(?:$ENV{P})\\s/o; }\n   print if /$re/o;\n' 15AM171H0N15000GAJK5\n</code></pre></li>\n<li><p>Avoiding regular expressions entirely in the last <code>perl</code>.</p>\n\n<pre><code>P=... perl -ane'\n   BEGIN { %h = map { $_ =&gt; 1 } split /\\|/, $ENV{P} }\n   print if $h{$F[3]};\n' 15AM171H0N15000GAJK5\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534199984, "post_id": 51831313, "comment_id": 90617110, "body": "Good idea. Added <code>-s</code> to my answer. (heh, <code>perl -sane</code>) Still think avoiding <code>xargs</code> is the way to go, though. But you can still do that with <code>-s</code> by changing <code>P=&quot;$( ... )&quot; perl -ane&#39;...$ENV{P}...&#39; filename</code> into <code>perl -sane&#39;...$p...&#39; -- -p=&quot;$( ... )&quot; filename</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534227676, "post_id": 51831313, "comment_id": 90623396, "body": "@ikegami Absolutely agree on <code>xargs</code>. (I think that they have it only as a way to show what they want?) I didn&#39;t discuss anything else because of your absolutely exhaustive answer. I think I&#39;d still leave this post since it provides details on <code>-s</code>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1546812082, "last_edit_date": 1546812082, "creation_date": 1534198629, "answer_id": 51831313, "question_id": 51830172, "link": "https://stackoverflow.com/questions/51830172/pass-an-argument-from-bash-to-perl-without-use-of-argv/51831313#51831313", "title": "pass an argument from bash to perl without use of ARGV", "body": "<p>A handy way to pass arguments is via the <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\"><code>-s</code> switch</a>, which enables command-line switches for the program </p>\n\n<pre><code>perl -s -E'say $var' -- -var=value\n</code></pre>\n\n<p>The <code>--</code> after the program marks the start of arguments for the program. Then <code>-var</code> introduces a variable <code>$var</code> into the program, with a value for it supplied after <code>=</code>; what is there is expanded by the shell first. With just <code>-var</code> the variable <code>$var</code> gets value <code>1</code>.</p>\n\n<p>Any such options must come before possible filenames, and they are removed from <code>@ARGV</code> so the program can normally process the submitted files</p>\n\n<pre><code>perl -s -ne'...' -- -var=\"$SHELL_VAR\" filename\n</code></pre>\n\n<p>where <code>-var={}</code> works, too. In some shells  (<code>tcsh</code> for one) it may need be escaped, <code>\\{\\}</code>. </p>\n\n<p>However, I also think that it'd be better to not go to <code>xargs</code>. See <a href=\"https://stackoverflow.com/a/51831085/4653379\">ikegami's answer</a> for an extremely rounded discussion and various ways, as well as their comment beneath this post for how to avoid it with <code>-s</code>.</p>\n"}], "owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 51831085, "answer_count": 2, "score": 1, "last_activity_date": 1546812082, "creation_date": 1534192485, "last_edit_date": 1534207103, "question_id": 51830172, "link": "https://stackoverflow.com/questions/51830172/pass-an-argument-from-bash-to-perl-without-use-of-argv", "title": "pass an argument from bash to perl without use of ARGV", "body": "<p>Very simple question (I think) that I'm surprised I can't seem to find an answer to.  So I have the following so far:</p>\n\n<pre><code>\u00a3 perl -ne 'print if /ENGPacific Beach\\s\\s/' 15AM171H0N15000GAJK5 \\\n| perl -ane 'print \"$F[1]|\";END{print \"\\0\"}' | xargs -i -0 echo {}\n    3346|10989|95459|139670|2239329|3195595|3210017|\n</code></pre>\n\n<p>So....the first pipe is because the file is 1.5G, so not doing record separation initially greatly speeds things up.  The <code>xargs</code> part is to demonstrate what I'm trying to do.  Which is basically the following</p>\n\n<pre><code>| xargs -i perl --setperlvar pipeContents={} -ane 'print if $F[3] =~ /$pipeContents/' 15AM171H0N15000GAJK5\n</code></pre>\n\n<p>1) I know I could use ARGV in a script.  I know the whole thing should just be a single script.  Let's ignore those bits. My love for <code>-n</code> knows no bounds.</p>\n\n<p>2) Sorry I couldn't find this myself..I'm sure it's incredibly obvious...I did some digging in perldoc and found nothing, though.</p>\n\n<p>3) I'd be interested in a bash/zsh solution that forces the <code>{}</code> to be interpreted by the shell in the middle of the perl ticks as well.</p>\n"}, {"tags": ["perl", "http"], "answers": [{"comments": [{"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1534256946, "post_id": 51830583, "comment_id": 90640874, "body": "that did the trick - should I delete the question to hide traces of my dumbness? The question still stands though - I&#39;ve had instances in which LWP::UserAgent worked, and Mojo::UserAgent did not - are there fundamental differences? A notable case is nltm - which seems to be made to work in LWP but not Mojo."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 1, "creation_date": 1534259799, "post_id": 51830583, "comment_id": 90642808, "body": "@simone: No, let your question stand: it can be useful for others in the same situation. <code>Mojo::UserAgent</code> should be able to work in all the situations that <code>LWP::UserAgent</code> does given the same parameters. I would have to see individual samples of code to explain it. Ask another question and show a non-working program together with any symptoms and output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "edited": false, "score": 0, "creation_date": 1534259916, "post_id": 51830583, "comment_id": 90642865, "body": "@simone: By the way, you don&#39;t need to create a <code>Mojo::URL</code> object unless you want to: the string on its own is fine, and the module is there for manipulating URLs conveniently."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1534194908, "last_edit_date": 1534194908, "creation_date": 1534194534, "answer_id": 51830583, "question_id": 51829914, "link": "https://stackoverflow.com/questions/51829914/why-does-lwpuseragent-succeed-and-mojouseragent-fail/51830583#51830583", "title": "Why does LWP::UserAgent succeed and Mojo::UserAgent fail?", "body": "<p>Your call to</p>\n\n<pre><code>$mojo_ua-&gt;get($url, $headers)\n</code></pre>\n\n<p>has already sent the HTTP request and received the response from the server, errored, or timed out. You don't need to call</p>\n\n<pre><code>$mojo_ua-&gt;start($tx)\n</code></pre>\n\n<p>as well, and that statement should be removed</p>\n\n<p>If you really want to first build the transaction and then <code>start</code> it, you need</p>\n\n<pre><code>my $tx = $mojo_ua-&gt;build_tx(GET =&gt; $url, $headers);\n$tx    = $mojo_ua-&gt;start($tx);\n</code></pre>\n\n<p>but I don't see any reason why you should need to do it this way</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 51830583, "answer_count": 1, "score": 1, "last_activity_date": 1534194908, "creation_date": 1534191171, "question_id": 51829914, "link": "https://stackoverflow.com/questions/51829914/why-does-lwpuseragent-succeed-and-mojouseragent-fail", "title": "Why does LWP::UserAgent succeed and Mojo::UserAgent fail?", "body": "<p>If I make a request like this:</p>\n\n<pre><code>my $mojo_ua = Mojo::UserAgent-&gt;new-&gt;max_redirects(5);\n\n$mojo_ua-&gt;inactivity_timeout(60)-&gt;connect_timeout(60)-&gt;request_timeout(60);;\n$mojo_ua-&gt;transactor-&gt;name('Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36');\n\nmy $headers = {\n           'Accept' =&gt; 'application/json',\n           'Accept-Language' =&gt; 'en-US,en;q=0.5',\n           'Connection' =&gt; 'keep-alive',\n           'User-Agent' =&gt; 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36',\n           'x-csrf-token' =&gt; 'Fetch',\n           'Accept-Encoding' =&gt; 'gzip, deflate, br',\n           'DataServiceVersion' =&gt; '2.0',\n           'MaxDataServiceVersion' =&gt; '2.0',\n           'Referer' =&gt; 'https://blah.blas.com/someThing.someThing'\n         };\n\nmy $url = Mojo::URL-&gt;new('https://blah.blah.com/irj/go/sap/FOO_BAR_BAZ/');\n\nmy $tx = $mojo_ua-&gt;get($url, $headers);\n$tx = $mojo_ua-&gt;start($tx);\nmy $res = $tx-&gt;result;\n</code></pre>\n\n<p>the request times out, but if I take the exact same request, built in the same way and do this:</p>\n\n<pre><code>my $lwp_ua = LWP::UserAgent-&gt;new;\n\nmy $req = HTTP::Request-&gt;parse( $tx-&gt;req-&gt;to_string );\n$req-&gt;uri(\"$url\");\nmy $res = $lwp_ua-&gt;request($req);\n</code></pre>\n\n<p>it succeeds.</p>\n\n<p>It happens in a few cases that Mojo::UserAgent fails, and LWP::UserAgent succeeds with exactly the same transaction, and I'm starting to get curious.</p>\n\n<p>Any idea as to why?</p>\n"}, {"tags": ["linux", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1534191192, "post_id": 51829807, "comment_id": 90614138, "body": "What is the question?"}, {"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1534191272, "post_id": 51829807, "comment_id": 90614171, "body": "the question is - How to add properties in the end of the two first lines with double quote , as I explained in the expected results"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1534191355, "post_id": 51829807, "comment_id": 90614210, "body": "It looks like you&#39;ve given a list of requirements rather than a question."}, {"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1534191482, "post_id": 51829807, "comment_id": 90614264, "body": "yes the requirements 1-3 are because my solution isn&#39;t good enough , so I just mentions what should be"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1534192278, "post_id": 51829807, "comment_id": 90614586, "body": "What I&#39;m getting at is that it appears that you&#39;ve just copied and pasted some code from somewhere without understanding what it does or making any attempt to modify it to do what you need to do."}, {"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1534192650, "post_id": 51829807, "comment_id": 90614735, "body": "not exactly , I just start with that , but I am stuck with the remarks that I mentioned , I can continue to find solution but I need advice"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534194038, "post_id": 51829807, "comment_id": 90615321, "body": "Are there really blank lines like that in the file?"}, {"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "edited": false, "score": 0, "creation_date": 1534194246, "post_id": 51829807, "comment_id": 90615404, "body": "if you mean about the empty lines , then its only example , you can ignore the empty lines"}], "answers": [{"comments": [{"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "edited": false, "score": 0, "creation_date": 1534192928, "post_id": 51830186, "comment_id": 90614859, "body": "can we use your script as perl line liner so I will able to insert it to my bash script?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "edited": false, "score": 1, "creation_date": 1534193032, "post_id": 51830186, "comment_id": 90614903, "body": "Sure. Any Perl program could theoretically be written as a one-liner."}, {"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "edited": false, "score": 0, "creation_date": 1534193230, "post_id": 51830186, "comment_id": 90614975, "body": "ok , I will try to convert it to one line , I will update , if it success"}, {"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "edited": false, "score": 0, "creation_date": 1534202510, "post_id": 51830186, "comment_id": 90617679, "body": "any way I answered also to my question , so if my answer is good for you , then you can up vote my answer -:)"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1534192572, "creation_date": 1534192572, "answer_id": 51830186, "question_id": 51829807, "link": "https://stackoverflow.com/questions/51829807/how-to-add-properties-in-the-end-of-the-two-first-lines-with-double-quote/51830186#51830186", "title": "How to add properties in the end of the two first lines with double quote", "body": "<p>Perhaps this will give you some inspiration:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $i = 0;\n\nwhile (&lt;&gt;) {\n    if ($i &lt; 2 &amp;&amp; /HBASE_MASTER_OPTS/ &amp;&amp; !/UseGCLogFileRotation/) {\n        s/\"$/ -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\"/;\n        $i++;\n    }\n\n    print;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>$ perl a.pl foo.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1577040652, "post_id": 51831407, "comment_id": 105076913, "body": "<i>\uff0b1</i> for keeping the site tidy."}], "tags": [], "owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "is_accepted": false, "score": 2, "last_activity_date": 1534201501, "last_edit_date": 1534201501, "creation_date": 1534199304, "answer_id": 51831407, "question_id": 51829807, "link": "https://stackoverflow.com/questions/51829807/how-to-add-properties-in-the-end-of-the-two-first-lines-with-double-quote/51831407#51831407", "title": "How to add properties in the end of the two first lines with double quote", "body": "<pre><code>awk '/HBASE_MASTER_OPTS/&amp;&amp;/ -XX:\\+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M/{x++;print;next}/HBASE_MASTER_OPTS/&amp;&amp;x&lt;2{gsub(/\"$/,\" -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\\\"\");x++}1' ams-hbase-env-template.txt\n</code></pre>\n\n<p>test:</p>\n\n<pre><code> awk '/HBASE_MASTER_OPTS/&amp;&amp;/ -XX:\\+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M/{x++;print;next}/HBASE_MASTER_OPTS/&amp;&amp;x&lt;2{gsub(/\"$/,\" -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\\\"\");x++}1' example.txt\n\n\n\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\"\n\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=71 -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\"\n\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=72 -XX:+UseCMSInitiatingOccupancyOnly\"\n\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=73 -XX:+UseCMSInitiatingOccupancyOnly\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "edited": false, "score": 0, "creation_date": 1534203102, "post_id": 51831842, "comment_id": 90617804, "body": "very nice , I will test it on my Linux machine soon , btw what you think about my answer ?"}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": true, "score": 2, "last_activity_date": 1534202952, "creation_date": 1534202952, "answer_id": 51831842, "question_id": 51829807, "link": "https://stackoverflow.com/questions/51829807/how-to-add-properties-in-the-end-of-the-two-first-lines-with-double-quote/51831842#51831842", "title": "How to add properties in the end of the two first lines with double quote", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed '/HBASE_MASTER_OPTS/{x;s/^/x/;/^x\\{1,2\\}$/{x;/-XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M/b;s/\"\\s*$/ -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\"/;x};x}' file\n</code></pre>\n\n<p>On a line containing <code>HBASE_MASTER_OPTS</code> increment a counter in the hold space and if that counter contains 1 or 2, and does not contain the string <code>-XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M</code> then replace the last <code>\"</code> with <code>-XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\"</code>, otherwise do nothing to the line.</p>\n"}], "owner": {"reputation": 1017, "user_id": 10194070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWbkw.png?s=128&g=1", "display_name": "Judy", "link": "https://stackoverflow.com/users/10194070/judy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 51831842, "answer_count": 3, "score": 0, "last_activity_date": 1534266146, "creation_date": 1534190648, "last_edit_date": 1534194301, "question_id": 51829807, "link": "https://stackoverflow.com/questions/51829807/how-to-add-properties-in-the-end-of-the-two-first-lines-with-double-quote", "title": "How to add properties in the end of the two first lines with double quote", "body": "<p>We want to add the following properties:</p>\n\n<pre><code>-XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\n</code></pre>\n\n<p>in the two first lines that contain the word - <strong>HBASE_MASTER_OPTS</strong></p>\n\n<p><em>Example before change</em></p>\n\n<pre><code>more ams-hbase-env-template.txt\n\n\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly\"\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=71 -XX:+UseCMSInitiatingOccupancyOnly\"\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=72 -XX:+UseCMSInitiatingOccupancyOnly\"\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=73 -XX:+UseCMSInitiatingOccupancyOnly\"\n</code></pre>\n\n<p><em>Example after change ( expected results )</em></p>\n\n<pre><code>export HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=70 -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\"\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=71 -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M\"\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=72 -XX:+UseCMSInitiatingOccupancyOnly\"\nexport HBASE_MASTER_OPTS=\" -XX:CMSInitiatingOccupancyFraction=73 -XX:+UseCMSInitiatingOccupancyOnly\"\n</code></pre>\n\n<p>What I did until now is that</p>\n\n<pre><code>sed -i '/HBASE_MASTER_OPTS/ s/$/-XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=2M/' ams-hbase-env-template.txt\n</code></pre>\n\n<p>But this isnt right becauae </p>\n\n<ol>\n<li><p>we want the properties before the end of double quote</p></li>\n<li><p>properties must be only on the first two lines that variable is HBASE_MASTER_OPTS</p></li>\n<li><p><strong>in case properties already in line, then it will not append again on any next time!</strong></p></li>\n</ol>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 5, "creation_date": 1534184159, "post_id": 51828295, "comment_id": 90610939, "body": "<code>I&#39;ve been working with regular expressions although unsuccessful</code> Please include what you have tried."}, {"owner": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1534184641, "post_id": 51828295, "comment_id": 90611195, "body": "This is kind of a weird way to do it, but <a href=\"https://regex101.com/r/ilvs9G/2\" rel=\"nofollow noreferrer\">it works</a>"}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1534185713, "post_id": 51828295, "comment_id": 90611731, "body": "I don&#39;t understand why this was voted down.  This was a nice puzzle where I could not find the right combination using RegEx."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1534186120, "post_id": 51828295, "comment_id": 90611936, "body": "@user1608954 The question itself isn&#39;t bad, but you&#39;re expected to show the code that isn&#39;t working. Some people might interpret this as a &quot;gimme teh codez&quot; type of question."}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 3, "creation_date": 1534188724, "post_id": 51828295, "comment_id": 90613115, "body": "@user1608954 Please read: <a href=\"https://stackoverflow.com/help/how-to-ask\"><b>How do I ask a good question?</b></a>"}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 2, "creation_date": 1534248041, "post_id": 51828295, "comment_id": 90634795, "body": "I have edited the question with more details, including my code."}], "answers": [{"comments": [{"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1534184883, "post_id": 51828451, "comment_id": 90611300, "body": "Great!  This will work!  There are so many combinations with RegEx that at times it really puzzles me."}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": true, "score": 1, "last_activity_date": 1534184735, "creation_date": 1534184735, "answer_id": 51828451, "question_id": 51828295, "link": "https://stackoverflow.com/questions/51828295/remove-spaces-between-leading-numbers-in-perl/51828451#51828451", "title": "Remove spaces between leading numbers in Perl", "body": "<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw/say/;    \n\nmy $s = \"Apples 2 Green 3 Red\";\n$s =~ s/^(\\S+\\s+\\d+)\\s+/\\1/;\nsay $s;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "is_accepted": false, "score": 0, "last_activity_date": 1534184883, "creation_date": 1534184883, "answer_id": 51828481, "question_id": 51828295, "link": "https://stackoverflow.com/questions/51828295/remove-spaces-between-leading-numbers-in-perl/51828481#51828481", "title": "Remove spaces between leading numbers in Perl", "body": "<p>\u0391 one-liner:</p>\n\n<pre><code>perl -lpe 's/([0-9])\\s/\\1/' &lt;(echo 'Apples 2 Green 3 Red \\nApples 5 Yellow 4 Rotten')\n</code></pre>\n"}], "owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 51828451, "answer_count": 2, "score": -1, "last_activity_date": 1534264058, "creation_date": 1534184095, "last_edit_date": 1534249754, "question_id": 51828295, "link": "https://stackoverflow.com/questions/51828295/remove-spaces-between-leading-numbers-in-perl", "title": "Remove spaces between leading numbers in Perl", "body": "<p>In Perl, how do I remove the whitespace between the leading numbers but keep the whitespaces for the rest of the string for each line?  I'm using regular expressions (regex) in Perl, however the combination of letters/symbols for my Regex gives an incorrect output.</p>\n\n<p>So here is the input with 2 lines of apples:</p>\n\n<pre><code>Apples 2 Green 3 Red\nApples 5 Yellow 4 Rotten\n</code></pre>\n\n<p>I want to remove the whitespace between 2 and Green &amp; 5 and Yellow but keep the other whitespaces.</p>\n\n<p>So the output should look like this:</p>\n\n<pre><code>Apples 2Green 3 Red\nApples 5Yellow 4 Rotten\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse 5.10.0;\nuse warnings;\n\nmy $Combine_Leading_Numbers1 = \"Apples 2 Green 3 Red\";\nmy $Combine_Leading_Numbers2 = \"Apples 5 Yellow 4 Rotten\";\n\n$Combine_Leading_Numbers1 =~ s/^(\\s\\d);\n$Combine_Leading_Numbers2 =~ s/^(\\s\\d);\n\nsay $Combine_Leading_Numbers1;\nsay $Combine_Leading_Numbers2; \n</code></pre>\n"}, {"tags": ["database", "perl", "sybase", "sap-ase", "dbi"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534183199, "post_id": 51827992, "comment_id": 90610484, "body": "Does the situation (And fix) described <a href=\"https://www.perlmonks.org/?node_id=663835\" rel=\"nofollow noreferrer\">here</a> apply to your case?"}, {"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534185565, "post_id": 51827992, "comment_id": 90611659, "body": "Gave that a shot and isn&#39;t working.  I tried <code>$dbh-do(&quot;set textsize &lt;100000&quot;);</code>  That threw an error.  Tried <code>$dbh-&gt;do(&quot;set textsize 100000&quot;);</code> Nothing changed.  Still truncating the varchar to 255."}, {"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534244125, "post_id": 51827992, "comment_id": 90632403, "body": "Does <code>DBI</code> limit the varchar field to 255?"}, {"owner": {"reputation": 1399, "user_id": 3857002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d723ed492dde5408b8839a82ef472cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Ed.", "link": "https://stackoverflow.com/users/3857002/ed"}, "edited": false, "score": 0, "creation_date": 1535222830, "post_id": 51827992, "comment_id": 90990891, "body": "It might help to set the environment variable <code>DBI_TRACE</code> to some value 1-15 (though 15 gives A LOT) of info, to see more of what&#39;s going on."}], "answers": [{"tags": [], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "is_accepted": false, "score": 0, "last_activity_date": 1535365628, "creation_date": 1535365628, "answer_id": 52037287, "question_id": 51827992, "link": "https://stackoverflow.com/questions/51827992/perl-truncating-varchar-fields-over-255-on-syabse-database/52037287#52037287", "title": "perl truncating varchar fields over 255 on syabse database", "body": "<p>I rewrote the store procedure and casted the varchar as text and that worked.  I did come across I can't find the link.  But the version of free tds I am using is older and freetds does limit varchar to 255.  I would have to upgrade to a different version.</p>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535365628, "creation_date": 1534182872, "question_id": 51827992, "link": "https://stackoverflow.com/questions/51827992/perl-truncating-varchar-fields-over-255-on-syabse-database", "title": "perl truncating varchar fields over 255 on syabse database", "body": "<p>I am running stored procedure and the data in the <code>varchar(1024)</code> field is being truncated.  The data inserts without any issues.  When I run my stored procedure to retrieve the data it is getting truncated.<br>\nI am using <code>perl 5, version 22</code>. Sybase <code>ASE 15.7</code> DBI version <code>1.634</code></p>\n\n<p>If I call the stored procedure using sqsh all of the data comes back.  If I call the stored procedure using <code>pyodbc</code> all of the data comes back.  When I use perl the <code>varchar 1024</code> field is being truncated to 255 characters.\nI have tired setting <code>$dbh-&gt;{'LongReadLen'} = 4000;</code> but nothing.  </p>\n"}, {"tags": ["perl", "attributes", "moose"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 8071557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QDGXY.jpg?s=128&g=1", "display_name": "acw", "link": "https://stackoverflow.com/users/8071557/acw"}, "edited": false, "score": 0, "creation_date": 1534187674, "post_id": 51827864, "comment_id": 90612643, "body": "The option of defining a method occurred to me. Downside is that it&#39;s not a general solution. Tie-ing did not occur to me. What did occur to me was subclassing Tie::IxHash, with MooseX::NonMoose. Which has about the same result. Perhaps that would be the best course of action."}], "tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": true, "score": 2, "last_activity_date": 1534182248, "creation_date": 1534182248, "answer_id": 51827864, "question_id": 51827583, "link": "https://stackoverflow.com/questions/51827583/how-to-monitor-changes-in-an-attribute-as-opposted-to-change-of-the-attribut/51827864#51827864", "title": "How to monitor changes in an attribute? (as opposted to change /of/ the attribute)", "body": "<p>Operations like <code>push</code> are not performed on the attribute itself, but on the array object referenced by that attribute.</p>\n\n<p>The only reliable way to observe such operations is therefore from within that array object \u2013 by <a href=\"http://perldoc.perl.org/functions/tie.html\" rel=\"nofollow noreferrer\"><code>tie</code></a>-ing it to an appropriate class. But this is fairly dark Perl magic and generally inadvisable (slow, difficult to do correctly, may expose bugs in other modules, and very low-level).</p>\n\n<p>The often better approach is to choose a design that stops exposing an array reference. E.g. instead of <code>push @{ $foo-&gt;attribute }, 42</code> you might offer a method <code>$foo-&gt;push_attribute(42)</code>. In that method you can implement any hooks you need.</p>\n"}], "owner": {"reputation": 437, "user_id": 8071557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QDGXY.jpg?s=128&g=1", "display_name": "acw", "link": "https://stackoverflow.com/users/8071557/acw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 51827864, "answer_count": 1, "score": 3, "last_activity_date": 1534182248, "creation_date": 1534180963, "question_id": 51827583, "link": "https://stackoverflow.com/questions/51827583/how-to-monitor-changes-in-an-attribute-as-opposted-to-change-of-the-attribut", "title": "How to monitor changes in an attribute? (as opposted to change /of/ the attribute)", "body": "<p>Often I use Perl/Moose attributes that hold a collection of objects. I know it's possible to monitor if the attribute as a whole is set. In that case a <a href=\"https://metacpan.org/pod/release/FLORA/Moose-0.96/lib/Moose/Manual/Attributes.pod#Triggers\" rel=\"nofollow noreferrer\" title=\"Triggers in the Moose Manual\">trigger</a> can be used. This makes it also possible to monitor objects in an attribute. But how to monitor the collection? Is it possible to monitor if an object is added if the attribute is - for example - an array of objects?</p>\n\n<p>What I'm looking for is a kind of <a href=\"https://metacpan.org/pod/release/FLORA/Moose-0.99/lib/Moose/Manual/Concepts.pod#Method_modifiers\" rel=\"nofollow noreferrer\" title=\"Method modifiers in the Moose Manual\">method modifier</a> such as \"before\" or \"around\" for when a build-in function such as push or shift is called on an attribute. This would allow for very general solutions for things like only save if there are changes.</p>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534179725, "post_id": 51826900, "comment_id": 90608785, "body": "You seem to have two unrelated questions? Please post them as separate Questions."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534179829, "post_id": 51826900, "comment_id": 90608829, "body": "I use Cpanel::JSON::XS. Its <code>encode_json</code> is short for <code>Cpanel::JSON::XS-&gt;new-&gt;utf8-&gt;encode</code>. It produces JSON encoded using UTF-8. It doesn&#39;t provide a function named <code>to_json</code>, which typically produces JSON that hasn&#39;t been encoded. You can use <code>Cpanel::JSON::XS-&gt;new-&gt;encode</code> for that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534180029, "post_id": 51826900, "comment_id": 90608952, "body": "What problem are you having with <code>convert_blessed</code>?"}, {"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534180803, "post_id": 51826900, "comment_id": 90609366, "body": "@ikegami Those question is just for knowledge purpose. My main problem is that how I insert custom dates (from MySQL format) into MongoDB ISODate."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534194924, "post_id": 51826900, "comment_id": 90615635, "body": "I don&#39;t know anything about MongoDB."}], "answers": [{"comments": [{"owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "edited": false, "score": 0, "creation_date": 1534260189, "post_id": 51844799, "comment_id": 90643038, "body": "For the timezone bit, you&#39;ll need to learn to work with DateTime objects, both when parsing and after you&#39;ve round-tripped it, because MongoDB datetimes only use UTC."}, {"owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1534509537, "post_id": 51844799, "comment_id": 90741814, "body": "Thanks a lot for your help. The date is storing in MongoDB as ISODate but it by default adding different timezone. how I force it to store the date with -0500 timezones."}, {"owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "reply_to_user": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1534523344, "post_id": 51844799, "comment_id": 90750085, "body": "I&#39;m not entirely sure I understand your question.  You can call <code>$dt-&gt;set_date_time(&quot;America&#47;New_York&quot;)</code> in the example above after parsing to attach a time zone to the parsed datetime.  Then when you insert into MongoDB, it will be stored &quot;correctly&quot; (as milliseconds since unix epoch).  When you pull it back out as <code>$date</code>, you can again call <code>$date-&gt;set_time_zone(&quot;America&#47;New_York&quot;)</code> to attach a time zone to it.  I&#39;ll edit my code above to do that and print it out so you can see what&#39;s happening."}, {"owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "reply_to_user": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1534523619, "post_id": 51844799, "comment_id": 90750240, "body": "Also, if you find I&#39;ve answered your question, please click the check mark to accept the answer."}, {"owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "reply_to_user": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "edited": false, "score": 0, "creation_date": 1534525592, "post_id": 51844799, "comment_id": 90751157, "body": "I&#39;ve revised the code again to use a different formatter that more clearly shows the timezone data."}], "tags": [], "owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "is_accepted": true, "score": 2, "last_activity_date": 1534525549, "last_edit_date": 1534525549, "creation_date": 1534260070, "answer_id": 51844799, "question_id": 51826900, "link": "https://stackoverflow.com/questions/51826900/perl-how-to-insert-datetime-in-mongodb/51844799#51844799", "title": "Perl How to insert datetime in mongodb", "body": "<p>You'll need to use a <a href=\"https://p3rl.org/DateTime\" rel=\"nofollow noreferrer\">DateTime</a> parser that speaks MySQL's format, but then MongoDB will convert DateTime objects correctly.  However, for efficiency, when querying it doesn't automatically inflate back to a DateTime object, but uses an intermediate form, <a href=\"https://p3rl.org/BSON::Time\" rel=\"nofollow noreferrer\">BSON::Time</a>. There's a method, <code>as_datetime</code>, to get a DateTime object.</p>\n\n<p>See the example below:</p>\n\n<pre><code>use Data::Dumper;\nuse DateTime::Format::MySQL;\nuse DateTime::Format::RFC3339;\nuse MongoDB;\n\n# parse the date\nmy $dt = DateTime::Format::MySQL-&gt;parse_datetime( '2003-01-16 23:12:01' );\n$dt-&gt;set_formatter(\"DateTime::Format::RFC3339\");\nsay $dt;\n# 2003-01-16T23:12:01+00:00\n\n# set TZ\n$dt-&gt;set_time_zone(\"America/New_York\");\nsay $dt;\n# 2003-01-16T23:12:01-05:00\n\n# connect to the DB and get a MongoDB::Collection to work with\nmy $mc = MongoDB-&gt;connect(\"mongodb://localhost:27017\");\nmy $coll = $mc-&gt;ns('test.foo');\n\n# insert\n$coll-&gt;insert_one({ date =&gt; $dt });\n\n# query\nmy $doc = $coll-&gt;find_one({date =&gt; $dt});\n\n# dump the doc -- note the date is now a BSON::Time and there's a\n# MongoDB '_id' field added\nsay Dumper $doc;\n# $VAR1 = {\n#           '_id' =&gt; bless( {\n#                             'oid' =&gt; '[v\u00f6ZN@\u00aeG\u00bf\u00c7'\n#                           }, 'BSON::OID' ),\n#           'date' =&gt; bless( {\n#                              'value' =&gt; '1042776721000'\n#                            }, 'BSON::Time' )\n#         };\n\n# get it back as a DateTime object and print it out\nmy $date = $doc-&gt;{date}-&gt;as_datetime;\n$date-&gt;set_formatter(\"DateTime::Format::RFC3339\");\nsay $date;\n# 2003-01-17T04:12:01Z\n$date-&gt;set_time_zone(\"America/New_York\");\nsay $date;\n# 2003-01-16T23:12:01-05:00\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3722133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82477ee67e2a1889eebe4bafe8422fff?s=128&d=identicon&r=PG&f=1", "display_name": "Paddy", "link": "https://stackoverflow.com/users/3722133/paddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 51844799, "answer_count": 1, "score": 0, "last_activity_date": 1534525549, "creation_date": 1534178254, "last_edit_date": 1534223775, "question_id": 51826900, "link": "https://stackoverflow.com/questions/51826900/perl-how-to-insert-datetime-in-mongodb", "title": "Perl How to insert datetime in mongodb", "body": "<p>I'm new to MongoDB, I have MySQL format dates in an array like <code>2018-08-13 09:56:19</code> and I wanted to store in MongoDB an ISODate with time_zone <code>-0500</code> so that date will be inserted like <code>\"Date\" : ISODate(\"2018-08-13T09:56:19.000-05:00\")</code> through <code>Perl</code></p>\n\n<p>Any help Appreciated ...</p>\n"}, {"tags": ["perl", "character-encoding"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1534164968, "post_id": 51822897, "comment_id": 90599773, "body": "In general, you task is impossible. But <a href=\"http://p3rl.org/Encode::Guess\" rel=\"nofollow noreferrer\">Encode::Guess</a> can help you."}, {"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1534165202, "post_id": 51822897, "comment_id": 90599927, "body": "Hmm, then how others are able to display correctly a mix of Chinese and French/Norwegian characters on the same page? This is what I want to achieve."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1534165456, "post_id": 51822897, "comment_id": 90600121, "body": "Use UTF-8 for all, not UTF-8 for one string and Latin1 for the other."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1534165474, "post_id": 51822897, "comment_id": 90600134, "body": "<a href=\"http://p3rl.org/perlunicode\" rel=\"nofollow noreferrer\">perlunicode</a>"}, {"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1534165563, "post_id": 51822897, "comment_id": 90600203, "body": "Yes, but I don&#39;t know why $b is not displayed correctly. I have a ? instead of the right character &quot;&#248;&quot;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1534166188, "post_id": 51822897, "comment_id": 90600596, "body": "Where are the strings coming from?"}, {"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1534166895, "post_id": 51822897, "comment_id": 90601029, "body": "choroba, these are just 2 examples. I wasn&#39;t able to mix French or Norwegian characters with Chinese. With ikegami solution I can use utf-8 charset and everything is displayed correctly."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "edited": false, "score": 0, "creation_date": 1534166575, "post_id": 51823204, "comment_id": 90600854, "body": "It worked! Few notes... I&#39;m using perl 5.26. and perl-open is a package which must be installed separately. Also there is a typo inside your code, two $s1 variables instead of $s1, $s2. Thank you very much!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "edited": false, "score": 1, "creation_date": 1534168032, "post_id": 51823204, "comment_id": 90601803, "body": "open.pm is part of Perl itself. It can&#39;t even be installed separately. That said, some unix distros love to delete parts of Perl, providing those parts as separate packages even though they are part of Perl itself."}, {"owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "edited": false, "score": 0, "creation_date": 1534168493, "post_id": 51823204, "comment_id": 90602129, "body": "You&#39;re right. I&#39;m using Fedora distro and, to run your script correctly, I had to install package perl-open, due to errors about open.pm not found."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1534169809, "post_id": 51823204, "comment_id": 90602966, "body": "Also make sure your editor is set to UTF-8. If not, the internal strings may not be read correctly."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1534180065, "last_edit_date": 1534180065, "creation_date": 1534165909, "answer_id": 51823204, "question_id": 51822897, "link": "https://stackoverflow.com/questions/51822897/perl-how-to-detect-string-encoding-so-i-can-use-the-right-charset/51823204#51823204", "title": "PERL: how to detect string encoding so I can use the right charset", "body": "<p>Decode inputs. Encode outputs.</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( say );\n\nuse utf8;                             # Source code is encoded using UTF-8\nuse open ':std', ':encoding(UTF-8)';  # Terminal expects UTF-8\n\nmy $s1 = \"\u9ede\u770b\"; \nmy $s2 = \"p\u00f8p\";\n\nsay for $s1, $s2;\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 8738086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmwIx.jpg?s=128&g=1", "display_name": "Claude", "link": "https://stackoverflow.com/users/8738086/claude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 51823204, "answer_count": 1, "score": 3, "last_activity_date": 1534180065, "creation_date": 1534164870, "last_edit_date": 1534164982, "question_id": 51822897, "link": "https://stackoverflow.com/questions/51822897/perl-how-to-detect-string-encoding-so-i-can-use-the-right-charset", "title": "PERL: how to detect string encoding so I can use the right charset", "body": "<p>I have these 2 example strings:</p>\n\n<pre><code>$a = \"\u9ede\u770b\"; \n$b = \"p\u00f8p\";\n</code></pre>\n\n<p>First one is displayed correctly using charset UTF-8, but second string not.\nSecond is displayed correctly if charset is changed to iso-8859-1.</p>\n\n<p>I don't know how to display latin1 characters with charset utf-8. \nOr at least, I need a solution to detect string type (e.g this is \"utf-8\" or this is \"iso-8859-1\"), so I can use appropriate charset to display it.</p>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "edited": false, "score": 1, "creation_date": 1534160592, "post_id": 51821351, "comment_id": 90596923, "body": "Try using -I /path/to/directory/containing/lib"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534161536, "post_id": 51821351, "comment_id": 90597478, "body": "Tip: <code>#!</code> doesn&#39;t make sense in a module."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534161569, "post_id": 51821351, "comment_id": 90597501, "body": "Tip: Modules must end with a true value. This is commonly achieved by adding <code>1;</code> at the end."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534161597, "post_id": 51821351, "comment_id": 90597520, "body": "Tip: It looks a little better if you put the <code>use strict; use warnings;</code> after the <code>package</code> directive."}, {"owner": {"reputation": 35, "user_id": 8342320, "user_type": "registered", "profile_image": "https://graph.facebook.com/1476374249077707/picture?type=large", "display_name": "Harish Harry", "link": "https://stackoverflow.com/users/8342320/harish-harry"}, "edited": false, "score": 0, "creation_date": 1534212437, "post_id": 51821351, "comment_id": 90619507, "body": "Thanks for all the suggestions, will keep in mind!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1534161846, "last_edit_date": 1534161846, "creation_date": 1534161493, "answer_id": 51821844, "question_id": 51821351, "link": "https://stackoverflow.com/questions/51821351/how-do-i-use-m-flag-to-load-a-perl-module-using-its-relative-path-from-command/51821844#51821844", "title": "How do i use -M flag to load a perl module using its relative path from command line?", "body": "<p>If you have an absolute path and you want all scripts to find the module:</p>\n\n<pre><code>export PERL5LIB=\"${PERL5LIB:+\"$PERL5LIB:\"}/path/to/lib\"  # In your login script.\nscript\n</code></pre>\n\n<p>If you have an absolute path and you want one execution of a script to find the module:</p>\n\n<pre><code>PERL5LIB=\"${PERL5LIB:+\"$PERL5LIB:\"}/path/to/lib\" script\n</code></pre>\n\n<p>If you have a module that's installed in a directory relative to a script:</p>\n\n<pre><code>use FindBin qw( $RealBin );\nuse lib \"$RealBin/../lib\";\n</code></pre>\n\n<hr>\n\n<p>In your specific case:</p>\n\n<pre><code>perl -Mlib=/sub1/sub2 -Mdemo -e'demo::doit(\"arg1\")'\n</code></pre>\n\n<p>Avoid using <code>-I</code>. It doesn't include related arch dirs like <code>PERL5LIB</code> and lib.pm do, so modules with arch-specific components will fail to load.</p>\n"}], "owner": {"reputation": 35, "user_id": 8342320, "user_type": "registered", "profile_image": "https://graph.facebook.com/1476374249077707/picture?type=large", "display_name": "Harish Harry", "link": "https://stackoverflow.com/users/8342320/harish-harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 51821844, "answer_count": 1, "score": 0, "last_activity_date": 1534212208, "creation_date": 1534159866, "last_edit_date": 1534212208, "question_id": 51821351, "link": "https://stackoverflow.com/questions/51821351/how-do-i-use-m-flag-to-load-a-perl-module-using-its-relative-path-from-command", "title": "How do i use -M flag to load a perl module using its relative path from command line?", "body": "<p>I have following code:\ndemo.pm</p>\n\n<pre><code>#! user/local/bin/perl\nuse strict;\nuse warnings;\npackage demo;\nsub doit{\n  print(\"Inside DoIt\\n\");\n  my $a = shift();\n  my $b = shift();\n  print(\"$a\\n\");\n}\n</code></pre>\n\n<p>The file demo.pm is located elsewhere and want to use relative path to fetch the module and run it</p>\n\n<p>Using following from linux command throws error:\nperl -M/sub1/sub2/demo.pm -e 'demo::doit('arg1')'</p>\n\n<p>Error:<br>\nsyntax error at -e line 0, near \"use /sub1/\"\nExecution of -e aborted due to compilation errors.</p>\n"}, {"tags": ["java", "perl", "sha256"], "comments": [{"owner": {"reputation": 16892, "user_id": 461499, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/OKnmM.png?s=128&g=1", "display_name": "RobAu", "link": "https://stackoverflow.com/users/461499/robau"}, "edited": false, "score": 0, "creation_date": 1534149280, "post_id": 51818162, "comment_id": 90590283, "body": "<code>-&quot;51&quot;</code> is that similar to <code>&quot;-51&quot;</code> ?"}, {"owner": {"reputation": 3316, "user_id": 3499626, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/npoNP.png?s=128&g=1", "display_name": "jhamon", "link": "https://stackoverflow.com/users/3499626/jhamon"}, "edited": false, "score": 0, "creation_date": 1534149285, "post_id": 51818162, "comment_id": 90590287, "body": "I don&#39;t know perl but the minus sign of the 3rd element of salt is not between the quotes"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 2, "creation_date": 1534149325, "post_id": 51818162, "comment_id": 90590305, "body": "You&#39;re hashing completely different values (bytes versus strings of characters), and in different ways. Of course the two are going to be different."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1534149336, "post_id": 51818162, "comment_id": 90590310, "body": "It gives the same result if you remove all quotes from the numbers."}, {"owner": {"reputation": 13, "user_id": 10192031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ea265d6743273d23abb98d79da1df0?s=128&d=identicon&r=PG&f=1", "display_name": "WhistleWhite", "link": "https://stackoverflow.com/users/10192031/whistlewhite"}, "reply_to_user": {"reputation": 16892, "user_id": 461499, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/OKnmM.png?s=128&g=1", "display_name": "RobAu", "link": "https://stackoverflow.com/users/461499/robau"}, "edited": false, "score": 0, "creation_date": 1534153696, "post_id": 51818162, "comment_id": 90592778, "body": "@RobAu &quot;-51&quot; is correct"}, {"owner": {"reputation": 13, "user_id": 10192031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ea265d6743273d23abb98d79da1df0?s=128&d=identicon&r=PG&f=1", "display_name": "WhistleWhite", "link": "https://stackoverflow.com/users/10192031/whistlewhite"}, "edited": false, "score": 0, "creation_date": 1534153767, "post_id": 51818162, "comment_id": 90592823, "body": "@chroba the &quot; makes no difference"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1534159845, "creation_date": 1534159845, "answer_id": 51821343, "question_id": 51818162, "link": "https://stackoverflow.com/questions/51818162/perl-sha-256-algorithm-generates-output-different-from-the-equivalent-java/51821343#51821343", "title": "Perl SHA-256 algorithm generates output different from the equivalent Java", "body": "<p>Two problems:</p>\n\n<ol>\n<li><p>The Java version works with bytes, the Perl version with strings of digits. Use <a href=\"http://p3rl.org/pack\" rel=\"nofollow noreferrer\">pack</a> to convert the strings to their byte equivalents.</p></li>\n<li><p>In the Java version, you are applying the hash to the hash computed so far, in the Perl code, you just hash the same value again and again.</p></li>\n</ol>\n\n<p>&nbsp;</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Digest::SHA 'sha256';\n\nmy @salt = (84, 65, -51, 83, -4, -17, -32, 61, -26, 33, -106, -81,\n            -14, 70, -30, 59, 41, -19, -1, 19, -104, -100, -31, 31,\n            57, -6, -115, -99, 0, 38, -123, -11);\n\nmy @password = (100, 112, 107, 57, 52, 110, 50);\n\nmy $alg = 256;\nmy $sha = Digest::SHA-&gt;new($alg);\n\n$sha-&gt;add(pack 'c*', @salt);\n$sha-&gt;add(pack 'c*', @password);\n\n$sha-&gt;add($sha-&gt;digest) for 1 .. 999;\n\nmy $output = $sha-&gt;hexdigest;\nprint \"\\nHash: $output\\n\";\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10192031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ea265d6743273d23abb98d79da1df0?s=128&d=identicon&r=PG&f=1", "display_name": "WhistleWhite", "link": "https://stackoverflow.com/users/10192031/whistlewhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 51821343, "answer_count": 1, "score": 0, "last_activity_date": 1534159845, "creation_date": 1534149036, "last_edit_date": 1534154023, "question_id": 51818162, "link": "https://stackoverflow.com/questions/51818162/perl-sha-256-algorithm-generates-output-different-from-the-equivalent-java", "title": "Perl SHA-256 algorithm generates output different from the equivalent Java", "body": "\n\n<p>I have the following Java code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Arrays;\n\npublic class MyClass {\n\n    public static void main(String args[]) {\n\n        byte[] salt = {\n             84,  65,  -51,  83,   -4,  -17,  -32,  61,\n            -26,  33, -106, -81,  -14,   70,  -30,  59,\n             41, -19,   -1,  19, -104, -100,  -31,  31,\n             57,  -6, -115, -99,    0,   38, -123, -11\n        };\n\n        byte[] password = { 100, 112, 107, 57, 52, 110, 50 };\n\n        try {\n\n            MessageDigest messageDigest;\n\n            messageDigest = MessageDigest.getInstance(\"SHA-256\");\n\n            messageDigest.reset();\n            messageDigest.update(salt);\n\n            byte[] hash = messageDigest.digest(password);\n\n            for (int i = 1; i &lt; 1000; i++)\n            {\n                messageDigest.reset();\n                hash = messageDigest.digest(hash);\n            }\n\n            StringBuffer stringBuffer = new StringBuffer(hash.length * 2);\n\n            for (int i = 0; i &lt; hash.length; i++)\n            {\n                stringBuffer.append(Character.forDigit(hash[i] &gt;&gt; 4 &amp; 0xF, 16));\n                stringBuffer.append(Character.forDigit(hash[i] &amp; 0xF, 16));\n            }\n\n            System.out.println(\"HashArray: \" + Arrays.toString(hash));\n            System.out.println(\"HashString: \" + stringBuffer.toString());\n        }\n        catch (NoSuchAlgorithmException e) {\n          e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>The output is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HashArray: [-127, -38, -46, -2, 51, -2, -83, -42, 3, 83, -78, -72, -115, -28, 108, 58, -76, -35, -13, 33, 63, -96, 104, 101, -76, 23, 102, -28, -60, 4, 85, 82]\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HashString: 81dad2fe33feadd60353b2b88de46c3ab4ddf3213fa06865b41766e4c4045552\n</code></pre>\n\n<p>I tried to translate the Java code to Perl, but I have a understanding problem. In Java, I use two arrays to generate the hash. If I use the same arrays in Perl, I don't get the same result.</p>\n\n<p>Here is my Perl code:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse Digest::SHA 'sha256';\n\nmy @salt = (\n     \"84\",  \"65\",  -\"51\",  \"83\",   \"-4\",  \"-17\",  \"-32\",  \"61\",\n    \"-26\",  \"33\", \"-106\", \"-81\",  \"-14\",   \"70\",  \"-30\",  \"59\",\n     \"41\", \"-19\",   \"-1\",  \"19\", \"-104\", \"-100\",  \"-31\",  \"31\",\n     \"57\",  \"-6\", \"-115\", \"-99\",    \"0\",   \"38\", \"-123\", \"-11\"\n);\n\nmy @password = ( \"100\", \"112\", \"107\", \"57\", \"52\", \"110\", \"50\" );\n\nmy $alg = 256;\nmy $sha = Digest::SHA-&gt;new($alg);\n\n$sha-&gt;add(@salt);\n$sha-&gt;add(@password);\n\nfor ( my $i = 1; $i &lt; 1000; $i++ ) {\n    $sha-&gt;add(@password)\n}\n\nmy $output = $sha-&gt;hexdigest;\nprint \"\\nHash: $output\\n\";\n</code></pre>\n\n<p>Output is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hash: 3883ae8f7438cc7e8fac86d25aa5789c4434294a70ea13d5e8f547fc7a8e45c2\n</code></pre>\n\n<p>Can someone explain how to get the Perl code to produce the same output as the Java?</p>\n"}, {"tags": ["regex", "perl", "newline"], "answers": [{"comments": [{"owner": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "edited": false, "score": 0, "creation_date": 1534136813, "post_id": 51815448, "comment_id": 90585246, "body": "Rats.  I suppose there is a perl module to do it, someplace.  Any favorites?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "edited": false, "score": 0, "creation_date": 1534137187, "post_id": 51815448, "comment_id": 90585332, "body": "@ErikBennett: Your original question was answered and your last comment asks a new question. Apart from that, why not just use <code>s{\\R\\z}{}</code> instead of <code>chomp</code> since all you want to do is to strip a potential newline at the end."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "edited": false, "score": 2, "creation_date": 1534138134, "post_id": 51815448, "comment_id": 90585600, "body": "@Erik: Remember that the line terminator (along with any trailing space) will be removed anyway if you&#39;re do <code>split &#39; &#39;, $_</code>. You can also use <code>s&#47;\\s+\\z&#47;&#47;</code> instead of <code>chomp</code> if trailing whitespace of any sort is insignificant. Finally, you can install <a href=\"https://metacpan.org/pod/PerlIO::eol\" rel=\"nofollow noreferrer\"><code>PerlIO::eol</code></a> which will allow you to do <code>open my $fh, &#39;&lt;:raw:eol(LF)&#39;, $file</code> after which <i>all</i> line endings will appear as a simple <code>LF</code> in the input stream. Clearly the line terminator for output files must be explicitly selected."}, {"owner": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "edited": false, "score": 0, "creation_date": 1534138638, "post_id": 51815448, "comment_id": 90585730, "body": "As @Steffen points out, my original question was answered.  I just end up with all sorts of nutty files, like DOS files that terminate with a ctrl-z and no newline of any sort at the end of the final line.  I like @Steffen&#39;s <code>s{\\R\\z}{}</code> notation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "edited": false, "score": 1, "creation_date": 1534138867, "post_id": 51815448, "comment_id": 90585791, "body": "@Erik: You asked for alternatives (specifically a module) so I suggested three ways. And if your output files are missing line terminators altogether then it&#39;s simply that you&#39;ve removed them with <code>chomp</code> (or whatever) and not put them back on output. Cetainly <code>s&#47;\\R\\z&#47;&#47;</code> won&#39;t make them magically reappear."}, {"owner": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534139298, "post_id": 51815448, "comment_id": 90585905, "body": "@Borodin:  Yes, thank you.  I&#39;ll look at <code>PerlIO::eol</code>.  I don&#39;t want anything to reappear.  I just get a lot of weird files from all over the place as input.  All of my output is crisp, clear UNIX newlines.  I don&#39;t even know how these ctrl-z files get created.  <code>edlin</code>, maybe?  It doesn&#39;t happen often.  Anyway, thanks to everyone for the quick answers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "edited": false, "score": 1, "creation_date": 1534143564, "post_id": 51815448, "comment_id": 90587631, "body": "@Erik: The DOS Ctrl-Z end-of-file marker shouldn&#39;t be included in the on-disk file size. It&#39;s no longer necessary because Windows now keeps track of the size of the file in the directory entry, in the same way as Linux, so if you&#39;re seeing Ctrl-Z in your input data then it&#39;s either a bug or part of the data. I&#39;m sorry if you feel I&#39;m going on after your problem has been resolved, but it seems clear that there is more to this than line endings. All systems will write text files with no line terminator after the last line; it should make no difference if you&#39;re using the equivalent of <code>chomp</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1534159659, "post_id": 51815448, "comment_id": 90596269, "body": "Re &quot;<i>why not just use <code>s{\\R\\z}{}</code> instead of <code>chomp</code></i>&quot;,  Why not just use <code>s{\\s+\\z}{}</code> instead of <code>chomp</code>. If your format has significant trailing whitespace, something&#39;s gone wrong."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 8, "last_activity_date": 1534136340, "creation_date": 1534136340, "answer_id": 51815448, "question_id": 51815259, "link": "https://stackoverflow.com/questions/51815259/will-setting-r-allow-chomp-to-work-correctly-with-most-files-in-perl/51815448#51815448", "title": "Will setting $/=&quot;\\R&quot; allow chomp() to work correctly with most files in perl?", "body": "<blockquote>\n  <p>Will setting $/='\\R' allow chomp() to work correctly with most files in perl?</p>\n</blockquote>\n\n<p>Setting <code>$/</code> to <code>'\\R'</code> will consider the two-character sequence <code>\"\\\\R\"</code> as newline.<br>\nSetting <code>$/</code> to <code>\"\\R\"</code> will result in a warning about an <code>Unrecognized escape</code>.</p>\n\n<p><code>\\R</code> is not a string but has a meaning only in the context of regular expressions. But the documentation for <code>$/</code> clearly states:</p>\n\n<blockquote>\n  <p>Remember: the value of <code>$/</code> is a string, not a regex.  awk has to be better for something. :-)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1534189013, "last_edit_date": 1534189013, "creation_date": 1534166121, "answer_id": 51823268, "question_id": 51815259, "link": "https://stackoverflow.com/questions/51815259/will-setting-r-allow-chomp-to-work-correctly-with-most-files-in-perl/51823268#51823268", "title": "Will setting $/=&quot;\\R&quot; allow chomp() to work correctly with most files in perl?", "body": "<p>I created <a href=\"https://metacpan.org/release/MOB/Acme-InputRecordSeparatorIsRegexp-0.04\" rel=\"nofollow noreferrer\"><code>Acme::InputRecordSeparatorIsRegexp</code></a> a while ago as a joke, but it does provide a workaround for the restriction that <code>$/</code> cannot be a regular expression. With version 0.04 (just uploaded), you can say</p>\n\n<pre><code>use Acme::InputRecordSeparatorIsRegexp ':all';\n\nopen my $fh, '&lt;:irs(\\R)', 'file-with-ambiguous-line-endings.txt';\nautochomp($fh,1);     # or (tied *$fh)-&gt;autochomp(1)\n@lines = &lt;$fh&gt;;\n...\n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 4114394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100006056441825/picture?type=large", "display_name": "Erik Bennett", "link": "https://stackoverflow.com/users/4114394/erik-bennett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 51815448, "answer_count": 2, "score": 4, "last_activity_date": 1534189013, "creation_date": 1534134884, "last_edit_date": 1534136685, "question_id": 51815259, "link": "https://stackoverflow.com/questions/51815259/will-setting-r-allow-chomp-to-work-correctly-with-most-files-in-perl", "title": "Will setting $/=&quot;\\R&quot; allow chomp() to work correctly with most files in perl?", "body": "<p>Does anyone know for sure if setting <code>$/=\"\\R\";</code> will reliably let chomp() do the correct thing, that is remove whatever end-of-line conventions are on a line?</p>\n\n<p>Specifically, I run scripts on Windows and UNIX and have to process files that come off of the net, and have unknown end-of-line conventions: MS-DOS, UNIX, MacOS &lt; 9, whatever.</p>\n\n<p>I recently stumbled on \"\\R\", but I hadn't seen it before.  I think it's new.  Well, newer than Perl 5.006. (It's been a while.)</p>\n\n<p>The \"\\R\" claims to do Unicode newlines, as well.  I have no way to test this correctly.</p>\n\n<p>Thanks.</p>\n\n<p>-Erik</p>\n\n<p>I was surprised to learn there's actually a \"newline\" tag in  <em>stackoverflow</em>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "edited": false, "score": 2, "creation_date": 1534115463, "post_id": 51813318, "comment_id": 90581878, "body": "Your example is confusing in a number of respects.  Since you don&#39;t provide any information on <code>googletranslate()</code>, I have to assume it&#39;s not relevant to the problem and that your problem boils down to: <i>How do I perform a substitution when the original string contains metacharacters?</i> The read- and write-filehandles are also superfluous to the problem.  <code>s&#47;\\Q$string\\E&#47;$translated_string&#47;;</code> should work."}, {"owner": {"reputation": 602, "user_id": 8364542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd327ab0741e66abc506ffdb126975?s=128&d=identicon&r=PG&f=1", "display_name": "hoffmeister", "link": "https://stackoverflow.com/users/8364542/hoffmeister"}, "edited": false, "score": 0, "creation_date": 1534123707, "post_id": 51813318, "comment_id": 90583042, "body": "If you print word at line 2 does it have the special characters? I think you&#39;re issue is quotes and double quotes. As explained here <a href=\"http://perldoc.perl.org/perlfunc.html#qq%2fSTRING%2f\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlfunc.html#qq%2fSTRING%2f</a>"}, {"owner": {"reputation": 31, "user_id": 10216066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c3ee5e0452bed4206f68426ac0041af?s=128&d=identicon&r=PG&f=1", "display_name": "Frans b", "link": "https://stackoverflow.com/users/10216066/frans-b"}, "edited": false, "score": 0, "creation_date": 1534258100, "post_id": 51813318, "comment_id": 90641680, "body": "James, indeed the translate part is not relevant. I tried what you suggested and that worked. problem solved, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 120535, "user_id": 123109, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/157c96de3d125abc1c363ff25c20dfaf?s=128&d=identicon&r=PG", "display_name": "Greg Bacon", "link": "https://stackoverflow.com/users/123109/greg-bacon"}, "is_accepted": false, "score": 1, "last_activity_date": 1604885187, "creation_date": 1604885187, "answer_id": 64744765, "question_id": 51813318, "link": "https://stackoverflow.com/questions/51813318/perl-regex-in-string-to-be-ignored/64744765#64744765", "title": "perl regex in string to be ignored", "body": "<p>Change the loop to</p>\n<pre><code>while( &lt;$in&gt; ) {\n  $_ =~ s/\\Q$word\\E/$translatedword/;\n  print $out $_;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10216066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c3ee5e0452bed4206f68426ac0041af?s=128&d=identicon&r=PG&f=1", "display_name": "Frans b", "link": "https://stackoverflow.com/users/10216066/frans-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1604885187, "creation_date": 1534112419, "last_edit_date": 1534112628, "question_id": 51813318, "link": "https://stackoverflow.com/questions/51813318/perl-regex-in-string-to-be-ignored", "title": "perl regex in string to be ignored", "body": "<p>I have the following string in <code>$word</code>. I'm translating this with google translate to <code>$translatedword</code> and then replace it in a file like in the following code:</p>\n\n<pre><code>my $word = \"This is an example text (with) \";\n\n\nmy $translatedword =googletranslate ( $word);\nopen ( $in, \"&lt; \" . $filename );\nopen ( $out, \"&gt; \" . $tmpfile );\nwhile( &lt;$in&gt; ) {\n        $_ =~ s/$word/$translatedword/;\n        print $out $_;\n}\nclose $out;\nclose $in;\n</code></pre>\n\n<p>That goes well (the translated text is replaced by original text) as long as there are no ()/[]$ etc are in play. in this case the parentheses will cause the  text not to be replaced in the file.\ni tried this:</p>\n\n<pre><code>my $newword = \"\\Q\" . $word . \"\\E\";\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>my $newword = quotemeta( $word );\n</code></pre>\n\n<p>but both are not giving a solution..</p>\n\n<p>Any hints on what i might be doing wrong are appreciated.</p>\n"}, {"tags": ["perl", "bigdata"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 2, "creation_date": 1534100751, "post_id": 51811911, "comment_id": 90578903, "body": "Try <code>while</code> instead. If this is a no go, read certain size of MB into buffer and count  newlines in order to locate desired line."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1534101013, "post_id": 51811911, "comment_id": 90578964, "body": "Is number of BYTES in each record the same?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1534101628, "post_id": 51811911, "comment_id": 90579105, "body": "Do you need to find a lot of those S values (to analyze their text) in a file, or not so many?"}, {"owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 0, "creation_date": 1534107383, "post_id": 51811911, "comment_id": 90580447, "body": "You could create an index on that file with S-value/filepos, look up (binary search) the value in the index and then seek() to that fileposition. Without an index you could do some sort of binary search in the file directly - i.e. seek() to halfway of the file, scan for the first S from that pos, and keep repeating until you reach S. This would need multiple file reads (log n) while using an index would only need one read into the big file. Both solutions would hardly use any memory for the big file (only the size of the index in the first solution, none at all in the second)."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1534109459, "post_id": 51811911, "comment_id": 90580878, "body": "Does the file change? If not, convert it to a better format."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534162074, "post_id": 51811911, "comment_id": 90597802, "body": "Are the S values sorted? If so, you could use a binary search"}], "answers": [{"comments": [{"owner": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 0, "creation_date": 1534108360, "post_id": 51812814, "comment_id": 90580646, "body": "+1 - A second example/answer creating and using an index (S-value/filepos) would be great too. (I don&#39;t know Perl, so I can&#39;t provide the code). The index could be created once and stored on disk for as long as the file doesn&#39;t change. And since S is already in order, creating that index would be easy (just keep adding S-value/filepos). Then just binary search the smaller index in memory."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 10487, "user_id": 5708620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0f8c70394b748ed7ec1a3a11a749b1?s=128&d=identicon&r=PG&f=1", "display_name": "Danny_ds", "link": "https://stackoverflow.com/users/5708620/danny-ds"}, "edited": false, "score": 0, "creation_date": 1534110135, "post_id": 51812814, "comment_id": 90581001, "body": "@Danny_ds Indeed. I presumed that it&#39;s (a small number of queries with) a new file every time. Added a comment."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1534311174, "last_edit_date": 1534311174, "creation_date": 1534107654, "answer_id": 51812814, "question_id": 51811911, "link": "https://stackoverflow.com/questions/51811911/perl-jumping-to-lines-in-a-huge-text-file/51812814#51812814", "title": "PERL: Jumping to lines in a huge text file", "body": "<p>If the blocks of text are of the same length (in bytes or characters) you can calculate the position of the needed S-value in the file and <code>seek</code> there, then read. Otherwise, in principle you need to read lines to find the S value.</p>\n\n<p>However, if there are only a few S-values to find you can estimate the needed position and <a href=\"https://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\">seek</a> there, then <a href=\"https://perldoc.perl.org/functions/read.html\" rel=\"nofollow noreferrer\">read</a> enough to capture an S-value. Then analyze what you read to see how far off you are, and either <code>seek</code> again or read lines with <code>&lt;&gt;</code> to get to the S-value.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Fcntl qw(:seek);\n\nmy ($file, $s_target) = @ARGV;\ndie \"Usage: $0 filename\\n\" if not $file or not -f $file;\n$s_target //= 5;  #/ default, S=5\n\nopen my $fh, '&lt;', $file or die $!; \n\nmy $est_text_len = 1024;\nmy $jump_by      = $est_text_len * $s_target;  # to seek forward in file\n\nmy ($buff, $found);\n\nseek $fh, $jump_by, SEEK_CUR;  # get in the vicinity\n\nwhile (1) {\n\n    my $rd = read $fh, $buff, $est_text_len;\n    warn \"error reading: $!\" if not defined $rd;\n    last if $rd == 0;\n\n    while ($buff =~ /S=([0-9]+)/g) {\n        my $s_val = $1;\n\n        # Analyze $s_val and $buff:\n        # (1) if overshot $s_target adjust $jump_by and seek back\n        # (2) if in front of $s_target read with &lt;&gt; to get to it\n        # (3) if $s_target is in $buff extract needed text\n\n        if ($s_val == $s_target) {\n            say \"--&gt; Found S=$s_val at pos \", pos $buff, \" in buffer\";\n            seek $fh, - $est_text_len + pos($buff) + 1, SEEK_CUR;\n            while (&lt;$fh&gt;) {\n                last if /S=[0-9]+/;  # next block\n                print $_;\n            }\n            $found = 1;\n            last;\n        }\n    }   \n    last if $found;\n}\n</code></pre>\n\n<p>Tested with your sample, enlarged and cleaned up (change <code>S=n</code> in text as it is the same as the condition!), with <code>$est_text_len</code> and <code>$jump_by</code> set at 100 and 20.</p>\n\n<p>This is a sketch.  A full implementation needs to negotiate over and under seeking as outlined in comments in code. If text-block sizes don't vary much it can get in front of the needed S-value in two seek-and-reads, and then read with <code>&lt;&gt;</code> or use regex as in the example.</p>\n\n<p>Some comments</p>\n\n<ul>\n<li><p>The \"analysis\" sketched above need be done carefully. For one, a buffer may contain multiple S-value lines. Also, note that the code keeps reading if an S-value isn't in buffer.</p></li>\n<li><p>Once you are close enough and in front of <code>$s_target</code> read lines by <code>&lt;&gt;</code> to get to it.</p></li>\n<li><p>The <code>read</code> may not get as much as requested so you should really put that in a loop.  There are recent posts with that. </p></li>\n<li><p>Change to <a href=\"https://perldoc.perl.org/functions/sysread.html\" rel=\"nofollow noreferrer\">sysread</a> from <code>read</code> for efficiency. In that case use <a href=\"https://perldoc.perl.org/functions/sysseek.html\" rel=\"nofollow noreferrer\">sysseek</a>, and don't mix with <code>&lt;&gt;</code> (which is buffered).</p></li>\n<li><p>The code above presumes one S-value to find; adjust for more. It absolutely assumes that S-values are sorted.</p></li>\n</ul>\n\n<p>This is clearly far more complex than reading lines but it does run much faster, with a very large file and only a few S-values to find. If there are many values then this may not help.</p>\n\n<hr>\n\n<p>The <code>foreach (&lt;$fh&gt;)</code>, indicated in the question, would  cause the whole file to be read first (to build the list for <code>foreach</code> to go through); use <code>while (&lt;$fh&gt;)</code> instead.</p>\n\n<hr>\n\n<p>If the file doesn't change (or the same file need be searched many times) you can first process it once to build an index of exact positions of S-values. Thanks to <a href=\"https://stackoverflow.com/users/5708620/danny-ds\">Danny_ds</a> for a comment. </p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 9, "last_activity_date": 1534109817, "creation_date": 1534109817, "answer_id": 51813064, "question_id": 51811911, "link": "https://stackoverflow.com/questions/51811911/perl-jumping-to-lines-in-a-huge-text-file/51813064#51813064", "title": "PERL: Jumping to lines in a huge text file", "body": "<blockquote>\n  <p><em>are there any methods to jump to a particular line of the required S-value?</em></p>\n</blockquote>\n\n<p>Yes, if the file does not change then create an index. This requires reading the file in its entirety once and noting the positions of all the <code>S=#</code> lines using <a href=\"http://perldoc.perl.org/functions/tell.html\" rel=\"noreferrer\"><code>tell</code></a>. <a href=\"http://perldoc.perl.org/functions/dbmopen.html\" rel=\"noreferrer\">Store it in a DBM file</a> with the key being the number and the value being the byte position in the file. Then you can use <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"noreferrer\"><code>seek</code> to jump to that point in the file and read from there</a>.</p>\n\n<p>But if you're going to do that, you're better off exporting the data into a proper database such as <a href=\"https://metacpan.org/pod/DBD::SQLite\" rel=\"noreferrer\">SQLite</a>. Write a program to insert the data into the database and add normal SQL indexes. This will probably be simpler than writing the index. Then you can query the data efficiently using normal SQL, and make complex queries. If the file change you can either redo the export, or use the normal <code>insert</code> and <code>update</code> SQL to update the database. And it will be easy for anyone who knows SQL to work with, as opposed to a bunch of custom indexing and search code.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1534170251, "creation_date": 1534170251, "answer_id": 51824614, "question_id": 51811911, "link": "https://stackoverflow.com/questions/51811911/perl-jumping-to-lines-in-a-huge-text-file/51824614#51824614", "title": "PERL: Jumping to lines in a huge text file", "body": "<p>Sort the numbers in the second file. Now you can proceed thru the huge file in order, processing each S-value as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": false, "score": 2, "last_activity_date": 1534177691, "creation_date": 1534177691, "answer_id": 51826759, "question_id": 51811911, "link": "https://stackoverflow.com/questions/51811911/perl-jumping-to-lines-in-a-huge-text-file/51826759#51826759", "title": "PERL: Jumping to lines in a huge text file", "body": "<p>I know the op has already accepted an answer, but a method that's served me well is to slurp the file into an array, based on changing the \"record separator\" ($/).</p>\n\n<p>If you do something like this (not tested, but this should be close):</p>\n\n<pre><code>$/ = \"S=\";\nmy @records=&lt;fh&gt;;\nprint $records[4];\n</code></pre>\n\n<p>The output should be the entire fifth record (the array starts at 0, but your data starts at 1), starting with the record number (5) on a line by itself (you might need to strip that out later), following by all the remaining lines in that record.</p>\n\n<p>It's very simple and fast, although it is a memory pig...</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1534201434, "creation_date": 1534201434, "answer_id": 51831673, "question_id": 51811911, "link": "https://stackoverflow.com/questions/51811911/perl-jumping-to-lines-in-a-huge-text-file/51831673#51831673", "title": "PERL: Jumping to lines in a huge text file", "body": "<p>Binary search of a sorted list is an O(log N) operation. Something like this using <code>seek</code>:</p>\n\n<pre><code>open my $fh, '&gt;&gt;+', $big_file;\n$target = 123_456_789;\n\n$low = 0;\n$high = -s $big_file;\n\nwhile ($high - $low &gt; 0.01 * -s $big_file) {\n    $mid = ($low + $high) / 2;\n    seek $fh, $mid, 0;\n    while (&lt;$fh&gt;) {\n        if (/^S=(\\d+)/) {\n            if ($1 &lt; $target) { $low = $mid; }\n            else              { $high = $mid }\n            last;\n        }\n    }\n}\n\nseek $fh, $low, 0;\nwhile (&lt;$fh&gt;) {\n    # now you are searching through the 1% of the file that contains\n    # your target S\n}\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 5179776, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b67ce56655c6fd60e9e22f36f5df01f?s=128&d=identicon&r=PG&f=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/5179776/nissa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 1, "accepted_answer_id": 51813064, "answer_count": 5, "score": 3, "last_activity_date": 1534311174, "creation_date": 1534100246, "question_id": 51811911, "link": "https://stackoverflow.com/questions/51811911/perl-jumping-to-lines-in-a-huge-text-file", "title": "PERL: Jumping to lines in a huge text file", "body": "<p>I have a very large text file (~4 GB).\nIt has the following structure:</p>\n\n<pre><code>S=1\n3 lines of metadata of block where S=1\na number of lines of data of this block\nS=2\n3 lines of metadata of block where S=2\na number of lines of data of this block\nS=4\n3 lines of metadata of block where S=4\na number of lines of data of this block\netc.\n</code></pre>\n\n<p>I am writing a PERL program that read in another file,\nforeach line of that file (where it must contain a number),\nsearch the huge file for a S-value of that number minus 1,\nand then analyze the lines of data of the block belongs to that S-value.</p>\n\n<p>The problem is, the text file is HUGE, so processing each line with a</p>\n\n<pre><code>foreach $line {...} loop\n</code></pre>\n\n<p>is very slow. As the S=value is strictly increasing, are there any methods to jump to a particular line of the required S-value?</p>\n"}, {"tags": ["regex", "perl", "mapping", "ternary-operator"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1534088563, "post_id": 51810198, "comment_id": 90575562, "body": "The conditional operator is but one ternary operator"}], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "edited": false, "score": 0, "creation_date": 1534089487, "post_id": 51810388, "comment_id": 90575813, "body": "$_ = defined($_) ? s/\\t/[:TAB:]/rg : &#39;NULL&#39; for @data;  Works for me! Is it slower than a common loop?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "edited": false, "score": 0, "creation_date": 1534090895, "post_id": 51810388, "comment_id": 90576239, "body": "No, <code>$_ = defined($_) ? s&#47;\\t&#47;[:TAB:]&#47;rg : &#39;NULL&#39; for @data;</code> is not any slower than <code>for (@data) { $_ = defined($_) ? s&#47;\\t&#47;[:TAB:]&#47;rg : &#39;NULL&#39;; }</code>, if that&#39;s what you mean. Just two ways of writing the same thing."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1534089270, "last_edit_date": 1534089270, "creation_date": 1534088868, "answer_id": 51810388, "question_id": 51810198, "link": "https://stackoverflow.com/questions/51810198/how-to-place-a-regular-expression-in-a-perl-map-operation-using-the-conditional/51810388#51810388", "title": "How to place a regular expression in a perl map operation using the conditional operator", "body": "<p>In list context, <code>s/\\t/[:TAB:]/g</code> returns <code>1</code> and nothing otherwise. You need to return the modified <code>$_</code>.</p>\n\n<hr>\n\n<p>So you had something close to</p>\n\n<pre><code>for (@data) {\n    my $val = $_;\n    if (defined($val)) {\n        $val =~ s/\\t/[:TAB:]/g;\n    } else {\n        $val = 'NULL';\n    }\n\n    $_ = $val;\n}\n</code></pre>\n\n<p>The <code>map</code> version would be</p>\n\n<pre><code>@data = map {\n    my $val = $_;\n    if (defined($val)) {\n        $val =~ s/\\t/[:TAB:]/g;\n    } else {\n        $val = 'NULL';\n    }\n\n    $val\n} @data;\n</code></pre>\n\n<p>Of course, you could have written</p>\n\n<pre><code>$_ = defined($_) ? s/\\t/[:TAB:]/rg : 'NULL' for @data;            # 5.14+\n</code></pre>\n\n<p>The equivalent (but slower) <code>map</code> version would be</p>\n\n<pre><code>@data = map { defined($_) ? s/\\t/[:TAB:]/rg : 'NULL' } @data;     # 5.14+\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 51810388, "answer_count": 1, "score": 0, "last_activity_date": 1534089270, "creation_date": 1534087412, "last_edit_date": 1534088576, "question_id": 51810198, "link": "https://stackoverflow.com/questions/51810198/how-to-place-a-regular-expression-in-a-perl-map-operation-using-the-conditional", "title": "How to place a regular expression in a perl map operation using the conditional operator", "body": "<p>Hi I try to shorten a loop construct using a map operation and a conditional operator with a regular expression, but get not the right results. I think the reason for the failure is the difference between the assigment and the regexp operator (<code>=</code> vs. <code>=~</code> ). What is the right formulation for this approach.</p>\n\n<p><strong>Long version:</strong></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print(\"TABLE.BEGIN\\n\");\nwhile(my @data = $sth-&gt;fetchrow_array) {\n   $row++;\n   for my $ix (0..$#data) {\n       my $val = $data[$ix];\n       if ($val) {\n           $val =~ s/\\t/[:TAB:]/g;\n       } else {\n           $val = 'NULL';\n       }\n       $data[$ix] = $val;\n   }\n   print \"ROW: $row\\t\",join(\"\\t\",@data),\"\\n\";\n}\nprint(\"END.TABLE\\n\");\n</code></pre>\n\n<p><strong>Long version result</strong></p>\n\n<pre><code>TABLE.BEGIN\nROW: 1  12  79  1   PhoViComp   2017-05-22-PhoViComp    2017-05-22  32632   rostock HRO punjabi 2017-05-22-PhoViComp    /net/server/path/\nEND.TABLE\n</code></pre>\n\n<p><strong>Short version</strong></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print(\"TABLE.BEGIN\\n\");\nmy $row=0;\nwhile(my @data = $sth-&gt;fetchrow_array) {\n    $row++;\n    @data = map { $_ ? s/\\t/[:TAB:]/g : 'NULL' } @data;\n    print \"ROW: $row\\t\",join(\"\\t\",@data),\"\\n\";\n}\nprint(\"END.TABLE\\n\");\n</code></pre>\n\n<p><strong>Short version result</strong></p>\n\n<pre><code>TABLE.BEGIN\nROW: 1                                              \nEND.TABLE\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": false, "score": 2, "last_activity_date": 1534061144, "creation_date": 1534061144, "answer_id": 51806944, "question_id": 51806891, "link": "https://stackoverflow.com/questions/51806891/delete-everything-before-a-pattern/51806944#51806944", "title": "Delete everything before a pattern", "body": "<p>Could you please try following.</p>\n\n<pre><code>awk --re-interval 'match($0,/[0-9]{12}/){print substr($0,RSTART)}' Input_file\n</code></pre>\n\n<p>Since I have OLD version of <code>awk</code> so I am using <code>--re-interval</code> you could remove it in case you have new version of it.</p>\n"}, {"tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": true, "score": 2, "last_activity_date": 1534064713, "last_edit_date": 1534064713, "creation_date": 1534061894, "answer_id": 51807020, "question_id": 51806891, "link": "https://stackoverflow.com/questions/51806891/delete-everything-before-a-pattern/51807020#51807020", "title": "Delete everything before a pattern", "body": "<p>the <code>d</code> command in <code>sed</code> will delete entire line on matching the given regex, you need to use <code>s</code> command to search and replace only part of line... however, for given problem, <code>sed</code> is not suitable as it doesn't support non-greedy regex</p>\n\n<p>you can use <code>perl</code> instead</p>\n\n<pre><code>$ perl -pe's/^.*?(?=\\d{12}:)//' ip.txt\n135103079189:0:0:2:0::135103079189:000011:00\n908529896240:0:10250:2:0:1:\n603307102606:0:0:1:0::01000::M\n</code></pre>\n\n<ul>\n<li><code>.*?</code> match zero or more characters as minimally as possible\n\n<ul>\n<li><code>(?=\\d{12}:)</code> only if it is followed by 12-digits ending with <code>:</code></li>\n</ul></li>\n<li>use <code>perl -i -pe</code> for in-place editing</li>\n</ul>\n\n<p><br>\nsome possible corner cases</p>\n\n<pre><code>$ # this is matching part of field\n$ echo 'foo:123:abc135103079189:23:603307102606:1' | perl -pe's/^.*?(?=\\d{12}:)//'\n135103079189:23:603307102606:1\n$ # this is not matching 12-digit field at end of line\n$ echo 'foo:123:135103079189' | perl -pe's/^.*?(?=\\d{12}:)//'\nfoo:123:135103079189\n\n$ # so, add start/end of line matching cases and restrict 12-digits to whole field\n$ echo 'foo:123:abc135103079189:23:603307102606:1' | perl -pe 's/^(?:.*?:)?(?=\\d{12}(:|$))//'\n603307102606:1\n$ echo 'foo:123:135103079189' | perl -pe's/^(?:.*?:)?(?=\\d{12}(:|$))//'\n135103079189\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20521, "user_id": 1135424, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/rvwBS.jpg?s=128&g=1", "display_name": "nbari", "link": "https://stackoverflow.com/users/1135424/nbari"}, "is_accepted": false, "score": 0, "last_activity_date": 1534064888, "last_edit_date": 1534064888, "creation_date": 1534062815, "answer_id": 51807126, "question_id": 51806891, "link": "https://stackoverflow.com/questions/51806891/delete-everything-before-a-pattern/51807126#51807126", "title": "Delete everything before a pattern", "body": "<p>Taking the nice answer from @Sundeep, in case you would like to use <code>grep</code> or <code>pcregrep</code> (macOS/BSD) you could give a try to:</p>\n\n<pre><code>$ grep -oP '^(?:.*?:)?(?=\\d{12})\\K.*' file\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$ pcregrep -o '^(?:.*?:)?(?=\\d{12})\\K.*' file\n</code></pre>\n\n<p>The <code>\\K</code> will ignore everything after the pattern</p>\n"}, {"comments": [{"owner": {"reputation": 6598, "user_id": 6176817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s0NIX.jpg?s=128&g=1", "display_name": "PesaThe", "link": "https://stackoverflow.com/users/6176817/pesathe"}, "edited": false, "score": 1, "creation_date": 1534072304, "post_id": 51807342, "comment_id": 90571504, "body": "Once again you introduced a <code>sed</code> solution that I failed to come up with. Nice one!"}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1534065057, "last_edit_date": 1534065057, "creation_date": 1534064718, "answer_id": 51807342, "question_id": 51806891, "link": "https://stackoverflow.com/questions/51806891/delete-everything-before-a-pattern/51807342#51807342", "title": "Delete everything before a pattern", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -n 's/[0-9]\\{12\\}/\\n&amp;/;s/.*\\n//p' file\n</code></pre>\n\n<p>We only want to print specific lines so use the <code>-n</code> option to turn off automatic printing. If a line contains a 12 digit number, insert a newline before it. Remove any characters before and including a newline and print the result.</p>\n\n<p>If you want to print lines that do not contain a 12 digit number as is, use:</p>\n\n<pre><code>sed 's/[0-9]\\{12\\}/\\n&amp;/;s/.*\\n//' file\n</code></pre>\n\n<p>The crux of the problem is to identify the start of a multi-character string, insert a unique marker and delete all characters before and including the unique marker. As sed uses the newline to delimit lines, only the user can introduce newlines into the pattern space and as a result, newlines will always be unique.</p>\n"}, {"tags": [], "owner": {"reputation": 4966, "user_id": 1618630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0OfVn.jpg?s=128&g=1", "display_name": "Mike Q", "link": "https://stackoverflow.com/users/1618630/mike-q"}, "is_accepted": false, "score": 0, "last_activity_date": 1534074457, "creation_date": 1534074457, "answer_id": 51808540, "question_id": 51806891, "link": "https://stackoverflow.com/questions/51806891/delete-everything-before-a-pattern/51808540#51808540", "title": "Delete everything before a pattern", "body": "<p>Alternative thoughts  - I almost think your data is too dirty for a quick sed fix but if generally it's all similar to your sample set of data then certainly pick one of the answers with sed etc. However if you wanted to be more particular about it you could build up a set of commands to ensure the values. I like doing this for debugging and when speed isn't urgent.</p>\n\n<p>Take this tiny sample of code, you could do this other ways but I'm getting the value for each part of the string and I know the order because it contiguous. You could then set up controls on which parts to keep and such as it builds out say a new string per line. Overwrought for sure, but sometimes that is a better long term approach. </p>\n\n<pre><code>#!/bin/bash\nwhile IFS= read -r line ;do\n        IFS=':' read -r -a array &lt;&lt;&lt; \"$line\"\n        for ((i=0; i&lt;${#array[@]}; i++)) ;do\n                echo \"part : ${array[$i]}\"\n        done\ndone &lt; \"test_data.txt\"\n</code></pre>\n\n<p>You could then build the data back up how you wanted and more easily understand what's happening every step of the way .. </p>\n\n<pre><code>part : 1\npart : 0\npart : 135103079189\npart : 0\npart : 0\npart : 2\npart : 0\npart :\npart : 135103079189\npart : 000011\npart : 00\npart : A\npart : 908529896240\npart : 0\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 9169752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa4ea1d5239935a9e8a698f297ed7b9?s=128&d=identicon&r=PG&f=1", "display_name": "Dr Jay", "link": "https://stackoverflow.com/users/9169752/dr-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 51807020, "answer_count": 5, "score": 4, "last_activity_date": 1534074457, "creation_date": 1534060735, "last_edit_date": 1534062311, "question_id": 51806891, "link": "https://stackoverflow.com/questions/51806891/delete-everything-before-a-pattern", "title": "Delete everything before a pattern", "body": "<p>I'm trying to clean a text file.</p>\n\n<p>I want to delete everything start before the first 12 numbers.</p>\n\n<pre><code>1:0:135103079189:0:0:2:0::135103079189:000011:00\nA:908529896240:0:10250:2:0:1:\n603307102606:0:0:1:0::01000::M\n</code></pre>\n\n<p>Output desired:</p>\n\n<pre><code>135103079189:0:0:2:0::135103079189:000011:00\n908529896240:0:10250:2:0:1:\n603307102606:0:0:1:0::01000::M\n</code></pre>\n\n<p>Here's my command but seems not working.</p>\n\n<pre><code>sed '/:\\([0-9]\\{12\\}\\)/d' t.txt\n</code></pre>\n"}, {"tags": ["python", "perl", "web-scraping", "block", "http-status-code-403"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533945536, "post_id": 51795285, "comment_id": 90548065, "body": "How do you know it&#39;s not just banning your IP address?"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 2, "creation_date": 1533945578, "post_id": 51795285, "comment_id": 90548073, "body": "Have you tried contacting the operator of the site? Do you have their permission to scrape their site?"}, {"owner": {"reputation": 9, "user_id": 8418410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d857cb14f1f0b9b6df9b76fdd3e95c?s=128&d=identicon&r=PG&f=1", "display_name": "Kones Jone", "link": "https://stackoverflow.com/users/8418410/kones-jone"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533945752, "post_id": 51795285, "comment_id": 90548094, "body": "@melpomene I can send requset from burp suite"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533963558, "post_id": 51795285, "comment_id": 90550300, "body": "If I understand correctly, you&#39;re asking why you get a different error message after you&#39;re blocked for having sent 3500 requests? Why do you think it matters?"}], "answers": [{"tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": -1, "last_activity_date": 1534066275, "last_edit_date": 1592644375, "creation_date": 1533960158, "answer_id": 51796352, "question_id": 51795285, "link": "https://stackoverflow.com/questions/51795285/web-server-block-libwww-perl-requests/51796352#51796352", "title": "Web Server Block libwww-perl requests", "body": "<p>Use <a href=\"https://p3rl.org/LWP::UserAgent#agent\" rel=\"nofollow noreferrer\"><code>agent</code> method provided by <code>LWP::UserAgent</code></a> to change &quot;user agent identification string&quot;.</p>\n<p>It <strong>should</strong> solve blocking based on client identification string.<br />\nIt <strong>will not</strong> solve blocking based on abusive behavior.</p>\n<p><code>perldoc LWP::UserAgent</code></p>\n<blockquote>\n<p><strong>agent</strong></p>\n<pre><code>  my $agent = $ua-&gt;agent;\n  $ua-&gt;agent('Checkbot/0.4 ');    # append the default to the end\n  $ua-&gt;agent('Mozilla/5.0');\n  $ua-&gt;agent(&quot;&quot;);                 # don't identify\n</code></pre>\n<p>Get/set the product token that is used to identify the user agent on the network. The agent value is sent as the <code>User-Agent</code> header in the requests.</p>\n<p>The default is a string of the form <code>libwww-perl/#.###</code>, where <code>#.###</code> is substituted with the version number of this library.</p>\n<p>If the provided string ends with space, the default <code>libwww-perl/#.###</code> string is appended to it.</p>\n<p>The user agent string should be one or more simple product identifiers with an optional version number separated by the <code>/</code> character.</p>\n</blockquote>\n"}], "owner": {"reputation": 9, "user_id": 8418410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d857cb14f1f0b9b6df9b76fdd3e95c?s=128&d=identicon&r=PG&f=1", "display_name": "Kones Jone", "link": "https://stackoverflow.com/users/8418410/kones-jone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 51796352, "answer_count": 1, "score": -7, "last_activity_date": 1534066275, "creation_date": 1533945425, "question_id": 51795285, "link": "https://stackoverflow.com/questions/51795285/web-server-block-libwww-perl-requests", "title": "Web Server Block libwww-perl requests", "body": "<p>I have web scraping script (Perl language) in the first time it works perfectly but after ~ 3500 ( GET request ) server return 403 error ( Forbidden | not ip banned ) but when use the same script in ( python language ) i find the same problem work but after ~ 3500 requests i get 403 ( retrun to work after 24 heures ) i   don't know what is the problem and how i can fix it </p>\n\n<p>i read about libwww-perl : </p>\n\n<p><a href=\"https://cloudkul.com/blog/block-libwww-perl-attack-in-apache-web-server/\" rel=\"nofollow noreferrer\">https://cloudkul.com/blog/block-libwww-perl-attack-in-apache-web-server/</a></p>\n"}, {"tags": ["perl", "warnings"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1533944110, "post_id": 51795138, "comment_id": 90547830, "body": "The code you posted doesn&#39;t produce the error you claim it does. It produces <code>Name &quot;main::storage&quot; used only once: possible typo at a.pl line 10.</code> and <code>@storage</code> is indeed used only once."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1533944230, "post_id": 51795138, "comment_id": 90547858, "body": "ALWAYS use <code>use strict; use warnings qw( all );</code>. And don&#39;t use global vars for file handles; instead, use <code>open my $USER_INPUT, ...</code>, etc."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1533944239, "post_id": 51795138, "comment_id": 90547861, "body": "Don&#39;t use bareword filehandles. Use lexical filehandles instead."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1533944707, "post_id": 51795138, "comment_id": 90547937, "body": "Also <a href=\"https://stackoverflow.com/questions/39958624/perl-name-mainin-used-only-once-but-it-is-actually-used\" title=\"perl name mainin used only once but it is actually used\">stackoverflow.com/questions/39958624/&hellip;</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533965384, "post_id": 51795138, "comment_id": 90550549, "body": "If it&#39;s not a duplicate (i.e. if you aren&#39;t using <code>use autodie;</code>), please fix your question so it actually demonstrates your problem and we&#39;ll reopen the Question."}, {"owner": {"reputation": 426, "user_id": 2954429, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da72a483d9907bd038685e3f10ecdc44?s=128&d=identicon&r=PG&f=1", "display_name": "Arya", "link": "https://stackoverflow.com/users/2954429/arya"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533966839, "post_id": 51795138, "comment_id": 90550767, "body": "My question is a duplicate.  I was using <code>autodie</code>. The code I used in my example is a snippet of a lengthier script.  I excluded the other portions of my script (including the pragmas), because I incorrectly thought they were not pertinent.  I realized that the snippet I used was incomplete because because @ikegami pointed out the different warning it produced.  Rookie mistake I guess.  So, lesson learned: One should use scalar filehandles instead of <code>bareword filehandles</code> (aka <code>package filehandles</code>?) or else <code>use autodie</code> may trigger a bug."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533967104, "post_id": 51795138, "comment_id": 90550813, "body": "One should limit the scope of variables to where they are needed, autodie or not."}], "owner": {"reputation": 426, "user_id": 2954429, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da72a483d9907bd038685e3f10ecdc44?s=128&d=identicon&r=PG&f=1", "display_name": "Arya", "link": "https://stackoverflow.com/users/2954429/arya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1533965289, "answer_count": 0, "score": 2, "last_activity_date": 1533943801, "creation_date": 1533943801, "question_id": 51795138, "link": "https://stackoverflow.com/questions/51795138/perl-use-once-warning-with-file-handle", "closed_reason": "Duplicate", "title": "perl use once warning with file handle", "body": "<p>Why do I get the warning <code>Name \"main::USER_INPUT\" used only once: possible typo</code> when I run the following script?...</p>\n\n<pre><code>my $success_open = open USER_INPUT , '&lt;:encoding(UTF-8)', $filehandle;\n\nif(!$success_open)\n{\n    die \"Failed to open: $filehandle. $!\";\n}\n\nwhile(&lt;USER_INPUT&gt;)\n{\n    push @storage, $_;\n}\n\nclose USER_INPUT;\n</code></pre>\n\n<p>Despite the warning, the script runs fine.  It seems that I use <code>USER_INPUT</code> three times: once when I open it as a filehandle, once when I read from it, and once when I close it.  Do <code>open</code> and <code>close</code> not count as usage of USER_INPUT?  My guess is that <code>warnings</code> should count them.  If it doesn't count them, then why?</p>\n\n<p>I read several web pages about the <code>once</code> warning, and they give solutions to suppress the warning, but they do not seem to give enough information to understand why/how <code>once</code> occurs for my case:</p>\n\n<ul>\n<li><a href=\"https://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/warnings.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17543925/getting-used-only-once-possible-typo-warning-when-aliasing-subroutines\">Getting &quot;... used only once: possible typo&quot; warning when aliasing subroutines</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3521413/name-used-only-once-warning-while-using-listutilreduce\">&quot;name used only once&quot; warning while using List::Util::reduce</a></li>\n<li><a href=\"https://www.perlmonks.org/?node_id=1021888\" rel=\"nofollow noreferrer\">https://www.perlmonks.org/?node_id=1021888</a></li>\n<li><a href=\"https://perlmaven.com/name-used-only-once-possible-typo\" rel=\"nofollow noreferrer\">https://perlmaven.com/name-used-only-once-possible-typo</a></li>\n</ul>\n\n<p>How/Where can I find more info about how the <code>once</code> warning works?  Is there a URL, Book, file, etc.?  Maybe the code for <code>once</code> is in my Perl installation somewhere, but I do not know where.  I've also skimmed through the following books (including their indices) and did not find any detailed info about <code>once</code>:</p>\n\n<ul>\n<li>Learning Perl</li>\n<li>Intermediate Perl</li>\n<li>Mastering Perl</li>\n<li>Programming Perl</li>\n<li>Perl Cookbook</li>\n</ul>\n"}, {"tags": ["perl", "authentication", "cookies", "lwp-useragent"], "comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1533931998, "post_id": 51793436, "comment_id": 90544568, "body": "What is the path of the cookie? Is it for <code>&#47;</code>? Did you compare the cookie you get that way from the one Firefox gets?"}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "reply_to_user": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1533933068, "post_id": 51793436, "comment_id": 90544995, "body": "The print statement in my code shows that three &quot;cookies&quot; are inserted.  All three have path=&quot;/&quot;. With a real browswer (Chrome -- I cannot see actual content of the cookies under Firefox),  12 cookies are created under www.briefing.com and 4 under briefing.com.   Three of the 12 matched those created under $us-&gt;post() in the &quot;name&quot; but with slightly different &quot;content&quot; values."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533933411, "post_id": 51793436, "comment_id": 90545135, "body": "With Firefox you can use the <a href=\"https://developer.mozilla.org/en-US/docs/Tools/Storage_Inspector\" rel=\"nofollow noreferrer\">Storage Inspector</a> in the developer tools to inspect cookies."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1533934031, "post_id": 51793436, "comment_id": 90545358, "body": "Thx Mel.  Just saw that too on Google.  Actually, under preference, I can select &quot;remove individual cookies&quot; and there I could actually see inside directly without resorting to Storage Inspector."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1533934063, "post_id": 51793436, "comment_id": 90545370, "body": "It is expected that the content differs, but what is strange/maybe source of the problem is the fact that you do not get the same amount of them. Your code seems ok for me, it is maybe just that the browser, with various included images/css/fonts/scripts gets more cookies than with just a single query as you do."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1533934244, "post_id": 51793436, "comment_id": 90545439, "body": "Also note that some websites require that you first GET the page with the authentication form and <b>then</b> only submit it with credentials. Sometimes if you just do the POST without the first GET, the query is at best rejected or at least ignored as if you did not submit anything. Try to do a GET on the URL, and then post. Also try to use WWW::Mechanize instead of LWP::UserAgent as there may be hidden fields in the form you need to send too or other shenanigans that WWW::Mechanize is more suitable to handle than LWP::UserAgent which is too low in the stack."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1533934429, "post_id": 51793436, "comment_id": 90545479, "body": "I also tried with a user agent string:  $ua-&gt;agent(&#39;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:58.0) Gecko/20100101 Firefox/58.0&#39;); to mimic a real browser.  It didn&#39;t make any difference.  Only 3 cookies inserted.   I also tried Firefox, which inserted 15 cookies (all under briefing.com)."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1533934528, "post_id": 51793436, "comment_id": 90545511, "body": "Thanks Pat.  I was trying to get it to work with LWP.  I can always resort to Selenium but felt it was an over-kill.  Let me try the  get idea first."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1533934966, "post_id": 51793436, "comment_id": 90545645, "body": "So I added a line &quot;$ua-&gt;get($url);&quot; before &quot;$ua-&gt;post($url, ....);&quot; It does not make any difference.   Regarding WWW::Mechanize, I am not familiar with it.  Is there any benefit to use it instead of Selenium (with which I have some experience)?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533937800, "post_id": 51793436, "comment_id": 90546452, "body": "What is <code>$res-&gt;status_line</code> and <code>$res-&gt;headers-&gt;as_string</code>?"}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1533939202, "post_id": 51793436, "comment_id": 90546823, "body": "There are 2 $res in my code (post and get).  For both of them, $res-&gt;status_line = &#39;200 OK&#39;, but $res-&gt;headers-&gt;as_string is too long to fit here.   Is there way to attach files in Stack Overflow?  Or is there a way to message you directly?"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1534095064, "post_id": 51793436, "comment_id": 90577452, "body": "<code>WWW::Mechanize</code> is &quot;just&quot; a wrapper on top of <code>LWP::UserAgent</code> but mimicks more closely what a real browser does (except the Javascript stuff). It is more suited for web scraping than only a pure HTTP client."}, {"owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "edited": false, "score": 0, "creation_date": 1534120072, "post_id": 51793436, "comment_id": 90582588, "body": "Thanks Patrick.  I will check out Mechanize someday.  For now, I already implemented a Selenium based solution."}], "owner": {"reputation": 117, "user_id": 5774863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/486d6286fe28dd5cf45e10328284e4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Shang Zhang", "link": "https://stackoverflow.com/users/5774863/shang-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1533931659, "creation_date": 1533931659, "question_id": 51793436, "link": "https://stackoverflow.com/questions/51793436/what-is-wrong-in-my-usage-of-cookies-with-lwpuseragent", "title": "What is wrong in my usage of cookies with LWP::UserAgent?", "body": "<p>With a real Firefox browser, my authentication through '<a href=\"https://www.briefing.com/Login/subscriber.aspx\" rel=\"nofollow noreferrer\">https://www.briefing.com/Login/subscriber.aspx</a>' places a cookie on my hard drive.  Afterwards, when I start another session, I can bypass the authentication step and directly reach data page like '<a href=\"https://www.briefing.com/investor/calendars/earnings/2018/08/09\" rel=\"nofollow noreferrer\">https://www.briefing.com/investor/calendars/earnings/2018/08/09</a>'.</p>\n\n<p>In the code below, I am trying to duplicate the above, but to no avail.  What am I doing wrong?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTTP::Cookies;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\n\n# Let ua use cookies and gives it an empty jar\n$ua-&gt;cookie_jar(HTTP::Cookies-&gt;new());\n\n# login to create cookies\n# The field names are guessed, based on these web elements: \n# &lt;input name=\"_textBoxUserName\" id=\"_textBoxUserName\" type=\"text\"&gt;  \n# &lt;input name=\"_textBoxPassword\" id=\"_textBoxPassword\" type=\"password\"&gt;   \nmy $url = 'https://www.briefing.com/Login/subscriber.aspx';\nmy $res = $ua-&gt;post($url,\n                    '_textBoxUserName' =&gt; '*******',\n                    '_textBoxPassword' =&gt; '*******');\n\n# confirm that new cookies are indeed placed in the cookie jar\nprint join(\"\\n\", $ua-&gt;cookie_jar()-&gt;as_string);\n\n# But URL still gets re-directed even though the cookie jar has been filled\n$url = 'https://www.briefing.com/investor/calendars/earnings/2018/08/09';\n$res = $ua-&gt;get($url);\nprint $res-&gt;content;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "edited": false, "score": 0, "creation_date": 1533921478, "post_id": 51791208, "comment_id": 90539951, "body": "Please edit your question to properly format it, its current state makes it hard to read and impossible to know which one is line <code>309</code> as reported from your error message."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1533921817, "post_id": 51791208, "comment_id": 90540104, "body": "I fixed your formatting, please examine the input markdown (use the <a href=\"https://stackoverflow.com/posts/51791208/edit\">edit</a> link) to see what I did for future reference."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1533921934, "post_id": 51791208, "comment_id": 90540152, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32366285/perl-global-symbol-requires-explicit-package-name\">Perl: Global Symbol Requires Explicit Package Name</a>"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1533921963, "post_id": 51791208, "comment_id": 90540166, "body": "Also for future reference <b><i>ALWAYS</i></b> Google the error message before posting here."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533922892, "post_id": 51791208, "comment_id": 90540542, "body": "Your code will not compile. The line <code>print $fh &quot;&lt;vob file=\\&quot;&#47;users&#47;dragonzero29&#47;.wine&#47;drive_c&#47;mvtmp&#47;$MOVIe.MUXED.&zwnj;&#8203;MPG\\&quot; </code> doesn&#39;t have a closing quote or a semicolon. Please make sure to post the <i>exact</i> code that you are running,  and consider using <i>here documents</i>, <code>sprintf</code>, and alternative delimiters for <code>qq{}</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533926112, "post_id": 51791208, "comment_id": 90541955, "body": "Always fix the earliest error first. In this case: <code>syntax error at &#47;users&#47;dragonzero29&#47;cm2dvd_v2.pl line 309, near &quot;$LANg =&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533923674, "post_id": 51791413, "comment_id": 90540867, "body": "I&#39;ve down-voted your post because (again) it doesn&#39;t come close to answering the question. The variables <code>$i</code>, <code>$j</code>, and <code>$k</code> are recognised as indexes and are perfectly valid in context. In this case <code>$i</code> is a file path but is used only once, as an array index. There is much more wrong with the OP&#39;s code than you have described (it won&#39;t even compile) and offering it as a solution is disingenuous."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1533925979, "post_id": 51791413, "comment_id": 90541908, "body": "&quot;<i>The variables $i, $j, and $k are recognised as indexes and are perfectly valid in context.</i>&quot; where did I say there are invalid? I just offered the suggestion that a better name could be found, that gives more semantic value. As for the rest, I do not believe this website should be used as a generic &quot;bad code on input&quot; -&gt; &quot;code all fixed for you on output&quot; service. I replied specifically about the error given in the question (other error =&gt; other question), and provided various ideas on how to improve other stuff. You are free to dislike my way of doing things, but thanks for your comments."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533926120, "post_id": 51791413, "comment_id": 90541960, "body": "@Borodin and feel free to post a better answer if you dislike the ones that you see. I believe this to be a better way of handling the problem you see, as then everyone will see all possible answers and will be free to upvote/downvote any of them. Your comment unfortunately does not help me in any way to improve my solution (based on the &quot;framework&quot; I explained in previous comment), so I can not change anything but again you could provide another, better in your eyes, solution that fix all the defects you see elsewhere."}, {"owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "edited": false, "score": 0, "creation_date": 1533928389, "post_id": 51791413, "comment_id": 90543016, "body": "great thanks for the input now, where can I get more practice and info with:"}, {"owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "edited": false, "score": 0, "creation_date": 1533928534, "post_id": 51791413, "comment_id": 90543083, "body": "with, as I was saying: <code>(?:EN|ES)</code> for grep?"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533929032, "post_id": 51791413, "comment_id": 90543335, "body": "@ armight29 this is &quot;just&quot; a regex, so any tutorial on regex would help, or start with <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a>   I also added some more text in my answer to warn you about other problems, based on @Borodin comments above."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533938485, "post_id": 51791413, "comment_id": 90546618, "body": "Thanks @Ikegami I have edited to include your change on the heredoc delimiter. As for <code>Template</code>, I agree and it was already in my answer, at bottom in the list of various ideas to explore to make things simpler and better."}, {"owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "edited": false, "score": 0, "creation_date": 1533950289, "post_id": 51791413, "comment_id": 90548707, "body": "&quot;if @subfiles is a list of filenames, the grep will return the ones which start with EN or ES (are they named like that?&quot; NO, They don&#39;t start with that, they have those 2 characters between 2 dots in the filename...."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534009382, "post_id": 51791413, "comment_id": 90560754, "body": "@Patrick: You write <i>&quot;do not name your variable $i or even $LANg: first one is void of any semantic value&quot;</i> Which pretty much means you consider them &quot;invalid&quot;."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "edited": false, "score": 0, "creation_date": 1534013681, "post_id": 51791413, "comment_id": 90561853, "body": "@armight29 then <code>^</code> is a problem in your regex, it matches beginning of string..."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534013838, "post_id": 51791413, "comment_id": 90561883, "body": "@Borodin that will remain your interpretation then, but you are free to edit my answer I think if you want to improve that or other things. Of course, I never said they are &quot;invalid&quot;  I just tried to suggest it is better to have variable names that have semantic value. But if one wants to name its variable <code>$fjzlvoenzocke42</code> he is sure more than welcome to do so, and of course the variable will not be <b>invalid</b> just of poor taste..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534014913, "post_id": 51791413, "comment_id": 90562134, "body": "@Patrick: I think <code>$i</code> has inherent de facto &quot;semantic value&quot;. It has been in common use as an array index for sixty years or so, and I would be surprised if you don&#39;t use it yourself. You would certainly have a huge task to persuade programmers to stop using it, just as directing mathematicians away from <i>x</i> and <i>y</i> would be pointless. I suspect that you are claiming a point of view that you don&#39;t in fact hold, purely in defence of your answer."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534026518, "post_id": 51791413, "comment_id": 90564423, "body": "@Borodin This is all fine and good, except here, in <code>foreach my $i (@subfiles)</code> , the <code>$i</code> is certainly not an index, hence the name here has poor semantic value and <code>$file</code> would have been better for example. This is all I was trying to say, sorry if the point did not get across. You were certainly misreading both my text and intent. I totally still hold that <b>HERE</b> in <b>THIS</b> construct, <code>$i</code> is poor choice but obviously I do not need to spend my energy trying to convince you as you seem biaised like each time I reply something, so I will stop here. Thank you for your comments."}], "tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": false, "score": 2, "last_activity_date": 1533938397, "last_edit_date": 1533938397, "creation_date": 1533922135, "answer_id": 51791413, "question_id": 51791208, "link": "https://stackoverflow.com/questions/51791208/global-symbol-fh-requires-explicit-package-name-did-you-forget-to-declare-m/51791413#51791413", "title": "Global symbol &quot;$fh&quot; requires explicit package name (did you forget to declare &quot;my $fh&quot;?)", "body": "<p>This part is not syntaxically correct:</p>\n\n<pre><code>foreach my $LANg = grep(/^EN/ || /^ES/,@subfiles) {\nprint $fh \"&lt;subpicture lang=\\\"$LANg\\\"\\n\";\n}\n</code></pre>\n\n<p>You need to rewrite it at least to:</p>\n\n<pre><code>foreach my $LANg (grep(/^EN/ || /^ES/,@subfiles)) {\n    print $fh \"&lt;subpicture lang=\\\"$LANg\\\"\\n\";\n}\n</code></pre>\n\n<p>But I would recommend instead:</p>\n\n<pre><code>foreach my $lang (grep { /^(?:EN|ES)/ } @subfiles) {\n    print $fh \"&lt;subpicture lang=\\\"$lang\\\"\\n\";\n}\n</code></pre>\n\n<p>Note that it may not logically do what you hope it does, if <code>@subfiles</code> is a list of filenames, the grep will return the ones which start with <code>EN</code> or <code>ES</code> (are they named like that? and you need to take into account if the paths contain directories or not) and then return the whole file name (not just what has been matched) to be in <code>$lang</code>. So <code>$lang</code> will never be just <code>EN</code> or <code>ES</code> but a whole file name. If you need to extract only part of the name, you can look after <code>map</code>, it is often a great companion to <code>grep</code>.</p>\n\n<p>And as @Borodin pointed out in comments, you have other various problems in the code, like your <code>$i</code> variable in <code>foreach my $i (@subfiles)</code> is not an index (0, 1, 2, etc.) but one element of <code>@subfiles</code> into which you are iterating with <code>foreach</code>, that is a filename, and hence <code>$subnames[$i]</code> will be a runtime error as <code>$i</code> is not an index (a numerical value).</p>\n\n<p>So make sure to add <code>use strict; use warnings;</code> on top of your script and debug your syntax and then runtime errors one by one.</p>\n\n<p>There are many other generic improvements you could do too.\nFor example, have a look at \"here-documents\", on <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlop.html#Quote-Like-Operators</a> search for <code>&lt;&lt;EOF</code>.</p>\n\n<p>This would allow you to replace for example:</p>\n\n<pre><code>print $fh \"&lt;vmgm /&gt;\\n\";\nprint $fh \"&lt;titleset&gt;\\n\";\nprint $fh \"&lt;menus&gt;\\n\";\nprint $fh \"&lt;pgc&gt;\\n\";\n</code></pre>\n\n<p>by just:</p>\n\n<pre><code>print $fh &lt;&lt;'EOF';\n&lt;vmgm /&gt;\n&lt;titleset&gt;\n&lt;menus&gt;\n&lt;pgc&gt;\nEOF\n</code></pre>\n\n<p>This would simplify your code a lot, as you do not need to escape <code>\"</code> there.</p>\n\n<p>Further ideas:</p>\n\n<ul>\n<li>do not name your variable <code>$i</code> or even <code>$LANg</code>: first one is void of any semantic value, second one should be <code>$lang</code> as mixed-case will be error prone</li>\n<li>in the same way, name your functions in lowercase and pass the filename as a parameter instead of hardcoding it inside the functions, so that they could be reused easily with other paths</li>\n<li>printing XML \"line by line\" like this is prone to error. For example, do you know that you need to escape <code>&amp;</code>,  <code>&lt;</code> and <code>&gt;</code> otherwise your XML will be invalid? Use a library to do that for you.</li>\n<li>look after templates, like the Template Toolkit library; this would allow to separate the code from the text (XML template) which has many benefits (including automatic escaping for the issue above).</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533927943, "post_id": 51792260, "comment_id": 90542829, "body": "I am intentionally not addressing the specific syntax error here; I wanted a useful answer for people in general who get hung up on the flood of <code>Global symbol</code> errors telling them to redirect their focus"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1533927853, "last_edit_date": 1533927853, "creation_date": 1533925938, "answer_id": 51792260, "question_id": 51791208, "link": "https://stackoverflow.com/questions/51791208/global-symbol-fh-requires-explicit-package-name-did-you-forget-to-declare-m/51792260#51792260", "title": "Global symbol &quot;$fh&quot; requires explicit package name (did you forget to declare &quot;my $fh&quot;?)", "body": "<p>If there is a syntax error, ignore all the other errors and deal with the syntax error first.</p>\n\n<p>Syntax errors can often confuse perl as to what scope you are in; here, it is unable to parse the bad <code>foreach my $LANg</code> but does see the <code>}</code> and thinks it ends the sub.  So everything following that doesn't have a lexical <code>$fh</code>.</p>\n"}], "owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1533943510, "creation_date": 1533921194, "last_edit_date": 1533943510, "question_id": 51791208, "link": "https://stackoverflow.com/questions/51791208/global-symbol-fh-requires-explicit-package-name-did-you-forget-to-declare-m", "title": "Global symbol &quot;$fh&quot; requires explicit package name (did you forget to declare &quot;my $fh&quot;?)", "body": "<ol>\n<li><p>I glob the files in a directory (non-recursive) that have an extension of .srt, .ass, .ssa, .txt with:</p>\n\n<pre><code>my @subfiles = glob '*.srt *.txt *.ass *.ssa';\n</code></pre></li>\n<li><p>Then, to write the xml sub files for spumux I call:\n<code>WRITESUBXML();</code> which is as follows:</p>\n\n<pre><code>sub WRITESUBXML {\n    foreach my $i (@subfiles) {\n        $SUBXMl=\"/users/dragonzero29/.wine/drive_c/mvtmp/$subfiles[$i].xml\";\n        open(my $fh, '&gt;', $SUBXMl) or die \"Could not open file $SUBXMl $!\";\n        print $fh \"&lt;subpictures format=\\\"NTSC\\\"&gt;\\n\";\n        print $fh \"&lt;stream&gt;\\n\";\n        print $fh \"&lt;textsub filename=\\\"$subfiles[$i]\\\"\\n\";\n        print $fh \"characterset=\\\"UTF-8\\\"\\n\";\n        print $fh \"fontsize=\\\"28.0\\\"\\n\";\n        print $fh \"font=\\\"/users/dragonzero29/.wine/drive_c/mvtmp/arial.ttf\\\"\\n\";\n        print $fh \"fill-color=\\\"yellow\\\"\\n\";\n        print $fh \"outline-color=\\\"LightGray\\\"\\n\";\n        print $fh \"outline-thickness=\\\"2.0\\\"\\n\";\n        print $fh \"horizontal-alignment=\\\"center\\\"\\n\";\n        print $fh \"vertical-alignment=\\\"bottom\\\"\\n\";\n        print $fh \"left-margin=\\\"60\\\"\\n\";\n        print $fh \"right-margin=\\\"60\\\"\\n\";\n        print $fh \"top-margin=\\\"20\\\"\\n\";\n        print $fh \"bottom-margin=\\\"30\\\"\\n\";\n        print $fh \"subtitle-fps=\\\"29.97\\\"\\n\";\n        print $fh \"movie-fps=\\\"29.97\\\"\\n\"; \n        print $fh \"movie-width=\\\"720\\\"\\n\";\n        print $fh \"movie-height=\\\"480\\\"\\n\";\n        print $fh \"force=\\\"no\\\"/&gt;\\n\";\n        print $fh \"&lt;/stream&gt;\\n\";\n        print $fh \"&lt;/subpictures&gt;\";\n        close($fh);\n    }\n}\n</code></pre></li>\n<li><p>Then, later I call the function to write the final dvdauthor file with \n<code>WRITEAUTHORXML();</code> which contains:</p>\n\n<pre><code>sub WRITEAUTHORXML {\n    $AUTHORFILe=\"/users/dragonzero29/.wine/drive_c/mvtmp/authormovie.xml\";\n    open(my $fh, '&gt;', $AUTHORFILe) or die \"Could not open file $AUTHORFILe $!\";\n    print $fh \"&lt;dvdauthor dest=\\\"/users/dragonzero29/.wine/drive_c/mvtmp/DVD\\\"&gt;\\n\";\n    print $fh \"&lt;vmgm /&gt;\\n\";\n    print $fh \"&lt;titleset&gt;\\n\";\n    print $fh \"&lt;menus&gt;\\n\";\n    print $fh \"&lt;pgc&gt;\\n\";\n    print $fh \"&lt;button&gt; jump title 1\\; &lt;/button&gt;\\n\";\n    print $fh \"&lt;vob file=\\\"/users/dragonzero29/.wine/drive_c/mvtmp/menu.mpg\\\" pause=\\\"inf\\\"/&gt;\\n\";\n    print $fh \"&lt;/pgc&gt;\\n\";\n    print $fh \"&lt;/menus&gt;\\n\";\n    print $fh \"&lt;titles&gt;\\n\";\n    foreach my $LANg = grep(/^EN/ || /^ES/,@subfiles) {\n        print $fh \"&lt;subpicture lang=\\\"$LANg\\\"\\n\";\n    }\n    print $fh \"&lt;pgc&gt;\\n\";\n    print $fh \"&lt;vob file=\\\"/users/dragonzero29/.wine/drive_c/mvtmp/$MOVIe.MUXED.MPG\\\" \n    print $fh \"&lt;post&gt;\\n\";\n    print $fh \"call menu\\;\\n\";\n    print $fh \"&lt;/post&gt;\\n\";\n    print $fh \"&lt;/pgc&gt;\\n\";\n    print $fh \"&lt;/titles&gt;\\n\";\n    print $fh \"&lt;/titleset&gt;\\n\";\n    print $fh \"&lt;/dvdauthor&gt;\\n\";\n    close($fh);\n    return 0;\n}\n</code></pre></li>\n</ol>\n\n<p>and when run it spits out:</p>\n\n<pre><code>syntax error at /users/dragonzero29/cm2dvd_v2.pl line 309, near \"$LANg =\"\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 312.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 313.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 314.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 315.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 316.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 317.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 318.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 319.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 320.\nGlobal symbol \"$fh\" requires explicit package name (did you forget to declare \"my $fh\"?) at /users/dragonzero29/cm2dvd_v2.pl line 321.\nsyntax error at /users/dragonzero29/cm2dvd_v2.pl line 323, near \"}\"\n/users/dragonzero29/cm2dvd_v2.pl has too many errors.\n</code></pre>\n\n<p>well the edits let me successfully compile the script and my dvd project script works all the way to iso creation but I notice the subtitle xml files were NOT even created so the final dvd has no subs...aargh :( pls help. Also here is the code used to generate the xml files, used with the above code</p>\n\n<pre><code>foreach my $i(0 .. $#subxmlfiles) {\nsystem(\"spumux -s0 -m dvd -P \n\\\"/users/dragonzero29/.wine/drive_c/mvtmp/$subxmlfiles[$i]\\\" &lt; \n\\\"/users/dragonzero29/.wine/drive_c/mvtmp/$MOVIe.MUXED.MPG\\\" &gt; \n\\\"/users/dragonzero29/.wine/drive_c/mvtmp/$MOVIe.MUXED.MPG\\\"\\n\\n\");\n}\n</code></pre>\n\n<p>sorry for the mess I still don't understand how to put code from TextMate\ninto this space pls advise..</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 2, "creation_date": 1533915573, "post_id": 51788148, "comment_id": 90537138, "body": "Please consider formatting your code using something like <code>perltidy</code>; it is really difficult to understand with several statements on the same line, and lines like <code>$str=~s{&lt;findcontent&gt;}{&lt;replacedcontent&gt;}g;</code> -- what does this mean? Are <code>&lt;findcontent&gt;</code> and <code>&lt;replacedcontent&gt;</code> real strings? A clearer question will make it easier for people to answer."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1533918530, "post_id": 51788148, "comment_id": 90538641, "body": "The input string <code>$str</code> contains just one instance of <code>\\mathbf{R}</code>, how is this consistent with the desired output of <code>\\mathbf a</code>? Please clarify"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1533921026, "creation_date": 1533921026, "answer_id": 51791171, "question_id": 51788148, "link": "https://stackoverflow.com/questions/51788148/find-and-replace-and-get-count-of-replaced-content-values/51791171#51791171", "title": "Find and replace and get count of replaced content values", "body": "<p>You could try to put the search and replace strings into an array of arrays, and then iterate to do the substitutions and collect the counts and reports:</p>\n\n<pre><code>my @findreplace = (\n    [ q&lt;\\\\\\\\alpha&gt;, q&lt;\\boldsymbol{\\alpha}&gt;],\n    [ q&lt;\\\\\\\\math(it|rm|bf)\\s*([a-z])\\b&gt;, q&lt;\\checkmath$1{$2}&gt;],\n);\n\nmy (@pushStatsreport, $Statsreport);\nfor my $item (@findreplace) {\n    my ( $regex, $replace ) = @$item;\n    my $cnt = $str =~ s{$regex}{'\"$replace\"'}eeg;\n    $Statsreport = \"Find: $regex\\tRep: $replace\\tCnt: $cnt\";\n    push @pushStatsreport, $Statsreport;\n}\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533921026, "creation_date": 1533909437, "question_id": 51788148, "link": "https://stackoverflow.com/questions/51788148/find-and-replace-and-get-count-of-replaced-content-values", "title": "Find and replace and get count of replaced content values", "body": "<p>I need to find and replace the content using regex known or unknown pattern, and then we need to store finding content, replaced content, count of replaced content: (I need to do get this from more 100 replacements)</p>\n\n<blockquote>\n  <p>Here we need to get </p>\n</blockquote>\n\n<p><strong>1)Find content<br>\n2)Replaced content and<br>\n3)count values</strong>: </p>\n\n<blockquote>\n  <p>Example: &lt;find&gt; &lt;replace&gt; --> Count</p>\n</blockquote>\n\n<p>In addition we couldn't assume this and that might be whatever we are finding and replacing we should get this report.</p>\n\n<p>I tried my best:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = 'Trp $\\mathbf{R}^a$ locates \\alpha \\beta distantly $\\mathrm{R}^a$ from $\\mathit{R}^a$ cys25 in both \\gamma and cathepsin K, with \\alpha high and moderate $\\mathbb{R}^1H$ strengths, respectively. The protein $\\mathds{R}^a$ modification $\\mathds{R}^1H$ largely \\beta affects the binding sites and stability \\gamma of the \\gamma peptides, and the effects depend on \\alpha the elemental compositions of the peptides';\n\n#Sample :\n$str=~s{&lt;findcontent&gt;}{&lt;replacedcontent&gt;}g;\n\n\n#Tried something *different*\nmy $cnt=0; my (@pushStatsreport,$Statsreport) = \"\";\n\n$str=~s/\\\\alpha/my $find=$&amp;; my $rep = \"\\\\boldsymbol\\{\\\\alpha\\}\"; $cnt++; $Statsreport = \"Find: $find\\tRep: $rep\\tCnt: $cnt\\n\"; ($rep); /ge;\npush(@pushStatsreport, $Statsreport); $cnt=0;\n\n$str=~s/\\\\math(it|rm|bf)\\s*([a-z])\\b/my $find = $&amp;; my $rep = \"\\\\checkmath$1\\{$2\\}\"; $cnt++; $Statsreport = \"Find: $find\\tRep: $rep\\tCnt: $cnt\\n\"; ($rep); /ge;\npush(@pushStatsreport, $Statsreport);\n\nprint join \"\\n\", @pushStatsreport;\n</code></pre>\n\n<p>my result and desired output:</p>\n\n<blockquote>\n  <p>Find: \\alpha    Rep: \\boldsymbol{\\alpha}        Cnt: 3<br>\n  Find: \\mathbf a Rep: \\checkmathbf{a}      Cnt: 2</p>\n</blockquote>\n\n<p>However I couldn't accept this is the better way. Someone could help me on this.</p>\n"}, {"tags": ["python", "perl", "random"], "comments": [{"owner": {"reputation": 21235, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 0, "creation_date": 1533900012, "post_id": 51785340, "comment_id": 90527627, "body": "5 digits numbers are guaranteed to repeat after at most 100,000 repetitions, so what do you want exactly?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21235, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 0, "creation_date": 1533900918, "post_id": 51785340, "comment_id": 90528184, "body": "@Thierry: So you&#39;re worried that a number may repeat after 27 years?"}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 1, "creation_date": 1533905644, "post_id": 51785340, "comment_id": 90531098, "body": "Hi Sujeet - I would choose one of those two languages first, try something, and if it doesn&#39;t work - post your code here.  Both Perl and Python have functions to create random names.  What&#39;s the downside of these numbers repeating?  Also, what&#39;s the greater context?"}, {"owner": {"reputation": 377, "user_id": 6583638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zobe.jpg?s=128&g=1", "display_name": "Flying_whale", "link": "https://stackoverflow.com/users/6583638/flying-whale"}, "edited": false, "score": 0, "creation_date": 1533911218, "post_id": 51785340, "comment_id": 90534537, "body": "well, just create an array with the generated numbers. then look if the number you just generated is already into this array. If so, regenerate the number. If you are running the code several times, you will have to write the numbers into a txt file"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533938476, "post_id": 51785340, "comment_id": 90546611, "body": "To get 10 different numbers each day, first create a file that has a random permutation of all numbers from 1000 to 99999 (inclusive). (e.g. <code>say $fh $_ for shuffle(1000..99999);</code>. <code>shuffle</code> is provided by List::Util).  Then, when you need 10 numbers, use File::ReadBackwards to read the last 10 numbers of the file, then <code>truncate</code> the file where you left off."}], "answers": [{"tags": [], "owner": {"reputation": 1289, "user_id": 1831675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t3qRJ.jpg?s=128&g=1", "display_name": "leotrubach", "link": "https://stackoverflow.com/users/1831675/leotrubach"}, "is_accepted": false, "score": 0, "last_activity_date": 1533900088, "creation_date": 1533900088, "answer_id": 51785400, "question_id": 51785340, "link": "https://stackoverflow.com/questions/51785340/randomly-generate-4-or-5-digit-unique-codes-in-subsequent-runs-of-the-script/51785400#51785400", "title": "Randomly generate 4 or 5 digit Unique Codes in Subsequent Runs of the Script", "body": "<p>I would suggest that you generate all possible 4 and 5 digit numbers, shuffle them (use <a href=\"https://kite.com/python/docs/random.shuffle\" rel=\"nofollow noreferrer\">random.shuffle()</a>) and then save to file. Then you could pick them every day by 10.</p>\n"}, {"tags": [], "owner": {"reputation": 60, "user_id": 9136512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb210de419fcb847381e575b41ef5ff?s=128&d=identicon&r=PG&f=1", "display_name": "meowmeow", "link": "https://stackoverflow.com/users/9136512/meowmeow"}, "is_accepted": false, "score": 0, "last_activity_date": 1533900720, "creation_date": 1533900720, "answer_id": 51785583, "question_id": 51785340, "link": "https://stackoverflow.com/questions/51785340/randomly-generate-4-or-5-digit-unique-codes-in-subsequent-runs-of-the-script/51785583#51785583", "title": "Randomly generate 4 or 5 digit Unique Codes in Subsequent Runs of the Script", "body": "<p>If you want to make sure that your numbers will not repeat just generate a list of numbers and then shuffle it randomly</p>\n\n<pre><code>import numpy as np\nnumbers = np.arange(100000)  # Every number from 0 to 99999\nnp.random.shuffle(numbers)   # Now we shuffled everything\n</code></pre>\n\n<p>In this way you will not have any repetition since every number is unique. Then you can simply access the numbers in the <code>numbers</code> array from start to end</p>\n"}, {"tags": [], "owner": {"reputation": 14257, "user_id": 820127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f8fffeec4f2ba3e75aebe941e4e5dd?s=128&d=identicon&r=PG", "display_name": "rossum", "link": "https://stackoverflow.com/users/820127/rossum"}, "is_accepted": false, "score": -1, "last_activity_date": 1533906200, "creation_date": 1533906200, "answer_id": 51787207, "question_id": 51785340, "link": "https://stackoverflow.com/questions/51785340/randomly-generate-4-or-5-digit-unique-codes-in-subsequent-runs-of-the-script/51787207#51787207", "title": "Randomly generate 4 or 5 digit Unique Codes in Subsequent Runs of the Script", "body": "<p>If you encrypt the numbers 0, 1, 2, 3, ... then the encrypted outputs are guaranteed unique, thanks to the unique inputs.  Obviously, this will have to repeat after you have used all possible 5 digit numbers as input.</p>\n\n<p>Look at <a href=\"https://en.wikipedia.org/wiki/Format-preserving_encryption\" rel=\"nofollow noreferrer\">Format Preserving Encryption</a> to ensure that your cypher output is a five digit number.</p>\n\n<p>Five digits is 10,000 values, 14 bits.  Assuming security is not paramount, then a simple 14-bit four round Feistel cipher with a little cycle walking should be a good basis.  If security is important, then you will need something more like Hasty Pudding or AES-FFX, but inevitably more security takes longer to calculate.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533939623, "post_id": 51792824, "comment_id": 90546934, "body": "Never use Tie::File. It&#39;s incredibly slower, and can easily use more memory than just  reading the entire file into memory (and it definitely will here). On top of that, you use it in the worse possible way. While shifting from the start of an array is fast, shifting from the start of a file is the worst thing you can do, and you do it 10 times! You should be popping instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533940228, "post_id": 51792824, "comment_id": 90547072, "body": "With the help of File::Slurp, it would just have taken one extra line of code to avoid Tie::File. If you&#39;re worried about that, you can reclaim three lines by using <code>my $n = shift(@ARGV) &#47;&#47; 10; $n = 10 if $n &lt; 1 || $n &gt; 100;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1534031700, "post_id": 51792824, "comment_id": 90565132, "body": "Despite anyone&#39;s attempts to discredit <code>Tie::File</code>, it is a very useful module in its domain. The same applies to pretty much every CPAN module. Any calls of speed or memory inefficiency are no more than premature optimisation, and while a 30 second run time could be significantly better over a 3-second one, it is unusual for 30ms to be unacceptable unless the operation is a bottleneck. <code>Tie::File</code> is intended to offer programmed &quot;text editing&quot; facilities to Perl, and works very well as long as the files you use are of ordinary size that you would expect to alter with your regular editor."}], "tags": [], "owner": {"reputation": 132, "user_id": 2686422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead0b8582e570d5fb0a2a2871573fd74?s=128&d=identicon&r=PG&f=1", "display_name": "Professor Photon", "link": "https://stackoverflow.com/users/2686422/professor-photon"}, "is_accepted": false, "score": -2, "last_activity_date": 1533930559, "last_edit_date": 1533930559, "creation_date": 1533928530, "answer_id": 51792824, "question_id": 51785340, "link": "https://stackoverflow.com/questions/51785340/randomly-generate-4-or-5-digit-unique-codes-in-subsequent-runs-of-the-script/51792824#51792824", "title": "Randomly generate 4 or 5 digit Unique Codes in Subsequent Runs of the Script", "body": "<pre><code>#!/usr/bin/env perl\n# unique_random.pl : get N non-repeating random numbers from list\nuse strict;\nuse warnings;\nuse feature qw(say);\nuse Tie::File;\nuse List::Util qw(shuffle);\n\n# get the number of values to print from command line\nmy $n = shift @ARGV;\n$n = defined($n) ? int($n) : 10;\nif ($n &lt; 1 or $n &gt; 100) { # sanity check\n   $n = 10;\n}\n\n# persistent file of shuffled numbers tied to an array\nmy $file = 'random_numbers.txt';\ntie my @numbers, 'Tie::File', $file or die \"Can't tie $file\";\n\n# initialize the array if it's empty or not full enough\nif ( scalar(@numbers) &lt;= $n ) {\n    @numbers = shuffle (1000 .. 99999); # all 4 and 5 digit numbers\n}\n\n# get the first $n numbers and delete them from the array\nfor ( 1 .. $n ) {\n   say shift @numbers;\n}\n</code></pre>\n\n<p>We could play Perl golf and make this more compact, but I went for legibility here.  </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1533961836, "last_edit_date": 1533961836, "creation_date": 1533939421, "answer_id": 51794652, "question_id": 51785340, "link": "https://stackoverflow.com/questions/51785340/randomly-generate-4-or-5-digit-unique-codes-in-subsequent-runs-of-the-script/51794652#51794652", "title": "Randomly generate 4 or 5 digit Unique Codes in Subsequent Runs of the Script", "body": "<p>There are only three ways to guarantee you'll get 10 numbers you've never gotten before:</p>\n\n<ul>\n<li><p>Randomly generate the numbers, but check if they've been generated before. If a number has been generated before, regenerate it, and repeat the check.</p>\n\n<p>With a small set of numbers, this will become slower with time.</p></li>\n<li><p>Encrypt an ascending stream of numbers.</p>\n\n<p>This solution requires the least storage (just the secret key and the number generated), but it's the most complicated option, and it breaks down if the secret key is compromised.</p></li>\n<li><p>Generate a non-repeating list of numbers in advance, then read from that list.</p>\n\n<p>This is the fastest approach, and the disk space used is negligible for a small set of numbers like yours.</p></li>\n</ul>\n\n<p>All three approaches can easily be extended if you start running out of numbers.</p>\n\n<p>The following is an implementation of the third approach:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings qw( all );\nuse feature qw( say );\n\nuse File::ReadBackwards qw( );\nuse List::Util          qw( shuffle );\n\nmy $numbers_qfn = ...;\n\nif (open(my $fh, '&lt;', $numbers_qfn)) {\n   die(\"Can't open numbers file \\\"$numbers_qfn\\\": $!\\n\") if !$!{ENOENT};\n\n   open(my $fh, '&gt;', $numbers_qfn)\n      or die(\"Can't create numbers file \\\"$numbers_qfn\\\": $!\\n\");\n\n   say $fh $_ for shuffle(1000..99999);\n}\n\nmy $fh = File::ReadBackwards-&gt;new($numbers_qfn);\nmy @numbers;\nwhile (@numbers &lt; 10 &amp;&amp; defined( my $line = $fh-&gt;readline )) {\n   chomp($line);\n   push @numbers, $line;\n}\n\n@numbers == 10\n   or die(\"Insufficient numbers remaining\\n\");\n\ntruncate($fh-&gt;get_handle, $fh-&gt;tell)\n   or die(\"Can't truncate numbers file \\\"$numbers_qfn\\\": $!\\n\");\n\nsay for @numbers;\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 1315772, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bd685e3c972c501e2795493a6691c492?s=128&d=identicon&r=PG", "display_name": "Sujeet Padhi", "link": "https://stackoverflow.com/users/1315772/sujeet-padhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 5, "score": -5, "last_activity_date": 1533961836, "creation_date": 1533899861, "question_id": 51785340, "link": "https://stackoverflow.com/questions/51785340/randomly-generate-4-or-5-digit-unique-codes-in-subsequent-runs-of-the-script", "title": "Randomly generate 4 or 5 digit Unique Codes in Subsequent Runs of the Script", "body": "<p>I have a requirement to Generate 10 4 or 5 Digit unique numbers. \nI can do that using Python/Perl, but the same script is going to run everyday to generate 10 random numbers. \nSo I don't want them to repeat. If I generate them randomly then there is a probability that they will repeat.</p>\n\n<p>Please suggest.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1533898887, "post_id": 51784901, "comment_id": 90527016, "body": "How do you expect your program to print <code>changed to</code> if there is no code to do that? :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533899523, "post_id": 51784901, "comment_id": 90527343, "body": "How do you create the different replacements <code>\\{alpha}</code>,  <code>\\{{beta}}</code>, and <code>\\[gamma]</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1533899945, "post_id": 51784901, "comment_id": 90527588, "body": "@simbabque: That&#39;s correct. I didn&#39;t mentioned in the code. But we have an output for the user end to expose the report like that only."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533900016, "post_id": 51784901, "comment_id": 90527630, "body": "@Borodin: The replacement value&#39;s sometimes might be hard coded and getting values in *INI files means user input"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533900065, "post_id": 51784901, "comment_id": 90527657, "body": "@ssr1012: So you removed a statement from the middle of a seven-line program? I&#39;m afraid I&#39;m struggling to believe that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533900155, "post_id": 51784901, "comment_id": 90527710, "body": "@ssr1012: But you hard-code the replacement as <code>\\\\\\{$1\\}</code>. If you won&#39;t fully describe the process and your code isn&#39;t even representative of what you really need to do then we can&#39;t really help you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1533901870, "post_id": 51784901, "comment_id": 90528730, "body": "I&#39;m voting to close this question as &quot;too broad&quot; because there is no proper specification and the sample code doesn&#39;t come close to doing what has been described in comments."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1533901969, "post_id": 51784901, "comment_id": 90528808, "body": "<i>&quot;The replacement value&#39;s sometimes might be hard coded and getting values in *INI files means user input&quot;</i> So that information, together with <i>proper details</i>, need to be <i>in your question</i>."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1533905678, "post_id": 51784901, "comment_id": 90531116, "body": "I have updated my question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533907209, "post_id": 51784901, "comment_id": 90532133, "body": "@ssr1012: You had completely changed your question. I have rolled back your edit."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1533900277, "post_id": 51785248, "comment_id": 90527777, "body": "Please <i>printf &quot;\\\\%s changed to \\\\{%s} and count %d\\n&quot;, $1, $1, $count;</i> In this line if the second <code>$1</code> might be different content then how can I print the replaced value."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1533900393, "post_id": 51785248, "comment_id": 90527855, "body": "@ssr1012: Then you put the different content in its place."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1533900899, "post_id": 51785248, "comment_id": 90528171, "body": "As per the requirement I have raised the question. However simply I want to know in perl <i>s{\\&#40;$grk)}{\\\\\\{$1\\}}g</i> we can get finding value <code>($grk) = $1</code> how can we get replacement value in <code>\\\\\\{$1\\}</code>??? Might be stupid question but I want to know there is any chance to get ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1533906993, "post_id": 51785248, "comment_id": 90531986, "body": "You had completely changed your question. Don&#39;t do that. I have rolled back your changes. If your question is inherently wrong then you should delete it. If you have a different question then <i>ask a new question</i>."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1533908652, "post_id": 51785248, "comment_id": 90533019, "body": "I couln&#39;t able to delete the question. Please suggest."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1533899925, "last_edit_date": 1533899925, "creation_date": 1533899539, "answer_id": 51785248, "question_id": 51784901, "link": "https://stackoverflow.com/questions/51784901/how-to-push-the-1-find-content-2-replaced-content-and-3count/51785248#51785248", "title": "How to push the 1) find content, 2) replaced content and 3)count", "body": "<p>Although you could do something like create an <em>executable</em> replacement that increments a hash field instead of a global <code>$count</code> variable. it is best to keep things simple. You need to replace the words individually if you want to count them individually. Forget creating a compound regex pattern and just iterate over the array of words</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @grkChars = qw/ alpha beta gamma /;\n\nmy $str = 'Trp $\\mathbf{R}^a$ locates \\alpha \\beta distantly $\\mathrm{R}^a$ from $\\mathit{R}^a$ cys25 in both \\gamma and cathepsin K, with \\alpha high and moderate $\\mathbb{R}^1H$ strengths, respectively. The protein $\\mathds{R}^a$ modification $\\mathds{R}^1H$ largely \\beta affects the binding sites and stability \\gamma of the \\gamma peptides, and the effects depend on \\alpha the elemental compositions of the peptides';\n\nmy $total = 0;\n\nfor my $grk ( @grkChars ) {\n\n    next unless my $count = $str =~ s{\\\\($grk)}{\\\\\\{$1\\}}g;\n\n    printf \"\\\\%s changed to \\\\{%s} and count %d\\n\", $1, $1, $count;\n    $total += $count;\n}\n\nprint \"Total Count: $total\\n\";\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1533906804, "creation_date": 1533898354, "last_edit_date": 1533906804, "question_id": 51784901, "link": "https://stackoverflow.com/questions/51784901/how-to-push-the-1-find-content-2-replaced-content-and-3count", "title": "How to push the 1) find content, 2) replaced content and 3)count", "body": "<p>I need to find greek characters and replace that corresponding values and its replaced counting numbers: (I need to do get this from more 100 replacements)</p>\n\n<p>This is my coding:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @grkChars = qw(alpha beta gamma); \nmy $eachGrk = join \"|\", @grkChars;  #Greek Characters\n\nmy $str = 'Trp $\\mathbf{R}^a$ locates \\alpha \\beta distantly $\\mathrm{R}^a$ from $\\mathit{R}^a$ cys25 in both \\gamma and cathepsin K, with \\alpha high and moderate $\\mathbb{R}^1H$ strengths, respectively. The protein $\\mathds{R}^a$ modification $\\mathds{R}^1H$ largely \\beta affects the binding sites and stability \\gamma of the \\gamma peptides, and the effects depend on \\alpha the elemental compositions of the peptides';\n\nmy $count = $str=~s{\\\\($eachGrk)}{\\\\\\{$1\\}}g &amp;&amp; print \"Content: $&amp;\\n\";\n\nprint \"Total Count: $count\\n\";\n</code></pre>\n\n<p>My Output:</p>\n\n<pre><code>Content: \\alpha\nTotal Count: 1\n</code></pre>\n\n<p>Expected output is:</p>\n\n<pre><code>\\alpha changed to \\{alpha} and count 3\n\\beta changed to \\{{beta}} and count 2\n\\gamma changed to \\[gamma] and count 3\n</code></pre>\n\n<p>Could you please someone will advice on this one. Thanks in advance.</p>\n"}, {"tags": ["arrays", "perl", "mojolicious"], "comments": [{"owner": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 3, "creation_date": 1533898151, "post_id": 51784758, "comment_id": 90526603, "body": "@{$product_results-&gt;[6]} should work."}, {"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "reply_to_user": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 0, "creation_date": 1533899240, "post_id": 51784758, "comment_id": 90527192, "body": "Thanks that worked."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1876, "user_id": 4437190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b0f4404b6fc8995cd6fea10b5c8b09c?s=128&d=identicon&r=PG", "display_name": "rajashekar", "link": "https://stackoverflow.com/users/4437190/rajashekar"}, "edited": false, "score": 0, "creation_date": 1533899304, "post_id": 51784758, "comment_id": 90527230, "body": "@RajashekarReddyM next time, write an answer to get some rep. Don&#39;t answer in comments. ;)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1533899242, "creation_date": 1533899242, "answer_id": 51785165, "question_id": 51784758, "link": "https://stackoverflow.com/questions/51784758/perl-mojolicious-array-loop/51785165#51785165", "title": "Perl Mojolicious array loop", "body": "<p>You are using both forms of dereferencing at once.</p>\n\n<p>Either use</p>\n\n<pre><code>$ref-&gt;[6];\n</code></pre>\n\n<p>or </p>\n\n<pre><code>@$ref[6];\n</code></pre>\n\n<p>Both at the same time will Perl dereference the reference as an array into something like this, and then dereference that as an array reference to get the 7th element. But that doesn't work.</p>\n\n<pre><code>(1, 2, 3)-&gt;[7]\n</code></pre>\n\n<p>What you actually want to do is dereference the array ref that is <em>inside</em> your seventh index in the array reference.</p>\n\n<pre><code># this will deref the content of index 7\n# |      this will deref $ref into an array\n# |      |\n  @{ $ref-&gt;[7] }\n</code></pre>\n\n<p>To illustrate forther, your data structure looks like this.</p>\n\n<pre><code>$ref = [\n    0,\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    [                   # 7\n        qw/ foo bar baz/\n    ],\n]\n</code></pre>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 51785165, "answer_count": 1, "score": 0, "last_activity_date": 1533899242, "creation_date": 1533897858, "question_id": 51784758, "link": "https://stackoverflow.com/questions/51784758/perl-mojolicious-array-loop", "title": "Perl Mojolicious array loop", "body": "<p>Not sure if this is even possible.  But I am trying to loop over an array. I keep getting the error message <code>Can't use an array as a reference</code> on the for loop line. <code>$product_results-&gt;[6]</code> does contain data.</p>\n\n<pre><code>my @product_array = split(',', $order-&gt;[6]);\n$product_results-&gt;[6] = \\@product_array;\n% for (@$product_results-&gt;[6]){\n    &lt;%= $_-&gt;[0] %&gt;\n% }\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1533880911, "post_id": 51779864, "comment_id": 90517480, "body": "See <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">filetests (&quot;-X&quot;)</a>. The <code>-e</code> checks for existence of a file (as &quot;entry&quot;, not only a plain file).  So this tests whether <code>&#47;etc&#47;httpd</code> does not exist, since <code>!</code> negates."}, {"owner": {"reputation": 1152, "user_id": 2028671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2781ec52ddc4850e42925cf4ec46486?s=128&d=identicon&r=PG&f=1", "display_name": "Sachith Dickwella", "link": "https://stackoverflow.com/users/2028671/sachith-dickwella"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533881236, "post_id": 51779864, "comment_id": 90517574, "body": "Thanks @zdim. That works. Also thanks for the link."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533881953, "post_id": 51779864, "comment_id": 90517873, "body": "@zdim make that an answer?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1533882812, "post_id": 51779864, "comment_id": 90518247, "body": "@ysth Alright, if you think it should be done.  I never know with things that cleanly fit in a comment."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 10, "last_activity_date": 1533882450, "creation_date": 1533882450, "answer_id": 51780282, "question_id": 51779864, "link": "https://stackoverflow.com/questions/51779864/what-does-e-etc-httpd-in-perl-in-if-condition/51780282#51780282", "title": "What does &#39;! -e &quot;/etc/httpd&quot;&#39; in Perl in &#39;if&#39; Condition", "body": "<p>The <code>-e filename</code> is one of <a href=\"https://perldoc.perl.org/functions/-X.html\" rel=\"noreferrer\">filetests (\"-X\")</a>, which checks for existence of a \"file\" (an entry, not only a plain file). </p>\n\n<p>So the condition tests whether <code>/etc/httpd</code> does not exist, since the unary <a href=\"https://perldoc.perl.org/perlop.html#Symbolic-Unary-Operators\" rel=\"noreferrer\">operator <code>!</code></a> does logical negation of what is on its right-hand side using Perl's rules for truth and falsehood.</p>\n"}], "owner": {"reputation": 1152, "user_id": 2028671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2781ec52ddc4850e42925cf4ec46486?s=128&d=identicon&r=PG&f=1", "display_name": "Sachith Dickwella", "link": "https://stackoverflow.com/users/2028671/sachith-dickwella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 51780282, "answer_count": 1, "score": 5, "last_activity_date": 1533882450, "creation_date": 1533880607, "question_id": 51779864, "link": "https://stackoverflow.com/questions/51779864/what-does-e-etc-httpd-in-perl-in-if-condition", "title": "What does &#39;! -e &quot;/etc/httpd&quot;&#39; in Perl in &#39;if&#39; Condition", "body": "<p>Please explain what following code snippet could do in Perl script,</p>\n\n<pre><code>if (! -e '/etc/httpd') {\n   print \"Something\";\n}\n</code></pre>\n\n<p>I can't find exact scenario or condition that makes this condition 'true'. This <a href=\"https://stackoverflow.com/questions/21118633/perl-if-e-windows-with-space-path\">question</a> also not explain much regarding this.</p>\n\n<p>Exactly, what <code>-e</code> switch does in this condition? </p>\n"}, {"tags": ["perl", "material-design"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1533878373, "post_id": 51778850, "comment_id": 90516599, "body": "Welcome to Stack Overflow. Please read the <a href=\"https://stackoverflow.com/tour\">About</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> pages soon, but even more importantly, please read about how to create an MCVE (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). An error on line 56 suggests that you&#39;ve not done enough to minimize the code.  A bare word is an identifier with a sigil such as <code>$</code> (or <code>@</code> or <code>%</code> or \u2026) in front of it.  You identify the line(s): <code>my  $steps  =  ($analyzeDuration  * PICO_TO_FEMTO &#47; $timeStep);  ***-----line 56***</code> (it would be better to make the marker into a Perl comment), and <code>PICO_TO_FEMTO</code> does not have  <code>$</code> before it. Is <code>MaterialsScript</code> a public available module?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1533878708, "post_id": 51778850, "comment_id": 90516700, "body": "Occasionally, you can use barewords as constants: <code>use constant PICO_TO_FEMTO =&gt; 1.0E6;</code> for example (or is it <code>1.0E-6</code>? \u2014 it&#39;s only a factor of a trillion so you should be able to deduce which is correct). And then you might write <code>my $fm = PICO_TO_FEMTO * $pm;</code> to convert the picometres in <code>$pm</code> into the corresponding number of femtometres in <code>$fm</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533879219, "post_id": 51778850, "comment_id": 90516861, "body": "So you&#39;d need a <code>use constant PICO_TO_FEMTO =&gt; 1E-03;</code>.  This can be given in the file you show or, rather, in the custom module that is <code>use</code>-ed, which is in the file <code>MaterialsScript.pm</code>.  If it is meant to be in that module, the <code>qw(:all)</code> indicates that it would be exported as needed.  So it is not clear from what you show why it&#39;s not there.  Or perhaps ... the constant is defined in some yet other module, which should be included but isn&#39;t?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1533879386, "post_id": 51778850, "comment_id": 90516920, "body": "The <a href=\"https://perldoc.perl.org/constant.html\" rel=\"nofollow noreferrer\">constant</a> is a pragma which defines constant subroutines so they may be used as &quot;barewords,&quot; that is without a leading sigil (<code>$</code>, <code>@</code>, <code>%</code>) which Perl variables must have. Since in your case that apparently hasn&#39;t been done the interpreter complains about a bare-word."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1533880923, "post_id": 51778850, "comment_id": 90517485, "body": "I don&#39;t often work with units below pico (10\u207b&#185;&#178;) and thought femto was 10\u207b&#185;\u2078, but that&#39;s &#39;atto&#39; and femto it is actually 10\u207b&#185;\u2075, so I was off by a factor of 1000 in converting between the two.  Ah well! (The Perl syntax was valid.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1533883415, "post_id": 51778850, "comment_id": 90518519, "body": "@JonathanLeffler That&#39;s not bad at all; I was probably off by 1e6. A million times!  And I still don&#39;t even know. (Can never be sure what is indented, but Factor &quot;u1-to-u2&quot; should mean u1 = F*u2, i guess.)"}, {"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 0, "creation_date": 1533883678, "post_id": 51778850, "comment_id": 90518631, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13517270/error-bareword-params-not-allowed-while-strict-subs\">Error: Bareword &quot;params&quot; not allowed while &quot;strict subs&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11359, "user_id": 1323940, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/def1b1fd4342d9e332b7a3bf41f57a00?s=128&d=identicon&r=PG", "display_name": "SzG", "link": "https://stackoverflow.com/users/1323940/szg"}, "is_accepted": false, "score": 3, "last_activity_date": 1533879539, "creation_date": 1533879539, "answer_id": 51779659, "question_id": 51778850, "link": "https://stackoverflow.com/questions/51778850/bareword-not-allowed-while-strict-subs-in-use/51779659#51779659", "title": "Bareword not allowed while &quot;strict subs&quot; in use", "body": "<p>Probably some form of <code>PICO_TO_FEMTO</code> is imported from the <code>MaterialsScript</code> library you <code>use</code> at the beginning, as it's not defined in your script.</p>\n\n<p>Have a look at the lib. My assumption is, its name is actually <code>$PICO_TO_FEMTO</code>, a simple scalar variable with a <code>$</code> sigil.</p>\n\n<p>A bareword in Perl is an identifier without a sigil. If it's a function, it's OK. But this is probably a variable.</p>\n\n<p>If you want to define a bareword variable, you do it like this:</p>\n\n<pre><code>use constant PICO_TO_FEMTO =&gt; 1000;\n</code></pre>\n\n<p>This creates a function called PICO_TO_FEMTO always returning 1000 under the hood.</p>\n"}], "owner": {"reputation": 11, "user_id": 10085936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04191b48b789d25072da4863b30e10d?s=128&d=identicon&r=PG&f=1", "display_name": "Clark", "link": "https://stackoverflow.com/users/10085936/clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4383, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533898731, "creation_date": 1533874291, "last_edit_date": 1533898731, "question_id": 51778850, "link": "https://stackoverflow.com/questions/51778850/bareword-not-allowed-while-strict-subs-in-use", "title": "Bareword not allowed while &quot;strict subs&quot; in use", "body": "<p>I'm a researcher of high-barrier rubber materials. I meet some problems with the Perl by using the Materials Studo software. I can not understand what the Perl errors mean.</p>\n\n<p>Here is the Perl script and its error</p>\n\n<pre><code>#!perl\n\nuse strict;\n\nuse Getopt::Long;\nuse MaterialsScript qw(:all);\n\nfor ( my $RxnRadius = my $MinRxnRadius; $RxnRadius &lt;= my $MaxRxnRadius; $RxnRadius += 0.5 ) {\n\n    my $xsdNameDist = sprintf( \"%s_R%.2f\", my $rootName, $RxnRadius );    #rename the new structure;\n\n    if ( $RxnRadius &gt; $MinRxnRadius ) {\n\n        my $doc-&gt;Name = $xsdNameDist . \"_init\";\n        ForciteGeomOpt( $doc, 20000 );                                    # run 20000 steps of Geometry Optimization\n\n        my $results = ForciteDynamics( $doc, my $steps, \"NPT\" );\n        $results-&gt;Trajectory-&gt;Delete;\n    }\n\n    for ( my $iteration = 1; $iteration &lt;= my $IterationsPerRadius; $iteration++ ) {\n\n        my $doc-&gt;Name = $xsdNameDist . \"_\" . $iteration;\n        my $numBonds = createNewXlinks( $doc, $RxnRadius );\n        my $reactedOligomerAtoms = 0;\n\n        foreach my $atom ( @{ $doc-&gt;UnitCell-&gt;Atoms } ) {\n            my $oligomerReactiveAtom;\n            $reactedOligomerAtoms++ if ( $atom-&gt;Name =~ /^$oligomerReactiveAtom-\\d/ );\n        }\n\n        my $conversion = 100 * my $totalOligomerAtoms;\n\n        ( $reactedOligomerAtoms / $totalOligomerAtoms );\n\n        if ( $numBonds == 0 ) {\n            last;\n        }\n\n        optimizeAndPerturb( $doc );\n\n        my $rowCounter;\n        xlinkStatistics( $doc, $RxnRadius, $rowCounter );\n        maxBondEnergy( $doc, $RxnRadius, $rowCounter ) if ( my $UseMaxBondEnergy );\n\n        my $analysis_doc = Documents-&gt;New( \"analyze.xsd\" );\n        $analysis_doc-&gt;CopyFrom( $doc );\n\n        my $analyzeDuration;\n        my $timeStep;\n\n        my $steps   = ( $analyzeDuration * PICO_TO_FEMTO / $timeStep );\n        my $freq    = int( $steps / 20 ); ### line 56\n        my $results = Forcite Dynamics(\n            $analysis_doc, $steps,\n            \"NPT\",\n            ( TrajectoryFrequency =&gt; $freq )\n        );\n\n        getTrajTempAndPressure( $results, $rowCounter, $RxnRadius );\n        getEnergies( $results, $rowCounter );\n        $analysis_doc-&gt;Delete;\n        $results-&gt;Trajectory-&gt;Delete;\n\n        if ( $conversion &gt;= my $conversionTarget ) {\n\n            my $numbondsDelete = my $xlinkCounter - $reactedOligomerAtoms - my $targetOligomerAtoms;\n\n            if ( my $deleteExcessXlinks and $numbondsDelete &gt; 0 ) {\n                deleteExcessBonds( $doc, $numbondsDelete );\n                xlink Statistics( $doc, \"Final\", $rowCounter );\n            }\n            else {\n                my $textDoc-&gt;Append(\n                    sprintf \"There  are no excess bonds to delete\\n \"\n                );\n            }\n\n            my $textDoc-&gt;Save;\n\n            last;\n        }\n\n        Documents-&gt;SaveAll;\n    }\n\n    last if ( my $conversion &gt;= my $conversionTarget );\n}\n\nmy $doc-&gt;Name = my $rootName . \"_final\";\nanalyzeBonds( $doc );\nXlinkSet( $doc );\nGlasstransitiontemperature( $doc );\nDocuments-&gt;SaveAll;\n</code></pre>\n\n<p>Gives</p>\n\n<blockquote>\n  <p>Bareword \"PICO_TO_FEMTO\" not allowed while \"strict subs\" in use at -e line 56.<br>\n      -e had compilation errors.</p>\n</blockquote>\n\n<p>I don't how to understand the notice or how to solve the problem.</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533847298, "post_id": 51774070, "comment_id": 90509479, "body": "Tip: <code>$duration = DateTime::Duration-&gt;new( seconds =&gt; $sec ); $upper_bound-&gt;add_duration($duration);</code> can be written as <code>$upper_bound-&gt;add( seconds =&gt; $sec );</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8709403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec678a33202bce514e35fb12a333e9c?s=128&d=identicon&r=PG&f=1", "display_name": "jen ", "link": "https://stackoverflow.com/users/8709403/jen"}, "edited": false, "score": 0, "creation_date": 1533842055, "post_id": 51774173, "comment_id": 90507236, "body": "Thanks so much, this is exactly what I was looking for!"}], "tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": true, "score": 1, "last_activity_date": 1533843299, "last_edit_date": 1533843299, "creation_date": 1533841584, "answer_id": 51774173, "question_id": 51774070, "link": "https://stackoverflow.com/questions/51774070/perl-datetime-module-trouble-assigning-datetime-object-value-to-variable/51774173#51774173", "title": "Perl - DateTime module - trouble assigning DateTime object value to variable", "body": "<p>See the <code>clone</code> method for <code>DateTime</code> objects:</p>\n\n<blockquote>\n  <p>$dt->clone()</p>\n  \n  <p>This object method returns a new object that is replica of the object upon which the method is called.</p>\n</blockquote>\n\n<p>Which then yields:</p>\n\n<pre><code>main::(-e:1):   1\n  DB&lt;1&gt; use DateTime\n\n  DB&lt;2&gt; $start = DateTime-&gt;now();\n\n  DB&lt;3&gt; print $start;\n2018-08-09T19:05:03\n  DB&lt;4&gt; $later = $start;\n\n  DB&lt;5&gt; $later-&gt;add(years =&gt; 1000);\n\n  DB&lt;6&gt; print $later;\n3018-08-09T19:05:03\n  DB&lt;7&gt; print $start;\n3018-08-09T19:05:03\n  DB&lt;8&gt; $start = DateTime-&gt;now();\n\n  DB&lt;9&gt; $later = $start-&gt;clone();\n\n  DB&lt;10&gt; $later-&gt;add(years =&gt; 1000);\n\n  DB&lt;11&gt; print $later;\n3018-08-09T19:05:39\n  DB&lt;12&gt; print $start;\n2018-08-09T19:05:39\n</code></pre>\n\n<p>As for reason, conceptually it helps if you remember that basically an object in Perl is a reference to an hash (and for the rare cases that it is not, it is still a reference to something, and the below applies in the same way), so when you do <code>$to = $from</code> it is like doing <code>$ref2_to_hash = $ref1_to_hash</code> and of course if you change anything into the <code>$ref1_to_hash</code> hash it will apply to the other variable since they are 2 distinct variables (2 separate names) but with a value being the same reference to a (single) hash.</p>\n\n<p>Or clearer:</p>\n\n<pre><code>main::(-e:1):   1\n  DB&lt;1&gt; $ref1 = { foo =&gt; 42 }\n\n  DB&lt;2&gt; print $ref1\nHASH(0x7fce9800af68)\n  DB&lt;3&gt; $ref2 = $ref1\n\n  DB&lt;4&gt; print $ref2\nHASH(0x7fce9800af68)\n  DB&lt;5&gt; $ref1-&gt;{foo} = 'bar';\n\n  DB&lt;6&gt; print %$ref1;\nfoobar\n  DB&lt;7&gt; print %$ref2;\nfoobar\n</code></pre>\n\n<p>Objects are blessed references on hash, typically, and if we add <code>bless</code> to the above the results are the same:</p>\n\n<pre><code>main::(-e:1):   1\n  DB&lt;1&gt; $ref1 = { foo =&gt; 42 }\n\n  DB&lt;2&gt; print $ref1;\nHASH(0x7f939e80af68)\n  DB&lt;3&gt; bless($ref1, 'whatever');\n\n  DB&lt;4&gt; print $ref1;\nwhatever=HASH(0x7f939e80af68)\n  DB&lt;5&gt; $ref2 = $ref1;\n\n  DB&lt;6&gt; print $ref2;\nwhatever=HASH(0x7f939e80af68)\n</code></pre>\n\n<p>Note that the output change to show that the hash reference is blessed in some namespace, but it has no impact on the address (the underlying hash it points to).</p>\n\n<p>(Of course, to be complete, but especially tricky, one could use <code>overload</code> to change the behavior during/after the <code>=</code> operation and then do like a clone automatically or other things. See \"Copy Constructor\" in <code>man overloading</code> and also the consequences of \"fallback\".)</p>\n\n<p>Back to <code>DateTime</code>, while not related to your problem, the above also shows that you can use <code>add()</code> directly, it is a shortcut over <code>add_duration</code> with a <code>DateTime::Duration</code> object.</p>\n"}], "owner": {"reputation": 15, "user_id": 8709403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec678a33202bce514e35fb12a333e9c?s=128&d=identicon&r=PG&f=1", "display_name": "jen ", "link": "https://stackoverflow.com/users/8709403/jen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 51774173, "answer_count": 1, "score": 0, "last_activity_date": 1533843299, "creation_date": 1533841174, "question_id": 51774070, "link": "https://stackoverflow.com/questions/51774070/perl-datetime-module-trouble-assigning-datetime-object-value-to-variable", "title": "Perl - DateTime module - trouble assigning DateTime object value to variable", "body": "<p>I have a hash that looks like:</p>\n\n<pre><code>%info = { \n          'EVENT_START' =&gt; '27 Jul 2018 17:02:00.000',\n          'EVENT_END'   =&gt; '27 Jul 2018 17:05:30.220',\n          'EVENT'       =&gt; { \n                             'ACCELERATION_SEC' =&gt; '30.7',\n                             'STILL_SEC' =&gt; '30.8195',\n                             'STILL_END' =&gt; '27 Jul 2018 17:35:13.083'\n                           }           \n        };\n</code></pre>\n\n<p>I tried to convert these hash entries into DateTime objects and then perform calculations with them:</p>\n\n<pre><code>use DateTime::Format::Strptime;\nuse DateTime::Duration;\n\nmy $parse_time = DateTime::Format::Strptime-&gt;new(pattern =&gt; '%d %b %Y %H:%M:%S.%N');\n\nmy $event_start = $parse_time-&gt;parse_datetime($info{\"EVENT_START\"});\nmy $event_end   = $parse_time-&gt;parse_datetime($info{\"EVENT_END\"});\nmy $still_end   = $parse_time-&gt;parse_datetime($info{\"EVENT\"}{\"STILL_END\"});\n\n($sec, undef) = split /\\./, $info{\"EVENT\"}{\"ACCELERATION_SEC\"};\n$duration = DateTime::Duration-&gt;new( seconds =&gt; $sec );\n\nprint \"1) event start $event_start\\n\";\n\n$lower_bound = $event_start;\n$lower_bound-&gt;add_duration($duration);\n\nprint \"2) event start $event_start\\n\";\nprint \"3) lower_bound $lower_bound\\n\";\n\n($sec, undef) = split /\\./, $info{\"EVENT\"}{\"STILL_SEC\"};\n$duration = DateTime::Duration-&gt;new( seconds =&gt; $sec );\n\n$upper_bound = $lower_bound;\n$upper_bound-&gt;add_duration($duration);\n\nprint \"4) lower_bound $lower_bound\\n\";\nprint \"5) upper_bound $upper_bound\\n\";\n</code></pre>\n\n<p>The output of this is:</p>\n\n<pre><code>1) event start 2018-07-27T17:02:00\n2) event start 2018-07-27T17:02:30\n3) lower_bound 2018-07-27T17:02:30\n4) lower_bound 2018-07-27T17:03:00\n5) upper_bound 2018-07-27T17:03:00\n</code></pre>\n\n<p>This looks like the line <code>$lower_bound = $event_start</code> (and the other similar line) assigns a reference to <code>$event_start</code> rather than the value of <code>$event_start</code>, to <code>$lower_bound</code>. But I'm not sure how to pass the value of this DateTime object instead of a reference to it.</p>\n"}, {"tags": ["perl", "perl-packager", "pp-perl-par-packager"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2038411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U60Eo.jpg?s=128&g=1", "display_name": "Roy Hubbard", "link": "https://stackoverflow.com/users/2038411/roy-hubbard"}, "edited": false, "score": 0, "creation_date": 1533843171, "post_id": 51774380, "comment_id": 90507753, "body": "I should have posted the contents of ppdeps, sorry about that. Will update the question. I&#39;m already doing -l local/lib/perl5/. It doesn&#39;t work. I should also point out that I don&#39;t have issues with pp except where Paws or, to a lesser degree, Moose are concerned."}], "tags": [], "owner": {"reputation": 202, "user_id": 1606164, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6306a99514c0a21ba2e88e58b998505e?s=128&d=identicon&r=PG", "display_name": "Tigran Khachikyan", "link": "https://stackoverflow.com/users/1606164/tigran-khachikyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1533842437, "creation_date": 1533842437, "answer_id": 51774380, "question_id": 51773934, "link": "https://stackoverflow.com/questions/51773934/get-all-dependencies-for-parpacker/51774380#51774380", "title": "Get all dependencies for Par::Packer?", "body": "<p>Here is how i make a build.</p>\n\n<pre><code>pp -o build/run -B -I local/lib/perl5/ script/app.pl \n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 2038411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U60Eo.jpg?s=128&g=1", "display_name": "Roy Hubbard", "link": "https://stackoverflow.com/users/2038411/roy-hubbard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534092665, "creation_date": 1533840565, "last_edit_date": 1534092665, "question_id": 51773934, "link": "https://stackoverflow.com/questions/51773934/get-all-dependencies-for-parpacker", "title": "Get all dependencies for Par::Packer?", "body": "<p>I'm using <a href=\"https://metacpan.org/pod/PAR::Packer\" rel=\"nofollow noreferrer\">Par::Packer</a> on OSX and Linux to create binaries for some applications that utilize Paws.</p>\n\n<p>I'm calling pp like so:</p>\n\n<pre><code>pp -o build_cluster -x -c -I lib/ @ppdeps bin/build_cluster\n</code></pre>\n\n<p><code>ppdeps</code> contains a list of modules that caused <code>pp</code> to fail because they weren't detected at build time. The only way that I'm aware of to make this work is to run <code>pp</code> repeatedly, wait for it to fail, then add the module it complains about to <code>ppdeps</code>.</p>\n\n<p>My question is whether there's a better way to do this, or a way to get a full list of dependencies beforehand? I could write a script to do what I've been doing manually, but if there's a better way, I'd be glad to know it.</p>\n\n<p>ppdeps contents:</p>\n\n<pre><code>-I local/lib/perl5/\n-a fakename.conf\n-M Paws::Net::Caller\n-M Paws::Net::RetryCallerRole\n-M Paws::Net::APIResponse\n-M Paws::Net::S3Signature\n-M Paws::Net::RestXmlCaller\n-M Paws::Net::RestXMLResponse\n-M Paws::API::Caller\n-M Paws::API::EndpointResolver\n-M Paws::S3\n-M Paws::S3::ListBuckets\n-M Paws::S3::ListBucketsOutput\n-M Paws::Route53\n-M Method::Generate::BuildAll\n-M IO::Socket::SSL\n-M Net::SSLeay\n-M Archive::Zip::ZipFileMember\n</code></pre>\n\n<p>This is incomplete, I'm still building it for this app. The more Paws modules are included in the app, the more hidden dependencies pop up.</p>\n\n<p>This has only been an issue with apps that use Paws and, to a lesser extent, Moose.</p>\n"}, {"tags": ["xml", "perl", "xml-libxml"], "comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1533839185, "post_id": 51773531, "comment_id": 90505998, "body": "Are you saying that you want to combine elements from multiple XML files into one big XML file?"}, {"owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1533841426, "post_id": 51773531, "comment_id": 90506965, "body": "Yes that&#39;s the point, sorry if it&#39;s was not clear enough."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1533845483, "post_id": 51773531, "comment_id": 90508732, "body": "Do you really want only the first element of the <code>findnodes</code> query? That&#39;s what the <code>-&gt;[0]</code> does in <code>$dom-&gt;findnodes(&#47;xpath)-&gt;[0]</code>"}, {"owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1533847729, "post_id": 51773531, "comment_id": 90509634, "body": "I want everything that is contained into Product, Series, Episode &amp; VodItem. Thanks for your answers."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533850093, "post_id": 51773531, "comment_id": 90510519, "body": "Are you sure you don&#39;t just want everything inside <code>&lt;ScheduleProvider&gt;</code>? Are there ever elements that you want to exclude? You say you want the results &quot;in order&quot;; in what order"}, {"owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "edited": false, "score": 0, "creation_date": 1533850939, "post_id": 51773531, "comment_id": 90510775, "body": "Yes you right, everything inside <code>&lt;ScheduleProvider&gt;</code> which contain Product, Series, Episode &amp; VodItem. The order is all Product tag first, then, Series, Episode and VodItem at the end."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533850211, "post_id": 51774991, "comment_id": 90510559, "body": "I think the XPath should probably be <code>&#47;*&#47;*</code> but the OP isn&#39;t clear. I recommend using e.g. <code>&#47;*&#47;Product</code> instead of <code>&#47;&#47;Product</code>: there&#39;s no point in getting the XML engine to search beyond the second level."}, {"owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "edited": false, "score": 0, "creation_date": 1533884638, "post_id": 51774991, "comment_id": 90519065, "body": "Thanks @beasy, how can I add a <code>&quot;\\n&quot;</code> after <code>&lt;VODContentProvider&gt;</code> and before <code>&lt;&#47;VODContentProvider&gt;</code> ? Then the tags are still in the same order how can I have the two <code>&lt;Product&gt;</code> first ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "edited": false, "score": 0, "creation_date": 1533906343, "post_id": 51774991, "comment_id": 90531546, "body": "@Seth: Asking questions like yours makes a mockery of we who try to help on <i>Stack Overflow</i>. This is not a chat forum: first of all you should open a new question if you have a new question; and secondly, the new profession of <i>programming by Stack Overflow</i> can&#39;t be encouraged. We are kind and generous, and if you really seem to be stuck with a problem then we will help. But questions like yours that show some gash code and ask for a solution aren&#39;t acceptable: you need to educate yourself to a point where it is at least <i>possible</i> that you could solve the problem at hand yourself."}, {"owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533914301, "post_id": 51774991, "comment_id": 90536398, "body": "@Borodin sorry if there is an incomprehension here but there is no mockery at all. I will avoid to ask questions in comments. Regarding my question above I think that <code>print $new_doc-&gt;toString(1);</code> seems to be right."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "edited": false, "score": 0, "creation_date": 1533918817, "post_id": 51774991, "comment_id": 90538773, "body": "@Seth yes, <code>toString(1)</code> should &quot;pretty print&quot; the xml. if you want to group the nodes in a certain order you should probably open a new question as suggested above, since you didn&#39;t really specify that in your original post."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533921406, "post_id": 51774991, "comment_id": 90539921, "body": "@beasy: Please encourage best practices by <i>always</i> using <code>strict</code> and <code>warnings &#39;all&#39;</code> in your solutions. And please be careful, or at least consistent, with your spelling. <code>xml</code> is spelled <code>XML</code> and <code>openied</code> is not a word. Remember that every Stack Overflow page is akin to a Wikipedia page, and mistakes are abhorrent."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533923443, "post_id": 51774991, "comment_id": 90540767, "body": "@Borodin OK, I&#39;ve made the suggested corrections. in terms of <code>strict</code> and <code>warnings</code>, I intended this code snippet to be used within OPs original code, which is already using both. Do you advise copying the whole script?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533923966, "post_id": 51774991, "comment_id": 90540986, "body": "@beasy: If you post code that isn&#39;t intended to be a stand-alone script then you should write about the presumed context. I think it is always best to post a complete program: as &quot;experts&quot; we are much more able to provide an MCVE <i>answer</i> that describes our understanding of the question. Remember that <i>accuracy</i> and <i>precision</i> are the foundations of our work, and sloppiness in any quarter reflects carelessness everywhere. Software engineering isn&#39;t about throwing together some code and waiting for others to find the bugs for us."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533924809, "post_id": 51774991, "comment_id": 90541329, "body": "@Borodin Fair enough. Even though the answer was already accepted, I&#39;ve edited it as suggested."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": true, "score": 0, "last_activity_date": 1533927605, "last_edit_date": 1533927605, "creation_date": 1533845112, "answer_id": 51774991, "question_id": 51773531, "link": "https://stackoverflow.com/questions/51773531/concatenate-elements-from-multiple-xml-files/51774991#51774991", "title": "Concatenate elements from multiple XML files", "body": "<p>Inside your <code>if (scalar(@SEARCH))</code> block, change your code to something like this. It creates a new XML document, and adds the nodes you want from the opened XML docs. I also cleaned up some of the unnecessary verbosity in the XML methods.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\n\n# create new xml doc \nmy $new_doc = XML::LibXML::Document-&gt;new('1.0','utf-8');\nmy $new_root = $new_doc-&gt;createElement('ScheduleProvider');\n$new_root-&gt;setAttribute('id','FRT');\n\n# for example purposes, let's say the file paths are in the command line arguments\nfor my $fn (@ARGV) {\n    die \"file $fn not found\" unless -e $fn;\n\n    my $doc = XML::LibXML-&gt;load_xml(location =&gt; $fn);\n    my $dom = $doc-&gt;getDocumentElement;\n\n    # add the nodes to the new xml doc       \n    for my $xpath (qw&lt;//Product //Series //Episode //VodItem&gt;) {\n         $new_root-&gt;appendChild($_) for $dom-&gt;findnodes($xpath);\n    }                 \n }\n\n $new_doc-&gt;setDocumentElement($new_root);\n\n print $new_doc-&gt;toString;\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 3399702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2ObF.jpg?s=128&g=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/3399702/seth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 51774991, "answer_count": 1, "score": 0, "last_activity_date": 1533927605, "creation_date": 1533838767, "last_edit_date": 1533849914, "question_id": 51773531, "link": "https://stackoverflow.com/questions/51773531/concatenate-elements-from-multiple-xml-files", "title": "Concatenate elements from multiple XML files", "body": "\n\n<p>I need to open and parse several XML files, keeping the data in memory, and then sort the result.</p>\n\n<p>The script is not finished because I don't know how keep the information in a hash or a variable, that's why I need your help.</p>\n\n<h3>Perl code</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nuse POSIX;\nuse XML::LibXML;\n\nprint strftime('%Y-%m-%d %H:%M:%S', localtime), \"\\n\";\n\nmy $DIR = \"/totest/\";\n\n# Looking for XML files\nopendir(DIR, $DIR);\nmy @SEARCH = grep(/^XML-[0-9]{8}_[0-9]{6}.FR.*.FORTESTING.xml$/, readdir(DIR));\nclosedir(DIR);\n\nmy ($product, $series, $voditem, $episode) = (\"\", \"\", \"\", \"\");\n\n# If data file so\nif ( scalar(@SEARCH) ) {\n\n    foreach ( @SEARCH ) {\n\n        my $filename = $DIR . $_;\n        my $doc      = XML::LibXML-&gt;load_xml(location =&gt; $filename);\n\n        $product = $doc-&gt;getDocumentElement-&gt;findnodes(\"/ScheduleProvider/Product\")-&gt;[0]-&gt;toString, \"\\n\";\n        $series  = $doc-&gt;getDocumentElement-&gt;findnodes(\"/ScheduleProvider/Series\"-&gt;[0]-&gt;toString, \"\\n\";\n        $episode = $doc-&gt;getDocumentElement-&gt;findnodes(\"/ScheduleProvider/Episode\")-&gt;[0]-&gt;toString, \"\\n\";\n        $voditem = $doc-&gt;getDocumentElement-&gt;findnodes(\"/ScheduleProvider/VodItem\")-&gt;[0]-&gt;toString, \"\\n\";\n    }\n\n    print \"$series\\n\";\n}\n</code></pre>\n\n<h3>Desired output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?&gt;\n&lt;ScheduleProvider id=\"FRT\"&gt;\n    &lt;Product action=\"override\" type=\"single\"&gt;\n        &lt;Price currency=\"EUR\"&gt;0.00&lt;/Price&gt;\n        &lt;EpgDescription locale=\"fr_FR\"&gt;\n            &lt;EpgElement key=\"Title\"&gt;NO TITLE&lt;/EpgElement&gt;\n        &lt;/EpgDescription&gt;\n    &lt;/Product&gt;\n    &lt;Product action=\"override\" type=\"single\"&gt;\n        &lt;Price currency=\"EUR\"&gt;0.00&lt;/Price&gt;\n        &lt;EpgDescription locale=\"fr_FR\"&gt;\n            &lt;EpgElement key=\"Title\"&gt;NO TITLE&lt;/EpgElement&gt;\n        &lt;/EpgDescription&gt;\n    &lt;/Product&gt;\n    &lt;Series id=\"TS30200026214\" action=\"override\"&gt;\n            &lt;EpgElement key=\"IsRecordable\"&gt;0&lt;/EpgElement&gt;\n    &lt;/Series&gt;\n    &lt;Series id=\"TS20200026214\" action=\"override\"&gt;\n            &lt;EpgElement key=\"IsRecordable\"&gt;0&lt;/EpgElement&gt;\n    &lt;/Series&gt;\n    &lt;Episode action=\"override\" id=\"TS303687645464\" seriesRef=\"TS30200026214\"&gt;\n        &lt;Media id=\"TS300687645464\"/&gt;\n    &lt;/Episode&gt;\n    &lt;Episode action=\"override\" id=\"TS203182282260\" seriesRef=\"TS20200026214\"&gt;\n        &lt;Media id=\"TS200182282260\"/&gt;\n    &lt;/Episode&gt;\n    &lt;VodItem action=\"override\" contentRef=\"TS303687645464\" id=\"TS304687645464\"&gt;\n        &lt;Period year=\"2017\"/&gt;\n    &lt;/VodItem&gt;\n    &lt;VodItem action=\"override\" contentRef=\"TS203182282260\" id=\"TS204182282260\"&gt;\n        &lt;Period year=\"2018\"/&gt;\n    &lt;/VodItem&gt;\n&lt;/ScheduleProvider&gt;\n</code></pre>\n\n<h3>XML-20170504_060444.FR.FORTESTING.xml</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?&gt;\n&lt;ScheduleProvider id=\"FRT\"&gt;\n    &lt;Product action=\"override\" type=\"single\"&gt;\n        &lt;Price currency=\"EUR\"&gt;0.00&lt;/Price&gt;\n        &lt;EpgDescription locale=\"fr_FR\"&gt;\n            &lt;EpgElement key=\"Title\"&gt;NO TITLE&lt;/EpgElement&gt;\n        &lt;/EpgDescription&gt;\n    &lt;/Product&gt;\n    &lt;Series id=\"TS30200026214\" action=\"override\"&gt;\n            &lt;EpgElement key=\"IsRecordable\"&gt;0&lt;/EpgElement&gt;\n    &lt;/Series&gt;\n    &lt;Episode action=\"override\" id=\"TS303687645464\" seriesRef=\"TS30200026214\"&gt;\n        &lt;Media id=\"TS300687645464\"/&gt;\n    &lt;/Episode&gt;\n    &lt;VodItem action=\"override\" contentRef=\"TS303687645464\" id=\"TS304687645464\"&gt;\n        &lt;Period year=\"2017\"/&gt;\n    &lt;/VodItem&gt;\n&lt;/ScheduleProvider&gt;\n</code></pre>\n\n<h3>XML-20170505_073915.FR.FORTESTING.xml</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?&gt;\n&lt;ScheduleProvider id=\"FRT\"&gt;\n    &lt;Product action=\"override\" type=\"single\"&gt;\n        &lt;Price currency=\"EUR\"&gt;0.00&lt;/Price&gt;\n        &lt;EpgDescription locale=\"fr_FR\"&gt;\n            &lt;EpgElement key=\"Title\"&gt;NO TITLE&lt;/EpgElement&gt;\n        &lt;/EpgDescription&gt;\n    &lt;/Product&gt;\n    &lt;Series id=\"TS20200026214\" action=\"override\"&gt;\n            &lt;EpgElement key=\"IsRecordable\"&gt;0&lt;/EpgElement&gt;\n    &lt;/Series&gt;\n    &lt;Episode action=\"override\" id=\"TS203182282260\" seriesRef=\"TS20200026214\"&gt;\n        &lt;Media id=\"TS200182282260\"/&gt;\n    &lt;/Episode&gt;\n    &lt;VodItem action=\"override\" contentRef=\"TS203182282260\" id=\"TS204182282260\"&gt;\n        &lt;Period year=\"2018\"/&gt;\n    &lt;/VodItem&gt;\n&lt;/ScheduleProvider&gt;\n</code></pre>\n"}, {"tags": ["perl", "printf"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1533835640, "post_id": 51772707, "comment_id": 90504383, "body": "<code>map</code> in void context is just an inefficient <code>foreach</code> loop. <code>glob</code> already sorts its results."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533836674, "post_id": 51772707, "comment_id": 90504873, "body": "Why do you think <code>%-4s</code> should add four spaces?"}, {"owner": {"reputation": 426, "user_id": 2954429, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da72a483d9907bd038685e3f10ecdc44?s=128&d=identicon&r=PG&f=1", "display_name": "Arya", "link": "https://stackoverflow.com/users/2954429/arya"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533837653, "post_id": 51772707, "comment_id": 90505299, "body": "@Borodin I was misunderstanding its meaning.  I incorrectly thought it prepends 4 characters, but it&#39;s a minimum width field modifier as melpomene answered."}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1533836089, "post_id": 51772878, "comment_id": 90504572, "body": "I&#39;m not sure the efficiency argument still holds, but the fact that <code>for</code> expresses the intent more clearly is still sufficient for me."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1533836136, "post_id": 51772878, "comment_id": 90504601, "body": "@choroba IIRC someone benchmarked it, and <code>for</code> was still slightly faster than void <code>map</code>."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 5, "last_activity_date": 1533835936, "creation_date": 1533835936, "answer_id": 51772878, "question_id": 51772707, "link": "https://stackoverflow.com/questions/51772707/perls-printf-width-modifier-not-working-in-map-operator/51772878#51772878", "title": "Perl&#39;s printf width modifier not working in map operator", "body": "<p><code>%4s</code> (or <code>%-4s</code>) does not mean \"add 4 spaces to this string\". It means \"output this string with a minimum field width of 4\", i.e. strings shorter than 4 characters will be padded with spaces. See also <a href=\"https://perldoc.pl/functions/sprintf#(minimum)-width\" rel=\"noreferrer\"><code>perldoc -f sprintf</code></a>.</p>\n\n<p>If you want to always add 4 spaces at the beginning, just do</p>\n\n<pre><code>for my $file (glob '*') {\n    print \"    \", File::Spec-&gt;rel2abs($file), \"\\n\";\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for my $file (glob '*') {\n    print \" \" x 4, File::Spec-&gt;rel2abs($file), \"\\n\";\n}\n</code></pre>\n\n<p>I'm using <code>for</code> here because it's clearer and more efficient than <code>map</code> in void context (you're not collecting a list of results, you just want to output something). On the other hand, if you just want to transform a list, then</p>\n\n<pre><code>my @indented = map { \" \" x 4 . File::Spec-&gt;rel2abs($_) } glob '*';\n</code></pre>\n\n<p>would work.</p>\n"}], "owner": {"reputation": 426, "user_id": 2954429, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da72a483d9907bd038685e3f10ecdc44?s=128&d=identicon&r=PG&f=1", "display_name": "Arya", "link": "https://stackoverflow.com/users/2954429/arya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51772878, "answer_count": 1, "score": 0, "last_activity_date": 1533837131, "creation_date": 1533835086, "last_edit_date": 1533837131, "question_id": 51772707, "link": "https://stackoverflow.com/questions/51772707/perls-printf-width-modifier-not-working-in-map-operator", "title": "Perl&#39;s printf width modifier not working in map operator", "body": "<p>Why is it that when I do <code>map{printf \"%4s\\n\",File::Spec-&gt;rel2abs($_)}glob '*';</code> OR <code>print map{sprintf \"%4s\\n\",File::Spec-&gt;rel2abs($_)}glob '*';</code> the 4 space characters are output to the left of the strings?...</p>\n\n<pre><code>/var/www/html/Physics/Electronics/file1.txt\n/var/www/html/Physics/Electronics/file2.txt\n/var/www/html/Physics/Electronics/file3.txt\n/var/www/html/Physics/Electronics/file4.txt\n</code></pre>\n\n<p>It seems that I have to do <code>map{print \"\\x{20}\\x{20}\\x{20}\\x{20}\",File::Spec-&gt;rel2abs($_),\"\\n\"}glob '*';</code> in order to output the 4 space characters to the left of the strings...</p>\n\n<pre><code>    /var/www/html/Physics/Electronics/file1.txt\n    /var/www/html/Physics/Electronics/file2.txt\n    /var/www/html/Physics/Electronics/file3.txt\n    /var/www/html/Physics/Electronics/file4.txt\n</code></pre>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1533824794, "post_id": 51769413, "comment_id": 90497735, "body": "Did you really mean <code>while ()</code>? Or should that be <code>while (&lt;&gt;)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1533826069, "creation_date": 1533826069, "answer_id": 51770059, "question_id": 51769413, "link": "https://stackoverflow.com/questions/51769413/use-of-uninitialized-value-in-pattern-match-m-at-cursor-pl-line-5/51770059#51770059", "title": "Use of uninitialized value $_ in pattern match (m//) at cursor.pl line 5", "body": "<blockquote>\n  <p>what the file does is load an external table in oracle a trace file</p>\n</blockquote>\n\n<p>No, it doesn't. There is no file IO happening in your code</p>\n\n<p>There is nothing in your code to set <code>$_</code> to a defined value, so the regex pattern matches will generate this warning</p>\n\n<p><code>while () { ... }</code> is just an indefinite loop, and most likely your intention was to read from a file specified on the command line. It should instead be</p>\n\n<pre><code>while ( &lt;&gt; ) {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 4, "last_activity_date": 1533826106, "creation_date": 1533826106, "answer_id": 51770073, "question_id": 51769413, "link": "https://stackoverflow.com/questions/51769413/use-of-uninitialized-value-in-pattern-match-m-at-cursor-pl-line-5/51770073#51770073", "title": "Use of uninitialized value $_ in pattern match (m//) at cursor.pl line 5", "body": "<pre><code>while () { ... }\n</code></pre>\n\n<p>describes an infinite loop (it is treated as <code>while (1) { ... }</code>) and it is why your program remains running. Based on the rest of your script, I will guess that what you meant to say was</p>\n\n<pre><code>while (&lt;&gt;) { ... }\n</code></pre>\n\n<p>which is equivalent to</p>\n\n<pre><code>while (defined($_ = &lt;ARGV&gt;)) { ... }\n</code></pre>\n\n<p>In this construction, Perl reads a line from the default file descriptor and assigns it to the variable <code>$_</code>. When the file handle is exhausted and there is no more input to read, Perl sets <code>$_</code> to the undefined value, and the loop ends. </p>\n"}], "owner": {"reputation": 9, "user_id": 10200588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_4CoyilKboM/AAAAAAAAAAI/AAAAAAAAAIY/_PHDv0f6RUA/photo.jpg?sz=128", "display_name": "Eddie Yair Purisaca Rivera", "link": "https://stackoverflow.com/users/10200588/eddie-yair-purisaca-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1533826106, "creation_date": 1533824281, "question_id": 51769413, "link": "https://stackoverflow.com/questions/51769413/use-of-uninitialized-value-in-pattern-match-m-at-cursor-pl-line-5", "title": "Use of uninitialized value $_ in pattern match (m//) at cursor.pl line 5", "body": "<p>I have this script in perl: </p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings;\nwhile () {\n  if (/^PARSING IN CURSOR/../END OF STMT/) {\n    if (/^PARSING IN CURSOR/) {\n      s/^PARSING IN CURSOR \\#//;\n      s/ [a-z]+=/!/g;\n      s/\\n$/!/;\n      $_=\"$.!$_\";\n    }\n    unless (/^END OF STMT/) {\n      print;\n    }\n  }\n}\n</code></pre>\n\n<p>when executing in llinux perl cursor.pl shows the message: <strong>Use of uninitialized value $_ in pattern match (m//) at cursor.pl line 5.</strong>\nwhat the file does is load an external table in oracle a trace file and when I select the table it does not return anything and it remains running.</p>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 1, "creation_date": 1533820070, "post_id": 51767439, "comment_id": 90494415, "body": "Related: <a href=\"https://stackoverflow.com/questions/31001791/file-error-on-opening-spreadsheet-created-with-spreadsheetwriteexcel\">File error on opening spreadsheet created with Spreadsheet::WriteExcel</a>"}, {"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 1, "creation_date": 1533820306, "post_id": 51767439, "comment_id": 90494564, "body": "The error is coming from the same source (a cell being written several times) -- I understand that you want to eliminate the error and are asking how to do that. The &quot;possible duplicate&quot; will help others who come across the same error see other related posts."}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "reply_to_user": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "edited": false, "score": 1, "creation_date": 1533820348, "post_id": 51767439, "comment_id": 90494581, "body": "OK.  Trying my best."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1533820868, "post_id": 51767439, "comment_id": 90494985, "body": "@user1608954: Please don&#39;t be so quick to dismiss offers of help that you have asked for. The linked question looks identical to me."}], "answers": [{"comments": [{"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533821145, "post_id": 51768167, "comment_id": 90495184, "body": "Thanks &quot;I alarmed alien.&quot; BUT I need to keep my functions so it is modular and I can build on to that."}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533821177, "post_id": 51768167, "comment_id": 90495207, "body": "Is there a way to solve it while keeping the functions?"}, {"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "reply_to_user": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533821279, "post_id": 51768167, "comment_id": 90495282, "body": "Yes -- but having separate functions for text replacement is a bit OTT for this kind of script. One of the other principles of good coding is &quot;Don&#39;t Repeat Yourself&quot;, and having three functions that do very similar things (read cell content, possibly swap a word, write the cell content) would be a violation of that principle."}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533821447, "post_id": 51768167, "comment_id": 90495422, "body": "I am just thinking about growth of the database.  What if I have a huge excel file?  Would functions be the better way to handle it over if/elsif/else?  I&#39;m thinking modular."}, {"owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "reply_to_user": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533821585, "post_id": 51768167, "comment_id": 90495520, "body": "If there were a range of substitutions that you had to do, I would probably create a single function that took the cell contents as input, ran through the range of possible substitutions, and returned whatever the new cell contents should be (either a different word or the same text). I&#39;ll add a small example to the answer."}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 0, "creation_date": 1533824781, "post_id": 51768167, "comment_id": 90497724, "body": "Awesome.  Thanks &quot;I alarmed alien.&quot;"}, {"owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "edited": false, "score": 1, "creation_date": 1533919972, "post_id": 51768167, "comment_id": 90539292, "body": "After a day later, still thinking about this brilliant solution, placing the function inside of $worksheet_w-&gt;write.  Thanks again."}], "tags": [], "owner": {"reputation": 8974, "user_id": 205207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1OH7W.jpg?s=128&g=1", "display_name": "i alarmed alien", "link": "https://stackoverflow.com/users/205207/i-alarmed-alien"}, "is_accepted": true, "score": 1, "last_activity_date": 1533822619, "last_edit_date": 1533822619, "creation_date": 1533820818, "answer_id": 51768167, "question_id": 51767439, "link": "https://stackoverflow.com/questions/51767439/parse-excel-data-raises-file-error/51768167#51768167", "title": "Parse Excel data raises &quot;File error&quot;", "body": "<p>As you have said, the error message is due to a cell being written several times. You can get rid of the error message by ensuring that each cell is only written once. Since your three subroutines have very similar functionality, they can be combined into a single set of lines that does everything, and use an <code>if</code> / <code>else</code> cascade to decide which action should be taken.</p>\n\n<pre><code>for our $row ( $row_min .. $row_max ) {\n  for our $col ( $col_min .. $col_max ) {\n\n    my $cell = $worksheet_R-&gt;get_cell( $row, $col );\n    if($cell-&gt;value() =~ /Spinach/) {\n      $worksheet_W-&gt;write($row, $col,\"ASPARAGUS\");\n    }\n    elsif($cell-&gt;value() =~ /Grapes/) {\n      $worksheet_W-&gt;write($row, $col,\"PEACHES\");\n    }\n    else {\n      $worksheet_W-&gt;write($row, $col, $cell-&gt;value()) ;\n    }\n  }\n}\n</code></pre>\n\n<p>If you have to keep the functions, I suggest something like this, where you have a function that takes the current cell and applies any appropriate transformations to it, and returns the text ready for output. This keeps the repetition of reading the cell and writing the cell out of the subroutines:</p>\n\n<pre><code>for our $row ( $row_min .. $row_max ) {\n  for our $col ( $col_min .. $col_max ) {\n    my $cell = $worksheet_R-&gt;get_cell( $row, $col );\n    $worksheet_w-&gt;write( $row, $col, produce_check($cell-&gt;value) );\n  }\n}\n</code></pre>\n\n<p>And the <code>produce_check</code> sub that performs the swaps would also be a good place to do any text normalisations or other checks you might want to do on the input, e.g. removing extra whitespace, setting all the output to title case, etc.</p>\n\n<pre><code>sub produce_check {\n  my $prod = shift;\n  # maybe we have to make sure there's no trailing whitespace on $prod\n  $prod =~ s/\\s*$//;\n  my %swaps = (\n    grapes =&gt; 'peaches',\n    spinach =&gt; 'asparagus',\n    tins =&gt; 'cans',\n    zuchini =&gt; 'zucchini'\n  );\n  # is $prod one of pieces of produce we have to swap?\n  # perhaps our input is in a mixture of cases, uppercase, lowercase, titlecase\n  # to avoid having to add all those variations to the %swaps hash, we convert\n  # to lowercase using `lc`\n  if ( $swaps{ lc($prod) } ) {\n    $prod = $swaps{ lc($prod) };\n  }\n  # this line uses `ucfirst($prod)` to convert all output to titlecase.\n  # You could also convert everything to lowercase ( `lc($prod)` ), to\n  # uppercase ( `uc($prod)` ), or just leave it as-is by using `return $prod;`\n  return ucfirst( $prod );\n}\n</code></pre>\n"}], "owner": {"reputation": 943, "user_id": 1608954, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dd1368f3b1b64bf10b40fddf19b7365d?s=128&d=identicon&r=PG", "display_name": "Minimalist", "link": "https://stackoverflow.com/users/1608954/minimalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 51768167, "answer_count": 1, "score": 0, "last_activity_date": 1533822619, "creation_date": 1533818704, "last_edit_date": 1533820660, "question_id": 51767439, "link": "https://stackoverflow.com/questions/51767439/parse-excel-data-raises-file-error", "title": "Parse Excel data raises &quot;File error&quot;", "body": "\n\n<p>I have three functions in a Perl script to parse an Excel file to getthe desired output Excel file.  I achieved the correct output, however I get an error</p>\n\n<blockquote>\n  <p>File error: data may have been lost</p>\n</blockquote>\n\n<p>Likely the root cause is writing over the same Excel cell twice in the file.</p>\n\n<p>How do I get rid of this error while maintaining the functions in the script?</p>\n\n<h3>Input file</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>  A             B\nApples       Carrots\nOranges      Broccoli\nGrapes       Spinach\n</code></pre>\n\n<h3>Desire output file</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>  A             B\nApples       Carrots\nOranges      Broccoli\nPEACHES      ASPARAGUS\n</code></pre>\n\n<h3>Perl code</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use v5.10.0;\nuse warnings;\n\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::ParseExcel::SaveParser;\nuse Spreadsheet::WriteExcel;\n\nmy $parser     = Spreadsheet::ParseExcel::SaveParser-&gt;new();\nmy $workbook_R = $parser-&gt;parse('C:\\Perl\\databases\\Fruits_and_Veggies.xls');\n\nmy $workbook_W  = Spreadsheet::WriteExcel-&gt;new('C:\\Perl\\databases\\New_Fruits_and_Veggies.xls');\nmy $worksheet_W = $workbook_W-&gt;add_worksheet();\n\nfor our $worksheet_R ( $workbook_R-&gt;worksheets() ) {\n\n    my ( $row_min, $row_max ) = $worksheet_R-&gt;row_range();\n    my ( $col_min, $col_max ) = $worksheet_R-&gt;col_range(); \n\n    for our $row ( $row_min .. $row_max ) {\n\n        for our $col ( $col_min .. $col_max ) {\n\n            FruitStand();\n\n            VeggieStand();\n\n            ComboStand();\n\n\n            #------------------------------------------------------------------------------\n            # sub FruitStand - parsing: replace Grapes with PEACHES\n            #------------------------------------------------------------------------------\n\n            sub FruitStand {\n\n                # if the cell contains Grapes write 'PEACHES' instead\n                my $cell_grapes = $worksheet_R-&gt;get_cell( $row, $col );\n\n                if ( $cell_grapes-&gt;value() =~ /Grapes/ ) {\n                    $worksheet_W-&gt;write($row, $col,\"PEACHES\");\n                }\n            }\n\n\n            #------------------------------------------------------------------------------\n            # sub VeggieStand - parsing: repalce Spinach with ASPARAGUS\n            #------------------------------------------------------------------------------\n\n            sub VeggieStand {\n\n                # if the cell contains Spinach write 'ASPARAGUS' instead\n                my $cell_veggies = $worksheet_R-&gt;get_cell( $row, $col );\n                # my $cell = $worksheet_R-&gt;get_cell( $row, $col );\n\n                if (/ $cell_veggies-&gt;value() =~ /Spinach/ ) {\n                    $worksheet_W-&gt;write($row, $col,\"ASPARAGUS\");\n                }\n            }\n\n            #------------------------------------------------------------------------------\n            # Writing all fruits and veggies with the 2 changes (PEACHES and ASPARAGUS)\n            #------------------------------------------------------------------------------\n\n            sub ComboStand {\n\n                my $cell = $worksheet_R-&gt;get_cell( $row, $col );\n                $worksheet_W-&gt;write($row, $col, $cell-&gt;value()) ;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 2, "last_activity_date": 1533837027, "last_edit_date": 1533837027, "creation_date": 1533805021, "answer_id": 51762780, "question_id": 51762723, "link": "https://stackoverflow.com/questions/51762723/perl-check-if-filename-that-matches-certain-pattern-exists-in-directory/51762780#51762780", "title": "perl check if filename that matches certain pattern exists in directory", "body": "<p>You need to replace <code>-e</code> with <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">the <code>glob()</code> function</a></p>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1533837027, "creation_date": 1533804854, "question_id": 51762723, "link": "https://stackoverflow.com/questions/51762723/perl-check-if-filename-that-matches-certain-pattern-exists-in-directory", "title": "perl check if filename that matches certain pattern exists in directory", "body": "<p>I'm using in my perl script the following code to check if a file exists</p>\n\n<pre><code>unless (-e \"$inputdir/filetocheck.txt\") {}\n</code></pre>\n\n<p>I now want to use a wildcard character in this command</p>\n\n<pre><code>unless (-e \"$inputdir/*check.txt\") {}\n</code></pre>\n\n<p>to check if there is any file that end with \"check\".</p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533794318, "post_id": 51759744, "comment_id": 90478558, "body": "How did you install Perl that it wrote information to the registry?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533794655, "post_id": 51759744, "comment_id": 90478711, "body": "This sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."}, {"owner": {"reputation": 1447, "user_id": 6771046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K59fa.png?s=128&g=1", "display_name": "U880D", "link": "https://stackoverflow.com/users/6771046/u880d"}, "edited": false, "score": 0, "creation_date": 1533794658, "post_id": 51759744, "comment_id": 90478712, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30269931/reading-from-windows-registry-in-perl\">Reading from Windows registry in Perl</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 1447, "user_id": 6771046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K59fa.png?s=128&g=1", "display_name": "U880D", "link": "https://stackoverflow.com/users/6771046/u880d"}, "edited": false, "score": 4, "creation_date": 1533794740, "post_id": 51759744, "comment_id": 90478749, "body": "@U880D No, it&#39;s not. That other question is about reading from the registry in Perl. This question is about where in the registry information about Perl is stored (the code to read it could be in any language)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533795578, "post_id": 51759744, "comment_id": 90479111, "body": "The registry doesn&#39;t contain information about programs. Some programs use it to store configuration information, but not <code>perl</code> (since <code>perl</code> is configured when it&#39;s built). File associations are in the registry, though. If you&#39;re trying to launch a Perl script, you could take advantage of that (though that would only tell you about one of the installed <code>perl</code>.)"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3816097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1xTwE.jpg?s=128&g=1", "display_name": "GreatMarkO", "link": "https://stackoverflow.com/users/3816097/greatmarko"}, "is_accepted": false, "score": 0, "last_activity_date": 1533815828, "creation_date": 1533815828, "answer_id": 51766417, "question_id": 51759744, "link": "https://stackoverflow.com/questions/51759744/how-to-get-installed-perl-version-information-from-windows-registry/51766417#51766417", "title": "How to get installed Perl version information from Windows registry.", "body": "<p>You won't find this information in the Windows Registry, but you can get the installed version of Perl through Perl itself.</p>\n\n<p>The special Perl variable <code>$^V</code> returns a nicely formatted version string (i.e. \"v5.24.1\")</p>\n\n<p>The special Perl variable <code>$]</code> returns a numeric representation of the Perl version, subversion, and revision of the Perl interpreter, represented as a decimal of the form X.YYYZZZ, where X is the major version / YYY is the subversion / ZZZ is the revision. For example, Perl v5.10.1 would be \"5.010001\"</p>\n\n<p><code>$]</code> is often more useful than <code>$^V</code> as it behaves the same on any version of Perl, whereas the output of <code>$^V</code> may differ (if returned at all).</p>\n\n<p>A disadvantage of <code>$]</code> is that it's not as visually user friendly to a viewer i.e. \"5.010001\" could be misinterpreted as \"v5.01\", rather than \"v5.10.1\"</p>\n"}], "owner": {"reputation": 1, "user_id": 8476979, "user_type": "registered", "profile_image": "https://graph.facebook.com/1251555214971499/picture?type=large", "display_name": "Tania Ray", "link": "https://stackoverflow.com/users/8476979/tania-ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1533815828, "creation_date": 1533794244, "question_id": 51759744, "link": "https://stackoverflow.com/questions/51759744/how-to-get-installed-perl-version-information-from-windows-registry", "title": "How to get installed Perl version information from Windows registry.", "body": "<p>like which registry key I should be looking into to get the currently installed Perl information</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1533794783, "post_id": 51759727, "comment_id": 90478767, "body": "@melpomene, Added to answer, though its result needs fixing because it produces underscores instead of hyphens."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533796682, "post_id": 51759727, "comment_id": 90479632, "body": "@melpomene, Note that using <code>decamelize</code> makes the code longer, and restricts the names to ASCII."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1533796618, "last_edit_date": 1533796618, "creation_date": 1533794162, "answer_id": 51759727, "question_id": 51759641, "link": "https://stackoverflow.com/questions/51759641/regular-expression-in-perl-replacing-and-hyphenize-a-part-of-a-string-in-a-sourc/51759727#51759727", "title": "regular expression in perl replacing and hyphenize a part of a string in a source file", "body": "<pre><code>perl -i -CSD -pe'\n  s{new Window\\.(\\w+)\\(\\);}{\n     \"document.createElement(\\x27\".(\n     $1 =~ s/(\\p{Lu})/-\\l$1/gr =~ s/^-//r\n     ).\"\\x27);\"\n  }eg\n' my-sourcefile.js\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -i -CSD -MString::CamelCase=decamelize -pe'  # Only supports ASCII names\n  s{new Window\\.(\\w+)\\(\\);}{\n     \"document.createElement(\\x27\".(\n     decamelize($1) =~ s/_/-/rg\n     ).\"\\x27);\"\n  }eg\n' my-sourcefile.js\n</code></pre>\n\n<p>The line breaks are present for readability, but they can be omitted without causing any problems.</p>\n"}], "owner": {"reputation": 101, "user_id": 5100757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd7f0778a578d0cd2d2a7af85ae15d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Mcm", "link": "https://stackoverflow.com/users/5100757/mcm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 51759727, "answer_count": 1, "score": -2, "last_activity_date": 1533796618, "creation_date": 1533793776, "question_id": 51759641, "link": "https://stackoverflow.com/questions/51759641/regular-expression-in-perl-replacing-and-hyphenize-a-part-of-a-string-in-a-sourc", "title": "regular expression in perl replacing and hyphenize a part of a string in a source file", "body": "<p>I want to replace all occurrences of this pattern</p>\n\n<pre><code>new Window.MyElement();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>document.createElement('my-element');\n</code></pre>\n\n<p>Note that MyElement can be any Camelized element name</p>\n\n<p>What might be the regex that I need to use in my shell to run e.g.</p>\n\n<pre><code>perl -pi -e '....' my-sourcefile.js\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "loops", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1533793871, "post_id": 51759491, "comment_id": 90478393, "body": "Re &quot;<i>The function call statements in Line x do not execute.</i>&quot;, This is easily disproved by adding <code>warn(&quot;!&quot;);</code> inside of <code>funcIsPrime</code>. What problem are you actually having?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1533796435, "post_id": 51759491, "comment_id": 90479510, "body": "Always use <code>use strict; use warnings qw( all );</code>!"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1533794912, "post_id": 51759681, "comment_id": 90478839, "body": "Did you mean: <code>my $i = int sqrt($num)</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533796385, "post_id": 51759681, "comment_id": 90479487, "body": "<code>int sqrt $num</code> can give you a number less than the one you expect because of floating point error, so <code>my $i = 1 + int sqrt $num</code> would be safer."}, {"owner": {"reputation": 1, "user_id": 10201222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hZAnT-LZ43I/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oQZV7WCpzux-TkDWJTYObmuiApkA/mo/photo.jpg?sz=128", "display_name": "Rajni Sah", "link": "https://stackoverflow.com/users/10201222/rajni-sah"}, "edited": false, "score": 0, "creation_date": 1533798908, "post_id": 51759681, "comment_id": 90480792, "body": "Thank a lot. It worked. I got where I had gone wrong."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533831576, "post_id": 51759681, "comment_id": 90502300, "body": "@ikegami I considered that--I used my sub to solve <a href=\"https://projecteuler.net/problem=7\" rel=\"nofollow noreferrer\">PE #7</a> as a basic test and it was accurate. Do you have an example of an input it fails on? If so, I&#39;ll change it. I can see I probably should have left it same as OP instead of attempting to head down the optimization wormhole :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1533846846, "post_id": 51759681, "comment_id": 90509297, "body": "@ggorlen, My math library appears to be very smart and returns the exact integer --not a billionths above or below-- for sqrt(n^2) for integers n=1..100. There&#39;s no saying that other math libraries are that smart. though"}], "tags": [], "owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533795868, "last_edit_date": 1533795868, "creation_date": 1533793977, "answer_id": 51759681, "question_id": 51759491, "link": "https://stackoverflow.com/questions/51759491/perl-subroutine-not-working-in-loop/51759681#51759681", "title": "Perl subroutine not working in loop", "body": "<p>The main issue is missing <code>my</code> in variable declarations. Perl won't let you run the program if you include <code>use warnings;</code> and <code>use strict;</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Global symbol \"$i\" requires explicit package name (did you forget to declare \"my $i\"?) at test.pl line 22.\nExecution of test.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Here's simplified working code (you can search for factors up to the square root of n, by the way, although this isn't a perfect or efficient prime test by any means):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub isPrime {\n    my $num = $_[0];    \n\n    for (my $i = int sqrt $num; $i &gt; 1; $i--) {\n        if ($num % $i == 0) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nmy $num = 20;\n\nfor (my $i = 2; $i &lt;= $num / 2; $i++) {\n    my $j = $num - $i;\n\n    if (isPrime($i) &amp;&amp; isPrime($j)) {\n        print \"$num = $i + $j\\n\";\n    }\n}\n</code></pre>\n\n<h3>Output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>20 = 3 + 17\n20 = 7 + 13\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10201222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hZAnT-LZ43I/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oQZV7WCpzux-TkDWJTYObmuiApkA/mo/photo.jpg?sz=128", "display_name": "Rajni Sah", "link": "https://stackoverflow.com/users/10201222/rajni-sah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 51759681, "answer_count": 1, "score": -3, "last_activity_date": 1533796092, "creation_date": 1533792968, "last_edit_date": 1533796092, "question_id": 51759491, "link": "https://stackoverflow.com/questions/51759491/perl-subroutine-not-working-in-loop", "title": "Perl subroutine not working in loop", "body": "<p>I tried writing a simple code to find whether a number can be expressed as the sum of primes or not, in Perl. The sample code is as shown:</p>\n\n<pre><code>sub funcIsPrime {\n    my $num = $_[0];    \n    my $isPrime = 1;\n    for($i= 2; $i &lt;= $num/2; $i++){\n        if($num%$i == 0){\n            $isPrime = 0;\n            last;\n        }\n    }\n    return $isPrime;\n}\n\n#my $num = &lt;&gt;;\nmy $num = 20;\nfor($i = 2; $i &lt;= $num/2; $i++){\n    print \"$i\\t\";\n    my $j = $num-$i;\n    print \"$j\\n\";\n\n    if(funcIsPrime($i) and funcIsPrime($j)){    # Line x\n        print \"$num = $i + $j\\n\";\n    }\n}\n</code></pre>\n\n<p>The function call statements in Line x do not execute. The same line when put outside the loop works fine. What can be the possible solution? Please help. Thank you.</p>\n"}]