[{"tags": ["perl", "ssl", "apple-push-notifications"], "comments": [{"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1444280950, "post_id": 33002205, "comment_id": 53838385, "body": "What are you actually trying to achieve by peeking into the socket? Do you expect some response from APNS?  Functions that are prefixed by underscore (_) are not supposed to be part of the module&#39;s interface, so you should not use them in an ideal case."}, {"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "reply_to_user": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1444285612, "post_id": 33002205, "comment_id": 53840322, "body": "Yes I am trying to see if APNS is sending back any response. Please ignore the underscore. I am calling this function internally from another function."}], "answers": [{"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1444285273, "post_id": 33007923, "comment_id": 53840139, "body": "thanks for our reply. I actually tried Net::SSLeay::pending aswell. It gives me 0 all the time. Even when I can read something from the socket(once connection is dropped). Any idea why?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1444291365, "post_id": 33007923, "comment_id": 53843716, "body": "@user3360140: pending checks only if there are unread data in the local SSL buffer. It does not try to read from the network. See <a href=\"https://www.openssl.org/docs/manmaster/ssl/SSL_pending.html\" rel=\"nofollow noreferrer\">openssl.org/docs/manmaster/ssl/SSL_pending.html</a>"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1444284828, "creation_date": 1444284828, "answer_id": 33007923, "question_id": 33002205, "link": "https://stackoverflow.com/questions/33002205/perl-netssleay-check-if-socket-is-available-to-read/33007923#33007923", "title": "Perl Net::SSLeay check if socket is available to read", "body": "<p>To check if the underlying socket can be read use select, i.e.</p>\n\n<pre><code> IO::Select-&gt;new(fileno($socket))-&gt;can_read(timeout);\n</code></pre>\n\n<p>timeout can be <code>0</code> to just check and not wait, can be a number of seconds or can be <code>undef</code> to wait forever. But before you do the select check if data are still available in the SSL buffer:</p>\n\n<pre><code> if (Net::SSLeay::pending($ssl)) { ... use SSL_peek or SSL_read ... }\n</code></pre>\n\n<p>Apart from that it does look like that the module you use does not even attempt to validate the servers certificate :(</p>\n"}, {"comments": [{"owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1444289072, "post_id": 33008645, "comment_id": 53842304, "body": "So theres no point of reading the socket before the connection is closed. Thanks a lot... that answered my question. can you please take a look at my other thread also. Hope you have some answers for them aswell. Thanks in advanced! <a href=\"http://stackoverflow.com/questions/33004501/how-does-apns-behave-when-notification-is-sent-to-a-token-that-failed-before\" title=\"how does apns behave when notification is sent to a token that failed before\">stackoverflow.com/questions/33004501/&hellip;</a>"}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "reply_to_user": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "edited": false, "score": 0, "creation_date": 1444290471, "post_id": 33008645, "comment_id": 53843176, "body": "I&#39;m glad I could help. I looked at your other question but unfortunately I&#39;m not knowledgeable enough about APNs to answer it."}], "tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": true, "score": 1, "last_activity_date": 1444287273, "creation_date": 1444287273, "answer_id": 33008645, "question_id": 33002205, "link": "https://stackoverflow.com/questions/33002205/perl-netssleay-check-if-socket-is-available-to-read/33008645#33008645", "title": "Perl Net::SSLeay check if socket is available to read", "body": "<p>The <a href=\"https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/CommunicatingWIthAPS.html#//apple_ref/doc/uid/TP40008194-CH101-SW1\" rel=\"nofollow\">APNS documentation</a> says the following:</p>\n\n<blockquote>\n  <p>If you send a notification that is accepted by APNs, nothing is returned.</p>\n  \n  <p>If you send a notification that is malformed or otherwise unintelligible, APNs returns an error-response packet and closes the connection. Any notifications that you sent after the malformed notification using the same connection are discarded, and must be resent</p>\n</blockquote>\n\n<p>As long as your notifications as accepted, there won't be any data to read and thus a read operation on the socket will block. The only time there's data available is when there's an error, and then the connection is immediately closed. That should explain the behaviour you're observing.</p>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 33008645, "answer_count": 2, "score": 0, "last_activity_date": 1444287273, "creation_date": 1444251117, "last_edit_date": 1444285640, "question_id": 33002205, "link": "https://stackoverflow.com/questions/33002205/perl-netssleay-check-if-socket-is-available-to-read", "title": "Perl Net::SSLeay check if socket is available to read", "body": "<p>I am using a perl module called Net::APNS::Persistent. It helps me to open up a persistent connection with apple's <a href=\"https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html\" rel=\"nofollow\">apns server</a> and send push notifications through APNS. This module uses Net::SSLeay for ssl communication with APNS server. </p>\n\n<p>Now, I want to read from my socket periodically to check if APNS sends back any response. Net::APNS::Persistent already has a function called _read() which looks like below:</p>\n\n<pre><code>sub _read {\n    my $self = shift;\n\n    my ($socket, $ctx, $ssl) = @{$self-&gt;_connection};\n\n    my $data = Net::SSLeay::ssl_read_all( $ssl );\n    die_if_ssl_error(\"error reading from ssl connection: $!\");\n\n    return $data;\n}\n</code></pre>\n\n<p>However, this function works only after APNS drops the connection and I get error while trying to write. On other times my script gets stuck at,</p>\n\n<pre><code>my $data = Net::SSLeay::ssl_read_all( $ssl );\n</code></pre>\n\n<p>I checked Net::SSLeay doc and found it has a method called peek</p>\n\n<blockquote>\n  <p>Copies $max bytes from the specified $ssl into the returned value. In contrast to the Net::SSLeay::read() function, the data in the SSL buffer is unmodified after the SSL_peek() operation.</p>\n</blockquote>\n\n<p>I though it might be useful, so I added another function within the Net::APNS::Persistent module:</p>\n\n<pre><code>sub ssl_peek {\n    my $self = shift;\n    my ($socket, $ctx, $ssl) = @{$self-&gt;_connection};\n    print \"Peeking \\n\";\n    my $data = Net::SSLeay::peek( $ssl, $pending );\n    print \"Done peeking \\n\";\n    return $data;\n}\n</code></pre>\n\n<p>Unfortunately this also gave me the same problem. It only prints Peeking and never reaches the line where it would print Done peeking. Had same problem using Net::SSLeay::read. Is there a way to check if the socket can be read or maybe set a read timeout so that my script doesnt get stuck while trying to read from socket?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 72378, "user_id": 183172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vhpvg.jpg?s=128&g=1", "display_name": "martin clayton", "link": "https://stackoverflow.com/users/183172/martin-clayton"}, "edited": false, "score": 1, "creation_date": 1444250848, "post_id": 33002053, "comment_id": 53829140, "body": "You&#39;re not accessing the %nameo hash, but the (undefined) @nameo array.  Try $nameo{$key} instead of $nameo[$key]."}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 3, "creation_date": 1444250948, "post_id": 33002053, "comment_id": 53829203, "body": "Put <code>use warnings;</code> and <code>use strict;</code> at the top of every Perl program you write.  They will help you with cases like this."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1444251139, "last_edit_date": 1444251139, "creation_date": 1444250870, "answer_id": 33002144, "question_id": 33002053, "link": "https://stackoverflow.com/questions/33002053/unable-to-read-the-value-of-hash-in-perl/33002144#33002144", "title": "Unable to read the value of hash in perl", "body": "<p>Perl is not PHP (nor Ruby). To access hash values, use curly braces, not square ones:</p>\n\n<pre><code>print $nameo{$key};\n</code></pre>\n\n<p>You should use <a href=\"http://p3rl.org/strict\">strict</a> and \n<a href=\"http://p3rl.org/warnings\">warnings</a>. Strict would have told you you tried to access <code>@nameo</code> which wasn't declared.</p>\n"}], "owner": {"reputation": 86, "user_id": 1852984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/844a08fd8a13871a93ebbe2faca17bea?s=128&d=identicon&r=PG&f=1", "display_name": "vim", "link": "https://stackoverflow.com/users/1852984/vim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 33002144, "answer_count": 1, "score": -1, "last_activity_date": 1444280809, "creation_date": 1444250462, "last_edit_date": 1444280809, "question_id": 33002053, "link": "https://stackoverflow.com/questions/33002053/unable-to-read-the-value-of-hash-in-perl", "title": "Unable to read the value of hash in perl", "body": "<p>In a perl code, I tried to initialize hash by having the keys &amp; values stored in 2 separate arrays. \nTo initialize arrays, data was read from a text file &amp; then processed.</p>\n\n<p>I followed the below syntax for storing keys &amp; values into hashes:</p>\n\n<p><strong>@hash{@key}=@values;</strong></p>\n\n<p><strong>When I try to display the contents of the hash, I am able to display the contents of key alone &amp; not the values. Why didn't the hash take in any values? How can this be resolved?</strong></p>\n\n<p><strong>Text File</strong></p>\n\n<pre><code>NAME,OWE,RECEIVE\nRAM,2000,1000\nTEJA,1500,2200\nNANDHINI,400,3000\nRAGHAV,0,5000\nETHI,100,2500\nKESHAV,400,400\n</code></pre>\n\n<p><strong>Following is my code:</strong></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$i = 0;\nopen(FH, \"&lt;expenses_details.txt\") or die \"Couldn't open the file\";\n%nameo;\nwhile ($line = &lt;FH&gt;)\n{\n    chomp($line);\n    if ($i == 0)\n    {\n        $i++;\n        next;\n    }\n    ($name, $owe, $receive) = split(',', $line);\n    #print \"Name is:$name, Owe:$owe, Receive:$receive \\n\"; \n    push(@names, $name); # Creating name array\n    push(@owes, $owe);  #creating owe array\n    push(@receives, $receive); #creating receive array\n}\nclose FH;\nprint \"Name array:\\n\";\nforeach (@names)\n{\n    print \"$_\\n\";\n}\nprint \"\\nOWE array:\\n\";\nforeach (@owes)\n{\n    print \"$_\\n\";\n}\n#Initialising owe hash\n@nameo{@names} = @owes;\n$size = keys %nameo;\nprint \"\\nsize is $size\\n\";\n\nforeach my $key (keys %nameo)\n{\n    print $key;\n    print $nameo[$key];\n    print \"\\n\";\n}\n</code></pre>\n\n<p><strong>OUTPUT OBTAINED:</strong></p>\n\n<pre><code>Name array:\nRAM\nTEJA\nNANDHINI\nRAGHAV\nETHI\nKESHAV\n\nOWE array:\n2000\n1500\n400\n0\n100\n400\n\nsize is 6\nTEJA\nRAM\nKESHAV\nETHI\nNANDHINI\nRAGHAV\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 6, "creation_date": 1444249176, "post_id": 33001678, "comment_id": 53828304, "body": "Did you forget to pass an argument? (This would have been caught if you had used <code>use strict; use warnings;</code> as you always should.)"}, {"owner": {"reputation": 6529, "user_id": 4252320, "user_type": "registered", "accept_rate": 59, "profile_image": "https://lh3.googleusercontent.com/-_DAs7Dtci9U/AAAAAAAAAAI/AAAAAAAAIf8/96ZNJAUF2Xk/photo.jpg?sz=128", "display_name": "ergonaut", "link": "https://stackoverflow.com/users/4252320/ergonaut"}, "edited": false, "score": 0, "creation_date": 1444249658, "post_id": 33001678, "comment_id": 53828529, "body": "check if it&#39;s even going in here with arguments : while ($i &lt;= $ARGV[0])"}, {"owner": {"reputation": 1, "user_id": 5420156, "user_type": "registered", "profile_image": "https://graph.facebook.com/952448821487251/picture?type=large", "display_name": "Dr Monocle", "link": "https://stackoverflow.com/users/5420156/dr-monocle"}, "edited": false, "score": 0, "creation_date": 1444253384, "post_id": 33001678, "comment_id": 53830398, "body": "When useing the stict tag it tells me &quot;use of uninitialized value in numeric le (&lt;=) at line 11"}, {"owner": {"reputation": 1785, "user_id": 3373470, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8f968c218643a09267014e4beaeb4770?s=128&d=identicon&r=PG&f=1", "display_name": "onebree", "link": "https://stackoverflow.com/users/3373470/onebree"}, "edited": false, "score": 0, "creation_date": 1445266765, "post_id": 33001678, "comment_id": 54239628, "body": "@DrMonocle any updates to your issue? Has a provided answer helped you out?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1444260199, "post_id": 33001801, "comment_id": 53832952, "body": "<code>$string = (&#39;A&#39; x $A . &#39;B&#39; x $B) x (1+($count-1)&#47;($A+$B));</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1444249447, "creation_date": 1444249447, "answer_id": 33001801, "question_id": 33001678, "link": "https://stackoverflow.com/questions/33001678/perl-script-not-running-correctly/33001801#33001801", "title": "Perl Script not running correctly", "body": "<p>It works for me when I run it with a numeric argument (number of lines).</p>\n\n<p>An idea how to simplify the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $count = shift;\nmy $A = 3;\nmy $B = 1;\nmy $string = q();\n$string .= ('A' x $A) . ('B' x $B) while $count &gt; length $string;\nprint substr($string, 0, $_), \"\\n\" for 1 .. $count;\n</code></pre>\n\n<p>It uses a different algorithm - it creates the longest possible string, and then outputs parts of it.</p>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1444253840, "creation_date": 1444253840, "answer_id": 33002836, "question_id": 33001678, "link": "https://stackoverflow.com/questions/33001678/perl-script-not-running-correctly/33002836#33002836", "title": "Perl Script not running correctly", "body": "<p>if there is no <code>@ARGV</code>, <code>while ($i &lt;= $ARGV[0])</code> never runs. </p>\n\n<p><code>@ARGV</code> is an array of the command line arguments provided when the script is executed. you did not provide any command line arguments. if you had <code>use warnings</code> in effect, you would be warned that <code>$ARGV[0]</code> is uninitialized.</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1444277693, "creation_date": 1444277693, "answer_id": 33006495, "question_id": 33001678, "link": "https://stackoverflow.com/questions/33001678/perl-script-not-running-correctly/33006495#33006495", "title": "Perl Script not running correctly", "body": "<p>As from <code>ikegami</code> comment. You cann't pass the input at when the program is compile. For example, consider your file name is <code>algo.pl</code>. Can you run your program with</p>\n\n<pre><code> perl algo.pl 10  \n</code></pre>\n\n<p>Here 10 is the input value of the program. In program value is retrieve  by the <code>$ARGV[0]</code>  </p>\n\n<p>so in your program looks like <code>while ($i &lt;= $ARGV[0])</code>. </p>\n\n<p>If you want pass the several values like <code>perl  filename.pl 12 data1 data2</code>In your data retrieve by  <code>$ARGV[0] $ARGV[1] $ARGV[2]</code> for more information <a href=\"http://perlmaven.com/argv-in-perl\" rel=\"nofollow\">see here</a>.</p>\n\n<p>If you want pass the input at the time of execution used <code>STDIN</code></p>\n\n<pre><code>use warnings;\nuse strict;\nmy $A = 3;\nmy $B = 1;\nmy $i = 1;\nmy $output = \"\";\nmy $j = 1;\n\nprint \"Enter the value: \";\nchomp(my $value = &lt;STDIN&gt;);\n\n\nwhile ($i &lt;= $value) {\n while ($j &lt;= $i) {\nif ($A == 0 &amp;&amp; $B == 0) {\n  $A = 3;\n  $B = 1;\n}\n\nif ($A &gt; 0) {\n  $output.= \"A\";\n  $A--;\n}\nelse {\n  $output.= \"B\";\n  $B--;\n}\n\n$j++;\n }\n\n print($output  .  \"\\n\");\n  $i++;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5420156, "user_type": "registered", "profile_image": "https://graph.facebook.com/952448821487251/picture?type=large", "display_name": "Dr Monocle", "link": "https://stackoverflow.com/users/5420156/dr-monocle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1444277693, "creation_date": 1444249016, "last_edit_date": 1444249134, "question_id": 33001678, "link": "https://stackoverflow.com/questions/33001678/perl-script-not-running-correctly", "title": "Perl Script not running correctly", "body": "<p>When ever I run this bit of code. it doesn't display any output. Anyone see anything wrong?\nI am trying to display this in the out put:</p>\n\n<pre><code>A\nAA\nAAA\nAAAB\nAAABA\nAAABAA\nAAABAAA\nAAABAAAB\n</code></pre>\n\n<p>etc.</p>\n\n<pre><code>#!/usr/local/bin/perl\n\n$A = 3;\n$B = 1;\n$i = 1;\n$output = \"\";\n$j = 1;\n\nwhile ($i &lt;= $ARGV[0]) {\n while ($j &lt;= $i) {\nif ($A == 0 &amp;&amp; $B == 0) {\n  $A = 3;\n  $B = 1;\n}\n\nif ($A &gt; 0) {\n  $output.= \"A\";\n  $A--;\n}\nelse {\n  $output.= \"B\";\n  $B--;\n}\n\n$j++;\n }\n\n print($output  .  \"\\n\");\n  $i++;\n}\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1444248848, "post_id": 33001517, "comment_id": 53828114, "body": "Looks like your CGi process runs in a <a href=\"https://en.wikipedia.org/wiki/Chroot\" rel=\"nofollow noreferrer\">chroot jail</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1444250568, "last_edit_date": 1444250568, "creation_date": 1444249349, "answer_id": 33001765, "question_id": 33001517, "link": "https://stackoverflow.com/questions/33001517/writing-file-in-cgi-results-in-different-file/33001765#33001765", "title": "Writing file in CGI results in different file", "body": "<blockquote>\n  <p>Why is this?</p>\n</blockquote>\n\n<p>Applications shouldn't use <code>/tmp</code> because it is generally world-writable, which is a security risk. <a href=\"http://www.freedesktop.org/wiki/Software/systemd/\" rel=\"nofollow\">systemd</a> tries to fix that by <a href=\"https://securityblog.redhat.com/2014/04/09/new-red-hat-enterprise-linux-7-security-feature-privatetmp/\" rel=\"nofollow\">allowing services to create a private <code>/tmp</code> directory</a> that is different from the <code>/tmp</code> that other users and services see.</p>\n\n<p>This is enabled in Apache's systemd unit file (<code>/usr/lib/systemd/system/httpd.service</code> on my system):</p>\n\n<pre><code>[Unit]\nDescription=The Apache HTTP Server\nAfter=network.target remote-fs.target nss-lookup.target\n\n[Service]\n...\nPrivateTmp=true\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>how can I write file to the desired folder?</p>\n</blockquote>\n\n<p>It's a security risk, so just don't. If you need your temporary files to be accessible by other processes, store them in a directory that's not world-writable.</p>\n"}], "owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 33001765, "answer_count": 1, "score": 1, "last_activity_date": 1444250568, "creation_date": 1444248429, "question_id": 33001517, "link": "https://stackoverflow.com/questions/33001517/writing-file-in-cgi-results-in-different-file", "title": "Writing file in CGI results in different file", "body": "<p>I have this part of code in Perl CGI:</p>\n\n<pre><code>open(FH, '&gt;', '/tmp/homeip.conf') or die $!;\nprint FH $ip;\nclose FH;\n</code></pre>\n\n<p>But the file is written to <code>/tmp/systemd-private-CxvLw6/tmp/homeip.conf</code> instead of <code>/tmp/homeip.conf</code>. Why is this? and how can I write file to the desired folder?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1444248092, "post_id": 33001088, "comment_id": 53827676, "body": "Where do you provide the password to the remote host?"}], "answers": [{"tags": [], "owner": {"reputation": 222, "user_id": 4893881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dt6GQ.jpg?s=128&g=1", "display_name": "Xtof", "link": "https://stackoverflow.com/users/4893881/xtof"}, "is_accepted": false, "score": 0, "last_activity_date": 1444286178, "creation_date": 1444286178, "answer_id": 33008287, "question_id": 33001088, "link": "https://stackoverflow.com/questions/33001088/netssh-perl-script-for-windows-7/33008287#33008287", "title": "Net::SSH perl script for windows 7", "body": "<p>sshopen2 does not support password. It is explain in the perldoc page : <a href=\"http://search.cpan.org/dist/Net-SSH/SSH.pm\" rel=\"nofollow\">http://search.cpan.org/dist/Net-SSH/SSH.pm</a>\n(see FAQ)</p>\n\n<p>The recommendation are either to set up rsa key or to use the module expect (that mimic user input)</p>\n"}], "owner": {"reputation": 21, "user_id": 5420084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5a7afd76a89564ef4560439b132152?s=128&d=identicon&r=PG&f=1", "display_name": "mah941", "link": "https://stackoverflow.com/users/5420084/mah941"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444286178, "creation_date": 1444247040, "last_edit_date": 1592644375, "question_id": 33001088, "link": "https://stackoverflow.com/questions/33001088/netssh-perl-script-for-windows-7", "title": "Net::SSH perl script for windows 7", "body": "<p>I am using windows 64 bit active perl 5.20 sw to login a linux/unix server.\nFrom the same windows machine i can do ssh with my user id &amp; password without any problem. But when i am using the following script i am getting\nPermission denied</p>\n<h1>(gssapi-keyex,gssapi-with-mic, public key, password,keyboard-interactive).</h1>\n<p>Any idea how to troubleshoot it?\nThanks</p>\n<pre><code>  #!/Perl64/bin/\n\n   use strict;\n   use Net::SSH qw(sshopen2);\n   use strict;\n\n   my $host = '10.120.xx.xx';\n   my $user = 'user';\n   my $pass = 'password';\n   my $cmd = '/bin/sh';\n   my @commands = ('df -k','free','uptime');\n\n   sshopen2(&quot;$user\\@$host&quot;, *READER, *WRITER, &quot;$cmd&quot;) || die &quot;ssh: $!&quot;;\n\n   while (&lt;READER&gt;) {\n      chomp();\n      print &quot;$_\\n&quot;;\n   }\n\n   close(READER);\n   close(WRITER);\n</code></pre>\n"}, {"tags": ["perl", "enums"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1444242767, "post_id": 32999422, "comment_id": 53824344, "body": "The <code>use</code> happens at compile time, not run time. Also, from a philosophical standpoint, don&#39;t you think that a dynamically-assigned <i>set of constants</i> seems odd?"}, {"owner": {"reputation": 29, "user_id": 5252707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b52fbefb36d2652e5253cbbb894c31?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/5252707/ravi-kumar"}, "edited": false, "score": 0, "creation_date": 1444246077, "post_id": 32999422, "comment_id": 53826400, "body": "Oops! you are right. The &#39;use enum&#39; should not be in the for loop. Fixed the postings. About why am I doing it,  I would like to do a reverse lookup and get the actual string (rather than the number) if i want to print the enum type (like a enum-to-string function)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1444248060, "post_id": 32999422, "comment_id": 53827654, "body": "Wouldn&#39;t a simple hash be sufficient?"}, {"owner": {"reputation": 29, "user_id": 5252707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b52fbefb36d2652e5253cbbb894c31?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/5252707/ravi-kumar"}, "edited": false, "score": 0, "creation_date": 1444352777, "post_id": 32999422, "comment_id": 53878940, "body": "enum will assign values. If I create hashes, I lose that benefit."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1444244424, "last_edit_date": 1495542143, "creation_date": 1444242805, "answer_id": 32999889, "question_id": 32999422, "link": "https://stackoverflow.com/questions/32999422/iterating-over-enums-in-perl/32999889#32999889", "title": "iterating over enums in perl", "body": "<p><code>use</code> performs an action at compile-time. Specifically,</p>\n\n<pre><code>use enum qw( :THAT a=999 b c );\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>BEGIN {\n   require enum;\n   import enum qw( :THAT a=999 b c );\n}\n</code></pre>\n\n<p>This is described in more detail <a href=\"https://stackoverflow.com/a/14767671/589924\">here</a>.</p>\n\n<p>This means you want</p>\n\n<pre><code>BEGIN {\n   require enum;\n   import enum split ' ', ':THIS a=100 b c';\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use enum qw( );\nBEGIN { import enum split ' ', ':THIS a=100 b c'; }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use enum qw( );\n\nsub myenum {\n   import enum split ' ', $_[0];\n}\n\nBEGIN { myenum(':THIS a=100 b c') }\n</code></pre>\n\n<p>I'm assuming the following won't do:</p>\n\n<pre><code>use enum split(' ', ':THIS a=100 b c');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 5252707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b52fbefb36d2652e5253cbbb894c31?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/5252707/ravi-kumar"}, "edited": false, "score": 0, "creation_date": 1444353308, "post_id": 33001379, "comment_id": 53879075, "body": "I will try this one. I haven&#39;t had much luck with the BEGIN sub and import combinations.."}, {"owner": {"reputation": 29, "user_id": 5252707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b52fbefb36d2652e5253cbbb894c31?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/5252707/ravi-kumar"}, "edited": false, "score": 0, "creation_date": 1444404375, "post_id": 33001379, "comment_id": 53904668, "body": "sub myenum($)    {      #line 1  import enum(split (&#39; &#39; , $_[0]));      #line 2  import enum qw(:THIS a=100 b c);     }     BEGIN {       # 1  doesn&#39;t work with line 1 or 2 in sub routine       #myenum(&quot;:THIS a=100 b c&quot;);        # 2 does not work.      #my $str = &quot;:THIS a=100 b c&quot;;      #import enum(split (&#39; &#39; , $str));       # 3  works      #use enum qw(:THIS a=100 b c);       # 4 does not work      import enum(split (&#39; &#39; , &quot;:THIS a=100 b c&quot;));     }     use enum qw(:THAT a=999 b c);     print THISa . &quot; &quot; . THISb . &quot; &quot; . THISc . &quot;\\n&quot;;     print THATa . &quot; &quot; . THATb . &quot; &quot; . THATc . &quot;\\n&quot;;"}], "tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": false, "score": 0, "last_activity_date": 1444248557, "last_edit_date": 1444248557, "creation_date": 1444247952, "answer_id": 33001379, "question_id": 32999422, "link": "https://stackoverflow.com/questions/32999422/iterating-over-enums-in-perl/33001379#33001379", "title": "iterating over enums in perl", "body": "<p>Investigating further on @ikegami's answer, I think here's one way of getting what you need. This involves creating a new package <code>myenum</code> that's a simple wrapper over <code>enum</code> which also maintains an array of enums.</p>\n\n<p><code>myenum.pm</code>:</p>\n\n<pre><code>package myenum;\n\nuse strict;\nuse warnings;\n\nuse enum;\n\n# array with all enums\nour @enums;\n\nsub import {\n    my $prefix = '';\n\n    # basic parsing like what enum does\n    for my $name (@_[1..$#_]) {\n        if (substr($name, 0, 1) eq ':') {\n            $prefix = substr($name, 1);\n            next;\n        }\n        # add the enums to the array\n        push @enums, $prefix . $name;\n    }\n\n    # call enum's import() as if it was called from the current caller\n    goto &amp;enum::import;\n}\n\n1;\n</code></pre>\n\n<p>The main program:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse myenum qw(:THAT a=999 b c);\n\n# this array has the enums\nprint \"@myenum::enums\\n\";\n\nprint THATa . \" \" . THATb . \" \" . THATc . \"\\n\";\n\n# output:\n#\n# THATa=999 THATb THATc\n# 999 1000 1001\n</code></pre>\n\n<p><em>Note:</em> This is just mostly skeleton code I wrote as an experiment and you'll surely need to make changes to suit your needs. Especially since in a new edit you've said that you needed to do reverse lookups.</p>\n"}], "owner": {"reputation": 29, "user_id": 5252707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b52fbefb36d2652e5253cbbb894c31?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/5252707/ravi-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1444248557, "creation_date": 1444241206, "last_edit_date": 1444246033, "question_id": 32999422, "link": "https://stackoverflow.com/questions/32999422/iterating-over-enums-in-perl", "title": "iterating over enums in perl", "body": "<p>I am trying to create (automatically) an array every time I create an enum. To do  this I send the desired enum array through a sub (myenum) which first creates an array and then calls enum (via use).</p>\n\n<p>In example below I have two enums, one direct, one with the above method. My method doesn't work :-(  What am I doing wrong?</p>\n\n<pre><code>@enumArray=();\n\nsub myenum($)\n{\n  my @a = split (/\\s+/,$_[0]);\n  my $prefix = $a[0];\n  $prefix =~ s/^://;\n  my $len = scalar @a;\n  $len--;\n  my $i=0;\n  for ($i=1;$i&lt;=$len;$i++) {\n    push (@enumArray, \"$prefix.$a[$i]\");  \n  }\n  use enum (@enumArray);\n}\n\nmyenum(\":THIS a=100 b c\");\n\nuse enum qw(:THAT a=999 b c);\n\nprint THISa . \" \" . THISb . \" \" . THISc . \"\\n\";\nprint THATa . \" \" . THATb . \" \" . THATc . \"\\n\";\n</code></pre>\n"}, {"tags": ["mysql", "apache", "perl", "mariadb", "my.cnf"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444243295, "post_id": 32998534, "comment_id": 53824628, "body": "Can you edit the output of the following into your question? <code>ls -dl &#47;var</code>, <code>ls -dl &#47;var&#47;path</code>, <code>ls -l &#47;var&#47;path&#47;dbA.cnf</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444243588, "post_id": 32998534, "comment_id": 53824816, "body": "Also, are you using the same version of MariaDB on the system where this works? I use the same method to connect to MariaDB 5.5.41 on CentOS 7 without issue (and it worked on MySQL 5.1 before we switched to MariaDB). Turn on <a href=\"https://metacpan.org/pod/DBI#TRACING\" rel=\"nofollow noreferrer\">DBI tracing</a> with the <code>CON</code> flag to trace the connection process and edit the results into your question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444244312, "post_id": 32998534, "comment_id": 53825267, "body": "You showed that it doesn&#39;t work, and you showed a workaround. I&#39;m not sure what else you want."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444251172, "post_id": 32998534, "comment_id": 53829325, "body": "@ikegami Sorry, my comment wasn&#39;t clear. The username in the config file is used <i>unless</i> the file can&#39;t be read, in which case the process owner&#39;s uid is used."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444251303, "post_id": 32998534, "comment_id": 53829392, "body": "@ThisSuitIsBlackNot, Again, I don&#39;t know on what you are basing that, but my answer was definitely not on the right track if it&#39;s a permission issue."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444251779, "post_id": 32998534, "comment_id": 53829629, "body": "@ikegami I&#39;m basing it on testing on my own system. I&#39;m just guessing about the permissions issue, but I&#39;m able to reproduce the OP&#39;s issue by removing read access from the config file and disabling anonymous connections."}, {"owner": {"reputation": 342, "user_id": 2038089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b63f7e356acc7018e0c5c57bbf632532?s=128&d=identicon&r=PG", "display_name": "Ahmad Bilal", "link": "https://stackoverflow.com/users/2038089/ahmad-bilal"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444269026, "post_id": 32998534, "comment_id": 53835288, "body": "@ThisSuitIsBlackNot  a) Regarding your first TWO comments, let me get back to you on that in a few hours. b) Regarding your 3rd Comment (in answer to ikegami) I felt the same way as well.. perhaps its a permission issue, but as I mentioned, I tried changing the permissions as well, to no avail. Btw, I&#39;m also aware that if I had given it 604 or 605 type of permission, it wouldn&#39;t have worked because of the Unix security rule that cnf files must not be readable by world."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444326316, "post_id": 32998534, "comment_id": 53867623, "body": "@AhmadBilal That&#39;s why I asked you to show the output of <code>ls</code> on all of the directories in the path to <code>&#47;var&#47;path&#47;dbA.cnf</code>. If the execute bit isn&#39;t set on any one of those directories, the apache user won&#39;t be able to access the file, even if the file itself has 777 permissions. Also, MySQL/MariaDB don&#39;t do anything different with world-readable files, so it doesn&#39;t matter to the database server if you set it to 600 or 644, as long as apache has read access. Obviously you should restrict the permissions as much as possible, though."}, {"owner": {"reputation": 342, "user_id": 2038089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b63f7e356acc7018e0c5c57bbf632532?s=128&d=identicon&r=PG", "display_name": "Ahmad Bilal", "link": "https://stackoverflow.com/users/2038089/ahmad-bilal"}, "edited": false, "score": 0, "creation_date": 1444819422, "post_id": 32998534, "comment_id": 54059045, "body": "ls is working fine (sorry was away). on every step of the path. BTW permissions do matter on the file itself.   <code>Note : (From dev.mysql.com) On Unix platforms, MySQL ignores configuration files that are worldwritable. This is intentional as a security measure.</code>"}, {"owner": {"reputation": 342, "user_id": 2038089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b63f7e356acc7018e0c5c57bbf632532?s=128&d=identicon&r=PG", "display_name": "Ahmad Bilal", "link": "https://stackoverflow.com/users/2038089/ahmad-bilal"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444824636, "post_id": 32998534, "comment_id": 54062225, "body": "@ThisSuitIsBlackNot It seems the problem is the change in how cnf files are handled. The MariaDB 10.0.21 is equivalent to Mysql 5.6, and since 5.6, there has been a major change in how option files (cnf) are handled.<a href=\"http://dev.mysql.com/doc/refman/5.6/en/option-files.html\" rel=\"nofollow noreferrer\">dev notes</a>"}], "owner": {"reputation": 342, "user_id": 2038089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b63f7e356acc7018e0c5c57bbf632532?s=128&d=identicon&r=PG", "display_name": "Ahmad Bilal", "link": "https://stackoverflow.com/users/2038089/ahmad-bilal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1444844609, "creation_date": 1444238320, "question_id": 32998534, "link": "https://stackoverflow.com/questions/32998534/apache-not-reading-or-using-cnf-files-with-mariadb-perl", "title": "Apache not reading or using cnf files with MariaDB (PERL)", "body": "<p>My OS: CentOS 7</p>\n\n<p>MariaDB: 10.0.21</p>\n\n<p>I have been having problem using cnf files (Though I used them before without problem on a different system). I keep getting the following type of error on my query:</p>\n\n<pre><code>failed: Access denied for user 'apache'@'localhost' (using password: NO)\n</code></pre>\n\n<p>here is my code snippet:</p>\n\n<pre><code>my $dsn = \"dbi:mysql:databaseA;\" . \"mysql_read_default_file=/var/path/dbA.cnf;\" ;\n\nmy $dbh = DBI-&gt;connect($dsn, undef, undef, \n                    {RaiseError =&gt; 1, AutoCommit =&gt; 0}) or die $DBI::errstr;\n</code></pre>\n\n<p>But when I don't use cnf files and put the user name in the dbh line manually, it works just fine. </p>\n\n<p>My cnf file looks like this:</p>\n\n<pre><code>[client]\nhost = localhost\ndatabase = databaseA\nuser = MyAdmin\npassword = Mypassword\n</code></pre>\n\n<p>If I look at it loosely, why is apache trying to connect using its own creds instead of those given in the cnf file (which are working at command line as well)? </p>\n\n<p>And yes I have tried giving the cnf file 550, 500, 600 and 650 permissions. But none worked. I'm at a impasse.                                                                                                 </p>\n"}, {"tags": ["perl", "postgresql", "timeout", "dbi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1444237220, "post_id": 32997627, "comment_id": 53821126, "body": "Is the <code>timeout</code> attribute documented anywhere, or did you just guess and hope that it would work?"}, {"owner": {"reputation": 31, "user_id": 5043996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BABnucESsKE/AAAAAAAAAAI/AAAAAAAABcI/3xNI01xVeFA/photo.jpg?sz=128", "display_name": "Gabriel Sousa", "link": "https://stackoverflow.com/users/5043996/gabriel-sousa"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1444237964, "post_id": 32997627, "comment_id": 53821543, "body": "i guess that, dont give any error, but dont work :("}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1444358949, "post_id": 32997627, "comment_id": 53880363, "body": "Does setting the value through an environment variable achieve what you want? See my response below and <a href=\"http://www.postgresql.org/docs/9.1/static/libpq-envars.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/9.1/static/libpq-envars.html</a> - the postgreSQL client libraries (<code>libpq</code>) have several ways of adjusting configuration settings that might not always be exposed in the application language binding."}], "answers": [{"comments": [{"owner": {"reputation": 434, "user_id": 2886599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca85842899a1a937218599a7e24234e?s=128&d=identicon&r=PG&f=1", "display_name": "Heto", "link": "https://stackoverflow.com/users/2886599/heto"}, "reply_to_user": {"reputation": 31, "user_id": 5043996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BABnucESsKE/AAAAAAAAAAI/AAAAAAAABcI/3xNI01xVeFA/photo.jpg?sz=128", "display_name": "Gabriel Sousa", "link": "https://stackoverflow.com/users/5043996/gabriel-sousa"}, "edited": false, "score": 1, "creation_date": 1444334138, "post_id": 32999500, "comment_id": 53872130, "body": "in what way didn&#39;t work? didn&#39;t work is not good enough for debugging an issue :)"}, {"owner": {"reputation": 31, "user_id": 5043996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BABnucESsKE/AAAAAAAAAAI/AAAAAAAABcI/3xNI01xVeFA/photo.jpg?sz=128", "display_name": "Gabriel Sousa", "link": "https://stackoverflow.com/users/5043996/gabriel-sousa"}, "edited": false, "score": 0, "creation_date": 1444335080, "post_id": 32999500, "comment_id": 53872630, "body": "i set the timeout to 5 seconds, and did not timeout on 5 seconds :("}, {"owner": {"reputation": 434, "user_id": 2886599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca85842899a1a937218599a7e24234e?s=128&d=identicon&r=PG&f=1", "display_name": "Heto", "link": "https://stackoverflow.com/users/2886599/heto"}, "reply_to_user": {"reputation": 31, "user_id": 5043996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BABnucESsKE/AAAAAAAAAAI/AAAAAAAABcI/3xNI01xVeFA/photo.jpg?sz=128", "display_name": "Gabriel Sousa", "link": "https://stackoverflow.com/users/5043996/gabriel-sousa"}, "edited": false, "score": 0, "creation_date": 1444342630, "post_id": 32999500, "comment_id": 53875962, "body": "Let  me understand: you want to have a connection that exists for 5 seconds and after that you want to close that connection? Because I don&#39;t get &quot;did not timeout&quot;. If the connection succeed you won&#39;t have a timeout. Can you, please be more explicit in what you want to achieve?"}, {"owner": {"reputation": 434, "user_id": 2886599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca85842899a1a937218599a7e24234e?s=128&d=identicon&r=PG&f=1", "display_name": "Heto", "link": "https://stackoverflow.com/users/2886599/heto"}, "reply_to_user": {"reputation": 31, "user_id": 5043996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BABnucESsKE/AAAAAAAAAAI/AAAAAAAABcI/3xNI01xVeFA/photo.jpg?sz=128", "display_name": "Gabriel Sousa", "link": "https://stackoverflow.com/users/5043996/gabriel-sousa"}, "edited": false, "score": 0, "creation_date": 1444345905, "post_id": 32999500, "comment_id": 53877116, "body": "See my later edit, I&#39;ve tried and seems to work, see if you can integrate this idea with what you need."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1444406697, "post_id": 32999500, "comment_id": 53906163, "body": "++ though I think alarn() has issues on Windows platforms. Are you able to compare the effectiveness of the &quot;in application&quot; perl approach with the postgres client library configuration and environment settings way of doing this (as described in the second part of my post)?"}, {"owner": {"reputation": 434, "user_id": 2886599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca85842899a1a937218599a7e24234e?s=128&d=identicon&r=PG&f=1", "display_name": "Heto", "link": "https://stackoverflow.com/users/2886599/heto"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1444427128, "post_id": 32999500, "comment_id": 53916179, "body": "@G.Cito: appears that alarm() has some problems on Windows: <a href=\"http://stackoverflow.com/questions/10204637/why-doesnt-die-in-alarm-signal-handler-kill-the-process\" title=\"why doesnt die in alarm signal handler kill the process\">stackoverflow.com/questions/10204637/&hellip;</a>. In my opinion your answer is correct, the best way to ensure a timeout is from postgres config, the problem may arise when you are not the administrator of the database and you need the timeout &quot;in application&quot;."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1444917638, "post_id": 32999500, "comment_id": 54110576, "body": "Good point. If you are a shipping an application you&#39;d want that control. Setting <code>$ENV{ PGCONNECT_TIMEOUT }</code> might be the solution there but right now I&#39;m unable to test whether is has the desired effect. Cheers."}], "tags": [], "owner": {"reputation": 434, "user_id": 2886599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca85842899a1a937218599a7e24234e?s=128&d=identicon&r=PG&f=1", "display_name": "Heto", "link": "https://stackoverflow.com/users/2886599/heto"}, "is_accepted": false, "score": 2, "last_activity_date": 1444427328, "last_edit_date": 1495540328, "creation_date": 1444241496, "answer_id": 32999500, "question_id": 32997627, "link": "https://stackoverflow.com/questions/32997627/setting-a-timeout-for-dbdpg-database-connection/32999500#32999500", "title": "Setting a timeout for DBD::Pg database connection", "body": "<p>Maybe you can use alarm for that.</p>\n\n<pre><code>local $SIG{ALRM} = sub { print \"timeout occurred\\n\" }; # NB: \\n required \nalarm $timeout; # set your value here \nmy $dbh = DBI-&gt;connect($db, $db_user, $db_pass);\nalarm 0;\n</code></pre>\n\n<p>See more on:\n<a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/functions/alarm.html</a></p>\n\n<p>Later Edit:</p>\n\n<p>this seems to work, please see if it what you need:</p>\n\n<pre><code>use DBI;\n\nmy $timeOut = 5;\n$SIG{ALRM} = \\&amp;timeout;\n$SIG{CHLD} = 'IGNORE',\nalarm($timeOut);\n\nmy $pid = fork();\nif ($pid) { # Parent\n   print \"Started child process id: $pid\\n\";\n} elsif ($pid == 0) { # Child\n  my $dbh = DBI-&gt;connect($db, $db_user, $db_pass);\n} else { # Unable to fork\n   die \"ERROR: Could not fork new process: $!\\n\\n\";\n}\n\nwaitpid ($pid, 0);\nalarm(0);\n\nsub timeout {\n     print \"timeout occured\";\n     kill 9, $pid;\n}\n</code></pre>\n\n<p>Second edit:\nThe main problem you have with alarm can be if you are using Windows. \nSee <a href=\"https://stackoverflow.com/questions/10204637/why-doesnt-die-in-alarm-signal-handler-kill-the-process\">Why doesn&#39;t die in alarm signal handler kill the process?</a></p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1445010444, "last_edit_date": 1495541029, "creation_date": 1444245967, "answer_id": 33000782, "question_id": 32997627, "link": "https://stackoverflow.com/questions/32997627/setting-a-timeout-for-dbdpg-database-connection/33000782#33000782", "title": "Setting a timeout for DBD::Pg database connection", "body": "<p>There is no way to do this using the constructor as far as I know.  However this can be done using PostgreSQL client configuration parameters - you can use configuration files or environment variables to change your connection settings.</p>\n\n<p>Generally speaking, <a href=\"https://metacpan.org/pod/DBD::Pg#connect\" rel=\"nofollow noreferrer\"><code>DBD::Pg</code></a> does allow for a lot of \"transparent\" timeout handling through the use of connection and query caching.  An example of this sort approach is the <a href=\"https://metacpan.org/pod/Mojolicious\" rel=\"nofollow noreferrer\">Mojolicious</a> and <code>DBD::Pg</code> based <a href=\"https://metacpan.org/pod/Mojo::Pg\" rel=\"nofollow noreferrer\"><code>Mojo::Pg</code></a> module.</p>\n\n<h2>Setting <code>connect_timeout</code> in PostgreSQL Client Configuration</h2>\n\n<p><strong>NB:</strong> You can also use an environment variable or the <code>service</code> parameter  (see the <a href=\"https://metacpan.org/pod/DBD::Pg#connect\" rel=\"nofollow noreferrer\"><code>DBD::Pg</code> documentation</a>) to refer your connection handle to the <a href=\"http://www.postgresql.org/docs/9.0/interactive/libpq-pgservice.html\" rel=\"nofollow noreferrer\"><code>pg_service.conf</code> file</a> while calling your constructor. Using the <code>service</code> parameter or <code>$PGSERVICE</code> you can adjust timeout values in that configuration file. The <code>pg_service.conf</code> file is a system wide or user specific file which can set values for specific PostgreSQL \"services\". </p>\n\n<p>You can set <a href=\"http://www.postgresql.org/docs/9.0/interactive/libpq-connect.html\" rel=\"nofollow noreferrer\"><code>connect_timeout</code></a> value for example. This latter approach should work for any client libraries linked against <code>libpq</code>.  I'm not certain how <code>DBD::Pg</code> uses the values set there or whether they can be made available to <code>DBI</code> applications. It's also not clear this is what you want. </p>\n\n<p>You might try looking at any available code for existing <code>DBD::Pg</code> perl applications to see how other developers have dealt with timeouts and database connections.  Django, PHP and possibly other languages which use <code>libpq</code> to connect to PostgreSQL are able to use <a href=\"http://www.postgresql.org/docs/9.1/static/libpq-envars.html\" rel=\"nofollow noreferrer\"><code>PGCONNECT_TIMEOUT</code></a> environment variable directly. Setting this in your shell or via <code>$ENV{PGCONNECT_TIMEOUT}</code> may work in your case as well.</p>\n\n<hr>\n\n<h2>\"Timeouts\" in your application</h2>\n\n<p>If you want to control how your application attempts to reestablish a connections to the database when it becomes unavailable, or if you want to stop trying to connect (say at startup time) if the database server is not responding, then setting <code>{ RaiseError=&gt;1 }</code> and using <code>eval</code> and <code>alarm</code> (see the <a href=\"https://metacpan.org/pod/DBI#Timeout\" rel=\"nofollow noreferrer\"><code>DBI</code> \"Timeout\" documentation</a>) to check for errors from within your application - as <a href=\"https://stackoverflow.com/users/2886599/heto\">@Heto</a> suggests, is the standard approach - at least <strong>on UNIX platforms</strong>. </p>\n\n<p>For simple startup timeout you could do something like:</p>\n\n<pre><code>use DBI;\n\nsub dbh_connect { \n  my $dbh = DBI-&gt;connect(\"dbi:Pg:dbname=test\", '', '',); \n}\n\nmy $timeout = 5;\nmy $time    = time + $timeout;\nwhile ( ! dbh_connect() ) { \n   say \"connecting\"; \n   sleep 1;\n   if ( time &gt;= $time ) { \n     die \"unable to connect after $timeout seconds\" ;  \n   } \n}\n</code></pre>\n\n<p>and avoid delving into signals. While your application is running you can check on the connection <em>manually</em> with a minimal test query:</p>\n\n<pre><code>if ( ! $dbh-&gt;ping ) { print \"Unable to connect to database\\n\" } ;\n</code></pre>\n\n<p>If you want to periodically check that your connection is up and working, then the <a href=\"https://metacpan.org/pod/DBD::Pg#ping\" rel=\"nofollow noreferrer\"><code>$dbh-&gt;ping</code></a> and <a href=\"https://metacpan.org/pod/DBD::Pg#pg_ping\" rel=\"nofollow noreferrer\"><code>$dbh-&gt;pg_ping</code></a> functions are both useful. </p>\n"}], "owner": {"reputation": 31, "user_id": 5043996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BABnucESsKE/AAAAAAAAAAI/AAAAAAAABcI/3xNI01xVeFA/photo.jpg?sz=128", "display_name": "Gabriel Sousa", "link": "https://stackoverflow.com/users/5043996/gabriel-sousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3020, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1445010444, "creation_date": 1444235290, "last_edit_date": 1445010037, "question_id": 32997627, "link": "https://stackoverflow.com/questions/32997627/setting-a-timeout-for-dbdpg-database-connection", "title": "Setting a timeout for DBD::Pg database connection", "body": "<p>I have tried this in my Perl code, but the <code>timeout</code> doesn't work:</p>\n\n<pre><code> my $dbh = DBI-&gt;connect($db, $db_user, $db_pass,{ timeout =&gt; 5 });\n</code></pre>\n\n<p>I want to set a timeout on the connection to a postgresql database: how can I do that ?</p>\n"}, {"tags": ["perl", "text", "hash"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444241140, "post_id": 32997640, "comment_id": 53823386, "body": "Excellent ! Thank you very much . I had written a long program using regex for this as i had problems limiting the number of chunks....."}], "tags": [], "owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "is_accepted": false, "score": 1, "last_activity_date": 1444235333, "creation_date": 1444235333, "answer_id": 32997640, "question_id": 32997204, "link": "https://stackoverflow.com/questions/32997204/turn-a-text-file-with-2-columns-into-perl-hash/32997640#32997640", "title": "turn a text file with 2 columns into Perl hash", "body": "<p>The key problem here is correctly skipping the repeating names. One possible approach:</p>\n\n<pre><code>my $name;\nwhile ( &lt;FILE1&gt; ) { \n  chomp; \n  my @row = split /\\s+/, $_, 2;\n  next if $row[0] eq 'StudentName';\n  $name = $row[0] unless $row[0] eq '';\n  push @{ $hash{$name} }, $row[1];\n}\n</code></pre>\n\n<p>Here I used three-param form of <code>split</code> to limit the number of chunks, skipped <code>StudentName</code> row with <code>next</code>, filled <code>$name</code> only if the row begins with a non-whitespace symbol.</p>\n\n<p>Note that due to autovivification you don't have to pre-create lists for each particular record - pushing will create the corresponding data structure automatically.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444241322, "post_id": 32997647, "comment_id": 53823488, "body": "Hi Sobrique, what is $header_line = &lt;&gt;; ? do you want me to put the file handle inside while condition?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 0, "creation_date": 1444241595, "post_id": 32997647, "comment_id": 53823635, "body": "Yes, if you like. But that is the magic file handle, which either reads STDIN or files specified on command line. But a normal one should work just the same."}, {"owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "edited": false, "score": 1, "creation_date": 1444241969, "post_id": 32997647, "comment_id": 53823863, "body": "Oh ok I didn&#39;t know this before. Thank you. I passed my input text file name in command prompt and your program worked perfectly."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1444235346, "creation_date": 1444235346, "answer_id": 32997647, "question_id": 32997204, "link": "https://stackoverflow.com/questions/32997204/turn-a-text-file-with-2-columns-into-perl-hash/32997647#32997647", "title": "turn a text file with 2 columns into Perl hash", "body": "<p>Problem you've got is your <code>while</code> loop iterates based on line feeds. On the first line - you have a student name, but the next line you don't.</p>\n\n<p>So I'd suggest that what you want to do is instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %addresses;\nmy $current_student_name;\n\nmy $header_line = &lt;&gt;;\n\nwhile (&lt;&gt;) {\n    my $address_line;\n    if (m/^\\w/) {\n        ( $current_student_name, $address_line ) = m/^(\\w+)\\s*(.*)/;\n    }\n    else {\n        ($address_line) = m/^\\s*(.*)/;\n    }\n    push( @{ $addresses{$current_student_name} }, $address_line );\n}\n\nprint Dumper \\%addresses;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 3203239, "user_type": "registered", "profile_image": "https://graph.facebook.com/1807593297/picture?type=large", "display_name": "user3203239", "link": "https://stackoverflow.com/users/3203239/user3203239"}, "edited": false, "score": 0, "creation_date": 1444235932, "post_id": 32997781, "comment_id": 53820328, "body": "Opps. Spitting must be fail but it&#39;s easy to fix."}], "tags": [], "owner": {"reputation": 79, "user_id": 3203239, "user_type": "registered", "profile_image": "https://graph.facebook.com/1807593297/picture?type=large", "display_name": "user3203239", "link": "https://stackoverflow.com/users/3203239/user3203239"}, "is_accepted": false, "score": 0, "last_activity_date": 1444235795, "creation_date": 1444235795, "answer_id": 32997781, "question_id": 32997204, "link": "https://stackoverflow.com/questions/32997204/turn-a-text-file-with-2-columns-into-perl-hash/32997781#32997781", "title": "turn a text file with 2 columns into Perl hash", "body": "<p>If I get it right, this may be a solution.</p>\n\n<pre><code>my $prev_name;\nwhile ( &lt;FILE1&gt; ) { \n    chomp $_; \n    my ( $name, $address ) = split /\\s+/, $_, 2;\n    $hash{$prev_name = $name} ||= [] if $name;\n    push($hash{$name || $prev_name}, $address);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5376684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/72d8ec43f6808e4bfd46e2778c28bdc4?s=128&d=identicon&r=PG&f=1", "display_name": "Perl", "link": "https://stackoverflow.com/users/5376684/perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "accepted_answer_id": 32997647, "answer_count": 3, "score": -1, "last_activity_date": 1444235795, "creation_date": 1444233986, "last_edit_date": 1444234202, "question_id": 32997204, "link": "https://stackoverflow.com/questions/32997204/turn-a-text-file-with-2-columns-into-perl-hash", "title": "turn a text file with 2 columns into Perl hash", "body": "<p>Following is my INPUT Text File </p>\n\n<pre><code>StudentName                                       Address\nBoris                                             Vietnam\nHenry                                             Ukrine\nSarah                                             Road/47\n                                                  Turkey\nJohn                                              NewsLand \n                                                  now local\nBoris                                             now local\nKaren                                             4th/floor\n                                                  WestHam/Apartments\n                                                  Culverdown/Street\n                                                  WestHam\n                                                  UK\n</code></pre>\n\n<p>To convert the above into hash I have tried following (Ofcourse it doesnot work at all)</p>\n\n<pre><code>use strict; use warnings; use Data::Dumper;\n\nmy $out1 = \"Sample.txt\"; my %hash;\n\n\nopen FILE1, \"&lt;\", $out1 or die \"$!\\n\"; \nwhile ( &lt;FILE1&gt; ) { \n  chomp $_; \n  my ( $name, $address ) = split '\\t', $_; \n  $hash{$name} = [$address];\n  push @{ $hash{$name} }, $_; \n}\n\nclose FILE1;\n\nprint \"ResultHash\".Dumper(\\%hash);\n</code></pre>\n\n<p>Can some one please suggest how to convert the above text file to hash .left columns would be keys right one would be columns. \nNote: I have all the unique key values with me from the register so I can use them as keys aswell. then i need to convert these 2 columns to values.one will be just studentname scalar and other will be address as an array.</p>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1444237944, "post_id": 32997216, "comment_id": 53821527, "body": "Just out of curiosity how do you handle case like this :       my $testing = &#39;EmailId=learner.here@stackoverflow.com&amp;passWord=mypassword1&zwnj;&#8203;23,someOtherId=its Value&#39;;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1444238291, "last_edit_date": 1444238291, "creation_date": 1444234018, "answer_id": 32997216, "question_id": 32997086, "link": "https://stackoverflow.com/questions/32997086/replacing-string-value-in-perl/32997216#32997216", "title": "replacing string value in perl", "body": "<pre><code>$testing =~ s/\\bpassWord=\\K.*(?=.)/****/s;\n</code></pre>\n\n<p>If the password isn't always found at the end of the string, some adjustment will be needed. For example, the following handles the case where the password can be ended by <code>,</code>.</p>\n\n<pre><code>$testing =~ s/[&amp;,]passWord=\\K[^,]*(?=[^,])/****/s;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1444237923, "post_id": 32997404, "comment_id": 53821514, "body": "this works perfectly fine, but i can see from comments to my question that in case if password is not the last character of the line what happens in those case and so on."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1444237927, "post_id": 32997404, "comment_id": 53821515, "body": "Just out of curiosity how do you handle case like this :       my $testing = &#39;EmailId=learner.here@stackoverflow.com&amp;passWord=mypassword1&zwnj;&#8203;23,someOtherId=its Value&#39;;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1444238312, "post_id": 32997404, "comment_id": 53821736, "body": "It&#39;s kind of strange to have different delimiters throughout the same string, but just change <code>[^&amp;]</code> to <code>[^,]</code>."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1444234575, "creation_date": 1444234575, "answer_id": 32997404, "question_id": 32997086, "link": "https://stackoverflow.com/questions/32997086/replacing-string-value-in-perl/32997404#32997404", "title": "replacing string value in perl", "body": "<p>This will replace the original value with the correct number of asterisks, except for the last character:</p>\n\n<pre><code>$testing =~ s/passWord=([^&amp;]+)/'passWord=' . ('*' x (length($1) - 1)) . substr($1, -1)/e;\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 32997404, "answer_count": 2, "score": 1, "last_activity_date": 1444238291, "creation_date": 1444233679, "last_edit_date": 1444238130, "question_id": 32997086, "link": "https://stackoverflow.com/questions/32997086/replacing-string-value-in-perl", "title": "replacing string value in perl", "body": "<p>I am having a string like below:</p>\n\n<pre><code>my $testing = 'EmailId=learner.here@stackoverflow.com&amp;passWord=mypassword123';\n</code></pre>\n\n<p>in my Perl code all I want to do is take this value as input and replace the value of passWord with something like <code>****3</code> (where <code>3</code> is the last character of the actual password);\nthat is final output is:</p>\n\n<pre><code>\"EmailId=learner.here@stackoverflow.com&amp;passWord=****3\"\n</code></pre>\n\n<p>I am able to produce the output like above in Perl using following approach:</p>\n\n<pre><code>my $testing = 'EmailId=learner.here@stackoverflow.com&amp;passWord=mypassword123';\nmy ( $val, $val1) = split( 'passWord=', $testing );\nmy $string =  $with_this . substr($val1,length($val1) - 1);\nprint \"\\n\" . $val . 'passWord=' . $string . \"\\n\";\n</code></pre>\n\n<p>Can someone help me understand if this is right approach or how can this be made better.\nIt works fine but I still there should be some easy way to do this using regular expression or something else.</p>\n\n<ol>\n<li>Made code better or do it in less complicated way</li>\n<li>Handle condition if actual value did not even exit</li>\n<li>Or any other suggestions</li>\n</ol>\n\n<p>I am new bee to programming, so did my research and came up with solution I mentioned above.\nLet me know if you have any questions.</p>\n"}, {"tags": ["perl", "awk", "printing", "sed", "pattern-matching"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444230724, "post_id": 32995911, "comment_id": 53816593, "body": "Those look like <code>XML</code> tags. Are they?"}, {"owner": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444230990, "post_id": 32995911, "comment_id": 53816815, "body": "@Sobrique : No :) It&#39;s just an output file of a code, that I want to manipulate!"}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1444231253, "post_id": 32995911, "comment_id": 53817015, "body": "Which numbers do you want to print? Please specify the output that you expect."}, {"owner": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "reply_to_user": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1444231360, "post_id": 32995911, "comment_id": 53817119, "body": "@skmrx : I&#39;d to print the massive block of numbers"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1444233027, "last_edit_date": 1444233027, "creation_date": 1444230838, "answer_id": 32996023, "question_id": 32995911, "link": "https://stackoverflow.com/questions/32995911/print-between-patterns-awk/32996023#32996023", "title": "Print between patterns -awk", "body": "<p>In perl (because whilst you start with <code>awk</code>, this is tagged as <code>perl</code> too):</p>\n\n<pre><code>perl -ne 'print if m/post-neutron/...m/A_TKE/' input\n</code></pre>\n\n<p>Which will do what your thingy was trying to. </p>\n\n<p>It works by using the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\"><code>range operator</code></a> - which is a perl construct which tests if the current file is between two markers. </p>\n\n<p>And the fact that <code>perl</code> can run inline in the same way as <code>awk</code> or <code>sed</code>. <code>-ne</code> says \"wrap this code in a while loop\" that iterates a line at a time. (e.g. as <code>sed</code>/<code>awk</code>/<code>grep</code> do by default). </p>\n\n<p>Otherwise ... it depends a little on what <em>else</em> is in your file. Because from the sample you gave - the only lines starting with a number are the ones you want.  So:</p>\n\n<pre><code>perl -ne 'print if m/^\\s*\\d+\\s*\\d+/'\n</code></pre>\n\n<p>(Or combine the two tests:</p>\n\n<pre><code>perl -ne 'print if m/post-neutron/...m/A_TKE/ and m/^\\s*\\d+\\s*\\d+/'\n</code></pre>\n\n<p>Which will output anything between the two text markers that has number-space-number at the start of line. </p>\n"}, {"comments": [{"owner": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "edited": false, "score": 0, "creation_date": 1444231594, "post_id": 32996205, "comment_id": 53817323, "body": "Thank you for your answer. The problem is that the file that I attached, is part of a bigger file which contains <code>&lt;A-TKE&gt;</code>. So the difference is just this slash, therefore I think it&#39;s necessary"}, {"owner": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "edited": false, "score": 0, "creation_date": 1444232598, "post_id": 32996205, "comment_id": 53818096, "body": "I run awk &#39; ///A_TKE/{exit}flag{print} /--- A-TKE spectrum .post-neutron.---/{flag=1}&#39; but I get a syntax error at <code>{exit}</code>"}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "reply_to_user": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "edited": false, "score": 0, "creation_date": 1444237355, "post_id": 32996205, "comment_id": 53821213, "body": "Ah, of course I didn&#39;t know about the earlier flag.  In your comment, your awk script starts with <code>&#47;&#47;&#47;A_TKE&#47;</code>.  Shouldn&#39;t that be <code>&#47;\\&#47;A_TKE&#47;</code>?  The backslash &quot;escapes&quot; the forward slash which would otherwise be interpreted as a regex delimiter. Also, what OS are you running and/or what version of Awk?"}, {"owner": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "edited": false, "score": 0, "creation_date": 1444284727, "post_id": 32996205, "comment_id": 53839890, "body": "Yes you are right. I am running <code>Ubuntu 12.041 and my </code>awk` version is <code>3.1.8</code>."}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "reply_to_user": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "edited": false, "score": 0, "creation_date": 1444286085, "post_id": 32996205, "comment_id": 53840528, "body": "@Thanos, I&#39;ve improve the end-marker detection and added another condition to the second expression in the script.  With this version, only the lines with 50 fields (as delimited by whitespace) get printed. Also, for reference, you are not using <code>awk</code>, you&#39;re actually using <code>gawk</code> (GNU awk). Gawk has a number of extra features that traditional awk is missing (though nothing we need to solve your issue)."}], "tags": [], "owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "is_accepted": false, "score": 3, "last_activity_date": 1444285963, "last_edit_date": 1444285963, "creation_date": 1444231296, "answer_id": 32996205, "question_id": 32995911, "link": "https://stackoverflow.com/questions/32995911/print-between-patterns-awk/32996205#32996205", "title": "Print between patterns -awk", "body": "<p>Your awk script is almost there.  I'd build it like this:</p>\n\n<pre><code>awk '\n  /&lt;\\/A_TKE&gt;/ {exit}\n  flag &amp;&amp; NF==50 {print} \n  /--- A-TKE spectrum .post-neutron.---/ {flag=1}\n' input\n</code></pre>\n\n<p>You could optimize it of course, but just looking at the logic of it, the idea is that you need do no further processing once you hit your end marker .. and you only want to start printing AFTER your start marker.</p>\n\n<p>Note that I've replaced the brackets in your start marker with dots, since brackets are interpreted as PART OF THE REGULAR EXPRESSION. I believe you may be considering these simple strings to search for, but they are regex.</p>\n"}, {"comments": [{"owner": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "edited": false, "score": 0, "creation_date": 1444232012, "post_id": 32996407, "comment_id": 53817668, "body": "I dindn&#39;t mention it in my initial question, but this is just a part of a bigger file that contains more number blocks, therefore I think I have to stick with patterns"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1444239839, "last_edit_date": 1444239839, "creation_date": 1444231846, "answer_id": 32996407, "question_id": 32995911, "link": "https://stackoverflow.com/questions/32995911/print-between-patterns-awk/32996407#32996407", "title": "Print between patterns -awk", "body": "<p>If you want to extract rows with just numbers</p>\n\n<pre><code> awk 'NF &amp;&amp; !/[a-zA-Z\\-]+/' input.file\n</code></pre>\n\n<p>will generate</p>\n\n<pre><code> 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 1 1 0 0 0 1 0 0 2 0 0 1 0 0 0 0\n</code></pre>\n\n<p>with patterns and smart counters you can write it as</p>\n\n<pre><code>awk   '/\\/A_TKE/{exit} \n       f&amp;&amp;s&amp;&amp;s--{next} \n           f&amp;&amp;NF{print} \n/A-TKE spectrum/{f=1;s=7}' input.file\n</code></pre>\n\n<p>fine tune patterns as you like.</p>\n"}, {"tags": [], "owner": {"reputation": 4122, "user_id": 2869795, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fMYyR.jpg?s=128&g=1", "display_name": "Kalanidhi", "link": "https://stackoverflow.com/users/2869795/kalanidhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1444232933, "creation_date": 1444232933, "answer_id": 32996805, "question_id": 32995911, "link": "https://stackoverflow.com/questions/32995911/print-between-patterns-awk/32996805#32996805", "title": "Print between patterns -awk", "body": "<p>Try this simple <code>sed</code> command </p>\n\n<pre><code>sed -n '/A-TKE/,/&lt;\\/A_TKE&gt;/p' FileName\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 4097869, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5wABvGNIyhg/AAAAAAAAAAI/AAAAAAAAC4Q/azDWArOq8vg/photo.jpg?sz=128", "display_name": "repic", "link": "https://stackoverflow.com/users/4097869/repic"}, "is_accepted": false, "score": 2, "last_activity_date": 1444233081, "creation_date": 1444233081, "answer_id": 32996870, "question_id": 32995911, "link": "https://stackoverflow.com/questions/32995911/print-between-patterns-awk/32996870#32996870", "title": "Print between patterns -awk", "body": "<p><strong>Some working ideas</strong></p>\n\n<p>Awk can print between two matching lines with this simple command:</p>\n\n<pre><code>awk '/PATTERN1/,/PATTERN2/' file.txt\n</code></pre>\n\n<p>If you want more control over what happens when the lines are found, you can use the flag approach.</p>\n\n<pre><code>awk '/A-TKE/{f=1;for (i=0;i&lt;7;i++){getline}}/A_TKE/{f=0}f' file.txt \n</code></pre>\n\n<p>Adjust <code>i&lt;7</code> to specify how many lines you would like to skip.</p>\n\n<p>Also, in this particular case, you can exploit the fact that you have 50 fields of numbers, which is unlikely to occur anywhere else in the file. Thus, you could also get the numbers of interest out with:</p>\n\n<pre><code>awk 'NF&gt;40' file.txt\n</code></pre>\n\n<p><code>NF</code> is a special awk variable that stores the number of fields (columns) in the current record (line).</p>\n\n<p><strong>Why your approach does not work</strong></p>\n\n<p>Your approach does not work, because everything that is between <code>//</code> in awk is treated as a regular expression. In your case you have several <code>-</code> and <code>()</code> in the string, which are not escaped, and thus assume their special meaning and therefore the expression you typed never matches, thus the flag is never set to 1 and awk does not print a line.</p>\n"}], "owner": {"reputation": 572, "user_id": 1708303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e44bb6c9fc739c162da56e8752374ca8?s=128&d=identicon&r=PG", "display_name": "Thanos", "link": "https://stackoverflow.com/users/1708303/thanos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1444285963, "creation_date": 1444230477, "last_edit_date": 1444232259, "question_id": 32995911, "link": "https://stackoverflow.com/questions/32995911/print-between-patterns-awk", "title": "Print between patterns -awk", "body": "<p>I have the following input file</p>\n\n<pre><code>-------------------------------------\n--- A-TKE spectrum (post-neutron)---\n-------------------------------------\n\n2-dim. array: (A =  73 To  162 Step 1) (E =  122 To  198 Step 1)\n\n(The data are written according to the loop structure specified above.\nThe last loop is the inner-most one. Line breaks are not related to the data structure!\n\n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 1 1 0 0 0 1 0 0 2 0 0 1 0 0 0 0 \n\n\n    &lt;/A_TKE&gt;\n  &lt;/Results&gt;\n</code></pre>\n\n<p>This file is part of a bigger file, which contains more number block similar to the above one.</p>\n\n<p>What I want to do is print in a seperate file the numbers that are within the file. As a first try, I thought \"Let's print what is between two patters\". The START pattern will be <code>--- A-TKE spectrum (post-neutron)---</code> and the END pattern will <code>&lt;/A_TKE&gt;</code></p>\n\n<p>I used</p>\n\n<pre><code>awk '/--- A-TKE spectrum (post-neutron)---/{flag=1;next}/&lt;/A_TKE&gt;/{flag=0}flag{print}' input\n</code></pre>\n\n<p>To my surprise nothing is printed on the screen. Any idea on why is this happening?</p>\n\n<p>I would also like to now if I can substitue <code>next</code> with a number that will correspond to the line that I want to print after the given pattern.</p>\n"}, {"tags": ["perl", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1444224998, "post_id": 32992325, "comment_id": 53812071, "body": "Can you show us the code in your handler? Mojolicious should not seek out an <code>html.ep</code> template to return JSON. Does your handler end with <code>$self-&gt;render( json =&gt; $object );</code> ?"}, {"owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1444232774, "post_id": 32992325, "comment_id": 53818232, "body": "I think, <a href=\"http://mojolicio.us/perldoc/Mojolicious/Guides/Routing#Hooks\" rel=\"nofollow noreferrer\">mojolicio.us/perldoc/Mojolicious/Guides/Routing#Hooks</a> may help me. But does it supported by the Lite version of Mojo?.."}], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "edited": false, "score": 0, "creation_date": 1444304787, "post_id": 33003030, "comment_id": 53852657, "body": "It&#39;s amazing, thank you very much! I did not know about &quot;//=&quot; construction in Perl and about possibility to start appication simply as app-&gt;secrets([&quot;somesecret&quot;])-&gt;start ... Could you tell me please, how to avoid execution of after_dispatch hook after making rendering in before_dispatch hook? Thank you in advance!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1444254783, "creation_date": 1444254783, "answer_id": 33003030, "question_id": 32992325, "link": "https://stackoverflow.com/questions/32992325/how-to-create-common-handler-for-all-incoming-urls/33003030#33003030", "title": "How to create common handler for all incoming URLs?", "body": "<p>Yes, a <code>before_dispatch</code> hook seems like the right approach, and it does work with <code>Mojolicious::Lite</code>. Here's a proof-of-concept that will produce a new result for each unique request, but return repeat results for repeated requests. In this program, the regular request handler populates the cache, but if you wanted to separate that part from the main functions of your code you could do the caching in an <code>after_dispatch</code> hook.</p>\n\n<pre><code>use Mojolicious::Lite;\n\nour %CACHE;\n\nany '/:any' =&gt; sub {\n    my $self = shift;\n    my $param = $self-&gt;param('any');\n    my $result = { reqtime =&gt; time, param =&gt; $param, number =&gt; rand };\n    my $path = $self-&gt;req-&gt;url-&gt;path-&gt;to_string;\n    $CACHE{$path} //= $result;\n    $self-&gt;render( json =&gt; $result );\n};\n\napp-&gt;hook( before_dispatch =&gt; sub {\n    my $c = shift;\n    my $path = $c-&gt;req-&gt;url-&gt;path-&gt;to_string;\n    if (defined($CACHE{$path})) {\n        $c-&gt;render( json =&gt; $CACHE{$path}, status =&gt; 200 );\n    }\n} );\napp-&gt;secrets([42])-&gt;start;\n</code></pre>\n\n<p>Sample run:</p>\n\n<pre><code>$ morbo cachedemo.pl &gt;/dev/null 2&gt;&amp;1 &amp;\n\n$ for req in foo foo1 foo2 foo3 foo foo1\n&gt; do curl http://localhost:3000/$req ; echo ; sleep 1 ; done\n\n{\"number\":0.848003210075227,\"reqtime\":1444254617,\"param\":\"foo\"}\n{\"number\":0.0745738560703799,\"reqtime\":1444254618,\"param\":\"foo1\"}\n{\"number\":0.484934245556467,\"reqtime\":1444254619,\"param\":\"foo2\"}\n{\"number\":0.181112856445004,\"reqtime\":1444254620,\"param\":\"foo3\"}\n{\"number\":0.848003210075227,\"reqtime\":1444254617,\"param\":\"foo\"}     &lt;-- dup\n{\"number\":0.0745738560703799,\"reqtime\":1444254618,\"param\":\"foo1\"}   &lt;-- dup\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1446670765, "creation_date": 1446670765, "answer_id": 33531897, "question_id": 32992325, "link": "https://stackoverflow.com/questions/32992325/how-to-create-common-handler-for-all-incoming-urls/33531897#33531897", "title": "How to create common handler for all incoming URLs?", "body": "<p>you can use * placeholder. Look <a href=\"http://mojolicio.us/perldoc/Mojolicious/Guides/Routing#Wildcard-placeholders\" rel=\"nofollow\">here</a></p>\n\n<p>Also put you application into developer <a href=\"http://search.cpan.org/~sri/Mojolicious-6.29/lib/Mojolicious.pm#mode\" rel=\"nofollow\">mode</a>:</p>\n\n<pre><code>Mojolicious-&gt;new( mode =&gt; 'developer' );\n$app-&gt;mode( 'developer');\n</code></pre>\n\n<p>You will get pretty 404, 500 pages that will help you very much</p>\n"}], "owner": {"reputation": 675, "user_id": 1919254, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5dbd3912a0e2cefa932fadf4cd0beb90?s=128&d=identicon&r=PG", "display_name": "drvtiny", "link": "https://stackoverflow.com/users/1919254/drvtiny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 33003030, "answer_count": 2, "score": 5, "last_activity_date": 1446670765, "creation_date": 1444221146, "question_id": 32992325, "link": "https://stackoverflow.com/questions/32992325/how-to-create-common-handler-for-all-incoming-urls", "title": "How to create common handler for all incoming URLs?", "body": "<p>I'm in process of writing some web api, which returns data in JSON format.</p>\n\n<p>For all incoming urls i need to return some result from cache if cache period doesnt expire.</p>\n\n<p>This logic is universal for all URLs.</p>\n\n<p>Question:</p>\n\n<p>How to implement some common logic for all incoming URLs in Mojolicious::Lite?</p>\n\n<p>I tried to do</p>\n\n<pre><code>any '/:bar' =&gt; [bar =&gt; qr/.+/] =&gt; sub {\n # ...\n # Return JSON object immediately from cache if it is applicable\n # ...\n}\n</code></pre>\n\n<p>But this leads to very long page loading and </p>\n\n<pre><code>Template \"bar.html.ep\" not found\n</code></pre>\n\n<p>in morbo log (but get \"/target\" handler will be executed finally, after  very long delay).</p>\n\n<p>I am a perfect newbie in Mojo, so any help will be appreciated</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "perl", "substring"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 2384869, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/673605453476bfb62d893d361c5e8978?s=128&d=identicon&r=PG", "display_name": "Mariusz Jucha", "link": "https://stackoverflow.com/users/2384869/mariusz-jucha"}, "edited": false, "score": 0, "creation_date": 1444220197, "post_id": 32991438, "comment_id": 53808397, "body": "Unfortunately it matched only db_host. Maybe is a problem with newlinews characters."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 79, "user_id": 2384869, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/673605453476bfb62d893d361c5e8978?s=128&d=identicon&r=PG", "display_name": "Mariusz Jucha", "link": "https://stackoverflow.com/users/2384869/mariusz-jucha"}, "edited": false, "score": 0, "creation_date": 1444220537, "post_id": 32991438, "comment_id": 53808635, "body": "That example above - it&#39;s runnable and it work. If your input differs much, then it might not, but that&#39;s why I gave the example. Try running <code>print Dumper $conf;</code> (and then pasting the result into the question) to see how closely it matches. (one possibility is quote interpolation)"}, {"owner": {"reputation": 79, "user_id": 2384869, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/673605453476bfb62d893d361c5e8978?s=128&d=identicon&r=PG", "display_name": "Mariusz Jucha", "link": "https://stackoverflow.com/users/2384869/mariusz-jucha"}, "edited": false, "score": 0, "creation_date": 1444220790, "post_id": 32991438, "comment_id": 53808815, "body": "Ok now it works. I removed whitespaces except newlines: s/[^\\S\\n]+//g; from input string."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 79, "user_id": 2384869, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/673605453476bfb62d893d361c5e8978?s=128&d=identicon&r=PG", "display_name": "Mariusz Jucha", "link": "https://stackoverflow.com/users/2384869/mariusz-jucha"}, "edited": false, "score": 1, "creation_date": 1444220950, "post_id": 32991438, "comment_id": 53808940, "body": "Can almost certainly adapt the above to handle whitespace."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1444220070, "last_edit_date": 1444220070, "creation_date": 1444218541, "answer_id": 32991438, "question_id": 32991286, "link": "https://stackoverflow.com/questions/32991286/substring-regexp-or-other-way-to-get-specific-data-from-string/32991438#32991438", "title": "Substring, regexp or other way to get specific data from string", "body": "<p>Like this:</p>\n\n<pre><code> my %conf = $conf =~ m/^(\\w+)=\\'(.*)\\'/gm;\n</code></pre>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $conf = q{ \n    db_host='127.0.0.1'\n    db_user='mail_channels'\n    db_name='mail_channels'\n    db_pass='kWaNqEvnTCOUnpMI09NljSBXvXCm5DeD' \n};\n\nprint $conf;\n\nprint \"\\n---\\n\";\n\nmy %conf = $conf =~ m/^(\\w+)=\\'(.*)\\'/gm;\nprint Dumper \\%conf;\n</code></pre>\n\n<p>This gives you:</p>\n\n<pre><code>$VAR1 = {\n          'db_user' =&gt; 'mail_channels',\n          'db_name' =&gt; 'mail_channels',\n          'db_host' =&gt; '127.0.0.1',\n          'db_pass' =&gt; 'kWaNqEvnTCOUnpMI09NljSBXvXCm5DeD'\n        };\n</code></pre>\n\n<p>It works because - the <code>g</code> on the regular expression repeats and the <code>m</code> does multiple lines.</p>\n\n<p>With two capture groups we grab paired values (key/value) and when we assign that into the <code>%conf</code> hash, it treats them as key-value pairs. </p>\n\n<p>Breaking down that regex:</p>\n\n<pre><code>my %conf = $conf =~ m/\n                        ^                 #start of line anchor\n                        (\\w+)             #word characters, one more\n                         =                #just a literal equals\n                         \\'(.*)\\'         #a quote either side of value\n                     /gmx;                #x allows whitespace in the regex\n</code></pre>\n\n<p>For that second group, it will remove the quotes in your string. If you need to preserve them, you can instead:</p>\n\n<pre><code>my %conf = $conf =~ m/^(\\w+)=(.*)/gm;\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 2384869, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/673605453476bfb62d893d361c5e8978?s=128&d=identicon&r=PG", "display_name": "Mariusz Jucha", "link": "https://stackoverflow.com/users/2384869/mariusz-jucha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 32991438, "answer_count": 1, "score": 0, "last_activity_date": 1444220884, "creation_date": 1444218121, "last_edit_date": 1444218582, "question_id": 32991286, "link": "https://stackoverflow.com/questions/32991286/substring-regexp-or-other-way-to-get-specific-data-from-string", "title": "Substring, regexp or other way to get specific data from string", "body": "<p>I have variable $conf with following content (loaded from file with unix encoded newlines characters):</p>\n\n<pre><code>db_host='127.0.0.1'\ndb_user='mail_channels'\ndb_name='mail_channels'\ndb_pass='kWaNqEvnTCOUnpMI09NljSBXvXCm5DeD'\n</code></pre>\n\n<p>and I want to get value of db_host, db_user etc. assign to variables $dbHost, $dbUser etc. How can I do this?</p>\n\n<p>Note: I could not read file line by line. The content of $conf variable it's a data I got from request (I have to modify API written in Perl).</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "edited": false, "score": 0, "creation_date": 1444210310, "post_id": 32988545, "comment_id": 53801976, "body": "Thank you very much for your inputs."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1444209838, "creation_date": 1444209838, "answer_id": 32988545, "question_id": 32988350, "link": "https://stackoverflow.com/questions/32988350/how-to-change-the-mtime-of-the-directory-and-its-files-in-perl/32988545#32988545", "title": "How to change the mtime of the directory and its files in perl?", "body": "<p>There is no \"recursively change mtime\" function. You'll have to implement it yourself with <code>File::Find</code>.</p>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse File::Find;\n\nsub change_mtime {\n    utime( undef, 1396396800, $File::Find::name );\n}\n\nfind( \\&amp;change_mtime, \"/X/Y/dir1\" );\n</code></pre>\n\n<p>(I'm assuming your <code>utime</code> example is correct, I haven't tested it) </p>\n"}], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 32988545, "answer_count": 1, "score": 2, "last_activity_date": 1444209838, "creation_date": 1444209353, "question_id": 32988350, "link": "https://stackoverflow.com/questions/32988350/how-to-change-the-mtime-of-the-directory-and-its-files-in-perl", "title": "How to change the mtime of the directory and its files in perl?", "body": "<p>I want to change the modification time (mtime) of the directory and all its files recursively. I tried this -</p>\n\n<pre><code>utime(undef, 1396396800, \"/X/Y/dir1\");\n</code></pre>\n\n<p>dir1 contains more directories and files, the above statement only changing the mtime of /X/Y/dir1 only , not other directories/files inside /X/Y/dir1.</p>\n\n<p>Is there any method wich can recursively change the mtime of directory in the perl?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 4, "creation_date": 1444204714, "post_id": 32986743, "comment_id": 53798349, "body": "Please show what you have tried so far."}], "answers": [{"comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1444211481, "post_id": 32987037, "comment_id": 53802811, "body": "Please, don&#39;t use back reference in the replacement part. <a href=\"http://perldoc.perl.org/perlretut.html#Backreferences\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlretut.html#Backreferences</a>"}], "tags": [], "owner": {"reputation": 67, "user_id": 3045825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbaf6e7e4beaab1aac2265cc2d151779?s=128&d=identicon&r=PG", "display_name": "ftorto", "link": "https://stackoverflow.com/users/3045825/ftorto"}, "is_accepted": false, "score": -1, "last_activity_date": 1444205586, "creation_date": 1444205586, "answer_id": 32987037, "question_id": 32986743, "link": "https://stackoverflow.com/questions/32986743/search-and-replace-variable-values-using-perl/32987037#32987037", "title": "Search and replace variable values using Perl", "body": "<p>Example for line : <code>parameter WQA=6.6 + 43.5 + 55.8</code></p>\n\n<p>You can try something like:\n<code>line =~ s/(parameter WQA= ?)([0-9.]+)/\\1$newparam1/</code></p>\n\n<p>(assuming you know how to get newparam1 from the file)</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444214178, "post_id": 32988393, "comment_id": 53804440, "body": "You should say how to run this program. It is a little strange to accept the replacements file as a command-line parameter, and the input file on STDIN"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1444219703, "post_id": 32988393, "comment_id": 53808052, "body": "It&#39;s the common Unix filter paradigm: input on STDIN, output on STDOUT, extra inputs on the command line. It works with inputs that are in a file already using input redirection but on top of that it also works in a pipe without any <code>&#47;dev&#47;fd&#47;...</code> tricks."}], "tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1444209441, "creation_date": 1444209441, "answer_id": 32988393, "question_id": 32986743, "link": "https://stackoverflow.com/questions/32986743/search-and-replace-variable-values-using-perl/32988393#32988393", "title": "Search and replace variable values using Perl", "body": "<p>I'm not sure whether gobbling up the first value after the <code>=</code> is intentional, but assuming it is, here's without much error checking:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $replacements =  shift or die \"missing arg\";\nopen my $fh, '&lt;', $replacements or die \"can't open $replacements: $!\";\n# Slurp file and build a hash of intended replacements\nmy %rep = map { /^parameter ([^=]+)=(\\S+)/ } &lt;$fh&gt;;\nclose $fh;\nwhile(&lt;STDIN&gt;) {\n    # Replace text after the = with a hash lookup if possible\n    s/^parameter ([^=]+)=(\\S+)/sprintf \"parameter %s=%s\", $1, $rep{$1}||$2/e;\n    print;\n}\n</code></pre>\n\n<p>You pass your replacements file as an argument and provide the original input on STDIN. Of course one should usually check for format errors, empty lines and such in the files; stuff like that will just throw an error or warning now.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1444213818, "creation_date": 1444213818, "answer_id": 32989880, "question_id": 32986743, "link": "https://stackoverflow.com/questions/32986743/search-and-replace-variable-values-using-perl/32989880#32989880", "title": "Search and replace variable values using Perl", "body": "<p>This is very simply done using a expression substitution, with the <code>/e</code> modifier</p>\n\n<p>This program first opens file <code>NewVariableValues.txt</code> and builds a hash <code>%new_values</code> from it that relates each new parameter name to its value. Then file <code>Input.txt</code> is read, and the <code>value</code> in all <code>NAME=value</code> constructions are replaced by the corresponding value from the hash</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.14.1;\nuse autodie;\n\nmy %new_values;\n{\n    open my $fh, '&lt;', 'NewVariableValues.txt';\n    while ( &lt;$fh&gt; ) {\n        $new_values{$1} = $2 if /([^\\s=]+)=(.+)/;\n    }\n}\n\n{\n    open my $fh, '&lt;', 'Input.txt';\n    while ( &lt;$fh&gt; ) {\n        s&lt;([^\\s=]+)=\\K(\\S+)&gt;&lt;$new_values{$1} // $2&gt;e;\n        print;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>parameter EIW=3.4\nparameter WQA=newparam2 + 43.5 + 55.8\nparameter IID=4.64\n...\nparameter KDO=newparam3 * 393.3\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5417239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f38292c08b7a109ce8ffa6fbae1a0e4?s=128&d=identicon&r=PG&f=1", "display_name": "user5417239", "link": "https://stackoverflow.com/users/5417239/user5417239"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1444213818, "creation_date": 1444204603, "last_edit_date": 1444204778, "question_id": 32986743, "link": "https://stackoverflow.com/questions/32986743/search-and-replace-variable-values-using-perl", "title": "Search and replace variable values using Perl", "body": "<p>I am at a loss as to how to achieve the search and replace outcome shown below. Can some kind soul please guide me?</p>\n\n<p>Input.txt (input file with variables to be replaced):</p>\n\n<pre><code>parameter EIW=3.4\nparameter WQA=6.6 + 43.5 + 55.8\nparameter IID=4.64\n...\nparameter KDO=2.322 * 393.3\n</code></pre>\n\n<p>NewVariableValues.txt (values of the parameters in source file are to be replaced by new values found in this file):</p>\n\n<pre><code>parameter ACE=newparam1\nparameter WQA=newparam2\nparameter KDO=newparam3\n...\n</code></pre>\n\n<p>Output.txt:</p>\n\n<pre><code>parameter EIW=3.4\nparameter WQA=newparam2 + 43.5 + 55.8\nparameter IID=4.64\n...\nparameter KDO=newparam3 * 393.3\n</code></pre>\n"}, {"tags": ["perl", "file", "email", "text"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1444199399, "post_id": 32984969, "comment_id": 53795386, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1325392/how-can-i-send-the-content-of-file-as-email-in-perl\">How can I send the content of file as email in Perl?</a>"}, {"owner": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "edited": false, "score": 0, "creation_date": 1444205289, "post_id": 32984969, "comment_id": 53798702, "body": "You don&#39;t want to attach the file, but to send it&#39;s contents in email body? What&#39;s the problem?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1444215268, "post_id": 32984969, "comment_id": 53805085, "body": "It would be far easier to help you if you told us which type of object <code>$msg</code> is. Perl has many modules for creating and sending email - you&#39;re asking us to guess which one you are using."}, {"owner": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "edited": false, "score": 0, "creation_date": 1445333469, "post_id": 32984969, "comment_id": 54269207, "body": "well data is in txt file and i want to send it in mail via perl script but i am newbie in perl thats i am looking for a help so may be someone can help me?"}], "answers": [{"comments": [{"owner": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "edited": false, "score": 0, "creation_date": 1445597581, "post_id": 32993621, "comment_id": 54400022, "body": "well thanks for the help but i tried with outlook and it worked:P                     <code>code</code>                                                                                                  open my $fh, &#39;&lt;&#39;, &quot;C:\\\\SDB_Automation\\\\sdb_dump.txt&quot; or die &quot;Ouch: $!\\n&quot;;  my $text1 = do {    local $/;    &lt;$fh&gt;  }; close $fh or die &quot;Ugh: $!\\n&quot;; print $text1,&quot;\\n&quot;;                                                                                         <code>code</code> and $message-&gt;Body(&quot;$text1&quot;);"}], "tags": [], "owner": {"reputation": 67, "user_id": 2008047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e30477b3f3ff37ccec4fd8b875cf9715?s=128&d=identicon&r=PG", "display_name": "Noble", "link": "https://stackoverflow.com/users/2008047/noble"}, "is_accepted": false, "score": 0, "last_activity_date": 1444224810, "creation_date": 1444224810, "answer_id": 32993621, "question_id": 32984969, "link": "https://stackoverflow.com/questions/32984969/how-can-i-send-the-content-of-file-as-email-in-perl/32993621#32993621", "title": "How can I send the content of file as email in Perl?", "body": "<p>Perl has many modules to help. try slurp for example. Hope this help.</p>\n\n<pre><code>use Email::MIME;\nuse Email::Sender::Simple qw(sendmail);\nuse Email::Sender::Transport::SMTP::TLS;\nuse Path::Class qw/file/;\nuse File::Type;\nuse MIME::Base64;\n$file= file(path);\n$file = scalar $file-&gt;slurp;\nmy $newpart = Email::MIME-&gt;create(\n          attributes =&gt; {\n                content_type =&gt; type,\n                encoding =&gt; base64,\n                disposition =&gt; $attachment-&gt;{disposition}, # maybe useful rfc2387\n                charset =&gt; undef,\n                name =&gt; 'attachment',\n                },\n                body =&gt; $file,\n         );\npush @parts , $newpart;\nmy $email = Email::MIME-&gt;create(\n            header =&gt; [\n                From        =&gt; \" \",\n                To          =&gt; \"\",\n                Subject     =&gt; \"\",\n                'Reply-To'  =&gt; \"\",\n            ],\n            parts =&gt; [@parts],\n        );\nEmail::Sender::Simple-&gt;send($email)\n</code></pre>\n"}], "owner": {"reputation": 438, "user_id": 5088258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Se1sJMyPJw/AAAAAAAAAAI/AAAAAAAADwk/6_4PG_vC-FU/photo.jpg?sz=128", "display_name": "Jimit Rupani", "link": "https://stackoverflow.com/users/5088258/jimit-rupani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445418122, "creation_date": 1444198421, "last_edit_date": 1445418122, "question_id": 32984969, "link": "https://stackoverflow.com/questions/32984969/how-can-i-send-the-content-of-file-as-email-in-perl", "title": "How can I send the content of file as email in Perl?", "body": "<p>Code for attachment </p>\n\n<pre><code>$msg-&gt;attach(Type        =&gt; 'document/text',\n\n         Path        =&gt; \"C:\\\\SDB_Automation\\\\sdb_dump.txt\",\n         Filename    =&gt; 'sdb_dump.txt',\n         Disposition =&gt; 'attachment'\n        );       \n$msg-&gt;send;\n</code></pre>\n\n<p>I have print the data in text file and save it in my local machine. But instead of that text file I want to send only the data of that file because of the subscriber kind of thing.</p>\n"}, {"tags": ["python", "perl", "hash", "language-comparisons"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1444197345, "post_id": 32984629, "comment_id": 53794502, "body": "This seems like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>. What is the purpose of this code?"}, {"owner": {"reputation": 47, "user_id": 3085291, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9fb525732405a48987389896c4901a39?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3085291/robert"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1444197448, "post_id": 32984629, "comment_id": 53794554, "body": "@TigerhawkT3 The purpose of this code is to add users to a hash by calling this function from another main method."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1444197747, "post_id": 32984629, "comment_id": 53794666, "body": "Adding to a hash - does that mean each user will be stored in a hash table, like a <code>set</code>? Oh, and that last line with <code>replace</code> isn&#39;t necessary because <code>input()</code> ends when the user presses Enter (and the trailing newline is not included)."}, {"owner": {"reputation": 47, "user_id": 3085291, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9fb525732405a48987389896c4901a39?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3085291/robert"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1444197851, "post_id": 32984629, "comment_id": 53794713, "body": "@TigerhawkT3 I have a main <code>hash = {}</code> and it gets put in as <code>local_hash</code> when called with the function to keep track of users added, removed and modified via functions called by user input. And ah okay, so there is no need to find a replacement for <code>chomp()</code> that we used in perl?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1444198005, "post_id": 32984629, "comment_id": 53794787, "body": "I would highly recommend actually learning Python, rather than learning Perl and then trying to translate it into Python. The latter will result in very, very bad Python code."}, {"owner": {"reputation": 47, "user_id": 3085291, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9fb525732405a48987389896c4901a39?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3085291/robert"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1444198083, "post_id": 32984629, "comment_id": 53794825, "body": "In our class we are learning Perl, Python and other codes, the objective of this one was to translate from Perl to Python and this was just a part I was having trouble with. Thank you :)"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1444198170, "post_id": 32984629, "comment_id": 53794861, "body": "That&#39;s... an incredibly bad habit to be teaching. I am sorry for you."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3085291, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9fb525732405a48987389896c4901a39?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3085291/robert"}, "edited": false, "score": 0, "creation_date": 1444197932, "post_id": 32984763, "comment_id": 53794751, "body": "Thank you very much, so I only need to put in items I am going to use, kind of like Java?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1444198035, "post_id": 32984763, "comment_id": 53794800, "body": "No, not like Java. Like Python. Try the <a href=\"https://docs.python.org/3.4/tutorial/index.html\" rel=\"nofollow noreferrer\">official Python tutorial</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444230231, "post_id": 32984763, "comment_id": 53816216, "body": "That Perl code posted by the OP only takes one argument (a reference to a hash), and then it makes a copy of that hash. That Python code doesn&#39;t look equivalent at all. Will changing <code>arg1</code> affect the caller? It shouldn&#39;t. The Perl code explicitly makes a copy of it."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 3, "last_activity_date": 1444197378, "creation_date": 1444197378, "answer_id": 32984763, "question_id": 32984629, "link": "https://stackoverflow.com/questions/32984629/perl-to-python-shift-translation/32984763#32984763", "title": "Perl to python shift translation", "body": "<p>You do not even need to look for alternative of shift. </p>\n\n<p>In Perl subroutines are written as below:</p>\n\n<pre><code>sub foo {\n    my $arg1 = shift;\n    my @rest_of_args = @_;\n    ...do stuff...\n}\n</code></pre>\n\n<p>In Python you have to define the arguments the function is expecting in function definition syntax.</p>\n\n<pre><code>def foo (arg1, rest_of_args):\n    ...do stuff...\n</code></pre>\n\n<p>Also see: </p>\n\n<ul>\n<li><a href=\"https://wiki.python.org/moin/PerlPhrasebook\" rel=\"nofollow\">PerlPhrasebook</a></li>\n<li><a href=\"http://www.perlmonks.org/?node_id=156333\" rel=\"nofollow\">Perl vs. Python: Looking at the Code</a></li>\n</ul>\n"}], "owner": {"reputation": 47, "user_id": 3085291, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9fb525732405a48987389896c4901a39?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3085291/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 32984763, "answer_count": 1, "score": 1, "last_activity_date": 1504487438, "creation_date": 1444196642, "last_edit_date": 1504487438, "question_id": 32984629, "link": "https://stackoverflow.com/questions/32984629/perl-to-python-shift-translation", "title": "Perl to python shift translation", "body": "<p>I am a student learning Python as well as Perl.\nIn our Perl program we used the code </p>\n\n<pre><code>my $param = shift;\nmy %local_hash = %$param;\n</code></pre>\n\n<p>when translating Perl to Python what would be the most similar way to 'shift' the hash or do I no longer need this part of code?</p>\n\n<p>So far I have this in Python</p>\n\n<pre><code>def insert_user(local_hash):\n    param = shift\n    local_hash = {param}\n    user_name = input(\"Please enter Username: \")\n    user_name = user_name.replace('\\n', '')\n</code></pre>\n"}, {"tags": ["perl", "file"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1444191200, "post_id": 32983254, "comment_id": 53792451, "body": "<code>use strict; use warnings;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1444192260, "post_id": 32983254, "comment_id": 53792756, "body": "What&#39;s the question?"}, {"owner": {"reputation": 1, "user_id": 5416552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1077611372283335/picture?type=large", "display_name": "Deepak", "link": "https://stackoverflow.com/users/5416552/deepak"}, "edited": false, "score": 0, "creation_date": 1444230231, "post_id": 32983254, "comment_id": 53816214, "body": "The files are ftp ed in to that folder. So I want to consider a file has received only if the file has finished copying in to the folder. I thought if I open a file when it is copied in to(when in use) open will not allow. But I am able to open when file s in use. I want to validate that.."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5416552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1077611372283335/picture?type=large", "display_name": "Deepak", "link": "https://stackoverflow.com/users/5416552/deepak"}, "edited": false, "score": 0, "creation_date": 1444230056, "post_id": 32983480, "comment_id": 53816084, "body": "I actually want to check whether the file has been completely copied in to the drive. So I am trying to open the file to check whether the file is still in use (while copying) but I am able to open the file even when the files are getting copied in to that folder ( even file is in use).... I want to have a validation that only if the file has successfully copied in to that location I should consider use that file...."}, {"owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "reply_to_user": {"reputation": 1, "user_id": 5416552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1077611372283335/picture?type=large", "display_name": "Deepak", "link": "https://stackoverflow.com/users/5416552/deepak"}, "edited": false, "score": 0, "creation_date": 1444232356, "post_id": 32983480, "comment_id": 53817925, "body": "not sure what your use case is but it also sounds like you might get value by looking at something like <a href=\"https://en.wikipedia.org/wiki/CwRsync\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/CwRsync</a>"}], "tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": false, "score": 1, "last_activity_date": 1444232245, "last_edit_date": 1495540297, "creation_date": 1444189721, "answer_id": 32983480, "question_id": 32983254, "link": "https://stackoverflow.com/questions/32983254/how-to-check-if-a-file-is-already-in-use-in-windows-environment/32983480#32983480", "title": "How to check if a file is already in use in Windows environment", "body": "<p>try this if you want to check whether a file exists:</p>\n\n<pre><code>if ( -e 'abc.txt' )\n{\n  print \"file exists\\n\";\n}\n</code></pre>\n\n<p>If you are looking to check whether the file is available for read/write access ( ie ensure that another process writing the file is does not have a lock within a windows environment ) most crudely you can catch the unable to open file condition:</p>\n\n<pre><code>open(INFO,      \"+&lt;datafile\") || warn(\"can't open datafile: $!\");\n</code></pre>\n\n<p>In windows I believe that <a href=\"https://stackoverflow.com/questions/3220206/determine-whether-a-file-is-in-use-in-perl-on-windows\">Determine whether a file is in use in Perl on Windows</a> discusses how to catch the failure however that appears a little crude. </p>\n\n<p>The approach at <a href=\"https://stackoverflow.com/a/4200474/5182165\">https://stackoverflow.com/a/4200474/5182165</a> looks more satisfying to me.</p>\n\n<p>I would suggest looking at fileno() or fcntl or include lsof in your searches for more detail.</p>\n\n<p>You may also want to look at flock() as described at <a href=\"http://docs.activestate.com/activeperl/5.8/lib/pods/perlopentut.html#file_locking\" rel=\"nofollow noreferrer\">http://docs.activestate.com/activeperl/5.8/lib/pods/perlopentut.html#file_locking</a> </p>\n\n<p>Another interesting approach is to watch the directory for file changes using Win32::ChangeNotify as discussed at <a href=\"https://stackoverflow.com/questions/23731306/windows-using-perl-monitor-a-directory-for-a-new-file-drop-creation\">Windows - Using perl monitor a directory for a new file drop/creation</a> </p>\n\n<p>Or you could use Win32::File::Object to check whether the file has an OFFLINE status as per <a href=\"http://codeverge.com/perl.beginners/win32-file-attribs-example/144600\" rel=\"nofollow noreferrer\">http://codeverge.com/perl.beginners/win32-file-attribs-example/144600</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5416552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1077611372283335/picture?type=large", "display_name": "Deepak", "link": "https://stackoverflow.com/users/5416552/deepak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444232245, "creation_date": 1444188125, "last_edit_date": 1444189249, "question_id": 32983254, "link": "https://stackoverflow.com/questions/32983254/how-to-check-if-a-file-is-already-in-use-in-windows-environment", "title": "How to check if a file is already in use in Windows environment", "body": "<p>I have a small script to read from a directory in which files are going to copied to a specific folder. My script will read from the file and check whether we have received all the files that have been successfully copied.</p>\n\n<p>As soon as all the files are received the next set of jobs are triggered, which process those files.</p>\n\n<p>I am using the normal <code>Input</code> operator to read the file:</p>\n\n<pre><code>if(open(FILE,abc.txt))\n  print \"it opened \\n\";\n} else {\n  print \"it did not open \\n\";\n}\n</code></pre>\n\n<p>The above method didn't work and also the read write (<code>+&lt;</code>) didn't work. Why?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1444180161, "post_id": 32982091, "comment_id": 53789729, "body": "What is <code>$FindBin::Bin&#47;SatanicBot</code>? Probably not the same as <code>$FindBin::Bin&#47;src&#47;SatanicBot</code>"}, {"owner": {"reputation": 68, "user_id": 5416287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e13fffd162869955af3bcacca948a11?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Foster", "link": "https://stackoverflow.com/users/5416287/eli-foster"}, "reply_to_user": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1444185272, "post_id": 32982091, "comment_id": 53790948, "body": "That should link to the correct location, because run.pl is already in the src directory. The second one would imply that Bot.pm is in SatanicBot/src/src/SatanicBot. At least that&#39;s what it seems like it would do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1444230501, "post_id": 32982091, "comment_id": 53816435, "body": "Tip: <code>lib</code> is the conventional name for the directory containing the modules, not <code>src</code>. (<code>bin</code> for scripts)"}], "answers": [{"comments": [{"owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "edited": false, "score": 0, "creation_date": 1444186930, "post_id": 32982195, "comment_id": 53791366, "body": "try to do a   &#39;find / -name Bot.pm -print&#39; on the original machine to get the location then look at copying that file, the installer or the group of related files into your path."}, {"owner": {"reputation": 68, "user_id": 5416287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e13fffd162869955af3bcacca948a11?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Foster", "link": "https://stackoverflow.com/users/5416287/eli-foster"}, "edited": false, "score": 0, "creation_date": 1444205379, "post_id": 32982195, "comment_id": 53798744, "body": "This worked, but I&#39;m left wondering why. The module file is not in /src, it&#39;s in /src/SatanicBot, so why does it prefer /src?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1444223020, "post_id": 32982195, "comment_id": 53810555, "body": "To find <code>Foo::Bar::Baz</code>, perl searches <code>@INC</code> for a file named <code>Foo&#47;Bar&#47;Baz.pm</code>, not a file named <code>Baz.pm</code>"}, {"owner": {"reputation": 68, "user_id": 5416287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e13fffd162869955af3bcacca948a11?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Foster", "link": "https://stackoverflow.com/users/5416287/eli-foster"}, "edited": false, "score": 0, "creation_date": 1444239807, "post_id": 32982195, "comment_id": 53822654, "body": "Oh, that makes sense. Thanks!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1444180221, "creation_date": 1444180221, "answer_id": 32982195, "question_id": 32982091, "link": "https://stackoverflow.com/questions/32982091/cant-locate-custom-module-in-inc/32982195#32982195", "title": "Can&#39;t locate custom module in @INC", "body": "<p><code>@INC</code> contains: </p>\n\n<pre><code>/Users/elifoster/Desktop/Dev/SatanicBot/src/SatanicBot\n</code></pre>\n\n<p>but to find the <code>SatanicBot::Bot</code> package in the file <code>/Users/elifoster/Desktop/Dev/SatanicBot/src/SatanicBot/Bot.pm</code>, you want <code>@INC</code> to contain</p>\n\n<pre><code>/Users/elifoster/Desktop/Dev/SatanicBot/src\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 5416287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e13fffd162869955af3bcacca948a11?s=128&d=identicon&r=PG&f=1", "display_name": "Eli Foster", "link": "https://stackoverflow.com/users/5416287/eli-foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1135, "favorite_count": 0, "accepted_answer_id": 32982195, "answer_count": 1, "score": 1, "last_activity_date": 1537361050, "creation_date": 1444179441, "last_edit_date": 1537361050, "question_id": 32982091, "link": "https://stackoverflow.com/questions/32982091/cant-locate-custom-module-in-inc", "title": "Can&#39;t locate custom module in @INC", "body": "<p>I have a basic Perl script that runs code from a module. After switching to a new computer, I am no longer able to run this script. The directory tree is set up like so:</p>\n\n<pre><code>SatanicBot\n  src\n    SatanicBot\n      Bot.pm\n      Utils.pm\n  run.pl &lt;-- The script that uses the module\n</code></pre>\n\n<p>The use statements in run.pl are like so:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse diagnostics;\n\nuse Bot::BasicBot;\n\nuse Cwd qw(abs_path);\nuse FindBin;\nuse lib abs_path(\"$FindBin::Bin/SatanicBot\");\n# Without this, I get an error that is essentially caused by it not being to find the module.\nuse SatanicBot::Bot; \n</code></pre>\n\n<p>When I run run.pl, I get the following error:</p>\n\n<pre><code>Can't locate SatanicBot/Bot.pm in @INC (you may need to install the SatanicBot::Bot module) (@INC contains: /Users/elifoster/Desktop/Dev/SatanicBot/src/SatanicBot /Users/elifoster/perl5/perlbrew/perls/perl-5.22.0/lib/site_perl/5.22.0/darwin-2level /Users/elifoster/perl5/perlbrew/perls/perl-5.22.0/lib/site_perl/5.22.0 /Users/elifoster/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0/darwin-2level /Users/elifoster/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0 .) at src/run.pl line 12.\n</code></pre>\n\n<p>As you can see, it states that @INC contains the directory that the SatanicBot::Bot module is in, yet it cannot find it. I'm seriously stumped.</p>\n"}, {"tags": ["perl", "mime-mail"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1444238632, "creation_date": 1444238632, "answer_id": 32998630, "question_id": 32981861, "link": "https://stackoverflow.com/questions/32981861/perl-mimelite-attach-text-file-line-feed-error/32998630#32998630", "title": "perl mime::lite attach text file line feed error", "body": "<pre><code>$message-&gt;attach(\n   Type =&gt; 'TEXT',\n   Data =&gt; join('', map { \"$_\\n\" } @test),\n);\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 5239369, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d2df3d38127b9d2473811ea0ec33abd7?s=128&d=identicon&r=PG&f=1", "display_name": "Alfonso Jaquez", "link": "https://stackoverflow.com/users/5239369/alfonso-jaquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 32998630, "answer_count": 1, "score": 0, "last_activity_date": 1444238632, "creation_date": 1444177695, "question_id": 32981861, "link": "https://stackoverflow.com/questions/32981861/perl-mimelite-attach-text-file-line-feed-error", "title": "perl mime::lite attach text file line feed error", "body": "<pre><code>my @test = (\"Row1\", \"Row2\", \"Row3\");\nmy $attch = join(\"&lt;cr&gt;&lt;lf&gt;&lt;br&gt;\\\\n\", @test);\n\n$message = MIME::Lite-&gt;new(\n    From     =&gt; $mailFrom ,\n    To       =&gt; $address,\n    Subject  =&gt; $title,\n    Type     =&gt; 'text/html',\n    Encoding =&gt; '8bit',\n    Data     =&gt; $data\n);\n\n$message-&gt;attach(\n    Type     =&gt;'TEXT',\n    Data     =&gt; $attch\n);\n\nMIME::Lite-&gt;send('smtp', $host, Timeout =&gt; 20);\n$message-&gt;send;\n</code></pre>\n\n<p>Good Day, i'm trying send a file in a email, but i cant write correct line feed, the code sends a email with a attached file, this attached file contains the next information:<br>\n\"Row1&lt;cr>&lt;lf>&lt;br>\\nRow2&lt;cr>&lt;lf>&lt;br>\\nRow3\"</p>\n\n<p>How i can get:<br>\nRow1<br>Row2<br>Row3</p>\n\n<p>In the attached file?</p>\n"}, {"tags": ["json", "perl", "centos", "cloudflare"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1444167076, "post_id": 32980080, "comment_id": 53785727, "body": "The module is JSON::Any, not JSON, so the package name is perl-JSON-Any."}, {"owner": {"reputation": 460, "user_id": 4338979, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/dadcd3ba58bd7a1d61d1933caa8ac081?s=128&d=identicon&r=PG&f=1", "display_name": "Revo", "link": "https://stackoverflow.com/users/4338979/revo"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444168308, "post_id": 32980080, "comment_id": 53786252, "body": "tried that, still nothing"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444168745, "post_id": 32980080, "comment_id": 53786456, "body": "Just to clarify, &quot;still nothing&quot; is shorthand for &quot;I successfully installed the perl-JSON-Any package but I still get the same error from <code>ddclient</code>&quot;, correct?"}, {"owner": {"reputation": 460, "user_id": 4338979, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/dadcd3ba58bd7a1d61d1933caa8ac081?s=128&d=identicon&r=PG&f=1", "display_name": "Revo", "link": "https://stackoverflow.com/users/4338979/revo"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444168931, "post_id": 32980080, "comment_id": 53786536, "body": "No, the package was not found, i even tried using cpan JSON and cpan JSON::Any, and i still get the same error."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444169587, "post_id": 32980080, "comment_id": 53786782, "body": "perl-JSON-Any is in <a href=\"https://fedoraproject.org/wiki/EPEL\" rel=\"nofollow noreferrer\">EPEL</a>, you&#39;ll have to enable the repository if you want to install packages from it. Alternatively, you can download the rpm and install it manually. And now the same question as before: when you say &quot;i even tried using cpan JSON and cpan JSON::Any, and i still get the same error,&quot; do you mean that <code>cpan JSON::Any</code> installed the module successfully but you still get the same error from <code>ddclient</code>?"}, {"owner": {"reputation": 460, "user_id": 4338979, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/dadcd3ba58bd7a1d61d1933caa8ac081?s=128&d=identicon&r=PG&f=1", "display_name": "Revo", "link": "https://stackoverflow.com/users/4338979/revo"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444170551, "post_id": 32980080, "comment_id": 53787139, "body": "Yes, it installed, and the error stand still."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444171193, "post_id": 32980080, "comment_id": 53787365, "body": "And where did it get installed? If it&#39;s not in the <code>@INC</code> path for the version of perl that ddclient is using (<a href=\"http://sourceforge.net/p/ddclient/code/HEAD/tree/trunk/ddclient\" rel=\"nofollow noreferrer\">apparently <code>&#47;usr&#47;bin&#47;perl</code></a>), ddclient won&#39;t be able to find it."}, {"owner": {"reputation": 460, "user_id": 4338979, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/dadcd3ba58bd7a1d61d1933caa8ac081?s=128&d=identicon&r=PG&f=1", "display_name": "Revo", "link": "https://stackoverflow.com/users/4338979/revo"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444171362, "post_id": 32980080, "comment_id": 53787423, "body": "I tried to edit the comment and seems it didn&#39;t work (I&#39;m new to stackoverflow question asking) so what happened is this, I enabled EPEL repo, then tried to find perl-JSON-Any package in yum and found it, I installed it successfully, and then managed to run ddclient with debug parameters, it ran, the FATAL error wasn&#39;t there, but i got another error :( that is        Use of uninitialized value $fam_listen in numeric ne (!=) at /usr/share/perl5/IO/Socket/INET6.pm line 226  well, guess i will stop here for now, thank you sir for your time :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444171518, "post_id": 32980080, "comment_id": 53787471, "body": "Did you <a href=\"http://sourceforge.net/p/ddclient/wiki/Home/#configuration\" rel=\"nofollow noreferrer\">configure it properly</a>? I would recommend reading through the documentation on the project page."}, {"owner": {"reputation": 460, "user_id": 4338979, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/dadcd3ba58bd7a1d61d1933caa8ac081?s=128&d=identicon&r=PG&f=1", "display_name": "Revo", "link": "https://stackoverflow.com/users/4338979/revo"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444172893, "post_id": 32980080, "comment_id": 53787929, "body": "i did read it and configure it properly, i enabled the line to get my ip address from checkip.dyndns.com (the whole line by removing #) then added my cloudflare credential, email, api key, zone, and the record to update, protocol is equal to cloudflare and the server to www.cloudflare.com, i dont see anything wrong here, the ssl=yes option is there too as the cloudflare support page said, and i changed deamon to value 600, now i tried to log the terminal since this gets in a loop, and this loop starts right after it tries to connect to cloudflare (CONNECT:  www.cloudflare.com)"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 6514746, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KnXo-fbrUgM/AAAAAAAAAAI/AAAAAAAAAFU/7lIUK6Cx6lI/photo.jpg?sz=128", "display_name": "Kostas D", "link": "https://stackoverflow.com/users/6514746/kostas-d"}, "is_accepted": false, "score": 8, "last_activity_date": 1466940660, "creation_date": 1466940660, "answer_id": 38038073, "question_id": 32980080, "link": "https://stackoverflow.com/questions/32980080/ddclient-error-when-trying-to-run-it-as-debug-to-test-it/38038073#38038073", "title": "ddclient error when trying to run it as debug to test it", "body": "<p>You can try</p>\n\n<pre><code>sudo cpan install JSON::Any\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 4151151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HriXL.png?s=128&g=1", "display_name": "Ante", "link": "https://stackoverflow.com/users/4151151/ante"}, "is_accepted": false, "score": 1, "last_activity_date": 1573929480, "last_edit_date": 1573929480, "creation_date": 1573309068, "answer_id": 58780141, "question_id": 32980080, "link": "https://stackoverflow.com/questions/32980080/ddclient-error-when-trying-to-run-it-as-debug-to-test-it/58780141#58780141", "title": "ddclient error when trying to run it as debug to test it", "body": "<p>This is a long time passed, but I found a solution to the same issue I had on Ubuntu here: <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=873750\" rel=\"nofollow noreferrer\">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=873750</a></p>\n\n<blockquote>\n  <p>Adding libjson-any-perl satisfies this dependency.</p>\n</blockquote>\n\n<p>So did apt-get install libjson-any-perl and now there is no error.</p>\n\n<p>Edit: Cloudflare changed its API version since this was actual which ddclient is not compatible with.</p>\n"}], "owner": {"reputation": 460, "user_id": 4338979, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/dadcd3ba58bd7a1d61d1933caa8ac081?s=128&d=identicon&r=PG&f=1", "display_name": "Revo", "link": "https://stackoverflow.com/users/4338979/revo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4516, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1573929480, "creation_date": 1444166934, "question_id": 32980080, "link": "https://stackoverflow.com/questions/32980080/ddclient-error-when-trying-to-run-it-as-debug-to-test-it", "title": "ddclient error when trying to run it as debug to test it", "body": "<p>After a fresh install of centOS 6 i tried to install ddclient so i can update my DNS records on Cloudflare and I have configured it correctly as instructed on the Cloudflare site and other sites, when i try to run the debug command</p>\n\n<pre><code>ddclient -daemon=0 -debug -verbose -noquiet\n</code></pre>\n\n<p>I get this error</p>\n\n<pre><code>FATAL:    Error loading the Perl module JSON::Any needed for cloudflare update.\n</code></pre>\n\n<p>And I tried to install perl-JSON using <strong>yum install perl-JSON</strong> but did nothing</p>\n"}, {"tags": ["perl", "oop", "inheritance"], "comments": [{"owner": {"reputation": 4328, "user_id": 1473927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO6Ui.jpg?s=128&g=1", "display_name": "Jonathan Cast", "link": "https://stackoverflow.com/users/1473927/jonathan-cast"}, "edited": false, "score": 3, "creation_date": 1444163554, "post_id": 32978483, "comment_id": 53783748, "body": "<code>Env</code> is a fairly dangerous module to use like that; I would recommend only using it with a limited set of includes: <code>use Env qw&#47; $PATH &#47;;</code>, for example.  Also, you <i>don&#39;t</i> need to <code>use</code> it to access environment variables as <code>$ENV{OurKey}</code>; raw Perl has that ability."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 1, "creation_date": 1444199116, "post_id": 32978483, "comment_id": 53795230, "body": "<code>use Moose;</code> or one of lookalikes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444230871, "post_id": 32978483, "comment_id": 53816715, "body": "Notes: 1) That <code>use Env;</code> is useless. 2) <code>use lib &quot;$ENV{OurKey}&#47;RootLib&quot;;</code> should only be located in the script (.pl file), not the module (.pm file)."}, {"owner": {"reputation": 335, "user_id": 3277685, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f575975485ee13100d94c4d03c09dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3277685/chris"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1444322218, "post_id": 32978483, "comment_id": 53865448, "body": "@el.pescado, Moose isn&#39;t an option. That would required more changes than should be necessary to get this to work properly. Same goes for <code>use Env</code>, @ikegami"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 3277685, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f575975485ee13100d94c4d03c09dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3277685/chris"}, "edited": false, "score": 0, "creation_date": 1444161865, "post_id": 32978642, "comment_id": 53782696, "body": "Unfortunately, that won&#39;t work because (by some decision that was made before my time) the directory that Parent.pm is in, has the same name as Parent.pm. So we have <code>RootLib&#47;Parent&#47;Parent.pm</code> and <code>RootLib&#47;Parent&#47;Dir2&#47;Child.pm</code> I&#39;ve tried <code>require Parent;</code> and it fails to find it."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 335, "user_id": 3277685, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f575975485ee13100d94c4d03c09dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3277685/chris"}, "edited": false, "score": 1, "creation_date": 1444164398, "post_id": 32978642, "comment_id": 53784243, "body": "So if you do <code>use lib &quot;RootLib&#47;Parent&quot;; require Parent;</code>, it fails?"}, {"owner": {"reputation": 335, "user_id": 3277685, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f575975485ee13100d94c4d03c09dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3277685/chris"}, "edited": false, "score": 0, "creation_date": 1444214704, "post_id": 32978642, "comment_id": 53804772, "body": "I misread your example. It seems inheritance doesn&#39;t like to search through directories to get to the Parents and Children. However, my issue now is that I&#39;m getting <code>&quot;Subroutine foo redefined at Parent.pm line xxx&quot;</code>. I suspect this has to do with my Child&#39;s new subroutine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444232762, "post_id": 32978642, "comment_id": 53818219, "body": "Make no sense to have <code>use lib</code> in a module."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1444161650, "creation_date": 1444161650, "answer_id": 32978642, "question_id": 32978483, "link": "https://stackoverflow.com/questions/32978483/proper-perl-oo-inheritance/32978642#32978642", "title": "Proper Perl OO Inheritance", "body": "<p>The parent class declares it is in <code>package Parent</code> (even if the file that contains it is <code>Dir1/Parent.pm</code>), so the child's <code>@ISA</code> should just include <code>Parent</code>.</p>\n\n<p>Or you can work around your unfortunate directory structure with some additional <code>use lib ...</code> statements.</p>\n\n<pre><code>package Child;\nuse lib \"$ENV{OurKey}/RootLib/Dir1\";\nrequire Parent;      # found in $OurKey/RootLib/Dir1/Parent.pm\nour @ISA = ('Parent');\n...\n\n# test.pl\nuse lib \"$ENV{OurKey}/RootLib/Dir1/Dir2\";\nuse Child;           # found in $OurKey/RootLib/Dir1/Dir2/Child.pm\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1444232727, "last_edit_date": 1444232727, "creation_date": 1444231686, "answer_id": 32996346, "question_id": 32978483, "link": "https://stackoverflow.com/questions/32978483/proper-perl-oo-inheritance/32996346#32996346", "title": "Proper Perl OO Inheritance", "body": "<p>The to-be parent class has <code>package Parent;</code>, but then you have <code>@ISA = 'Dir1::Parent';</code>. Those don't match, which is why the method can't be found. (That, and the fact that you didn't actually define the method anywhere!)</p>\n\n<p>The file name, the name in the <code>package</code> statement, the name in the <code>use</code> statement, and the name in <code>@ISA</code> must all match.</p>\n\n<p>What follows are two possible solutions.</p>\n\n<hr>\n\n<h2>If the classes are named <code>Dir1::Parent</code> and <code>Dir1::Dir2::Child</code></h2>\n\n<pre><code>use lib \"$ENV{OurKey}/RootLib\";\n\nuse Dir1::Parent      qw( );\nuse Dir1::Dir2::Child qw( );\n</code></pre>\n\n<p>(Note that <code>use Env</code> was removed since it wasn't being used.)</p>\n\n<p><code>(.../RootLib/)Dir1/Parent.pm</code>:</p>\n\n<pre><code>package Dir1::Parent;          # Must match the file name.\nuse strict;\nuse warnings;\n\n...\n</code></pre>\n\n<p><code>(.../RootLib/)Dir1/Dir2/Child.pm</code>:</p>\n\n<pre><code>package Dir1::Dir2::Child;     # Must match the file name.\nuse strict;\nuse warnings;\n\nuse Dir1::Parent qw( );        # Must match the file name\nour @ISA = 'Dir1::Parent';     #   and the package name.\n   -or-\nuse parent 'Dir1::Parent';     # This can replace the other two lines.\n\n...\n</code></pre>\n\n<h2>If the classes are named <code>Parent</code> and <code>Child</code></h2>\n\n<p>Don't modify @INC (e.g. via <code>use lib</code>) in modules. Your script should contain the following:</p>\n\n<pre><code>use lib\n   \"$ENV{OurKey}/RootLib/Dir1\",\n   \"$ENV{OurKey}/RootLib/Dir1/Dir2\";\n\nuse Parent qw( );\nuse Child  qw( );\n</code></pre>\n\n<p>(Note that it's really weird to have a library directory inside of another library directory!)</p>\n\n<p><code>(.../RootLib/Dir1/)Parent.pm</code>:</p>\n\n<pre><code>package Parent;                # Must match the file name.\nuse strict;\nuse warnings;\n\n...\n</code></pre>\n\n<p><code>(.../RootLib/Dir1/Dir2/)Child.pm</code>:</p>\n\n<pre><code>package Child;                 # Must match the file name.\nuse strict;\nuse warnings;\n\nuse Parent qw( );              # Must match the file name\nour @ISA = 'Parent';           #    and the package name.\n   -or-\nuse parent 'Parent';           # This can replace the other two lines.\n\n...\n</code></pre>\n\n<hr>\n\n<p>As for the constructors,</p>\n\n<p>Parent:</p>\n\n<pre><code>sub new {\n    my $class = shift;                # That proto thing is a bad practice.\n    my $self = bless({}, $class);     # Don't need two lines to do this.\n\n    # ...\n\n    return $self;\n}\n</code></pre>\n\n<p>Child:</p>\n\n<pre><code>sub new {\n    my $class = shift;                # That proto thing is a bad practice.\n    my $self = $class::SUPER-&gt;new();  # Don't need two lines to do this.\n                                      # If you don't need to do anything here,\n    # ...                             #   you can just inherit the parent's new\n                                      #   by removing this sub entirely.\n    return $self;\n}\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 3277685, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f575975485ee13100d94c4d03c09dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3277685/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1517671317, "creation_date": 1444161088, "last_edit_date": 1517671317, "question_id": 32978483, "link": "https://stackoverflow.com/questions/32978483/proper-perl-oo-inheritance", "title": "Proper Perl OO Inheritance", "body": "<p>I'm trying to create a child class of a custom module that we have in our code base. We have our modules in a directory that we include in all of our files. So we begin with</p>\n\n<pre><code>use Env;\nuse lib \"$ENV{OurKey}/RootLib\"; # All of our modules are here\n</code></pre>\n\n<p>Next, I have my parent module, located in <code>RootLib/Dir1/Parent.pm</code> whose code has been long standing, and so I'd rather not change any of it, but rather have the child be able to inherit from it as it is.</p>\n\n<pre><code>package Parent;\nuse strict;\nuse warnings;\nuse Env;\nuse lib \"$ENV{OurKey}/RootLib\";\n\nsub new {\n    my $proto = shift;\n    my $class = ref($proto) || $proto;\n    my $self = {};\n\n    # Some other stuff\n\n    bless ($self, $class);\n    return $self;\n}\n</code></pre>\n\n<p>At this point, I'm a bit lost, because I've seen a number of different ways to define the child constructor, but none have worked for me. This is what I have, but it does not work because subroutines that should be inheritied from the parent cannot be found in the child package. The child package is in <code>RootLib/Dir1/Dir2/Child.pm</code></p>\n\n<pre><code>package Child;\nuse strict;\nuse warnings;\nuse vars qw(@ISA);\nuse Env;\nuse lib \"$ENV{OurKey}/RootLib\";\n\nrequire Dir1::Parent;\npush @ISA, 'Dir1::Parent';\n\nsub new {\n    # This constructor is clearly incorrect, please help\n    my $proto = shift;\n    my $class = ref($proto) || $proto;\n    my $self = Parent::new($class);\n\n    bless ($self, $class);\n    return $self;\n}\n</code></pre>\n\n<p>And then, in my test.pl file, I have</p>\n\n<pre><code>use Env;\nuse lib \"$ENV{OurKey}/RootLib\";\nuse Dir1::Dir2::Child;\n\nmy $childObj = Child-&gt;new();\n$childObj-&gt;inheritedParentSubroutine( ... ); # Cannot find this subroutine\n</code></pre>\n"}, {"tags": ["perl", "time", "timer", "exception-handling"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1444159084, "post_id": 32977824, "comment_id": 53780975, "body": "LWP::UserAgent has a <a href=\"https://metacpan.org/pod/LWP::UserAgent#ua-timeout\" rel=\"nofollow noreferrer\">timeout setting</a> that defaults to 3 minutes. See <a href=\"http://stackoverflow.com/q/10989783/176646\">stackoverflow.com/q/10989783/176646</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1444159300, "post_id": 32977824, "comment_id": 53781126, "body": "Note this caveat: &quot;The requests is aborted if no activity on the connection to the server is observed for <i>timeout</i> seconds. This means that the time it takes for the complete transaction and the request() method to actually return might be longer.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1444160024, "post_id": 32978084, "comment_id": 53781612, "body": "Why the double eval? Why another <code>alarm 0</code> at the end?"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1444191739, "last_edit_date": 1444191739, "creation_date": 1444159647, "answer_id": 32978084, "question_id": 32977824, "link": "https://stackoverflow.com/questions/32977824/skip-if-a-request-takes-too-much-time/32978084#32978084", "title": "Skip if a request takes too much time", "body": "<p>You could use <code>SIGALRM</code>.</p>\n\n<pre><code>$SIG{ALRM} = sub { die \"timeout\" };\n\neval {\n    alarm(10);\n    # long-time operations here\n    alarm(0);\n};\n\nif ($@) {\n    if ($@ =~ /timeout/) {\n                            # timed out; do what you will here\n    } else {\n        alarm(0);           # clear the still-pending alarm\n        die;                # propagate unexpected exception\n    } \n}\n</code></pre>\n"}], "owner": {"reputation": 8684, "user_id": 702977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/859cd18fc4bc067aa389b7c408eeb572?s=128&d=identicon&r=PG", "display_name": "SoftTimur", "link": "https://stackoverflow.com/users/702977/softtimur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444191739, "creation_date": 1444158751, "last_edit_date": 1444159061, "question_id": 32977824, "link": "https://stackoverflow.com/questions/32977824/skip-if-a-request-takes-too-much-time", "title": "Skip if a request takes too much time", "body": "<p>I have the following code to request a header from an URL:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse LWP;\nuse Data::Dumper;\n\nmy $request = HTTP::Request -&gt; new ( HEAD =&gt; 'http://www.vliruos.be/media/6352100/nss2015_annex_3_budget.xlsx' ); \nmy $agent = LWP::UserAgent -&gt; new;\nmy $response = $agent -&gt; request ( $request );\nprint $response -&gt; header ( 'Content-Length'); \n\n...\n</code></pre>\n\n<p>I don't know the reason, but the request seems very slow, it takes more than 10 seconds for me. I just want to implement a rule: if it does not return anything in 10 seconds, it should give up and resume the commands after the <code>print</code>.</p>\n\n<p>Does anyone know how to implement this?</p>\n"}, {"tags": ["perl", "mailchimp"], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1444157284, "post_id": 32976425, "comment_id": 53779942, "body": "Thanks for the reply. Doing this doesn&#39;t seem to do it though (the confirmation still comes in as english): <code>$mailchimp-&gt;listSubscribe( id =&gt; &quot;75a6bfd589&quot;, email_address =&gt; $in-&gt;{Email}, merge_vars =&gt; [ FNAME =&gt; $name[0], LNAME =&gt; $name[1], MC_LANGUAGE =&gt; &quot;fr&quot; ] );</code> ... any ideas?"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1444159103, "post_id": 32976425, "comment_id": 53780984, "body": "Mmm there must be something up with the 1.3 API. Even FNAME and LNAME are not getting passed in using: <code>merge_vars =&gt; [ FNAME =&gt; &#39;xxxx&#39;, LNAME =&gt; &#39;yxxx&#39;, MC_LANGUAGE =&gt; &quot;fr&quot; ]</code>. Maybe I&#39;ll give it another go tomorrow, but add some debug into the MailChimp.pm file, so I can see what request is actually being called (looks like it&#39;d be worth moving to v3.0 as well, as 1.3 and 2.0 look like they are being depreciated anyway :))"}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 1, "creation_date": 1444207817, "post_id": 32976425, "comment_id": 53800241, "body": "Ok, so it looks like its a LOT more tricky than I was hoping!  I&#39;ve no got: <code>https:&#47;&#47;us6.api.mailchimp.com&#47;2.0&#47;lists&#47;subscribe.json?apike&zwnj;&#8203;y=xxxx&amp;id=xxxx&amp;email&zwnj;&#8203;[email]=xxxx&amp;merge_v&zwnj;&#8203;ars[FNAME]=John&amp;merg&zwnj;&#8203;e_vars[LNAME]=Doe&amp;me&zwnj;&#8203;rge_vars[MC_LANGUAGE&zwnj;&#8203;]=fr</code> ... however, it still ignores the language :/ I&#39;m going to see if I can find a specific MailChimp forum, to try and ask whats going on"}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 2, "last_activity_date": 1444154022, "creation_date": 1444154022, "answer_id": 32976425, "question_id": 32976195, "link": "https://stackoverflow.com/questions/32976195/adding-language-variable-into-wwwmailchimp-subscription/32976425#32976425", "title": "Adding language variable into WWW::Mailchimp (subscription)", "body": "<p>From looking at the <a href=\"https://metacpan.org/source/ARCANEZ/WWW-Mailchimp-0.010/lib/WWW/Mailchimp.pm\" rel=\"nofollow\">source</a>, it defaults to API 1.3:</p>\n\n<pre><code>has api_version =&gt; (\n  is =&gt; 'ro',\n  isa =&gt; Num,\n  lazy =&gt; 1,\n  default =&gt; sub { 1.3 },\n);\n</code></pre>\n\n<p>The documentation for that <a href=\"https://apidocs.mailchimp.com/api/1.3/listsubscribe.func.php\" rel=\"nofollow\">shows</a> you need to use MC_LANGUAGE:</p>\n\n<blockquote>\n  <p>string    MC_LANGUAGE Set the member's language preference. Supported\n  codes are fully case-sensitive and can be found <a href=\"http://kb.mailchimp.com/article/can-i-see-what-languages-my-subscribers-use#code\" rel=\"nofollow\">here</a>.</p>\n</blockquote>\n\n<p>It looks like the module just shoves whatever data structure you provide into JSON and POSTs it to Mailchimp, so the appropriate Mailchimp API doc version for the API you target should be referenced as a primary source. </p>\n"}, {"tags": [], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "is_accepted": true, "score": 0, "last_activity_date": 1444838353, "creation_date": 1444838353, "answer_id": 33130152, "question_id": 32976195, "link": "https://stackoverflow.com/questions/32976195/adding-language-variable-into-wwwmailchimp-subscription/33130152#33130152", "title": "Adding language variable into WWW::Mailchimp (subscription)", "body": "<p>Ok, so I got there in the end! I have been talking with MailChimp support, and they were very helpful. Turns out it was a double issue.</p>\n\n<p>1) <strong>Auto-Translate</strong> needed to be enabled for the list in question. This was their answer around that:</p>\n\n<blockquote>\n  <p>After taking a look at the call, it appears to be set up properly now, so you are all good on that front. That being said, I am seeing\n  that the Auto-translate option doesn't seem to be enabled for any of\n  your lists. In order for the Confirmation and all other response\n  emails to automatically translate, this will need to be enabled for\n  all of the lists being used.</p>\n  \n  <p>We have a bit of additional information on that, here, if you'd like to check that out:\n  <a href=\"http://kb.mailchimp.com/lists/signup-forms/translate-signup-forms-and-emails#Auto-Translate-Forms\" rel=\"nofollow\">http://kb.mailchimp.com/lists/signup-forms/translate-signup-forms-and-emails#Auto-Translate-Forms</a></p>\n</blockquote>\n\n<p>2) When making the request via the API, you need to specifically set the <code>Accept-Language: xx</code> value. For example, en, fr, es, de, etc.</p>\n\n<p>Here is a working function for anyone who needs it in the future. Just be sure to update the apikey,listId and endpoint URL.</p>\n\n<pre><code>do_register_email_list('foo@bar.com','Andrew Test',\"en\")\n\nsub do_register_email_list {\n# (email,name,lang)\n\n    use WWW::Curl::Easy;\n    use Digest::MD5;\n    use JSON;\n\n    my @name = split /\\s+/, $_[1];\n    my $apikey = 'xxxx-us6';\n    my $listid = 'xxxx';\n    my $email = $_[0];\n    my $endpoint = \"https://us6.api.mailchimp.com/3.0/lists\";\n    my $lang = $_[2]||'en';\n\n    my $json = JSON::encode_json({\n        'email_address' =&gt; $email,\n        'status'        =&gt; 'pending',\n        'language' =&gt; $lang,\n        'merge_fields'  =&gt; {\n            'FNAME'     =&gt; $name[0]||'',\n            'LNAME'     =&gt; $name[1]||''\n        }\n    });\n\n    my $curl = WWW::Curl::Easy-&gt;new;\n\n    my $url = \"$endpoint/$listid/members/\" . Digest::MD5::md5(lc($email));\n\n    $curl-&gt;setopt(CURLOPT_HEADER,1);\n    $curl-&gt;setopt(CURLOPT_URL, $url);\n\n#    $curl-&gt;setopt(CURLOPT_VERBOSE, 1);\n    $curl-&gt;setopt(CURLOPT_USERPWD, 'user:' . $apikey);\n    $curl-&gt;setopt(CURLOPT_HTTPHEADER, ['Content-Type: application/json',\"Accept-Language: $lang\"]);\n    $curl-&gt;setopt(CURLOPT_TIMEOUT, 10);\n    $curl-&gt;setopt(CURLOPT_CUSTOMREQUEST, 'PUT');\n    $curl-&gt;setopt(CURLOPT_SSL_VERIFYPEER, 0);\n    $curl-&gt;setopt(CURLOPT_POSTFIELDS, $json);\n\n    # A filehandle, reference to a scalar or reference to a typeglob can be used here.\n    my $response_body;\n    $curl-&gt;setopt(CURLOPT_WRITEDATA,\\$response_body);\n\n    # Starts the actual request\n    my $retcode = $curl-&gt;perform;\n\n#print \"FOO HERE\";\n    # Looking at the results...\n    if ($retcode == 0) {\n        print \"Transfer went ok\\n\";\n        my $response_code = $curl-&gt;getinfo(CURLINFO_HTTP_CODE);\n        print \"Received response: $response_body\\n\";\n    } else {\n        # Error code, type of error, error message\n        print \"An error happened: $retcode \".$curl-&gt;strerror($retcode).\" \".$curl-&gt;errbuf.\"\\n\";\n    }\n}\n</code></pre>\n\n<p>Hopefully this saves someone else from all the grief I had with it :) (the MailChimp support lady also said she will get their team to add something about this in the developer notes, so its made a bit clearer!)</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 33130152, "answer_count": 2, "score": 0, "last_activity_date": 1444838353, "creation_date": 1444153189, "last_edit_date": 1444215544, "question_id": 32976195, "link": "https://stackoverflow.com/questions/32976195/adding-language-variable-into-wwwmailchimp-subscription", "title": "Adding language variable into WWW::Mailchimp (subscription)", "body": "<p>I'm trying to work out how I can use <strong>WWW::Mailchimp</strong> ( <a href=\"http://search.cpan.org/~arcanez/WWW-Mailchimp/\" rel=\"nofollow\">http://search.cpan.org/~arcanez/WWW-Mailchimp/</a> ) to sign someone up to our list, but also assign the language of the person (i.e english, french, german, spanish, etc). </p>\n\n<p>Here is what I have thus far:</p>\n\n<pre><code>my $mailchimp = WWW::Mailchimp-&gt;new(apikey =&gt; 'xxxx' );\n   $mailchimp-&gt;listSubscribe( id =&gt; \"xxx\", email_address =&gt; $in-&gt;{Email}, merge_vars =&gt; [ FNAME =&gt; $name[0], LNAME =&gt; $name[1], mc_language =&gt; \"fr\", LANG =&gt; \"fr\", LANGUAGE =&gt; \"fr\" ] );\n</code></pre>\n\n<p><strong>mc_language => \"fr\", LANG => \"fr\", LANGUAGE => \"fr\"</strong> doesn't seem to do anything (been trying all the params I see laying around, in the vain hope one of them works!)</p>\n\n<p>While it works (and asks you to confirm your subscription), all the language variables are ignored. Looking at their documents, I'm a bit confused as to what to use:</p>\n\n<p><a href=\"https://apidocs.mailchimp.com/api/2.0/lists/subscribe.php\" rel=\"nofollow\">https://apidocs.mailchimp.com/api/2.0/lists/subscribe.php</a></p>\n\n<p>The code \"fr\" is ok, but I'm unsure what params to pass along to it.</p>\n\n<p>Has anyone had any experience with this before? Apart from the language, it works fine (but I need to be able to send the confirmation emails in their own language, and then also filter down when doing mailings)</p>\n\n<p><strong>UPDATE:</strong> Ok, so it looks like its not going to be a simple case of updating to the newer API. I've been looking into the v3.0 API, and its a total overhaul of the older one (new function names, new ways of sending requests, etc). What I'm going to do is look into a \"Curl\" method, so we can at least get it going with that. Once I've got that going, I'll probably have a look at coding something to work with LWP::UserAgent, as that'd be cleaner than doing lots of curl requests. Shame there isn't anything out there already for Perl and MailChimp (with the new API, or even version 2.0!)</p>\n"}, {"tags": ["perl", "validation", "dns", "getopt-long", "data-dumper"], "comments": [{"owner": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "edited": false, "score": 1, "creation_date": 1444170593, "post_id": 32975932, "comment_id": 53787154, "body": "&quot;Attempt to reload Net/DNS/RR.pm aborted.&quot; Are you sure this is the first error you get? What version of Net::DNS is installed? Have you tried downloading that version from cpan/backpan and running its tests?"}, {"owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "reply_to_user": {"reputation": 1493, "user_id": 4399474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/071244d72e3a6f73f9329753619eeb7c?s=128&d=identicon&r=PG", "display_name": "user52889", "link": "https://stackoverflow.com/users/4399474/user52889"}, "edited": false, "score": 0, "creation_date": 1444232074, "post_id": 32975932, "comment_id": 53817712, "body": "I just used Godaddy&#39;s perl module installer from cPanel. Their Cloud Linux does not offer permissions for me ot install anything using SSH or FTP. I had a feeling that it was them because I had this script tested on 3 other servers outside of Godaddy, one of them is Cloud Linux, and it works just fine. Godaddy is not taking any responsibility for it. So, it is getting aggravating. Luckily, they are not the only hosting company out there. If you answer the question, I can market yours as the answer."}], "answers": [{"tags": [], "owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "is_accepted": false, "score": 0, "last_activity_date": 1444800408, "creation_date": 1444800408, "answer_id": 33117229, "question_id": 32975932, "link": "https://stackoverflow.com/questions/32975932/perl-dns-validation-using-modules-netdns-datadumper-and-getoptlong-errors/33117229#33117229", "title": "Perl DNS Validation using modules Net::DNS, Data::Dumper and Getopt::Long errors", "body": "<p>I switched from using a Web hosting service to using a cloud computing solution. I now have a VM of CentOS 7 and Net::DNS and all of the perl modules I need work just fine.</p>\n\n<p>The only snag I had was with Mail::CheckUser, but I realized I needed to install other dependencies, the Mail::CheckUser installed fine as well. </p>\n"}], "owner": {"reputation": 237, "user_id": 4991942, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/905abcb6fad9972a27b72013bdff9d95?s=128&d=identicon&r=PG&f=1", "display_name": "technerdius", "link": "https://stackoverflow.com/users/4991942/technerdius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1444800408, "creation_date": 1444152304, "question_id": 32975932, "link": "https://stackoverflow.com/questions/32975932/perl-dns-validation-using-modules-netdns-datadumper-and-getoptlong-errors", "title": "Perl DNS Validation using modules Net::DNS, Data::Dumper and Getopt::Long errors", "body": "<pre><code>#!/usr/bin/perl\n\n# S Validation Script\n\nuse strict;\n\nuse Net::DNS;\nuse Data::Dumper;\n\nuse Getopt::Long;\n\n$| = 1;\n\nmy $USAGE = \"$0 --file &lt;domains file to read&gt;\";\n\nmy $input_filename = \"\";\nGetOptions(\"--file=s\" =&gt; \\$input_filename) or die $USAGE;\n\nif (! $input_filename || ! -e $input_filename){\n    print \"Missing or invalid --file option\\n\";\n    die $USAGE;\n}\n\nopen(my $fh, \"&lt;\", $input_filename) or die \"Can't open $input_filename for     reading: $!\";\nmy @lines = &lt;$fh&gt;;\nclose($fh);\n\nmy $pass = 0;\nmy $fail = 0;\n\nopen(my $pass_fh, \"&gt;\", $input_filename . \".pass\") or die \"Can't open     $input_filename.pass for writing: $!\";\nopen(my $fail_fh, \"&gt;\", $input_filename . \".fail\") or die \"Can't open     $input_filename.fail for writing: $!\";\n\nforeach my $hostname (@lines){\n    $hostname =~ s/[\\r\\n]//;\n\n     print \"Working on $hostname: \";\n\n     # servers to check\n    my @servers = qw(8.8.8.8 208.76.121.64 8.8.4.4);\n\n    my %results;\n    foreach my $server (@servers) {\n        $results{$server} = lookup( $hostname, $server );\n    }\n\n    my %inv = reverse %results; # invert results - it should have one key if all are the same\n    if (scalar keys %inv &gt; 1) { # if it has more than one key\n        print \"Fail\\n\";\n        $fail++;\n        print $fail_fh $hostname . \"\\n\";\n        #print \"The results are different:\\n\";\n        #print Data::Dumper-&gt;Dump( [ \\%results ], ['results'] ), \"\\n\";\n    }\n     else {\n        print \"Pass\\n\";\n        $pass++;\n        print $pass_fh $hostname . \"\\n\";\n    }\n}\n\nprint \"Total domains checked: \" . ($pass + $fail) . \"\\n\";\nprint \"Pass: $pass\\n\";\nprint \"Fail: $fail\\n\";\nclose($pass_fh);\nclose($fail_fh);\n\nsub lookup {\n    my ( $hostname, $server ) = @_;\n\n    my $res = new Net::DNS::Resolver;\n    $res-&gt;nameservers($server);\n    my $packet = $res-&gt;query($hostname);\n\n    if ( !$packet ) {\n        warn \"$server not returning any data for $hostname!\\n\";\n        return;\n    }\n    my (@results);\n    foreach my $rr ( $packet-&gt;answer ) {\n        next unless $rr-&gt;type eq \"A\";\n        push ( @results, $rr-&gt;address );\n    }\n    return join( ', ', sort @results );\n}\n</code></pre>\n\n<p>When I run this script, I get the following errors:</p>\n\n<pre><code>    Attempt to reload Net/DNS/RR.pm aborted.\nCompilation failed in require at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Packet.pm line 35.\nBEGIN failed--compilation aborted at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Packet.pm line 35.\nCompilation failed in require at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Resolver/Base.pm line 25.\nBEGIN failed--compilation aborted at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Resolver/Base.pm line 25.\nCompilation failed in require at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Resolver/UNIX.pm line 9.\nBEGIN failed--compilation aborted at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Resolver/UNIX.pm line 9.\nCompilation failed in require at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Resolver.pm line 27.\nBEGIN failed--compilation aborted at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS/Resolver.pm line 30.\nCompilation failed in require at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS.pm line 106.\nBEGIN failed--compilation aborted at /home/website/perl5/lib/perl5/x86_64-linux-thread-multi/Net/DNS.pm line 106.\nCompilation failed in require at ./script.pl line 7.\nBEGIN failed--compilation aborted at ./script.pl line 7.\n</code></pre>\n\n<p>I made sure that all Net::DNS, Data::Dumper, and Getopt::Long modules are installed.</p>\n\n<p>How do I fix this so that I can just type ./script --filename?</p>\n\n<p>The filename is a list of domain names to validate. </p>\n"}, {"tags": ["perl", "recursion", "grouping"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1444152354, "post_id": 32975805, "comment_id": 53777055, "body": "You may want to profile your code <a href=\"http://stackoverflow.com/questions/4371714/how-do-i-profile-my-perl-programs\" title=\"how do i profile my perl programs\">stackoverflow.com/questions/4371714/&hellip;</a> Btw, <code>delete $count{$_} foreach keys %count;</code> can be replaced with <code>%count = ();</code> Btw2, don&#39;t copy arrays around if not necessary, ie. <code>my @RNA_A = @$tran_ref;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1444153203, "post_id": 32975805, "comment_id": 53777549, "body": "<code>my $x =()= keys %REV_ALIGN</code> =&gt; <code>my $x = keys %REV_ALIGN</code>"}, {"owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1444153268, "post_id": 32975805, "comment_id": 53777588, "body": "thanks for some suggestions everyone."}, {"owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "edited": false, "score": 0, "creation_date": 1444159371, "post_id": 32975805, "comment_id": 53781178, "body": "is what correct? list context returns a list but I don&#39;t think scalar context would work by itself"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "edited": false, "score": 0, "creation_date": 1444161955, "post_id": 32978186, "comment_id": 53782747, "body": "Thanks for taking the time to respond with this. I&#39;m not familiar with graphs. Having the dna as well isn&#39;t required but I&#39;ll see how this works and get back to you"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "edited": false, "score": 0, "creation_date": 1444162152, "post_id": 32978186, "comment_id": 53782870, "body": "Added RNA-only version to bottom of answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1444162133, "last_edit_date": 1444162133, "creation_date": 1444160009, "answer_id": 32978186, "question_id": 32975805, "link": "https://stackoverflow.com/questions/32975805/grouping-with-perl-finding-a-faster-solution-to-recursion/32978186#32978186", "title": "Grouping with Perl: finding a faster solution to recursion", "body": "<p>You have a loops nested four deep. It's an pretty safe bet that's why your code scales poorly.</p>\n\n<p>If I understand correctly what you are trying to accomplish, the input</p>\n\n<pre><code>my %REV_ALIGN = (\n   \"DNA1\" =&gt; { map { $_ =&gt; undef } \"RNA1\", \"RNA2\" }, # \\ Linked by RNA1     \\\n   \"DNA2\" =&gt; { map { $_ =&gt; undef } \"RNA1\", \"RNA3\" }, # /  \\ Linked by RNA3   &gt; Group\n   \"DNA3\" =&gt; { map { $_ =&gt; undef } \"RNA3\", \"RNA4\" }, #    /                 /\n\n   \"DNA4\" =&gt; { map { $_ =&gt; undef } \"RNA5\", \"RNA6\" }, # \\ Linked by RNA5     \\  Group\n   \"DNA5\" =&gt; { map { $_ =&gt; undef } \"RNA5\", \"RNA7\" }, # /                    /\n\n   \"DNA6\" =&gt; { map { $_ =&gt; undef } \"RNA8\" },         #                      &gt;  Group\n);\n</code></pre>\n\n<p>should result in</p>\n\n<pre><code>my @groups = (\n   [\n      dna =&gt; [ \"DNA1\", \"DNA2\", \"DNA3\" ],\n      rna =&gt; [ \"RNA1\", \"RNA2\", \"RNA3\", \"RNA4\" ],\n   ],\n   [\n      dna =&gt; [ \"DNA4\", \"DNA5\" ],\n      rna =&gt; [ \"RNA5\", \"RNA6\", \"RNA7\" ],\n   ],\n   [\n      dna =&gt; [ \"DNA6\" ],\n      rna =&gt; [ \"RNA8\" ],\n   ],\n);\n</code></pre>\n\n<p>If so, you can use the following:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Graph::Undirected qw( );\n\nmy %REV_ALIGN = (\n   \"DNA1\" =&gt; { map { $_ =&gt; undef } \"RNA1\", \"RNA2\" },\n   \"DNA2\" =&gt; { map { $_ =&gt; undef } \"RNA1\", \"RNA3\" },\n   \"DNA3\" =&gt; { map { $_ =&gt; undef } \"RNA3\", \"RNA4\" },\n   \"DNA4\" =&gt; { map { $_ =&gt; undef } \"RNA5\", \"RNA6\" },\n   \"DNA5\" =&gt; { map { $_ =&gt; undef } \"RNA5\", \"RNA7\" },\n   \"DNA6\" =&gt; { map { $_ =&gt; undef } \"RNA8\" },\n);\n\nmy $g = Graph::Undirected-&gt;new();\nfor my $dna (keys(%REV_ALIGN)) {\n   for my $rna (keys(%{ $REV_ALIGN{$dna} })) {\n      $g-&gt;add_edge(\"dna:$dna\", \"rna:$rna\");\n   }\n}\n\nmy @groups;\nfor my $raw_group ($g-&gt;connected_components()) {\n   my %group = ( dna =&gt; [], rna =&gt; [] );\n   for (@$raw_group) {\n      my ($type, $val) = split(/:/, $_, 2);\n      push @{ $group{$type} }, $val;\n   }\n\n   push @groups, \\%group;\n}\n\nuse Data::Dumper qw( Dumper );\nprint(Dumper(\\@groups));\n</code></pre>\n\n<p>If you just want the RNA, the final section simplifies to the following:</p>\n\n<pre><code>my @groups;\nfor my $raw_group ($g-&gt;connected_components()) {\n   my @group;\n   for (@$raw_group) {\n      my ($type, $val) = split(/:/, $_, 2);\n      push @group, $val if $type eq 'rna';\n   }\n\n   push @groups, \\@group;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5282974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbb36c06721bb613fe8f069a9f273e1?s=128&d=identicon&r=PG&f=1", "display_name": "robertb", "link": "https://stackoverflow.com/users/5282974/robertb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444162133, "creation_date": 1444151811, "question_id": 32975805, "link": "https://stackoverflow.com/questions/32975805/grouping-with-perl-finding-a-faster-solution-to-recursion", "title": "Grouping with Perl: finding a faster solution to recursion", "body": "<p>The Perl code below works, but it doesn't scale well even with considerable computer resources. I hoping that someone can help me find more efficient code such as by replacing recursion with iteration, if that's the problem.  </p>\n\n<p>my data structure looks like this:\nmy %REV_ALIGN;<br>\n$REV_ALIGN{$dna}{$rna} = ();</p>\n\n<p>Any dna key may have multiple rna sub keys. The same rna sub key may appear with multiple different dna keys. The purpose is to group rna ( transcripts ) based on shared dna sequence elements. For example, if dnaA has RNA1, RNA8, RNA9, and RNA4, and dnaB has RNA11, RNA4, and RNA99, then we group all these transcripts together ( RNA1, RNA9, RNA4, RNA11, RNA99 ) and continue to proceed to try and add to the group by selecting other dna. My recusive solution to this problem works but doesn't scale so well when using data from whole genome to transcriptome alignment. </p>\n\n<p>SO MY QUESTION IS: WHAT IS A MORE EFFICIENT SOLUTION TO THIS PROBLEM?  THANK YOU VERY MUCH  </p>\n\n<pre><code>my @groups;\n\nwhile ( my $x =()= keys %REV_ALIGN )\n{\n    my @DNA = keys %REV_ALIGN;\n    my $dna = shift @DNA;\n    # the corresponding list of rna\n    my @RNA = keys %{$REV_ALIGN{$dna}};\n    delete $REV_ALIGN{$dna};\n\n    if ( $x == 1 )\n    {\n        push @groups, \\@RNA;\n        last;\n    }\n\n    my $ref = group_transcripts ( \\@RNA, \\%REV_ALIGN );\n    push @groups, $ref;\n}\n\n\nsub group_transcripts\n{\n    my $tran_ref = shift;\n    my $align_ref = shift;\n    my @RNA_A = @$tran_ref;\n    my %RNA;\n    # create a null hash with seed list of transcripts\n    @RNA{@RNA_A} = ();\n    # get a list of all remaining dna sequences in the alignment\n    my @DNA = keys %{$align_ref};\n    my %count;\n    # select a different list of transcripts\n    for my $dna ( @DNA )\n    {\n        next unless exists $align_ref-&gt;{$dna};\n        my @RNA_B = keys %{$align_ref-&gt;{$dna}};\n        # check to see two list share and transcripts\n        for my $element ( @RNA_A, @RNA_B )\n        {\n            $count{$element}++;\n        }\n        for my $rna_a ( keys %count )\n        {\n            # if they do, add any new transcripts to the current group\n            if ( $count{$rna_a} == 2 )\n            {\n                for my $rna_b ( @RNA_B )\n                {\n                    push @RNA_A, $rna_b if $count{$rna_b} == 1;\n                }\n                delete $align_ref-&gt;{$dna};\n                delete $count{$_} foreach keys %count;\n                # recurse to try and continue adding to list\n                @_ = ( \\@RNA_A, $align_ref );\n                goto &amp;group_transcripts;\n            }\n        }\n        delete $count{$_} foreach keys %count;\n    }\n   # if no more transcripts can be added, return a reference to the group\n    return \\@RNA_A;\n}\n</code></pre>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444147525, "post_id": 32974507, "comment_id": 53774139, "body": "You may find the <code>quotemeta</code> function useful here. But it would be useful if you could print the contents of <code>@cmd_args</code> so we can see how the interpolation is breaking ,because we can&#39;t tell how the input is getting handled in your code."}, {"owner": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444147763, "post_id": 32974507, "comment_id": 53774288, "body": "Thanks for help. I shall try quotemeta also. The current debug output from dumper is perfect.  ----&gt;  -f=&quot;&lt;ashish@isthisreal.com&gt;&quot; -r=&quot;&lt;areyouarealperson@somedomain.com&gt;&quot;"}, {"owner": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444147872, "post_id": 32974507, "comment_id": 53774351, "body": "Please also note that I have not posted the whole code (also truncated subs) and just the relevant part as there are many more options that are being passed to the command line and much more stuff being done here. I have just posted what I thought was relevant here. Let me know if more details are needed."}, {"owner": {"reputation": 839, "user_id": 2261349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e843e82fbb2a5a476808321e72c720c?s=128&d=identicon&r=PG", "display_name": "Znik", "link": "https://stackoverflow.com/users/2261349/znik"}, "edited": false, "score": 0, "creation_date": 1581588513, "post_id": 32974507, "comment_id": 106488918, "body": "before exec command, simple print &quot;$cmd  @cmd_args&quot; and look it is ok. In this situation, you are not 100% sure all inputs to $cmd sare ok."}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "edited": false, "score": 0, "creation_date": 1444148051, "post_id": 32974623, "comment_id": 53774462, "body": "ikegami, If you are talking about--&gt; $mf =~ s/@/\\\\@/ig; ## Tried escaping @, incorrect results, then I have already tried without it, the result is the same.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "edited": false, "score": 1, "creation_date": 1444148319, "post_id": 32974623, "comment_id": 53774649, "body": "Right, removing the <code>s&#47;&#47;&#47;</code> just removes your bad fix. You still need to solve the original problem. I explained what the problem is and how to fix it in my answer. Please reread."}, {"owner": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "edited": false, "score": 0, "creation_date": 1444166345, "post_id": 32974623, "comment_id": 53785358, "body": "Thanks again. unfortunately, the &quot;&lt;&quot; &amp; &quot;&gt;&quot; characters in email addr create problem in bash, if they are not in quotes. Also, I tested with &quot;-f=$mf&quot;, if I try to print it, &quot;@isthsreal&quot; is expanded to &#39;&#39; unless I escape it. Please lemme know if i am doing something wrong here."}, {"owner": {"reputation": 263, "user_id": 4544319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5d424615459eed99418ce56f93de90?s=128&d=identicon&r=PG", "display_name": "The Sidhekin", "link": "https://stackoverflow.com/users/4544319/the-sidhekin"}, "edited": false, "score": 0, "creation_date": 1444178476, "post_id": 32974623, "comment_id": 53789354, "body": "Your <code>exec $cmd, LIST</code> runs <code>$cmd</code>, not bash.  No shell involved.  No need to protect special shell characters.  And no shell to apply the quotes and backslashes you&#39;re adding, so they&#39;re passed to <code>$cmd</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444183242, "post_id": 32974623, "comment_id": 53790463, "body": "Re &quot;unfortunately, the &quot;&lt;&quot; &amp; &quot;&gt;&quot; characters in email addr create problem in bash&quot;, You&#39;re not writing a shell command. The strings passed to <code>exec</code> are passed to the program, which isn&#39;t bash."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1444183264, "post_id": 32974623, "comment_id": 53790472, "body": "Re &quot;Also, I tested with &quot;-f=$mf&quot;, if I try to print it, &quot;@isthsreal&quot; is expanded to &#39;&#39;&quot;, That&#39;s not true. If the output of <code>&quot;-f=$mf&quot;</code> doesn&#39;t contain <code>@isthsreal</code>, then <code>$mf</code> didn&#39;t contain <code>@isthsreal</code> in the first place."}, {"owner": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "edited": false, "score": 0, "creation_date": 1444209978, "post_id": 32974623, "comment_id": 53801750, "body": "I made a small mistake in the question with exec (while writing sample prog). I am calling exec as exec {$cmd} ($cmd,@cmd_args); I read the documentation @ <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/exec.html</a> and I think this is the reason what you mention above does not work. :( sorry again, but please ignore this error and guide."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444224342, "post_id": 32974623, "comment_id": 53811529, "body": "That doesn&#39;t change anything. The two forms are equivalent when the array isn&#39;t empty. Curly form is safer"}, {"owner": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "edited": false, "score": 0, "creation_date": 1444228188, "post_id": 32974623, "comment_id": 53814611, "body": "Thanks Again Ikegami for all the help. It turned out that the email addresses were marked as tainted by perl and so, the program failed. I never could read the error strings as the streams were closed. I simulated the environment exactly in my sample test program and then could find it. Thanks again for pointing me to the right direction. Maybe, put this solution also in your answer and I shall mark it as accepted."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1444148105, "last_edit_date": 1444148105, "creation_date": 1444147672, "answer_id": 32974623, "question_id": 32974507, "link": "https://stackoverflow.com/questions/32974507/perl-to-exec-a-program-with-arguments-containing/32974623#32974623", "title": "Perl to exec a program with arguments containing &quot;@&quot;", "body": "<p>As an argument to a command in the shell,</p>\n\n<pre><code>-f=\"&lt;ashish@isthisreal.com&gt;\"\n</code></pre>\n\n<p>causes the the string</p>\n\n<pre><code>-f=&lt;ashish@isthisreal.com&gt;\n</code></pre>\n\n<p>to be passed to the program. Your program passes</p>\n\n<pre><code>-f=\"&lt;ashish\\@isthisreal.com&gt;\"\n</code></pre>\n\n<p>to the program. The problem isn't the <code>@</code>; the problem is the <code>\"</code> and <code>\\</code> you are adding.</p>\n\n<pre><code>my $mf = $msginfo-&gt;sender_smtp;\npush @gd_args_msg, \"-f=$mf\";   # Assuming $mf is &lt;ashish@isthisreal.com&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": false, "score": 0, "last_activity_date": 1444187249, "last_edit_date": 1495540297, "creation_date": 1444187249, "answer_id": 32983138, "question_id": 32974507, "link": "https://stackoverflow.com/questions/32974507/perl-to-exec-a-program-with-arguments-containing/32983138#32983138", "title": "Perl to exec a program with arguments containing &quot;@&quot;", "body": "<p>If you look at the post at <a href=\"https://stackoverflow.com/questions/32921035/trying-to-convert-perl-to-php/32921873#32921873\">Trying to convert Perl to PHP</a> and the code within the md5sum implementation that calls the command line you will see an approach that will save you from needing to worry about escaping characters.</p>\n"}], "owner": {"reputation": 289, "user_id": 1147083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/592185fd9131c2701889a7c3a633115d?s=128&d=identicon&r=PG", "display_name": "ashish behl", "link": "https://stackoverflow.com/users/1147083/ashish-behl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 32974623, "answer_count": 2, "score": 1, "last_activity_date": 1444187249, "creation_date": 1444147292, "question_id": 32974507, "link": "https://stackoverflow.com/questions/32974507/perl-to-exec-a-program-with-arguments-containing", "title": "Perl to exec a program with arguments containing &quot;@&quot;", "body": "<p>Am a newbie in Perl and need help with a small problem</p>\n\n<blockquote>\n  <p>Situation:</p>\n</blockquote>\n\n<ol>\n<li>I have to execute a command line program through perl.</li>\n<li>The arguments to this command line are email addresses</li>\n<li>These email addresses are passed to me through another module.</li>\n</ol>\n\n<blockquote>\n  <p>Problem:</p>\n</blockquote>\n\n<p>I have written the code to create the argument list from these email addresses but am having problem in running exec().</p>\n\n<p>NOTE: If I pass hardcoded strings with escaped \"@\" character to the exec() as command args,it works perfectly.</p>\n\n<ol>\n<li><p>Sub creating cmd args map</p>\n\n<pre><code>sub create_cmd_args {\n    my($self, $msginfo) = @_;\n    my @gd_args_msg  = ('--op1');\n    my $mf = $msginfo-&gt;sender_smtp;\n    $mf =~ s/@/\\\\@/ig; ## Tried escaping @, incorrect results.\n    push @gd_args_msg, '-f=\"'.$mf.'\"';\n\n    for my $r (@{$msginfo-&gt;per_recip_data}) {\n    my $recip = $r-&gt;recip_addr_smtp;\n    $recip =~ s/@/\\\\@/ig; ## Tried escaping @, incorrect results.\n    push @gd_args_msg, '-r=\"'.($recip).'\"';\n  }\n  return @gd_args_msg;\n}\n</code></pre></li>\n<li><p>Sub that uses this args map to exec the program</p>\n\n<pre><code>sub check {\n  my($self, $msginfo) = @_;\n  my $cmd = $g_command;\n  my @cmd_args = create_cmd_args($self, $msginfo);\n  exec($cmd, @cmd_args); ### ******* fails here\n}\n</code></pre></li>\n<li><p>Sample run:</p>\n\n<pre><code>INPUT:\n  sender_smtp: &lt;ashish@isthisreal.com&gt;\n  receiver_smtp: &lt;areyouarealperson@somedomain.com&gt;\n</code></pre></li>\n</ol>\n\n<p>Could someone please guide me what is wrong here?          </p>\n"}, {"tags": ["bash", "perl", "shell", "web-scraping", "web-crawler"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1444146930, "creation_date": 1444146930, "answer_id": 32974377, "question_id": 32973928, "link": "https://stackoverflow.com/questions/32973928/download-the-files-that-are-bigger-than-a-certain-size/32974377#32974377", "title": "Download the files that are bigger than a certain size", "body": "<p>You can use <code>LWP</code> and <code>perl</code> and send a <code>HEAD</code> request, fetching response headers. Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse LWP;\nuse Data::Dumper;\n\nmy $request = HTTP::Request -&gt; new ( HEAD =&gt; 'http://www.google.com' ); \nmy $agent = LWP::UserAgent -&gt; new;\nmy $response = $agent -&gt; request ( $request );\nprint $response -&gt; header ( 'Content-Length'); \n</code></pre>\n\n<p>And then use LWP to do a <code>GET</code> instead of a <code>HEAD</code> you want that file. </p>\n"}, {"comments": [{"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1444151284, "post_id": 32974920, "comment_id": 53776448, "body": "This is broken in at least two ways: <code>for i in $BUFFER</code> is subject to pathname expansion, and <code>Content-Lenght:</code> may appear anywhere in the header (as a field of another key)..."}, {"owner": {"reputation": 38472, "user_id": 1815797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be290f9af1ba6048c7022ef1109efc6?s=128&d=identicon&r=PG", "display_name": "gniourf_gniourf", "link": "https://stackoverflow.com/users/1815797/gniourf-gniourf"}, "edited": false, "score": 0, "creation_date": 1444152168, "post_id": 32974920, "comment_id": 53776926, "body": "Also: <code>grep | awk</code> is usually a bad idea: <code>awk &#39;&#47;^Content-Length:&#47;{print $2;exit;}&#39;</code> would be a better replacement. By the way, the space after the colon is optional, so <code>$2</code> might or might not work..."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4832408"}, "is_accepted": false, "score": 1, "last_activity_date": 1444151998, "last_edit_date": 1444151998, "creation_date": 1444148635, "answer_id": 32974920, "question_id": 32973928, "link": "https://stackoverflow.com/questions/32973928/download-the-files-that-are-bigger-than-a-certain-size/32974920#32974920", "title": "Download the files that are bigger than a certain size", "body": "<p>In order to adapt to various HTTP forms and their content some type of pattern matching may be prudent. Here is a rough example of how to use glob matching in shell to accomplish this:</p>\n\n<pre><code>#!/bin/sh\n\n\nBUFFER=$(curl --head http://www.bcheadset.ca/fte.xlsx )\n\nHOLD=\"\"\n\nTAKENEXT=0\n\n\nfor i in $BUFFER\ndo case \"$i\" in\n       Content-Length:)\n       TAKENEXT=1\n       ;;\n    *) if [ \"$TAKENEXT\" -eq 1 ]\n       then HOLD=\"$i\"\n            break\n       fi\n       ;;\n    esac\ndone\n\nprintf \"SIZE was:  %s\\n\" \"$HOLD\"\n</code></pre>\n\n<p>Here is a simpler method using <code>grep</code>:</p>\n\n<pre><code>SIZE=$(curl --head http://www.bcheadset.ca/fte.xlsx | grep 'Content-Length:' | awk '{print $2}')\n\nprintf \"%s\\n\" \"$SIZE\"\n</code></pre>\n\n<p>.</p>\n"}], "owner": {"reputation": 8684, "user_id": 702977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/859cd18fc4bc067aa389b7c408eeb572?s=128&d=identicon&r=PG", "display_name": "SoftTimur", "link": "https://stackoverflow.com/users/702977/softtimur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 32974377, "answer_count": 2, "score": 2, "last_activity_date": 1444151998, "creation_date": 1444145490, "question_id": 32973928, "link": "https://stackoverflow.com/questions/32973928/download-the-files-that-are-bigger-than-a-certain-size", "title": "Download the files that are bigger than a certain size", "body": "<p>I have <code>Files.txt</code>, which consists of a list of URLs of Excel files:</p>\n\n<pre><code>http://www.bcheadset.ca/applicant.xlsx\nhttp://www.bcheadset.ca/fte.xlsx\nhttp://www.iutox.org/TRTF_Matrix2012_Oct.xlsx\nhttp://www.journalprices.com/2013_FinalSummaryForWeb.xlsx\nhttp://www.camts.org/7__2013_Aircraft_Checklist.xlsx\nhttp://www.nanotr11.org/poster_program.xlsx\nhttp://www.vliruos.be/media/6352100/nss2015_annex_3_budget.xlsx\n...\n</code></pre>\n\n<p>What I want to do is to download (by wget) the files that are bigger than <code>10Mo</code>.</p>\n\n<p>To verify if a file is bigger than <code>10Mo</code> before dowloading it, we could use <code>curl --head</code>. For instance, <code>curl --head http://www.bcheadset.ca/fte.xlsx</code> returns</p>\n\n<pre><code>HTTP/1.1 200 OK\nContent-Length: 3158847\nContent-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\nLast-Modified: Mon, 27 Jul 2015 22:16:45 GMT\nAccept-Ranges: bytes\nETag: \"ffb49fecb9c8d01:c05\"\nServer: Microsoft-IIS/6.0\nX-Powered-By: ASP.NET\nDate: Tue, 06 Oct 2015 15:14:27 GMT\n</code></pre>\n\n<p>And from <code>Content-Length</code>, we can verify that it is bigger than <code>10Mo</code>.</p>\n\n<p>My question is how to automate this by a piece of <code>Bash</code> or <code>Perl</code>. Especially I don't know how to extract the <code>Content-Length</code> and does a comparison...</p>\n\n<p>Could anyone help?</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 161, "user_id": 4170783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UfKQg8kCL54/AAAAAAAAAAI/AAAAAAAAAME/UIjVAyzOpL4/photo.jpg?sz=128", "display_name": "Sam Friedman", "link": "https://stackoverflow.com/users/4170783/sam-friedman"}, "edited": false, "score": 0, "creation_date": 1444143286, "post_id": 32973026, "comment_id": 53771226, "body": "It is not clear whether you want to insert new rows or update existing rows. Can you please clarify?"}, {"owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "reply_to_user": {"reputation": 161, "user_id": 4170783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UfKQg8kCL54/AAAAAAAAAAI/AAAAAAAAAME/UIjVAyzOpL4/photo.jpg?sz=128", "display_name": "Sam Friedman", "link": "https://stackoverflow.com/users/4170783/sam-friedman"}, "edited": false, "score": 1, "creation_date": 1444143654, "post_id": 32973026, "comment_id": 53771508, "body": "Thanks, yes I want to update existing rows."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "edited": false, "score": 0, "creation_date": 1444143776, "post_id": 32973243, "comment_id": 53771587, "body": "yes I want to update existing rows in table comp: Thanks"}], "tags": [], "owner": {"reputation": 161, "user_id": 4170783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UfKQg8kCL54/AAAAAAAAAAI/AAAAAAAAAME/UIjVAyzOpL4/photo.jpg?sz=128", "display_name": "Sam Friedman", "link": "https://stackoverflow.com/users/4170783/sam-friedman"}, "is_accepted": false, "score": 0, "last_activity_date": 1444143587, "creation_date": 1444143587, "answer_id": 32973243, "question_id": 32973026, "link": "https://stackoverflow.com/questions/32973026/why-do-i-get-the-error-unknown-column-comp-id-in-where-clause-when-i-try-t/32973243#32973243", "title": "Why do I get the error &quot;Unknown column &#39;comp.id&#39; in &#39;where clause&#39;&quot; when I try to insert values from one MySQL table into another?", "body": "<p>Assuming you want to update existing rows in table comp:</p>\n\n<pre><code>update comp c\njoin test t on t.id = c.id\nset c.Nave = t.Name\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444143708, "creation_date": 1444143001, "last_edit_date": 1444143544, "question_id": 32973026, "link": "https://stackoverflow.com/questions/32973026/why-do-i-get-the-error-unknown-column-comp-id-in-where-clause-when-i-try-t", "title": "Why do I get the error &quot;Unknown column &#39;comp.id&#39; in &#39;where clause&#39;&quot; when I try to insert values from one MySQL table into another?", "body": "<p>I have two tables. The first table is called <code>test</code> and has 3 columns (<code>id</code>, <code>Name</code>, and <code>Mobile</code>). The second table is called <code>comp</code> and also has 3 columns (<code>id</code>, <code>Nave</code>, and <code>Mobile</code>). I want to insert values into the <code>Nave</code> column of table <code>comp</code> using values from the <code>Name</code> column of table <code>test</code>. I tried the following:</p>\n\n<pre><code>my $sql=\"INSERT INTO comp (Nave) SELECT Name from test WHERE test.id=comp.id\";\n</code></pre>\n\n<p>But I got an error:</p>\n\n<blockquote>\n  <p>Unknown column 'comp.id' in 'where clause'</p>\n</blockquote>\n\n<p>Note that both tables are in the same database. How can I fix this?</p>\n"}, {"tags": ["perl", "encoding", "character-entities", "html-treebuilder"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1444143227, "post_id": 32972866, "comment_id": 53771179, "body": "Is it <code>&amp;nbsp</code> or <code>&amp;nbsp;</code>? Those are different. Can you add the original website, or is that local?"}, {"owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444143873, "post_id": 32972866, "comment_id": 53771653, "body": "Sorry it&#39;s a local html page, but I&#39;ll add the html to the question. It is <code>&amp;nbsp;</code> - sorry didn&#39;t see that."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "edited": false, "score": 0, "creation_date": 1444144113, "post_id": 32973357, "comment_id": 53771804, "body": "Spot on. So is that the character encoding there? Many thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "edited": false, "score": 0, "creation_date": 1444144332, "post_id": 32973357, "comment_id": 53771977, "body": "NBSP is U+00A0. You could put an actual NBSP inside the pattern, but that would be unreadable. Best to use an escape as shown."}, {"owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "edited": false, "score": 0, "creation_date": 1444144418, "post_id": 32973357, "comment_id": 53772044, "body": "Great. Thanks for the explanation. Handy to know."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1444144463, "last_edit_date": 1444144463, "creation_date": 1444143899, "answer_id": 32973357, "question_id": 32972866, "link": "https://stackoverflow.com/questions/32972866/perl-split-string-at-character-entity-reference-nbsp/32973357#32973357", "title": "Perl split string at character entity reference &amp;nbsp;", "body": "<p>You shouldn't have to know how the text in the document is encoded. As such, <code>findvalue</code> returns an actual non-breaking space (U+00A0) when the document contains <code>&amp;nbsp;</code>. As such, you'd use</p>\n\n<pre><code>split(/\\xA0/, $title_string)\n   -or-\nsplit(/\\x{00A0}/, $title_string)\n   -or-\nsplit(/\\N{U+00A0}/, $title_string)\n   -or-\nsplit(/\\N{NBSP}/, $title_string)\n   -or-\nsplit(/\\N{NO-BREAK SPACE}/, $title_string)\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 4248989, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e56af82d618469731eb1a2d76137a380?s=128&d=identicon&r=PG&f=1", "display_name": "dan j", "link": "https://stackoverflow.com/users/4248989/dan-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 32973357, "answer_count": 1, "score": 0, "last_activity_date": 1444144463, "creation_date": 1444142584, "last_edit_date": 1444143955, "question_id": 32972866, "link": "https://stackoverflow.com/questions/32972866/perl-split-string-at-character-entity-reference-nbsp", "title": "Perl split string at character entity reference &amp;nbsp;", "body": "<p>Quick Perl question with hopefully a simple answer. I'm trying to perform a split on a string containing non breaking spaces (<code>&amp;nbsp;</code>). This is after reading in an <code>html</code> page using <code>HTML::TreeBuilder::XPath</code> and retrieving the string needed by <code>$titleString = $tree-&gt;findvalue('/html/head/title')</code></p>\n\n<pre><code>use HTML::TreeBuilder::XPath;\n$tree = HTML::TreeBuilder::XPath-&gt;new;\n$tree-&gt;parse_file( \"filename\" );\n$titleString = $tree-&gt;findvalue('/html/head/title');\nprint \"$titleString\\n\";\n</code></pre>\n\n<p>Pasted below is the original string and below that the string that gets printed:</p>\n\n<pre><code>Mr&amp;nbsp;Dan Perkins&amp;nbsp;(Active)\nMr?Dan Perkins?(Active)\n</code></pre>\n\n<p>I've tried splitting <code>$titleString</code> with <code>@parts = split('\\?',$titleString);</code> and also with the original <code>nbsp</code>, though neither have worked. My hunch is that there's a simple piece of encoding code to be added somewhere?</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Dan&amp;nbsp;Perkins&amp;nbsp;(Active)&lt;/title&gt;\n&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["html", "perl", "escaping", "double-quotes"], "comments": [{"owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "edited": false, "score": 2, "creation_date": 1444135503, "post_id": 32969918, "comment_id": 53765387, "body": "What about <code>$name =~ s&#47;&quot;&#47;\\\\&quot;&#47;g;</code>?"}, {"owner": {"reputation": 2005, "user_id": 4239879, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/loUoI.jpg?s=128&g=1", "display_name": "Zloj", "link": "https://stackoverflow.com/users/4239879/zloj"}, "reply_to_user": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "edited": false, "score": 0, "creation_date": 1444135798, "post_id": 32969918, "comment_id": 53765614, "body": "@rbm that does work. Never dealt with perl before :) Can you please post that as an answer? This looks much like some sed expression. Can you please also elaborate on the final <code>g</code> thing? Thanks."}, {"owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "edited": false, "score": 0, "creation_date": 1444136054, "post_id": 32969918, "comment_id": 53765804, "body": "OK - posted below with explanations"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 2, "creation_date": 1444138093, "post_id": 32969918, "comment_id": 53767303, "body": "Please note that <code>\\&quot;</code> is not a valid HTML escape for <code>&quot;</code>. <code>&amp;quot;</code> is."}, {"owner": {"reputation": 2005, "user_id": 4239879, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/loUoI.jpg?s=128&g=1", "display_name": "Zloj", "link": "https://stackoverflow.com/users/4239879/zloj"}, "reply_to_user": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1444139355, "post_id": 32969918, "comment_id": 53768233, "body": "@el.pescado thanks, that is also true."}], "answers": [{"tags": [], "owner": {"reputation": 3093, "user_id": 711269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ff4862ab2e9434c0aa66279f3244d?s=128&d=identicon&r=PG&f=1", "display_name": "rbm", "link": "https://stackoverflow.com/users/711269/rbm"}, "is_accepted": false, "score": -2, "last_activity_date": 1444644578, "last_edit_date": 1444644578, "creation_date": 1444136043, "answer_id": 32970538, "question_id": 32969918, "link": "https://stackoverflow.com/questions/32969918/perl-escaping-the-double-quotes-expanded-from-a-variable/32970538#32970538", "title": "Perl: Escaping the double-quotes expanded from a variable", "body": "<p><strong>The correct HTML would be produced by using <code>&amp;quot;</code></strong></p>\n\n<pre><code>my $name = 'John \"FOO\" Rambo';\n$name =~ s/\"/&amp;quot;/g;\nmy $html = \"&lt;span title=\\\"The great and mighty $name\\\"/&gt;\";\nprint $html .\"\\n\";\n</code></pre>\n\n<p><strong>For clarify</strong> on  your original question:</p>\n\n<p>You can use simple regular expression to substitute quotes. \nExample:</p>\n\n<pre><code>my $name = 'John \"FOO\" Rambo';\n$name =~ s/\"/\\\\\"/g;\nmy $html = \"&lt;span title=\\\"The great and mighty $name\\\"/&gt;\";\nprint $html .\"\\n\";\n</code></pre>\n\n<p>This</p>\n\n<pre><code>$name =~ s/\"/\\\\\"/g;\n</code></pre>\n\n<p>simply says replace all <code>\"</code> with <code>\\\"</code> (but since <code>\\</code> is special character is needs to be escaped as <code>\\\\\"</code>.</p>\n\n<p>the <code>g</code> means <code>globally</code>, i.e. all occurences within the string.</p>\n\n<p>(i.e. if you run only <code>$name =~ s/\"/\\\\\"/;</code> then <code>$name</code> would be <code>John \\\"FOO\" Rambo</code>, but with <code>g</code> it is <code>John \\\"FOO\\\" Rambo</code>)</p>\n\n<p><strong>But this won't produce a valid HTML</strong></p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444142723, "post_id": 32972579, "comment_id": 53770809, "body": "And this whole time I&#39;ve been manually escaping HTML entities before passing them to TT. I should have known that would be built in...time to read some docs."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1444143624, "post_id": 32972579, "comment_id": 53771491, "body": "@ThisSuitIsBlackNot, It&#39;s a builtin FILTER. It doesn&#39;t escape single-quotes, so you need to use double-quotes for your attribute value delimiters."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1444142508, "last_edit_date": 1444142508, "creation_date": 1444141791, "answer_id": 32972579, "question_id": 32969918, "link": "https://stackoverflow.com/questions/32969918/perl-escaping-the-double-quotes-expanded-from-a-variable/32972579#32972579", "title": "Perl: Escaping the double-quotes expanded from a variable", "body": "<p>The proper HTML would be the following:</p>\n\n<pre><code>&lt;span title=\"The great and mighty John &amp;quot;FOO&amp;quot; Rambo\"&gt;...&lt;/span&gt;\n</code></pre>\n\n<p>You can obtain it using the following:</p>\n\n<pre><code>use HTML::Entities qw( encode_entities );\n\nmy $html = '&lt;span title=\"' . encode_entities(\"The great and mighty $name\") . '\"&gt;...&lt;/span&gt;';\n   -or-\nmy $html = '&lt;span title=\"The great and mighty ' . encode_entities($name) . '\"&gt;...&lt;/span&gt;';\n</code></pre>\n\n<p>You should probably be using a template system. Were you to use Template-Toolkit, the template would be</p>\n\n<pre><code>&lt;span title=\"The great and mighty [% name | html %]\"&gt;...&lt;/span&gt;\n</code></pre>\n"}], "owner": {"reputation": 2005, "user_id": 4239879, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/loUoI.jpg?s=128&g=1", "display_name": "Zloj", "link": "https://stackoverflow.com/users/4239879/zloj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 32972579, "answer_count": 2, "score": 4, "last_activity_date": 1444644578, "creation_date": 1444134302, "last_edit_date": 1444134484, "question_id": 32969918, "link": "https://stackoverflow.com/questions/32969918/perl-escaping-the-double-quotes-expanded-from-a-variable", "title": "Perl: Escaping the double-quotes expanded from a variable", "body": "<p>How can I get</p>\n\n<p><code>my $name = 'John \"FOO\" Rambo';</code></p>\n\n<p>expanded in</p>\n\n<p><code>&lt;span title=\\\"The great and mighty $name\\\"</code></p>\n\n<p>To something like</p>\n\n<p><code>&lt;span title=\\\"The great and mighty John \\\"FOO\\\" Rambo\\\"&lt;/span&gt;</code></p>\n\n<p>rather than</p>\n\n<p><code>&lt;span title=\\\"The great and mighty John \"FOO\" Rambo\\\"</code></p>\n\n<p>So that my html tag is not corrupted when generating a page and the name contains <code>\"</code> ?</p>\n"}, {"tags": ["php", "linux", "bash", "apache", "perl"], "comments": [{"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 0, "creation_date": 1444274682, "post_id": 32969751, "comment_id": 53836712, "body": "This is partially a permissions problem.  The web server usually runs as user &quot;nobody&quot; or &quot;www&quot; etc. and can not see all the processes like root can."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5413854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0ed89f6db1059d12cebe468228deb5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayk Hovhannisyan", "link": "https://stackoverflow.com/users/5413854/hayk-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1444135180, "post_id": 32969868, "comment_id": 53765156, "body": "No it is not help. On SSH it is ok, but using Apache I still getting only restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart /usr/sbin/httpd -k restart"}], "tags": [], "owner": {"reputation": 346, "user_id": 3178461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3GnaI.jpg?s=128&g=1", "display_name": "sandeep_kosta", "link": "https://stackoverflow.com/users/3178461/sandeep-kosta"}, "is_accepted": false, "score": -1, "last_activity_date": 1444134137, "creation_date": 1444134137, "answer_id": 32969868, "question_id": 32969751, "link": "https://stackoverflow.com/questions/32969751/i-can-not-see-all-process-on-unix-using-apache/32969868#32969868", "title": "I can not see all process on Unix using Apache", "body": "<p>use the command ps x\nwill list all active process</p>\n"}, {"comments": [{"owner": {"reputation": 5681, "user_id": 1150918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e81acdd9b6273c7860ac440c99eb747c?s=128&d=identicon&r=PG", "display_name": "Kamiccolo", "link": "https://stackoverflow.com/users/1150918/kamiccolo"}, "edited": false, "score": 0, "creation_date": 1444142070, "post_id": 32970235, "comment_id": 53770316, "body": "@ChankeyPathak, could You expand on Your answer, please? What does it supposed to do?"}, {"owner": {"reputation": 21, "user_id": 5413854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0ed89f6db1059d12cebe468228deb5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayk Hovhannisyan", "link": "https://stackoverflow.com/users/5413854/hayk-hovhannisyan"}, "edited": false, "score": 0, "creation_date": 1444287977, "post_id": 32970235, "comment_id": 53841665, "body": "chcon: cannot access `/sbin/httpd&#39;: No such file or directory"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1444135237, "creation_date": 1444135237, "answer_id": 32970235, "question_id": 32969751, "link": "https://stackoverflow.com/questions/32969751/i-can-not-see-all-process-on-unix-using-apache/32970235#32970235", "title": "I can not see all process on Unix using Apache", "body": "<pre><code># chcon -t unconfined_exec_t /sbin/httpd\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5413854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0ed89f6db1059d12cebe468228deb5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayk Hovhannisyan", "link": "https://stackoverflow.com/users/5413854/hayk-hovhannisyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1444135443, "creation_date": 1444133780, "last_edit_date": 1444135443, "question_id": 32969751, "link": "https://stackoverflow.com/questions/32969751/i-can-not-see-all-process-on-unix-using-apache", "title": "I can not see all process on Unix using Apache", "body": "<p>I am trying to get running process on server using Apache.\nI have tried on PHP, Perl  and Bash script and used this commands :</p>\n\n<pre><code>exec('ps -u username -o pid,uname,cmd,pmem,pcpu,etime --sort=-pcpu  &gt; test.txt'); \n\nexec('ps -u username -o pid,uname,cmd,pmem,pcpu,etime --sort=-pcpu', $output);\n\nexec('ps -A', $output); \n</code></pre>\n\n<p>etc...</p>\n\n<p>I only get all <code>/ USR / SBIN / HTTPD -k restart</code> processes.</p>\n\n<p>But when I am trying this command on SSH (terminal), I am properly getting all processes.</p>\n\n<p>I think problem is n Apache.</p>\n\n<p>Anybody know how I can solve this problem and get all process using Apache.\nThanks advance</p>\n"}, {"tags": ["mongodb", "perl", "sorting", "mongodb-query"], "comments": [{"owner": {"reputation": 129, "user_id": 3935366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100003286904438/picture?type=large", "display_name": "Artem  Bardachov", "link": "https://stackoverflow.com/users/3935366/artem-bardachov"}, "edited": false, "score": 0, "creation_date": 1444125643, "post_id": 32967038, "comment_id": 53758756, "body": "Sorry, forgot about markers. Here it is $obj-&gt;{markers} = [168,169]"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1444125689, "post_id": 32967038, "comment_id": 53758786, "body": "Welcome to Stack Overflow and to the Perl tag! You can <a href=\"https://stackoverflow.com/posts/32967038/edit\">edit</a> your question and add those details with the <a href=\"https://stackoverflow.com/posts/32967038/edit\">edit</a> link on the bottom left of the question. Please feel free to also take the <a href=\"https://stackoverflow.com/tour\">tour</a> to get more familiar with the site. :)"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 3935366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100003286904438/picture?type=large", "display_name": "Artem  Bardachov", "link": "https://stackoverflow.com/users/3935366/artem-bardachov"}, "edited": false, "score": 0, "creation_date": 1444133076, "post_id": 32968118, "comment_id": 53763631, "body": "Thank you, it&#39;s work. But it&#39;s work only if i declare &quot;hash&quot; like this:              $sort-&gt;{is_instock} = -1; $sort-&gt;{ua} = 1;"}, {"owner": {"reputation": 43776, "user_id": 5031275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h8FTg.png?s=128&g=1", "display_name": "Blakes Seven", "link": "https://stackoverflow.com/users/5031275/blakes-seven"}, "reply_to_user": {"reputation": 129, "user_id": 3935366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100003286904438/picture?type=large", "display_name": "Artem  Bardachov", "link": "https://stackoverflow.com/users/3935366/artem-bardachov"}, "edited": false, "score": 0, "creation_date": 1444133311, "post_id": 32968118, "comment_id": 53763788, "body": "@ArtemBardachov Works fine for me if declared exatly as shown. It&#39;s all about <code>Tie:IxHash</code> as mentioned since that is the only way a hash is re-defined to work in the insertion order as expected by BSON which is the eventual serialization of the request. Default Perl hashes do not respect that order as is already stated."}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1444632560, "post_id": 32968118, "comment_id": 53967023, "body": "A hash in Perl isn&#39;t sorted at all by default."}, {"owner": {"reputation": 1498, "user_id": 5217466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bebcb5dcae50dfd07d042a9815617907?s=128&d=identicon&r=PG&f=1", "display_name": "the_ccalderon", "link": "https://stackoverflow.com/users/5217466/the-ccalderon"}, "edited": false, "score": 0, "creation_date": 1571764478, "post_id": 32968118, "comment_id": 103346395, "body": "This saved me a lot of pain, thank you @BlakesSeven"}], "tags": [], "owner": {"reputation": 43776, "user_id": 5031275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h8FTg.png?s=128&g=1", "display_name": "Blakes Seven", "link": "https://stackoverflow.com/users/5031275/blakes-seven"}, "is_accepted": true, "score": 3, "last_activity_date": 1444128987, "last_edit_date": 1444128987, "creation_date": 1444128635, "answer_id": 32968118, "question_id": 32967038, "link": "https://stackoverflow.com/questions/32967038/how-can-i-sort-by-multiple-fields-in-mongodb-with-perl/32968118#32968118", "title": "How can I sort by multiple fields in mongodb with Perl?", "body": "<p>The basic problem here is that a \"hash\" in Perl is ordered by \"key\" by default. In order to get the \"order of insertion\" you need to use <a href=\"https://metacpan.org/pod/Tie::IxHash\" rel=\"nofollow\"><code>Tie::IxHash</code></a> as follows:</p>\n\n<pre><code>use Tie::IxHash;\n\nmy %sort;\ntie ( %sort, 'Tie::IxHash' );\n\nmy $sort = \\%sort;\n$sort  =  { \"is_instock\" =&gt; -1, \"ua\" =&gt; 1 };\n</code></pre>\n\n<p>Then when you use this in your MongoDB query, the keys are considered in the order you inserted them, rather than their lexcial order.</p>\n\n<p>It should have been orderd that way anyhow since the keys are in lexical order, but I suggest you did something wrong and you need to be aware of the insertion order anyway.</p>\n\n<p>The otherwise reason is that \"in_stock\" does not exist, or is not the true path name to the field. You need to specifiy the full path to the field with <a href=\"http://docs.mongodb.org/manual/core/document/#dot-notation\" rel=\"nofollow\">\"dot notation\"</a> otherwise the path is invalid.</p>\n"}], "owner": {"reputation": 129, "user_id": 3935366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100003286904438/picture?type=large", "display_name": "Artem  Bardachov", "link": "https://stackoverflow.com/users/3935366/artem-bardachov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 32968118, "answer_count": 1, "score": 3, "last_activity_date": 1444301459, "creation_date": 1444125463, "last_edit_date": 1444301459, "question_id": 32967038, "link": "https://stackoverflow.com/questions/32967038/how-can-i-sort-by-multiple-fields-in-mongodb-with-perl", "title": "How can I sort by multiple fields in mongodb with Perl?", "body": "<p>How can I get multiple sort in MongoDB with Perl?</p>\n\n<p>My current approach looks something like this:</p>\n\n<pre><code>my $sort = {\"is_instock\" =&gt; -1, \"ua\" =&gt; 1};\nmy $resultSet = $collection\n   -&gt;find({moderated =&gt; 1, markers =&gt; {'$all'=&gt;$obj-&gt;{markers}}})\n   -&gt;sort($sort)\n   -&gt;limit(25);\n@{$result} = $resultSet-&gt;all;\n</code></pre>\n\n<p>But, i got array  sorted by one field(ua). What i did wrong?</p>\n"}, {"tags": ["perl", "winapi", "perl-module"], "comments": [{"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 1, "creation_date": 1444120892, "post_id": 32964828, "comment_id": 53755495, "body": "Try printing the value of SERVICE_RUNNING()...  they&#39;re not strings they&#39;re numbers; see inside <a href=\"https://metacpan.org/source/JDB/Win32-Daemon-20131206/constant.cpp\" rel=\"nofollow noreferrer\">metacpan.org/source/JDB/Win32-Daemon-20131206/constant.cpp</a>"}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "reply_to_user": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1444122391, "post_id": 32964828, "comment_id": 53756509, "body": "So they are! Thanks a ton, got it."}, {"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "reply_to_user": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1444123356, "post_id": 32964828, "comment_id": 53757160, "body": "@optional : Thanks to your tip, I&#39;ve identified what numbers most of the states correspond to. However, <code>$State</code> stubbornly returns 0 - which does not seem to correspond to any defined state. Any idea why?"}, {"owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "edited": false, "score": 0, "creation_date": 1444136982, "post_id": 32964828, "comment_id": 53766532, "body": "<a href=\"https://metacpan.org/source/JDB/Win32-Daemon-20131206/constant.cpp#L189\" rel=\"nofollow noreferrer\"><code>GetConstantName</code></a> seems to indicate that 0 is returned for <code>SERVICE_CONTROL_USER_DEFINED</code>."}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1444174256, "post_id": 32964828, "comment_id": 53788263, "body": "I get SERVICE_CONTROL_USER_DEFINED          =&gt; 4144, zero probably means no_error or service_not_ready; see my &quot;answer&quot; for more"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "edited": false, "score": 0, "creation_date": 1444190455, "post_id": 32981416, "comment_id": 53792232, "body": "SERVICE_NOT_READY seems right, logically. :) Thanks a lot!"}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": true, "score": 2, "last_activity_date": 1444174163, "creation_date": 1444174163, "answer_id": 32981416, "question_id": 32964828, "link": "https://stackoverflow.com/questions/32964828/win32daemonstate-does-not-return-the-state/32981416#32981416", "title": "Win32::Daemon::State() does not return the state", "body": "<p>I get <code>SERVICE_CONTROL_USER_DEFINED          =&gt; 4144,</code>.  Zero seems to have a few possible meanings</p>\n\n<pre><code>NO_ERROR                              =&gt; 0,\nSERVICE_BOOT_START                    =&gt; 0,\nSERVICE_NOT_READY                     =&gt; 0,\n</code></pre>\n\n<p>So its probably not <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682450%28v=vs.85%29.aspx\" rel=\"nofollow\">SERVICE_BOOT_START  0x00000000  A device driver started by the system loader. This value is valid only for driver services.</a></p>\n\n<p>So it probably means its SERVICE_NOT_READY or NO_ERROR :)\nSee <a href=\"https://api.metacpan.org/source/JDB/Win32-Daemon-20131206/test/DumpConstants.pl\" rel=\"nofollow\">https://api.metacpan.org/source/JDB/Win32-Daemon-20131206/test/DumpConstants.pl</a></p>\n\n<p>And also </p>\n\n<pre><code>#!/usr/bin/perl --\nuse Win32::Daemon;\nuse Data::Dump qw/ dd /;\ndd( {map{ my $v = eval { $_-&gt;() }; $_ =&gt; defined $v ? $v : qq{EEP($v): $@}; } @Win32::Daemon::EXPORT});\n__END__\n{\n  NO_ERROR                              =&gt; 0,\n  SC_GROUP_IDENTIFIER                   =&gt; \"+\",\n  SERVICE_ACCEPT_DEVICEEVENT            =&gt; \"EEP(): Goto undefined subroutine &amp;AutoLoader::AUTOLOAD at .../site/lib/Win32/Daemon.pm line 123.\\n\",\n  SERVICE_ACCEPT_HARDWAREPROFILECHANGE  =&gt; 32,\n  SERVICE_ACCEPT_NETBINDCHANGE          =&gt; 16,\n  SERVICE_ACCEPT_PARAMCHANGE            =&gt; 8,\n  SERVICE_ACCEPT_PAUSE_CONTINUE         =&gt; 2,\n  SERVICE_ACCEPT_POWEREVENT             =&gt; 64,\n  SERVICE_ACCEPT_SESSIONCHANGE          =&gt; 128,\n  SERVICE_ACCEPT_SHUTDOWN               =&gt; 4,\n  SERVICE_ACCEPT_STOP                   =&gt; 1,\n  SERVICE_AUTO_START                    =&gt; 2,\n  SERVICE_BOOT_START                    =&gt; 0,\n  SERVICE_CONTINUE_PENDING              =&gt; 5,\n  SERVICE_CONTROL_CONTINUE              =&gt; 3,\n  SERVICE_CONTROL_DEVICEEVENT           =&gt; 11,\n  SERVICE_CONTROL_HARDWAREPROFILECHANGE =&gt; 12,\n  SERVICE_CONTROL_INTERROGATE           =&gt; 4,\n  SERVICE_CONTROL_NETBINDADD            =&gt; 7,\n  SERVICE_CONTROL_NETBINDDISABLE        =&gt; 10,\n  SERVICE_CONTROL_NETBINDENABLE         =&gt; 9,\n  SERVICE_CONTROL_NETBINDREMOVE         =&gt; 8,\n  SERVICE_CONTROL_NONE                  =&gt; -1,\n  SERVICE_CONTROL_PARAMCHANGE           =&gt; 6,\n  SERVICE_CONTROL_PAUSE                 =&gt; 2,\n  SERVICE_CONTROL_POWEREVENT            =&gt; 13,\n  SERVICE_CONTROL_PRESHUTDOWN           =&gt; \"EEP(): Goto undefined subroutine &amp;AutoLoader::AUTOLOAD at .../site/lib/Win32/Daemon.pm line 123.\\n\",\n  SERVICE_CONTROL_RUNNING               =&gt; 4160,\n  SERVICE_CONTROL_SESSIONCHANGE         =&gt; 14,\n  SERVICE_CONTROL_SHUTDOWN              =&gt; 5,\n  SERVICE_CONTROL_START                 =&gt; 4112,\n  SERVICE_CONTROL_STOP                  =&gt; 1,\n  SERVICE_CONTROL_TIMER                 =&gt; 4128,\n  SERVICE_CONTROL_USER_DEFINED          =&gt; 4144,\n  SERVICE_DEMAND_START                  =&gt; 3,\n  SERVICE_DISABLED                      =&gt; 4,\n  SERVICE_ERROR_CRITICAL                =&gt; 3,\n  SERVICE_ERROR_NORMAL                  =&gt; 1,\n  SERVICE_ERROR_SEVERE                  =&gt; 2,\n  SERVICE_FILE_SYSTEM_DRIVER            =&gt; 2,\n  SERVICE_INTERACTIVE_PROCESS           =&gt; 256,\n  SERVICE_KERNEL_DRIVER                 =&gt; 1,\n  SERVICE_NOT_READY                     =&gt; 0,\n  SERVICE_PAUSE_PENDING                 =&gt; 6,\n  SERVICE_PAUSED                        =&gt; 7,\n  SERVICE_RUNNING                       =&gt; 4,\n  SERVICE_START_PENDING                 =&gt; 2,\n  SERVICE_STOP_PENDING                  =&gt; 3,\n  SERVICE_STOPPED                       =&gt; 1,\n  SERVICE_SYSTEM_START                  =&gt; 1,\n  SERVICE_WIN32_OWN_PROCESS             =&gt; 16,\n  SERVICE_WIN32_SHARE_PROCESS           =&gt; 32,\n  USER_SERVICE_BITS_1                   =&gt; 16384,\n  USER_SERVICE_BITS_10                  =&gt; 536870912,\n  USER_SERVICE_BITS_2                   =&gt; 32768,\n  USER_SERVICE_BITS_3                   =&gt; 4194304,\n  USER_SERVICE_BITS_4                   =&gt; 8388608,\n  USER_SERVICE_BITS_5                   =&gt; 16777216,\n  USER_SERVICE_BITS_6                   =&gt; 33554432,\n  USER_SERVICE_BITS_7                   =&gt; 67108864,\n  USER_SERVICE_BITS_8                   =&gt; 134217728,\n  USER_SERVICE_BITS_9                   =&gt; 268435456,\n}\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 5023617, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ddf595f5ae6cdc2279451e890fb502b7?s=128&d=identicon&r=PG&f=1", "display_name": "Anupama G", "link": "https://stackoverflow.com/users/5023617/anupama-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 32981416, "answer_count": 1, "score": 0, "last_activity_date": 1444174163, "creation_date": 1444119023, "last_edit_date": 1444119656, "question_id": 32964828, "link": "https://stackoverflow.com/questions/32964828/win32daemonstate-does-not-return-the-state", "title": "Win32::Daemon::State() does not return the state", "body": "<p>Consider this skeleton code from Dave Roth's \"Win32 Perl Scripting: The Administrator's Handbook\":</p>\n\n<pre><code>use Win32::Daemon;\nWin32::Daemon::StartService();\nwhile( SERVICE_STOPPED != ( $State = Win32::Daemon::State() ) )\n{\n   if( SERVICE_START_PENDING == $State )\n   {\n\n     # Initialization code\n     Win32::Daemon::State( SERVICE_RUNNING );\n   }\n   elsif( SERVICE_PAUSE_PENDING == $State )\n   {\n\n     Win32::Daemon::State( SERVICE_PAUSED );\n     next;\n   }\n   elsif( SERVICE_CONTINUE_PENDING == $State )\n   {\n\n     Win32::Daemon::State( SERVICE_RUNNING );\n     next;\n   }\n   elsif( SERVICE_STOP_PENDING == $State )\n   {\n\n     Win32::Daemon::State( SERVICE_STOPPED );\n     next;\n   }\n   elsif( SERVICE_RUNNING == $State)\n   {\n     #Add code here to perform whatever work the service must accomplish\n   }\n   sleep(5);\n}\nWin32::Daemon::StopService();\n</code></pre>\n\n<p>The function <code>State()</code> can be used to <em>set</em> the status of the service (as is done in the above code snippet), and also to <em>return</em> the service's state at the current instant. However, when I try to print out <code>$State</code>, <em>numerical values</em> - I've seen 0, 1 and 4 so far - are what I get. </p>\n\n<p>I have been unable to find any material that suggests that these states are constants defined as 0, 1, etc. anywhere. Could anyone point me in the right direction? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1444112380, "post_id": 32962894, "comment_id": 53750804, "body": "You can call <code>$line = &lt;IN&gt;</code> inside your while loop to get the next line."}, {"owner": {"reputation": 3466, "user_id": 826614, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/935a0a598738883b4af59a73335a7aa0?s=128&d=identicon&r=PG", "display_name": "gaussblurinc", "link": "https://stackoverflow.com/users/826614/gaussblurinc"}, "edited": false, "score": 0, "creation_date": 1444112433, "post_id": 32962894, "comment_id": 53750822, "body": "did you check <a href=\"http://www.perlmonks.org/?node_id=43603\" rel=\"nofollow noreferrer\">this article</a>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444120981, "post_id": 32962894, "comment_id": 53755556, "body": "As an alternative to reading double lines, you could perhaps use <code>%</code> as a record separator."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1444117113, "creation_date": 1444117113, "answer_id": 32964299, "question_id": 32962894, "link": "https://stackoverflow.com/questions/32962894/how-to-copy-and-append-strings-in-2-line-chunks-using-perl/32964299#32964299", "title": "How to copy and append strings in 2-line chunks using perl", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen (my $fh, \"&lt;\", \"test.txt\") or die $!;\nopen (my $op, \"&gt;\", \"output.txt\") or die $!;\n\nmy @slurp = &lt;$fh&gt;;\n\nwhile(my @lines = splice(@slurp, 0, 2)){\n    my ($line1, $line2) = @lines;   \n    print $op $line1;\n    print $op $line2;\n    if($line1 =~ s/%/@/){\n        print $op $line1;           \n        if($line2 =~ tr/.*/A/c){\n            print $op $line2.\"\\n\";\n        }   \n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 1, "last_activity_date": 1444117184, "creation_date": 1444117184, "answer_id": 32964315, "question_id": 32962894, "link": "https://stackoverflow.com/questions/32962894/how-to-copy-and-append-strings-in-2-line-chunks-using-perl/32964315#32964315", "title": "How to copy and append strings in 2-line chunks using perl", "body": "<p>Here is one option for a loop that gets two lines at once:</p>\n\n<pre><code>my $l1;\nmy $l2;\nwhile (defined($l1=&lt;DATA&gt;) and defined($l2=&lt;DATA&gt;))\n{\n    print \"line 1: $l1\\n\";\n    print \"line 2: $l2\\n\";\n}\n\n__DATA__\nline1\nline2\nline3\nline4\nline5\n</code></pre>\n\n<p>This does not require reading the whole file into an array first.</p>\n\n<p>It also ignores a single line at the end of the file (but you could change that by switching to <code>or</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1444126766, "post_id": 32965539, "comment_id": 53759492, "body": "Nice answer. Then  i had one doubt in your answer. Why used <code>local</code> for input record separator?  Without using <code>local</code> it gives output? I saw the many documentary about input record separator but it also have <code>local</code> infront of the record separator. What is actual need?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1444130798, "post_id": 32965539, "comment_id": 53762101, "body": "<code>$&#47;</code> is a global, so changing it can have really odd consequences in non trivial code. <code>local</code> limits the scope of that change. In this example, it&#39;s irrelevant - but it is a good habit."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1444121253, "creation_date": 1444121253, "answer_id": 32965539, "question_id": 32962894, "link": "https://stackoverflow.com/questions/32962894/how-to-copy-and-append-strings-in-2-line-chunks-using-perl/32965539#32965539", "title": "How to copy and append strings in 2-line chunks using perl", "body": "<p>I am going to make a guess that you've got multi-line records like this:</p>\n\n<pre><code>%line1\nsomething something line1\n%lineB \nsomething to do with lineb\n</code></pre>\n\n<p>I would suggest in this scenario - rather than reading two lines at a time, you instead set your record separator via <code>$/</code>.</p>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/env perl;\nuse strict;\nuse warnings;\n\nlocal $/ = \"%\";\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @lines = split \"\\n\";\n    next unless @lines;\n    print '%', join( \"\\n\", @lines ), \"\\n\";\n    print $lines[0] =~ s/^/\\@/r, \"\\n\";\n    print \"Something else to do with record $.\\n\";\n    print \"---END---\\n\";\n}\n\n__DATA__\n%line1\nsomething something line1\n%lineB \nsomething to do with lineb\n</code></pre>\n\n<p>This means that each iteration of the while loop - it reads until the next <code>%</code> symbol. As a result, the first iteration is empty, but subsequent records will work fine. </p>\n\n<p>This prints:</p>\n\n<pre><code>%line1\nsomething something line1\n@line1\nSomething else to do with record 2\n---END---\n%lineB \nsomething to do with lineb\n@lineB \nSomething else to do with record 3\n---END---\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1444138820, "last_edit_date": 1444138820, "creation_date": 1444136016, "answer_id": 32970526, "question_id": 32962894, "link": "https://stackoverflow.com/questions/32962894/how-to-copy-and-append-strings-in-2-line-chunks-using-perl/32970526#32970526", "title": "How to copy and append strings in 2-line chunks using perl", "body": "<p>can you use a <code>for</code> loop instead of <code>while</code>? remember that <code>for</code> requires the whole file to be read into memory. but unless you have very high performance standards and a very big datafile it shouldn't a problem. </p>\n\n<pre><code>open IN,\"&lt;\",$file;\nmy @lines = &lt;IN&gt;;\nfor (my $i = 0;$i le $#lines; $i = $i+2) {\n    my $first_line = $lines[$i];\n    my $second_line = $lines[$i+1];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "is_accepted": false, "score": 0, "last_activity_date": 1444145567, "creation_date": 1444145567, "answer_id": 32973951, "question_id": 32962894, "link": "https://stackoverflow.com/questions/32962894/how-to-copy-and-append-strings-in-2-line-chunks-using-perl/32973951#32973951", "title": "How to copy and append strings in 2-line chunks using perl", "body": "<p>Your question looks like a possible use case for a simple <a href=\"https://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"nofollow\">finite-state machine</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $state = 1;\nmy $first_line;\n\nwhile (&lt;&gt;) {\n    if ($state == 1) {\n         $first_line = $_;\n         $state = 2;\n    } elsif ($state == 2) {\n         # do whatever you want with $_ and $first_line\n         $state = 1;\n    } else {\n         die \"Unknown state '$state', not sure how we got here\";\n    };\n};\n</code></pre>\n"}], "owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 32965539, "answer_count": 5, "score": 1, "last_activity_date": 1444145567, "creation_date": 1444111911, "question_id": 32962894, "link": "https://stackoverflow.com/questions/32962894/how-to-copy-and-append-strings-in-2-line-chunks-using-perl", "title": "How to copy and append strings in 2-line chunks using perl", "body": "<pre><code>while ($line = &lt;IN&gt;){\n    ...\nprint OUT \"$line\";\nprint OUT1 \"$line\";\n}\n</code></pre>\n\n<p>As far as I know my <code>while</code> loop only reads from my input file one line at a time. How can I adjust this so that it reads 2 lines at a time?</p>\n\n<p>Suppose a 2-line chunk looks like this</p>\n\n<pre><code>%line1\nTHISISLINE2\n</code></pre>\n\n<p>I want my <code>while</code> loop to copy the first line and paste it after the second line (but replace % with @). I also want to add a line of 11 characters of <code>A</code> as line 4. Essentially I want the output to be</p>\n\n<pre><code> %line1\n THISISLINE2\n @line1\n AAAAAAAAAAA\n</code></pre>\n\n<p>How can I write a <code>while</code> loop to do this?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1444113088, "post_id": 32962739, "comment_id": 53751124, "body": "Hi el.pescado, Thanks for the information. Works for me now.                       $Formula = sprintf(&quot;%04.2f%%&quot;, $Formula);"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 1, "creation_date": 1444118325, "post_id": 32962739, "comment_id": 53753988, "body": "@cs87: Please mark the answer as &quot;accepted&quot; if it solved your problem."}, {"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1444178614, "post_id": 32962739, "comment_id": 53789392, "body": "@ChankeyPathak : Hi , how to mark &quot;accepted&quot; on the pages? I cant find the accepted button there."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1444191673, "post_id": 32962739, "comment_id": 53792585, "body": "@cs87: See <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">How does accepting an answer work?</a>"}], "tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": true, "score": 5, "last_activity_date": 1444111179, "creation_date": 1444111179, "answer_id": 32962739, "question_id": 32962718, "link": "https://stackoverflow.com/questions/32962718/how-to-include-percentage-symbol-inside-sprintf/32962739#32962739", "title": "How to include Percentage symbol inside sprintf", "body": "<p><a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"noreferrer\"><code>perldoc -f sprintf</code></a>:</p>\n\n<blockquote>\n  <p>Perl's sprintf permits the following universally-known conversions:</p>\n\n<pre><code>   %%    a percent sign\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "closed_date": 1444132627, "accepted_answer_id": 32962739, "answer_count": 1, "score": 1, "last_activity_date": 1444113011, "creation_date": 1444111066, "last_edit_date": 1444113011, "question_id": 32962718, "link": "https://stackoverflow.com/questions/32962718/how-to-include-percentage-symbol-inside-sprintf", "closed_reason": "Duplicate", "title": "How to include Percentage symbol inside sprintf", "body": "<p>I would like to ask how can i include the symbol of percentage(%) into the output generated. \nBelow is my code. </p>\n\n<pre><code>            $Formula = ($valueiii / $valuei) * 100 ;\n            $Formula = sprintf(\"%04.2f\", $Formula);\n            $Formula = sprintf(\"%-12.12s\", $Formula);   # File Name\n            push (@data2 , \" $valueiv$valuei$valueiii$Formula$valuev$valueii\\t\\n\") ;\n            $Formula = 0;\n\n\n*Output generate was at the slop of Use(%)*\n    DevicePart          Total       Used        Use(%)      LIMIT(%)   \n     A                  50000       10161       20.32       60%        \n     B                  100000      1416        1.42        80%             \n     C                  125000      42258       33.81       80%             \n     D                  5000        18          0.36        60%   \n</code></pre>\n\n<p>i am expecting to get the 20.32% , 1.42% , 33.81% , 0.36% .<br>\nBut how to included the % into each of the column. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1444132566, "post_id": 32962081, "comment_id": 53763260, "body": "Your double quotes around <code>$line</code> in the <code>print</code> statements are unnecessary."}], "answers": [{"comments": [{"owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "edited": false, "score": 0, "creation_date": 1444108065, "post_id": 32962101, "comment_id": 53749124, "body": "Thanks for the response. So for your answer I should write <code>$line = ^[ABC].*$</code> in my while loop?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "edited": false, "score": 1, "creation_date": 1444108264, "post_id": 32962101, "comment_id": 53749193, "body": "@Adrian No. <code>next unless $line =~ &#47;^[ABC]&#47;;</code>"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 1, "creation_date": 1444108334, "post_id": 32962101, "comment_id": 53749219, "body": "@vks Don&#39;t think that the <code>.*</code> is necessary"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "edited": false, "score": 0, "creation_date": 1444108543, "post_id": 32962101, "comment_id": 53749284, "body": "@Adrian you can select the line you want and write them instead of deleting"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 0, "last_activity_date": 1444107926, "creation_date": 1444107926, "answer_id": 32962101, "question_id": 32962081, "link": "https://stackoverflow.com/questions/32962081/removing-certain-lines-in-perl/32962101#32962101", "title": "Removing certain lines in perl", "body": "<p>In short you just want lines which start with <code>A,B or C</code>.So you can simply use</p>\n\n<pre><code>^[ABC].*$\n</code></pre>\n"}], "owner": {"reputation": 6457, "user_id": 3391549, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d57b4a09e70b34f4c51dd8fc0f44ca24?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/3391549/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 32962101, "answer_count": 1, "score": -1, "last_activity_date": 1444107926, "creation_date": 1444107823, "question_id": 32962081, "link": "https://stackoverflow.com/questions/32962081/removing-certain-lines-in-perl", "title": "Removing certain lines in perl", "body": "<pre><code>while ($line = &lt;IN&gt;){\n    ...\nprint OUT \"$line\";\nprint OUT1 \"$line\";\n}\n</code></pre>\n\n<p>Here I am using a <code>while</code> loop to read the lines in my input file. I would like to remove lines that start with the symbol <code>%</code>. I would also like to remove the lines that don't start with <code>A</code>, <code>B</code>, or <code>C</code>. What function can I use?</p>\n"}, {"tags": ["iphone", "perl", "safari", "raspberry-pi2", "mojolicious"], "comments": [{"owner": {"reputation": 1010, "user_id": 55276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454038f12793de98a5cb28f9c00ef728?s=128&d=identicon&r=PG", "display_name": "Fayland Lam", "link": "https://stackoverflow.com/users/55276/fayland-lam"}, "edited": false, "score": 0, "creation_date": 1444103407, "post_id": 32960854, "comment_id": 53747705, "body": "you can try MOJO_DAEMON_DEBUG=1 morbo script/yourappname to see if it is printing correct Set-Cookie etc. to Safari. can&#39;t comment more since I do not have Raspberry Pi"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5412165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b293eb9ef48dd688818bffbcfdd2aac?s=128&d=identicon&r=PG&f=1", "display_name": "Garry Taylor", "link": "https://stackoverflow.com/users/5412165/garry-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1444161063, "creation_date": 1444161063, "answer_id": 32978475, "question_id": 32960854, "link": "https://stackoverflow.com/questions/32960854/mojolicious-running-on-raspberry-pi-sends-empty-sessions-to-safari-on-iphone/32978475#32978475", "title": "Mojolicious running on Raspberry Pi sends empty sessions to Safari on iPhone", "body": "<p>Well, I've found the problem and resolved it.  It wasn't the different versions of Mojolicious, the different versions of Perl, different modules or different libraries.  The problem was that, when I set up the Raspberry last month, I didn't take the time to set up ntpd.  So when the power went out last week, the time didn't reset properly when the Raspberry started back up.  After trying many, many things, I happened to notice this morning that the time reported was off by about 2 1/2 hours.  Resetting the clock brought the world back to normal.  Apparently, the Safari browser was looking at the incoming cookie, seeing that its expiration date (now + 1 hr) was in the past, and since it was expired, not storing it.  Anyway, that's what it took to resolve the problem, and I feel pretty foolish for not catching it sooner.  Thanks for your help.</p>\n"}], "owner": {"reputation": 21, "user_id": 5412165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b293eb9ef48dd688818bffbcfdd2aac?s=128&d=identicon&r=PG&f=1", "display_name": "Garry Taylor", "link": "https://stackoverflow.com/users/5412165/garry-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1444161063, "creation_date": 1444099039, "question_id": 32960854, "link": "https://stackoverflow.com/questions/32960854/mojolicious-running-on-raspberry-pi-sends-empty-sessions-to-safari-on-iphone", "title": "Mojolicious running on Raspberry Pi sends empty sessions to Safari on iPhone", "body": "<p>I'm writing a Perl server for my church using Mojolicious::Lite that will run on a Raspberry Pi 2.  I wrote the software on my laptop running Linux Mint and have tested it along the way on the Raspberry Pi.  My most recent addition was a simple login screen that stores an authentication in a session. It works fine when running on the laptop, and can be accessed from Firefox and Chrome on Linux and Chrome and Safari from my iPhone. When the same code runs on the Raspberry, it works for everything but Safari on the iPhone. The Safari shows a 0 byte cookie in the Settings->Safari->Advanced->Website Data.  The same version of Mojolicious is running on both the laptop and the Raspberry (6.14). I get the same results with the simple example in the Mojolicious::Guides::Tutorial that increments a counter. When using the Safari iPhone browser to look at the counter on the laptop, the counter increments and the stored cookie is .2kb, but when looking at the same code running on the Raspberry, the counter never increments and the cookie is 0 bytes. Here is the sample code:</p>\n\n<pre><code>use Mojolicious::Lite;\n\n# Access session data in action and template\nget '/counter' =&gt; sub {\n  my $c = shift;\n  $c-&gt;session-&gt;{counter}++;\n};\n\napp-&gt;start;\n__DATA__\n\n@@ counter.html.ep\nCounter: &lt;%= session 'counter' %&gt;\n</code></pre>\n\n<p>On my laptop I am running Linux Mint with Perl 5.18.2 and Mojolicious 6.14.  On the Raspberry, I am running Raspbian Wheezy, with Perl 5.14.2 (the latest available with the default archives when doing apt-get) and Mojolicious 6.14. Any help you could offer in getting this working would be greatly appreciated.\n  Thanks!\n  Garry</p>\n"}, {"tags": ["perl", "proxy"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1444105937, "creation_date": 1444105937, "answer_id": 32961784, "question_id": 32959971, "link": "https://stackoverflow.com/questions/32959971/how-to-add-proxy-list-to-perl/32961784#32961784", "title": "how to Add Proxy List to Perl?", "body": "<blockquote>\n  <p>How could I add proxy list and limit the search for 12 per proxy?</p>\n</blockquote>\n\n<p>You can't add a list using the environment (i.e <code>env_proxy</code>) but you can change the proxy whenever you want with </p>\n\n<pre><code>  $ua-&gt;proxy(['http','https'],'http://proxy-ip:port');\n</code></pre>\n\n<p>This setting applies then to all requests done with <code>$ua</code> until you change the setting again.</p>\n"}], "owner": {"reputation": 1, "user_id": 4360389, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001393226163/picture?type=large", "display_name": "Mohammed Mokhlisse", "link": "https://stackoverflow.com/users/4360389/mohammed-mokhlisse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444164406, "creation_date": 1444091789, "last_edit_date": 1444107667, "question_id": 32959971, "link": "https://stackoverflow.com/questions/32959971/how-to-add-proxy-list-to-perl", "title": "how to Add Proxy List to Perl?", "body": "<p>So my question is kind of hard but i give it a try:</p>\n\n<p>My code is a script that use this website to extract domains from reverse ip address \"<a href=\"http://www.yougetsignal.com/tools/web-sites-on-web-server/\" rel=\"nofollow\">http://www.yougetsignal.com/tools/web-sites-on-web-server/</a>\"</p>\n\n<p>The problem is that whenever i scan until 12 try i cant get results because the website block My IP when i get to 12 search.</p>\n\n<p>So i was trying to find a way to add proxy but i need to change proxy whenever i scan again.</p>\n\n<p>How could I add proxy list and limit the search for 12 per proxy?</p>\n\n<p>this is my code :<a href=\"http://pastebin.com/EY3cy5Vs\" rel=\"nofollow\">http://pastebin.com/EY3cy5Vs</a></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse HTTP::Request;\nuse LWP::UserAgent;\n\nif($^O =~ /Win/){\n    system(\"cls\");\n    system(\"color a\");\n    system(\"title Get Sites by : ip\");\n}else{\n    system(\"clear\");\n}\n\nprint q{\n\n                       *--------------------*\n                       *       Get          *\n                       *      Sites         *\n                       *  result in log.txt *\n                       *--------------------*\n};\n\nprint \"\\nPut Host or IP (host without http://) :\";\n\nmy $host = &lt;&gt;;\nchomp($host);\n\nmy $ua = LWP::UserAgent-&gt;new(agent =&gt; 'Mozilla/5.0 (Windows; U; Windows NT 5.1; fr; rv:1.9.1) Gecko/20090624 Firefox/3.5');\n$ua-&gt;env_proxy;\n#proxy\nmy $response = $ua-&gt;get(\"127.0.0.1\");\n#proxy\nmy $zz = $ua-&gt;post('http://domains.yougetsignal.com/domains.php',\n    {\n        remoteAddress =&gt; $host,\n    }\n);\n\nmy $resulta = $zz-&gt;content;\nwhile ($resulta =~ m/\\[([^\\]]*)\\]/g)\n{\n    $zeb = $1;\n    $zeb =~ m/\\\"(.*?)\\\", \\\"?\\\"/g;\n    open(a, \"&gt;&gt;log.txt\");\n    print a \"http://$1/\\n\";\n    close(a);\n}\n\nprint \"\\nresult in log.txt\";\n</code></pre>\n"}, {"tags": ["javascript", "json", "regex", "perl"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1444105435, "post_id": 32959924, "comment_id": 53748311, "body": "You might just look at it differently. Right now you are trying to match the json portion of the string.  Fixing your regex would be trivial (allow <code>\\s*</code> instead of requiring <code>\\s+</code>). However, JSON can be more complex than this example.  It might be easier to just drop the portion you do not want: <code>s&#47;^[^{]+&#47;&#47;</code>.  This will strip everything that comes before the first <code>{</code>."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1444106731, "post_id": 32959924, "comment_id": 53748679, "body": "What are you actually trying to do, though? <code>JSON.stringify(materials)</code> will give you real JSON to start with, which makes everything a whole lot easier."}], "answers": [{"comments": [{"owner": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "edited": false, "score": 0, "creation_date": 1444095073, "post_id": 32959983, "comment_id": 53745726, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post."}, {"owner": {"reputation": 7411, "user_id": 2200659, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ImYIK.jpg?s=128&g=1", "display_name": "Anders", "link": "https://stackoverflow.com/users/2200659/anders"}, "reply_to_user": {"reputation": 8117, "user_id": 1207687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cOUI4.jpg?s=128&g=1", "display_name": "Wes Foster", "link": "https://stackoverflow.com/users/1207687/wes-foster"}, "edited": false, "score": 2, "creation_date": 1444116616, "post_id": 32959983, "comment_id": 53752990, "body": "@WesFoster How is this not an answer? It is an attempt to solve the problem, and as far as I can tell a correct one. Could you please elaborate on your reasoning here?"}], "tags": [], "owner": {"reputation": 329, "user_id": 4077025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef588189ba0585b649b59495f2ae573f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Chrostowski", "link": "https://stackoverflow.com/users/4077025/dan-chrostowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1444099076, "last_edit_date": 1444099076, "creation_date": 1444091938, "answer_id": 32959983, "question_id": 32959924, "link": "https://stackoverflow.com/questions/32959924/what-perl-regular-expression-will-correctly-match-a-javascript-associative-array/32959983#32959983", "title": "What perl regular expression will correctly match a javascript associative array?", "body": "<p>There's no spaces between the equal sign and the curly bracket, but the pattern requires at least one. Remove the <code>\\s+</code> or change it to <code>\\s*</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "edited": false, "score": 0, "creation_date": 1444107606, "post_id": 32961800, "comment_id": 53748958, "body": "Why downvote? It&#39;s a genuine question. I&#39;ve tested it (and everyone can do the same executing the perl script in the answer...)"}, {"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1444117506, "post_id": 32961800, "comment_id": 53753476, "body": "Thank you for point me in the right direction: i&#39;ve collapsed the default greedy with backtrack behaviour with the greedy <i>possessive</i> behaviour (as <code>[\\s\\S]++</code>) that not backtrack at all. I&#39;ve removed the wrong assumption but leave the code cause it works."}], "tags": [], "owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "is_accepted": true, "score": 1, "last_activity_date": 1444120640, "last_edit_date": 1444120640, "creation_date": 1444106036, "answer_id": 32961800, "question_id": 32959924, "link": "https://stackoverflow.com/questions/32959924/what-perl-regular-expression-will-correctly-match-a-javascript-associative-array/32961800#32961800", "title": "What perl regular expression will correctly match a javascript associative array?", "body": "<p>Using an exclude group like <code>[^}]+</code> works as expected also if there are multiple elements:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nmy $js_code = &lt;&lt;'__END__';\nvar previousOne =  {\n    pFoo: \"pBar\",\n    pBar: \"pBaz\",\n    pBaz: \"pFoo\"\n},\nvar materials ={\n    foo: \"bar\",\n    bar: \"baz\",\n    baz: \"foo\"\n},\nvar anotherOne = {\n   aFoo: \"aBar\",\n   aBar: \"aBaz\",\n   aBaz: \"aFoo\"\n}\n__END__\n\nmy ($json_str) = $js_code =~ m/\\s*var\\s+materials\\s*=\\s*({[^}]+}),?/;\nprint \"json_str = ${json_str}\\n\";\n</code></pre>\n\n<p>I've relaxed some whitespace constraints. You can test it and edit it online <a href=\"http://ideone.com/6yOsGx\" rel=\"nofollow\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "edited": false, "score": 0, "creation_date": 1444111009, "post_id": 32961980, "comment_id": 53750172, "body": "Why <code>[\\s\\S]+</code> doesn&#39;t match <code>&#39;}&#39;</code> also? (and all the rest till the end of the string) Doesn&#39;t it need the lazy modifier <code>&#39;?&#39;</code> to work? Like this <code>[\\s\\S]+?</code>"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 5470, "user_id": 4892253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZrMZEj2JfQU/AAAAAAAAAAI/AAAAAAAADzM/kb6HWF8eRpE/photo.jpg?sz=128", "display_name": "Giuseppe Ricupero", "link": "https://stackoverflow.com/users/4892253/giuseppe-ricupero"}, "edited": false, "score": 1, "creation_date": 1444111171, "post_id": 32961980, "comment_id": 53750232, "body": "@GsusRecovery that&#39;s d same problem with ur answer.Ur assumption is wrong.it will match <code>}</code> but then it will backtrack as re has to match a <code>}</code> as well.To <code>[\\s\\S]</code> will backtrack leaving <code>}</code> for <code>}</code> to match.Same with <code>,</code> as well.<code>?</code> is needed only if there are multiple <code>}</code> as then it will match till last <code>}</code>"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 2, "last_activity_date": 1444111367, "last_edit_date": 1444111367, "creation_date": 1444107166, "answer_id": 32961980, "question_id": 32959924, "link": "https://stackoverflow.com/questions/32959924/what-perl-regular-expression-will-correctly-match-a-javascript-associative-array/32961980#32961980", "title": "What perl regular expression will correctly match a javascript associative array?", "body": "<pre><code>my ($json_str) = $js_code =~ m/var\\smaterials\\s=\\s*({[\\s\\S]+?}),/i;\n\n                                                      ^^^^\n</code></pre>\n\n<p>The problem is <code>.</code> does not match <code>\\n</code> by default.So either use <code>[\\s\\S]</code> or use <code>(?s)</code> the <code>DOTALL</code> flag.</p>\n\n<p>See demo.</p>\n\n<p><a href=\"https://regex101.com/r/cJ6zQ3/7\" rel=\"nofollow\">https://regex101.com/r/cJ6zQ3/7</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://regex101.com/r/cJ6zQ3/8\" rel=\"nofollow\">https://regex101.com/r/cJ6zQ3/8</a></p>\n"}, {"tags": [], "owner": {"reputation": 670, "user_id": 797238, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89e109fca8474e5636c9feef7a8422ea?s=128&d=identicon&r=PG", "display_name": "Steven Haryanto", "link": "https://stackoverflow.com/users/797238/steven-haryanto"}, "is_accepted": false, "score": 2, "last_activity_date": 1444124536, "creation_date": 1444124536, "answer_id": 32966698, "question_id": 32959924, "link": "https://stackoverflow.com/questions/32959924/what-perl-regular-expression-will-correctly-match-a-javascript-associative-array/32966698#32966698", "title": "What perl regular expression will correctly match a javascript associative array?", "body": "<p>If you can quote the JSON object's keys (like the example below), you could try <a href=\"https://metacpan.org/pod/JSON::Decode::Regexp\" rel=\"nofollow\">JSON::Decode::Regexp</a>, the module includes a regex you can use to match a JSON. As a bonus, you get the JSON object loaded as Perl hash. Example code:</p>\n\n<pre><code>use Data::Dump;\nuse JSON::Decode::Regexp;\n\nmy $json_code = &lt;&lt;'_';\nvar materials ={\n    \"foo\": \"bar\",\n    \"bar\": \"baz\",\n    \"baz\": \"foo\"\n},\n_\n\nif ($json_code =~ /(\\{.+)/s) {\n    local $_ = $1;\n    local $^R;\n    eval { /\\A$JSON::Decode::Regexp::FROM_JSON/ } or die \"No match\";\n    die \"No match: $@\" if $@;\n    print \"Match: \"; dd $_;\n}\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>Match: { bar =&gt; \"baz\", baz =&gt; \"foo\", foo =&gt; \"bar\" }\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 4077025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef588189ba0585b649b59495f2ae573f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Chrostowski", "link": "https://stackoverflow.com/users/4077025/dan-chrostowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 32961800, "answer_count": 4, "score": 1, "last_activity_date": 1444124536, "creation_date": 1444091327, "last_edit_date": 1444099037, "question_id": 32959924, "link": "https://stackoverflow.com/questions/32959924/what-perl-regular-expression-will-correctly-match-a-javascript-associative-array", "title": "What perl regular expression will correctly match a javascript associative array?", "body": "<p>I've got some Javascript code that I need to parse with Perl:</p>\n\n<pre><code>var materials ={\n    foo: \"bar\",\n    bar: \"baz\",\n    baz: \"foo\"\n},\n</code></pre>\n\n<p>I've got this Javascript variable as a string, and I want to match the associative array's body so that I can parse it as JSON with Perl using <code>parse_json()</code>.  I cannot figure out what I'm doing wrong with my regular expression:</p>\n\n<p><code>my ($json_str) = $js_code =~ m/var\\smaterials\\s=\\s+({.+}),/i;</code></p>\n\n<p><code>$json_str</code> ends up being uninitialized.  </p>\n"}, {"tags": ["perl", "catalyst", "html-formhandler"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1444088899, "post_id": 32957490, "comment_id": 53744188, "body": "is the validate function being called? Because field ( type =&gt; &#39;boolean&#39; ) does exactly what you want for me, I am currently using that without problems - i.e. for me, checkbox checked =&gt; field-&gt;value is true.   I am asking because HTML::Formhandler will automatically use field_$fieldname subs for validation, but it is called &#39;validate_autosys_jobs_schedule_run_day_of_month&#39;, whereas your field is &#39;autosys_jobs.schedule.has_run_day_of_month&#39; ( note the dots )"}, {"owner": {"reputation": 73, "user_id": 778330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fba8ea4e1282d20500154c63a03717e?s=128&d=identicon&r=PG", "display_name": "Tony Okusanya", "link": "https://stackoverflow.com/users/778330/tony-okusanya"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1444231682, "post_id": 32957490, "comment_id": 53817410, "body": "Yes the validate function is being called. I confirmed this also the documentation directs to rename any dots with an underscore."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1444238524, "post_id": 32957490, "comment_id": 53821870, "body": "did not know that. Seemed like the only thing that could have been wrong, but I am glad to see it wasn&#39;t and you have figured it out yourself. Perhaps you should mention all relevant info next time ;)"}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 778330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fba8ea4e1282d20500154c63a03717e?s=128&d=identicon&r=PG", "display_name": "Tony Okusanya", "link": "https://stackoverflow.com/users/778330/tony-okusanya"}, "is_accepted": false, "score": 0, "last_activity_date": 1444234635, "creation_date": 1444234635, "answer_id": 32997426, "question_id": 32957490, "link": "https://stackoverflow.com/questions/32957490/htmlformhandler-field-validation-based-on-other-fields-checkd-state/32997426#32997426", "title": "HTML::FormHandler field validation based on other field&#39;s check&#39;d state", "body": "<p>After digging deeper into the HTML::FormHandler documentation I was able to figure out my mistake.\nThe field autosys_jobs.schedule is a compound field(forgot to mention that)</p>\n\n<pre><code>has_field 'autosys_jobs.schedule' =&gt; ( type =&gt; 'Compound');\n</code></pre>\n\n<p>in order to access the field of interest I had to use the following in my validate sub:</p>\n\n<pre><code>$self-&gt;field('autosys_jobs.0.schedule.has_run_day_of_month')-&gt;value\n</code></pre>\n\n<p>Thanks all </p>\n"}], "owner": {"reputation": 73, "user_id": 778330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fba8ea4e1282d20500154c63a03717e?s=128&d=identicon&r=PG", "display_name": "Tony Okusanya", "link": "https://stackoverflow.com/users/778330/tony-okusanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1444234635, "creation_date": 1444077558, "last_edit_date": 1444078014, "question_id": 32957490, "link": "https://stackoverflow.com/questions/32957490/htmlformhandler-field-validation-based-on-other-fields-checkd-state", "title": "HTML::FormHandler field validation based on other field&#39;s check&#39;d state", "body": "<p>I am developing a Perl/Catalyst web app using HTML::FormHandler for forms.\nI am trying to do a conditional validation on a field if a checkbox is checked.</p>\n\n<p>The code below is from a Role I created for my form to use.</p>\n\n<pre><code>has_field 'autosys_jobs.schedule.has_run_day_of_month' =&gt; ( type=&gt;'Boolean');\nhas_field 'autosys_jobs.schedule.run_day_of_month' =&gt; ( type =&gt; 'PosInteger');\n\n#Validation function for 'autosys_jobs.schedule.run_day_of_month'\nsub validate_autosys_jobs_schedule_run_day_of_month {\n    my ( $self, $field ) = @_;\n    if( $self-&gt;field('autosys_jobs.schedule.has_run_day_of_month')-&gt;value ) {\n       #validate 'autosys_jobs.schedule.run_day_of_month'\n    }\n}\n</code></pre>\n\n<p>The problem I'm having is that <code>$self-&gt;field('autosys_jobs.schedule.has_run_day_of_month')-&gt;value</code> \nfor the boolean field always returns 0 even if it's checked.</p>\n\n<p>Any ideas on what I'm doing wrong?</p>\n"}, {"tags": ["c++", "regex", "bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5000825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l2Pnl.jpg?s=128&g=1", "display_name": "insomniacjunkie", "link": "https://stackoverflow.com/users/5000825/insomniacjunkie"}, "edited": false, "score": 0, "creation_date": 1444073435, "post_id": 32956130, "comment_id": 53737764, "body": "Awesome! The /e modifier was my main problem and causing the errors. Thanks."}], "tags": [], "owner": {"reputation": 1395, "user_id": 252489, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f5f3c9e216adc1a98897f99ec581853a?s=128&d=identicon&r=PG", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/252489/gowtham"}, "is_accepted": true, "score": 1, "last_activity_date": 1444073509, "last_edit_date": 1444073509, "creation_date": 1444072402, "answer_id": 32956130, "question_id": 32956013, "link": "https://stackoverflow.com/questions/32956013/use-perl-regex-to-change-define-to-undef-in-c/32956130#32956130", "title": "Use Perl + Regex to Change #define to #undef in C++", "body": "<p>You can match one or more whitespace characters using <code>\\s+</code> syntax.</p>\n\n<pre><code>perl -pe 's/define\\s+DO_THIS_NOW/undef DO_THIS_NOW/' file.h &gt; file.h.2\n</code></pre>\n\n<ul>\n<li><code>\\s</code> matches a single whitespace, like space, tab etc. </li>\n<li><code>+</code> modifier matches one or more of whatever it follows</li>\n</ul>\n\n<p>The <code>/e</code> modifier evaluates the replacement string as perl code and replaces the matched text with the result of the evaluation. It is not necessary for this replacement.</p>\n\n<p>Look at <code>perldoc perlretut</code> for more information.</p>\n"}], "owner": {"reputation": 53, "user_id": 5000825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l2Pnl.jpg?s=128&g=1", "display_name": "insomniacjunkie", "link": "https://stackoverflow.com/users/5000825/insomniacjunkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 32956130, "answer_count": 1, "score": 0, "last_activity_date": 1444073509, "creation_date": 1444071994, "question_id": 32956013, "link": "https://stackoverflow.com/questions/32956013/use-perl-regex-to-change-define-to-undef-in-c", "title": "Use Perl + Regex to Change #define to #undef in C++", "body": "<p>Inside of a large configuration file I have something like:</p>\n\n<pre><code>#define DO_THIS_NOW // Set DO_THIS_NOW before running y\n</code></pre>\n\n<p>I would like to have a simple perl one-liner that can change this to:</p>\n\n<pre><code>#undef DO_THIS_NOW\n</code></pre>\n\n<p>Sometimes, however, it may actually have an extra space or two:</p>\n\n<pre><code>#define   DO_THIS_NOW // Set DO_THIS_NOW before running y\n</code></pre>\n\n<p>The solution I was looking at would be something along the line of:</p>\n\n<pre><code>perl -MPOSIX -pe's/define DO_THIS_NOW/undef DO_THIS_NOW/e' file.h &gt; file.h.2\n</code></pre>\n\n<p>But I can't seem to get the syntax quite right.</p>\n\n<p>Is this the best way to go about doing this? Or is there an obvious other way to do it? My end-game is to put the perl one-liner into a bash script.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444070795, "post_id": 32955400, "comment_id": 53736264, "body": "I&#39;m a little confused...what do you mean by &quot;a browser-independent solution?&quot; If you&#39;re scraping a webpage, there will necessarily be differences in the page depending on which browser you use to render it, whether that be Firefox or a headless browser like PhantomJS. Do you just mean you want a solution that doesn&#39;t require you to install Firefox?"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444073982, "post_id": 32955400, "comment_id": 53738071, "body": "@ThisSuitIsBlackNot yes; technically speaking Mechanize is a browser.  What I was trying to get at is the ability to render the result of JS operations, without using a third-party browser, or installing another browser binary."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444076943, "post_id": 32955400, "comment_id": 53739626, "body": "In other words, you want a pure-Perl Javascript engine? Maybe try <a href=\"https://metacpan.org/pod/JavaScript\" rel=\"nofollow noreferrer\">Javascript.pm</a>, although that&#39;s not a browser; I think you would have to integrate it with Mechanize yourself. Everything else I can find requires an external binary: WWW::Mechanize::PhantomJS, for example, requires you to install PhantomJS; <a href=\"https://metacpan.org/pod/JavaScript::V8\" rel=\"nofollow noreferrer\">JavaScript::V8</a>, also not a browser, requires you to install V8."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444077224, "post_id": 32955400, "comment_id": 53739773, "body": "@ThisSuitIsBlackNot yes. That is what did not exist years ago, but the hope is it could now, especially since new solutions are more immediate these days. The audience at SO may know about the less popular modules, in this case one that is a PP version. I wouldn&#39;t mind JavaScript::V8, except I don&#39;t think it is integrated into Mechanize. It&#39;s easier to separate the two.  Using mechanize with firefox/phantom fees like too much middleware."}, {"owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "edited": false, "score": 0, "creation_date": 1444148455, "post_id": 32955400, "comment_id": 53774739, "body": "Haven&#39;t used them, but you may want to check out <a href=\"https://metacpan.org/pod/Test::Mojo::Role::Phantom\" rel=\"nofollow noreferrer\">metacpan.org/pod/Test::Mojo::Role::Phantom</a> and <a href=\"https://metacpan.org/pod/Mojo::Phantom\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mojo::Phantom</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1444076192, "post_id": 32957110, "comment_id": 53739263, "body": "This may be interesting.  There&#39;s also a plugin for Mechanize: <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-PhantomJS-0.02/lib/WWW/Mechanize/PhantomJS/Examples.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~corion/WWW-Mechanize-PhantomJS-0.02/lib/WWW&zwnj;&#8203;/&hellip;</a>  Though, it seems like using Firefox as headless would be accomplishing the same thing.  I guess I can&#39;t really avoid a 3rd party renderer, Mechanize doesn&#39;t seem to have anything more native (was hoping there would be a WWW::Mechanize::V8)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1444078336, "post_id": 32957110, "comment_id": 53740292, "body": "@vol7ron FWIW, I don&#39;t think WWW::Mechanize::PhantomJS is as well-supported as WWW::Mechanize::Firefox. I submitted a <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=100191\" rel=\"nofollow noreferrer\">bug report and patch</a> for a rendering issue almost a year ago but there&#39;s been no response. For that particular project I ended up just using PhantomJS instead of Perl, although I guess I could have used my patched version of the module, too. I agree, a pure-Perl Javascript-aware browser would be nice."}], "tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": false, "score": 0, "last_activity_date": 1444075965, "creation_date": 1444075965, "answer_id": 32957110, "question_id": 32955400, "link": "https://stackoverflow.com/questions/32955400/perl-parsing-ajax-loaded-content/32957110#32957110", "title": "Perl: Parsing AJAX loaded content", "body": "<p>You mentioned Selenium but there is the later version <a href=\"http://search.cpan.org/perldoc?Selenium%3A%3ARemote%3A%3ADriver\" rel=\"nofollow\">Selenium::Remote::Driver</a> which works with a selenium 2.0 hub.</p>\n\n<p>I see you can also use it without a Selenium hub \nWithout Standalone Server ( I haven't used this part)</p>\n\n<blockquote>\n  <p>As of v0.25, it's possible to use this module without a standalone\n  server - that is, you would not need the JRE or the JDK to run your\n  Selenium tests.  See Selenium::Chrome, Selenium::PhantomJS, and \n  Selenium::Firefox for details. If you'd like additional browsers\n  besides  these, give us a holler over in Github.</p>\n</blockquote>\n\n<p><a href=\"http://phantomjs.org/\" rel=\"nofollow\">PhantomJS</a> may be of interest as it is a headless browser</p>\n\n<p>This is probably not an answer but it was too long for a comment</p>\n"}], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444076303, "creation_date": 1444069728, "last_edit_date": 1495539868, "question_id": 32955400, "link": "https://stackoverflow.com/questions/32955400/perl-parsing-ajax-loaded-content", "title": "Perl: Parsing AJAX loaded content", "body": "<p>This is an age-old question regarding perl web scrapers after Web 2.0; they simply cannot parse dynamically loaded pages because they need some sort of JavaScript engine in order to render the page.  This issue is much more involved than simply rendering JavaScript, since Perl would also have to be able to manage and maintain the DOM.  </p>\n\n<p>It seems <a href=\"http://search.cpan.org/~lukec/Test-WWW-Selenium-1.23/util/create_www_selenium.pl\" rel=\"nofollow noreferrer\" title=\"Selenium Perl Module\">WWW::Selenium</a> and <a href=\"http://search.cpan.org/~corion/WWW-Mechanize-Firefox-0.78/lib/WWW/Mechanize/Firefox.pm\" rel=\"nofollow noreferrer\" title=\"Mechanize Perl Module\">WWW::Mechanize::Firefox</a> is able to accomplish this by utilizing FireFox (or other browsers) to do the rendering for it.  However, V8 has become so popular (as seen with Node.js), so I'm curious if there are any new libraries that utilize it or there has since been a browser-independent solution, which I'm not aware.</p>\n\n<p><em>I might usually consider this a closable question, but with so few results when Googling and on Stack Overflow, there shouldn't be too many solutions (if any).</em></p>\n\n<hr>\n\n<p>Related (older) Questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2655034/how-can-i-use-perl-to-grab-text-from-a-web-page-that-is-dynamically-generated-wi\">How can I use Perl to grab text from a web page that is dynamically generated with JavaScript?</a>  </li>\n<li><a href=\"https://stackoverflow.com/questions/3769015/how-can-i-handle-javascript-in-a-perl-web-crawler\">How can I handle Javascript in a Perl web crawler?</a></li>\n</ul>\n"}, {"tags": ["oop", "coding-style", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1444069233, "post_id": 32955172, "comment_id": 53735376, "body": "My favorite example of indirect object notation: <a href=\"http://stackoverflow.com/q/11695110/176646\">Why is this program valid? I was trying to create a syntax error</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1444069869, "post_id": 32955172, "comment_id": 53735735, "body": "The main problem with ION isn&#39;t using it as much as the support for it in Perl. The existence of the feature causes multiple problems. The two I can remember right now: 1) It causes some syntax errors to result in very odd/misleading error messages, 2) It prevents useful features from being implemented since they clash with valid ION syntax."}], "answers": [{"tags": [], "owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "is_accepted": false, "score": 4, "last_activity_date": 1444069257, "creation_date": 1444069257, "answer_id": 32955275, "question_id": 32955172, "link": "https://stackoverflow.com/questions/32955172/what-is-indirect-object-notation-why-is-it-bad-and-how-does-one-avoid-it/32955275#32955275", "title": "What is indirect object notation, why is it bad, and how does one avoid it?", "body": "<p>The commenter just wanted to see <code>Some::Module-&gt;new(FIELD =&gt; 'value');</code> as the constructor.</p>\n\n<p>Perl can use <a href=\"http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow\">indirect object syntax for other bare words that look like they might be methods</a>, but nowadays the <code>perlobj</code> documentation suggests not to use it.</p>\n\n<p>The general problem with it is that code written this way is ambiguous and exercises Perl's parser to test the namespace to e.g. check when you write <code>method Namespace</code> whether Namespace::method exists.</p>\n"}, {"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 18, "last_activity_date": 1444069299, "creation_date": 1444069299, "answer_id": 32955287, "question_id": 32955172, "link": "https://stackoverflow.com/questions/32955172/what-is-indirect-object-notation-why-is-it-bad-and-how-does-one-avoid-it/32955287#32955287", "title": "What is indirect object notation, why is it bad, and how does one avoid it?", "body": "<p>The main problem is that it's ambiguous. Does</p>\n\n<pre><code>my $some_object = new Some::Module(FIELD =&gt; 'value');\n</code></pre>\n\n<p>mean to call the <code>new</code> method in the <code>Some::Module</code> package, or does it mean to call the <code>new</code> function in the current package with the result of calling the <code>Module</code> function in the <code>Some</code> package with the given parameters?</p>\n\n<p>i.e, it could be parsed as:</p>\n\n<pre><code># method call\nmy $some_object = Some::Module-&gt;new(FIELD =&gt; 'value');\n# or function call\nmy $some_object = new(Some::Module(FIELD =&gt; 'value'));\n</code></pre>\n\n<p>The alternative is to use the explicit method call notation <code>Some::Module-&gt;new(...)</code>.</p>\n\n<p>Normally, the parser guesses correctly, but the best practice is to avoid the ambiguity.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 9, "last_activity_date": 1444098645, "last_edit_date": 1444098645, "creation_date": 1444071039, "answer_id": 32955752, "question_id": 32955172, "link": "https://stackoverflow.com/questions/32955172/what-is-indirect-object-notation-why-is-it-bad-and-how-does-one-avoid-it/32955752#32955752", "title": "What is indirect object notation, why is it bad, and how does one avoid it?", "body": "<blockquote>\n  <p><em>What's so bad about it?</em></p>\n</blockquote>\n\n<p>The problems with Indirect Method Notation are avoidable, but it's far easier to tell people to avoid Indirect Method Notation.</p>\n\n<p>The main problem it's very easy to call the wrong function by accident. Take the following code, for example:</p>\n\n<pre><code>package Widget;\n\nsub new { ... }\nsub foo { ... }\nsub bar { ... }\n\nsub method {\n   ...;\n   my $o = new SubWidget;\n   ...;\n}\n\n1;\n</code></pre>\n\n<p>In that code, <code>new SubWidget</code> is expected to mean</p>\n\n<pre><code>SubWidget-&gt;new()\n</code></pre>\n\n<p>Instead, it actually means</p>\n\n<pre><code>new(\"SubWidget\")\n</code></pre>\n\n<p>That said, using strict will catch most of these instances of this error. Were <code>use strict;</code> to be added to the above snippet, the following error would be produced:</p>\n\n<pre><code>Bareword \"SubWidget\" not allowed while \"strict subs\" in use at Widget.pm line 11.\n</code></pre>\n\n<p>That said, there are cases where using strict would not catch the error. They primarily involve the use of parens around the arguments of the method call (e.g. <code>new SubWidget($x)</code>).</p>\n\n<p>So that means</p>\n\n<ul>\n<li>Using Indirect Object Notation without parens can result in odd error messages.</li>\n<li>Using Indirect Object Notation with parens can result in the wrong code being called.</li>\n</ul>\n\n<p>The former is bearable, and the latter is avoidable. But rather than telling people \"avoid using parens around the arguments of method calls using Indirect Method Notation\", we simply tell people \"avoid using Indirect Method Notation\". It's just too fragile.</p>\n\n<hr>\n\n<p>There's another issue. It's not just using Indirect Object Notation that's a problem, it's supporting it in Perl. The existence of the feature causes multiple problems. Primarily,</p>\n\n<ul>\n<li>It causes some syntax errors to result in very odd/misleading error messages because the code appeared to be using ION when it wasn't.</li>\n<li>It prevents useful features from being implemented since they clash with valid ION syntax.</li>\n</ul>\n\n<p>On the plus side, using <code>no indirect;</code> helps the first problem.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>How should that line be rewritten?</em></p>\n</blockquote>\n\n<p>The correct way to write the method call is the following:</p>\n\n<pre><code>my $some_object = Some::Module-&gt;new(FIELD =&gt; 'value');\n</code></pre>\n\n<p>That said, even this syntax is ambiguous. It will first check if a function named <code>Some::Module</code> exists. But that's so very unlikely that very few people protect themselves from such problems. If you wanted to protect yourself, you could use the following:</p>\n\n<pre><code>my $some_object = Some::Module::-&gt;new(FIELD =&gt; 'value');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444098587, "post_id": 32957724, "comment_id": 53746597, "body": "Its value is limited because won&#39;t find the problem in the code in my answer."}], "tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 6, "last_activity_date": 1444078505, "creation_date": 1444078505, "answer_id": 32957724, "question_id": 32955172, "link": "https://stackoverflow.com/questions/32955172/what-is-indirect-object-notation-why-is-it-bad-and-how-does-one-avoid-it/32957724#32957724", "title": "What is indirect object notation, why is it bad, and how does one avoid it?", "body": "<p>As to how to avoid it: There's a CPAN module that forbids the notation, acting like a pragma module:</p>\n\n<pre><code>no indirect;\n</code></pre>\n\n<p><a href=\"http://metacpan.org/pod/indirect\">http://metacpan.org/pod/indirect</a></p>\n"}], "owner": {"reputation": 2705, "user_id": 1151171, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6g2ko.jpg?s=128&g=1", "display_name": "Jarmund", "link": "https://stackoverflow.com/users/1151171/jarmund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 32955287, "answer_count": 4, "score": 8, "last_activity_date": 1444098645, "creation_date": 1444068907, "question_id": 32955172, "link": "https://stackoverflow.com/questions/32955172/what-is-indirect-object-notation-why-is-it-bad-and-how-does-one-avoid-it", "title": "What is indirect object notation, why is it bad, and how does one avoid it?", "body": "<p>The title pretty much sums it up, but here's the long version anyway.</p>\n\n<p>After posting a small snippet of perl code, I was told to avoid indirect object notation, \"as it has several side effects\". The comment referenced this particular line:</p>\n\n<pre><code>my $some_object = new Some::Module(FIELD =&gt; 'value');\n</code></pre>\n\n<p>As this is how I've always done it, in an effort to get with the times I therefore ask:</p>\n\n<ul>\n<li>What's so bad about it? (specifically)</li>\n<li>What are the potential (presumably negative) side effects?</li>\n<li>How should that line be rewritten?</li>\n</ul>\n\n<p>I was about to ask the commenter, but to me this is worthy of its own post.</p>\n"}, {"tags": ["python", "regex", "perl", "python-3.x"], "comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 1, "creation_date": 1444066237, "post_id": 32954427, "comment_id": 53733670, "body": "Go to <a href=\"http://pythex.org\" rel=\"nofollow noreferrer\">pythex.org</a> and test out the regex. It&#39;s the fastest way to find out if particular syntax of your regex will work or not."}], "answers": [{"tags": [], "owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 4, "last_activity_date": 1444066197, "creation_date": 1444066197, "answer_id": 32954451, "question_id": 32954427, "link": "https://stackoverflow.com/questions/32954427/how-to-convert-perl-regular-expression-into-python/32954451#32954451", "title": "How to convert Perl regular expression into Python?", "body": "<p>That expression will work <em>as is</em> in Python. Just use the <a href=\"https://docs.python.org/2/library/re.html#re.X\" rel=\"nofollow\"><code>re.VERBOSE</code> switch</a> or remove all the whitespace.</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; pattern = re.compile('''\\\n... (?:\n... \n...     ^(?:never|no|nothing|nowhere|noone|none|not|\n...         havent|hasnt|hadnt|cant|couldnt|shouldnt|\n...         wont|wouldnt|dont|doesnt|didnt|isnt|arent|aint\n...     )$\n... \n... )\n... \n... |\n... \n... n't\n... ''', flags=re.VERBOSE)\n&gt;&gt;&gt; pattern.match('never').group()\n'never'\n&gt;&gt;&gt; pattern.match('wouldnt').group()\n'wouldnt'\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 2161903, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/248690f3b3d9d3be8af9dd8b8a5dd449?s=128&d=identicon&r=PG", "display_name": "user2161903", "link": "https://stackoverflow.com/users/2161903/user2161903"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": -8, "last_activity_date": 1444066197, "creation_date": 1444066098, "last_edit_date": 1444066125, "question_id": 32954427, "link": "https://stackoverflow.com/questions/32954427/how-to-convert-perl-regular-expression-into-python", "title": "How to convert Perl regular expression into Python?", "body": "<p>How do you convert this Perl regular expression into Python:</p>\n\n<pre><code>(?:\n\n    ^(?:never|no|nothing|nowhere|noone|none|not|\n        havent|hasnt|hadnt|cant|couldnt|shouldnt|\n        wont|wouldnt|dont|doesnt|didnt|isnt|arent|aint\n    )$\n\n)\n\n|\n\nn't\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6153, "user_id": 401446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lkzh5.jpg?s=128&g=1", "display_name": "Peter O&#39;Callaghan", "link": "https://stackoverflow.com/users/401446/peter-ocallaghan"}, "edited": false, "score": 1, "creation_date": 1444063930, "post_id": 32953626, "comment_id": 53732300, "body": "I believe the reason behind this is because it keeps matching until it fails to match the pattern. At which point it&#39;s the last matched character that&#39;s in the capture group."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444063962, "post_id": 32953626, "comment_id": 53732327, "body": "Try adding <code>use re &#39;debug&#39;;</code> to the top of your code. That&#39;s good for tracking what&#39;s going on."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1444063981, "post_id": 32953626, "comment_id": 53732340, "body": "I like the explanation in <a href=\"http://www.regular-expressions.info/captureall.html\" rel=\"nofollow noreferrer\">Repeating a Capturing Group vs. Capturing a Repeated Group</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444064211, "post_id": 32953626, "comment_id": 53732498, "body": "@Sobrique (oops, deleted by accident) That was my first impulse but it&#39;s not very enlightening in this case, even if you already know what&#39;s going on."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444067043, "post_id": 32953730, "comment_id": 53734162, "body": "I don&#39;t know how documented/safe <code>(.)+</code> is. I&#39;d use <code>(.).*</code>."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1444076323, "post_id": 32953730, "comment_id": 53739318, "body": "@ikegami Should not it be  <code>.*(.)</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1444076363, "post_id": 32953730, "comment_id": 53739338, "body": "@Andrzej A. Filip, ack! yes, I meant <code>.*(.)</code>"}, {"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "edited": false, "score": 0, "creation_date": 1444149929, "post_id": 32953730, "comment_id": 53775624, "body": "&quot;captures the last of these&quot;, yes, that&#39;s the conclusion we reached too."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 10, "last_activity_date": 1444063637, "creation_date": 1444063637, "answer_id": 32953730, "question_id": 32953626, "link": "https://stackoverflow.com/questions/32953626/what-is-the-behavior-of-in-a-regex/32953730#32953730", "title": "what is the behavior of (.)+ in a regex?", "body": "<p>There's a huge difference between <code>(.)+</code> and <code>(.+)</code> but only in terms of what is captured, not what is matched.</p>\n\n<p><code>(.)+</code> looks for one or more <em>instances</em> of a single character and captures the last of these.</p>\n\n<p><code>(.+)</code> looks for one or more single characters and captures all of them at once.</p>\n"}], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 32953730, "answer_count": 1, "score": 6, "last_activity_date": 1444063637, "creation_date": 1444063323, "question_id": 32953626, "link": "https://stackoverflow.com/questions/32953626/what-is-the-behavior-of-in-a-regex", "title": "what is the behavior of (.)+ in a regex?", "body": "<p>We just found a bug in some code where the programmer had used the equivalent of <code>(.)+</code> when they should have used <code>(.+)</code>. An easy enough fix, but we're unable to explain the behavior of <code>(.)+</code>. Can anyone explain why this matches \"e\", the last letter, and not \"b\", the first letter after the \"a\" in the regex? How would you explicate <code>(.)+</code>?</p>\n\n<pre><code>my $s = 'abcde';\n\nif ($s =~ m{ a (.)+  }x ){\n    print \"s '$s' matched '$1'\\n\";\n}else{\n    print \"total match fail\\n\";\n}\n\n__END__\noutput:\ns 'abcde' matched 'e'\n</code></pre>\n"}, {"tags": ["regex", "perl", "file"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444060619, "post_id": 32952727, "comment_id": 53730325, "body": "Why are you sticking a <code>\\r</code> on the end of your print? And ... there&#39;s no regex in what you posted..."}], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 1053904, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/61c1d46c26a07b4ad09f84704231db67?s=128&d=identicon&r=PG", "display_name": "Ben Coughlan", "link": "https://stackoverflow.com/users/1053904/ben-coughlan"}, "edited": false, "score": 1, "creation_date": 1444064528, "post_id": 32952883, "comment_id": 53732686, "body": "Wow, looks so simple when you put it this way, thanks for that, I couldn&#39;t find it online.  :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 515, "user_id": 1053904, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/61c1d46c26a07b4ad09f84704231db67?s=128&d=identicon&r=PG", "display_name": "Ben Coughlan", "link": "https://stackoverflow.com/users/1053904/ben-coughlan"}, "edited": false, "score": 1, "creation_date": 1444064633, "post_id": 32952883, "comment_id": 53732737, "body": "The thing to watch out for - <code>my $thing = $str =~ m&#47;\\.(\\w+)\\.lock&#47;;</code> won&#39;t do the same thing. You need those brackets around the left hand side because of context."}, {"owner": {"reputation": 515, "user_id": 1053904, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/61c1d46c26a07b4ad09f84704231db67?s=128&d=identicon&r=PG", "display_name": "Ben Coughlan", "link": "https://stackoverflow.com/users/1053904/ben-coughlan"}, "edited": false, "score": 0, "creation_date": 1444211934, "post_id": 32952883, "comment_id": 53803087, "body": "Used this, as the regex wouldnt work for me  &lt;pre&gt; &lt;code&gt;       my @thing = split(/\\./, &quot;$str&quot;);       print &quot;$thing[1]\\n&quot;;       my $str2 = $thing[1];        $str2 =~ s/[_]//g;              print &quot;$str2\\n&quot;;  &lt;/code&gt; &lt;/pre&gt;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 515, "user_id": 1053904, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/61c1d46c26a07b4ad09f84704231db67?s=128&d=identicon&r=PG", "display_name": "Ben Coughlan", "link": "https://stackoverflow.com/users/1053904/ben-coughlan"}, "edited": false, "score": 1, "creation_date": 1444212047, "post_id": 32952883, "comment_id": 53803166, "body": "Be aware - arrays in perl start at <code>0</code>. So you probably want <code>$thing[0]</code> if you want the first match."}, {"owner": {"reputation": 515, "user_id": 1053904, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/61c1d46c26a07b4ad09f84704231db67?s=128&d=identicon&r=PG", "display_name": "Ben Coughlan", "link": "https://stackoverflow.com/users/1053904/ben-coughlan"}, "edited": false, "score": 0, "creation_date": 1444219376, "post_id": 32952883, "comment_id": 53807799, "body": "Thanks, yep it&#39;s [1] I meant to use :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1444060876, "creation_date": 1444060876, "answer_id": 32952883, "question_id": 32952727, "link": "https://stackoverflow.com/questions/32952727/perl-regex-and-process-check/32952883#32952883", "title": "Perl Regex and process check", "body": "<p>To extract <code>amd64</code> from: <code>/local/mnt/bin/log/cron_1.amd64_.lock</code>:</p>\n\n<pre><code>my $str = '/local/mnt/bin/log/cron_1.amd64_.lock';\nmy ( $thing ) = $str =~ m/\\.(\\w+)\\.lock/;\n</code></pre>\n\n<p>This will make <code>$thing</code> <code>amd64_</code>. Alternatively you could use:</p>\n\n<pre><code>my ( $thing ) = $str =~ m/\\.(\\w+)_\\.lock/;\n</code></pre>\n\n<p>You're right - in regex <code>.</code> is a wildcard. You escape it with a backslash. In the above, it'll match a literal <code>.</code>. <code>\\w</code> is perl regex for \"word characters\" which is alphanumeric + underscore. </p>\n"}], "owner": {"reputation": 515, "user_id": 1053904, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/61c1d46c26a07b4ad09f84704231db67?s=128&d=identicon&r=PG", "display_name": "Ben Coughlan", "link": "https://stackoverflow.com/users/1053904/ben-coughlan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 32952883, "answer_count": 1, "score": 0, "last_activity_date": 1444060876, "creation_date": 1444060413, "question_id": 32952727, "link": "https://stackoverflow.com/questions/32952727/perl-regex-and-process-check", "title": "Perl Regex and process check", "body": "<p>I have a number of files in a certain directory, they are lock files. </p>\n\n<p>I need to put together a perl script that will </p>\n\n<p><strong>a: check for the file's in existance</strong></p>\n\n<pre><code>my @files = glob \"/local/mnt/bin/log/*.lock\";\n\nfor (@files){\n  print \"$_\\r\\n\";\n}\n</code></pre>\n\n<p>prints /local/mnt/bin/log/cron_1.<strong><em>amd64</em></strong>_.lock</p>\n\n<p><strong>b: check for a running process with this file</strong></p>\n\n<p>This links to the following process </p>\n\n<p>/bin/ksh /local/mnt/bin/a.b/jobrunner -cron -o <strong><em>amd64</em></strong></p>\n\n<p>I'm having trouble with the regex syntax to pull out the <strong><em>amd64</em></strong> part from the .lock file</p>\n\n<p><strong>c: remove the file if there is no running process.</strong> </p>\n\n<p>I need to reference the job id in field $3 of the PID line, and check if that job exists, if not, then remove the file. </p>\n\n<p>Any ideas with the regex bit, the \".\" seems to work as a wildcard, so I'm not sure how to escape it. </p>\n\n<p>Thanks again, \nBen</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1444059548, "post_id": 32952303, "comment_id": 53729748, "body": "FYI, as of CGI v4.04 (released September, 2014), the HTML generation functions are no longer being maintained and their use is <a href=\"https://metacpan.org/pod/CGI#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">officially discouraged</a>."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1445265676, "post_id": 32952303, "comment_id": 54238785, "body": "<code>key1</code> points to a hash reference but <code>key2</code> points to an array reference. Is your hash really that inconsistent?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1444232782, "last_edit_date": 1444232782, "creation_date": 1444127284, "answer_id": 32967665, "question_id": 32952303, "link": "https://stackoverflow.com/questions/32952303/how-to-map-the-hash-values-to-display-in-perl-cgi-dropdown/32967665#32967665", "title": "how to map the hash values to display in perl cgi dropdown", "body": "<p>You can't do this using just Perl and CGI. If you want to change the contents of a dropdown dynamically, then you are going to need to use Javascript too.</p>\n\n<p>Given the relatively small number of options in your list, it's going to be easiest to copy your data structure into a Javascript object and use that to drive the contents of your drop-downs (in a more complex situation, you might use Ajax to get the new data each time the drop-down content changes).</p>\n\n<p>Here's a simple HTML page that demonstrates how this works. Your problem now becomes generating something like this file in your CGI program.</p>\n\n<pre class=\"lang-jquery prettyprint-override\"><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-2.1.4.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\nvar orgs = {\n  org1 : {\n    \"repo1\" : [\n      \"testuser1\",\n      \"testuser2\"\n    ],\n    \"repo2\" : [\n      \"testuser1\",\n      \"testuser2\",\n      \"testuser3\"\n    ]\n  }, \n  org2 : {\n    \"repo3\" : [\n      \"testuser1\",\n      \"testuser2\"\n    ],\n    \"repo4\" : [\n      \"testuser1\",\n      \"testuser2\",\n      \"testuser3\",\n      \"testuser3\"\n    ]\n  }\n};\n\n$(document).ready(function() {\n  $('#level1').find('option').remove();\n  $.each( orgs, function( key, value ) {\n    $('#level1').append('&lt;option value=\"' + key + '\"&gt;' + key + '&lt;/option&gt;');\n  });\n\n  $('#level1').change(function() {\n    var newOrg = $('#level1').val();\n    $('#level2').find('option').remove();\n    $.each(orgs[newOrg], function( key, value ) {\n      $('#level2').append('&lt;option value=\"' + key + '\"&gt;' + key + '&lt;/option&gt;');\n    });\n  });\n\n  $('#level1').change();\n});\n\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Drop-down Test&lt;/h1&gt;\n    &lt;select id=\"level1\"&gt;&lt;/select&gt;\n    &lt;select id=\"level2\"&gt;&lt;/select&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>(My jQuery knowledge is pretty rudimentary - there may well be ways to improve my code)</p>\n\n<p>In a production system, you might well be able to move most of the Javascript into a separate (static) file, just leaving the large <code>orgs</code> object to be generated each time your program is run.</p>\n\n<p>And I'll just reiterate that we've understood that CGI's HTML generation methods are a terrible idea for about fifteen years. Please use <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow\">an alternative approach</a> instead.</p>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 32967665, "answer_count": 1, "score": 0, "last_activity_date": 1444989100, "creation_date": 1444058916, "last_edit_date": 1444989100, "question_id": 32952303, "link": "https://stackoverflow.com/questions/32952303/how-to-map-the-hash-values-to-display-in-perl-cgi-dropdown", "title": "how to map the hash values to display in perl cgi dropdown", "body": "<pre><code>    % hash = {\n       \"key1\" : {\n          \"value1\" : [\n          \"tester1\",\n          \"tester2\"\n          ],\n       \"key2\" : [\n         \"value2\",\n         \"tester2\",\n         \"tester3\"\n         ]\n        }\n</code></pre>\n\n<p>I already have a list of keys in the array will display in the dropdown,  if I select <code>key1</code> in the dropdown , I just want <code>key1</code> values </p>\n\n<pre><code>  print $q-&gt;popup_menu(-name=&gt;'name',-values=&gt;\\@LISTOFKEYS);\n</code></pre>\n"}, {"tags": ["perl", "scope", "tie"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444065861, "post_id": 32949822, "comment_id": 53733452, "body": "<a href=\"http://www.nntp.perl.org/group/perl.perl5.porters/2015/10/msg231557.html\" rel=\"nofollow noreferrer\">Cross-posted on perl5porters</a>. Zefram&#39;s answer: &#39;That is intentionally not how tying behaves. Tying effects a permanent change to the object in question, in this case the scalar $t, and the effect lasts as long as the object does.  It is no more lexically scoped than the effect of &quot;$t = 4&quot; inside the block would be.&#39;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444066072, "post_id": 32949822, "comment_id": 53733593, "body": "Also, as a side note, please don&#39;t completely change your question after you&#39;ve received answers. You invalidate the existing answers and make things confusing for future visitors, since some answers will address your new question and some answers will address the old, completely different question. In the future, please just ask a new question."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444079118, "post_id": 32949822, "comment_id": 53740682, "body": "I am sorry, but I do not think it is so different. I think tie/untie work in same manner like: new/delete, inc/dec, create/destroy. So at the end of file scope (when program end) I expect variable to be untied and DESTROY is called for object constructed at TIESCALAR. So instead of implicit file scope I create explicit around &#39;tie ...&#39; @ThisSuitIsBlackNot"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444079980, "post_id": 32949822, "comment_id": 53741094, "body": "The question is quite different: witness ikegami&#39;s two distinct answers."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444080704, "post_id": 32949822, "comment_id": 53741371, "body": "As for your repeated assertion that <code>tie</code> should use dynamic scoping like <code>local</code>, that&#39;s just not how it works, no matter how hard you may wish it so. I don&#39;t follow your point about new/delete, inc/dec, etc. delete: <code>$h{foo} = 1; { delete $h{foo} } say for keys %h</code>; increment: <code>{ $i++ } say $i</code>; new: <code>package Foo; sub new { bless { foo =&gt; $_[1] }, $_[0] } package main; $foo = Foo-&gt;new(0); { $foo = Foo-&gt;new(1) } say $foo-&gt;{foo}</code>. None of the changes made inside the block are reverted outside of the block. Maybe you should explain exactly why you want this behavior."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1444122228, "post_id": 32949822, "comment_id": 53756385, "body": "Your comments give me the clue! thank you"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444055110, "post_id": 32950477, "comment_id": 53726733, "body": "#2 is purely worse than #1. It&#39;s slower, and it makes debugging harder by messing up the stack trace."}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 4, "last_activity_date": 1444079547, "last_edit_date": 1444079547, "creation_date": 1444053610, "answer_id": 32950477, "question_id": 32949822, "link": "https://stackoverflow.com/questions/32949822/why-is-the-variable-still-tied/32950477#32950477", "title": "Why is the variable still tied", "body": "<blockquote>\n  <p><strong>Answering:</strong> Why is UNTIE not called when tied variable goes out of scope?</p>\n</blockquote>\n\n<p>Because <code>UNTIE</code> handles when the user calls the builtin <a href=\"http://perldoc.perl.org/functions/untie.html\" rel=\"nofollow\"><code>untie</code></a> command. If it calls <code>DESTROY</code> when going out of scope, handle <code>DESTROY</code>. </p>\n\n<p>If you need logic in both then you can</p>\n\n<ol>\n<li><p>Call a common cleanup sub from both</p>\n\n<pre><code>sub UNTIE   { &amp;_destructor; } # Perl 4 style, which passes the current\nsub DESTROY { &amp;_destructor; } # @_ to the called procedure.\n</code></pre></li>\n<li><p><code>goto</code> common cleanup sub from both</p>\n\n<pre><code>sub UNTIE   { goto &amp;_destructor; } # does not return to this sub\nsub DESTROY { goto &amp;_destructor; } # does not return to this sub\n</code></pre></li>\n<li><p><em>Alias</em> one to the other: </p>\n\n<pre><code>*UNTIE = *DESTROY{CODE};\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1444058347, "post_id": 32951146, "comment_id": 53729039, "body": "No, I exactly mean UNTIE"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1444062039, "post_id": 32951146, "comment_id": 53731160, "body": "@Eugen Konkov, I don&#39;t understand your comment. I clarified my answer in case it helps."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1444063957, "post_id": 32951146, "comment_id": 53732321, "body": "I clarified my question"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1444065495, "last_edit_date": 1444065495, "creation_date": 1444055546, "answer_id": 32951146, "question_id": 32949822, "link": "https://stackoverflow.com/questions/32949822/why-is-the-variable-still-tied/32951146#32951146", "title": "Why is the variable still tied", "body": "<blockquote>\n  <p><em>Why is UNTIE not called when tied variable goes out of scope?</em></p>\n</blockquote>\n\n<p>Asking why <code>UNTIE</code> isn't called when the variable goes out of scope is the same thing as asking why <code>UNTIE</code> isn't called whenever <code>DESTROY</code> is called. Well, that would be useless. What is useful is a function that's called when <code>untie</code> is called, and that's what <code>UNTIE</code> is.</p>\n\n<p>If you want common code to be called when <code>untie</code> is called and when the object is destroyed, nothing's stopping you.</p>\n\n<pre><code>sub UNTIE   { shift-&gt;_destructor(@_) }\nsub DESTROY { shift-&gt;_destructor(@_) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1444136373, "post_id": 32954197, "comment_id": 53766080, "body": "Does &#39;local&#39; be better than &#39;my&#39;?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1444137294, "post_id": 32954197, "comment_id": 53766739, "body": "You never want to use <code>local</code>. You only use it when you can&#39;t use <code>my</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1444065360, "creation_date": 1444065360, "answer_id": 32954197, "question_id": 32949822, "link": "https://stackoverflow.com/questions/32949822/why-is-the-variable-still-tied/32954197#32954197", "title": "Why is the variable still tied", "body": "<p>As for the completely new question, </p>\n\n<p>Changes to variables aren't automatically undone when the scope in which those changes are made</p>\n\n<pre><code>my $t = 3;\n\n{\n   $t = 4;\n}\n\nprint \"$t\\n\";  # 4, not 3.\n</code></pre>\n\n<p>Same goes when the change is to add tie magic. You can use <code>untie</code> to remove the magic, but it's best if you simply use a new variable.</p>\n\n<pre><code>my $t = 3;\n\n{\n   tie my $t, 'Yep';\n} # Tied variable destroyed here.\n\nprint \"$t\\n\";  # 3.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1444645544, "creation_date": 1444645544, "answer_id": 33078828, "question_id": 32949822, "link": "https://stackoverflow.com/questions/32949822/why-is-the-variable-still-tied/33078828#33078828", "title": "Why is the variable still tied", "body": "<p>The example with <strong>my</strong> give me a clue. So in my case use local.</p>\n\n<pre><code>my $t = 3;\n\n{\n   tie local $t, 'Yep';\n} # Tied variable destroyed here.\n\nprint \"$t\\n\";  # 3.\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 32954197, "answer_count": 4, "score": 4, "last_activity_date": 1444645544, "creation_date": 1444051606, "last_edit_date": 1444065277, "question_id": 32949822, "link": "https://stackoverflow.com/questions/32949822/why-is-the-variable-still-tied", "title": "Why is the variable still tied", "body": "<p>Running:</p>\n\n<pre><code>$t =  3;\n{\n    tie $t, 'Yep';\n} # Expect $t to become untied here.\nprint $t;\n\npackage Yep;\n\nsub TIESCALAR {\n   bless {}, 'Yep';\n}\n\nsub UNTIE {\n   print \"UNTIE\\n\";\n}\n\nsub DESTROY {\n   print \"DESTROY\\n\";\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Can't locate object method \"FETCH\" via package \"Yep\" at a.pl line 5.\nDESTROY\n</code></pre>\n\n<p>The EXPECTED output is:</p>\n\n<pre><code>DESTROY\n3\n</code></pre>\n\n<p>I want to <code>tie</code> variable $t only for the duration of the scope in which <code>tie</code> is located. Out of the scope it must behave same as before tie. So I wrap <code>tie</code> into the block and expect that <code>untie</code> will be called when the end of block is reached (like 'local' where the value is restored at the end of block, but for tied variable I expect behaviour is restored (<code>untie $t</code>) ). Notice the <code>$t</code> is not out of scope yet.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1444050350, "creation_date": 1444050350, "answer_id": 32949431, "question_id": 32949352, "link": "https://stackoverflow.com/questions/32949352/repeat-calling-of-packages/32949431#32949431", "title": "Repeat calling of packages", "body": "<p><code>use</code> tells perl to import stuff from another package. It's quite common to do this - one of the big advantages of <code>perl</code> is that there is a lot of work that has already been done, that you can reuse.</p>\n\n<p>When you <code>use</code> a package, it loads it, and imports <em>some</em> of the subroutines in it into your current namespace. Occasionally it will do some other interesting things behind the scenes. </p>\n\n<p>So yes - what you are literally doing is telling <em>your</em> program that the subroutine <code>xxx</code> is found in another module, and that you want to use that variant. </p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1444051096, "creation_date": 1444051096, "answer_id": 32949663, "question_id": 32949352, "link": "https://stackoverflow.com/questions/32949352/repeat-calling-of-packages/32949663#32949663", "title": "Repeat calling of packages", "body": "<p>You are getting confused by the parenthesis <code>()</code> in the <code>use</code> line.</p>\n\n<pre><code>use MyPkg::Abc();  # this is not calling MyPkg::Abc\nuse MyPkg::Bcd();  # neither is this\nxxx();             # this calls sub xxx in your package\n</code></pre>\n\n<p>When you have a <code>use Foo::Bar</code> line in your program, Perl will go and find a file called <code>Bar.pm</code> in a folder <code>Foo</code> (so that's <code>Foo/Bar.pm</code> or <code>Foo\\Bar.pm</code> on Windows) and load it. Usually that file will contain a <code>package Foo::Bar</code>. Now Perl knows about that package (also called namespace). Next it will call the <code>import</code> subroutine in the package <code>Foo::Bar</code>. This will make some of the subs in that package available in the <em>calling</em> package (i.e. your program). That process is called <em>importing</em>.</p>\n\n<p>If you only want to import specific things, you can hand <code>import</code> a <em>list</em> of strings by putting that list after the <code>use</code> like this:</p>\n\n<pre><code>use List::Util ( 'min', 'max' );\nuse List::Util qw(min max); # same as above, just shorter\n</code></pre>\n\n<p>Now you get <code>min</code> and <code>max</code> in your program.</p>\n\n<p>There are also modules that export (from their perspective, <em>import</em> from yours) things by default. If you don't want those to be in your namespace, you can give <code>use</code> an empty list.</p>\n\n<pre><code>use JOSN; # exports 'decode_json' and 'encode_json' by default\nuse JSON (); # doesn't export anything\n\nmy $json = JSON-&gt;new;\n</code></pre>\n\n<p>But if all you want is to load the subroutine <code>xxx</code> from <code>MyPkg::Bcd</code> and that packages exports it, then you should <strong>not</strong> have those <code>()</code> there. Or you must call the subroutine as <code>MyPkg::Bcd::xxx()</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1444051062, "accepted_answer_id": 32949431, "answer_count": 2, "score": 0, "last_activity_date": 1444051096, "creation_date": 1444050136, "question_id": 32949352, "link": "https://stackoverflow.com/questions/32949352/repeat-calling-of-packages", "closed_reason": "Duplicate", "title": "Repeat calling of packages", "body": "<p>I am new to perl, this is normal to call the package in the other package?</p>\n\n<p>main.pl</p>\n\n<pre><code>use MyPkg::Abc();  --&gt; this is calling in Bcd() in Abc.pm\nuse MyPkg::Bcd();  --&gt; if i don't call this, then the next line xxx() will be wrong..\nxxx();\n</code></pre>\n\n<p>Abc.pm</p>\n\n<pre><code>use MyPkg::Bcd();\nxxx();\n</code></pre>\n\n<p>Bcd.pm</p>\n\n<pre><code>sub xxx(){\n}\n</code></pre>\n"}, {"tags": ["perl", "ms-word", "win32ole"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444050049, "post_id": 32949090, "comment_id": 53723164, "body": "I would suggest using <code>Data::Dumper</code> to print <code>$table -&gt; Columns(1)</code> because that error implies that <code>Columns(1)</code> is undefined."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1444054910, "post_id": 32949090, "comment_id": 53726593, "body": "@Sobrique, Caveat: If you use Data::Dumper on OLE Objects <i>make sure</i> you set <code>$Data::Dumper::MaxDepth</code>--especially in dealing with Microsoft Application objects, which commonly have every single object pointing back to the Application object which contains everything. Win32::OLE does not, as a default, generate unique objects, and will simply use up your memory remaking the same Application object again, and again, and again."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1444055339, "post_id": 32949090, "comment_id": 53726912, "body": "You can also specify <code>_Unique</code> when loading the module: <a href=\"http://search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE.pm#_Unique\" rel=\"nofollow noreferrer\">search.cpan.org/~jdb/Win32-OLE-0.1712/lib/Win32/OLE.pm#_Uniq&zwnj;&#8203;ue</a>"}, {"owner": {"reputation": 311, "user_id": 4263190, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ce5c932ed5c003e91525b1ba673b5778?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon_j", "link": "https://stackoverflow.com/users/4263190/epsilon-j"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1444073073, "post_id": 32949090, "comment_id": 53737529, "body": "@Sobrique: You are indeed correct that it is undefined, but this doesn&#39;t get me any closer to solving the problem unfortunately."}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 4263190, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ce5c932ed5c003e91525b1ba673b5778?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon_j", "link": "https://stackoverflow.com/users/4263190/epsilon-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1444233427, "creation_date": 1444233427, "answer_id": 32996985, "question_id": 32949090, "link": "https://stackoverflow.com/questions/32949090/how-to-modify-the-column-widths-of-a-word-table-using-perl/32996985#32996985", "title": "How to modify the column widths of a Word table using Perl?", "body": "<p>After some trial and error I found that this did the job:</p>\n\n<pre><code>$table-&gt;Rows(1)-&gt;Select;\n$word-&gt;Selection-&gt;Columns(1)-&gt;{Width} = 200;\n</code></pre>\n\n<p>It was sufficient to resize just the columns on row 1, and this affected all other rows. It's easy when you know how!</p>\n"}], "owner": {"reputation": 311, "user_id": 4263190, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ce5c932ed5c003e91525b1ba673b5778?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon_j", "link": "https://stackoverflow.com/users/4263190/epsilon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "accepted_answer_id": 32996985, "answer_count": 1, "score": 0, "last_activity_date": 1444233427, "creation_date": 1444049404, "question_id": 32949090, "link": "https://stackoverflow.com/questions/32949090/how-to-modify-the-column-widths-of-a-word-table-using-perl", "title": "How to modify the column widths of a Word table using Perl?", "body": "<p>Using Perl with the Win32::OLE module I am attemping to insert a table into a Microsoft Word document and then modify the column widths. I can insert a table without any trouble, but modifying the column widths is proving more difficult. After creating a macro and trying to translate the VBA into Perl, here is what I have:</p>\n\n<pre><code>my $word = Win32::OLE-&gt;new('Word.Application', sub {$_[0]-&gt;Quit;});\nmy $doc = $word-&gt;Documents-&gt;Open('myfile.doc');\n\n### Code to find and select a tag to replace with a table goes here ###\n\nmy $table = $doc-&gt;Tables-&gt;Add($word-&gt;Selection-&gt;Range, 4, 4);\n$table-&gt;Columns(1)-&gt;{PreferredWidthType} = wdPreferredWidthPoints;\n$table-&gt;Columns(1)-&gt;{PreferredWidth} = 200;\n</code></pre>\n\n<p>Unfortunately this gives a \"Can't use an undefined value as a HASH reference\" error on the final two lines. I've tried several other variations on this but none have worked, and Google hasn't helped either. I'd really appreciate an answer as to how to do this.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["git", "perl", "svn", "osx-elcapitan"], "comments": [{"owner": {"reputation": 36301, "user_id": 50447, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8c8779a33adeec01e05d5a480c7cd3c3?s=128&d=identicon&r=PG", "display_name": "Rowland Shaw", "link": "https://stackoverflow.com/users/50447/rowland-shaw"}, "edited": false, "score": 2, "creation_date": 1444032086, "post_id": 32943781, "comment_id": 53712680, "body": "Have you tried installing the SVN::Core module?"}, {"owner": {"reputation": 12066, "user_id": 135850, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ef75ffd5cef200d26702d07a10d528e8?s=128&d=identicon&r=PG", "display_name": "Paul Schreiber", "link": "https://stackoverflow.com/users/135850/paul-schreiber"}, "edited": false, "score": 0, "creation_date": 1447049900, "post_id": 32943781, "comment_id": 54981824, "body": "sudo mkdir /Library/Perl/5.18/auto;  sudo ln -s /Applications/Xcode.app/Contents/Developer/Library/Perl/5.18&zwnj;&#8203;/darwin-thread-multi&zwnj;&#8203;-2level/SVN /Library/Perl/5.18/darwin-thread-multi-2level;  sudo ln -s /Applications/Xcode.app/Contents/Developer/Library/Perl/5.18&zwnj;&#8203;/darwin-thread-multi&zwnj;&#8203;-2level/auto/SVN /Library/Perl/5.18/auto/"}], "owner": {"reputation": 560, "user_id": 1862886, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b1021324cdd837a1e7e0fcd2a3c21b27?s=128&d=identicon&r=PG", "display_name": "SukruK", "link": "https://stackoverflow.com/users/1862886/sukruk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "closed_date": 1444032187, "answer_count": 0, "score": 1, "last_activity_date": 1444031941, "creation_date": 1444031941, "question_id": 32943781, "link": "https://stackoverflow.com/questions/32943781/git-svn-error-on-os-x-el-capitan", "closed_reason": "Duplicate", "title": "Git SVN error on OS X El Capitan", "body": "<p>I am using SourceTree application and when i fetch from svn i take this error message. How can i solve this problem.</p>\n\n<pre><code>Can't locate SVN/Core.pm in @INC (you may need to install the SVN::Core module) (@INC contains: /usr/local/git/lib/perl5/site_perl/5.18.2/darwin-thread-multi-2level /usr/local/git/lib/perl5/site_perl/5.18.2 /usr/local/git/lib/perl5/site_perl /Applications/SourceTree.app/Contents/Resources/git_local/lib/perl5/site_perl/5.18.2/darwin-thread-multi-2level /Applications/SourceTree.app/Contents/Resources/git_local/lib/perl5/site_perl/5.18.2 /Applications/SourceTree.app/Contents/Resources/git_local/lib/perl5/site_perl /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at /usr/local/git/lib/perl5/site_perl/Git/SVN/Utils.pm line 6.\nBEGIN failed--compilation aborted at /usr/local/git/lib/perl5/site_perl/Git/SVN/Utils.pm line 6.\nCompilation failed in require at /usr/local/git/lib/perl5/site_perl/Git/SVN.pm line 25.\nBEGIN failed--compilation aborted at /usr/local/git/lib/perl5/site_perl/Git/SVN.pm line 32.\nCompilation failed in require at /Applications/SourceTree.app/Contents/Resources/git_local/libexec/git-core/git-svn line 25.\nBEGIN failed--compilation aborted at /Applications/SourceTree.app/Contents/Resources/git_local/libexec/git-core/git-svn line 25.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 14614, "user_id": 236528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a221fd62b8d25184a812d1d270e691c1?s=128&d=identicon&r=PG", "display_name": "mjuarez", "link": "https://stackoverflow.com/users/236528/mjuarez"}, "edited": false, "score": 0, "creation_date": 1444013300, "post_id": 32940545, "comment_id": 53706494, "body": "What exactly are you trying to do?  Do you want to create a perl script that runs directly from the command line?"}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 2, "creation_date": 1444015216, "post_id": 32940545, "comment_id": 53706859, "body": "You could use shell redirection without even knowing a thing about Perl. Or you could spend 30 minutes with <code>perldoc perlintro</code>; file manipulation is discussed in that document."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5408243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d92a77b4467c58969c2375099c9ad27?s=128&d=identicon&r=PG&f=1", "display_name": "ck346", "link": "https://stackoverflow.com/users/5408243/ck346"}, "edited": false, "score": 0, "creation_date": 1444016165, "post_id": 32940594, "comment_id": 53707085, "body": "Thank you so much.  This helps tons."}], "tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 4, "last_activity_date": 1444013272, "creation_date": 1444013272, "answer_id": 32940594, "question_id": 32940545, "link": "https://stackoverflow.com/questions/32940545/perl-script-help-outputting-to-file/32940594#32940594", "title": "Perl Script help outputting to file", "body": "<p>You need to <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a> the file and pass its file-descriptor to <code>print</code>.</p>\n\n<pre><code>open(my $out, \"&gt;\", \"perl.txt\") or die \"perl.txt: $!\";\n\nprint $out \"Content-type: text/html\\n\\n\";\n\nforeach my $key (sort keys %ENV) {\n    print $out \"\\$ENV{$key} = $ENV{$key}&lt;br/&gt;\\n\";\n}\n\nclose($out) or die \"perl.txt: $!\";\n</code></pre>\n\n<p>Note there's no comma after <code>$out</code> in the <code>print</code> statements.</p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1444022808, "creation_date": 1444022808, "answer_id": 32941800, "question_id": 32940545, "link": "https://stackoverflow.com/questions/32940545/perl-script-help-outputting-to-file/32941800#32941800", "title": "Perl Script help outputting to file", "body": "<p>Here is a tutorial: <a href=\"http://perlmaven.com/writing-to-files-with-perl\" rel=\"nofollow\">Writing to files with Perl</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# First open a file in write mode\nopen my $output, '&gt;', 'perl.txt' or die \"Can't open file to write: $!\";\n\n# use the filehandle with print to write in file instead of printing on terminal\nprint $output \"Content-type: text/html\\n\\n\";\n\nforeach my $key (sort keys %ENV)\n{\n    print $output \"\\$ENV{$key} = $ENV{$key}&lt;br/&gt;\\n\";\n}\n# close the open file\nclose $output;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5408243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d92a77b4467c58969c2375099c9ad27?s=128&d=identicon&r=PG&f=1", "display_name": "ck346", "link": "https://stackoverflow.com/users/5408243/ck346"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 32940594, "answer_count": 2, "score": 0, "last_activity_date": 1444022808, "creation_date": 1444012866, "last_edit_date": 1444012991, "question_id": 32940545, "link": "https://stackoverflow.com/questions/32940545/perl-script-help-outputting-to-file", "title": "Perl Script help outputting to file", "body": "<p>I have the script below that I need to output to a file, like perl.txt instead of displaying in the terminal window.  This is my first time with perl and can't quite get that part if anyone could offer any advice that would be great.</p>\n\n<pre><code>print \"Content-type: text/html\\n\\n\";\n\nforeach my $key (sort keys %ENV) {\nprint \"\\$ENV{$key} = $ENV{$key}&lt;br/&gt;\\n\";\n}\n\nexit;\n</code></pre>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1444022583, "post_id": 32939892, "comment_id": 53708623, "body": "You may want to make sure you are familiar with the schema before you try to change the data like this. The example table you have here looks a lot like a foreign key map table (to map items in table A to items in table B and vice-versa), and what you&#39;re thinking of doing won&#39;t really work out if that&#39;s the case."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 2, "creation_date": 1444028961, "post_id": 32939892, "comment_id": 53711128, "body": "What you are proposing is a really terrible way to store the data.  Unless your boss is holding a gun to your head forcing you to format the data that way, I recommend you reconsider your design.  You could ask a question on this site about how to format the data to meet your needs instead."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1444035460, "creation_date": 1444035460, "answer_id": 32944665, "question_id": 32939892, "link": "https://stackoverflow.com/questions/32939892/adding-multiple-comma-separated-values-to-a-mysql-row-using-perl/32944665#32944665", "title": "Adding multiple comma separated values to a MySQL row using Perl", "body": "<p>I'll caution against 'data munging' in perl, when you've got a database - almost invariable, it's better to do this 'database side' - after all, that's what databases are <em>for</em>. </p>\n\n<p>But to answer your general question - what you need is a hash:</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\n\n#our hash\nmy %combined;\n\n#header row - grabs first line and prints it. \nprint scalar &lt;DATA&gt;; \n\n#iterates line by line\nwhile ( &lt;DATA&gt; ) {\n   #removes linefeeds\n   chomp;\n   #splits on whitespace. \n   my ($key, $value ) = split;\n   #stores in combined hash of arrays.  \n   push ( @{$combined{$key}}, $value ); \n}\n\n#cycle through our hash, extracting each key and \n#merge the array into a string, comma delimited. \nforeach my $prod ( sort keys %combined ) { \n    print join (\"\\t\", $prod, join ( \",\", @{$combined{$prod}} ) ),\"\\n\";\n}\n\n\n__DATA__\nproduct_id   product_id\n9999            22\n8888            21\n9999            66\n7777            77\n9999            88\n</code></pre>\n\n<p>Given your db query is returning a hashref, then you don't need the 'split' part as above - as you've effectively already done it. This code is intended to illustrate the technique (and not least because I don't have your DB, so this way we get a runnable example). </p>\n"}], "owner": {"reputation": 95, "user_id": 1239079, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f2e004d0160be23972c8887020800bf4?s=128&d=identicon&r=PG", "display_name": "naf", "link": "https://stackoverflow.com/users/1239079/naf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444035460, "creation_date": 1444006021, "last_edit_date": 1444011723, "question_id": 32939892, "link": "https://stackoverflow.com/questions/32939892/adding-multiple-comma-separated-values-to-a-mysql-row-using-perl", "title": "Adding multiple comma separated values to a MySQL row using Perl", "body": "<p>i have this piece of code:</p>\n\n<pre><code>if (my $ref = $sth-&gt;fetchrow_hashref()) {\n    my $related_id = $ref-&gt;{'products_id'};\n    my $sql = \"REPLACE INTO products_xsell (products_id, xsell_id) \n        VALUES (\".$product_id.\", \".$related_id.\")\";\n    $dbh-&gt;do($sql);\n    $c_processed++;\n}\n</code></pre>\n\n<p>At the moment, the data looks like this:</p>\n\n<pre><code>product_id   product_id\n9999            22\n8888            21\n9999            66\n7777            77\n9999            88\n</code></pre>\n\n<p>I want to store the data like this:</p>\n\n<pre><code>product_id   product_id\n9999            22,66,88\n8888            21\n7777            77\n</code></pre>\n\n<p>I have been reading about using <code>JOIN</code> but can't seem to figure out how to do it. I inherited this code and it is not using prepared statements and placeholders.\nI hope to sort this out once I get the hang of Perl.</p>\n"}, {"tags": ["perl", "sockets", "network-programming"], "answers": [{"tags": [], "owner": {"reputation": 2525, "user_id": 5402881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd67023a48b626fa1595d8d5cf8404e?s=128&d=identicon&r=PG&f=1", "display_name": "yacc", "link": "https://stackoverflow.com/users/5402881/yacc"}, "is_accepted": false, "score": 0, "last_activity_date": 1444128201, "creation_date": 1444128201, "answer_id": 32967971, "question_id": 32939867, "link": "https://stackoverflow.com/questions/32939867/how-to-keep-a-socket-connection-open-to-send-messages-back-and-forth/32967971#32967971", "title": "How to keep a socket connection open to send messages back and forth", "body": "<p>The server needs to keep the sockets in a hash map, like this:</p>\n\n<pre><code>if (my $client_socket = $socket-&gt;accept()) {\n    $client_sockets{$client_socket-&gt;peerhost . \":\" . $client_socket-&gt;peerport} = $client_socket;\n}\n</code></pre>\n\n<p>and to loop through all entries to check for new data or disconnect requests:</p>\n\n<pre><code>foreach my $key (keys %client_sockets) {\n    my ($host, $port) = split/:/,$key;\n    my $socket = $client_sockets{$key};\n    #handle socket\n    delete $client_sockets{$key} if $disconnected;\n}\n</code></pre>\n\n<p>You probably want to kick a worker thread for each new socket. Store the thread handles likewise in a hash map.</p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 835, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1444128201, "creation_date": 1444005809, "last_edit_date": 1444006133, "question_id": 32939867, "link": "https://stackoverflow.com/questions/32939867/how-to-keep-a-socket-connection-open-to-send-messages-back-and-forth", "title": "How to keep a socket connection open to send messages back and forth", "body": "<p>I'm writing something to relay work to other machines (similar to gearman) I am doing it to learn about socket programming but I am getting really confused </p>\n\n<p>Desired workflow: \n    [client] -> [server] -> [worker1],[worker2],etc </p>\n\n<p>I'm planning to send thousands of jobs (urls) so I think creating a new socket every single request is overkilling, I want to keep an active connection between server and client and server and workers. </p>\n\n<p>This is my implementation but I know there is a better way to do it, I have looked all over the net to find examples but finally decided to post the question here</p>\n\n<pre><code>use IO::Socket::INET;\nuse feature qw(say);\nuse strict;\n\nmy $socket = new IO::Socket::INET (\n    LocalHost =&gt; '0.0.0.0', LocalPort =&gt; '7779',\n    Proto =&gt; 'tcp', blocking =&gt; 1, Reuse =&gt; 1, Listen =&gt; 5\n) or die $!;\n\nwhile(1)\n{\n    if(my $client_socket = $socket-&gt;accept()  ){\n        say \"Client connected: \" .$client_socket-&gt;peerhost . \":\" . $client_socket-&gt;peerport;\n\n        my $last_msg_time = time;         \n        while(1){ #I WILL MOVE THIS LOOP TO A CHILD PROCESS OR A THREAD\n            my $data; $client_socket-&gt;recv($data,1024);\n            if($data eq \"*DISCONNECT\" || time - $last_msg_time &gt; 10){\n                say \"Timeout\";\n                last;\n            }\n            if($data){\n                my $last_msg_time = time;\n                say \"Received: $data\";\n                $client_socket-&gt;send(\"OK!\");\n            }\n        }\n    }\n}\n\n$socket-&gt;close;\n</code></pre>\n\n<p>client:</p>\n\n<pre><code>use IO::Socket::INET;\nuse feature qw(say);\n\nmy $socket = new IO::Socket::INET (\n    PeerHost =&gt; '127.0.0.1',PeerPort =&gt; '7779',\n    Proto =&gt; 'tcp', blocking =&gt; 1\n) or die \"Cannot connect to the server $!\\n\";\n\n$socket-&gt;send(\"hello world\");\n\nmy $response; $socket-&gt;recv($response, 1024);\nsay \"received response: $response\";\n$socket-&gt;send(\"hi again\");\n\n$socket-&gt;send(\"*DISCONNECT\");\n\n\n#shutdown($socket, 1);\n$socket-&gt;close();\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "edited": false, "score": 0, "creation_date": 1443995694, "post_id": 32938674, "comment_id": 53703082, "body": "Peter, sorry I&#39;m sort of a beginner. I have a couple of followups: I tried your last example first:  if ($handshake-&gt;req-&gt;cookies-&gt;ZMSESSID) - that says &quot;Can&#39;t locate object method &quot;ZMSESSID&quot; via package &quot;Protocol::WebSocket::Cookie&quot;. In your first example, you are using $_ ==&gt; do I need to map it to $handshake-&gt;req?"}, {"owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "edited": false, "score": 0, "creation_date": 1443998400, "post_id": 32938674, "comment_id": 53703666, "body": "So I&#39;ve made some progress with the for loop, but can&#39;t seem to figure out how to handle the case where a cookie is present vs. not. My code is at <a href=\"http://pastebin.com/4CbdE5BE\" rel=\"nofollow noreferrer\">pastebin.com/4CbdE5BE</a> --&gt; the &quot;if defined&quot; comes up with &quot;Not an ARRAY reference&quot; when the cookie field actually exists. I was trying to handle the case where it doesn&#39;t crash when there are no cookies but ended up messing up the reverse case. How do I handle both?"}, {"owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "edited": false, "score": 0, "creation_date": 1444002676, "post_id": 32938674, "comment_id": 53704556, "body": "What a pain in the butt. It looks like if the cookie list is empty, $handshake-&gt;req-&gt;cookies is an empty array while if it has cookies, its a hash ref. So  I finally solved it by doing this:   if (UNIVERSAL::isa( $handshake-&gt;req-&gt;cookies, &quot;HASH&quot; )) (then do your stuff)"}], "tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": true, "score": 2, "last_activity_date": 1443995135, "last_edit_date": 1443995135, "creation_date": 1443994584, "answer_id": 32938674, "question_id": 32938637, "link": "https://stackoverflow.com/questions/32938637/searching-within-what-seems-to-be-an-array-of-arrays-in-perl-web-sockets/32938674#32938674", "title": "Searching within what seems to be an array of arrays in Perl (web sockets)", "body": "<p>This is a blessed hashref containing an aray with 1 single element of an array with 2 elements.</p>\n\n<p>so to search you could do ..</p>\n\n<pre><code>foreach my $c ( @{ $_-&gt;{pairs}[0]} )\n{\n  print \"Match\\n\" if $c eq 'ZMSESSID';\n}\n</code></pre>\n\n<p>although since you have an instance of a WebSocket::Cookie::Request you could use the methods and attributes associated with it as described at <a href=\"http://search.cpan.org/~vti/Protocol-WebSocket-0.19/lib/Protocol/WebSocket/Cookie/Request.pm\" rel=\"nofollow\">http://search.cpan.org/~vti/Protocol-WebSocket-0.19/lib/Protocol/WebSocket/Cookie/Request.pm</a> </p>\n\n<p>Also try <code>perldoc Protocol::WebSocket::Cookie::Request</code> from a command shell.</p>\n\n<p>you can access the methods of the object instance (blessed hashref) and access the attributes described in the docs.\n$handshake->req->cookies->name</p>\n"}], "owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 32938674, "answer_count": 1, "score": 0, "last_activity_date": 1443995135, "creation_date": 1443994372, "question_id": 32938637, "link": "https://stackoverflow.com/questions/32938637/searching-within-what-seems-to-be-an-array-of-arrays-in-perl-web-sockets", "title": "Searching within what seems to be an array of arrays in Perl (web sockets)", "body": "<p>I am writing some code that tries to make sure a new web socket connection has a specific cookie</p>\n\n<p>Here is an excerpt of the connection details I am receiving at the server, which I printed using <code>print Dumper($handshake-&gt;req-&gt;cookies);</code></p>\n\n<pre><code>$VAR1 = bless( {\n             'pairs' =&gt; [\n                          [\n                            'ZMSESSID',\n                            'e63n6uk59entuvoed1o76u1hm6'\n                          ]\n                        ]\n           }, 'Protocol::WebSocket::Cookie' );\n</code></pre>\n\n<p>I now need to search inside the \"pairs\" array of arrays to see if a cookie called 'ZMSESSID' exists. It may or may not exist, and there may be other cookies.</p>\n\n<p>What is the right way to do this?</p>\n\n<p>I tried:</p>\n\n<pre><code>if ($handshake-&gt;req-&gt;cookies-&gt;pairs)\n{\n\n     my @foo = $handshake-&gt;req-&gt;cookies-&gt;pairs;\n     my $match =  grep { $_-&gt;[0] eq 'ZMSESSID'} @foo ;\n     print \"$match\\n\";\n}\n</code></pre>\n\n<p>But that always prints 0, not 1</p>\n"}, {"tags": ["bash", "perl", "parsing", "awk", "grep"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4628988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee3327a45b80824368f5e21158debe43?s=128&d=identicon&r=PG&f=1", "display_name": "cebit933", "link": "https://stackoverflow.com/users/4628988/cebit933"}, "edited": false, "score": 0, "creation_date": 1443990239, "post_id": 32937975, "comment_id": 53701339, "body": "Can you please comment how can I use that script, I am new to awk. Thank you!"}, {"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "reply_to_user": {"reputation": 1, "user_id": 4628988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee3327a45b80824368f5e21158debe43?s=128&d=identicon&r=PG&f=1", "display_name": "cebit933", "link": "https://stackoverflow.com/users/4628988/cebit933"}, "edited": false, "score": 0, "creation_date": 1443990304, "post_id": 32937975, "comment_id": 53701367, "body": "Redirect the input file to stdin, and get the output file from stdout."}, {"owner": {"reputation": 1, "user_id": 4628988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee3327a45b80824368f5e21158debe43?s=128&d=identicon&r=PG&f=1", "display_name": "cebit933", "link": "https://stackoverflow.com/users/4628988/cebit933"}, "edited": false, "score": 0, "creation_date": 1443990508, "post_id": 32937975, "comment_id": 53701430, "body": "I am sorry still don&#39;t get it. I have a file.txt how can I from terminal execute your code, that will affect that file?"}, {"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "reply_to_user": {"reputation": 1, "user_id": 4628988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee3327a45b80824368f5e21158debe43?s=128&d=identicon&r=PG&f=1", "display_name": "cebit933", "link": "https://stackoverflow.com/users/4628988/cebit933"}, "edited": false, "score": 0, "creation_date": 1443990550, "post_id": 32937975, "comment_id": 53701441, "body": "It won&#39;t. <code>awk ... &lt; file.txt &gt; output.txt</code>"}], "tags": [], "owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": true, "score": 1, "last_activity_date": 1443990094, "creation_date": 1443990094, "answer_id": 32937975, "question_id": 32937868, "link": "https://stackoverflow.com/questions/32937868/append-to-txt-file-with-specific-pattern/32937975#32937975", "title": "append to .txt file with specific pattern", "body": "<pre><code>$ awk -F , 'BEGIN { OFS=\",\" } { a=$1;r=$2;h=$3;i=$4;e=$5; print a,r,h,i,e,r,a,r,h }' &lt;&lt;&lt; '4,1\u00b2,#,!,&amp;\n@,2,(-),1,\u20ac\n/\\,?,)-(,|,\u00a3'\n4,1\u00b2,#,!,&amp;,1\u00b2,4,1\u00b2,#\n@,2,(-),1,\u20ac,2,@,2,(-)\n/\\,?,)-(,|,\u00a3,?,/\\,?,)-(\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4628988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee3327a45b80824368f5e21158debe43?s=128&d=identicon&r=PG&f=1", "display_name": "cebit933", "link": "https://stackoverflow.com/users/4628988/cebit933"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 32937975, "answer_count": 1, "score": 0, "last_activity_date": 1443990094, "creation_date": 1443989430, "question_id": 32937868, "link": "https://stackoverflow.com/questions/32937868/append-to-txt-file-with-specific-pattern", "title": "append to .txt file with specific pattern", "body": "<p>I have a .txt file with 1 word written in <a href=\"https://en.wikipedia.org/wiki/Leet\" rel=\"nofollow\">leet</a>\nthe word is \"<code>arhie</code>\" letters are dividet by \"<code>,</code>\"</p>\n\n<pre><code>4,1\u00b2,#,!,&amp;    //a=4,r=1\u00b2,h=#,i=!,e=&amp;\n@,2,(-),1,\u20ac   //a=@,r=2,h=(-),i=1,e=\u20ac\n/\\,?,)-(,|,\u00a3  //a=/\\,r=?,h=)-(,i=|,e=\u00a3\n</code></pre>\n\n<p>I need to append to this wordlist the word \"<code>rarh</code>\" with the same pattern</p>\n\n<p>Example of output:</p>\n\n<pre><code>4,1\u00b2,#,!,&amp;,1\u00b2,4,1\u00b2,#     // a=4,r=1\u00b2,h=#,i=!,e=&amp;\n@,2,(-),1,\u20ac,2,@,2,(-)    // a=@,r=2,h=(-),i=1,e=\u20ac\n/\\,?,)-(,|,\u00a3,?,/\\,?,)-(  // a=/\\,r=?,h=)-(,i=|,e=\u00a3\n</code></pre>\n\n<p>I know that perl awk or grep can be used for parsing the words, but have no idea how.\nThank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1443976018, "post_id": 32935615, "comment_id": 53696692, "body": "When displaying the content of a variable, it is a good idea to use <code>Data::Dumper</code>, so that people here know exactly what your data structure is."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1443978764, "post_id": 32935615, "comment_id": 53697574, "body": "Can you show the actual input?"}], "answers": [{"comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 0, "creation_date": 1443983653, "post_id": 32935734, "comment_id": 53699146, "body": "thanks, edited the array content to show that hash cannot be used."}], "tags": [], "owner": {"reputation": 1395, "user_id": 252489, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f5f3c9e216adc1a98897f99ec581853a?s=128&d=identicon&r=PG", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/252489/gowtham"}, "is_accepted": true, "score": 1, "last_activity_date": 1443976440, "last_edit_date": 1443976440, "creation_date": 1443976124, "answer_id": 32935734, "question_id": 32935615, "link": "https://stackoverflow.com/questions/32935615/print-the-word-after-match-from-perl-array/32935734#32935734", "title": "Print the word after match from Perl array", "body": "<p>You will have to <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow\">iterate over</a> the array, apply the regex on each element. Something like:</p>\n\n<pre><code>my @array = ( 'Sex: M', 'Name: John, oliver', 'Age: 33' )\nforeach my $item ( @array ) {\n  if( $item =~ /Name: (.+)$/ ) {\n    print $1;\n  }\n}\n</code></pre>\n\n<p>I think <a href=\"http://perl101.org/hashes.html\" rel=\"nofollow\">hash</a> is a better datastructure to store your data.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443984858, "post_id": 32936660, "comment_id": 53699585, "body": "Whilst probably true, this answer is essentially &quot;If you want to go there, don&#39;t start from here&quot;. That&#39;s not always an option."}, {"owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443985066, "post_id": 32936660, "comment_id": 53699641, "body": "True. You posted a solution to the problem and mentioned to use another structure instead. I wanted to show such a structure."}], "tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 0, "last_activity_date": 1443982410, "last_edit_date": 1443982410, "creation_date": 1443982019, "answer_id": 32936660, "question_id": 32935615, "link": "https://stackoverflow.com/questions/32935615/print-the-word-after-match-from-perl-array/32936660#32936660", "title": "Print the word after match from Perl array", "body": "<h2>Let the structure fit your data</h2>\n\n<pre><code>my @arr = (     \n   {\n      Sex =&gt; 'M',\n      Name =&gt; 'John Doe',\n      Age =&gt; 21,\n   },\n   {\n      Sex =&gt; 'F',\n      Name =&gt; 'Jane Doe',\n      Age =&gt; 20,\n   },\n);\n</code></pre>\n\n<p>Then you can more easily find the data:</p>\n\n<pre><code>for (@arr){\n   print \"$_-&gt;{Name}\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1443984782, "last_edit_date": 1443984782, "creation_date": 1443984286, "answer_id": 32937032, "question_id": 32935615, "link": "https://stackoverflow.com/questions/32935615/print-the-word-after-match-from-perl-array/32937032#32937032", "title": "Print the word after match from Perl array", "body": "<p>To find results in an array, the tool for the job is <code>grep</code>. </p>\n\n<pre><code>foreach my $name_lines ( grep { m/Name/ } @array ) {\n      my ($name) = /Name: (.+)$/;\n      print $name,\"\\n\"; \n}\n</code></pre>\n\n<p>Here I've assumed there might be multiple matches - you don't have to do that particularly though and could instead:</p>\n\n<pre><code> my ($name) = map { m/Name: (.+$)/ } @stuff;\n print $name;\n</code></pre>\n\n<p>This uses <code>map</code> to transform the array, but because we assign it to a list containing a single scalar, the second match is discarded. (if there is one). </p>\n\n<p>Although I'd suggest this isn't the best approach to take - an array of keys and values isn't particularly useful compared to a hash. </p>\n\n<p>If you have an array:</p>\n\n<pre><code>my @stuff = ( \"Sex: M\",\n \"Name: John, oliver\", \n \"Age is 33\",\n \"Has no experience\",\n \"is 5 feet tall\" ); \n</code></pre>\n\n<p>Then you can transform it with <code>map</code>:</p>\n\n<pre><code>my %stuff_hash = map { /(\\w+):? (.*)$/ } @stuff;\n</code></pre>\n\n<p>Which gives you a data structure looking like this:</p>\n\n<pre><code>$VAR1 = {\n          'Age' =&gt; 'is 33',\n          'Sex' =&gt; 'M',\n          'is' =&gt; '5 feet tall',\n          'Name' =&gt; 'John, oliver',\n          'Has' =&gt; 'no experience'\n        };\n</code></pre>\n\n<p>So you can:</p>\n\n<pre><code>print $stuff_hash{'Name'},\"\\n\";\n</code></pre>\n\n<p>Or alternatively - stick your array back together into a string, and then multi line the regex:</p>\n\n<pre><code>my ($name) =   join ( \"\\n\", @stuff) =~ m/Name: (.*)$/m;\nprint $name;\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 32935734, "answer_count": 3, "score": 1, "last_activity_date": 1443984782, "creation_date": 1443975468, "last_edit_date": 1443983560, "question_id": 32935615, "link": "https://stackoverflow.com/questions/32935615/print-the-word-after-match-from-perl-array", "title": "Print the word after match from Perl array", "body": "<p>Array <code>@array</code> has</p>\n\n<pre><code> Sex: M\n Name: John, oliver\n Age is 33\n Has no experience\n is 5 feet tall\n</code></pre>\n\n<p>I want to print the word after <code>Name:</code> which is John, oliver in this case.</p>\n\n<p>Below code works on <code>$string</code>, how to do the same on an <code>@array</code>?</p>\n\n<pre><code>my ($name) = $string =~ /Name: (.+)$/;\nprint $name;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "edited": false, "score": 0, "creation_date": 1443964193, "post_id": 32933825, "comment_id": 53693117, "body": "That is bizarre. Why would case 1 work but not case 2 if they&#39;re in the wrong order? Anyway thank you."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "edited": false, "score": 2, "creation_date": 1443965528, "post_id": 32933825, "comment_id": 53693514, "body": "Because case 1 is interpreted as <code>&#39;(?^ui:test)&#39; =~ &#47;test&#47;</code>, while the second as <code>&#39;(?^ui:test)&#39; =~ &#47;Test&#47;</code>. Search for &quot;stringification&quot; in <a href=\"http://p3rl.org/perlre\" rel=\"nofollow noreferrer\">perlre</a>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1443964022, "creation_date": 1443964022, "answer_id": 32933825, "question_id": 32933804, "link": "https://stackoverflow.com/questions/32933804/perl-case-insensitive-regex-not-working/32933825#32933825", "title": "Perl case-insensitive regex not working", "body": "<p>The binding operator <code>=~</code> has the <em>string</em> on the <em>left</em>, and the <em>regular expression</em> on the <em>right</em>.</p>\n\n<pre><code>\"test\" =~ $reg;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "edited": false, "score": 0, "creation_date": 1444003449, "post_id": 32934182, "comment_id": 53704721, "body": "The order of parameters matters for <code>==</code> and <code>eq</code>? Because that was my misunderstanding. I was looking at <code>=~</code> like an equality operator when (I now see that) it isn&#39;t."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1444011293, "last_edit_date": 1444011293, "creation_date": 1443966485, "answer_id": 32934182, "question_id": 32933804, "link": "https://stackoverflow.com/questions/32933804/perl-case-insensitive-regex-not-working/32934182#32934182", "title": "Perl case-insensitive regex not working", "body": "<blockquote>\n  <p>That is bizarre. Why would that matter?</p>\n</blockquote>\n\n<p>The order of parameters is significant in most operators; commutative operators are a rarity.</p>\n\n<ul>\n<li><code>2 / 3</code> is different from <code>3 / 2</code></li>\n<li><code>2 - 3</code> is different from <code>3 - 2</code></li>\n<li><code>2 &gt; 3</code> is different from <code>3 &gt; 2</code></li>\n<li><code>2 &lt;&lt; 3</code> is different from <code>3 &lt;&lt; 2</code></li>\n<li><code>$x = 2</code> is different from <code>2 = $x</code></li>\n</ul>\n\n<p>I could obviously go on. The same thing applies to <code>!=</code>, <code>!~</code>, <code>%</code>, <code>&amp;&amp;</code>, <code>*</code>, <code>**</code>, <code>*=</code>, <code>+</code>, <code>+=</code>, <code>,</code>, <code>-</code>, <code>-=</code>, <code>-&gt;</code>, <code>.</code>, <code>..</code>, <code>...</code>, <code>/</code>, <code>//</code>, <code>&lt;</code>, <code>&lt;&lt;</code>, <code>&lt;=</code>, <code>=</code>, <code>=&gt;</code>, <code>=~</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&gt;&gt;</code>, <code>^</code>, <code>and</code>, <code>ge</code>, <code>gt</code>, <code>le</code>, <code>lt</code>, <code>or</code>, <code>x</code>, <code>||</code> and <code>~~</code>. And that is without mentioning the named operators with more than one parameter that also behave as functions, such as <code>split</code>, <code>splice</code>, <code>join</code>, <code>open</code> etc. All things considered, I am <em>astonished</em> that you find it bizarre that <code>=~</code> is non-commutative</p>\n\n<blockquote>\n  <p>And why would case 1 work but not case 2 if they're in the wrong order?</p>\n</blockquote>\n\n<p>Because in <code>$reg =~ \"test\"</code>, Perl coerces <code>$reg</code> to a string, giving <code>(?^ui:test)</code>, and the string to a regex, giving <code>qr/test/</code>. So it does</p>\n\n<pre><code>say \"matched 1\" if \"(?^ui:test)\" =~ /test/;\n</code></pre>\n\n<p>which is successful because <code>(?^ui:test)</code> does contain <code>test</code>. However it <em>doesn't</em> contain <code>Test</code> so </p>\n\n<pre><code>say \"matched 1\" if \"(?^ui:test)\" =~ /Test/\n</code></pre>\n\n<p>prints nothing</p>\n"}], "owner": {"reputation": 2390, "user_id": 1204434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FyXgT.png?s=128&g=1", "display_name": "felwithe", "link": "https://stackoverflow.com/users/1204434/felwithe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 32933825, "answer_count": 2, "score": -2, "last_activity_date": 1444011293, "creation_date": 1443963908, "question_id": 32933804, "link": "https://stackoverflow.com/questions/32933804/perl-case-insensitive-regex-not-working", "title": "Perl case-insensitive regex not working", "body": "<p>Here is the entire script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse v5.14; use warnings;\n\nmy $reg = qr/test/i;\n\nsay \"matched 1\" if $reg =~ \"test\"; # matches\nsay \"matched 2\" if $reg =~ \"Test\"; # no match\n</code></pre>\n\n<p>The first case matches, the second doesn't. What am I doing wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1443956665, "post_id": 32932553, "comment_id": 53691089, "body": "When in doubt: <code>use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper $toto;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443975987, "post_id": 32932553, "comment_id": 53696681, "body": "What do you mean by <i>chain</i> comparison?"}], "answers": [{"comments": [{"owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443956656, "post_id": 32932664, "comment_id": 53691082, "body": "@Sobrique he is not reading from <code>&lt;STDIN&gt;</code> in the part where he says <code>eq</code> works, read the section on <code>cmp</code> one more time and look over <i>OP</i>s code (and what he has written)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443957133, "post_id": 32932664, "comment_id": 53691201, "body": "I was thinking more specifically - <code>cmp</code> and <code>eq</code> are opposite logic values. Even if he <code>chomp</code>s, <code>cmp</code> will still be &quot;false&quot;, because it&#39;ll return <code>0</code>."}, {"owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443957597, "post_id": 32932664, "comment_id": 53691298, "body": "@Sobrique I never said that he should use <code>cmp</code> to compare for equality in the latter case."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443976118, "post_id": 32932664, "comment_id": 53696719, "body": "@FilipRos&#233;en-refp: Just as you can&#39;t write to <code>print STDOUT</code>, you can&#39;t read from <code>&lt;STDIN&gt;</code> because it isn&#39;t a file handle"}], "tags": [], "owner": {"reputation": 57743, "user_id": 1090079, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uWGaU.png?s=128&g=1", "display_name": "Filip Ros&#233;en - refp", "link": "https://stackoverflow.com/users/1090079/filip-ros%c3%a9en-refp"}, "is_accepted": false, "score": 3, "last_activity_date": 1443968121, "last_edit_date": 1592644375, "creation_date": 1443955881, "answer_id": 32932664, "question_id": 32932553, "link": "https://stackoverflow.com/questions/32932553/perl-string-comparison/32932664#32932664", "title": "Perl string comparison", "body": "<h3>What is the <code>cmp</code> operator?</h3>\n<p><code>$a cmp $b</code> yields the lexicographic relation between <code>$a</code> and <code>$b</code>, which means that it returns three values:</p>\n<ul>\n<li><strong>-1</strong> meaning <code>$a</code> is less than <code>$b</code></li>\n<li><strong>0</strong> meaning <code>$a</code> is equal to <code>$b</code></li>\n<li><strong>1</strong> meaning <code>$a</code> is larger than <code>$b</code></li>\n</ul>\n\n<pre><code>$a = &quot;a&quot;;\n$b = &quot;a&quot;;\n\nprint ($a cmp $b);\n</code></pre>\n<p>Outputs <strong>0</strong>, meaning they are equal</p>\n<br/>\n<hr />\n<h3>Reading from <code>STDIN</code></h3>\n<pre><code>my $toto = &lt;STDIN&gt;;\n</code></pre>\n<p>When you use something like this to read a single line from <code>STDIN</code> (i.e. reading in scalar context) it will read the entire line, including the linefeed.</p>\n<p>This means that <code>$toto</code> is <code>&quot;a\\n&quot;</code> and not just <code>&quot;a&quot;</code>, which is why your latter use of <code>eq</code> fails.</p>\n<p>You can fix the issue by using <code>chomp</code>, which will remove the linefeed character from <code>$toto</code>, like this</p>\n<h3>snippet.pl</h3>\n<pre><code>my    $toto = &lt;STDIN&gt;;\nchomp $toto;\n\nif ( $toto eq &quot;a&quot; ) {\n   print &quot;Yes!\\n&quot;;\n}\n</code></pre>\n<p>An example run would look like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ perl snippet.pl\na&lt;return&gt;\nYes!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": false, "score": 1, "last_activity_date": 1443956291, "creation_date": 1443956291, "answer_id": 32932714, "question_id": 32932553, "link": "https://stackoverflow.com/questions/32932553/perl-string-comparison/32932714#32932714", "title": "Perl string comparison", "body": "<p><strong>cmp</strong> is the comparison operator, which is mostly useful for sorting strings. This operator is documented in <code>perldoc perlop</code>.</p>\n\n<blockquote>\n  <p>Binary \"cmp\" returns -1, 0, or 1 depending on whether the left\n  argument is  stringwise less than, equal to, or greater than the right\n  argument.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>bash$ perl -e 'print sort { $a cmp $b } qw( y z x); print \"\\n\"'\nxyz\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 1, "last_activity_date": 1443967053, "last_edit_date": 1592644375, "creation_date": 1443956888, "answer_id": 32932792, "question_id": 32932553, "link": "https://stackoverflow.com/questions/32932553/perl-string-comparison/32932792#32932792", "title": "Perl string comparison", "body": "<p>Check out <strong>perldoc perlop</strong> equality operators:</p>\n<blockquote>\n<p>Binary &quot;eq&quot; returns true if the left argument is stringwise equal to the right argument.</p>\n<p>Binary &quot;cmp&quot; returns -1, 0, or 1 depending on whether the left argument is stringwise less than, equal to, or greater than the right argument.</p>\n</blockquote>\n<p>Instead of <code>&quot;a&quot; cmp $toto</code> try <code>&quot;a&quot; eq $toto</code> or change your conditional statement to use <strong>zero</strong> as success</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1443956994, "creation_date": 1443956994, "answer_id": 32932803, "question_id": 32932553, "link": "https://stackoverflow.com/questions/32932553/perl-string-comparison/32932803#32932803", "title": "Perl string comparison", "body": "<p>The reason it's not working is because <code>cmp</code> isn't <code>eq</code>. They return different values on equality.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $string = \"fish\";\n\nprint $string cmp $string;\nprint $string eq $string;\n</code></pre>\n\n<p><code>eq</code> is <code>1</code> (true) if they match, and <code>0</code> (false) if they don't.\n<code>cmp</code> returns -1 if it's before (true), <code>0</code> if equal (false) and <code>+1</code> if after. Specifically - this is used for sorting. (And it's counterpart <code>&lt;=&gt;</code> does the same thing, which perhaps is a bit more obvious it isn't comparing equality). </p>\n\n<p>Net result is - you've accidentally inverted the logic of your program. </p>\n\n<pre><code>print \"1 True\",\"\\n\" if \"fish2\" cmp \"fish3\";\nprint \"2 True\",\"\\n\" if \"fish2\" cmp \"fish2\";\nprint \"3 True\",\"\\n\" if \"fish2\" cmp \"fish1\";\n</code></pre>\n\n<p>You could use <code>not</code> to negate the <code>cmp</code>, but really the answer is - use <code>eq</code> instead. </p>\n\n<p>(Also - don't forget to <code>chomp</code> when you read <code>STDIN</code>). </p>\n"}], "owner": {"reputation": 31, "user_id": 5406458, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153326722693425/picture?type=large", "display_name": "Clemence Chopin", "link": "https://stackoverflow.com/users/5406458/clemence-chopin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1443968121, "creation_date": 1443955089, "last_edit_date": 1443956151, "question_id": 32932553, "link": "https://stackoverflow.com/questions/32932553/perl-string-comparison", "title": "Perl string comparison", "body": "<p>I have a basic problem with chain comparison in Perl.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $toto =\"a\";\n\nif (\"a\" cmp $toto)\n{\n    print \"success\";\n}\nelse\n{\n    print \"fail\\n\";\n}\n\nmy $titi=&lt;STDIN&gt;;\n</code></pre>\n\n<p>It always says <code>fail</code>.</p>\n\n<p>If I use <code>eq</code> rather than <code>cmp</code>, it works.</p>\n\n<p>But if I do:</p>\n\n<pre><code>my $toto = &lt;STDIN&gt;;\n\nif (\"a\" eq $toto)\n{\n    print \"success\";\n}\nelse\n{\n    print \"fail\\n\";\n}\n\nmy $titi=&lt;STDIN&gt;;\n</code></pre>\n\n<p>And I use <code>a</code> as input, this prints <code>fail</code>.</p>\n\n<p>What is wrong ?</p>\n"}, {"tags": ["perl", "csv", "transformation"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1443953374, "post_id": 32932093, "comment_id": 53690293, "body": "I would probably use a function to convert the times to seconds or minutes, and one for opposite. Which would exist on cpan already, so instead of potentially introducing bugs I would use that, e.g. DateTime, Time::Local.  Then I would parse the dates given, put their converted values in a hash, then for each minute, remove jobs whose end time is past from that hash, and print all whose begin time is &lt;= current minute ( or, if job names do not matter, just grep all whose begin time is &lt;= current and print that number)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443957469, "post_id": 32932093, "comment_id": 53691277, "body": "You will get better answers if you attempt to solve the problem yourself first. I will point out <code>Time::Piece</code> is a core module."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1443957858, "creation_date": 1443957858, "answer_id": 32932912, "question_id": 32932093, "link": "https://stackoverflow.com/questions/32932093/transform-csv-data-continuous-to-discrete-steps/32932912#32932912", "title": "Transform csv data - continuous to discrete steps", "body": "<p>How you need to approach this would be:</p>\n\n<ul>\n<li>Parse your input file. <code>Text::CSV</code> is one option, but using <code>split</code> on the delimiters of your lines will work as a stopgap. </li>\n<li>use <code>Time::Piece</code> and <code>strptime</code> to convert your start/stop times to something you can compare numerically. (<code>epoch</code>).</li>\n<li>store these in a data structure. If job name is unique, a <code>hash</code> is probably the tool for the job. </li>\n<li>calculate the start and end of your time slots (also in <code>epoch</code>). <code>Time::Piece</code> can do this for you too. </li>\n<li>Look for elements in the hash that have <code>start</code> and <code>end</code> that fall within the time window. <code>grep</code> can do this for you. </li>\n</ul>\n\n<p>Note - if you don't have <code>CPAN</code> <code>Text::CSV</code> probably won't be available. <code>Time::Piece</code> should be, because it's core as of 5.9.5. Otherwise you <em>might</em> find you can use the <code>date</code> command to replicate the functionality. </p>\n"}], "owner": {"reputation": 12895, "user_id": 298288, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/20c1f68b1bb5c87878c69d5442855a28?s=128&d=identicon&r=PG", "display_name": "stefan.at.wpf", "link": "https://stackoverflow.com/users/298288/stefan-at-wpf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443957858, "creation_date": 1443951843, "question_id": 32932093, "link": "https://stackoverflow.com/questions/32932093/transform-csv-data-continuous-to-discrete-steps", "title": "Transform csv data - continuous to discrete steps", "body": "<p>I have a list of some jobs (or whatever items/action) and their start and end date.\nNow for each minute of the day, I need to know how many jobs were active.</p>\n\n<p>So the input looks like this:\n(actually I get it directly as CSV)</p>\n\n<pre><code>Jobname |        Start        |         End          \n---------------------------------------------------      \nJobA    | 04/10/2015 08:00:00 | 04/10/2015 09:00:00\nJobB    | 04/10/2015 10:00:00 | 04/10/2015 10:00:59\nJobC    | 04/10/2015 10:00:00 | 04/10/2015 11:00:00\n</code></pre>\n\n<p>The output shall look like this:</p>\n\n<p><strong>Note</strong>: Jobnames just added for clearity, in the real output I am only interested in the number of active jobs per minute, not which jobs were active</p>\n\n<pre><code>Time                | Number of active jobs\n---------------------------------------------------      \n04/10/2015 00:00:00 | 0\n[..]\n04/10/2015 08:00:00 | 1 (JobA)\n04/10/2015 08:01:00 | 1 (JobA)\n[..]\n04/10/2015 09:00:00 | 1 (JobA)\n04/10/2015 09:01:00 | 0\n[..]\n04/10/2015 09:59:00 | 0\n04/10/2015 10:00:00 | 2 (JobB, JobC)\n04/10/2015 10:01:00 | 1 (JobC)\n[..]\n04/10/2015 11:00:00 | 1 (JobC)\n04/10/2015 11:01:00 | 0\n[..]\n04/10/2015 23:59:00 | 0\n</code></pre>\n\n<p>How can this be realized using Perl? Plase note that CPAN is not available and therefore unfortunately not an option. Thanks for any hint on this!</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 2150, "user_id": 1315878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5c90fc4407e00302293affe4217ecc0?s=128&d=identicon&r=PG", "display_name": "Sagar Rakshe", "link": "https://stackoverflow.com/users/1315878/sagar-rakshe"}, "edited": false, "score": 2, "creation_date": 1443941945, "post_id": 32930849, "comment_id": 53687574, "body": "have you tried <code>chmod -R 755 a&#47;</code>?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 2150, "user_id": 1315878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5c90fc4407e00302293affe4217ecc0?s=128&d=identicon&r=PG", "display_name": "Sagar Rakshe", "link": "https://stackoverflow.com/users/1315878/sagar-rakshe"}, "edited": false, "score": 2, "creation_date": 1443942648, "post_id": 32930849, "comment_id": 53687730, "body": "@SagarRakshe: that (<code>chmod -R 755 a&#47;</code>) also changes the permissions on the files in the directories \u2014 if there are any.  If <code>a</code> was created afresh, that&#39;s a non-problem; if <code>a</code> already existed and contained other files or directories, that could be a problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444056094, "post_id": 32930849, "comment_id": 53727468, "body": "<code>chmod -R go=rX a</code>  For group and other, the read flag is set, the write flag is cleared, and the exec flag is copied from user."}], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 0, "creation_date": 1443984168, "post_id": 32930960, "comment_id": 53699333, "body": "didn&#39;t work as umask removes permissions from default, which in my case is 700"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 0, "creation_date": 1443988355, "post_id": 32930960, "comment_id": 53700749, "body": "You have a default unmask set to 700?  Frankly, I find that hard to believe. It means you would have no access to files and directories you create, but others would have read and write access to the files and search permissions on the directory too.  Most improbable, to say the least."}, {"owner": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 0, "creation_date": 1444052053, "post_id": 32930960, "comment_id": 53724584, "body": "no buddy, the default permissions when dir is created is 700, so I can&#39;t set it to 755 using umask as umask only subtract permissions, and not add"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 1, "creation_date": 1444052286, "post_id": 32930960, "comment_id": 53724748, "body": "That&#39;s a curious system you&#39;re on.  Which one is it?  On most systems, the <code>mkdir</code> command creates directories with 0777 permission modified by <code>umask</code>.  If yours really does create them as private then you have to mechanically chase down the path as in the accepted answer."}, {"owner": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 0, "creation_date": 1444052544, "post_id": 32930960, "comment_id": 53724924, "body": "Its Webfaction, they were fine till Friday setting 755 as permissions, but now they are setting 700, and ruined one of my presentation to client today as everything went down"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 0, "creation_date": 1444053229, "post_id": 32930960, "comment_id": 53725407, "body": "I don&#39;t recognize Webfaction as a product or company, but that&#39;s just my problem.  The POSIX standard requires <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/utilities/mkdir.html\" rel=\"nofollow noreferrer\"><code>mkdir -p</code></a> to work as I indicated.  If your environment behaves differently, then it helps if you identify it.  Also, a war story like &quot;until Friday it worked one way; now it works another&quot; helps people understand what you&#39;re up against."}, {"owner": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 0, "creation_date": 1444067349, "post_id": 32930960, "comment_id": 53734322, "body": "Your answer worked, earlier I was calling umask in system call, but when called in Perl it worked as required, thanks!!"}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 4, "last_activity_date": 1443946055, "last_edit_date": 1443946055, "creation_date": 1443942725, "answer_id": 32930960, "question_id": 32930849, "link": "https://stackoverflow.com/questions/32930849/how-to-change-chmod-of-directories-in-path/32930960#32930960", "title": "how to change chmod of directories in path", "body": "<p>Use:</p>\n\n<pre><code>(umask 022; mkdir -p /a/b/c/d)\n</code></pre>\n\n<p>Setting the <code>umask</code> ensures that the write bits are reset for group and other on any directories the command creates (but has no effect on pre-existing directories, of course). The directories are then created with <code>755</code> permissions as desired.  The parentheses use a sub-shell so that only the <code>mkdir</code> command is affected by the <code>umask</code> setting.  (I use <code>umask 022</code> by default; I usually don't mind people reading files, but I don't like them changing them without my permission.)</p>\n"}, {"comments": [{"owner": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "edited": false, "score": 0, "creation_date": 1443986859, "post_id": 32931333, "comment_id": 53700258, "body": "I am using perl version <code>my $p=&#39;&#39;;foreach my $j (split(&#39;&#47;&#39;,$path)){$p.=&quot;$j&#47;&quot;;chmod 0755,&quot;$p&quot;;}</code>"}], "tags": [], "owner": {"reputation": 2005, "user_id": 328977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3610fa6c9f38e6f252d19e918632b8ba?s=128&d=identicon&r=PG", "display_name": "buff", "link": "https://stackoverflow.com/users/328977/buff"}, "is_accepted": false, "score": 3, "last_activity_date": 1443959626, "last_edit_date": 1443959626, "creation_date": 1443945785, "answer_id": 32931333, "question_id": 32930849, "link": "https://stackoverflow.com/questions/32930849/how-to-change-chmod-of-directories-in-path/32931333#32931333", "title": "how to change chmod of directories in path", "body": "<p>In case the directories are already created, you can change the permissions with this bash snippet:</p>\n\n<pre><code>path=a/b/c/d\nwhile [[ -n $path ]]; do\n    chmod 755 $path\n    path=${path%[^/]*}\ndone\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 2, "last_activity_date": 1443957642, "last_edit_date": 1592644375, "creation_date": 1443957223, "answer_id": 32932830, "question_id": 32930849, "link": "https://stackoverflow.com/questions/32930849/how-to-change-chmod-of-directories-in-path/32932830#32932830", "title": "how to change chmod of directories in path", "body": "<h2><strong>perldoc -f chmod</strong></h2>\n<blockquote>\n<p>chmod LIST</p>\n<p>Changes the permissions of a list of files. The first element of the list must be the numeric mode, which should probably be an octal number, and which definitely should\u00a0not\u00a0be a string of octal digits:\u00a00644\u00a0is okay, but\u00a0&quot;0644&quot;\u00a0is not.\u00a0</p>\n</blockquote>\n<h2>Try something like this:</h2>\n<pre><code>chmod 0777, &quot;test.txt&quot;;\n</code></pre>\n<h2>Note</h2>\n<p>Note chmod is a <strong>LIST</strong> operator meaning you can pass it a list (or array) like this:</p>\n<blockquote>\n<p>$cnt = chmod 0755, &quot;foo&quot;, &quot;bar&quot;;</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 459, "user_id": 1522905, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2HTtB.jpg?s=128&g=1", "display_name": "Anugraha Sinha", "link": "https://stackoverflow.com/users/1522905/anugraha-sinha"}, "is_accepted": false, "score": 0, "last_activity_date": 1444023666, "creation_date": 1444023666, "answer_id": 32941941, "question_id": 32930849, "link": "https://stackoverflow.com/questions/32930849/how-to-change-chmod-of-directories-in-path/32941941#32941941", "title": "how to change chmod of directories in path", "body": "<p>If you are presently in parent directory of 'a' we could probably do this</p>\n\n<pre><code>chmod 755 a ; find a/ -type d -exec chmod 755 {} \\;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12337365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCy9cfvQxf0rGQVKv6-cx3yqX-GxxuxRUux76I2=k-s128", "display_name": "Mexican Jerboa", "link": "https://stackoverflow.com/users/12337365/mexican-jerboa"}, "is_accepted": false, "score": 0, "last_activity_date": 1575930099, "creation_date": 1575930099, "answer_id": 59257518, "question_id": 32930849, "link": "https://stackoverflow.com/questions/32930849/how-to-change-chmod-of-directories-in-path/59257518#59257518", "title": "how to change chmod of directories in path", "body": "<pre><code>path=a/b/c/d/\nwhile [[ -n $path ]]; do\n    chmod 755 $path\n    path=${path%/*}\ndone\n</code></pre>\n\n<p><a href=\"http:///a/32931333/12337365\" rel=\"nofollow noreferrer\">buff's answer</a> doesn't work for me. Here's modification to his answer that does work. Substring removal fixed, and with this approach original path should end with trailing <code>/</code> .</p>\n"}], "owner": {"reputation": 677, "user_id": 870527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e1121c008566fe9567d231cb1e84d46?s=128&d=identicon&r=PG", "display_name": "Atul Gupta", "link": "https://stackoverflow.com/users/870527/atul-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1223, "favorite_count": 0, "accepted_answer_id": 32930960, "answer_count": 5, "score": 3, "last_activity_date": 1575930099, "creation_date": 1443941691, "question_id": 32930849, "link": "https://stackoverflow.com/questions/32930849/how-to-change-chmod-of-directories-in-path", "title": "how to change chmod of directories in path", "body": "<p>Q How to set chmod of <code>a/</code> <code>a/b/</code> <code>a/b/c/</code> &amp; <code>a/b/c/d/</code> to <code>755</code>  </p>\n\n<p>Say I have a path <code>a/b/c/d/</code> to create<br>\nI can call <code>mkdir -p a/b/c/d/</code> and it will create each of the directory in path<br>\nNow I want to set chmod of <code>a/</code> <code>a/b/</code> <code>a/b/c/</code> &amp; <code>a/b/c/d/</code> to <code>755</code>  </p>\n\n<p>Note <code>mkdir -pm 0755 a/b/c/d/</code> will set chmod to <code>755</code> for only the last folder</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1443925973, "post_id": 32929451, "comment_id": 53684985, "body": "Some sample input and output would go a long way towards clarifying what you want."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "edited": false, "score": 0, "creation_date": 1443929201, "post_id": 32929573, "comment_id": 53685470, "body": "If there is a regex that matches on a different line (e.g., line 2), how would the code be adjusted such that the matches are printed out on a new line? Right now, it is being printed on the same line."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "edited": false, "score": 0, "creation_date": 1443929267, "post_id": 32929573, "comment_id": 53685480, "body": "@SagarSamtani You&#39;d either concatenate everything together into one line, or you properly parse the format instead of using regexes."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "edited": false, "score": 0, "creation_date": 1443929952, "post_id": 32929573, "comment_id": 53685583, "body": "@SagarSamtani You&#39;re going to have to ask a new question."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1443927192, "creation_date": 1443927192, "answer_id": 32929573, "question_id": 32929451, "link": "https://stackoverflow.com/questions/32929451/regex-not-matching-in-perl/32929573#32929573", "title": "Regex not matching in Perl", "body": "<p>Your regex is never going to match both sides of the <code>|</code> in a single match, that's why it's an or.  You should match with a <code>/g</code> to get all possible matches, using just one capture group, and collect them in a list.</p>\n\n<pre><code>if (my @matches = $line =~ /(NNPS\\S+|DT\\S+ JJ\\S+ JJ\\S+ NN\\S+)/g){\n    print join \"\\n\", @matches;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1443971383, "post_id": 32932974, "comment_id": 53695278, "body": "I think you mean <i>alternation</i>."}], "tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 1, "last_activity_date": 1444215072, "last_edit_date": 1444215072, "creation_date": 1443958291, "answer_id": 32932974, "question_id": 32929451, "link": "https://stackoverflow.com/questions/32929451/regex-not-matching-in-perl/32932974#32932974", "title": "Regex not matching in Perl", "body": "<p>The \"disjunction\" is called <strong>alternation</strong> in perish talk. \nGiven:</p>\n\n<pre><code>\"abc123\" =~ m/(abc|123)/;\n\nprint $1; # abc\n</code></pre>\n\n<p>Try this out (note the global search modifier <strong>\\g</strong>):</p>\n\n<pre><code>while (\"abc123\" =~ m/(abc|123)/g){\n   print \"$1\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 4279781, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-MeLLv_oCiTo/AAAAAAAAAAI/AAAAAAAAAb8/CLMXZGKXabI/photo.jpg?sz=128", "display_name": "Sagar Samtani", "link": "https://stackoverflow.com/users/4279781/sagar-samtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 32929573, "answer_count": 2, "score": 2, "last_activity_date": 1444215072, "creation_date": 1443925742, "last_edit_date": 1443926584, "question_id": 32929451, "link": "https://stackoverflow.com/questions/32929451/regex-not-matching-in-perl", "title": "Regex not matching in Perl", "body": "<p>I am reading a file and am trying to print out the matches for two regular expressions separated by a disjunction. How can I print out both of the matches while keeping the disjunction?  </p>\n\n<pre><code>open(my $fh, $ARGV[0]) or die \"ARGV[0] not found!\\n\";\n\nwhile(my $line = &lt;$fh&gt;){\n    if ($line =~ /(NNPS\\S+)|(DT\\S+ JJ\\S+ JJ\\S+ NN\\S+)/){\n        print $line, \"\\n\", $1,  \"\\n\", $2\n    }\n}\n</code></pre>\n\n<p>The input will be:</p>\n\n<pre><code>NNPS/Helicopters MD/will NN/patrol DT/the JJ/temporary JJ/no-fly NN/zone IN/around NNP/New NNP/Jersey POS/'s\n</code></pre>\n\n<p>And the output will be:</p>\n\n<pre><code>Line 1\nNNPS/Helicopters\nDT/the JJ/temporary JJ/no-fly NN/zone\n</code></pre>\n"}, {"tags": ["perl", "shell", "unix"], "comments": [{"owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "edited": false, "score": 0, "creation_date": 1443915724, "post_id": 32928549, "comment_id": 53683267, "body": "Try using a double-backslash \\\\ instead of a single-backslash \\ at the end."}, {"owner": {"reputation": 1119, "user_id": 145511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a99c5026c0ac0c48f3e89d91f9b1ff?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/145511/glenn"}, "edited": false, "score": 0, "creation_date": 1443915734, "post_id": 32928549, "comment_id": 53683272, "body": "The backslash is used to escape characters.  In this case is it escaping the backslash.  if you wanted a backslash after $dir1, you need to place to in to escape the backslash.  So you need to have $dir\\\\ instead of $dir\\."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1443916838, "post_id": 32928549, "comment_id": 53683472, "body": "<code>find $dir -type f -exec rsync -a {} $dir1\\ </code> does not work fine &quot;in Unix&quot;. <code>\\ </code> followed by a line feed means the command continues on the following line."}], "answers": [{"tags": [], "owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "is_accepted": false, "score": 0, "last_activity_date": 1443915794, "creation_date": 1443915794, "answer_id": 32928597, "question_id": 32928549, "link": "https://stackoverflow.com/questions/32928549/unix-code-inside-perl/32928597#32928597", "title": "unix code inside perl", "body": "<p>In perl, try changing:</p>\n\n<pre><code>find $dir -type f -exec rsync -a {} $dir1\\\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>find $dir -type f -exec rsync -a {} $dir1\\\\\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1443917803, "post_id": 32928637, "comment_id": 53683633, "body": "Sorry for the edit was looking at my answer and accidentally clicked the wrong one.  They look visually similar, but your wording (thought it was mine) is much better and I went to improve it."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 1, "creation_date": 1443918146, "post_id": 32928637, "comment_id": 53683708, "body": "@vol7ron No worries. I can&#39;t figure out how to write a backtick in code formatting either. Ironically, escaping it doesn&#39;t work."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1443918475, "post_id": 32928637, "comment_id": 53683784, "body": "You can use `` ` `` to insert a backtick (doesn&#39;t work in comments, though)."}, {"owner": {"reputation": 59, "user_id": 5405540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TTokB9qeY9M/AAAAAAAAAAI/AAAAAAAAAO0/LVXO5Mvtufg/photo.jpg?sz=128", "display_name": "Mohima Chaudhuri", "link": "https://stackoverflow.com/users/5405540/mohima-chaudhuri"}, "edited": false, "score": 1, "creation_date": 1444027947, "post_id": 32928637, "comment_id": 53710657, "body": "Thank you!I got the exact error message after adding the backslash at the end. The semi colon after exec solved it."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1443920734, "last_edit_date": 1443920734, "creation_date": 1443916065, "answer_id": 32928637, "question_id": 32928549, "link": "https://stackoverflow.com/questions/32928549/unix-code-inside-perl/32928637#32928637", "title": "unix code inside perl", "body": "<p><code>\\</code> is the escape character in Perl.  The <code>\\</code> at the end of your <code>find</code> command is escaping the <code>`</code>.  You need to escape the backslash with another one.</p>\n\n<pre><code>`find $dir -type f -exec rsync -a {} $dir1 \\\\`;\n</code></pre>\n\n<p>This will now fail with <code>find: missing argument to -exec</code>.  You're also going to need a semicolon on the end of the <code>-exec</code> part.</p>\n\n<pre><code>`find $dir -type f -exec rsync -a {} $dir1 \\\\;`;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": false, "score": 0, "last_activity_date": 1443917929, "last_edit_date": 1443917929, "creation_date": 1443916074, "answer_id": 32928639, "question_id": 32928549, "link": "https://stackoverflow.com/questions/32928549/unix-code-inside-perl/32928639#32928639", "title": "unix code inside perl", "body": "<p>You need to escape your backslash and special characters.  Once for Perl code and again for whatever other language (in this case your shell).</p>\n\n<pre><code>`find $dir -type f -exec rsync -a {} $dir1\\`;\n</code></pre>\n\n<p>In the above code, the <code>\\</code> is escaping your last backtick ( ` ) in perl.  So your child shell execution is never terminated.  To fix this simply add another backslash, which escapes that character from being interpolated:</p>\n\n<pre><code>`find $dir -type f -exec rsync -a {} $dir1\\\\`;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5405540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TTokB9qeY9M/AAAAAAAAAAI/AAAAAAAAAO0/LVXO5Mvtufg/photo.jpg?sz=128", "display_name": "Mohima Chaudhuri", "link": "https://stackoverflow.com/users/5405540/mohima-chaudhuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 32928637, "answer_count": 3, "score": -1, "last_activity_date": 1443920734, "creation_date": 1443915202, "last_edit_date": 1443915664, "question_id": 32928549, "link": "https://stackoverflow.com/questions/32928549/unix-code-inside-perl", "title": "unix code inside perl", "body": "<p>This is the code:</p>\n\n<pre><code>#!/usr/bin/perl -w\n$dir=\"/vol.nas/rpas_qc/mohima/Test/translations\";\n$dir1=\"/vol.nas/rpas_qc/mohima/Test/dest\";\n`find $dir -type f -exec rsync -a {} $dir1\\`;\n</code></pre>\n\n<p>This line:</p>\n\n<pre><code>find $dir -type f -exec rsync -a {} $dir1\\\n</code></pre>\n\n<p>works fine in Unix but I am getting an error in perl:</p>\n\n<pre><code>Can't find string terminator \"`\" anywhere before EOF at test1.pl line 4\n</code></pre>\n\n<p>I am trying to copy all files in <code>$dir</code> to <code>$dir1</code> without the subdirectories.\nUsing perl since the script will do lot of other stuff which is easier in perl.\nAny help is appreciated.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "edited": false, "score": 0, "creation_date": 1443922182, "post_id": 32928746, "comment_id": 53684447, "body": "I am getting error when I run it.  Undefined subroutine &amp;main::dPrintLog  On other hand,  1.  I noticed that you do print {....}-&gt;{$level}, what is the &quot;--&gt;{$level} for? 2.  and &quot;<b>PACKAGE</b>&quot; at the bottom is for?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "edited": false, "score": 0, "creation_date": 1443938556, "post_id": 32928746, "comment_id": 53686963, "body": "@hidden: What version of Perl and Exporter?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "edited": false, "score": 0, "creation_date": 1443939101, "post_id": 32928746, "comment_id": 53687042, "body": "<code>-&gt;{level} </code> is getting a value from an anonymous hash, like a switch. <code>_PACKAGE_ </code> returns a true value like <code>1;</code> does."}, {"owner": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "edited": false, "score": 0, "creation_date": 1443975748, "post_id": 32928746, "comment_id": 53696606, "body": "This is perl 5, version 14, subversion 2 (v5.14.2) built for MSWin32-x86-multi-thread.  I don&#39;t know how to check the Exporter version."}, {"owner": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "edited": false, "score": 0, "creation_date": 1443976176, "post_id": 32928746, "comment_id": 53696735, "body": "I think I got it fixed coz I didn&#39;t put in the namespace."}, {"owner": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "edited": false, "score": 0, "creation_date": 1445126845, "post_id": 32928746, "comment_id": 54191627, "body": "use MyDbg (&#39;:all&#39;, 5); &lt;-- I tried to change the &quot;5&quot; in to a variable like $dLevel, where I have specified $dLevel=1; but when I try to print the output from the &quot;sub import&quot; print $level, it say uninitialized variable."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "edited": false, "score": 1, "creation_date": 1445198988, "post_id": 32928746, "comment_id": 54210114, "body": "@hidden: <code>use</code> runs in compile time, $dLevel is probably still empty - you&#39;d have to populate it in a BEGIN block."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1443919124, "last_edit_date": 1443919124, "creation_date": 1443917090, "answer_id": 32928746, "question_id": 32928424, "link": "https://stackoverflow.com/questions/32928424/pass-parameter-with-import-but-it-override-the-export-in-perl/32928746#32928746", "title": "Pass parameter with import, but it override the export in Perl", "body": "<p>Read <a href=\"http://p3rl.org/Exporter\" rel=\"nofollow\">Exporter</a>'s documentation carefully. It contains all the information you need.</p>\n\n<p>App.pl</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse MyDbg (':all', 5); # Try removing the 5.\n\ndPrintLog(undef, 'message');\n</code></pre>\n\n<p>MyDbg.pm</p>\n\n<pre><code>package MyDbg;\nuse warnings;\nuse strict;\n\n\nour @ISA         = qw(Exporter);\nour @EXPORT_OK   = qw(dPrintLog );\nour %EXPORT_TAGS = ( all =&gt; \\@EXPORT_OK );\nuse Exporter ();\n\nmy $debugLevel = 3;  \n\nsub import {\n    my ($class, $tag, $level) = @_;\n    $debugLevel = $level if $level;\n    $class-&gt;Exporter::export_to_level(1, $class, $tag);\n}\n\nsub dPrintLog {\n    my ($level, $msg) = @_;\n    $level ||= $debugLevel;\n    print { 5 =&gt; \"L:$level $msg\",\n            3 =&gt; \"$msg\",\n            1 =&gt; substr $msg, 0 ,1,\n          }-&gt;{$level}, \"\\n\";\n}\n\n__PACKAGE__\n</code></pre>\n\n<p>Interestingly, it doesn't work if you remove the @ISA line. You have to declare the <code>export</code> subroutine to make it work (based on my experiments, no documentation found):</p>\n\n<pre><code>sub export { Exporter::export(@_) }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>*export = *Exporter::export{CODE};\n</code></pre>\n\n<p>or, even</p>\n\n<pre><code>sub export { goto &amp;Exporter::export }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4339885, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6746ad4ececdd5cadc0a9c199781a327?s=128&d=identicon&r=PG&f=1", "display_name": "hidden", "link": "https://stackoverflow.com/users/4339885/hidden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 32928746, "answer_count": 1, "score": 0, "last_activity_date": 1443923875, "creation_date": 1443913902, "last_edit_date": 1443923875, "question_id": 32928424, "link": "https://stackoverflow.com/questions/32928424/pass-parameter-with-import-but-it-override-the-export-in-perl", "title": "Pass parameter with import, but it override the export in Perl", "body": "<p>I am trying to pass parameter into packages with import but it override my export.  I saw some suggested $main:debugLevel in Debugger.pm but it doesn't work.  How to fix this?</p>\n\n<p>main.pl</p>\n\n<pre><code>our $debugLevel = 5;  \nour $dDebug=TRUE;\nour $dPkg=__PACKAGE__;\nour $dMsg=\"\";\n\nuse MyPkg::Debugger qw( :all );\n# ^-- how do I pass in the variables declared above?\n...\n\ndPrintLog(4, 'testsub', 'msg', $mydata);\n# ^-- this generate error, if i put in the \"import\" sub in the Debugger.pm\n</code></pre>\n\n<p>Debugger.pm</p>\n\n<pre><code>use strict;\npackage MyPkg::Debugger;\n\nour $VERSION     = 1.00;\nour @ISA         = qw(Exporter);\nour @EXPORT_OK   = qw(dPrintLog );\nour %EXPORT_TAGS = (\n                     all =&gt; \\@EXPORT_OK\n                   );\n\nuse DateTime::Format::Strptime;\nuse POSIX qw(strftime);\nuse Data::Dumper;\n\nour $debugLevel = 5;  \nour $dDebug=TRUE;\nour $dPkg=__PACKAGE__;\nour $dMsg=\"\";\n\nsub import {\n   my ($debugLevel , $dDebug, $dMsg, $data) = @_;\n}\n\nsub dPrintLog {\n     my ($level, $sub, $msg, $data) = @_;\n     if ($level == 5) {\n          print \"L:\" . $level . \";\" . \"Pkg:\" . $sub . \";\". \"Msg: \" . $msg . \"\\n\";\n          print '   '.Dumper($data) unless (!defined $data);   \n     }elsif ($level == 3){\n     }elsif ($level == 1){\n     }else{\n     }\n}\n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 3, "creation_date": 1443879890, "post_id": 32923169, "comment_id": 53673185, "body": "main is undefined until you hit the def line, in python you have to define the function before you call it"}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 0, "creation_date": 1443887486, "post_id": 32923169, "comment_id": 53675371, "body": "if you import it from other module/file, yes you can :) that&#39;s a joke, btw.  python reads code from top to the end. in any case if interpreter finds a usage (evaluation, execution) of an undefined variable, function etc. it stops working with an error code. have a look up this thread: <a href=\"http://stackoverflow.com/questions/2985047/order-of-execution-and-style-of-coding-in-python\" title=\"order of execution and style of coding in python\">stackoverflow.com/questions/2985047/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1443879943, "post_id": 32923204, "comment_id": 53673202, "body": "The OP is asking how to call it before you have it defined which is not possible"}, {"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1443890400, "post_id": 32923204, "comment_id": 53676333, "body": "@ikegami, you can, you just have to make sure the functions are defined before you call one, once it is defined it is globals so accessible from anywhere"}], "tags": [], "owner": {"reputation": 272, "user_id": 3645287, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a9b6917034443d236a89669a6b0562a?s=128&d=identicon&r=PG&f=1", "display_name": "astromath", "link": "https://stackoverflow.com/users/3645287/astromath"}, "is_accepted": false, "score": 0, "last_activity_date": 1443879305, "creation_date": 1443879305, "answer_id": 32923204, "question_id": 32923169, "link": "https://stackoverflow.com/questions/32923169/can-you-call-the-main-function-at-the-top-in-python-like-perl/32923204#32923204", "title": "Can you call the main function at the top in python like perl?", "body": "<p>Could you please try:</p>\n\n<pre><code>def main():\n    print('hello')\n</code></pre>\n\n<p>and then call it as main()</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444056451, "post_id": 32923270, "comment_id": 53727729, "body": "Re &quot;You need to write definition of main before you call it&quot;, No, calls can precede definitions."}, {"owner": {"reputation": 571, "user_id": 4398908, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ClxsG.jpg?s=128&g=1", "display_name": "LouYu", "link": "https://stackoverflow.com/users/4398908/louyu"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1444094073, "post_id": 32923270, "comment_id": 53745496, "body": "@ikegami You can write codes that call it before definitions, but you can&#39;t run those codes and really call the function before the function is assigned to its codes."}], "tags": [], "owner": {"reputation": 571, "user_id": 4398908, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ClxsG.jpg?s=128&g=1", "display_name": "LouYu", "link": "https://stackoverflow.com/users/4398908/louyu"}, "is_accepted": true, "score": 0, "last_activity_date": 1443879735, "creation_date": 1443879735, "answer_id": 32923270, "question_id": 32923169, "link": "https://stackoverflow.com/questions/32923169/can-you-call-the-main-function-at-the-top-in-python-like-perl/32923270#32923270", "title": "Can you call the main function at the top in python like perl?", "body": "<p>You need to write definition of <code>main</code> before you call it:</p>\n\n<pre><code>def main():\n    print('hello')\n    return\n\nif __name__ == \"__main__\": # Avoid running main function when this file is imported instead of run directly.\n    main()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1443889963, "creation_date": 1443889963, "answer_id": 32924878, "question_id": 32923169, "link": "https://stackoverflow.com/questions/32923169/can-you-call-the-main-function-at-the-top-in-python-like-perl/32924878#32924878", "title": "Can you call the main function at the top in python like perl?", "body": "<p>You can't have a call to a function before the function is declared, except if the call is within another function. Workaround:</p>\n\n<pre><code>def top():\n    main()\n\n...\n\ndef main():\n    print('hello')\n    return\n\ntop()\n</code></pre>\n\n<p>Not sure why you'd want to do that. In either language. It's definitely error-prone in Perl.</p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 4397882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6VJIz0awx5Y/AAAAAAAAAAI/AAAAAAAAAVc/AOknRVDkdUM/photo.jpg?sz=128", "display_name": "Aliaksei Piatrouski", "link": "https://stackoverflow.com/users/4397882/aliaksei-piatrouski"}, "is_accepted": false, "score": 0, "last_activity_date": 1443968407, "creation_date": 1443968407, "answer_id": 32934456, "question_id": 32923169, "link": "https://stackoverflow.com/questions/32923169/can-you-call-the-main-function-at-the-top-in-python-like-perl/32934456#32934456", "title": "Can you call the main function at the top in python like perl?", "body": "<p>So, you can use the function only after defining it earlier.</p>\n"}], "owner": {"reputation": 13, "user_id": 5404415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f6022b2a24213bcabc626fe66affa3?s=128&d=identicon&r=PG&f=1", "display_name": "xcobbyz", "link": "https://stackoverflow.com/users/5404415/xcobbyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 32923270, "answer_count": 4, "score": 0, "last_activity_date": 1443968407, "creation_date": 1443879032, "last_edit_date": 1443953205, "question_id": 32923169, "link": "https://stackoverflow.com/questions/32923169/can-you-call-the-main-function-at-the-top-in-python-like-perl", "title": "Can you call the main function at the top in python like perl?", "body": "<p>Does anyone know if there is a way to do this?  </p>\n\n<p>For example this perl code works, but python does not?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl5.18\nmain();\n\nsub main {\n    print 'hello\\n';\n    return;\n}\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python3.4\nmain()\n\ndef main():\n    print('hello')\n    return\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["arrays", "perl", "merge", "unique", "hashref"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443888145, "post_id": 32921200, "comment_id": 53675572, "body": "As a suggestion - you will generally get much better answers and responses if you show what you&#39;ve tried."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5076781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bbbf67525a189d990669b4eeeffa28?s=128&d=identicon&r=PG&f=1", "display_name": "philipp", "link": "https://stackoverflow.com/users/5076781/philipp"}, "edited": false, "score": 0, "creation_date": 1443872145, "post_id": 32921248, "comment_id": 53670940, "body": "Thank you - whats the correct way to parse these now trough a foreach loop?"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 1, "last_activity_date": 1443866812, "last_edit_date": 1443866812, "creation_date": 1443866489, "answer_id": 32921248, "question_id": 32921200, "link": "https://stackoverflow.com/questions/32921200/merge-perl-hashrefs-and-unique/32921248#32921248", "title": "Merge Perl Hashrefs and unique", "body": "<p>You'll have to loop over <code>name1, name2</code> keys and filter duplicates out of  <code>$VAR2-&gt;{$k}</code> and <code>$VAR1-&gt;{$k}</code> arrays,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $VAR1 = {\n      'name1' =&gt; [ 'adam', 'bob' ],\n      'name2' =&gt; [ 'Miller', 'Schumacher' ]\n};\nmy $VAR2 = {\n      'name1' =&gt; [ 'tina', 'jason', 'jeff' ],\n      'name2' =&gt; [ 'Miller', 'Schumacher', 'Schmidt' ]\n};\n\nmy %result;\nfor my $k (keys %$VAR1) {\n  my %seen;\n  $result{$k} = [\n    grep { !$seen{$_}++ } @{ $VAR2-&gt;{$k} }, @{ $VAR1-&gt;{$k} }\n  ];\n}\n\nuse Data::Dumper;\nprint Dumper \\%result;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = {\n      'name2' =&gt; [\n                   'Miller',\n                   'Schumacher',\n                   'Schmidt'\n                 ],\n      'name1' =&gt; [\n                   'tina',\n                   'jason',\n                   'jeff',\n                   'adam',\n                   'bob'\n                 ]\n    };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 1, "last_activity_date": 1443870750, "creation_date": 1443870750, "answer_id": 32921874, "question_id": 32921200, "link": "https://stackoverflow.com/questions/32921200/merge-perl-hashrefs-and-unique/32921874#32921874", "title": "Merge Perl Hashrefs and unique", "body": "<p>If your need is very specific - merging two hashes with keys <code>name1</code> and <code>name2</code>, then the following should do the trick:</p>\n\n<pre><code>my $first = {\n        name1 =&gt; [ qw(adam bob) ],\n        name2 =&gt; [ qw(Miller Schumacher) ],\n    };\nmy $second = {\n        name1 =&gt; [ qw(tina jason jeff) ],\n        name2 =&gt; [ qw(Miller Schumacher Schmidt) ],\n    };\n\nmy $merged = {\n        name1 =&gt; [ values %{$first-&gt;{name1}}, values %{$second-&gt;{name1}} ],\n        name2 =&gt; [ values %{$first-&gt;{name2}}, values %{$second-&gt;{name2}} ],\n    };\n</code></pre>\n\n<p>If the keys aren't fixed and known in advance, \u0421\u0443\u0445\u043e\u043927's answer will work, at least if the structure is only two levels deep.\nIf it can go deeper, you'll need a recursive solution.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1443874543, "last_edit_date": 1443874543, "creation_date": 1443874101, "answer_id": 32922368, "question_id": 32921200, "link": "https://stackoverflow.com/questions/32921200/merge-perl-hashrefs-and-unique/32922368#32922368", "title": "Merge Perl Hashrefs and unique", "body": "<p>This is a general solution that can take any number of hashes, and copes with a missing key in any of the hashes</p>\n\n<p>It iterates over a list of all the hash keys to be combined, and joins the array values of each of those keys across all of the hashes using <code>map</code></p>\n\n<p>I have used <code>Data::Dump</code> only to display the resulting hash data</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::MoreUtils qw/ uniq /;\nuse Data::Dump;\n\nmy %ha = (\n    name1 =&gt; [ \"adam\",   \"bob\" ],\n    name2 =&gt; [ \"Miller\", \"Schumacher\" ],\n);\n\nmy %hb = (\n    name1 =&gt; [ \"tina\",   \"jason\",      \"jeff\" ],\n    name2 =&gt; [ \"Miller\", \"Schumacher\", \"Schmidt\" ],\n);\n\nmy @hashes = \\( %ha, %hb );\n\nmy %new;\n\nfor my $k ( uniq map keys %$_, @hashes ) {\n    $new{$k} = [\n        uniq map @{ $_-&gt;{$k} // [] }, @hashes\n    ];\n}\n\ndd \\%new;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  name1 =&gt; [\"adam\", \"bob\", \"tina\", \"jason\", \"jeff\"],\n  name2 =&gt; [\"Miller\", \"Schumacher\", \"Schmidt\"],\n}\n</code></pre>\n\n<p>If for any reason you would prefer not to install the non-core library module <a href=\"http://metacpan.org/module/List::MoreUtils\" rel=\"nofollow\"><code>List::MoreUtils</code></a> then you can use this version of the <code>uniq</code> function</p>\n\n<pre><code>sub uniq {\n  my %seen;\n  grep { not $seen{$_}++ } @_;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1443892963, "post_id": 32922686, "comment_id": 53677171, "body": "See also <a href=\"http://stackoverflow.com/questions/26547424/merge-hashes-with-arrays-with-hashmerge\">Merge hashes with arrays with Hash::Merge</a>"}], "tags": [], "owner": {"reputation": 1395, "user_id": 252489, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f5f3c9e216adc1a98897f99ec581853a?s=128&d=identicon&r=PG", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/252489/gowtham"}, "is_accepted": false, "score": 2, "last_activity_date": 1443892624, "last_edit_date": 1443892624, "creation_date": 1443876056, "answer_id": 32922686, "question_id": 32921200, "link": "https://stackoverflow.com/questions/32921200/merge-perl-hashrefs-and-unique/32922686#32922686", "title": "Merge Perl Hashrefs and unique", "body": "<p><a href=\"http://search.cpan.org/~rehsack/Hash-Merge-0.200/lib/Hash/Merge.pm\" rel=\"nofollow\">Hash::Merge</a> module's right precedent behavior is customized to unify elements when merging arrays.</p>\n\n<pre><code>use strict;\nuse Hash::Merge qw/merge :custom/;\nuse List::MoreUtils qw/uniq/;\nuse Data::Dumper;\n\nmy $href1 = { name1 =&gt; [ qw/adam bob/ ],\n              name2 =&gt; [ qw/Miller Schumacher/ ] };\n\nmy $href2 = { name1 =&gt; [ qw/tina jason jeff/ ],\n              name2 =&gt; [ qw/Miller Schumacher Schmidt/ ] };\n\nHash::Merge::specify_behavior(  {\n                        SCALAR =&gt; {\n                                SCALAR =&gt; sub { $_[1] },\n                                ARRAY  =&gt; sub { [ $_[0], @{$_[1]} ] },\n                                HASH   =&gt; sub { $_[1] },\n                        },\n                        ARRAY =&gt; {\n                                SCALAR =&gt; sub { $_[1] },\n                                # This returns unique elements from two arrays passed\n                                ARRAY  =&gt; sub { [ uniq( @{$_[0]}, @{$_[1]}) ] },\n                                HASH   =&gt; sub { $_[1] }, \n                        },\n                        HASH =&gt; {\n                                SCALAR =&gt; sub { $_[1] },\n                                ARRAY  =&gt; sub { [ values %{$_[0]}, @{$_[1]} ] },\n                                HASH   =&gt; sub { Hash::Merge::_merge_hashes( $_[0], $_[1] ) }, \n                        },\n                }, \n                'Right precedent + Uniq array', \n        );\n\nmy $href3 = merge($href1, $href2);\n\nprint Dumper $href3;\n</code></pre>\n\n<p>Produces the output:</p>\n\n<pre><code>$VAR1 = {\n          'name2' =&gt; [\n                       'Miller',\n                       'Schumacher',\n                       'Schmidt'\n                     ],\n          'name1' =&gt; [\n                       'adam',\n                       'bob',\n                       'tina',\n                       'jason',\n                       'jeff'\n                     ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5076781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6bbbf67525a189d990669b4eeeffa28?s=128&d=identicon&r=PG&f=1", "display_name": "philipp", "link": "https://stackoverflow.com/users/5076781/philipp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 32921248, "answer_count": 4, "score": 2, "last_activity_date": 1598211160, "creation_date": 1443866038, "last_edit_date": 1598211160, "question_id": 32921200, "link": "https://stackoverflow.com/questions/32921200/merge-perl-hashrefs-and-unique", "title": "Merge Perl Hashrefs and unique", "body": "<p>I havve got two perl hashes with the following contenct:</p>\n<p>First:</p>\n<pre><code>$VAR1 = {\n      'name1' =&gt; [\n                   'adam',\n                   'bob'\n                 ],\n      'name2' =&gt; [\n                  'Miller',\n                  'Schumacher'\n                ]\n    };\n</code></pre>\n<p>Second:</p>\n<pre><code>$VAR1 = {\n      'name1' =&gt; [\n                   'tina',\n                   'jason',\n                   'jeff'\n                 ],\n      'name2' =&gt; [\n                  'Miller',\n                  'Schumacher',\n                  'Schmidt'\n                ]\n    };\n</code></pre>\n<p>How can I merge them both to get the following structure and to get unique items in name2 ?</p>\n<pre><code>$VAR1 = {\n      'name1' =&gt; [\n                   'tina',\n                   'jason',\n                   'jeff',\n                   'adam',\n                   'bob',\n                 ],\n      'name2' =&gt; [\n                  'Miller',\n                  'Schumacher',\n                  'Schmidt'\n                ]\n    };\n</code></pre>\n"}, {"tags": ["php", "perl", "md5", "pack"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1443897045, "post_id": 32921873, "comment_id": 53678472, "body": "Re &quot;the only reason for the unpack,join and printf is to provide a little more security&quot;, Maybe, but I think it&#39;s too allow arbitrary strings, include those that include single quotes and NULs. <code>printf &#39;\\047\\000&#39; | hexdump -C</code>"}, {"owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443898612, "post_id": 32921873, "comment_id": 53678953, "body": "yes - that makes sense - the single quote would trash the command line - shouldn&#39;t be an issue that needs to be dealt with by translating the php to use the md5sum function but does provide a more likely interpretation of the original intent of the perl coder."}, {"owner": {"reputation": 21, "user_id": 2875148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4f78e3adaaf6a0735f34396216e56b?s=128&d=identicon&r=PG", "display_name": "user41593", "link": "https://stackoverflow.com/users/2875148/user41593"}, "edited": false, "score": 0, "creation_date": 1443971170, "post_id": 32921873, "comment_id": 53695195, "body": "I apologize, I can see how that would be confusing, as it was to me when I was first looking at it. Fortunately the original coder had left comments to explain what the md5sum was there for. Apparently md5 wasn&#39;t working properly on the system (a network device) this was originally coded for, so they resorted to that md5sum method instead. Hope that clears things up!"}, {"owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "edited": false, "score": 0, "creation_date": 1443971474, "post_id": 32921873, "comment_id": 53695301, "body": "Does this answer you question - if so could you please tick the box :^)"}], "tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": false, "score": 2, "last_activity_date": 1443871361, "last_edit_date": 1443871361, "creation_date": 1443870745, "answer_id": 32921873, "question_id": 32921035, "link": "https://stackoverflow.com/questions/32921035/trying-to-convert-perl-to-php/32921873#32921873", "title": "Trying to convert Perl to PHP", "body": "<p>Code looks a little confusing to me but here's my interpretation:</p>\n\n<pre><code>&lt;1&gt; sub md5sum($) {\n&lt;2&gt;   my @ib = unpack(\"C*\", shift);\n&lt;3&gt;   my $encstr = join(\"\", map {sprintf('\\%3.3o', $_)} @ib);\n&lt;4&gt;   my ($out) = split(/ /, `printf '$encstr' | md5sum`);\n&lt;5&gt;   return $out;\n    }\n</code></pre>\n\n<p>the <code>\"C*\", shift</code> on &lt;2> converts the string into an array of numbers which is then joined together to form a new string by doing the sprintf formatting on each number. The resultant string is then used a aparameter when executing the command line <code>printf '$encstring' | md5sum</code> and the return is captured and returned. Effectively this returns with the md5sum ( as returned by the shell command ).</p>\n\n<p>as an example calling the function with 'username' as a parameter will result in the command line being constructed as <code>printf '\\165\\163\\145\\162\\156\\141\\155\\145' | md5sum</code> which gives a result of <code>14c4b06b824ec593239362517f538b29  -</code> however if we drop the piped md5sum and just execute  <code>printf '\\165\\163\\145\\162\\156\\141\\155\\145'</code>  in a shell then we get the original string of 'username' returned.</p>\n\n<p>It looks to me as though the only reason for the unpack,join and printf is to provide a little more security so processes do not contain the original string should somebody hack the machine and watch the processes etc.</p>\n\n<p>The split on whitespace appears to be used to ommit the trailing - character returned by the command line call so that you only get the md5sum by splitting the retruned string from the command line into 2 values but only capturing the first into the returned $out scalar variable.</p>\n\n<p>I assume that the author of the code could not use the CPAN MD5 module and so fell back to using the command line md5sum command but wanted to obfuscate and command line calls.</p>\n\n<p>You should be able to replace the entire function with a php md5sum function call with just the string as the parameter ( <a href=\"http://php.net/manual/en/function.md5.php\" rel=\"nofollow\">http://php.net/manual/en/function.md5.php</a> )</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 2875148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4f78e3adaaf6a0735f34396216e56b?s=128&d=identicon&r=PG", "display_name": "user41593", "link": "https://stackoverflow.com/users/2875148/user41593"}, "edited": false, "score": 0, "creation_date": 1443971357, "post_id": 32932524, "comment_id": 53695268, "body": "Thank you! I can&#39;t believe I left out the () not sure how I missed that other than it was pretty late when I started toying with this again. Also thank you for the clarification on pack!"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 1, "last_activity_date": 1443954852, "creation_date": 1443954852, "answer_id": 32932524, "question_id": 32921035, "link": "https://stackoverflow.com/questions/32921035/trying-to-convert-perl-to-php/32932524#32932524", "title": "Trying to convert Perl to PHP", "body": "<p>Your PHP code is obviously missing a call to <code>pack</code>. Try:</p>\n\n<pre><code>$hexchal = pack(\"H32\", $challenge);\n$newchal = pack(\"H32\", md5($hexchal.$uamsecret));\n$passvar = md5(\"\\0\".$password.$newchal);\n</code></pre>\n\n<p>Alternatively, you can set the <code>raw_output</code> parameter of PHP's <code>md5</code> function to <code>TRUE</code>:</p>\n\n<pre><code>$hexchal = pack(\"H32\", $challenge);\n$newchal = md5($hexchal.$uamsecret, TRUE);\n$passvar = md5(\"\\0\".$password.$newchal);\n</code></pre>\n\n<p>You should use <code>\"H32\"</code> in PHP just like in Perl. It tells <code>pack</code> to expect 16 bytes (32 nibbles).</p>\n"}], "owner": {"reputation": 21, "user_id": 2875148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c4f78e3adaaf6a0735f34396216e56b?s=128&d=identicon&r=PG", "display_name": "user41593", "link": "https://stackoverflow.com/users/2875148/user41593"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1573868337, "creation_date": 1443864890, "last_edit_date": 1573868337, "question_id": 32921035, "link": "https://stackoverflow.com/questions/32921035/trying-to-convert-perl-to-php", "title": "Trying to convert Perl to PHP", "body": "<p>I'm having trouble converting the following code from Perl to PHP. In particular, I'm having trouble with this section, as I have no clue what is happening here:</p>\n\n<pre><code>sub md5sum($) {\n    my @ib = unpack(\"C*\", shift);\n    my $encstr = join(\"\", map {sprintf('\\%3.3o', $_)} @ib);\n    my ($out) = split(/ /, `printf '$encstr' | md5sum`);\n    return $out;\n}\n</code></pre>\n\n<p>The main point I'm looking for help on is what does the <code>\"C*\", shift</code> do in the unpack statement, what's going on in the <code>join</code> part, and what does the <code>| md5sum</code> do at the end of the <code>split</code></p>\n\n<p>For this section below, I believe I'm also having trouble. My main question here is for the php pack, do I specify the H32, or just the H?</p>\n\n<pre><code>$hexchal = pack \"H32\", $challenge;\n$newchal = pack \"H32\", md5sum($hexchal . $uamsecret);\nmy $passvar = \"\";\n$passvar = md5sum(\"\\0\" . $password . $newchal);\n</code></pre>\n\n<p>Here is what I've tried for the section above, but the $hexchal's don't match up</p>\n\n<pre><code>$hexchal = pack(\"H32\", $challenge);\n$newchal = md5($hexchal.$uamsecret);\n$passvar = md5(\"\\0\".$password.$newchal);\n</code></pre>\n"}, {"tags": ["perl", "xs", "libressl"], "answers": [{"comments": [{"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1444139832, "post_id": 32932152, "comment_id": 53768609, "body": "Perfect! I needed to fiddle around with <code>$ENV{LD_LIBRARY_PATH}</code> a little to actually make it work with weird .so paths on OpenBSD but now it does exactly what I need. Thanks very much!"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 1, "last_activity_date": 1443952187, "creation_date": 1443952187, "answer_id": 32932152, "question_id": 32920753, "link": "https://stackoverflow.com/questions/32920753/testing-for-libressl-in-a-perl-build-script/32932152#32932152", "title": "Testing for LibreSSL in a Perl build script", "body": "<p>It's easy to write feature tests with <a href=\"https://metacpan.org/pod/Devel::CheckLib\" rel=\"nofollow\"><code>Devel::CheckLib</code></a>. Something like the following can be used to check for the presence of function <code>your_func</code> (in <code>Makefile.PL</code>):</p>\n\n<pre><code>my $your_func_exists = check_lib(\n    header   =&gt; 'your_header.h',\n    function =&gt; 'return your_func ? 1 : 0;',\n);\n</code></pre>\n\n<p>If you simply want to abort compilation if the function is missing:</p>\n\n<pre><code>check_lib(\n    ...\n) or warn('your_func is missing'), exit;\n</code></pre>\n\n<p>Exiting with 0 should avoid a CPAN Tester's 'FAIL' report.</p>\n"}], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 32932152, "answer_count": 1, "score": 0, "last_activity_date": 1443952187, "creation_date": 1443862840, "question_id": 32920753, "link": "https://stackoverflow.com/questions/32920753/testing-for-libressl-in-a-perl-build-script", "title": "Testing for LibreSSL in a Perl build script", "body": "<p>I released <a href=\"http://search.cpan.org/~mbethke/Net-NSCAng-Client-0.04/lib/Net/NSCAng/Client.pm\" rel=\"nofollow\"><code>Net::NSCAng::Client</code></a> a while ago and am getting a lot of test failures on OpenBSD. The reason for that is that the NSCAng protocol uses OpenSSL in preshared-key mode (RFC4279), something the folks at LibreSSL (default on OpenBSD now) have ripped out. However, they seem to have been hell-bent on doing this the most intransparent way: the include files have all the functions defined, just the shared library is missing the corresponding symbols, so compilation works fine but the tests fail.</p>\n\n<p>There is a compatibility package on OpenBSD called eopenssl, and by testing for this first in Makefile.PL (using <code>ExtUtils::PkgConfig</code>) I can make it work <em>if</em> the compatibility library is installed. If it isn't, things still fail.</p>\n\n<p>I could check for the CPP symbol OPENSSL_NO_PSK, but as the includes always come from LibreSSL, this fails even if linking with eopenssl would work fine. The only idea I have left is to try and have a test program run as part of the compilation phase as autoconf does it. Is that even possible with <code>ExtUtils::MakeMaker</code> (or something else -- I wouldn't mind switching the build system if necessary)?</p>\n"}, {"tags": ["regex", "string", "perl"], "answers": [{"tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": false, "score": 1, "last_activity_date": 1443856913, "last_edit_date": 1443856913, "creation_date": 1443856591, "answer_id": 32919958, "question_id": 32919662, "link": "https://stackoverflow.com/questions/32919662/what-is-the-search-flow-of-pattern-match/32919958#32919958", "title": "What is the search flow of pattern match?", "body": "<pre><code>Regex: A.?T?AA\nText:  AAATAATAGCAV\n</code></pre>\n\n<p>A regular expression will start matching from the first character in the text and see if there's any way to match the pattern there. Also, <code>?</code> is greedy, so it'll first try to match 1 character and if that fails, it'll match 0 characters. Let's see the how this translates to each step of the match:</p>\n\n<pre><code>Pattern: A.TAA\nText:    AAATAATAGCAV\n           | Failed\n\nThe pattern failed while matching 'T' from 'T?', so now try to match 0 characters there.\nPattern: A.AA\nText:    AAATAATAGCAV\n            | Failed\n\nThe pattern failed while matching the last 'A'. There's one more pattern now before moving on to the next character - the one where .? matches 0 characters.\nPattern: AAA\nText:    AAATAATAGCAV\n         Success!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1443881099, "last_edit_date": 1443881099, "creation_date": 1443880725, "answer_id": 32923429, "question_id": 32919662, "link": "https://stackoverflow.com/questions/32919662/what-is-the-search-flow-of-pattern-match/32923429#32923429", "title": "What is the search flow of pattern match?", "body": "<p>There's a nice easy way to see what a regex is doing:</p>\n\n<pre><code> use re 'debug';\n</code></pre>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\n\nuse re 'debug';\n\nmy $str = 'AAATAATAGCAV';    \n$str =~m/A.?T?AA/;\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>Compiling REx \"A.?T?AA\"\nFinal program:\n   1: EXACT &lt;A&gt; (3)\n   3: CURLY {0,1} (6)\n   5:   REG_ANY (0)\n   6: CURLY {0,1} (10)\n   8:   EXACT &lt;T&gt; (0)\n  10: EXACT &lt;AA&gt; (12)\n  12: END (0)\nanchored \"A\" at 0 floating \"AA\" at 1..3 (checking floating) minlen 3 \nMatching REx \"A.?T?AA\" against \"AAATAATAGCAV\"\nIntuit: trying to determine minimum start position...\n  doing 'check' fbm scan, [1..12] gave 1\n  Found floating substr \"AA\" at offset 1 (rx_origin now 0)...\n  doing 'other' fbm scan, [0..1] gave 0\n  Found anchored substr \"A\" at offset 0 (rx_origin now 0)...\n  (multiline anchor test skipped)\nIntuit: Successfully guessed: match at offset 0\n   0 &lt;&gt; &lt;AAATAATAGC&gt;         |  1:EXACT &lt;A&gt;(3)\n   1 &lt;A&gt; &lt;AATAATAGCA&gt;        |  3:CURLY {0,1}(6)\n                                  REG_ANY can match 1 times out of 1...\n   2 &lt;AA&gt; &lt;ATAATAGCAV&gt;       |  6:  CURLY {0,1}(10)\n                                    EXACT &lt;T&gt; can match 0 times out of 1...\n   2 &lt;AA&gt; &lt;ATAATAGCAV&gt;       | 10:    EXACT &lt;AA&gt;(12)\n                                      failed...\n                                    failed...\n   1 &lt;A&gt; &lt;AATAATAGCA&gt;        |  6:  CURLY {0,1}(10)\n                                    EXACT &lt;T&gt; can match 0 times out of 1...\n   1 &lt;A&gt; &lt;AATAATAGCA&gt;        | 10:    EXACT &lt;AA&gt;(12)\n   3 &lt;AAA&gt; &lt;TAATAGCAV&gt;       | 12:    END(0)\nMatch successful!\nFreeing REx: \"A.?T?AA\"\n</code></pre>\n\n<p>So to answer your question - this matched against the <code>AAA</code> at the start - because you have an optional (<code>.?</code>) which means zero is valid. And an optional <code>T?</code> which means none is valid there too. </p>\n\n<p>It is therefore taking the first substring that matches your target pattern. By doing so it (by default!) <em>consumes</em> that piece of the pattern so it cannot match against it again. So to take your first example:</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nuse re 'debug';\n\nmy $s = 'AAATAATAGCAV';\nmy @matches = $s =~m/(AT?.?A)/g; \nprint Dumper \\@matches; \n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>$VAR1 = [\n          'AAA',\n          'AA'\n        ];\n</code></pre>\n\n<p>This puts the first match as <code>AAA</code> and the second as <code>AA</code> from your string: <code>(AAA)T(AA)TAGCAV</code>. Because the substring has matched, it's no longer 'available' to the pattern matching engine to use. You can do this if you really need to, but if you're going down that line I'd suggest thinking hard about what you're trying to do with your regex. But you can use <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow\">\"look around\"</a> matching. </p>\n\n<p>Also: It's really bad form to use single char variable names generally. Call it something descriptive. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443985322, "post_id": 32929784, "comment_id": 53699724, "body": "Y&#39;know, it&#39;d never occurred to me that you can embed a print in a regex."}, {"owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443985779, "post_id": 32929784, "comment_id": 53699905, "body": "Oh yea. Powerful technique. I read somewhere how this is one of the features unique to the Perl regex. Wonder what other regex can do this?"}], "tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 2, "last_activity_date": 1443929813, "creation_date": 1443929813, "answer_id": 32929784, "question_id": 32919662, "link": "https://stackoverflow.com/questions/32919662/what-is-the-search-flow-of-pattern-match/32929784#32929784", "title": "What is the search flow of pattern match?", "body": "<p>I added an embedding code inside the regex to see where the engine is at as its searching. The key here is an understanding of the \"<strong>bump-along</strong>\".</p>\n\n<p>Once a match is made the next possible match can only begin <strong>after</strong> the previous match ended.</p>\n\n<h2>Run while printing the progress</h2>\n\n<pre><code>my $s = \"AAATAATAGCAV\";\nmy $n = 1;\n\nwhile($s =~  \n    m/\n\n      # Embedded code construct (?{ })\n      (?{print \"\\n\", $n++, \". Starting match at: [$`||$']: \"})  \n\n      # Same as AT?.?A\n      A T? .? A                                \n\n   /gx  \n\n){\n   print \"Found: [$&amp;]\";\n}\n</code></pre>\n\n<h2>Output with symbol || to denote the current place:</h2>\n\n<pre><code>1. Starting match at: [||AAATAATAGCAV]: Found: [AAA]\n2. Starting match at: [AAAT||AATAGCAV]: Found: [AA]\n3. Starting match at: [AAATAAT||AGCAV]: \n4. Starting match at: [AAATAATAGC||AV]: \n</code></pre>\n\n<h2>Expounding on the steps in more details:</h2>\n\n<ol>\n<li><p>Starting match at: [||AAATAATAGCAV]: Found: [AAA]</p>\n\n<ul>\n<li>A: Start at the beginning.</li>\n<li>B: 'A' is found (pass).</li>\n<li>C: 'T?' optional 'T' (so still a pass).</li>\n<li>D: '.?' any optional character (matches 2nd 'A' in the string) (found so its still a pass)</li>\n<li>E: 'A' is found (pass).</li>\n</ul></li>\n</ol>\n\n<p>Here is the progressing for the steps above:</p>\n\n<ul>\n<li>A: String: ||AAATAATAGCAV. Regex:  ||AT?.?A</li>\n<li>B: String: |A|AATAATAGCAV. Regex:  |A|T?.?A</li>\n<li>C: String: |A|AATAATAGCAV. Regex:  |AT?|.?A</li>\n<li>D: String: |AA|ATAATAGCAV. Regex:  |AT?.?|A</li>\n<li>E: String: |AAA|TAATAGCAV. Regex:  |AT?.?A|</li>\n</ul>\n\n<h2>2 Keys</h2>\n\n<ol>\n<li>Since we included the \\g modifier, the regex wants to find other matches.</li>\n<li>Since we already found a match, the next possible match must begin <strong>after</strong> the last match ended. In this case after the regex finds 'AAA'. The next match can only begin here: AAAT**||**AATAGCAV</li>\n</ol>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 32923429, "answer_count": 3, "score": 0, "last_activity_date": 1443929813, "creation_date": 1443854164, "question_id": 32919662, "link": "https://stackoverflow.com/questions/32919662/what-is-the-search-flow-of-pattern-match", "title": "What is the search flow of pattern match?", "body": "<p>My string is</p>\n\n<pre><code>$s = \"AAATAATAGCAV\";\n</code></pre>\n\n<p>pattern 1</p>\n\n<pre><code>$s =~m/AT?.?A/g; \n</code></pre>\n\n<p>Here <code>T?</code> fails to search. <code>.?</code> match the string second character (A<strong>A</strong>A) finally <code>A</code> matches (AA<strong>A</strong>)</p>\n\n<p>pattern 2</p>\n\n<pre><code>$s =~m/A.?T?A/g\n</code></pre>\n\n<p><code>.?</code> match the second character. <code>T?</code> fails to search. Results the same</p>\n\n<p>Here is my doubt</p>\n\n<pre><code>$s =~m/A.?T?AA/\n</code></pre>\n\n<p>From beginning <code>A</code> matches first character from string</p>\n\n<p><code>.?</code> matches any one character match or not match from a string. So it is match the second character as pattern 1 and pattern 2. </p>\n\n<p><code>T?</code> also match any one character match or not match from a string. </p>\n\n<p><code>AA</code> match the <code>AA</code> character from a string. </p>\n\n<p>Why above pattern won't match <code>AATAA</code> or <code>ATAA</code>. How the search engine works.? Why it is result <code>AAA</code></p>\n"}, {"tags": ["perl", "raku"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443838188, "post_id": 32918096, "comment_id": 53663937, "body": "Are you saying that you want to restrict <code>$http_method</code> to one of <code>GET</code>, <code>HEAD</code>, <code>POST</code> etc.? I think you want an <code>enum</code>, but I don&#39;t see the problem with passing a simple string; you can verify that it&#39;s one of the valid choices in a test inside <code>send_http</code>. I don&#39;t understand why you think something like a Ruby symbol would help. The main advantage of symbols is that they&#39;re immutable and are very fast in comparisons, but you could just as easily write either <code>:GIT</code> or <code>&quot;GIT&quot;</code> by mistake and symbols won&#39;t protect you from that"}, {"owner": {"user_type": "does_not_exist", "display_name": "user266003"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443842649, "post_id": 32918096, "comment_id": 53664554, "body": "@Borodin. Yes. At least symbols are fast. I believe in Perl 6 there must be something more appropriate than just a string."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443842726, "post_id": 32918096, "comment_id": 53664562, "body": "I still don&#39;t really understand what problem you&#39;re trying to solve"}, {"owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 2, "creation_date": 1443872417, "post_id": 32918096, "comment_id": 53671016, "body": "One way to do it: <code>enum Method &lt;GET HEAD POST&gt;; method send-http($url, Method $method) { ... }</code>; you could also go with named arguments"}, {"owner": {"user_type": "does_not_exist", "display_name": "user266003"}, "reply_to_user": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 0, "creation_date": 1443950711, "post_id": 32918096, "comment_id": 53689677, "body": "@Christoph, thanks. Are there other options?"}, {"owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "edited": false, "score": 0, "creation_date": 1474212832, "post_id": 32918096, "comment_id": 66429268, "body": "If I&#39;m not mistaken, here is a caveat this will overshadow the <code>Method</code> built-in type."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user266003"}, "edited": false, "score": 0, "creation_date": 1446374106, "post_id": 33440205, "comment_id": 54708520, "body": "what&#39;s <code>\u2208 </code>, how can I type it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user266003"}, "edited": false, "score": 0, "creation_date": 1446525918, "post_id": 33440205, "comment_id": 54767553, "body": "what&#39;s \u2208 , how can I type it?"}, {"owner": {"reputation": 750, "user_id": 386025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94b0a0f6e412b5dfd000814b3c3f812?s=128&d=identicon&r=PG", "display_name": "donaldh", "link": "https://stackoverflow.com/users/386025/donaldh"}, "edited": false, "score": 2, "creation_date": 1450263667, "post_id": 33440205, "comment_id": 56361940, "body": "<code>\u2208</code> is the unicode symbol ELEMENT OF you can also type the Texas variant which is <code>(elem)</code>"}], "tags": [], "owner": {"reputation": 750, "user_id": 386025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94b0a0f6e412b5dfd000814b3c3f812?s=128&d=identicon&r=PG", "display_name": "donaldh", "link": "https://stackoverflow.com/users/386025/donaldh"}, "is_accepted": false, "score": 3, "last_activity_date": 1446220979, "creation_date": 1446220979, "answer_id": 33440205, "question_id": 32918096, "link": "https://stackoverflow.com/questions/32918096/enum-or-symbols-in-perl-6/33440205#33440205", "title": "Enum or symbols in Perl 6", "body": "<p>As @Christoph mentioned, you can use enums:</p>\n\n<pre><code>enum Method &lt;GET PUT POST&gt;;\nsub http-send(str $url, Method $m) { * }\n\nhttp-send(\"http://url/\", GET);\n</code></pre>\n\n<p>You can also use type constraints:</p>\n\n<pre><code>sub http-send(str $url, str $m where { $m \u2208 &lt;GET HEAD POST&gt; }) { * }\n\nhttp-send(\"http://url/\", 'GET');\n\nhttp-send(\"http://url/\", 'PUT');\nConstraint type check failed for parameter '$m'\n</code></pre>\n\n<p>I guess you could also use multi dispatch:</p>\n\n<pre><code>multi sub http-send('GET') { * }\nmulti sub http-send('PUT') { * }\nmulti sub http-send($m) { die \"Method {$m} not supported.\" }\n\nhttp-send('GET');\n\nhttp-send('POST');\nMethod POST not supported.\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user266003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1575223631, "creation_date": 1443836572, "last_edit_date": 1575223631, "question_id": 32918096, "link": "https://stackoverflow.com/questions/32918096/enum-or-symbols-in-perl-6", "title": "Enum or symbols in Perl 6", "body": "<p>I want to pass a parameter to a method which may only have a predefined value. </p>\n\n<pre><code>   method send-http($url, $http_method) { .... }\n</code></pre>\n\n<p>Should I create an enum to pass <code>$http_method</code>? If so then how?</p>\n\n<p>Or does Perl 6 have something like symbols in Ruby? </p>\n"}, {"tags": ["javascript", "perl", "shell", "cgi"], "comments": [{"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1443847926, "post_id": 32917506, "comment_id": 53665366, "body": "Why the down vote? Is there anyway I could improve the question?"}, {"owner": {"reputation": 1055, "user_id": 3810959, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LKs5j.jpg?s=128&g=1", "display_name": "Dinesh Patra", "link": "https://stackoverflow.com/users/3810959/dinesh-patra"}, "edited": false, "score": 1, "creation_date": 1443852708, "post_id": 32917506, "comment_id": 53666257, "body": "Let me first clarify what I understood:  In server there is a file named &quot;latexindent.pl&quot;, which takes a text file as input. Right??  As  this perl script is expecting a file as input, so you can not pass ajax request directly to it.  Now u have two options,  Easy, either edit &quot;latexindent.pl&quot; for accepting post request  Or make another script, which will store the ajax request content in a text file, and then can execute &quot;latexindent.pl&quot; by passing the text file."}, {"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "reply_to_user": {"reputation": 1055, "user_id": 3810959, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LKs5j.jpg?s=128&g=1", "display_name": "Dinesh Patra", "link": "https://stackoverflow.com/users/3810959/dinesh-patra"}, "edited": false, "score": 0, "creation_date": 1443932300, "post_id": 32917506, "comment_id": 53685941, "body": "@DineshPatra You are correct I have that file on the server. I just don&#39;t know how to make a text file then execute it. Also would that be safe?"}], "answers": [{"tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": false, "score": 1, "last_activity_date": 1443872578, "creation_date": 1443872578, "answer_id": 32922135, "question_id": 32917506, "link": "https://stackoverflow.com/questions/32917506/how-can-i-pass-information-into-perl-script-from-web/32922135#32922135", "title": "How can I pass information into perl script from web?", "body": "<p>You mentioned CGI as a tag so I will assume that you aren't using node.js in which case you would look at somthing along the lines of </p>\n\n<pre><code>var exec = require('child_process').exec;\nvar cmd = 'prince -v builds/pdf/book.html -o builds/pdf/book.pdf';\n\nexec(cmd, function(error, stdout, stderr) {\n// command output is in stdout\n});\n</code></pre>\n\n<p>So assuming that you wish to run perl on the server as a CGI executed by the web server then as Dinesh pointed out you have 2 options. </p>\n\n<p>Options 1:</p>\n\n<p>edit the file to act as a CGI and make it accessible through the web server by configuring your CGI handlers etc.</p>\n\n<p>basically you will need to:\ninclude CGI.pm, extract the posted parameters and use these in place of the file contents. Something along these lines should get you started.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse CGI::Carp qw(fatalsToBrowser);\nuse JSON;\n\nmy $cgi = CGI::Carp-&gt;new();\nmy $data = from_json( $cgi-&gt;param('mode') ); ## prob need to tweak \n\n## now continue with your processing using $data instead of the file content.\n</code></pre>\n\n<p>Open 2:\n  create a perl CGI or configure your web server to handle to request and execute your existing script.</p>\n\n<p>use similar code but execute using system(), exec or `` approaches. Be sure to read up on security issues and differences between the approaches of these calls with regard to capturing output and possibility of injection security issues.</p>\n"}, {"tags": [], "owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "is_accepted": true, "score": 0, "last_activity_date": 1446751160, "creation_date": 1446751160, "answer_id": 33552987, "question_id": 32917506, "link": "https://stackoverflow.com/questions/32917506/how-can-i-pass-information-into-perl-script-from-web/33552987#33552987", "title": "How can I pass information into perl script from web?", "body": "<p>The comment by Dinesh Patra helped me arrive at the answer:\nMake a wrapper method to create a file them execute the script with the created file. No changes necessary to be made for the perl script.\nHere is what I did in the most generic way possible. Explanation beneath.</p>\n\n<p>The Javascript:</p>\n\n<pre><code>    function sendValueOne(textToSend) {\n        $.post(\"path/to/php/Wraper.php\", {text: textToSend},\n        function (data) {\n            $('#id').html(data.result);\n        }, \"json\");\n    }\n</code></pre>\n\n<p>The PHP:</p>\n\n\n\n<pre><code>$value = $_POST['text'];       //Get text from post\n$uniqueid  = getGUID();      //Create Guid (unique identifier)\n//Write file to server.\n$file = fopen(\"$uniqueid.tex\", \"w\") or die(\"Unable to open file!\");\nfwrite($file, $value);\nfclose($file);\n\n//Execute the script passing the file\n$result = shell_exec(\"perl perl path/to/perl/script.pl $uniqueid.tex\");\n\n//Delete the file\nunlink(\"$uniqueid.tex\");\n\n//Return result\n$response = new STDclass();\n$response-&gt;result = \"$result\";\necho json_encode($response);\n\n//Function found online to create guid\nfunction getGUID(){\n    if (function_exists('com_create_guid') === true){\n        return trim(com_create_guid(), '{}');\n    }\nreturn sprintf('%04X%04X-%04X-%04X-%04X-%04X%04X%04X', mt_rand(0, 65535), mt_rand(0, 65535), mt_rand(0, 65535), mt_rand(16384, 20479), mt_rand(32768, 49151), mt_rand(0, 65535), mt_rand(0, 65535), mt_rand(0, 65535));\n}\n</code></pre>\n\n<ol>\n<li>You want to send text that will be fed into the script to php using javascript.</li>\n</ol>\n\n<pre><code> $.post(\"path/to/php/Wraper.php\", {text: textToSend},\n        function (data) {\n            $('#id').html(data.result);\n        }, \"json\");\n</code></pre>\n\n<ol start=\"2\">\n<li>Create a GUID, a unique identifier for a file so we can delete the file afterwards. I used a function I found <a href=\"http://php.net/manual/en/function.com-create-guid.php#99425\" rel=\"nofollow\">online.</a></li>\n</ol>\n\n<pre class=\"lang-php prettyprint-override\"><code>$uniqueid  = getGUID(); \n</code></pre>\n\n<ol start=\"3\">\n<li>Create a file using the guid.</li>\n</ol>\n\n<pre class=\"lang-php prettyprint-override\"><code>$file = fopen(\"$uniqueid.tex\", \"w\") or die(\"Unable to open file!\");\nfwrite($file, $value);\nfclose($file);\n</code></pre>\n\n<ol start=\"4\">\n<li>Execute the perl script and save the output into a variable</li>\n</ol>\n\n<pre class=\"lang-php prettyprint-override\"><code>$result = shell_exec(\"perl perl path/to/perl/script.pl $uniqueid.tex\");\n</code></pre>\n\n<ol start=\"5\">\n<li>Now delete the file and json encode the output and return it to the java script.</li>\n</ol>\n\n<pre class=\"lang-php prettyprint-override\"><code>//Delete the file\nunlink(\"$uniqueid.tex\");\n\n//Return result\n$response = new STDclass();\n$response-&gt;result = \"$result\";\necho json_encode($response);\n</code></pre>\n\n<ol start=\"6\">\n<li>Finally we have the result back to our website and can do what ever we want with it.</li>\n</ol>\n\n<pre><code>  $.post(\"path/to/php/Wraper.php\", {text: textToSend},\n      function (data) {\n          $('#id').html(data.result); //Do something with result.\n      }, \"json\");\n</code></pre>\n"}], "owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 1, "accepted_answer_id": 33552987, "answer_count": 2, "score": 1, "last_activity_date": 1446751160, "creation_date": 1443830593, "question_id": 32917506, "link": "https://stackoverflow.com/questions/32917506/how-can-i-pass-information-into-perl-script-from-web", "title": "How can I pass information into perl script from web?", "body": "<p>I want to call a perl <a href=\"https://github.com/cmhughes/latexindent.pl/blob/master/latexindent.pl\" rel=\"nofollow\">script</a> using java script, and pass a java script variable? This script is already written by someone else. I just want their script on some text then output the results on my website. The problem is the script requires a file as input. </p>\n\n<p>The perl script has the following usage</p>\n\n<pre><code>latexindent.pl [options] [file][.tex]\n</code></pre>\n\n<p>I want to pass in a text box when I call this script, and return the commands printed to console to my javascript function.</p>\n\n<pre><code>function ajax_info() {\n    $.ajax({\n        url:       \"latexindent.pl\",\n        cache:     false,\n        dataType:  \"text\",\n        data:      { mode: 'This is Some text!' },\n        success:   function(result) { ajax_info_result(result); }\n    });\n}\n\n\nfunction ajax_info_result(result) {\n    var text   = \"The server says: &lt;b&gt;\" + result + \"&lt;/b&gt;\";\n    $('#info').html(text);\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1443844661, "post_id": 32917876, "comment_id": 53664885, "body": "Thanks, that was informative and helpful, and most importantly correct."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1443834091, "creation_date": 1443834091, "answer_id": 32917876, "question_id": 32917482, "link": "https://stackoverflow.com/questions/32917482/filtering-according-to-second-element-in-a-tuple/32917876#32917876", "title": "Filtering According To Second Element in a &quot;Tuple&quot;", "body": "<p><code>@toops1</code> always has exactly one element.</p>\n\n<pre><code>@toops1 = $toops;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>@toops1 = @$toops;\n</code></pre>\n\n<p>But why not use <code>@$toops</code> directly instead of copying all the elements?</p>\n\n<pre><code>sub filter_random_4_toops_by_sum {\n   my ($toops, $thresh) = @_;\n   my @sorted_toops = map { [ $_, sum(@$_) ] } @$toops;\n   my @filtered_toops = grep { $_[1] &gt; $thresh } @sorted_toops;\n   my @sortedReturn = map { $_-&gt;[0] } @filtered_toops;\n   return \\@sortedReturn;\n}\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>sub filter_random_4_toops_by_sum {\n   my ($toops, $thresh) = @_;\n   return [\n      map { $_-&gt;[0] }\n         grep { $_[1] &gt; $thresh }\n            map { [ $_, sum(@$_) ] }\n               @$toops\n   ];\n}\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>sub filter_random_4_toops_by_sum {\n   my ($toops, $thresh) = @_;\n   return [ grep { sum(@$_) &gt; $thresh } @$toops ];\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 32917876, "answer_count": 1, "score": 0, "last_activity_date": 1443834091, "creation_date": 1443830391, "last_edit_date": 1443830709, "question_id": 32917482, "link": "https://stackoverflow.com/questions/32917482/filtering-according-to-second-element-in-a-tuple", "title": "Filtering According To Second Element in a &quot;Tuple&quot;", "body": "<p>I am trying to zip this list with the sum of each tuple within the list, and then filter it so that only the tuples with a sum higher than 0 are in the list. At this point, using the test code given below, nothing prints after the line \"---- print random tuples above 0\". What am I missing?</p>\n\n<pre><code> sub filter_random_4_toops_by_sum {\n my ($toops, $thresh) = @_;\n my @toops1 = ();\n @toops1 = $toops;\n my @sorted_toops = ();\n my @sortedReturn = ();\n my @filtered_toops = ();\n @sorted_toops = map{[$_, sum(@$_)]} @toops1;\n @filtered_toops = grep {$_[1]&gt; $thresh} @sorted_toops;\n @sortedReturn = map{$_-&gt;[0]} @filtered_toops;\n return \\@sortedReturn;\n}\n</code></pre>\n\n<p>The Test Code:</p>\n\n<pre><code>sub test_step_4 {\n my($sn)= 1;\n my $toops = gen_random_4_toops(1, 100, 5);\n print \"---- random 4-toops:\\n\";\n foreach(@{$toops}) {\nprint \"toop $sn:\\t(@{$_});\\n and sum = \" . sum(@{$_}) . \"\\n\";\n$sn++;\n}\n my $thresh = 55;\n print \"\\n---- random 4-toops filtered by sum above $thresh:\\n\";\n my $filtered_toops = filter_random_4_toops_by_sum($toops, $thresh);\n $sn = 1;\n foreach(@{$filtered_toops}) {\nprint \"toop $sn:\\t(@{$_}); sum = \". sum(@{$_}) . \"\\n\";\n$sn++;\n }\n}\n</code></pre>\n\n<p>Test code should output:</p>\n\n<pre><code>---- random 4-toops:\ntoop 1: (49 49 4 64); sum = 166\ntoop 2: (-2 16 57 76); sum = 147\ntoop 3: (-94 93 -48 85); sum = 36\ntoop 4: (19 -47 14 38); sum = 24\ntoop 5: (-57 80 -60 -35); sum = -72\n---- random 4-toops filtered by sum above 0:\ntoop 1: (19 -47 14 38); sum = 24\ntoop 2: (-94 93 -48 85); sum = 36\ntoop 3: (49 49 4 64); sum = 166\ntoop 4: (-2 16 57 76); sum = 147\n</code></pre>\n\n<p>Equivalent of what I'm trying to do in Python (working):</p>\n\n<pre><code>def filter_random_4_toops_by_sum(toops, thresh):\n    summit = 0\n    s = []\n    for i in toops:\n        # pdb.set_trace()\n        summit = 0\n        for d in xrange(0,4):\n            summit += i[d]\n        s.append(summit)\n    # pdb.set_trace()\n    together = zip(toops, s)\n    filtertog = [i for i in together if i[1] &gt; 0]\n    toops = [x[0] for x in filtertog]\n    return toops\n</code></pre>\n"}, {"tags": ["perl", "shell", "command-line", "terminal"], "answers": [{"comments": [{"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1443830165, "post_id": 32917395, "comment_id": 53662615, "body": "When I do that I get the error when I try to open a log file in my script. <code>open($logfile,&quot;&gt;&quot;,&quot;$cruftDirectory&#47;indent.log&quot;)</code> The script dies."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1443832306, "post_id": 32917395, "comment_id": 53662981, "body": "What is <code>$cruftDirectory</code>? If it&#39;s the dirname of $ARGV[0], you&#39;ll have to pick a different directory."}, {"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1443847890, "post_id": 32917395, "comment_id": 53665363, "body": "It is just the current directory."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1443910280, "post_id": 32917395, "comment_id": 53682152, "body": "Catch the error and display it: <code>open $logfile, &#39;&gt;&#39;, &quot;$cruftDirectory&#47;indent.log&quot; or die &quot;can&#39;t open: $!&quot;;</code>"}], "tags": [], "owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "is_accepted": true, "score": 2, "last_activity_date": 1443829590, "creation_date": 1443829590, "answer_id": 32917395, "question_id": 32917355, "link": "https://stackoverflow.com/questions/32917355/how-can-i-pass-in-text-rather-than-a-file-as-a-variable/32917395#32917395", "title": "How can I pass in text rather than a file as a variable", "body": "<p>bash (amongst other shells) has a feature called <a href=\"http://www.gnu.org/software/bash/manual/bashref.html#Process-Substitution\" rel=\"nofollow\">process substitution</a>. In this feature, you can add some shell code that outputs to stdout and have the shell treat it like a file.</p>\n\n<p>In your case, you would write:</p>\n\n<pre><code>perl printme.pl &lt;(echo \"hello world\")\n</code></pre>\n\n<p>Perl will receive in $ARGV[0] a filename that looks something like /dev/fd/63 from which it can read the line \"hello world\\n\"</p>\n"}], "owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 32917395, "answer_count": 1, "score": 1, "last_activity_date": 1443829590, "creation_date": 1443829258, "question_id": 32917355, "link": "https://stackoverflow.com/questions/32917355/how-can-i-pass-in-text-rather-than-a-file-as-a-variable", "title": "How can I pass in text rather than a file as a variable", "body": "<p>I want to pass text in as a variable rather than a file.\nI am not sure how to explain this well only with an example.</p>\n\n<p>I have a perl script with usage as follows printme.pl [file]\nI want to run without passing in a file and just passing text.</p>\n\n<pre><code>echo print_me | perl printme.pl\n</code></pre>\n\n<p>rather than doing</p>\n\n<pre><code>perl printme.pl textfile.txt\n</code></pre>\n\n<p>I am trying to run a perl script that takes a text file as a variable and outputs using echo.</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1443823422, "post_id": 32916408, "comment_id": 53660946, "body": "The code you&#39;re showing can&#39;t possibly generate the message you say it does, because it doesn&#39;t reference <code>List::Tuples</code>. It&#39;s also a bit of an unclear mess. Can you please tidy it up and make sure that the code you provide is <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a>?"}, {"owner": {"reputation": 11364, "user_id": 5351549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5c11fbd301040b24865853a1d73c914?s=128&d=identicon&r=PG&f=1", "display_name": "ewcz", "link": "https://stackoverflow.com/users/5351549/ewcz"}, "edited": false, "score": 0, "creation_date": 1443823678, "post_id": 32916408, "comment_id": 53661031, "body": "in the Python version, you could simply do <code>sorted(toops, key = lambda x: sum(x), reverse=True)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1443826131, "post_id": 32916607, "comment_id": 53661709, "body": "I edited my code above, and the output is not printing out Anything except the printed &quot;----- random 4-toops:&quot; and &quot;-----random 4-toops by sum:&quot;. I thought I had followed your logic correctly... do I need to change the test case?"}, {"owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "edited": false, "score": 0, "creation_date": 1443827233, "post_id": 32916607, "comment_id": 53661966, "body": "Nevermind, I made a change and it worked. Thank you."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1443884585, "post_id": 32916607, "comment_id": 53674544, "body": "By just swapping <code>$a-&gt;[1] &lt;=&gt; $b-&gt;[1]</code> to <code>$b-&gt;[1] &lt;=&gt; $a-&gt;[1]</code> you can omit the <code>reverse</code>."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1443891625, "post_id": 32916607, "comment_id": 53676747, "body": "@dgw yes, but it&#39;s a lot clearer with <code>reverse</code> IMO."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1443824431, "last_edit_date": 1443824431, "creation_date": 1443823994, "answer_id": 32916607, "question_id": 32916408, "link": "https://stackoverflow.com/questions/32916408/sorting-a-tuple-by-the-second-value-or-by-sum/32916607#32916607", "title": "Sorting a &quot;Tuple&quot; by the second value (or by sum)", "body": "<p>You've got way too much machinery there. Since I can't make a lot of sense of your code, I'm going to work from scratch. I'm also going to assume that your \"4-tuples\" are just array references of 4 elements each, because that's all they need to be.</p>\n\n<pre><code>use List::Util 'sum';\n\nmy @tuples = generate_a_bunch_of_random_tuples();\n\n# Zip each tuple with its sum\nmy @tuples_with_sums = map { [ $_, sum(@$_) ] } @tuples;\n\nmy @sorted_with_sums = reverse sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] } @tuples_with_sums;\n\nmy @sorted = map { $_-&gt;[0] } @sorted_with_sums;\n</code></pre>\n\n<p>It is, in fact, possible to do the whole thing as a single statement in an instance of the <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian transform</a>:</p>\n\n<pre><code>my @sorted = map { $_-&gt;[0] }\n             reverse sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n             map { [ $_, sum(@$_) ] }\n             @tuples;\n</code></pre>\n\n<p>but I wrote it out the long way for the sake of ease of understanding.</p>\n\n<p>A \"zip\" (which you can get from <a href=\"http://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\">List::MoreUtils</a>) is only really of use if you already have multiple parallel lists. If every element of the output list depends on one element of a single input list, <code>map</code> works just as well \u2014 in fact, better.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1443828526, "last_edit_date": 1443828526, "creation_date": 1443827588, "answer_id": 32917145, "question_id": 32916408, "link": "https://stackoverflow.com/questions/32916408/sorting-a-tuple-by-the-second-value-or-by-sum/32917145#32917145", "title": "Sorting a &quot;Tuple&quot; by the second value (or by sum)", "body": "<p>First of all, they're <em>tupes</em>. I've never before seen \"toop\" used to mean a tuple in mathematics or programming</p>\n\n<p>The problem with your own code is that you are copying the parameters of <code>sort_random_4_toops_by_sum</code> to the wrong place. You have</p>\n\n<pre><code>my @sorted_toops = ();\nmy ( @sorted_toops2, @sorted_toops_sums, @sortedtoops3 ) = @_;\n</code></pre>\n\n<p>and the code expects the <em>unsorted</em> data in the (very badly-named) <code>@sorted_toops</code>. You also declare <code>@sortedtoops3</code> twice. If you change it as below the your program will work properly</p>\n\n<pre><code>sub sort_random_4_toops_by_sum {\n    my @sorted_toops = @_;\n    my ( @sorted_toops2, @sorted_toops_sums, @sortedtoops3 );\n\n    @sorted_toops2 = map { [ $_, sum( @$_ ) ] } @sorted_toops;\n    @sorted_toops_sums = reverse sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] } @sorted_toops2;\n\n    @sortedtoops3 = map { $_-&gt;[0] } @sorted_toops_sums;\n\n    return \\@sortedtoops3;\n}\n</code></pre>\n\n<p>I suggest that you make use of the <a href=\"http://metacpan.org/module/List::UtilsBy\" rel=\"nofollow\"><code>List::UtilsBy</code></a> module, which provides a <code>rev_nsort_by</code> (reverse numeric sort by) utility function. Using that, you can reduce your <code>sort_random_4_toops_by_sum</code> to just this</p>\n\n<pre><code>use List::UtilsBy qw/ rev_nsort_by /;\n\nsub sort_random_4_toops_by_sum {\n    [ rev_nsort_by { sum @$_ } @_ ];\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4081110, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/720067245/picture?type=large", "display_name": "Terik Brunson", "link": "https://stackoverflow.com/users/4081110/terik-brunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 32916607, "answer_count": 2, "score": 1, "last_activity_date": 1443828526, "creation_date": 1443822811, "last_edit_date": 1443827212, "question_id": 32916408, "link": "https://stackoverflow.com/questions/32916408/sorting-a-tuple-by-the-second-value-or-by-sum", "title": "Sorting a &quot;Tuple&quot; by the second value (or by sum)", "body": "<p>My purpose is to make a subroutine that takes a list of random 4-toops, sorts\nthen non-destructively by the sum of each toop from largest to smallest, and returns the sorted list.</p>\n\n<p>An example output should be:</p>\n\n<pre><code>---- random 4-toops:\ntoop 1: (93 97 78 77); 345\ntoop 2: (-1 82 92 -45); 128\ntoop 3: (62 25 -31 -4); 52\ntoop 4: (-77 -86 18 36); -109\ntoop 5: (-72 -96 -83 -6); -257\n---- random 4-toops sorted by sum:\ntoop 1: (93 97 78 77); sum = 345\ntoop 2: (-1 82 92 -45); sum = 128\ntoop 3: (62 25 -31 -4); sum = 52\ntoop 4: (-77 -86 18 36); sum = -109\ntoop 5: (-72 -96 -83 -6); sum = -257\n</code></pre>\n\n<p>Here my Python variation of the code that is already working:</p>\n\n<pre><code>def sort_random_4_toops_by_sum(toops):\n    summit = 0\n    s = []\n    for i in toops:\n        summit = 0\n        for d in xrange(0,4):\n            summit += i[d]\n        s.append(summit)\n    together = zip(toops, s)\n    sortedtog = sorted(together, key = lambda x: x[1],reverse=True)\n    toops = [x[0] for x in sortedtog]\n    return toops\n</code></pre>\n\n<p>So I am stuck with this problem: In Python, I simply zipped my sum list and my tuples list together, and then sorted by the second element in each tuple, which is always the sum. Is there an equivalent function in perl that can sort according to the second element of a tuple? Here is my attempt so far. </p>\n\n<pre><code>sub sort_random_4_toops_by_sum {\n\n    my ( @sorted_toops,@sorted_toops2, @sorted_toops_sums, @sortedtoops3 ) = @_;\n\n    @sorted_toops2 = map { [ $_, sum( @$_ ) ] } @sorted_toops;\n    @sorted_toops_sums = reverse sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] } @sorted_toops2;\n\n    my @sortedtoops3 = map { $_-&gt;[0] } @sorted_toops_sums;\n\n    return \\@sortedtoops3;\n}\n</code></pre>\n\n<p>It is telling me this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate List/Tuples.pm in @INC\n</code></pre>\n\n<p>The test code to generate the right output:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub test_step_3 {\n\n    my $toops = gen_random_4_toops( 1, 100, 5 );\n\n    print \"---- random 4-toops:\\n\";\n\n    my $tn = 1;\n    foreach ( @{ sort_random_4_toops_by_sum( @{$toops} ) } ) {\n        print \"toop $tn:\\t(@{$_}); \" . sum( @{$_} ) . \"\\n\";\n        $tn++;\n    }\n\n    print \"---- random 4-toops sorted by sum:\\n\";\n\n    my $sorted_toops = sort_random_4_toops_by_sum( @{$toops} );\n\n    $tn = 1;\n    foreach ( @{$sorted_toops} ) {\n        print \"toop $tn:\\t(@{$_}); sum = \" . sum( @{$_} ) . \"\\n\";\n        $tn++;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "sockets", "network-programming"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1443822753, "post_id": 32916281, "comment_id": 53660707, "body": "<code>gethostbyaddr</code> could run several seconds, because it has to make DNS request"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443828918, "post_id": 32916281, "comment_id": 53662312, "body": "How long does this command line take? <code>perl -MSocket -E&#39;say gethostbyaddr(inet_aton(&quot;212.58.246.104&quot;), AF_INET)&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1443898112, "last_edit_date": 1443898112, "creation_date": 1443890754, "answer_id": 32924998, "question_id": 32916281, "link": "https://stackoverflow.com/questions/32916281/gethostbyaddr-function-is-too-slow-perl-socket-programming/32924998#32924998", "title": "gethostbyaddr function is too slow (Perl socket programming)", "body": "<p>Of course it can be slow. It contacts other machines to lookup a DNS entry. (Specifically, looking up the host for address <code>w.x.y.z</code> looks up the <code>PTR</code> entry for <code>z.y.x.w.in-addr.arpa</code>.) If the authoritative DNS server is unresponsive, you're machine is basically waiting for a response that will never come until your machine has decided it's waited long enough.</p>\n\n<p>If you find <code>gethostbyaddr</code> too slow, don't use it. Just work with the IP address. It's not like <code>gethostbyaddr</code> is all that useful. <code>216.58.219.46</code> has names <code>lax17s04-in-f14.1e100.net</code> and <code>lax17s04-in-f46.1e100.net</code>, but you know it better as <code>google.com</code>. And then there's <code>209.85.250.97</code> for which <code>gethostbyaddr</code> returns no names, no matter how many domain names resolve to <code>209.85.250.97</code>.</p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 32924998, "answer_count": 1, "score": 0, "last_activity_date": 1443898112, "creation_date": 1443822174, "question_id": 32916281, "link": "https://stackoverflow.com/questions/32916281/gethostbyaddr-function-is-too-slow-perl-socket-programming", "title": "gethostbyaddr function is too slow (Perl socket programming)", "body": "<p>I'm trying to run the example in this website\n<a href=\"http://www.tutorialspoint.com/perl/perl_socket.htm\" rel=\"nofollow\">tutorialspoint</a></p>\n\n<p>But it's very slow. I thought it had something to do with buffering the response but changing print for syswrite did nothing so I added some debugging messages and found out that the function gethostbyaddr takes around 10 seconds to resolve. </p>\n\n<p>I know there are other modules for socket programming but I was wondering if this problem is common. </p>\n\n<p>I am running everything on localhost and I am using a mac </p>\n"}, {"tags": ["perl", "syntax", "split"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1443828964, "post_id": 32913529, "comment_id": 53662325, "body": "Why do you want to do it in a single line?"}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443811844, "post_id": 32913576, "comment_id": 53655606, "body": "Thanks for the clarification @ikegami.  I would upvote it, but I cant vote on my own post :("}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 1, "creation_date": 1443812402, "post_id": 32913576, "comment_id": 53655952, "body": "Starting in Perl 5.14 you can pop an array reference, so <code>my $val = pop [split &#39;,&#39;, $string];</code> would work. I still think this is evil, though!"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1443812468, "post_id": 32913576, "comment_id": 53655981, "body": "Its also experimental.  It works on my Windows PC (Perl v 5.20), but it gives a warning <code>pop on reference is experimental</code>."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1443812505, "post_id": 32913576, "comment_id": 53655999, "body": "Ah yes, I didn&#39;t see that in the perldoc on the first read through. Good to note."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 3, "creation_date": 1443812770, "post_id": 32913576, "comment_id": 53656142, "body": "@mwp, It was an experimental feature that won&#39;t be available in 5.22. (Some history: It wasn&#39;t flagged as experimental initially, but p5p realized they made a mistake. Going forwards, new features will start off as experimental. perlpolicy has been updated.)"}], "tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": false, "score": 7, "last_activity_date": 1443811619, "last_edit_date": 1443811619, "creation_date": 1443810605, "answer_id": 32913576, "question_id": 32913529, "link": "https://stackoverflow.com/questions/32913529/perl-split-and-pop-in-one-line/32913576#32913576", "title": "Perl split and pop in one line", "body": "<p><code>[]</code> returns a reference to an array, but <code>pop</code> expects an actual array, so the solution is to dereference the array as follows:</p>\n\n<pre><code>my $val = pop @{[split ',', $string]};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1443810887, "post_id": 32913617, "comment_id": 53655132, "body": "Its funny, I didn&#39;t realize there was a difference between a &quot;list&quot; and an &quot;array&quot; in Perl... You learn something new every day!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1443810960, "post_id": 32913617, "comment_id": 53655166, "body": "@tjwrona1992 That&#39;s a very important distinction that a lot of Perl programmers have trouble with. I would recommend reading <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow noreferrer\">Arrays vs. Lists in Perl: What&#39;s the Difference?</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1443811209, "post_id": 32913617, "comment_id": 53655300, "body": "note that if $foo is empty, this will produce undef"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1443811778, "post_id": 32913617, "comment_id": 53655575, "body": "As @ysth stated, that&#39;ll produce later warnings of <code>Use of uninitialized value $val in print</code>. To get around this, use an <code>||</code> (or) condition: <code>my $val = (split &#47;,&#47;, $foo)[-1] || &#39;&#39;;</code> to return an empty list if the <code>split</code> doesn&#39;t return anything"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1443812099, "post_id": 32913617, "comment_id": 53655752, "body": "@stevieb Defined-or would be better in case <code>$val</code> is defined but falsey."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1443826871, "post_id": 32913617, "comment_id": 53661881, "body": "or just <code>my $val = (&quot;&quot;, split &#47;,&#47;, $foo)[-1]</code>"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 8, "last_activity_date": 1443810836, "last_edit_date": 1443810836, "creation_date": 1443810739, "answer_id": 32913617, "question_id": 32913529, "link": "https://stackoverflow.com/questions/32913529/perl-split-and-pop-in-one-line/32913617#32913617", "title": "Perl split and pop in one line", "body": "<p><code>push</code>, <code>pop</code>, <code>shift</code>, and <code>unshift</code> are for manipulating arrays. It sounds like you just want to get the last value from the list returned by <code>split</code>, which you can get with a list slice:</p>\n\n<pre><code>my $val = (split /,/, $foo)[-1];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1443811286, "post_id": 32913747, "comment_id": 53655341, "body": "splitting is generally way faster than a reg match. Despite passing a regex pattern, a much lighter engine is used."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443811335, "post_id": 32913747, "comment_id": 53655372, "body": "@ikegami, Is this true even for pre-compiled regex&#39;s using <code>qr{}</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443811374, "post_id": 32913747, "comment_id": 53655387, "body": "Yeah, I think so. Not sure what exactly is different, but the benchmarks speak for themselves."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443811386, "post_id": 32913747, "comment_id": 53655395, "body": "Hi @ikegami, long time no talk. I must be misremembering something from a long time ago. Thank you for correcting me!"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443811455, "post_id": 32913747, "comment_id": 53655418, "body": "Anyways, +1 for coming up with a very simple answer that I somehow completely didn&#39;t think of lol"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1443811558, "post_id": 32913747, "comment_id": 53655468, "body": "This will return undef if <code>$string</code> contains no commas, while <code>split</code> will return the entire string. Not a critique, just pointing it out so the OP can decide which approach is preferable."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443811716, "post_id": 32913747, "comment_id": 53655546, "body": "simply make it &quot;0 or more&quot; commas then :)"}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1443811734, "post_id": 32913747, "comment_id": 53655557, "body": "I almost threw in a <code>?</code> after the comma, but yeah."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443811775, "post_id": 32913747, "comment_id": 53655574, "body": "What you want is a <code>*</code>. <code>?</code> would make it ungreedy and would no longer capture the last group."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 0, "creation_date": 1443811849, "post_id": 32913747, "comment_id": 53655607, "body": "<code>?</code> after a <code>*</code> (or a <code>+</code>) makes the <code>*</code> ungreedy, but <code>?</code> after a normal character (or subexpression) means &quot;zero or one of the preceeding&quot;."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443812698, "post_id": 32913747, "comment_id": 53656101, "body": "Oh so I see it does, then yes, a question mark is what you would want."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443888543, "post_id": 32913747, "comment_id": 53675699, "body": "If you think about what a regex is - it&#39;s basically a programming language. It&#39;s clever and powerful, but doesn&#39;t mean it&#39;s always efficient. You can see what a regex is doing with <code>use re &#39;debug&#39;;</code>"}], "tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": 1, "last_activity_date": 1443811202, "creation_date": 1443811202, "answer_id": 32913747, "question_id": 32913529, "link": "https://stackoverflow.com/questions/32913529/perl-split-and-pop-in-one-line/32913747#32913747", "title": "Perl split and pop in one line", "body": "<p>If efficiency is a concern, just use a regex. Splitting strings and popping arrays is (potentially) expensive.</p>\n\n<pre><code>my ($val) = $string =~ /,(\\w+)$/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443814385, "post_id": 32914219, "comment_id": 53656931, "body": "Does your &quot;fastest&quot; method work if the string contains more than one &quot;,&quot;?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443814594, "post_id": 32914219, "comment_id": 53657024, "body": "Yes. <code>rindex</code> finds the last character (the right most)  in a string. Looks at <a href=\"http://www.perlmonks.org/?node_id=985564\" rel=\"nofollow noreferrer\">this benchmark</a> in the middle of the page."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443816133, "post_id": 32914219, "comment_id": 53657760, "body": "Wow, I&#39;ve never even heard of <code>rindex</code>.  Awesome!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443836812, "post_id": 32914219, "comment_id": 53663710, "body": "All of this is largely irrelevant to the average program, which can easily afford the 4\u03bcs that even the slowest of these choices take to perform the operation. What is most important is that the code is <i>clear</i> and <i>legible</i>, and what I would write is <code>sub { $str =~ &#47;.*,(.*)&#47; and $1 }</code> which also happens to be much faster than all of your options except <code>rindex</code>"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443884324, "post_id": 32914219, "comment_id": 53674452, "body": "@Borodin: I timed <code>$str =~ &#47;.*,(.*)&#47; and $1 </code> vs <code>$str =~ &#47;.*,([^,]+)&#47;</code> and <i>I</i> get that they are about the same speed. I agree that clarity matters, but clarity is in the eye of the beholder. The <code>rindex</code> method is clear to <i>me</i>. I disagree that the speed of some of these methods does not matter. To naively use  <code>&#47;,(\\w+)$&#47;</code> when the simple change to <code>&#47;.*,(.*)&#47;</code> is just as clear and nearly 100 x faster."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1444235510, "post_id": 32914219, "comment_id": 53820082, "body": "Very detailed answer! Thanks @dawg!"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": true, "score": 3, "last_activity_date": 1443892017, "last_edit_date": 1443892017, "creation_date": 1443812991, "answer_id": 32914219, "question_id": 32913529, "link": "https://stackoverflow.com/questions/32913529/perl-split-and-pop-in-one-line/32914219#32914219", "title": "Perl split and pop in one line", "body": "<p>If your intent is to get the last field after some number of commas, there are multiple way -- some way faster than others. </p>\n\n<p>A greedy regex with a delimiter pattern + field pattern would be common, easy to read, and fast:</p>\n\n<pre><code>/.*(delimiter pattern)(field_pattern)/\n</code></pre>\n\n<p>The <code>.*</code> sucks ups all characters except the last instance of the delimiter. Then the field pattern returns the last field.</p>\n\n<p>Using an anchored split (so that only two parts are returned) is also idiomatic:</p>\n\n<pre><code>my ($lh, $rh)=split(/([^,]+)$/, $string);\n</code></pre>\n\n<p>Now <code>$rh</code> has the last element of the split (and <code>$lh</code> has the part to the left of the last field).</p>\n\n<p>The <em>fastest</em> (if <code>$string</code> is longish and your delimiter is invariant) would be something like:</p>\n\n<pre><code>substr $string, rindex( $string, ',' ) + length ',';\n</code></pre>\n\n<p>Benchmark of these and some other methods for curiosity:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Benchmark;\n\nmy $str;\n\nmy %subs = (\n    regex =&gt; sub {\n        my ($rh) = $str =~ /,([^,]+)$/;\n        return $rh;\n    },\n    greedy_regex =&gt; sub {\n        my ($rh) = $str =~ /.*,([^,]+)$/;\n        return $rh;\n    },\n    split_once =&gt; sub {\n        my ($lh, $rh)=split(/([^,]+)$/, $str, 2);\n        return $rh;\n    },\n    split_slice =&gt; sub {\n        my ($rh) = (split /,/, $str)[-1];\n        return $rh;\n    },\n    pop =&gt; sub {\n        my ($rh) = pop @{[split ',', $str]};\n        return $rh;\n    },\n    rindex =&gt; sub {\n        my ($rh) = substr $str, rindex( $str, ',' ) + length ',';\n        return $rh;\n    }\n);\n\nfor my $n (10, 100, 1000, 10000) {\n    $str=join(',', (1..$n));\n    my @results=();\n    for my $sub (keys %subs) {\n        my $ret=@{[$subs{$sub}()]}[0];\n        if ($ret ne $n){\n            print \"$sub: $ret != $n\\n\";\n        }\n        else {\n            push @results, $sub;\n        }\n    }\n    my $l=length($str);\n    print join(', ', @results),\" all returned  \\\"$n\\\" from a string $l characters long\\n\";\n    Benchmark::cmpthese -1, \\%subs;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>split_once, pop, split_slice, regex, rindex, greedy_regex all returned  \"10\" from a string 20 characters long\n                  Rate     pop split_once split_slice  regex greedy_regex rindex\npop           295080/s      --       -46%        -49%   -57%         -86%   -95%\nsplit_once    546132/s     85%         --         -5%   -21%         -75%   -91%\nsplit_slice   573439/s     94%         5%          --   -17%         -74%   -91%\nregex         689852/s    134%        26%         20%     --         -68%   -89%\ngreedy_regex 2182991/s    640%       300%        281%   216%           --   -65%\nrindex       6230669/s   2012%      1041%        987%   803%         185%     --\n\nsplit_once, pop, split_slice, regex, rindex, greedy_regex all returned  \"100\" from a string 291 characters long\n                  Rate    pop split_slice   regex split_once greedy_regex rindex\npop            29020/s     --        -50%    -54%       -54%         -98%  -100%\nsplit_slice    57961/s   100%          --     -8%        -9%         -96%   -99%\nregex          63015/s   117%          9%      --        -1%         -96%   -99%\nsplit_once     63433/s   119%          9%      1%         --         -96%   -99%\ngreedy_regex 1536000/s  5193%       2550%   2338%      2321%           --   -75%\nrindex       6068148/s 20810%      10369%   9530%      9466%         295%     --\n\nsplit_once, pop, split_slice, regex, rindex, greedy_regex all returned  \"1000\" from a string 3892 characters long\n                  Rate     pop   regex split_once split_slice greedy_regex rindex\npop             3428/s      --    -36%       -40%        -50%         -99%  -100%\nregex           5333/s     56%      --        -7%        -23%         -99%  -100%\nsplit_once      5749/s     68%      8%         --        -17%         -99%  -100%\nsplit_slice     6892/s    101%     29%        20%          --         -98%  -100%\ngreedy_regex  417552/s  12082%   7730%      7163%       5958%           --   -93%\nrindex       6036210/s 176002% 113085%    104894%      87479%        1346%     --\n\nsplit_once, pop, split_slice, regex, rindex, greedy_regex all returned  \"10000\" from a string 48893 characters long\n                  Rate      pop    regex split_once split_slice greedy_regex rindex\npop              355/s       --     -24%       -29%        -51%         -99%  -100%\nregex            465/s      31%       --        -7%        -35%         -99%  -100%\nsplit_once       501/s      41%       8%         --        -30%         -99%  -100%\nsplit_slice      718/s     102%      54%        43%          --         -99%  -100%\ngreedy_regex   59076/s   16530%   12603%     11692%       8126%           --   -99%\nrindex       5770465/s 1624294% 1240731%   1151756%     803382%        9668%     --\n\ngreedy_regex, split_slice, split_once, regex, pop, rindex all returned correctly with \"10000\" from a string 48893 characters long\n                  Rate      pop split_once    regex split_slice greedy_regex rindex\npop              383/s       --       -26%     -26%        -45%         -99%  -100%\nsplit_once       516/s      35%         --      -0%        -26%         -99%  -100%\nregex            519/s      35%         0%       --        -25%         -99%  -100%\nsplit_slice      693/s      81%        34%      34%          --         -99%  -100%\ngreedy_regex   59076/s   15311%     11349%   11293%       8425%           --   -99%\nrindex       6109904/s 1593788%   1183990% 1178239%     881582%       10242%     --\n</code></pre>\n\n<p>You can see that <a href=\"http://perldoc.perl.org/functions/rindex.html\" rel=\"nofollow\">rindex</a> is by far the fastest with a greedy regex a very useable second. If the string are few and short, I suppose you can use any that balance out idiom and readability and that is your solution. </p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1725, "favorite_count": 0, "accepted_answer_id": 32914219, "answer_count": 4, "score": 3, "last_activity_date": 1567956859, "creation_date": 1443810456, "last_edit_date": 1567956859, "question_id": 32913529, "link": "https://stackoverflow.com/questions/32913529/perl-split-and-pop-in-one-line", "title": "Perl split and pop in one line", "body": "<p>I'm trying to split a string and pop a value off of the returned array.  How can I do this in one line?</p>\n\n<pre><code>my $string = 'test,string';\n\n# Split and pop in one line\nmy $val = pop [split ',', $string];\n\nprint $val;\n</code></pre>\n\n<p>The result should be <code>'string'</code> but instead I am getting this:</p>\n\n<blockquote>\n  <p>Type of arg 1 to pop must be array (not anonymous list ([]))</p>\n</blockquote>\n\n<hr>\n\n<p>Here's my Perl version information in case it helps:</p>\n\n<blockquote>\n  <p>This is perl, v5.8.8 built for x86_64-linux-thread-multi</p>\n</blockquote>\n"}, {"tags": ["perl", "hash", "unique"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443810379, "post_id": 32912013, "comment_id": 53654863, "body": "Why can you not use your database query to filter this?"}, {"owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "edited": false, "score": 0, "creation_date": 1443874454, "post_id": 32912013, "comment_id": 53671572, "body": "There are time when you have complex queries including subqueries that are not easily represented in SQL."}], "answers": [{"tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": false, "score": 0, "last_activity_date": 1443874741, "creation_date": 1443874741, "answer_id": 32922472, "question_id": 32912013, "link": "https://stackoverflow.com/questions/32912013/loop-through-sql-result-with-duplicate-values-and-show-only-line-with-some-strin/32922472#32922472", "title": "loop through sql result with duplicate values and show only line with some string with perl", "body": "<p>When you have a list of values that you wish to find the unique values for you can populate a hash along these lines:</p>\n\n<pre><code>my $hashref = {}; ## initialise an empty hashref .. nb I prefer to work with refs but you could use has hash type variable\n\nforeach my $row ( $rows )\n{\n  $hashref-&gt;{$row} = 1;\n}\n</code></pre>\n\n<h2>now you have a hasref that is indexed by unique keys so you can do the following</h2>\n\n<pre><code>print join(\",\",  keys %$hashref );\n</code></pre>\n\n<p>or</p>\n\n<pre><code>foreach my $unique_key ( sort keys %$hashref )\n{\n  print \"$unique key in sorted order\\n\";\n}\n</code></pre>\n\n<p>In your case you could use the string with the fields concatenated or you could just use the values that you wish to make unique and then assign something containing the entire row detail you are interested in place of the 1 value used above as a placeholder. You are then able to retrieve the full row detail with something like  <code>$hashref-&gt;{$unique_key}</code></p>\n"}], "owner": {"reputation": 540, "user_id": 5046468, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-_MJIiKu6U44/AAAAAAAAAAI/AAAAAAAAAB0/X1g73J1CrQ4/photo.jpg?sz=128", "display_name": "Mi Ro", "link": "https://stackoverflow.com/users/5046468/mi-ro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1443874741, "creation_date": 1443804499, "question_id": 32912013, "link": "https://stackoverflow.com/questions/32912013/loop-through-sql-result-with-duplicate-values-and-show-only-line-with-some-strin", "title": "loop through sql result with duplicate values and show only line with some string with perl", "body": "<p>I am selecting from sql three values, hostname, place, message, assigning them to hashref and then in loop printing into file. Before I print it I have to clean the message as it contains in DB plenty of mess like html tags etc</p>\n\n<pre><code>while (my $result = $sth_get_message-&gt;fetchrow_hashref) {\n    my $message = $result-&gt;{MESSAGE};\n    $message =~ s/&lt;[^&gt;]*&gt;//g;\n    $message =~ s/\\n/ /g;\n    $message =~ s/&amp;nbsp;|&amp;quot;/ /g;\n    $message =~ s/\\r//g;\n\n    my $message_out;\n    if (index($message, 'removed') != -1) {$message_out = $message;} else {$message_out= \"\";}\n\n    my $pc = $result-&gt;{PC};\n    my $place = $result-&gt;{PLACE};\n    print OUT \"$pc|$message_out|$place\\n\";\n</code></pre>\n\n<p>}</p>\n\n<p>the result is like this</p>\n\n<pre><code>pc1||place\npc2|message with word removed|place\npc3||place\npc3|message with word removed|place\npc4||place\npc4||place\npc4|message with word removed|place\n</code></pre>\n\n<p>some of them have more messages, but only one is relevant, so rest is cleaned but I have duplicates of pc's. What I want to get is to have unique pc list and if it has no message ok, show blank, if it has message with removed, show only this line</p>\n\n<pre><code>pc1||place\npc2|message with word removed|place\npc3|message with word removed|place\npc4|message with word removed|place\n</code></pre>\n\n<p>as far as I understood perl hashes this should be possible if I put pc as a key and then work with values but I have no clue how</p>\n\n<p>thanks for help</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 2, "creation_date": 1443802571, "post_id": 32911373, "comment_id": 53650936, "body": "Can you post a sample data and your expected output?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1443802591, "post_id": 32911373, "comment_id": 53650948, "body": "POst the actual input here."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443802928, "post_id": 32911373, "comment_id": 53651123, "body": "Needs more input. But I think the answer will be - don&#39;t try and regex like that. Some more code indicating what you&#39;re actually doing might help too."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443803355, "post_id": 32911373, "comment_id": 53651333, "body": "I would suggest - don&#39;t do it in a multi line document, and instead use multiple regexes."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443805456, "post_id": 32911373, "comment_id": 53652433, "body": "The gotcha with negative matching is usually greedy regular expressions. Because you are trying to find <i>somewhere</i> the condition <i>is</i> true, not a place where it isn&#39;t."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1443806652, "post_id": 32911373, "comment_id": 53652978, "body": "Your negative lookahead is optional because it&#39;s wrapped in a <code>( )*</code> group, which allows zero matches."}, {"owner": {"reputation": 15131, "user_id": 166838, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0c01a983961c34967d0ccedda9eb7d49?s=128&d=identicon&r=PG", "display_name": "Elf Sternberg", "link": "https://stackoverflow.com/users/166838/elf-sternberg"}, "edited": false, "score": 0, "creation_date": 1443811120, "post_id": 32911373, "comment_id": 53655246, "body": "Thank you, melpomene.  That correctly identified the problem.  It was idiocy on my part."}], "answers": [{"comments": [{"owner": {"reputation": 15131, "user_id": 166838, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0c01a983961c34967d0ccedda9eb7d49?s=128&d=identicon&r=PG", "display_name": "Elf Sternberg", "link": "https://stackoverflow.com/users/166838/elf-sternberg"}, "edited": false, "score": 0, "creation_date": 1443806587, "post_id": 32911697, "comment_id": 53652957, "body": "While I appreciate that, this is WAY overkill.  All I want is a prefilter; given a collection of documents with the phrase &quot;EventCode=4662&quot;, I want to match every one <i>except</i> those that contain the phrase &quot;Object Type: groupPolicyContainer&quot;.  It doesn&#39;t seem like that should be a hard test."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15131, "user_id": 166838, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0c01a983961c34967d0ccedda9eb7d49?s=128&d=identicon&r=PG", "display_name": "Elf Sternberg", "link": "https://stackoverflow.com/users/166838/elf-sternberg"}, "edited": false, "score": 0, "creation_date": 1443808369, "post_id": 32911697, "comment_id": 53653855, "body": "Actually, I would call a really complex regex the overkill. Just because it looks concise, doesn&#39;t mean it isn&#39;t doing a lot of work to match. But as you will. Two regexs is probably an alternative solution. But also is hard to answer without some sample input."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1443809331, "last_edit_date": 1443809331, "creation_date": 1443803326, "answer_id": 32911697, "question_id": 32911373, "link": "https://stackoverflow.com/questions/32911373/perl-regex-negative-look-ahead-with-a-multi-line-document/32911697#32911697", "title": "Perl Regex: Negative look-ahead with a multi-line document?", "body": "<p>Personally - I think you're fixating on a single regex approach a little too much. I would suggest that instead - parse the object into a hash, then test the relevant keys of the hash. </p>\n\n<p>The problem with regex is that it tries hard to match. If it fails, it back tracks and looks for other potential match points. So in a multi line, might skip to the next record looking for a chunk that does match, especially if you have multi line greedy matching. </p>\n\n<p>You can see what is happening with </p>\n\n<pre><code>use re 'debug';\n</code></pre>\n\n<p>Which will show you what the regex engine is doing.</p>\n\n<p>But generally I would suggest that given you have perl, trying to make a winning regex is needlessly painful.</p>\n\n<p>I know it's not quite what you asked, but hopefully this illustrates what I mean</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nlocal $/; #set this to your record separator, and you can\n          #use this with a while loop too!\nmy %this_object = &lt;DATA&gt; =~ m/^\\s*(.*): (.*)$/gm;\nprint Dumper \\%this_object;\n\nif (    $this_object{'Handle ID'} eq '0x178'\n    and $this_object{'Object Type'} eq 'File' )\n{\n    print \"Matches this criteria\\n\";\n}\n\n__DATA__\nSubject:\n  Security ID: LB\\administrator\n  Account Name: administrator\n  Account Domain: LB\n  Logon ID: 0x3DE02\n\nObject:\n  Object Server: Security\n  Object Type: File\n  Object Name: C:\\asdf\\New Text Document.txt\n  Handle ID: 0x178\n  Resource Attributes: S:AI\n\n\nProcess Information:\n  Process ID: 0x113c\n  Process Name: C:\\Windows\\System32\\notepad.exe\n\nAccess Request Information:\n  Accesses: WriteData (or AddFile)\n    AppendData (or AddSubdirectory or CreatePipeInstance)\n    Access Mask: 0x6\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>$VAR1 = {\n          'Logon ID' =&gt; '0x3DE02',\n          'Process ID' =&gt; '0x113c',\n          'Process Name' =&gt; 'C:\\\\Windows\\\\System32\\\\notepad.exe',\n          'Resource Attributes' =&gt; 'S:AI',\n          'Account Domain' =&gt; 'LB',\n          'Accesses' =&gt; 'WriteData (or AddFile)',\n          'Security ID' =&gt; 'LB\\\\administrator',\n          'Access Mask' =&gt; '0x6',\n          'Object Type' =&gt; 'File',\n          'Object Name' =&gt; 'C:\\\\asdf\\\\New Text Document.txt',\n          'Object Server' =&gt; 'Security',\n          'Account Name' =&gt; 'administrator',\n          'Handle ID' =&gt; '0x178'\n        };\nMatches this criteria\n</code></pre>\n\n<p>But if that's 'too overkill' then how about this instead?:</p>\n\n<pre><code>if (    $thing =~ m/EventCode: 4666/\n    and not $thing =~ m/groupPolicyContainer/ ) {\n    print \"Matches this criteria\\n\";\n}\n</code></pre>\n\n<p>Saves having to figure out negative regex matching, and is probably more efficient too, because it'll not need to backtrack. </p>\n"}], "owner": {"reputation": 15131, "user_id": 166838, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0c01a983961c34967d0ccedda9eb7d49?s=128&d=identicon&r=PG", "display_name": "Elf Sternberg", "link": "https://stackoverflow.com/users/166838/elf-sternberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1443809331, "creation_date": 1443802120, "last_edit_date": 1495540311, "question_id": 32911373, "link": "https://stackoverflow.com/questions/32911373/perl-regex-negative-look-ahead-with-a-multi-line-document", "title": "Perl Regex: Negative look-ahead with a multi-line document?", "body": "<p>I'm trying to parse some Microsoft logging information.  The logs come as big blobs of supposedly \"human readable\" text, examples of which can be seen at the <a href=\"https://www.ultimatewindowssecurity.com/securitylog/encyclopedia/event.aspx?eventID=4663\" rel=\"nofollow noreferrer\">Windows Security Blog</a>, and there is a specific event that I want to exclude from my analysis, namely \"An operation was performed on an object\" when the object in question is a groupPolicyContainer.</p>\n\n<p>Here's my regular expression and test code:</p>\n\n<pre><code>my $re = qr/(?ms)EventCode=(4662)[^\\d].*Object Type:\\s*((?!groupPolicyContainer)\\S)*/;\nif ($sample1 =~ $re) { print \"Matches -- should not have\\n\"; }\nif ($sample2 =~ $re) { print \"Matches -- and should have!\\n\"; }\n</code></pre>\n\n<p><code>$sample1</code> contains the phrase <code>Object Type: groupPolicyContainer</code> and <code>$sample2</code> contains the phrase <code>Object Type: Key</code>. (They both have the same EventCode; this is a contrived test case.)  If you look at the link, you can see that there's a lot of text surrounding the two key phrases, \"EventCode\" and \"Object Type\".  \"Object Type\" does not occur more than once per log entry (in my contrived test case).</p>\n\n<p>The regular expression says: both match.  My expectation is that the first should not match, since it contains the negated phrase!  I attempted to implement the code shown in a <a href=\"https://stackoverflow.com/questions/406230/regular-expression-to-match-line-that-doesnt-contain-a-word\">previous Stack Overflow response</a>, and it doesn't seem to be working; the only difference between that example and mine is that mine operates on a multi-line document.  </p>\n\n<p>I've tried every possible combination of <code>(?ms)</code> I could think of! Is there something special I have to do to make this work in a multi-line document?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1443802591, "last_edit_date": 1443802591, "creation_date": 1443802038, "answer_id": 32911350, "question_id": 32911246, "link": "https://stackoverflow.com/questions/32911246/regex-to-add-character-after-decimal-in-perl/32911350#32911350", "title": "Regex to add character after decimal in Perl?", "body": "<p>Go for lazy:</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\n\nwhile ( &lt;DATA&gt; ) { \n    print join ( \", \", m/([\\d\\.]+)/g ); \n}\n\n__DATA__\n0.00, 0.53, 1.53, 0.00 0.52, 243.21 \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0.00, 0.53, 1.53, 0.00, 0.52, 243.21\n</code></pre>\n\n<p>This works by:</p>\n\n<ul>\n<li>repeat matching \"digits and dots\" into an array</li>\n<li>then prints that with comma separation. <code>join</code> doesn't insert a\ntrailing delimiter.</li>\n</ul>\n\n<p>So to take your code:</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\n\nfor my $file (glob '*.csv') {\n    open my $in, '&lt;', $file or die $!;\n    open my $out, '&gt;', \"$file.new\" or die $!; \n\n    while (&lt;$in&gt;) {\n        print {$out} join ( \", \", m/([\\d\\.]+)/g ); \n    }\n}\n</code></pre>\n\n<p>This works because each iteration of the <code>while</code> loop automagically sets the implicit variable <code>$_</code> to \"the current line\". <code>m</code> and <code>s</code> regular expressions (along with a bunch of other perl functions) act on <code>$_</code> by default. </p>\n\n<p>So you could rewrite that as:</p>\n\n<pre><code>while ( my $line = &lt;$in&gt; ) {\n    my @stuff = $line =~ m/([\\d\\.]+)/g;\n    print {$out} join ( \",\", @stuff );\n}\n</code></pre>\n\n<p>Implicit variables are nice for some things, but be wary of them - only use them if they make code more clear. </p>\n\n<p>To answer your inlined queries:</p>\n\n<blockquote>\n  <h1>Am I overwritting my lines here?</h1>\n</blockquote>\n\n<p>No - that <code>print \",\"</code> is writing to STDOUT. That's not changing your file at all. (But neither is it actually doing anything useful). </p>\n\n<p>You would have to use <code>s</code> pattern to search/replace on <code>$_</code> - the current line - and then <code>push</code> that into <code>@lines</code>. </p>\n\n<p>I think you're misunderstanding a couple of basic concepts here though:</p>\n\n<ul>\n<li><code>@lines</code> is nothing to do with <code>$line</code>. You don't actually do anything to <code>@lines</code> so it'll be empty when you print it. </li>\n<li>Your <code>while</code> and <code>print</code> loop - doesn't do anything. The <code>m</code> regular expression <em>does</em> apply to <code>$_</code> which is set implicitly to \"current line\" by the while loop. But you do nothing to actually change this value. </li>\n<li><code>$line =~</code> ... transforms <code>$line</code>. But <code>$line</code> doesn't exist, so nothing happens. </li>\n</ul>\n\n<p>You really should be adding <code>use strict;</code> and <code>use warnings</code> to the start of your program, because you would be warned about these things. </p>\n"}, {"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 0, "last_activity_date": 1443802099, "creation_date": 1443802099, "answer_id": 32911363, "question_id": 32911246, "link": "https://stackoverflow.com/questions/32911246/regex-to-add-character-after-decimal-in-perl/32911363#32911363", "title": "Regex to add character after decimal in Perl?", "body": "<p>I don't speak perl, but in principle:</p>\n\n<pre><code>Search: (?&lt;=\\.\\d\\d)(?= \\d)\nReplace: ,\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1443819189, "creation_date": 1443819189, "answer_id": 32915698, "question_id": 32911246, "link": "https://stackoverflow.com/questions/32911246/regex-to-add-character-after-decimal-in-perl/32915698#32915698", "title": "Regex to add character after decimal in Perl?", "body": "<p>If you can install Tie::File you can do this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Tie::File;\n\nfor my $file (glob '*.csv') {\n    tie my @file, 'Tie::File', $file or die $!;\n        s/(\\d)(\\s+\\d)/$1,$2/g foreach (@file);\n    untie @file;\n}\n</code></pre>\n\n<p>Note that this will modify the original files.\nTie::File reads the file into array and allows you to modify data.</p>\n"}], "owner": {"reputation": 157, "user_id": 5237185, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kADBj.png?s=128&g=1", "display_name": "JDY", "link": "https://stackoverflow.com/users/5237185/jdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 32911350, "answer_count": 3, "score": 0, "last_activity_date": 1443819189, "creation_date": 1443801659, "last_edit_date": 1443802191, "question_id": 32911246, "link": "https://stackoverflow.com/questions/32911246/regex-to-add-character-after-decimal-in-perl", "title": "Regex to add character after decimal in Perl?", "body": "<p>I have a list of 500 files or so of messy data sets (.csv) that look like the following:</p>\n\n<pre><code>0.00, 0.53, 1.53, 0.00 0.52, 243.21 \n... etc etc. \n</code></pre>\n\n<p>I would like:</p>\n\n<pre><code>0.00, 0.53, 1.53, 0.00, 0.52, 243.21 \n</code></pre>\n\n<p>In perl (or bash), how would I match everything after a decimal, and, IF there is <strong>whitespace</strong> followed by another <strong>number</strong>, then I would insert a comma after the first number? </p>\n\n<p>i.e. <code>0.00 0.52</code> into <code>0.00, 0.52</code></p>\n\n<p>I'm a beginner to perl and programming in general, so I'm not quite understanding how to use this correctly.\nI found that the regex <code>[0-9]+(\\.[0-9][0-9]?)?</code>should work for two decimal places, but what about more decimals? Is it simply <code>[0-9]+(\\.[0-9]+?)?</code></p>\n\n<p>My unsuccessful attempt: </p>\n\n<pre><code>for my $file (glob '*.csv') {\n    open my $in, '&lt;', $file;        \n    my @lines;\n    while (&lt;$in&gt;) {\n        while(/^[0-9]+(\\.[0-9]+)?$/g){\n            print \",\";      # Am I overwritting my lines here?  \n        }\n        $line =~ s/,,/,/g; # Get rid of any double commas that appear now\n    }\n    close $in;\n    open my $out, '&gt;', $file;\n    print $out $_ for @lines;\n    close $out;\n}\n</code></pre>\n\n<p>I think I am not matching/printing correctly -- any help is appreciated, including more elegant solutions.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["arrays", "perl", "hash", "data-dumper"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1443799295, "post_id": 32910487, "comment_id": 53649034, "body": "You&#39;ll probably get better results with another approach to xml parsing."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1443799466, "post_id": 32910487, "comment_id": 53649149, "body": "How is your data structure being generated?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443799546, "post_id": 32910487, "comment_id": 53649209, "body": "That looks like <code>XML::Simple</code> has been vandalising it."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1443800029, "post_id": 32910487, "comment_id": 53649514, "body": "The return from <code>Data::Dumper</code> is a string. It is good for visualizing data structures but you would want to access the elements of the data structure itself, not through <code>Data::Dumper</code>."}, {"owner": {"reputation": 71, "user_id": 2671311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcfuz.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/2671311/joseph"}, "edited": false, "score": 0, "creation_date": 1443800712, "post_id": 32910487, "comment_id": 53649899, "body": "I&#39;ve updated the question to include the perl script itself."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443801013, "post_id": 32910487, "comment_id": 53650101, "body": "I&#39;d suggest turning on <code>use strict;</code> <code>use warnings;</code>. But also - could you <code>print $value</code> and update the question with the output? I think that should be some raw, unparsed XML, which&#39;ll help me give you an answer that works."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443801114, "post_id": 32910487, "comment_id": 53650168, "body": "Hah: <code>use XML::Simple;</code> -&gt; from <a href=\"http://cpansearch.perl.org/src/BLACKWIND/NDFD-Weather-Report/lib/NDFD/Weather/Report.pm\" rel=\"nofollow noreferrer\">cpansearch.perl.org/src/BLACKWIND/NDFD-Weather-Report/lib/ND&zwnj;&#8203;FD/&hellip;</a>"}, {"owner": {"reputation": 71, "user_id": 2671311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcfuz.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/2671311/joseph"}, "edited": false, "score": 0, "creation_date": 1443819643, "post_id": 32910487, "comment_id": 53659436, "body": "I was able to come up with a better solution with some slightly different syntax:  $result=XML::Simple-&gt;new()-&gt;XMLin($value)   Then    Dumper($result);  returned something I could use.  I&#39;m now getting all the values properly.   Thanks for all the help/ideas!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1443889226, "post_id": 32910487, "comment_id": 53675909, "body": "It&#39;ll work, but seriously - don&#39;t. <code>XML::Simple</code> recommends not using <code>XML::Simple</code>. I would suggest reposting an XML parsing question for extracting the data you desire - there are better ways to do it."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2671311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcfuz.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/2671311/joseph"}, "edited": false, "score": 0, "creation_date": 1443800729, "post_id": 32910681, "comment_id": 53649907, "body": "I&#39;ve updated the question to include the perl script itself."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 71, "user_id": 2671311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcfuz.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/2671311/joseph"}, "edited": false, "score": 0, "creation_date": 1443800962, "post_id": 32910681, "comment_id": 53650070, "body": "Edited my answer. Would be useful if you could run <code>print $value;</code> and add the XML to your question, just so I can test it properly."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1443813863, "last_edit_date": 1443813863, "creation_date": 1443799796, "answer_id": 32910681, "question_id": 32910487, "link": "https://stackoverflow.com/questions/32910487/accessing-variables-returned-from-perl-dumper/32910681#32910681", "title": "Accessing variables returned from perl: Dumper", "body": "<p>You appear to be using <code>XML::Parser-&gt;new(Style =&gt; 'Tree')</code>. This parser's interface is rather simplistic, which is a nice way to say it's not very user-friendly. You can figure out how to do it by counting the brackets:</p>\n\n<pre><code>$VAR -&gt; [2][0][2][0][1]{'srsName'}; \n</code></pre>\n\n<p>But seriously, there are far friendlier options. Just use <code>XML::Twig</code> or <code>XML::LibXML</code> because then the above becomes:</p>\n\n<pre><code> $twig -&gt; findnodes('//srsName',0)-&gt;trimmed_text; \n</code></pre>\n\n<p>(or something similar - like I say, give us some XML and we can give you an exact answer). </p>\n\n<p>Edit:</p>\n\n<p>Like this (NB: Untested, because I can't get that module to download):</p>\n\n<pre><code> use XML::Twig; \n\n my $value= $result-&gt;LatLonListCityNames;\n my $twig = XML::Twig -&gt; parse ( $value ); \n\n my $srsName_element = $twig -&gt; findnodes ( '//srsName', 0 );\n $srsName_element -&gt; print;\n print $srsName_element -&gt; trimmed_text;  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 2671311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcfuz.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/2671311/joseph"}, "edited": false, "score": 0, "creation_date": 1443992185, "post_id": 32910700, "comment_id": 53702018, "body": "Thanks for that explanation.  It was actually very helpful in finding how to get to those values.  But I ended up finding a better solution:   $result=XML::Simple-&gt;new()-&gt;XMLin($value) Then Dumper($result); returned something I could use."}], "tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": false, "score": 0, "last_activity_date": 1443802580, "last_edit_date": 1443802580, "creation_date": 1443799862, "answer_id": 32910700, "question_id": 32910487, "link": "https://stackoverflow.com/questions/32910487/accessing-variables-returned-from-perl-dumper/32910700#32910700", "title": "Accessing variables returned from perl: Dumper", "body": "<p>The reason you are having trouble is because <code>[</code> means that the data is contained in an array reference, not a hash reference, so it must be accessed differently.</p>\n\n<p>Lets try and break this down (replacing all the contents with placeholders)</p>\n\n<pre><code>$VAR1 = [\n          0 (string),\n          1 (hash  ),\n      --&gt; 2 (array ) [\n                   --&gt; 0 (array) [\n                                   0 (string),\n                                   1 (hash  ),\n                               --&gt; 2 (array ) [\n                                            --&gt; 0 (array) [\n                                                            0 (string )\n                                                        --&gt; 1 (hash   ) {\n                                                                      --&gt; 'srsName' =&gt; $val\n</code></pre>\n\n<p>Simply follow the <code>--&gt;</code>'s.  Each one points to the next element you must access to traverse the data structure.</p>\n\n<p>I have not tested this, but it appears that it can be accessed through</p>\n\n<p><code>my $srsName = $xml_handler1-&gt;[2][0][2][0][1]{'srsName'};</code></p>\n\n<p>As many others have said though, using <code>Data::Dumper</code> and manually accessing the data is clearly not a good way to parse XML.  I personally am not familiar with the \"proper\" methods you should use to do this, but I suggest you read the comments and take a look at Sobrique's answer.</p>\n\n<hr>\n\n<p>On a side note...  You should <strong>ALWAYS</strong> add <code>use strict</code> and <code>use warnings</code> to the top of your scripts and define all variables lexically using <code>my</code>.  It prevents bad coding habits and can save you a lot of headaches trying to debug code with hard to find problems.</p>\n\n<p>For a list of reasons why check out this <a href=\"http://www.perlmonks.org/?node_id=111088\" rel=\"nofollow\">article</a>.</p>\n"}], "owner": {"reputation": 71, "user_id": 2671311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcfuz.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/2671311/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1443813863, "creation_date": 1443799121, "last_edit_date": 1443801974, "question_id": 32910487, "link": "https://stackoverflow.com/questions/32910487/accessing-variables-returned-from-perl-dumper", "title": "Accessing variables returned from perl: Dumper", "body": "<p>I'm having problems accessing elements/arrays returned from perl Data::Dumper.  I'm able to access results such as these:</p>\n\n<pre><code>$VAR1 = {\n      'head' =&gt; {\n                'source' =&gt; {\n                            'credit-logo' =&gt; 'foo',\n                            'feedback' =&gt; 'bar',\n                            'more-information' =&gt; 'google',\n</code></pre>\n\n<p>And with the following line, I can get the 'credit-logo' value:</p>\n\n<pre><code>$credit=        $result-&gt;{head}-&gt;{'source'}-&gt;{'credit-logo'};\n</code></pre>\n\n<p>However, I'm having trouble with the following, where the whole thing starts with a \"[\" instead of a \"{\":</p>\n\n<pre><code>$VAR1 = [\n      'dwml',\n      {\n        'xmlns:xsi' =&gt; 'http://www.w3.org/2001/XMLSchema-instance',\n        'version' =&gt; '1.0',\n        'xmlns:xsd' =&gt; 'http://www.w3.org/2001/XMLSchema',\n        'xsi:noNamespaceSchemaLocation' =&gt; 'site'\n      },\n      [\n        [\n          'head',\n          {},\n          [\n            [\n              'product',\n              {\n                'concise-name' =&gt; 'time-series',\n                'srsName' =&gt; 'WGS 1984',\n                'operational-mode' =&gt; 'official'\n</code></pre>\n\n<p>In the above, how would I access the 'srsName' value?</p>\n\n<p>No matter what I try, I get messages about the value not being a HASH or ARRAY.</p>\n\n<p>--\nMy original script is trying to get forecast data from NWS:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse NDFD::Weather::Report;\nuse Data::Dumper;\n\n\n$result=NDFD::Weather::Processer-&gt;new(\n\n    listLatLon=&gt;'30.3369,-81.6614',\n    product=&gt;'time-series',\n    Unit=&gt;'m',\n    maxt =&gt;0,\n    mint =&gt;0,\n    temp =&gt;1,\n    dew =&gt;1,\n    pop12 =&gt;0,\n    qpf =&gt;0,\n    sky =&gt;1,\n    snow =&gt;0,\n    wspd =&gt;1,\n    wdir =&gt;1,\n    wx =&gt;1,\n    waveh =&gt;0,\n    icons =&gt;0,\n    rh =&gt;0,\n    appt =&gt;0,\n    incw34 =&gt;0,\n    incw50 =&gt;0,\n    incw64 =&gt;0,\n    cumw34 =&gt;0,\n    cumw50 =&gt;0,\n    cumw64 =&gt;0,\n    conhazo =&gt;0,\n    ptornado =&gt;0,\n    phail =&gt;0,\n    ptstmwinds =&gt;0,\n    pxtornado =&gt;0,\n    pxhail =&gt;0,\n    pxtstmwinds =&gt;0,\n    ptotsvrtstm =&gt;0,\n    pxtotsvrtstm =&gt;0,\n    tmpabv14d =&gt;0,\n    tmpblw14d =&gt;0,\n    tmpabv30d =&gt;0,\n    tmpblw30d =&gt;0,\n    tmpabv90d =&gt;0,\n    tmpblw90d =&gt;0,\n    prcpabv14d =&gt;0,\n    prcpblw14d =&gt;0,\n    prcpabv30d =&gt;0,\n    prcpblw30d =&gt;0,\n    prcpabv90d =&gt;0,\n    prcpblw90d =&gt;0,\n    precipa_r =&gt;0,\n    sky_r =&gt;0,\n    td_r =&gt;0,\n    temp_r =&gt;0,\n    wdir_r =&gt;0,\n    wspd_r =&gt;0,\n    wgust =&gt;0\n\n);\n$value= $result-&gt;NDFDgenLatLonList;\n$xml_handler1=$result-&gt;Parse_XML_Data_decode($value);\n\n\nprint Dumper $xml_handler1;\n</code></pre>\n\n<p>My goal is to extract the values returned from that Dumper response.</p>\n\n<p>Here is the XML returned, by adding:  print $value;</p>\n\n<p>--</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;dwml version=\"1.0\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"http://www.nws.noaa.gov/forecasts/xml/DWMLgen/schema/DWML.xsd\"&gt;\n&lt;head&gt;\n&lt;product srsName=\"WGS 1984\" concise-name=\"time-series\" operational-mode=\"official\"&gt;\n  &lt;title&gt;NOAA's National Weather Service Forecast Data&lt;/title&gt;\n  &lt;field&gt;meteorological&lt;/field&gt;\n  &lt;category&gt;forecast&lt;/category&gt;\n  &lt;creation-date refresh-frequency=\"PT1H\"&gt;2015-10-02T15:56:10Z&lt;/creation-date&gt;\n &lt;/product&gt;\n &lt;source&gt;\n  &lt;more-information&gt;http://www.nws.noaa.gov/forecasts/xml/&lt;/more-information&gt;\n  &lt;production-center&gt;Meteorological Development Laboratory&lt;sub-center&gt;Product Generation Branch&lt;/sub-center&gt;&lt;/production-center&gt;\n  &lt;disclaimer&gt;http://www.nws.noaa.gov/disclaimer.html&lt;/disclaimer&gt;\n  &lt;credit&gt;http://www.weather.gov/&lt;/credit&gt;\n  &lt;credit-logo&gt;http://www.weather.gov/images/xml_logo.gif&lt;/credit-logo&gt;\n  &lt;feedback&gt;http://www.weather.gov/feedback.php&lt;/feedback&gt;\n&lt;/source&gt;\n&lt;/head&gt;\n&lt;data&gt;\n&lt;location&gt;\n  &lt;location-key&gt;point1&lt;/location-key&gt;\n  &lt;point latitude=\"30.34\" longitude=\"-81.66\"/&gt;\n&lt;/location&gt;\n&lt;moreWeatherInformation applicable- &gt;\n&lt;time-layout time-coordinate=\"local\" summarization=\"none\"&gt;\n  &lt;layout-key&gt;k-p3h-n35-1&lt;/layout-key&gt;\n  &lt;start-valid-time&gt;2015-10-02T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-02T17:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-02T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-02T23:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T05:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T11:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T17:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T23:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T05:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T11:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T17:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-05T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-05T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-05T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-05T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-06T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-06T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-06T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-06T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-07T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-07T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-07T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-07T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-08T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-08T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-08T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-08T20:00:00-04:00&lt;/start-valid-time&gt;\n&lt;/time-layout&gt;\n&lt;time-layout time-coordinate=\"local\" summarization=\"none\"&gt;\n  &lt;layout-key&gt;k-p3h-n19-2&lt;/layout-key&gt;\n  &lt;start-valid-time&gt;2015-10-02T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-02T17:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-02T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-02T23:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T05:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T11:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T17:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T20:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-03T23:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T02:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T05:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T08:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T11:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T14:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T17:00:00-04:00&lt;/start-valid-time&gt;\n  &lt;start-valid-time&gt;2015-10-04T20:00:00-04:00&lt;/start-valid-time&gt;\n&lt;/time-layout&gt;\n&lt;parameters applicable-location=\"point1\"&gt;\n  &lt;temperature type=\"hourly\" units=\"Celsius\" time-layout=\"k-p3h-n35-1\"&gt;\n    &lt;name&gt;Temperature&lt;/name&gt;\n    &lt;value&gt;23&lt;/value&gt;\n    &lt;value&gt;23&lt;/value&gt;\n    &lt;value&gt;21&lt;/value&gt;\n    &lt;value&gt;20&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;23&lt;/value&gt;\n    &lt;value&gt;26&lt;/value&gt;\n    &lt;value&gt;25&lt;/value&gt;\n    &lt;value&gt;22&lt;/value&gt;\n    &lt;value&gt;21&lt;/value&gt;\n    &lt;value&gt;20&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;24&lt;/value&gt;\n    &lt;value&gt;26&lt;/value&gt;\n    &lt;value&gt;26&lt;/value&gt;\n    &lt;value&gt;22&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;27&lt;/value&gt;\n    &lt;value&gt;23&lt;/value&gt;\n    &lt;value&gt;21&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;27&lt;/value&gt;\n    &lt;value&gt;23&lt;/value&gt;\n    &lt;value&gt;21&lt;/value&gt;\n    &lt;value&gt;20&lt;/value&gt;\n    &lt;value&gt;27&lt;/value&gt;\n    &lt;value&gt;24&lt;/value&gt;\n    &lt;value&gt;22&lt;/value&gt;\n    &lt;value&gt;21&lt;/value&gt;\n    &lt;value&gt;28&lt;/value&gt;\n    &lt;value&gt;24&lt;/value&gt;\n  &lt;/temperature&gt;\n  &lt;temperature type=\"dew point\" units=\"Celsius\" time-layout=\"k-p3h-n35-1\"&gt;\n    &lt;name&gt;Dew Point Temperature&lt;/name&gt;\n    &lt;value&gt;20&lt;/value&gt;\n    &lt;value&gt;20&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;17&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;18&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;19&lt;/value&gt;\n    &lt;value&gt;20&lt;/value&gt;\n  &lt;/temperature&gt;\n  &lt;wind-speed type=\"sustained\" units=\"meters/second\" time-layout=\"k-p3h-n35-1\"&gt;\n    &lt;name&gt;Wind Speed&lt;/name&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;3&lt;/value&gt;\n    &lt;value&gt;2&lt;/value&gt;\n    &lt;value&gt;3&lt;/value&gt;\n    &lt;value&gt;3&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;3&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;3&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n  &lt;/wind-speed&gt;\n  &lt;direction type=\"wind\" units=\"degrees true\" time-layout=\"k-p3h-n35-1\"&gt;\n    &lt;name&gt;Wind Direction&lt;/name&gt;\n    &lt;value&gt;0&lt;/value&gt;\n    &lt;value&gt;360&lt;/value&gt;\n    &lt;value&gt;340&lt;/value&gt;\n    &lt;value&gt;340&lt;/value&gt;\n    &lt;value&gt;320&lt;/value&gt;\n    &lt;value&gt;310&lt;/value&gt;\n    &lt;value&gt;300&lt;/value&gt;\n    &lt;value&gt;280&lt;/value&gt;\n    &lt;value&gt;280&lt;/value&gt;\n    &lt;value&gt;270&lt;/value&gt;\n    &lt;value&gt;280&lt;/value&gt;\n    &lt;value&gt;280&lt;/value&gt;\n    &lt;value&gt;270&lt;/value&gt;\n    &lt;value&gt;260&lt;/value&gt;\n    &lt;value&gt;240&lt;/value&gt;\n    &lt;value&gt;250&lt;/value&gt;\n    &lt;value&gt;250&lt;/value&gt;\n    &lt;value&gt;240&lt;/value&gt;\n    &lt;value&gt;240&lt;/value&gt;\n    &lt;value&gt;260&lt;/value&gt;\n    &lt;value&gt;300&lt;/value&gt;\n    &lt;value&gt;350&lt;/value&gt;\n    &lt;value&gt;360&lt;/value&gt;\n    &lt;value&gt;350&lt;/value&gt;\n    &lt;value&gt;350&lt;/value&gt;\n    &lt;value&gt;10&lt;/value&gt;\n    &lt;value&gt;10&lt;/value&gt;\n    &lt;value&gt;20&lt;/value&gt;\n    &lt;value&gt;10&lt;/value&gt;\n    &lt;value&gt;30&lt;/value&gt;\n    &lt;value&gt;40&lt;/value&gt;\n    &lt;value&gt;40&lt;/value&gt;\n    &lt;value&gt;40&lt;/value&gt;\n    &lt;value&gt;60&lt;/value&gt;\n    &lt;value&gt;60&lt;/value&gt;\n  &lt;/direction&gt;\n  &lt;cloud-amount type=\"total\" units=\"percent\" time-layout=\"k-p3h-n35-1\"&gt;\n    &lt;name&gt;Cloud Cover Amount&lt;/name&gt;\n    &lt;value&gt;100&lt;/value&gt;\n    &lt;value&gt;100&lt;/value&gt;\n    &lt;value&gt;100&lt;/value&gt;\n    &lt;value&gt;99&lt;/value&gt;\n    &lt;value&gt;97&lt;/value&gt;\n    &lt;value&gt;90&lt;/value&gt;\n    &lt;value&gt;79&lt;/value&gt;\n    &lt;value&gt;71&lt;/value&gt;\n    &lt;value&gt;64&lt;/value&gt;\n    &lt;value&gt;72&lt;/value&gt;\n    &lt;value&gt;79&lt;/value&gt;\n    &lt;value&gt;78&lt;/value&gt;\n    &lt;value&gt;76&lt;/value&gt;\n    &lt;value&gt;72&lt;/value&gt;\n    &lt;value&gt;69&lt;/value&gt;\n    &lt;value&gt;69&lt;/value&gt;\n    &lt;value&gt;51&lt;/value&gt;\n    &lt;value&gt;51&lt;/value&gt;\n    &lt;value&gt;35&lt;/value&gt;\n    &lt;value&gt;28&lt;/value&gt;\n    &lt;value&gt;64&lt;/value&gt;\n    &lt;value&gt;63&lt;/value&gt;\n    &lt;value&gt;63&lt;/value&gt;\n    &lt;value&gt;62&lt;/value&gt;\n    &lt;value&gt;62&lt;/value&gt;\n    &lt;value&gt;60&lt;/value&gt;\n    &lt;value&gt;48&lt;/value&gt;\n    &lt;value&gt;37&lt;/value&gt;\n    &lt;value&gt;32&lt;/value&gt;\n    &lt;value&gt;35&lt;/value&gt;\n    &lt;value&gt;37&lt;/value&gt;\n    &lt;value&gt;41&lt;/value&gt;\n    &lt;value&gt;45&lt;/value&gt;\n    &lt;value&gt;40&lt;/value&gt;\n    &lt;value&gt;31&lt;/value&gt;\n  &lt;/cloud-amount&gt;\n  &lt;wind-speed type=\"gust\" units=\"meters/second\" time-layout=\"k-p3h-n19-2\"&gt;\n    &lt;name&gt;Wind Speed Gust&lt;/name&gt;\n    &lt;value&gt;7&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;7&lt;/value&gt;\n    &lt;value&gt;7&lt;/value&gt;\n    &lt;value&gt;7&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;5&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;6&lt;/value&gt;\n    &lt;value&gt;4&lt;/value&gt;\n  &lt;/wind-speed&gt;\n  &lt;weather time-layout=\"k-p3h-n35-1\"&gt;\n    &lt;name&gt;Weather Type, Coverage, and Intensity&lt;/name&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"none\" additive=\"and\" weather-type=\"thunderstorms\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"moderate\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"none\" additive=\"and\" weather-type=\"thunderstorms\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"none\" additive=\"and\" weather-type=\"thunderstorms\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions&gt;\n      &lt;value coverage=\"slight chance\" intensity=\"light\" weather-type=\"rain showers\" qualifier=\"none\"&gt;\n        &lt;visibility xsi:nil=\"true\"/&gt;\n      &lt;/value&gt;\n    &lt;/weather-conditions&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n    &lt;weather-conditions/&gt;\n  &lt;/weather&gt;\n&lt;/parameters&gt;\n</code></pre>\n\n<p>\n   </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443794238, "post_id": 32908768, "comment_id": 53645540, "body": "What have you tried so far? And what process are you using to combine? Simply deduplicating &#39;num&#39;?  Or doing that and taking the max of <code>COST</code>? And is that a typo on the last line where the last ihtng is <code>ABC =&gt; 200</code>?"}, {"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443794329, "post_id": 32908768, "comment_id": 53645593, "body": "@Sobrique Well Im having trouble starting off with anything that works right. I dont know how to combine them right now."}, {"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443794502, "post_id": 32908768, "comment_id": 53645732, "body": "@Sobrique its a Data::Dumper dump of my database read. My variable looks like this:  $sth-&gt;fetchall_arrayref({});"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 3, "creation_date": 1443794546, "post_id": 32908768, "comment_id": 53645762, "body": "Better change your sql query; this is a database job."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1443795084, "post_id": 32908768, "comment_id": 53646152, "body": "I don&#39;t understand what you mean by &quot;combine&quot;. What rules are you trying to implement?"}, {"owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1443795323, "post_id": 32908768, "comment_id": 53646325, "body": "In the output, shouldn&#39;t <code>COST</code> be <code>ABC</code>?"}, {"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "reply_to_user": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "edited": false, "score": 0, "creation_date": 1443795393, "post_id": 32908768, "comment_id": 53646368, "body": "@skmrx yes sorry that was a typo"}, {"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1443795453, "post_id": 32908768, "comment_id": 53646400, "body": "@melpomene I am trying to put the different values into a single hash ref under the same NUM"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1443795490, "post_id": 32908768, "comment_id": 53646425, "body": "This is starting to smell like an XY problem. What are you actually trying to accomplish here?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1443795531, "post_id": 32908768, "comment_id": 53646457, "body": "@BluGeni OK, and what should that single hash ref contain, exactly?"}], "answers": [{"comments": [{"owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "edited": false, "score": 0, "creation_date": 1443795993, "post_id": 32909034, "comment_id": 53646792, "body": "I think this is what I needed an really helps me get on the right track, I do agree this would be better done on the database but because of the poor setup of the db it would require a lot of nested selects and would not look pretty. I am also not able to change the database structure."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1443795451, "last_edit_date": 1443795451, "creation_date": 1443794834, "answer_id": 32909034, "question_id": 32908768, "link": "https://stackoverflow.com/questions/32908768/parsing-through-an-arrayref-and-adding-to-a-new-one/32909034#32909034", "title": "Parsing through an arrayref and adding to a new one", "body": "<p>What you have there is an array of hashes. To access each, you need to dereference - e.g.:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $array_ref = [\n    {   'NUM'      =&gt; '1',\n        'QUOTEKEY' =&gt; 'DM343',\n        'TYPE'     =&gt; 'DIAMD',\n        'COST'     =&gt; '130',\n    },\n    {   'NUM'      =&gt; '1',\n        'QUOTEKEY' =&gt; 'DM343',\n        'TYPE'     =&gt; 'ABC',\n        'COST'     =&gt; '150',\n    },\n    {   'NUM'      =&gt; '2',\n        'QUOTEKEY' =&gt; 'ZX120',\n        'TYPE'     =&gt; 'DIAMD',\n        'COST'     =&gt; '100',\n    },\n    {   'NUM'      =&gt; '2',\n        'QUOTEKEY' =&gt; 'ZX120',\n        'TYPE'     =&gt; 'ABC',\n        'COST'     =&gt; '200',\n    }\n];\n\nprint Dumper \\$array_ref;\n\nforeach my $hash_ref (@$array_ref) {\n    print Dumper \\$hash_ref;\n    print $hash_ref -&gt;{'TYPE'}, \"\\n\";\n}\n</code></pre>\n\n<p>However as noted in the comments under the question - given your data source is a database, it's inefficent to extract data then post process it - generally it's better to do it upstream.</p>\n\n<p>It looks like what we're trying to do is merge the rows, such that instead of <code>COST</code> and <code>TYPE</code> per record, they're converted. </p>\n\n<p>Something like this:</p>\n\n<pre><code>foreach my $hash_ref (@$array_ref) {\n    print Dumper \\$hash_ref;\n    $type_cost{$hash_ref-&gt;{'NUM'}}{$hash_ref-&gt;{'QUOTEKEY'}}{$hash_ref-&gt;{'TYPE'}} = $hash_ref -&gt; {'COST'};\n\n}\n\nprint Dumper \\%type_cost;\n\nmy $combined; \n\nforeach my $id ( keys %type_cost ) {\n   foreach my $quote ( keys %{$type_cost{$id}} ) {\n        push ( @$combined, { NUM =&gt; $id, QUOTEKEY =&gt; $quote, %{$type_cost{$id}{$quote}}} );\n   }\n}\n\nprint Dumper $combined;\n</code></pre>\n\n<p>This gives us:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'DIAMD' =&gt; '130',\n            'QUOTEKEY' =&gt; 'DM343',\n            'NUM' =&gt; '1',\n            'ABC' =&gt; '150'\n          },\n          {\n            'DIAMD' =&gt; '100',\n            'QUOTEKEY' =&gt; 'ZX120',\n            'ABC' =&gt; '200',\n            'NUM' =&gt; '2'\n          }\n        ];\n</code></pre>\n\n<p>As you can see - probably better done within the database.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 5015486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cN4Au.jpg?s=128&g=1", "display_name": "Tim Potapov", "link": "https://stackoverflow.com/users/5015486/tim-potapov"}, "is_accepted": false, "score": 0, "last_activity_date": 1443963461, "creation_date": 1443963461, "answer_id": 32933741, "question_id": 32908768, "link": "https://stackoverflow.com/questions/32908768/parsing-through-an-arrayref-and-adding-to-a-new-one/32933741#32933741", "title": "Parsing through an arrayref and adding to a new one", "body": "<h2>Try this out:</h2>\n\n<p>You don't need to quote strings preceeded by the fat comma <strong>=></strong></p>\n\n<pre><code>my $a = [              \n { NUM =&gt; '1', QUOTEKEY =&gt; 'DM343', TYPE =&gt; 'DIAMD', COST =&gt; '130' },              \n { NUM =&gt; '1', QUOTEKEY =&gt; 'DM343', TYPE =&gt; 'ABC', COST =&gt; '150' },     \n { NUM =&gt; '2', QUOTEKEY =&gt; 'ZX120', TYPE =&gt; 'DIAMD', COST =&gt; '100' },      \n { NUM =&gt; '2', QUOTEKEY =&gt; 'ZX120', TYPE =&gt; 'ABC', COST =&gt; '200' },  \n];\n\n# Add the following to get the combined output\n\nuse Data::Dumper;\n\nmy $c;\n\nfor ( @$a ){\n   $c-&gt;{ $_-&gt;{ NUM } }{ QUOTEKEY } = $_-&gt;{ QUOTEKEY };\n   $c-&gt;{ $_-&gt;{ NUM } }{ $_-&gt;{ TYPE } } = $_-&gt;{ COST };\n}\n\nprint Dumper $c;\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>$VAR1 = {\n      '2' =&gt; {\n               'QUOTEKEY' =&gt; 'ZX120',\n               'DIAMD' =&gt; '100',\n               'ABC' =&gt; '200'\n             },\n      '1' =&gt; {\n               'DIAMD' =&gt; '130',\n               'QUOTEKEY' =&gt; 'DM343',\n               'ABC' =&gt; '150'\n             }\n    };\n</code></pre>\n"}], "owner": {"reputation": 2804, "user_id": 1455182, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb54fe28625d379b27e4bbc9bf20826e?s=128&d=identicon&r=PG", "display_name": "BluGeni", "link": "https://stackoverflow.com/users/1455182/blugeni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 32909034, "answer_count": 2, "score": 0, "last_activity_date": 1443963461, "creation_date": 1443794026, "last_edit_date": 1443795372, "question_id": 32908768, "link": "https://stackoverflow.com/questions/32908768/parsing-through-an-arrayref-and-adding-to-a-new-one", "title": "Parsing through an arrayref and adding to a new one", "body": "<p>I have $arrayRef that looks like this:</p>\n\n<pre><code>[\n          {\n            'NUM' =&gt; '1',\n            'QUOTEKEY' =&gt; 'DM343'\n            'TYPE' =&gt; 'DIAMD',\n            'COST' =&gt; '130'\n          },\n          {\n            'NUM' =&gt; '1',\n            'QUOTEKEY' =&gt; 'DM343'\n            'TYPE' =&gt; 'ABC',\n            'COST' =&gt; '150'\n          },\n          {\n            'NUM' =&gt; '2',\n            'QUOTEKEY' =&gt; 'ZX120'\n            'TYPE' =&gt; 'DIAMD',\n            'COST' =&gt; '100'\n          },\n          {\n            'NUM' =&gt; '2',\n            'QUOTEKEY' =&gt; 'ZX120'\n            'TYPE' =&gt; 'ABC',\n            'COST' =&gt; '200'\n          }\n]\n</code></pre>\n\n<p>And I am trying to combine it down so it would look something like this:</p>\n\n<pre><code>[\n          {\n            'NUM' =&gt; '1',\n            'QUOTEKEY' =&gt; 'DM343'\n            'DIAMD' =&gt; '130',\n            'ABC' =&gt; '150'\n          },\n          {\n            'NUM' =&gt; '2',\n            'QUOTEKEY' =&gt; 'ZX120'\n            'DIAMD' =&gt; '100',\n            'ABC' =&gt; '200'\n          }\n]\n</code></pre>\n\n<p>I am not sure the best way or where to begin to loop through the original array ref to get the desired output. Any help would be greatly appreciated. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443777821, "post_id": 32903827, "comment_id": 53636685, "body": "You don&#39;t have a list operator. Printing <code>@_</code> does not operate <b>on it</b>."}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1443785823, "post_id": 32904199, "comment_id": 53640531, "body": "I expect it to be: <code>list(0, main::test ($self, 1, 2, 3));</code> I do not try to use indirect call, because I have &#39;,&#39; after $self"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1443785930, "post_id": 32904199, "comment_id": 53640584, "body": "Look at <a href=\"http://perldoc.perl.org/perlop.html#Terms-and-List-Operators-%28Leftward%29\" rel=\"nofollow noreferrer\">example</a>: <code>@ary = (1, 3, sort 4, 2);</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1443787253, "post_id": 32904199, "comment_id": 53641282, "body": "@EugenKonkov: Run your script through <code>perl -MO=Deparse,-p</code>. Perl understands the syntax as indirect call - you declare <code>test</code> too late."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1443787944, "last_edit_date": 1443787944, "creation_date": 1443777842, "answer_id": 32904199, "question_id": 32903827, "link": "https://stackoverflow.com/questions/32903827/why-perl-does-not-tend-to-gobble-up-all-the-arguments-that-follow-it/32904199#32904199", "title": "Why perl does not tend to gobble up all the arguments that follow it?", "body": "<p>I don't see why you expected the different result. For better understanding, I changed the <code>test</code>s to return <code>t</code> from main and <code>m</code> from <code>My</code>, turning the output to</p>\n\n<pre><code>test&gt;&gt;main=HASH(0x60003b650)&lt;&lt;\n&gt;&gt;0 t 1 2 3&lt;&lt;\nMy::test&gt;&gt;main=HASH(0x60003b650)&lt;&lt;\n&gt;&gt;0 m 1 2 3&lt;&lt;\n</code></pre>\n\n<p>Did you think test would eat all the arguments? You can't do that with methods, you need normal subroutines for that. Your syntax is equivalent to</p>\n\n<pre><code>list(0, $self-&gt;main::test(), 1, 2, 3);\n</code></pre>\n\n<p>Try changing your code to</p>\n\n<pre><code>list(0, main::test 1, 2, 3);\nlist(0, My::test 1, 2, 3);\n</code></pre>\n\n<p>but you'll have to move <code>sub test</code> declarations upwards, or predeclare the subs (plain <code>sub test;</code> with no block). That's why using parentheses with subroutines is a good practice.</p>\n\n<p><strong>Update:</strong> Moving <code>sub test</code> declarations upwards works for your code, too. The parser must know a subroutine to be able to parse it as such.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 32904199, "answer_count": 1, "score": 1, "last_activity_date": 1443796605, "creation_date": 1443776541, "last_edit_date": 1443787592, "question_id": 32903827, "link": "https://stackoverflow.com/questions/32903827/why-perl-does-not-tend-to-gobble-up-all-the-arguments-that-follow-it", "title": "Why perl does not tend to gobble up all the arguments that follow it?", "body": "<p>Acording to <a href=\"http://perldoc.perl.org/perlop.html#Terms-and-List-Operators-%28Leftward%29\" rel=\"nofollow\">doc</a> <strong>list operators tend to gobble up all arguments that follow</strong></p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\n#sub test;\n#sub My::test;\n\nsub list {\n   print \"&gt;&gt;@_&lt;&lt;\\n\";\n}\n\nsub new {\n   my $class =  shift;\n   my $self =  bless {}, 'main';\n   list 0, main::test $self, 1, 2, 3;\n   list 0, My::test $self, 1, 2, 3;\n}\n\n# sub test (@) { # it has not matter there is prototype or not\nsub test {\n   print \"test&gt;&gt;@_&lt;&lt;\\n\";\n   return;\n}\n\nnew();\n\npackage My;\n\n# sub test (@) { # it has not matter there is prototype or not\nsub test {\n   print \"My::test&gt;&gt;@_&lt;&lt;\\n\";\n   return;\n}\n</code></pre>\n\n<p>In this example the output is:</p>\n\n<pre><code>test&gt;&gt;main=HASH(0x24a3160)&lt;&lt;\n&gt;&gt;0 1 2 3&lt;&lt;\nMy::test&gt;&gt;main=HASH(0x24a3160)&lt;&lt;\n&gt;&gt;0 1 2 3&lt;&lt;\n</code></pre>\n\n<p>Which means that list does not gobble up all the arguments that follow it<br>\n<strong>The expecting result is:</strong></p>\n\n<pre><code>test&gt;&gt;main=HASH(0x1bea160) 1 2 3&lt;&lt;\n&gt;&gt;0&lt;&lt;\nMy::test&gt;&gt;main=HASH(0x1bea160) 1 2 3&lt;&lt;\n&gt;&gt;0&lt;&lt;\n</code></pre>\n\n<p>What a problem is?</p>\n"}, {"tags": ["javascript", "ajax", "perl", "selenium", "web-crawler"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 2747565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3bd0f714df8eb902ed7fd40c770f95?s=128&d=identicon&r=PG&f=1", "display_name": "etiquette", "link": "https://stackoverflow.com/users/2747565/etiquette"}, "edited": false, "score": 0, "creation_date": 1443819929, "post_id": 32903032, "comment_id": 53659552, "body": "Thank you, but it does not work.  my $html = $sel-&gt;get_eval(q{window.document.getElementsByTagName(&#39;html&#39;&zwnj;&#8203;)[0].outerHTML}); yields the same result as  my $html=$sel-&gt;get_html_source();"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 41, "user_id": 2747565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3bd0f714df8eb902ed7fd40c770f95?s=128&d=identicon&r=PG&f=1", "display_name": "etiquette", "link": "https://stackoverflow.com/users/2747565/etiquette"}, "edited": false, "score": 0, "creation_date": 1443862189, "post_id": 32903032, "comment_id": 53668408, "body": "Shame. I am going to try if I manage to install this stuff. Does the module work with the new version of Selenium? The one in the doc is deprecated."}, {"owner": {"reputation": 41, "user_id": 2747565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3bd0f714df8eb902ed7fd40c770f95?s=128&d=identicon&r=PG&f=1", "display_name": "etiquette", "link": "https://stackoverflow.com/users/2747565/etiquette"}, "edited": false, "score": 0, "creation_date": 1443896724, "post_id": 32903032, "comment_id": 53678378, "body": "Hi, simbabque, I figured it out eventually. It did not work because: even though $sel-&gt;click(&quot;all-switch&quot;) is called and is shown on the browser, the DOM is not updated. After I used $sel-&gt;get_eval() to evoke the event using Javascript, it worked! Thank you for helping me know using my $html = $sel-&gt;get_eval(q{document.getElementsByTagName(&#39;html&#39;)[0].ou&zwnj;&#8203;terHTML}) to save the DOM. It is a fun learning process and I have also self-figured out how to wait until the Ajax is fully loaded the DOM is fully presented. Thank you for your inspiration."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 41, "user_id": 2747565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3bd0f714df8eb902ed7fd40c770f95?s=128&d=identicon&r=PG&f=1", "display_name": "etiquette", "link": "https://stackoverflow.com/users/2747565/etiquette"}, "edited": false, "score": 0, "creation_date": 1443910217, "post_id": 32903032, "comment_id": 53682136, "body": "One of the most important skills in my opinion is to be able to read and understand documentation. That&#39;s not as easy as it sounds. I&#39;m glad you learned something, instead of just getting an answer to copy. That&#39;s worth a lot more. :-) now another skill is impatience. So if that Ajax just pulls and adds some data, and that&#39;s the data you really want, just use lwp and grab it directly. Way faster. ;-)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1443773471, "creation_date": 1443773471, "answer_id": 32903032, "question_id": 32899403, "link": "https://stackoverflow.com/questions/32899403/how-to-get-a-websites-html-with-runtime-ajax-changes-applied-with-perl-and-sele/32903032#32903032", "title": "How to get a website&#39;s HTML with runtime AJAX changes applied with Perl and Selenium?", "body": "<p><strong>Disclaimer: I have not tried this!</strong></p>\n\n<p>You should be able to use <a href=\"https://metacpan.org/pod/WWW::Selenium#sel-get_eval-script\" rel=\"nofollow\"><code>get_eval($script)</code></a> to run some JavaScript that grabs the full current DOM for you. That's different from the page's body text, because the DOM is the current representation, and not what the browser parsed initially.</p>\n\n<pre><code>my $html = $sel-&gt;get_eval(q{document.getElementsByTagName('html')[0].outerHTML});\n</code></pre>\n\n<p>When I run that JS in my browser's console it gives me the full page's current representation. Here's a snippet that creates an empty <code>&lt;div&gt;</code>, then uses jQuery to add some text into it and afterwards uses the plain JS code from above to fetch the HTML of the full document and <code>alert</code> it. You'll see it contains the text we added.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#foo').text(\"bar\");\r\nalert(document.getElementsByTagName('html')[0].outerHTML);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"foo\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 2747565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3bd0f714df8eb902ed7fd40c770f95?s=128&d=identicon&r=PG&f=1", "display_name": "etiquette", "link": "https://stackoverflow.com/users/2747565/etiquette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1443787663, "creation_date": 1443750823, "last_edit_date": 1443787663, "question_id": 32899403, "link": "https://stackoverflow.com/questions/32899403/how-to-get-a-websites-html-with-runtime-ajax-changes-applied-with-perl-and-sele", "title": "How to get a website&#39;s HTML with runtime AJAX changes applied with Perl and Selenium?", "body": "<p>For websites that rely on Ajax or javascript to render data, how can I use WWW::Selenium to save the data? My following code was able to perform all the clicks and get to the correct webpage, however it did not save the data (I mean the list of all contests) because it is not in the html source code. I tried $sel->get_body_text() but it did not work either. Can you help me save the rendered data to a txt file or htm file? Thank you.</p>\n\n<pre><code>use WWW::Selenium;\n\nopen (FO, \"&gt;test.htm\");\nmy $sel = WWW::Selenium-&gt;new( host =&gt; \"localhost\",\n                              port =&gt; 4444,\n                              browser =&gt; \"*firefox\",\n                              browser_url =&gt; \"https://www.kaggle.com/competitions/\",\n                            );\n\n$sel-&gt;start;\n$sel-&gt;open(\"https://www.kaggle.com/competitions/\");\n$sel-&gt;click(\"all-switch\");\n$sel-&gt;click(\"completed\");\nprint FO $sel-&gt;get_html_source();\nprint \"Done\\n\";\n</code></pre>\n"}, {"tags": ["git", "perl", "rhel6", "makemaker"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1443744295, "post_id": 32898490, "comment_id": 53626150, "body": "how are you trying to install stuff?  what error actually happens when you try installing EU::MM?  Test::Harness should not be a dependency."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1443749074, "post_id": 32898490, "comment_id": 53627249, "body": "ExtUtils::MakeMaker is a core module; if you have Perl 5, you have ExtUtils::MakeMaker. Please show the commands you&#39;re running and show the exact message that says EU::MM can&#39;t be found."}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1443749927, "post_id": 32898490, "comment_id": 53627419, "body": "use yum to install the missing perl dev tools like perl-CPAN etc ..."}, {"owner": {"reputation": 1182, "user_id": 1682047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/10a4842727716cf6a9d4e5561ce028b2?s=128&d=identicon&r=PG", "display_name": "Paul Johnson", "link": "https://stackoverflow.com/users/1682047/paul-johnson"}, "edited": false, "score": 0, "creation_date": 1443750380, "post_id": 32898490, "comment_id": 53627479, "body": "Added output of commands.  We don&#39;t have root and our support vendor is grossly incompetent, yum isn&#39;t an option."}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "edited": false, "score": 0, "creation_date": 1443750486, "post_id": 32898490, "comment_id": 53627506, "body": "Have you added to PERL5LIB ? If your vendor perl installation is crippled, and vendor isn&#39;t helping, install your own perl"}, {"owner": {"reputation": 519, "user_id": 463797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef506c0f33a46f69ea5132411b8b3765?s=128&d=identicon&r=PG", "display_name": "ashley", "link": "https://stackoverflow.com/users/463797/ashley"}, "edited": false, "score": 1, "creation_date": 1443789484, "post_id": 32898490, "comment_id": 53642424, "body": "I&#39;ve encountered broken system perls before, which might be part of the problem. Personally I&#39;d try to use perlbrew or plenv to install a local version of perl (you don&#39;t have root - right?), then <i>hopefully</i> you have a stable base. That said, I&#39;d check for the prerequisites first (expect, openssl etc) seeing as you don&#39;t have sudo."}], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 0, "last_activity_date": 1443752106, "last_edit_date": 1443752106, "creation_date": 1443744379, "answer_id": 32898650, "question_id": 32898490, "link": "https://stackoverflow.com/questions/32898490/resolving-circular-dependency-between-extutilsmakemaker-and-testharness/32898650#32898650", "title": "Resolving circular dependency between ExtUtils::MakeMaker and Test::Harness", "body": "<p>Where is it installed?\nSimply add that directory to <a href=\"https://metacpan.org/pod/perlrun#PERL5LIB\" rel=\"nofollow\">PERL5LIB</a></p>\n\n<pre><code>export PERL5LIB=/home/user/stuff/lib/perl5:$PERL5LIB\n</code></pre>\n\n<p><strong>update:</strong> try installing the prerequisites for git, something like </p>\n\n<pre><code>$ sudo yum install curl-devel expat-devel gettext-devel \\\n  openssl-devel perl-devel zlib-devel\n$ sudo apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \\\n  libz-dev libssl-dev\n</code></pre>\n\n<p>Thats a quote from <a href=\"http://git-scm.com/book/en/v2/Getting-Started-Installing-Git\" rel=\"nofollow\">http://git-scm.com/book/en/v2/Getting-Started-Installing-Git</a></p>\n"}, {"tags": [], "owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": false, "score": 0, "last_activity_date": 1518963557, "last_edit_date": 1518963557, "creation_date": 1518962606, "answer_id": 48852510, "question_id": 32898490, "link": "https://stackoverflow.com/questions/32898490/resolving-circular-dependency-between-extutilsmakemaker-and-testharness/48852510#48852510", "title": "Resolving circular dependency between ExtUtils::MakeMaker and Test::Harness", "body": "<p>Compiling more recent (2.17 Q2 2018, almost 3 years later) version of Git might prove easier, since the build procedure for <code>perl</code>/ part has been greatly simplified by weaning Git off of <code>MakeMaker</code>.</p>\n\n<p>See <a href=\"https://github.com/git/git/commit/7a7bfc7adceec0be66aec3a4999be2f9b33ccc24\" rel=\"nofollow noreferrer\">commit 7a7bfc7</a> (02 Jan 2018) by <a href=\"https://github.com/artagnon\" rel=\"nofollow noreferrer\">Jonathan Nieder (<code>artagnon</code>)</a>.<br>\nSee <a href=\"https://github.com/git/git/commit/805a378649d69aa1503fd2a22afc5490c6e9c2d3\" rel=\"nofollow noreferrer\">commit 805a378</a> (22 Dec 2017), and <a href=\"https://github.com/git/git/commit/20d2a30f8ffe14deb09b4e6fc7b70ead53b315f0\" rel=\"nofollow noreferrer\">commit 20d2a30</a> (10 Dec 2017) by <a href=\"https://github.com/avar\" rel=\"nofollow noreferrer\">\u00c6var Arnfj\u00f6r\u00f0 Bjarmason (<code>avar</code>)</a>.<br>\n<sup>(Merged by <a href=\"https://github.com/gitster\" rel=\"nofollow noreferrer\">Junio C Hamano -- <code>gitster</code> --</a> in <a href=\"https://github.com/git/git/commit/ed1b87ef910fe38dfb9cf044f5c946adfab0c5e3\" rel=\"nofollow noreferrer\">commit ed1b87e</a>, 13 Feb 2018)</sup>   </p>\n\n<p>\u00c6var explains:</p>\n\n<blockquote>\n  <p>Replace the <code>perl/Makefile.PL</code> and the fallback <code>perl/Makefile</code> used under\n  <code>NO_PERL_MAKEMAKER=NoThanks</code> with a much simpler implementation heavily\n  inspired by how the i18n infrastructure's build process works.<br>\n  See <a href=\"https://github.com/git/git/commit/5e9637c629702e3d41ad01d95956d1835d7338e0\" rel=\"nofollow noreferrer\">commit 5e9637c from Git v1.7.9-rc0, Nov. 2011</a>.</p>\n  \n  <p>The reason for having the <code>Makefile.PL</code> in the first place is that it\n  was initially building a perl C binding to interface with <code>libgit</code> (<a href=\"https://github.com/git/git/commit/b1edc53d062c4f6adae08a15be08d6e7bccd242e\" rel=\"nofollow noreferrer\">commit b1edc53d0, Git  v1.4.3-rc1, June 2006</a>), this functionality, that was removed (<a href=\"https://github.com/git/git/commit/18b0fc1ce1ef92716d4c5d5c7acd5d5a61a0a556\" rel=\"nofollow noreferrer\">commit 18b0fc1, Git v1.4.3-rc1, Sept. 2006</a>) before <code>Git.pm</code> ever made it to the <code>master</code> branch.</p>\n  \n  <p>We've since since started maintaining a fallback <code>perl/Makefile</code>, as\n  <code>MakeMaker</code> wouldn't work on some platforms (<a href=\"https://github.com/git/git/commit/f848718a6980ebda0eb5afb2ca49c3bc1e7b2b1d\" rel=\"nofollow noreferrer\">commit f848718, Git v1.5.0-rc0, Dec. 2006</a>.<br>\n  That's just the tip of the iceberg. We have the <code>PM.stamp</code> hack in the top-level <code>Makefile</code> (<a href=\"https://github.com/git/git/commit/ee9be06770223238c6a22430eb874754dd22dfb0\" rel=\"nofollow noreferrer\">commit ee9be06, Git v1.7.12-rc1, Jul. 2012</a>) to detect whether we need to regenerate the <code>perl/perl.mak</code>, which I fixed just recently to deal with issues like the <code>perl</code> version changing from under us (<a href=\"https://github.com/git/git/commit/c59c4939c2ecef21f5dd913698552bd0fffe5ebb\" rel=\"nofollow noreferrer\">commit c59c4939, Git v2.13.0-rc0, March 2017</a>).</p>\n  \n  <p>There is absolutely no reason for why this needs to be so complex anymore.<br>\n  All we're getting out of this elaborate Rube Goldberg machine was copying <code>perl/*</code> to <code>perl/blib/*</code> as we do a string-replacement on\n  the <code>*.pm</code> files to hardcode <code>@@LOCALEDIR@@</code> in the source, as well as\n  pod2man-ing <code>Git.pm</code> &amp; friends.</p>\n  \n  <p>So replace the whole thing with something that's pretty much a copy of\n  how we generate <code>po/build/**.mo</code> from <code>po/*.po</code>, just with a small <a href=\"https://linux.die.net/man/1/sed\" rel=\"nofollow noreferrer\"><code>sed(1)</code></a>\n  command instead of <code>msgfmt</code>.<br>\n  As that's being done rename the files from <code>*.pm</code> to <code>*.pmc</code> just to indicate that they're generated (see <a href=\"http://search.cpan.org/~neilb/UNIVERSAL-require-0.18/lib/UNIVERSAL/require.pm\" rel=\"nofollow noreferrer\">\"perldoc -f require\"</a>).</p>\n</blockquote>\n"}], "owner": {"reputation": 1182, "user_id": 1682047, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/10a4842727716cf6a9d4e5561ce028b2?s=128&d=identicon&r=PG", "display_name": "Paul Johnson", "link": "https://stackoverflow.com/users/1682047/paul-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1585, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1518963557, "creation_date": 1443743192, "last_edit_date": 1443750259, "question_id": 32898490, "link": "https://stackoverflow.com/questions/32898490/resolving-circular-dependency-between-extutilsmakemaker-and-testharness", "title": "Resolving circular dependency between ExtUtils::MakeMaker and Test::Harness", "body": "<p>I'm trying to compile git 2.5.2 on RHEL6 into my home directory and it requires a perl module ExtUtils::MakeMaker. ExtUtils::MakeMaker isn't installed in the standard locations and installing packages (via yum) is impossible due to organizational limitations.</p>\n\n<p>ExtUtils::MakeMaker requires Test::Harness, which also isn't installed. Test::Harness depends on ExtUtils::MakeMaker, is there a way to break this dependency or a way to compile git without depending on ExtUtils::MakeMaker?</p>\n\n<p>Output when trying to install ExtUtils::MakeMaker:</p>\n\n<pre><code>Using included version of CPAN::Meta (2.120351) because it is not already installed.\nUsing included version of Parse::CPAN::Meta (1.4405) because it is not already installed.\nUsing included version of CPAN::Meta::YAML (0.008) because it is not already installed.\nUsing included version of ExtUtils::Manifest (1.65) because it is not already installed.\nUsing included version of JSON::PP (2.27203) because it is not already installed.\nUsing included version of ExtUtils::Install (1.54) because it is not already installed.\nUsing included version of CPAN::Meta::Requirements (2.127) because it is not already installed.\nGenerating a Unix-style Makefile\nWriting Makefile for ExtUtils::MakeMaker\nWriting MYMETA.yml and MYMETA.json\nCan't locate Test/Harness.pm in @INC (@INC contains: bundled/CPAN-Meta bundled/JSON-PP-Compat5006 bundled/Parse-CPAN-Meta bundled/CPAN-Meta-YAML bundled/File-\nTemp bundled/ExtUtils-Manifest bundled/JSON-PP bundled/ExtUtils-Install bundled/Scalar-List-Utils bundled/CPAN-Meta-Requirements lib . /usr/local/lib64/perl5\n/usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5) at Makefile.PL line 143.\n</code></pre>\n\n<p>Output from git make:</p>\n\n<pre><code>    SUBDIR perl\n/usr/bin/perl Makefile.PL PREFIX='/home/svc_rrtd/local' INSTALL_BASE='' --localedir='/home/svc_rrtd/local/share/locale'\nCan't locate ExtUtils/MakeMaker.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at Makefile.PL line 3.\nBEGIN failed--compilation aborted at Makefile.PL line 3.\nmake[1]: *** [perl.mak] Error 2\nmake: *** [perl/perl.mak] Error 2\n</code></pre>\n"}, {"tags": ["perl", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1443760334, "post_id": 32897422, "comment_id": 53629808, "body": "HTTP headers are case irrelevant so if the application really requires a lower case header it might get in trouble with proxies normalizing the headers."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1443774189, "post_id": 32897422, "comment_id": 53634856, "body": "@SteffenUllrich although it sort of makes sense that if an uppercase line is <code>-</code>, then a lowercase line would be <code>_</code> and thus with case-insensitive stuff it should not matter which one is used, that is probably not the case here. :D OP said it gets changed to <code>M-Id</code> with a dash, but they require an underscore."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1443776435, "post_id": 32897422, "comment_id": 53635983, "body": "@Steffen I couldn&#39;t resist the joke with the dash and the underscore, sorry about that. It&#39;s Friday after all. :)"}], "tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": true, "score": 8, "last_activity_date": 1443736245, "creation_date": 1443736245, "answer_id": 32897422, "question_id": 32897332, "link": "https://stackoverflow.com/questions/32897332/using-wwwmechanize-how-do-i-add-a-lower-case-header-with-an-underscore/32897422#32897422", "title": "Using WWW::Mechanize, how do I add a lower case header with an underscore?", "body": "<p>I thought I RTFMed before posting, but not well enough...\nA second read through the HTTP::Headers <a href=\"https://metacpan.org/pod/HTTP::Headers#NON-CANONICALIZED-FIELD-NAMES\">perldoc</a> told me to use:</p>\n\n<pre><code>$mech-&gt;add_header(':m_id'=&gt;'whatever');\n</code></pre>\n\n<p>and that does the trick.</p>\n"}], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 32897422, "answer_count": 1, "score": 4, "last_activity_date": 1443736245, "creation_date": 1443735709, "question_id": 32897332, "link": "https://stackoverflow.com/questions/32897332/using-wwwmechanize-how-do-i-add-a-lower-case-header-with-an-underscore", "title": "Using WWW::Mechanize, how do I add a lower case header with an underscore?", "body": "<p>I'm using an API that requires me to use a header named \"m_id\" to the request.</p>\n\n<p>When I use</p>\n\n<pre><code>$mech-&gt;add_header('m_id' =&gt; 'whatever')\n</code></pre>\n\n<p>WWW::Mechanize (or rather HTTP::Headers) \u201chelpfully\u201d changes the header name to \u201cM-Id\u201d.  Which doesn't work.</p>\n\n<p>Is there any way to prevent this from happening?</p>\n"}, {"tags": ["perl", "resize", "treeview", "tkx"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443729940, "post_id": 32894644, "comment_id": 53621213, "body": "Are you tied to Tk? The classic solution is to put both the treeview and the scrollbar in a container frame. Would that work for you?"}], "answers": [{"tags": [], "owner": {"reputation": 1671, "user_id": 4600983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d236a59e7d7e6871716bc25752dae6?s=128&d=identicon&r=PG&f=1", "display_name": "svsd", "link": "https://stackoverflow.com/users/4600983/svsd"}, "is_accepted": true, "score": 3, "last_activity_date": 1443731292, "last_edit_date": 1443731292, "creation_date": 1443730111, "answer_id": 32896009, "question_id": 32894644, "link": "https://stackoverflow.com/questions/32894644/how-to-achieve-a-resizable-treeview-widget-with-scrollbar-in-perl-tkx/32896009#32896009", "title": "How to achieve a resizable treeview widget with scrollbar in Perl Tkx?", "body": "<p>You're using both <code>grid</code> and <code>pack</code> to layout widgets into the same container, which is not supported. The first step would be to use only <code>pack</code> everywhere since you have a simple arrangement for the widgets. </p>\n\n<p>Using <code>-expand =&gt; 1</code> for the scrollbar means that Tk will try and give it as much space as possible. You don't want that for the scrollbar since it should only be allocated just enough space for itself. I have changed <code>-fill</code> to <code>'y'</code> as a matter of style, but it doesn't seem to make much of a difference.</p>\n\n<pre><code>$scrollbar-&gt;g_pack(-expand =&gt; 0, -fill =&gt; 'y');\n</code></pre>\n\n<p><code>pack</code> will arrange widgets one below the other by default. So, you should add a <code>-side</code> parameter if you need a horizontal arrangement starting from the left:</p>\n\n<pre><code>$tree-&gt;g_pack(-expand =&gt; 1, -fill =&gt; 'both', -side =&gt; 'left');\n$scrollbar-&gt;g_pack(-expand =&gt; 0, -fill =&gt; 'y', -side =&gt; 'left');\n</code></pre>\n\n<p>I recommend you read through the excellent <a href=\"http://docstore.mik.ua/orelly/perl3/tk/index.htm\" rel=\"nofollow\">Mastering Perl/Tk</a> book, especially the section about the <a href=\"http://docstore.mik.ua/orelly/perl3/tk/ch02_01.htm#mastperltk-CHP-2-SECT-1\" rel=\"nofollow\"><code>pack</code></a> geometry manager. This book uses the <a href=\"http://search.cpan.org/~srezic/Tk-804.033/pod/UserGuide.pod\" rel=\"nofollow\"><code>Tk module</code></a> and not Tkx, but I think it should be easy to map concepts between both.</p>\n"}, {"tags": [], "owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "is_accepted": false, "score": 3, "last_activity_date": 1444065529, "creation_date": 1444065529, "answer_id": 32954258, "question_id": 32894644, "link": "https://stackoverflow.com/questions/32894644/how-to-achieve-a-resizable-treeview-widget-with-scrollbar-in-perl-tkx/32954258#32954258", "title": "How to achieve a resizable treeview widget with scrollbar in Perl Tkx?", "body": "<p>It's okay to use multiple geometry managers within your application but you can't mix them when arranging the children of a particular widget. Either <code>pack</code> or <code>grid</code> would work here; you need to pick one and stick with it.</p>\n\n<p>When using <code>pack</code> you need to specify the side of the parent container on which to pack the widget. (The default is <code>top</code> if unspecified). Since you want to place your tree and scrollbar side-by-side, use <code>left</code>. You only want the scrollbar to fill the available vertical space. You don't want it to fill horizontal space. When packing it change <code>-fill</code> from <code>both</code> to <code>y</code> and remove <code>-expand</code> (or set it to <code>0</code>).</p>\n\n<pre><code>use Tkx;\nmy $mw = Tkx::widget-&gt;new(\".\");\n\nmy $frm = $mw-&gt;new_ttk__frame(-padding =&gt; \"2 6 12 12\");\n$frm-&gt;g_pack(-expand =&gt; 1, -fill =&gt; 'both');\n\nmy $tree = $frm-&gt;new_ttk__treeview;\n$tree-&gt;g_pack(-side =&gt; 'left', -expand =&gt; 1, -fill =&gt; 'both');\n\nmy $scrollbar = $frm-&gt;new_ttk__scrollbar(-orient =&gt; 'vertical', -command =&gt; [$tree, 'yview']);\n$scrollbar-&gt;g_pack(-side =&gt; 'left', -fill =&gt; 'y');\n\n$tree-&gt;configure(-yscrollcommand =&gt; [$scrollbar, 'set']);\n\nTkx::MainLoop();\n</code></pre>\n\n<p>If you choose to use <code>grid</code> instead, you need to set <code>sticky</code> to make the widgets expand to fill their cells and configure rows/columns to define how they should respond to a resize. You want the tree to stick to all sides (<code>nsew</code>) and the scrollbar to stick to the top and bottom (<code>ns</code>). The tree should be the cell that claims available space on a resize so we configure it's cell to have a <code>weight</code> of 1 and leave the cell with the scrollbar with a default weight of zero.</p>\n\n<pre><code>use Tkx;\nmy $mw = Tkx::widget-&gt;new(\".\");\n\nmy $frm = $mw-&gt;new_ttk__frame(-padding =&gt; \"2 6 12 12\");\n$frm-&gt;g_pack(-expand =&gt; 1, -fill =&gt; 'both');\n\nmy $tree      = $frm-&gt;new_ttk__treeview;\nmy $scrollbar = $frm-&gt;new_ttk__scrollbar(-orient =&gt; 'vertical', -command =&gt; [$tree, 'yview']);\n\n$tree-&gt;g_grid(-row =&gt; 0, -column =&gt; 0, -sticky =&gt; \"nsew\");\n$scrollbar-&gt;g_grid(-row =&gt; 0, -column =&gt; 1, -sticky =&gt; \"ns\");\n\n$frm-&gt;g_grid_columnconfigure(0, -weight =&gt; 1);\n$frm-&gt;g_grid_rowconfigure(0, -weight =&gt; 1);\n\n$tree-&gt;configure(-yscrollcommand =&gt; [$scrollbar, 'set']);\n\nTkx::MainLoop();\n</code></pre>\n\n<p>Note that I'm still using <code>pack</code> to manage the parent frame and tell it to expand in both directions. If the parent frame doesn't expand the widgets within it can't either. I could have managed the frame with <code>grid</code>, but using <code>pack</code> is simpler.</p>\n"}], "owner": {"reputation": 311, "user_id": 4263190, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ce5c932ed5c003e91525b1ba673b5778?s=128&d=identicon&r=PG&f=1", "display_name": "epsilon_j", "link": "https://stackoverflow.com/users/4263190/epsilon-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 32896009, "answer_count": 2, "score": 2, "last_activity_date": 1444065529, "creation_date": 1443724936, "last_edit_date": 1443729924, "question_id": 32894644, "link": "https://stackoverflow.com/questions/32894644/how-to-achieve-a-resizable-treeview-widget-with-scrollbar-in-perl-tkx", "title": "How to achieve a resizable treeview widget with scrollbar in Perl Tkx?", "body": "<p>Using Perl Tkx, I'm attempting to create a window with a treeview widget and a scrollbar to the right of it. I need the treeview widget to automatically resize when the user resizes the window.</p>\n\n<p>This is what I have:</p>\n\n<pre><code>my $mw = Tkx::widget-&gt;new(\".\");\n\nmy $frm = $mw-&gt;new_ttk__frame(-padding =&gt; \"2 6 12 12\");\n$frm-&gt;g_grid(-column =&gt; 0, -row =&gt; 0, -sticky =&gt; \"nwes\");\n$frm-&gt;g_pack(-expand =&gt; 1, -fill =&gt; 'both');\n\nmy $tree = $frm-&gt;new_ttk__treeview;\n$tree-&gt;g_grid(-column =&gt; 1, -columnspan =&gt; 5, -row =&gt; 1, -sticky =&gt; \"we\");\n$tree-&gt;g_pack(-expand =&gt; 1, -fill =&gt; 'both');\n\nmy $scrollbar = $frm-&gt;new_ttk__scrollbar(-orient =&gt; 'vertical', -command =&gt; [$tree, 'yview']);\n$scrollbar-&gt;g_grid(-column =&gt; 6, -row =&gt; 1, -sticky =&gt; \"we\");\n$scrollbar-&gt;g_pack(-expand =&gt; 1, -fill =&gt; 'both');\n\n$tree-&gt;configure(-yscrollcommand =&gt; [$scrollbar, 'set']);\n</code></pre>\n\n<p>Both widgets are displayed in the window, and the resizing works, but unfortunately the scrollbar is placed <em>underneath</em> the tree, not to the right of it. If I remove the three <code>g_pack(-expand =&gt; 1, -fill =&gt; 'both')</code> lines, the positioning is correct, but the resizing doesn't work. How can I place the scrollbar to the right of the tree, and have the automatic resizing work?</p>\n"}, {"tags": ["perl", "plack", "psgi"], "answers": [{"comments": [{"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1443725262, "post_id": 32894642, "comment_id": 53618717, "body": "OMG. This is really a stupid bug. ;( Would be nice to have this explicitly documented. Thank you! The error message is confusing - it talks about the <i>start</i>. ;)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 1, "creation_date": 1443726176, "post_id": 32894642, "comment_id": 53619194, "body": "I don&#39;t know if it&#39;s a bug, per se, although the documentation could be clearer. You&#39;re supposed to provide both a hostname and a location. <code>http:&#47;&#47;myhost.com&#47;</code> corresponds to <code>&#47;</code> on <code>myhost.com</code>; <code>http:&#47;&#47;myhost.com</code> doesn&#39;t specify a location, just a hostname."}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 1, "creation_date": 1443727744, "post_id": 32894642, "comment_id": 53620032, "body": "mean bug in <i>my</i> code :) - is has logic to have a <code>&#47;</code> at the end. Just the doc should be cleaner. Thanx. :)"}, {"owner": {"reputation": 1309, "user_id": 612142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e1240c84b221f3dcca57d005a2f569?s=128&d=identicon&r=PG", "display_name": "miyagawa", "link": "https://stackoverflow.com/users/612142/miyagawa"}, "edited": false, "score": 1, "creation_date": 1443825034, "post_id": 32894642, "comment_id": 53661444, "body": "Well don&#39;t hesitate to open a pull request or issue to make the error less confusing :) <a href=\"https://github.com/plack/Plack\" rel=\"nofollow noreferrer\">github.com/plack/Plack</a>"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1443726535, "last_edit_date": 1443726535, "creation_date": 1443724933, "answer_id": 32894642, "question_id": 32894204, "link": "https://stackoverflow.com/questions/32894204/mount-hosts-in-plackbuilder/32894642#32894642", "title": "Mount &quot;hosts&quot; in Plack::Builder", "body": "<p>I don't see this mentioned explicitly in the documentation, but you have to include a path component in addition to the hostname, e.g. <code>http://myhost.com/foo</code>. Change</p>\n\n<pre><code>mount \"http://myhost.com\" =&gt; builder{ $app2 };\n</code></pre>\n\n<p>to</p>\n\n<pre><code>mount \"http://myhost.com/\" =&gt; builder{ $app2 };\n</code></pre>\n\n<p>(i.e. <code>/</code> on host <code>myhost.com</code>)</p>\n\n<p>The relevant code is in <a href=\"https://metacpan.org/source/MIYAGAWA/Plack-1.0037/lib/Plack/App/URLMap.pm#L16\" rel=\"nofollow\">Plack::App::URLMap</a> (<code>mount</code> simply calls Plack::App::URLMap's <code>map</code> method):</p>\n\n<pre><code>if ($location =~ m!^https?://(.*?)(/.*)!) {\n    $host     = $1;\n    $location = $2;\n}\n</code></pre>\n"}], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 32894642, "answer_count": 1, "score": 4, "last_activity_date": 1443726535, "creation_date": 1443723234, "last_edit_date": 1495541686, "question_id": 32894204, "link": "https://stackoverflow.com/questions/32894204/mount-hosts-in-plackbuilder", "title": "Mount &quot;hosts&quot; in Plack::Builder", "body": "<p>The Synopsis for the <a href=\"https://metacpan.org/pod/Plack::Builder\" rel=\"nofollow noreferrer\">Plack::Builder</a> and also <a href=\"https://stackoverflow.com/a/6046857/869025\">this answer</a> says:</p>\n\n<pre><code># in .psgi\nuse Plack::Builder;\n\nmy $app = sub { ... };\n\nbuilder {\n    mount \"/foo\" =&gt; builder {\n        enable \"Foo\";\n        $app;\n    };\n\n    mount \"/bar\" =&gt; $app2;\n    mount \"http://example.com/\" =&gt; builder { $app3 };\n};\n</code></pre>\n\n<p>I tried the following:</p>\n\n<pre><code>use Plack::Builder;\nmy $app1 = sub { return [200, ['Content-Type' =&gt; 'text/plain'], [ \"Hello 1\"] ]; };\nmy $app2 = sub { return [200, ['Content-Type' =&gt; 'text/plain'], [ \"Hello 2\"] ]; };\nmy $app3 = sub { return [200, ['Content-Type' =&gt; 'text/plain'], [ \"Hello 3\"] ]; };\n\nbuilder {\n        mount \"/a1\" =&gt; builder { $app1 };\n        mount \"http://myhost.com\" =&gt; builder{ $app2 };\n        mount \"/\" =&gt; builder{ $app3 };\n}\n</code></pre>\n\n<p>But when tried to run it with <code>plackup</code> got:</p>\n\n<blockquote>\n  <p>Error while loading /tmp/app.psgi: Paths need to start with / at\n  /home/cw/.anyenv/envs/plenv/versions/5.20.3/lib/perl5/site_perl/5.20.3/Plack/Builder.pm\n  line 108.</p>\n</blockquote>\n\n<p>What is wrong?</p>\n"}, {"tags": ["arrays", "perl", "sorting", "file-handling"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443720487, "post_id": 32893343, "comment_id": 53616249, "body": "Sorry, still having a hard time grasping what you&#39;re trying to accomplish."}, {"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443720656, "post_id": 32893343, "comment_id": 53616320, "body": "Does the example solution help?"}, {"owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "edited": false, "score": 0, "creation_date": 1443722746, "post_id": 32893343, "comment_id": 53617438, "body": "Nothing coherent prints is the problem... I will keep that in mind though!"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1443724126, "creation_date": 1443724126, "answer_id": 32894447, "question_id": 32893343, "link": "https://stackoverflow.com/questions/32893343/sorting-by-columns-in-perl/32894447#32894447", "title": "Sorting by columns in perl", "body": "<p>Problems with your script:</p>\n\n<ol>\n<li><p><code>/(\\d+)$/</code> only matches digits (0-9) at the end of a line. Your file contains floating point numbers, so only digits after the decimal point will be matched. You could get away with <code>/(\\S+)$/</code> instead. (Actually, in your sample input there is a line with a trailing space, so let's make that <code>/(\\S+)\\s*$/</code> instead)</p></li>\n<li><p><code>$inputfile_energy</code> is a filename, a scalar, and not a reference, so <code>$inputfile_energy-&gt;[0]</code> doesn't make sense. You use it as the expression in a <code>map</code> construction, and in a <code>map EXPR, LIST</code> construction, <code>$_</code> refers to the current element of the list that is being iterated through, so you probably just meant to say <code>$_-&gt;[0]</code>.</p></li>\n<li><p>Your input contains a few lines -- all with the keyword <code>Energy</code> -- that don't have the same format as the other lines you want to sort and should be filtered out.</p></li>\n</ol>\n\n<p>Putting this all together, I get working code when the penultimate statement looks like:</p>\n\n<pre><code>print map $_-&gt;[0],\n    sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\n    map { [ $_, /(\\S+)\\s*$/ ] }\n    grep /\\d/,\n        &lt;INPUTFILE_ENERGY&gt;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1443731344, "post_id": 32894562, "comment_id": 53621916, "body": "As a code only answer, I think this really would benefit from a little more explanation."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1443724583, "creation_date": 1443724583, "answer_id": 32894562, "question_id": 32893343, "link": "https://stackoverflow.com/questions/32893343/sorting-by-columns-in-perl/32894562#32894562", "title": "Sorting by columns in perl", "body": "<p>Try this:</p>\n\n<pre><code>print join \"\\n\", sort {(split /\\s+/,$a)[1] &lt;=&gt; (split /\\s+/,$b)[1]} map{chomp $_; $_} &lt;INPUTFILE_ENERGY&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 5391906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d6vmng6XOXU/AAAAAAAAAAI/AAAAAAAAABY/XdVov0-iKFE/photo.jpg?sz=128", "display_name": "Ekaterina Klishina", "link": "https://stackoverflow.com/users/5391906/ekaterina-klishina"}, "is_accepted": false, "score": 1, "last_activity_date": 1443766807, "creation_date": 1443766807, "answer_id": 32901551, "question_id": 32893343, "link": "https://stackoverflow.com/questions/32893343/sorting-by-columns-in-perl/32901551#32901551", "title": "Sorting by columns in perl", "body": "<p>you can use oneliner like this and run it from command line:</p>\n\n<pre><code>perl -lnae 'push @arr, [$_, $F[1]] if $F[1]; END { print join \"\\n\", map {$_-&gt;[0]} sort {$a-&gt;[1] &lt;=&gt; $b-&gt;[1]} @arr }' energy_file.txt\n</code></pre>\n\n<p>1) special key <code>-n</code> makes the loop over all lines in input file (energy_file.txt); current line is available in $_ variable.</p>\n\n<p>2) then key <code>-a</code> splits each line by whitespaces and puts nonempty values into @F array.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5252226, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Kw7HHOruwvA/AAAAAAAAAAI/AAAAAAAAANM/efj1A-N36LY/photo.jpg?sz=128", "display_name": "Amrani Fadi", "link": "https://stackoverflow.com/users/5252226/amrani-fadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1443767953, "creation_date": 1443767953, "answer_id": 32901751, "question_id": 32893343, "link": "https://stackoverflow.com/questions/32893343/sorting-by-columns-in-perl/32901751#32901751", "title": "Sorting by columns in perl", "body": "<p>A less \"idiomatic\" solution could be :</p>\n\n<pre><code>@data = &lt;DATA&gt;;\nmy @table;\n\nforeach(@data){\n    chomp;\n    next unless /^0/;     # skip Energy lines (or any other cleaning test)     \n    @line = split /\\s+/;\n    push @table,[@line];  # build a 2d array\n}\n\nmy @sortedTable = sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] } @table;\n\nforeach(@sortedTable){\n    printf(\n        \"%5s,%25s\\n\",\n        $_-&gt;[0],\n        $_-&gt;[1]\n        ) # some pretty printing\n}\n\n\n__DATA__\n                                  Energy\n0001_IP3_fullBinding_Rigid0001  -219.209742 \n0001_IP3_fullBinding_Rigid0002  -219.188106\n0001_IP3_fullBinding_Rigid0003  -219.064542\n0001_IP3_fullBinding_Rigid0004  -219.050730\n....\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3862604, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4Q7Ov.png?s=128&g=1", "display_name": "Chemist not a Programmer", "link": "https://stackoverflow.com/users/3862604/chemist-not-a-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1443767953, "creation_date": 1443720248, "last_edit_date": 1443720637, "question_id": 32893343, "link": "https://stackoverflow.com/questions/32893343/sorting-by-columns-in-perl", "title": "Sorting by columns in perl", "body": "<p>I have a file named all_energy.out and I am trying to sort it in a way so I can renumber files in the directory based on the lowest energy in the all_energy.out file. So I want to create an array with the file names and energy starting at the lowest energy and going to increasing energy like name and age.</p>\n\n<p>Analogous Example:</p>\n\n<pre><code>Don 24\nJan 30\nSue 19\n</code></pre>\n\n<p>sorted to </p>\n\n<pre><code>Sue 19\nDon 24\nJan 30\n</code></pre>\n\n<p>Example of all_energy.out file: The highest negative value is the lowest energy. </p>\n\n<pre><code>                                  Energy\n0001_IP3_fullBinding_Rigid0001  -219.209742 \n0001_IP3_fullBinding_Rigid0002  -219.188106\n0001_IP3_fullBinding_Rigid0003  -219.064542\n0001_IP3_fullBinding_Rigid0004  -219.050730\n0001_IP3_fullBinding_Rigid0005  -219.044573\n0001_IP3_fullBinding_Rigid0006  -218.927479\n0001_IP3_fullBinding_Rigid0007  -218.919717\n0001_IP3_fullBinding_Rigid0008  -218.900923\n0001_IP3_fullBinding_Rigid0009  -218.898945\n0001_IP3_fullBinding_Rigid0010  -218.889269\n0001_IP3_fullBinding_Rigid0011  -218.871619\n0001_IP3_fullBinding_Rigid0012  -218.859429\n0001_IP3_fullBinding_Rigid0013  -218.848516\n0001_IP3_fullBinding_Rigid0014  -218.835355\n0001_IP3_fullBinding_Rigid0015  -218.822244\n0001_IP3_fullBinding_Rigid0016  -218.819328\n0001_IP3_fullBinding_Rigid0017  -218.818431\n0001_IP3_fullBinding_Rigid0018  -218.815494\n0001_IP3_fullBinding_Rigid0019  -218.798388\n0001_IP3_fullBinding_Rigid0020  -218.792151\n                                  Energy\n0002_IP3_fullBinding_Rigid0001  -226.007998\n0002_IP3_fullBinding_Rigid0002  -225.635657\n</code></pre>\n\n<p>The file names are given before the energy value, for example 0001_IP3_fullBinding_Rigid0001.mol2 is the name of the first file. </p>\n\n<p>Example solution: </p>\n\n<pre><code>0002_IP3_fullBinding_Rigid0001  -226.007998\n0002_IP3_fullBinding_Rigid0002  -225.635657\n0001_IP3_fullBinding_Rigid0001  -219.209742\n0001_IP3_fullBinding_Rigid0002  -219.188106\n0001_IP3_fullBinding_Rigid0003  -219.064542\n</code></pre>\n\n<p>My current script is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Name of all total energy containing file:\\n\";\nmy $energy_file = &lt;STDIN&gt;;\nchomp $energy_file;\n\nmy $inputfile_energy = $energy_file;\n\nopen (INPUTFILE_ENERGY, \"&lt;\", $inputfile_energy) or die $!;\n\nprint map $inputfile_energy-&gt;[0],\nsort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] }\nmap { [ $_, /(\\d+)$/ ] }\n&lt;INPUTFILE_ENERGY&gt;;\n\nclose $inputfile_energy;\n</code></pre>\n\n<p>At this point I am just trying to get the energy with their names to print to the correct order. Then I will loop through the files in the directory and when the name matches with the sorted energy names it will be renumber.    </p>\n"}, {"tags": ["perl", "selection", "text-extraction"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2921271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b7a58e6e70d3721a11ddfbe44242901?s=128&d=identicon&r=PG&f=1", "display_name": "alisrpp", "link": "https://stackoverflow.com/users/2921271/alisrpp"}, "edited": false, "score": 0, "creation_date": 1443719154, "post_id": 32892976, "comment_id": 53615634, "body": "Almost @Sobrique! Both of them gave me back this:  <code>Ccrux.00015.c0_g1_i1    GO:0005789,GO:0016021,GO:0005509,GO:0005506,GO:0031418,GO:00&zwnj;&#8203;16706,GO:0045646^bio&zwnj;&#8203;logical_process^regu&zwnj;&#8203;lation of erythrocyte differentiation Ccrux.00015.c0_g2_i1    GO:0005789,GO:0016021,GO:0005509,GO:0005506,GO:0031418,GO:00&zwnj;&#8203;16706,GO:0045646^bio&zwnj;&#8203;logical_process^regu&zwnj;&#8203;lation of erythrocyte differentiation</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 27, "user_id": 2921271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b7a58e6e70d3721a11ddfbe44242901?s=128&d=identicon&r=PG&f=1", "display_name": "alisrpp", "link": "https://stackoverflow.com/users/2921271/alisrpp"}, "edited": false, "score": 0, "creation_date": 1443719256, "post_id": 32892976, "comment_id": 53615679, "body": "Yeah, end of line doesn&#39;t have a backtick. Updated. Give that a try."}, {"owner": {"reputation": 27, "user_id": 2921271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b7a58e6e70d3721a11ddfbe44242901?s=128&d=identicon&r=PG&f=1", "display_name": "alisrpp", "link": "https://stackoverflow.com/users/2921271/alisrpp"}, "edited": false, "score": 0, "creation_date": 1443719530, "post_id": 32892976, "comment_id": 53615793, "body": "Now is working, @Sobrique. Thanks! Any idea about how to remove the rows which 2nd column value is .?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 27, "user_id": 2921271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b7a58e6e70d3721a11ddfbe44242901?s=128&d=identicon&r=PG&f=1", "display_name": "alisrpp", "link": "https://stackoverflow.com/users/2921271/alisrpp"}, "edited": false, "score": 0, "creation_date": 1443719564, "post_id": 32892976, "comment_id": 53615811, "body": "<code>next unless m&#47;GO&#47;; </code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1443719670, "last_edit_date": 1443719670, "creation_date": 1443718761, "answer_id": 32892976, "question_id": 32892891, "link": "https://stackoverflow.com/questions/32892891/how-to-extract-some-text-from-a-column-to-create-a-new-column/32892976#32892976", "title": "How to extract some text from a column to create a new column", "body": "<p>What you've got there pattern matches a piece of text, and just prints that. </p>\n\n<p>From what it <em>sounds</em> like you're doing:</p>\n\n<pre><code>GO:0005789^cellular_component^endoplasmic reticulum membrane`\n</code></pre>\n\n<p>You're trying to remove any 'bits' between <code>^</code> and the next <code>GO</code>? </p>\n\n<p>The nice thing with <code>perl</code> is that that syntax <code>-ne</code> just creates a little <code>while</code> loop around the commands - so it will let you do multiple statements. </p>\n\n<p>So - expanded example:</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    next unless m/GO/;\n    s/\\^[^`]+`/,/g;\n    s/\\^[^`]+$/\\n/g;\n    print;\n}\n\n__DATA__\nCcrux.00013.c0_g1_i1    .\nCcrux.00013.c0_g2_i1    .\nCcrux.00014.c0_g1_i1    .\nCcrux.00014.c0_g2_i1    .\nCcrux.00015.c0_g1_i1    .\nCcrux.00015.c0_g1_i1    GO:0005789^cellular_component^endoplasmic reticulum membrane`GO:0016021^cellular_component^integral component of membrane`GO:0005509^molecular_function^calcium ion binding`GO:0005506^molecular_function^iron ion binding`GO:0031418^molecular_function^L-ascorbic acid binding`GO:0016706^molecular_function^oxidoreductase activity, acting on paired donors, with incorporation or reduction of molecular oxygen, 2-oxoglutarate as one donor, and incorporation of one atom each of oxygen into both donors`GO:0045646^biological_process^regulation of erythrocyte differentiation\nCcrux.00015.c0_g2_i1    GO:0005789^cellular_component^endoplasmic reticulum membrane`GO:0016021^cellular_component^integral component of membrane`GO:0005509^molecular_function^calcium ion binding`GO:0005506^molecular_function^iron ion binding`GO:0031418^molecular_function^L-ascorbic acid binding`GO:0016706^molecular_function^oxidoreductase activity, acting on paired donors, with incorporation or reduction of molecular oxygen, 2-oxoglutarate as one donor, and incorporation of one atom each of oxygen into both donors`GO:0045646^biological_process^regulation of erythrocyte differentiation\nCcrux.00016.c0_g1_i1    .\nCcrux.00016.c0_g2_i1    .\nCcrux.00017.c0_g1_i1    .\nCcrux.00018.c0_g1_i1    .\nCcrux.00019.c0_g1_i1    .\n</code></pre>\n\n<p>This will generate as output:</p>\n\n<pre><code>Ccrux.00015.c0_g1_i1    GO:0005789,GO:0016021,GO:0005509,GO:0005506,GO:0031418,GO:0016706,GO:0045646\nCcrux.00015.c0_g2_i1    GO:0005789,GO:0016021,GO:0005509,GO:0005506,GO:0031418,GO:0016706,GO:0045646\n</code></pre>\n\n<p>We:</p>\n\n<ul>\n<li>skip any line without the word <code>GO</code> in it.</li>\n<li>replace any instance of literal <code>^</code>, one or more not <code>^</code> and then backtick - with a comma.</li>\n<li>and replace the same terminated at end of line with <code>\\n</code>. </li>\n</ul>\n\n<p>This we can condense to a one liner thus: </p>\n\n<pre><code>perl -ne 'next unless m/GO/;s/\\^[^`]+`/,/g;s/\\^[^`]+$/\\n/g;print' inputfile &gt; outputfile\n</code></pre>\n\n<p>Or perhaps better - without the print - see <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a> - <code>-p</code> is similar to <code>-n</code> but it builds in the <code>print</code> (so works a bit more like <code>sed</code>). </p>\n\n<pre><code>perl -pe 'next unless m/GO/;s/\\^[^`]+`/,/g;s/\\^[^`]+$/\\n/g;' inputfile &gt; outputfile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1443731505, "last_edit_date": 1443731505, "creation_date": 1443731154, "answer_id": 32896273, "question_id": 32892891, "link": "https://stackoverflow.com/questions/32892891/how-to-extract-some-text-from-a-column-to-create-a-new-column/32896273#32896273", "title": "How to extract some text from a column to create a new column", "body": "<p>I think your requirement is a little too long for a one-line solution, but it can be very brief. This program will produce the output that you describe. It expects the path to the input file as a parameter on the command line</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( &lt;&gt; ) {\n    next unless my @values = /GO:\\d+/g;\n    local $\" = ',';\n    s/\\S\\s+\\K.+/@values/;\n    print;\n}\n</code></pre>\n\n<p>A one-line version would be a little clunky</p>\n\n<pre><code>perl -pe '@v=/GO:\\d+/g or next; $\"=\",\"; s/\\S\\s+\\K.+/@v/; print;' myfile &gt; newfile\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 2921271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b7a58e6e70d3721a11ddfbe44242901?s=128&d=identicon&r=PG&f=1", "display_name": "alisrpp", "link": "https://stackoverflow.com/users/2921271/alisrpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 32892976, "answer_count": 2, "score": 0, "last_activity_date": 1443731505, "creation_date": 1443718458, "question_id": 32892891, "link": "https://stackoverflow.com/questions/32892891/how-to-extract-some-text-from-a-column-to-create-a-new-column", "title": "How to extract some text from a column to create a new column", "body": "<p>Dear stackoverflow community,</p>\n\n<p>I have a 2 columns file that looks like this:</p>\n\n<pre><code>Ccrux.00013.c0_g1_i1    .\nCcrux.00013.c0_g2_i1    .\nCcrux.00014.c0_g1_i1    .\nCcrux.00014.c0_g2_i1    .\nCcrux.00015.c0_g1_i1    .\nCcrux.00015.c0_g1_i1    GO:0005789^cellular_component^endoplasmic reticulum membrane`GO:0016021^cellular_component^integral component of membrane`GO:0005509^molecular_function^calcium ion binding`GO:0005506^molecular_function^iron ion binding`GO:0031418^molecular_function^L-ascorbic acid binding`GO:0016706^molecular_function^oxidoreductase activity, acting on paired donors, with incorporation or reduction of molecular oxygen, 2-oxoglutarate as one donor, and incorporation of one atom each of oxygen into both donors`GO:0045646^biological_process^regulation of erythrocyte differentiation\nCcrux.00015.c0_g2_i1    GO:0005789^cellular_component^endoplasmic reticulum membrane`GO:0016021^cellular_component^integral component of membrane`GO:0005509^molecular_function^calcium ion binding`GO:0005506^molecular_function^iron ion binding`GO:0031418^molecular_function^L-ascorbic acid binding`GO:0016706^molecular_function^oxidoreductase activity, acting on paired donors, with incorporation or reduction of molecular oxygen, 2-oxoglutarate as one donor, and incorporation of one atom each of oxygen into both donors`GO:0045646^biological_process^regulation of erythrocyte differentiation\nCcrux.00016.c0_g1_i1    .\nCcrux.00016.c0_g2_i1    .\nCcrux.00017.c0_g1_i1    .\nCcrux.00018.c0_g1_i1    .\nCcrux.00019.c0_g1_i1    .\n</code></pre>\n\n<p>I need a new 2 columns file that:</p>\n\n<ul>\n<li>Doesn't contain the rows where the 2nd column value is .</li>\n<li>Only contains GO:XXXXXXX as 2nd column value (i.e. eliminates from the 2nd column all the text and only retains the GO numbers)</li>\n</ul>\n\n<p>The new file should look like:</p>\n\n<pre><code>Ccrux.00015.c0_g1_i1    GO:0005789,GO:0016021,GO:0005509,GO:0005506,GO:0031418,GO:0016706,GO:0045646\nCcrux.00015.c0_g2_i1    GO:0005789,GO:0016021,GO:0005509,GO:0005506,GO:0031418,GO:0016706,GO:0045646\nCcrux.00029.c0_g1_i1    GO:0035869,GO:0005737,GO:0005615,GO:0016020,GO:0021956,GO:0060271,GO:0021904,GO:0001701,GO:0001841,GO:0008589,GO:0021523,GO:0021537\n</code></pre>\n\n<p>I've been trying with perl:</p>\n\n<pre><code>perl -ne '/(GO:\\d+)/ &amp;&amp; print \"$1\"' input.file &gt; output.file\n</code></pre>\n\n<p>But prints me all the GO numbers in just one column. I'm really lost about how to do it. Any suggestions will be more than welcome.</p>\n\n<p>Thank you all in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1443714045, "post_id": 32891463, "comment_id": 53612832, "body": "Amazon gave you this? 1st: do you have permission to reproduce it here completely? 2nd: that Amazon gives out code like this is a shame... the German word <i>Armutszeugnis</i> comes to mind."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1443714057, "post_id": 32891463, "comment_id": 53612839, "body": "<a href=\"https://www.google.co.uk/search?q=perl+unzip\" rel=\"nofollow noreferrer\">Google</a>, <a href=\"http://p3rl.org/system\" rel=\"nofollow noreferrer\">system</a>, ..."}, {"owner": {"reputation": 2120, "user_id": 978151, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/1197256483/picture?type=large", "display_name": "Roberto Pezzali", "link": "https://stackoverflow.com/users/978151/roberto-pezzali"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443714188, "post_id": 32891463, "comment_id": 53612917, "body": "@simbabque it&#39;s a public file and you can find it in the aws documentation...  Ok, I unzip it using Ruby..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1443714261, "post_id": 32891463, "comment_id": 53612968, "body": "You can always use <code>unzip</code>... ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1443716702, "post_id": 32891463, "comment_id": 53614412, "body": "@simbabque: It looks like it&#39;s written by a C programmer. Whether you consider that incompetent is up to you, although it <i>is</i> one of the nastiest languages around"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443716919, "post_id": 32891463, "comment_id": 53614518, "body": "@Borodin I just consider it un-perlish."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4634065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d44cca205cfc8b89ee69c9ac9b2533?s=128&d=identicon&r=PG&f=1", "display_name": "lazyMan", "link": "https://stackoverflow.com/users/4634065/lazyman"}, "is_accepted": false, "score": 0, "last_activity_date": 1443716181, "creation_date": 1443716181, "answer_id": 32892279, "question_id": 32891463, "link": "https://stackoverflow.com/questions/32891463/modify-perl-download-script-to-uncompress-files/32892279#32892279", "title": "Modify Perl download script to uncompress files", "body": "<p>Check if you have the unzip command and if it is so, try it:</p>\n\n<pre><code>if($success == 1)\n{\n    # download succeeded and here I have to UNZIP\n    $unzip_cmd = \"unzip $out_dir/$feed_name\"\n    system($unzip_cmd);\n}\n</code></pre>\n"}], "owner": {"reputation": 2120, "user_id": 978151, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/1197256483/picture?type=large", "display_name": "Roberto Pezzali", "link": "https://stackoverflow.com/users/978151/roberto-pezzali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1488996919, "creation_date": 1443713490, "last_edit_date": 1488996919, "question_id": 32891463, "link": "https://stackoverflow.com/questions/32891463/modify-perl-download-script-to-uncompress-files", "title": "Modify Perl download script to uncompress files", "body": "<p>I have a problem and I don't know how to solve it. I have to download some files from Amazon, and I cannot use Open-Uri in Ruby.</p>\n\n<p>Amazon provides a Perl script to me to download these files, but I don't know Perl, and I need to modify the script.</p>\n\n<pre><code>use strict;\n\nmy $NA_SERVER = \"https://assoc-datafeeds-na.amazon.com\";\nmy $EU_SERVER = \"https://assoc-datafeeds-eu.amazon.com\";\nmy $FE_SERVER = \"https://assoc-datafeeds-fe.amazon.com\";\n\nmy $CURL=\"/usr/bin/curl\"; # Update this to an appropriate location of the curl executable\n\nmy ($feed_filename, $md5_filename, $user, $pass, $out_dir, $region) = parse_argv();\nmy $server;\nif($region eq \"NA\")\n{\n    $server = $NA_SERVER;\n}\nelsif($region eq \"EU\")\n{\n    $server = $EU_SERVER;\n}\nelsif($region eq \"FE\")\n{\n    $server = $FE_SERVER;\n}\nelse\n{\n    print \"ERROR: Invalid region: $region\\n\";\n    exit(1);\n}\n\nmy $feed_names = read_feed_names($feed_filename);\n\nmy $old_md5_hash = read_md5($md5_filename); # Hash from feed name to MD5\n\nmy $new_md5_hash = fetch_new_md5($user, $pass, $server);\n\nfor my $feed_name (@$feed_names)\n{\n    my $feed_new_md5 = $new_md5_hash-&gt;{$feed_name};\n    if(!defined($feed_new_md5) || $feed_new_md5 eq \"\")\n    {\n        print \"ERROR: no md5 found for feed $feed_name, skipping it\\n\";\n        next;\n    }\n\n    my $feed_old_md5 = $old_md5_hash-&gt;{$feed_name};\n    if(defined($feed_old_md5) &amp;&amp; $feed_old_md5 eq $feed_new_md5)\n    {\n        print \"$feed_name has the same md5 ($feed_new_md5), skipping download for it\\n\";\n    }\n    else\n    {\n        print \"$feed_name changed md5 from $feed_old_md5 to $feed_new_md5, downloading it\\n\";\n        my $success = download_feed($user, $pass, $feed_name, $out_dir, $server);\n        if($success == 1)\n        {\n            report_success($user, $pass, $feed_name, $server);\n            $old_md5_hash-&gt;{$feed_name} = $feed_new_md5;\n            save_md5($md5_filename, $old_md5_hash);\n        }\n    }\n}\n\n\nsub download_feed\n{\n    my ($user, $pass, $feed_name, $out_dir, $server) = @_;\n    my $cmd = \"$CURL --location --user $user:$pass -C - --digest -k $server/datafeed/getFeed?filename=$feed_name -o $out_dir/$feed_name\";\n\n    my $success = 0;\n    my $sleep_secs = 5;\n    unlink \"$out_dir/$feed_name\"; # delete the file if it already exists\n\n    for(my $i = 0; $i &lt; 4; $i++)\n    {\n        system($cmd);\n        if($? != 0)\n        {\n            print \"Command [$cmd] failed with exit code $? ($!), retrying after $sleep_secs seconds\\n\";\n            sleep($sleep_secs);\n        }\n        else\n        {\n            $success = 1;\n            last;\n        }\n    }\n\n    if($success == 1)\n    {\n        # Download succeeded, and here I have to UNZIP\n    }\n    else\n    {\n        system($cmd);\n        if($? != 0)\n        {\n            print \"ERROR: command [$cmd] failed with exit code $? ($!). Skipping this file\\n\";\n        }\n        else\n        {\n            $success = 1;\n        }\n    }\n    return $success;\n}\n\n\nsub report_success\n{\n    my ($user, $pass, $feed_name, $server) = @_;\n    my $cmd = \"$CURL --user $user:$pass --digest -k '$server/datafeed/reportStatus?success=1&amp;filename=$feed_name'\";\n    my $cmd_out = `$cmd`;\n    if($? != 0)\n    {\n        print \"ERROR: command [$cmd] failed: $!\\n\";\n        # Suppress this error since it's not fatal\n    }\n    if($cmd_out =~ m/error/i)\n    {\n        print \"ERROR: command [$cmd] returned error response - $cmd_out\\n\";\n        # Suppress this error since it's not fatal\n    }\n}\n\n\nsub read_feed_names\n{\n    my ($feed_filename) = @_;\n    my @feeds;\n\n    open(FEEDS_FILE, $feed_filename) or die \"could not open file $feed_filename: $!\\n\";\n    while(my $line = &lt;FEEDS_FILE&gt;)\n    {\n        chomp($line);\n        push(@feeds, $line);\n    }\n    return \\@feeds;\n}\n\n\nsub read_md5\n{\n    my ($filename) = @_;\n    my $md5_hash;\n\n    if(! -e $filename)\n    {\n        open(FILE, \"&gt; $filename\") or die \"could not open $filename: $!\\n\";\n        return $md5_hash;\n    }\n\n    # Else read the file's contents\n    open(FILE, $filename) or die \"could not open $filename: $!\\n\";\n    while(my $line = &lt;FILE&gt;)\n    {\n        chomp($line);\n        my @arr = split(/\\t/, $line);\n        if(scalar(@arr) != 2)\n        {\n            # Line is corrupted. Truncate entire file to clear corrput contents\n            open(FILE, \"&gt; $filename\") or die \"could not open $filename: $!\\n\";\n            $md5_hash = {};\n            return $md5_hash;\n        }\n        $md5_hash-&gt;{$arr[0]} = $arr[1];\n    }\n    close(FILE);\n    return $md5_hash;\n}\n\n\nsub save_md5\n{\n    my ($filename, $md5_hash) = @_;\n    my $tmp_filename = $filename . \".\" . $$;\n    open(FILE, \"&gt; $tmp_filename\") or die \"could not open $tmp_filename: $!\\n\";\n    foreach my $key (keys(%$md5_hash))\n    {\n        my $value = $md5_hash-&gt;{$key};\n        print FILE \"$key\\t$value\\n\";\n    }\n    close(FILE);\n    system(\"mv $tmp_filename $filename\");\n}\n\n\nsub fetch_new_md5\n{\n    my ($user, $pass, $server) = @_;\n    my $new_md5_hash; # feed name to md5\n    my $cmd = \"$CURL --user $user:$pass --digest -k $server/datafeed/listFeeds?format=text\";\n    if(!defined(open(LIST_FEEDS, \"$cmd |\")))\n    {\n        print \"ERROR: could not execute command: [$cmd], error code: $!\\n\";\n        exit(1);\n    }\n\n    while(my $line = &lt;LIST_FEEDS&gt;)\n    {\n        my @arr = split(/\\t/, $line);\n        if(scalar(@arr) != 4)\n        {\n            print \"ERROR: Failed to list feeds\\n\";\n            exit(1);\n        }\n        $new_md5_hash-&gt;{$arr[0]} = $arr[2];\n    }\n\n    return $new_md5_hash;\n}\n\n\nsub parse_argv\n{\n    my ($feed_filename, $md5_filename, $user, $pass, $out_dir, $region); # Return values\n\n    my $i = 0;\n    my $num_args = $#ARGV + 1;\n    while($i &lt; $num_args)\n    {\n        my $key = $ARGV[$i];\n        if($key eq \"--input\")\n        {\n            $feed_filename = $ARGV[$i + 1];\n            $i = $i + 2;\n            next;\n        }\n        elsif($key eq \"--md5-file\")\n        {\n            $md5_filename = $ARGV[$i + 1];\n            $i = $i + 2;\n            next;\n        }\n        elsif($key eq \"--user\")\n        {\n            $user = $ARGV[$i + 1];\n            $i = $i + 2;\n            next;\n        }\n        elsif($key eq \"--pass\")\n        {\n            $pass = $ARGV[$i + 1];\n            $i = $i + 2;\n            next;\n        }\n        elsif($key eq \"--dir\")\n        {\n            $out_dir = $ARGV[$i + 1];\n            $i = $i + 2;\n            next;\n        }\n        elsif($key eq \"--region\")\n        {\n            $region = uc($ARGV[$i + 1]);\n            $i = $i + 2;\n            next;\n        }\n        elsif($key eq \"--help\")\n        {\n            usage_help();\n            exit(0);\n        }\n        else\n        {\n            print \"Unrecognized argument ($key), skipping it\\n\";\n            $i = $i + 1;\n            next;\n        }\n    }#while\n\n    if((!defined($feed_filename) || $feed_filename eq \"\") ||\n       (!defined($md5_filename)  || $md5_filename eq \"\")  ||\n       (!defined($user)          || $user eq \"\")          ||\n       (!defined($pass)          || $pass eq \"\")          ||\n       (!defined($out_dir)       || $out_dir eq \"\")       ||\n       (!defined($region)        || $region eq \"\"))\n    {\n        usage_help();\n        exit(1);\n    }\n\n    return ($feed_filename, $md5_filename, $user, $pass, $out_dir, $region);\n} #parse_argv()\n\n\nsub usage_help\n{\n    print \"This program requires the following arguments -\\n\\n\";\n    print \"\\t --input &lt;filename&gt;: path to filename containing list of feed names to be downloaded, one per line\\n\";\n    print \"\\t --md5-file &lt;filename&gt;: path to filename where md5 checksums will be stored\\n\";\n    print \"\\t --user &lt;user&gt;: user name for logging onto Associates S3 Proxy\\n\";\n    print \"\\t --pass &lt;pass&gt;: password for logging onto Associates S3 Proxy\\n\";\n    print \"\\t --dir &lt;dir&gt;: directory where feeds will be stored\\n\";\n    print \"\\t --region &lt;region&gt;: must be one of {NA,EU,FE}\\n\";\n}\n</code></pre>\n\n<p>I figure where to insert the unzip command, but I don't know how to unzip every downloaded file...</p>\n\n<p>Any hint?</p>\n"}, {"tags": ["perl", "return-value"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1443712357, "post_id": 32890448, "comment_id": 53611739, "body": "I would use <a href=\"http://perldoc.perl.org/File/Find.html\" rel=\"nofollow noreferrer\">File::Find</a>, <a href=\"https://metacpan.org/pod/File::Finder\" rel=\"nofollow noreferrer\">File::Finder</a>, <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow noreferrer\">File::Find::Rule</a>, or similar instead of <code>find</code>. That will allow you to check the success of each individual <code>unlink</code> instead of the success of the entire <code>find</code> command."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1443711383, "post_id": 32890499, "comment_id": 53611112, "body": "Tip: All of <code>system</code>, <code>readpipe</code> (backticks), <code>wait</code> and <code>waitpid</code> set <code>$?</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443711410, "post_id": 32890499, "comment_id": 53611140, "body": "Also note - it won&#39;t necessarily be the return code of the command - you may need to bit shift it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1443711628, "post_id": 32890499, "comment_id": 53611258, "body": "The documentation for <code>system</code> shows how to extra the different values from <code>$?</code>."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 14, "last_activity_date": 1587992867, "last_edit_date": 1592644375, "creation_date": 1443710785, "answer_id": 32890499, "question_id": 32890448, "link": "https://stackoverflow.com/questions/32890448/get-return-code-and-output-from-command-in-perl/32890499#32890499", "title": "Get return code and output from command in Perl", "body": "<p>After backticks are run, the return code is available in <a href=\"https://metacpan.org/pod/perlvar#$?\" rel=\"noreferrer\"><code>$?</code></a>.</p>\n<blockquote>\n<p><code>$?</code></p>\n<p>The status returned by the last pipe close, backtick (``) command, successful call to wait() or waitpid(), or from the system() operator. This is just the 16-bit status word returned by the traditional Unix wait() system call (or else is made up to look like it).</p>\n</blockquote>\n<pre><code>$output = `$some_command`;\nprint &quot;Output of $some_command was '$output'.\\n&quot;;\nprint &quot;Exit code of $some_command was $?\\n&quot;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1443711846, "post_id": 32890686, "comment_id": 53611414, "body": "<a href=\"https://metacpan.org/pod/perl589delta#New-internal-variables\" rel=\"nofollow noreferrer\">Introduced in perl 5.8.9</a>"}], "tags": [], "owner": {"reputation": 1002, "user_id": 432519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hz8cD.jpg?s=128&g=1", "display_name": "Andrew Yochum", "link": "https://stackoverflow.com/users/432519/andrew-yochum"}, "is_accepted": false, "score": 3, "last_activity_date": 1443711324, "creation_date": 1443711324, "answer_id": 32890686, "question_id": 32890448, "link": "https://stackoverflow.com/questions/32890448/get-return-code-and-output-from-command-in-perl/32890686#32890686", "title": "Get return code and output from command in Perl", "body": "<p>The universal solution for backticks, system(), etc is to use the <code>${^CHILD_ERROR_NATIVE}</code> variable. See the perlvar perldoc:\n<a href=\"http://perldoc.perl.org/perlvar.html#%24%7b%5eCHILD_ERROR_NATIVE%7d\" rel=\"nofollow\">http://perldoc.perl.org/perlvar.html#%24%7b%5eCHILD_ERROR_NATIVE%7d</a></p>\n\n<blockquote>\n  <p>${^CHILD_ERROR_NATIVE}\n  The native status returned by the last pipe close, backtick (`` ) command, successful call to wait() or waitpid(), or from the system() operator. On POSIX-like systems this value can be decoded with the WIFEXITED, WEXITSTATUS, WIFSIGNALED, WTERMSIG, WIFSTOPPED, WSTOPSIG and WIFCONTINUED functions provided by the POSIX module.</p>\n</blockquote>\n"}], "owner": {"reputation": 984, "user_id": 889438, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/274488fec6b4e27d703bbfcf1b92d343?s=128&d=identicon&r=PG", "display_name": "coconut", "link": "https://stackoverflow.com/users/889438/coconut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9253, "favorite_count": 1, "accepted_answer_id": 32890499, "answer_count": 2, "score": 8, "last_activity_date": 1587992867, "creation_date": 1443710632, "question_id": 32890448, "link": "https://stackoverflow.com/questions/32890448/get-return-code-and-output-from-command-in-perl", "title": "Get return code and output from command in Perl", "body": "<p>I'm trying to write a utility that will go through a file that would look like this: </p>\n\n<pre><code># Directory | file name | action | # of days without modification to the file for the command to take action\n/work/test/|a*|delete|1\n/work/test/|b*|compress|0\n/work/test/|c*|compress|1\n</code></pre>\n\n<p>My script will go through the file deciding if, for example, there are files under /work/test/ that start with 'a' that haven't been modified in the last 1 days, and if so, it would delete them. </p>\n\n<p>For this, I use the find command. Example: </p>\n\n<pre><code>my $command = \"find \" . $values[0] . $values[1] . \" -mtime +\" . $values[3] . \" -delete ;\\n\";\nsystem ($command);\n</code></pre>\n\n<p>But, I've been asked to retrieve the return code for each step to verify that the every step worked fine. </p>\n\n<p>Now, I know that system() returns the return code, and the backticks return the output. But, how can I get both? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 3, "creation_date": 1443710277, "post_id": 32890276, "comment_id": 53610275, "body": "May we see your Perl code so far? What problem are you having? What is &quot;POS&quot;?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443710378, "post_id": 32890276, "comment_id": 53610348, "body": "As it stands it is unclear what you&#39;re actually asking. We don&#39;t know what &quot;POS&quot; is, nor do we know what your algorithm is. However for manipulating tab separated fields, I&#39;d suggest what you want is a combination of <code>split</code> and a hash."}, {"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443710586, "post_id": 32890276, "comment_id": 53610503, "body": "POS stands for Parts of speech which are basically the nouns, verbs etc.i am trying to compare two text files  with names and associated tags on them and return the words which are common on both the files on a separate file. my $filename = &#39;bangla_train.txt&#39;; open(my $fh, $filename)   or die &quot;Could not open file &#39;$filename&#39;&quot;;  while (my $row = &lt;$fh&gt;) {   chomp $row;   print &quot;$row\\n&quot;; } my $tagfile = &#39;file1.txt&#39;; open(my $tg, $tagfile)   or die &quot;Could not open file &#39;$filename&#39;&quot;; while (my $row = &lt;$tg&gt;) { \tchomp $row; \tprint &quot;$row\\n&quot;; \t} This coding is just reading and printing both the files."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1443710714, "post_id": 32890276, "comment_id": 53610613, "body": "You need to <a href=\"https://stackoverflow.com/posts/32890276/edit\">edit</a> the question by clicking the [<a href=\"https://stackoverflow.com/posts/32890276/edit\">edit</a>] link below the question."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1443710973, "post_id": 32890276, "comment_id": 53610817, "body": "I&#39;m voting to put on hold at present, but if the question closes and you are able to edit in your code, I&#39;ll happily cast a reopen vote."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1443711467, "post_id": 32890276, "comment_id": 53611169, "body": "Are you trying to match &quot;N&quot;/&quot;V&quot;? (I assume noun/verb) or just the presence of word in the files?"}, {"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443712214, "post_id": 32890276, "comment_id": 53611651, "body": "I am trying to match the words with the same tags (Nouns/Verbs) and print them in a separate file. SO, the program should take a word from file A, search it in file B, If both the word and the corresponding tags match then print them in file c."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1443713321, "post_id": 32890276, "comment_id": 53612375, "body": "Your current code doesn&#39;t do any comparisons, it simply prints the contents of each file.  No attempt is made to compare anything."}, {"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443713753, "post_id": 32890276, "comment_id": 53612647, "body": "Yes thats what I could execute correctly till now. I am trying to edit the program with different pattern matching codes but nothing is giving a valid output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1466698862, "post_id": 32890276, "comment_id": 63437573, "body": "I have read these questions and tried to help with them: <a href=\"http://stackoverflow.com/questions/37974486/separating-an-output-with-a-tab-space-perl\"><i>Separating an Output with a Tab / Space : Perl</i></a>, <a href=\"http://stackoverflow.com/questions/37905961/search-for-words-ending-with-ing-from-a-text-file-in-perl\"><i>Search for words ending with &#39;ing&#39; from a text file in perl</i></a>, <a href=\"http://stackoverflow.com/questions/32890276/trying-to-compare-parts-of-speech-tags-of-two-files-and-print-the-matched-tags\"><i>Trying to compare &quot;parts of speech&quot; tags of two files and print the matched tags in a separate file</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1466698921, "post_id": 32890276, "comment_id": 63437612, "body": "They are all very similar questions, and it is looking like you&#39;re not learning anything from the answers that we give you. You won&#39;t learn Perl by getting others to solve your problems, only by <i>learning the Perl language</i>. We can&#39;t help with that here, but <a href=\"http://learn.perl.org/\" rel=\"nofollow noreferrer\">learn.perl.org</a> is an excellent resource. You must start learning properly instead of making imaginary progress by using other people&#39;s effort."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443717162, "post_id": 32891619, "comment_id": 53614658, "body": "Thanks for your suggestion but I am using the Perl version 5.8.8. So, the coding is giving compilation errors due to different version of Perl. Can you please let me know how should I do the coding in v5.8.8."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443718047, "post_id": 32891619, "comment_id": 53615105, "body": "@Nandini143, Try removing the <code>use 5.010;</code> line and change this line: <code>say join &#39; &#39;, $word, ($pos) x 2;</code> to <code>print join &#39; &#39;, $word, ($pos) x 2; print &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443730373, "post_id": 32891619, "comment_id": 53621432, "body": "Yes, remove the <code>use 5.010</code> and convert the <code>say</code> statement to use <code>print</code> instead. But why are you using such an old and unsupported version of Perl?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443734405, "post_id": 32891619, "comment_id": 53623407, "body": "At which point the question becomes &quot;why are you using the system Perl?&quot; :-)"}, {"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443776151, "post_id": 32891619, "comment_id": 53635829, "body": "Thank you @DaveCross The code is running perfectly and giving the expected output. However, I am getting two command line errors while executing the program and which reads &quot;Use of uninitialized value in join or string at test6.pl line 16, &lt;&gt; line 21598&quot; and &quot;Use of uninitialized value in hash element at test6.pl line 10, &lt;&gt; line 2159&quot;. Do you have any ideas how can I fix them."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443776731, "post_id": 32891619, "comment_id": 53636147, "body": "You probably need to replace that line with <code>if (exists $words{$file1} &amp;&amp; exists $words{$file1}{$word} &amp;&amp; exists $words{$file1}{$pos})</code>. Which is annoying."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443776835, "post_id": 32891619, "comment_id": 53636201, "body": "If my answer is useful, then please vote it up or accept it."}, {"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443776961, "post_id": 32891619, "comment_id": 53636261, "body": "Just to correct myself, the code is giving partial output, and the values are correct. But, the program breaks due to the aforementioned errors."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443777114, "post_id": 32891619, "comment_id": 53636344, "body": "They aren&#39;t errors, they are warnings. They won&#39;t stop the program working. If the program isn&#39;t working as you want it to, that&#39;s probably because I&#39;m guessing at most of your requirements."}, {"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443777703, "post_id": 32891619, "comment_id": 53636637, "body": "The program does works but it does not give the complete output and the values are missing from the output and some values are duplicate  and modifying the code as you suggested dint work as well. Hard luck!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1443777909, "post_id": 32891619, "comment_id": 53636732, "body": "Can you provide test data that demonstrates the problems? Perhaps you could try debugging the code and fixing the problem yourself. I&#39;ve given you a good start."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1443775295, "last_edit_date": 1443775295, "creation_date": 1443713974, "answer_id": 32891619, "question_id": 32890276, "link": "https://stackoverflow.com/questions/32890276/trying-to-compare-parts-of-speech-tags-of-two-files-and-print-the-matched-tags/32891619#32891619", "title": "Trying to compare &quot;parts of speech&quot; tags of two files and print the matched tags in a separate file", "body": "<p>It's really unclear what you're asking for. But I think this is close.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy ($file1, $file2) = @ARGV;\n\nmy %words; # Keep details of the words\nwhile (&lt;&gt;) { # Read all input files a line at a time\n  chomp;\n  my ($word, $pos) = split;\n  $words{$ARGV}{$word}{$pos}++;\n\n  # If we're processing file1 then don't look for a match\n  next if $ARGV eq $file1;\n\n  if (exists $words{$file1}{$word}{$pos}) {\n     print join(' ', $word, ($pos) x 2), \"\\n\";\n  }\n}\n</code></pre>\n\n<p>Running it like this:</p>\n\n<pre><code>./pos file1 file2\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>boy N N\ngirl N N\nloves V V\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443716468, "post_id": 32891740, "comment_id": 53614282, "body": "Thanks for the suggestion but the coding is giving error in the use of hash element for both the files during execution. So,how should I rectify this error."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "edited": false, "score": 0, "creation_date": 1443716713, "post_id": 32891740, "comment_id": 53614418, "body": "Sorry, I don&#39;t know - I don&#39;t have enough detail."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1443714407, "creation_date": 1443714407, "answer_id": 32891740, "question_id": 32890276, "link": "https://stackoverflow.com/questions/32890276/trying-to-compare-parts-of-speech-tags-of-two-files-and-print-the-matched-tags/32891740#32891740", "title": "Trying to compare &quot;parts of speech&quot; tags of two files and print the matched tags in a separate file", "body": "<p>OK, first off what you want is a <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\"><code>hash</code></a>. </p>\n\n<p>You need to:</p>\n\n<ul>\n<li>read the first file, split it into \"word\" and \"pos\". </li>\n<li>save it in a hash</li>\n<li>read the second file, split each line into \"word\" and \"pos\". </li>\n<li>compare it to the hash you populated, and check it matches. </li>\n</ul>\n\n<p>Something like this:</p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings;\n\n#declare our hash:\n\nmy %pos_for;\n\n\n#open the first file\nmy $filename = 'file1.txt';\nopen( my $fh, '&lt;', $filename ) or die \"Could not open file '$filename'\";\n\nwhile (&lt;$fh&gt;) {\n    #remove linefeed from this line.\n    #note - both chomp and split default to using $_ which is defined by the while loop.\n    chomp;\n\n    #split it on whitespace.\n    my ( $word, $pos ) = split;\n\n    #record this value in the hash %pos_for\n    $pos_for{$word} = $pos;\n}\nclose($fh);\n\n#process second file:\n\nmy $tagfile = 'file2.txt';\nopen( my $tg, '&lt;', $tagfile ) or die \"Could not open file '$filename'\";\nwhile (&lt;$tg&gt;) {\n\n    #remove linefeed from this line.\n    chomp;\n\n    #split it on whitespace.\n    my ( $word, $pos ) = split;\n\n    #check if this word was in the other file\n    if (defined $pos_for{$word}\n        #and that it's the same \"pos\" value.\n        and $pos_for{$word} eq $pos\n        )\n    {\n        print \"$word $pos\\n\";\n    }\n}\nclose($tg);\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4090045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/221389e356f56892a00164f051b81590?s=128&d=identicon&r=PG&f=1", "display_name": "Nandini143", "link": "https://stackoverflow.com/users/4090045/nandini143"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 32891619, "answer_count": 2, "score": -1, "last_activity_date": 1443775295, "creation_date": 1443710142, "last_edit_date": 1443711973, "question_id": 32890276, "link": "https://stackoverflow.com/questions/32890276/trying-to-compare-parts-of-speech-tags-of-two-files-and-print-the-matched-tags", "title": "Trying to compare &quot;parts of speech&quot; tags of two files and print the matched tags in a separate file", "body": "<p>I am trying to code a perl program to compare the \"parts of speech\" tags of two text files and print the matched tags along with the corresponding words in a separate file in Windows. </p>\n\n<pre><code>File1:\nboy N\nwent V\nloves V\ngirl N\nFile2:\nboy N\nswims V\ngirl N\nloves V\n</code></pre>\n\n<p>The expected output:\n    boy N N\n    girl N N\n    loves V V</p>\n\n<p>The columns are separated by tabs. The coding I did so far:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filename = 'file1.txt';\nopen(my $fh, $filename)\n  or die \"Could not open file '$filename'\";\n\nwhile (my $row = &lt;$fh&gt;) {\n  chomp $row;\n  print \"$row\\n\";\n}\nmy $tagfile = 'file2.txt';\nopen(my $tg, $tagfile)\n  or die \"Could not open file '$filename'\";\nwhile (my $row = &lt;$tg&gt;) {\n    chomp $row;\n    print \"$row\\n\";\n    } \n</code></pre>\n"}, {"tags": ["perl", "ref", "filehandle", "typeglob"], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1443705235, "post_id": 32888136, "comment_id": 53606755, "body": "Which module you can advice to dump glob?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1443705660, "post_id": 32888136, "comment_id": 53607055, "body": "<code>use Data::Dump qw&#47; pp &#47;; print pp \\*F</code> does not show that glob has {IO}"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 4, "creation_date": 1443705788, "post_id": 32888136, "comment_id": 53607154, "body": "A <a href=\"http://perl5.git.perl.org/perl.git/blob/5a4fed095144d9c2f728401b3a0938f80aca4bcc:/gv.h#l11\" rel=\"nofollow noreferrer\">glob</a> is a C struct. As always, if you want to look at the internals of a Perl variable, use Devel::Peek.  <code>perl -MDevel::Peek -e&#39;Dump(*STDOUT)&#39;</code>. I think you want to read <a href=\"http://search.cpan.org/dist/illguts/\" rel=\"nofollow noreferrer\">illguts</a>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1443715114, "post_id": 32888136, "comment_id": 53613484, "body": "No, that is not the thing I want. Want to see the IO object&#39;s properties:  autoflush flag, the cursor, attached layers etc. so that it has been shown like HASH were"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 3, "creation_date": 1443715632, "post_id": 32888136, "comment_id": 53613789, "body": "You said you wanted to dump a glob, not an IO object. Dumping a glob doesn&#39;t recurse, but you can dump the IO object itself. <code>perl -MDevel::Peek -e&#39;Dump(*STDOUT{IO})&#39;</code>. There is no cursor (that&#39;s on the OS side), and the layers can be shown using <code>PerlIO::get_layers</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1443704888, "last_edit_date": 1443704888, "creation_date": 1443704126, "answer_id": 32888136, "question_id": 32887843, "link": "https://stackoverflow.com/questions/32887843/why-ref-does-not-return-glob/32888136#32888136", "title": "Why ref does not return &#39;GLOB&#39;?", "body": "<ul>\n<li><code>t( F )</code>: A string<sup>[1]</sup> isn't a reference to a glob.</li>\n<li><code>t( \\F )</code>: A reference to a string isn't a reference to a glob.</li>\n<li><code>t( *F )</code>: A glob isn't a reference to a glob.</li>\n<li><code>t( \\*F )</code>: A reference to a glob is a reference to a glob.</li>\n</ul>\n\n<hr>\n\n<ol>\n<li>&laquo;A word that has no other interpretation in the grammar will be treated as if it were a quoted string. These are known as \"<a href=\"http://perldoc.perl.org/perldata.html#Barewords\">barewords</a>\".&raquo;</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1443704949, "last_edit_date": 1443704949, "creation_date": 1443704278, "answer_id": 32888189, "question_id": 32887843, "link": "https://stackoverflow.com/questions/32887843/why-ref-does-not-return-glob/32888189#32888189", "title": "Why ref does not return &#39;GLOB&#39;?", "body": "<p>Without <a href=\"http://p3rl.org/strict\" rel=\"nofollow\">strict</a>, identifiers without other meaning are interpreted as barewords, and barewords produce strings. That explains the first two lines (cf. <code>print \\\"F\"</code> for the second one).</p>\n\n<p>The interpolation of globs (3rd line) is documented in <a href=\"http://p3rl.org/perlref\" rel=\"nofollow\">perlref</a>.</p>\n\n<blockquote>\n  <p><code>*foo{NAME}</code> and <code>*foo{PACKAGE}</code> are the exception, in that they return strings, rather than references. These return the package and name of the typeglob itself, rather than one that has been assigned to it. So, after <code>*foo=*Foo::bar</code>, <code>*foo</code> will become <code>\"*Foo::bar\"</code> when used as a string, but <code>*foo{PACKAGE}</code> and <code>*foo{NAME}</code> will continue to produce <code>\"main\"</code> and <code>\"foo\"</code>, respectively.</p>\n</blockquote>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 1, "accepted_answer_id": 32888136, "answer_count": 2, "score": 3, "last_activity_date": 1443704949, "creation_date": 1443703175, "question_id": 32887843, "link": "https://stackoverflow.com/questions/32887843/why-ref-does-not-return-glob", "title": "Why ref does not return &#39;GLOB&#39;?", "body": "<p>I want to understand typeglobs better and write small programm:</p>\n\n<pre><code>use Symbol;\n\nopen F, '&gt;', \\my $var;\nt( F );\nt( \\F );\nt( *F );\nt( \\*F );\nsub t {\n   my $fh =  shift;\n   print \"&gt;&gt;$fh&lt;&lt;\" . ref( $fh ) .\"\\n\";\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>&gt;&gt;F&lt;&lt;\n&gt;&gt;SCALAR(0x1e67fc8)&lt;&lt;SCALAR\n&gt;&gt;*main::F&lt;&lt;\n&gt;&gt;GLOB(0x1e53150)&lt;&lt;GLOB\n</code></pre>\n\n<p>Why <em>GLOB</em> is returned only in last case?</p>\n"}, {"tags": ["regex", "perl", "shell"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1443701003, "post_id": 32887083, "comment_id": 53603826, "body": "Update your regex to <code>\\[(.\\d+,\\d)\\]</code> to match square brackets."}, {"owner": {"reputation": 219, "user_id": 3292147, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/397b70ed93de1c4bbd487e057ec47f6a?s=128&d=identicon&r=PG&f=1", "display_name": "user3292147", "link": "https://stackoverflow.com/users/3292147/user3292147"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1443701491, "post_id": 32887083, "comment_id": 53604162, "body": "this give me similar output as initial command:  cat file_1 | perl -ne &#39;print if s/(2015-09-..) .*for &#91;(.\\d+,\\d)&#93;/\\1/&#39;  2015-09-02: Perform Action. 2015-09-02: Perform Action. 2015-09-02: Perform Bill."}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 3292147, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/397b70ed93de1c4bbd487e057ec47f6a?s=128&d=identicon&r=PG&f=1", "display_name": "user3292147", "link": "https://stackoverflow.com/users/3292147/user3292147"}, "edited": false, "score": 0, "creation_date": 1443703437, "post_id": 32887566, "comment_id": 53605531, "body": "This is it, than you very much"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1443702347, "creation_date": 1443702347, "answer_id": 32887566, "question_id": 32887083, "link": "https://stackoverflow.com/questions/32887083/perl-regex-extract-two-sections-per-line/32887566#32887566", "title": "Perl regex - extract two sections per line", "body": "<p>Match the square brackets, too:</p>\n\n<pre><code> &lt; file_1 perl -ne '/(2015-09-..).*for (\\[[0-9,]+\\])/ and print \"$1 $2\\n\"'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1443703033, "creation_date": 1443703033, "answer_id": 32887794, "question_id": 32887083, "link": "https://stackoverflow.com/questions/32887083/perl-regex-extract-two-sections-per-line/32887794#32887794", "title": "Perl regex - extract two sections per line", "body": "<p>Here's my version in shell using <strong>egrep</strong>, <strong>awk</strong> &amp; <strong>tr</strong></p>\n\n<pre><code>egrep '(2015-09-..) .*for (.[0-9]+,[0-9])' /tmp/xx | awk '{print $1,$9}' | tr -s '[]:' ' '\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1443703155, "creation_date": 1443703155, "answer_id": 32887835, "question_id": 32887083, "link": "https://stackoverflow.com/questions/32887083/perl-regex-extract-two-sections-per-line/32887835#32887835", "title": "Perl regex - extract two sections per line", "body": "<p>How about just splitting and transforming? </p>\n\n<pre><code>#!/usr/bin/env perl \nuse strict;\nuse warnings; \n\nwhile ( &lt;&gt; ) {\n    my @stuff = split /,/;\n    $stuff[2] =~ s/\\].*//;\n    print \"$stuff[0],$stuff[2]\";\n}\n</code></pre>\n\n<p>Or if you're after a single line:</p>\n\n<pre><code>perl -ne 'print join ( \",\", (map { s/\\].*//g; $_ } split /,/)[0,2] );'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 5391906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d6vmng6XOXU/AAAAAAAAAAI/AAAAAAAAABY/XdVov0-iKFE/photo.jpg?sz=128", "display_name": "Ekaterina Klishina", "link": "https://stackoverflow.com/users/5391906/ekaterina-klishina"}, "is_accepted": false, "score": 0, "last_activity_date": 1443768613, "creation_date": 1443768613, "answer_id": 32901880, "question_id": 32887083, "link": "https://stackoverflow.com/questions/32887083/perl-regex-extract-two-sections-per-line/32901880#32901880", "title": "Perl regex - extract two sections per line", "body": "<p>you can use oneliner like this and run it from command line:</p>\n\n<pre><code>perl -lnae '$F[8] =~ /(\\d+,\\d+)/ and print join \" \", $F[0], $1' file.log  \n</code></pre>\n\n<p>1) key <code>-n</code> makes the loop over all lines in input file (file.log).</p>\n\n<p>2) then key <code>-a</code> splits each line by whitespaces and puts nonempty values into <code>@F</code> array. so dates will be in <code>$F[0]</code> and values like \"[735078385,1]:\" will be in <code>$F[8]</code>. i use regexp <code>/(\\d+,\\d+)/</code> to extract right values from <code>$F[8]</code> (without square brackets and colon) and save it into <code>$1</code> variable.</p>\n"}], "owner": {"reputation": 219, "user_id": 3292147, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/397b70ed93de1c4bbd487e057ec47f6a?s=128&d=identicon&r=PG&f=1", "display_name": "user3292147", "link": "https://stackoverflow.com/users/3292147/user3292147"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 32887566, "answer_count": 4, "score": 1, "last_activity_date": 1443768613, "creation_date": 1443700754, "last_edit_date": 1443702914, "question_id": 32887083, "link": "https://stackoverflow.com/questions/32887083/perl-regex-extract-two-sections-per-line", "title": "Perl regex - extract two sections per line", "body": "<p>I am trying to extract information from log files using Perl and regex from command line:</p>\n\n<pre><code>cat file_1 | perl -ne 'print if s/(2015-09-..) .*for (.\\d+,\\d)/\\1/'\n2015-09-02 20:03:05,037 INFO  [ajp-bio-10.247.96.38-27032-exec-92] (RegisterOnlineAction:474) - REGISTRATION for [735078385,1]: Perform Action.\n2015-09-02 20:26:41,383 INFO  [ajp-bio-10.247.96.39-27002-exec-66] (RegisterOnlineAction:474) - REGISTRATION for [724314312,1]: Perform Action.\n2015-09-02 21:09:47,890 INFO  [ajp-bio-10.247.96.38-27002-exec-65] (RegisterOnlineAction:474) - REGISTRATION for [328057138,1]: Perform Bill.\n</code></pre>\n\n<p>But I do not get output I need.</p>\n\n<p>What I need would be:</p>\n\n<pre><code>2015-09-02 735078385,1\n2015-09-02 724314312,1\n2015-09-02 328057138,1\n</code></pre>\n\n<p>'print if s/text/text/' makes search and replace and probably is not best way. But is there any way to select multiple sections per line and get them in output.</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1443701291, "creation_date": 1443701291, "answer_id": 32887248, "question_id": 32886753, "link": "https://stackoverflow.com/questions/32886753/how-can-i-load-a-document-into-couchdb-using-use-couchdbclient-modules-in-p/32887248#32887248", "title": "How can I load a document into couchdb using &quot;use CouchDB::Client;&quot; modules in perl", "body": "<p>Use the document object instead of db object</p>\n\n<pre><code>my $doc = $db-&gt;newDoc-&gt;retrieve('0520027d8c01dw3b');\n</code></pre>\n\n<p>See related discussion on perlmonks: <a href=\"http://www.perlmonks.org/?node_id=1124395\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=1124395</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5397268, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Qm-80lAfHPM/AAAAAAAAAAI/AAAAAAAABRQ/HUHHiMYzHoE/photo.jpg?sz=128", "display_name": "asha desai", "link": "https://stackoverflow.com/users/5397268/asha-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443701291, "creation_date": 1443699757, "last_edit_date": 1443700465, "question_id": 32886753, "link": "https://stackoverflow.com/questions/32886753/how-can-i-load-a-document-into-couchdb-using-use-couchdbclient-modules-in-p", "title": "How can I load a document into couchdb using &quot;use CouchDB::Client;&quot; modules in perl", "body": "<p>I tried using the CPAN <code>CouchDB</code> Modules in my Perl script.\nBut, unable to use the methods in the modules.</p>\n\n<pre><code>my $c = CouchDB::Client-&gt;new(uri=&gt;'http://databaseurl:5989);\n\nmy $db=$newdoc-&gt;retrieve('0520027d8c01dw3b');\n</code></pre>\n\n<p>And got the following error:</p>\n\n<pre><code>Can't locate object method \"retrieve\" via package \"CouchDB::Client\" at test.pl line 22.\n</code></pre>\n\n<p>Retrieve method exists in the <code>CouchDB::Client::Doc.pm</code>, yet I see the above error.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 1, "creation_date": 1443685424, "post_id": 32881839, "comment_id": 53594577, "body": "<a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0122/LibXML.pod\" rel=\"nofollow noreferrer\">XML::LibXML</a>"}, {"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1443687858, "post_id": 32881839, "comment_id": 53595877, "body": "What&#39;s the issue/output?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1443688209, "post_id": 32881839, "comment_id": 53596062, "body": "You&#39;re creating more summary files than original files. Why?"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1443688708, "post_id": 32881839, "comment_id": 53596322, "body": "@reinierpost I want to creat only one file including all data needed. These data are taken from original files."}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 0, "creation_date": 1443688773, "post_id": 32881839, "comment_id": 53596352, "body": "@Pradeep I have not the desired output. this is why I have not written my output here."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1443691275, "post_id": 32881839, "comment_id": 53597993, "body": "The overall logic can be cleaned up a little, it becomes hard to understand what happens. I think it would be better to open the output file once, at the top, write a subroutine that takes a filename and adds that file&#39;s contribution to the output, and call that subroutine for each input file. The general approach seems fine. Another possible approach is to use XSLT."}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1443689260, "post_id": 32883108, "comment_id": 53596664, "body": "Thanks. Oh, I have forgotten to write it as well here. I did now."}], "tags": [], "owner": {"reputation": 1801, "user_id": 279600, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CbvwB.png?s=128&g=1", "display_name": "Alien Life Form", "link": "https://stackoverflow.com/users/279600/alien-life-form"}, "is_accepted": false, "score": 0, "last_activity_date": 1443688971, "creation_date": 1443688971, "answer_id": 32883108, "question_id": 32881839, "link": "https://stackoverflow.com/questions/32881839/writing-xml-file-using-perl/32883108#32883108", "title": "Writing xml file using Perl", "body": "<p>You are creating a document per file per test. You need to hoist the document creation (as well as the root creation etc.) out of the loop.</p>\n\n<p>The XPATH /SquishReport/test/test looks as if it should be /SquishReport/test</p>\n\n<p>And, at some point you will need to do something with $doc (like writing to a file)</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1443690461, "last_edit_date": 1443690461, "creation_date": 1443689817, "answer_id": 32883388, "question_id": 32881839, "link": "https://stackoverflow.com/questions/32881839/writing-xml-file-using-perl/32883388#32883388", "title": "Writing xml file using Perl", "body": "<p>I would approach it like this:</p>\n\n<ul>\n<li>Use <code>XML::Twig</code> (because I like it).</li>\n<li>Create a \"parent\" XML document</li>\n<li>iterate each XML file and use the <code>cut</code> and <code>paste</code> methods in <code>XML::Twig</code> to transfer the content across (and prune it if necessary). I'm pretty sure <code>XML::LibXML</code>  can do this too, if you prefer it.</li>\n<li>Print the \"parent\" doc. </li>\n</ul>\n\n<p>Something a little like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $new_xml = XML::Twig-&gt;new( pretty_print =&gt; 'indented_a' );\n$new_xml-&gt;set_root( XML::Twig::Elt-&gt;new('summary') );\n$new_xml-&gt;set_xml_version('1.0');\n$new_xml-&gt;set_encoding('utf-8');\n\nmy $input_processor = XML::Twig-&gt;new-&gt;parsefile('sample_squish.xml');\nforeach my $result ( $input_processor-&gt;findnodes('//result') ) {\n    $result-&gt;cut;\n    $result-&gt;paste( $new_xml-&gt;root );\n}\n\nopen( my $output, '&gt;', 'summary.xml' ) or die $!;\nprint {$output} $new_xml-&gt;sprint;\nclose($output);\n</code></pre>\n\n<p>You'll need to:</p>\n\n<ul>\n<li>iterate your files (I've only got one sample) with a <code>foreach</code>/<code>glob</code></li>\n<li>select the <code>findnodes</code> expression. The above only gathers <code>result</code> elements, but I think you want more than that. Remember - you can either <code>findnodes</code> again, or use <code>children</code> to act on ... child nodes, or <code>parent</code> to act on the parent node. (e.g. <code>$result -&gt; parent -&gt; att('file')</code>)</li>\n<li>modify the elements.</li>\n<li>paste them into the original document. </li>\n</ul>\n\n<p>I couldn't quite figure out how your testcases/names mapped from source to summary - so it may also be useful to know you can add in a <em>new</em> node if you want:</p>\n\n<pre><code>my $testcase = $new_xml -&gt; root -&gt; insert_new_elt('testcase', { name =&gt; \"name_of_the_test\" }); \n$testcase -&gt;set_att('some_other_att', 42);\n$result-&gt;cut;\n$result-&gt;paste( $testcase );\n</code></pre>\n\n<p>This'll insert the <code>$result</code> element from one file, into the newly created <code>testcase</code> element in the new document. </p>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 32883388, "answer_count": 2, "score": 1, "last_activity_date": 1443690461, "creation_date": 1443684693, "last_edit_date": 1443689225, "question_id": 32881839, "link": "https://stackoverflow.com/questions/32881839/writing-xml-file-using-perl", "title": "Writing xml file using Perl", "body": "<p>I am new to xml. I have 10 XML files which contain some \"squish report\" as follows(<em>I am not looking for the answer just guidance on how I could approach it</em>):</p>\n\n<pre><code>&lt;SquishReport&gt;\n&lt;test name=\"mat_tst_versions\"&gt;\n&lt;prolog time=\"2015-06-16T13:49:54+02:00\"/&gt;\n&lt;message type=\"FATAL\" time=\"2015-06-16T13:50:54+02:00\"&gt;\n    &lt;description&gt;&lt;![CDATA[Execution error]]&gt;&lt;/description&gt;\n    &lt;description type=\"DETAILED\"&gt;&lt;![CDATA[squishrunner exited with code 3 when executing tst_start_app]]&gt;&lt;/description&gt;\n&lt;/message&gt;\n&lt;test name=\"tst_check_versions\"&gt;\n    &lt;prolog time=\"2015-06-16T13:50:55+02:00\"/&gt;\n    &lt;message line=\"274\" type=\"LOG\" file=\"C:\\test\\scripts\\utilities.py\" time=\"2015-06-16T13:50:59+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[is 64 bit windows version: True]]&gt;&lt;/description&gt;\n    &lt;/message&gt;            \n    &lt;message line=\"124\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_check_versions\\test.py\" time=\"2015-06-16T13:50:59+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[    path exists!]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"129\" type=\"FAIL\" file=\"C:\\test\\mat_tst\\tst_check_versions\\test.py\" time=\"2015-06-16T13:50:59+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[expected version: 1.0.0.107]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;verification line=\"132\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_check_versions\\test.py\"&gt;\n        &lt;result type=\"PASS\" time=\"2015-06-16T13:50:59+02:00\"&gt;\n            &lt;description&gt;version check test case passes!&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;epilog time=\"2015-06-16T13:50:59+02:00\"/&gt;\n&lt;/test&gt;        \n&lt;test name=\"tst_scheduler_1\"&gt;\n    &lt;prolog time=\"2015-06-16T13:51:00+02:00\"/&gt;\n    &lt;message line=\"62\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:51:00+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[count = 0]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"125\" type=\"LOG\" file=\"C:\\test\\scripts\\start_stop.py\" time=\"2015-06-16T13:51:06+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[duration of start of C: 5132ms]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"172\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:51:19+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[application name = C]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"184\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:51:19+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[start application: C]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"213\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:51:19+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[Scheduler Label exists]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"219\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:51:19+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[Scheduler Counter exists]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;verification line=\"368\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\"&gt;\n        &lt;result type=\"FAIL\" time=\"2015-06-16T13:52:01+02:00\"&gt;\n            &lt;description&gt;different types elements&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;verification line=\"369\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\"&gt;\n        &lt;result type=\"FAIL\" time=\"2015-06-16T13:52:01+02:00\"&gt;\n            &lt;description&gt;name_list= ['Scheduler', 'NCU', 'PLCSimAdv', 'simNCK', 'MCP']&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;verification line=\"370\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\"&gt;\n        &lt;result type=\"FAIL\" time=\"2015-06-16T13:52:01+02:00\"&gt;\n            &lt;description&gt;typ_list= ['Scheduler', u'NCU', u'PLCSimAdv']&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;message line=\"393\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:52:08+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[:840evoVC.lblClockCounter_Edit = 0]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;verification line=\"411\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\"&gt;\n        &lt;result type=\"FAIL\" time=\"2015-06-16T13:52:08+02:00\"&gt;\n            &lt;description&gt;scheduler counter 1. read, n=0: Scheduler= 0&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;verification line=\"414\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\"&gt;\n        &lt;result type=\"FAIL\" time=\"2015-06-16T13:52:08+02:00\"&gt;\n            &lt;description&gt;scheduler counter 2. read, n=0: Scheduler= 0&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;message line=\"421\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:52:08+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[scheduler counter 1. read &lt; counter 2. read, n=0: Scheduler= 0]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"484\" type=\"ERROR\" file=\"C:\\test\\mat_tst\\tst_scheduler_1\\test.py\" time=\"2015-06-16T13:52:29+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[Script Error]]&gt;&lt;/description&gt;\n        &lt;description type=\"DETAILED\"&gt;&lt;![CDATA[LookupError: Object ':840evoVC.chkSchedule_CheckBox_2' not ready.]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;epilog time=\"2015-06-16T13:52:29+02:00\"/&gt;\n&lt;/test&gt;\n&lt;test name=\"tst_run_plc\"&gt;\n    &lt;prolog time=\"2015-06-16T13:52:30+02:00\"/&gt;\n    &lt;verification line=\"45\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_run_plc\\test.py\"&gt;\n        &lt;result type=\"FAIL\" time=\"2015-06-16T13:52:30+02:00\"&gt;\n            &lt;description&gt;user path folder already exists!&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;message line=\"125\" type=\"LOG\" file=\"C:\\test\\scripts\\start_stop.py\" time=\"2015-06-16T13:52:34+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[duration of start of 840evoVC: 4263ms]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"54\" type=\"LOG\" file=\"C:\\test\\mat_tst_840evovc\\tst_run_plc\\test.py\" time=\"2015-06-16T13:52:34+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[start ok, duration = 4263000]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"64\" type=\"LOG\" file=\"C:\\test\\mat_tst_840evovc\\tst_run_plc\\test.py\" time=\"2015-06-16T13:52:34+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[application started: 840evoVC]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"78\" type=\"LOG\" file=\"C:\\test\\mat_tst_840evovc\\tst_run_plc\\test.py\" time=\"2015-06-16T13:52:39+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[PLC Sim Advanced tmp user files are the expected files]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"263\" type=\"LOG\" file=\"C:\\test\\scripts\\start_stop.py\" time=\"2015-06-16T13:52:45+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[all applications are closed]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"87\" type=\"LOG\" file=\"C:\\test\\mat_tst_840evovc\\tst_run_plc\\test.py\" time=\"2015-06-16T13:52:45+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[close application ok]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;epilog time=\"2015-06-16T13:52:45+02:00\"/&gt;\n&lt;/test&gt;\n&lt;test name=\"tst_app_resources\"&gt;\n    &lt;prolog time=\"2015-06-16T13:52:47+02:00\"/&gt;\n    &lt;message line=\"65\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_app_resources\\test.py\" time=\"2015-06-16T13:52:49+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[count:0]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"125\" type=\"LOG\" file=\"C:\\test\\scripts\\start_stop.py\" time=\"2015-06-16T13:52:53+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[duration of start: 4176ms]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"73\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_app_resources\\test.py\" time=\"2015-06-16T13:52:53+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[start ok, duration = 4176000]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"43\" type=\"LOG\" file=\"C:\\test\\scripts\\win32utilities.py\" time=\"2015-06-16T13:53:00+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[Application 840evovc only exists once]]&gt;&lt;/description&gt;\n    &lt;/message&gt;            \n    &lt;message line=\"138\" type=\"ERROR\" file=\"C:\\test\\mat_tst_\\tst_app_resources\\test.py\" time=\"2015-06-16T13:53:30+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[Script Error]]&gt;&lt;/description&gt;\n        &lt;description type=\"DETAILED\"&gt;&lt;![CDATA[LookupError: Object ':chkSchedule_CheckBox_2' not ready.\n            Called from:\n        C:\\test\\mat_tst\\tst_app_resources\\test.py: 82]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;epilog time=\"2015-06-16T13:53:30+02:00\"/&gt;\n&lt;/test&gt;\n&lt;test name=\"tst_reset\"&gt;\n    &lt;prolog time=\"2015-06-16T13:53:32+02:00\"/&gt;   \n    &lt;message line=\"260\" type=\"LOG\" file=\"C:\\test\\scripts\\start_stop.py\" time=\"2015-06-16T13:56:12+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[Process exited.]]&gt;&lt;/description&gt;          \n    &lt;/message&gt;\n    &lt;message line=\"263\" type=\"LOG\" file=\"C:\\test\\scripts\\start_stop.py\" time=\"2015-06-16T13:56:12+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[all applications are closed]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;message line=\"284\" type=\"LOG\" file=\"C:\\test\\mat_tst\\tst_reset\\test.py\" time=\"2015-06-16T13:56:12+02:00\"&gt;\n        &lt;description&gt;&lt;![CDATA[application closed]]&gt;&lt;/description&gt;\n    &lt;/message&gt;\n    &lt;verification line=\"287\" type=\"\" name=\"\" file=\"C:\\test\\mat_tst\\tst_reset\\test.py\"&gt;\n        &lt;result type=\"PASS\" time=\"2015-06-16T13:56:12+02:00\"&gt;\n            &lt;description&gt;tst_reset_1 ok&lt;/description&gt;\n            &lt;description type=\"DETAILED\"&gt;&lt;/description&gt;\n        &lt;/result&gt;\n    &lt;/verification&gt;\n    &lt;epilog time=\"2015-06-16T13:56:12+02:00\"/&gt;\n&lt;/test&gt;\n&lt;epilog time=\"2015-06-16T13:56:13+02:00\"/&gt;\n&lt;/test&gt; \n&lt;/SquishReport&gt;\n</code></pre>\n\n<p>Now I want to create another XML file which contains a summary of the XML files. What I need to have in new XML file just only the <code>&lt;/test&gt;\n&lt;/SquishReport&gt;</code> of each file and then a line link this</p>\n\n<pre><code>&lt;result state= \"Passed\" href=\"link to the file\"*.xml /&gt;\n</code></pre>\n\n<p><code>\"Passed\"</code> if <code>&lt;result type=\"PASS\"</code> otherwise <code>\"NOT Passed\"</code>.</p>\n\n<p>In total what I expect in new XML file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;summary&gt;\n  &lt;testcase name=\"name of testcase1\"&gt;\n     &lt;result state= \"Passed\" href=\"link to file1\"*.xml /&gt; (for the first file)\n     &lt;result state= \"Passed\" href=\"link to file2\"*.xml /&gt; (for the second file)\n     ......\n  &lt;testcase/&gt;\n  &lt;testcase name=\"name of testcase2\"&gt;\n     &lt;result state= \"Passed\" href=\"link to file1\"*.xml /&gt; (for the first file)\n     &lt;result state= \"Passed\" href=\"link to file2\"*.xml /&gt; (for the second file)\n     ......\n  &lt;testcase/&gt;\n  ....\n  &lt;testcase name=\"name of testcasen\"&gt;\n     &lt;result state= \"Passed\" href=\"link to file1\"*.xml /&gt; (for the first file)\n     &lt;result state= \"Passed\" href=\"link to file2\"*.xml /&gt; (for the second file)\n     ......\n  &lt;testcase/&gt;\n&lt;summary/&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> Here is what I have so far:</p>\n\n<pre><code>  sub FileCount\n{\nchdir( $dir ) or die \"Couldn't go inside $dir directory, $!\";\nopendir(my $dh, $dir) or die \"$0: $dir: $!\\n\";\nwhile (my $file = readdir($dh)) {\n    # We only want files\n     next unless (-f \"$dir/$file\");\n    # Use a regular expression to find files ending in .xml\n     next unless ($file =~ m/$suff$/);\n\n     my $xml = XML::LibXML-&gt;load_xml(location =&gt; $file);\n\n    # Iterate the entries                           \n     for my $test ($xml-&gt;findnodes('/SquishReport/test/test')) {\n        my $name_test = $test-&gt;findvalue('@name');  \n\n        # looks for if the results is OK or not\n        for my $result ($test-&gt;findnodes('./verification/result')) {\n            my $type_result = $result-&gt;findvalue('@type');\n            ### -----------------------------------------------------------------------\n             my $doc = XML::LibXML::Document-&gt;new('1.0', 'utf-8');\n             my $root = $doc-&gt;createElement(\"summary\");\n             $root-&gt;setAttribute('testcase_name'=&gt; \"$name_test\");\n\n             for my $case_name (keys %tags) {\n                 my $tag = $doc-&gt;createElement($case_name);\n                 my $value = $tags{$case_name};\n                 $tag-&gt;appendTextNode($value);\n                 $root-&gt;appendChild($tag);\n             }\n\n            $doc-&gt;setDocumentElement($root);\n            ### -----------------------------------------------------------------------\n            print \"$type_result = $value_result \\n\";\n            if (($type_result eq \"WARNING\") || ($type_result eq \"FAIL\") || ($type_result eq \"ERROR\") || ($type_result eq \"FATAL\")){\n                $value_result = \"OK\";\n                print \"***********  $name_test is not OK *********** \\n\\n \"; \n            }\n            else{\n                $value_result = \"NOT_OK\";\n                print \"***********  $name_test is OK *********** \\n\\n \";\n            }\n        }\n        print \"\\n\";\n     }\n    #}\n     print \"$file\\n\";       \n     $count = $count + 1;\n}\nclosedir($dh);  \n\nmy $filename = 'report.xml';\nopen(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\nprint $fh $doc-&gt;toString();\nclose $fh;\n</code></pre>\n"}, {"tags": ["perl", "http"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 5, "creation_date": 1443677071, "post_id": 32878933, "comment_id": 53590607, "body": "You basically want application server to decide whether to call or not the script. Good luck with that."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 3, "creation_date": 1443685114, "post_id": 32878933, "comment_id": 53594397, "body": "This smells suspiciously like an X-Y Problem (<a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-probl&zwnj;&#8203;em</a>) What are you actually attempting to accomplish by blocking users from manually entering the URL?"}, {"owner": {"reputation": 1801, "user_id": 279600, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CbvwB.png?s=128&g=1", "display_name": "Alien Life Form", "link": "https://stackoverflow.com/users/279600/alien-life-form"}, "edited": false, "score": 1, "creation_date": 1443689431, "post_id": 32878933, "comment_id": 53596777, "body": "So what should happen when the URL is typed in the address bar?"}], "answers": [{"comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 4, "creation_date": 1443684988, "post_id": 32881790, "comment_id": 53594323, "body": "Note that the second suggestion is easily foiled by users typing the parameter into the address bar along with the URL."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1443686593, "post_id": 32881790, "comment_id": 53595233, "body": "You can also just give a <code>name</code> attribute to the <code>&lt;button&gt;</code> and check that using <code>$cgi-&gt;param</code>. The <code>value</code> attribute will be its value. But @Dave&#39;s argument still applies."}, {"owner": {"reputation": 1801, "user_id": 279600, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CbvwB.png?s=128&g=1", "display_name": "Alien Life Form", "link": "https://stackoverflow.com/users/279600/alien-life-form"}, "edited": false, "score": 0, "creation_date": 1443689401, "post_id": 32881790, "comment_id": 53596761, "body": "One can combine (1) and (2). And then read about several programs that emulate POST from the CLI."}], "tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 4, "last_activity_date": 1443684524, "creation_date": 1443684524, "answer_id": 32881790, "question_id": 32878933, "link": "https://stackoverflow.com/questions/32878933/how-to-make-perl-scripts-get-executed-only-while-user-clicks-on-link-button-etc/32881790#32881790", "title": "How to make Perl scripts get executed only while user clicks on link/button etc", "body": "<p>You can do that, there are two ways to go about it.\nOne, when buttons are clicked you can submit a form using the POST method, and the code should only be execute when the script is invoked using the POST method, e.g.:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"/cgi-bin/abc.cgi\"&gt;&lt;input type=\"submit\" name=\"submit_button\" value=\"Execute me\"&gt;&lt;form&gt;\n</code></pre>\n\n<p>Perl code:</p>\n\n<pre><code>if($ENV{REQUEST_METHOD} eq 'POST') {\n   ## execute special code\n}\n</code></pre>\n\n<p>Two, you can check for an parameter in the query string:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Execute me\" onClick=\"window.location.href='/cgi-bin/abc.cgi?doExecute=1';\"&gt;\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code>use CGI;\n\nmy $cgi = new CGI;\n\nif(defined $cgi-&gt;param('doExecute') &amp;&amp; $cgi-&gt;param('doExecute')) {\n   ## execute special code\n}\n</code></pre>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 7922, "user_id": 1216931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/30f58cc2bfc607ccaabb56839dfdd7e2?s=128&d=identicon&r=PG", "display_name": "Devesh Agrawal", "link": "https://stackoverflow.com/users/1216931/devesh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1443684524, "creation_date": 1443669833, "last_edit_date": 1443682964, "question_id": 32878933, "link": "https://stackoverflow.com/questions/32878933/how-to-make-perl-scripts-get-executed-only-while-user-clicks-on-link-button-etc", "title": "How to make Perl scripts get executed only while user clicks on link/button etc", "body": "<p>I have few Perl scripts those gets execute even if we pass the URL in browser address bar. I just want to stop this behavior. What i want is when user clicks on button or link on which scripts are attached then only they should get execute.</p>\n\n<pre><code>www.example.com/cgi-bin/abc.cgi --- Should not work.\n\n&lt;button on-click=\"/cgi-bin/abc.cgi\"&gt; Execute me &lt;/button&gt; -- it should work\n</code></pre>\n\n<p>How to do this?</p>\n"}, {"tags": ["regex", "perl", "drupal", "pcre"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443671330, "post_id": 32878400, "comment_id": 53589004, "body": "How are these strings getting into the URL in the first place? Do they really contain spaces (encoded as <code>%20</code>)?"}, {"owner": {"reputation": 23, "user_id": 2616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1680b4332402342475406a6549008a12?s=128&d=identicon&r=PG", "display_name": "mateomiguel", "link": "https://stackoverflow.com/users/2616687/mateomiguel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443674976, "post_id": 32878400, "comment_id": 53589977, "body": "the URL is processed before it gets to the regex and by the time that happens the spaces are not encoded, they are just spaces."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443672284, "post_id": 32879040, "comment_id": 53589237, "body": "That will remove just the digits, which is the only part the OP wants to keep"}, {"owner": {"reputation": 23, "user_id": 2616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1680b4332402342475406a6549008a12?s=128&d=identicon&r=PG", "display_name": "mateomiguel", "link": "https://stackoverflow.com/users/2616687/mateomiguel"}, "edited": false, "score": 0, "creation_date": 1443674633, "post_id": 32879040, "comment_id": 53589892, "body": "i&#39;m trying to accomplish the exact opposite of this. don&#39;t select numbers, select everything else."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1443687462, "post_id": 32879040, "comment_id": 53595681, "body": "If it worked, +1. Working answers should never be downvoted, and accepted answers must not be downvoted BY DESIGN."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1443701689, "post_id": 32879040, "comment_id": 53604331, "body": "@stribizhev: The downvote is mine, and it is because the original form of this solution was not a solution at all. See my comment"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443701918, "post_id": 32879040, "comment_id": 53604503, "body": "@vks: Remember that Stack Overflow isn&#39;t a forum.  I am not at all sure what should be best practice here if you want to <i>have another go</i> after posting a trash answer. My first guess is that, if your new solution is substantially different, you should make a new post. Whether you should delete the original or not depends on whether it could be useful to <i>anybody</i> in that form"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 23, "user_id": 2616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1680b4332402342475406a6549008a12?s=128&d=identicon&r=PG", "display_name": "mateomiguel", "link": "https://stackoverflow.com/users/2616687/mateomiguel"}, "edited": false, "score": 0, "creation_date": 1443702174, "post_id": 32879040, "comment_id": 53604677, "body": "@mateomiguel: No reflection on what vks has posted, but this is a <i>horrible</i> solution that needs to be supported by copious comments. It is hard to believe that Drupal won&#39;t let you do this properly. Do you even understand how this regex works yourself?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443702248, "post_id": 32879040, "comment_id": 53604733, "body": "@vks: The OP said <i>&quot;i&#39;m trying to accomplish the exact opposite of this&quot;</i>. I call that a trash answer"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443702595, "post_id": 32879040, "comment_id": 53604953, "body": "@vks: You should also explain how your regex pattern works, as it is far from clear"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443702729, "post_id": 32879040, "comment_id": 53605045, "body": "@Borodin will do that ...why do we need the original post now?to justify ur downvote?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443716064, "post_id": 32879040, "comment_id": 53614036, "body": "@vks: Yes, to make sense of that and my comment and the OP&#39;s, and your response. Stack Overflow is a <i>knowledge base</i>, and the primary purpose of this page is to help other people who come here hoping for a solution to a similar problem. Those people won&#39;t have first-hand experience of the flow of comments, and what is obvious to you won&#39;t be apparent to them. As I said, it would have been better if you had posted a new solution (since that is what it is). Then it would be up to you whether you wanted to delete the original"}, {"owner": {"reputation": 23, "user_id": 2616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1680b4332402342475406a6549008a12?s=128&d=identicon&r=PG", "display_name": "mateomiguel", "link": "https://stackoverflow.com/users/2616687/mateomiguel"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443845786, "post_id": 32879040, "comment_id": 53665047, "body": "@Borodin Honestly I don&#39;t know how the regex works. I was planning to go back and figure it out after this current project is complete. I do understand that the Search404 module in Drupal accepts this regex via an input form on the module configuration page and then plugs it into some php code that searches for matches and replaces them with nothing. I also know that I&#39;m abusing the real purpose of the module by turning what should be a custom search string URL into a new page URL, and that this wouldn&#39;t even work without another module, the Redirect module, catching the new page URL."}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 1, "last_activity_date": 1443702535, "last_edit_date": 1592644375, "creation_date": 1443670712, "answer_id": 32879040, "question_id": 32878400, "link": "https://stackoverflow.com/questions/32878400/perl-compatible-regular-expression-to-select-everything-except-second-word/32879040#32879040", "title": "Perl-compatible regular expression to select everything except second word", "body": "<h3>Update</h3>\n<p>If you are sure numbers come in second position then make use of <code>\\K</code>.</p>\n<pre><code>^\\S+\\s+|\\G(?!^)\\d+\\K|\\G(?!^).*$\n</code></pre>\n<p>Replace by <code>empty string</code>.See demo.</p>\n<p><a href=\"https://regex101.com/r/fX3mH8/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/fX3mH8/3</a></p>\n<br/>\n<hr />\n<h3>Original  post</h3>\n<p>If you are sure numbers come in second position then make use of <code>\\K</code>.</p>\n<pre><code>^\\S+\\s+\\K\\d+\n</code></pre>\n<p>Replace by <code>empty string</code>.See demo.</p>\n<p><a href=\"https://regex101.com/r/fX3mH8/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/fX3mH8/1</a></p>\n"}], "owner": {"reputation": 23, "user_id": 2616687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1680b4332402342475406a6549008a12?s=128&d=identicon&r=PG", "display_name": "mateomiguel", "link": "https://stackoverflow.com/users/2616687/mateomiguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 32879040, "answer_count": 1, "score": 1, "last_activity_date": 1443716436, "creation_date": 1443665481, "last_edit_date": 1592644375, "question_id": 32878400, "link": "https://stackoverflow.com/questions/32878400/perl-compatible-regular-expression-to-select-everything-except-second-word", "title": "Perl-compatible regular expression to select everything except second word", "body": "<p>I'm trying to use a PCRE that selects everything EXCEPT the first string of numbers in a line of text. The number string can be 3, 4, or 5 digits long, but is always the second word after article. Here are some examples:</p>\n<blockquote>\n<p>article 11367 airline experts incheon airport transfers operational expertise indonesia</p>\n<p>article 8364 future investment korean government invest 4 trillion won science technology ict rd</p>\n<p>article 2151 fighter procurement lockheed martin able propose lower prices f 35s</p>\n</blockquote>\n<p>I am currently using the expression <code>\\b(?=\\w*[a-zA-Z])\\w+\\b</code>. This selects everything but the numbers. This is almost perfect, but as you can see in lines 2 and 3 above, sometimes numbers occur after the first set. I want to select every word except the second, or ignore the first set of numbers but include the others, so that in the end the matched result looks like this:</p>\n<blockquote>\n<p>article airline experts incheon airport transfers operational expertise indonesia</p>\n<p>article future investment korean government invest 4 trillion won science technology ict rd</p>\n<p>article fighter procurement lockheed martin able propose lower prices f 35s</p>\n</blockquote>\n<p>I'm doing this because the Drupal module search404 includes a PCRE string in its configuration that selects everything you want to <em>eliminate</em> from the search string. It also includes a function to automatically conduct a custom search URL with the search terms, and lets you construct the URL. I want to construct the URL so that it looks like /node/number, which will automatically send the user from the old article URL (one of the lines above) to the new article URL.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1443672582, "post_id": 32877996, "comment_id": 53589304, "body": "If you lay your program out properly and indent it then it will help you to code more comfortably and accurately, and it will help others to read it when you ask questions. As it stands it&#39;s very difficult to read"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1444025886, "post_id": 32879344, "comment_id": 53709728, "body": "Hi Borodin , Thanks for the example and explaination. It was great. ^ ^"}, {"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1444031383, "post_id": 32879344, "comment_id": 53712295, "body": "This script will be finding all the file in $parent.  If i want to ignore certain of  the file where should i put it?  Like i want to ignore those file naming &quot;File1_datalog.csv&quot; , what should i write with the script above?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1443715676, "last_edit_date": 1592644375, "creation_date": 1443672872, "answer_id": 32879344, "question_id": 32877996, "link": "https://stackoverflow.com/questions/32877996/perl-how-to-read-subfolder-output/32879344#32879344", "title": "Perl , How to read subfolder Output", "body": "<h3>Updated</h3>\n<p>You should look at <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow noreferrer\">the <code>File::Find</code> module</a> which has everything already in place to do searches like this, and has taken account of all corner cases for you</p>\n<p>I wrote that on my tablet and at the time I couldn't offer sample code to support it. I believe this will do what you're asking for, which is simply to find all CSV files at any level beneath a parent directory</p>\n<pre><code>use strict;\nuse warnings;\n\nuse File::Find qw/ find /;\n\nSTDOUT-&gt;autoflush;\n\nmy $parent = '/Multiple Sub-folder';\n\nfind(sub {\n    return unless -f and /\\.csv$/i;\n    print_file_names($File::Find::name);\n}, $parent);\n\nsub print_file_names {\n    my ($fn) = @_;\n    print $fn, &quot;\\n&quot;;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1443760077, "creation_date": 1443760077, "answer_id": 32900553, "question_id": 32877996, "link": "https://stackoverflow.com/questions/32877996/perl-how-to-read-subfolder-output/32900553#32900553", "title": "Perl , How to read subfolder Output", "body": "<p>Without using moudle try this</p>\n\n<p>Instead of <code>opendir</code> can you try <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\">glob</a> for subdirectory search. </p>\n\n<p>In below script i make a subroutine for continuous search.\nWhen elsif condition is satisfied the path of the directory is will go to the <code>find</code> subroutine then it'll seach and so on.  </p>\n\n<pre><code>my $v = \"/Multiple Sub-folder\"; \nfind($v);\nsub find{\n    my ($s) = @_;\n    foreach my $ma (glob \"$s/*\")\n    {\n        if(-f $ma)\n        {\n            if($ma =~m/.csv$/) # Here search for csv files.\n            {\n                print \"$ma\\n\";\n            }\n        }\n        elsif(-d $ma)\n        {\n            find(\"$ma\")\n        }\n\n    }\n}\n</code></pre>\n\n<p>But can you use <code>File::Find</code> module for search the files in the directory as the answer of <code>Borodin</code> Which is the best approach.</p>\n"}], "owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1443760077, "creation_date": 1443662100, "last_edit_date": 1443686269, "question_id": 32877996, "link": "https://stackoverflow.com/questions/32877996/perl-how-to-read-subfolder-output", "title": "Perl , How to read subfolder Output", "body": "<p>I am writing a script to read the content of multiple sub folder in a directory. \nAnd recently i need to read the content of folder inside multiple sub-folder. \nWant to ask how can i write the code to read those folder inside multiple sub-folder.  </p>\n\n<p>This is the new conditions<br>\n<strong>Multiple Sub-folder -> Local folder -> fileAAA.csv</strong><br>\nhow do i read this fileAAA in Local folder of Multiple Sub-folder?</p>\n\n<p>Currently the code i am writing was in this condition and it works well.<br>\n<strong>Multiple Sub-folder -> fileAAA.csv</strong><br>\nAble to read fileAAA from multiple Sub-folder</p>\n\n<p>Below is the code i use to read<br>\n<strong>Multiple Sub-folder -> fileAAA.csv</strong>  </p>\n\n<pre><code>my ( $par_dir, $sub_dir );\nopendir( $par_dir, \"$parent\" );\nwhile ( my $sub_folders = readdir($par_dir) ) {\n    next if ( $sub_folders =~ /^..?$/ );    # skip . and ..\n    my $path = $parent . '/' . $sub_folders;\n    next unless ( -d $path );               # skip anything that isn't a directory\n\n    opendir( $sub_dir, $path );\n    while ( my $file = readdir($sub_dir) ) {\n        next unless $file =~ /\\.csv?$/i;\n        my $full_path = $path . '/' . $file;\n        print_file_names($full_path);\n    }\n    closedir($sub_dir);\n    $flag = 0;\n}\nclosedir($par_dir);\n\n ...... \n</code></pre>\n"}]