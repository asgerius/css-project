[{"tags": ["perl", "chomp"], "comments": [{"owner": {"reputation": 188, "user_id": 1309515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cc6b8d9cfdae568bbb3fc57367fe59?s=128&d=identicon&r=PG", "display_name": "adrianp", "link": "https://stackoverflow.com/users/1309515/adrianp"}, "edited": false, "score": 2, "creation_date": 1479339299, "post_id": 40643851, "comment_id": 68520523, "body": "I&#39;m a bit puzzled by the logic in your program, the error message indicates you are doing something with a file but at that point all its doing is reading input from standard in."}, {"owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "reply_to_user": {"reputation": 188, "user_id": 1309515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cc6b8d9cfdae568bbb3fc57367fe59?s=128&d=identicon&r=PG", "display_name": "adrianp", "link": "https://stackoverflow.com/users/1309515/adrianp"}, "edited": false, "score": 0, "creation_date": 1479339676, "post_id": 40643851, "comment_id": 68520624, "body": "I can post the whole program, I just don&#39;t see how it would help though considering my question though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479340509, "post_id": 40643851, "comment_id": 68520845, "body": "Oh, this update changes things a bit, doesn&#39;t it.  My answer stands for the original question of testing reads from <code>&lt;&gt;</code> and <code>chomp</code>. I&#39;ll update to this new content."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479340287, "post_id": 40644284, "comment_id": 68520771, "body": "But I WANT to, I&#39;m aware I don&#39;t need to."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479340413, "post_id": 40644284, "comment_id": 68520812, "body": "@distro  OK, that&#39;s in principle very good -- but with <code>chomp</code> you don&#39;t <i>want to</i>.  It returns a number of chars that it removed, so if it didn&#39;t find a newline it returns a zero. So a &#39;normal&#39; test  (with <code>or</code>) would trigger for a wrong reason.  If you are concerned with a builtin function call just <i>failing</i> then you&#39;d have to test nearly every statement!"}, {"owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479340601, "post_id": 40644284, "comment_id": 68520881, "body": "Okay, I appreciate the advice. But is there absolutely no way to do this? I want my program to exit as well as display my own message if a file that the user puts in isn&#39;t there."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479340879, "post_id": 40644284, "comment_id": 68520956, "body": "@distro  I&#39;m updating the answer, to your edit.  That&#39;s something else, unrelated to <code>chomp</code>.  The <code>chomp</code> merely works on a <i>string</i>, that in your case contains the file-name and a newline.  It doesn&#39;t deal with the actual file."}, {"owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479341013, "post_id": 40644284, "comment_id": 68521003, "body": "You may want to run the program yourself, the program works fine I just want to know a way to make it exit and print a message if it fails to find a file in the first chomp statement. Maybe it is impossible though and if so what would you recommend me using isteand?"}, {"owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479341112, "post_id": 40644284, "comment_id": 68521040, "body": "ALSO I put the wrong code... My apology I&#39;ll update again"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479341146, "post_id": 40644284, "comment_id": 68521054, "body": "@distro  Again, the <code>chomp</code> statement has absolutely nothing to do with the actual file.  It works on a variable that contains only the <i>name</i> of the file.  You test for a file using <code>-e</code> file-test operator.  I&#39;ve updated the answer, and will add some more"}, {"owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479341561, "post_id": 40644284, "comment_id": 68521187, "body": "Would you be able to PM me? I have a few concerns/questions and don&#39;t want to spam this question."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479341767, "post_id": 40644284, "comment_id": 68521246, "body": "@distro I am be happy to help, but can&#39;t talk extensively right now.  The updates in the answer give you all you need to take the filename and the word to search for, check whether such a file exists in the first place, and then go through its lines.  (Just <code>print</code> them to test that it all works.)  I suggest to work through this first, and then let me know so we can continue.  Normally it is a good idea to ask well-focused questions. So you may want to post another for further concerns.  But let me know what it is in short first."}, {"owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479342037, "post_id": 40644284, "comment_id": 68521322, "body": "I got it working partially to the point where I&#39;m happy that you helped me! lol.. I left my chomp statement and added an if statement to it and it&#39;s doing exactly what I wanted. Thank you very much"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479342416, "post_id": 40644284, "comment_id": 68521436, "body": "@distro  Great -- keep working.  My answer spells out basics of how you open and work with a file.  Read or at least scan through the linked docs.  Let me know how it goes!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "edited": false, "score": 0, "creation_date": 1479344244, "post_id": 40644284, "comment_id": 68521923, "body": "@distro  I added a link to a much better page to read on opening files.  Thank you for the attribution.  As further questions come post them as new questions, if they&#39;re different enough.  I&#39;d suggest to try to articulate things as well as you can and <i>then</i> post.  Let me know if there is more to clarify about this."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1479638405, "last_edit_date": 1479638405, "creation_date": 1479339596, "answer_id": 40644284, "question_id": 40643851, "link": "https://stackoverflow.com/questions/40643851/need-something-like-open-or-die-except-with-chomp/40644284#40644284", "title": "Need something like open OR DIE except with chomp", "body": "<p>You don't need to test the filehandle read <code>&lt;&gt;</code> for success. See <a href=\"http://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow noreferrer\">I/O Operators in perlop</a>. When it has nothing to read it returns an <code>undef</code>, which is precisely what you want so your code knows when to stop reading.</p>\n\n<p>As for removing the newline, you want to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\">chomp</a> separately anyway. Otherwise, once the read does return an <code>undef</code> you'd <code>chomp</code> on an undefined variable, triggering a warning.  </p>\n\n<p>Normally, with a filehandle <code>$fh</code> opened on some resource, you'd do</p>\n\n<pre><code>while (my $line = &lt;$fh&gt;) {\n    chomp $line;\n    # process/store input as it comes ...\n}\n</code></pre>\n\n<p>This can be <code>STDIN</code> as well.  If it is certainly just one line</p>\n\n<pre><code>my $filename = &lt;STDIN&gt;;\nchomp $filename;\n</code></pre>\n\n<p>You don't need to test <code>chomp</code> against failure either. Note that it returns the number of characters that it removed, so if there was no <code>$/</code> (newline typically) it legitimately returns <code>0</code>.</p>\n\n<p>To add, it is a very good practice to always test! As a part of that mindset, please make sure to always <code>use warnings;</code>, and I also strongly recommend coding with <code>use strict;</code>.</p>\n\n<hr>\n\n<p><em>Update to a significant question edit</em></p>\n\n<p>In the first <code>while</code> loop you do not store the filename anywhere. Given the greeting that is printed, instead of that loop you should just read the filename. Then you read the word to search for.</p>\n\n<pre><code># print greeting\n\nmy $filename = &lt;STDIN&gt;;\nchomp $filename;\n\nmy $input = &lt;STDIN&gt;;\nchomp $input;\n</code></pre>\n\n<p>However, then we get to the bigger problem: you need to <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> the file, and only then can you go through it line by line and search for the word.  This is where you need the test. See the linked doc page and the tutorial <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">perlopentut</a>. First check whether a file with that name exists.</p>\n\n<pre><code>if (not -e $filename) {\n    print \"No file $filename. Please try again.\\n\";\n    exit;\n}\n\nopen my $fh, '&lt;', $filename  or die \"Can't open $filename: $!\";\n\nmy $word_count = 0;\nwhile (my $line = &lt;$fh&gt;) \n{\n    # Now search for the word on a line\n    while ($line =~ /\\b$input\\b/g) {\n        $word_count++;\n    }\n}\nclose $fh  or die \"Can't close filehandle: $!\";\n</code></pre>\n\n<p>The <code>-e</code> above is one of the file-tests, this one checking whether the given file exists.  See the doc page for <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file-tests (-X)</a>. In the code above we just exit with a message, but you may want to print the message prompting the user to enter another name, in a loop.  </p>\n\n<p>We use <code>while</code> and the <code>/g</code> modifier in regex to find all occurencies of the word on a line.</p>\n\n<p>I'd like to also strongly suggest to always start your programs with</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7170111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95570eaa6c98adedfdef764814eef5a8?s=128&d=identicon&r=PG&f=1", "display_name": "distro", "link": "https://stackoverflow.com/users/7170111/distro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 40644284, "answer_count": 1, "score": -1, "last_activity_date": 1479638405, "creation_date": 1479337129, "last_edit_date": 1479340220, "question_id": 40643851, "link": "https://stackoverflow.com/questions/40643851/need-something-like-open-or-die-except-with-chomp", "title": "Need something like open OR DIE except with chomp", "body": "<p>I'm fairly new to coding and I need a fail statement to print out as if it were an or die.</p>\n\n<p>Part of my code for an example:</p>\n\n<pre><code>    print \"Please enter the name of the file to search:\";\n    chomp (my $filename=&lt;STDIN&gt;) or die \"No such file exists. Exiting program. Please try again.\"\\n;\n\n    print \"Enter a word to search for:\";\n    chomp (my $word=&lt;STDIN&gt;);\n</code></pre>\n\n<p>I need it to do it for both of these print/chomp statements. Is there anyway to just add on to this?</p>\n\n<p>Whole program:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nprint \"Welcome to the word frequency calculator.\\n\";\nprint \"This program prompts the user for a file to open, \\n\";\nprint \"then it prompts for a word to search for in that file,\\n\";\nprint \"finally the frequency of the word is displayed.\\n\";\nprint \" \\n\";\n\nprint \"Please enter the name of the file to search:\";\nwhile (&lt;&gt;){\n        print;\n}\n\nprint \"Enter a word to search for:\";\nchomp( my $input = &lt;STDIN&gt; );\n\nmy $filename = &lt;STDIN&gt;;\n\nmy$ctr=0;\nforeach( $filename ) {\n        if ( /\\b$input\\b/ ) {\n                $ctr++;\n        }\n}\nprint \"Freq: $ctr\\n\";\n\nexit;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479326213, "post_id": 40641050, "comment_id": 68514293, "body": "Your package-global <code>$CSITOOLS</code> (see <a href=\"http://perldoc.perl.org/functions/our.html\" rel=\"nofollow noreferrer\">our</a>) receives the output of the <code>scitools.sh</code>, which runs under backticks.  Apparently, the output is what you show.  Run it from the command line, should give the same. Btw, you don&#39;t need those <code>{}</code>, there is no problem with <code>$VAR_NAME</code>.  They are needed to separate the variable name from other strings, like <code>${VAR_NAME}_more...</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479326684, "post_id": 40641050, "comment_id": 68514576, "body": "I meant when interpolated, <code>&quot;${VAR_NAME}_more...&quot;</code>. See answer by <a href=\"http://stackoverflow.com/users/5830574/perlduck\">PerlDuck</a>"}, {"owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479329688, "post_id": 40641050, "comment_id": 68516301, "body": "@zdim thanks for the explanation!"}, {"owner": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "edited": false, "score": 0, "creation_date": 1479357902, "post_id": 40641050, "comment_id": 68525301, "body": "Are you sure it printed only part of the value (/x/eng/csitools) and not the whole string (/x/eng/csitools/netapp_menu/common/csitools.sh)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "edited": false, "score": 1, "creation_date": 1479377559, "post_id": 40641050, "comment_id": 68535459, "body": "@SrihariKaranth Notice the backticks. <code>&#47;x&#47;eng&#47;csitools&#47;netapp_menu&#47;common&#47;csitools.sh</code> is <b>executed</b> and the <b>output</b> of that script is returned and stored in <code>$CSITOOLS</code>. So there&#39;s nothing wrong with <code>&#47;x&#47;eng&#47;csitools</code>."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 6905319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4cfb08eaf9675c688f8184e24fdd160?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Jones", "link": "https://stackoverflow.com/users/6905319/nicholas-jones"}, "is_accepted": false, "score": 2, "last_activity_date": 1479326570, "creation_date": 1479326570, "answer_id": 40641268, "question_id": 40641050, "link": "https://stackoverflow.com/questions/40641050/not-sure-of-the-reason-for-output-value/40641268#40641268", "title": "Not sure of the reason for output value", "body": "<p>From perldoc.perl.org</p>\n\n<blockquote>\n  <p>A string enclosed by backticks (grave accents) first undergoes double-quote interpolation. It is then interpreted as an external command, and the output of that command is the value of the backtick string, like in a shell.</p>\n</blockquote>\n\n<p>Apparently, the result of <code>csitools.sh</code> is the string <code>/x/eng/csitools</code></p>\n"}, {"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479326794, "post_id": 40641274, "comment_id": 68514644, "body": "<code>perldata</code> was what I was looking for :)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479326881, "post_id": 40641274, "comment_id": 68514689, "body": "@stevieb I had to search as well :-) Sometimes it&#39;s <code>perldata</code>, sometimes it&#39;s <code>perlsyn</code>. But perhaps the question was about the backticks and we were both wrong."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1479329758, "post_id": 40641274, "comment_id": 68516350, "body": "perldata pertains to variables and literals. perlsyn pertains to statements incl flow control statements and flow control statement modifiers."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479330273, "post_id": 40641274, "comment_id": 68516622, "body": "thanks @ikegami . I was thinking of perlvar, but of course, that&#39;s more for special variables"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 5, "last_activity_date": 1479328251, "last_edit_date": 1479328251, "creation_date": 1479326594, "answer_id": 40641274, "question_id": 40641050, "link": "https://stackoverflow.com/questions/40641050/not-sure-of-the-reason-for-output-value/40641274#40641274", "title": "Not sure of the reason for output value", "body": "<p>From <a href=\"http://perldoc.perl.org/perldata.html#Scalar-value-constructors\" rel=\"nofollow noreferrer\">perldata</a>: </p>\n\n<blockquote>\n  <p>As in some shells, you can enclose the variable name in braces\n  to disambiguate it from following alphanumerics (and underscores).</p>\n</blockquote>\n\n<p>That is:</p>\n\n<p>If you have a variable like <code>$foo</code> and you want to interpolate that whithin a string:</p>\n\n<pre><code>my $string = \"This is $foobar\";\n</code></pre>\n\n<p>then Perl would look for the variable <code>$foobar</code>. To make clear your variable's name\nis just <code>$foo</code> you need to write</p>\n\n<pre><code>my $string = \"This is ${foo}bar\";\n</code></pre>\n\n<p>This is the way to <em>delimit</em> the variable's name. In your particular case the curlies <code>{}</code> aren't needed because <code>\"$CSITOOLS\\n\"</code> already is unambiguous. However, it does no harm.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1479326763, "creation_date": 1479326763, "answer_id": 40641329, "question_id": 40641050, "link": "https://stackoverflow.com/questions/40641050/not-sure-of-the-reason-for-output-value/40641329#40641329", "title": "Not sure of the reason for output value", "body": "<p>Perl allows you to surround the name of a scalar variable with braces (<code>{}</code>) to separate its name from any surrounding characters. Imagine you have the word \"item\" in a variable, and you want to print <code>item99</code> within a string, with no whitespace in between:</p>\n\n<pre><code>my $name = \"item\";\nprint \"${name}99\\n\";\n</code></pre>\n\n<p>Without the braces, perl would interpret the variable like this:</p>\n\n<pre><code>print \"$name99\\n\";\n</code></pre>\n\n<p>...which is an undeclared, undefined variable, and definitely not what you mean. With <code>warnings</code> enabled, would display something like:</p>\n\n<pre><code>Use of uninitialized variable in ...\n</code></pre>\n\n<p>If warnings are not enabled, the program may merrily run along and do other things, possibly/likely breaking something far down the line. That makes things really difficult to troubleshoot.</p>\n\n<p>In your simple case, the braces aren't needed, and you don't see them all that very often in print statements, unless you need to combine variables where there's no whitespace character between it and other valid variable characters when interpolating within a string.</p>\n"}], "owner": {"reputation": 301, "user_id": 6173767, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-qPqJcB8w5ec/AAAAAAAAAAI/AAAAAAAAAhM/EDZ9zfjf6G8/photo.jpg?sz=128", "display_name": "Nikhil Hegde", "link": "https://stackoverflow.com/users/6173767/nikhil-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 40641274, "answer_count": 3, "score": 0, "last_activity_date": 1479328251, "creation_date": 1479325808, "question_id": 40641050, "link": "https://stackoverflow.com/questions/40641050/not-sure-of-the-reason-for-output-value", "title": "Not sure of the reason for output value", "body": "<p>I have these two statements in a perl code that I'm trying to understand.</p>\n\n<pre><code>our $CSITOOLS=`/x/eng/csitools/netapp_menu/common/csitools.sh`;\nprint \"${CSITOOLS}\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>/x/eng/csitools\n</code></pre>\n\n<p>How does <code>${VARIABLE_NAME}</code> work? (In this case <code>{CSITOOLS}</code>)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "unit-testing", "code-coverage"], "comments": [{"owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "edited": false, "score": 0, "creation_date": 1479318664, "post_id": 40638741, "comment_id": 68510048, "body": "What about passing defined_values(undef, undef);  ?"}, {"owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1479318950, "post_id": 40638741, "comment_id": 68510233, "body": "@toolic My bad, the title is deceiving. I realized that the bug is not with Test::More, rather code coverage. @jmcneirney condition <code>undef undef </code> is same as <code>undef defined </code> because boolean operators are short-circuiting operators."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1479324549, "post_id": 40638741, "comment_id": 68513382, "body": "BTW Avoid using <code>$a</code> and <code>$b</code>. Those are magic globals, always declared, and used by <code>sort</code>. You will not get a warning from <code>strict</code> if you use them without declaring them."}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 4, "last_activity_date": 1605137372, "last_edit_date": 1605137372, "creation_date": 1479320392, "answer_id": 40639438, "question_id": 40638741, "link": "https://stackoverflow.com/questions/40638741/is-this-a-bug-in-develcover-code-coverage/40639438#40639438", "title": "Is this a bug in Devel::Cover code coverage?", "body": "<p>Yes, you should report that as a bug in <code>Devel::Cover</code>.  If I recode your sub, I get 100%:</p>\n<pre><code>sub defined_values{\n    my ($a,$b) = @_;\n\n    if( defined $a and defined $b ){\n        return 'defined';\n    }\n    return 'not defined';\n}\n</code></pre>\n<p><a href=\"https://github.com/pjcj/Devel--Cover/pull/165\" rel=\"nofollow noreferrer\">This issue may be related.</a></p>\n"}], "owner": {"reputation": 352, "user_id": 1601104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irvqd.jpg?s=128&g=1", "display_name": "Shahid Siddique", "link": "https://stackoverflow.com/users/1601104/shahid-siddique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1605137372, "creation_date": 1479318019, "last_edit_date": 1479321546, "question_id": 40638741, "link": "https://stackoverflow.com/questions/40638741/is-this-a-bug-in-develcover-code-coverage", "title": "Is this a bug in Devel::Cover code coverage?", "body": "<p>I have a sample code where I have <code>if</code> statement with <code>or</code> operator. In my test I check for:</p>\n\n<pre><code>0X\n10\n11\n</code></pre>\n\n<p>when I check the code coverage it shows 67% for the condition. Am I missing anything here or this is a bug in <a href=\"http://search.cpan.org/~pjcj/Devel-Cover-1.23/lib/Devel/Cover.pm\" rel=\"nofollow noreferrer\">Devel:Cover</a></p>\n\n<p>Here is my code:</p>\n\n<pre><code>use strict;\nuse diagnostics;\nuse warnings;\nuse Test::More tests =&gt; 3;\n\n\nsub defined_values{\n    my ($a,$b) = @_;\n\n    if( not defined $a or not defined $b ){\n        return 'not defined';\n    }\n\n    return 'defined';\n}\n\ntest_defined_values_aNotDefined_returns_notDefined();\ntest_defined_values_bNotDefined_returns_notDefined();\ntest_defined_values_abDefined_returns_Defined();\n\nsub test_defined_values_aNotDefined_returns_notDefined{\n    is(defined_values(undef, 'b'), 'not defined', 'test_defined_values_aNotDefined_returns_notDefined');\n}\n\nsub test_defined_values_bNotDefined_returns_notDefined{\n    is(defined_values('a', undef), 'not defined', 'test_defined_values_bNotDefined_returns_notDefined');    \n}\n\nsub test_defined_values_abDefined_returns_Defined{\n    is(defined_values('a', 'b'), 'defined', 'test_defined_values_abDefined_returns_Defined');    \n}\n</code></pre>\n\n<p>By the way, the actual subroutine is in the package, This is the sample code written in the test file.</p>\n\n<p>I use Jenkins to run devel cover for code coverage. Below is the command that I use:</p>\n\n<pre><code>cd .\\usr\n\nif exist cover_db\\NUL call cover -delete\nif exist test_output\\NUL rmdir /S /Q test_output\ndel /S t\\*.tap\n\nset HARNESS_PERL_SWITCHES=-MDevel::Cover\nset PERL_TEST_HARNESS_DUMP_TAP=.\\test_output\ncall prove -I .\\lib --formatter=TAP::Formatter::Jenkins -l t\n\nfor /f \"tokens=*\" %%A in ('forfiles /S /P t /C \"cmd /c if @isdir==TRUE echo @relpath\"') do (\n    set \"file=%%~A\"\n    setlocal enableDelayedExpansion\n    call prove -I .\\lib --formatter=TAP::Formatter::Jenkins -l t!file:~1!\n    endlocal\n)\n\ncover -report html\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kqzJE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kqzJE.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6SOjD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6SOjD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl", "selenium", "xpath", "webdriver"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7168443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28339432431d2d736a94c5a215bc33ec?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/7168443/manas"}, "edited": false, "score": 1, "creation_date": 1479355686, "post_id": 40637354, "comment_id": 68524665, "body": "Hello Simbabque, thanks for your reply. You are close to what exactly i wanted to ask. I actually have a question on how can i handle such web element in selenium webdriver, where for any fixed element locator, values gets changes always and i need to validate those changed values in different times. I basically need a snippet of selenium code with perl binding to work on such web elements. Any input is appreciated."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11, "user_id": 7168443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28339432431d2d736a94c5a215bc33ec?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/7168443/manas"}, "edited": false, "score": 0, "creation_date": 1479376566, "post_id": 40637354, "comment_id": 68534706, "body": "@Manas what do you mean by <i>gets changes always</i> and <i>in different times</i>? How does that work? The page is loaded in the browser, and there are events happening that make the page change? And then you want to revalidate? Can you please explain that in more detail in the question. I believe we need a bit more technical depths about what is going on to figure out how to do that. I am not using Selenium so I won&#39;t be able to give you code, but again, I can try to give you strategy if I have sufficient information."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1479313944, "last_edit_date": 1492087306, "creation_date": 1479313944, "answer_id": 40637354, "question_id": 40636774, "link": "https://stackoverflow.com/questions/40636774/how-to-compare-element-state-in-a-web-page-using-perl-binding-with-selenium-web/40637354#40637354", "title": "How to compare element state in a web page, using Perl binding with Selenium WebDriver", "body": "<p>I think your question is more about what strategy to use than how to code that in Perl, right? </p>\n\n<p>An obvious solution would be to have it monitor a machine whose state you control and alter it during the test so you can verify every state. </p>\n\n<p>I'm thinking it would look something like this, where the classes are a naive way of making a distinction. I've listed each possible state once.</p>\n\n<pre><code>&lt;div id=\"state\" class=\"green\"&gt;started&lt;/div&gt;\n&lt;div id=\"state\" class=\"yellow\"&gt;stopping&lt;/div&gt;\n&lt;div id=\"state\" class=\"red\"&gt;stopped&lt;/div&gt;\n</code></pre>\n\n<p>So to check that all three states are reachable under the same id, you have to make the data your application gets represent that.</p>\n\n<p>If you cannot control an actual machine, mock it during the Selenium test. Telling you how to do that is out of scope for this answer (and possibly this Stack Exchange). I suggest if you want in-depth information about QAing strategy you should ask on the <a href=\"https://sqa.stackexchange.com/\">Software Quality Assurance SE</a>.</p>\n"}], "owner": {"reputation": 11, "user_id": 7168443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28339432431d2d736a94c5a215bc33ec?s=128&d=identicon&r=PG&f=1", "display_name": "Manas", "link": "https://stackoverflow.com/users/7168443/manas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479314707, "creation_date": 1479312325, "last_edit_date": 1479314707, "question_id": 40636774, "link": "https://stackoverflow.com/questions/40636774/how-to-compare-element-state-in-a-web-page-using-perl-binding-with-selenium-web", "title": "How to compare element state in a web page, using Perl binding with Selenium WebDriver", "body": "<p>I need to know how to validate the changing state of any element in a web page, using Selenium WebDriver with Perl binding. The following is the use case:</p>\n\n<ol>\n<li>I'm using an application, which gets the changing status of a discovered machine, in the background. </li>\n<li>Suppose there is a web element named 'Machine State'. </li>\n<li>The state of this element varies, based on the actual machine state: Running/Stopping/Stopped. </li>\n<li>The XPath ID for this state locator (Running/Stopping/Stopped) is always constant, irrespective of any state of the machine.</li>\n</ol>\n\n<p>How can I validate each status of the locator in the web page?</p>\n\n<p>Please let me know if I need to explain the scenario in more detail.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1479322032, "post_id": 40637056, "comment_id": 68511937, "body": "Thanks for the answers. It solves my issue. Yes, I want to push it if there is more than 1 space."}], "tags": [], "owner": {"reputation": 1533, "user_id": 7075994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvYWN.png?s=128&g=1", "display_name": "c3st7n", "link": "https://stackoverflow.com/users/7075994/c3st7n"}, "is_accepted": false, "score": 2, "last_activity_date": 1479313014, "creation_date": 1479313014, "answer_id": 40637056, "question_id": 40636767, "link": "https://stackoverflow.com/questions/40636767/regex-to-grep-a-particular-word-while-considering-spaces-occurring-before-the-wo/40637056#40637056", "title": "regex to grep a particular word while considering spaces occurring before the word", "body": "<p>1) To match whitespace you should use <code>\\s</code> (it will match spaces or tabs) and then you can use a quantifier to control how many to match.</p>\n\n<p>The below example would allow $key to match any amount of spaces around the class name (but must have at least one space):<br>\n<code>my $key = \"class\\s+\" . $current_class_name . \"\\s+extends\";</code></p>\n\n<p>2) I think your code is correct, but maybe I am misunderstanding the question. Do you only want to push it if there is more than 1 space? If so the below would work:</p>\n\n<p><code>/.extends\\s\\s+([A-Za-z_0-9]+)/ ;\npush @test_list, $1;</code></p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1479321808, "post_id": 40638252, "comment_id": 68511821, "body": "That is a very clear and informative answer. I could solve my issue and learn the regex too. Thanks again."}], "tags": [], "owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "is_accepted": true, "score": 3, "last_activity_date": 1479824705, "last_edit_date": 1479824705, "creation_date": 1479316413, "answer_id": 40638252, "question_id": 40636767, "link": "https://stackoverflow.com/questions/40636767/regex-to-grep-a-particular-word-while-considering-spaces-occurring-before-the-wo/40638252#40638252", "title": "regex to grep a particular word while considering spaces occurring before the word", "body": "<p>A few recommendations for you:</p>\n\n<ul>\n<li><p><code>+</code> matches 1 or more iterations of the previous character/group</p></li>\n<li><p><code>{&lt;number&gt;}</code> matches that number of iterations of the previous character/group. So <code>{10}</code> matches exactly 10 iterations.</p></li>\n<li><p><code>{&lt;number1&gt;,&lt;number2&gt;}</code> matches between <code>number1</code> and <code>number2</code> iterations of the previous character/group.  So <code>{1,10}</code> matches between 1 and 10 iterations, <code>{2,}</code> matches 2 or more iterations, <code>{,10}</code> matches between 0 and 10 iterations.</p></li>\n<li><p><code>\\s</code> matches whitespace, so tabs and spaces</p></li>\n<li><p>I suggest trying out string interpolation, as it is one of my favorite things about Perl. i.e. <code>\"class $current_class_name extends\"</code> instead of <code>\"class \" . $current_class_name . \" extends\"</code>.  String interpolation works for double quotes, but not single quotes.</p></li>\n<li><p>This falls under style, but I generally don't create variables if it is only going to be used in one place.</p></li>\n<li><p>Always test that your regex matches before you use <code>$1</code>, or else it will be the result of the previous successful regex match.</p></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>if (/class\\s+$current_class_name\\s+extends/) {\n    if (/(extends base_class)/) {\n        push @test_list, $current_class_name;\n    }\n    elsif (/extends\\s+([A-Za-z_0-9]+)/) {\n        push @test_list, $1;\n        push @test_list, $current_class_name;\n    }\n    else {\n        # not sure what you want to do in this case, looks like it\n        # would be a syntax error assuming this is Java\n    }\n}\n</code></pre>\n\n<p>You can change</p>\n\n<pre><code>/class\\s+$current_class_name\\s+extends/\n</code></pre>\n\n<p>to </p>\n\n<pre><code>/class\\s{1,10}$current_class_name\\s{1,10}extends/\n</code></pre>\n\n<p>if you want to keep to the 1-10 space limit. <code>\\s</code> matches tabs too, so if you really only want to accept spaces you can change it to</p>\n\n<pre><code>/class[ ]{1,10}$current_class_name[ ]{1,10}extends/\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 40638252, "answer_count": 2, "score": 1, "last_activity_date": 1479824705, "creation_date": 1479312315, "question_id": 40636767, "link": "https://stackoverflow.com/questions/40636767/regex-to-grep-a-particular-word-while-considering-spaces-occurring-before-the-wo", "title": "regex to grep a particular word while considering spaces occurring before the word", "body": "<p>I am looking for the regex which takes the spacing issue into consideration. I have my code to do the following thing:\nIf the class extends from base_class then just push the current class name into the array, else grep for the extended class name and push both the extended class name and also the current class name into the array.</p>\n\n<pre><code>my $key = \"class \" . $current_class_name . \" extends\";\nmy $variable1 = \"extends base_class\";\n       if(/$key/){\n            if(/($variable1)/){                                                             # Checking if it extends from \"base_class\"\n                push @test_list, $current_class_name ;                                             # Pushing the test name if it extends from \"base_class\"\n            }\n            else {                                                                          # If it doesn't extend from \"base_class\"\n                /.extends[\\s]+([A-Za-z_0-9]+)/ ;\n                push @test_list, $1;                                                    # Pushing the extended test name into array\n                push @test_list, $current_class_name;                                              # Pushing the current test name into array                                                           \n            }\n\n        }\n</code></pre>\n\n<p>I have 2 questions.\n1) When grep for the string $key ( <code>if(/$key/)</code> ) how to consider the spacing issue i.e. if we have <code>class     $current_class_name     extends</code> , indicating there are many spaces between the string <code>class</code> and the <code>$current_class_name</code> and also similarly between <code>$current_class_name</code> and <code>extends</code>. If we observe the first line of my code, we can see that it considers that there is a single space between those strings. But I want to handle the situation for any number of spaces. (1 space to 10 spaces max).\nSo, please help me to handle this issue.</p>\n\n<p>2) Similarly, when we take the word which is after extends in these line of code:</p>\n\n<pre><code>/.extends[\\s]+([A-Za-z_0-9]+)/ ;\npush @test_list, $1;             \n</code></pre>\n\n<p>How do I take the word and push it, if the extended class name occurs after many spaces after the <code>extends</code> string.</p>\n\n<p>I hope my explanations are clear. Please comment if any part of my question is unclear. I will edit it accordingly.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1479312139, "post_id": 40636524, "comment_id": 68505612, "body": "You can eventually change your empty pattern to <code>&#47;(?!$)&#47;</code>."}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1479312951, "post_id": 40636524, "comment_id": 68506222, "body": "Well, an alternate way might be <code>split( &#47;&#47;, substr($string,0,$n) )</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1479313044, "post_id": 40636524, "comment_id": 68506280, "body": "I think the doc is just plain wrong.  If limit is more than the length, the empty string after the zero width match at the end should be included."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1479313079, "post_id": 40636524, "comment_id": 68506300, "body": "Please use <code>perlbug</code> to file a bug report."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1479397207, "post_id": 40636524, "comment_id": 68549362, "body": "Side note: The documentation&#39;s output for <code>print join(&#39;:&#39;, split(&#47;&#47;, &#39; abc&#39;, -1)), &quot;\\n&quot;;</code> is also inconsistent (<code>:a:b:c:</code> vs <code>a:b:c:</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "is_accepted": true, "score": 7, "last_activity_date": 1479314754, "creation_date": 1479314754, "answer_id": 40637650, "question_id": 40636524, "link": "https://stackoverflow.com/questions/40636524/using-split-str-limit-returning-trailing-empty-elements-contradicting-d/40637650#40637650", "title": "Using split(//, $str, $limit) returning trailing empty elements, contradicting documentation", "body": "<p>It appears that the example in the documentation is incorrect.  A little further down the documentation is the following:</p>\n\n<blockquote>\n  <p><strong>An empty trailing field</strong>, on the other hand, <strong>is produced when there is a match at the end of EXPR, regardless of the length of the match</strong> (of course, unless a non-zero LIMIT is given explicitly, such fields are removed, as in the last example).</p>\n</blockquote>\n\n<p>Because I'm providing a non-zero LIMIT, trailing empty fields are retained.  The empty pattern <code>//</code> matches after the final character but before the end of string, so exactly one trailing empty field is produced.</p>\n\n<p>The workarounds proposed in the comments &ndash; using a split pattern of <code>(?!$)</code> or using <code>substr($str, 0, $n)</code> as an input &ndash; both work.<br>\nHowever, instead of forcing <code>split</code> to cooperate, I've opted to update the \"discard the final element\" logic from <code>pop(@arr)</code> to <code>while (@arr &amp;&amp; pop(@arr) eq \"\") { }</code>.</p>\n"}], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 40637650, "answer_count": 1, "score": 10, "last_activity_date": 1479315296, "creation_date": 1479311724, "question_id": 40636524, "link": "https://stackoverflow.com/questions/40636524/using-split-str-limit-returning-trailing-empty-elements-contradicting-d", "title": "Using split(//, $str, $limit) returning trailing empty elements, contradicting documentation", "body": "<p>I'm attempting to <code>split</code> a string into its component characters.<br>\nFor this purpose I've always used <code>split(//, $str)</code> as suggested by <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>However, this:<br>\n      <code>print join(':', split(//, 'abc')), \"\\n\";</code><br>\n  uses empty string matches as separators to produce the output <code>a:b:c</code> ; thus, the empty string may be used to split EXPR into a list of its component characters.</p>\n</blockquote>\n\n<p>In my script I need an array of the first N characters <em>or</em> the first <code>length($str) - 1</code> characters, whichever is less.  To achieve this, I use <code>split(//, $str, $n + 1)</code> and discard the last element.  </p>\n\n<p>In theory this should work.  If LIMIT is less than the string length then all extra characters are grouped into the last element which is discarded.  If LIMIT is greater than the string length, the last element is the last character which is discarded.</p>\n\n<p>This is where I run into a bit of a problem.</p>\n\n<p>The documentation says:</p>\n\n<blockquote>\n  <p>...and each of these:<br>\n      <code>print join(':', split(//, 'abc', 3)), \"\\n\";</code><br>\n      <code>print join(':', split(//, 'abc', 4)), \"\\n\";</code><br>\n  produces the output <code>a:b:c</code>.</p>\n</blockquote>\n\n<p>But that's not the result I'm getting.  If LIMIT is greater than the number of characters, the resulting array always ends with <em>exactly</em> one blank element (<a href=\"https://ideone.com/AREXdz\" rel=\"nofollow noreferrer\">demo</a>):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print join(':', split(//, 'abc',  1)), \"\\n\";    # abc\nprint join(':', split(//, 'abc',  2)), \"\\n\";    # a:bc\nprint join(':', split(//, 'abc',  3)), \"\\n\";    # a:b:c\nprint join(':', split(//, 'abc',  4)), \"\\n\";    # a:b:c:\nprint join(':', split(//, 'abc', 99)), \"\\n\";    # a:b:c:\n</code></pre>\n\n<p>These results directly contradict example from the documentation.  </p>\n\n<p>Is the documentation wrong?  Is my version of Perl (v5.22.2) wrong?<br>\nIf this behavior can't be avoided, how can I accomplish my original goal?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1479304947, "post_id": 40633941, "comment_id": 68500477, "body": "@toolic: while matching this are success however when replacing the same it won&#39;t print."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 1, "creation_date": 1479307669, "post_id": 40633941, "comment_id": 68502401, "body": "The Substitution-Operator in perl returns the number of substitutions made, unlike the matching operator which returns a list of the machted and collected elements."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1479307734, "post_id": 40633941, "comment_id": 68502436, "body": "See <code>perldoc perlop</code> for a more complete explanation."}], "answers": [{"tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": false, "score": 2, "last_activity_date": 1479304641, "creation_date": 1479304641, "answer_id": 40634002, "question_id": 40633941, "link": "https://stackoverflow.com/questions/40633941/replace-and-delete-when-fetching-some-string-in-the-same-regex-in-perl/40634002#40634002", "title": "Replace and Delete when fetching some string in the same regex in perl", "body": "<p>Try this:</p>\n\n<pre><code>&lt;\\?processing-instruction.*?\\?&gt;\n</code></pre>\n\n<p>Replace by empty string</p>\n\n<p><a href=\"https://regex101.com/r/sG5GMI/1\" rel=\"nofollow noreferrer\">Explanation</a></p>\n\n<p>Perl Code Sample:</p>\n\n<pre><code>use strict;\n\nmy $str = 'In order to study the opportunity cost of allocating time to the less beneficial act, we need appropriate schedules of reinforcement description &lt;?processing-instruction \\\\value{$$@@%}?&gt; list we need appropriate schedules of reinforcement';\nmy $regex = qr/&lt;\\?processing-instruction.*?\\?&gt;/p;\nmy $subst = '';\n\nmy $result = $str =~ s/$regex/$subst/rg;\n\nprint $result;\n</code></pre>\n\n<p><a href=\"http://ideone.com/DApym2\" rel=\"nofollow noreferrer\">Run the code here</a></p>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1479305811, "post_id": 40634206, "comment_id": 68501025, "body": "Yes. I need to learn this type of logic and presence of thinking in my code. Awesome."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1479305985, "last_edit_date": 1479305985, "creation_date": 1479305252, "answer_id": 40634206, "question_id": 40633941, "link": "https://stackoverflow.com/questions/40633941/replace-and-delete-when-fetching-some-string-in-the-same-regex-in-perl/40634206#40634206", "title": "Replace and Delete when fetching some string in the same regex in perl", "body": "<p>If the substitution is successful, then the value you want will be in <code>$1</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy $str = 'In order to study the opportunity cost of allocating time to the less beneficial act, we need appropriate schedules of reinforcement description &lt;?processing-instruction \\value{$$@@%}?&gt; list we need appropriate schedules of reinforcement';\n\nif ($str =~ s/&lt;\\?processing\\-instruction\\s*\\\\value\\{([^\\}\\?&gt;]*)\\}\\?&gt;//gi) {\n  say $1;\n}\n\nsay $str;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$$@@%\nIn order to study the opportunity cost of allocating time to the less beneficial act, we need appropriate schedules of reinforcement description  list we need appropriate schedules of reinforcement\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 40634206, "answer_count": 2, "score": -1, "last_activity_date": 1479305985, "creation_date": 1479304465, "question_id": 40633941, "link": "https://stackoverflow.com/questions/40633941/replace-and-delete-when-fetching-some-string-in-the-same-regex-in-perl", "title": "Replace and Delete when fetching some string in the same regex in perl", "body": "<p>My Input:</p>\n\n<pre><code>$str = 'In order to study the opportunity cost of allocating time to the less beneficial act, we need appropriate schedules of reinforcement description &lt;?processing-instruction \\value{$$@@%}?&gt; list we need appropriate schedules of reinforcement';\n\nmy $get_val = ($str=~m/&lt;\\?processing\\-instruction\\s*\\\\value\\{([^\\}\\?&gt;]*)\\}\\?&gt;/gi)[0];\n\nprint $get_val;\n</code></pre>\n\n<p>However I need to delete the whole processing instruction tag while finding the same. Is it possible on the same pattern?</p>\n\n<p>I tried this however not success.</p>\n\n<pre><code>my ($get_val) = ($str=~s/&lt;\\?processing\\-instruction\\s*\\\\value\\{([^\\}\\?&gt;]*)\\}\\?&gt;//gi)[0];\n\nprint $get_val;\n</code></pre>\n\n<p>The above output prints '1'. It would be appreciate if someone could help on this one.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["php", "perl", "xampp", "apache2.4"], "owner": {"reputation": 540, "user_id": 3156582, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/tHoyk.jpg?s=128&g=1", "display_name": "sk001", "link": "https://stackoverflow.com/users/3156582/sk001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "closed_date": 1479301345, "answer_count": 0, "score": 1, "last_activity_date": 1479299784, "creation_date": 1479299784, "question_id": 40632352, "link": "https://stackoverflow.com/questions/40632352/install-mod-perl-so-for-xampp-windows", "closed_reason": "Duplicate", "title": "Install mod_perl.so for XAMPP Windows", "body": "<p>I want to install Perl for XAMPP on Windows. I'm following <a href=\"http://wiki.ocsinventory-ng.org/index.php?title=Howtos:Install_OCS_on_WAMP#Apache_configuration\" rel=\"nofollow noreferrer\">this tutorial</a> for OCS Inventory. But when running the following command :\n<code>ppm install http://theoryx5.uwinnipeg.ca/ppms/mod_perl-2.0.ppd</code> I get an error : </p>\n\n<blockquote>\n  <p>ppm install failed: 500 Can't connect to theoryx5.uwinnipeg.ca:80 (Bad hostname)</p>\n</blockquote>\n\n<p>How can I fix this ?\nI'm using XAMPP with Apache2.4 and PHP 5..6.</p>\n"}, {"tags": ["postgresql", "perl", "dbi"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1479296997, "post_id": 40631351, "comment_id": 68495299, "body": "Are you sure that connection string is correct? Other questions here on the site seem to have <code>,</code> instead of <code>:</code> between the parameters after <code>database=name</code>."}, {"owner": {"reputation": 873, "user_id": 508427, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3zmlJ.jpg?s=128&g=1", "display_name": "Recct", "link": "https://stackoverflow.com/users/508427/recct"}, "reply_to_user": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1479297258, "post_id": 40631351, "comment_id": 68495462, "body": "No it makes no difference, would have explained DBI assuming defaults though, the socket argument for <code>host</code> if nothing is specified."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1479297383, "post_id": 40631351, "comment_id": 68495549, "body": "Not <code>,</code>, it should be <code>;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 873, "user_id": 508427, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3zmlJ.jpg?s=128&g=1", "display_name": "Recct", "link": "https://stackoverflow.com/users/508427/recct"}, "edited": false, "score": 0, "creation_date": 1479297468, "post_id": 40631578, "comment_id": 68495607, "body": "Pff is that a PostgreSQL thing? I shamefully admit I&#39;ve only used MySQL flavours with DBI where colons worked fine. (and yes I connected!)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 873, "user_id": 508427, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3zmlJ.jpg?s=128&g=1", "display_name": "Recct", "link": "https://stackoverflow.com/users/508427/recct"}, "edited": false, "score": 1, "creation_date": 1479297599, "post_id": 40631578, "comment_id": 68495683, "body": "The <a href=\"https://metacpan.org/pod/DBD::mysql#SYNOPSIS\" rel=\"nofollow noreferrer\">DBD::mysql documentation</a> has the same thing. But it&#39;s possible that DBD::mysql is less strict about the correct syntax."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 4, "last_activity_date": 1479297351, "creation_date": 1479297351, "answer_id": 40631578, "question_id": 40631351, "link": "https://stackoverflow.com/questions/40631351/perl-dbi-connect-to-remote-postgresql-db-still-complains-about-local-socket-fil/40631578#40631578", "title": "Perl DBI: connect to REMOTE PostgreSQL db still complains about local socket file", "body": "<blockquote>\n<pre><code>\"DBI:Pg:database=asterisk:host=example.com:hostaddr=10.10.10.10:port=5432\"\n</code></pre>\n</blockquote>\n\n<p>That should be:</p>\n\n<pre><code>\"DBI:Pg:database=asterisk;host=example.com;hostaddr=10.10.10.10;port=5432\"\n</code></pre>\n\n<p>Only the first two separators are colons. The rest of them should be semi-colons.</p>\n"}], "owner": {"reputation": 873, "user_id": 508427, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3zmlJ.jpg?s=128&g=1", "display_name": "Recct", "link": "https://stackoverflow.com/users/508427/recct"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 40631578, "answer_count": 1, "score": 1, "last_activity_date": 1479297351, "creation_date": 1479296772, "question_id": 40631351, "link": "https://stackoverflow.com/questions/40631351/perl-dbi-connect-to-remote-postgresql-db-still-complains-about-local-socket-fil", "title": "Perl DBI: connect to REMOTE PostgreSQL db still complains about local socket file", "body": "<p>I'm trying to use <code>DBIx::Class</code> to connect to a <strong>remote</strong> PostgreSQL db. \nMy connect string: <code>\"DBI:Pg:database=asterisk:host=example.com:hostaddr=10.10.10.10:port=5432\", $user, $pass</code></p>\n\n<p><code>example.com</code> does resolve to '10.10.10.10', swapping both to the IP or having only host=IP all result in </p>\n\n<pre><code> could not connect to server: No such file or directory\nIs the server running locally and accepting\nconnections on Unix domain socket \"/var/run/postgresql/.s.PGSQL.5432\"? at /usr/local/share/perl/5.10.1/DBIx/Class/Storage/DBI.pm line 1489. at db-access.pl line 26\n</code></pre>\n\n<p>On this debian I don't have or want postgresql, I do have <code>libdbd-pg-perl</code> however. And <code>DBI-&gt;available_drivers</code> says that I do have <code>Pg</code> (It didn't before I installed the library).</p>\n\n<p>How can I find out what it's trying to do and do I need anything else installing? The server in question is configured to allow connections from <code>10.100.*</code> addresses which the machine running this code is on and I can connect to it with tools such as PSequel and pgAdmin on my workstation (same network) with the db user in question.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 3, "creation_date": 1479296758, "post_id": 40631276, "comment_id": 68495128, "body": "Anything you tried on your own? Could you please share your effort with us ?"}, {"owner": {"reputation": 3044, "user_id": 393581, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f10a8776b856dd7dfbc7fbf8d95c910b?s=128&d=identicon&r=PG", "display_name": "garfbradaz", "link": "https://stackoverflow.com/users/393581/garfbradaz"}, "edited": false, "score": 0, "creation_date": 1479296980, "post_id": 40631276, "comment_id": 68495288, "body": "Please can you add more content to the question, including any code snippets and what you have tried, Please have a good read here on how to ask a question:  <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479297008, "post_id": 40631276, "comment_id": 68495305, "body": "use strict; use warnings;  use IO::Compress::Zip qw(zip $ZipError) ;   my $file = $ENV{&quot;HOME&quot;}.&quot;C:/zip&quot;;   my $s = zip [ $file, $file2 ] =&gt; $ENV{&quot;HOME&quot;}.&quot;C:/zip/new_.zip&quot; , zip64 =&gt; 1          or die &quot;zip failed: $ZipError \\n&quot;;"}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479297206, "post_id": 40631276, "comment_id": 68495429, "body": "can you please tell where i add the code"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479297460, "post_id": 40631276, "comment_id": 68495598, "body": "@jawahar: Please don&#39;t dump code into comments where it is really hard to read. Instead, <a href=\"http://stackoverflow.com/posts/40631276/edit\">edit your question</a> to add the code."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479297745, "post_id": 40631276, "comment_id": 68495769, "body": "simply convert folder to zip..please help"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479297941, "post_id": 40631276, "comment_id": 68495904, "body": "I&#39;m not sure why you think that prepending <code>$ENV{HOME}</code> to all of your filenames is a good idea - when the filenames you&#39;re using are all absolute paths that start with <code>C:&#47;</code>. What error message do you see?"}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479298044, "post_id": 40631276, "comment_id": 68495980, "body": "can you please edit my code it not work"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479298232, "post_id": 40631276, "comment_id": 68496081, "body": "I know it doesn&#39;t work. But if I was to just give you the complete solution, that wouldn&#39;t be very useful for you, would it? I&#39;m trying to find out what you misunderstand, so that I can point you in the right direction."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479298417, "post_id": 40631276, "comment_id": 68496187, "body": "ya thanks..For example folder contains 10 XML File. Convert the folder to Single Zip file with that folder name...I dont have idea to convert zip"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1479298538, "post_id": 40631276, "comment_id": 68496262, "body": "If you have no idea where to start, then where did the code you&#39;ve added to your question come from?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479302845, "post_id": 40631276, "comment_id": 68499010, "body": "@jawahar: The code you have just edited into your question looks good. I would just suggest renaming <code>$files</code> to <code>$dir</code> and <code>@file</code> to <code>@files</code>. I think that my names better identify what is in those variables. But congratulations on working it out."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479303094, "post_id": 40631276, "comment_id": 68499186, "body": "But error comes zip failed: input file &#39;&lt;C:/zip/*.xml&gt;&#39; does not exist"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479303630, "post_id": 40631276, "comment_id": 68499564, "body": "@jawahar: You don&#39;t need those quotes. <code>@file = &lt;$files&#47;*.xml&gt;;</code>"}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479304687, "post_id": 40631276, "comment_id": 68500282, "body": "Ya it work fine..But one small doubt..I dont need inside another folder..Zip inside file that enough. It create zip start with C:/"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479306134, "post_id": 40631276, "comment_id": 68501273, "body": "I feel confident that you&#39;re up to solving that last little problem."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479307846, "post_id": 40631276, "comment_id": 68502494, "body": "Ya i am trying if not means please tell"}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479307961, "post_id": 40631276, "comment_id": 68502579, "body": "my @files = &lt;$dir/*.xml&gt;; ..can i match regex with separate xml only"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1479308318, "post_id": 40631276, "comment_id": 68502840, "body": "Not sure what you&#39;re asking. There&#39;s no regex in any of this code. Why not post a new question with your current code and explain what problems you&#39;re having."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479308559, "post_id": 40631276, "comment_id": 68503021, "body": "I dont want zip with compleate folder ...i need only zip the xml file..but it zipped entire foder starting with C:/zip/xml"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1479308602, "post_id": 40631276, "comment_id": 68503060, "body": "Why not post a new question with your current code and explain what problems you&#39;re having"}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479308843, "post_id": 40631276, "comment_id": 68503229, "body": "my @files = &lt;$dir/*.xml&gt;;  zip \\@files =&gt; &#39;output.zip&#39; ..I need *.xml only ..not $dir to zip.."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479309123, "post_id": 40631276, "comment_id": 68503443, "body": "Sounds like you want to change directory before running <code>zip()</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479309195, "post_id": 40631276, "comment_id": 68503497, "body": "Or perhaps before setting <code>@files</code>."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479309275, "post_id": 40631276, "comment_id": 68503545, "body": "I want to zip the xml file only ,,not with entire folder to zip..but it zip the entire folder..how i zip xml only"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479309555, "post_id": 40631276, "comment_id": 68503768, "body": "Why not post a new question with your current code and explain what problems you&#39;re having"}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479310009, "post_id": 40631276, "comment_id": 68504094, "body": "sorry one day one question only ask..please help this my last scenario to compleate my project..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479311128, "post_id": 40631276, "comment_id": 68504891, "body": "<code>chdir $dir; my @files = &lt;*.xml&gt;;</code> Or something like that, I suspect."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479366834, "post_id": 40631276, "comment_id": 68528844, "body": "Thank you so much..It working fine"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479382335, "post_id": 40631276, "comment_id": 68538698, "body": "@jawahar: If my help was useful, you might consider accepting my answer."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479466590, "post_id": 40631276, "comment_id": 68580667, "body": "yes...You are hacker"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479298739, "post_id": 40631889, "comment_id": 68496395, "body": "i want to zip specific path."}, {"owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479299323, "post_id": 40631889, "comment_id": 68496794, "body": "Simply i want to specific the path to zip ex: my @files = &quot;C:/zip&lt;*.xml&gt;&quot;;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479299823, "post_id": 40631889, "comment_id": 68497121, "body": "I know. And that is why I wrote &quot;you just need to edit that to include the directory name in a couple of places&quot;."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 3, "creation_date": 1479300219, "post_id": 40631889, "comment_id": 68497357, "body": "I can, yes. But I&#39;m not going to. Honestly, this really isn&#39;t hard. You&#39;re going to have to make a little bit of effort here. Your profile says that you&#39;re a programmer. A programmer would know how to research the syntax required to make these changes. A programmer would have been able to read the module documentation and find the examples I have given you. If you&#39;re a programmer, you can do this. If you&#39;re not a programmer then you should pay someone to write this for you. We are not here to write your code for you. We are here to help fellow programmers solve problems in their code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "edited": false, "score": 0, "creation_date": 1479302117, "post_id": 40631889, "comment_id": 68498526, "body": "@jawahar: Please don&#39;t suggest edits to my answer - particularly not ones that don&#39;t solve the problem. If you have new code for us to look at, then please edit your question to include it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1479298349, "creation_date": 1479298349, "answer_id": 40631889, "question_id": 40631276, "link": "https://stackoverflow.com/questions/40631276/how-to-convert-single-zip-name-using-perl/40631889#40631889", "title": "How to convert single zip name using perl?", "body": "<p>The <a href=\"https://metacpan.org/pod/IO::Compress::Zip\" rel=\"nofollow noreferrer\">documentation for the module that you are using</a> seems to have some examples which are very close to what you are trying to do.</p>\n\n<pre><code>my @files = &lt;*.txt&gt;;\nzip \\@files =&gt; 'output.zip'\n    or die \"zip failed: $ZipError\\n\";\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>zip [ &lt;*.txt&gt; ] =&gt; 'output.zip'\n    or die \"zip failed: $ZipError\\n\";\n</code></pre>\n\n<p>You just need to edit that to include the directory name in a couple of places.</p>\n"}], "owner": {"reputation": 1, "user_id": 6652742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bfeac0d2cceb21f1f01aa99c115ed2?s=128&d=identicon&r=PG&f=1", "display_name": "jawahar", "link": "https://stackoverflow.com/users/6652742/jawahar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1479309238, "creation_date": 1479296540, "last_edit_date": 1479309238, "question_id": 40631276, "link": "https://stackoverflow.com/questions/40631276/how-to-convert-single-zip-name-using-perl", "title": "How to convert single zip name using perl?", "body": "<p>For example folder contains 10 XML File. Convert the folder to Single Zip file with that folder name</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Compress::Zip qw(zip $ZipError) ; \n\nmy $file = $ENV{\"HOME\"}.\"C:/zip\";\n\nmy $s = zip [ $file, $file2 ] =&gt; $ENV{\"HOME\"}.\"C:/zip/new_.zip\" , zip64 =&gt; 1 \n    or die \"zip failed: $ZipError \\n\";\n</code></pre>\n\n<p><strong>Update:</strong> Suggested code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Compress::Zip qw(zip $ZipError) ; \n\nmy $files=\"C:/zip\";\n\nmy @file = \"&lt;$files/*.xml&gt;\";\nzip \\@file =&gt; 'output.zip'\n  or die \"zip failed: $ZipError\\n\";\n</code></pre>\n\n<p><strong>Update:</strong> Suggested code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Compress::Zip qw(zip $ZipError) ; \nmy $dir=\"C:/zip\";\n\nmy @files = &lt;$dir/*.xml&gt;;\n\nprint @files;\n\nzip \\@files =&gt; 'output.zip'         \n    or die \"zip failed: $ZipError\\n\"; \n</code></pre>\n"}, {"tags": ["perl", "centos", "crontab", "plesk", "netstat"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1479293961, "post_id": 40630378, "comment_id": 68493421, "body": "I couldn&#39;t quite figure out if the return code from <code>ping</code> would end up going anywhere useful. But otherwise yes, it doesn&#39;t actually look like it does very much."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1479294213, "post_id": 40630378, "comment_id": 68493579, "body": "@Sobrique It doesn&#39;t even display <code>ping</code>&#39;s output. It&#39;s a badly-written and pointless program."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1479296616, "post_id": 40630378, "comment_id": 68495056, "body": "ping might force an <code>arp</code> and that ... I dunno, might do something."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1479304465, "post_id": 40630378, "comment_id": 68500129, "body": "@Sobrique Dave, I&#39;ve seen something like this before... someone had been doing a network migration of servers to another gateway, but instead of polling or honeypotting or sniffing or something of the like, each server pinged a router, then counted the arp cache entries on the router to spot out which servers hadn&#39;t been changed over yet. No where near a sane way to do things, but I have seen stranger."}, {"owner": {"reputation": 56, "user_id": 898822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbddef052d0bed6eaa42f65cc7374659?s=128&d=identicon&r=PG", "display_name": "antonrodin", "link": "https://stackoverflow.com/users/898822/antonrodin"}, "edited": false, "score": 0, "creation_date": 1479387257, "post_id": 40630378, "comment_id": 68541879, "body": "Thx a lot. I think I&#39;ll let it be :)) It seems harmless."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 56, "user_id": 898822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbddef052d0bed6eaa42f65cc7374659?s=128&d=identicon&r=PG", "display_name": "antonrodin", "link": "https://stackoverflow.com/users/898822/antonrodin"}, "edited": false, "score": 0, "creation_date": 1479387365, "post_id": 40630378, "comment_id": 68541961, "body": "@antonrodin: <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1479294741, "last_edit_date": 1479294741, "creation_date": 1479293833, "answer_id": 40630378, "question_id": 40630239, "link": "https://stackoverflow.com/questions/40630239/dont-understand-simple-perl-script-in-my-crontab/40630378#40630378", "title": "Don&#39;t understand simple perl script in my crontab", "body": "<p>This is really a shell script which has been written in Perl by someone who didn't know very much Perl :-/</p>\n\n<p>And the comment doesn't really match up with what the program does.</p>\n\n<p>It runs <code>netstat -rn</code> and passes the output through <code>grep</code> to look for the line that starts with <code>0.0.0.0</code>. It then passes that line through <code>awk '{ print $2 }'</code> to get the IP address of your default gateway.</p>\n\n<p>If this doesn't return an IP address, the program exits with an error status. If it gets an IP address, then it sends a single ping packet to that address and then exits.</p>\n"}], "owner": {"reputation": 56, "user_id": 898822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbddef052d0bed6eaa42f65cc7374659?s=128&d=identicon&r=PG", "display_name": "antonrodin", "link": "https://stackoverflow.com/users/898822/antonrodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1479294741, "creation_date": 1479293464, "last_edit_date": 1479293898, "question_id": 40630239, "link": "https://stackoverflow.com/questions/40630239/dont-understand-simple-perl-script-in-my-crontab", "title": "Don&#39;t understand simple perl script in my crontab", "body": "<p>First of all, sorry for my english, also is my first question (Dont know what I'm doing :)). I trying to edit my cron job and listing 'my' scheduled tasks i found this one:</p>\n\n<pre><code>*/5 *   *   *   *   perl /usr/bin/hm_fix.pl &gt; /dev/null 2&lt;&amp;1\n</code></pre>\n\n<p>The script itself:</p>\n\n<pre><code>#!/usr/bin/perl -w\n# Script to fix some migrations\n$gateway = `netstat \\-rn \\|grep \\^0\\.0\\.0\\.0 \\|awk \\'\\{print \\$2\\}\\'`;\nif (($gateway eq \"\") || ($gateway eq \"\\n\")) {\n    exit 1;\n}\nelse {\n   `ping -c1 $gateway`; \n}\n</code></pre>\n\n<p>Looks like its some kind of \"network\" search or something like that. It is a CentOs 6.5 with Plesk panel installed. I googled script name and found nothing...</p>\n\n<p>Thx a lot for your help.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1479292788, "post_id": 40629445, "comment_id": 68492623, "body": "Thanks this answer is useful too!"}, {"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1479308501, "post_id": 40629445, "comment_id": 68502981, "body": "Sorry my bad, I was not aware that you posted yours half a minute earlier."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1479291315, "creation_date": 1479291315, "answer_id": 40629445, "question_id": 40629194, "link": "https://stackoverflow.com/questions/40629194/replace-an-entire-string-using-regex-in-perl/40629445#40629445", "title": "Replace an entire string using regex in Perl", "body": "<p>You just need to consume the rest of the line by adding <code>.*</code> after <code>a</code>:</p>\n\n<pre><code>my $str = 'axxxx';\nmy $replacement = 'string_begins_with_a';\n$str =~ s/^a.*/$replacement/;\nprint \"$str\\n\"; #prints 'string_begins_with_a'\n</code></pre>\n\n<p>Or, you may just check if <code>$str</code> starts with <code>a</code>, and then assign the <code>$replacement</code> value to it:</p>\n\n<pre><code>$str = ($str =~ /^a/) ? $replacement : $str;\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>if ($str =~ /^a/) {\n    $str = $replacement;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1479292756, "post_id": 40629458, "comment_id": 68492596, "body": "Thanks this what I was looking for!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479295491, "post_id": 40629458, "comment_id": 68494368, "body": "I do not say you copied from my answer, but that it contains just the same solution. I know that SO has some lags displaying answers."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1479316606, "last_edit_date": 1479316606, "creation_date": 1479291350, "answer_id": 40629458, "question_id": 40629194, "link": "https://stackoverflow.com/questions/40629194/replace-an-entire-string-using-regex-in-perl/40629458#40629458", "title": "Replace an entire string using regex in Perl", "body": "<p>Match the whole string with a <code>^a.*</code> regex and then replace it using your replacement string.</p>\n\n<pre><code>$str =~ s/^a.*/$replacement/;\nprint \"$str\\n\"; # would print 'string_begins_with_a'\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 40629445, "answer_count": 2, "score": 2, "last_activity_date": 1479316639, "creation_date": 1479290670, "last_edit_date": 1479316639, "question_id": 40629194, "link": "https://stackoverflow.com/questions/40629194/replace-an-entire-string-using-regex-in-perl", "title": "Replace an entire string using regex in Perl", "body": "<p>I would like it to look something like this.</p>\n\n<pre><code>my $str = 'axxxx';\n\nmy $replacement = 'string_begins_with_a';\n\n$str =~ s/^a/$replacement/;\n\nprint \"$str\\n\"; #should print 'string_begins_with_a'\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1479283832, "post_id": 40626904, "comment_id": 68487096, "body": "Add this after your code : <code>$tmp =~ s&#47;\\s*$&#47;&#47;g;</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1479287748, "post_id": 40626904, "comment_id": 68489305, "body": "@AbhiNickz: will do."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479287159, "post_id": 40626965, "comment_id": 68488927, "body": "I&#39;d suggest that a hash written with <code>=&gt;</code> would be a clearer way of showing what&#39;s happening here."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1479287659, "post_id": 40626965, "comment_id": 68489249, "body": "@zdim: <code>Use of uninitialized value in join or string at a.pl line </code> I am getting this error."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1479289345, "post_id": 40626965, "comment_id": 68490304, "body": "@ssr1012  What strings are you feeding to this? Whatever chars are in the string they have to be in the hash.  If the string can have yet other ones, which you&#39;d discard, this is easily adjusted, for example by adding <code>grep { &#47;c|l|r&#47; }</code> after <code>split</code> (this would remove others altogether). Let me know."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479290131, "post_id": 40626965, "comment_id": 68490821, "body": "@Sobrique Indeed. It was typed quickly and felt easy to read, but there is no reason for the shortcut.  Thank you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479293516, "post_id": 40626965, "comment_id": 68493113, "body": "You could build the <code>grep</code> operation into the <code>map</code> if you just did a  <code>map { $repl{$_} &#47;&#47; () }</code> - so it&#39;ll return the looked up element or an empty list if there isn&#39;t one. (Or have it return a &#39;default&#39; if you prefer)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1479327746, "last_edit_date": 1479327746, "creation_date": 1479283921, "answer_id": 40626965, "question_id": 40626904, "link": "https://stackoverflow.com/questions/40626904/replace-the-string-in-single-shot-using-perl/40626965#40626965", "title": "Replace the string in Single shot using perl", "body": "<p>Can do without a regex as well</p>\n\n<pre><code>my %repl = (c =&gt; 'center', l =&gt; 'left', r =&gt; 'right');\n\n$tmp = join ' ', map { $repl{$_} }  split '', $tmp;\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> with the pattern <code>''</code> breaks a string into a list of its characters, and <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a> uses the hash to replace each by its full word. The output list of <code>map</code> is joined by space.</p>\n\n<hr>\n\n<p><em>Updated to comments</em></p>\n\n<p>If the original string contains yet other characters, can filter them out first</p>\n\n<pre><code>$tmp = join ' ', map { $repl{$_} } grep { /c|l|r/ } split '', $tmp;\n</code></pre>\n\n<p>or, use an empty list in the <code>map</code> for anything that isn't defined in the hash </p>\n\n<pre><code>$tmp = join ' ', map { $repl{$_} // () } split '', $tmp;\n</code></pre>\n\n<p>This removes altogether everything other than <code>c|l|r</code>. To keep them in the result</p>\n\n<pre><code>$tmp = join ' ', map { $repl{$_} // $_ } split '', $tmp;\n</code></pre>\n\n<p>which has them separated by space as well.  To keep them <em>together</em> need to tweak it further.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1479284057, "creation_date": 1479284057, "answer_id": 40626998, "question_id": 40626904, "link": "https://stackoverflow.com/questions/40626904/replace-the-string-in-single-shot-using-perl/40626998#40626998", "title": "Replace the string in Single shot using perl", "body": "<p>You can use a hash of replacements in the substitution:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature 'say';\n\nmy $tmp = \"rrccllrrc\";\n\nmy %replace = ( r =&gt; 'right',\n                c =&gt; 'center',\n                l =&gt; 'left' );\n\n$tmp =~ s/(.)/$replace{$1} /g;\nchop $tmp;\nsay \"&lt;$tmp&gt;\";\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 40626965, "answer_count": 2, "score": 3, "last_activity_date": 1479327746, "creation_date": 1479283668, "question_id": 40626904, "link": "https://stackoverflow.com/questions/40626904/replace-the-string-in-single-shot-using-perl", "title": "Replace the string in Single shot using perl", "body": "<p>My input:</p>\n\n<pre><code>my $tmp = \"rrccllrrc\";\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>$tmp = \"right right center center left left right right center\"; #End should not be spaced definitely.\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>$tmp=~s/c/center /g;\n$tmp=~s/l/left /g;\n$tmp=~s/r/right /g;\n</code></pre>\n\n<p>Someone can help to shorten the way to replace the regex as much possible.</p>\n"}, {"tags": ["perl", "pdflib", "zugferd"], "answers": [{"tags": [], "owner": {"reputation": 3536, "user_id": 1463584, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7634126fd83f4491bfd991374f6a099a?s=128&d=identicon&r=PG", "display_name": "Sebi", "link": "https://stackoverflow.com/users/1463584/sebi"}, "is_accepted": true, "score": 1, "last_activity_date": 1479285824, "creation_date": 1479285824, "answer_id": 40627487, "question_id": 40626834, "link": "https://stackoverflow.com/questions/40626834/how-to-create-virtual-xml-for-zugferd-invoices/40627487#40627487", "title": "How to create virtual XML for ZUGFeRD Invoices", "body": "<p>Arg, i was just missing the PDF-Handle in the load_asset method:</p>\n\n<pre><code>my $xml_invoice = PDF_load_asset($pdf, \"Attachment\", $pvf_xml, \"mimetype=text/xml \"\n                                                         .\"description={Rechnungsdaten im Zugferd-Xml-Format} \"\n                                                         .\"relationship=Alternative documentattachment=true\");\n</code></pre>\n\n<p>This way it works.</p>\n"}], "owner": {"reputation": 3536, "user_id": 1463584, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7634126fd83f4491bfd991374f6a099a?s=128&d=identicon&r=PG", "display_name": "Sebi", "link": "https://stackoverflow.com/users/1463584/sebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 40627487, "answer_count": 1, "score": 1, "last_activity_date": 1567774225, "creation_date": 1479283380, "last_edit_date": 1567774225, "question_id": 40626834, "link": "https://stackoverflow.com/questions/40626834/how-to-create-virtual-xml-for-zugferd-invoices", "title": "How to create virtual XML for ZUGFeRD Invoices", "body": "<p>I try to create a PDF/A-3b file which contains an embedded XML-File to be ZUGFeRD conform. I use Perl and PDFLib for this purpose. The PDFLib Documentation out there is just for Java and PHP. Creating the PDF works fine, but the XML part is my problem.</p>\n\n<p>So how can i create a pvf from xml and join this to my pdf?</p>\n\n<p>This is what <a href=\"http://www.pdflib.com/de/knowledge-base/pdfa/zugferd-rechnungen/\" rel=\"nofollow noreferrer\">PDFLib</a> recommends in Java:</p>\n\n<pre><code>// Place XML stream in a virtual PVF file\nString pvf_name = \"/pvf/ZUGFeRD-invoice.xml\";\nbyte[] xml_bytes = xml_string.getBytes(\"UTF-8\");\np.create_pvf(pvf_name, xml_bytes, \"\");\n\n// Create file attachment (asset) from PVF file\nint xml_asset = p.load_asset(\"Attachment\", pvf_name,\n     \"mimetype=text/xml description={ZUGFeRD invoice in XML format} \"\n   + \"relationship=Alternative documentattachment=true\");\n\n// Associate file attachment with the document\np.end_document(\"associatedfiles={\" + xml_asset + \"}\");\n</code></pre>\n\n<p>So I thought, take the example and fit it to perl:</p>\n\n<pre><code>my $xmldata = read_file($xmlfile, binmode =&gt; ':utf8'); #I use example xml at the moment\n\nmy $pvf_xml = \"/pvf/ZUGFeRD-invoice.xml\";\nPDF_create_pvf($pdf, $pvf_xml, $xmldata, \"\"); #because no OOP i need to call it this way (works with all other PDF Functions)\n\nmy $xml_invoice = PDF_load_asset(\"Attachment\", $pvf_xml, \"mimetype=text/xml \"\n                                                         .\"description={Rechnungsdaten im Zugferd-Xml-Format} \"\n                                                         .\"relationship=Alternative documentattachment=true\");\n\nPDF_end_document($pdf, \"associatedfiles={\".$xml_invoice.\"}\");\n</code></pre>\n\n<p>In PHP examples it's also not needed to convert to ByteArray after reading xml. Further tried it with unpack but don't seem to be the problem.</p>\n\n<p>If I call my script I'm just getting:</p>\n\n<blockquote>\n  <p>Usage: load_asset(type, filename, optlist); at signatur_test.pl line\n  41.</p>\n</blockquote>\n\n<p>I think the problem is that pvf_xml isn't created the line before.\nAnyone did this before and no how to solve this?</p>\n"}, {"tags": ["perl", "pipe"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1479281328, "post_id": 40625716, "comment_id": 68485942, "body": "That&#39;s a <a href=\"http://www.iki.fi/era/unix/award.html\" rel=\"nofollow noreferrer\">useless use of <code>more</code></a> (where <code>more</code> is even more useless than <code>cat</code> because it is useful only for interactive use).  Perl cam read standard input just fine without using an external program."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1479281380, "post_id": 40625716, "comment_id": 68485972, "body": "But reading the archive from within Perl is probably going to be a lot simpler.  Just pass in an input file name argument to the Perl script."}, {"owner": {"reputation": 21, "user_id": 7046221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tz9A2LwL2dk/AAAAAAAAAAI/AAAAAAAAA84/zjGzhTM6d2c/photo.jpg?sz=128", "display_name": "Rajesh Murugan", "link": "https://stackoverflow.com/users/7046221/rajesh-murugan"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1479283150, "post_id": 40625716, "comment_id": 68486799, "body": "Yes. when we use <code>cat</code>command, able to read the binary content. I am currently checking this in WINDOWS platform. So i tried with <code>type</code> command and getting the raw binary data. Thanks!!"}, {"owner": {"reputation": 21, "user_id": 7046221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tz9A2LwL2dk/AAAAAAAAAAI/AAAAAAAAA84/zjGzhTM6d2c/photo.jpg?sz=128", "display_name": "Rajesh Murugan", "link": "https://stackoverflow.com/users/7046221/rajesh-murugan"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1479283222, "post_id": 40625716, "comment_id": 68486834, "body": "<code>&gt;type D:\\Sample_binary.zip| perl readpipe.pl D:\\sample_output.txt</code>. Now I am able to load the zip file from pipe."}, {"owner": {"reputation": 21, "user_id": 7046221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tz9A2LwL2dk/AAAAAAAAAAI/AAAAAAAAA84/zjGzhTM6d2c/photo.jpg?sz=128", "display_name": "Rajesh Murugan", "link": "https://stackoverflow.com/users/7046221/rajesh-murugan"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1479283360, "post_id": 40625716, "comment_id": 68486904, "body": "@tripleee, My aim is to pass the binary data from pipeline and not passing filename as argument. Thanks for your suggestion."}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1479284560, "post_id": 40625716, "comment_id": 68487427, "body": "So what&#39;s wrong with the NUL-character? What makes you think that Perl converts the <code>0x00</code> byte (<code>\\0</code>) to e.g. <code>0x0A</code> (<code>\\n</code>)?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1479299372, "post_id": 40625716, "comment_id": 68496821, "body": "@red0ct As per the previous comment, apparently <code>more</code> does that? So the workaround is to not use <code>more</code>.  Voting to close as trivial."}, {"owner": {"reputation": 1014, "user_id": 6047952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56a0a74a9848b8796170a9bce83e9fa?s=128&d=identicon&r=PG", "display_name": "infixed", "link": "https://stackoverflow.com/users/6047952/infixed"}, "edited": false, "score": 1, "creation_date": 1479313964, "post_id": 40625716, "comment_id": 68506916, "body": "A pipe is just a way to pass in data via STDIN.  You can do that like this too: <code>perl readpipe.pl D:\\sample_output.txt &lt; D:\\Sample_binary.zip</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7046221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tz9A2LwL2dk/AAAAAAAAAAI/AAAAAAAAA84/zjGzhTM6d2c/photo.jpg?sz=128", "display_name": "Rajesh Murugan", "link": "https://stackoverflow.com/users/7046221/rajesh-murugan"}, "edited": false, "score": 0, "creation_date": 1479364404, "post_id": 40637207, "comment_id": 68527650, "body": "Yes. you are correct. Perl allows to read bin mode but more is not allowing NUL character."}, {"owner": {"reputation": 21, "user_id": 7046221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tz9A2LwL2dk/AAAAAAAAAAI/AAAAAAAAA84/zjGzhTM6d2c/photo.jpg?sz=128", "display_name": "Rajesh Murugan", "link": "https://stackoverflow.com/users/7046221/rajesh-murugan"}, "edited": false, "score": 0, "creation_date": 1479912487, "post_id": 40637207, "comment_id": 68758997, "body": "I said that <code>more</code> utility is not allowing NULL character in WINDOWS. Your answer gives some idea to resolve another issue. Thanks so much."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1479326506, "last_edit_date": 1479326506, "creation_date": 1479313495, "answer_id": 40637207, "question_id": 40625716, "link": "https://stackoverflow.com/questions/40625716/read-binary-data-from-pipe-in-perl/40637207#40637207", "title": "Read binary data from pipe in perl", "body": "<p>When dealing with binary data, use <code>binmode(STDIN);</code>. It will prevent CRLF&hArr;LF conversions, and will disable any encoding layer (added by <code>use open</code> or whatever).</p>\n\n<blockquote>\n  <p><em>The NUL character are not preserved and converted this character as newline in Perl environment.</em></p>\n</blockquote>\n\n<p>No, Perl is not doing that. Perhaps <code>more</code> is? Use</p>\n\n<pre><code>perl readpipe.pl &lt;D:\\Sample_binary.zip\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7046221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tz9A2LwL2dk/AAAAAAAAAAI/AAAAAAAAA84/zjGzhTM6d2c/photo.jpg?sz=128", "display_name": "Rajesh Murugan", "link": "https://stackoverflow.com/users/7046221/rajesh-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 971, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479326506, "creation_date": 1479278971, "question_id": 40625716, "link": "https://stackoverflow.com/questions/40625716/read-binary-data-from-pipe-in-perl", "title": "Read binary data from pipe in perl", "body": "<p>I want to write a Perl script which captures binary data from a pipe and read the binary data inside Perl and process the received binary content as file handler.</p>\n\n<p>I am able to receive the binary content from pipe and the problem is here that the binary format is not preserved correctly while reading the data from Perl . The NUL character are not preserved and converted this character as newline in Perl environment. Following is the command line arguments and sample </p>\n\n<pre><code>&gt;more D:\\Sample_binary.zip| perl readpipe.pl D:\\sample_output.txt\n</code></pre>\n\n<p><strong>readpipe.pl</strong></p>\n\n<pre><code>local $/;   \nmy $lines = &lt;STDIN&gt;; # Read the binary data from pipe\nopen my $IN, \"+&lt;\", \\$lines; # Load the content as file handler\n$zip = Archive::Zip-&gt;new;\n$zip-&gt;readFromFileHandle ($IN); # Read ZIP file from the received binary data\n</code></pre>\n"}, {"tags": ["perl", "hash", "bioinformatics"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479270051, "post_id": 40623934, "comment_id": 68481746, "body": "You are processing/outputing for every step.  You probably want to go through the steps first, and then output your hash.  You can simplify your counting by just doing <code>$kMersHash{$kMerSeq}++;</code> since perl will auto-vivify (create if it doesn&#39;t exist) your hash key."}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479270297, "post_id": 40623934, "comment_id": 68481813, "body": "I know it has to be something in my processKMers subroutine that is duplicating and being inefficient, I just can&#39;t figure out what."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479270562, "post_id": 40623934, "comment_id": 68481887, "body": "It is because you are <code>print</code>ing the keys every time you call <code>processKMers</code> which is for every step.  Move the printing logic out of the subroutine and do it just once, after the entire string has been processed."}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479270650, "post_id": 40623934, "comment_id": 68481915, "body": "@xxfelixxx So are you saying I could take out my if else entirely and just increment?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479271052, "post_id": 40623934, "comment_id": 68482027, "body": "Yes.  Here is a good article about it: <a href=\"https://www.effectiveperlprogramming.com/2011/04/understand-autovivification/\" rel=\"nofollow noreferrer\">effectiveperlprogramming.com/2011/04/&hellip;</a>"}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479271153, "post_id": 40623934, "comment_id": 68482068, "body": "I&#39;ve moved the printing to immediately after the processKMers subroutine call, in the main section....  unfortunately I left it still running at over 5 min now."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479271296, "post_id": 40623934, "comment_id": 68482112, "body": "How long is your string (bytes/Mb/Gb) ?  Are you running out of memory?"}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479271570, "post_id": 40623934, "comment_id": 68482201, "body": "It&#39;s a big file. It&#39;s something I&#39;m grabbing from my school&#39;s server, so no sure exact size. The expected output is 20,938,309 kmers, but I&#39;m getting 600 million+."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479271610, "post_id": 40623934, "comment_id": 68482214, "body": "If you are processing something larger (think string length, plus storage for the hash) than your available memory, the program will grind to a halt until it runs out of memory, then it will exit.  If that is the case, you will need to rethink your processing strategy, likely using temporary files as intermediate steps."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479271707, "post_id": 40623934, "comment_id": 68482243, "body": "The current code is going to output all kmers, including those that are only seen once.  Maybe you only want to print them out only if they show up more than N times?"}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479272063, "post_id": 40623934, "comment_id": 68482333, "body": "The expected output file we&#39;re allowed to compare against includes kmers with only 1 occurrence. Something else is tripping it up, or maybe it isn&#39;t supposed to overlap, ie stepsize = 15, but the directions didn&#39;t read that way."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479272810, "post_id": 40623934, "comment_id": 68482572, "body": "I would recommend testing with a short sequence and checking that the output is what you expect, before trying to process the whole thing.  The development/testing will be much faster for you."}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479273848, "post_id": 40623934, "comment_id": 68482887, "body": "Thanks for all your help and time!"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479274348, "post_id": 40623934, "comment_id": 68483041, "body": "Good luck with your assignment!"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1479284951, "post_id": 40623934, "comment_id": 68487640, "body": "Glad to see you have <code>use strict; use warnings;</code>"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1479325310, "post_id": 40623934, "comment_id": 68513773, "body": "A similar question was posed <a href=\"http://stackoverflow.com/users/6338276/sunny\">here</a> and it may be of some help."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1480104271, "post_id": 40623934, "comment_id": 68843669, "body": "A bit late, but <a href=\"http://www.genome.umd.edu/jellyfish.html\" rel=\"nofollow noreferrer\">jellyfish</a> looks like a likely solution to finding kmers (though I think it only works on Linux systems) Also <a href=\"http://www.cbcb.umd.edu/software/jellyfish/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.biostars.org/p/17436/#17442\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479319202, "post_id": 40638693, "comment_id": 68510396, "body": "Thanks for your efforts. I&#39;m only 10 weeks into learning Perl, so the comments and code style reflect that. The variables you&#39;ve altered to constants aren&#39;t appropriate as kmers differ from query to query and the code is meant to be reusable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479322420, "post_id": 40638693, "comment_id": 68512161, "body": "@Michelle_M:  The values I&#39;ve declared as constants are constant only within one run of the program. They are no more fixed than your own <code>$kMer</code> and <code>$stepSize</code>."}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479322592, "post_id": 40638693, "comment_id": 68512275, "body": "I understand, it&#39;s just that the accompanying lecture indicated we shouldn&#39;t make them constants."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479322675, "post_id": 40638693, "comment_id": 68512315, "body": "@Michelle_M: Ah. If this is a homework question then you should have said so. You would have got a very different style of answer."}, {"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479322888, "post_id": 40638693, "comment_id": 68512443, "body": "Sorry, I thought that was implied in my question where I mentioned my Professor. Just trying to figure this stuff out from a newbie perspective."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479323489, "post_id": 40638693, "comment_id": 68512799, "body": "@Michelle_M: Sorry, I didn&#39;t realise that <i>Prof.</i> was short for <i>Professor</i>. I&#39;m largely ignorant with anything other than mathematics and computer science, so abbreviations could mean anything after <i>kmers</i> were mentioned!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479323831, "post_id": 40638693, "comment_id": 68512984, "body": "@Michelle_M: I&#39;ve added to my answer to show how to more neatly increment a hash element without using <code>++</code> on it directly."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479323736, "last_edit_date": 1479323736, "creation_date": 1479317900, "answer_id": 40638693, "question_id": 40623934, "link": "https://stackoverflow.com/questions/40623934/hash-incorrectly-tracking-counts-runtime-long/40638693#40638693", "title": "Hash incorrectly tracking counts, runtime long", "body": "<p>Here's how I would write your application. The <code>processKMers</code> subroutine boils down to just incrementing a hash element, so I've removed that. I've also altered the identifiers to be match the <code>snake_case</code> that is more usual in Perl code, and I didn't see any point in <code>load_sequence</code> returning a reference to the sequence so I've changed it to return the string itself</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse constant FASTA_FILE =&gt; '/scratch/Drosophila/dmel-2L-chromosome-r5.54.fasta';\nuse constant KMER_SIZE  =&gt; 15;\nuse constant STEP_SIZE  =&gt; 1;\n\nmy $sequence = load_sequence( FASTA_FILE );\n\nmy %kmers;\n\nfor (my $offset = 0;\n        $offset + KMER_SIZE &lt;= length $sequence;\n        $offset += STEP_SIZE ) {\n\n    my $kmer_seq = substr $sequence, $start, KMER_SIZE;\n\n    ++$kmers{$kmer_seq};\n}\n\nopen my $out_fh, '&gt;', 'kmers.txt' or die $!;\n\nfor ( keys %kmers ) {\n    printf $out_fh \"%s\\t%d\\n\", $_, $kmers{$_};\n}\n\nsub load_sequence {\n\n    my ( $sequence_file ) = @_;\n\n    my $sequence = \"\";\n\n    open my $fh, '&lt;', $sequence_file or die $!;\n\n    while ( &lt;$fh&gt; ) {\n        next if /^&gt;/;\n        chomp;\n        $sequence .= $_;\n    }\n\n    return $sequence;\n}\n</code></pre>\n\n<p>Here's a neater way to increment a hash element without using <code>++</code> on the hash directly </p>\n\n<pre><code>my $n;\n\nif ( exists $kMersHash{$kMerSeq} ) {\n    $n = $kMersHash{$kMerSeq};\n}\nelse {\n    $n = 0;\n}\n\n++$n;\n$kMersHash{$kMerSeq} = $n;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479319528, "post_id": 40638970, "comment_id": 68510614, "body": "Thank you for leaving my beginner-style code intact. As I noted with the other answerer, I&#39;m only 10 weeks into learning Perl. Is there a more &quot;remedial&quot; way to increment the hash? We haven&#39;t learned using ++ with a hash."}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "reply_to_user": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479824974, "post_id": 40638970, "comment_id": 68714476, "body": "You can use <code>++</code> with any scalar, but it is the same as <code>$kMersHash{$kMerSeq} + $kMersHash{$kMerSeq} + 1;</code>."}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "reply_to_user": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "edited": false, "score": 0, "creation_date": 1479825016, "post_id": 40638970, "comment_id": 68714509, "body": "Er - that&#39;s supposed to say <code>$kMersHash{$kMerSeq} = $kMersHash{$kMerSeq} + 1;</code>.  Guess I can&#39;t edit comments."}], "tags": [], "owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "is_accepted": false, "score": -1, "last_activity_date": 1479318747, "creation_date": 1479318747, "answer_id": 40638970, "question_id": 40623934, "link": "https://stackoverflow.com/questions/40623934/hash-incorrectly-tracking-counts-runtime-long/40638970#40638970", "title": "Hash incorrectly tracking counts, runtime long", "body": "<p>Everything looks fine in your code besides <code>processKMers</code>.  The main issues:</p>\n\n<ul>\n<li><p><code>$kCount</code> is not persistent between calls to <code>processKMers</code>, so in your else statement, <code>$kCount</code> will always be 2</p></li>\n<li><p>You are printing every time you call <code>processKMers</code>, which is what is slowing you down.  Printing frequently slows down your process significantly, you should wait until the end of your program and print once.</p></li>\n</ul>\n\n<p>Keeping your code mostly the same:</p>\n\n<pre><code>sub processKMers {\n\n    my ($kMerSeq) = @_;\n\n    if ( not exists $kMersHash{$kMerSeq} ) {\n            $kMersHash{$kMerSeq} = 1;\n    }\n    else {\n            $kMersHash{$kMerSeq}++;\n    }\n}\n</code></pre>\n\n<p>Then you want to move your print logic to immediately after your for-loop.</p>\n"}], "owner": {"reputation": 45, "user_id": 6000244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/694295627339882/picture?type=large", "display_name": "Michelle_M", "link": "https://stackoverflow.com/users/6000244/michelle-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492146564, "creation_date": 1479269396, "question_id": 40623934, "link": "https://stackoverflow.com/questions/40623934/hash-incorrectly-tracking-counts-runtime-long", "title": "Hash incorrectly tracking counts, runtime long", "body": "<p>I am working on a program in Perl and my output is wrong and taking forever to process. The code is meant to take in a large DNA sequence file, read through it in 15 letter increments (kmers), stepping forward 1 position at a time. I'm supposed to enter the kmer sequences into a hash, with their value being the number of incidences of that kmer- meaning each key should be unique and when a duplicate is found, it should increase the count for that particular kmer. I know from my Prof. expected output file, that I have too many lines, so it is allowing duplicates and not counting correctly. It's also running 5+ minutes, so I have to Ctrl+C to escape. When I go look at kmers.txt, the file is at least written and formatted correctly. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\n# countKmers.pl\n# Open file /scratch/Drosophila/dmel-2L-chromosome-r5.54.fasta\n# Identify all k-mers of length 15, load them into a hash\n# and count the number of occurences of each k-mer. Each\n# unique k-mer and its' count will be written to file\n# kmers.txt\n\n#Create an empty hash\nmy %kMersHash = ();\n\n#Open a filehandle for the output file kmers.txt\nunless ( open ( KMERS, \"&gt;\", \"kmers.txt\" ) ) {\n    die $!;\n}\n\n#Call subroutine to load Fly Chromosome 2L\nmy $sequenceRef = loadSequence(\"/scratch/Drosophila/dmel-2L-chromosome-r5.54.fasta\");\n\nmy $kMer      = 15;    #Set the size of the sliding window\n\nmy $stepSize  = 1;     #Set the step size\n\nfor (\n\n    #The sliding window's start position is 0\n    my $windowStart = 0;\n\n    #Prevent going past end of the file\n    $windowStart &lt;= ( length($$sequenceRef) - $kMer );\n\n    #Advance the window by the step size\n    $windowStart += $stepSize\n\n    )\n\n{\n\n    #Get the substring from $windowStart for length $kMer\n    my $kMerSeq = substr( $$sequenceRef, $windowStart, $kMer );\n\n#Call the subroutine to iterate through the kMers\n    processKMers($kMerSeq);\n\n}\n\nsub processKMers {\n\n    my ($kMerSeq) = @_;\n\n    #Initialize $kCount with at least 1 occurrence  \n    my $kCount = 1;\n\n    #If the key already exists, the count is  \n    #increased and changed in the hash\n    if ( not exists $kMersHash{$kMerSeq} ) {\n\n            #The hash key=&gt;value is loaded: kMer=&gt;count\n            $kMersHash{$kMerSeq} = $kCount;\n    }\n\n    else {\n\n            #Increment the count \n            $kCount ++;\n\n            #The hash is updated \n            $kMersHash{$kMerSeq} = $kCount;\n    }\n\n    #Print out the hash to filehandle KMERS\n    for (keys %kMersHash) {\n            print KMERS $_, \"\\t\", $kMersHash{$_}, \"\\n\";\n    }\n}\n\nsub loadSequence {\n\n    #Get my sequence file name from the parameter array\n    my ($sequenceFile) = @_;\n\n    #Initialize my sequence to the empty string\n    my $sequence = \"\";\n\n    #Open the sequence file\n    unless ( open( FASTA, \"&lt;\", $sequenceFile ) ) {\n            die $!;\n    }\n\n    #Loop through the file line-by-line\n    while (&lt;FASTA&gt;) {\n\n            #Assign the line, which is in the default \n            #variable to a named variable for readability.\n            my $line = $_;\n\n            #Chomp to get rid of end-of-line characters\n            chomp($line);\n\n            #Check to see if this is a FASTA header line\n            if ( $line !~ /^&gt;/ ) {\n\n                    #If it's not a header line append it \n                    #to my sequence\n                    $sequence .= $line;\n            }\n\n    }\n\n    #Return a reference to the sequence\n    return \\$sequence;\n}\n</code></pre>\n"}, {"tags": ["perl", "opendir"], "comments": [{"owner": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "edited": false, "score": 0, "creation_date": 1479252331, "post_id": 40621369, "comment_id": 68477102, "body": "can you print $open before <b>opendir</b> ? that will lead you to answer."}, {"owner": {"reputation": 1, "user_id": 4564676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b748fcd21782f8079a60d9ffab73556a?s=128&d=identicon&r=PG&f=1", "display_name": "xDassx", "link": "https://stackoverflow.com/users/4564676/xdassx"}, "reply_to_user": {"reputation": 517, "user_id": 5293991, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rm6r_TBDf0M/AAAAAAAAAAI/AAAAAAAAN3c/_0hdeN0P3K8/photo.jpg?sz=128", "display_name": "Jay Kumar R", "link": "https://stackoverflow.com/users/5293991/jay-kumar-r"}, "edited": false, "score": 0, "creation_date": 1479252977, "post_id": 40621369, "comment_id": 68477280, "body": "@JayKumarR Yes, I can and do print $open before opendir. I just removed this line to simplify the code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1479257234, "post_id": 40621369, "comment_id": 68478554, "body": "@xDassx: Please double-check that the line you have marked is the correct one. This error occurs when you are using an undefined value for a file or directory handle, and can&#39;t be generated by <code>opendir</code>. If the <code>opendir</code> had failed and you had no check on it then the following <code>readdir</code> would produce the error, but according to the code you show it would have died before that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479258229, "post_id": 40621369, "comment_id": 68478847, "body": "Having said that, a lot of your tests are a little strange in the context of a <code>File::Find</code> <code>wanted</code> subroutine. There&#39;s no need for a <code>for</code> loop as you can call <code>find(\\&amp;Move_Images, @imagelocations)</code> and <code>find</code> will process all of the directories in turn. Furthermore, the module will <code>chdir</code> to the directory containing each file before it calls your <code>wanted</code> routine, so there is in general no need to full-qualify the file name. If you need it, the fully-qualified name is in <code>$File::Find::name</code>. <code>$_</code> will never be set to <code>.</code>, as the pseudo-directories returned by <code>readdir</code> are discarded."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1479258467, "post_id": 40621369, "comment_id": 68478914, "body": "Is the test <code>$File::Find::dir eq $a</code> intended to discard anything from a nested directory? If that&#39;s what you want then you should use <code>glob</code> instead of <code>File::Find</code>, as it&#39;s doing a lot of work to deliver those nested names to you, only for you to throw them away."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479287467, "post_id": 40621369, "comment_id": 68489133, "body": "You might find it useful to work with <code>$File::Find::name</code> because that&#39;s the path to it"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479328168, "post_id": 40621369, "comment_id": 68515414, "body": "@xDassx  If this is still a problem, perhaps show/indicate the rest of the code (in brief!).  Cleaning it up as <a href=\"http://stackoverflow.com/users/622310/borodin\">Borodin</a> told you may well do away with the problem -- or expose it."}], "owner": {"reputation": 1, "user_id": 4564676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b748fcd21782f8079a60d9ffab73556a?s=128&d=identicon&r=PG&f=1", "display_name": "xDassx", "link": "https://stackoverflow.com/users/4564676/xdassx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479285860, "creation_date": 1479251505, "question_id": 40621369, "link": "https://stackoverflow.com/questions/40621369/perl-opendir-receiving-cant-use-an-undefined-value-as-a-symbol-reference-at", "title": "Perl (opendir): Receiving &quot;Can&#39;t use an undefined value as a symbol reference at line 46.&quot;", "body": "<p>I am trying to use opendir to open a directory. When ever this happens I get the error: \"Can't use an undefined value as a symbol reference at line.\" From searching other questions this usually originates from trying to use a variable that is out of scope. From all that I can tell my variable that I am using for my directory location is in scope and my handler for opendir is defined in the function like all examples. Please help me figure out what is going wrong. Line 46 where it is claiming the error is at is double starred.</p>\n\n<pre><code>use File::Find;\nuse File::Copy;\nuse File::Path;\n\nmy @imagelocations = ('/some/location1','/some/location2');\nmy $destination = '/some/location';\n\nforeach $a (@imagelocations)\n{\n    find (\\&amp;Move_Images, $a);\n}\n\nsub Move_Images\n{\n     my $file = $_;\n     if (-e $file &amp;&amp; $File::Find::dir eq $a &amp;&amp; $file ne \".\")\n     {\n        if (-M $file &lt; 1)\n        {\n            my @folder = split(/_/, $file);\n            my ($var1,$var2,$var3) = @folder[0,1,4];\n            if (lc $var1 ne \"manual\" &amp;&amp; lc $var1 ne \"test\")\n            {\n                if (-d ($File::Find::dir.'/'.$file))\n                {\n                    $var3 = substr ($var3,1,-2);\n                    my $open = $File::Find::dir.\"/$file\";\n                    **opendir (my $dh, $open) or die \"Can't open directory $!\";**\n                    my @files = readdir($dh);\n                    ...\n</code></pre>\n"}, {"tags": ["image", "perl", "imagemagick", "batch-processing", "imagemagick-convert"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1479290383, "post_id": 40621086, "comment_id": 68490966, "body": "I don&#39;t understand your question. What is a seamless square picture? Do you want to crop one 6000x4000 image into a single 4000x4000 image by cutting off 2000 pixels? Or resize and distort the original picture? Or take 16 images of 6000x4000 and resize each one to 1000x1000 and montage them to make a single big 4000x4000? It its very unclear - to me at least!"}, {"owner": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1479989711, "post_id": 40621086, "comment_id": 68794788, "body": "Sorry for the unclarity. I would like to crop single 6000x4000 image to 4000x4000 and make this image seamless. Cropping could be done in a way that 1000 pixels is cut from both sides."}], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1479989791, "post_id": 40621392, "comment_id": 68794858, "body": "This seems to be right solution for me, thanks!!! Dunno who gave you -1, I&#39;m giving +1 because this is the OK method for me. I&#39;ll check if that works."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1479994718, "post_id": 40621392, "comment_id": 68798178, "body": "@piotao since this is the only answer on an older post, and it works for you, please mark it as accepted by clicking the checkmark. You should do this for any question you ask; always accept the best answer that solved your problem."}, {"owner": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1480967359, "post_id": 40621392, "comment_id": 69173830, "body": "Well, unfortunately, this is only a part of the solution. Just a nice way of cropping images, but they are just cropped. Another part of my question still is unsolved - how to convert them, after cropping, to seamless images? Seamless in a way that allow me to use them as a texture on big objects and not see any seams. Repeating pattern optimally shouldn&#39;t be too visible (I know, this depends on an image)."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1480967728, "post_id": 40621392, "comment_id": 69174029, "body": "@piotao I did not realize exactly what you were trying to achieve, but I do now. Honestly, I don&#39;t know (or have the time to research) how to do that."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1479251619, "creation_date": 1479251619, "answer_id": 40621392, "question_id": 40621086, "link": "https://stackoverflow.com/questions/40621086/seamless-images-from-photos-using-imagemagick/40621392#40621392", "title": "Seamless images from photos using imagemagick", "body": "<p>Perl here. This will crop an image to 400x400 starting from position 0, 0 (top-left corner):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Image::Magick;\n\nmy $img = Image::Magick-&gt;new;\n\n$img-&gt;Read('img.jpg');\n\nprint $img-&gt;Get('width') . \" \";\nprint $img-&gt;Get('height') .\"\\n\";\n\n$img-&gt;Crop(geometry =&gt; '400x400+0+0');\n$img-&gt;Write('img_new.jpg');\n\n$img-&gt;Read('img_new.jpg');\n\nprint $img-&gt;Get('width') . \" \";\nprint $img-&gt;Get('height') .\"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>4128 2322 # original\n400 400   # new\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1480967489, "post_id": 40842019, "comment_id": 69173911, "body": "+1 for sharing the way you&#39;ve created the whole picture. Now, is there a method to convert it to seamless picture?"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1480974211, "post_id": 40842019, "comment_id": 69177347, "body": "@piotao The thing is, I don&#39;t know what you mean by <i>&quot;seamless&quot;</i>. I asked as a comment on 16th November under your question but I still don&#39;t know what you mean. A seam is a join or joint normally, so seamless means <i>&quot;without&quot;</i> joins and, as far as I can see, there are no join in my resulting image. If you explain what you mean, I will look again."}, {"owner": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1481058812, "post_id": 40842019, "comment_id": 69218672, "body": "Seamless pictures are used in computer graphics for texturing 3d models. Such a picture is prepared in a way that you can tile it on any surface and you are not able to see the boundaries of the picture. Thus, it&#39;s name: seamless. Now, I have lot&#39;s of good photos of rocks, terrain, beddings, etc. and I would like to run automatic script for making them seamless at once. Some of them can be bad, but still some of them could be OK."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1481061157, "post_id": 40842019, "comment_id": 69219817, "body": "@piotao Are you talking about tessellations? If so, there are triangles, squares, hexagon and all sorts <a href=\"http://gwydir.demon.co.uk/jo/tess/grids.htm\" rel=\"nofollow noreferrer\">gwydir.demon.co.uk/jo/tess/grids.htm</a> Please give a proper example of what you mean."}, {"owner": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "edited": false, "score": 0, "creation_date": 1481210665, "post_id": 40842019, "comment_id": 69293342, "body": "One approach is described here: <a href=\"http://www.instructables.com/id/Making-Images-seamless-horizontally-or-vertically-/?ALLSTEPS\" rel=\"nofollow noreferrer\">instructables.com/id/&hellip;</a> This has nothing to do with tesselation. This is only about creating a picture which has pixels on each side matching to pixels on the opposite side. I can do this in GIMP using mouse and menu Filters, but the idea is to convert all stuff automatically."}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": false, "score": 3, "last_activity_date": 1480328952, "creation_date": 1480328952, "answer_id": 40842019, "question_id": 40621086, "link": "https://stackoverflow.com/questions/40621086/seamless-images-from-photos-using-imagemagick/40842019#40842019", "title": "Seamless images from photos using imagemagick", "body": "<p>Let's start with this image which is 600x400:</p>\n\n<p><a href=\"https://i.stack.imgur.com/khYg9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/khYg9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now, if you want the central 400 pixels of the width and the full height of the original:</p>\n\n<pre><code>convert start.png -gravity center -extent 400x result.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Kjc30.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kjc30.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or, if you want the rightmost 300 pixels:</p>\n\n<pre><code>convert start.png -gravity east -extent 300x result.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/W5Nj8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W5Nj8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or, if, like your question but scaled down  by a factor of 10 , you want to start 100px in from the left and take 400px, you can crop with an offset:</p>\n\n<pre><code>convert start.png -crop 400x+100 result.png\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gfeyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gfeyA.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note:</strong></p>\n\n<p>I made the start image with:</p>\n\n<pre><code>convert xc:cyan xc:magenta xc:yellow +append -resize 600x400\\! start.png\n</code></pre>\n"}], "owner": {"reputation": 244, "user_id": 867921, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0e18bee08462857a8ffbf8e6ca6d26a1?s=128&d=identicon&r=PG&f=1", "display_name": "piotao", "link": "https://stackoverflow.com/users/867921/piotao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480328952, "creation_date": 1479250032, "question_id": 40621086, "link": "https://stackoverflow.com/questions/40621086/seamless-images-from-photos-using-imagemagick", "title": "Seamless images from photos using imagemagick", "body": "<p>I have to create seamless square pictures from photos.\nEach photo has the resolution 6000x4000 and converted image should have 4000x4000px or so. I would like to run this on Linux machine using imagemagick, from either a bash, or a perl script. Does anybody a simple way of doing it?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479245744, "post_id": 40618779, "comment_id": 68474443, "body": "Tip: If you just want the count: <code>my $c = () = $string =~ &#47;...&#47;g;</code> or <code>my $c = 0; ++$c while $string =~ &#47;...&#47;g;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 6, "last_activity_date": 1479242846, "last_edit_date": 1479242846, "creation_date": 1479240961, "answer_id": 40618899, "question_id": 40618779, "link": "https://stackoverflow.com/questions/40618779/regex-count-adjacent-pattern/40618899#40618899", "title": "Regex count adjacent pattern", "body": "<p>You can use a zero-width lookahead instead of match:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $pattern = \"(?=aa)\";\nmy $string = \"aaa\";\n\nmy @matches = $string =~ /$pattern/g;\nmy $c = @matches;\n\nprint \"$c\\n\"; \n//=&gt; 2\n</code></pre>\n\n<p><code>(?=aa)</code> is a positive lookahead that will assert true if it finds <code>aa</code> ahead of current position.</p>\n\n<p><a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">Read more information about Look arounds</a></p>\n"}], "owner": {"reputation": 305, "user_id": 2554748, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000910459805/picture?type=large", "display_name": "dugar", "link": "https://stackoverflow.com/users/2554748/dugar"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "closed_date": 1479242260, "accepted_answer_id": 40618899, "answer_count": 1, "score": 2, "last_activity_date": 1479242846, "creation_date": 1479240517, "question_id": 40618779, "link": "https://stackoverflow.com/questions/40618779/regex-count-adjacent-pattern", "closed_reason": "Duplicate", "title": "Regex count adjacent pattern", "body": "<p>I'm trying to count adjacent occurrences in a string. For example:</p>\n\n<pre><code>my $pattern = \"aa\";\nmy $string = \"aaa\";\n\nmy @matches  = $string =~ /($pattern)+/g;\nmy $c = @matches;\n\nprint \"$c\\n\";\n</code></pre>\n\n<p>This prints 1 but I would like it to be 2 because there are actually 2 adjacent occurrences of \"aa\" in \"aaa\"</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["linux", "perl", "backticks"], "comments": [{"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 11, "creation_date": 1479221428, "post_id": 40612753, "comment_id": 68459741, "body": "You probably tested your code on the command line with <code>bash</code> but you&#39;re trying to run it via <code>sh</code> when you invoke it from Perl."}, {"owner": {"reputation": 437, "user_id": 3307598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f14404d1126dc5dd8dd9933245ebabff?s=128&d=identicon&r=PG&f=1", "display_name": "user3307598", "link": "https://stackoverflow.com/users/3307598/user3307598"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 2, "creation_date": 1479221640, "post_id": 40612753, "comment_id": 68459900, "body": "You are an absolute genius"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1479223646, "post_id": 40612753, "comment_id": 68461264, "body": "I&#39;d suggest with file redirects, you&#39;d generally be better off <code>open</code>ing the executable for piping, and then handle the file io yourself, rather than outsourcing to shell."}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1479225979, "post_id": 40612753, "comment_id": 68462924, "body": "@ysth: OK - comment converted to answer below now."}], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 3307598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f14404d1126dc5dd8dd9933245ebabff?s=128&d=identicon&r=PG&f=1", "display_name": "user3307598", "link": "https://stackoverflow.com/users/3307598/user3307598"}, "edited": false, "score": 1, "creation_date": 1479226542, "post_id": 40614463, "comment_id": 68463304, "body": "Thanks :) you are a saviour"}], "tags": [], "owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "is_accepted": true, "score": 11, "last_activity_date": 1479225956, "creation_date": 1479225956, "answer_id": 40614463, "question_id": 40612753, "link": "https://stackoverflow.com/questions/40612753/why-do-i-get-a-syntax-error-in-backticks-even-though-it-works-in-terminal/40614463#40614463", "title": "Why do I get a syntax error in backticks, even though it works in terminal?", "body": "<p>You probably tested your code on the command line with <code>bash</code> but you're trying to run it via <code>sh</code> when you invoke it from Perl.</p>\n\n<p>Either change your command to be compatible with the Bourne shell, or invoke <code>bash</code> explicitly.</p>\n"}], "owner": {"reputation": 437, "user_id": 3307598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f14404d1126dc5dd8dd9933245ebabff?s=128&d=identicon&r=PG&f=1", "display_name": "user3307598", "link": "https://stackoverflow.com/users/3307598/user3307598"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 40614463, "answer_count": 1, "score": 8, "last_activity_date": 1479237105, "creation_date": 1479221244, "last_edit_date": 1479237105, "question_id": 40612753, "link": "https://stackoverflow.com/questions/40612753/why-do-i-get-a-syntax-error-in-backticks-even-though-it-works-in-terminal", "title": "Why do I get a syntax error in backticks, even though it works in terminal?", "body": "<p>I am trying to run a Linux command in Perl using backticks. It works when I run it directly in Linux, but when Perl does it through backticks, I get this error:</p>\n\n<pre><code>sh: -c: line 0: syntax error near unexpected token `&gt;'\nsh: -c: line 0: `(/src/storageUtil --diagnostic 2&gt; &gt;(tee &gt;(cat &gt;&amp;2) &gt;&amp;1)) &gt; log.txt'\n</code></pre>\n\n<p>The line of code in question is:</p>\n\n<pre><code>$output = `(/src/storageUtil --diagnostic 2&gt; &gt;(tee &gt;(cat &gt;&amp;2) &gt;&amp;1)) &gt; log.txt`;\n</code></pre>\n\n<p>Any insight as to what might cause this error would be greatly appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["macos", "perl", "module", "installation", "xml-twig"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479221519, "post_id": 40611598, "comment_id": 68459811, "body": "<code>Warning: You are not allowed to write into directory &quot;&#47;Users&#47;admin&#47;.cpan&#47;sources&#47;authors&quot;.</code>"}, {"owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479221778, "post_id": 40611598, "comment_id": 68459997, "body": "@Sobrique you are brilliant !! thanks, I install it by <code>sudo cpan install XML::Twig</code>how can i check whether it is working or not ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1479225721, "post_id": 40611598, "comment_id": 68462752, "body": "@LearnerAlgorithm: Part of the skill of programming is learning to read the error message :-)"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "edited": false, "score": 0, "creation_date": 1479222320, "post_id": 40613064, "comment_id": 68460365, "body": "my problem actually is not this , look at this post <a href=\"http://stackoverflow.com/questions/40607730/how-can-i-parse-a-xml-file\" title=\"how can i parse a xml file\">stackoverflow.com/questions/40607730/how-can-i-parse-a-xml-f&zwnj;&#8203;ile</a> I only need to run this script which after installing twig , I am facing problem again"}, {"owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "edited": false, "score": 0, "creation_date": 1479223919, "post_id": 40613064, "comment_id": 68461456, "body": "@Miguel Prz my reputation is little to down vote !!! I do appreciate your answer, however i am still reading about it and i cannot like it because my reputation is little"}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": -1, "last_activity_date": 1479222026, "creation_date": 1479222026, "answer_id": 40613064, "question_id": 40611598, "link": "https://stackoverflow.com/questions/40611598/xmltwig-fails-to-install-on-mac-terminal/40613064#40613064", "title": "XML::Twig fails to install on mac terminal", "body": "<p>I think is better not to install that module in your system perl. Try <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> and install your own perl (and handle many diferent perls if you need it). </p>\n\n<p>Then, switch easily to the proper perl, and customize it with the required modules (with cpan or <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow noreferrer\">cpanm</a>).</p>\n"}], "owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 685, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1479222026, "creation_date": 1479218044, "question_id": 40611598, "link": "https://stackoverflow.com/questions/40611598/xmltwig-fails-to-install-on-mac-terminal", "title": "XML::Twig fails to install on mac terminal", "body": "<p>I am trying to install twig on mac terminal but it seems to have a lot of error as follows:  </p>\n\n<pre><code>Admins-MBP:~ admin$ cpan install XML::Twig\n    CPAN: Storable loaded ok (v2.34)\n    Reading '/Users/admin/.cpan/Metadata'\n      Database was generated on Mon, 15 Aug 2016 09:17:02 GMT\n    CPAN: Time::HiRes loaded ok (v1.9725)\n    Warning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n\n\n\n\n        I'll continue, but if you encounter problems, they may be due\n        to insufficient permissions.\n    CPAN: HTTP::Tiny loaded ok (v0.017)\n    Fetching with HTTP::Tiny:\n    http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\n    Error downloading with HTTP::Tiny: Error: Could not open temporary file /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123482202692 for downloading: Permission denied\n     at /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/CPAN/HTTP/Client.pm line 41.\n\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n        Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\n    Fetching with HTTP::Tiny:\n    http://www.cpan.dk/authors/01mailrc.txt.gz\n    Error downloading with HTTP::Tiny: Error: Could not open temporary file /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp221231577050846 for downloading: Permission denied\n     at /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/CPAN/HTTP/Client.pm line 41.\n\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://www.cpan.dk/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://www.cpan.dk/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n        Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\n    Fetching with HTTP::Tiny:\n    http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\n    Error downloading with HTTP::Tiny: Error: Could not open temporary file /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123669027792 for downloading: Permission denied\n     at /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/CPAN/HTTP/Client.pm line 41.\n\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n        Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\n    Warning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n        I'll continue, but if you encounter problems, they may be due\n        to insufficient permissions.\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://www.cpan.dk/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://www.cpan.dk/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n        Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\n    Warning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n        I'll continue, but if you encounter problems, they may be due\n        to insufficient permissions.\n    No external ftp command available\n\n    Warning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n        I'll continue, but if you encounter problems, they may be due\n        to insufficient permissions.\n    Fetching with HTTP::Tiny:\n    http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\n    Error downloading with HTTP::Tiny: Error: Could not open temporary file /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp221231089200351 for downloading: Permission denied\n     at /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/CPAN/HTTP/Client.pm line 41.\n\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n        Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\n    Fetching with HTTP::Tiny:\n    http://www.cpan.dk/authors/01mailrc.txt.gz\n    Error downloading with HTTP::Tiny: Error: Could not open temporary file /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp221231652346630 for downloading: Permission denied\n     at /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/CPAN/HTTP/Client.pm line 41.\n\n\n    Trying with\n        /usr/bin/curl -L -f -s -S --netrc-optional\n    to get\n        http://www.cpan.dk/authors/01mailrc.txt.gz\n    sh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n        Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://www.cpan.dk/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n        Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\n    Fetching with HTTP::Tiny:\n    http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\n    Error downloading with HTTP::Tiny: Error: Could not open temporary file /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123742645488 for downloading: Permission denied\n     at /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/CPAN/HTTP/Client.pm line 41.\n\n\n\n\n\nTrying with\n    /usr/bin/curl -L -f -s -S --netrc-optional\nto get\n    http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\nsh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n</code></pre>\n\n<p>Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"<a href=\"http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\" rel=\"nofollow noreferrer\">http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz</a>\"  > \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n        returned status 1 (wstat 256)\n    Warning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n        Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\n    Warning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n        I'll continue, but if you encounter problems, they may be due\n        to insufficient permissions.</p>\n\n<pre><code>Trying with\n    /usr/bin/curl -L -f -s -S --netrc-optional\nto get\n    http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\nsh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n    Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://cpan.mirrors.uk2.net/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n    returned status 1 (wstat 256)\nWarning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n\nTrying with\n    /usr/bin/curl -L -f -s -S --netrc-optional\nto get\n    http://www.cpan.dk/authors/01mailrc.txt.gz\nsh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n    Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://www.cpan.dk/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n    returned status 1 (wstat 256)\nWarning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n\nTrying with\n    /usr/bin/curl -L -f -s -S --netrc-optional\nto get\n    http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\nsh: /Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123: Permission denied\n\n    Function system(\"/usr/bin/curl -L -f -s -S --netrc-optional \"http://mirror.met.hu/CPAN/authors/01mailrc.txt.gz\"  &gt; \"/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123\"\")\n    returned status 1 (wstat 256)\nWarning: expected file [/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123] doesn't exist\n    Warning: no success downloading '/Users/admin/.cpan/sources/authors/01mailrc.txt.gz.tmp22123'. Giving up on it.\nWarning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n    I'll continue, but if you encounter problems, they may be due\n    to insufficient permissions.\nWarning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n    I'll continue, but if you encounter problems, they may be due\n    to insufficient permissions.\nWarning: You are not allowed to write into directory \"/Users/admin/.cpan/sources/authors\".\n    I'll continue, but if you encounter problems, they may be due\n    to insufficient permissions.\nNo external ftp command available\n\nPlease check, if the URLs I found in your configuration file\n(http://cpan.mirrors.uk2.net/, http://www.cpan.dk/,\nhttp://mirror.met.hu/CPAN/) are valid. The urllist can be edited. E.g. with\n'o conf urllist push ftp://myurl/'\n\nCould not fetch authors/01mailrc.txt.gz\n</code></pre>\n"}, {"tags": ["regex", "perl", "syntax"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1479216834, "post_id": 40611150, "comment_id": 68456455, "body": "Correcto!! <code>&#47;ee</code> double evaluates the RHS"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479217018, "post_id": 40611150, "comment_id": 68456596, "body": "@Gerry: <i>Wrong!</i> I went to great lengths to explain that the first <code>&#47;e</code> treats the replacement as an <i>expression</i>. It doesn&#39;t <code>eval</code> anything. A second <code>&#47;e</code> will <code>eval</code> the value of the expression"}, {"owner": {"reputation": 11224, "user_id": 1620937, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/689410968ffb0f422e790bd6a48b3d9e?s=128&d=identicon&r=PG", "display_name": "Orab&#238;g", "link": "https://stackoverflow.com/users/1620937/orab%c3%aeg"}, "edited": false, "score": 0, "creation_date": 1479217073, "post_id": 40611150, "comment_id": 68456631, "body": "Perfect answer. It&#39;s now clearer. I missed the fact that the replacement part was embedded in an invisible qq{...} which is NOT present when using ///e modifier. Thanks."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11224, "user_id": 1620937, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/689410968ffb0f422e790bd6a48b3d9e?s=128&d=identicon&r=PG", "display_name": "Orab&#238;g", "link": "https://stackoverflow.com/users/1620937/orab%c3%aeg"}, "edited": false, "score": 2, "creation_date": 1479217162, "post_id": 40611150, "comment_id": 68456694, "body": "@Orab&#238;g: Exactly. <code>s&#47;pattern&#47;replacement&#47;</code> is identical to <code>s&#47;pattern&#47;qq{replacement}&#47;e</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1479217434, "post_id": 40611150, "comment_id": 68456887, "body": "I say you are correct then you say I am wrong by saying that? <code>e</code> evaluates the right side as an expression. <code>ee</code> evaluates the right side as a string then evaluate the result. That seems like double evaluation to me."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479217936, "post_id": 40611150, "comment_id": 68457225, "body": "@Gerry: If you&#39;re going to use &quot;evaluates&quot; so broadly then the replacement is also evaluated without any <code>&#47;e</code> at all. So in your terms, there is no difference between <code>&#47;e</code> and no <code>&#47;e</code> -- both evaluate the replacement once."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1479255602, "last_edit_date": 1479255602, "creation_date": 1479216754, "answer_id": 40611150, "question_id": 40610024, "link": "https://stackoverflow.com/questions/40610024/perl-operator-s-e-not-working-as-expected/40611150#40611150", "title": "perl operator s///e not working as expected", "body": "<p>You're misunderstanding the <em>expression</em> modifier -- a single <code>/e</code></p>\n\n<p>It causes the <em>replacement</em> string to be treated as a Perl expression, and is essentially an alternative to the standard mode, which is to process the string as if it were in double-quotes</p>\n\n<p>Normally</p>\n\n<pre><code>my $x = 1;\nmy $y = '12+34';\n\n$y =~ s/(\\d+)(.)(\\d+)/\\$x$2$2/;\n</code></pre>\n\n<p>produces a replacement equivalent to the string <code>qq{\\$x$2$2}</code>, which is <code>$x++</code></p>\n\n<p>If you add an <code>/e</code> then the replacement is treated as a Perl expression, and you are getting errors because <code>\\$x$2$2</code> isn't valid Perl. You could get the same result as before by using</p>\n\n<pre><code>s/(\\d+)(.)(\\d+)/'$x' . $2 . $2/e\n</code></pre>\n\n<p>or, as you have seen, the string expression </p>\n\n<pre><code>s/(\\d+)(.)(\\d+)/\"\\$x$2$2\"/e\n</code></pre>\n\n<p>But all these do is evaluate the Perl expression. There is no way to execute arbitrary Perl code that is constructed from parts of the target string without adding a second <code>/e</code> modifier which stands for <em>eval</em></p>\n\n<p>The resulting <code>/ee</code> causes Perl to treat the replacement as an <em>expression</em> (instead of doing double-quote interpolation on it) and then <em>eval</em> the result of that expression</p>\n\n<p>For instance</p>\n\n<pre><code>s/(\\d+)(.)(\\d+)/'$x' . $2 . $2/ee\n</code></pre>\n\n<p>first evaluates the expression <code>'$x' . $2 . $2</code> giving <code>$x++</code> and then does <code>eval</code> on that string, returning 1 (so the original <code>12+34</code> is replaced with <code>1</code>) and incrementing <code>$x</code></p>\n\n<p>You can use <em>expression</em> mode with a single <code>/e</code> if you can write a Perl expression that does what you need. Otherwise you need to use <code>/ee</code> to get an <em>eval</em> stage as well</p>\n\n<p>I think it's clearer to use braces if you involve <code>/e</code> at all. That way it looks like Perl code and not a string replacement</p>\n\n<pre><code>s{(\\d+)(.)(\\d+)}{\n    '$x' . $2 . $2\n}ee\n</code></pre>\n"}], "owner": {"reputation": 11224, "user_id": 1620937, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/689410968ffb0f422e790bd6a48b3d9e?s=128&d=identicon&r=PG", "display_name": "Orab&#238;g", "link": "https://stackoverflow.com/users/1620937/orab%c3%aeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 1, "accepted_answer_id": 40611150, "answer_count": 1, "score": 0, "last_activity_date": 1479255602, "creation_date": 1479213468, "question_id": 40610024, "link": "https://stackoverflow.com/questions/40610024/perl-operator-s-e-not-working-as-expected", "title": "perl operator s///e not working as expected", "body": "<p>I'm trying to figure out why this is working :</p>\n\n<pre><code> $_='12+34';$x=1;\n s/(\\d+)(.)(\\d+)/\"\\$x$2$2\"/ee; # This is working, does $x++\n\n print \"x=$x \\n\";              # x=2\n</code></pre>\n\n<p>while this is not :</p>\n\n<pre><code> $_='12+34';$x=1;\n s/(\\d+)(.)(\\d+)/\\$x$2$2/e; # This is NOT working \n\n # Error message is :\n # Scalar found where operator expected at ./test.pl line 2, near \"$x$2\"\n #        (Missing operator before $2?)\n</code></pre>\n\n<p>I have the guts that <code>s/xxx/yyy/e</code> and <code>s/xxx/\"yyy\"/ee</code> should behave the same, but obviously I'm wrong.</p>\n\n<p>What am I missing ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 893, "user_id": 467705, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/901cf7295529b51b5659c763a3b32057?s=128&d=identicon&r=PG", "display_name": "teodozjan", "link": "https://stackoverflow.com/users/467705/teodozjan"}, "edited": false, "score": 0, "creation_date": 1479213330, "post_id": 40609960, "comment_id": 68454228, "body": "<a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/use.html</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479213358, "post_id": 40609960, "comment_id": 68454244, "body": "Did you update your Perl to a much newer version recently?"}, {"owner": {"reputation": 316, "user_id": 5325278, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7728f95f0aca570b95858008b415a05f?s=128&d=identicon&r=PG&f=1", "display_name": "Toothrot", "link": "https://stackoverflow.com/users/5325278/toothrot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479214012, "post_id": 40609960, "comment_id": 68454644, "body": "@simbabque, I think this used to work before I switched from osx to Linux, but I don&#39;t know which version of Perl was installed then."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479214478, "post_id": 40609960, "comment_id": 68454950, "body": "<code>defined(@array)</code> has never been correct. A list of values can&#39;t be &quot;undefined&quot;, only &quot;empty&quot;. It would be simple and preferable to change <code>defined(@array)</code> to <code>@array</code> throughout."}, {"owner": {"reputation": 316, "user_id": 5325278, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7728f95f0aca570b95858008b415a05f?s=128&d=identicon&r=PG&f=1", "display_name": "Toothrot", "link": "https://stackoverflow.com/users/5325278/toothrot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479214788, "post_id": 40609960, "comment_id": 68455137, "body": "@Borodin, that may be, but this isn&#39;t my script, it&#39;s big, and I&#39;m not a programmer; I just want it to work like it used to."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479215083, "post_id": 40609960, "comment_id": 68455322, "body": "@Toothrot: Then it sounds like you need to hire a programmer."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 893, "user_id": 467705, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/901cf7295529b51b5659c763a3b32057?s=128&d=identicon&r=PG", "display_name": "teodozjan", "link": "https://stackoverflow.com/users/467705/teodozjan"}, "edited": false, "score": 0, "creation_date": 1479216663, "post_id": 40609960, "comment_id": 68456336, "body": "@teodozjan: It think you misunderstand what use VERSION does. It defines the minimum version of Perl required to run a program. It doesn&#39;t revert Perl&#39;s syntax to an older version."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1479217684, "last_edit_date": 1479217684, "creation_date": 1479215278, "answer_id": 40610611, "question_id": 40609960, "link": "https://stackoverflow.com/questions/40609960/running-old-perl-script-2007/40610611#40610611", "title": "Running old perl script (2007)", "body": "<p>This is a change that was introduced in <a href=\"https://metacpan.org/pod/distribution/perl/pod/perl5220delta.pod#defined-array-and-defined-hash-are-now-fatal-errors\" rel=\"nofollow noreferrer\">Perl 5.22</a>:</p>\n\n<blockquote>\n  <p><strong>defined(@array) and defined(%hash) are now fatal errors</strong></p>\n  \n  <p>These have been deprecated since v5.6.1 and have raised deprecation\n  warnings since v5.16.</p>\n</blockquote>\n\n<p>This syntax never made sense, so it was good to remove it.</p>\n\n<p>As for how to fix it, well that really depends what the original programmer's intention was, and we can't know that without seeing more of the code. But the suggestion in the error message is probably a good start.</p>\n\n<p><strong>Update:</strong> I've just noticed this in the error message:</p>\n\n<blockquote>\n  <p>at /usr/local/diogenes/perl/CPAN/CGI.pm line 449</p>\n</blockquote>\n\n<p>So the problem is in a library that your program uses. This problem doesn't seem to be in the most recent version of CGI.pm, so perhaps you could start by updating that.</p>\n"}], "owner": {"reputation": 316, "user_id": 5325278, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7728f95f0aca570b95858008b415a05f?s=128&d=identicon&r=PG&f=1", "display_name": "Toothrot", "link": "https://stackoverflow.com/users/5325278/toothrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "closed_date": 1479247525, "answer_count": 1, "score": -1, "last_activity_date": 1479217684, "creation_date": 1479213256, "question_id": 40609960, "link": "https://stackoverflow.com/questions/40609960/running-old-perl-script-2007", "closed_reason": "Needs details or clarity", "title": "Running old perl script (2007)", "body": "<p>I have an old perl script that doesn't run properly anymore, outputting</p>\n\n<pre><code>Can't use 'defined(@array)' (Maybe you should just omit the defined()?) at /usr/local/diogenes/perl/CPAN/CGI.pm line 449.\nCompilation failed in require at ./diogenes-server.pl line 42.\nBEGIN failed--compilation aborted at ./diogenes-server.pl line 42.\n</code></pre>\n\n<p>Instead of trying to fix the script, is there an easy way to interpret it 'as old'?</p>\n"}, {"tags": ["perl", "authentication", "ldap", "perl-module", "openldap"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1479244189, "post_id": 40609795, "comment_id": 68473682, "body": "Please also show how you have used Net::LDAP and explain what&#39;s happening when you try to authenticate. Something must be going on. It&#39;s impossible to debug without seeing what you&#39;ve done."}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479289430, "post_id": 40609795, "comment_id": 68490354, "body": "Here is the code that I am using to perform LDAP authentication  $ldap = Net::LDAP-&gt;new($HOST, port=&gt;$PORT) or die &quot;Cant Connect to LDAP server:$@&quot;;            if ( $ldap-&gt;bind($USER,password=&gt;$PWD) ) {         # successfull authentication \t\tprint &quot;Successful Authentication\\n&quot;;     } \telse{ \t\tprint &quot;Unsuccessful Authentication\\n&quot;; \t\tpush(@downlist, $server); \t\t--$upcount; \t}   $ldap-&gt;unbind();"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479291545, "post_id": 40609795, "comment_id": 68491743, "body": "Please <a href=\"https://stackoverflow.com/posts/40609795/edit\">edit</a> your question. This is not a forum and comments are not meant for code. It&#39;s unreadable."}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479296225, "post_id": 40609795, "comment_id": 68494791, "body": "Sorry for the confusion.  Any ways I have edited my question and the code through which I am trying to achieve it"}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479296544, "post_id": 40609795, "comment_id": 68495018, "body": "I have provided the wrong password but it throwing me the message successful authentication. Did I miss anything?"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 0, "creation_date": 1482336682, "post_id": 41005582, "comment_id": 69735214, "body": "thanks a lot. this resolved the issue. this is the correct resolution"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 0, "creation_date": 1482341935, "post_id": 41005582, "comment_id": 69738225, "body": "Yay! I&#39;m helpful! :-D"}], "tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": true, "score": 0, "last_activity_date": 1573815344, "last_edit_date": 1573815344, "creation_date": 1481061063, "answer_id": 41005582, "question_id": 40609795, "link": "https://stackoverflow.com/questions/40609795/how-to-perform-ldap-authentication-in-perl/41005582#41005582", "title": "How to Perform LDAP authentication in Perl", "body": "<p><code>Net::LDAP</code> returns a message object when using the bind method except if there is a code error (in that case I don't know, it may return undef or 0 or a croak).\nAnyway that means that, whether authentication is successful or not, your condition will always be true.</p>\n\n<p>I think you need to store the result of bind and test its code, like that:</p>\n\n<pre><code>my $mesg = $ldap-&gt;bind($USER,password=&gt;$PWD);\n\nif ( $mesg and $mesg-&gt;code() == 0 ) {\n    print \"Successful Authentication\\n\";\n}\nelse{\n    print \"Unsuccessful Authentication\\n\";\n    print 'Received error '.$mesg-&gt;code().': '$mesg-&gt;error().\"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2376, "favorite_count": 0, "accepted_answer_id": 41005582, "answer_count": 1, "score": 0, "last_activity_date": 1573815344, "creation_date": 1479212680, "last_edit_date": 1573815324, "question_id": 40609795, "link": "https://stackoverflow.com/questions/40609795/how-to-perform-ldap-authentication-in-perl", "title": "How to Perform LDAP authentication in Perl", "body": "<p>I want to write <strong>LDAP authentication</strong> code for my <strong>Perl</strong> script.Below I have provided the sample USER details and AD server details.\nI am not able to authenticate the LDAP user with the variable provided below. \nI am using <code>Net::LDAP</code> library but I am still not able to achieve my objective.\nI need help to understand LDAP authentication process and the logic I need to imply to authenticate an LDAP user.</p>\n\n<p>One doubt I have is \"do i need to verify whether the LDAP user exist or not in the AD server or not?\" </p>\n\n<pre><code>USER:cn=Feroz,dc=Alam,dc=com \nPWD:nike \nHOST:10.10.10.10 \nPORT:1234\nAD_USER:CN=Feroz,OU=Service,OU=Accounts,DC=Alam,DC=com\nAD_PWD:addidas\nAD_SERVER:myadserver.com\n$ldap = Net::LDAP-&gt;new($HOST, port=&gt;$PORT) or die \"Cant Connect to LDAP server:$@\";\n#IF I REMOVE THE PORT NO i AM GETTING THE ERROR \"Cant Connect to LDAP server:IO::Socket::INET: connect:\"\nif ( $ldap-&gt;bind($USER,password=&gt;$PWD) ) {\n    print \"Successful Authentication\\n\";\n    #IT IS GIVING ME SUCCESSFUL AUTHENTICATION MESSAGE EVEN IF ENTER THE WRONG PASSWORD\n}\nelse{\n    print \"Unsuccessful Authentication\\n\";\n    push(@downlist, $server);\n    --$upcount;\n}\n$ldap-&gt;unbind();\n\nDEBUG LOGS:\nNet::LDAP=HASH(0x488268) sending:\nNet::LDAP=HASH(0x488268) received:\n0000   12: SEQUENCE {\n0002    1:   INTEGER = 1\n0005    7:   [APPLICATION 1] {\n0007    1:     ENUM = 49\n000A    0:     STRING = ''\n000C    0:     STRING = ''\n000E     :   }\n000E     : }\nSuccessful Authentication\nNet::LDAP=HASH(0x488268) sending:\n</code></pre>\n\n<p>Please help......</p>\n"}, {"tags": ["perl", "parameters", "subroutine"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1479211364, "post_id": 40609322, "comment_id": 68453040, "body": "What are you trying to accomplish here? Because the short answer is &quot;no&quot; but there may be ways to achieve a similar goal."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1479211499, "post_id": 40609322, "comment_id": 68453119, "body": "Why should a subroutine care about the names of the variables that are being passed to it?"}, {"owner": {"reputation": 3, "user_id": 7161693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8618a2decf53d63c7706cad659cc3c9f?s=128&d=identicon&r=PG&f=1", "display_name": "shayk_87", "link": "https://stackoverflow.com/users/7161693/shayk-87"}, "edited": false, "score": 0, "creation_date": 1479214290, "post_id": 40609322, "comment_id": 68454828, "body": "I want to do this because I need to see in the prints the name of the array being tested and how it&#39;s evolving, taking in mind I&#39;m going to call this subroutine several times and using several arrays as parameter, this could help me a lot."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479219435, "post_id": 40609322, "comment_id": 68458271, "body": "See also <a href=\"http://stackoverflow.com/q/36361651/2173773\">Getting all arguments passed to a subroutine as a string in Perl</a> and <a href=\"http://stackoverflow.com/q/36558998/2173773\">Store the name of a hash, inside the hash</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7161693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8618a2decf53d63c7706cad659cc3c9f?s=128&d=identicon&r=PG&f=1", "display_name": "shayk_87", "link": "https://stackoverflow.com/users/7161693/shayk-87"}, "edited": false, "score": 0, "creation_date": 1479214116, "post_id": 40609596, "comment_id": 68454719, "body": "Thanks, I&#39;m going to try this module and see what happends.  What I&#39;m trying is to call this subroutine in multiple lines of a program and know wich array is testing at certain point and how the arrays are &#39;evolving&#39;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 7161693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8618a2decf53d63c7706cad659cc3c9f?s=128&d=identicon&r=PG&f=1", "display_name": "shayk_87", "link": "https://stackoverflow.com/users/7161693/shayk-87"}, "edited": false, "score": 0, "creation_date": 1479214690, "post_id": 40609596, "comment_id": 68455083, "body": "@shayk_87: I&#39;m not saying that Data::Dumper::Names will solve your problem. I&#39;m saying that you can look at the source code and use a similar approach."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1479213685, "last_edit_date": 1479213685, "creation_date": 1479212076, "answer_id": 40609596, "question_id": 40609322, "link": "https://stackoverflow.com/questions/40609322/how-to-recover-a-element-name-used-as-parameter-in-a-subroutine/40609596#40609596", "title": "How to recover a element name used as parameter in a subroutine?", "body": "<p><a href=\"https://metacpan.org/release/Data-Dumper-Names\" rel=\"nofollow noreferrer\">Data::Dumper::Names</a> does this using <code>peek_my</code> (from <a href=\"https://metacpan.org/pod/PadWalker\" rel=\"nofollow noreferrer\">PadWalker</a>) and <code>refaddr</code> (from <a href=\"https://metacpan.org/pod/Scalar::Util\" rel=\"nofollow noreferrer\">Scalar::Util</a>). But I suspect it's fragile and I wouldn't recommend it.</p>\n\n<p>What are you actually trying to do?</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7161693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8618a2decf53d63c7706cad659cc3c9f?s=128&d=identicon&r=PG&f=1", "display_name": "shayk_87", "link": "https://stackoverflow.com/users/7161693/shayk-87"}, "edited": false, "score": 1, "creation_date": 1479461808, "post_id": 40611524, "comment_id": 68577443, "body": "Thanks stevieb, this could be the most usefull thing I could do, as it seems, there&#39;s not any way to do what I was asking, or at least not in a easy way."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1479219015, "last_edit_date": 1479219015, "creation_date": 1479217863, "answer_id": 40611524, "question_id": 40609322, "link": "https://stackoverflow.com/questions/40609322/how-to-recover-a-element-name-used-as-parameter-in-a-subroutine/40611524#40611524", "title": "How to recover a element name used as parameter in a subroutine?", "body": "<p>I think you'd be much better off just sending in two parameters... the array's 'name', and the array itself:</p>\n\n<pre><code>sub test_array {\n    my ($name, @array) = @_;\n    print \"array: $name\\n\";\n    print join ', ', @array;\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>my @colours = qw(orange green);\ntest_array('colours', @colours);\n\n...\n\nmy @cities = qw(toronto edmonton);\ntest_array('cities', @cities);\n</code></pre>\n\n<p>Or even:</p>\n\n<pre><code>test_array('animals', qw(cat dog horse));\n</code></pre>\n\n<p>Another way that may help automate things a bit, is use a global hash to store the array's location as the key, with it's name as the value, then pass the array reference to the sub:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy %arrs;\n\nmy @animals = qw(cat dog);\n\n$arrs{\\@animals} = 'animals';\n\nmy @colours = qw(orange green);\n\n$arrs{\\@colours} = 'colours';\n\ntest_array(\\@animals);\ntest_array(\\@colours);\n\nsub test_array {\n    my $array = shift;\n\n    print \"$arrs{$array}\\n\";\n\n    print join ', ', @$array;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>animals\ncat, dog\ncolours\norange, green\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7161693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8618a2decf53d63c7706cad659cc3c9f?s=128&d=identicon&r=PG&f=1", "display_name": "shayk_87", "link": "https://stackoverflow.com/users/7161693/shayk-87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 40611524, "answer_count": 2, "score": 0, "last_activity_date": 1479219015, "creation_date": 1479211109, "question_id": 40609322, "link": "https://stackoverflow.com/questions/40609322/how-to-recover-a-element-name-used-as-parameter-in-a-subroutine", "title": "How to recover a element name used as parameter in a subroutine?", "body": "<p>I'm guessing if it's possible to recover or save inside a scalar the \"items\" names used as parameters for a subroutine.</p>\n\n<p>The following code explains better what I'm referring</p>\n\n<pre><code>sub test_array{\n\n    print \"\\n\";\n    print \"TESTING ARRAY \".%%ARRAY_NAME%%.\"\\n\";\n    print \"\\n\";\n    print \" \\'\".join (\"\\' , \\'\" , @_).\"\\'\".\"\\n\";\n    print \"\\n\";\n\n}\n\n@list= qw/uno dos tres/;\n\ntest_array(@list);\n</code></pre>\n\n<p>So the goal is to have a subroutine called \"test_array\" that prints the name and content of the array is being passed to subroutine as parameter.</p>\n\n<p>What I would like is to print the array name where \"%%ARRAY_NAME%%\" is.</p>\n\n<p>Is there any way to recover this using special variables or to save this as a string inside a scalar?</p>\n"}, {"tags": ["perl", "foreach", "perl-module", "progress", "buffering"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1479210289, "post_id": 40608986, "comment_id": 68452359, "body": "try <code>print &quot;*&quot; x $vari, &quot;\\n&quot;;</code> or set <code>$|=1</code>. Perhaps you&#39;re <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">suffering from buffering</a>."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1479210546, "post_id": 40609091, "comment_id": 68452524, "body": "<code>STDOUT-&gt;autoflush</code> is much more self-explanatory and can be used on any given file handle."}, {"owner": {"reputation": 33, "user_id": 911295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/637d34146b24aad61a3fcb72daf0004c?s=128&d=identicon&r=PG", "display_name": "Ocalion", "link": "https://stackoverflow.com/users/911295/ocalion"}, "edited": false, "score": 0, "creation_date": 1479211074, "post_id": 40609091, "comment_id": 68452857, "body": "&quot;suffering from buffering&quot; sounds like a common problem :). 5 chars made it work. thanks!"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479211596, "post_id": 40609091, "comment_id": 68453185, "body": "@Borodin Yes you are right ... I added your suggestion to the answer."}], "tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": true, "score": 3, "last_activity_date": 1479211437, "last_edit_date": 1479211437, "creation_date": 1479210407, "answer_id": 40609091, "question_id": 40608986, "link": "https://stackoverflow.com/questions/40608986/print-doesnt-work-while-iterations-are-going-inside-foreach-loop/40609091#40609091", "title": "print doesn&#39;t work while iterations are going inside foreach loop", "body": "<p>You are suffering from buffering. The output is buffered until a certain amount is reached or you print a newline. To change this behaviour simply add</p>\n\n<pre><code>$| = 1 ;\n</code></pre>\n\n<p>at the top of your file. This will turn on autoflush for <code>STDOUT</code>.\nThere is more than one way to do it and a little bit longer and less cryptic is Borodins suggestion:</p>\n\n<pre><code>STDOUT-&gt;autoflush();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 4, "last_activity_date": 1479213333, "creation_date": 1479213333, "answer_id": 40609987, "question_id": 40608986, "link": "https://stackoverflow.com/questions/40608986/print-doesnt-work-while-iterations-are-going-inside-foreach-loop/40609987#40609987", "title": "print doesn&#39;t work while iterations are going inside foreach loop", "body": "<p>I would like to suggest <a href=\"https://metacpan.org/pod/Term::ProgressBar\" rel=\"nofollow noreferrer\">Term::ProgressBar</a> module to avoid reinventing the wheel.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Term::ProgressBar;\n\nmy @files = qw (file1 file2 file3 file4); \n\nmy $progress = Term::ProgressBar-&gt;new(scalar @files);\n\nfor (0..@files) {\n  $| = 1;\n  sleep(1); #introducing sleep for demo purpose otherwise bar will fill up quickly\n  #open the file, do some operations and when you are done\n  #update the bar\n  $progress-&gt;update($_);\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 911295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/637d34146b24aad61a3fcb72daf0004c?s=128&d=identicon&r=PG", "display_name": "Ocalion", "link": "https://stackoverflow.com/users/911295/ocalion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 1, "accepted_answer_id": 40609091, "answer_count": 2, "score": 2, "last_activity_date": 1479278343, "creation_date": 1479210095, "last_edit_date": 1479278343, "question_id": 40608986, "link": "https://stackoverflow.com/questions/40608986/print-doesnt-work-while-iterations-are-going-inside-foreach-loop", "title": "print doesn&#39;t work while iterations are going inside foreach loop", "body": "<p>I try to find a way to print a progressbar on the commandline while parsing logfiles. Get logfiles=> foreach file => foreach line {do}.</p>\n\n<p>The idea: I want to print a part of the progressbar in every \"foreach file\" loop. Meaing: print the whole bar if you just parse 1 file. print half of the bar for every file when u parse 2 files and so on. You find the specific code at the bottom.</p>\n\n<p>The problem: The output (print \"*\") is printed after ALL foreach iteration are done - not in between. Details are in the Code.</p>\n\n<p>Does someone have an idea how to print inside a foreach? Or can tell me the problem? I don't get it :(.</p>\n\n<pre><code>my @logfiles=glob($logpath);\n\nprint \"&lt;------------------&gt;\\n\";\n$vari=20/(scalar @logfiles);\n\nforeach my $logfile (@logfiles){\n    open(LOGFILEhandle, $logfile);\n    @lines = &lt;LOGFILEhandle&gt;;\n\n    print \"*\" x $vari;   #won't work, only after loop. Even a \"print \"*\";\" doesn't work\n\n    foreach my $line (@lines){\n        #print \"*\"; works \"in between\". print \"*\" x $vari; does not.\n\n        if ($line=~/xyz/){\n            ......\n            ......\n        }\n    close(LOGFILEhandle);\n    }\n}\n</code></pre>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1479206636, "post_id": 40607730, "comment_id": 68450107, "body": "What is the error?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1479206854, "post_id": 40607730, "comment_id": 68450236, "body": "You have to install <code>XML::Simple</code> from CPAN"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1479206916, "post_id": 40607730, "comment_id": 68450284, "body": "Or better, don&#39;t <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><code>XML::Simple is discouraged</code></a> and use <code>XML::Twig</code> or <code>XML::LibXML</code> instead."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479207175, "post_id": 40607730, "comment_id": 68450448, "body": "Are you on Windows or Unix? And what&#39;s the specific file you&#39;re using? (URL)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479207259, "post_id": 40607730, "comment_id": 68450490, "body": "<code>cpan install XML::Twig</code> Or look at a the package manager. This might be relevant: <a href=\"http://apple.stackexchange.com/questions/75263/how-to-install-cpan-modules-from-the-command-line-on-os-x\" title=\"how to install cpan modules from the command line on os x\">apple.stackexchange.com/questions/75263/&hellip;</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479207277, "post_id": 40607730, "comment_id": 68450497, "body": "@LearnerAlgorithm: Google search for <a href=\"https://www.google.co.uk/search?q=installing+perl+modules+on+osx\" rel=\"nofollow noreferrer\">installing perl modules on osx</a>"}, {"owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1479222539, "post_id": 40607730, "comment_id": 68460542, "body": "@Toto I revised my question now"}, {"owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479222570, "post_id": 40607730, "comment_id": 68460560, "body": "@Sobrique I revised my question"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479222826, "post_id": 40607730, "comment_id": 68460725, "body": "Still need a URL. But <code>XML::Twig</code> doesn&#39;t work like that. It&#39;s never going to. For starters - you need <code>$twig -&gt; parse</code> rather than <code>XMLin</code>"}, {"owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479222999, "post_id": 40607730, "comment_id": 68460842, "body": "@Sobrique can you give me a solution because i am really new in this program and it will take me forever to do it"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479223062, "post_id": 40607730, "comment_id": 68460889, "body": "Yes. But I&#39;ll need some example XML source, (edited into the question - I can&#39;t tell which file you&#39;re downloading) and which values you actually want to extract from it. It&#39;s easier than you think."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479223085, "post_id": 40607730, "comment_id": 68460903, "body": "@LearnerAlgorithm: StackOverflow doesn&#39;t exist to give solutions to people. It is for programmers to help each other to solve problems in code that they have written. If you want someone to write code for you, then you should employ a programmer."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479223390, "post_id": 40607730, "comment_id": 68461102, "body": "@LearnerAlgorithm: I&#39;ve just edited your question to put back the original error, which you had removed. It&#39;s a bad idea to remove old parts of the question like that as it invalidates a lot of the other discussion on the page. Please take more care in the future."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1479207169, "post_id": 40607953, "comment_id": 68450445, "body": "Once there&#39;s a sensible parser in use, Stack Overflow is a good place to come back to for an example of how to do it easily."}, {"owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "edited": false, "score": 0, "creation_date": 1479222507, "post_id": 40607953, "comment_id": 68460520, "body": "@Dave Cross after I installed twig , I am getting again error and that is why I did not accept your answer. I revised my question above"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1479222987, "last_edit_date": 1495542623, "creation_date": 1479207102, "answer_id": 40607953, "question_id": 40607730, "link": "https://stackoverflow.com/questions/40607730/how-can-i-parse-a-xml-file/40607953#40607953", "title": "how can I parse a xml file", "body": "<p>XML::Simple is not a part of the standard Perl installation. If you want to use it, then you will need to install it. <a href=\"https://stackoverflow.com/questions/65865/whats-the-easiest-way-to-install-a-missing-perl-module\">This answer</a> gives a good overview of how to do that.</p>\n\n<p>However, you should read the <a href=\"https://metacpan.org/pod/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"nofollow noreferrer\">documentation for XML::Simple</a>, which says:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> is highly recommended and <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> is an excellent alternative.</p>\n</blockquote>\n\n<p>I strongly recommend that you abandon your use of XML::Simple in favour of one of the other modules mentioned above.</p>\n\n<p><strong>Update:</strong> You've now installed XML::Twig, and have updated your question to add the error messages that you are getting.</p>\n\n<blockquote>\n  <p>Use of uninitialized value $MIPS_file in string at myfile.pl line 7.</p>\n  \n  <p>Can't locate object method \"XMLin\" via package \"XML::Twig\" at myfile.pl line 7.</p>\n</blockquote>\n\n<p>Line 7 seems to be this:</p>\n\n<pre><code>my $data = $xml-&gt;XMLin(\"$MIPS_file\");\n</code></pre>\n\n<p>The variable <code>$MIPS_file</code> is given a value a few lines earlier in this line:</p>\n\n<pre><code>my $MIPS_file = $ARGV[0];\n</code></pre>\n\n<p>The <code>@ARGV</code> array is where you can access any command-line arguments passed to your program. The fact that <code>$MIPS_file</code> contains <code>undef</code> strongly implies that aren't passing any arguments to your program. You need to run it like this:</p>\n\n<pre><code>myfile.pl name_of_your_xml_file.xml\n</code></pre>\n\n<p>The second error is more interesting.</p>\n\n<blockquote>\n  <p>Can't locate object method \"XMLin\" via package \"XML::Twig\" at myfile.pl line 7.</p>\n</blockquote>\n\n<p>You have switched from using XML::Simple to using XML::Twig. But to do that you have only changed the <code>use</code> line in your program. You haven't changed any of the actual code. XML::Simple and XML::Twig are completely different libraries. They don't work in the same way at all. XML::Twig doesn't have an <code>XMLIn()</code> method. You will need to read the documentation for XML::Twig and change your code to use the various functions that this module provides.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1479223477, "creation_date": 1479223477, "answer_id": 40613583, "question_id": 40607730, "link": "https://stackoverflow.com/questions/40607730/how-can-i-parse-a-xml-file/40613583#40613583", "title": "how can I parse a xml file", "body": "<p>Without knowing exactly which URL you're downloading, I can't give you a firm answer.</p>\n\n<p>However, a very rough XML::Twig example that <em>might</em> do what you're looking for is:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $MIPS_file = $ARGV[0];\nmy $xml = XML::Twig-&gt;new();\n$xml -&gt; parsefile ( $MIPS_file );\n\n#assuming ncbTaxId is an attribute - I don't know, this is part of the problem with XML::Simple\nforeach my $element ( $xml -&gt; get_xpath ( '//proteinInteractor/organism[@ncbiTaxId=\"9606\"]/..' ) ) {\n    $element -&gt; print; #debugging;\n    #assuming 'id' is an attrbute of 'primaryRef' subelement. \n    print $element -&gt; get_xpath('.//primaryRef',0) -&gt; att('id'); \n}\n</code></pre>\n\n<p>Note - this is a bit of a guess based on your XML::Simple code, rather than referencing the source XML (because I don't know which XML source you're using). This is part of the problem with <code>XML::Simple</code> - it can't represent XML completely (at least, not very easily)</p>\n"}], "owner": {"reputation": 83, "user_id": 7142638, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a394f2747d3a2b70aa21bfe2237fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Learner Algorithm", "link": "https://stackoverflow.com/users/7142638/learner-algorithm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1479223477, "creation_date": 1479206474, "last_edit_date": 1479223307, "question_id": 40607730, "link": "https://stackoverflow.com/questions/40607730/how-can-i-parse-a-xml-file", "title": "how can I parse a xml file", "body": "<p>I am trying to parse a XML file. I download the data from here \n<a href=\"http://mips.helmholtz-muenchen.de/proj/ppi/\" rel=\"nofollow noreferrer\">http://mips.helmholtz-muenchen.de/proj/ppi/</a></p>\n\n<p>and I use this code but I get error </p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $MIPS_file = $ARGV[0];\nmy $xml = XML::Twig-&gt;new();\nmy $data = $xml-&gt;XMLin(\"$MIPS_file\");\nmy $intList = $data-&gt;{'entry'}-&gt;{'interactionList'}-&gt;{'interaction'};\nforeach my $int (@{$intList}) {\n  my $experiment_type = $int-&gt;{'experimentList'}-&gt;{'experimentDescription'}-&gt;{'interactionDetection'}-&gt;{'names'}-&gt;{'shortLabel'};\n  my $partList = $int-&gt;{'participantList'}-&gt;{'proteinParticipant'};\n  my ($p1,$p2);\n  foreach my $protPart(@{$partList}) {\n      if ($protPart-&gt;{'proteinInteractor'}-&gt;{'organism'}-&gt;{'ncbiTaxId'} eq \"9606\") { # select human proteins\n    if (!$p1) {\n      $p1 = $protPart-&gt;{'proteinInteractor'}-&gt;{'xref'}-&gt;{'primaryRef'}-&gt;{'id'};\n    }\n    else {\n      $p2 = $protPart-&gt;{'proteinInteractor'}-&gt;{'xref'}-&gt;{'primaryRef'}-&gt;{'id'};\n    }\n      }\n  }\n  print \"$p1\\$p2\\n\";\n}\n</code></pre>\n\n<p>I put the file on a folder in desktop (mac) Then I open terminal and I invoke the program like <code>perl myfile.pl</code></p>\n\n<p>This is the error I get</p>\n\n<blockquote>\n  <p>Can't locate XML/Simple.pm in @INC (@INC contains: /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0 /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/darwin-2level /Users/admin/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0 .) at myfile.pl line 3.\n  BEGIN failed--compilation aborted at myfile.pl line 3.</p>\n</blockquote>\n\n<p>After installing twig , now i get this error </p>\n\n<pre><code>Use of uninitialized value $MIPS_file in string at myfile.pl line 7.\nCan't locate object method \"XMLin\" via package \"XML::Twig\" at myfile.pl line 7.\n</code></pre>\n"}, {"tags": ["perl", "perl-module", "perl-data-structures"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1479203379, "post_id": 40606378, "comment_id": 68447956, "body": "It is <i>essential</i> that you <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program you write. There is little point in declaring your variables with <code>my</code> without <code>use strict</code> in place."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1479205117, "last_edit_date": 1479205117, "creation_date": 1479203155, "answer_id": 40606613, "question_id": 40606378, "link": "https://stackoverflow.com/questions/40606378/replace-the-last-line-written-to-a-file-descritor/40606613#40606613", "title": "Replace the last line written to a file descritor", "body": "<p>I suggest that you should buffer your output</p>\n\n<p>If you push each line to an array instead of printing it then, once the <code>#end</code> tag is seen, it is simple to locate the last non-blank line in the array and replace it</p>\n\n<p>Then the output file can be opened and the contents of the array printed to it</p>\n\n<p>Here's an <em>untested</em> example</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nopen my $fh, \"&lt;\", \"testcases\" or die \"Can't open input file: $!\";\n\nmy $n;\nmy $i;\nmy $print;\nmy @buff;\n\nwhile ( &lt;$fh&gt; ) {\n\n    if ( /^#start/i ) {\n\n        @buff = ();\n        $i = undef;\n        $print = 1;\n\n        print \"start of the script\\n\";\n    }\n    elsif ( /^#end/i ) {\n\n        my $file = ++$n . \"_case.sh\";\n        $print = 0;\n\n        unless ( defined $i ) {\n            warn \"No data found in block $n\";\n            next;\n        }\n\n        splice @buff, $i, 1, \"preline\\n\", $buff[$i], \"postline\\n\";\n\n        open my $fh, \"&gt;\", $file or die qq{Can't open \"$file\" for output: $!};\n        print $fh @buff;\n        close $fh;\n\n        print \"End of the script\\n\";\n    }\n    elsif ( $print ) {\n\n        push @buff, $_;\n        $i = $#buff if /\\S/;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 251, "user_id": 7095760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1075cc785326ad3cb890f95b3446009e?s=128&d=identicon&r=PG&f=1", "display_name": "SREagle", "link": "https://stackoverflow.com/users/7095760/sreagle"}, "is_accepted": false, "score": 0, "last_activity_date": 1485269484, "creation_date": 1485269484, "answer_id": 41831218, "question_id": 40606378, "link": "https://stackoverflow.com/questions/40606378/replace-the-last-line-written-to-a-file-descritor/41831218#41831218", "title": "Replace the last line written to a file descritor", "body": "<p>I think Borodins answer is the way to go (I'm just not able to comment yet).</p>\n\n<p>So the general algorithm is:</p>\n\n<ul>\n<li>collect full record, from start marker to end marker</li>\n<li>once end marker is reached, process record content. In your case:\n\n<ul>\n<li>find last non-empty line and surround it with others</li>\n<li>print found line</li>\n<li>write out file for record</li>\n</ul></li>\n<li>repeat as needed</li>\n</ul>\n\n<p>I couldn't resist and rewrote Borodins solution using the flipflop operator:</p>\n\n<pre><code>use strict;\nuse warnings;\nopen(my $in,'&lt;','in.file') || die \"Can't open file: $!\";\nmy ($cnt,@rec);\nwhile( &lt;$in&gt; ) {\n    push(@rec,$_) if /^#start/i .. /^#end/i; # collect record lines (using flipflop operator)\n    if( /^#end/i ) { # end of record reached?\n        next if @rec &lt;= 2; # ignore empty records\n\n        # determine index of last nonempty line\n        my ($lci) = grep {$rec[$_]=~/\\S/} reverse (1..$#rec-1); # ...except markers\n\n        printf \"last line for this testcase is \\n%s\\n\", # print find\n            splice @rec, $lci, 1, (\"preline\\n\",$rec[$lci],\"postline\\n\"); # surround with pre&amp;post\n\n        # write out result\n        open(my $out,'&gt;',++$cnt.'_case.sh') || die \"Can't open file: $!\";\n        $out-&gt;print(@rec[1..$#rec-1]); # ...except markers\n        $out-&gt;close;\n\n        @rec=(); # empty record for next use\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 1939168, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/2e47f3a6db33bc8a8e3f28a18f12a7ef?s=128&d=identicon&r=PG", "display_name": "user1939168", "link": "https://stackoverflow.com/users/1939168/user1939168"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1485269484, "creation_date": 1479202429, "last_edit_date": 1479202825, "question_id": 40606378, "link": "https://stackoverflow.com/questions/40606378/replace-the-last-line-written-to-a-file-descritor", "title": "Replace the last line written to a file descritor", "body": "<p>I am writing a small perl program where I am checking the pattern of #start and #end. The agenda is to create a separate file with the lines in between start and end patterns. This I am able to do with below script.</p>\n\n<pre><code>#!/usr/bin/perl\n\n    open(INFILE,\"&lt;\",\"testcases\") || die \"Can't open file: $!\";\n    my $binary;\n    my $tccounter=1;\n\n    while(&lt;INFILE&gt;)\n    {\n    if(/^#start/i)\n        {\n        open(OUTFILE,\"&gt;\",$tccounter.\"_case.sh\") || die \"Can't open file: $!\";\n        print \"start of the script\\n\";\n        next;\n        }\n    elsif(/^#end/i)\n        {\n\n        ################################\n        # Want to replace the previously \n        # written line here with some \n        # addtional  customized lines\n        ################################\n\n        close(OUTFILE);\n        $tccounter++;\n        print \"End of the script\\n\";\n        print \"last line for this testcase is \\n $binary\\n\";\n        next;\n        }\n    else\n        {\n        $binary=$_ unless(/^\\s*$/);\n        print  OUTFILE $_;\n        }\n    }\n</code></pre>\n\n<p>But what I additionally needed is is identify the last line that is being written to a file and then replace that additional line with some custom data.\nFor example, here in my case the last line for all the files is execute.\nI want replace the line \"execute\" in all the output files.\nIn the current output files last line is as below:</p>\n\n<pre><code>execute\n</code></pre>\n\n<p>expected out files last line should be</p>\n\n<pre><code>preline\nexecute\npostline\n</code></pre>\n\n<p>Input file (testcases):</p>\n\n<pre><code>#start\nline1\nline 2\nexecute\n\n#end\n#start\nline3\nline 4\nexecute\n#end\n#start\nline5\nline 6\n\nexecute\n#end\n#start\nline7\nline 8\n\nexecute\n\n#end\n</code></pre>\n"}, {"tags": ["regex", "perl", "filenames"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479199931, "post_id": 40605480, "comment_id": 68445736, "body": "Try <code>$line =~ &#47;^#\\W*(\\w+)\\t\\W*(\\w+)&#47;</code>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1479205347, "post_id": 40605480, "comment_id": 68449291, "body": "parenthesis are special characters in regex, escape them."}], "answers": [{"comments": [{"owner": {"reputation": 792, "user_id": 1116518, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19af97d6afd76af3f392ab83f680a0c6?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1116518/marius"}, "edited": false, "score": 0, "creation_date": 1479204886, "post_id": 40605526, "comment_id": 68448965, "body": "Thank you. It works and can be easily adapted for any value the <code>identifier</code> and <code>composition</code> may take as well as the (eventual) preceding special characters."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1479199934, "creation_date": 1479199934, "answer_id": 40605526, "question_id": 40605480, "link": "https://stackoverflow.com/questions/40605480/perl-create-file-name-from-column-names/40605526#40605526", "title": "perl - create file name from column names", "body": "<p>Use below regex</p>\n\n<pre><code>^#\\s*(\\S+)\\t\\(%\\)(\\S+)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/cOcY39/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>Example code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nwhile(&lt;DATA&gt;){\n    my $line = $_;\n    chomp $line;\n    if ($line =~ /^#\\s*(\\S+)\\t\\(%\\)(\\S+)/){\n        my $ID = $1;\n        my $comp = $2;\n        my $out_file = \"${ID}_${comp}\";\n        print \"Filename: $out_file\";\n    }\n}\n\n__DATA__\n#identifier (%)composition\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Filename: identifier_composition\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 792, "user_id": 1116518, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19af97d6afd76af3f392ab83f680a0c6?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1116518/marius"}, "edited": false, "score": 0, "creation_date": 1479204768, "post_id": 40605789, "comment_id": 68448901, "body": "Hi. Thank you for the elaborate response. Yes, that <code>^</code> was actually a copy/paste error in my question. Was not actually part of my code, but I leave it there because your answer is referring to it. It is true that it works for the example I gave, but the identifier and the composition are not necessarily literally <code>identifier</code> and <code>composition</code> it can be very well a sequence of alphanumeric characters preceded by some special character and separated by a tab. But thank you once again for your time."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 792, "user_id": 1116518, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19af97d6afd76af3f392ab83f680a0c6?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1116518/marius"}, "edited": false, "score": 2, "creation_date": 1479205048, "post_id": 40605789, "comment_id": 68449072, "body": "@Marius: If you want a meaningful answer, then your question should include sample data that demonstrates the range of possibilities :-)"}, {"owner": {"reputation": 792, "user_id": 1116518, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19af97d6afd76af3f392ab83f680a0c6?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1116518/marius"}, "edited": false, "score": 0, "creation_date": 1479205954, "post_id": 40605789, "comment_id": 68449665, "body": "Yes, you are right. I have edited the question text accordingly. Thanks once again"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1479202687, "last_edit_date": 1479202687, "creation_date": 1479200769, "answer_id": 40605789, "question_id": 40605480, "link": "https://stackoverflow.com/questions/40605480/perl-create-file-name-from-column-names/40605789#40605789", "title": "perl - create file name from column names", "body": "<p>Looks like you're rather over-thinking your regex. You're looking for two sequences of word characters separated by some non-word characters.</p>\n\n<pre><code>if ($line =~ /(\\w+)\\W+(\\w+)/) {\n  say \"$1 / $2\";\n}\n</code></pre>\n\n<p>An even simpler approach would be to match all sequences of word characters:</p>\n\n<pre><code>if (my @words = $line =~ /(\\w+)/g) {\n  say join ' / ', @words;\n}\n</code></pre>\n\n<p><strong>Update:</strong> I put your regex into this <a href=\"http://rick.measham.id.au/paste/explain.pl\" rel=\"nofollow noreferrer\">regex explainer</a>. Here's what came out:</p>\n\n<pre><code>NODE                     EXPLANATION\n--------------------------------------------------------------------------------\n  ^                        the beginning of the string\n--------------------------------------------------------------------------------\n  #                        '#'\n--------------------------------------------------------------------------------\n  \\s*                      whitespace (\\n, \\r, \\t, \\f, and \" \") (0 or\n                           more times (matching the most amount\n                           possible))\n--------------------------------------------------------------------------------\n  (                        group and capture to \\1:\n--------------------------------------------------------------------------------\n    \\S+                      non-whitespace (all but \\n, \\r, \\t, \\f,\n                             and \" \") (1 or more times (matching the\n                             most amount possible))\n--------------------------------------------------------------------------------\n  )                        end of \\1\n--------------------------------------------------------------------------------\n  \\t                       '\\t' (tab)\n--------------------------------------------------------------------------------\n  \\^                       '^'\n--------------------------------------------------------------------------------\n  (                        group and capture to \\2:\n--------------------------------------------------------------------------------\n    %                        '%'\n--------------------------------------------------------------------------------\n  )                        end of \\2\n--------------------------------------------------------------------------------\n  s*                       's' (0 or more times (matching the most\n                           amount possible))\n--------------------------------------------------------------------------------\n  (                        group and capture to \\3:\n--------------------------------------------------------------------------------\n    \\S+                      non-whitespace (all but \\n, \\r, \\t, \\f,\n                             and \" \") (1 or more times (matching the\n                             most amount possible))\n--------------------------------------------------------------------------------\n  )                        end of \\3\n</code></pre>\n\n<p>I think your biggest problem was the literal <code>^</code> that you were trying to match in the middle of the regex, but the unescaped parentheses around the <code>%</code> were a problem too. And the <code>s*</code> is pointless and confusing :-)</p>\n"}], "owner": {"reputation": 792, "user_id": 1116518, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19af97d6afd76af3f392ab83f680a0c6?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/1116518/marius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 40605526, "answer_count": 2, "score": 0, "last_activity_date": 1479222332, "creation_date": 1479199748, "last_edit_date": 1479222332, "question_id": 40605480, "link": "https://stackoverflow.com/questions/40605480/perl-create-file-name-from-column-names", "title": "perl - create file name from column names", "body": "<p>I am new to Perl and I would like to create the name of the output file based on the column names present in the input file. Say that my input file header is the following: </p>\n\n<pre><code>#identifier    (%)composition\n</code></pre>\n\n<p>and I would like my output file name to be <code>identifier_composition</code>. These <code>identifiers</code> and <code>compositions</code> can be a sequence of alphanumeric characters such as <code>#E2FAR4</code> for identifier or <code>(%)MhDE4</code> for composition. For this example, the output file name should be <code>E2FAR4_MhDE4</code>. So far, I am able to get the <code>identifier</code> but not the <code>composition</code>. This is what I have tried as code: </p>\n\n<pre><code>if ($line =~ /^#\\s*(\\S+)\\t\\(%)s*(\\S+)/){\n    my $ID = $1;\n    my $comp = $2;\n    my $out_file = \"${ID}_${comp}\"\n}\n</code></pre>\n\n<p>but I get the <code>identifier</code> also as the second argument. Any help would be appreciated.</p>\n"}, {"tags": ["perl", "perl-data-structures"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7160780, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157653874070262/picture?type=large", "display_name": "Chris Kilian", "link": "https://stackoverflow.com/users/7160780/chris-kilian"}, "edited": false, "score": 0, "creation_date": 1479705358, "post_id": 40605418, "comment_id": 68654134, "body": "Just as a extra question, how would I then add all the hosts to a database, I have the DB connection working and its inputting all the other stuff correctly but not all the hosts. Seems to only add one host of the hosts section. Seems to be adding the first host to one array and then all the other hosts to another array, It prints out fine using Data::Dumper but not working to insert into databases?"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 2, "last_activity_date": 1479199494, "creation_date": 1479199494, "answer_id": 40605418, "question_id": 40604955, "link": "https://stackoverflow.com/questions/40604955/perl-reading-text-file/40605418#40605418", "title": "Perl Reading Text File", "body": "<p>You may use below data structure. It's  well formed and easy to access.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $filename = 'file.txt';\nopen (my $fh, \"&lt;\", $filename) or die $!;\n\nmy %data_for_object;\nmy $key;\n\nwhile(&lt;$fh&gt;){\n    chomp;\n    if ($_ =~ /object-group network (.*)/){\n        $key = $1;\n    }\n    else{\n        if ($_ =~ /description (.*)/){\n            $data_for_object{$key}{description} = $1;\n        }\n        if ($_ =~ /network-object host (.*)/){\n            if (exists $data_for_object{$key}{host}){\n                push @{$data_for_object{$key}{host}}, $1;\n            }\n            else{\n                $data_for_object{$key}{host} = [$1];\n            }\n        }\n    }\n}\n\nprint Dumper \\%data_for_object;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'og-net-network-hostname-blah ' =&gt; {\n                                               'host' =&gt; [\n                                                           '192.168.0.1',\n                                                           '192.168.0.2',\n                                                           '192.168.0.3',\n                                                           '192.168.0.4',\n                                                           '192.168.0.5',\n                                                           '192.168.0.6'\n                                                         ],\n                                               'description' =&gt; 'blah'\n                                             },\n          'og-net-network-hostname-anotherblah ' =&gt; {\n                                                      'host' =&gt; [\n                                                                  '192.168.1.1',\n                                                                  '192.168.1.2',\n                                                                  '192.168.1.3',\n                                                                  '192.168.1.4',\n                                                                  '192.168.1.5',\n                                                                  '192.168.1.6'\n                                                                ],\n                                                      'description' =&gt; 'blah2'\n                                                    }\n        };\n</code></pre>\n\n<p>Also see:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a></li>\n<li><a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 7160780, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157653874070262/picture?type=large", "display_name": "Chris Kilian", "link": "https://stackoverflow.com/users/7160780/chris-kilian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 40605418, "answer_count": 1, "score": 0, "last_activity_date": 1479199738, "creation_date": 1479197804, "last_edit_date": 1479199738, "question_id": 40604955, "link": "https://stackoverflow.com/questions/40604955/perl-reading-text-file", "title": "Perl Reading Text File", "body": "<p>I am trying to read in a text file and do some splitting up of the file with the intention of adding the data into a database.\nThe text file looks something like.</p>\n\n<pre><code>object-group network og-net-network-hostname-blah \n description blah\n network-object host 192.168.0.1\n network-object host 192.168.0.2\n network-object host 192.168.0.3\n network-object host 192.168.0.4\n network-object host 192.168.0.5\n network-object host 192.168.0.6\nobject-group network og-net-network-hostname-anotherblah \n description blah2\n network-object host 192.168.1.1\n network-object host 192.168.1.2\n network-object host 192.168.1.3\n network-object host 192.168.1.4\n network-object host 192.168.1.5\n network-object host 192.168.1.6\n</code></pre>\n\n<p>What I am wanting to add to the database is as follows.</p>\n\n<pre><code>Column Name =&gt; og-net-network-hostname-blah,og-net-network-hostname-anotherblah\nColumn Description =&gt; blah,blah2\n`Column Objects =&gt;192.168.0.1...,192.168.1.1...\n`Column Objects =&gt;192.168.0.1...,192.168.1.1...\n</code></pre>\n\n<p>So far I have been able to open the file read it and do a split but its not scalable at all. What I would ideally like to do is to have anything between object-group and the next object-group put into an array with the various values of that object-group as part of the array. </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1479208728, "last_edit_date": 1479208728, "creation_date": 1479199972, "answer_id": 40605534, "question_id": 40603097, "link": "https://stackoverflow.com/questions/40603097/how-to-pass-stored-variable-as-database-using-mysql/40605534#40605534", "title": "How to pass stored variable as database using mysql?", "body": "<p>The answer to your question is \"yes\". You can use your variables inside strings and they will be expanded successfully. But I suspect you know that as you are printing the contents of <code>$stmt</code> before using it.</p>\n\n<p>The string that you pass to the <code>do</code> method and the string that you assign to your <code>$stmt</code> variable are both just standard Perl strings. DBI does nothing unusual with them. They will work exactly the same way as other Perl strings.</p>\n\n<p>However, given that you are asking the question, I assume that it's not working as you suspect and you have forgotten to tell us what unexpected behaviour you are seeing. One possible problem that I can see it that your two database name variables might not be set to the values that you expect before you get to this part of the program. I'd try printing those as well, just to ensure they are set correctly.</p>\n\n<p>Two suggestions (that won't necessarily fix your, unspecified, problem but will improve the quality of your code):</p>\n\n<ul>\n<li>I rarely see people running a <code>USE</code> statement in DBI code. That's because you can set the database as part of the DBI connection string. See the <a href=\"https://metacpan.org/pod/DBD::mysql#SYNOPSIS\" rel=\"nofollow noreferrer\">SYNOPSIS</a> in the documentation.</li>\n<li><p>Please don't put your column values directly into your SQL. Instead, use bind points and extra parameters to the <code>execute()</code> method. Like this:</p>\n\n<pre><code>$stmt = \"INSERT INTO $num_site.m_status \n         (time, available, closed, used, busy, reserved, down) \n         VALUES\n         (?, ?, ?, ?, ?, ?, ?)\";\n\nmy $sth = $DBH-&gt;prepare($stmt);\n$sth-&gt;execute($current_time, $ma{D}, $ma{B}, $ma{A},\n              $ma{C}, $ma{R}, $ma{'+'})\n  or die $sth-&gt;errstr;\n</code></pre>\n\n<p>Not only is this safer (it protects you from SQL injection attacks), but it is also easier to read. Note that I've also added an error message.</p></li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7160299"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479208728, "creation_date": 1479189937, "last_edit_date": 1479200234, "question_id": 40603097, "link": "https://stackoverflow.com/questions/40603097/how-to-pass-stored-variable-as-database-using-mysql", "title": "How to pass stored variable as database using mysql?", "body": "<hr>\n\n<p>I have the following code and I need to pass a variable as database. Is it possible to pass a variable as database?</p>\n\n<p>my variables:</p>\n\n<pre><code>my $num_site = join('_', 'rate', $site, '1m');\nmy $num_site1=join('_','rate',$site,'current');\n</code></pre>\n\n<p>my code:</p>\n\n<p>Here I tried to pass the variable instead of giving database directly.Can I follow this method to pass variables inside the do connection instead of database name directly?Kindly help me to pass my variables($num_site) and ($num_site1) inside the database?</p>\n\n<pre><code>$DBH=DBI-&gt;connect($database) or die \"cannot connect to the sql server\\n\";   \n$DBH-&gt;do(\"USE $num_site\");(can i use the variable like this to fetch the database).\n#$DBH-&gt;do(\"use rate_bangalore_1m\");\n$stmt = \"INSERT INTO $num_site.m_status(time,available,closed,used,busy,reserved,down) VALUES(\\\"$current_time\\\",\\\"$ma{'D'}\\\",\\\"$ma{'B'}\\\",\\\"$ma{'A'}\\\",\\\"$ma{'C'}\\\",\\\"$ma{'R'}\\\",\\\"$ma{'+'}\\\")\";    \nprint \"\\n $stmt \\n\";    \nmy $sth = $DBH-&gt;prepare( $stmt );\n$sth-&gt;execute() or print \"Could not insert data\";\n$sth-&gt;finish;\n$DBH-&gt;disconnect();\n</code></pre>\n"}, {"tags": ["excel", "perl"], "comments": [{"owner": {"reputation": 417, "user_id": 3240704, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e126942ce2ae2b6b62e50246e550a8d?s=128&d=identicon&r=PG&f=1", "display_name": "M O&#39;Connell", "link": "https://stackoverflow.com/users/3240704/m-oconnell"}, "edited": false, "score": 0, "creation_date": 1479164371, "post_id": 40599111, "comment_id": 68434123, "body": "<code>use Spreadsheet::ParseExcel;</code> CPAN <a href=\"http://search.cpan.org/search?mode=module&amp;query=Spreadsheet%3A%3AParseExcel\" rel=\"nofollow noreferrer\">module</a>. My first job was converting Perl scripts to Powershell. If you feel like exploring PS there&#39;s a [great module(<a href=\"https://blogs.technet.microsoft.com/heyscriptingguy/2015/11/25/introducing-the-powershell-excel-module-2/\" rel=\"nofollow noreferrer\">blogs.technet.microsoft.com/heyscriptingguy/2015/11/2&zwnj;&#8203;5/&hellip;</a>) available"}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "reply_to_user": {"reputation": 417, "user_id": 3240704, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3e126942ce2ae2b6b62e50246e550a8d?s=128&d=identicon&r=PG&f=1", "display_name": "M O&#39;Connell", "link": "https://stackoverflow.com/users/3240704/m-oconnell"}, "edited": false, "score": 0, "creation_date": 1479164750, "post_id": 40599111, "comment_id": 68434297, "body": "Thanks for the reply. I am using the CPAN module:     use Spreadsheet::ParseExcel;  Will look into the blog mentioned. But is there a way for the perl script(using CPAN modules) to open the sheet using sheet name."}, {"owner": {"reputation": 331, "user_id": 993047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c961d41ca31f63a66b3b8c5515370a?s=128&d=identicon&r=PG", "display_name": "Codr", "link": "https://stackoverflow.com/users/993047/codr"}, "edited": false, "score": 0, "creation_date": 1606290701, "post_id": 40599111, "comment_id": 114916584, "body": "Spreadsheet::ParseExcel is for xls files only, use <a href=\"https://metacpan.org/pod/Spreadsheet::ParseXLSX\" rel=\"nofollow noreferrer\">Spreadsheet::ParseXLSX</a> for xlsx files."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1479247560, "post_id": 40601194, "comment_id": 68475334, "body": "Hi Thanks for the reply./"}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1479248468, "post_id": 40601194, "comment_id": 68475743, "body": "Hi Thanks for the reply. I am trying to use this code:      my $worksheet;     foreach $worksheet ($workbook-&gt;worksheets()) {     if ($worksheet-&gt;get_name() eq &quot;$Sheet_Name&quot;){         for (my $i =2; $i&lt;$limit; $i++){             my $cell = $worksheet-&gt;get_cell($i,&quot;A&quot;);             my $value = $cell-&gt;value();             push @array_keys, $value;             }         }     }   I am getting an error message as follows: Can&#39;t call method &quot;worksheets&quot; on unblessed reference at perl_script.pl line 70.  Any leads for this. Thanks"}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1479263541, "post_id": 40601194, "comment_id": 68480212, "body": "I edited my question, could you please look into it again. Thanks."}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 1, "last_activity_date": 1479257204, "last_edit_date": 1479257204, "creation_date": 1479178027, "answer_id": 40601194, "question_id": 40599111, "link": "https://stackoverflow.com/questions/40599111/perl-script-to-read-an-xlsx-filewhich-has-many-sheets-using-the-sheet-name/40601194#40601194", "title": "perl script to read an xlsx file(which has many sheets) using the sheet name", "body": "<p>The <code>get_name()</code> method of the worksheet object, in conjunction with Perl's <code>grep</code> command should get you this:</p>\n\n<pre><code>my ($worksheet) = grep { $_-&gt;get_name() eq 'Sheet2' } $workbook-&gt;worksheets();\n</code></pre>\n\n<p>This would be an un-golfed version of the same:</p>\n\n<pre><code>my $worksheet;\nforeach $worksheet ($workbook-&gt;worksheets()) {\n  last if $worksheet-&gt;get_name() eq 'Sheet2';\n}\n</code></pre>\n\n<p>Assuming there is a match...  if not, I guess my un-golfed version would give you the last worksheet if there was no match.</p>\n\n<p>-- Edit --</p>\n\n<p>I made assumptions and -- you certainly do need to first call the method to load the workbook:</p>\n\n<pre><code>use strict;\nuse Spreadsheet::ParseExcel;\n\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse('/var/tmp/foo.xls');\n</code></pre>\n\n<p>Then the code above should work.</p>\n"}], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2503, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504124826, "creation_date": 1479163538, "last_edit_date": 1479361862, "question_id": 40599111, "link": "https://stackoverflow.com/questions/40599111/perl-script-to-read-an-xlsx-filewhich-has-many-sheets-using-the-sheet-name", "title": "perl script to read an xlsx file(which has many sheets) using the sheet name", "body": "<p>I am trying to write a perl script which reads an excel file(which has many sheets in it)  using the sheet name.</p>\n\n<p>I know how to access a particular sheet of the excel file using the sheet number, but not sure how to read it using sheet name.\nAny help provided is highly appreciated.</p>\n\n<p>Below is the code I wrote to access the sheet using sheet number:</p>\n\n<pre><code>my $Sheet_Number = 26;\nmy $workbook = ReadData(\"&lt;path to the excel file&gt;\");\n\nfor (my $i =2; $i&lt;$limit; $i++){\n    my $cell = \"A\" . $i;\n    my $key_1 = $workbook-&gt;[$Sheet_Number]{$cell};\n}\n</code></pre>\n\n<p>Thanks</p>\n\n<p>----Edit----</p>\n\n<p>I want to open the particular sheet within the Excel file by using the sheet name. And then read the data from that particular sheet. The name of the sheet will be entered by the user while running the script from the command line arguments.</p>\n\n<p>Below is the code that I am using after getting suggested answers for my earlier question: </p>\n\n<pre><code>my $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse(\"$path\");\nmy $worksheet;\nif ($worksheet-&gt;get_name() eq \"$Sheet_Name\"){\nfor (my $i =2; $i&lt;$limit; $i++){\n    my $cell = $worksheet-&gt;get_cell($i,\"A\");\n    my $value = $cell-&gt;value();\n    push @array_keys, $value;\n    }\n}\n</code></pre>\n\n<p>I want to read the values of Column A of the particular sheet and push it into an array.</p>\n\n<pre><code>$Sheet_Name : It is the name of the sheet which is entered by the user as cmd line arg.\n$path : It is the complete path to the Excel file\n</code></pre>\n\n<p>Error Message: Can't call method \"get_name\" on an undefined value at perl_script.pl (The error points to the line where the <code>if-condition</code> is used.)</p>\n\n<p>Thanks for the help. </p>\n\n<p>-----EDIT----</p>\n\n<p>Anyone, with any leads on this post, please post your answer or suggestions. Appreciate any responses.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "csv", "text"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1479161185, "post_id": 40598573, "comment_id": 68432802, "body": "What version of the module is installed on the box? Seems like an older version without the <code>csv</code> function. Also note that the constructor is not needed when using the <code>csv</code> function."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479162005, "post_id": 40598573, "comment_id": 68433147, "body": "I just tested on v5.10 and v5.16 with the example copied from docs and it behaves the same way you say -- no <code>csv</code> function."}, {"owner": {"reputation": 909, "user_id": 596481, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ef8d9973b622605e5f76a458481e91e?s=128&d=identicon&r=PG", "display_name": "Deepak Agarwal", "link": "https://stackoverflow.com/users/596481/deepak-agarwal"}, "edited": false, "score": 0, "creation_date": 1479162286, "post_id": 40598573, "comment_id": 68433276, "body": "Yea I realized Text::CSV_XS was released in March 2016 after Oct, 2001. That&#39;s after 15 years. So I guess that&#39;s the reason , there is no csv method in one of my box because the module is old."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1479166455, "creation_date": 1479166455, "answer_id": 40599645, "question_id": 40598573, "link": "https://stackoverflow.com/questions/40598573/undefined-subroutine-maincsv-error-in-textcsv-xs-module/40599645#40599645", "title": "undefined subroutine @main::csv error in Text:CSV_XS module", "body": "<p>The <code>csv</code> function in <code>Text::CSV_XS</code> <a href=\"https://metacpan.org/changes/distribution/Text-CSV_XS\" rel=\"nofollow noreferrer\">was introduced in version 1.04</a>. Check the value of <code>$Text::CSV_XS::VERSION</code> and upgrade if it is older than v1.04.</p>\n"}], "owner": {"reputation": 909, "user_id": 596481, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ef8d9973b622605e5f76a458481e91e?s=128&d=identicon&r=PG", "display_name": "Deepak Agarwal", "link": "https://stackoverflow.com/users/596481/deepak-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 40599645, "answer_count": 1, "score": 0, "last_activity_date": 1479208090, "creation_date": 1479160962, "last_edit_date": 1479208090, "question_id": 40598573, "link": "https://stackoverflow.com/questions/40598573/undefined-subroutine-maincsv-error-in-textcsv-xs-module", "title": "undefined subroutine @main::csv error in Text:CSV_XS module", "body": "<p>In one of my linux vm boxes the following perl code is failing at line 4</p>\n\n<pre><code>use Text::CSV_XS qw( csv );\nmy $csv = Text::CSV_XS-&gt;new( { binary =&gt; 1, eol =&gt; \"\\n\" } );\nopen( $fh, '&lt;:crlf', 'test.csv' ) or die $!;\n@lineArray = csv(   in =&gt; $fh, headers =&gt; \"auto\"); \nprint 'done';\n</code></pre>\n\n<p>The error states that there is no csv method in main . Errors out as @main::csv undefined subroutine.\nThis code is working on other installation but not just on one machine.</p>\n\n<p>Perl version is 5.10.1</p>\n"}, {"tags": ["perl", "installation", "centos", "plesk"], "answers": [{"tags": [], "owner": {"reputation": 691, "user_id": 7111761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tzN9Y.jpg?s=128&g=1", "display_name": "GracefulRestart", "link": "https://stackoverflow.com/users/7111761/gracefulrestart"}, "is_accepted": true, "score": 1, "last_activity_date": 1479167557, "creation_date": 1479167557, "answer_id": 40599815, "question_id": 40594662, "link": "https://stackoverflow.com/questions/40594662/exception-failed-to-solve-dependencies-1perl-json-xs-2-27-2-el6-x86-64-requir/40599815#40599815", "title": "Exception: Failed to solve dependencies: 1:perl-JSON-XS-2.27-2.el6.x86_64 requires perl(:MODULE_COMPAT_5.10.1)", "body": "<p>You mention CentOS 7, but the package you are attempting to install (perl-JSON-XS-2.27-2.el6.x86_64) is for RedHat/CentOS 6, denoted by the el6 tag in the package name.</p>\n\n<p>In any case, the issue appears to be due to not having the correct repositories available in yum to solve all necessary dependencies.  Plesk maintains their own yum repositories to provide all of the necessary packages.  Usually the install script will handle this for you (the <a href=\"https://kb.plesk.com/en/119521\" rel=\"nofollow noreferrer\">install script</a> is just a quick way to obtain the Plesk autoinstaller which should have the proper source repository configured).</p>\n\n<p>I would suggest you examine the currently configured yum repositories in your container and make sure there are no conflicting repositories.  Depending on the components you are installing with Plesk, it will want to manage nginx, apache, mysql, php, and some perl components so make sure you do not have yum repositories attempting to install related packages.  Also, if you are indeed using CentOS 7, make sure you have no repositories attempting to install CentOS 6 packages.  This bash one-liner should print out all the configured yum repository URLs so you can quickly scan if any are using the wrong version:</p>\n\n<pre><code>grep -re '^\\(mirrorlist\\|baseurl\\)' /etc/yum.repos.d/\n</code></pre>\n\n<p>If you need further troubleshooting help, please include how you are attempting to install Plesk.</p>\n"}], "owner": {"reputation": 217, "user_id": 1847437, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c95f7a52e1a8ab5543fc2feb18b491bd?s=128&d=identicon&r=PG", "display_name": "user1847437", "link": "https://stackoverflow.com/users/1847437/user1847437"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 40599815, "answer_count": 1, "score": 0, "last_activity_date": 1479167557, "creation_date": 1479145125, "last_edit_date": 1479145633, "question_id": 40594662, "link": "https://stackoverflow.com/questions/40594662/exception-failed-to-solve-dependencies-1perl-json-xs-2-27-2-el6-x86-64-requir", "title": "Exception: Failed to solve dependencies: 1:perl-JSON-XS-2.27-2.el6.x86_64 requires perl(:MODULE_COMPAT_5.10.1)", "body": "<p>Scenario: new installation of plesk 12.5 on centOS 7 into an OpenVZ container (proxmox):\nInstalling Plesk 12.5 I get the following error:\nException: Failed to solve dependencies: 1:perl-JSON-XS-2.27-2.el6.x86_64 requires perl(:MODULE_COMPAT_5.10.1)</p>\n\n<p>any tips? </p>\n"}, {"tags": ["html", "perl", "cookies", "cgi"], "comments": [{"owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "reply_to_user": {"reputation": 7742, "user_id": 1475461, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ea1662728a08646ca9139670962d9450?s=128&d=identicon&r=PG", "display_name": "Jon Taylor", "link": "https://stackoverflow.com/users/1475461/jon-taylor"}, "edited": false, "score": 0, "creation_date": 1479142269, "post_id": 40593683, "comment_id": 68423200, "body": "I forgot to add some information. I am very stuck. Everything is working but the background color will not change."}, {"owner": {"reputation": 7742, "user_id": 1475461, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ea1662728a08646ca9139670962d9450?s=128&d=identicon&r=PG", "display_name": "Jon Taylor", "link": "https://stackoverflow.com/users/1475461/jon-taylor"}, "edited": false, "score": 1, "creation_date": 1479142339, "post_id": 40593683, "comment_id": 68423248, "body": "so what have you tried to do so far? what is the result of what you&#39;ve tried and what would you expect to happen?"}, {"owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "reply_to_user": {"reputation": 7742, "user_id": 1475461, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ea1662728a08646ca9139670962d9450?s=128&d=identicon&r=PG", "display_name": "Jon Taylor", "link": "https://stackoverflow.com/users/1475461/jon-taylor"}, "edited": false, "score": 0, "creation_date": 1479142508, "post_id": 40593683, "comment_id": 68423346, "body": "@JonTaylor The membership array and the customer name are being saved successfully. The background color is not saving. I used <code>my $chosen_color = $colors{$color};</code> to save the chosen color and   <code>my $mycookie3 = cookie(-name=&gt;&quot;color&quot;,                    -value=&gt;$chosen_color,</code> to save that variable in the cookie"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479142672, "post_id": 40593683, "comment_id": 68423448, "body": "Have you used your browser&#39;s developer tools to look at the cookies? What is being set? What is the bgcolor attribute being set to on your web page?"}, {"owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479142883, "post_id": 40593683, "comment_id": 68423568, "body": "@DaveCross the bgcolor attribute is taken from <code>&lt;body bgcolor=&quot;$color_name&quot;&gt;;</code>. That&#39;s where the color cookie is being saved"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479143269, "post_id": 40593683, "comment_id": 68423802, "body": "Sorry, I was unclear. Yes, I can see the code. I was asking what you actually see there when you view the HTML source code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "edited": false, "score": 0, "creation_date": 1479142938, "post_id": 40594042, "comment_id": 68423602, "body": "I overlooked that part. Thank you so much for helping"}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 4, "last_activity_date": 1479142857, "creation_date": 1479142857, "answer_id": 40594042, "question_id": 40593683, "link": "https://stackoverflow.com/questions/40593683/homework-how-to-change-html-background-with-perl-cgi-using-input-and-cookies/40594042#40594042", "title": "(Homework) How to change HTML background (with Perl CGI) using input and cookies from user?", "body": "<pre><code>&lt;body bgcolor=\"$color_name\"&gt;;\n</code></pre>\n\n<p>You're missing a <code>print</code> and some quotes here. I'm surprised this runs at all.</p>\n\n<p>What you probably mean is:</p>\n\n<pre><code>print \"&lt;body bgcolor='$color_name'&gt;\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 40594042, "answer_count": 1, "score": 0, "last_activity_date": 1479142857, "creation_date": 1479141655, "last_edit_date": 1479142234, "question_id": 40593683, "link": "https://stackoverflow.com/questions/40593683/homework-how-to-change-html-background-with-perl-cgi-using-input-and-cookies", "title": "(Homework) How to change HTML background (with Perl CGI) using input and cookies from user?", "body": "<p>Everything works except the background color of the HTML page in the very last CGI. Can somebody help me please? I am very stuck. I don't know why the background color won't change.</p>\n\n<p><strong>Here is the HTML:</strong></p>\n\n<pre><code>&lt;table border=\"2\" cellspacing=\"5\" cellpadding=\"5\"&gt;\n&lt;tr&gt;\n    &lt;td align=\"center\"&gt;Name&lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"customer\" size=\"15\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td align=\"center\"&gt;Select Membership Type&lt;/td&gt;\n    &lt;td&gt;\n        &lt;input type=\"radio\" name=\"membership\" value=\"0\"&gt;Life\n        &lt;input type=\"radio\" name=\"membership\" value=\"1\"&gt;Annual\n        &lt;input type=\"radio\" name=\"membership\" value=\"2\"&gt;Free Trial\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td align=\"center\"&gt;Choose Background Color&lt;/td&gt;\n    &lt;td&gt;\n        &lt;select name=\"color\"&gt;         \n            &lt;option value=\"ye\"&gt;Yellow\n            &lt;option value=\"cy\"&gt;Cyan\n            &lt;option value=\"ma\"&gt;Magenta\n            &lt;option value=\"wh\"&gt;White\n            &lt;option value=\"pi\"&gt;Pink\n            &lt;option value=\"go\"&gt;Gold\n            &lt;option value=\"pa\"&gt;PapayaWhip\n        &lt;/select&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td colspan=\"2\" align=\"center\"&gt;&lt;input type=\"submit\" value=\"Sign Up and Set Options\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p><strong>CGI that saves user's cookie from HTML above:</strong></p>\n\n<p>I am to use an array to hold the membership types, and a hash that\nuses the option tag attribute values as keys for the full color names</p>\n\n<pre><code>my $customer = param('customer');\nmy $chosen_membership = param('membership');\nmy $color = param('color');\nmy @membership_type = (\"Life\", \"Annual\", \"Free Trial\");\nmy %colors = (\"ye\" =&gt; 'Yellow',\n        \"cy\" =&gt; 'Cyan',\n        \"ma\" =&gt; 'Magenta',\n        \"wh\" =&gt; 'White',\n        \"pi\" =&gt; 'Pink',\n        \"go\" =&gt; 'Gold',\n        \"pa\" =&gt; 'Papayawhip');\n\nmy $chosen_color = $colors{$color};\n\nmy $mycookie1 = cookie(-name=&gt;'membership',\n                   -value=&gt;$membership_type[$chosen_membership],\n                   -path=&gt;'/',\n                   -expires=&gt;'+7d');\n\nmy $mycookie2 = cookie(-name=&gt;'customer',\n                   -value=&gt;$customer,\n                   -path=&gt;'/',\n                   -expires=&gt;'+7d');\n\nmy $mycookie3 = cookie(-name=&gt;\"color\",\n                   -value=&gt;$chosen_color,\n                   -path=&gt;'/',\n                   -expires=&gt;'+7d');                    \n\nprint header(-cookie =&gt; [$mycookie1, $mycookie2, $mycookie3]);\nprint start_html ( -title =&gt; 'Assignment 7');\nprint \"Thank you. Your data has been recorded&lt;/br&gt;\";\nprint \"&lt;a href='test3.cgi'&gt;See member page&lt;/a&gt;\";\nprint end_html;\n</code></pre>\n\n<p><strong>Reading the cookie</strong> and using the selected color from the HTML as the background color for the page</p>\n\n<pre><code>my $membership_name = cookie(\"membership\");\nmy $customer_name = cookie(\"customer\");\nmy $color_name = cookie(\"color\");\n\nprint header, start_html;\n#what the hell, how to change background color??\n\n&lt;body bgcolor=\"$color_name\"&gt;;\nprint \"&lt;h2&gt;Welcome back, $membership_name Member $customer_name.&lt;/h2&gt;\";\nprint \"&lt;h4&gt;Site rather poor, huh? Sorry. We are working on it.&lt;/h4&gt;\";\nprint end_html;\n</code></pre>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5484640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/taCdn.jpg?s=128&g=1", "display_name": "tempus71", "link": "https://stackoverflow.com/users/5484640/tempus71"}, "edited": false, "score": 0, "creation_date": 1479153624, "post_id": 40595893, "comment_id": 68429184, "body": "Thanks Denis! Everything works ok but <code>$self-&gt;app-&gt;session</code> is empty. If I access from controller is ok but from the model it&#39;s undef..."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": true, "score": 2, "last_activity_date": 1479149976, "creation_date": 1479149976, "answer_id": 40595893, "question_id": 40593490, "link": "https://stackoverflow.com/questions/40593490/something-is-wrong-using-mojoliciouspluginmodel/40595893#40595893", "title": "Something is wrong using Mojolicious::Plugin::Model", "body": "<p>Controller:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$self-&gt;model('User')-&gt;create(name =&gt; 'John doe');\n</code></pre>\n\n<p>Model:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub create {\n    my ($self, %attrs) = @_;\n\n    $self-&gt;app-&gt;mysql-&gt;db-&gt;query('...');\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5484640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/taCdn.jpg?s=128&g=1", "display_name": "tempus71", "link": "https://stackoverflow.com/users/5484640/tempus71"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 2, "accepted_answer_id": 40595893, "answer_count": 1, "score": 1, "last_activity_date": 1479149976, "creation_date": 1479141067, "question_id": 40593490, "link": "https://stackoverflow.com/questions/40593490/something-is-wrong-using-mojoliciouspluginmodel", "title": "Something is wrong using Mojolicious::Plugin::Model", "body": "<p>I'm using Mojolicious::Plugin::Model but I don't know why I can't access to the app.</p>\n\n<p>Below simplified code</p>\n\n<p><strong>App</strong></p>\n\n<pre><code>package App;\nuse Mojo::Base 'Mojolicious';\n\nsub startup {\n    my $self = shift;\n    $self-&gt;plugin('Model');\n    $r-&gt;get('/')-&gt;to('Premium#create')\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>package App::Premium;\nuse Mojo::Base 'Mojolicious::Controller';\nuse App::Model::User;\n\nsub create {\n    my $self = shift;\n\n    my $user = App::Model::User-&gt;new(name =&gt; 'John doe');\n    $user-&gt;create();\n    $self-&gt;render(text =&gt; 'Ok');\n}\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<pre><code>package App::Model::User;\nuse Mojo::Base 'MojoX::Model';\n\nsub create {\n    my $self = shift;\n\n    $self-&gt;app-&gt;mysql-&gt;db-&gt;query('...');\n}\n</code></pre>\n\n<p>But the model can not access to app methods... </p>\n"}, {"tags": ["linux", "perl", "crontab"], "comments": [{"owner": {"reputation": 319, "user_id": 4424448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bSMit.jpg?s=128&g=1", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4424448/vishnu"}, "edited": false, "score": 0, "creation_date": 1479140466, "post_id": 40593186, "comment_id": 68422035, "body": "@simbabqueThe question is about perl script. not bash script."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1479142136, "post_id": 40593186, "comment_id": 68423102, "body": "Anything you can do from bash, you can do from Perl too."}, {"owner": {"reputation": 319, "user_id": 4424448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bSMit.jpg?s=128&g=1", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4424448/vishnu"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479149957, "post_id": 40593186, "comment_id": 68427289, "body": "I am a beginner in perl."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1479166026, "post_id": 40593186, "comment_id": 68434701, "body": "Why use Perl then?"}, {"owner": {"reputation": 319, "user_id": 4424448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bSMit.jpg?s=128&g=1", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4424448/vishnu"}, "edited": false, "score": 0, "creation_date": 1479172035, "post_id": 40593186, "comment_id": 68436472, "body": "The project is written in perl already."}], "owner": {"reputation": 319, "user_id": 4424448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bSMit.jpg?s=128&g=1", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4424448/vishnu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "closed_date": 1479140243, "answer_count": 0, "score": 0, "last_activity_date": 1479152500, "creation_date": 1479140120, "last_edit_date": 1479152500, "question_id": 40593186, "link": "https://stackoverflow.com/questions/40593186/set-a-cronjob-from-perl-script", "closed_reason": "Duplicate", "title": "Set a cronjob from perl script", "body": "<p>I want to write the following bash script to perl</p>\n\n<pre><code>#write out current crontab\ncrontab -l &gt; mycron\n#echo new cron into cron file\necho \"00 09 * * 1-5 echo hello\" &gt;&gt; mycron\n#install new cron file\ncrontab mycron\nrm mycron\n</code></pre>\n\n<p>In perl, when I convert to</p>\n\n<pre><code>my $cronjobs = `crontab -l`;\nmy $raw = \"00 09 * * 1-5 echo hello\";\n$cronjobs .= $raw;\nsay `crontab $cronjobs`;\n</code></pre>\n\n<p>but the above perl doesn't work. why ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479132826, "post_id": 40590650, "comment_id": 68416859, "body": "What are you actually trying to accomplish here? Why are you trying to dynamic name a sub? A more common approach would be <code>$object -&gt; get_value($some_attribute_name)</code> or something similar. This feels like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1479133459, "post_id": 40590650, "comment_id": 68417296, "body": "That should work. You&#39;re not showing your real code."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479133619, "post_id": 40590650, "comment_id": 68417402, "body": "Well spotted. I went off looking for the problem, before I realised there wasn&#39;t one."}, {"owner": {"reputation": 53, "user_id": 691522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50bd0c9a0dfa7ded438dc5c77087d214?s=128&d=identicon&r=PG", "display_name": "Nigel Horne", "link": "https://stackoverflow.com/users/691522/nigel-horne"}, "edited": false, "score": 0, "creation_date": 1479134379, "post_id": 40590650, "comment_id": 68417938, "body": "Yes, this is a slimmed down example to get at the real point.  I know the way stackoverflow works, if you show your entire code you get asked to slim down to a small example, so I&#39;ve done that."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1479139241, "post_id": 40590650, "comment_id": 68421274, "body": "Yeah, but you&#39;ve fallen into the classic trap - that the code you&#39;ve given <i>doesn&#39;t show the problem</i>. It&#39;s why <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is the route to go - put together a runnable example that exhibits the behaviour. Yours doesn&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 691522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50bd0c9a0dfa7ded438dc5c77087d214?s=128&d=identicon&r=PG", "display_name": "Nigel Horne", "link": "https://stackoverflow.com/users/691522/nigel-horne"}, "edited": false, "score": 0, "creation_date": 1479134890, "post_id": 40590995, "comment_id": 68418311, "body": "<code>my $value = eval &#39;$object-&gt;$methodname(&quot;foo&quot;)&#39;;  print $value,&quot;\\n&quot;;</code>  Gives me syntax error near $self  <code>sub get { \tmy $self = shift; \tmy %args = (ref($_[0]) eq &#39;HASH&#39;) ? %{$_[0]} : @_;  \treturn unless($args{&#39;object&#39;} &amp;&amp; $args{&#39;message&#39;});  \tmy $o = $args{&#39;object&#39;}; \tmy $m = $args{&#39;message&#39;} \tmy $rc = eval &#39;$o-&gt;$m()&#39;;  \tdie $@ if $@;          return $rc; }</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 53, "user_id": 691522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50bd0c9a0dfa7ded438dc5c77087d214?s=128&d=identicon&r=PG", "display_name": "Nigel Horne", "link": "https://stackoverflow.com/users/691522/nigel-horne"}, "edited": false, "score": 2, "creation_date": 1479135905, "post_id": 40590995, "comment_id": 68419014, "body": "@NigelHorne: Please don&#39;t put code in comments. It&#39;s almost impossible to understand. Please <a href=\"http://stackoverflow.com/posts/40590650/edit\">edit your question</a> to add it there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53, "user_id": 691522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50bd0c9a0dfa7ded438dc5c77087d214?s=128&d=identicon&r=PG", "display_name": "Nigel Horne", "link": "https://stackoverflow.com/users/691522/nigel-horne"}, "edited": false, "score": 0, "creation_date": 1479136965, "post_id": 40590995, "comment_id": 68419739, "body": "@NigelHorne: You have a missing semicolon in <code>my $m = $args{&#39;message&#39;} my $rc = eval &#39;$o-&gt;$m()&#39;</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1479133460, "last_edit_date": 1490005774, "creation_date": 1479133460, "answer_id": 40590995, "question_id": 40590650, "link": "https://stackoverflow.com/questions/40590650/perl-5-evaluating-oo-code-in-a-string/40590995#40590995", "title": "Perl 5 - evaluating OO code in a string", "body": "<p>I think it all depends on what you're trying to accomplish. This feels like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a></p>\n\n<p>A more conventional approach would be to e.g. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings; \n\npackage MyObject;\n\nsub new {\n   my ( $class, %args ) = @_; \n   my $self = {}; \n   $self-&gt;{args} = \\%args; \n   bless $self, $class;\n   return $self;\n}\n\nsub get_value {\n   my ( $self, $attribute ) = @_; \n   return $self -&gt; {args} -&gt; {$attribute}; \n}\n\npackage main;\n\nmy $object = 'MyObject'-&gt;new( test =&gt; 'frobnicated', foo=&gt;'bar'); \nprint $object -&gt; get_value('test'); \n</code></pre>\n\n<p>And handle the dynamic bit in the method itself, for example.</p>\n\n<p>However, if you do want to 'find' a subroutine you can use the <code>can</code> method to get the coderef:</p>\n\n<pre><code>my $methodname = 'get_value';\nif ( my $coderef =  $object -&gt; can($methodname) ) {\n    print $coderef -&gt; ($object,'foo');\n}\n</code></pre>\n\n<p>I'm not sure this'd be generally a good thing to be doing though, as it could get quite messy. I think this approach is less likely to randomly break than eval though. </p>\n\n<p>However your original approach <em>does</em> work:</p>\n\n<pre><code>my $value = eval '$object-&gt;$methodname(\"foo\")';\nprint $value,\"\\n\";\n</code></pre>\n\n<p>I think it might be that your sub is erroring - have you tried checking <code>$@</code> which is the return code from <code>eval</code>? </p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1479134877, "creation_date": 1479134877, "answer_id": 40591481, "question_id": 40590650, "link": "https://stackoverflow.com/questions/40590650/perl-5-evaluating-oo-code-in-a-string/40591481#40591481", "title": "Perl 5 - evaluating OO code in a string", "body": "<p>Your initial version should work fine.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\npackage Class;\n\nsub new {\n  return bless { value =&gt; $_[1] }, $_[0];\n}\n\nsub get_value {\n  return $_[0]-&gt;{value};\n}\n\npackage main;\n\nmy $obj = Class-&gt;new('some value');\nmy $message = 'get_value';\n\nprint $obj-&gt;$message();\n</code></pre>\n\n<p>This works exactly as expected and prints \"some value\". There is no need to use <code>eval</code>.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlobj.html\" rel=\"nofollow noreferrer\">perldoc perlobj</a>:</p>\n\n<blockquote>\n  <p><strong>Method Names as Strings</strong></p>\n  \n  <p>Perl lets you use a scalar variable containing a string as a method\n  name:</p>\n\n<pre><code>my $file = File-&gt;new( $path, $data );\n\nmy $method = 'save';\n$file-&gt;$method();\n</code></pre>\n  \n  <p>This works exactly like calling <code>$file-&gt;save()</code>. This can be very useful for writing dynamic code. For example, it allows you to pass a method name to be called as a parameter to another method.</p>\n</blockquote>\n\n<p>So the problem is elsewhere in your code.</p>\n"}], "owner": {"reputation": 53, "user_id": 691522, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50bd0c9a0dfa7ded438dc5c77087d214?s=128&d=identicon&r=PG", "display_name": "Nigel Horne", "link": "https://stackoverflow.com/users/691522/nigel-horne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 40590995, "answer_count": 2, "score": -1, "last_activity_date": 1479134877, "creation_date": 1479132493, "last_edit_date": 1479132741, "question_id": 40590650, "link": "https://stackoverflow.com/questions/40590650/perl-5-evaluating-oo-code-in-a-string", "title": "Perl 5 - evaluating OO code in a string", "body": "<p>I have code which is basically:</p>\n\n<pre><code>$object = Class-&gt;new();\n$message = 'get_value':\n</code></pre>\n\n<p>I want to run <code>$object-&gt;$message();</code>  But I can't get that to compile, so I'm trying</p>\n\n<pre><code>my $value = eval '$object-&gt;$message()';\n</code></pre>\n\n<p>But that always returns undef.</p>\n\n<p>I suspect my approach is wrong - how do I run this sort of string at runtime?</p>\n"}, {"tags": ["perl", "function-call"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1479131277, "post_id": 40590206, "comment_id": 68415840, "body": "Are you sure you&#39;re not compiling it?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1479131386, "post_id": 40590206, "comment_id": 68415908, "body": "<code>&#47;&#47;</code> are not comments in Perl. You have to use a <code>#</code> to denote a comment."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1479344541, "post_id": 40590206, "comment_id": 68521994, "body": "It is regularly recommended to always add <code>use warnings</code> and <code>use strict</code> to the beginning of every Perl 5 file until you know exactly why it is recommended."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 8, "last_activity_date": 1479133222, "last_edit_date": 1479133222, "creation_date": 1479131505, "answer_id": 40590311, "question_id": 40590206, "link": "https://stackoverflow.com/questions/40590206/perl-function-call/40590311#40590311", "title": "Perl Function call", "body": "<p>Because Perl isn't an interpreted language in the way that you understand it. Perl code is compiled before it is run. There's no separate compilation step for you to run, but the compiler parses and compiles all of the source code before starting to execute the program.</p>\n\n<p>If you had included <code>use warnings</code> in your code, then you would have seen the following warning (<strong>before</strong> the output from the first function call):</p>\n\n<blockquote>\n  <p>Subroutine foo redefined at func line 12.</p>\n</blockquote>\n\n<p>Which makes it pretty clear what is going on.</p>\n\n<p>Oh, and by the way - <code>//</code> is not a comment in Perl. You wanted <code>#</code>.</p>\n"}], "owner": {"reputation": 59, "user_id": 7122300, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/db756cac1a9d62c8ae2fdc01154d3e3b?s=128&d=identicon&r=PG&f=1", "display_name": "ravi kumar", "link": "https://stackoverflow.com/users/7122300/ravi-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479133222, "creation_date": 1479131151, "last_edit_date": 1479132088, "question_id": 40590206, "link": "https://stackoverflow.com/questions/40590206/perl-function-call", "title": "Perl Function call", "body": "<pre><code>$\\ = \"\\n\";\nsub foo\n{\n    print(\"one\");\n}\nfoo(); // mark1\n\nsub foo\n{\n    print(\"two\");\n}\nfoo(); //mark2\n</code></pre>\n\n<p>On executing the above code, your output will be : two, two. As far as I understand Perl is a interpreter, so when foo(mark1) is called, shouldn't one get printed first, and when foo()(mark2) is called two must get printed. But why is two getting printed both the times, and please explain how?</p>\n"}, {"tags": ["perl", "otrs", "ticket-system", "itsm"], "answers": [{"comments": [{"owner": {"reputation": 1353, "user_id": 6290625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oh51v.jpg?s=128&g=1", "display_name": "Oleksandr Gubchenko", "link": "https://stackoverflow.com/users/6290625/oleksandr-gubchenko"}, "edited": false, "score": 0, "creation_date": 1479292943, "post_id": 40629930, "comment_id": 68492722, "body": "Yes, I&#39;ve already implemented it. Is it possible to have an auto-complete field which will populates only with CIs of the selected company/customer? See: <a href=\"http://i.imgur.com/hYTUl92.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/hYTUl92.jpg</a>"}, {"owner": {"reputation": 31, "user_id": 2361211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd6ebf4950978a989f2619f41180dd5?s=128&d=identicon&r=PG", "display_name": "Crons", "link": "https://stackoverflow.com/users/2361211/crons"}, "reply_to_user": {"reputation": 1353, "user_id": 6290625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oh51v.jpg?s=128&g=1", "display_name": "Oleksandr Gubchenko", "link": "https://stackoverflow.com/users/6290625/oleksandr-gubchenko"}, "edited": false, "score": 1, "creation_date": 1479293590, "post_id": 40629930, "comment_id": 68493166, "body": "This needs customizations"}, {"owner": {"reputation": 1353, "user_id": 6290625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oh51v.jpg?s=128&g=1", "display_name": "Oleksandr Gubchenko", "link": "https://stackoverflow.com/users/6290625/oleksandr-gubchenko"}, "edited": false, "score": 0, "creation_date": 1479293702, "post_id": 40629930, "comment_id": 68493246, "body": "Is there some free package available or can you point me to some examples of customizations for otrs? Will it be a hard customization without knowing perl?"}, {"owner": {"reputation": 31, "user_id": 2361211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd6ebf4950978a989f2619f41180dd5?s=128&d=identicon&r=PG", "display_name": "Crons", "link": "https://stackoverflow.com/users/2361211/crons"}, "reply_to_user": {"reputation": 1353, "user_id": 6290625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oh51v.jpg?s=128&g=1", "display_name": "Oleksandr Gubchenko", "link": "https://stackoverflow.com/users/6290625/oleksandr-gubchenko"}, "edited": false, "score": 0, "creation_date": 1479293777, "post_id": 40629930, "comment_id": 68493304, "body": "No free package available"}, {"owner": {"reputation": 4901, "user_id": 6485881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDn3.jpg?s=128&g=1", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6485881/maurice"}, "edited": false, "score": 1, "creation_date": 1479719301, "post_id": 40629930, "comment_id": 68659921, "body": "If it&#39;s hard depends on your current knowledge. From experience I can tell you that it&#39;s more annoying than difficult to write customizations for the OTRS. There is relatively little documentation on how to do it and you definitely need to be able to read perl, because to figure out how stuff works you need to look in the code. Writing customizations especially for the frontend is a mess, because it&#39;s rather difficult to debug and work with (IMHO)."}], "tags": [], "owner": {"reputation": 31, "user_id": 2361211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd6ebf4950978a989f2619f41180dd5?s=128&d=identicon&r=PG", "display_name": "Crons", "link": "https://stackoverflow.com/users/2361211/crons"}, "is_accepted": false, "score": 0, "last_activity_date": 1479292624, "creation_date": 1479292624, "answer_id": 40629930, "question_id": 40587853, "link": "https://stackoverflow.com/questions/40587853/connect-configuration-item-ci-from-cmdb-to-customer/40629930#40629930", "title": "Connect configuration item (CI) from CMDB to Customer", "body": "<p>Owner field in CI definition can be used to define the customer. </p>\n"}], "owner": {"reputation": 1353, "user_id": 6290625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oh51v.jpg?s=128&g=1", "display_name": "Oleksandr Gubchenko", "link": "https://stackoverflow.com/users/6290625/oleksandr-gubchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 881, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1479483051, "creation_date": 1479123498, "last_edit_date": 1479483007, "question_id": 40587853, "link": "https://stackoverflow.com/questions/40587853/connect-configuration-item-ci-from-cmdb-to-customer", "title": "Connect configuration item (CI) from CMDB to Customer", "body": "<p>I have the latest version of OTRS(5.0.14) with the following packages:</p>\n\n<ul>\n<li>DynamicFieldITSMConfigItem</li>\n<li>GeneralCatalog</li>\n<li>ITSM-CIAttributeCollection</li>\n<li>ITSMConfigurationManagement</li>\n<li>ITSMCore</li>\n</ul>\n\n<p>Is it possible to relate CIs to company and/or to customer user natively or with some free package? Please, give me some examples.</p>\n\n<p>Is it possible to have an auto-complete field which will populates only with CIs of the selected company/customer? See: <a href=\"https://i.imgur.com/hYTUl92.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/hYTUl92.jpg</a></p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1479112945, "post_id": 40584539, "comment_id": 68404610, "body": "This might help as first step: <code>grep -o &#39;&quot;[^,]*&#39; dump.data</code>"}, {"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1479113128, "post_id": 40584539, "comment_id": 68404683, "body": "Thanks for your time, question updated. @Cyrus"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 2, "creation_date": 1479113261, "post_id": 40584539, "comment_id": 68404738, "body": "This might help as second step: <code>grep -oE &#39;&quot;(id|value)[^,]*&#39; dump.data</code>"}, {"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1479113290, "post_id": 40584539, "comment_id": 68404755, "body": "Got your point!  Thx! @Cyrus"}, {"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1479113505, "post_id": 40584539, "comment_id": 68404864, "body": "and append <code>| tr &#39;\\n&#39; &#39;,&#39;</code> (to replace every newline by a <code>,</code>) and as last step find a way to remove trailing <code>,</code>."}, {"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1479114136, "post_id": 40584539, "comment_id": 68405181, "body": "@Cyrus What if <code>dump.data</code> have multiple line, and I want the result stay in the relative line instead? Q updated."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 1, "creation_date": 1479113635, "post_id": 40584836, "comment_id": 68404933, "body": "Thx for your time, but this produce the same result as my sed mentioned above."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479114128, "post_id": 40584836, "comment_id": 68405178, "body": "@hedleyyan  Fixed"}, {"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479114342, "post_id": 40584836, "comment_id": 68405293, "body": "What if dump.data have multiple line, and I want the result stay in the relative line instead? Q updated. Thx! @zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479115528, "post_id": 40584836, "comment_id": 68405940, "body": "@hedleyyan  Added another case, a bit more complicated but avoiding the extra comma that the previous one produces after the last pair on the line"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 1, "creation_date": 1479117008, "post_id": 40584836, "comment_id": 68406890, "body": "@hedleyyan  glad to do so :)  Seriously, that was my point, instead of trimming it down to one solution -- these can be used in a normal program, and have flexibility (can use different separators, adjust regex for extra patterns, etc)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1479116530, "last_edit_date": 1479116530, "creation_date": 1479113370, "answer_id": 40584836, "question_id": 40584539, "link": "https://stackoverflow.com/questions/40584539/how-to-use-backreference-multiple-times/40584836#40584836", "title": "How to use backreference multiple times?", "body": "<p>Use a <code>while</code> loop to capture a pair at a time, printing each time</p>\n\n<pre><code>perl -lne 'print \"$1:$2\" while /(\"[^\"]+\"):(\\w+),/g' data.txt\n</code></pre>\n\n<p>You can then redirect it to a file, by adding <code>&gt; output.txt</code> to the end of the line.</p>\n\n<p>This outputs one pair per line. To keep each line's pairs on one line</p>\n\n<pre><code>perl -nE 'chomp; print \"$1:$2,\" while /(\"[^\"]+\"):(\\w+),/g; say \"\"' data.txt\n</code></pre>\n\n<p>This leaves an extra comma after the last pair on the line.  To avoid that</p>\n\n<pre><code>perl -lne 'push @m, \"$1:$2\" while /(\"[^\"]+\"):(\\w+),/g; print join \",\", @m; @m = ()' data.txt\n</code></pre>\n\n<p>This forms the <code>\"$1:$2\"</code> of each pair and adds it to an array. Once the line is processed it prints them joined by <code>,</code>. The array is then emptied by <code>@m = ()</code> for the next line.</p>\n\n<p>If there may be extra spaces around add <code>\\s*</code>, like <code>\\s*:\\s*</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1479118747, "post_id": 40585112, "comment_id": 68407996, "body": "While this code snippet may solve the question, including an explanation <a href=\"//meta.stackexchange.com/q/114762\">really helps</a> to improve the quality of your post. Remember that you are answering the question for readers in the future, not just the person asking now!  Please <a href=\"https://stackoverflow.com/posts/40585112/edit\">edit</a> your answer to add explanation, and give an indication of what limitations and assumptions apply."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1479114975, "last_edit_date": 1479114975, "creation_date": 1479114557, "answer_id": 40585112, "question_id": 40584539, "link": "https://stackoverflow.com/questions/40584539/how-to-use-backreference-multiple-times/40585112#40585112", "title": "How to use backreference multiple times?", "body": "<p>Try as follows</p>\n\n<pre><code>perl -ne 'while($_=~m/(?:(\"id\":\\d+)|(\"value\":\\d+))/g){my $result = $1 // $2; print \"$result \";} print \"\\n\";' data.dump\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479116473, "post_id": 40585285, "comment_id": 68406551, "body": "I tried <code>perl -lne &#39;print join &quot;,&quot;, &#47;&quot;(id|value)&quot;:\\d+&#47;g&#39; dump.data</code> which produce <code>id,value,id,value</code> only.."}, {"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479116704, "post_id": 40585285, "comment_id": 68406700, "body": "<code>perl -lne &#39;print join &quot;,&quot;, &#47;(&quot;(id|value)&quot;:\\d+)&#47;g&#39; dump.data</code> works! I assume print works for <code>\\1</code> capture?"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "reply_to_user": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479117147, "post_id": 40585285, "comment_id": 68406981, "body": "are you sure <code>&#47;(&quot;(id|value)&quot;:\\d+)&#47;g</code> works?  it will unnecessarily add extra <code>id</code> and <code>value</code> to output due to <code>(id|value)</code>"}], "tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": true, "score": 4, "last_activity_date": 1506282361, "last_edit_date": 1506282361, "creation_date": 1479115221, "answer_id": 40585285, "question_id": 40584539, "link": "https://stackoverflow.com/questions/40584539/how-to-use-backreference-multiple-times/40585285#40585285", "title": "How to use backreference multiple times?", "body": "<p>Simplified version from other solutions already presented</p>\n\n<pre><code>$ perl -lne 'print join \",\", /\"[^\"]+\":\\d+/g' dump.data \n\"id\":123,\"value\":321,\"id\":234,\"value\":432\n\"id\":223,\"value\":221,\"id\":224,\"value\":232\n</code></pre>\n\n<ul>\n<li><code>\"[^\"]+\":\\d+</code> pattern to extract</li>\n<li><code>join \",\"</code> use <code>,</code> as separator to combine the extracted patterns</li>\n</ul>\n\n<p><br>\nTo capture only <code>id</code> and <code>value</code></p>\n\n<pre><code>$ perl -lne 'print join \",\", /\"(?:id|value)\":\\d+/g' dump.data\n\"id\":123,\"value\":321,\"id\":234,\"value\":432\n\"id\":223,\"value\":221,\"id\":224,\"value\":232\n</code></pre>\n\n<ul>\n<li><code>(?:id|value)</code> to restrict to only <code>id</code> or <code>value</code>, but in non-capturing group so that only the entire extracted text is passed onto <code>join</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2682, "user_id": 6404949, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-ksf1VmNZnPA/AAAAAAAAAAI/AAAAAAAAExQ/uleAWJ-xbJg/photo.jpg?sz=128", "display_name": "VIPIN KUMAR", "link": "https://stackoverflow.com/users/6404949/vipin-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1479118882, "creation_date": 1479118882, "answer_id": 40586407, "question_id": 40584539, "link": "https://stackoverflow.com/questions/40584539/how-to-use-backreference-multiple-times/40586407#40586407", "title": "How to use backreference multiple times?", "body": "<p>try below awk solution - </p>\n\n<pre><code>#awk 'BEGIN{FS=\"x+|y+|z+\"} {print  $7,$8,$9,substr($10,1,length($10)-1)}' OFS=\"\" kk.txt\n\"id\":123,\"value\":321,\"id\":234,\"value\":432\n\"id\":223,\"value\":221,\"id\":224,\"value\":232\n</code></pre>\n\n<p>Explanation :</p>\n\n<ol>\n<li><code>\"x+|y+|z+\"</code> : multiple field separator in BEGIN block.</li>\n<li><code>substr($10,1,length($10)-1)</code> : Remove last character of the column\n    which is \"<code>,</code>\" in our case.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 1, "creation_date": 1479174245, "post_id": 40596133, "comment_id": 68436999, "body": "Good one! I don&#39;t know FPAT until you .. Thx"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 1, "last_activity_date": 1479150790, "creation_date": 1479150790, "answer_id": 40596133, "question_id": 40584539, "link": "https://stackoverflow.com/questions/40584539/how-to-use-backreference-multiple-times/40596133#40596133", "title": "How to use backreference multiple times?", "body": "<p>With GNU awk for FPAT:</p>\n\n<pre><code>awk -v FPAT='\"(id|value)\":[0-9]+' '{for (i=1;i&lt;=NF;i++) printf \"%s%s\", $i, (i&lt;NF?\",\":ORS)}' file\n\"id\":123,\"value\":321,\"id\":234,\"value\":432\n\"id\":223,\"value\":221,\"id\":224,\"value\":232\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 40585285, "answer_count": 5, "score": 3, "last_activity_date": 1506282361, "creation_date": 1479112127, "last_edit_date": 1479118963, "question_id": 40584539, "link": "https://stackoverflow.com/questions/40584539/how-to-use-backreference-multiple-times", "title": "How to use backreference multiple times?", "body": "<p>dump.data as below:</p>\n\n<pre><code>x\"xxx\":111,\"xxxx\":2222,xxxx\"id\":123,xxxxxx\"value\":321,xxxxxx\"id\":234,xxxxxx\"value\":432,xx\nx\"xxx\":yyy,\"xxxx\":zzz,xxxx\"id\":223,xxxxxx\"value\":221,xxxxxx\"id\":224,xxxxxx\"value\":232,xxxx....\n</code></pre>\n\n<p>I want to filter only the <code>id</code> and <code>value</code> info. e.g. After whatever process gives me this:</p>\n\n<pre><code>\"id\":123,\"value\":321,\"id\":234,\"value\":432\n\"id\":223,\"value\":221,\"id\":224,\"value\":232\n</code></pre>\n\n<hr>\n\n<p>What comes to my mind is using backreference, i.e. sed:</p>\n\n<pre><code>sed 's|.*\\(\"id\":[0-9]*\\).*\\(\"value\":[0-9]*\\).*|\\1,\\2|' dump.data\n</code></pre>\n\n<p>which gives me this:</p>\n\n<pre><code>\"id\":234,\"value\":432\n\"id\":224,\"value\":232\n</code></pre>\n\n<p>But how can I get <strong>all</strong> the id and value info?</p>\n"}, {"tags": ["perl", "ftp", "perl-module"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1479114146, "post_id": 40584502, "comment_id": 68405187, "body": "It&#39;s a problem in initializing the state of the random generator in Windows. See <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=103840\" rel=\"nofollow noreferrer\">Bug #103840 for Net-SSLeay: Slow initialization of secure communications in Strawberry Perl 5.18.1 and 5.20.2</a>."}], "owner": {"reputation": 41, "user_id": 1234085, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f4ae7f8f160b8c78ae2d3d8a031a08ad?s=128&d=identicon&r=PG", "display_name": "user1234085", "link": "https://stackoverflow.com/users/1234085/user1234085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1479116342, "creation_date": 1479111946, "last_edit_date": 1479116342, "question_id": 40584502, "link": "https://stackoverflow.com/questions/40584502/module-loading-in-strawberry-perl-5-24-0-is-slow", "title": "Module loading in Strawberry Perl 5.24.0 is slow", "body": "<p><br/>\nI am using <code>Strawberry Perl 5.24.0</code> and I am loading the modules using the \"<code>use</code>\". For example, <code>use Net::FTP</code>.</p>\n\n<p>But module loading is taking a lot of time at compile time. For example, loading the <code>Net::FTP</code> module is taking around <strong>2.44s</strong> in total (Below is the call trace which I got by using NYTProf). Can you please let me know that how can I improve the performance at compile time? Thanks!</p>\n\n<p><strong>Subroutines:</strong>\n<br/></p>\n\n<pre><code>Net::SSLeay::RAND_poll (xsub)    (2.29s)\nIO::Socket::SSL::BEGIN@20        (54.2ms)\nNet::FTP::BEGIN@32               (42.1ms)\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "synchronization"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6655369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566bc12343e7a7b22649a7d70ce19e0b?s=128&d=identicon&r=PG&f=1", "display_name": "Reinaldo Gomes", "link": "https://stackoverflow.com/users/6655369/reinaldo-gomes"}, "edited": false, "score": 0, "creation_date": 1479143159, "post_id": 40585644, "comment_id": 68423732, "body": "Luckly enough, the system (ffmpeg on a linux box) seems &quot;self idempotent&quot;, as it does not harm files when two processes take over the same file: it&#39;s just twice the same work.  I&#39;m very fond of the sockets solution, probably biased by my networking background (I&#39;m not a pro programmer). I can even see it working with UDP signalling, where one server asks if anyone else has a hold of the next file to be enqueued, instead of TCP connections reading through whole lists.  Anyway, I&#39;ll think about it for a while, and report back if I ever get this to work (still a prototype project)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1479116341, "creation_date": 1479116341, "answer_id": 40585644, "question_id": 40582159, "link": "https://stackoverflow.com/questions/40582159/sync-item-list-between-perl-scripts-across-servers/40585644#40585644", "title": "Sync item list between perl scripts, across servers", "body": "<p>I would be very wary of using a regular file - it'll be difficult to manage locking and caching semantics. </p>\n\n<p>IPC is a big and difficult topic, and when you're doing server to server - it can get very messy indeed. You'll need to think about much more complicated scenarios, like 'what if host A crashes with partial processing'. </p>\n\n<p>So first off I would suggest you need to (if at all possible) make your process idempotent. Specifically - set it up so IF both servers do end up processing the same things, then no harm is done - it's 'just' inefficient.</p>\n\n<p>I can't tell you how to do this, but the general one is to permit (and discard) duplication of effort. </p>\n\n<p>In terms of synchronising your two processes on different servers - I don't think a file will do the trick - shared filesystem IPC is not really suitable for a near real time sort of operation, because of caching. Default cache lag on NFS is somewhere in the order of 60s. </p>\n\n<p>I would suggest that you think in terms of <a href=\"http://perldoc.perl.org/perlipc.html#Sockets%3A-Client%2FServer-Communication\" rel=\"nofollow noreferrer\">sockets</a> - they're a fairly standard way of server to server IPC. As you already check 'pending' items in the queue, expanding this to query the other host (note - consider what you'll do if it's offline or otherwise unreachable) before enqueing. </p>\n\n<p>The caveat here is parallelism works better the less IPC is going on. Talking across a network is generally a bit faster than talking to a disk, but it's considerably slower than the speed at which a processor runs. So if you can work out some sort of caching/locking mechanism, where you don't need to update for each and every file - then it'll run much better. </p>\n"}], "owner": {"reputation": 83, "user_id": 6655369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566bc12343e7a7b22649a7d70ce19e0b?s=128&d=identicon&r=PG&f=1", "display_name": "Reinaldo Gomes", "link": "https://stackoverflow.com/users/6655369/reinaldo-gomes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 40585644, "answer_count": 1, "score": 0, "last_activity_date": 1479131580, "creation_date": 1479099832, "last_edit_date": 1479131580, "question_id": 40582159, "link": "https://stackoverflow.com/questions/40582159/sync-item-list-between-perl-scripts-across-servers", "title": "Sync item list between perl scripts, across servers", "body": "<p>I have a multi-threaded perl script which does the following:</p>\n\n<p>1) One boss thread searches through a folder structure on an external server. For each file it finds, it adds its path/name to a thread queue. If the path/file is already in the queue, or being processed by the worker threads, the enqueuing is skipped.</p>\n\n<p>2) A dozen worker threads dequeue from the above queue, process the files, and remove them from the hard disk.</p>\n\n<p>It runs on a single physical server, and everything works fine.</p>\n\n<p>Now I want to add a second server, which will work concurrently with the first one, searching through the same folder structure, looking for files to enqueue/process. I need a means to make both servers aware of what each one is doing, so that they don't process the same files. The queue is minimal, ranging from 20 to 100 items. The list is very dynamic and changes many times per second.</p>\n\n<p>Do I simply write to/read from a regular file to keep them sync'ed about the current items list? Any ideas?</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1479086954, "post_id": 40580522, "comment_id": 68397098, "body": "I&#39;ve removed the batch-file tag because a) batch scripts check the current directory for files before checking the path directory, and b) the Windows &quot;file not in PATH&quot; error message is <code>_____ is not recognized as an internal or external command, operable program or batch file.</code>"}, {"owner": {"reputation": 1459, "user_id": 7118905, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e96fa65d2d24de06b70cc49988d63762?s=128&d=identicon&r=PG&f=1", "display_name": "Horse O&#39;Houlihan", "link": "https://stackoverflow.com/users/7118905/horse-ohoulihan"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1479088002, "post_id": 40580522, "comment_id": 68397304, "body": "This problem is occurring for other batch files in there like <code>perldoc.bat</code>. I&#39;m very confused that outputs the location of the file and then tells me it can&#39;t find it. So you&#39;re saying that its 1 of these 4 possible scenarios. Its a batch file, thats for sure. I can run it by going into the folder and double clicking on it."}, {"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1479088090, "post_id": 40580522, "comment_id": 68397336, "body": "I know basically nothing about Perl, but from what I&#39;ve seen online, it looks like you either misconfigured something when installing it or there&#39;s a settings file you need to update. Either way, this is a Perl problem, not a batch problem."}, {"owner": {"reputation": 1459, "user_id": 7118905, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e96fa65d2d24de06b70cc49988d63762?s=128&d=identicon&r=PG&f=1", "display_name": "Horse O&#39;Houlihan", "link": "https://stackoverflow.com/users/7118905/horse-ohoulihan"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1479088771, "post_id": 40580522, "comment_id": 68397515, "body": "Yeah its definitely not a batch file problem, cpan.bat runs just fine when I double click it manually. You think its a Perl problem? It looks like I might have two perl.exe files installed, when I run <code>get-command perl</code>, it says its located in <code>C:\\Program Files\\Git\\usr\\bin\\perl.exe</code>. So its using the version that came with a Git install it looks like. Weird because that git folder isn&#39;t actually in my environment variables. Not sure what to do about this."}, {"owner": {"reputation": 1459, "user_id": 7118905, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e96fa65d2d24de06b70cc49988d63762?s=128&d=identicon&r=PG&f=1", "display_name": "Horse O&#39;Houlihan", "link": "https://stackoverflow.com/users/7118905/horse-ohoulihan"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 1, "creation_date": 1479089174, "post_id": 40580522, "comment_id": 68397600, "body": "SomethingDark: I fixed the problem, you were right it was a problem with perl. I&#39;ll post details in an answer."}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 1850782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a862f9edb3bb930ab0665247ff7e6cd?s=128&d=identicon&r=PG", "display_name": "Thomas Wood", "link": "https://stackoverflow.com/users/1850782/thomas-wood"}, "edited": false, "score": 1, "creation_date": 1489532545, "post_id": 40580961, "comment_id": 72710980, "body": "Legend mate! Thanks for posting your resolution and not just answering that you fixed your own problem :D  I was getting this issue trying to run perltidy through Atom Beautify"}], "tags": [], "owner": {"reputation": 1459, "user_id": 7118905, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e96fa65d2d24de06b70cc49988d63762?s=128&d=identicon&r=PG&f=1", "display_name": "Horse O&#39;Houlihan", "link": "https://stackoverflow.com/users/7118905/horse-ohoulihan"}, "is_accepted": false, "score": 11, "last_activity_date": 1479089295, "creation_date": 1479089295, "answer_id": 40580961, "question_id": 40580522, "link": "https://stackoverflow.com/questions/40580522/windows-cant-find-file-on-path-not-in-path/40580961#40580961", "title": "Windows - Can&#39;t find file on PATH, &#39;.&#39; not in PATH", "body": "<p>The problem was I had two perl.exe files installed, when I ran <code>get-command perl</code>, it said its located in <code>C:\\Program Files\\Git\\usr\\bin\\perl.exe</code>. So its using the version that came with with what looks like a CygWin install (C:\\Program Files\\Git\\usr\\bin\\ is loaded with unix like commands). So I removed <code>perl.exe</code> from <code>C:\\Program Files\\Git\\usr\\bin</code> and it fixed the problem.</p>\n"}], "owner": {"reputation": 1459, "user_id": 7118905, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e96fa65d2d24de06b70cc49988d63762?s=128&d=identicon&r=PG&f=1", "display_name": "Horse O&#39;Houlihan", "link": "https://stackoverflow.com/users/7118905/horse-ohoulihan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2198, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1479089295, "creation_date": 1479085119, "last_edit_date": 1479086872, "question_id": 40580522, "link": "https://stackoverflow.com/questions/40580522/windows-cant-find-file-on-path-not-in-path", "title": "Windows - Can&#39;t find file on PATH, &#39;.&#39; not in PATH", "body": "<p>I installed a package (Strawberry Perl) and added its bin directory (<strong>C:\\Strawberry\\perl\\bin</strong>) to the environment variables. cpan is a package manager, its in there as <code>cpan.bat</code>. </p>\n\n<p>When I try to run it, heres what happens:</p>\n\n<pre><code>C:\\Users\\horse&gt; cpan -fi \"DBD::mysql\"\nCan't find C:\\Strawberry\\perl\\bin\\cpan.bat on PATH, '.' not in PATH.\n</code></pre>\n\n<p>Its obviously finding the file because how else would it know its exact location: <code>C:\\Strawberry\\perl\\bin\\cpan.bat</code></p>\n\n<p>If I try running <code>cpan.bat</code> directory like this:</p>\n\n<pre><code>C:\\Users\\horse&gt; C:\\Strawberry\\perl\\bin\\cpan.bat  -fi \"DBD::mysql\"\nCan't find C:\\Strawberry\\perl\\bin\\cpan.bat on PATH, '.' not in PATH.\n</code></pre>\n\n<p>Same issue. I don't understand why it needs a '.' in the PATH, but I added it there to see what would happen, and its no longer saying anything about a '.' but I'm still getting the same issue with it not finding cpan.bat:</p>\n\n<pre><code>C:\\Users\\horse&gt; cpan\nCan't find C:\\Strawberry\\perl\\bin\\cpan.bat on PATH.\n</code></pre>\n\n<p>Does anyone know what the issue is here?</p>\n"}, {"tags": ["macos", "perl", "sed"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1479087690, "post_id": 40580032, "comment_id": 68397240, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7573368/in-place-edits-with-sed-on-os-x\">In-place edits with sed on OS X</a>"}], "answers": [{"tags": [], "owner": {"reputation": 95060, "user_id": 89817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df253c3b6533949ea94f31f328f3e769?s=128&d=identicon&r=PG", "display_name": "Gordon Davisson", "link": "https://stackoverflow.com/users/89817/gordon-davisson"}, "is_accepted": true, "score": 1, "last_activity_date": 1479082837, "creation_date": 1479082837, "answer_id": 40580310, "question_id": 40580032, "link": "https://stackoverflow.com/questions/40580032/in-place-edits-using-sed-on-os-x/40580310#40580310", "title": "In-place edits using sed on OS X", "body": "<p>What <code>sed -i '' ...</code> does is to pass \"-i\" as an argument, followed by a zero-length argument (the empty quotes). The single-quotes are <em>not</em> part of the argument, they're just there to indicate that there is an argument (it just doesn't have any content). To do the same thing in perl with <code>system</code>, use:</p>\n\n<pre><code>[\"/usr/bin/sed\", \"-i\", \"\",  \"s/${fileName}/${newName}/g\", $tmpPath]\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 3569927, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/469b6e395aa38f051b8e449aa6ac1061?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/3569927/ria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 40580310, "answer_count": 1, "score": 0, "last_activity_date": 1479082837, "creation_date": 1479080305, "question_id": 40580032, "link": "https://stackoverflow.com/questions/40580032/in-place-edits-using-sed-on-os-x", "title": "In-place edits using sed on OS X", "body": "<p>I have seen multiple posts on Stack overflow with various solutions to this problem. I tried various versions of posted solution, but I can't get it to work. </p>\n\n<p>I am writing a perl script where I want to </p>\n\n<p><code>my $fileName = \"apple\";\n my $newName = \"banana\";\n my $ tmpPath = \"/etc/ria\";\n [\"/usr/bin/sed\",\"-i ''\",  \"s/${fileName}/${newName}/g\", $tmpPath]</code></p>\n\n<p>I have tried various different combinations of this (i.e.<br>\n<code>[\"/usr/bin/sed\",\"-i''\",  \"s/${fileName}/${newName}/g\", $tmpPath]</code><br>\n<code>[\"/usr/bin/sed\",\"-i\", '\\'\\',  \"s/${fileName}/${newName}/g\", $tmpPath]</code><br>\n<code>[\"/usr/bin/sed\",\"-i\", '\\'\\', '-e', \"s/${fileName}/${newName}/g\", $tmpPath]</code>                                        </p>\n\n<p>However each time I run this, it creates ria &amp; ria''.\nI don't want the second file, ria''.</p>\n\n<p>Can this not be accomplished? Or is there some other editor I can use? I don't want to install anything (i.e. gsed) on my mac.                                                                                              </p>\n\n<p>I am running it as <code>system(@command);</code>.  </p>\n"}, {"tags": ["perl", "dynamic", "identifier"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479075257, "post_id": 40579006, "comment_id": 68394539, "body": "It could also be a lexical variable if declared by <code>my $v1</code> above the <code>package</code> statement in the same file as the snippet. See the documentation for <a href=\"http://perldoc.perl.org/functions/package.html\" rel=\"nofollow noreferrer\">package</a> and <a href=\"http://perlmaven.com/scope-of-variables-in-perl\" rel=\"nofollow noreferrer\">Scope of variables in Perl</a> for more information"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479076491, "post_id": 40579006, "comment_id": 68394835, "body": "@Chudong: I think the idea of <i>dynamic</i> is being misused here. It&#39;s unclear whether it is the <i>identifier</i> that is dynamic (all Perl identifiers are static) or the <i>value</i> that the identifier refers to (most Perl values are dynamic). What is it that you need to know? Does <a href=\"http://stackoverflow.com/questions/845060/what-is-the-difference-between-my-and-our-in-perl/845382?s=7\"><i>What is the difference between <code>my</code> and <code>our</code> in Perl?</i></a> help you?"}, {"owner": {"reputation": 73, "user_id": 7089948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b698d69d840aa93f31d5d93bbb59de4?s=128&d=identicon&r=PG&f=1", "display_name": "Chudong", "link": "https://stackoverflow.com/users/7089948/chudong"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479098189, "post_id": 40579006, "comment_id": 68399506, "body": "@Borodin, as you indicated, I&#39;d like to know what term &quot;dynamic&quot; means here."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7089948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b698d69d840aa93f31d5d93bbb59de4?s=128&d=identicon&r=PG&f=1", "display_name": "Chudong", "link": "https://stackoverflow.com/users/7089948/chudong"}, "edited": false, "score": 0, "creation_date": 1479130974, "post_id": 40584373, "comment_id": 68415613, "body": "Dave, in your answer above, in the sentence, &quot;In Perl, variables declared with my are lexical and any other variables are lexical&quot;, did you actually mean &quot;dynamic&quot;, and not &quot;lexical&quot;, in the latter?"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 73, "user_id": 7089948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b698d69d840aa93f31d5d93bbb59de4?s=128&d=identicon&r=PG&f=1", "display_name": "Chudong", "link": "https://stackoverflow.com/users/7089948/chudong"}, "edited": false, "score": 0, "creation_date": 1479198956, "post_id": 40584373, "comment_id": 68445268, "body": "@Chudong Yes, you understood it correctly.  Thanks for catching that!  I&#39;ve updated the answer to fix  it."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 3, "last_activity_date": 1479198874, "last_edit_date": 1479198874, "creation_date": 1479111370, "answer_id": 40584373, "question_id": 40579006, "link": "https://stackoverflow.com/questions/40579006/which-identifiers-are-considered-to-be-dynamic/40584373#40584373", "title": "Which identifiers are considered to be dynamic?", "body": "<p>The two general types of variable scope are <em>dynamic</em> and <em>lexical</em>.  Basically, the visibility of lexical variables is based on their location in the source code and the visibility of dynamic variables is determined at run-time.</p>\n\n<p>In Perl, variables declared with <code>my</code> are lexical and any other variables are dynamic.  The main place that this distinction becomes directly relevant is that <code>local</code> can only be used with dynamic (non-<code>my</code>) variables and not with lexical (<code>my</code>) variables.</p>\n\n<p>See also the Perl FAQ, <a href=\"http://perldoc.perl.org/perlfaq7.html#What%27s-the-difference-between-dynamic-and-lexical-%28static%29-scoping%3F-Between-local%28%29-and-my%28%29%3F\" rel=\"nofollow noreferrer\">What's the difference between dynamic and lexical (static) scoping?</a></p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1479129772, "creation_date": 1479129772, "answer_id": 40589807, "question_id": 40579006, "link": "https://stackoverflow.com/questions/40579006/which-identifiers-are-considered-to-be-dynamic/40589807#40589807", "title": "Which identifiers are considered to be dynamic?", "body": "<p>The best way to see the difference is in code:</p>\n\n<pre><code>our $dynamic = 'outside';\nmy  $static  = 'outside';\n\nsub show {\n  print \"\\tin sub: dynamic $dynamic\\n\";\n  print \"\\tin sub: static  $static\\n\";\n  print\"\\n\";\n}\n\n{\n  local $dynamic = 'inside';\n  my    $static = 'inside';\n\n  print \"In block\\n\";\n  print \"\\tinline: dynamic $dynamic\\n\";\n  print \"\\tinline: static  $static\\n\";\n  show();\n}\n\nprint \"In main\\n\";\nprint \"\\tinline: dynamic $dynamic\\n\";\nprint \"\\tinline: static  $static\\n\";\nshow();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>In block\n    inline: dynamic inside\n    inline: static  inside\n    in sub: dynamic inside\n    in sub: static  outside\n\nIn main\n    inline: dynamic outside\n    inline: static  outside\n    in sub: dynamic outside\n    in sub: static  outside\n</code></pre>\n\n<p>Notice that the sub always sees the same (outside) <code>$static</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 7089948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b698d69d840aa93f31d5d93bbb59de4?s=128&d=identicon&r=PG&f=1", "display_name": "Chudong", "link": "https://stackoverflow.com/users/7089948/chudong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "accepted_answer_id": 40584373, "answer_count": 2, "score": 3, "last_activity_date": 1479198874, "creation_date": 1479072358, "last_edit_date": 1479131253, "question_id": 40579006, "link": "https://stackoverflow.com/questions/40579006/which-identifiers-are-considered-to-be-dynamic", "title": "Which identifiers are considered to be dynamic?", "body": "<p>The following excerpt is taken from <a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\"><code>perldoc perlmod</code></a>:</p>\n\n<blockquote>\n  <p>The <code>package</code> statement declares the compilation unit as being in the given namespace. The scope of the <code>package</code> declaration is from the declaration itself through the end of the enclosing block, <code>eval</code>, or file, whichever comes first (the same scope as the <code>my</code>() and <code>local</code>() operators). Unqualified dynamic identifiers will be in this namespace, except for those few identifiers that if unqualified, default to the main package instead of the current one as described below.</p>\n</blockquote>\n\n<p>The term \"dynamic\" in the \"Unqualified dynamic identifiers\" phrase above seems to refer to variables that are not prefixed with <code>my</code> in a package. That is, in the code snippet below, <code>$v1</code> is considered a dynamic identifier. Is that right?</p>\n\n<pre><code>package Package_1;\n\n$v1 = \"v1_val\";\n\nmy $v2 = \"v2_val\";\n</code></pre>\n"}, {"tags": ["perl", "oop", "parameter-passing", "encapsulation"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479072314, "post_id": 40578717, "comment_id": 68393666, "body": "Asking what we think is asking for an opinion, which is off-topic on Stack Overflow. You have written a very high-quality post, which is great, but you need to <a href=\"https://stackoverflow.com/posts/40578717/edit\">edit</a> and reword it to make it on-topic."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479072582, "post_id": 40578717, "comment_id": 68393769, "body": "As of what do I prefer... it depends on how many of those modules there are. You can make it a global variable, and maybe abstract that into a role that all objects that should have a logger share. That way you can easily change where the logger object comes from. Or you can make the logger class be a singleton. Inside of the class, you can just define a <code>my $obj</code> or whatever on the outermost scope, so that it&#39;s lexical to the file. Then have the constructor assign it the first round, and just return it afterwards."}], "answers": [{"comments": [{"owner": {"reputation": 250, "user_id": 5223387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f06c37ea87ce8ff09c148ba6220b66?s=128&d=identicon&r=PG", "display_name": "Volodymyr Melnyk", "link": "https://stackoverflow.com/users/5223387/volodymyr-melnyk"}, "edited": false, "score": 0, "creation_date": 1479125427, "post_id": 40588054, "comment_id": 68412073, "body": "Thank you, Georg. Singletons are great, but I rather need it to be initialized once per a <code>Library</code>-classed object than once per an application at all. So the question is not how to make sure that this object is being initialized only once, but the question is how to let other objects use it. Is it better to <i>give</i> them the reference (e.g. on the initialization stage) or is it better to <i>let them get</i> the reference (perhaps by calling a method that is being provided by some object that &quot;knows&quot; where the logger&#39;s object is)."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 250, "user_id": 5223387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f06c37ea87ce8ff09c148ba6220b66?s=128&d=identicon&r=PG", "display_name": "Volodymyr Melnyk", "link": "https://stackoverflow.com/users/5223387/volodymyr-melnyk"}, "edited": false, "score": 0, "creation_date": 1479207568, "post_id": 40588054, "comment_id": 68450633, "body": "Again this depends of where the logger lives. You only pass a logger, if you might pass a different one in a different context. If you already pass an object that &quot;knows&quot; your logger, use that. And if you consider using a global variable, use a singleton Class instead."}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 0, "last_activity_date": 1479124127, "creation_date": 1479124127, "answer_id": 40588054, "question_id": 40578717, "link": "https://stackoverflow.com/questions/40578717/accessing-an-object-from-another-object/40588054#40588054", "title": "Accessing an object from another object", "body": "<p>There is no answer to your problem. It realy depends on your exact use-case. If (just guessing) you only want to have exactly one Logger in your Library, I think using the software pattern of a \"singleton\" might exactly fit. E.g.</p>\n\n<pre><code>package Library::Logger;\nuse strict;\n\nmy $logger;\n\nsub new {\n    unless ($logger) {\n       .... initializing $logger ...\n    }\n    return $logger;\n}\n</code></pre>\n\n<p>and in each of your sublclasses you can access it by </p>\n\n<pre><code>Library::Logger-&gt;new()-&gt;...\n</code></pre>\n\n<p>HTH\nGeorg</p>\n"}], "owner": {"reputation": 250, "user_id": 5223387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f06c37ea87ce8ff09c148ba6220b66?s=128&d=identicon&r=PG", "display_name": "Volodymyr Melnyk", "link": "https://stackoverflow.com/users/5223387/volodymyr-melnyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1479124127, "creation_date": 1479070581, "last_edit_date": 1479114017, "question_id": 40578717, "link": "https://stackoverflow.com/questions/40578717/accessing-an-object-from-another-object", "title": "Accessing an object from another object", "body": "<p>I would like you to share your experience on the matter of using some common object by different components of a library (or an application). I'd like to understand, which practice is better, which way is more \"ecological\".</p>\n\n<p>Let's imagine that we have some complex library that consists of a bunch of classes: <code>Library</code>, <code>Library::Foo</code>, <code>Library::Foo::Bar</code> and many other ones. An application that uses the library initializes a <code>Library</code>-classed object, at some stage this object initializes some quantity of <code>Library::Foo</code>-classed objects, they initialize <code>Library::Foo::Bar</code>-classed objects and so on.</p>\n\n<p>And now let's imagine that there is the <code>Library::Logger</code> class that is being used by all components. It's being initialized only once by the constructor of the <code>Library</code> class and all other sub-classes need it for their logging purposed.</p>\n\n<p>The question is: how to let them all have the reference to this object?</p>\n\n<p>I see the following ways to acheive it:</p>\n\n<h3>Passing it to the constructor</h3>\n\n<p>When a <code>Library</code>-based object initializes a <code>Library::Foo</code>-classed object, it passes the reference to the logger to the newly-created object as a parameter:</p>\n\n<pre><code>$self-&gt;_set_logger(Library::Logger-&gt;new());\nmy $logger = $self-&gt;_get_logger;\nmy $foo = Library::Foo-&gt;new(logger =&gt; $logger);\n</code></pre>\n\n<p>So the <code>Library::Foo</code>-classed object could get the logger and even pass it to a <code>Library::Foo::Bar</code>-classed object when it's needed:</p>\n\n<pre><code>my $logger = $self-&gt;_get_logger;\nmy $bar = Library::Foo::Bar(logger =&gt; $logger);\n</code></pre>\n\n<h3>Accessing it as a method</h3>\n\n<p>When a <code>Library</code>-based object initializes the Library::Foo-based object, it passes the reference <em>to itself</em> to the newly-created object:</p>\n\n<pre><code>$self-&gt;_set_logger(Library::Logger-&gt;new());\nmy $foo = Library::Foo-&gt;new(papa =&gt; $self);\n</code></pre>\n\n<p>So the <code>Library::Foo</code>-based object could access the logger this way:</p>\n\n<pre><code>$my logger = $self-&gt;_get_papa-&gt;_get_logger;\nmy $bar = Library::Foo::Bar(papa =&gt; $self);\n</code></pre>\n\n<p>It breaks encapsulation, but it also lets the <code>Library::Foo</code>-based object to get other data from its \"papa\".</p>\n\n<h3>Using a global variable</h3>\n\n<p>Also we can store the reference to the logger in some global variable, so any other object could access it this way:</p>\n\n<pre><code>$logger = $Library::_LOGGER;\n</code></pre>\n\n<p>Well, it really sucks, I know... :)</p>\n\n<h3>...</h3>\n\n<p>So, what do you think, which way seems to be better? What alternative way would you propose? How do you solve this problem for yourself? Would you pass the data to the \"child\" manually or would you let it to get the data from the \"parent\"?</p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["perl", "utf-8"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1479060302, "post_id": 40575925, "comment_id": 68389643, "body": "You are misunderstanding <code>map</code> as well as UTF-8 encoding. <code>map</code> is a tool for converting one list to another by applying the same rule to every element of the original list. It should not be used for its side effects, such as printing each element of a list, and especially when the returned list is discarded. So <code>map { print Digest::SHA::hmac_sha256_hex( $_ ), &quot;\\n&quot; } @list</code> should probably be <code>print Digest::SHA::hmac_sha256_hex( $_ ), &quot;\\n&quot; for @list</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1479060811, "post_id": 40575925, "comment_id": 68389829, "body": "Note that <code>utf8::downgrade()</code> will fail if argument cannot be represented in ASCII. So it will fail for cyrillic characters. Also <code>Digest::SHA::hmac_sha256_hex()</code> requires argument as bytes, so it will fail for wide characters."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479062990, "post_id": 40575925, "comment_id": 68390549, "body": "@H&#229;konH&#230;gland Strange, but <code>utf8::downgrade()</code> do not fail for cyrillic characters as you can see."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479063211, "post_id": 40575925, "comment_id": 68390616, "body": "I can&#39;t understand why <a href=\"http://stackoverflow.com/users/100754/sinan-%C3%9Cn%C3%BCr\"><b><i>Sinan &#220;n&#252;r</i></b></a> unilaterally closed this question. It is about <code>utf8::downgrade</code>, whereas the post that is supposed to be <b><i>identical</i></b> uses only <code>Digest::MD5</code> and <code>binmode</code>. There is an underlying commonality, but not one that most people who need an answer to this question would understand. This question should never have been closed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479063473, "post_id": 40575925, "comment_id": 68390701, "body": "@H&#229;konH&#230;gland: The restriction is that all characters must be representable in <i>eight bits</i> in the <i>current encoding</i>. Clearly half of that includes ASCII, but characters from 0x80 to 0xFF are valid but dependent on the current locale."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479063626, "post_id": 40575925, "comment_id": 68390759, "body": "@EugenKonkov: This is why people use an encoding (usually UTF-8) of Unicode: eight bits aren&#39;t usually sufficient to represent all the characters required for international communication, and no languages that I know provide for individual &quot;Extended ASCII&quot; characters to be associated with a specific encoding."}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1479063711, "post_id": 40577459, "comment_id": 68390785, "body": "how does perl knows that string should be characters and not octets?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1479064043, "post_id": 40577459, "comment_id": 68390903, "body": "@EugenKonkov: There is an internal flag that says whether each byte in a string should be treated as an individual character or as part of (an extension of) a UTF-8-encoded multi-byte character. You should leave perl to do the right thing internally, and make sure that all inputs and outputs are decoded and encoded correctly. It is extremely rare that you will need to work with individual bytes of a multi-byte encoding."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1479065125, "post_id": 40577459, "comment_id": 68391258, "body": "ah. it knows because of <code>utf8::downgrade</code> but it reports my line of code because of XS. I should try utf8 symbols not from my locale"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1479074597, "post_id": 40577459, "comment_id": 68394360, "body": "@EugenKonkov: No, that&#39;s nonsense. <code>utf8::downgrade</code> converts multi-byte UTF-8 characters that represent <i>eight-bit</i> character codes to a single byte. As you have seen, it fails if the character code is bigger than eight bits."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1479075329, "post_id": 40577459, "comment_id": 68394554, "body": "@EugenKonkov: No, that&#39;s nonsense. Perl doesn&#39;t <i>&quot;know because of <code>utf8::downgrade</code>&quot;</i>: as I said, it keeps an internal flag that says whether or not each string is multi-byte-encoded. <code>utf8::downgrade</code> converts multi-byte UTF-8 characters that represent eight-bit character codes to a single byte, and also clears that flag. But, as you have seen, it fails if the character code is bigger than eight bits. You are using characters that are wider than eight bits, so <code>utf8::downgrade</code> will do nothing but report the error that you are seeing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 1, "creation_date": 1479075420, "post_id": 40577459, "comment_id": 68394580, "body": "@EugenKonkov: Please use <code>Encode</code> in preference to <code>utf8</code>. The only proper use of <code>use utf8</code> is to tell the perl compiler that the current source file is UTF-8-encoded."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1479063546, "last_edit_date": 1479063546, "creation_date": 1479062666, "answer_id": 40577459, "question_id": 40575925, "link": "https://stackoverflow.com/questions/40575925/why-hash-results-for-ascii-differs-when-apply-utf8-functions/40577459#40577459", "title": "Why hash results for ASCII differs when apply utf8 functions", "body": "<p>The most important reason is that you haven't understood what <code>utf8::downgrade</code> does. Take a look at <a href=\"https://metacpan.org/pod/utf8#Utility-functions\" rel=\"nofollow noreferrer\"><code>utf8</code> utility functions</a></p>\n\n<p>If you had</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n</code></pre>\n\n<p>in place at the top of your code, you would have seen the message</p>\n\n<blockquote>\n  <p>Wide character in subroutine entry</p>\n</blockquote>\n\n<p>for the line</p>\n\n<pre><code>utf8::downgrade( $tmp = $x )\n</code></pre>\n\n<p>The documentation tells us about <code>utf8::downgrade</code></p>\n\n<blockquote>\n  <p>Converts in-place the internal representation of the string from UTF-8 to the equivalent octet sequence in the native encoding (Latin-1 or EBCDIC)</p>\n</blockquote>\n\n<p>Your character string starts with <code>\u0444</code>, which is Unicode <code>U+0444</code> or <code>CYRILLIC SMALL LETTER EF</code>. There is no equivalent in Latin-1 or EBCDIC, so your code generates an error that you don't handle</p>\n\n<p>You don't say what you're trying to do, but it's most likely that you need to use the <a href=\"https://metacpan.org/pod/Encode\" rel=\"nofollow noreferrer\"><code>Encode</code></a> module, which will convert between most popular character encodings</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1479067919, "creation_date": 1479053496, "last_edit_date": 1479063531, "question_id": 40575925, "link": "https://stackoverflow.com/questions/40575925/why-hash-results-for-ascii-differs-when-apply-utf8-functions", "title": "Why hash results for ASCII differs when apply utf8 functions", "body": "<p>I have code:</p>\n\n<pre><code>push my( @list ), $x;\nutf8::upgrade( $tmp =  $x ); push @list, $tmp;\nutf8::downgrade( $tmp = $x ); push @list, $tmp;\npush @list, Encode::encode_utf8( $x );\npush @list, Encode::decode_utf8( $x );\n\nprint Digest::SHA::hmac_sha256_hex( $_ ), \"\\n\" for @list\n\n\nd9fa76e37bfe94cfcb0011cf070316775e52845021ee92d9bebe8ef289f87e16\nd9fa76e37bfe94cfcb0011cf070316775e52845021ee92d9bebe8ef289f87e16\nd9fa76e37bfe94cfcb0011cf070316775e52845021ee92d9bebe8ef289f87e16\nd9fa76e37bfe94cfcb0011cf070316775e52845021ee92d9bebe8ef289f87e16\nd9fa76e37bfe94cfcb0011cf070316775e52845021ee92d9bebe8ef289f87e16\n</code></pre>\n\n<p>Why when $x is <code>\u0444\u044b\u0432\u0430</code> forth hash is different and the programm is crashed:</p>\n\n<pre><code>09165674df9a2eada20acb972bbf71d4cb5637b152d84568fd2e8fcbe9d61188\n09165674df9a2eada20acb972bbf71d4cb5637b152d84568fd2e8fcbe9d61188\n09165674df9a2eada20acb972bbf71d4cb5637b152d84568fd2e8fcbe9d61188\n36cdc4291ac91e26f76a208feb90e8a5a35729d54660bbb63acdb82746f7ec6a\nWide character in subroutine entry at ./t3.pl line 7.\n</code></pre>\n\n<p>Please give me some light about utf8 magic. Thank you.</p>\n\n<p><strong>UPD</strong></p>\n\n<p>In app I should check data integrity by checking signs. Sometimes data come in UTF8. Before we do not handle that case. Here I am trying to check that sign will not be changed after:</p>\n\n<pre><code>Digest::SHA::hmac_sha256_hex( Encode::encode_utf8( $data ) )\n</code></pre>\n\n<p>In parallel I check what would be if I apply this or that function to incoming data.</p>\n\n<p>Yeah, I do not understand utf8, so I ask</p>\n"}, {"tags": ["perl", "memory-management"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479049509, "post_id": 40574671, "comment_id": 68385925, "body": "170MB isn&#39;t very much. Why do you need to be so conservative? Is this an embedded system?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479049658, "post_id": 40574671, "comment_id": 68385979, "body": "Do you realise that <code>[ (rand($MAX_ELEMENT)) x $ELEMENTS ]</code> will create an array with 1,000,000 copies of the same number?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1479051182, "post_id": 40574671, "comment_id": 68386439, "body": "I just added some thousands separators to your big numbers (<code>1_000_000_000</code>). This is one of Perl&#39;s syntactic sugars: <a href=\"http://perldoc.perl.org/perldata.html#Scalar-value-constructors\" rel=\"nofollow noreferrer\">underscores whitin numbers are ignored by Perl and may improve readability</a>."}, {"owner": {"reputation": 4322, "user_id": 1834095, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/77c5896136a69d842f437ea90d3d2374?s=128&d=identicon&r=PG", "display_name": "user1834095", "link": "https://stackoverflow.com/users/1834095/user1834095"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479127671, "post_id": 40574671, "comment_id": 68413479, "body": "@Borodin, I know 170Mb isn&#39;t that much, but this is a test-script where I recreated the scenario of another, much larger scripts that&#39;s a lot harder to debug (and can&#39;t be copied here). In that other script, I sometimes get to 20Gb memory usage so optimizing that is necessary, because I&#39;m getting into trouble when a few of those run in parallel (which happens every time I use that script)."}], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1479129966, "post_id": 40574705, "comment_id": 68414931, "body": "That doesn&#39;t sound very efficient, at least not for POSIX systems. In POSIX, <code>malloc</code> and <code>free</code> have been optimized for the best general purpose memory management. Rolling your own is either duplicating code or less efficient."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1479147637, "post_id": 40574705, "comment_id": 68426134, "body": "@shawnhcorey I&#39;m sure p5p would discuss improvements with you"}], "tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": true, "score": 6, "last_activity_date": 1479046049, "creation_date": 1479046049, "answer_id": 40574705, "question_id": 40574671, "link": "https://stackoverflow.com/questions/40574671/how-can-i-remove-perl-object-from-memory/40574705#40574705", "title": "How can I remove perl object from memory", "body": "<p>Perl FAQ 3 - <a href=\"http://learn.perl.org/faq/perlfaq3.html#How-can-I-free-an-array-or-hash-so-my-program-shrinks\" rel=\"nofollow noreferrer\">How can I free an array or hash so my program shrinks?</a></p>\n\n<blockquote>\n  <p>You usually can't. Memory allocated to lexicals (i.e. my() variables)\n  cannot be reclaimed or reused even if they go out of scope. It is\n  reserved in case the variables come back into scope. Memory allocated\n  to global variables can be reused (within your program) by using\n  undef() and/or delete(). </p>\n  \n  <p>On most operating systems, memory allocated\n  to a program can never be returned to the system. That's why\n  long-running programs sometimes re- exec themselves. Some operating\n  systems (notably, systems that use mmap(2) for allocating large chunks\n  of memory) can reclaim memory that is no longer used, but on such\n  systems, perl must be configured and compiled to use the OS's malloc,\n  not perl's.</p>\n  \n  <p>In general, memory allocation and de-allocation isn't\n  something you can or should be worrying about much in Perl.</p>\n  \n  <p>See also\n  \"How can I make my Perl program take less memory?\"</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 4322, "user_id": 1834095, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/77c5896136a69d842f437ea90d3d2374?s=128&d=identicon&r=PG", "display_name": "user1834095", "link": "https://stackoverflow.com/users/1834095/user1834095"}, "edited": false, "score": 0, "creation_date": 1479128322, "post_id": 40575423, "comment_id": 68413907, "body": "I&#39;m know that my small script isn&#39;t written as efficient as possible, but that is intentionally, as my code pasted above is a simplified version of a more complex script (which I can&#39;t paste here). There, the three temporary arrays are the result of a function, and the output of that function should stay the same."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479050437, "creation_date": 1479050437, "answer_id": 40575423, "question_id": 40574671, "link": "https://stackoverflow.com/questions/40574671/how-can-i-remove-perl-object-from-memory/40575423#40575423", "title": "How can I remove perl object from memory", "body": "<p>In general, perl won't release memory back to the system. It keeps its own pool of memory in case it is required for another purpose. This happens a lot because lexical data is often used in a loop, for instance your <code>$arrref1</code> variables refer to a million-element array. If the memory for those arrays was returned to the system and reallocated every time around the loop there would be an enormous speed penalty</p>\n\n<p>As I wrote, 170MB isn't a lot, but you can reduce the footprint by dropping your big temporary arrays and adding the list directly to the hash element. As it stands you are unnecessarily keeping two copies of each array</p>\n\n<p>It would look like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nsleep 30;\n\nuse constant ELEMENTS    =&gt; 1_000_000;\nuse constant MAX_ELEMENT =&gt; 1_000_000_000;\n\nmy $if_condition = 1;\n\nsleep 5;\n\nmy %hash = ( 1 =&gt; {}, 2 =&gt; {}, 3 =&gt; {}, 4 =&gt; {} );\n\nforeach my $key ( keys %hash ) {\n\n    next unless $if_condition;\n\n\n    sleep 2;\n\n    push @{ $hash{$key}{amplification} }, (rand MAX_ELEMENT) x ELEMENTS;\n    push @{ $hash{$key}{amplification} }, (rand MAX_ELEMENT) x ELEMENTS;\n    push @{ $hash{$key}{amplification} }, (rand MAX_ELEMENT) x ELEMENTS;\n\n\n    sleep 3;\n\n    delete $hash{$key};\n\n    sleep 5;\n}\n\nsleep 10;\n</code></pre>\n"}], "owner": {"reputation": 4322, "user_id": 1834095, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/77c5896136a69d842f437ea90d3d2374?s=128&d=identicon&r=PG", "display_name": "user1834095", "link": "https://stackoverflow.com/users/1834095/user1834095"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "accepted_answer_id": 40574705, "answer_count": 2, "score": 2, "last_activity_date": 1479050881, "creation_date": 1479045840, "last_edit_date": 1479050881, "question_id": 40574671, "link": "https://stackoverflow.com/questions/40574671/how-can-i-remove-perl-object-from-memory", "title": "How can I remove perl object from memory", "body": "<p>I'm having some issues with the memory usage of a perl script I wrote (code below). The script initiates some variables, fills them with data, and then undefines them again. However, the memory usage of the script after deleting everything is still way to high to contain no data.</p>\n\n<p>Accoring to <code>ps</code> the script uses 1.027 Mb memory (RSS) during the first 39 seconds (so everything before the foreach loop). Then, memory usage starts rising and ends up fluctuating between 204.391 Mb and 172.410 Mb. However, even in the last 10 seconds of the script (where all data is supposed to be removed), memory usage never goes below 172.410 Mb.</p>\n\n<p>Is there a way to permanently delete a variable and all data in it in perl (in order to reduce the memory usage of the script)? If so, how should I do it?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsleep(30);\n\nmy $ELEMENTS = 1_000_000;\nmy $MAX_ELEMENT = 1_000_000_000;\nmy $if_condition = 1;\n\nsleep(5);\n\nmy %hash = (1 =&gt; {}, 2 =&gt; {}, 3 =&gt; {}, 4 =&gt; {});\n\nforeach my $key (keys %hash){\n    if( $if_condition ){\n        my $arrref1 = [ (rand($MAX_ELEMENT)) x $ELEMENTS ];\n        my $arrref2 = [ (rand($MAX_ELEMENT)) x $ELEMENTS ];\n        my $arrref3 = [ (rand($MAX_ELEMENT)) x $ELEMENTS ];\n\n        sleep(2);\n\n        if(!defined($hash{$key}-&gt;{'amplification'})){\n            $hash{$key}-&gt;{'amplification'} = [];\n        }\n\n        push(@{$hash{$key}-&gt;{'amplification'}},@{$arrref1});\n        undef($arrref1);\n        push(@{$hash{$key}-&gt;{'amplification'}},@{$arrref2});\n        undef($arrref2);\n        push(@{$hash{$key}-&gt;{'amplification'}},@{$arrref3});\n        undef($arrref3);\n\n\n        sleep(3);\n\n        delete($hash{$key});\n\n        sleep(5);\n    }\n}\n\nsleep(10);\n</code></pre>\n"}, {"tags": ["bash", "perl", "service", "centos", "systemd"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479045104, "post_id": 40574503, "comment_id": 68384533, "body": "Have you tried removing the spaces in the paths of the systemd service file?"}, {"owner": {"reputation": 1, "user_id": 4677969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNBXd.png?s=128&g=1", "display_name": "Relajado", "link": "https://stackoverflow.com/users/4677969/relajado"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479045407, "post_id": 40574503, "comment_id": 68384626, "body": "@xxfelixxx, I&#39;m sorry, I have corrected the block in the request. The file does not contain spaces."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4677969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNBXd.png?s=128&g=1", "display_name": "Relajado", "link": "https://stackoverflow.com/users/4677969/relajado"}, "edited": false, "score": 0, "creation_date": 1479048950, "post_id": 40575056, "comment_id": 68385727, "body": "Thanks for the answer. If I understand correctly you need to insert the line: <code>cd $CWD &amp;&amp; $BIN $CONF -p $PIDFILE 2&gt;&amp;1 | logger -p `eval&quot; echo $LOGPRI &quot;` -t `eval&quot; echo $LOGTAG &quot;` &amp;</code> If it is so - it does not work :("}, {"owner": {"reputation": 2719, "user_id": 637589, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b92d3ac472b47742d6414c652a58276b?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/637589/ivan"}, "reply_to_user": {"reputation": 1, "user_id": 4677969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNBXd.png?s=128&g=1", "display_name": "Relajado", "link": "https://stackoverflow.com/users/4677969/relajado"}, "edited": false, "score": 0, "creation_date": 1479049240, "post_id": 40575056, "comment_id": 68385834, "body": "I mean to add command &quot;env|sort&quot; as a first line in your script. Now try to execute script directly and using &quot;systemctl&quot;. Check the differences in output. I suppose your env variables CWD, BIN, CONF are not defined when &quot;systemctl&quot; is running, so you should define them or you can&#39;t use them."}, {"owner": {"reputation": 1, "user_id": 4677969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNBXd.png?s=128&g=1", "display_name": "Relajado", "link": "https://stackoverflow.com/users/4677969/relajado"}, "edited": false, "score": 0, "creation_date": 1479055609, "post_id": 40575056, "comment_id": 68387986, "body": "I tried this: <code>perl &#47;opt&#47;dklab_realplexor&#47;dklab_realplexor.pl &#47;etc&#47;dklab_realplexor.conf -p &#47;var&#47;run&#47;dklab_realplexor_dklab_realplexor.conf.pid 2&gt;&amp;1 &amp;</code> ie remove variables and specify the path and the error persists."}], "tags": [], "owner": {"reputation": 2719, "user_id": 637589, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b92d3ac472b47742d6414c652a58276b?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/637589/ivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1479048244, "creation_date": 1479048244, "answer_id": 40575056, "question_id": 40574503, "link": "https://stackoverflow.com/questions/40574503/problems-when-start-my-service/40575056#40575056", "title": "Problems when start my service", "body": "<p>It looks like your script uses environment variables which are not defined in your service file.\nTo see list available environment variables add to your script (dklab_realplexor.int):</p>\n\n<pre><code>env | sort\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4677969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNBXd.png?s=128&g=1", "display_name": "Relajado", "link": "https://stackoverflow.com/users/4677969/relajado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1479053569, "creation_date": 1479044692, "last_edit_date": 1479053569, "question_id": 40574503, "link": "https://stackoverflow.com/questions/40574503/problems-when-start-my-service", "title": "Problems when start my service", "body": "<p>Centos 7</p>\n\n<p>The problem is this: If I write in the console:</p>\n\n<pre><code>/opt/dklab_realplexor/dklab_realplexor.int start\n</code></pre>\n\n<p>Everything is OK, the service is started. If you create a service file and do this:</p>\n\n<pre><code>systemctl start realplexor\n</code></pre>\n\n<p>that service falls into the error (in this case does not write or where for some reason) and do not create PID file. Tell me, because of what it can be? Inside dklab_realplexor.int run perl script with parameters.</p>\n\n<pre><code>cd $CWD &amp;&amp; $BIN $CONF -p $PIDFILE 2&gt;&amp;1 | logger -p `eval\" echo $LOGPRI \"` -t `eval\" echo $LOGTAG \"` &amp;\n</code></pre>\n\n<p>Full service file:</p>\n\n<pre><code>[Unit]\nDescription=realplexor\n\n[Service]\nType=forking\nPIDFile=/var/run/dklab_realplexor_dklab_realplexor.conf.pid\nWorkingDirectory=/opt/dklab_realplexor\n\nUser=root\nGroup=root\n\nEnvironment=RACK_ENV=production\n\nOOMScoreAdjust=-1000\n\nExecStart=/opt/dklab_realplexor/dklab_realplexor.int start\nExecStop=/opt/dklab_realplexor/dklab_realplexor.int stop\nExecReload=/opt/dklab_realplexor/dklab_realplexor.int reload\nTimeoutSec=5000\n\n[Install]\nWantedBy=multi-user.target \n</code></pre>\n\n<p>Tell me, please, in what side to dig?</p>\n"}, {"tags": ["perl", "datetime", "difference"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1479032979, "post_id": 40572610, "comment_id": 68381252, "body": "BTW, <code>use warnings</code> tells me <code>Scalar value @updateDateFields[0] better written as $updateDateFields[0]</code> etc."}, {"owner": {"reputation": 381, "user_id": 5481641, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0051ad4522feb2e1581d70e6b7625520?s=128&d=identicon&r=PG&f=1", "display_name": "dmance", "link": "https://stackoverflow.com/users/5481641/dmance"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1479034456, "post_id": 40572610, "comment_id": 68381626, "body": "Wow, you&#39;re right, but it loads my app so fast i couldnt catch it, thanks a lot for the feedback"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479050628, "post_id": 40572610, "comment_id": 68386287, "body": "I suggest that you take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1479032908, "creation_date": 1479032908, "answer_id": 40572829, "question_id": 40572610, "link": "https://stackoverflow.com/questions/40572610/perl-datetime-duration-format-not-displaying-years/40572829#40572829", "title": "Perl DateTime duration format not displaying years", "body": "<p>You need to enable the <code>normalise</code> option in the <code>DateTime::Format::Duration</code> object, like this</p>\n\n<pre><code>my $dfd = DateTime::Format::Duration-&gt;new(\n    pattern   =&gt; '%Y years, %m months, %e days',\n    normalise =&gt; 1,\n);\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 5481641, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0051ad4522feb2e1581d70e6b7625520?s=128&d=identicon&r=PG&f=1", "display_name": "dmance", "link": "https://stackoverflow.com/users/5481641/dmance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 40572829, "answer_count": 1, "score": 2, "last_activity_date": 1479033714, "creation_date": 1479031178, "last_edit_date": 1479033714, "question_id": 40572610, "link": "https://stackoverflow.com/questions/40572610/perl-datetime-duration-format-not-displaying-years", "title": "Perl DateTime duration format not displaying years", "body": "<p>I'm having troubles with the difference calculation between two dates.</p>\n\n<pre><code>my $todayDate = DateTime-&gt;now;\nmy @updateDateFields = split /\\//, $proteinObj-&gt;{lastUpdate}; #yyyy/mm/dd\n\nmy $updateDateTime = DateTime-&gt;new(\n    year =&gt; @updateDateFields[0],\n    month=&gt; @updateDateFields[1],\n    day=&gt; @updateDateFields[2]\n);\n\nmy $daysSinceLastUpdate = $todayDate - $updateDateTime;\n\nmy $dfd = DateTime::Format::Duration-&gt;new(pattern =&gt; '%Y years, %m months, %e days');\nprint \"Last update was: \". $dfd-&gt;format_duration($daysSinceLastUpdate). \" ago.\\n\";\n</code></pre>\n\n<p>And the output is this:</p>\n\n<blockquote>\n  <p>Last update date:     2015/01/13 Last update was: 0 years, 22 months, 0\n  days ago.</p>\n</blockquote>\n\n<p>It does't display 1 years, 10 months, 0 days ago.</p>\n"}, {"tags": ["sql", "perl", "tsql", "ssis"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1479009751, "post_id": 40570182, "comment_id": 68376943, "body": "Too much info, Boil this down to small sample input, required output from that same input, current code, current output/error msgs and minimal comments about where you are confused. Good luck."}, {"owner": {"reputation": 37365, "user_id": 5683823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8551ed09606092a75f36b0638e5c318f?s=128&d=identicon&r=PG&f=1", "display_name": "mathguy", "link": "https://stackoverflow.com/users/5683823/mathguy"}, "edited": false, "score": 0, "creation_date": 1479033878, "post_id": 40570182, "comment_id": 68381480, "body": "Please note the tags at the bottom of your post. You set them when you create the question (and the site &quot;guesses&quot; and includes irrelevant ones if you don&#39;t take the time to look). You have &quot;oracle&quot; which I will go ahead and delete, but that is your job when you post a question!"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1479031721, "creation_date": 1479031721, "answer_id": 40572682, "question_id": 40570182, "link": "https://stackoverflow.com/questions/40570182/translate-perl-script-to-t-sql/40572682#40572682", "title": "Translate Perl Script to T-SQL", "body": "<p>The <code>encodeValue</code> subroutine is a simple URL-encoding algorithm, with additional steps to convert single and double quotes to their equivalent HTML entities. You need to write Transact-SQL code to decode those steps in reverse order, so the first thing that must be done is to replace all <code>%7f</code>-type sequences with their equivalent characters</p>\n\n<p>You should look at <a href=\"http://www.codeproject.com/Articles/1005508/URL-Decode-in-T-SQL\" rel=\"nofollow\"><em>URL Decode in T-SQL</em></a> for code to do that. It supports the full UTF-8 character set. You could remove all the <code>ELSE IF @Byte1Value</code> blocks to support only 7-bit ASCII if you wish, but it will work fine for you as it stands</p>\n\n<p>The remaining conversions of single and double-quotes and spaces can be undone using <code>REPLACE</code> calls, which I trust you don't need help with. The original <code>decodeValue</code> subroutine restores only double-quotes and spaces, leaving single-quotes as <code>&amp;#39;</code>, so I don't know whether you would want to replicate that behaviour</p>\n"}], "owner": {"reputation": 5, "user_id": 7151697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bba4073a0b33058bb2e7b9f41a5c822?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Thorne", "link": "https://stackoverflow.com/users/7151697/steven-thorne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1479033886, "creation_date": 1479006750, "last_edit_date": 1479033886, "question_id": 40570182, "link": "https://stackoverflow.com/questions/40570182/translate-perl-script-to-t-sql", "title": "Translate Perl Script to T-SQL", "body": "<p>Ok - I need help from a Perl Guru on this one. A co-worker provided me code from a Perl application they support and how it encodes values before it writes the data to Oracle. Don't ask me why they did this encoding (appears to be for special characters). The values are being written to a CLOB in Oracle. I need an equivalent decode for use in an SSIS package in SQL Server.</p>\n\n<p>Basically I am reading the data from the Oracle database using an SSIS package and need to decode the values. The \"+\" sign between words is easy with a replace statement (not sure that is the best way, but seems to work so far). </p>\n\n<p>This one is beyond my skill set, because my Perl script skills are limited (yes I have done some reading, but not turning out to be as easy as I thought since I don't know Perl very well). I am only interested in decoding the string not encoding. </p>\n\n<p>BTW as a hint to this, I know that %29 equals a \")\" sign. Looks to be using regex, but I am not well versed in using that either (I know I need to learn it).</p>\n\n<pre><code>sub decodeValue($)\n    {\n        my $varRef = shift;\n\n        ${$varRef} =~  tr/+/ /;\n        ${$varRef} =~ s/%([a-fA-F0-9]{2})/pack(\"C\",hex($1))/eg;\n        ${$varRef} =~ tr/\\cM//;\n        ${$varRef} =~ s/\"/\\&amp;#34;/g;\n        return;\n    }\n\n\nsub encodeValue($)\n    {\n        my $varRef = shift;\n\n        # ${$varRef} =~  tr/ /+/;\n        ${$varRef} =~  s/\"/\\&amp;#34;/g;\n        ${$varRef} =~  s/'/\\&amp;#39;/g;\n        ${$varRef} =~  s/(\\W)/sprintf( \"%%%x\", ord($1) )/eg;\n        return;\n    }\n</code></pre>\n"}, {"tags": ["perl", "pattern-matching"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479095171, "post_id": 40569931, "comment_id": 68398888, "body": "@divesh-rastogi I updated a little, in particular rephrased the comments on <code>&#47;g</code> and added a description of the regex. You may want to look over it again.  I&#39;d suggest to read up on basics -- it won&#39;t take long at all but will make life far easier and nicer :).  Thank you for the attribution."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1479117105, "last_edit_date": 1479117105, "creation_date": 1479004096, "answer_id": 40569931, "question_id": 40569860, "link": "https://stackoverflow.com/questions/40569860/check-if-a-patteren-contains-more-than-one-string-type-array/40569931#40569931", "title": "Check if a patteren contains more than. one string( type array)", "body": "<p>A few basic rules and terminology. A regex match is done on a string, which is in a single-valued variable, a <em>scalar</em>.  An <em>array</em> variable is associated with a collection of items,  representing a <em>list</em> of values. Perhaps you can start with <a href=\"http://perldoc.perl.org/perlintro.html#Perl-variable-types\" rel=\"nofollow noreferrer\">Perl-variable-types</a> in <a href=\"http://perldoc.perl.org/perlintro.html\" rel=\"nofollow noreferrer\">perlintro</a>, and for regex with <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlretut</a>.</p>\n\n<p>In the example you show, the variable <code>$_</code> contains the string to be checked for the pattern. </p>\n\n<p>The match operator returns a list of matches captured by the parentheses in the pattern. With <code>/g</code> modifier the behavior is more complex, and it depends on whether the regex is used in scalar or list <em>context</em>. See this under <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">Regexp-Quote-Like-Operators in perlop</a>.  In short, assign that list of matches to an array (no need for <code>/g</code> then)</p>\n\n<pre><code>my @matches = $_ =~ /#define\\s+(\\S+)\\s*(.*)/i;\n</code></pre>\n\n<p>and you can check the number of elements in the array</p>\n\n<pre><code>if (@matches == 0) {\n    print \"There were no matches\\n\";\n}\nelsif (@matches == 1) {\n    print \"Found one match: $matches[0]\\n\";\n}\nelse {\n    print \"Found more than one: @matches\\n\";\n}\n</code></pre>\n\n<p>Another way to check for an empty array is <code>if (not @matches)</code>. </p>\n\n<p>This captures a word <code>\\S+</code> and a (possible) remainder of the line <code>.*</code>, when preceded by <code>#define</code> with some space. Note that the regex allows this to come anywhere in the string. If, in fact, it must be at the beginning then add the anchor with optional space at the beginning, <code>/^\\s*.../</code></p>\n"}], "owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40569931, "answer_count": 1, "score": -1, "last_activity_date": 1479117105, "creation_date": 1479003332, "last_edit_date": 1479005299, "question_id": 40569860, "link": "https://stackoverflow.com/questions/40569860/check-if-a-patteren-contains-more-than-one-string-type-array", "title": "Check if a patteren contains more than. one string( type array)", "body": "<p>How to check if a pattern is an array( contains more than one string) or just a single string?</p>\n\n<p>Consider the following example, </p>\n\n<pre><code>If ( $_ =~ /#define\\s+(\\S+)\\s*(.*)/gi )\n\n.. \n#Check if $2 is array or a single string \nIf ( $2 \n</code></pre>\n\n<p>If it's array than split them into patterns else keep it as it ?</p>\n\n<p>Please suggest.</p>\n\n<p>Regards, Div</p>\n"}, {"tags": ["perl", "unit-testing", "tap"], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 9, "last_activity_date": 1479018584, "last_edit_date": 1479018584, "creation_date": 1479005208, "answer_id": 40570048, "question_id": 40569822, "link": "https://stackoverflow.com/questions/40569822/testmore-is-deeply-does-not-pretty-print-array-hashrefs-when-comparing-against/40570048#40570048", "title": "Test::More is_deeply does not pretty-print array/hashrefs when comparing against strings", "body": "<p><strong><em>tl;dr</em></strong> Use <code>is_deeply($this, $that) || diag explain $this</code> on a case by case basis.</p>\n\n<p>Hi. <a href=\"https://github.com/Test-More/test-more/blame/master/lib/Test/More.pm#L1100\" rel=\"nofollow noreferrer\">I'm the one to blame for <code>is_deeply</code></a>. It's deliberately designed to not vomit out a potentially enormous data structure when something fails. Instead it stops at the first difference. For this reason you probably don't want to globally make <code>is_deeply</code> dump its arguments. If the types are wrong, if you expected apples and got zebras, there's not much point in knowing how many zebras and their life stories.</p>\n\n<p>There is no supported way to change its diagnostics, sorry, and it's unlikely there will be. Test::More is being replaced by <a href=\"https://metacpan.org/pod/Test2\" rel=\"nofollow noreferrer\">Test2</a>. Test::More is already implemented on top of Test2, but doesn't take advantage of its features for backwards compatibility reasons.</p>\n\n<p>You can use <a href=\"https://metacpan.org/pod/Test2::Bundle::More\" rel=\"nofollow noreferrer\">Test2::Bundle::More</a> for more direct access to Test2's features, but it is not 100% compatible, and it displays similar to how <code>is_deeply</code> does. However, it is much more flexible and you can probably figure out a way to alter its diagnostic behavior. Look into <a href=\"https://metacpan.org/pod/Test2::Compare\" rel=\"nofollow noreferrer\">Test2::Compare</a>.</p>\n\n<hr>\n\n<p>Back to your problem... use <a href=\"https://metacpan.org/pod/Test::More#explain\" rel=\"nofollow noreferrer\"><code>explain</code></a> on a case by case basis. <code>explain</code> uses Data::Dumper, configured properly, to dump the data structure. Since Test::More functions return whether they passed or failed, you can write <code>is_deeply($this, $that) || diag explain $this</code>. For example...</p>\n\n<pre><code>my $stuff = [5, 6, 8];\nis_deeply $stuff, \"\" || diag explain $stuff;\n\nnot ok 2\n#   Failed test at /Users/schwern/tmp/test.plx line 17.\n#     Structures begin differing at:\n#          $got = ARRAY(0x7f80b3803078)\n#     $expected = ''\n# [\n#   5,\n#   6,\n#   8\n# ]\n</code></pre>\n\n<p><code>diag</code> is how you print failure diagnostics (it's a more polite way to print to STDERR).</p>\n"}, {"comments": [{"owner": {"reputation": 2444, "user_id": 584940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4fd36b5abead93bfd3575c08cd923e9?s=128&d=identicon&r=PG", "display_name": "Randall", "link": "https://stackoverflow.com/users/584940/randall"}, "edited": false, "score": 0, "creation_date": 1495722639, "post_id": 42829896, "comment_id": 75380109, "body": "If you want a side-by-side diff of the data structures, this is really nice.  If you&#39;re in development, though, and the data structure has changed such you just want to replace the definition in the test module, <code>diag explain $got</code> provides an easier output to copy and paste."}], "tags": [], "owner": {"reputation": 2776, "user_id": 137948, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/69ede0d2d1b8ef65b841c031a7bac2e5?s=128&d=identicon&r=PG", "display_name": "Will Sheppard", "link": "https://stackoverflow.com/users/137948/will-sheppard"}, "is_accepted": false, "score": 1, "last_activity_date": 1489656278, "creation_date": 1489656278, "answer_id": 42829896, "question_id": 40569822, "link": "https://stackoverflow.com/questions/40569822/testmore-is-deeply-does-not-pretty-print-array-hashrefs-when-comparing-against/42829896#42829896", "title": "Test::More is_deeply does not pretty-print array/hashrefs when comparing against strings", "body": "<p>Try <code>eq_or_diff( $got, $expected, $message )</code> from <a href=\"http://search.cpan.org/perldoc/Test::Differences\" rel=\"nofollow noreferrer\">Test::Differences</a>, it will print a beautiful representation of your data structures and clearly highlight the exact similarities and differences.</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 1, "accepted_answer_id": 40570048, "answer_count": 2, "score": 10, "last_activity_date": 1489656278, "creation_date": 1479002925, "question_id": 40569822, "link": "https://stackoverflow.com/questions/40569822/testmore-is-deeply-does-not-pretty-print-array-hashrefs-when-comparing-against", "title": "Test::More is_deeply does not pretty-print array/hashrefs when comparing against strings", "body": "<p>When Test::More compares like arrayrefs and hashrefs with each other, the corresponding diagnostic message is really informative and shows the first index where the structures differ, regardless of nesting depth. However, when it is comparing an arrayref or hashref to a simple scalar, it produces a stringified scalar (with a memory address and reference type) in the diagnostic message, which is harder to interpret. </p>\n\n<p>Is there a way to configure Test::More to pretty-print array or hashrefs in a custom way (such as using Data::Dumper)?</p>\n\n<p>Here's an example with two test cases. The first gives you some insight into what is present in your program but unexpected. The second informs the user of a type mismatch between the string and the arrayref, but does not print any items in the arrayref.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Test::More tests =&gt; 2;\n\nis_deeply(\n    {\n        a =&gt; [5],\n    },\n    {\n        a =&gt; [5, 6, 8],\n    },\n    'compare two hashrefs structurally (very informative output)',\n);\n\nis_deeply(\n    [5, 6, 8],\n    \"\",\n    'compare two \"incompatible\" values structurally (uninformative output)',\n);\n</code></pre>\n\n<p>And the TAP output:</p>\n\n<pre><code>1..2\nnot ok 1 - compare two hashrefs structurally (very informative output)\n#   Failed test 'compare two hashrefs structurally (very informative output)'\n#   at test-more-failure.pl line 6.\n#     Structures begin differing at:\n#          $got-&gt;{a}[1] = Does not exist\n#     $expected-&gt;{a}[1] = '6'\nnot ok 2 - compare two \"incompatible\" values structurally (uninformative output)\n#   Failed test 'compare two \"incompatible\" values structurally (uninformative output)'\n#   at test-more-failure.pl line 16.\n#     Structures begin differing at:\n#          $got = ARRAY(0x7fe66b82cde8)\n#     $expected = ''\n# Looks like you failed 2 tests of 2.\n</code></pre>\n\n<p>Looking at the implementation of <code>is_deeply</code> in Test::More, there doesn't seem to be way to use a custom pretty-printer or configure the verbosity of the module. At least none that's obvious to me.</p>\n\n<p>Here is what happens when we compare a reference and non-reference:</p>\n\n<p><a href=\"https://metacpan.org/source/EXODIST/Test-Simple-1.302062/lib/Test/More.pm#L1121\" rel=\"noreferrer\">https://metacpan.org/source/EXODIST/Test-Simple-1.302062/lib/Test/More.pm#L1121</a></p>\n\n<p>It seems to be calling <code>_format_stack({vals =&gt; [...]})</code> instead of <code>_format_stack(...)</code></p>\n\n<p><a href=\"https://metacpan.org/source/EXODIST/Test-Simple-1.302062/lib/Test/More.pm#L1139\" rel=\"noreferrer\">https://metacpan.org/source/EXODIST/Test-Simple-1.302062/lib/Test/More.pm#L1139</a></p>\n"}, {"tags": ["perl", "file", "unix", "replace", "sed"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1478977777, "creation_date": 1478977777, "answer_id": 40566604, "question_id": 40566291, "link": "https://stackoverflow.com/questions/40566291/replace-a-string-from-first-line-on-multiple-files/40566604#40566604", "title": "replace a string from first line on multiple files", "body": "<ol>\n<li><p>Use <code>-i</code> to change the files instead of just outputting the changed lines.</p></li>\n<li><p>Use a different delimiter than <code>/</code> if you want to use <code>/</code> in the regex (or use <code>\\/</code> in the regex).</p></li>\n<li><p>Use <code>\\.</code> to match a dot literally, <code>.</code> matches anything.</p>\n\n<pre><code>sed -i~ -e '1s=supersonic\\./=supersonic.com/=' *\n</code></pre></li>\n</ol>\n\n<p>Some versions of <code>sed</code> don't support <code>-i</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "is_accepted": true, "score": 1, "last_activity_date": 1479145833, "creation_date": 1479145833, "answer_id": 40594843, "question_id": 40566291, "link": "https://stackoverflow.com/questions/40566291/replace-a-string-from-first-line-on-multiple-files/40594843#40594843", "title": "replace a string from first line on multiple files", "body": "<p>You are very close with your code, but you need to account for the trailing <code>/</code> char after the <code>.</code> char. </p>\n\n<p>Assuming you are using a modern <code>sed</code> with the <code>-i</code> (inplace-edit) option you can do</p>\n\n<pre><code>sed -i '1s@supersonic\\./@supersonic.com/@' * \n</code></pre>\n\n<p>Note that rather than have to escape <code>/</code> inside of the <code>s/srchpat\\/withSlash/replaceStr/'</code>, you can use another char after the the <code>s</code> command as the delimiter, here I use <code>s@...@...@</code>. If your search pattern had a <code>@</code> char, then you would have to use a different char.</p>\n\n<p>Some older versions of <code>sed</code> need to you to escape the alternate delimiter at the first use, so</p>\n\n<pre><code>     sed 's\\@srchStr@ReplStr@' file \n</code></pre>\n\n<p>for those cases.</p>\n\n<p>If you're using a <code>sed</code> that doesn't support the <code>-i</code> options, then \nyou'll need to loop on your file, and manage the tmp files, i.e.</p>\n\n<pre><code> for f in *.html ; do\n    sed '1s@supersonic\\./@supersonic.com/@' \"$f\" &gt; /tmp/\"$f\".fix \\\n    &amp;&amp; /bin/mv /tmp/\"$f\".fix \"$f\"\n done\n</code></pre>\n\n<p><strong>Warning</strong></p>\n\n<p>But as you're talking about 10,000+files, you'll want to do some testing before using either of these solutions. Copy a good random set of those files to /tmp/mySedTest/ dir and run one of these solutions there to make sure there are no surprises. </p>\n\n<p>And you're likely to blow out the cmd-line MAX_SIZE with 10,000+ files, so read about find and xargs. There are many posts here about <code>[sed] find xargs</code>. Check them out if needed.</p>\n\n<p>IHTH</p>\n"}], "owner": {"reputation": 91, "user_id": 2553748, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/887d9971b127552dd1ad9c2123b7baf0?s=128&d=identicon&r=PG", "display_name": "Krishna Chikkala", "link": "https://stackoverflow.com/users/2553748/krishna-chikkala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 40594843, "answer_count": 2, "score": 0, "last_activity_date": 1479145833, "creation_date": 1478975728, "question_id": 40566291, "link": "https://stackoverflow.com/questions/40566291/replace-a-string-from-first-line-on-multiple-files", "title": "replace a string from first line on multiple files", "body": "<p>I got 10,000 text files which I have to make changes.</p>\n\n<p>First line on every file contains a url.</p>\n\n<p>By mistake for few files url missking 'com'</p>\n\n<pre><code>eg:\n1) http://www.supersonic./psychology \n2) http://www.supersonic./social\n3) http://www.supersonic.com/science\n</code></pre>\n\n<p>my task is to check and add 'com' if it is missing </p>\n\n<pre><code>eg:\n    1) http://www.supersonic.com/psychology \n    2) http://www.supersonic.com/social\n    3) http://www.supersonic.com/science\n</code></pre>\n\n<p>all urls are of same domain(supersonic.com)</p>\n\n<p>can you suggest me any fast and easy approach ?</p>\n\n<p>Tried this : replacing <code>supersonic./</code> with <code>supersonic.com</code></p>\n\n<pre><code>sed -e '1s/supersonic.//supersonic.com/' *\n</code></pre>\n\n<p>no change in the output.</p>\n"}, {"tags": ["perl", "perl-module", "levenshtein-distance", "edit-distance"], "answers": [{"comments": [{"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 3, "creation_date": 1478964405, "post_id": 40564309, "comment_id": 68365610, "body": "I&#39;m not sure I agree. I mean, yes, you <i>can</i> do this by finding the longest common subsequence and then comparing; but the longest common subsequence problem involves dynamic programming (hence extra storage and so on) and quadratic time, whereas the OP&#39;s problem can be solved with a greedy algorithm in linear time."}, {"owner": {"reputation": 16493, "user_id": 6770384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXCNG.png?s=128&g=1", "display_name": "Socowi", "link": "https://stackoverflow.com/users/6770384/socowi"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1478965477, "post_id": 40564309, "comment_id": 68365967, "body": "@ruakh Oops, seems like I missed the obvious and fast solution. Many thanks to the two of you!"}, {"owner": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 0, "creation_date": 1488904230, "post_id": 40564309, "comment_id": 72432795, "body": "@ChristofferHammarstr&#246;m such a simple solution, nice one. I found it a little hard to work out though as <code>is_subsequence</code> through me off since <code>abc</code> is not a subsequence of <code>XabYcZ</code> for example. Might I suggest renaming the sub to something like <code>is_expandable_into</code> ?"}, {"owner": {"reputation": 24016, "user_id": 233014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XyJIf.jpg?s=128&g=1", "display_name": "Christoffer Hammarstr&#246;m", "link": "https://stackoverflow.com/users/233014/christoffer-hammarstr%c3%b6m"}, "reply_to_user": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 2, "creation_date": 1488905155, "post_id": 40564309, "comment_id": 72433400, "body": "@PeterR: <code>abc</code> is a subsequence of <code>XabYcZ</code>, but it is not a substring. See <a href=\"https://en.wikipedia.org/wiki/Subsequence\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Subsequence</a> which says &quot;The subsequence should not be confused with substring&quot;"}], "tags": [], "owner": {"reputation": 24016, "user_id": 233014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XyJIf.jpg?s=128&g=1", "display_name": "Christoffer Hammarstr&#246;m", "link": "https://stackoverflow.com/users/233014/christoffer-hammarstr%c3%b6m"}, "is_accepted": true, "score": 3, "last_activity_date": 1479056422, "last_edit_date": 1479056422, "creation_date": 1478964066, "answer_id": 40564309, "question_id": 40564156, "link": "https://stackoverflow.com/questions/40564156/perl-module-to-check-whether-a-string-was-created-by-inserting-text-into-another/40564309#40564309", "title": "Perl module to check whether a string was created by inserting text into another string", "body": "<pre><code>sub is_subsequence {\n    my ($needles, $haystack) = @_;\n    my $found = 0;\n    for my $needle (split '', $needles) {               # for each character $needle in $needles\n        $found = 1 + index $haystack, $needle, $found;  # find it after the previous one in $haystack\n        return 0 unless $found;                         # return false if we can't\n    }\n    return 1;                                           # return true if we found all $needles in $haystack\n}\n</code></pre>\n\n<hr>\n\n<pre><code>use Test::More tests =&gt; 6;              # 1..6\nis 1, is_subsequence(\"abc\", \"abcX\");    # ok 1\nis 1, is_subsequence(\"abc\", \"XabYcZ\");  # ok 2\nis 0, is_subsequence(\"abc\", \"abX\");     # ok 3\nis 0, is_subsequence(\"abc\", \"cab\");     # ok 4\nis 1, is_subsequence(\"abc\", \"cabc\");    # ok 5\nis 1, is_subsequence(\"\", \"anything\");   # ok 6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 2, "creation_date": 1478968402, "post_id": 40564602, "comment_id": 68366881, "body": "You should use a non-greedy quantifier <code>.*?</code> to avoid catastrophic backtracking."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1478969997, "post_id": 40564602, "comment_id": 68367477, "body": "@nwellnhof: Changing to non-greedy quantifiers doesn&#39;t in general result in an improvement in backtracking. For some strings, greedy quantifiers may produce a faster result."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478971721, "post_id": 40564602, "comment_id": 68368053, "body": "@Borodin In this specific case, greedy quantifers are dangerous. Try for yourself: <code>perl -MBenchmark=:all -e&quot;cmpthese(100000, { greedy =&gt; sub { &#39;aaaaaaaaaa&#39; =~ &#47;a.*a.*a.*a.*a.*a.*a.*a.*a.*a&#47; }, lazy =&gt; sub { &#39;aaaaaaaaaa&#39; =~ &#47;a.*?a.*?a.*?a.*?a.*?a.*?a.*?a.*?a.*?a&#47; } });&quot;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1478972394, "post_id": 40564602, "comment_id": 68368271, "body": "@nwellnhof: That is an artificial test case designed to exacerbate the problem. Try it with the OP&#39;s own data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1478977101, "post_id": 40564602, "comment_id": 68369723, "body": "@nwellnhof: <code>perl -MBenchmark=:all -e&quot;cmpthese(1E7, { greedy =&gt; sub { &#39;axxxxxxxxxxxxxxxxxxxxxxxxxxxxxxaaaa&#39; =~ &#47;a.*a.*a.*a.*a.*a.*a.*a.*a.*a&#47; }, lazy =&gt; sub { &#39;axxxxxxxxxxxxxxxxxxxxxxxxxxxxxxaaaa&#39; =~ &#47;a.*?a.*?a.*?a.*?a.*?a&#47; } });&quot;</code>"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478978116, "post_id": 40564602, "comment_id": 68370031, "body": "@Borodin I don&#39;t see what you&#39;re getting at. Your example is basically a tie between lazy and greedy quantifiers on my machine. For the type of the regex in question, lazy quantifiers should be at least as fast as greedy ones, but they avoid pathological cases. Even with real world data like <code>banana</code>, they can be considerably faster."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": -1, "last_activity_date": 1478978417, "last_edit_date": 1478978417, "creation_date": 1478965749, "answer_id": 40564602, "question_id": 40564156, "link": "https://stackoverflow.com/questions/40564156/perl-module-to-check-whether-a-string-was-created-by-inserting-text-into-another/40564602#40564602", "title": "Perl module to check whether a string was created by inserting text into another string", "body": "<pre class=\"lang-perl prettyprint-override\"><code>{\n    my $last_base;\n    my $last_re;\n\n    sub is_succ {\n        my ($base, $succ) = @_;\n        my $re;\n\n        if ($base eq $last_base) {\n            $re = $last_re;\n        }\n        else {\n            $last_base = $base;\n            $last_re = $re = join(\".*?\", map { quotemeta($_) } split(\"\", $base));\n        }\n\n        return $succ =~ /$re/;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1945, "user_id": 5669174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XGSyr.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5669174/mike"}, "is_accepted": false, "score": 1, "last_activity_date": 1478966930, "creation_date": 1478966930, "answer_id": 40564808, "question_id": 40564156, "link": "https://stackoverflow.com/questions/40564156/perl-module-to-check-whether-a-string-was-created-by-inserting-text-into-another/40564808#40564808", "title": "Perl module to check whether a string was created by inserting text into another string", "body": "<pre><code>sub isSucc {\n my($base, $succ)=@_;\n $base=~s/./quotemeta($&amp;).\".*?\"/ge;\n $succ =~ $base;\n}\n</code></pre>\n\n<p>Create regular expression <code>a.*?b.*?c.*?</code> for string <code>abc</code> and test <code>$succ</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1591964295, "post_id": 61759828, "comment_id": 110260977, "body": "Note that you can&#39;t blindly add characters from <code>needle</code> to a regex. You need to escape the meta characters first, as was already done over three years ago by another answer here."}], "tags": [], "owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "is_accepted": false, "score": -1, "last_activity_date": 1589311639, "last_edit_date": 1589311639, "creation_date": 1589309874, "answer_id": 61759828, "question_id": 40564156, "link": "https://stackoverflow.com/questions/40564156/perl-module-to-check-whether-a-string-was-created-by-inserting-text-into-another/61759828#61759828", "title": "Perl module to check whether a string was created by inserting text into another string", "body": "<p>Power of regex can make this task quite simple</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $needle = 'abc';\n\nwhile(&lt;DATA&gt;) {\n    chomp;\n    say \"'$needle' in '$_'\" if search_needle($needle,$_);\n}\n\nsay \"'' in 'Anything'\" if search_needle('','Anything');\n\nsub search_needle {\n    my $needle = shift;\n    my $haystack = shift;\n\n    my $re = join('.*?', split('',$needle));\n\n    return $haystack =~ /$re/;\n\n}\n\n__DATA__\nabcX\nXabYcZ\nabX\ncab\ncabc\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>'abc' in 'abcX'\n'abc' in 'XabYcZ'\n'abc' in 'cabc'\n'' in 'Anything'\n</code></pre>\n"}], "owner": {"reputation": 16493, "user_id": 6770384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXCNG.png?s=128&g=1", "display_name": "Socowi", "link": "https://stackoverflow.com/users/6770384/socowi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 40564309, "answer_count": 4, "score": 1, "last_activity_date": 1589311639, "creation_date": 1478963062, "last_edit_date": 1589283064, "question_id": 40564156, "link": "https://stackoverflow.com/questions/40564156/perl-module-to-check-whether-a-string-was-created-by-inserting-text-into-another", "title": "Perl module to check whether a string was created by inserting text into another string", "body": "<h2>Problem</h2>\n\n<p>I have two strings <code>$base</code> and <code>$succ</code> and want to check whether <code>$succ</code> can be created from <code>$base</code> by inserting arbitrary strings at arbitrary positions.</p>\n\n<p>Some examples, written as isSucc(<code>$base</code>, <code>$succ</code>):</p>\n\n<ul>\n<li>isSucc(\"abc\", \"abcX\") is <strong>true</strong>, since we can insert X at the end of abc.</li>\n<li>isSucc(\"abc\", \"XabYcZ\") is <strong>true</strong>, since we can insert <strong>X</strong>ab<strong>Y</strong>c<strong>Z</strong>.</li>\n<li>isSucc(\"abc\", \"abX\") is <strong>false</strong>, since c was deleted.</li>\n<li>isSucc(\"abc\", \"cab\") is <strong>false</strong>, since c (the one at the end of abc) was deleted.</li>\n<li>isSucc(\"abc\", \"cabc\") is <strong>true</strong>, since we can insert c at the beginning of abc.</li>\n<li>isSucc(\"\", \"anything\") is <strong>true</strong>, since we just have to insert \"anything\".</li>\n</ul>\n\n<p>We can assume, that <code>$base</code> and <code>$succ</code> do not contain any (vertical) withespace. Usually we have <code>length($base) &lt; length($succ) &lt; 1000</code>. Good performance is not critical but would be nice to have.</p>\n\n<p>I already know one way to implement <code>isSucc</code>*.</p>\n\n<h2>Question</h2>\n\n<ul>\n<li>Is there a perl-module that defines something similar to <code>isSucc</code>?</li>\n<li>Does someone has an easier/faster/alternative implementation* of <code>isSucc</code>?</li>\n</ul>\n\n<h2>* My Approach</h2>\n\n<p>Compute the edit/<a href=\"https://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"nofollow noreferrer\">Levenshtein distance</a> with a custom cost model (<em>cost(Insertion)=0, cost(Deletion)=cost(substitution)=1</em>). Then check whether the edit distance is 0.</p>\n\n<h2>Comparing the Answers</h2>\n\n<p>I wanted to compare the three solutions <a href=\"https://stackoverflow.com/a/40564309/6770384\"><em>loop</em></a>, <em>greedy matching</em>, and <em>non-greedy matching</em>, but the matching methods often took more than 100 times as long as the loop solution so I aborted the tests. Nevertheless \u2013 or perhaps exactly for that reason \u2013 we have a clear winner: The loop solution.<br>\nBig thanks to Christoffer Hammarstr\u00f6m.</p>\n"}, {"tags": ["perl", "moose"], "answers": [{"tags": [], "owner": {"reputation": 6566, "user_id": 748019, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/939cc882ebaf28150d4f716b933d5960?s=128&d=identicon&r=PG", "display_name": "stevenl", "link": "https://stackoverflow.com/users/748019/stevenl"}, "is_accepted": false, "score": 3, "last_activity_date": 1478984062, "creation_date": 1478984062, "answer_id": 40567559, "question_id": 40563113, "link": "https://stackoverflow.com/questions/40563113/automatically-create-attribute-object-in-perl-moose-without-using-buildargs/40567559#40567559", "title": "Automatically create attribute object in perl Moose without using BUILDARGS", "body": "<p>You could use type coercion.</p>\n\n<ol>\n<li><p>Define the type and coercion somewhere (the Moose Best Practices recommend putting all of your type definitions in a single module):</p>\n\n<pre><code>package My::Types;\nuse Moose::Util::TypeConstraints;\nclass_type 'Obj2Class', { class =&gt; 'Obj2' };\ncoerce 'Obj2Class', from 'HashRef', via { Obj2-&gt;new($_) };\n</code></pre></li>\n<li><p>Modify <code>backend</code> with the new type definition and make it coercible:</p>\n\n<pre><code>use My::Types;\nhas backend =&gt; (\n    is       =&gt; 'ro',\n    isa      =&gt; 'Obj2Class',\n    coerce   =&gt; 1,\n    required =&gt; 1,\n);\n</code></pre></li>\n</ol>\n\n<p>And that should be it.</p>\n"}], "owner": {"reputation": 1405, "user_id": 353563, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1714b4723e834aaca7d746ce4219e711?s=128&d=identicon&r=PG", "display_name": "Sasa", "link": "https://stackoverflow.com/users/353563/sasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478984062, "creation_date": 1478955906, "question_id": 40563113, "link": "https://stackoverflow.com/questions/40563113/automatically-create-attribute-object-in-perl-moose-without-using-buildargs", "title": "Automatically create attribute object in perl Moose without using BUILDARGS", "body": "<p>I want to create complete object hierarchy from hashref WITHOUT using BUILDARGS. Is there a possible and easy way to do it?</p>\n\n<pre><code>#!/usr/bin/perl\nuse v5.14;\nuse strict;\nuse warnings;\n{\n    package Obj1;\n\n    use v5.14;\n    use strict;\n    use warnings;\n    use Moose;\n\n    has 'backend' =&gt; (\n        is          =&gt; 'ro',\n        isa         =&gt; 'Obj2',\n        required    =&gt; 1,\n    );\n\n    no Moose;\n    __PACKAGE__-&gt;meta-&gt;make_immutable;\n\n    1;\n}\n{\n    package Obj2;\n\n    use v5.14;\n    use strict;\n    use warnings;\n    use Moose;\n\n    has 'flag' =&gt; (\n        is          =&gt; 'ro',\n        isa         =&gt; 'Bool',\n        required    =&gt; 1,\n    );\n\n    no Moose;\n    __PACKAGE__-&gt;meta-&gt;make_immutable;\n\n    1;\n}\n\nmy $data = {\n    backend =&gt; {\n        flag =&gt; 1\n    }\n};\n\nmy $s = Obj1-&gt;new($data);\nsay $s-&gt;backend-&gt;flag;\n</code></pre>\n\n<p>So far I have been using BUILDARGS, but I suppose this could be somewhat automated, right? Here is simple example, in my code there is deeper hierarchy and it would be really nice if I could stop writing BUILDARGS for each class. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1479003284, "post_id": 40562885, "comment_id": 68375961, "body": "What is the use case for wanting to do this?"}, {"owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479011632, "post_id": 40562885, "comment_id": 68377212, "body": "My internal object library generates accessors for properties based on data supplied via an attribute applied to a subroutine. The name of the subroutine is the name of the property, while it will be transformed into a sub that handles getting and setting the property. The library allows to supply custom getters and setters, of course. The usual case is to specify either one in a named parameter, and take the code for the other from the sub&#39;s body. But for that to work, I have to distinguish between a sub w/ no body and a regular sub, so in the first case I could generate an implicit accessor."}], "answers": [{"tags": [], "owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "is_accepted": true, "score": 4, "last_activity_date": 1479016275, "last_edit_date": 1479016275, "creation_date": 1479011215, "answer_id": 40570562, "question_id": 40562885, "link": "https://stackoverflow.com/questions/40562885/distinguishing-empty-subroutines-from-subroutines-with-at-least-some-minimal-cod/40570562#40570562", "title": "Distinguishing empty subroutines from subroutines with at least some minimal code", "body": "<p>I think I've found a solution w/o deparsing or size tests. Using the B module, I can query</p>\n\n<pre><code>my $cv=B::svref_2object($code);\nundef $code if ref $cv-&gt;START eq 'B::NULL';\n</code></pre>\n\n<p>where <code>if ref $cv-&gt;START eq 'B::NULL'</code> in my, admittedly limited testing, is true <em>only and only</em> if a sub was <em>only</em> predeclared. It even filters out subs with no statements like <code>sub x{}</code>, exactly as I desire, unlike the former solution. My only gripe with this are possible differences across different Perl versions, but I couldn't find such info yet; I'm sticking to my current version anyway for the most part.</p>\n\n<p>I've found it by a blind guess, I got pointed in the right direction by a book named \"Perl Hacks: Tips &amp; Tools for Programming, Debugging, and Surviving\" by Chromatic, Damian Conway and Curtis Poe (<a href=\"https://books.google.ru/books?id=CLKbAgAAQBAJ&amp;lpg=PA204&amp;ots=0QhsjAuvIB&amp;dq=perl%20get%20the%20count%20of%20a%20subroutine%20opcodes&amp;hl=ru&amp;pg=PA201#v=onepage&amp;q=perl%20get%20the%20count%20of%20a%20subroutine%20opcodes&amp;f=false%20\" rel=\"nofollow noreferrer\">link</a>). It described how to find the <em>largest</em> subroutine in a module. So I hoped to rewrite the code to just get the size of a given subroutine, but the code was too heavy to be used in the project, including another CPAN module dependency. So I looked for another option, fiddled with CPAN <code>B::TerseSize</code> modules, until I found out they pretty much all use <code>B</code> in one way or another to do their thing. But looking at the documentation of the <code>B</code> module was a chore. Long story short, I just guessed <code>START</code> is the thing I'm looking for in the end, after furious printing of return values of various <code>CV</code> methods.</p>\n"}], "owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 40570562, "answer_count": 1, "score": 4, "last_activity_date": 1479016275, "creation_date": 1478954008, "last_edit_date": 1478954547, "question_id": 40562885, "link": "https://stackoverflow.com/questions/40562885/distinguishing-empty-subroutines-from-subroutines-with-at-least-some-minimal-cod", "title": "Distinguishing empty subroutines from subroutines with at least some minimal code", "body": "<p>Is it possible in a way that doesn't involve deparsing the subroutine in question via <code>B::Deparse</code> or whatever back into its source form? The task at hand is to know whether a particular subroutine reference points NOT to a predeclared one w/o an actual body (like <code>package Foo;sub x :ATTR(...); ... sub x { ... }</code>), when an attribute (via <code>Attribute::Handlers</code>) is applied to it. At first I thought the <code>$code</code> parameter will be undefined in such case, but as it turned out it is not. While deparsing can be used for this task, as such subroutines return a mere <code>';'</code> as their decompiled code via <code>B::Deparse</code>, using it for large functions has its considerations, as well as dependency on this output across all versions of Perl, used modules, etc, etc. Not pretty.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3420, "user_id": 675723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f525203adb5093c5954b43a5b6420c2?s=128&d=identicon&r=PG", "display_name": "BadZen", "link": "https://stackoverflow.com/users/675723/badzen"}, "edited": false, "score": 0, "creation_date": 1478904927, "post_id": 40557441, "comment_id": 68352930, "body": "Please post your code.   (See <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 3420, "user_id": 675723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f525203adb5093c5954b43a5b6420c2?s=128&d=identicon&r=PG", "display_name": "BadZen", "link": "https://stackoverflow.com/users/675723/badzen"}, "edited": false, "score": 1, "creation_date": 1478905213, "post_id": 40557441, "comment_id": 68353019, "body": "@BadZen The OP doesn&#39;t know how to do this, so any code he has would be irrelevant clutter. It only makes sense to ask for people&#39;s code when they&#39;re debugging a specific issue."}, {"owner": {"reputation": 3420, "user_id": 675723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f525203adb5093c5954b43a5b6420c2?s=128&d=identicon&r=PG", "display_name": "BadZen", "link": "https://stackoverflow.com/users/675723/badzen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1478905442, "post_id": 40557441, "comment_id": 68353099, "body": "@ThisSuitIsBlackNot - Quick, is OP talking about running a subroutine by name, enabling a block of code as an option, accepting the name of a routine on stdin, or giving it as an argument?   Is he C&amp;P&#39;ing from an example from somewhere else and modifying it?  Is his &quot;block of code&quot; a Perl <code>sub</code> or an actual block?  Does he want it to &quot;only run&quot; as an optional branch during a procedural execution, or as a cli dispatch? Definitely determine all those things just from what is written above and then communicate the answer back to him without a concrete example.  Just vaguely describe it in words."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1478906126, "post_id": 40557441, "comment_id": 68353291, "body": "Make a module with your block and use it -- <code>perl -MModName=proc -e &#39;proc(...)&#39;;</code>  Is this what you are asking about?"}], "owner": {"reputation": 13, "user_id": 5329102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/aca8c66d49b2b541137d9d16ed3d67e7?s=128&d=identicon&r=PG&f=1", "display_name": "Identical", "link": "https://stackoverflow.com/users/5329102/identical"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "closed_date": 1478907439, "answer_count": 0, "score": 0, "last_activity_date": 1478904734, "creation_date": 1478904734, "question_id": 40557441, "link": "https://stackoverflow.com/questions/40557441/calling-block-of-code-from-the-command-line", "closed_reason": "Duplicate", "title": "Calling block of code from the command line", "body": "<p>I have a block of code that I need to run only when I enter the procedure name in the command line. Is it possible to do this? Also , is it possible to pass arguments to a subroutine from the command line. </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1453, "user_id": 3711562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pAcnq.jpg?s=128&g=1", "display_name": "Anantha Raju C", "link": "https://stackoverflow.com/users/3711562/anantha-raju-c"}, "edited": false, "score": 1, "creation_date": 1478915302, "post_id": 40556703, "comment_id": 68355044, "body": "post what you have done so far"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1478943374, "post_id": 40556831, "comment_id": 68360050, "body": "<code>\\1</code> is only necessary within the regex itself. In the replacement text you should use <code>$1</code> instead - <code>s&#47;(?&lt;!\\d)(\\d)(?=\\D)&#47;0$1&#47;</code>."}], "tags": [], "owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "is_accepted": true, "score": 1, "last_activity_date": 1478901776, "last_edit_date": 1478901776, "creation_date": 1478901330, "answer_id": 40556831, "question_id": 40556703, "link": "https://stackoverflow.com/questions/40556703/regular-expression-for-getting-single-digits/40556831#40556831", "title": "Regular Expression for getting single digits", "body": "<p>You could use <a href=\"https://regex101.com/r/cK3w5v/2\" rel=\"nofollow noreferrer\">this regex</a> with multiline <code>m</code> flag:</p>\n\n<pre><code>(?&lt;!\\d)(\\d)(?=[a-zA-Z]|$)\n</code></pre>\n\n<p>Then replace with <code>0\\1</code>.</p>\n\n<pre><code>my $str = 'your data'\nmy $regex = qr/(?&lt;!\\d)(\\d)(?=[a-zA-Z]|$)/mp;\nmy $subst = '0\\\\1';\nmy $result = $str =~ s/$regex/$subst/rg;\n</code></pre>\n\n<ul>\n<li><code>(?&lt;!\\d)</code> is a negative lookbehind. Match will start only if previous character is not a digit</li>\n<li><code>(\\d)</code> is the first group, it matches one digit</li>\n<li><code>(?=[a-zA-Z]|$)</code> ends match if next character is a letter (<code>[a-zA-Z]</code>) or line ends has been reached (<code>$</code>)</li>\n<li>Substitute <code>0\\1</code> is the first group (the digit) preceded by zero</li>\n</ul>\n"}], "owner": {"reputation": 49, "user_id": 7148029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76254bd2aba9068be59c12e66ceed682?s=128&d=identicon&r=PG&f=1", "display_name": "Basque0407", "link": "https://stackoverflow.com/users/7148029/basque0407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 40556831, "answer_count": 1, "score": 0, "last_activity_date": 1478901776, "creation_date": 1478900666, "question_id": 40556703, "link": "https://stackoverflow.com/questions/40556703/regular-expression-for-getting-single-digits", "title": "Regular Expression for getting single digits", "body": "<p>I have this sample data:</p>\n\n<pre><code>    1\n    2a\n    12\n    23a\n</code></pre>\n\n<p>Using regular expressions, I would like to substitute data with single digits into this format:</p>\n\n<pre><code>    01\n    02a\n    12\n    23a\n</code></pre>\n\n<p>Any other suggestions would be a big help as well</p>\n"}, {"tags": ["perl", "moose"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1479139101, "post_id": 40559879, "comment_id": 68421163, "body": "This also works but requires extra step (coercion) comparing to solution by hobbs. Anyway, it&#39;s good to know alternatives. Thank you!"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1479140410, "post_id": 40559879, "comment_id": 68421987, "body": "@AndyH actually the coercion here is unnecessary and doesn&#39;t do anything. But it&#39;s still the &quot;wrong&quot; answer because it throws away what you did with a type library in favor of stringy types."}, {"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1479149699, "post_id": 40559879, "comment_id": 68427162, "body": "@hobbs You&#39;re right, no need for the coerce, I&#39;ve taken it out. However this version doesn&#39;t allow for <code>MyStatus</code> to remain unquoted. The &quot;wrong&quot; answer but I&#39;ll leave it here for reference!"}], "tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": false, "score": 0, "last_activity_date": 1479148625, "last_edit_date": 1479148625, "creation_date": 1478928368, "answer_id": 40559879, "question_id": 40556316, "link": "https://stackoverflow.com/questions/40556316/moose-type-libraries-moosextypes/40559879#40559879", "title": "Moose: type libraries (MooseX::Types)", "body": "<p>This seems to work</p>\n\n<p>MyTypeLib.pm</p>\n\n<pre><code>package MyTypeLib;\nuse Moose::Util::TypeConstraints;\n\nsubtype MyStatus =&gt;\n      as 'Num' =&gt;\n      where { $_ &gt;= 0 &amp;&amp; $_ &lt; 10 },\n      message { \"Wrong status: $_\" };\n\n#coerce MyStatus =&gt; from Int =&gt; via { $_ };\n1;\n</code></pre>\n\n<p>MyTest.pm</p>\n\n<pre><code>package MyTest;\nuse MyTypeLib;\nuse Moose;\n\nhas status =&gt; ( is  =&gt; 'rw', \n                isa =&gt; 'MyStatus', \n                #coerce =&gt; 1 i\n);\n\nno Moose; 1;\n</code></pre>\n\n<p>MyMain.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nuse MyTest;\nuse Data::Dumper;\n\nmy $t1 = MyTest-&gt;new( status =&gt; 5);\nprint Dumper $t1;\nmy $t2 = MyTest-&gt;new( status =&gt; 10);\n</code></pre>\n\n<p>Which gives</p>\n\n<pre><code>$ perl MyMain.pl\n$VAR1 = bless( {\n                 'status' =&gt; 5\n               }, 'MyTest' );\nAttribute (status) does not pass the type constraint because: Wrong\nstatus: 10 at /System/Library/Perl/Extras/5.18/darwin-thread-multi-\n2level/Moose/Exception.pm line 37\n</code></pre>\n\n<p>There isn't much information on this aspect of Moose but it looks like <code>Moose::Util::TypeConstraints</code> is the MooseX module folded into Moose.</p>\n\n<hr>\n\n<p>EDIT\nRemoved coerce!</p>\n\n<blockquote class=\"spoiler\">\n  <p>You also need an explicit coercion.-</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1479146779, "post_id": 40559920, "comment_id": 68425757, "body": "Is there any good source of examples on this topic? That example from CPAN simply does not work for types like subtype ArrayRefOfPositiveInt, as ArrayRef[PositiveInt]; How to define something like this without making it a &#39;stringy type&#39;?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 1, "creation_date": 1479150960, "post_id": 40559920, "comment_id": 68427792, "body": "@AndyH it works just fine. Make sure you&#39;ve actually imported <code>ArrayRef</code> and defined <code>PositiveInt</code>, and if it still doesn&#39;t work then ask another, specific, question."}, {"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1479154672, "post_id": 40559920, "comment_id": 68429661, "body": "You are right, I did not import ArrayRef. I just copied/pasted that example :)"}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1478928900, "creation_date": 1478928900, "answer_id": 40559920, "question_id": 40556316, "link": "https://stackoverflow.com/questions/40556316/moose-type-libraries-moosextypes/40559920#40559920", "title": "Moose: type libraries (MooseX::Types)", "body": "<p>Remove the quotes: <code>isa =&gt; MyStatus</code>, not <code>isa =&gt; 'MyStatus'</code>. <code>MyStatus</code> is a constant-like function <em>exported</em> from your type library. Providing a string rather than a proper type constraint for <code>isa</code> (\"stringy types\") causes it to be looked up in Moose's type registry, or, if it's not found there, it's interpreted as the name of a class, and the type is inferred to be \"any object of that class or its subclasses\". Stringy types are less explicit and less flexible than using actual types, and more prone to conflicts since they all share a global namespace. It's best not to use them and type lbraries at the same time.</p>\n"}], "owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 40559920, "answer_count": 2, "score": 2, "last_activity_date": 1479148625, "creation_date": 1478898818, "question_id": 40556316, "link": "https://stackoverflow.com/questions/40556316/moose-type-libraries-moosextypes", "title": "Moose: type libraries (MooseX::Types)", "body": "<p>I am trying to figure out the proper way to incorporate Moose in my project. <a href=\"http://search.cpan.org/~ether/MooseX-Types-0.46/lib/MooseX/Types.pm\" rel=\"nofollow noreferrer\">Here</a> I found an article suggesting that Moose types should be organized in type libraries, which seems like a good idea. So I wrote the following code basing on the provided example:</p>\n\n<p>file 1: MyTypeLib.pm</p>\n\n<pre><code>package MyTypeLib;\nuse MooseX::Types -declare =&gt; [ qw( MyStatus ) ];\nuse MooseX::Types::Moose qw/Int/;\n\nsubtype MyStatus,\n      as Int,\n      where { $_ &gt;= 0 &amp;&amp; $_ &lt; 10 },\n      message { \"Wrong status: $_\" };\n\n1;\n</code></pre>\n\n<p>file 2: MyTest.pm</p>\n\n<pre><code>package MyTest;\nuse MyTypeLib qw( MyStatus );\nuse Moose;\n\nhas status =&gt; ( is =&gt; 'rw', isa =&gt; 'MyStatus' );\n\nno Moose; 1;\n</code></pre>\n\n<p>file 3: MyMain.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nuse MyTest;\n\nmy $t1 = MyTest-&gt;new('status' =&gt; 5);\n</code></pre>\n\n<p>When I run it I get this message:</p>\n\n<blockquote>\n  <p>Attribute (status) does not pass the type constraint because:\n  Validation failed for 'MyStatus' with value 5 (not isa MyStatus) at\n  C:\\Strawberry\\perl\\vendor\\lib\\Moose\\Object.pm line 24</p>\n</blockquote>\n\n<p>When I keep subtype definition in MyTest.pm and don't use MooseX::Types, everything works as expected. But the point is to move subtypes to a separate package and use them in other packages.\nCould someone please advise how to make it work, or point to (or post) some working example, or suggest the alternative way of achieving the goal.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl", "ms-access", "dbi", "brackets", "square"], "comments": [{"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1479058306, "post_id": 40555677, "comment_id": 68388909, "body": "I&#39;m not familiar with ODBC but perhaps you could try this: <a href=\"http://search.cpan.org/~mjevans/DBD-ODBC-1.56/ODBC.pm#odbc_ignore_named_placeholders\" rel=\"nofollow noreferrer\">search.cpan.org/~mjevans/DBD-ODBC-1.56/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1478918572, "creation_date": 1478918572, "answer_id": 40559060, "question_id": 40555677, "link": "https://stackoverflow.com/questions/40555677/dbi-binding-parameters-and-square-brackets/40559060#40559060", "title": "DBI binding parameters and square brackets", "body": "<p>The Access Database Engine can also recognize backquotes as table/field delimiters, so if the quare brackets are giving you trouble then try </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT DISTINCT Matching.`CI M`, ...\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7147810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fa1a116b825b287d28547d2c32c1e8?s=128&d=identicon&r=PG&f=1", "display_name": "peanut", "link": "https://stackoverflow.com/users/7147810/peanut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478918572, "creation_date": 1478896013, "last_edit_date": 1478899910, "question_id": 40555677, "link": "https://stackoverflow.com/questions/40555677/dbi-binding-parameters-and-square-brackets", "title": "DBI binding parameters and square brackets", "body": "<p>I'm having problems with the following code:</p>\n\n<pre><code>$sql = &lt;&lt;\"END_SQL\";\nSELECT DISTINCT Matching.[CI M], Matching2_1.[LAC M], Matching2_1.[CI M], Matching.[Band M], Matching2_1.[Band M], Matching.Site, Matching2_1.Site, Matching.[BSC/RNC], Matching.[CellName M],  Matching.[BSC/RNC M], Matching2_1.[CellName M]\nFROM Matching, [N 900 - 900], Matching AS Matching2_1\nWHERE Matching.[Band M]= ? AND Matching2_1.[Band M]= ? ;\nEND_SQL\n\n$sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute(900, 900);\n</code></pre>\n\n<p>The columns name contains space, the database is MS access so I use square brackets to use them in a query</p>\n\n<p>The problem is that Perl interprets the square brackets as a binding parameters and expects 11 parameters.</p>\n\n<p>Here is the error:</p>\n\n<blockquote>\n  <p>DBD::ODBC::st execute failed: [Microsoft][ODBC Microsoft Access Driver] Too few parameters. Expected 11. (SQL-07002) at NEIGHBORS MAPPING.pl line 89.</p>\n</blockquote>\n"}, {"tags": ["visual-studio", "perl", "openssl"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 2, "creation_date": 1478886683, "post_id": 40553208, "comment_id": 68345264, "body": "Please don&#39;t add the errors as an image but use copy+paste. This way someone can find this post when looking for the same error."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1478891493, "post_id": 40553208, "comment_id": 68347468, "body": "<i>&quot;From some search i made i discovered there&#39;s some compatibility problems with Visual Studio 2015 related to OpenSSL files...&quot;</i> - I&#39;m fairly certain OpenSSL 1.0.2 and 1.1.0 work as expected on Windows 10. I don&#39;t know about 1.0.1 since I no longer use it or test it."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1478891685, "post_id": 40553208, "comment_id": 68347571, "body": "The <code>lib64</code> in <code>-prefix=c:\\libs\\openssl-1.0.1h\\lib64</code> looks unusual because your link commands appears to be missing <code>&#47;machine:x64</code>. It looks like a 32-bit tools chain mixing with a 64-bit OpenSSL configuration. Did you open the x64 Developer Command Prompt? Or another one? Also, <code>Microsoft Visual Studio 14.0</code> is Visual Studio 2008 (IIRC), not Visual Studio 2015."}], "owner": {"reputation": 1389, "user_id": 5042987, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NYKHP.jpg?s=128&g=1", "display_name": "Diego Victor de Jesus", "link": "https://stackoverflow.com/users/5042987/diego-victor-de-jesus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 635, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478890952, "creation_date": 1478885246, "last_edit_date": 1478890952, "question_id": 40553208, "link": "https://stackoverflow.com/questions/40553208/openssl-build-on-windows-10-with-visual-studio-2015", "title": "OpenSSL build on Windows 10 with Visual Studio 2015", "body": "<p>The following error occurs when i try to build OpenSSL:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hrxwU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrxwU.png\" alt=\"Compile error\"></a></p>\n\n<p><strong><em>Error</em></strong>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>link /nologo /subsystem:console /opt:ref /debug /out:out32\\md4test.exe @C:\\Users\\DIEGO~1.J\nES\\AppData\\Local\\Temp\\nmFB55.tmp\nlibeay32.lib(cryptlib.obj) : error LNK2019: unresolved external symbol __iob_func referenc\ned in function OPENSSL_showfatal\nlibeay32.lib(cryptlib.obj) : error LNK2001: unresolved external symbol __iob_func\nlibeay32.lib(pem_lib.obj) : error LNK2001: unresolved external symbol __iob_func\nlibeay32.lib(ui_openssl.obj) : error LNK2001: unresolved external symbol __iob_func\nout32\\md4test.exe : fatal error LNK1120: 1 unresolved externals\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\am\nd64\\link.EXE\"' : return code '0x460'\n</code></pre>\n\n<p>Steps i followed (Windows 10 64 bits):</p>\n\n<ol>\n<li>perl Configure VC-WIN64A --prefix=c:\\libs\\openssl-1.0.1h\\lib64</li>\n<li>ms\\do_win64a</li>\n<li>nmake -f ms\\nt.mak</li>\n</ol>\n\n<p>Active Perl is installed.</p>\n\n<p>From some search i made i discovered there's some compatibility problems with Visual Studio 2015 related to OpenSSL files.</p>\n\n<p>Could someone tell me what's wrong?</p>\n"}, {"tags": ["perl", "parsing", "raku"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478884708, "post_id": 40553019, "comment_id": 68344399, "body": "<a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\">metacpan.org/pod/Regexp::Grammars</a> is one of the CPAN modules that does something similar. There are some answers here on SO by the author, Damian Conway, that use it extensively. But unfortunately your question is off-topic because you&#39;re asking for a tool recommendation."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1478885172, "post_id": 40553019, "comment_id": 68344582, "body": "@simbabque You can reword the question slightly to make it on-topic: &quot;How can I define a grammar for parsing text in Perl 5?&quot;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1478885290, "post_id": 40553019, "comment_id": 68344645, "body": "I know. But I figured the OP is experienced enough to do that themselves @ThisSuitIsBlackNot ;)"}, {"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1478885671, "post_id": 40553019, "comment_id": 68344810, "body": "@ThisSuitIsBlackNot Done."}], "answers": [{"comments": [{"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "edited": false, "score": 0, "creation_date": 1478884973, "post_id": 40553090, "comment_id": 68344509, "body": "They all look like good modules, especially <code>Regexp::Grammars</code>. Would you mind explaining a bit about <code>(DEFINE)</code> though please? The <i>perlre</i> docs for it seem a bit confusing for a beginner."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "edited": false, "score": 1, "creation_date": 1478885208, "post_id": 40553090, "comment_id": 68344601, "body": "@OrangeFlash81: See <a href=\"http://www.perlmonks.org/?node_id=995856\" rel=\"nofollow noreferrer\">JSON parser as a single Perl Regex</a> for an example."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 11, "last_activity_date": 1478884804, "creation_date": 1478884804, "answer_id": 40553090, "question_id": 40553019, "link": "https://stackoverflow.com/questions/40553019/how-can-i-define-a-parsing-grammar-in-perl-5/40553090#40553090", "title": "How can I define a parsing grammar in Perl 5?", "body": "<p>There's no core support, but you can have a look at <a href=\"http://p3rl.org/Parse::RecDescent\" rel=\"noreferrer\">Parse::RecDescent</a>, <a href=\"http://p3rl.org/Marpa::R2\" rel=\"noreferrer\">Marpa::R2</a>, <a href=\"http://p3rl.org/Regexp::Grammars\" rel=\"noreferrer\">Regexp::Grammars</a>, or for simpler tasks, just use <code>(DEFINE)</code> in a regex (see <a href=\"http://p3rl.org/perlre\" rel=\"noreferrer\">perlre</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 686, "user_id": 1265245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1698a34e34bcbbd8e46f5f4f69d94c7f?s=128&d=identicon&r=PG", "display_name": "Tommy Stanton", "link": "https://stackoverflow.com/users/1265245/tommy-stanton"}, "is_accepted": false, "score": 2, "last_activity_date": 1482543576, "creation_date": 1482543576, "answer_id": 41309592, "question_id": 40553019, "link": "https://stackoverflow.com/questions/40553019/how-can-i-define-a-parsing-grammar-in-perl-5/41309592#41309592", "title": "How can I define a parsing grammar in Perl 5?", "body": "<p>Though I haven't used it much myself, I believe that the Acmeist software <a href=\"https://metacpan.org/pod/Pegex\" rel=\"nofollow noreferrer\">Pegex</a> is close to Perl 6 Grammars.</p>\n"}], "owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 3, "accepted_answer_id": 40553090, "answer_count": 2, "score": 10, "last_activity_date": 1541443981, "creation_date": 1478884544, "last_edit_date": 1541443981, "question_id": 40553019, "link": "https://stackoverflow.com/questions/40553019/how-can-i-define-a-parsing-grammar-in-perl-5", "title": "How can I define a parsing grammar in Perl 5?", "body": "<p>I recently decided to look at Perl, and when faced with Perl 5 vs 6, I went with 5 due to its maturity and vast support.</p>\n\n<p>However, one of the features of Perl 6 which really intrigued me was the <a href=\"https://docs.perl6.org/language/grammars\" rel=\"noreferrer\"><code>grammar</code> keyword</a>, allowing one to define a language grammar which can be used to parse complex text. In other languages either an external library or a manual parsing implementation is usually needed for this.</p>\n\n<p>Now that I've settled on Perl 5, is there any rough equivalent to Perl 6's <code>grammar</code> keyword in Perl 5 (or other functionality for building grammars), built-in or otherwise? </p>\n"}, {"tags": ["apache", "perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7146996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1833b35dc4163ddd96c64eacf7e216e?s=128&d=identicon&r=PG&f=1", "display_name": "N Admin", "link": "https://stackoverflow.com/users/7146996/n-admin"}, "is_accepted": true, "score": 2, "last_activity_date": 1478889262, "last_edit_date": 1495540825, "creation_date": 1478889262, "answer_id": 40554121, "question_id": 40552835, "link": "https://stackoverflow.com/questions/40552835/cgi-script-in-apache-2-4-runs-but-returns-empty-response/40554121#40554121", "title": "CGI script in Apache 2.4 runs but returns empty response?", "body": "<p>Sure enough not too long after I asked this question I found the answer. Basically, we had this line in the config file for this site:</p>\n\n<pre><code>RLimitMEM 2000000 3000000\n</code></pre>\n\n<p>This limits the memory of processes to 2MB (soft) and 3MB (hard). It is also far too little for CGI scripts. 50MB/80MB worked. We set it even higher just in case.</p>\n\n<p>Here are a few references to people having similar problems for the benefit of those of you who found this page via Google:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13955914/php-out-of-memory-error-even-though-memory-limit-not-reached\">PHP out of memory error even though memory_limit not reached</a></p>\n\n<p><a href=\"http://www.wrensoft.com/forum/zoom-search-engine-v3-v4-v5-old-versions/29-php-cgi-script-returns-no-results-on-apache-rlimitmem-rlimitcpu\" rel=\"nofollow noreferrer\">http://www.wrensoft.com/forum/zoom-search-engine-v3-v4-v5-old-versions/29-php-cgi-script-returns-no-results-on-apache-rlimitmem-rlimitcpu</a></p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 7146996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1833b35dc4163ddd96c64eacf7e216e?s=128&d=identicon&r=PG&f=1", "display_name": "N Admin", "link": "https://stackoverflow.com/users/7146996/n-admin"}, "edited": false, "score": 0, "creation_date": 1479396839, "post_id": 40563710, "comment_id": 68549077, "body": "Thanks. I tried that but it didn&#39;t help.  Either way it was a basic test script which should have succeeded easily. The real problem was more complex."}], "tags": [], "owner": {"reputation": 175, "user_id": 1406679, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/1OHaa.jpg?s=128&g=1", "display_name": "shakAttack", "link": "https://stackoverflow.com/users/1406679/shakattack"}, "is_accepted": false, "score": 1, "last_activity_date": 1478960029, "creation_date": 1478960029, "answer_id": 40563710, "question_id": 40552835, "link": "https://stackoverflow.com/questions/40552835/cgi-script-in-apache-2-4-runs-but-returns-empty-response/40563710#40563710", "title": "CGI script in Apache 2.4 runs but returns empty response?", "body": "<p>If your perl script is</p>\n\n<pre><code>#!/usr/bin/perl\nprint STDOUT \"Content-type: text/html\\n\\n\";\nprint STDOUT \"Hello, World.\";\n</code></pre>\n\n<p>Please try removing <strong><em>\"STDOUT\"</em></strong> from it.</p>\n"}], "owner": {"reputation": 41, "user_id": 7146996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1833b35dc4163ddd96c64eacf7e216e?s=128&d=identicon&r=PG&f=1", "display_name": "N Admin", "link": "https://stackoverflow.com/users/7146996/n-admin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1189, "favorite_count": 0, "accepted_answer_id": 40554121, "answer_count": 2, "score": 2, "last_activity_date": 1478960029, "creation_date": 1478883809, "question_id": 40552835, "link": "https://stackoverflow.com/questions/40552835/cgi-script-in-apache-2-4-runs-but-returns-empty-response", "title": "CGI script in Apache 2.4 runs but returns empty response?", "body": "<p>In moving a website from older webservers running Apache 2.2 to newer webservers running Apache 2.4 I encountered a weird problem with CGI. Basically no CGI scripts work on the new webservers. They return 500 errors. However in the ScriptLog there is no \"%error\" section and the \"%response\" is empty. Scripts appear to be running but returning absolutely nothing! Since nothing implies no header the result is a 500 error.</p>\n\n<p>The mod_cgi module is loaded (confirmed by running \"apachectl -M\"). We are using a prefork MPM so this is the correct module.</p>\n\n<p>Most of the CGI scripts are Perl but we also have one which is compiled C which shows exactly the same pattern of behavior. Even a basic test script like this does not work:</p>\n\n<pre><code>#!/usr/bin/perl\nprint STDOUT \"Content-type: text/html\\n\\n\";\nprint STDOUT \"Hello, World.\";\n</code></pre>\n\n<p>I temporarily assigned a shell to the \"apache\" user, switched to that user, and was able to run several of these scripts. Not all produce meaningful output when run that way but they do run. Yes, /usr/bin/perl does exist, is the only copy of Perl on the system, and perl-CGI is installed.</p>\n\n<p>All of these scripts are on an NFS share which is used by both the old and new webservers. The old webservers can still serve up these scripts as CGI with no problems. So in case it wasn't already clear the issue here is not with the CGI scripts themselves. It is a configuration problem with the new webservers.</p>\n\n<p>The NFS share is mounted at /mnt/cgi/ with subdirectories for each user. There are sections in a file included in our Apache config which look like this:</p>\n\n<pre><code>Alias /cgi-bin/usera /mnt/cgi/usera\n&lt;Directory /mnt/cgi/usera&gt;\n    Options +ExecCGI\n    AddHandler cgi-script .cgi .pl\n    Require all granted\n&lt;/Directory&gt;\n</code></pre>\n\n<p>A script in this directory would be accessed at <a href=\"http://server.example.com/cgi-bin/usera/first.pl\" rel=\"nofollow noreferrer\">http://server.example.com/cgi-bin/usera/first.pl</a> . When I connect to this page this is appended to the log file specified in ServerLog (with the correct IP addresses... I xxx-ed those out):</p>\n\n<pre><code>%% [Fri Nov 11 12:00:00 2016] GET /cgi-bin/usera/first.pl HTTP/1.1\n%% 500 /mnt/cgi/usera/first.pl\n%request\nHost: xxx.xxx.xxx.xxx\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101 Firefox/45.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-US,en;q=0.5\nAccept-Encoding: gzip, deflate\nDNT: 1\nConnection: keep-alive\nVia: 1.1 xxx.xxx.xxx.xxx:80\nX-Forwarded-For: xxx.xxx.xxx.xxx\nX-Forwarded-For-Port: 51380\n%response\n</code></pre>\n\n<p>The permissions on these scripts are all 755, so that's not the problem. If I remove the AddHandler line from the Directory definition for the script directory then I can download the script, so Apache is definitely able to access them.</p>\n\n<p>The new servers are RHEL7. SELinux is in Permissive mode, not Enforcing. The booleans httpd_enable_cgi and httpd_use_nfs are both \"on\" anyway.</p>\n\n<p>Among the things which I have tried which do not help are:</p>\n\n<ul>\n<li>Setting \"ScriptAlias /cgi-bin/usera /mnt/cgi/usera\" instead of just \"Alias\".</li>\n<li>Setting \"ScriptAlias /cgi-bin/ /mnt/cgi\". In general we don't want to use ScriptAlias anyway since there are also text data files in some of those directories.</li>\n<li>Making the scripts owner:group apache:apache.</li>\n<li>Adding \"AllowOverride None\" to the Directory block.</li>\n<li>Adding \"use CGI::Carp 'fatalsToBrowser';\" to a script. This returns nothing. Again, I think the scripts are running fine but the output is not being received by Apache somehow.</li>\n</ul>\n\n<p>I should also add that in general the new webservers work fine. PHP-based webapps run just fine on them, and of course static content is no problem.</p>\n\n<p>So that's a lot of detail but in the end the issue is this: How can Apache be executing CGI scripts but getting no output at all from them? Any thoughts?</p>\n"}, {"tags": ["perl", "moose", "subtype"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1478880037, "post_id": 40551668, "comment_id": 68341766, "body": "Please don&#39;t retype error messages. Copy and paste them instead. There is a spelling mistake in your italic quote. ;-)"}, {"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478880755, "post_id": 40551668, "comment_id": 68342175, "body": "I copied and pasted it"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478881030, "post_id": 40551668, "comment_id": 68342343, "body": "Then it was probably a line break in the output because your terminal window was too small for the text. Never mind. ;)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478881032, "post_id": 40551668, "comment_id": 68342344, "body": "Did you copy and paste it in two sections? There&#39;s a space in &quot;MyTest::s tatus&quot; :-)"}, {"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1478881630, "post_id": 40551668, "comment_id": 68342702, "body": "That was a line brake in cmd window (on Windows)."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478881087, "post_id": 40551868, "comment_id": 68342378, "body": "I cannot find the actual code that defines the <code>Maybe</code>. I must be searching for the wrong stuff."}, {"owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1478881531, "post_id": 40551868, "comment_id": 68342643, "body": "Thank you! Any way to override this behavior? I need it to accept undef or small range of int values."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1478881990, "post_id": 40551868, "comment_id": 68342909, "body": "Well... <i>maybe</i> there is. (Pun intended!) Check out <a href=\"https://v1.metacpan.org/pod/Moose::Util::TypeConstraints#maybe_type-type\" rel=\"nofollow noreferrer\">v1.metacpan.org/pod/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "edited": false, "score": 0, "creation_date": 1478883578, "post_id": 40551868, "comment_id": 68343771, "body": "I might do some research later if I have time."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1478880759, "last_edit_date": 1478880759, "creation_date": 1478880441, "answer_id": 40551868, "question_id": 40551668, "link": "https://stackoverflow.com/questions/40551668/moose-subtype-message-does-not-show-up/40551868#40551868", "title": "Moose: subtype message does not show up", "body": "<p>The <code>Maybe[]</code> eats the error message. If you remove it, it gives the <code>message</code> from your type.</p>\n\n<pre><code>has status =&gt; ( is =&gt; 'rw', isa =&gt; \"MyStatus\" );\n</code></pre>\n\n<p>Here's the error:</p>\n\n<blockquote>\n  <p>Attribute (status) does not pass the type constraint because: Wrong status: 100 at accessor MyTest::status (defined at /home/foo/code/scratch.pl line 1331) line 4\n          MyTest::status('MyTest=HASH(0x3434c58)', 100) called at /home/foo/code/scratch.pl line 1337</p>\n</blockquote>\n\n<p>It's because the <code>Maybe[]</code> itself is also just a function call. It checks the return value of calling the code ref behind <code>MyStatus</code> with the value you pass to the constructor (here that's <code>100</code>). If that type check passes , all is well. But if that check fails, <code>Maybe[]</code> issues its own error message.</p>\n\n<p>You should ask yourself this question: Do you really want that the <code>status</code> can be <code>undef</code>? You didn't make it <code>required</code>, so you can omit it. Then your object doesn't have a status, which is different from having an <em>undefined</em> status. A status implies that the object is in a certain state, where the state has a meaning. If that state is undefined it sounds like trouble to me.</p>\n"}], "owner": {"reputation": 381, "user_id": 2528048, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9b9849fb755adebf6cb4d0b734832762?s=128&d=identicon&r=PG", "display_name": "AndyH", "link": "https://stackoverflow.com/users/2528048/andyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 40551868, "answer_count": 1, "score": 1, "last_activity_date": 1478882313, "creation_date": 1478879806, "last_edit_date": 1478882313, "question_id": 40551668, "link": "https://stackoverflow.com/questions/40551668/moose-subtype-message-does-not-show-up", "title": "Moose: subtype message does not show up", "body": "<p>I am starting to use Moose. Here is my test package code:</p>\n\n<pre><code>package MyTest;\nuse Moose;\nuse Moose::Util::TypeConstraints;\n\nsubtype 'MyStatus',\n      as 'Int',\n      where { $_ &gt;= 0 &amp;&amp; $_ &lt; 10 },\n      message { \"Wrong status: $_\" };\n\nhas status =&gt; ( is =&gt; 'rw', isa =&gt; 'Maybe[MyStatus]' );\n\nno Moose; 1;\n</code></pre>\n\n<p>And here is the program:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse MyTest;\n\nmy $t1 = MyTest-&gt;new('status' =&gt; 3);\n$t1-&gt;status(100);\n</code></pre>\n\n<p>I expected to get a \"Wrong status: 100\" error, but instead I got this:</p>\n\n<p><em>Attribute (status) does not pass the type constraint because: Validation failed for 'Maybe[MyStatus]' with value 100 at accessor MyTest::s tatus (defined at MyTest.pm line 10) line 4</em></p>\n\n<p>How to make that message work?\nThank you!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1478879799, "post_id": 40551547, "comment_id": 68341635, "body": "Why are you running find in the inner loop? Surely you&#39;d want it in the outer loop, and just do all the logic within your <code>wanted</code> function?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478880970, "post_id": 40551547, "comment_id": 68342310, "body": "What is in <code>@files</code>? What is in <code>%legend</code>? It doesn&#39;t make much sense to declare your <code>wanted()</code> subroutine so deep within your loops."}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1478881258, "post_id": 40551547, "comment_id": 68342484, "body": "Edited with explanation. I&#39;ve tried the same exact code with the wanted outide but i get same problems"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1478882520, "post_id": 40551547, "comment_id": 68343175, "body": "&quot;Edited with explanation&quot; - well barely :-/ I&#39;m sorry if it seems like we&#39;re being difficult. We&#39;re really not. You obviously understand exactly what is going here as you have been investigating this problem for some time. But if you re-read your question from the perspective of someone with no prior knowledge of the situation, I think you&#39;ll see that we really don&#39;t have enough information to be much help. We&#39;d like to help you, but you need to help us to help you by answering our questions with as much detail as you can."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1478883146, "post_id": 40551547, "comment_id": 68343511, "body": "You should write stepwise comment in your code and give sample value of what is that you have and what do you want?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478883257, "post_id": 40551547, "comment_id": 68343573, "body": "&quot;I&#39;ve tried the same exact code with the wanted outide but i get same problems&quot; Oh, I&#39;m sure that&#39;s true. I wasn&#39;t suggesting that would fix any of your problems. I meant that it was a strange place to define a subroutine and it will almost certainly confuse someone who maintains the code after you."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1478883444, "post_id": 40551547, "comment_id": 68343687, "body": "1st, Listen to Sobrique.  Putting <code>find</code> <i>inside</i> the loops seems inside-out at best and wildly inefficient at worst.  2nd, If you insist on putting the <code>find</code> inside, consider an anonymous subroutine defined <i>inside</i> find&#39;s parameter list instead of a named subroutine that reeks of closure inside the loops but only gets compiled once."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1478883992, "post_id": 40551547, "comment_id": 68344021, "body": "Of course you could always run your code in the debugger, put a breakpoint on the subroutine and verify that <code>$name</code> &amp; <code>$finalname</code> change each iteration instead of being closed over."}], "owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478881241, "creation_date": 1478879453, "last_edit_date": 1478881241, "question_id": 40551547, "link": "https://stackoverflow.com/questions/40551547/changing-names-of-the-files-found-with-filefind", "title": "Changing names of the files found with File::Find", "body": "<p>Hi consider this Perl code:</p>\n\n<pre><code>for my $line  (@files){\n    #print \"$line\\n\";\n    if ($line =~ /gene\\/(\\w.+)\\s\\w+\\/(\\w.+)(\\.\\S.+\\.\\S.+\\.gz)/){\n        #print \"$line\\n\";\n        @array = split ('\\t', $1);\n        my $path = $array[0];\n        foreach my $pathi (sort(keys(%legend))){\n            foreach my $name ( keys %{$legend{$pathi}}){\n                foreach my $sample ( keys %{$legend{$pathi}{$name}}){\n                    if ($pathi =~ $path){\n                        my $dirsearch = \"/Users/bob/Desktop/gene_ex/\";\n                        find(\\&amp;wantede, $dirsearch);\n                        sub wantede {\n                                if ($_ eq $name){\n                                    my $finalname = \"$sample\\_$name\";\n                                    rename ($File::Find::name, \"$File::Find::dir/$finalname\") or print \"Rename error\";\n                                }\n                            }\n                        } \n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>What i want to do is search for a particular file and attach another branch at the name: the find function goes exactly like this when but when i try to find the $name inside i got an error that $name is not declared or something. I've controlled all the hashes and they are fine, i can't figure out what is wrong. If i make the concatenation first, i get every time the same name on the files</p>\n\n<p>In @files there are all the files within the working directory\nIn %legend is a hash where the first key is the name of the folder, second key is filename, third key is a string.</p>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 2, "creation_date": 1478875752, "post_id": 40550394, "comment_id": 68339259, "body": "What does &quot;is not working&quot; mean?  How exactly is it not working?  What is it doing that you do not it expect it to do?"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1478875780, "post_id": 40550394, "comment_id": 68339280, "body": "Please note that you seem to have two objects, <code>$mech1</code> and <code>$mech</code>.  Perhaps you have them confused?"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1478875876, "post_id": 40550394, "comment_id": 68339339, "body": "Whoops! I made a typo typing the code in. Sorry! I expect it to download the image on the page with &quot;gtexGene&quot; in its link"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1478875923, "post_id": 40550394, "comment_id": 68339368, "body": "Please don&#39;t type in your code (for exactly this reason!) Please cut and paste your code into your question."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1478875824, "last_edit_date": 1592644375, "creation_date": 1478875824, "answer_id": 40550496, "question_id": 40550394, "link": "https://stackoverflow.com/questions/40550394/wwwmechanize-download-a-specific-image/40550496#40550496", "title": "WWW::Mechanize: Download a specific image", "body": "<p>You are using <code>alt_regex</code>, which is doing a pattern match on the <code>alt</code> attribute. What you want is the <code>src</code> attribute, so you need <a href=\"https://v1.metacpan.org/pod/WWW::Mechanize#mech-find_image\" rel=\"nofollow noreferrer\">to use <code>url_regex</code> instead</a>.</p>\n<blockquote>\n<p><code>url =&gt; 'string',</code> and <code>url_regex =&gt; qr/regex/,</code></p>\n<p>Matches the URL of the image against string or regex, as appropriate. The URL may be a relative URL, like foo/bar.html, depending on how it's coded on the page.</p>\n</blockquote>\n<p>So your code should read like this.</p>\n<pre><code>my $image = $mech-&gt;find_image( url_regex =&gt; qr/gtexGene/i );\n</code></pre>\n<p>Only use the <code>/i</code> modifier for case-insensitivity if you really want it to be case-insensitive.</p>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 40550496, "answer_count": 1, "score": 0, "last_activity_date": 1478875824, "creation_date": 1478875480, "last_edit_date": 1478875809, "question_id": 40550394, "link": "https://stackoverflow.com/questions/40550394/wwwmechanize-download-a-specific-image", "title": "WWW::Mechanize: Download a specific image", "body": "<p>I'm trying to download expression data for DNA sequences. On the page, the graph (a png image) is always the 6th, 7th, or 8th image on the page, but I do not want to download 2 extra images every time. </p>\n\n<p>Inspecting the image on the page yields <code>&lt;img src=\"../trash/hgc/gtexGene_genome_6d0b_5d5220.png\" border=\"1\"&gt;</code>, though those last few numbers in the link to the image change every time.</p>\n\n<p>In my code, I have </p>\n\n<pre><code>my $image = $mech1-&gt;find_image( alt_regex =&gt; qr/gtexGene/i );;\n$mech1-&gt;get($image -&gt; URI);\n$mech1-&gt;save_content(\"exp.png\");\n</code></pre>\n\n<p>which is not working.</p>\n\n<p>How can I download the image given only what some of the contents of its link are?</p>\n"}, {"tags": ["java", "perl"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 5, "last_activity_date": 1478874065, "creation_date": 1478874065, "answer_id": 40549948, "question_id": 40549783, "link": "https://stackoverflow.com/questions/40549783/stream-java-stdout-to-perl-stdout/40549948#40549948", "title": "stream Java STDOUT to perl STDOUT", "body": "<p>Open it as a filehandle, and read from it the usual way. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;  \nuse warnings;\n\n$| = 1;\n\nmy $command = \"/usr/java/jdk6/bin/java -jar  runner-0.0.1-SNAPSHOT.jar @ARGV\";\nopen ( my $java_output, '|-', $command ); \n\nwhile ( my $line = &lt;$java_output&gt; ) {\n    print $line; \n}\nclose ( $java_output ); \n</code></pre>\n\n<p>You might find <code>IO::Select</code> useful, if you want to do nonblocking reads of the output data too. </p>\n"}], "owner": {"reputation": 11037, "user_id": 3344829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HMY9j.jpg?s=128&g=1", "display_name": "Saravana", "link": "https://stackoverflow.com/users/3344829/saravana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 40549948, "answer_count": 1, "score": 1, "last_activity_date": 1478874065, "creation_date": 1478873520, "question_id": 40549783, "link": "https://stackoverflow.com/questions/40549783/stream-java-stdout-to-perl-stdout", "title": "stream Java STDOUT to perl STDOUT", "body": "<p>I am running a java application from perl</p>\n\n<p>here is the script</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n$| = 1;\n\nmy $args = join (\" \" , @ARGV);\n\nmy $command = \"/usr/java/jdk6/bin/java -jar  runner-0.0.1-SNAPSHOT.jar $args\";\nprint \"Executing $command\\n\";\nprint \"Please wait...\\n\";\n\nprint `$command`;\n</code></pre>\n\n<p>Java application writes debug info in the console[STDOUT] if run the command outside i.e. bash , but when I invoke from perl it buffers the debug messages and prints only on completion of the java application.</p>\n\n<p>How to stream the debug messages when invoked from perl ?</p>\n\n<p>I disbaled console buffer <code>$| = 1</code> but again same</p>\n"}, {"tags": ["bash", "perl", "matrix", "processing-efficiency"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478869493, "post_id": 40548617, "comment_id": 68335560, "body": "Are these matrices in flat files? Put them into a database. Someone has been irresponsible to allow a billion-line flat file to exist in the first place."}, {"owner": {"reputation": 205, "user_id": 1495326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0af031be4a547cec934a7bd71225aa51?s=128&d=identicon&r=PG", "display_name": "mjp", "link": "https://stackoverflow.com/users/1495326/mjp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478870205, "post_id": 40548617, "comment_id": 68335966, "body": "@Borodin These are flat files. This is a merged result of multi-parallel processing of small chunks of a huge input. Database is an option."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478870409, "post_id": 40548617, "comment_id": 68336067, "body": "I think you should go for a MySQL or PostgreSQL (or possibly SQLite) database. Put indexes on the first two columns, and the rest should be straightforward."}, {"owner": {"reputation": 205, "user_id": 1495326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0af031be4a547cec934a7bd71225aa51?s=128&d=identicon&r=PG", "display_name": "mjp", "link": "https://stackoverflow.com/users/1495326/mjp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478870868, "post_id": 40548617, "comment_id": 68336324, "body": "Thanks. I have actually done that in the past with MySQL. That sounds like a valid approach. The only constraint I have is that this task has to be done only once on each matrix, so not sure if database implementation would be the most appropriate. Point well taken though!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478871951, "post_id": 40548617, "comment_id": 68336987, "body": "Also, reading 100GB in 2.5 minutes requires a disk that will read at over 700MB/s. Is this on an SSD?"}, {"owner": {"reputation": 205, "user_id": 1495326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0af031be4a547cec934a7bd71225aa51?s=128&d=identicon&r=PG", "display_name": "mjp", "link": "https://stackoverflow.com/users/1495326/mjp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478873247, "post_id": 40548617, "comment_id": 68337728, "body": "No, I just have quite fast hdd with speeds closer to 1GB/s."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478873408, "post_id": 40548617, "comment_id": 68337818, "body": "You have a miracle! I have never known a HDD that will read faster than 150MB/s. There must be some significant caching going on."}, {"owner": {"reputation": 205, "user_id": 1495326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0af031be4a547cec934a7bd71225aa51?s=128&d=identicon&r=PG", "display_name": "mjp", "link": "https://stackoverflow.com/users/1495326/mjp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478873959, "post_id": 40548617, "comment_id": 68338176, "body": "Interestingly, the number I&#39;m quoting is supposed be without the caching effect of a <a href=\"http://askubuntu.com/questions/87035/how-to-check-hard-disk-performance\">disk datarate</a>. That doesn&#39;t mean there is no caching happening."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478876779, "post_id": 40548617, "comment_id": 68339863, "body": "I strongly second Borodin&#39;s suggestion with the RDBMS. Even if you are just doing it once per file, if it cuts the development time <b>and</b> the run time of the process significantly, it&#39;s a good approach. It also makes it easier to debug because you can run queries on the DB as long as you develop it. There are tools on CPAN that make starting your own <a href=\"http://p3rl.org/Test::mysqld\" rel=\"nofollow noreferrer\">mysql</a> or [postgres](Test::PostgreSQL) instance from Perl trivial. However, using SQL import features for the files might be way faster."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478876828, "post_id": 40548617, "comment_id": 68339882, "body": "You can also start by setting your mysqld&#39;s database directory to where the file is, make a database with the <a href=\"http://dev.mysql.com/doc/refman/5.7/en/csv-storage-engine.html\" rel=\"nofollow noreferrer\">CSV engine</a> and then switch it to InnoDB to do indexing."}, {"owner": {"reputation": 205, "user_id": 1495326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0af031be4a547cec934a7bd71225aa51?s=128&d=identicon&r=PG", "display_name": "mjp", "link": "https://stackoverflow.com/users/1495326/mjp"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478877439, "post_id": 40548617, "comment_id": 68340214, "body": "Thanks @simbabque. I will consider that given both of you suggested DBs now."}], "owner": {"reputation": 205, "user_id": 1495326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0af031be4a547cec934a7bd71225aa51?s=128&d=identicon&r=PG", "display_name": "mjp", "link": "https://stackoverflow.com/users/1495326/mjp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478869793, "creation_date": 1478869332, "last_edit_date": 1478869793, "question_id": 40548617, "link": "https://stackoverflow.com/questions/40548617/efficient-way-to-look-for-reciprocal-entries-in-matrix", "title": "efficient way to look for reciprocal entries in matrix", "body": "<p>I have many matrices with ~1,000,000,000 rows by 10 columns. Each of them takes ~100G storage and about 2.5 minutes to just count the number of lines, so I need to be efficient in processing them for time and resources' sake.</p>\n\n<p>The most important columns are #1 and #2 and #10. In one example matrix there are ~2,000,000 unique entries in #1 and ~10,000,000 entries in #2. All #1 entries exist in #2, but not all #2 entries exist in #1.</p>\n\n<p>I would like to ask for your advice on how to efficiently find all cases where there exists a reverse occurrence between column #1 and #2. In other words: find all pairs between #1 and #2 where there exist #1-#2 and #2-#1.</p>\n\n<p>I need to do something with #10 once each case is found.</p>\n\n<p>There are few ways I can think of but have not tested any.</p>\n\n<ul>\n<li><p>I can pre-process the file and store all unique #1 entries and #2 entries and make combinations of them before going through the file.</p></li>\n<li><p>I can read through the file and collect the pairs, create the reverse case and store in some kind of hash for future lookup. This however makes the hash rather large and requires going through the file twice.</p></li>\n<li><p>I can read through the file and collect the pairs, sort the pairs alphabetically (so always A-B) and store count in a hash. As I read through the file, a quick lookup for previous occurrence.</p></li>\n<li><p>I can also try using gdbm.</p></li>\n</ul>\n\n<p>What do you think would be the best solution?</p>\n\n<p>Any alternative suggestion would be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1478868668, "post_id": 40547026, "comment_id": 68335084, "body": "Which line is 207?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1478868718, "post_id": 40547026, "comment_id": 68335116, "body": "@shawnhcorey: It can only be <code>print &quot;$aprs_position\\n&quot;</code> if it&#39;s within the code sample."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478870262, "post_id": 40547026, "comment_id": 68335998, "body": "@Borodin No, it appears twice in the above code. Without knowing which line is reporting the error, it cannot be solved."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1478870833, "post_id": 40547026, "comment_id": 68336313, "body": "@shawnhcorey: The second occurrence isn&#39;t &quot;in concatenation (.) or string&quot;. Either way, the problem is that <code>$aprs_position</code> is <code>undef</code>, so the value returned by <code>make_position</code> is in error."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478871742, "post_id": 40547026, "comment_id": 68336866, "body": "@AndyK: By the way, if you are running Perl v5.10 or better then <code>( defined $ent-&gt;{&#39;symbol&#39;} ) ? $ent-&gt;{&#39;symbol&#39;} : &#39;&#47;[&#39;</code> can be written as <code>$ent-&gt;{symbol} &#47;&#47; &#39;&#47;[&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478868588, "post_id": 40547261, "comment_id": 68335032, "body": "@AndyK: Yes. Essentially, one of the parameters to the function call is out of bounds, and there is no easy way to tell which one. (It&#39;s a very oddly-written module altogether.) If you&#39;re not familiar with the debugger then you could try adding a series of <code>print</code> statements to show the values that you&#39;re passing to <code>make_position</code>."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1478864411, "creation_date": 1478864411, "answer_id": 40547261, "question_id": 40547026, "link": "https://stackoverflow.com/questions/40547026/use-of-uninitialised-value/40547261#40547261", "title": "Use of uninitialised value", "body": "<p>It's not a syntax error (if it was, your code wouldn't run at all), so you're right that you're not getting what you expect back from your call to <code>Ham::APRS::FAP::make_position()</code>.</p>\n\n<p>Looking at <a href=\"https://metacpan.org/source/HESSU/Ham-APRS-FAP-1.20/FAP.pm#L3312\" rel=\"nofollow noreferrer\">the code for the subroutine</a>, I see a couple of things that would cause it to return <code>undef</code>, but the author obviously doesn't believe in displaying a warning to tell you exactly what you've got wrong.</p>\n\n<p>If it was me, I'd use the debugger to trace the execution of that subroutine to see where it goes wrong. I suspect it's something in the code that deals with <code>$symbols</code>, but I don't know what value you're passing there.</p>\n\n<p>I'd also add something like this after the line that is supposed to set that variable.</p>\n\n<pre><code>die 'Undefined value for $aprs_position' unless defined $aprs_position;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7138495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599e9f27f62e9c627802ed16413faf0e?s=128&d=identicon&r=PG&f=1", "display_name": "AndyK", "link": "https://stackoverflow.com/users/7138495/andyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478869052, "creation_date": 1478863666, "last_edit_date": 1478869052, "question_id": 40547026, "link": "https://stackoverflow.com/questions/40547026/use-of-uninitialised-value", "title": "Use of uninitialised value", "body": "<p>I am trying to debug this warning in the following piece of code.</p>\n\n<blockquote>\n  <p>Use of uninitiated value $aprs_position in concatenation (.) or string at /usr/local/bin/arsed line 207.</p>\n</blockquote>\n\n<pre><code>foreach my $ent ( @upd_q ) {\n\n    my $aprs_position = Ham::APRS::FAP::make_position(\n        $ent-&gt;{'latitude'},\n        $ent-&gt;{'longitude'},\n        -1,        # speed\n        -1,        # course\n        -10000,    # altitude\n        ( defined $ent-&gt;{'symbol'} ) ? $ent-&gt;{'symbol'} : '/[',    # symbol\n        1,                                                         # compression\n        0                                                          # no ambiguity\n    );                                                             \n\n    print \"$aprs_position\\n\";\n\n    my $packet = sprintf( '%s&gt;APTR01:!%s', $ent-&gt;{'callsign'}, $aprs_position );\n\n    print \"$packet\\n\";\n\n    if ( $aprs_enable == 1 ) {\n\n        my $ok = $is-&gt;sendline( $packet );\n\n        if ( ! $ok ) {\n            $is-&gt;disconnect();\n</code></pre>\n\n<p>It appears that there is either an error in the value coming back from <code>Ham::APRS::FAP::make_position</code> or possibly a syntax error?</p>\n\n<p>What's the best way to start debugging this please?</p>\n"}, {"tags": ["perl", "treeview", "gtk2"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1478884215, "post_id": 40546873, "comment_id": 68344141, "body": "I am not sure I understand. Do you want to convert <code>$new_text</code> in the callback for <code>edited</code> in the <code>$renderer_2</code> combo cell renderer to an index representing its vertical position in the list of choices? Why do you need this feature?"}, {"owner": {"reputation": 143, "user_id": 7145601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660b797c1f01e578c40bd625cd49fbb0?s=128&d=identicon&r=PG&f=1", "display_name": "berrymorr", "link": "https://stackoverflow.com/users/7145601/berrymorr"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1478893482, "post_id": 40546873, "comment_id": 68348393, "body": "I&#39;d like to prefer &quot;get current item&#39;s index&quot; definition, but yes, you are right."}, {"owner": {"reputation": 143, "user_id": 7145601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660b797c1f01e578c40bd625cd49fbb0?s=128&d=identicon&r=PG&f=1", "display_name": "berrymorr", "link": "https://stackoverflow.com/users/7145601/berrymorr"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1478894335, "post_id": 40546873, "comment_id": 68348756, "body": "I need this because of even string is acceptable way to identify some list&#39;s element (eg, hash), this string is visible for the user. That&#39;s not good idea: you show pretty formatted info or having no troubles searching vertical index. But not all the same time. It&#39;s very strange that I need to inherite my own subclass from CellRenderer and even use ComboBox just to get one integer. Also, I&#39;m afraid of lots of trouble searching exact index if some strings aren&#39;t unique."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1478895332, "post_id": 40546873, "comment_id": 68349182, "body": "Hmm I am not sure I understand completely.. but I am not familar with Gtk, I am just trying to help by doing some quick searches on Google. From this, it seems  like the items in a specific combo box should be unique strings? Then could you simply use <code>$attr_models[$text_path]-&gt;get_iter_first</code> and loop through the model with <code>$attr_models[$text_path]-&gt;iter_next( $iter)</code> and at each step compare <code>$attr_models[$text_path]-&gt;get_value( $iter )</code> with <code>$new_text</code>. Then you could use a counter to determine the index?"}, {"owner": {"reputation": 143, "user_id": 7145601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660b797c1f01e578c40bd625cd49fbb0?s=128&d=identicon&r=PG&f=1", "display_name": "berrymorr", "link": "https://stackoverflow.com/users/7145601/berrymorr"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1478904193, "post_id": 40546873, "comment_id": 68352694, "body": "Understood you, thanks! Yup, decided to go similar way: make arrays, each one per ListStore (for CellRendererCombo), and search index by text each time is <code>edited</code>. Looks like there is no any natural way to do this simple thing, except of inheritance and inventing own bicycle. So, very sad."}], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 7145601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660b797c1f01e578c40bd625cd49fbb0?s=128&d=identicon&r=PG&f=1", "display_name": "berrymorr", "link": "https://stackoverflow.com/users/7145601/berrymorr"}, "is_accepted": true, "score": 1, "last_activity_date": 1479406138, "creation_date": 1479406138, "answer_id": 40662068, "question_id": 40546873, "link": "https://stackoverflow.com/questions/40546873/perl-gtk2-cellrenderercombo-get-selected-item-index/40662068#40662068", "title": "Perl Gtk2 CellRendererCombo: get selected item index", "body": "<p>So, looks like there isn't any direct answer for this question.\nAs a <strong>workaround</strong>, you may create array of hashes. Each element corresponds to one TreeView's row and have e.g. fields like <em>'combo_hash'</em> and <em>'current_index'</em>.<br>\n<em>'current_index'</em> is self-explained, <em>'combo_hash'</em> is array which consists of hashes with some fields like <em>'text'</em> and e.g. <em>'index'</em> (or other id).<br>\nOn CellRendererCombo's <code>'edited'</code> signal you get current TreeView's index by <code>$treeview-&gt;get_selection()-&gt;get_selected_rows()-&gt;get_indices()</code> (it's simple int), and search for selected in CellRendererCombo's <code>'text'</code> field through <em>'combo_hash'</em> array. Don't forget to store finded <em>'index'</em> to <em>'current_index'</em>.<br>\nThis workaround allows non-unique text in different TreeView's rows, but can't handle non-unique text in one CellRendererCombo's ListStore.<br>\n<strong>Another workaround</strong> is to inherite subclass from CellRenderer and embed ComboBox, which provides simple integer index. Looks better and have no limitations by non-unique data, but if array of hashes is unavoidable by design (you need to store lots of other info not visible in TreeView), first workaround should be more relevant.</p>\n"}], "owner": {"reputation": 143, "user_id": 7145601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/660b797c1f01e578c40bd625cd49fbb0?s=128&d=identicon&r=PG&f=1", "display_name": "berrymorr", "link": "https://stackoverflow.com/users/7145601/berrymorr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 40662068, "answer_count": 1, "score": 1, "last_activity_date": 1479406138, "creation_date": 1478863144, "question_id": 40546873, "link": "https://stackoverflow.com/questions/40546873/perl-gtk2-cellrenderercombo-get-selected-item-index", "title": "Perl Gtk2 CellRendererCombo: get selected item index", "body": "<p>I have Gtk2::TreeView, some of columns are using CellRendererCombo. I have everything work ok, except of I can't get integer index of selected item in CellRendererCombo. <strong>Not a text, but the integer value</strong>.<br>\nAs a workaround, it could be useful to associate somehow a hash with combo_model, but I don't know how.\nCould somebody help me? Trying and googling for a couple of days already.<br><br>\nHere's the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage uform;\n\nuse utf8;\nuse warnings;\nuse strict;\nuse Gtk2 -init;\nuse Glib qw/TRUE FALSE/;\nuse Glib ':constants';\nuse Data::Dumper;\n\nuse constant col0 =&gt; 0;\nuse constant col1 =&gt; 1;\nuse constant col2 =&gt; 2;\nuse constant colC =&gt; 3;\n\nbinmode(STDOUT,':utf8');\n\nmy $model; my $treeview; my @attr_models;\n\nsub create_window ($$) {\n    my ($width,$height)=(shift,shift);\n    my $window = Gtk2::Window-&gt;new( \"toplevel\" );\n    $window-&gt;signal_connect( \"destroy\", sub { Gtk2-&gt;main_quit(); } );\n    $window-&gt;set_default_size($width,$height);\n\n    my $vbox = Gtk2::VBox-&gt;new( 0, 5 );\n\n    $model = Gtk2::ListStore-&gt;new(\n                    \"Gtk2::Gdk::Pixbuf\", #0 pic\n                    \"Glib::String\", #1 product\n                    \"Glib::String\", #2 attr\n                    \"Gtk2::ListStore\"   #combo values list\n                  );\n\n\n\n    #sample_data\n    #some combo lists\n    foreach my $d (\n    [qw(fast medium slow)],\n    [qw(greay orange black white rainbow)],\n    [qw(fat with_wholes molded)],\n    [qw(long short jeans)]\n    )\n    {\n    my $cmodel = Gtk2::ListStore-&gt;new('Glib::String');\n    foreach my $str (@$d) {$cmodel-&gt;set($cmodel-&gt;append,0,$str);}\n    push @attr_models,$cmodel;\n    }\n\n    #some pixbufs to play with\n    my $pixbuf2 = Gtk2::Button-&gt;new-&gt;render_icon ('gtk-info', 'large-toolbar');\n\n\n\n    #add some rows\n    my @data = (\n    [$pixbuf2,'Shirt',1,$attr_models[0]],\n    [$pixbuf2,'Pants',0,$attr_models[0]],\n    [$pixbuf2,'Cheese',2,$attr_models[1]],\n    [$pixbuf2,'Cola',1,$attr_models[2]],\n    [$pixbuf2,'Laptop',0,$attr_models[3]]\n    );\n\n    foreach my $st(@data) {\n    $st-&gt;[2]=$st-&gt;[3]-&gt;get($st-&gt;[3]-&gt;iter_nth_child(undef,$st-&gt;[2]), 0);\n        $model-&gt;set( $model-&gt;append, \n        0, $st-&gt;[0],\n        1, $st-&gt;[1],\n        2, $st-&gt;[2],\n        3, $st-&gt;[3],\n    );\n    }\n\n\n#Column0 setup\nmy $combo_model0 = Gtk2::ListStore-&gt;new( 'Gtk2::Gdk::Pixbuf' );\nmy $renderer_0 = Gtk2::CellRendererPixbuf-&gt;new;\n\nmy $column_0 = Gtk2::TreeViewColumn-&gt;new_with_attributes(\n            \"Pic\",\n            $renderer_0,\n            pixbuf =&gt; col0\n            );\n\n\n\n#Column1 setup\nmy $renderer_1 = Gtk2::CellRendererText-&gt;new;\n$renderer_1-&gt;set( editable =&gt; FALSE );\n\nmy $column_1 = Gtk2::TreeViewColumn-&gt;new_with_attributes(\n            \"Product\",\n            $renderer_1,\n            text =&gt; col1\n            );\n\n\n\n\n#Column2 setup\nmy $renderer_2 = Gtk2::CellRendererCombo-&gt;new;\n$renderer_2-&gt;set(\n            editable    =&gt; TRUE,\n            text_column =&gt; 0,\n            has_entry   =&gt; FALSE\n        );\n\n$renderer_2-&gt;signal_connect (changed =&gt; sub {\n    my ($renderer, $str, $iter)=@_;\n    print Dumper (@_) . \"\\n\";\n    }\n);\n\n$renderer_2-&gt;signal_connect (edited =&gt; \n    sub {\n    my ($renderer, $text_path, $new_text) = @_;\n        my $combo_model = $renderer-&gt;get(\"model\");\n    $model-&gt;set ($model-&gt;get_iter_from_string ($text_path), col2, $new_text);\n    }\n);\n\nmy $column_2 = Gtk2::TreeViewColumn-&gt;new_with_attributes(\n            \"Attr\",\n            $renderer_2,\n            text =&gt; col2,\n            model =&gt; colC\n            );\n\n\n\n\n\n\n\n# main program starts\n$treeview = Gtk2::TreeView-&gt;new( $model );\n\n$treeview-&gt;get_selection-&gt;set_mode ('single');\n$treeview-&gt;set_rules_hint( TRUE );\n\n$treeview-&gt;append_column( $column_0 );\n$treeview-&gt;append_column( $column_1 );\n$treeview-&gt;append_column( $column_2 );\n\n\nmy $sw = Gtk2::ScrolledWindow-&gt;new( undef, undef );\n$sw-&gt;set_shadow_type( \"etched-in\" );\n$sw-&gt;set_policy( \"never\", \"always\" );\n\n$sw-&gt;add( $treeview );\n\n$vbox-&gt;pack_start( $sw, 1, 1, 0 );\n\n$window-&gt;add( $vbox );\n$window-&gt;show_all;\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1478862906, "post_id": 40546728, "comment_id": 68331938, "body": "Welcome to Stack Overflow. You have shown what looks like code, but not Perl. There is no array there. Please <a href=\"https://stackoverflow.com/posts/40546728/edit\">edit</a> your question and clarify. Do you have one line of this per array element? Do you have one block each per array element? Show us a dump (use Data::Dumper) of your data structure, and also explain what you have already tried to do and how it is not doing what you want."}, {"owner": {"reputation": 1, "user_id": 2724391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79de1d8f0e2db7855e905163de9c316?s=128&d=identicon&r=PG&f=1", "display_name": "Akshaya Ramakrishnan", "link": "https://stackoverflow.com/users/2724391/akshaya-ramakrishnan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478863407, "post_id": 40546728, "comment_id": 68332265, "body": "TESTBED= ssipsec {        DEVICE=sqa-kr3-ssr1      DEVICE=sqa-kr2-ssr1      DEVICE=sqa-kr3-se1      DEVICE=N2X_SSR    CONNECTION-D=40PGIGE,sqa-kr3-ssr1.ethernet 1/4,sqa-kr2-ssr1.ethernet 5/13    # Connection between SSR &amp; N2X    CONNECTION-D=40PGIGE,sqa-kr3-ssr1.ethernet 1/10,N2X_SSR.4103/12  CONNECTION-D=40PGIGE,sqa-kr2-ssr1.ethernet 5/11,N2X_SSR.4109/13  CONNECTION-D=40PGIGE,sqa-kr3-se1.ethernet 1/1,N2X_SSR.4103/14            CONNECTION-D=40PGIGE,sqa-kr3-ssr1.ethernet 15/2,sqa-kr3-ssr1.ethernet 1/2    }  }"}, {"owner": {"reputation": 1, "user_id": 2724391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79de1d8f0e2db7855e905163de9c316?s=128&d=identicon&r=PG&f=1", "display_name": "Akshaya Ramakrishnan", "link": "https://stackoverflow.com/users/2724391/akshaya-ramakrishnan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478863536, "post_id": 40546728, "comment_id": 68332341, "body": "The array contents will look like above comment. I&#39;m copying a file to an array. There will be plenty of testbed details like above in the array. If I want to copy the only part given above what to be done is my question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1478864554, "post_id": 40546728, "comment_id": 68332880, "body": "Please don&#39;t dump code into comments. It is almost impossible to read. Please <a href=\"http://stackoverflow.com/posts/40546728/edit\">edit your question</a> to add any extra information. What you have shown us is not Perl code. What do the contents of your Perl array look like?"}, {"owner": {"reputation": 1, "user_id": 2724391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79de1d8f0e2db7855e905163de9c316?s=128&d=identicon&r=PG&f=1", "display_name": "Akshaya Ramakrishnan", "link": "https://stackoverflow.com/users/2724391/akshaya-ramakrishnan"}, "edited": false, "score": 0, "creation_date": 1478866306, "post_id": 40546728, "comment_id": 68333807, "body": "it is not perl code. This is my contents I&#39;m storing in an array. From this i want to grep and store details starting from TESTBED = vApp_eprapot_icr { to till it encounter }."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1478866630, "post_id": 40546728, "comment_id": 68333963, "body": "I don&#39;t know how we can make it any clearer to you. If we can&#39;t see your data structures then we can&#39;t help you manipulate those data structures. We are not mind readers. How is this data stored in an array? Is there one of these records in each element? Is it one line per element? How are we supposed to know that if you don&#39;t tell us?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478866716, "post_id": 40546728, "comment_id": 68334005, "body": "People are very happy to help you on this site. But you have to help us to help you. If we ask for more information, it&#39;s not to trip you up or to delay answering, it&#39;s because we need more information in order to help you."}, {"owner": {"reputation": 1, "user_id": 2724391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79de1d8f0e2db7855e905163de9c316?s=128&d=identicon&r=PG&f=1", "display_name": "Akshaya Ramakrishnan", "link": "https://stackoverflow.com/users/2724391/akshaya-ramakrishnan"}, "edited": false, "score": 0, "creation_date": 1478880386, "post_id": 40546728, "comment_id": 68341965, "body": "DaveCross - whatever I have given above is the array. I have copied and pasted from an array output as such. This is how it will be :("}, {"owner": {"reputation": 1, "user_id": 2724391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79de1d8f0e2db7855e905163de9c316?s=128&d=identicon&r=PG&f=1", "display_name": "Akshaya Ramakrishnan", "link": "https://stackoverflow.com/users/2724391/akshaya-ramakrishnan"}, "edited": false, "score": 0, "creation_date": 1478880475, "post_id": 40546728, "comment_id": 68342020, "body": "I&#39;m not well experienced in perl. Just a beginner. This data is stored in an array like below: @array=<code>cat &lt;file path&gt;</code>; So however it was given in the file exactly it is been copied to array too. The above is what I got as output after I tried printing @array."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478932950, "post_id": 40546728, "comment_id": 68358008, "body": "See that&#39;s the kind of information we were looking for. If you&#39;re loading your file into the array like that then each line will be in a separate element of the array. And that&#39;s not particularly useful. It would be better to have one of your TESTBED sections in each element. And to achieve that we need to know more about the format of the data file. Is there blank line between the end of one section and the start of the next?"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478873428, "post_id": 40549027, "comment_id": 68337835, "body": "The OP seemed pretty clear that he had the data in an array. So I&#39;m not sure how reading from <code>&lt;&gt;</code> is going to help. Also, <code>&lt;&gt;</code> does not &quot;capture the filename you use on cmdline&quot;. You might be thinking of <code>$ARGV</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478873756, "post_id": 40549027, "comment_id": 68338049, "body": "He actually did not make everything very clear, in the comment he said <code>The array contents will look like above comment. I&#39;m copying a file to an array</code>. So could be that he is creating array from a file?"}, {"owner": {"reputation": 1, "user_id": 2724391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79de1d8f0e2db7855e905163de9c316?s=128&d=identicon&r=PG&f=1", "display_name": "Akshaya Ramakrishnan", "link": "https://stackoverflow.com/users/2724391/akshaya-ramakrishnan"}, "edited": false, "score": 0, "creation_date": 1478880776, "post_id": 40549027, "comment_id": 68342189, "body": "@Gerry: yes, you are right. I&#39;m not directly using a file. What I want is to copy the file contents into an array then from there have to extract what ever I want."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "is_accepted": false, "score": 0, "last_activity_date": 1478870877, "creation_date": 1478870877, "answer_id": 40549027, "question_id": 40546728, "link": "https://stackoverflow.com/questions/40546728/how-to-get-a-particular-block-in-an-array-get-copied-in-perl/40549027#40549027", "title": "how to get a particular block in an array get copied in perl", "body": "<pre><code>while (&lt;&gt;) {\n  print if /TESTBED = vApp_eprapot_icr/../\\}/;\n}\n</code></pre>\n\n<p>as a sidenote <code>&lt;&gt;</code> will capture the filename you use on cmdline. So if the data is stored in a file you will run from commandline</p>\n\n<pre><code>perl scriptname.pl filename.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1478939175, "creation_date": 1478939175, "answer_id": 40560978, "question_id": 40546728, "link": "https://stackoverflow.com/questions/40546728/how-to-get-a-particular-block-in-an-array-get-copied-in-perl/40560978#40560978", "title": "how to get a particular block in an array get copied in perl", "body": "<p>Ok. We finally have enough information to come up with an answer. Or, at least, to produce two answers which will work on slightly different versions of your input file.</p>\n\n<p>In a comment you say that you are creating your array like this:</p>\n\n<pre><code>@array = `cat $file`;\n</code></pre>\n\n<p>That's not a very good idea for a couple of reasons. Firstly, why run an external command like <code>cat</code> when Perl will read the file for you. And secondly, this gives you one element in your array for each line in your input file. Things become far easier if you arrange it so that each of your <code>TESTBED = foo { ... }</code> records is a single array element.</p>\n\n<p>Let's get rid of the <code>cat</code> first. The easiest way to read a single file into an array is to use the file input operator - <code>&lt;&gt;</code>. That will read data from the file whose name is given on the command line. So if you call your program <code>filter_records</code>, you can call it like this:</p>\n\n<pre><code>$ ./filter_records your_input_data.txt\n</code></pre>\n\n<p>And then read it into an array like this:</p>\n\n<pre><code>@array = &lt;&gt;;\n</code></pre>\n\n<p>That's good, but we still have each line of the input file in its own array element. How we fix that depends on the exact format of your input file. It's easiest if there's a blank line between each record in the input file, so it looks like this:</p>\n\n<pre><code>student=Amit {\nAge=20\nsex=male\nrollno=201\n}\n\nstudent=Akshaya {\nAge=24\nphone:88665544\nsex=female\nrollno=407\n}\n\nstudent=Akash {\nAge=23\nsex=male\nrollno=356\naddress=na\nphone=88456789\n}\n</code></pre>\n\n<p>Perl has a special variable called <code>$/</code> which controls how it reads records from input files. If we set it to be an empty string then Perl goes into \"paragraph\" mode and it uses blank lines to delimit records. So we can write code like this:</p>\n\n<pre><code>{\n  local $/ = '';\n  @array = &lt;&gt;;\n}\n</code></pre>\n\n<p>Note that it's always a good idea to localise changes to Perl's special variables, which is why I have enclosed the whole thing in a naked block.</p>\n\n<p>If there are no blank lines, then things get slightly harder. We'll read the whole file in and then split it.</p>\n\n<p>Here's our example file with no blank lines:</p>\n\n<pre><code>student=Amit {\nAge=20\nsex=male\nrollno=201\n}\nstudent=Akshaya {\nAge=24\nphone:88665544\nsex=female\nrollno=407\n}\nstudent=Akash {\nAge=23\nsex=male\nrollno=356\naddress=na\nphone=88456789\n}\n</code></pre>\n\n<p>And here's the code we use to read that data into an array.</p>\n\n<pre><code>{\n  local $/;\n  $data = &lt;&gt;;\n}\n\n@array = split /(?&lt;=^})\\n/m, $data;\n</code></pre>\n\n<p>This time, we've set <code>$/</code> to <code>undef</code> which means that all of the data has been read from the file. We then split the data wherever we find a newline that is preceded by a <code>}</code> on a line by itself.</p>\n\n<p>Whichever of the two solutions above that we use, we end up with an array which (for our sample data) has three elements - one for each of the records in our data file. It's then simple to use Perl's <code>grep</code> to filter that array in various ways:</p>\n\n<pre><code># All students whose names start with 'Ak'\n@filtered_array = grep { /student=Ak/ } @array;\n</code></pre>\n\n<p>If you use similar techniques on your original data file, then you can get the records that you are interested in with code like this:</p>\n\n<pre><code>@filtered_array = grep { /TESTBED = vApp_eprapot_icr/ } @array;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2724391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79de1d8f0e2db7855e905163de9c316?s=128&d=identicon&r=PG&f=1", "display_name": "Akshaya Ramakrishnan", "link": "https://stackoverflow.com/users/2724391/akshaya-ramakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478939175, "creation_date": 1478862637, "last_edit_date": 1478881945, "question_id": 40546728, "link": "https://stackoverflow.com/questions/40546728/how-to-get-a-particular-block-in-an-array-get-copied-in-perl", "title": "how to get a particular block in an array get copied in perl", "body": "<p>I have details like below in an array. There will be plenty of testbed details in actual case. I want to grep a particular testbed(TESTBED = vApp_eprapot_icr) and an infomation like below  should get copied to another array. How can I do it using perl ? End of Testbed info can be understood by a closing flower bracket }.</p>\n\n<pre><code>TESTBED = vApp_eprapot_icr {\n   DEVICE = vApp_eprapot_icr-ipos1\n   DEVICE = vApp_eprapot_icr-ipos2\n   DEVICE = vApp_eprapot_icr-ipos3\n   DEVICE = vApp_eprapot_icr-ipos5\n\n   CARDS=1GIGE,ETHFAST\n   CARDS=3GIGE,ETHFAST\n   CARDS=10PGIGE,ETHFAST\n   CARDS=20PGIGE,ETHFAST\n   CARDS=40PGIGE,ETHFAST\n   CARDS=ETHFAST,ETHFAST\n   CARDS=10GIGE,ETHFAST\n   CARDS=ETH,ETHFAST\n   CARDS=10P10GIGE,ETHFAST\n   CARDS=PPA2GIGE,ETHFAST\n   CARDS=ETH,ETHFAST,ETHGIGE\n\n}\n</code></pre>\n\n<p>I will make it simpler, please see the below array</p>\n\n<pre><code>@array(\"\nstudent=Amit {\nAge=20\nsex=male\nrollno=201\n}\nstudent=Akshaya {\nAge=24\nphone:88665544\nsex=female\nrollno=407\n}\n\nstudent=Akash {\nAge=23\nsex=male\nrollno=356\naddress=na\nphone=88456789\n}\n\");\n</code></pre>\n\n<p>Consider an array like this. Where such entries are plenty. I need to grep, for an example student=Akshaya's data. from the opening '{' to closing '}' all info should get copied to another array. This is what I'm looking for.</p>\n"}, {"tags": ["regex", "perl", "replace", "pipe"], "comments": [{"owner": {"reputation": 39, "user_id": 7144835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/821fd38e11a4b6032cdf9bd6bbb54adb?s=128&d=identicon&r=PG&f=1", "display_name": "Wayne A.", "link": "https://stackoverflow.com/users/7144835/wayne-a"}, "edited": false, "score": 0, "creation_date": 1479221678, "post_id": 40542859, "comment_id": 68459927, "body": "Ok, as expected, I&#39;m an idiot. Tried your s/\\|$//gm, Chankey, and it didn&#39;t work on my file, but it did when I copy pasted into a new file. Took a closer look at my test file (and the file it was generated from) and realized they were dos uploaded that hadn&#39;t been converted to unix (overlooked the &quot;dos&quot; flag at the bottom of vim too). So my match was missing the ^M.  Once I stripped those, it worked! Thanks!  P.S. - I know that &quot;perl -ne &#39;/\\|*/ &amp;&amp; print&#39; does not do &quot;search and replace&quot;, I did that just to test the regex."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1531331816, "post_id": 40542859, "comment_id": 89560932, "body": "I suggest to see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a> If the answer(s) did the trick choose one and accept it.  In addition, you can also vote on them."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1478849675, "last_edit_date": 1478849675, "creation_date": 1478848358, "answer_id": 40542925, "question_id": 40542859, "link": "https://stackoverflow.com/questions/40542859/issue-with-perl-one-liner-searching-for-pipe-at-end-of-line/40542925#40542925", "title": "Issue with perl one-liner searching for pipe at end of line", "body": "<p>You need to use search and replace. You are currently just matching the regex.</p>\n\n<p>Below works fine.</p>\n\n<pre><code>$ cat test | perl -pe 's/\\|$//'\n    echo \"dbconfig Db side ...\"  \ndate \n   echo \"ALERT !!! THIS IS PRODUCTION SERVER\" \n  echo \"ERROR: Environment cannot be started! (retvalue=$retvalue)\"\n</code></pre>\n\n<p>However, you do not need to pipe cat to perl. Just pass filename to oneliner.</p>\n\n<p>Assuming file name is test, below are the contents</p>\n\n<pre><code>$ cat test \n    echo \"dbconfig Db side ...\"  |\ndate |\n   echo \"ALERT !!! THIS IS PRODUCTION SERVER\" |\n  echo \"ERROR: Environment cannot be started! (retvalue=$retvalue)\" |\n</code></pre>\n\n<p>Below is Perl oneliner which removes | at the end of each line</p>\n\n<pre><code>$ perl -pi -e 's/\\|$//gm' test\n</code></pre>\n\n<p>Content of file after replacement</p>\n\n<pre><code>$ cat test \n    echo \"dbconfig Db side ...\"  \ndate \n   echo \"ALERT !!! THIS IS PRODUCTION SERVER\" \n  echo \"ERROR: Environment cannot be started! (retvalue=$retvalue)\"\n</code></pre>\n\n<hr>\n\n<p>If you prefer a program over oneliner then below would work.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $filename = 'test';\nmy $outputfile = 'test.out';\nopen (my $fh, \"&lt;\", $filename) or die $!;\nopen (my $ofh, \"&gt;\", $outputfile) or die $!;\nwhile(my $line = &lt;$fh&gt;){\n    chomp $line;\n    $line =~ s/(.*)\\|$/$1/gm;\n    print $ofh \"$line\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7144835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/821fd38e11a4b6032cdf9bd6bbb54adb?s=128&d=identicon&r=PG&f=1", "display_name": "Wayne A.", "link": "https://stackoverflow.com/users/7144835/wayne-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478849675, "creation_date": 1478848111, "last_edit_date": 1478848571, "question_id": 40542859, "link": "https://stackoverflow.com/questions/40542859/issue-with-perl-one-liner-searching-for-pipe-at-end-of-line", "title": "Issue with perl one-liner searching for pipe at end of line", "body": "<p>I have some files had some bad regex search and replace happen to them and it has left me with various lines that end in a \"|\".  I'm trying to create a perl oneliner to fix the issue, but can't seem to match the \"|\" at the end of the line.  </p>\n\n<p>Created an example file that only has the problem lines in it.</p>\n\n<pre><code>$ cat ad.sh.bak2\n    echo \"dbconfig Db side ...\"  |\ndate |\n   echo \"ALERT !!! THIS IS PRODUCTION SERVER\" |\n  echo \"ERROR: Environment cannot be started! (retvalue=$retvalue)\" |\n$\n</code></pre>\n\n<p>Have tried the following (changed the one-liner below to just print on match instead of my normal s///g):</p>\n\n<pre><code>    $ cat ad.sh.bak2 |perl -ne '/\\|$/ &amp;&amp; print'\n    $ cat ad.sh.bak2 |perl -ne '/\\|$ */ &amp;&amp; print'\n    $\n</code></pre>\n\n<p>If I get rid of the \"$\", it matches the lines (and others I don't want).  I have confirmed that there are no whitespace or unprintable characters after the \"|\"  (vim \"set list\" shows the $ immediately after each \"|\").</p>\n\n<p>Not sure what I am doing wrong in my regex.</p>\n\n<p>Any help appreciated!</p>\n"}, {"tags": ["perl", "heuristics"], "answers": [{"comments": [{"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1478844054, "post_id": 40540522, "comment_id": 68322766, "body": "Part of the reason I program is to get something done, and part of the reason is to learn to program. Using a black box doesn&#39;t serve that latter function. Besides, when I DO use a black box, say a perl interpreter, it never tells me Where the bracket is missing. It usually just points at the last bracket in the file, and leaves it to me to laboriously manually check all the brackets. That&#39;s why I&#39;m trying to see if there&#39;s some heuristic that can narrow it down to where I should look for the error. It&#39;s easier in XML, since the close &quot;brackets&quot; explicitly say what they&#39;re closing."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 2, "creation_date": 1478853593, "post_id": 40540522, "comment_id": 68326795, "body": "Well, you can look at the source of the JSON parser here: <a href=\"http://cpansearch.perl.org/src/MAKAMAKA/JSON-2.90/lib/JSON.pm\" rel=\"nofollow noreferrer\">cpansearch.perl.org/src/MAKAMAKA/JSON-2.90/lib/JSON.pm</a>.  In general, writing a parser is non-trivial and you will basically need to write one to do what you want to do."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 2, "creation_date": 1478853749, "post_id": 40540522, "comment_id": 68326898, "body": "If you are having trouble writing new perl code, and don&#39;t like what the perl -c is telling you (because it can be unclear what the issue is..), the general strategy is to start with a compiling program and as you add more code, you check that it still compiles.  If you have an existing program, you can try commenting out sections until it compiles, then slowly uncommenting lines of code to find the <i>real</i> issue."}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 2, "last_activity_date": 1478833704, "creation_date": 1478833704, "answer_id": 40540522, "question_id": 40540124, "link": "https://stackoverflow.com/questions/40540124/perl-is-there-a-heuristic-for-finding-mismatched-braces-brackets-parens-etc/40540522#40540522", "title": "perl: Is there a heuristic for finding mismatched braces/brackets/parens etc", "body": "<p>Use a parser, do not try to reinvent the wheel.  Here is an example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse JSON qw( decode_json encode_json );\n\nmy $data = { foo =&gt; 'bar', baz =&gt; [1,2,3], qux =&gt; { abc =&gt; 1, def =&gt; 2, ghi =&gt; 3} };\nmy $json = encode_json($data);\n\nmy $error_json = $json;\n$error_json =~ s|\\]||; # Remove a closing square bracket\n\neval {\n    my $error_data = decode_json($error_json); # Will throw an error\n};\nmy $error = $@;\nif ($error) {\n    print \"JSON Error : $error\";\n    my ($char_pos) = $error =~ m|at character offset (\\d+)|;\n    print \"Original   : '$json'\\n\";\n    print \"Error      : '$error_json'\\n\";\n    print \"..............\";\n    print \".\"x($char_pos) . \"^\\n\";\n\n} else {\n    die \"should not get here...something went wrong\";\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>JSON Error : , or ] expected while parsing array, at character offset 31 (before \":{\"abc\":1,\"ghi\":3,\"d...\") at foo.pl line 15.\nOriginal   : '{\"foo\":\"bar\",\"baz\":[1,2,3],\"qux\":{\"abc\":1,\"ghi\":3,\"def\":2}}'\nError      : '{\"foo\":\"bar\",\"baz\":[1,2,3,\"qux\":{\"abc\":1,\"ghi\":3,\"def\":2}}'\n.............................................^\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "is_accepted": false, "score": 0, "last_activity_date": 1479193044, "creation_date": 1479193044, "answer_id": 40603820, "question_id": 40540124, "link": "https://stackoverflow.com/questions/40540124/perl-is-there-a-heuristic-for-finding-mismatched-braces-brackets-parens-etc/40603820#40603820", "title": "perl: Is there a heuristic for finding mismatched braces/brackets/parens etc", "body": "<p>I found an heuristic which works much of the time, especially if you're compulsive about lining up opening and closing brackets.</p>\n\n<p>I scan the file, find matching brackets, and find the difference between the columns. The error usually stands out as a larger difference than most of the matches.</p>\n\n<p>Of course, I have to ignore brackets in comments or in quotes.</p>\n\n<p>I have used this with .pl and .js files, and it works well.</p>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1479193044, "creation_date": 1478830296, "question_id": 40540124, "link": "https://stackoverflow.com/questions/40540124/perl-is-there-a-heuristic-for-finding-mismatched-braces-brackets-parens-etc", "title": "perl: Is there a heuristic for finding mismatched braces/brackets/parens etc", "body": "<p>I'm using perl to parse a json file. When all is OK, I find matching braces fine. But if there is a mismatch, I can't think of a good way of finding where it is.</p>\n\n<p>My data at this point is a sorted array (@merged)\n of offsets of braces in the file, with offsets of closing braces set negative.</p>\n\n<p>Here's the section that does the matching:</p>\n\n<pre>\n    @stack=();\n    foreach $val (@merged) # go through merged array\n    {   if ($val>0) { push @stack, $val;} # push every opener onto a stack\n        else {  $opn = pop @stack; # when a closer comes up, pop previous opener\n                @tmp = ($opn, abs $val); # array of one match\n                push @matches, [@tmp];  # the array of all matches\n            }\n    }\n</pre>\n\n<p>I also have information about the column, but I don't want the algorithm to depend on compulsive formatting. </p>\n\n<p>I'd like to adapt this to perl text as well, for those times when the translator just says there's an unmatched brace at the end.</p>\n\n<p>Are there any good heuristics for finding the location of the mismatch?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478821830, "post_id": 40538950, "comment_id": 68317386, "body": "What operating system are you using?"}, {"owner": {"reputation": 141, "user_id": 5418505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PhNvV.jpg?s=128&g=1", "display_name": "ccsalison", "link": "https://stackoverflow.com/users/5418505/ccsalison"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478823408, "post_id": 40538950, "comment_id": 68317839, "body": "Linux. It&#39;s not empty if I do ls &gt; file through terminal but it is an empty file when I do it through the Perl script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1478828576, "post_id": 40538950, "comment_id": 68319125, "body": "That one line of Perl works fine. The problem is elsewhere."}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1478874817, "post_id": 40538950, "comment_id": 68338668, "body": "without seeing your entire script, it&#39;s impossible to know where the problem actually is, but as a random guess, did you by any chance change the current working directory somewhere in your script before it got to this point?"}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1478878688, "post_id": 40538950, "comment_id": 68340956, "body": "Have you checked for errors? The <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow noreferrer\">system perldoc page</a> provides an example of how to do this. Also, do you get the same result when using an absolute path?"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478827674, "post_id": 40539154, "comment_id": 68318898, "body": "I don&#39;t see how this answers the question. It looks like an account of how you would write something that solved a similar problem, but doesn&#39;t address anything from the OP. And <i>please</i> don&#39;t publish answers that don&#39;t have <code>use strict</code> and <code>use warnings &#39;all&#39;</code> in place, otherwise there is very little point in using <code>my</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478828114, "post_id": 40539154, "comment_id": 68319009, "body": "And <code>sort { $a cmp $b }</code> is the default comparison for <code>sort</code>, so <code>for ( sort readdir DIR ) { ... }</code> is better."}, {"owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478830628, "post_id": 40539154, "comment_id": 68319575, "body": "Right, I just removed the sort arguments. Thanks. Well, since OP does not provide any details I assume this is what he&#39;s trying to do. In fact, it answers perfectly to the title of his question. I assume his system() line is a dirty way he found as a perl newbie looking for a cleaner solution. I removed #!/usr/bin/perl, this way there is no question of use strict since his original code is also without context."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478831028, "post_id": 40539154, "comment_id": 68319668, "body": "In the absence of detail, you should request more detail. It is very wrong to throw out random code just because the OP&#39;s requirement doesn&#39;t exclude it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478871427, "post_id": 40539154, "comment_id": 68336680, "body": "It seems to me that the frustration is your own. Are you saying that no one should make comments that criticise your posts?"}, {"owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "edited": false, "score": 0, "creation_date": 1478874750, "post_id": 40539154, "comment_id": 68338636, "body": "Given that the OP&#39;s code works fine as listed, and this code will do the exact same thing, just more verbosely, this answer will do nothing to solve the OP&#39;s problem."}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "edited": false, "score": 0, "creation_date": 1478880152, "post_id": 40539154, "comment_id": 68341841, "body": "It might not directly solve OP&#39;s problem, but it is the better method for reading directory contents to a file. OP&#39;s code makes a lot of assumptions about which directory the script is working in and what the OS is. FlorianB&#39;s code has basic error handling, provides a directory path instead of relying on the shell/environment, and is platform agnostic."}], "tags": [], "owner": {"reputation": 1792, "user_id": 3105222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/eSikW.png?s=128&g=1", "display_name": "FlorianB", "link": "https://stackoverflow.com/users/3105222/florianb"}, "is_accepted": false, "score": -1, "last_activity_date": 1478830423, "last_edit_date": 1478830423, "creation_date": 1478822657, "answer_id": 40539154, "question_id": 40538950, "link": "https://stackoverflow.com/questions/40538950/how-do-i-print-the-file-list-of-a-directory-into-another-file-in-perl/40539154#40539154", "title": "How do I print the file list of a directory into another file in Perl?", "body": "<pre><code>my $dirpath = \"./\";\nmy $filepath = \"./file\";\n\nopendir(DIR, $dirpath) or die(\"Cannot open directory: $!\");\nopen(OUT, \"&gt;$filepath\");\n\nforeach( sort readdir(DIR) ){\n    next if $_ =~ /^\\.{1,2}$/; # to ignore \".\" and \"..\"\n    print(OUT \"$_\\n\");\n}\n\nclose(OUT);\nclosedir(DIR);\n</code></pre>\n\n<p>Note that if you have the output file in this directory you are listing, then it will be listed as well since you have to open it before reading the directory.</p>\n"}], "owner": {"reputation": 141, "user_id": 5418505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PhNvV.jpg?s=128&g=1", "display_name": "ccsalison", "link": "https://stackoverflow.com/users/5418505/ccsalison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478830423, "creation_date": 1478821269, "question_id": 40538950, "link": "https://stackoverflow.com/questions/40538950/how-do-i-print-the-file-list-of-a-directory-into-another-file-in-perl", "title": "How do I print the file list of a directory into another file in Perl?", "body": "<p>I tried</p>\n\n<pre><code>system(\"ls &gt; file\"); \n</code></pre>\n\n<p>in my Perl script but when I open my <code>file</code>, it is an empty file while my directory has a list of file.</p>\n"}, {"tags": ["perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 1, "creation_date": 1478815483, "post_id": 40537685, "comment_id": 68315049, "body": "Please take a look at <a href=\"http://stackoverflow.com/editing-help\">editing-help</a>."}, {"owner": {"reputation": 38442, "user_id": 1331399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a22763d295c9d45db0dd0c692bb4051?s=128&d=identicon&r=PG", "display_name": "Thor", "link": "https://stackoverflow.com/users/1331399/thor"}, "edited": false, "score": 1, "creation_date": 1478817561, "post_id": 40537685, "comment_id": 68315930, "body": "What is the expected output?"}], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "is_accepted": true, "score": 1, "last_activity_date": 1478818114, "creation_date": 1478818114, "answer_id": 40538369, "question_id": 40537685, "link": "https://stackoverflow.com/questions/40537685/using-awk-to-process-next-column-values-with-current-line-value/40538369#40538369", "title": "using awk to process next column values with current line value", "body": "<p>I think that END block is messing you up.  My limited knowledge of <code>awk</code> includes that it is vaguely similar to perl, and at least in perl <code>END</code> is run at the very end of the process.  So you're only getting a single row because you are telling that block of code not to run until the entire process is done executing.</p>\n\n<pre><code>awk -F\",\" '{a+=$4}{b+=$5}{c+=$6}{d+=$7}{e+=$8}{f+=$9}{g+=$10}{h+=$11}{i+=$12}{j+=$13}{k+=$14}{l+=$15}{m+=$16}{n+=$17}{o+=$18}{p+=$19} {print \"Line 1 \" a+b-c-d-e-f-g-h}' sample.csv\n</code></pre>\n\n<p>Also note that you don't need to cat the file and pipe it in to <code>awk</code>, it accepts a file as the last argument. </p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "edited": false, "score": 0, "creation_date": 1478882390, "post_id": 40540011, "comment_id": 68343122, "body": "Thanks Jay!.. it is the perfect solution, I was looking for."}], "tags": [], "owner": {"reputation": 1538, "user_id": 2032943, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gMjJZ.jpg?s=128&g=1", "display_name": "Jay Rajput", "link": "https://stackoverflow.com/users/2032943/jay-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1478829337, "creation_date": 1478829337, "answer_id": 40540011, "question_id": 40537685, "link": "https://stackoverflow.com/questions/40537685/using-awk-to-process-next-column-values-with-current-line-value/40540011#40540011", "title": "using awk to process next column values with current line value", "body": "<p>Try this awk command:</p>\n\n<pre><code>awk -F, 'NR!=1{print \"Line\", NR-1, (l-$12-$13-$14-$15-$16-$17)} {l=($4+$5-$6-$7-$8-$9-$10-$11)}  END {print \"Line\", NR, l} ' /tmp/sample.csv\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Line 1 -192\nLine 2 -307\nLine 3 -178\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<pre><code>awk -F, '\n NR != 1 {                        # Skip first record\n   print \"Line\", NR-1, \\          # Print the output using the data from \n     (l-$12-$13-$14-$15-$16-$17)  # the last record\n }\n {l=($4+$5-$6-$7-$8-$9-$10-$11)}  # Store this for later\n END {print \"Line\", NR, l}        # Specific case for last record\n' /tmp/sample.csv                 # filename\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 1640927, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0a876886e25ee9fc4aa1465fa069af5b?s=128&d=identicon&r=PG", "display_name": "Shravan Kumar", "link": "https://stackoverflow.com/users/1640927/shravan-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 40538369, "answer_count": 2, "score": -1, "last_activity_date": 1478829337, "creation_date": 1478814963, "last_edit_date": 1478817351, "question_id": 40537685, "link": "https://stackoverflow.com/questions/40537685/using-awk-to-process-next-column-values-with-current-line-value", "title": "using awk to process next column values with current line value", "body": "<p>I am new to awk, couldn't figure out how to process next record columns, any help would be appreciated.\nRequired:</p>\n\n<pre><code>$ cat sample.csv\n1,1,1,30,40,23,24,25,26,27,28,29,0,0,0,0,0,0,0,0\n1,2,1,35,40,33,34,35,36,37,38,39,12,13,14,15,16,17,22,36\n1,3,1,45,50,43,44,45,46,47,48,49,22,23,24,25,26,27,33,38\n</code></pre>\n\n<p>I am able to get half of my required, in line 1, i am not able to process Line 2 values</p>\n\n<pre><code>$ cat sample.csv | awk -F\",\" '{a+=$4}{b+=$5}{c+=$6}{d+=$7}{e+=$8}{f+=$9}{g+=$10}{h+=$11}{i+=$12}{j+=$13}{k+=$14}{l+=$15}{m+=$16}{n+=$17}{o+=$18}{p+=$19}END{print \"Line 1 \" a+b-c-d-e-f-g-h}'\n</code></pre>\n\n<p>Line 1 -399</p>\n\n<p>I am looking for the expression <code>a+b-c-d-e-f-g-h - (NextRecord i+j+k+l+m+n)</code>\nFor the last record, we can consider the next record values as 0's.</p>\n"}, {"tags": ["perl", "escaping", "perl-module"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1478805515, "post_id": 40534993, "comment_id": 68310381, "body": "Do you currently <code>use CGI</code>? There&#39;s a function similar to <code>A::U::escape_uri()</code>. <a href=\"http://perldoc.perl.org/CGI.html#AUTOESCAPING-HTML\" rel=\"nofollow noreferrer\">perldoc.perl.org/CGI.html#AUTOESCAPING-HTML</a>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1478806651, "post_id": 40534993, "comment_id": 68310901, "body": "I just noticed: you want to <b><i>send</i></b> your data already escaped, so you&#39;re writing the client side? If I&#39;m right, then please tell what modules you already use."}, {"owner": {"reputation": 1671, "user_id": 1244329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72897146052d7580cc179135673e7358?s=128&d=identicon&r=PG", "display_name": "BlueChips23", "link": "https://stackoverflow.com/users/1244329/bluechips23"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1478807185, "post_id": 40534993, "comment_id": 68311159, "body": "To elaborate a little more, this is an embedded perl page. I am generating some data as perl string variables, that I will send as a simple JavaScript POST call in that EPL page. So I want clean up my variables before the JavaScript POST call."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478811408, "post_id": 40534993, "comment_id": 68313211, "body": "We need to know what is receiving the data to know how to escape or encode it. You&#39;re saying it&#39;s payload in an HTTP POST request. Depending on the <code>content-type</code> of that request your payload can contain whatever you want. There is no need to escape anything per se. Please give more information."}, {"owner": {"reputation": 1671, "user_id": 1244329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72897146052d7580cc179135673e7358?s=128&d=identicon&r=PG", "display_name": "BlueChips23", "link": "https://stackoverflow.com/users/1244329/bluechips23"}, "edited": false, "score": 0, "creation_date": 1478811885, "post_id": 40534993, "comment_id": 68313437, "body": "The server (receiver) expects the data only as base64 encoded. The content-type is set to text/plain."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478820309, "post_id": 40534993, "comment_id": 68316916, "body": "<b><i>unsafe</i></b> has many interpretations. What do you want to do?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478821419, "post_id": 40534993, "comment_id": 68317278, "body": "Please <i>edit</i> your question to put all elaborations into your original post"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1478821544, "post_id": 40534993, "comment_id": 68317310, "body": "What data do you need to escape? If it&#39;s not a URI then my answer is worthless"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478875506, "post_id": 40534993, "comment_id": 68339103, "body": "<i>&quot;I mean characters like <code>&lt; &gt; \u201c \u2018 % ; ) ( &amp; +</code>&quot;</i> The problem is that we cannot know what characters are <i>&quot;like&quot;</i> those for your purpose."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1478980734, "post_id": 40534993, "comment_id": 68370781, "body": "You should not try to &quot;escape&quot; your way around SQL injection vulnerabilities using a mechanism like this.  You avoid vulnerabilities by writing code that isn&#39;t vulnerable -- using prepared statements and placeholders.  Anything short of that is only a partial solution with a false sense of security."}], "answers": [{"comments": [{"owner": {"reputation": 1671, "user_id": 1244329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72897146052d7580cc179135673e7358?s=128&d=identicon&r=PG", "display_name": "BlueChips23", "link": "https://stackoverflow.com/users/1244329/bluechips23"}, "edited": false, "score": 0, "creation_date": 1478874697, "post_id": 40538951, "comment_id": 68338600, "body": "I think this is sufficient for my needs. By unsafe, I have already mentioned that I want to remove <code>&lt; &gt; \u201c \u2018 % ; ) ( &amp; +</code> which can be potentially used for SQL-injection. If ``URI::Escape &#39;uri_escape&#39;` does that, then that&#39;s all I need."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1478821283, "creation_date": 1478821283, "answer_id": 40538951, "question_id": 40534993, "link": "https://stackoverflow.com/questions/40534993/remove-unsafe-http-characters-from-a-string/40538951#40538951", "title": "Remove unsafe HTTP characters from a string", "body": "<p>There is no general definition of <em>unsafe</em> characters, so it falls to you to determine whether any of your answers fulfill your requirement</p>\n\n<p>Looking at <a href=\"http://cpansearch.perl.org/src/GOZER/mod_perl-1.31/Util/Util.pm\" rel=\"nofollow noreferrer\"><em>the source of <code>Apache::Util</code></em></a> it does some very unpleasant things to its own name space, and I wouldn't trust it. It is intended to be used as a component of <code>mod_perl</code>, and shouldn't be accessed in isolation</p>\n\n<p>I think the canonical way of escaping HTTP URIs is to use the <a href=\"https://metacpan.org/pod/URI::Escape\" rel=\"nofollow noreferrer\"><code>URI::Escape</code></a> module</p>\n\n<pre><code>use URI::Escape 'uri_escape';\n</code></pre>\n\n<p>You must provide data and code for any more help than this</p>\n"}], "owner": {"reputation": 1671, "user_id": 1244329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72897146052d7580cc179135673e7358?s=128&d=identicon&r=PG", "display_name": "BlueChips23", "link": "https://stackoverflow.com/users/1244329/bluechips23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "accepted_answer_id": 40538951, "answer_count": 1, "score": 0, "last_activity_date": 1479229055, "creation_date": 1478804031, "last_edit_date": 1479229055, "question_id": 40534993, "link": "https://stackoverflow.com/questions/40534993/remove-unsafe-http-characters-from-a-string", "title": "Remove unsafe HTTP characters from a string", "body": "<p>I have to send a bunch of string variables as payloads in a HTTP POST message using Perl.</p>\n\n<p>I want to remove \"unsafe\" characters, such as <code>&lt; &gt; \u201c \u2018 % ; ) ( &amp; +</code> from my string variable.</p>\n\n<p>I know I can use a regex pattern to find and replace each of these characters, but I am wondering if there's any existing Perl library that already does that.</p>\n\n<p>For example, I found <a href=\"https://metacpan.org/pod/Apache::Util\" rel=\"nofollow noreferrer\"><code>Apache::Util</code></a></p>\n\n<pre><code>my $esc = Apache::Util::escape_uri($uri);\n</code></pre>\n\n<p>Can I use <code>Apache::Util::escape</code> for this? Or is there a better way?</p>\n\n<p><strong>EDIT 1:</strong> I have already mentioned that by unsafe, I mean characters like <code>&lt; &gt; \u201c \u2018 % ; ) ( &amp; +</code> which can be used in SQL-injection. I don't know how to describe this problem better.</p>\n\n<p><strong>EDIT 2:</strong> Here's the code that I am working on -it's an Embedded perl code:</p>\n\n<pre><code>$cgi = CGI-&gt;new();\nmy $param1 = $cgi-&gt;param('param1');\nmy $param2 = $cgi-&gt;param('param2');\nmy $param3 = $cgi-&gt;param('param3');\n\n# I want to remove unsafe characters (&lt; &gt; \u201c \u2018 % ; ) ( &amp; +) from $param1, $param2 and $param3\n# Q is, do I use Apache::Util::escape_uri; even if that's for removing unsafe chars from URI?\n# OR do I use URI::Escape 'uri_escape';? \n$script = &lt;&lt;__HTML__;\n    &lt;script&gt;\n       API.call ({\n            'paramA': '$param1',\n            'paramB': '$param2',\n            'paramC': '$param3'\n        });\n    &lt;/script&gt;\n__HTML__\n</code></pre>\n\n<p><strong>EDIT 3:</strong> If anyone else has the same question, I ended up writing a perl function that looks for certain characters such as \"(\", \"{\", \"$\", \";\", etc and removes them from your provided string parameter.</p>\n\n<p>List of all characters that I am escaping are: \n<code>\";\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", \"~\", \"`\", \"/\", \"&lt;\", \"&gt;\", \"&amp;\", \"|\", \"'\", \"\\\"\", \"\\\\\"</code></p>\n\n<p>Obviously, there's room for exclusions as well.</p>\n"}, {"tags": ["perl", "file", "find", "rule", "file-find"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1607305945, "last_edit_date": 1607305945, "creation_date": 1478802861, "answer_id": 40534694, "question_id": 40534343, "link": "https://stackoverflow.com/questions/40534343/perl-how-to-use-filefindrule-to-list-all-symbolic-links-from-a-given-path/40534694#40534694", "title": "Perl: How to use File::Find::Rule to list all symbolic links from a given path", "body": "<p>Use the <code>symlink</code> method from <a href=\"http://search.cpan.org/%7Erclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm#Matching_Rules\" rel=\"nofollow noreferrer\">-X test synonyms</a> provided in <a href=\"http://search.cpan.org/%7Erclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\">File::Find::Rule</a></p>\n<pre><code>use warnings 'all';\nuse strict;\n\nuse File::Find::Rule;\n\nmy $rule = File::Find::Rule-&gt;new;\n\nmy @links = $rule-&gt;symlink-&gt;in('.');\n\nprint &quot;@links\\n&quot;;\n</code></pre>\n<p>This finds all files which satisfy <code>-l</code> file test in the current directory. Also see <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">-X</a>.</p>\n<p>With the list of links on hand, you can use the <code>-M</code> file test or <a href=\"http://perldoc.perl.org/functions/lstat.html\" rel=\"nofollow noreferrer\">stat</a> (or its <a href=\"http://search.cpan.org/%7Erjbs/perl-5.24.0/lib/File/stat.pm\" rel=\"nofollow noreferrer\">File::stat</a> by-name interface), to sort it out by timestamps of <em>the target files</em>. For example</p>\n<pre><code>use List::Util 'max';\nmy %ts_name = map { (stat)[9] =&gt; $_ } @links;\nmy $latest = $ts_name{ max (keys %ts_name) };\n</code></pre>\n<p>There are other ways to sort/filter/etc a list. If you use <code>-M</code> then you need <code>min</code>.  If you wanted the timestamps <em>for the link itself</em> for some reason, use the <code>lstat</code> instead. The module also provides an <code>mtime</code> method for work with timestamps, but it is meant for search and not suitable for sorting.</p>\n<p>Note that you don't have to actually create an object first, but can directly do</p>\n<pre><code>use File::Find::Rule;\nmy @links = File::Find::Rule-&gt;symlink-&gt;in('.');\n</code></pre>\n<p>To copy/move things use core <a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\">File::Copy</a>, while for temporary files core <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a> is useful.</p>\n"}], "owner": {"reputation": 407, "user_id": 3569927, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/469b6e395aa38f051b8e449aa6ac1061?s=128&d=identicon&r=PG&f=1", "display_name": "Ria", "link": "https://stackoverflow.com/users/3569927/ria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 0, "accepted_answer_id": 40534694, "answer_count": 1, "score": 0, "last_activity_date": 1607305945, "creation_date": 1478801475, "question_id": 40534343, "link": "https://stackoverflow.com/questions/40534343/perl-how-to-use-filefindrule-to-list-all-symbolic-links-from-a-given-path", "title": "Perl: How to use File::Find::Rule to list all symbolic links from a given path", "body": "<p><code>ls /foo/bar/\n</code>\n<code>lrwxr-xr-x    a1 -&gt; ../../../a1\n lrwxr-xr-x    a2 -&gt; ../../../a2\n lrwxr-xr-x    a3 -&gt; ../../../a3</code></p>\n\n<p>This is a curtailed output of ls. </p>\n\n<p>My goal:\n   1. Go to /foo/bar/ and find the latest version of a (which is a symbolic link). So in this case, a3. Copy the contents of a3 to a temp location</p>\n\n<p>I am trying to use <code>File::Find::Rule</code> but I am unable to figure out how to use it to list all the symbolic links. Reading through various Google sites, I see people explaining how to follow the symbolic links but not to list them. </p>\n\n<p>What I have figured out so far:</p>\n\n<p><code>my $filePath = \"/foo/bar\";\n my @files = File::Find::Rule-&gt;file-&gt;in(filePath);</code></p>\n\n<p>This returns an empty array because there there are no files only symbolic links in /foo/bar.\n I also tried \n <code>my @files = File::Find::Rule-&gt;in($makeFilePath)-&gt;extras({follow =&gt;1});</code>\nbut I feel that is asks to follow the symbolic link rather than list them. </p>\n"}, {"tags": ["regex", "perl", "cgi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1478799506, "post_id": 40533687, "comment_id": 68307346, "body": "Check for <code>+</code> in your regex, what should they do?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1478800007, "post_id": 40533687, "comment_id": 68307616, "body": "I realize this is a class assignment, but <a href=\"http://stackoverflow.com/a/39710490/14660\">password checkers like that are obsolete</a>."}, {"owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1478801015, "post_id": 40533687, "comment_id": 68308178, "body": "@Schwern I have no control of the requirements :(  <code>($password =~ &#47;[A-Z]+\\d{2}+\\s+[a-z]{2,3}+-]\\^$&#47;)</code> The last part needs to be a special character, I think everything else looks good."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "edited": false, "score": 0, "creation_date": 1478799766, "post_id": 40533836, "comment_id": 68307481, "body": "<code>$name =~ {2}</code> for 2 inputs (first and last)  <code>$password =~ &#47;[A-Z]+\\d{2}+\\s+[a-z]{2,3}+\\-]\\^$&#47;</code> would that be more like it? It needs to be more like <code>M12 abc@</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "edited": false, "score": 2, "creation_date": 1478799810, "post_id": 40533836, "comment_id": 68307501, "body": "@LauraLee: But that isn&#39;t a regex pattern. It&#39;s not even sensible Perl syntax."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1478799572, "creation_date": 1478799572, "answer_id": 40533836, "question_id": 40533687, "link": "https://stackoverflow.com/questions/40533687/perl-whats-missing-in-my-regexes/40533836#40533836", "title": "PERL: What&#39;s missing in my regexes?", "body": "<p>It's hard to tell what you're trying to do, and getting other people to do your homework for you won't teach you a thing</p>\n\n<pre><code>$name =~ {2}\n</code></pre>\n\n<p>isn't a regular expression at all: you're building an anonymous hash <code>{ 2 =&gt; undef }</code> and using its stringified reference as a pattern. It will be something like <code>HASH(0x71c328)</code> so that isn't going to work</p>\n\n<p>And this one is incomprehensible</p>\n\n<pre><code>$password =~ /[A-Z]+\\d{2}+\\s+[a-z]{2,3}+-]\\^$/\n</code></pre>\n\n<p>It will match something like <code>A99 aaa-]^</code>, but I doubt if that is what you want. What is the plus sign <code>+</code> for after <code>{2,3}</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1478800437, "post_id": 40533935, "comment_id": 68307854, "body": "Why it should not.? <code>use CGI::Carp(&#39;fatalsToBrowser&#39;)</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1478804024, "post_id": 40533935, "comment_id": 68309634, "body": "@mkHun Yup, you can use that, too. You might also want <code>warningsToBrowser</code>. It&#39;s not my first choice because A) people forget and leave it on in production (I wish there was an environment variable) and B) getting the error message is only part of the reason it&#39;s good to be able to run your web code locally from the command line and C) apparently there&#39;s a problem with mod_perl 2."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 6, "last_activity_date": 1478799954, "last_edit_date": 1495541620, "creation_date": 1478799954, "answer_id": 40533935, "question_id": 40533687, "link": "https://stackoverflow.com/questions/40533687/perl-whats-missing-in-my-regexes/40533935#40533935", "title": "PERL: What&#39;s missing in my regexes?", "body": "<blockquote>\n  <p><em>Apache doesn't tell you exactly where you went wrong.</em></p>\n</blockquote>\n\n<p>First, find your Apache error log. It will contain the actual error. I can't tell you where it is, but I'd start with <code>/var/log</code>.</p>\n\n<p>Second, debugging code through a web server just makes things more difficult. You're probably using CGI.pm which can accept arguments on the command line for debugging.</p>\n\n<pre><code>perl /path/to/your/program name='Michael Schwern'\n</code></pre>\n\n<p>Second, <a href=\"https://stackoverflow.com/questions/8023959/why-use-strict-and-warnings#8024241\">turn on strict and warnings</a>. They will point out typos and silly mistakes like this one...</p>\n\n<pre><code>$ perl -w ~/tmp/test.plx name=foo\nOdd number of elements in anonymous hash at /Users/schwern/tmp/test.plx line 5.\nBad name. Enter just two names, your first and last&lt;br/&gt;&lt;br/&gt;\n</code></pre>\n\n<p>That's this.</p>\n\n<pre><code>$name =~ {2}\n</code></pre>\n\n<p>That says to make an anonymous hash with the key 2 and an undefined value. Then stringify it to something like <code>HASH(0x7fca01805668)</code> and then use that as a regex. In other words: nonsense.</p>\n\n<p>What you're looking for is something like this that looks for two words separated by some spaces.</p>\n\n<pre><code>$name =~ m{^(\\w+)\\s+(\\w+)$};\n</code></pre>\n\n<p>Read the <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">Perl regex tutorial</a> for more info.</p>\n"}], "owner": {"reputation": 1, "user_id": 7142587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42edca8a988a402b3e8f5de738df8a1b?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Lee", "link": "https://stackoverflow.com/users/7142587/laura-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1478799954, "creation_date": 1478799013, "question_id": 40533687, "link": "https://stackoverflow.com/questions/40533687/perl-whats-missing-in-my-regexes", "title": "PERL: What&#39;s missing in my regexes?", "body": "<p>This is part of a school project. I cannot figure out what's the problem in my regexes. I have more that work but these are giving me a hard time. Apache doesn't tell you exactly where you went wrong.</p>\n\n<p>First and Last name must be two simple names and output in <strong>Lastname, Firstname</strong> format</p>\n\n<pre><code>my $name = param('name');\n\nif($name =~ {2}) {\n    print \"Name will be stored as $2, $1&lt;br/&gt;&lt;br/&gt;\";\n} else {\n    print \"Bad name. Enter just two names, your first and last&lt;br/&gt;&lt;br/&gt;\";\n}\n</code></pre>\n\n<p>Password must be in this order of regexes. Begin with a single upper case character, 2 digits, a single space, 2-3 lower case letters, one special character (not a letter or digit).</p>\n\n<pre><code>my $password = param('password');\n\nif ($password =~ /[A-Z]+\\d{2}+\\s+[a-z]{2,3}+-]\\^$/) {\nprint \"Password $password was accepted&lt;br/&gt;&lt;br/&gt;\";\n} else {\nprint \"Bad password, $password was not accepted&lt;br/&gt;&lt;br/&gt;\";\n}\n</code></pre>\n"}, {"tags": ["perl", "sorting", "perl-module"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1478781777, "post_id": 40527747, "comment_id": 68295924, "body": "Related, if not duplicate: <a href=\"http://stackoverflow.com/q/8556331/1331451\">stackoverflow.com/q/8556331/1331451</a> - You&#39;d have to do some work for finding those numbers in your strings, but the accepted answer there is what you need construct-wise. You might want to combine that with a Schwartzian Transform."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1478781805, "post_id": 40527747, "comment_id": 68295941, "body": "Are there blablabla_NUMBER with fix occurrence or blablabla &amp; NUMBER could get change like blablabla_blablabla_NUMBER?"}, {"owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1478782060, "post_id": 40527747, "comment_id": 68296100, "body": "@AbhiNickz, thinking a bit more on your question, maybe sometimes can happen that the middle number is not a number. These ocurrences should be appear at the end and sorted of course by the second number (which is always there)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478783706, "post_id": 40527747, "comment_id": 68297122, "body": "We&#39;re having a bit of a discussion down on my answer about your last comment. Can you please clarify for us? Thanks. :)"}], "answers": [{"comments": [{"owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "edited": false, "score": 0, "creation_date": 1478782198, "post_id": 40527987, "comment_id": 68296186, "body": "Thank you! I&#39;m going to try it and accept the answer if it works. Do you know what happen if you haven&#39;t a number in the middle number?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "edited": false, "score": 0, "creation_date": 1478782249, "post_id": 40527987, "comment_id": 68296217, "body": "It will work. As the description of the module says <code>Sort::Naturally -- sort lexically, but sort numeral parts numerically</code>."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 6, "last_activity_date": 1478783039, "last_edit_date": 1478783039, "creation_date": 1478781938, "answer_id": 40527987, "question_id": 40527747, "link": "https://stackoverflow.com/questions/40527747/sort-hash-attending-to-two-parameters/40527987#40527987", "title": "Sort hash attending to two parameters", "body": "<p><a href=\"https://metacpan.org/pod/Sort::Naturally\" rel=\"nofollow noreferrer\">Sort::Naturally</a> to the rescue!</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Sort::Naturally qw(nsort);\nmy %hash = (\n                scaffold_902_159 =&gt; 'v1',\n                scaffold_2_1980420 =&gt; 'v2',\n                scaffold_2_10 =&gt; 'v3',\n                scaffold_10_402 =&gt; 'v4',\n            );\nprint \"$_\\n\" for nsort keys %hash;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>scaffold_2_10\nscaffold_2_1980420\nscaffold_10_402\nscaffold_902_159\n</code></pre>\n\n<hr>\n\n<p>As per your query, tried out some keys which did not have number in middle. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Sort::Naturally qw(nsort);\nmy @keys = qw(\n    should_come_last_9999_0\n    blablabla_10_403\n    scaffold_902_159\n    scaffold_2_1980420\n    scaffold_2_10\n    scaffold_10_402\n    blablabla902_1\n    blablabla901_3\n);\nprint \"$_\\n\" for nsort @keys;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>blablabla_10_403\nblablabla901_3\nblablabla902_1\nscaffold_2_10\nscaffold_2_1980420\nscaffold_10_402\nscaffold_902_159\nshould_come_last_9999_0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1478782638, "post_id": 40528064, "comment_id": 68296435, "body": "The comment <a href=\"http://stackoverflow.com/questions/40527747/sort-hash-attending-to-two-parameters/40528064#comment68296100_40527747\" title=\"sort hash attending to two parameters\">stackoverflow.com/questions/40527747/&hellip;</a> invalidates my answer."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1478783146, "post_id": 40528064, "comment_id": 68296787, "body": "I noticed that Sort::Naturally does a really good job with such set of data. See the output of the second section of my answer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1478783288, "post_id": 40528064, "comment_id": 68296866, "body": "@ChankeyPathak it does. But I understood the question as it shouldn&#39;t sort on the words, which yours does. I think that was a bit ambiguous in the question. What&#39;s going to happen with the <code>no_first_number_1</code> in your solution?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1478783429, "post_id": 40528064, "comment_id": 68296949, "body": "<code>blablabla_10_403,no_first_number_1,scaffold_2_10,scaffold_2_&zwnj;&#8203;1980420,scaffold_10_&zwnj;&#8203;402,scaffold_902_159&zwnj;&#8203;,should_come_last_99&zwnj;&#8203;99_0</code> which is correct I think because it sorted the first column alphabetically."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1478783516, "post_id": 40528064, "comment_id": 68297007, "body": "@ChankeyPathak I think that&#39;s wrong. OP&#39;s comment says <i>These ocurrences should be appear at the end and sorted of course by the second number (which is always there)</i>. That sounds like my last output. But it seems OP either explained that wrong, or hasn&#39;t noticed yet. I hope they come back to at least clarify... :D"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1478783627, "post_id": 40528064, "comment_id": 68297073, "body": "Oh I see. Ha! Let&#39;s wait."}, {"owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "edited": false, "score": 0, "creation_date": 1478788504, "post_id": 40528064, "comment_id": 68300183, "body": "Hi again, so..probably I&#39;ve explained myself wrong, or not in detail. The beginning of each occurrence is the same, I mean, this is not goint to happen: blablabla_10_403,no_first_number_1. But this yes: blablabla_10_403,blablabla_hello_1. I mean, the format of all the words is the same: wordX_N or word_X_N (let&#39;s say that X can be a word or number and N is always number and always separated by &quot;_&quot;). I hope this clarifies the discussion a bit :)"}, {"owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "edited": false, "score": 0, "creation_date": 1478788663, "post_id": 40528064, "comment_id": 68300262, "body": "Example: scaffold_2_30, scaffold_1_100, scaffold_2_10, scaffold_bla_300. Correct output should be: scaffold_1_100, scaffold_2_10, scaffold_2_30, scaffold_bla_300."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1478783211, "last_edit_date": 1478783211, "creation_date": 1478782203, "answer_id": 40528064, "question_id": 40527747, "link": "https://stackoverflow.com/questions/40527747/sort-hash-attending-to-two-parameters/40528064#40528064", "title": "Sort hash attending to two parameters", "body": "<p>This sorts on two columns, and uses the <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow noreferrer\">Schwartzian transform</a> to create those columns from your strings.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy @keys = qw(\n    scaffold_902_159\n    scaffold_2_1980420\n    scaffold_2_10\n    scaffold_10_402\n);\n\n@keys =\n    map { $_-&gt;[0] }                                               # transform back\n    sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] || $a-&gt;[2] &lt;=&gt; $b-&gt;[2] }           # sort\n    map {                                                         # transform\n        m/(\\d+)(?:\\D+(\\d+))/;\n        [ $_, ( defined $2 ? ( $1, $2 ) : ( 0xffffffff, $1 ) ) ]\n    } @keys;\n\nsay for @keys;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>scaffold_2_10\nscaffold_2_1980420\nscaffold_10_402\nscaffold_902_159\n</code></pre>\n\n<p>The data structure returned by the initial transformation <code>map</code> looks like this:</p>\n\n<pre><code>[ 'scaffold_902_159', 902, 159 ]\n</code></pre>\n\n<p>The <code>sort</code> uses that to first sort by index 1 (the <code>902</code>) above with the numerical sort <code>&lt;=&gt;</code>. That operator returns <code>0</code> if both the RHS and the LHS are equal, so the or <code>||</code> continues with the right expression, It then sorts on index 2 (the <code>159</code>).</p>\n\n<p>Because you said the first number is optional, and if only the second number is there those elements should come last, we have to substitute a very high number for that. Without going into 64bit integers, <code>0xffffffff</code> is the highest number we can make.</p>\n\n<p>The second <code>map</code> pulls the full key out of index <code>0</code> of the array reference.</p>\n\n<p>If we add some other things to the input, like the <code>blablablaNUMBER_NUMBER</code> you suggested, it will still only sort <em>on the numbers</em> and ignore the string part completely.</p>\n\n<pre><code>my @keys = qw(\n    should_come_last_9999_0\n    blablabla_10_403\n    scaffold_902_159\n    scaffold_2_1980420\n    scaffold_2_10\n    scaffold_10_402\n    no_first_number_1\n);\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>scaffold_2_10\nscaffold_2_1980420\nscaffold_10_402\nblablabla_10_403\nblablabla902_1\nscaffold_902_159\nshould_come_last_9999_0\nno_first_number_1\n</code></pre>\n"}], "owner": {"reputation": 959, "user_id": 3481031, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2f8b5c98a1b12a073aa6b93f780fb83b?s=128&d=identicon&r=PG&f=1", "display_name": "cucurbit", "link": "https://stackoverflow.com/users/3481031/cucurbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 40527987, "answer_count": 2, "score": 3, "last_activity_date": 1478783211, "creation_date": 1478781219, "last_edit_date": 1478782308, "question_id": 40527747, "link": "https://stackoverflow.com/questions/40527747/sort-hash-attending-to-two-parameters", "title": "Sort hash attending to two parameters", "body": "<p>I have a hash with the keys in the following format:</p>\n\n<pre><code>scaffold_902_159\nscaffold_2_1980420\nscaffold_2_10\nscaffold_10_402\n</code></pre>\n\n<p>I want to print out the hash sorted in the following format:</p>\n\n<pre><code>scaffold_2_10\nscaffold_2_1980420\nscaffold_10_402\nscaffold_902_159\n</code></pre>\n\n<p>So first I have to order numerically attending to the first number and then attending to the last one. I don't want a regular expression searching for \"scaffold_\" since this may vary. I mean, I can have the hash with other format like \"<strong>blablabla_NUMBER_NUMBER</strong>, or <strong>blablablaNUMBER_NUMBER</strong>\". The last part of the key <strong>_NUMBER</strong>, is the only thing that is permanent.</p>\n\n<p>I've this code but only sorts numerically attending to the first number:</p>\n\n<pre><code>my @keys = sort {\n          my ($aa) = $a =~ /(\\d+)/;\n          my ($bb) = $b =~ /(\\d+)/;\n          $aa &lt;=&gt; $bb;\n        } keys %hash;\nforeach my $key (@keys) {\n   print $key;\n}\n</code></pre>\n\n<p>Any suggestion?</p>\n"}, {"tags": ["regex", "perl", "regex-negation"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1478757322, "post_id": 40520785, "comment_id": 68282577, "body": "What does it mean &quot;<i>Plan type which is Direct</i>&quot;? What specific phrase or word from the string do you need?"}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1478757598, "post_id": 40520785, "comment_id": 68282659, "body": "Are you trying to get the word before the last occurrence of <code>Plan</code>?"}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 0, "creation_date": 1478758237, "post_id": 40520785, "comment_id": 68282835, "body": "Did you try it with <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "edited": false, "score": 0, "creation_date": 1478760280, "post_id": 40520949, "comment_id": 68283574, "body": "Thanks for your reply, But it will not work for me,because here I give one example, but I have some other strings in which Plan is single time, So that I need reg-ex which give just ahead string before plan,but plan should   be right side of whole word,please see my edited question again...."}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "edited": false, "score": 1, "creation_date": 1478760382, "post_id": 40520949, "comment_id": 68283616, "body": "You need explain the business better, other no body can help you... do you want the text just before the last occurance of plan ?"}, {"owner": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "edited": false, "score": 0, "creation_date": 1478760644, "post_id": 40520949, "comment_id": 68283722, "body": "yes,exactly I need the text just before the last occurrence of plan"}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "edited": false, "score": 0, "creation_date": 1478760957, "post_id": 40520949, "comment_id": 68283849, "body": "@Sanket Try now again"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "edited": false, "score": 1, "creation_date": 1478767853, "post_id": 40520949, "comment_id": 68287119, "body": "@Sanket: You have not accepted answer to any of your questions. Please see <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478775517, "post_id": 40520949, "comment_id": 68292067, "body": "@Maverick_Mrt: I think it&#39;s rather shabby to ask the OP to accept your answer. I think it&#39;s reasonable for them to wait a day or two and choose the <i>best</i> of whatever answers have been offered. Granted, in this case the OP has a poor track record of accepting anything at all, but I think that&#39;s best solved by posting a link to <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a> beneath the original question."}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478776007, "post_id": 40520949, "comment_id": 68292381, "body": "@Borodin I think it is cheap to downvote an accepted answer when it is already accepted, unless you comment the reason for downvoting it"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478776539, "post_id": 40520949, "comment_id": 68292717, "body": "@Maverick_Mrt: Do you think it&#39;s as cheap as tit-for-tat voting? Whether or not your answer has been accepted has no bearing on its quality, especially when you have <i>asked</i> the OP to accept it. I have often seen accepted answers that are simply wrong and won&#39;t do what is requested. I feel this solution is unnecessarily complicated and, given the level of the OP&#39;s skills, they are unlikely to understand how it works. It is never the best idea to leave someone with black box code that they couldn&#39;t fix if they needed to."}, {"owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "edited": false, "score": 0, "creation_date": 1478776933, "post_id": 40520949, "comment_id": 68292971, "body": "The beginner op has asked 5-6 questions, and hasnt accepted one as answer. It is fair to let him know that, there exists a link to accept answer... and look at his response, it says it served his problem as needed... and what is right for u, may be wrong for me..."}], "tags": [], "owner": {"reputation": 9384, "user_id": 761132, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fa462ba2bc6318a8b2e7662bb8e91aa1?s=128&d=identicon&r=PG", "display_name": "Rizwan M.Tuman", "link": "https://stackoverflow.com/users/761132/rizwan-m-tuman"}, "is_accepted": true, "score": 0, "last_activity_date": 1478760924, "last_edit_date": 1478760924, "creation_date": 1478758122, "answer_id": 40520949, "question_id": 40520785, "link": "https://stackoverflow.com/questions/40520785/how-can-i-get-the-word-preceding-the-last-occurrence-of-a-substring/40520949#40520949", "title": "How can I get the word preceding the last occurrence of a substring?", "body": "<p>Try this:</p>\n\n<pre><code>(\\w+)\\s+Plan(?!.*Plan)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/FGtzrN/3\" rel=\"nofollow noreferrer\">Explanation</a></p>\n\n<p><a href=\"http://ideone.com/sF3YsZ\" rel=\"nofollow noreferrer\">Run the perl code here</a></p>\n\n<pre><code>use strict;\n\nmy $str = 'Birla Sun Life Global Real Estate Fund - Retail Plan - Direct Plan - Growth Option\\';  ';\nmy $regex = qr/(\\w+)\\s+Plan(?!.*Plan)/p;\n\nif ( $str =~ /$regex/g ) {\n  print \"$1\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1478775139, "post_id": 40524413, "comment_id": 68291825, "body": "I wouldn&#39;t be too sure that there are always four fields!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1478771259, "creation_date": 1478771259, "answer_id": 40524413, "question_id": 40520785, "link": "https://stackoverflow.com/questions/40520785/how-can-i-get-the-word-preceding-the-last-occurrence-of-a-substring/40524413#40524413", "title": "How can I get the word preceding the last occurrence of a substring?", "body": "<p>I think you're going about this the wrong way. A magic regex is (IMO) rarely the right solution to a problem.</p>\n\n<p>Why not instead, try <code>split</code> your fields on the delimiters (<code>-</code>):</p>\n\n<pre><code>my $str = 'Birla Sun Life Global Real Estate Fund - Retail Plan - Direct Plan - Growth Option'; \n\nmy ( $fund, $something, $type, $option ) = split /\\s*-\\s*/, $str;\nprint $type,\"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1478774954, "creation_date": 1478774954, "answer_id": 40525723, "question_id": 40520785, "link": "https://stackoverflow.com/questions/40520785/how-can-i-get-the-word-preceding-the-last-occurrence-of-a-substring/40525723#40525723", "title": "How can I get the word preceding the last occurrence of a substring?", "body": "<p>To get the <em>last</em> occurrence of anything in a string, you can start the regex pattern with a greedy match that consumes as much of the string as possible</p>\n\n<p>Here's a solution using your own data. Note that your global <code>/g</code> modifier is superfluous at best, and really doesn't make sense</p>\n\n<p>I've also added the <code>/x</code> modifier, which allows  me to add insignificant white space to the pattern to make it more readable. It's useful on all but the most trivial of patterns</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $pname = 'Birla Sun Life Global Real Estate Fund - Retail Plan - Direct Plan - Growth Option';\nmy $plan_type;\n\nif ( $pname =~ / .* \\b (\\w+) \\s+ plan \\b /ix ) {\n    $plan_type = $1;\n}\n\nprint $plan_type // 'undef', \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code> Direct\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6634729, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8fbd232a5b4a7080d2b06774f176eb51?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/6634729/sanket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 40520949, "answer_count": 3, "score": -3, "last_activity_date": 1478775804, "creation_date": 1478757194, "last_edit_date": 1478775804, "question_id": 40520785, "link": "https://stackoverflow.com/questions/40520785/how-can-i-get-the-word-preceding-the-last-occurrence-of-a-substring", "title": "How can I get the word preceding the last occurrence of a substring?", "body": "<p>I am trying to get the required word by applying a regex pattern to the whole string.</p>\n\n<p>Here is my string:</p>\n\n<pre><code>Birla Sun Life Global Real Estate Fund - Retail Plan - Direct Plan - Growth Option\n\nSBI GOLD FUND - DIRECT PLAN - DIVIDEND\n</code></pre>\n\n<p>I want to get <code>Plan</code> type which is <code>Direct</code></p>\n\n<p>Sometimes <code>Plan</code> appears once and sometimes twice, so the pattern must work for both cases.</p>\n\n<p>Here is what I have written so far:</p>\n\n<pre><code>$pname = 'Birla Sun Life Global Real Estate Fund - Retail Plan - Direct Plan - Growth Option';\n\nif ( $pname =~ / ([^\\s]*) plan(?!^plan$)*/ig ) # regex to get plan type\n{\n    $plan_type = $1;\n}\nprint \"$1\";\n</code></pre>\n\n<p>But it gives the output <code>Retail</code> instead of <code>Direct</code>.</p>\n\n<p>What should I do so that I can get <code>Direct</code> as the <code>Plan</code> type?</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 2, "creation_date": 1478755106, "post_id": 40520403, "comment_id": 68281975, "body": "$sth1-&gt;execute($stmt2) why are you passing in $stmt2 as a parameter to $stmt1?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7134875"}, "reply_to_user": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1478755396, "post_id": 40520403, "comment_id": 68282043, "body": "i want to execute the $stmt2 query so am passing as $stmt2@e4c5"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 1, "creation_date": 1478755552, "post_id": 40520403, "comment_id": 68282077, "body": "it&#39;s a simple matter of spending 30 seconds to read the prepare and execute documentation"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1478774081, "post_id": 40520403, "comment_id": 68291119, "body": "Btw: you set the variable <code>$stm1</code> but then use <code>$stmt1</code> in the <code>prepare()</code> call."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1478756718, "creation_date": 1478756718, "answer_id": 40520693, "question_id": 40520403, "link": "https://stackoverflow.com/questions/40520403/bind-parameter-error-occurs-when-using-mysql-queries-stored-in-variables-using-p/40520693#40520693", "title": "Bind parameter error occurs when using mysql queries stored in variables using perl?", "body": "<p>The typical method call sequence for a non-SELECT statement is:</p>\n\n<pre><code>prepare,\n  execute,\n  execute,\n  execute\n</code></pre>\n\n<p>Now in your case you are trying to insert data into table, which is non-SELECT statement. So you should follow the same approach.</p>\n\n<p>1) Prepare the statement</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"INSERT INTO...\");\n</code></pre>\n\n<p>2) Execute the prepared statement</p>\n\n<pre><code>$sth-&gt;execute(); #pass @bind_values if there are any\n</code></pre>\n\n<p>Alternatively you could also use <code>do()</code> method.</p>\n\n<pre><code>$rows_affected = $dbh-&gt;do(\"INSERT INTO ...\");\n</code></pre>\n\n<p>Please go through the <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">documentation of DBI</a> for more details.</p>\n\n<hr>\n\n<blockquote>\n  <p>DBD::mysql::st execute failed: called with 1 bind variables when 0 are needed</p>\n</blockquote>\n\n<p>You are getting the above error because you are passing another statement to <code>execute</code> method, whereas <code>execute</code> method accepts only bind values, which are none in your case.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1478768847, "last_edit_date": 1495540887, "creation_date": 1478768847, "answer_id": 40523646, "question_id": 40520403, "link": "https://stackoverflow.com/questions/40520403/bind-parameter-error-occurs-when-using-mysql-queries-stored-in-variables-using-p/40523646#40523646", "title": "Bind parameter error occurs when using mysql queries stored in variables using perl?", "body": "<p>I fear I rather confused you with <a href=\"https://stackoverflow.com/questions/40500469/how-can-i-insert-max-time-rows-into-new-database-from-the-old-database-table-usi#comment68251202_40500469\">one of my comments yesterday</a>. Here's what I said:</p>\n\n<blockquote>\n  <p>Looks like this has nothing to do with your Perl. Your SQL is returning the wrong data (for reasons that I don't understand). Here's what to do. Open a mysql session on the source database. Write an SQL statement that returns the correct data. Add the <code>insert into ...</code> clause to the front of that SQL. Execute that SQL from Perl</p>\n</blockquote>\n\n<p>I'll try to unpick the misunderstandings here. But, given how long we've been answering questions on this seemingly simple task, I do wonder if it time for you to give up and employ a programmer to do this for you.</p>\n\n<p>This task has two phases. First you need to identify an SQL statement which selects the data that you interested in. Secondly, you need to convert that <code>select</code> statement into an <code>insert into ...</code> statement and execute that statement from your Perl program.</p>\n\n<p>For the first stage, you don't need Perl at all. You just need a <code>mysql</code> command line program which is connected to your source database. You then try out a few SQL statements until you find one that gives you the data you need. It looks like you think the statement you need is:</p>\n\n<pre><code>select *\nfrom   data_1m.wms\nwhere  time = (select max(time) from wms)\n</code></pre>\n\n<p>That's great. I would probably make two tweaks to that SQL. I'd explicitly list the columns that I'm selecting and I'd specify the database that the <code>wms</code> table is in. So it would look like this:</p>\n\n<pre><code>select time, available, closed, used, busy, reserved, down\nfrom   data_1m.wms\nwhere  time = (select max(time) from data_1m.wms)\n</code></pre>\n\n<p>Now we need to convert that to an <code>insert ...</code> statement. That probably looks like this:</p>\n\n<pre><code>insert into data_current.wms(time,available,closed,used,busy,reserved,down)\nselect time, available, closed, used, busy, reserved, down\nfrom   data_1m.wms\nwhere  time = (select max(time) from data_1m.wms)\n</code></pre>\n\n<p>(That's slightly different to what you had - you don't need the <code>values</code> keyword in an <code>insert ... select ...</code> statement.)</p>\n\n<p>So that's what you need to run from your Perl program. In fact you can test it from your <code>mysql</code> command line program first to ensure that it does the right thing.</p>\n\n<p>Now we come to your current problem. And this is where I start to think that you might be better off just paying someone else to do this for you - because this problem is caused by you simply not reading (or not understanding) the basics of DBI.</p>\n\n<p>Running a query in DBI is a two-stage process. You <code>prepare()</code> the query and that gives you back a statement handle. You then call <code>execute()</code> on that statement handle to actually execute the query. Nowhere in the documentation is it even hinted that you can pass another (new) statement to the <code>execute()</code> method on an existing statement handle. If you want to run another statement then you need to <code>prepare()</code> that statement to get a new statement handle and then run <code>execute()</code> on that statement handle.</p>\n\n<p>(Passing parameters to <code>execute()</code> is allowed in order to define values that are inserted into \"bind points\" in your SQL. That's why you got the error that you did. But you're not using bind points.)</p>\n\n<p>So to do what you wanted to do in your code, you would write code like this:</p>\n\n<pre><code>my $stm1=\"select * from data_1m.wms  where time =(select max(time) from wms)\";\nmy $stmt2=\"insert into data_current.wms(time,available,closed,used,busy,reserved,down) values(select * from data_1m.wms  where time =(select max(time) from wms)\";\nmy $sth1 = $DBH1-&gt;prepare( $stmt1 );\n$sth1-&gt;execute() or print \"Could not insert data\";            \n$sth1-&gt;finish;\nmy $sth2 = $DBH1-&gt;prepare( $stmt2 );\n$sth2-&gt;execute;\n$sth2-&gt;finish;\n$DBH1-&gt;disconnect();\n</code></pre>\n\n<p>But (as I hope I've made clear above) you don't need to do this as <code>$stmt1</code> is completely unnecessary. Also (<a href=\"https://stackoverflow.com/a/40520693/7231\">as Chankey points out</a>) it's far easier to run <code>insert ...</code> statements using the <code>do()</code> method than the <code>prepare()</code>/<code>execute()</code> cycle.</p>\n\n<p>I apologise if my comments yesterday confused you. I really tried to be a clear as possible. But I really think you need to step back and take a couple of deep breaths before continuing with this problem. It is starting to look a bit like you are programming by changing things at random - and that is never a good approach.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7134875"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478768847, "creation_date": 1478755009, "last_edit_date": 1478755264, "question_id": 40520403, "link": "https://stackoverflow.com/questions/40520403/bind-parameter-error-occurs-when-using-mysql-queries-stored-in-variables-using-p", "title": "Bind parameter error occurs when using mysql queries stored in variables using perl?", "body": "<p>I had attached my following code but I struck with the following errors.Can anyone resolve the reason for the issue?</p>\n\n<pre><code>$DBH1-&gt;do(\"USE data_current;\");\n$stm1=\"select * from data_1m.wms  where time =(select max(time) from wms)\";\n$stmt2=\"insert into data_current.wms(time,available,closed,used,busy,reserved,down) values(select * from data_1m.wms  where time =(select max(time) from wms)\";\nmy $sth1 = $DBH1-&gt;prepare( \"$stmt1\" );  \n$sth1-&gt;execute($stmt2) or print \"Could not insert data\";            \n$sth1-&gt;finish;\n$DBH1-&gt;disconnect();\n</code></pre>\n\n<p>Following error occurs:</p>\n\n<blockquote>\n  <p>DBD::mysql::st execute failed: called with 1 bind variables when 0 are\n  needed</p>\n</blockquote>\n"}]