[{"tags": ["regex", "string", "perl", "replace"], "answers": [{"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430356536, "post_id": 29955423, "comment_id": 48035379, "body": "@ikegami: Not so absurde since you copy one of the pattern in your own answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430356642, "post_id": 29955423, "comment_id": 48035413, "body": "Yes, it&#39;s good that you mentioned the better solution, but what&#39;s with the two split solutions you gave?!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430356754, "post_id": 29955423, "comment_id": 48035449, "body": "And no, I didn&#39;t copy anything from you. I had no read past the first paragraph of your answer when I wrote my answer."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430356756, "post_id": 29955423, "comment_id": 48035452, "body": "I haven&#39;t excuse to ask to anyone, but I think that your problem is out of the scope of SO"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430357187, "post_id": 29955423, "comment_id": 48035587, "body": "Other interesting comments?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430357833, "post_id": 29955423, "comment_id": 48035785, "body": "@ikegami: But what do you want? I&#39;m not your psy, find other people for this kind of things"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430358490, "post_id": 29955423, "comment_id": 48035986, "body": "@ikegami: Nobody here must be accountable to you. If you think you have a better way, write it in your own answer, but don&#39;t use comments to promote it."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430358661, "post_id": 29955423, "comment_id": 48036029, "body": "@ikegami: no, I&#39;m not"}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 3, "last_activity_date": 1430345970, "last_edit_date": 1430345970, "creation_date": 1430345193, "answer_id": 29955423, "question_id": 29955363, "link": "https://stackoverflow.com/questions/29955363/regex-split-every-charachter-unless-n/29955423#29955423", "title": "RegEx - Split Every Charachter Unless #N?", "body": "<p>You can try to split with this pattern:</p>\n\n<pre><code>(?:^|(?&lt;=\\d)n|$)(*SKIP)(*FAIL)|\n</code></pre>\n\n<p>The combo of backtracking control verbs <code>(*SKIP)(*FAIL)</code> forces the pattern to fail and to not retry positions on the left. <code>(*SKIP)</code> means <em>if the pattern fails, do not retry all that have been matched on my left</em>. <code>(*FAIL)</code> forces to fail.</p>\n\n<p>But there is a more simple way: Do not split at all!</p>\n\n<p>You can obtain the same result with a simple global research with:</p>\n\n<pre><code>\\dn|.\n</code></pre>\n\n<p>A more conventional way with split:</p>\n\n<pre><code>(?&lt;=\\d)(?!n|$)|(?&lt;!\\d|^)(?=n)|(?&lt;!\\d|^)(?!n|$)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1430502006, "post_id": 29955445, "comment_id": 48103433, "body": "This works, except in scenarios when there is more than 1 digit before &#39;n&#39;. For instance, 10n gets split into 1 and 0n"}], "tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": false, "score": 2, "last_activity_date": 1430345742, "last_edit_date": 1430345742, "creation_date": 1430345348, "answer_id": 29955445, "question_id": 29955363, "link": "https://stackoverflow.com/questions/29955363/regex-split-every-charachter-unless-n/29955445#29955445", "title": "RegEx - Split Every Charachter Unless #N?", "body": "<p>Try this:</p>\n\n<pre><code>(?&lt;!\\d)|(?!n)\n</code></pre>\n\n<p>This will split at every position that <em>either</em> does not follow a digit, <em>or</em> does not precede an 'n'.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430356047, "post_id": 29957270, "comment_id": 48035236, "body": "(<code>\\d</code> matches over 400 characters, but I suspect your input is ASCII, of which it only matches <code>0</code> to <code>9</code>.)"}, {"owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1430502833, "post_id": 29957270, "comment_id": 48103885, "body": "I&#39;ve been using /(?&lt;!\\d)|(?!x)/s and I thought it was working perfectly, but it will split up instances such as 10n into 1 and 0n instead of leaving it intact."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1430503130, "post_id": 29957270, "comment_id": 48104022, "body": "This is the first time you mentioned it shouldn&#39;t split between digits. Adjusted my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1430503515, "last_edit_date": 1430503515, "creation_date": 1430355755, "answer_id": 29957270, "question_id": 29955363, "link": "https://stackoverflow.com/questions/29955363/regex-split-every-charachter-unless-n/29957270#29957270", "title": "RegEx - Split Every Charachter Unless #N?", "body": "<p>When you use <code>split</code>, you need to specify the separator. There is no actual separator in this case, so <code>split</code> is not the best tool for the job. A regex match is.</p>\n\n<pre><code>my @a = /\\d+n?|./g;\n</code></pre>\n\n<p>Doesn't mean it can't be done using <code>split</code>.</p>\n\n<pre><code># Between non-digit and following digit, and\n# Between digit and following non-digit other than \"n\".\nmy @a = split /(?&lt;=\\D)(?=\\d)|(?&lt;=\\d)(?=[^\\dn])/;\n</code></pre>\n\n<p>Knowing that <code>split</code> doesn't try to split at the beginning of the string, and knowing that <code>split</code> removes empty trailing fields by default, the above can be simplified to</p>\n\n<pre><code>my @a = split /(?&lt;!\\d)|(?!\\dn)/;\n</code></pre>\n"}], "owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 29957270, "answer_count": 3, "score": 1, "last_activity_date": 1430503515, "creation_date": 1430344868, "last_edit_date": 1430503323, "question_id": 29955363, "link": "https://stackoverflow.com/questions/29955363/regex-split-every-charachter-unless-n", "title": "RegEx - Split Every Charachter Unless #N?", "body": "<p>I'm looking to individually split a string into individual characters, except sequences of digits shouldn't be split, and digits followed by <code>n</code> shouldn't be <code>split</code></p>\n\n<p>So <code>4h12u/o15n</code> would be split into:</p>\n\n<pre><code>4\nh\n12\nu\n/\no\n15n\n</code></pre>\n\n<p>I've tried several things and it hasn't worked.</p>\n\n<pre><code>(?!\\dn)\n</code></pre>\n"}, {"tags": ["perl", "plot", "charts", "gnuplot"], "comments": [{"owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "edited": false, "score": 0, "creation_date": 1430346282, "post_id": 29954085, "comment_id": 48032019, "body": "Can&#39;t you make the x axis a bit wider, [-1, 2] instead of [0, 1]?"}], "answers": [{"comments": [{"owner": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "edited": false, "score": 0, "creation_date": 1430497631, "post_id": 29955652, "comment_id": 48101112, "body": "This works for the most part, but it adds an additional tic on each edge of the graph. Originally I had x and y tics start at 0, but with the offset option, they start at -1, which is ugly. Can I turn off those -1 tics somehow, or can I just have <code>offsets</code> add white space instead of actual tic values?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "edited": false, "score": 1, "creation_date": 1430498279, "post_id": 29955652, "comment_id": 48101480, "body": "@Ben If you expand the range of your axes, naturally you will get more tics. You can use the <a href=\"https://metacpan.org/pod/Chart::Gnuplot#xtics-ytics-ztics\" rel=\"nofollow noreferrer\"><code>xtics</code> and <code>ytics</code></a> options to manually set the range where tics are shown."}, {"owner": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "edited": false, "score": 0, "creation_date": 1430498731, "post_id": 29955652, "comment_id": 48101713, "body": "I&#39;m not sure I understand how that fixes the problem. My xrange is set to [0, &#39;*&#39;], and my yrange is [0, 10]. The offset apparently expands that range, so if I change the ranges to [1, &#39;*&#39;] and [1, 9] respectively, I&#39;m back where I was before using offset, with no padding."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "edited": false, "score": 1, "creation_date": 1430498803, "post_id": 29955652, "comment_id": 48101760, "body": "@Ben I said to change the <code>xtics</code> and <code>ytics</code> options, not <code>xrange</code> and <code>yrange</code>. Please see the link in my previous comment."}, {"owner": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "edited": false, "score": 0, "creation_date": 1430516265, "post_id": 29955652, "comment_id": 48110525, "body": "Aha, indeed you did. That works! Thank you. It doesn&#39;t seem possible to prevent the last x tic from being printed, since the range is dynamic (ending with *) and I can&#39;t do <code>*-1</code> or just <code>-1</code>. But at least I can get rid of the x=-1, y=-1, and y=11 tics."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "edited": false, "score": 0, "creation_date": 1430516787, "post_id": 29955652, "comment_id": 48110767, "body": "@Ben You could find the maximum x value in your data set using <a href=\"http://perldoc.perl.org/List/Util.html#%24num-=-max-@list\" rel=\"nofollow noreferrer\"><code>List::Util::max</code></a> and set the xtics <code>end</code> property based on that, but that seems like a lot of extra work for little gain."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "edited": false, "score": 1, "creation_date": 1430619446, "post_id": 29955652, "comment_id": 48137418, "body": "@Ben You could also try using <code>GPVAL_DATA_X_MIN</code> like in <a href=\"http://stackoverflow.com/a/13583689/176646\">this SO post</a>. Unfortunately, you can&#39;t access <code>GPVAL_*</code> variables until after a plot has been created, so I think you would have to set your tic options using <code>$chart-&gt;set(...)</code> <i>after</i> calling <code>$chart-&gt;plot2d(...)</code>. Probably not ideal, but another option to consider."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1430351920, "last_edit_date": 1430351920, "creation_date": 1430346294, "answer_id": 29955652, "question_id": 29954085, "link": "https://stackoverflow.com/questions/29954085/can-i-pad-a-plot-in-chartgnuplot-perl/29955652#29955652", "title": "Can I pad a plot in Chart::Gnuplot (Perl)?", "body": "<p>You can use <a href=\"http://www.gnuplot.info/docs_5.0/gnuplot.pdf#page145\" rel=\"nofollow noreferrer\">offsets</a>:</p>\n\n<blockquote>\n  <p>Offsets provide a mechanism to put an empty boundary around the data inside an autoscaled graph. The offsets only affect the x1 and y1 axes, and only in 2D \u2018plot\u2018 commands.</p>\n  \n  <p>Syntax:</p>\n\n<pre><code>set offsets &lt;left&gt;, &lt;right&gt;, &lt;top&gt;, &lt;bottom&gt;\nunset offsets\nshow offsets\n</code></pre>\n  \n  <p>Each offset may be a constant or an expression. Each defaults to 0. By default, the left and right offsets are given in units of the first x axis, the top and bottom offsets in units of the first y axis. Alternatively, you may specify the offsets as a fraction of the total axis range by using the keyword \"graph\".</p>\n</blockquote>\n\n<p>The following adds a 10% offset to each axis:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Chart::Gnuplot;\n\nmy @x = (0, 0, 1);\nmy @y = (3, 4, 10);\n\nmy $chart = Chart::Gnuplot-&gt;new(\n    output  =&gt; 'gnuplot.png',\n    xrange  =&gt; [0, 1],\n    yrange  =&gt; [0, 10],\n    offsets =&gt; 'graph 0.1, graph 0.1, graph 0.1, graph 0.1'\n);\n\nmy $dataset = Chart::Gnuplot::DataSet-&gt;new(\n    xdata =&gt; \\@x,\n    ydata =&gt; \\@y\n);\n\n$chart-&gt;plot2d($dataset);\n</code></pre>\n\n<p>(<code>Chart::Gnuplot</code> doesn't have an <code>offsets</code> option, but if you supply an option that it doesn't recognize, it simply <a href=\"https://metacpan.org/pod/Chart::Gnuplot#Chart-Options-Not-Mentioned-Above\" rel=\"nofollow noreferrer\">converts it</a> to a Gnuplot <code>set</code> statement.)</p>\n\n<h3>Output:</h3>\n\n<p><img src=\"https://i.stack.imgur.com/vLbTT.png\" alt=\"plot with offsets\"></p>\n"}], "owner": {"reputation": 256, "user_id": 1054633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4613fb23759ace5f29897621d58eaadc?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1054633/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 29955652, "answer_count": 1, "score": 2, "last_activity_date": 1430351920, "creation_date": 1430340004, "last_edit_date": 1430340664, "question_id": 29954085, "link": "https://stackoverflow.com/questions/29954085/can-i-pad-a-plot-in-chartgnuplot-perl", "title": "Can I pad a plot in Chart::Gnuplot (Perl)?", "body": "<p>I am creating a graph with Chart::Gnuplot in Perl. When I have data points on the extreme edges of the plot area, they are difficult to see against the black plot border:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vIZHA.jpg\" alt=\"plot without padding\"></p>\n\n<p>(Can you see the plot points on the edge at (0,3) and (0,4)?)</p>\n\n<p>Is there a way to pad the plot area with whitespace so that plot points on the edges of the graph are offset from the plot border?</p>\n\n<p>Instead of this:</p>\n\n<pre><code>----------\n|  +     +\n+        |\n|     +  |\n----------\n</code></pre>\n\n<p>...I want it to look more like this:</p>\n\n<pre><code>--------------\n|    +     + |\n| +          |\n|       +    |\n--------------\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1430338379, "post_id": 29953518, "comment_id": 48027957, "body": "Within 13 chars of what? (The start of <code>cat</code>? The end of <code>cat</code>? The end of the word starting with <code>cat</code>?)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1430338549, "post_id": 29953518, "comment_id": 48028058, "body": "What exactly do you want to obtain? (The positions of the words? The characters in between? All the matching characters starting with <code>cat</code> and ending with <code>dog</code>?)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1430339129, "post_id": 29953518, "comment_id": 48028399, "body": "And what about <code>catcatdogdog</code>. How many occurrences is that?"}, {"owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 2, "creation_date": 1430340217, "post_id": 29953518, "comment_id": 48029034, "body": "This looks a lot like homework. It also doesn&#39;t make any sense."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1430339221, "last_edit_date": 1430339221, "creation_date": 1430338260, "answer_id": 29953589, "question_id": 29953518, "link": "https://stackoverflow.com/questions/29953518/perl-search-term/29953589#29953589", "title": "Perl search term", "body": "<p>I'd use a regular expression evaluated by the match operator. You'd use the <code>g</code> modifier of the match operator to find all occurrences.</p>\n\n<pre><code>while ($str =~ /...pattern.../g) {\n   ...\n}\n</code></pre>\n\n<p>Refer to your class notes on regular expressions to compose the pattern you need.</p>\n\n\n"}, {"tags": [], "owner": {"reputation": 1329, "user_id": 1924274, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cae5d0f32db0b220e470a24594e0aeb9?s=128&d=identicon&r=PG", "display_name": "dmc7z", "link": "https://stackoverflow.com/users/1924274/dmc7z"}, "is_accepted": true, "score": 0, "last_activity_date": 1430356439, "creation_date": 1430356439, "answer_id": 29957383, "question_id": 29953518, "link": "https://stackoverflow.com/questions/29953518/perl-search-term/29957383#29957383", "title": "Perl search term", "body": "<p>The following should work...</p>\n\n<pre><code>$str = \"sdfcatsdfdogffdfcatsdfjljlfflkfjflkjfdogsfsd\";\n@arr = $str =~ /(cat).{0,10}dog/sgi;\nprint join(',', @arr), \"\\n\";\n</code></pre>\n\n<p>s to match over newlines, g to extract all matched instances, and i to ignore case.</p>\n\n<p>I'm not sure what you mean by 'within 13', but I've assumed here that as many as 10 characters can separate the 't' in cat from the 'd' in dog.</p>\n"}], "owner": {"reputation": 113, "user_id": 3668719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1cb8efe2c480a2956049045e1074249?s=128&d=identicon&r=PG&f=1", "display_name": "4ice", "link": "https://stackoverflow.com/users/3668719/4ice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1607436965, "accepted_answer_id": 29957383, "answer_count": 2, "score": -5, "last_activity_date": 1430356439, "creation_date": 1430338089, "last_edit_date": 1430338161, "question_id": 29953518, "link": "https://stackoverflow.com/questions/29953518/perl-search-term", "closed_reason": "Needs more focus", "title": "Perl search term", "body": "<p>I want to write the following statement as a Perl search expression:</p>\n\n<p>Find all occurrences of the word \"cat\" followed by the word \"dog\" within 13 characters. </p>\n\n<p>So for example the text \"<strong>cat</strong>ajdwos <strong>dog</strong>qwzv\" would be a result.</p>\n\n<p>Do someone know how to do this?</p>\n"}, {"tags": ["perl", "stdin", "subroutine"], "comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1430332797, "post_id": 29951806, "comment_id": 48024622, "body": "What about it doesn&#39;t work? Does it fail to clear the screen but otherwise continue executing? Does it hang? Does it do something else?"}, {"owner": {"reputation": 289, "user_id": 1073331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e31768448f89847b9485c4d4ba7f4ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1073331/daniel"}, "reply_to_user": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1430333189, "post_id": 29951806, "comment_id": 48024895, "body": "Sorry, yeah it wasn&#39;t clear. I added more detail above, but Politank-Z below has pointed out the problem so it&#39;s solved now."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1430337467, "post_id": 29951806, "comment_id": 48027462, "body": "Unrelated: <code>&amp;restart</code> should be <code>restart()</code>"}, {"owner": {"reputation": 289, "user_id": 1073331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e31768448f89847b9485c4d4ba7f4ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1073331/daniel"}, "edited": false, "score": 0, "creation_date": 1430483576, "post_id": 29951806, "comment_id": 48093022, "body": "Why is this? I see people say to avoid the &amp;, but my Learning Perl Schwartz book says that&#39;s the way to do it. Obviously it&#39;s a bit old now but why did it change?"}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 1073331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e31768448f89847b9485c4d4ba7f4ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1073331/daniel"}, "edited": false, "score": 0, "creation_date": 1430333088, "post_id": 29951921, "comment_id": 48024825, "body": "Perfect thanks! It seems so obvious when someone explains it to you!"}], "tags": [], "owner": {"reputation": 3169, "user_id": 4114124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k73hh.jpg?s=128&g=1", "display_name": "Politank-Z", "link": "https://stackoverflow.com/users/4114124/politank-z"}, "is_accepted": true, "score": 3, "last_activity_date": 1430332789, "creation_date": 1430332789, "answer_id": 29951921, "question_id": 29951806, "link": "https://stackoverflow.com/questions/29951806/perl-subroutine-from-reading-stdin-press-enter-to-reset-only-works-the-first/29951921#29951921", "title": "perl subroutine from reading STDIN (&quot;Press enter to reset&quot;) only works the first time", "body": "<p>In <code>sub restart</code> you are looping on <code>&lt;STDIN&gt;</code> again. This will continue to loop, without returning to the main loop, until STDIN receives an EOF. You could put a <code>return</code> after <code>print $prompt;</code> to return to the main loop.</p>\n"}], "owner": {"reputation": 289, "user_id": 1073331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e31768448f89847b9485c4d4ba7f4ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1073331/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 29951921, "answer_count": 1, "score": 0, "last_activity_date": 1430333143, "creation_date": 1430332459, "last_edit_date": 1430333143, "question_id": 29951806, "link": "https://stackoverflow.com/questions/29951806/perl-subroutine-from-reading-stdin-press-enter-to-reset-only-works-the-first", "title": "perl subroutine from reading STDIN (&quot;Press enter to reset&quot;) only works the first time", "body": "<p>I have made a little perl program for a kids demonstration and I'm trying to keep the screen clean and simple with a <code>clear</code> subroutine, but it's only working the first time, and then will not respond to input, only clearing the screen, and I can't work out why. I'm also sure that there's a simpler way to do this in general, so maybe the whole thing should be scrapped.</p>\n\n<p>There is a prompt for a query from STDIN, then once it's checked the database it calls the <code>restart</code> sub. </p>\n\n<p>What I have:</p>\n\n<pre><code>while (my $seq = &lt;STDIN&gt;){\n  chomp($seq);\n  if (exists $references{$seq}){\n    ... blah blah blah\n    sleep(2);\n    &amp;restart;\n  }else{\n    print \"\\nOops! This  doesn't exist!\\n\";\n    sleep(2);\n    &amp;restart;\n  }\n}\nsub restart {\n  print \"\\nPress Enter to restart\\n\";\n  while (my $in = &lt;STDIN&gt;){\n   if($in eq \"\\n\"){\n     system(\"clear\");\n     print $prompt;\n   }\n  }\n}\n</code></pre>\n\n<p>Thanks for looking!</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 1, "creation_date": 1430326706, "post_id": 29949682, "comment_id": 48020810, "body": "&quot;Can&#39;t locate loadable object for module DBD::Sybase&quot; is not the same thing as Can&#39;t locate DBD::Sybase. It&#39;s looking for a loadable library that might not have installed on your computer. The .pm file tells you that the &quot;wrapper&quot; code is there, but it doesn&#39;t tell you the native code is there which is loaded to do the c-level operations."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1430326830, "post_id": 29949682, "comment_id": 48020900, "body": "Do you really have a path <code>...&#47;DBI&#47;Sybase.pm</code> [sic]?  I don&#39;t know Sybase per se, but it&#39;s unusual for drivers to install under <code>DBI&#47;</code> rather than under <code>DBD&#47;</code>  Perhaps someone manually botched your DBD-Sybase install."}, {"owner": {"reputation": 3, "user_id": 4847361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H8BvPO393Ks/AAAAAAAAAAI/AAAAAAAAAK4/qr395hShLdA/photo.jpg?sz=128", "display_name": "Sebasti&#227;o Burnay", "link": "https://stackoverflow.com/users/4847361/sebasti%c3%a3o-burnay"}, "edited": false, "score": 0, "creation_date": 1430327324, "post_id": 29949682, "comment_id": 48021249, "body": "In an act of desperation I&#39;ve copied the Sybase.pm to the DBD/, I can remove that .pm but it does not make a difference (I&#39;ve tried it)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4847361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H8BvPO393Ks/AAAAAAAAAAI/AAAAAAAAAK4/qr395hShLdA/photo.jpg?sz=128", "display_name": "Sebasti&#227;o Burnay", "link": "https://stackoverflow.com/users/4847361/sebasti%c3%a3o-burnay"}, "edited": false, "score": 0, "creation_date": 1430385752, "post_id": 29950344, "comment_id": 48047851, "body": "You were right, I&#39;ve removed the copied files and reinstalled the Sybase with       sudo apt-get install --reinstall libdbd-sybase-perl --force-yes -y"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1430328367, "last_edit_date": 1430328367, "creation_date": 1430327740, "answer_id": 29950344, "question_id": 29949682, "link": "https://stackoverflow.com/questions/29949682/dbdsybase-error/29950344#29950344", "title": "DBD::Sybase error", "body": "<blockquote>\n  <p>When I try to install DBD::Sybase CPAN tells me it's already installed:</p>\n</blockquote>\n\n<p>That simply means it found a DBD/Sybase.pm. No tests are performed; the module isn't even loaded.</p>\n\n<blockquote>\n  <p>In an act of desperation I've copied the Sybase.pm to the DBD/</p>\n</blockquote>\n\n<p>That's the cause of the error you're asking about. Perl is finding the <code>.pm</code> you copied over, but not the other files created as part of the installation process.</p>\n\n<p>Delete the files you created<sup>[1]</sup>, then install the module properly (e.g. using your system's package manager if it has one, or <code>cpan DBD::Sybase</code> if it doesn't).</p>\n\n<hr>\n\n<ol>\n<li><p>You appear to have created at least the following files:</p>\n\n<ul>\n<li><code>/usr/local/lib/perl/5.14.2/Sybase.pm</code></li>\n<li><code>/usr/local/lib/perl/5.14.2/DBD/Sybase.pm</code></li>\n<li><code>/usr/local/lib/perl/5.14.2/DBI/Sybase.pm</code></li>\n</ul></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 0, "last_activity_date": 1430329154, "creation_date": 1430329154, "answer_id": 29950773, "question_id": 29949682, "link": "https://stackoverflow.com/questions/29949682/dbdsybase-error/29950773#29950773", "title": "DBD::Sybase error", "body": "<p>I would try and install it via apt</p>\n\n<pre><code>sudo apt-get install libdbd-sybase-perl -y\n</code></pre>\n\n<p>I've found CPAN to sometimes miss dependencies.</p>\n"}, {"tags": [], "owner": {"reputation": 8410, "user_id": 202553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Clpiv.jpg?s=128&g=1", "display_name": "knb", "link": "https://stackoverflow.com/users/202553/knb"}, "is_accepted": false, "score": 2, "last_activity_date": 1430333436, "last_edit_date": 1495541674, "creation_date": 1430332590, "answer_id": 29951860, "question_id": 29949682, "link": "https://stackoverflow.com/questions/29949682/dbdsybase-error/29951860#29951860", "title": "DBD::Sybase error", "body": "<p>I got it working with a different setup.</p>\n\n<p>Don't use DBD::Sybase, but install freetds, unixodbc, and then DBD::ODBC. In the freetds.conf file set the appropriate parameters. Mine looks like this</p>\n\n<pre><code>[myMSSL]\n        host = 111.22.33.44\n        port = 1433\n        tds version = 7.2\n        client charset = UTF-8\n</code></pre>\n\n<p>and /etc/odbc.ini</p>\n\n<pre><code>[mySQSL_mydb]\nAPP = unixodbc\nDescription     = Database mydb on myMSSQL\nDriver          = TDSdriver\nServer          = myhost\nDatabase        = mydb\nPort            = 1433\n#Trace           = No\n</code></pre>\n\n<p>I think these are the packages that you need.</p>\n\n<ul>\n<li>libdbd-freetds - Freetds database server driver for libdbi </li>\n<li>tdsodbc -ODBC driver for connecting to MS SQL and Sybase SQL servers</li>\n<li>freetds-bin - FreeTDS command-line utiliti</li>\n</ul>\n\n<p>ALternatively, see also this post:\n<a href=\"https://stackoverflow.com/questions/17818688/using-ubuntu-how-do-i-install-dbdsybase-from-cpan\">Using Ubuntu, how do I install DBD::Sybase from CPAN?</a></p>\n\n<p>(and some others, e.g this one: <a href=\"https://stackoverflow.com/questions/704631/access-sql-server-from-solaris/706303#706303\">Access SQL Server from Solaris</a>)</p>\n"}], "owner": {"reputation": 3, "user_id": 4847361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H8BvPO393Ks/AAAAAAAAAAI/AAAAAAAAAK4/qr395hShLdA/photo.jpg?sz=128", "display_name": "Sebasti&#227;o Burnay", "link": "https://stackoverflow.com/users/4847361/sebasti%c3%a3o-burnay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5752, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1430333436, "creation_date": 1430325569, "last_edit_date": 1430332998, "question_id": 29949682, "link": "https://stackoverflow.com/questions/29949682/dbdsybase-error", "title": "DBD::Sybase error", "body": "<p>First of all, let me thank you for your time and knowledge sharing, I'm kind of an ignorant in trems of perl modules</p>\n\n<p>I have a 64bit ubuntu Server 12.04, with Perl version 14, subversion 2 (v5.14.2) built for x86_64-linux-gnu-thread-multi and CPAN exploration and modules installation (v2.10).</p>\n\n<p>I'm trying to use a perl script accessing a Microsoft SQL Server and I'm having a really hard time upon the DBD::Sybase module</p>\n\n<p>When I try to install DBD::Sybase CPAN tells me it's already installed:</p>\n\n<pre><code>cpan[1]&gt; install DBD::Sybase\nReading '/root/.cpan/Metadata'\n  Database was generated on Wed, 29 Apr 2015 14:53:21 GMT\nDBD::Sybase is up to date (1.15).\n</code></pre>\n\n<p>I also find multiple Sybase.pm files on my filesystem, some of them are under Perl path</p>\n\n<pre><code>root@server:# find /* -name Sybase.pm\n/home/usriten/download/DBD-Sybase-1.15/Sybase.pm\n/root/.cpan/build/DBD-Sybase-1.15-TtUI0T/Sybase.pm\n/root/.cpan/build/DBD-Sybase-1.15-kNqdf7/Sybase.pm\n/root/.cpan/build/DBD-Sybase-1.15-rZgcTa/Sybase.pm\n/usr/local/lib/perl/5.14.2/Sybase.pm\n/usr/local/lib/perl/5.14.2/DBD/Sybase.pm\n/usr/local/lib/perl/5.14.2/DBI/Sybase.pm\n</code></pre>\n\n<p>But when I try to run my script it returns an error on a line that calls 'if ($self->{handle} = DBI->connect('</p>\n\n<pre><code># ./check_mssql_health --hostname &lt;MSSQL_Server_IP&gt; --username &lt;SQL_User&gt; --password &lt;Pass&gt; --mode connection-time\nmode connection-time\nCRITICAL - cannot connect to &lt;MSSQL_Server_IP&gt;. install_driver(Sybase) failed: Can't locate loadable object for module DBD::Sybase in @INC (@INC contains: . /etc/perl /usr/local/lib/perl/5.14.2 /usr/local/share/perl/5.14.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.14 /usr/share/perl/5.14 /usr/local/lib/site_perl) at (eval 10) line 3\nCompilation failed in require at (eval 10) line 3.\nPerhaps a module that DBD::Sybase requires hasn't been fully installed\n at ./check_mssql_health line 3192\n</code></pre>\n\n<p>I've already spent a lot of time scavenging posts but I did not find a solution or at least one I could understand and Implement.</p>\n\n<p>Best regards, Sebasti\u00e3o</p>\n"}, {"tags": ["perl", "tcp", "binding"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430332161, "post_id": 29951032, "comment_id": 48024247, "body": "Absolutely. Well spotted"}, {"owner": {"reputation": 1, "user_id": 4851267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a44255edcb3d539768b7fd598692fbc?s=128&d=identicon&r=PG", "display_name": "iptablewnew", "link": "https://stackoverflow.com/users/4851267/iptablewnew"}, "edited": false, "score": 0, "creation_date": 1430406332, "post_id": 29951032, "comment_id": 48062116, "body": "Thanks for your feedback :-) Unfortunately, I have tried with quotes, also by using a variable, but I get the exact same error message. Do you think it has something to do with the SMSC itself ?"}], "tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": false, "score": 1, "last_activity_date": 1430330109, "creation_date": 1430330109, "answer_id": 29951032, "question_id": 29950345, "link": "https://stackoverflow.com/questions/29950345/simple-smpp-perl-script/29951032#29951032", "title": "Simple SMPP Perl Script", "body": "<p>Try to quote the IP address:</p>\n\n<pre><code>Net::SMPP-&gt;new_transmitter(\"192.168.1.15\", ...);\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://programmer.stackexchange.com", "http://programmers.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1292524346, "open_beta_date": 1283972400, "closed_beta_date": 1283367600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon@2.png", "twitter_account": "StackSoftEng", "favicon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/apple-touch-icon.png", "audience": "professionals, academics, and students working within the systems development life cycle", "site_url": "https://softwareengineering.stackexchange.com", "api_site_parameter": "softwareengineering", "logo_url": "https://cdn.sstatic.net/Sites/softwareengineering/Img/logo.png", "name": "Software Engineering", "site_type": "main_site"}, "on_date": 1430327719, "question_id": 280485}, "owner": {"reputation": 1, "user_id": 4851267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a44255edcb3d539768b7fd598692fbc?s=128&d=identicon&r=PG", "display_name": "iptablewnew", "link": "https://stackoverflow.com/users/4851267/iptablewnew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448382379, "creation_date": 1430316103, "question_id": 29950345, "link": "https://stackoverflow.com/questions/29950345/simple-smpp-perl-script", "title": "Simple SMPP Perl Script", "body": "<p>I need your help/advices on my very short script I wrote in Perl in order to send SMS via SMPP protocol. </p>\n\n<p>I got a SMS gateway which is perfectly working (sending SMS via HTML request or via web interface works), let's say this gateway has IP 192.168.1.15.\nIts SMPP service is listening to TCP 2775 (I can successfully telnet to 2775, so I guess SMPP service is working on my SMS gateway)</p>\n\n<pre><code>my $smpp = Net::SMPP-&gt;new_transmitter(192.168.1.15,\n                                       port=&gt;2775,\n                                       system_id =&gt;\"administrator\",\n                                       password =&gt;\"passwdexample\") or die;\n\n$resp_pdu = $smpp-&gt;submit_sm(destination_addr =&gt; '+400123456789',\n                              short_message =&gt; 'test message') or die;\n\ndie \"Response indicated error: \" . $Resp_PDU-&gt;explain_status() if $resp_pdu-&gt;status;\n</code></pre>\n\n<p>When I run the script, here the error I got :</p>\n\n<blockquote>\n  <p>Response indicated error: Incorrect BIND Status for given command (ESME_RINVBNDS TS=0x00000004) at C:\\temp\\smpptest.pl line .</p>\n</blockquote>\n\n<p>Unfortunately, I haven't find so much help on internet, but according to this link : <a href=\"https://www.openmarket.com/customer-center/documentation/SMSSMPP_APIGuide/index.htm#76998.htm\" rel=\"nofollow\">SMPP Errors Codes</a> It says :</p>\n\n<blockquote>\n  <p>You must bind first before any other request is handled.</p>\n</blockquote>\n\n<p>However, my bind is done with new_transmitter, and I don't get any errors at this point, so I don't understand how it cannot bind the TCP session (my credentials are corrects, I tried that in a telnet session). </p>\n\n<p>That's the first time I use such a plugin, so maybe I'm missing something, and maybe someone has already met this error ! </p>\n\n<p>Many thanks for your help :-)</p>\n"}, {"tags": ["perl", "compare"], "comments": [{"owner": {"reputation": 8685, "user_id": 2743458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8R0W.jpg?s=128&g=1", "display_name": "bloodyKnuckles", "link": "https://stackoverflow.com/users/2743458/bloodyknuckles"}, "edited": false, "score": 3, "creation_date": 1430312420, "post_id": 29944441, "comment_id": 48009743, "body": "You mention an array. I don&#39;t see an array in your code. If you really are working with an array this might help: <a href=\"http://stackoverflow.com/questions/2860226/how-can-i-check-if-a-perl-array-contains-a-particular-value\" title=\"how can i check if a perl array contains a particular value\">stackoverflow.com/questions/2860226/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1430315982, "post_id": 29944534, "comment_id": 48012763, "body": "reserve and for flow control; use &amp;&amp; in expressions"}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 1, "creation_date": 1430342665, "post_id": 29944534, "comment_id": 48030436, "body": "You should avoid using <code>grep</code> for this: <a href=\"https://metacpan.org/pod/release/THALJEF/Perl-Critic-1.125/lib/Perl/Critic/Policy/BuiltinFunctions/ProhibitBooleanGrep.pm\" rel=\"nofollow noreferrer\">metacpan.org/pod/release/THALJEF/Perl-Critic-1.125/lib/Perl/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 1, "creation_date": 1430350308, "post_id": 29944534, "comment_id": 48033574, "body": "@VadimPushtaev That is certainly valid when you&#39;re checking if something <i>is</i> in an array, but in this case, we&#39;re checking if something is <i>not</i> in an array, which necessarily requires iterating through every single element. You could use <code>grep</code> or <code>List::MoreUtils::none</code>, pick your poison."}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1430372385, "post_id": 29944534, "comment_id": 48040039, "body": "@ThisSuitIsBlackNot, no, that&#39;s wrong. <code>none</code> doesn&#39;t necessarily iterate through every single element, it stops after the first match, just like <code>any</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 0, "creation_date": 1430392755, "post_id": 29944534, "comment_id": 48052324, "body": "@VadimPushtaev Ah, you&#39;re right. You only have to iterate through every element if there are no matches."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1430312412, "creation_date": 1430312412, "answer_id": 29944534, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array/29944534#29944534", "title": "Check specific value not in array", "body": "<p>$a is not in the array if it's different to the first element <strong>and</strong> it's different to the second one, too.</p>\n\n<pre><code>if ($x ne 'value1' and $x ne 'value2') {\n</code></pre>\n\n<p>For a real array of any size:</p>\n\n<pre><code>if (not grep $_ eq $x, @array) {\n</code></pre>\n\n<p>(I use <code>$x</code> instead of <code>$a</code>, as <code>$a</code> is special - see <a href=\"http://p3rl.org/perlvar\">perlvar</a>.)</p>\n"}, {"comments": [{"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 0, "creation_date": 1430342655, "post_id": 29944579, "comment_id": 48030430, "body": "You should avoid using <code>grep</code> for this: <a href=\"https://metacpan.org/pod/release/THALJEF/Perl-Critic-1.125/lib/Perl/Critic/Policy/BuiltinFunctions/ProhibitBooleanGrep.pm\" rel=\"nofollow noreferrer\">metacpan.org/pod/release/THALJEF/Perl-Critic-1.125/lib/Perl/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 1, "creation_date": 1430408296, "post_id": 29944579, "comment_id": 48063701, "body": "@VadimPushtaev: I think <i>should avoid</i> is overstating it. This is simply one of the edicts of <i>Perl Best Practices</i>, and the reason is that <code>grep</code> compares <i>all</i> elements of the list, regardless of whether an earlier match could short-circuit the process. As long as this is borne in mind, <code>grep</code> is a fine way of doing this, especially since the list is only two items in length, and the extra computing would be insignificant in any code that also reads data from a disk file"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1430312510, "creation_date": 1430312510, "answer_id": 29944579, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array/29944579#29944579", "title": "Check specific value not in array", "body": "<pre><code>if ($a ne ('value1' || 'value2')\n</code></pre>\n\n<p>evaluates to</p>\n\n<pre><code>if ($a ne 'value1')\n</code></pre>\n\n<p>and </p>\n\n<pre><code>if (($a ne 'value1' ) || ($a ne 'value2' ))\n</code></pre>\n\n<p>is always TRUE.</p>\n\n<p>You might try</p>\n\n<pre><code>if ($a ne 'value1' and $a ne 'value2')\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (!grep{$a eq $_} 'value1', 'value2')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1430322386, "post_id": 29944686, "comment_id": 48017998, "body": "I think the way the sample code is presented assumes an <code>@array</code> somewhere which the value of <code>$a</code> is matching against. It&#39;s not the clearest example code but the OP should be the one to change it."}], "tags": [], "owner": {"reputation": 494, "user_id": 1688102, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8886d1bb7b7e7ac7915022bbfdda7b15?s=128&d=identicon&r=PG", "display_name": "VAR121", "link": "https://stackoverflow.com/users/1688102/var121"}, "is_accepted": false, "score": -1, "last_activity_date": 1430312774, "creation_date": 1430312774, "answer_id": 29944686, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array/29944686#29944686", "title": "Check specific value not in array", "body": "<p>Your variable <code>$a</code> is not evaluated as a <code>array</code> without <code>[INDEX]</code> index, but is been treated as a scalar.</p>\n\n<p>Two value <code>array</code>:</p>\n\n<p><code>$array[0] = \"X\";\n $array[1] = \"Y\";</code></p>\n\n<p>or </p>\n\n<p><code>@array = qw/X Y/;</code></p>\n\n<p>Condition check using <code>if</code>:</p>\n\n<p><code>if ( $array[0] ne \"Your-String\" || $array[1] ne \"Your-String\")</code></p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1430314538, "post_id": 29945263, "comment_id": 48011509, "body": "I for one am going to miss &quot;<code>~~</code>&quot; if/when it goes away.  There&#39;s always  <a href=\"https://metacpan.org/pod/match::simple\" rel=\"nofollow noreferrer\"><code>match::simple</code></a> by @tobyink."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 2, "creation_date": 1430320257, "post_id": 29945263, "comment_id": 48016462, "body": "Just to clarify @G.Cito&#39;s comment vis-a-vis smartmatch going away...smartmatch was <a href=\"http://perldoc.perl.org/perl5180delta.html#The-smartmatch-family-of-features-are-now-experimental\" rel=\"nofollow noreferrer\">marked experimental in 5.18.0</a>: &quot;It is clear that smartmatch is almost certainly either going to change or go away in the future. Relying on its current behavior is not recommended.&quot;"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1430320841, "post_id": 29945263, "comment_id": 48016921, "body": "@ThisSuitIsBlackNot Thanks, I tried to clarify it a bit more in my response. Channeling p5p perlmonks and @ikegami @leont it seems we can maybe hope for a much simpler version of <code>~~</code> in future versions of Perl - the behavior of which could be enhanced and extended with a utility module and the CPAN ecosystem. /me crosses fingers"}], "tags": [], "owner": {"reputation": 9, "user_id": 4846632, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/6af7bb732225ef19a56cefa8d0aa6e66?s=128&d=identicon&r=PG", "display_name": "Dilbertino", "link": "https://stackoverflow.com/users/4846632/dilbertino"}, "is_accepted": false, "score": 0, "last_activity_date": 1430314193, "creation_date": 1430314193, "answer_id": 29945263, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array/29945263#29945263", "title": "Check specific value not in array", "body": "<p>You can also use the smart match operator:</p>\n\n<blockquote>\n  <p>unless( $x ~~ ['value1','value2'] )</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1430321928, "post_id": 29945945, "comment_id": 48017675, "body": "The topic hasn&#39;t come up again on p5p since those posts of mine. Someone interested needs to step up"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1430320223, "last_edit_date": 1495541197, "creation_date": 1430315865, "answer_id": 29945945, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array/29945945#29945945", "title": "Check specific value not in array", "body": "<p>Building on the smartmatch solution by @Dilbertino (nice nick) using <a href=\"https://metacpan.org/pod/match::simple\" rel=\"nofollow noreferrer\"><code>match::simple</code></a> by @tobyink to ease the pain of smartmatch going away (I miss it already):</p>\n\n<pre><code>use match::simple;\nmy @array = qw(abcd.txt abcdeff.txt abcdweff.txt abcdefrgt.txt);\nmy $x=\"abcd.txt\" ;\nsay \"it's there\" if ($x |M| \\@array );\n</code></pre>\n\n<p>The <code>|M|</code> operator from <code>match::simple</code> can be replaced with a <code>match</code> function which speeds things up a bit (it is implemented with XS):</p>\n\n<pre><code>use match::simple qw(match);\nmy @array = qw(abcd.txt abcdeff.txt abcdweff.txt abcdefrgt.txt);\nmy $x=\"xyz.txt\" ;\n\nif ( match ( $x, \\@array ) ) {\n     say \"it's there!\" ;\n}\nelse {\n     say \"no hay nada\";\n} \n</code></pre>\n\n<p>It's \"simple\" because the RHS controls the behavior.  With <code>match::simple</code> if you are matching against an array on the RHS it should be an arrayref.</p>\n\n<p><a href=\"https://metacpan.org/pod/Smart::Match\" rel=\"nofollow noreferrer\"><code>Smart::Match</code></a> also has a <code>none</code> function. To use it you would do: </p>\n\n<pre><code>if ( $x ~~ none (@array) ) { \n   say \"not here so do stuff ...\"; \n}\n</code></pre>\n\n<p><strong>Appendix</strong></p>\n\n<p>Discussion here on Stackoverlfow (see: <a href=\"https://stackoverflow.com/questions/16927024/perl-5-20-and-the-fate-of-smart-matching-and-given-when\">Perl 5.20 and the fate of smart matching and given-when?</a>) and elsewhere (<em>c.f.</em> the <a href=\"http://www.perlmonks.org/?node_id=1039472\" rel=\"nofollow noreferrer\">Perlmonks article</a> by @ikegami from circa perl-5.18) gives the context for the smartmatch experiment.  <strong>TLDR;</strong> things might change in the future but meanwhile, you can go <strong>back in time</strong> and <code>use match::smart qw(match);</code> with perl-5.8.9 proving once again that perl never dies; it just returns to its ecosystem.</p>\n\n<p>In the future something like <a href=\"https://metacpan.org/pod/Smart::Match\" rel=\"nofollow noreferrer\"><code>Smart::Match</code></a> (<em>i.e</em>. the non-core CPAN module not the concept) can help supercharge a simplified smart matching operator with helper functions that read like adverbs and adjectives and have the added bonus (as I understand it) of clarifying/simplifying things for perl itself since the <code>~~</code> operator will have a less ambiguous context for its operations.</p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1430320454, "post_id": 29946921, "comment_id": 48016635, "body": "++ I had never thought of this way but <a href=\"https://metacpan.org/pod/Smart::Match\" rel=\"nofollow noreferrer\"><code>Smart::Match</code></a> operates like a &quot;Util&quot; module. It also has a <code>none</code> function where you would do: <code>if ( $x ~~ none (@array) ) {say &quot;not here so do stuff&quot;}</code>.  It is almost as if it were acting like a <code>Match::Util</code> enhancement for a future (much simplified) version of the <code>~~</code> operator. Adding <code>Smart::Match</code> as a response."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 2, "creation_date": 1430320579, "post_id": 29946921, "comment_id": 48016720, "body": "@G.Cito: I like to give smart matching, or anything related to it, a very wide berth, and I dread having to write any quantity of code using the Perl 6 version. The problem is that it tries to be a <i>DWIM</i> operator and it&#39;s impossible to remember what it does with any given combination of parameters. I&#39;d much sooner say what I mean and get the right result, as well as have others understand my code"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1430321136, "post_id": 29946921, "comment_id": 48017154, "body": "I can see how it may possibly be so &quot;smart&quot; that it will be difficult to simplify. Simplifying something can be complex, but it is taking a long while to get it right."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1430322019, "post_id": 29946921, "comment_id": 48017736, "body": "@G.Cito: In general, the <i>smart match operator</i> performs one of the functions available in <code>List::MoreUtils</code>. If you add to that the dereferencing of references then you pretty much have it covered, and each <i>different</i> operation has a different name as well, so you&#39;re not writing <code>$thing1 MAGIC $thing2</code> everywhere. Even object-oriented code can be problematic with such things, and that is about as far as I want to go"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 7, "last_activity_date": 1430318274, "creation_date": 1430318274, "answer_id": 29946921, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array/29946921#29946921", "title": "Check specific value not in array", "body": "<p>You could use the <code>none</code> function from <a href=\"https://metacpan.org/pod/List::MoreUtils\"><code>List::MoreUtils</code></a>.</p>\n\n<p>If you really have an array as your subject line says then your code would look like this</p>\n\n<pre><code>use List::MoreUtils 'none';\n\nif ( none { $_ eq $a } @array ) {\n  # Do stuff\n}\n</code></pre>\n\n<p>or if you really have two constants then you could use this</p>\n\n<pre><code>if ( none { $_ eq $a } 'value1', 'value2' ) {\n  # Do stuff\n}\n</code></pre>\n\n<p>but in this case I would prefer to see just</p>\n\n<pre><code>if ( $a ne 'value1' and $a ne 'value2' ) {\n  # Do stuff\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 0, "creation_date": 1430342671, "post_id": 29950888, "comment_id": 48030438, "body": "You should avoid using <code>grep</code> for this: <a href=\"https://metacpan.org/pod/release/THALJEF/Perl-Critic-1.125/lib/Perl/Critic/Policy/BuiltinFunctions/ProhibitBooleanGrep.pm\" rel=\"nofollow noreferrer\">metacpan.org/pod/release/THALJEF/Perl-Critic-1.125/lib/Perl/&zwnj;&#8203;&hellip;</a>"}], "tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 1, "last_activity_date": 1430329623, "creation_date": 1430329623, "answer_id": 29950888, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array/29950888#29950888", "title": "Check specific value not in array", "body": "<p>I would do something like this using grep with a regex match</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @array = ('value1','value2');\n\nif(grep(/\\bvalue1\\b|\\bvalue2\\b/, @array)){\n    print \"Not Found\\n\";\n}\nelse {\n    print \"do something\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1666, "user_id": 1398409, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ffd92b5689f324924cc7087b4dac6e49?s=128&d=identicon&r=PG", "display_name": "Futuregeek", "link": "https://stackoverflow.com/users/1398409/futuregeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 0, "answer_count": 7, "score": 1, "last_activity_date": 1430329623, "creation_date": 1430312217, "last_edit_date": 1430319371, "question_id": 29944441, "link": "https://stackoverflow.com/questions/29944441/check-specific-value-not-in-array", "title": "Check specific value not in array", "body": "<p>I have an array with two values and need to perform some operations if input is not in that array.</p>\n\n<p>I tried like</p>\n\n<pre><code>if ($a ne ('value1' || 'value2')\n\nif (($a ne 'value1' ) || ($a ne 'value2' ))\n</code></pre>\n\n<p>Both methods didn't work. Can anyone please help?</p>\n"}, {"tags": ["windows", "perl", "pdf", "file-type"], "comments": [{"owner": {"reputation": 155, "user_id": 3964236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc20934a29b7302acfe3f680d1e2f112?s=128&d=identicon&r=PG&f=1", "display_name": "Bifrost", "link": "https://stackoverflow.com/users/3964236/bifrost"}, "edited": false, "score": 0, "creation_date": 1430315949, "post_id": 29943371, "comment_id": 48012725, "body": "I haven&#39;t used perl to handle files, but in the top half of your script you&#39;re using backslashes, and in your sub you&#39;re using normal slashes in file paths. Are you sure that&#39;s how it works?"}, {"owner": {"reputation": 21, "user_id": 4846192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17de5541bb9f52a6f24bcb5827518b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Wurst Max", "link": "https://stackoverflow.com/users/4846192/wurst-max"}, "reply_to_user": {"reputation": 155, "user_id": 3964236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc20934a29b7302acfe3f680d1e2f112?s=128&d=identicon&r=PG&f=1", "display_name": "Bifrost", "link": "https://stackoverflow.com/users/3964236/bifrost"}, "edited": false, "score": 0, "creation_date": 1430317730, "post_id": 29943371, "comment_id": 48014287, "body": "So far it worked in other scripts. As far as I understand, when you describe a full path (C:\\\\etc\\etc.) you have to go with the windows format. Otherwise when instead you use variables for a path, it needs to be in Unix format."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 155, "user_id": 3964236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc20934a29b7302acfe3f680d1e2f112?s=128&d=identicon&r=PG&f=1", "display_name": "Bifrost", "link": "https://stackoverflow.com/users/3964236/bifrost"}, "edited": false, "score": 2, "creation_date": 1430318613, "post_id": 29943371, "comment_id": 48015102, "body": "@Bifrost and OP: You are both wrong about directory separators on Windows. As far as the Windows API is concerned, <code>&quot;C:\\\\this\\\\that\\\\other&quot;</code> and <code>&quot;C:&#47;this&#47;that&#47;other&quot;</code> are one and the same. However, you have to be careful if the path is going to go through the shell or become a command line argument to another program. Use <code>File::Spec</code>, or, better yet, <code>Path::Class</code> for proper handling of paths."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1430320152, "post_id": 29943371, "comment_id": 48016375, "body": "You would do well to stop pretending that you are writing C and drop the <code>main</code> subroutine. You should also <i>never</i> call Perl subroutines using an ampersand <code>&amp;</code>: that hasn&#39;t been necessary since Perl 4 twenty-two years ago. Now it just serves to provide a special way of calling subroutines that shouldn&#39;t be done in public places"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430320250, "post_id": 29943371, "comment_id": 48016457, "body": "@Sinan&#220;n&#252;r: Surely you mean <i>Perl</i>, not <i>the WIndows API</i>? I have never been able to pass path strings that used forward slashes as separators to anything that could conceivably be called a Windows API function"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430320736, "post_id": 29943371, "comment_id": 48016832, "body": "@Sinan&#220;n&#252;r: Please elaborate"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430321110, "post_id": 29943371, "comment_id": 48017135, "body": "@WurstMax: Note that, without the ampersand prefix, if you want to call subroutines prior to their definition, you must either provide a parameter list or declare the subroutine in advance. For instance, in this case you could have written just <code>main;</code> or <code>CheckFileType;</code> because the definitions appear first, but otherwise you would have had to write <code>main();</code> and <code>CheckFileType();</code> or predefine those subroutines with <code>sub main;</code> and <code>sub CheckFileType;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430321200, "post_id": 29943371, "comment_id": 48017203, "body": "@Sinan&#220;n&#252;r: Please indulge me: I would like you to elaborate because I am ignorant and that common knowledge hasn&#39;t reached me"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430321422, "post_id": 29943371, "comment_id": 48017360, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/76552/discussion-between-borodin-and-sinan-unur\">continue this discussion in chat</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430322364, "post_id": 29943371, "comment_id": 48017982, "body": "@Sinan&#220;n&#252;r: On the contrary I think <i>you</i> are being more than a trifle obnoxious. I went along with the SO interface because it pushed me to a chat window as soon as I started to type. If your time is so very precious then I wonder why you are spending it here, but I will remember in future that you prefer to be rude and elitist than to share your knowledge with a peer"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430323627, "post_id": 29943371, "comment_id": 48018874, "body": "@Sinan&#220;n&#252;r: I&#39;m afraid you are extremely rude and your pretensions are well beyond your station. Surely you see that, by adopting Stack Overflow&#39;s default post, I made a <i>request</i> and there were no <i>demands</i> <i>assumptions</i> or <i>entitlements</i> anywhere? And yet despite being unavailable for <i>private tutoring</i> you continue to post affected and self-important comments. Please go and do whatever else it is that is more important than good manners, and in the future I shall remember to disregard your input"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4846192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17de5541bb9f52a6f24bcb5827518b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Wurst Max", "link": "https://stackoverflow.com/users/4846192/wurst-max"}, "edited": false, "score": 0, "creation_date": 1430987505, "post_id": 29980365, "comment_id": 48303526, "body": "Hi thank you for your help. Sadly this still doesn&#39;t work on my machine. My perl version is 5.18 so I will update and try again. What happens is: DOS-window opens for 2 seconds and closes then."}], "tags": [], "owner": {"reputation": 21, "user_id": 2121703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL2jK.jpg?s=128&g=1", "display_name": "Double Zeebrah Flexinhammer", "link": "https://stackoverflow.com/users/2121703/double-zeebrah-flexinhammer"}, "is_accepted": false, "score": 2, "last_activity_date": 1430444269, "last_edit_date": 1430444269, "creation_date": 1430443665, "answer_id": 29980365, "question_id": 29943371, "link": "https://stackoverflow.com/questions/29943371/perl-script-to-download-a-file-and-check-filetype/29980365#29980365", "title": "Perl script to download a file and check filetype", "body": "<p>I successfully executed your Perl program (without changes) on Windows 7 with Strawberry Perl v5.20.2.</p>\n\n<p>I was tempted to suggest several changes, but I decided instead to offer one simple change which will cause your program to complete successfully.</p>\n\n<p>In the call to <code>mime_type()</code> on line 25, replace the argument <code>$chkfile</code> with <code>$dlfile</code>. This will cause <code>mime_type()</code> to look for the file stored during the call to <code>getstore()</code> on line 16, where <code>$dlfile</code> is passed as an argument specifying the filename.</p>\n\n<p>Line 25 (original):</p>\n\n<pre><code>my $file_type = $ft-&gt;mime_type($chkfile);\n</code></pre>\n\n<p>Line 25 (incorporating suggested change):</p>\n\n<pre><code>my $file_type = $ft-&gt;mime_type($dlfile);\n</code></pre>\n\n<p>Without changes, your Perl program first stores the downloaded PDF file relative to the user's current working directory as the filename <code>.\\Test.pdf</code>, then later expects to find the PDF file using the absolute path <code>C:\\pdfscripthome\\Test.pdf</code>.</p>\n\n<p>If the user's current working directory is <code>C:\\pdfscripthome</code> the program succeeds. In cases where the user's current working directory is not <code>C:\\pdfscripthome</code>, the program fails because the argument passed in the call to <code>mime_type()</code> contains the absolute path <code>C:\\pdfscripthome\\Test.pdf</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4846192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17de5541bb9f52a6f24bcb5827518b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Wurst Max", "link": "https://stackoverflow.com/users/4846192/wurst-max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435161522, "creation_date": 1430309439, "last_edit_date": 1435161522, "question_id": 29943371, "link": "https://stackoverflow.com/questions/29943371/perl-script-to-download-a-file-and-check-filetype", "title": "Perl script to download a file and check filetype", "body": "<p>What I want to do is fairly  simple:\n1) download a file from hard-coded URL (it will always stay the same)\n2) check if the file really is a PDF (I thought that it is best to check the magic number %PDF)\n3) if so, rename file and move to folder xy||if not, rename accordingly.</p>\n\n<p>Note: this will be required to run on a Windows 7 system.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse LWP::Simple;\nuse POSIX qw( strftime );\nuse File::Copy;\nuse File::Type;\n\nmy $date = strftime(\"%m/%d/%Y\", localtime);\nmy $url  = \"http://www.oracle.com/technetwork/database/options\"\n          .\"/advanced-analytics/r-enterprise/ore-reference-manual-1882822.pdf\"; \n\nmy $dlfile = \"Test.pdf\";\nmy $resp = '';\nmy $srcdir = \"C:\\\\pdfscripthome\";\nmy $dest = \"C:\\\\pdfdump\";\nmy $old = \"$srcdir/$dlfile\";\n$resp = getstore( $url, $dlfile );\n\nsub CheckFileType {\n    my $chkfile=\"$srcdir//Test.pdf\";\n    my $ft = File::Type-&gt;new();\n    my $file_type = $ft-&gt;mime_type($chkfile);\n\n    if ( $file_type eq 'application/pdf' ) {\n        move( $old, $dest ) or die \"Move $old -&gt; $dest failed: $!\";\n    }\n    else {\n        rename (\"//$srcdir/Test.pdf\", \"//$srcdir/NotAValidPDFFile.pdf\" )\n        || die (\"Error in renaming\");\n    }\n}\n\nsub main{\n    &amp;CheckFileType();\n}\n\n&amp;main;\n</code></pre>\n\n<p>What happens when I try to execute, is that nothing happens. Strangely, when I comment</p>\n\n<pre><code>use File::Type;\n</code></pre>\n\n<p>out, it downloads the file (of course the check doesn't happen).</p>\n\n<p>I assume there is an  error somewhere in <code>sub CheckFileType { }</code> but I can't see it.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308166, "post_id": 29942831, "comment_id": 48006384, "body": "Are there really blank lines in your second file?"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308197, "post_id": 29942831, "comment_id": 48006403, "body": "no. Sorry no blank lines."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308656, "post_id": 29942831, "comment_id": 48006727, "body": "What result are you hoping for?"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308741, "post_id": 29942831, "comment_id": 48006796, "body": "If one or more patterns from 1 file are found in a Given line in the other file output that Given line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308780, "post_id": 29942831, "comment_id": 48006824, "body": "Okay, so given this data what do you think should end up in <code>@final</code>?"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308815, "post_id": 29942831, "comment_id": 48006846, "body": "1892 2 1 : 667 0 1 : 667 1 0 ;   As, both 667 1 0 is found in it and also 1892 2 1. It doesn&#39;t matter if more than 1 is found . At least 1 should be found. Basically ,  I wish to collapse the lines in the first file,  if they occur in the same line in the other."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308930, "post_id": 29942831, "comment_id": 48006923, "body": "But <code>667 0 1</code> isn&#39;t in the first file?"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430308979, "post_id": 29942831, "comment_id": 48006957, "body": "667 1 0 is. So is 1892 2 1."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430309004, "post_id": 29942831, "comment_id": 48006974, "body": "So you&#39;re saying the numbers can be in any order in the line?"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430309045, "post_id": 29942831, "comment_id": 48006999, "body": "Yes, order doesn&#39;t matter. Treat it like a string pattern. If line i and line j in first file occur as a pattern in the same line of the other file then output should be just one of the lines. Also , if a pattern 1667 1 0 is found, it shouldn&#39;t be confused with 667 1 0. Hence I added the whitespace."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1430309337, "post_id": 29942831, "comment_id": 48007212, "body": "Add your expected output in your question. It would be help us to help you in better way."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430311382, "post_id": 29942831, "comment_id": 48008909, "body": "Okay I think I finally understand what you need. Check my update."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430309362, "post_id": 29943296, "comment_id": 48007228, "body": "That&#39;s what I thought, but the OP means a match should exist even if the fields are in a different order!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430309574, "post_id": 29943296, "comment_id": 48007413, "body": "That&#39;s not how I understand them."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430309623, "post_id": 29943296, "comment_id": 48007451, "body": "Read their comment under the question"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430309652, "post_id": 29943296, "comment_id": 48007485, "body": "@Borodin: Even after reading the comments :-) Let&#39;s wait for an answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430310492, "post_id": 29943296, "comment_id": 48008179, "body": "Ah, you&#39;re printing the lines form the <i>second</i> file that match. That&#39;s yet another way of looking at it. I assumed from the OP&#39;s code that, since they are saving lines from <code>@file1</code> in <code>@final</code> they wanted records from the first file. However it&#39;s quite possible that <code>@file</code> contains the first file data while <code>@file1</code> contains the second file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430310553, "post_id": 29943296, "comment_id": 48008230, "body": "@choroba:  Your code works for me only if I do <code>s&#47;\\s+\\z&#47;&#47;</code> on the first file instead of <code>chomp</code>"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "edited": false, "score": 0, "creation_date": 1430310598, "post_id": 29943296, "comment_id": 48008265, "body": "Ya sorry for messing up nomenclature. @file has first file data ."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1430310011, "last_edit_date": 1430310011, "creation_date": 1430309273, "answer_id": 29943296, "question_id": 29942831, "link": "https://stackoverflow.com/questions/29942831/perl-regex-help-find-lines-in-another-file/29943296#29943296", "title": "Perl Regex Help - find lines in another file", "body": "<p>You can create a regex by joining the lines from file1 by <code>|</code> (and applying <code>quotemeta</code> on each). <code>\\b</code> should prevent matching <code>667</code> in <code>1667</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @search;\nopen my $F1, '&lt;', 'file1' or die $!;\nwhile (&lt;$F1&gt;) {\n    chomp;\n    push @search, quotemeta;\n}\n\nmy $regex = join '|', @search;\n$regex = qr/\\b(?:$regex)\\b/;\n\nopen my $F2, '&lt;', 'file2' or die $!;\nwhile (&lt;$F2&gt;) {\n    print if /$regex/;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "edited": false, "score": 0, "creation_date": 1430310294, "post_id": 29943618, "comment_id": 48008019, "body": "Yes, this seems more like it. But the final output should be 1 line for it. I.e line from file2 which has that. Is it one single line from file2?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1430310369, "post_id": 29943618, "comment_id": 48008081, "body": "OP is expecting this output: <code>1892 2 1 : 667 0 1 : 667 1 0 ;</code> means there should be only one match."}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "edited": false, "score": 0, "creation_date": 1430310461, "post_id": 29943618, "comment_id": 48008158, "body": "Ya , like 1892 2 1 and 667 1 0 are both present in file1 . So my Python logic was to scan for patterns from file1 in each line of file2  . If more than 0 pattern found , output line from file2 and break. Search in other lines of file2."}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "edited": false, "score": 0, "creation_date": 1430311976, "post_id": 29943618, "comment_id": 48009373, "body": "Ya , this one seems to work . But on the larger data set , the boundary doesn&#39;t seem to work. In larger data set , this one is also getting outputed :- 1502 0 1 : 1502 1 1 ; . Because of these two lines in file 1 ;- 501 1 1  502 1 1"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1430319701, "last_edit_date": 1495542514, "creation_date": 1430310096, "answer_id": 29943618, "question_id": 29942831, "link": "https://stackoverflow.com/questions/29942831/perl-regex-help-find-lines-in-another-file/29943618#29943618", "title": "Perl Regex Help - find lines in another file", "body": "<p>I now think this is a solution to a different problem, but here it is anyway!</p>\n\n<pre><code>use warnings;\nuse strict;\nuse 5.010;\n\nuse Array::Utils 'array_diff';\n\nopen my $fh, '&lt;', 'f1.txt' or die $!;\nmy @f1;\nwhile ( &lt;$fh&gt; ) {\n  push @f1, [split];\n}\n\nmy @final;\nopen $fh, '&lt;', 'f2.txt' or die $!;\nwhile ( &lt;$fh&gt; ) {\n  my @f2 = map [ /\\d+/g ], split /:/;\n  for my $f1 ( @f1 ) {\n    my @matches = grep { not array_diff(@$f1, @$_) } @f2;\n    push @final, map \"@$_\", @matches;\n  }\n}\n\nsay for @final;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1892 2 1\n667 0 1\n667 1 0\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Okay here's my second attempt! This is essentially what <a href=\"https://stackoverflow.com/a/29943296/622310\"><code>choroba</code> wrote</a> but using <code>map</code> and with the addition of stripping all trailing whitespace on the data from the first file.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse 5.014;  # For non-destructive substitution\n\nopen my $fh, '&lt;', 'f1.txt' or die $!;\nmy @f1 = map s/\\s+\\z//r, &lt;$fh&gt;;\nmy $re = join '|', @f1;\n\nopen $fh, '&lt;', 'f2.txt' or die $!;\nmy @final = grep /\\b(?:$re)\\b/, &lt;$fh&gt;;\n\nprint for @final;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1892 2 1 : 667 0 1 : 667 1 0 ;  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "edited": false, "score": 0, "creation_date": 1430310998, "post_id": 29943730, "comment_id": 48008583, "body": "Yes this is the expected output. Can I read inputs from files here ?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "edited": false, "score": 0, "creation_date": 1430311427, "post_id": 29943730, "comment_id": 48008949, "body": "@ameyask86: Yes, of course you can read the data from the file instead of <b>DATA</b>"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "edited": false, "score": 0, "creation_date": 1430311627, "post_id": 29943730, "comment_id": 48009105, "body": "I could read DATA from file2 , the other one is having some issue     . open CONFIG, &#39;file1;    while (defined($line = &lt;CONFIG&gt;)) {     push @file, $line; }"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1430312925, "last_edit_date": 1430312925, "creation_date": 1430310441, "answer_id": 29943730, "question_id": 29942831, "link": "https://stackoverflow.com/questions/29942831/perl-regex-help-find-lines-in-another-file/29943730#29943730", "title": "Perl Regex Help - find lines in another file", "body": "<p>Here is how I'd do the job:</p>\n\n<pre><code>use Modern::Perl;\nuse Data::Dumper;$Data::Dumper::Indent = 1;\n\nmy @file = (\n'735 1 1',\n'1891 1 0',\n'2021 1 1',\n'1892 2 1',\n'667 1 0',\n'802 2 1',\n'665 1 0',\n'666 1 1',\n'596 1 0',\n'3193 2 1',\n);\nmy @final;\nwhile(my $line = &lt;DATA&gt;) {\n    chomp $line;\n    if (grep{$line =~ /\\b$_\\b/} @file) {\n        push @final, $line;\n    }\n}\nsay Dumper\\@final;\n\n__DATA__\n1521 1 0 : 1167 0 0 : 1167 2 0 : 1167 1 0 ;  \n2605 1 1 ;  \n2280 0 1 : 2280 2 0 : 1892 0 0 : 2280 1 0 : 2021 0 0 ;  \n1892 2 1 : 667 0 1 : 667 1 0 ;  \n1892 1 1 ;  \n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n  '1892 2 1 : 667 0 1 : 667 1 0 ;  '\n];\n</code></pre>\n\n<p>With your files:</p>\n\n<pre><code>use Modern::Perl;\nuse Data::Dumper;$Data::Dumper::Indent = 1;\n\nopen my $fh, '&lt;', 'file.txt' or die \"unable to open 'file.txt': $!\";\nmy @file = &lt;$fh&gt;;\nchomp @file;\n\nmy @final;\nopen $fh, '&lt;', 'file1.txt' or die \"unable to open 'file1.txt': $!\";\nwhile(my $line = &lt;$fh&gt;) {\n    chomp $line;\n    if (grep{$line =~ /\\b$_\\b/} @file) {\n        push @final, $line;\n    }\n}\nsay Dumper\\@final;\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 29943618, "answer_count": 3, "score": 0, "last_activity_date": 1430319701, "creation_date": 1430308092, "last_edit_date": 1430310653, "question_id": 29942831, "link": "https://stackoverflow.com/questions/29942831/perl-regex-help-find-lines-in-another-file", "title": "Perl Regex Help - find lines in another file", "body": "<p>I want the match to occur but it's not happening.</p>\n\n<p>I have an issue. I wish to find occurences of lines from one file in another.</p>\n\n<p>Here's one file (@file)</p>\n\n<pre><code>735 1 1  \n1891 1 0  \n2021 1 1  \n1892 2 1  \n667 1 0  \n802 2 1  \n665 1 0  \n666 1 1  \n596 1 0  \n3193 2 1  \n</code></pre>\n\n<p>Here's the one in which I have to find above lines (@file1)</p>\n\n<pre><code>1521 1 0 : 1167 0 0 : 1167 2 0 : 1167 1 0 ;  \n2605 1 1 ;  \n2280 0 1 : 2280 2 0 : 1892 0 0 : 2280 1 0 : 2021 0 0 ;  \n1892 2 1 : 667 0 1 : 667 1 0 ;  \n1892 1 1 ;  \n</code></pre>\n\n<p>Here's the code I wrote</p>\n\n<pre><code>foreach $leadline (@file1) {\n\n  foreach $line (@file) {\n    $_    = ' ' . $leadline;\n    $line = ' ' . $line;\n    if (m/$line/) {\n      push @final, $_;\n    }\n\n  }\n\n}\n</code></pre>\n\n<p>But I am unable to detect the lines.</p>\n\n<p><code>@file1</code> and <code>@file</code> variables store the contents of the files.</p>\n\n<p>I either get no lines detected or all lines detected.</p>\n\n<p>The reason I am concatenating a Space before the two lines is , that sometimes 667 1 0 can occur as the very first phrase in a given line.I am not comfortable with Regex to do that in Regex directly.</p>\n\n<p>Note :- If line i and line j in first file occur as a pattern in the same line of the other file then output should be just one of the lines. Also , if a pattern 1667 1 0 is found, it shouldn't be confused with 667 1 0. Hence I added the whitespace. </p>\n\n<p>I was able to achieve this goal in Python but unable to replicate it in Perl . Here's the Python snippet :- </p>\n\n<pre><code>for line1 in file1:\n    for j in range(0,len(file0)-1):# in file0:\n        if ' '+lines[j][0:len(file0[j])-1] in ' '+line1:\n            i = i + 1\n            print line1[0:len(line1)-1]\n            break  \n</code></pre>\n\n<p>Expected output is :- \n1892 2 1 : 667 0 1 : 667 1 0 ;  </p>\n"}, {"tags": ["perl", "statistics", "measurement"], "comments": [{"owner": {"reputation": 1722, "user_id": 1520279, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/02bee0a157612ee9537673bbfe549b4e?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1520279/max"}, "edited": false, "score": 0, "creation_date": 1430305964, "post_id": 29941908, "comment_id": 48004737, "body": "What is your question?"}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "reply_to_user": {"reputation": 1722, "user_id": 1520279, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/02bee0a157612ee9537673bbfe549b4e?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1520279/max"}, "edited": false, "score": 0, "creation_date": 1430306063, "post_id": 29941908, "comment_id": 48004808, "body": "How to achieve this, I have spent quite some time on it and this is what I got so far. I.E. I need some guidance."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430307092, "post_id": 29941908, "comment_id": 48005524, "body": "It is tiresome to have to tidy up your Perl code before I can understand it. Please try to present your code properly, especially if you are asking for help with it. You should also reserve capital letters for global identifiers, such as package names. Lexical identifiers should contain only lower-case letters, decimal digits and underscores"}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "edited": false, "score": 0, "creation_date": 1430307792, "post_id": 29941908, "comment_id": 48006098, "body": "Sorry, thanks for tidying it up. I&#39;m sitting over ssh and copied it from there but I totally agree and I will take all of that in mind!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430307798, "post_id": 29941908, "comment_id": 48006103, "body": "Without any idea what your data or the code that surrounds this sample look like, and what output you&#39;re hoping for, we don&#39;t stand a chance of helping you. What you have already looks fine"}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "edited": false, "score": 0, "creation_date": 1430308344, "post_id": 29941908, "comment_id": 48006506, "body": "I have tried to reformulate and added a picture etc."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1430320961, "post_id": 29941908, "comment_id": 48017013, "body": "Could you copy-paste 1 or 2 lines of text from the input file?"}, {"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "edited": false, "score": 0, "creation_date": 1430322234, "post_id": 29941908, "comment_id": 48017871, "body": "It&#39;s in the imgur.com link(wasn&#39;t allowed to add the picture to show instantly)  sorry"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "edited": false, "score": 0, "creation_date": 1430323083, "post_id": 29948828, "comment_id": 48018512, "body": "Thanks @tivn this was what I was what I was asking for, haven&#39;t tested it yet but seems legit!"}], "tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": true, "score": 0, "last_activity_date": 1430323246, "last_edit_date": 1430323246, "creation_date": 1430322951, "answer_id": 29948828, "question_id": 29941908, "link": "https://stackoverflow.com/questions/29941908/how-to-read-multiple-text-file-filled-with-columns-calculating-statistics-perl/29948828#29948828", "title": "How to read multiple text file filled with columns calculating statistics perl", "body": "<p>This is the code to read and parse the text file.</p>\n\n<pre><code>my @pkt_number;\nmy @pkt_arrival;\nmy @pkt_size;\n\nmy $i = 0;\nmy $line;\nwhile ( &lt;&gt; ) { \n    $line = \" $_\"; # make sure it always start with a whitespace\n    chomp $line;\n    ( $pkt_number[$i], $pkt_arrival[$i], $pkt_size[$i] )\n        = (split( /\\s+/, $line, 8 ))[ 1, 2, 6 ];\n    printf \"[%s]\\n\", join(\"/\", $pkt_number[$i], $pkt_arrival[$i], $pkt_size[$i]);\n    $i++;\n}\n</code></pre>\n\n<p>And this is how you run it on Linux :</p>\n\n<pre><code>% cat result.txt | ./your_perl.pl\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3915731, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c18dec02e3e1001b5e9ef25bf745d0a0?s=128&d=identicon&r=PG&f=1", "display_name": "ricksson", "link": "https://stackoverflow.com/users/3915731/ricksson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 29948828, "answer_count": 1, "score": 0, "last_activity_date": 1430323246, "creation_date": 1430305671, "last_edit_date": 1430308312, "question_id": 29941908, "link": "https://stackoverflow.com/questions/29941908/how-to-read-multiple-text-file-filled-with-columns-calculating-statistics-perl", "title": "How to read multiple text file filled with columns calculating statistics perl", "body": "<p>I'm running some network measurements where I now get a ton of timestamps according to this picture:\n<a href=\"http://i.stack.imgur.com/TNnBf.png\" rel=\"nofollow\">http://i.stack.imgur.com/TNnBf.png</a></p>\n\n<p>I want to get the statistics of Mean, Var &amp; CoV and the problem I have is that I  don't really know how to read in the text files so I get the right values in the right array.</p>\n\n<p>I saw that Bash was considered poor in this area so I decided that perl should be better. This is my attempt so far:</p>\n\n<pre><code>#!/usr/bin/perl\n\n#foreach $line\n\n$pkt_number  = $1;\n$pkt_arrival = $2;\n$pkt_size    = $6;\n\n$nr_of_pkg                = 16;\n$linespeed                = 100000;\n$sum_of_throughput        = 0;\n$throughput               = 0;\n$sum_of_throughputsquared = 0;\n$mean                     = 0;\n$var                      = 0;\n$co_v                     = 0;\n\n$duration = $pkt_arrival[0] - $pkt_arrival[15];\n\nfor (my $i = 0 ; $nr_of_pkg &gt; $pkt_number[i] ; $i++) {\n  $throughput[i]             = $packet_size[i] / $pkt_arrival[i];\n  $sum_of_throughput         = $sum_of_throughput + $throughput[i];\n  $sum_of_throughput_squared = $sum_of_throughput_squared + $throughput[i] * $throughput[i];\n}\n\n$mean = $sum_of_throughput / $nr_of_pkg;\n$var  = (($sum_of_throughput * $sum_of_throughput) - $sum_of_throughput_squared);\n$co_v = sqrt($var)\n</code></pre>\n"}, {"tags": ["perl", "hash", "comparison"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1430306020, "creation_date": 1430306020, "answer_id": 29942035, "question_id": 29941712, "link": "https://stackoverflow.com/questions/29941712/perl-check-in-hash-if-all-entries-are-equal-get-an-arbitrary-random-key-from-h/29942035#29942035", "title": "Perl: check in hash if all entries are equal, get an arbitrary/random key from hash", "body": "<p><code>my $key = (keys %hash)[0]</code> should work, or you can force list context by enclosing the scalar you assign to in parentheses:</p>\n\n<pre><code>my ($key) = keys %hash;\n</code></pre>\n\n<p>Another way would be to use <code>each</code> in scalar context:</p>\n\n<pre><code>my $key = each %hash;\n</code></pre>\n\n<p>In the testing loop, you are only interested in values, so don't iterate over the keys, too:</p>\n\n<pre><code>for my $arr_ref (values %hash) {\n</code></pre>\n"}], "owner": {"reputation": 172, "user_id": 2764334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36e7b9ea81e85210095b32f6a52e1eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Bodo", "link": "https://stackoverflow.com/users/2764334/bodo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 29942035, "answer_count": 1, "score": 0, "last_activity_date": 1430306020, "creation_date": 1430305120, "question_id": 29941712, "link": "https://stackoverflow.com/questions/29941712/perl-check-in-hash-if-all-entries-are-equal-get-an-arbitrary-random-key-from-h", "title": "Perl: check in hash if all entries are equal, get an arbitrary/random key from hash", "body": "<p><strong>The goal:</strong> I want to check if all entries in a hash are equal in some manner (here it's the count).</p>\n\n<p><strong>My nasty solution:</strong></p>\n\n<pre><code># initialize some fake data\nmy @list1 = (2, 3);\nmy @list2 = (1, 2);\nmy %hash = (12 =&gt; \\@list1, 22 =&gt; \\@list2);\n# here starts the quest for the key\nmy $key;\nforeach my $a (keys %hash) {\n  $key = $a;\n}\n# some $key is set\n# here starts the actual comparision\nmy $count = scalar(@{%hash{$key}});\nforeach my $arr_ref (%hash) {\n  my $actcount = scalar(@$arr_ref);\n  print \"some warning\" if $actcount != $count;\n}\n</code></pre>\n\n<p>I know I could also store the size in the first iteration of the loop, then I would not need to get the key in advance. But it will cause me a conditional statement in eacht iteration. Thus I like to avoid it.</p>\n\n<p><strong>The question:</strong>\nWhat is a proper way to get a key from the hash?</p>\n\n<p><strong>Addition:</strong>\nThere should be something possible like\n(keys %hash)[0]</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1430337669, "last_edit_date": 1430337669, "creation_date": 1430324829, "answer_id": 29949448, "question_id": 29941671, "link": "https://stackoverflow.com/questions/29941671/calculate-difference-of-two-values-in-hash/29949448#29949448", "title": "Calculate difference of two values in hash", "body": "<p>Why would you need a hash to find the difference of pairs of numbers??? </p>\n\n<pre><code>print(scalar(&lt;&gt;));\n\nwhile (&lt;&gt;) {\n   my @parts = split ' '; \n   for (my $i=1; $i&lt;@parts; $i+=2) {\n      if ($parts[$i+0] == $parts[$i+1]) {\n         $parts[$i+0] = '0';\n         $parts[$i+1] = '0';\n      }\n   }\n\n   print(join(' ', @parts), \"\\n\");\n}\n</code></pre>\n\n<p>Or if you want to preserve the formatting:</p>\n\n<pre><code>print(scalar(&lt;&gt;));\n\nwhile (&lt;&gt;) {\n   chomp;\n   my @parts = split /(\\s+)/; \n   for (my $i=2; $i&lt;@parts; $i+=4) {\n      if ($parts[$i+0] == $parts[$i+2]) {\n         $parts[$i+0] = sprintf('%*s',  length($parts[$i+0]), '0');\n         $parts[$i+2] = sprintf('%*s', -length($parts[$i+2]), '0');\n      }\n   }\n\n   print(join('', @parts), \"\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4845909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d6a4831d17a64b1142afc5a2799e00?s=128&d=identicon&r=PG&f=1", "display_name": "sp at", "link": "https://stackoverflow.com/users/4845909/sp-at"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1430337669, "creation_date": 1430304993, "last_edit_date": 1430310169, "question_id": 29941671, "link": "https://stackoverflow.com/questions/29941671/calculate-difference-of-two-values-in-hash", "title": "Calculate difference of two values in hash", "body": "<p><strong>Input from file</strong></p>\n\n<pre><code>ID      S1              S2              S3             S4\na     R1  R2          R3  R4          R5  R6         R7  R8\n.   .       .   .   .       .\n.       .       .       .       .\n</code></pre>\n\n<p>a   is the ID may be string<br>\nR1,R2,R3,R4.....are numeric values</p>\n\n<p>I have to use perl script.I have to read the above data from a file and read in hashes.I have to calculate the difference of R1 and R2 if difference is greater than 0 then print R1 and R2 as it is,other put 0 in place of R1 and R2. next find the difference of R3 and R4. How can we do the above problem using hashes</p>\n\n<p><strong>Output of the perl program:</strong></p>\n\n<pre><code>ID      S1             S2           S3              S4\na     R1  R2          0  0         0  0           R7  R8\n.   .       .   .   .       .\n.       .       .       .       .\n.   .       .       .       .   \n</code></pre>\n"}, {"tags": ["perl", "file", "events"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430304355, "post_id": 29941233, "comment_id": 48003567, "body": "Sorry, I&#39;m afraid you need to expand on your question. In particular - what are you trying to accomplish? The answer is &#39;probably&#39; but you won&#39;t get a useful answer without fleshing our your question a bit more."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430304458, "post_id": 29941233, "comment_id": 48003643, "body": "What platform are you working on?"}, {"owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "edited": false, "score": 0, "creation_date": 1430304945, "post_id": 29941233, "comment_id": 48003963, "body": "so far i had created perl script which wile extract information from xml file.Which works fine. But the file is not alwyas existing. I need something that will tell my script to run now because the file which he is about to process and continue."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430306823, "post_id": 29941233, "comment_id": 48005320, "body": "What platform are you working on?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1430306698, "creation_date": 1430306698, "answer_id": 29942295, "question_id": 29941233, "link": "https://stackoverflow.com/questions/29941233/check-for-file-and-process-it-existence-of-file-launch-script-perl/29942295#29942295", "title": "Check for file and process it, existence of file launch script - perl", "body": "<p>Take a look at <a href=\"https://metacpan.org/pod/File::Monitor\" rel=\"nofollow\">File::Monitor</a>. It will inform you of all sorts of file system events. This program shows how to monitor file creation in a specific directory and process all new XML files.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse File::Monitor;\n\nmy $monitor = File::Monitor-&gt;new;\n\n$monitor-&gt;watch( {\n  name        =&gt; 'E:\\Perl\\source',\n  files       =&gt; 1,\n  callback    =&gt; { files_created =&gt; \\&amp;files_created }\n} );\n\nwhile () {\n  my @new = $monitor-&gt;scan;\n  sleep 1;\n}\n\nsub files_created {\n  my ($name, $event, $change) = @_;\n  for my $file ( $change-&gt;files_created ) {\n    process_xml($file) if $file =~ /\\.xml$/i;\n  }\n}\n\nsub process_xml {\n  my ($file) = @_;\n  say $file;\n}\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430350699, "creation_date": 1430303815, "last_edit_date": 1430350699, "question_id": 29941233, "link": "https://stackoverflow.com/questions/29941233/check-for-file-and-process-it-existence-of-file-launch-script-perl", "title": "Check for file and process it, existence of file launch script - perl", "body": "<p>How can I write a Perl program that will wait for an input file to be created and then process the contents of that file? Ideally this should be a cross-platform solution rather than relying on features of a given operating system.</p>\n\n<p>Note that the file might exist as soon as the script is started, or it might only be created at a later date. Once the input file has been processed the Perl program can exit.</p>\n\n<p>[Note that this is a substantially edited version of the original question. The original poster should feel free to make additional edits if I didn't properly understand the question.]</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "reply_to_user": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 0, "creation_date": 1430302748, "post_id": 29940756, "comment_id": 48002376, "body": "Sorry that was a typo , it still is not working"}, {"owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "reply_to_user": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "edited": false, "score": 0, "creation_date": 1430304038, "post_id": 29940756, "comment_id": 48003336, "body": "I made some edits . Please check them."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 1, "creation_date": 1430304072, "post_id": 29940756, "comment_id": 48003361, "body": "You should create a new question, not fully change the question, otherwise you&#39;ll invalidate all the answers already posted."}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1430306858, "post_id": 29940847, "comment_id": 48005343, "body": "Maybe emphasize that what goes between <code>m&#47;...&#47;</code> is a single regular expression, not a snippet of Perl code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1430325199, "post_id": 29940847, "comment_id": 48019830, "body": "Clearer still: Just like for <code>&quot;...&quot;</code>, the insides of <code>&#47;...&#47;</code> is not executed as Perl code."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1430302758, "creation_date": 1430302758, "answer_id": 29940847, "question_id": 29940756, "link": "https://stackoverflow.com/questions/29940756/i-am-new-to-regular-expressions-why-isnt-this-match-working-in-perl/29940847#29940847", "title": "I am new to Regular Expressions . Why isn&#39;t this match working in Perl?", "body": "<p><code>/\" \".$line/</code> matches literal <code>\" \"</code> then any char except newline (<code>.</code>) and finally <code>511 1 1</code></p>\n\n<p>You probably want just <code>/ $line/</code></p>\n"}, {"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 0, "last_activity_date": 1430303223, "creation_date": 1430303223, "answer_id": 29940995, "question_id": 29940756, "link": "https://stackoverflow.com/questions/29940756/i-am-new-to-regular-expressions-why-isnt-this-match-working-in-perl/29940995#29940995", "title": "I am new to Regular Expressions . Why isn&#39;t this match working in Perl?", "body": "<p>I need a comparative subject string, i.e: <code>if this ($_) matches this (m/ $line/)</code></p>\n\n<pre><code>$_ = \" 511 1 1 ;\";\n$line = \"511 1 1\";\n\nif ($_ =~ m/ $line/) {\n    print \"reached\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1430310786, "creation_date": 1430310786, "answer_id": 29943877, "question_id": 29940756, "link": "https://stackoverflow.com/questions/29940756/i-am-new-to-regular-expressions-why-isnt-this-match-working-in-perl/29943877#29943877", "title": "I am new to Regular Expressions . Why isn&#39;t this match working in Perl?", "body": "<p>You don't need to add space before <code>$line</code> to do the match, may be you want to add word boundary in order to not match <code>1511 1 1</code>:</p>\n\n<pre><code>$_ = \" 511 1 1 ;\";\n$line = \"511 1 1\";\nprint \"reached\\n\" if /\\b$line\\b/;\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 2723748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25fca0484970f99f81ed581eafd5f620?s=128&d=identicon&r=PG", "display_name": "ameyask", "link": "https://stackoverflow.com/users/2723748/ameyask"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 29940847, "answer_count": 3, "score": -1, "last_activity_date": 1430310786, "creation_date": 1430302564, "last_edit_date": 1430304076, "question_id": 29940756, "link": "https://stackoverflow.com/questions/29940756/i-am-new-to-regular-expressions-why-isnt-this-match-working-in-perl", "title": "I am new to Regular Expressions . Why isn&#39;t this match working in Perl?", "body": "<p>This is my code :- </p>\n\n<pre><code>$_ = \" 511 1 1 ;\";\n$line = \"511 1 1\";\n\nif(m/\" \".$line/){\n       print \"reached\\n\";\n}\n</code></pre>\n\n<p>I want the match to occur but it's not happening.\nThanks. </p>\n"}, {"tags": ["perl", "doc"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430304309, "post_id": 29940580, "comment_id": 48003531, "body": "You need to refer to the <a href=\"https://msdn.microsoft.com/en-us/library/office/ff841702%28v=office.14%29.aspx\" rel=\"nofollow noreferrer\">Word Developer Reference</a> which lists all of the classes that are available together with their properties and methods. But I can&#39;t see why your code should be fetching only the first and last rows. The <code>Table.ConvertToText</code> method returns a <code>Range</code> object, which is essentially just the character positions of the beginning and end of the table. And the <code>Range.Text</code> property is just the text between those two positions, so not much can go wrong. Are you viewing this on a console?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430304385, "post_id": 29940580, "comment_id": 48003591, "body": "Are you able to publish your Word document so that we can try it out ourselves?"}, {"owner": {"reputation": 25, "user_id": 4069053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9adaaf4232d685393e6b92e2e10062f7?s=128&d=identicon&r=PG&f=1", "display_name": "flora", "link": "https://stackoverflow.com/users/4069053/flora"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430306327, "post_id": 29940580, "comment_id": 48004974, "body": "@Borodin: I am viewing it on console (cmd) and I run the program as D:\\&gt;A.pl    I tried the code in various doc files which has multiple rows as well as only on two row, but I am getting the same output.."}, {"owner": {"reputation": 25, "user_id": 4069053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9adaaf4232d685393e6b92e2e10062f7?s=128&d=identicon&r=PG&f=1", "display_name": "flora", "link": "https://stackoverflow.com/users/4069053/flora"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430308476, "post_id": 29940580, "comment_id": 48006594, "body": "Have updated the sample of A.doc file and also the output generated.                                                                                                             @sinan : The code is referred from <a href=\"http://stackoverflow.com/questions/13185835/read-ms-word-table-data-row-wise-using-win32ole-perl\">link</a>"}, {"owner": {"reputation": 25, "user_id": 4069053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9adaaf4232d685393e6b92e2e10062f7?s=128&d=identicon&r=PG&f=1", "display_name": "flora", "link": "https://stackoverflow.com/users/4069053/flora"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430332933, "post_id": 29940580, "comment_id": 48024721, "body": "@sinan:I just wanted to give out the link from where I referred the code and had no intention of not giving you any credit. I owe you guys who are out there to help beginners learn. I suppose you would help me out to get out of this error in the code and understand it.."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1430347178, "creation_date": 1430347178, "answer_id": 29955827, "question_id": 29940580, "link": "https://stackoverflow.com/questions/29940580/fetch-tabular-data-from-ms-word-file/29955827#29955827", "title": "Fetch tabular data from MS-Word file", "body": "<p>The problem is caused by the fact that table rows are terminated with <code>CR</code> characters in the text returned by the <code>ConvertToText</code> method:</p>\n\n<pre>C:\\...\\Temp> perl word-table.pl A.doc | xxd\n00000000: 4172 7469 636c 6509 4e6f 2e09 436f 756e  Article.No..Coun\n00000010: 7420 4e6f 0943 6f6d 6d69 7474 6565 <b>0d</b>41  t No.Committee.A\n00000020: 3030 3239 0941 3030 3239 0931 3609 4530  0029.A0029.16.E0\n00000030: 312e 3037 <b>0d</b>42 3030 3238 0942 3030 3238  1.07.B0028.B0028\n00000040: 0933 3409 4530 342e 3039 <b>0d</b>43 3030 3336  .34.E04.09.C0036\n00000050: 0943 3030 3336 0931 3709 4530 392e 3030  .C0036.17.E09.00\n00000060: <b>0d</b>44 3030 3333 0944 3030 3333 0931 3509  .D0033.D0033.15.\n00000070: 4530 382e 3037 <b>0d</b>0d 0a                   E08.07...</pre>\n\n<p>To solve, replace carriage returns with newlines:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Carp qw( croak );\nuse Cwd qw( abs_path );\nuse Path::Class;\nuse Win32::OLE qw(in);\nuse Win32::OLE::Const 'Microsoft Word';\n\n$Win32::OLE::Warn = 3;\n\nrun(\\@ARGV);\n\nsub run {\n    my $argv = shift;\n    my $word = get_word();\n\n    $word-&gt;{DisplayAlerts} = wdAlertsNone;\n    $word-&gt;{Visible}       = 1;\n\n    for my $word_file ( @$argv ) {\n        print_tables($word, $word_file);\n    }\n\n    return;\n}\n\nsub print_tables {\n    my $word = shift;\n    my $word_file = file(abs_path(shift));\n\n    my $doc = $word-&gt;{Documents}-&gt;Open(\"$word_file\");\n    my $tables = $word-&gt;ActiveDocument-&gt;{Tables};\n\n    for my $table (in $tables) {\n        my $text = $table-&gt;ConvertToText(wdSeparateByTabs)-&gt;Text;\n        $text =~ s/\\r/\\n/g;\n        print $text, \"\\n\";\n    }\n\n    $doc-&gt;Close(0);\n    return;\n}\n\nsub get_word {\n    my $word;\n    eval { $word = Win32::OLE-&gt;GetActiveObject('Word.Application'); 1 }\n        or die \"$@\\n\";\n    $word and return $word;\n    $word = Win32::OLE-&gt;new('Word.Application', sub { $_[0]-&gt;Quit })\n        or die \"Oops, cannot start Word: \", Win32::OLE-&gt;LastError, \"\\n\";\n    return $word;\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4069053, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9adaaf4232d685393e6b92e2e10062f7?s=128&d=identicon&r=PG&f=1", "display_name": "flora", "link": "https://stackoverflow.com/users/4069053/flora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1430347178, "creation_date": 1430302143, "last_edit_date": 1430308012, "question_id": 29940580, "link": "https://stackoverflow.com/questions/29940580/fetch-tabular-data-from-ms-word-file", "title": "Fetch tabular data from MS-Word file", "body": "<p>I need to fetch tabular data from MS-Word file. The code that I referred to only fetches the first and last rows, but I need to fetch the entire table.</p>\n\n<p>Later, the data that was fetched has to be cross-checked if the same filename exists in the folder.</p>\n\n<p>I am not even able to understand the flow of the code, as I am new to the <a href=\"https://metacpan.org/pod/Win32::OLE\" rel=\"nofollow\"><code>Win32::OLE</code></a> module.</p>\n\n<p>I have referred to a similar question about fetching data on this site, but couldn't get it.</p>\n\n<p>Please let me know how to proceed.</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\nuse File::Spec::Functions qw( catfile );\nuse Win32::OLE qw(in);\nuse Win32::OLE::Const 'Microsoft Word';\n\n$Win32::OLE::Warn = 3;\n\nmy $word = get_word();\n$word-&gt;{DisplayAlerts} = wdAlertsNone;\n$word-&gt;{Visible}       = 1;\n\nmy $doc    = $word-&gt;{Documents}-&gt;Open('D:\\A.doc');\nmy $tables = $word-&gt;ActiveDocument-&gt;{'Tables'};\n\nfor my $table (in $tables) {\n  my $tableText = $table-&gt;ConvertToText({ Separator =&gt; wdSeparateByTabs });\n  print \"Table: \" . $tableText-&gt;Text() . \"\\n\";\n}\n\n$doc-&gt;Close(0);\n\nsub get_word {\n  my $word;\n  eval { $word = Win32::OLE-&gt;GetActiveObject('Word.Application'); };\n  die \"$@\\n\" if $@;\n  unless (defined $word) {\n    $word = Win32::OLE-&gt;new('Word.Application', sub { $_[0]-&gt;Quit })\n        or die \"Oops, cannot start Word: \", Win32::OLE-&gt;LastError, \"\\n\";\n  }\n  return $word;\n}\n</code></pre>\n\n<p>UPDATE:\nA.doc</p>\n\n<pre><code>Article    No.      Count No      Committee\n A0029     A0029    16            E01.07\n B0028     B0028    34            E04.09\n C0036     C0036    17            E09.00\n D0033     D0033    15            E08.07\n</code></pre>\n\n<p>Output in CMD</p>\n\n<pre><code>D:\\Word&gt;A.pl\nD0033   D0033   15      E08.07No                     Committee\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 1, "creation_date": 1430343124, "post_id": 29939288, "comment_id": 48030682, "body": "Are you extending Test::Builder? That&#39;s the standard way to roll your own test module."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 2, "last_activity_date": 1430299755, "creation_date": 1430299755, "answer_id": 29939593, "question_id": 29939288, "link": "https://stackoverflow.com/questions/29939288/write-own-test-perl-module-that-use-testmore/29939593#29939593", "title": "Write own Test Perl Module that use Test::More", "body": "<p>By default, nothing in your module is exported into the code that calls it.  This is by design, as exporting is a rather dangerous activity that could result in name clashes.</p>\n\n<p>You have to define what things to export by default (and you can also give the user of the module some control of this behavior).  See <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"nofollow\">Exporter</a>.</p>\n\n<p>You <i>could</i> export the methods of another module, but this isn't really a good idea.  What if someone uses your module and <code>Test::More</code>?  A better option would be to create your own wrappers around the <code>Test::More</code> functions that you think are needed, then export those.  But you should limit exporting as much as possible.  There are better alternatives, such as using an OO design with methods.  See the above documentation for more discussion of this.</p>\n\n<p>The calling code can also access stuff that is not exported by using <code>Module::function()</code>.</p>\n"}], "owner": {"reputation": 3644, "user_id": 1077077, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9gUuc.png?s=128&g=1", "display_name": "Yves Blusseau", "link": "https://stackoverflow.com/users/1077077/yves-blusseau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430299755, "creation_date": 1430298986, "question_id": 29939288, "link": "https://stackoverflow.com/questions/29939288/write-own-test-perl-module-that-use-testmore", "title": "Write own Test Perl Module that use Test::More", "body": "<p>I need to write my own Test module (TestOwn) that use the Test::More module.\nSo the code of TestOwn.pm is something like:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package TestOwn;\nuse Test::More;\n1;\n</code></pre>\n\n<p>Then i try to use the package in one of my test file (test01.t);\n</p>\n\n<pre><code>use lib -e 't' ? 't' : 'test';\nuse TestOwn;\n....\ndone_testing();\n</code></pre>\n\n<p>But when the test is run i have the error:</p>\n\n<pre><code>t/test01.t .. Undefined subroutine &amp;main::done_testing\n</code></pre>\n\n<p>So it seems that functions in Test::More are not imported in my test file by the <strong>use TestOwn</strong> command.</p>\n"}, {"tags": ["perl", "ftp"], "answers": [{"comments": [{"owner": {"reputation": 997, "user_id": 2354319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f1ea1af443d922b09df749e51b4b0436?s=128&d=identicon&r=PG", "display_name": "Enric Agud Pique", "link": "https://stackoverflow.com/users/2354319/enric-agud-pique"}, "edited": false, "score": 0, "creation_date": 1430318244, "post_id": 29939063, "comment_id": 48014790, "body": "Yes, I know that deleting files by ftp is dangerous but, it is what I can manage now"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "reply_to_user": {"reputation": 997, "user_id": 2354319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f1ea1af443d922b09df749e51b4b0436?s=128&d=identicon&r=PG", "display_name": "Enric Agud Pique", "link": "https://stackoverflow.com/users/2354319/enric-agud-pique"}, "edited": false, "score": 0, "creation_date": 1430318432, "post_id": 29939063, "comment_id": 48014945, "body": "@EnricAgudPique, I have no problem with deleting files by FTP when appropriate.  Error checking will just help make the operation safer."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": true, "score": 2, "last_activity_date": 1430298689, "last_edit_date": 1430298689, "creation_date": 1430298343, "answer_id": 29939063, "question_id": 29938898, "link": "https://stackoverflow.com/questions/29938898/sending-gif-by-ftp-to-a-server-in-different-folders/29939063#29939063", "title": "Sending gif by ftp to a server in different folders", "body": "<p>The behavior indicates that the second call to <code>cwd()</code> failed.</p>\n\n<p>Most likely this is because you are using a relative rather than absolute path: the second <code>cwd()</code> call is relative to the location set in the first one.  It tries to go to <code>html/pen/precipitation/html/pen/wind</code> which doesn't appear to be what you want.</p>\n\n<p>Use an absolute path or <code>../wind</code> in the second <code>cwd()</code> call.</p>\n\n<p>Also, you should check for the success of the <code>cwd()</code> commands and stop if you didn't change to the expected directory.  Otherwise, you are performing potentially destructive actions (like deleting files) in the wrong place!<code>cwd()</code> will return true if it worked and false otherwise.  See the <a href=\"http://perldoc.perl.org/Net/FTP.html\" rel=\"nofollow\"><code>Net::FTP</code> documentation</a>.</p>\n"}], "owner": {"reputation": 997, "user_id": 2354319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f1ea1af443d922b09df749e51b4b0436?s=128&d=identicon&r=PG", "display_name": "Enric Agud Pique", "link": "https://stackoverflow.com/users/2354319/enric-agud-pique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 29939063, "answer_count": 1, "score": 0, "last_activity_date": 1430298689, "creation_date": 1430297921, "question_id": 29938898, "link": "https://stackoverflow.com/questions/29938898/sending-gif-by-ftp-to-a-server-in-different-folders", "title": "Sending gif by ftp to a server in different folders", "body": "<p>I use perl for sending gif to a server. I want to move some gif to a folder called precipitation and other gifs to a folder called wind. Now with the following code (well, it is a part of the code I use) I send them, but there is something wrong in the code, because I find all gif in the same folder, in the first one, precipitation. Any idea? </p>\n\n<pre><code>use BSD::Resource;\nuse File::Copy;\nuse Net::FTP;\n\n\n#ACCIONS  send gif to the folder precipitation\n$ftp-&gt;cwd(\"html/pen/precipitation\");\nforeach my $file ($ftp-&gt;ls(\"Pl*.gif\")){\n$ftp-&gt;delete($file) or die \"Error in delete\\n\";\n}\nmy @arxius = glob(\"/home/gif/Pen/Pl*.gif\");\nforeach my $File(@arxius){\n$ftp-&gt;binary();\n$ftp-&gt;put(\"$File\");\n}\n\n#ACCIONS  send gif to the folder wind\n$ftp-&gt;cwd(\"html/pen/wind\");\nforeach my $file2 ($ftp-&gt;ls(\"vent*.gif\")){\n$ftp-&gt;delete($file2) or die \"Error in delete\\n\";\n}\nmy @arxius2 = glob(\"/home/gif/Pen/vent*.gif\");\nforeach my $File(@arxius2){\n$ftp-&gt;binary();\n$ftp-&gt;put(\"$File\");\n}\n</code></pre>\n"}, {"tags": ["perl", "templates", "hash", "toolkit"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4841664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3mTtjMEKPmY/AAAAAAAAAAI/AAAAAAAAAAA/Ds48DyZsVA8/photo.jpg?sz=128", "display_name": "Dipankar Ghosh", "link": "https://stackoverflow.com/users/4841664/dipankar-ghosh"}, "edited": false, "score": 0, "creation_date": 1430332749, "post_id": 29938942, "comment_id": 48024582, "body": "Thanks a lot for your help. It worked as I followed your instructions. Thanks also for your prompt response. It made my life easy."}, {"owner": {"reputation": 23, "user_id": 4841664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3mTtjMEKPmY/AAAAAAAAAAI/AAAAAAAAAAA/Ds48DyZsVA8/photo.jpg?sz=128", "display_name": "Dipankar Ghosh", "link": "https://stackoverflow.com/users/4841664/dipankar-ghosh"}, "edited": false, "score": 0, "creation_date": 1430374205, "post_id": 29938942, "comment_id": 48040921, "body": "Being able to expose the hash array elements was enough for me."}, {"owner": {"reputation": 23, "user_id": 4841664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3mTtjMEKPmY/AAAAAAAAAAI/AAAAAAAAAAA/Ds48DyZsVA8/photo.jpg?sz=128", "display_name": "Dipankar Ghosh", "link": "https://stackoverflow.com/users/4841664/dipankar-ghosh"}, "edited": false, "score": 0, "creation_date": 1430374674, "post_id": 29938942, "comment_id": 48041161, "body": "But it did not work if I do not push the elements one by one. It shows <b>Array(0x...)</b>, instead of the elements. Is this due to any problem with the reference ? I have the same problem when I push the whole array.  Thanks again for sparing your time and sharing your knowledge."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 4841664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3mTtjMEKPmY/AAAAAAAAAAI/AAAAAAAAAAA/Ds48DyZsVA8/photo.jpg?sz=128", "display_name": "Dipankar Ghosh", "link": "https://stackoverflow.com/users/4841664/dipankar-ghosh"}, "edited": false, "score": 0, "creation_date": 1430377307, "post_id": 29938942, "comment_id": 48042563, "body": "@ DipankarGhosh: You have to iterate over the inner array."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1430298036, "creation_date": 1430298036, "answer_id": 29938942, "question_id": 29938773, "link": "https://stackoverflow.com/questions/29938773/how-to-access-perl-hash-value-which-is-an-array-from-template-toolkit/29938942#29938942", "title": "How to access perl hash value (which is an array) from Template Toolkit?", "body": "<p>The problem is you don't store the elements, you only store the size.</p>\n\n<pre><code>$myvers{ $myv-&gt;name } = @mypatches;\n</code></pre>\n\n<p>Assigning to a hash value forces a scalar context, so <code>@mypatches</code> returns the size of the array. You need to store a reference to the array instead:</p>\n\n<pre><code>$myvers{ $myv-&gt;name } = [ @mypatches ];\n</code></pre>\n\n<p>It's probably more common to declare the array inside the outer loop and use a reference. In fact, you can skip pushing the elements one by one, as you can push the whole array: <code>push @mypatches, @patches</code>, but then, you don't need two arrays at all:</p>\n\n<pre><code>my %myvers;\n\nfor my $myv (@{ $product-&gt;versions }) {\n    my @patches = set_patches($myv-&gt;id);\n    $myvers{ $myv-&gt;name } = \\@patches;\n}\n\n$vars-&gt;{myvers} = \\%myvers;\n</code></pre>\n\n<p>or, if you really want to be laconic:</p>\n\n<pre><code>$myvers{ $_-&gt;name } = [ set_patches($_-&gt;id) ] for @{ $product-&gt;versions };\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4841664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3mTtjMEKPmY/AAAAAAAAAAI/AAAAAAAAAAA/Ds48DyZsVA8/photo.jpg?sz=128", "display_name": "Dipankar Ghosh", "link": "https://stackoverflow.com/users/4841664/dipankar-ghosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430298036, "creation_date": 1430297531, "question_id": 29938773, "link": "https://stackoverflow.com/questions/29938773/how-to-access-perl-hash-value-which-is-an-array-from-template-toolkit", "title": "How to access perl hash value (which is an array) from Template Toolkit?", "body": "<p>I have assigned a hash in perl as follows:</p>\n\n<pre><code>my %myvers;\nmy @patches = ();\nmy @mypatches = ();\n\nforeach my $myv ( @{$product-&gt;versions} ){\n\n@patches = set_patches($myv-&gt;id);   #get the array of patches for the version\nforeach(@patches) {\n    push @mypatches,@{$_};\n    }\n$myvers{$myv-&gt;name} = @mypatches;\n}\n\n$vars-&gt;{'myvers'} = \\%myvers;\n</code></pre>\n\n<p>When I access the hash in html template with the code below:</p>\n\n<pre><code>[% FOREACH key IN myvers.keys %]\nalert('[% key %] is [% myvers.$key %]; ');\n[% END %] \n</code></pre>\n\n<p><strong>key</strong> contains the keys and <strong>$key</strong> contains the number of elements in the array for each key assigned above.</p>\n\n<p>I cannot access the values of elements of the array. How can I do that ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 0, "creation_date": 1430294931, "post_id": 29937693, "comment_id": 47997091, "body": "There are many, many questions on background processes in Perl, and help available elsewhere on the web, too.  You need to put more effort into this before asking here."}, {"owner": {"reputation": 494, "user_id": 1688102, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8886d1bb7b7e7ac7915022bbfdda7b15?s=128&d=identicon&r=PG", "display_name": "VAR121", "link": "https://stackoverflow.com/users/1688102/var121"}, "edited": false, "score": 0, "creation_date": 1430299698, "post_id": 29937693, "comment_id": 48000071, "body": "<code>GNU Parallel</code> Might interests you, <a href=\"https://www.gnu.org/software/parallel/\" rel=\"nofollow noreferrer\">gnu.org/software/parallel</a>; which is written in perl. It does your job quickly without even writing complex programs to manage jobs."}], "answers": [{"comments": [{"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1430327558, "post_id": 29943046, "comment_id": 48021405, "body": "Parallel::ForkManager is the gold standard of child-process-herders."}], "tags": [], "owner": {"reputation": 173, "user_id": 2503866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qDlOa.jpg?s=128&g=1", "display_name": "LLFourn", "link": "https://stackoverflow.com/users/2503866/llfourn"}, "is_accepted": false, "score": 0, "last_activity_date": 1430308648, "last_edit_date": 1495540247, "creation_date": 1430308648, "answer_id": 29943046, "question_id": 29937693, "link": "https://stackoverflow.com/questions/29937693/submit-jobs-to-run-in-background-using-perl/29943046#29943046", "title": "Submit jobs to run in background using Perl", "body": "<p>I think your problem is <code>nohup [command] &amp;</code> inside perl isn't working as you intended. see <a href=\"https://stackoverflow.com/questions/5190806/how-do-i-keep-a-perl-script-running-on-unix-after-i-log-off\">here</a> (something to do with stdout. also your echo should be inside the backticks).</p>\n\n<p>For example:</p>\n\n<pre><code>perl -E 'say `nohup sleep 30 &amp; echo \\$! &gt; foo.pid &amp;`'\n</code></pre>\n\n<p>does not run in the background for me.</p>\n\n<p>But:</p>\n\n<pre><code>perl -E 'say `nohup sleep 30 &gt; /dev/null &amp; echo \\$! &gt; foo.pid`'\n</code></pre>\n\n<p>Will work. Having said that the comments saying you should google more about background processes in perl are warranted. Specifically using fork() (or some cpan module using it) and then managing your child processes from there.</p>\n"}], "owner": {"reputation": 539, "user_id": 3413587, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/043481860adb4656be6005e5cd50041e?s=128&d=identicon&r=PG&f=1", "display_name": "prasannads", "link": "https://stackoverflow.com/users/3413587/prasannads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 776, "favorite_count": 0, "closed_date": 1430355552, "answer_count": 1, "score": 0, "last_activity_date": 1430308648, "creation_date": 1430294415, "question_id": 29937693, "link": "https://stackoverflow.com/questions/29937693/submit-jobs-to-run-in-background-using-perl", "closed_reason": "Duplicate", "title": "Submit jobs to run in background using Perl", "body": "<p>i have a perl script where i am submitting a hadoop command to run in background, in the while loop for each record in a another input file. My scenario is , i have to fire the hadoop commands to unix and make it run background, DO NOT WAIT for the background process to finish and go to the next record in the input file and fire the next one.\nThe code which is below submits the hadoop command in background , but it waits for it complete which i dont want to.</p>\n\n<pre><code>open(my $data, '&lt;', $file) or die \"Could not open '$file' $!\\n\";\n\nwhile (my $line = &lt;$data&gt;) {\n  chomp $line;\n  my @fields = split \",\" , $line;\n  if( $fields[7] == 'Y' ) {\n`nohup sqoop export\n--connect\n\"jdbc:sqlserver://sqlserver:1433;database=$fields[0];user=sa;password=pwd\"\n--table $fields[2]\n--export-dir $src_dir\n--input-fields-terminated-by '$fields[3]'\n--input-lines-terminated-by '$fields[4]'\n--m $fields[5]\n--staging-table $fields[6]\n--clear-staging-table\n--batch &gt; $tgt_dir/$fields[2].out &amp; `;\necho $! &gt; $pid_file;\n} \nelse {\n   next;\n}\n}\n</code></pre>\n\n<p>Please let me know how can i do it..</p>\n\n<p>Also,The hadoop command can run for more than few minutes. I have to make the script wait for background commands ,with the help of pid, which were fired  and give a report based on the STDOUT files by hadoop commands.</p>\n\n<p>Need help on how to accomplish this....</p>\n"}, {"tags": ["perl", "stdin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4845031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8956582e1902710390279008134fea1?s=128&d=identicon&r=PG&f=1", "display_name": "usha meena", "link": "https://stackoverflow.com/users/4845031/usha-meena"}, "edited": false, "score": 0, "creation_date": 1430299508, "post_id": 29938561, "comment_id": 47999941, "body": "Thanks Sobrique. But my problem is still unsolved. If I use while(&lt;STDIN&gt;) my code works fine from the console, but if fails if i call it from my Java Program.  I pass the data to be written in the file from Java over URL Connection.  It throws this exception when I try to read the response : Server returned HTTP response code: 500 for URL:......"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1, "user_id": 4845031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8956582e1902710390279008134fea1?s=128&d=identicon&r=PG&f=1", "display_name": "usha meena", "link": "https://stackoverflow.com/users/4845031/usha-meena"}, "edited": false, "score": 0, "creation_date": 1430299755, "post_id": 29938561, "comment_id": 48000120, "body": "Ah, so you&#39;re <code>POST</code>ing to a web server? That&#39;s still <code>STDIN</code>. <code>500</code> error means &quot;something went wrong before script headers were printed&quot;. Check your error logs on your httpd. Alternatively - move your <code>print content-type</code> line further up your script so it happens earlier."}, {"owner": {"reputation": 1, "user_id": 4845031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8956582e1902710390279008134fea1?s=128&d=identicon&r=PG&f=1", "display_name": "usha meena", "link": "https://stackoverflow.com/users/4845031/usha-meena"}, "edited": false, "score": 0, "creation_date": 1430301826, "post_id": 29938561, "comment_id": 48001706, "body": "By moving the &#39;print content-type&#39; line further up, I am no more getting the 500 Error code. But I am still facing a weird problem. If I run the script directly from the browser an Empty file gets created. But if I fire it from the Java code the &#39;open&#39; statement fails. It says that &quot;/home/$cfgFileName&quot; is a directory . My argument is &quot;fileName=ueCfgFile.csv&quot;. :("}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1, "user_id": 4845031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8956582e1902710390279008134fea1?s=128&d=identicon&r=PG&f=1", "display_name": "usha meena", "link": "https://stackoverflow.com/users/4845031/usha-meena"}, "edited": false, "score": 0, "creation_date": 1430302046, "post_id": 29938561, "comment_id": 48001859, "body": "Probably means <code>$cfgFileName</code> is null, and so it&#39;s trying to hit <code>&#47;home</code>. Try printing it :). Bear in mind that the CGI <code>param</code> method reads from an environment variable <code>$ENV{&#39;QUERY_STRING&#39;}</code> set by the httpd. Passing it on the command line won&#39;t work."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1430296924, "creation_date": 1430296924, "answer_id": 29938561, "question_id": 29936265, "link": "https://stackoverflow.com/questions/29936265/how-to-get-file-handler-for-reading-real-time-input-stream-in-perl-script-by-ign/29938561#29938561", "title": "How to get file handler for reading real time input stream in perl script by ignoring the command line arguments", "body": "<p>I think you're labouring under a misconception. The input stream <em>for this program</em> is <code>STDIN</code>. It's not a global thing. </p>\n\n<p>The \"diamond operator\" <code>&lt;&gt;</code> works like this: </p>\n\n<ul>\n<li>if filenames are specified as arguments, it opens them and 'streams' them through <code>STDIN</code>. </li>\n<li>if no filenames are specified, it reads <code>STDIN</code>. </li>\n</ul>\n\n<p>If you don't want the former to apply, then you want to read <code>STDIN</code>. It doesn't matter where you call the program from - <code>STDIN</code>, <code>STDOUT</code> and <code>STDERR</code> are program specific what 'pipe' <code>|</code> does is link one program's <code>STDOUT</code> to the next program's <code>STDIN</code>. </p>\n\n<p>Most <code>exec</code> or <code>system</code> calls will do the same thing. </p>\n\n<p>You should also avoid calling <code>open</code> like that - it's bad style. Try instead:</p>\n\n<pre><code>open ( my $output, \"&gt;\", \"/home/$cfgFileName\" ) or die $!;\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>print {$output} $_\n</code></pre>\n\n<p>By doing it this way:</p>\n\n<ul>\n<li>you lexically scope your filehandles, so you're not polluting your namespace, and allow the program to detect and close when they go out of scope. </li>\n<li>You avoid interpolation issues of variable names entirely (e.g. unwanted \"pipe\" \"truncate\" etc.). </li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 4845031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8956582e1902710390279008134fea1?s=128&d=identicon&r=PG&f=1", "display_name": "usha meena", "link": "https://stackoverflow.com/users/4845031/usha-meena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 739, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430296924, "creation_date": 1430290144, "last_edit_date": 1430291098, "question_id": 29936265, "link": "https://stackoverflow.com/questions/29936265/how-to-get-file-handler-for-reading-real-time-input-stream-in-perl-script-by-ign", "title": "How to get file handler for reading real time input stream in perl script by ignoring the command line arguments", "body": "<p>I have a perl script that accepts a command line arguments (file name) and it should read the input stream to write into the file created using the argument. </p>\n\n<p>The problem is that the statement while (&lt;>), instead of waiting for the user input to write into the file , tries to open the file.\nI cannot use <code>&lt;STDIN&gt;</code> because I need to call this script from my Java program</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse CGI;\nuse CGI::Carp qw ( fatalsToBrowser );\nuse warnings;\n\n#store the input parameter File_Name\nmy $cfgFileName;\nmy $q = CGI-&gt;new(); \n$cfgFileName = $q-&gt;param('fileName');\n\n#Open the file and write input data\nopen (OUT, \"&gt; /home/$cfgFileName\") or die $!;\n\nprint \"content-type: text/plain\\n\\n\";\nwhile ( &lt;&gt;) \n{\n   print OUT $_;\n}\nclose (OUT); \n\n# pass the status\nprint \"SUCCESS\";\n\nexit 0;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1430290831, "last_edit_date": 1430290831, "creation_date": 1430288615, "answer_id": 29935834, "question_id": 29935729, "link": "https://stackoverflow.com/questions/29935729/perl-regex-extract-values-after-hypen-and-before-backslash/29935834#29935834", "title": "Perl regex: Extract values after hypen and before backslash", "body": "<p>You can use the following regular expression:</p>\n\n<pre><code>(?:\\/?[A-Z]+-([^\\/\\n]+))\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/mG0uM9/1\" rel=\"nofollow\">demo on regex101</a>.</p>\n\n<p>This will work if you have homogenous input data.</p>\n\n<p><a href=\"http://www.tutorialspoint.com/execute_perl_online.php?PID=0Bw_CjBb95KQMOUxLMmh4QjJhaWc\" rel=\"nofollow\">Sample Perl code</a>:</p>\n\n<pre><code>$str = \"ABCD-ABCD/EFGH-1/IJKL-9/MNOP-432/QRST-C20-Blatt-4\";\n@myarray = ($str =~ /(?:\\/?[A-Z]+-([^\\/\\n]+))/g);\nprint join(\",\", @myarray) . \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ABCD,1,9,432,C20-Blatt-4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 3698307, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e28ac5153871a0bf337cb9c7539dfc8?s=128&d=identicon&r=PG&f=1", "display_name": "vaspaean", "link": "https://stackoverflow.com/users/3698307/vaspaean"}, "is_accepted": false, "score": 0, "last_activity_date": 1430298432, "last_edit_date": 1430298432, "creation_date": 1430292919, "answer_id": 29937185, "question_id": 29935729, "link": "https://stackoverflow.com/questions/29935729/perl-regex-extract-values-after-hypen-and-before-backslash/29937185#29937185", "title": "Perl regex: Extract values after hypen and before backslash", "body": "<pre><code>-([^\\/]*)\n</code></pre>\n\n<p>Use this regex.</p>\n\n<pre><code>print join(\",\", \"ABCD-ABCD/EFGH-1/IJKL-9/MNOP-432/QRST-C20-Blatt-4\" =~ /-([^\\/]*)/g);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4331644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6e5ebb9836c4fe3f4cf8a56804667302?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan M", "link": "https://stackoverflow.com/users/4331644/karthikeyan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1430298432, "creation_date": 1430288116, "last_edit_date": 1430291066, "question_id": 29935729, "link": "https://stackoverflow.com/questions/29935729/perl-regex-extract-values-after-hypen-and-before-backslash", "title": "Perl regex: Extract values after hypen and before backslash", "body": "<p>I have input data in the following format:</p>\n\n<pre><code>ABCD-ABCD\nABCD-ABCD/EFGH-1\nABCD-ABCD/EFGH-1/IJKL-9\nABCD-ABCD/EFGH-1/IJKL-9/MNOP-432\nABCD-ABCD/EFGH-1/IJKL-9/MNOP-432/QRST-C20-Blatt-4\n</code></pre>\n\n<p>I want to extract the below values values from the above.</p>\n\n<pre><code>ABCD\nABCD,1\nABCD,1,9\nABCD,1,9,432\nABCD,1,9,432,C20-Blatt-4\n</code></pre>\n"}, {"tags": ["python", "regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4065471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-3jw37EkczfU/AAAAAAAAAAI/AAAAAAAAABA/xEz_7kquNvg/photo.jpg?sz=128", "display_name": "Krishna", "link": "https://stackoverflow.com/users/4065471/krishna"}, "edited": false, "score": 0, "creation_date": 1430285614, "post_id": 29935076, "comment_id": 47992156, "body": "Thanks. I need the regex in perl or python."}, {"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "reply_to_user": {"reputation": 133, "user_id": 4065471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-3jw37EkczfU/AAAAAAAAAAI/AAAAAAAAABA/xEz_7kquNvg/photo.jpg?sz=128", "display_name": "Krishna", "link": "https://stackoverflow.com/users/4065471/krishna"}, "edited": false, "score": 0, "creation_date": 1430285916, "post_id": 29935076, "comment_id": 47992260, "body": "No problem. Edited the answer with the Python solution for you."}], "tags": [], "owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "is_accepted": true, "score": 2, "last_activity_date": 1430285896, "last_edit_date": 1430285896, "creation_date": 1430285386, "answer_id": 29935076, "question_id": 29935016, "link": "https://stackoverflow.com/questions/29935016/regular-expression-to-use-in-split-function/29935076#29935076", "title": "Regular Expression to use in Split function", "body": "<p>If you are sure that there are no spaces around the commas, the split regex you want is <code>,(?=\\[)</code></p>\n\n<p>Example in JavaScript:</p>\n\n<pre><code>$ node\n&gt; re = /,(?=\\[)/\n/,(?=\\[)/\n&gt; \"[111,212],[231,543],[231,423]\".split(re)\n[ '[111,212]', '[231,543]', '[231,423]' ]\n</code></pre>\n\n<p>Example in Python:</p>\n\n<pre><code>$ python\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; r = re.compile(r',(?=\\[)')\n&gt;&gt;&gt; re.split(r, \"[111,212],[231,543],[231,423]\")\n['[111,212]', '[231,543]', '[231,423]']\n</code></pre>\n\n<p>Explanation: <code>,(?=\\[)</code> means a comma that is followed by a left bracket. The expression in <code>(?=)</code> is a <em>positive lookahead</em> and is not consumed. The only thing used as a splitter is the comma itself. But the only commas we split on are the ones followed by the left brackets. We don't split on the other commas.</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 4065471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-3jw37EkczfU/AAAAAAAAAAI/AAAAAAAAABA/xEz_7kquNvg/photo.jpg?sz=128", "display_name": "Krishna", "link": "https://stackoverflow.com/users/4065471/krishna"}, "edited": false, "score": 0, "creation_date": 1430286790, "post_id": 29935119, "comment_id": 47992578, "body": "The first one failed and the second one splitted all the commas.(inside the braces also)"}, {"owner": {"reputation": 124619, "user_id": 7586, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ryqtb.jpg?s=128&g=1", "display_name": "Kobi", "link": "https://stackoverflow.com/users/7586/kobi"}, "reply_to_user": {"reputation": 133, "user_id": 4065471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-3jw37EkczfU/AAAAAAAAAAI/AAAAAAAAABA/xEz_7kquNvg/photo.jpg?sz=128", "display_name": "Krishna", "link": "https://stackoverflow.com/users/4065471/krishna"}, "edited": false, "score": 0, "creation_date": 1430287070, "post_id": 29935119, "comment_id": 47992731, "body": "@HariKrishna - Both should work if you don&#39;t have spaces: <a href=\"https://regex101.com/r/nJ2eK6/3\" rel=\"nofollow noreferrer\">regex101.com/r/nJ2eK6/3</a>"}], "tags": [], "owner": {"reputation": 2080, "user_id": 722670, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/03b5ab2eb5f48406629a3d66051c4b70?s=128&d=identicon&r=PG", "display_name": "adrianton3", "link": "https://stackoverflow.com/users/722670/adrianton3"}, "is_accepted": false, "score": 1, "last_activity_date": 1430285565, "creation_date": 1430285565, "answer_id": 29935119, "question_id": 29935016, "link": "https://stackoverflow.com/questions/29935016/regular-expression-to-use-in-split-function/29935119#29935119", "title": "Regular Expression to use in Split function", "body": "<p>You need to match commas that are followed by a square bracket or that are not followed by a digit. For that you use the lookahead operators. <code>,(?=\\[)</code> or <code>,(?!\\d)</code> will both work for you. The contents of the parentheses are not going to be part of the match, only comma will.</p>\n"}, {"comments": [{"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 1, "creation_date": 1430287406, "post_id": 29935179, "comment_id": 47992901, "body": "Nice job recognizing the x-y problem here! Question asked for split but was really just about extracting the lists."}], "tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1430285833, "creation_date": 1430285833, "answer_id": 29935179, "question_id": 29935016, "link": "https://stackoverflow.com/questions/29935016/regular-expression-to-use-in-split-function/29935179#29935179", "title": "Regular Expression to use in Split function", "body": "<p>In Python (<em>based off the comment you left</em>), match all vs. <code>split</code>ting the string:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = '[111,212],[231,543],[231,423]'\n&gt;&gt;&gt; m = re.findall(r'\\[[^]]*]', s)\n&gt;&gt;&gt; for x in m:\n...     print x\n\n[111,212]\n[231,543]\n[231,423]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124619, "user_id": 7586, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ryqtb.jpg?s=128&g=1", "display_name": "Kobi", "link": "https://stackoverflow.com/users/7586/kobi"}, "is_accepted": false, "score": 0, "last_activity_date": 1430286955, "creation_date": 1430286955, "answer_id": 29935446, "question_id": 29935016, "link": "https://stackoverflow.com/questions/29935016/regular-expression-to-use-in-split-function/29935446#29935446", "title": "Regular Expression to use in Split function", "body": "<p>If you know there are no spaces you can use <code>,\\B</code>.<br>\n<code>\\B</code> is checks that that comma comes before a non alphanumeric character, like <code>[</code> (the opposite of <code>\\b</code>).</p>\n\n<p>If you can have space, you can use <code>\\s*,\\s*+\\B</code><br>\n(Perl only, Python <code>re</code> doesn't support <code>*+</code>).\n<code>\\s*+</code> is a possessive quantifier to make sure all spaces are consumed.</p>\n\n<p>Working example: <a href=\"https://regex101.com/r/nJ2eK6/1\" rel=\"nofollow\">https://regex101.com/r/nJ2eK6/1</a></p>\n\n<p>Either way, I'd go with Hwnd's answer - it allows you to capture the two number, which you probably want anyway.</p>\n"}], "owner": {"reputation": 133, "user_id": 4065471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-3jw37EkczfU/AAAAAAAAAAI/AAAAAAAAABA/xEz_7kquNvg/photo.jpg?sz=128", "display_name": "Krishna", "link": "https://stackoverflow.com/users/4065471/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 29935076, "answer_count": 4, "score": 0, "last_activity_date": 1430286955, "creation_date": 1430285099, "last_edit_date": 1430286177, "question_id": 29935016, "link": "https://stackoverflow.com/questions/29935016/regular-expression-to-use-in-split-function", "title": "Regular Expression to use in Split function", "body": "<p>I am new to regular expressions. Can someone help me in the regular expression to split the below data. I tried with  regex <code>\\\\\\\\,</code> but its splitting on comma inside the braces and outside also. Commas inside the braces <code>[]</code> should be skipped.</p>\n\n<p>Input </p>\n\n<pre><code>[111,212],[231,543],[231,423]\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>[111,212]\n[231,543]\n[231,423]\n</code></pre>\n"}, {"tags": ["linux", "perl", "terminal", "readline"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1430295882, "post_id": 29934237, "comment_id": 47997612, "body": "You refer to <code>$thread</code> in the first while loop, but it is not yet defined.. is there some code missing from your example?"}, {"owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1430303818, "post_id": 29934237, "comment_id": 48003173, "body": "$thread is created using the threads-&gt;create() out of the while() loop."}], "owner": {"reputation": 801, "user_id": 3264448, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1EyDR.jpg?s=128&g=1", "display_name": "CodeQuestor", "link": "https://stackoverflow.com/users/3264448/codequestor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1430286793, "creation_date": 1430280720, "last_edit_date": 1430286793, "question_id": 29934237, "link": "https://stackoverflow.com/questions/29934237/termreadline-unusual-behavior", "title": "Term::Readline unusual behavior", "body": "<p>I am creating the shell prompt using Term::Readline as given below -</p>\n\n<pre><code>my $expire_time = time + 25; # 25 sec timeout for testing and shared with thread\nmy $prompt   = 'SHELL&gt; ';\nmy $terminal = Term::ReadLine-&gt;new('Shell Interface');\nmy $attribs  = $terminal-&gt;Attribs;\n$terminal-&gt;ornaments(0);    # disable ornaments.\n\nwhile ( defined( $_ = $terminal-&gt;readline($prompt) ) ) {\n    if (/^\\s*quit\\s*$/xms) {\n        # Cleanup the global parameters\n        #...some cleanup code\n\n        # Signal the thread to terminate, and then detach\n        # it so that it will get cleaned up automatically\n        # I will be using thread to control this customize shell\n        $thread-&gt;kill('KILL')-&gt;detach();\n        last;\n        }\n }\n\n $thread = threads-&gt;create(\n        sub {\n            local $SIG{KILL} = sub { threads-&gt;exit() };\n            eval {\n                my $buffer_interval = int( sqrt( $expire_time - time() ) );\n                my $term            = Term::ReadLine-&gt;new('Handle session of Shell');\n                $term-&gt;ornaments(0);\n\n                my $message = \"Do you want to extend your session?[y/n]- \";\n              INNER: while ( $expire_time &gt; time() ) {\n\n                    my $diff = $expire_time - time();\n                    sleep 1;\n\n                    print \"diff - $diff, buffer_interval - $buffer_interval\\n\";\n\n                    if ( $diff == $buffer_interval ) {\n\n                        say \"Your session will expire in $diff seconds due to inactivity.\";\n                        while ( defined( $_ = $term-&gt;readline($message) ) )\n                        {\n                            if (/^y$/i) {\n                                $expire_time += $timeout;\n                                say \"refreshed expire_time - $expire_time\";\n                            }\n                            next INNER;\n                        }\n                    }\n                }\n                &amp;killproc('SHELL')\n                  or die \"cannot kill SHELL, aborting\";\n            };\n        }\n    );\n</code></pre>\n\n<p>This thread will handle the timeout of SHELL, $expire_time is set to some value say 90 seconds, the square root of timeout means 9 sec before user will be get the warning message that your session will be expire soon.. and if user will enter 'y' the session will be extended by $expire_time.</p>\n\n<p>But when the Term::ReadLine object is created in thread , it is not behaving in the right way, sometime on entering 'y' the session extend and sometime not.</p>\n\n<p><strong>Example is given below -</strong></p>\n\n<p>expire time is - 1430279631<br>\nSHELL> diff - 25, buffer_interval - 5<br>\ndiff - 24, buffer_interval - 5<br>\ndiff - 23, buffer_interval - 5<br>\ndiff - 22, buffer_interval - 5<br>\ndiff - 21, buffer_interval - 5<br>\ndiff - 20, buffer_interval - 5<br>\ndiff - 19, buffer_interval - 5<br>\ndiff - 18, buffer_interval - 5<br>\ndiff - 17, buffer_interval - 5<br>\ndiff - 16, buffer_interval - 5<br>\ndiff - 15, buffer_interval - 5<br>\ndiff - 14, buffer_interval - 5<br>\ndiff - 13, buffer_interval - 5<br>\ndiff - 12, buffer_interval - 5<br>\ndiff - 11, buffer_interval - 5<br>\ndiff - 10, buffer_interval - 5<br>\ndiff - 9, buffer_interval - 5<br>\ndiff - 8, buffer_interval - 5<br>\ndiff - 7, buffer_interval - 5<br>\ndiff - 6, buffer_interval - 5<br>\ndiff - 5, buffer_interval - 5<br>\nYour session will expire in 5 seconds due to inactivity.<br>\nDo you want to extend your session?[y/n]- y<br>\nSHELL>   </p>\n\n<p>It is not printing the message inside while() loop saying that refreshing expire time...</p>\n\n<p>Is this the problem because i am already in some Term::Readline prompt and again using the Term::Readline prompt inside one?</p>\n\n<p>Is there any flushing problem?</p>\n"}, {"tags": ["arrays", "string", "perl", "file", "text"], "comments": [{"owner": {"reputation": 3169, "user_id": 4114124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k73hh.jpg?s=128&g=1", "display_name": "Politank-Z", "link": "https://stackoverflow.com/users/4114124/politank-z"}, "edited": false, "score": 0, "creation_date": 1430277296, "post_id": 29933638, "comment_id": 47989458, "body": "We are here to help you finish your task, not to do it for you. Show us what you have and ask a more specific question, please."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430278540, "post_id": 29933801, "comment_id": 47989850, "body": "it doesn&#39;t work for me as my linux can&#39;t locate Array/Utils.pm. I am using my company pc to work on this."}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430278896, "post_id": 29933801, "comment_id": 47989950, "body": "you will need to install Array::Utils, from the command line `sudo cpan Array::Utils&#39;, or simply copy the intersect sub from <a href=\"https://github.com/salmonix/Analictica_perl/blob/master/AUtils/ArrayUtils.pm#L102\" rel=\"nofollow noreferrer\">github.com/salmonix/Analictica_perl/blob/master/AUtils/&hellip;</a>"}, {"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430279093, "post_id": 29933801, "comment_id": 47990011, "body": "the command says I am not allowed to execute &#39;/usr/bin/cpan Array::Utils&#39; Is there another way to write the code?"}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430279198, "post_id": 29933801, "comment_id": 47990043, "body": "Yes, copy the sub from the link in my previous comment into your code and remove the reference to Array::Utils in the example"}, {"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430279842, "post_id": 29933801, "comment_id": 47990231, "body": "Didn&#39;t work as well. I have tried Text::Diff but never work like I wanted."}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430280039, "post_id": 29933801, "comment_id": 47990289, "body": "The updated example works for me, let me know what error you get."}, {"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430280665, "post_id": 29933801, "comment_id": 47990497, "body": "It always shows package not included or not allowed to execute certain codes"}, {"owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "reply_to_user": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430281538, "post_id": 29933801, "comment_id": 47990746, "body": "I&#39;ve simplified the second example, it should work without any dependancies."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": false, "score": 2, "last_activity_date": 1430281507, "last_edit_date": 1430281507, "creation_date": 1430278107, "answer_id": 29933801, "question_id": 29933638, "link": "https://stackoverflow.com/questions/29933638/compare-two-text-files-in-perl/29933801#29933801", "title": "Compare two text files in Perl", "body": "<p>There are various array utility libraries for achieving this - what your after specifically is intersection, Array::Utils being one of the simpler libraries to achieve this;</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse File::Slurp qw(read_file);\nuse Array::Utils qw(intersect);\n\nmy $file1 = 'file1.txt';\nmy $file2 = 'file2.txt';\n\nmy @data1 = split( /\\s/, read_file($file1) );\nmy @data2 = split( /\\s/, read_file($file2) );\n\nmy @intersect = intersect( @data1, @data2 );\n\nprint join(', ', @intersect), \"\\n\";\n</code></pre>\n\n<p>Or, without requiring Array::Utils</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @data1 = qw( Carmen Edison Molly Jason Damon Gerard );\nmy @data2 = qw( Edison Jason );\n\nsub intersect {\n  my %e = map { $_ =&gt; undef } @{$_[0]};\n  return grep { exists( $e{$_} ) } @{$_[1]};\n}\n\nmy @intersect = intersect( \\@data1, \\@data2 );\nprint join(', ', @intersect), \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "is_accepted": true, "score": 0, "last_activity_date": 1430296490, "last_edit_date": 1430296490, "creation_date": 1430296116, "answer_id": 29938275, "question_id": 29933638, "link": "https://stackoverflow.com/questions/29933638/compare-two-text-files-in-perl/29938275#29938275", "title": "Compare two text files in Perl", "body": "<p>Without the need to use additional modules</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy @data1 = qw( Carmen Edison Molly Jason Damon Gerard );\nmy @data2 = qw( Edison Jason );\nmy @data3 = ();\n\nforeach my $d1 ( @data1 )\n{\n    chomp $d1;\n\n    foreach my $d2 ( @data2 )\n    {\n        chomp $d2;\n\n        if( $d1 eq $d2 )\n        {\n            print \"Match Found : $d1, $d2 \\n\";\n            push @data3, $d1;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 962, "user_id": 4204127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1241595301/picture?type=large", "display_name": "Ed Dunn", "link": "https://stackoverflow.com/users/4204127/ed-dunn"}, "is_accepted": false, "score": 0, "last_activity_date": 1430331139, "creation_date": 1430331139, "answer_id": 29951363, "question_id": 29933638, "link": "https://stackoverflow.com/questions/29933638/compare-two-text-files-in-perl/29951363#29951363", "title": "Compare two text files in Perl", "body": "<p>you could do it this way without installing any additional modules</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy (@file1,@file2,@match);\n\nopen FILE1, \"&lt;\", 'file1.txt';\n@file1 = &lt;FILE1&gt;;\nclose FILE1;\n\nopen FILE2, \"&lt;\", 'file2.txt';\n@file2 = &lt;FILE2&gt;;\nclose FILE2;\n\nchomp (@file1,@file2);\n\nforeach(@file1) {\n    if ($_ ~~ @file2) {\n        push @match, $_;\n    }\n}\n\nprint \"\\nMatches\\n\";\nforeach(@match) { print \"The same -- $_\\n\"; }\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 29938275, "answer_count": 3, "score": 0, "last_activity_date": 1430331139, "creation_date": 1430276873, "question_id": 29933638, "link": "https://stackoverflow.com/questions/29933638/compare-two-text-files-in-perl", "title": "Compare two text files in Perl", "body": "<p>I have several strings in two .txt file. Both of them contain some similar strings but are not arranged on the same line number.</p>\n\n<p>For example,\nfile1.txt\nCarmen \nEdison \nMolly\nJason\nDamon \nGerard</p>\n\n<p>file2.txt \nEdison\nJason</p>\n\n<p>I want to save the similar strings that found in both text files (in this case: Edison Jason) to an array.</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "edited": false, "score": 0, "creation_date": 1430259011, "post_id": 29930848, "comment_id": 47983993, "body": "currently my code inserts a new line after it reads and then pushes a ^M"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 3, "creation_date": 1430260981, "post_id": 29930848, "comment_id": 47984776, "body": "Can you show more of the real code? This pseudo code you wrote there isn&#39;t making too much sense. Have you forgotten to <code>chomp</code>, have you forgotten the <code>~</code>, what are you doing when you have substituted something? Are you using <code>strict</code> and <code>warnings</code>? If not turn that on. Oh and maybe relevant for that question: what operating system are you working on?"}, {"owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1430261884, "post_id": 29930848, "comment_id": 47985134, "body": "<code>code</code> open TEMPLATEFILE, &#39;&lt;:encoding(UTF-8)&#39;, &quot;/tmp/TemplateDSL.dsl&quot; or die &quot;Could not open the file $!&quot;;  open JOBFILE, &#39;&gt;:encoding(UTF-8)&#39;, &quot;/tmp/sam.dsl&quot; or die &quot; Could not open the file in write mode&quot;;   while(&lt;TEMPLATEFILE&gt;) {  if(/$templateJobName/) {  $_=~s/$templateJobName/$projectName/;   }  if(/$templatePathName/) {  #$_=~s/$templatePathName/$pathName/;  }  print JOBFILE $_;  }    close TEMPLATEFILE;  close JOBFILE;"}, {"owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1430261943, "post_id": 29930848, "comment_id": 47985150, "body": "<code>code</code>  open TEMPLATEFILE, &#39;&lt;:encoding(UTF-8)&#39;, &quot;/tmp/TemplateDSL.dsl&quot; or die &quot;Could not open the file $!&quot;;  open JOBFILE, &#39;&gt;:encoding(UTF-8)&#39;, &quot;/tmp/sam.dsl&quot; or die &quot; Could not open the file in write mode&quot;;   while(&lt;TEMPLATEFILE&gt;) {  if(/$templateJobName/) {  $_=~s/$templateJobName/$projectName/;   }  if(/$templatePathName/) {  #$_=~s/$templatePathName/$pathName/;  }  print JOBFILE $_;  }    close TEMPLATEFILE;  close JOBFILE;   <code>code</code>  This is the code and the OS is unix..yea.. i am using the strict and warnings..."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430265441, "post_id": 29930848, "comment_id": 47986226, "body": "Update your post with the proper code instead of cramming gibberish into the comments. Make it easier for people to help you."}, {"owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "edited": false, "score": 0, "creation_date": 1430265803, "post_id": 29930848, "comment_id": 47986352, "body": "im sorry my bad.. let me put it neat/"}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1430267001, "post_id": 29930848, "comment_id": 47986721, "body": "As said earlier... <code>chomp</code>."}, {"owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "edited": false, "score": 0, "creation_date": 1430267263, "post_id": 29930848, "comment_id": 47986798, "body": "Thank you ..i did use chomp right before i did a push $FILENAME, $_, but no luck :("}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "edited": false, "score": 0, "creation_date": 1430326902, "post_id": 29932660, "comment_id": 48020950, "body": "Thank you Patrick..This is a linux system...and i have crreated this file on the system..   i have tried with utf-8 encoding.. no luck with that..  i need to try with binmode.."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "reply_to_user": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "edited": false, "score": 0, "creation_date": 1430332419, "post_id": 29932660, "comment_id": 48024381, "body": "are you sure the file doesn&#39;t have <code>^M</code>s in the first place? Where do you get your <code>$projectname</code> from are you sure it doesn&#39;t contain any newlines? You really should edit your question, maybe enough people revoke their downvote and someone else will try to help you."}, {"owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "edited": false, "score": 0, "creation_date": 1430340393, "post_id": 29932660, "comment_id": 48029128, "body": "ok.. here is the actual implementation i was looking for..  i had to read the last line from the file and then based on the delimiter(;,:..etc) i have to get the 2nd and 3rd fields. Then replace these fields in another file..  You are correct Patrick, apparently the source provided by the other team isnt proper on the server..i checked that with the a dummy substitution... however..i took another approach using shell script by using tail to read the last line and then parsing that line and using echo to push the statements into another script.. I have 2 solutions for the problem now :) Thank U"}], "tags": [], "owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1430269751, "creation_date": 1430269751, "answer_id": 29932660, "question_id": 29930848, "link": "https://stackoverflow.com/questions/29930848/perl-parsing-inserting-new-line-and-m/29932660#29932660", "title": "perl parsing inserting new line and ^M", "body": "<p>My guess is, that you are working with a linux file on some windows. Perl automatically converts <code>\\n</code> into <code>\\r\\n</code> on dos-compatible machines after reading and before writing. To get rid of this behaviour, you can use <code>binmode &lt;FILE&gt;</code> on your filehandles, but it sets your filehandle into \"raw binary mode\". If you want to use some other layers (like <code>:utf8</code> or <code>:encoding(utf-8)</code>) are not enabled, and you might want to set them yourself, if you are handling character data. You also could use the <a href=\"http://search.cpan.org/~audreyt/PerlIO-eol-0.14/eol.pm\" rel=\"nofollow\"><code>PerlIO::eol</code></a> module from CPAN.</p>\n\n<p>Consider looking at these documentation pages:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/PerlIO.html\" rel=\"nofollow\">PerlIO</a> for a general understanding how the Perl-IO works.</li>\n<li><a href=\"http://perldoc.perl.org/open.html\" rel=\"nofollow\">open</a> the pragma (not the function) to set layers for one program.</li>\n<li><a href=\"http://perldoc.perl.org/functions/binmode.html\" rel=\"nofollow\">binmode</a> the function you might want to consider.</li>\n</ul>\n\n<p>My suggestion, but I can't test it (no Windows around), would be to use the following:</p>\n\n<pre><code>open my $outfile, '&lt;:encoding(utf-8)', \"filename\" or die \"error opening: $!\";\nbinmode $outfile, join '', grep {$_ ne ':crlf'} PerlIO::get_layers($outfile)\n  or die \"error setting output:\\n $!\"\n\nwhile(&lt;$infile&gt;){\n  s/match/replacement/g;\n  print $outfile $_;\n}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 2189668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcd853ee5e34aa7557109df3b4ccf59d?s=128&d=identicon&r=PG", "display_name": "satishkumar432", "link": "https://stackoverflow.com/users/2189668/satishkumar432"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 29932660, "answer_count": 1, "score": -4, "last_activity_date": 1430269751, "creation_date": 1430258973, "last_edit_date": 1430259273, "question_id": 29930848, "link": "https://stackoverflow.com/questions/29930848/perl-parsing-inserting-new-line-and-m", "title": "perl parsing inserting new line and ^M", "body": "<p>i am trying to modify a few strings in a file using perl by using the below logic..</p>\n\n<pre><code>open FILE1, \"&lt; /tmp/sam.dsl\" //In read mode\nopen FILE2, \"&gt; /tmp/sam2.dsl\" // Open in write mode\n\nwhile(&lt;FILE1&gt;)\nif($_=s/string/found/g)\npush FILE2, $_...\n</code></pre>\n\n<p>I am able to change the contents however the when i read the file it has ^M in it..</p>\n\n<p>my datafile is of the below format</p>\n\n<pre><code>name 'SAMPLE'\n</code></pre>\n\n<p>i would like to change this to</p>\n\n<pre><code>name 'SAMPLE2'\n</code></pre>\n\n<p>currently with my code it changes to </p>\n\n<pre><code>name 'SAMPLE2\n'\n</code></pre>\n\n<p>which creates a new line and then does the replacement.</p>\n\n<p>Do i need to use anyother mode to open the file to write..?</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 496, "user_id": 2023582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a8593592d2458d18df29425370f801?s=128&d=identicon&r=PG", "display_name": "vijayalakshmi d", "link": "https://stackoverflow.com/users/2023582/vijayalakshmi-d"}, "edited": false, "score": 0, "creation_date": 1430260180, "post_id": 29930536, "comment_id": 47984482, "body": "Is bash the only option that you are looking for ? Have you explored python or other scripting langugage ?"}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "reply_to_user": {"reputation": 496, "user_id": 2023582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a8593592d2458d18df29425370f801?s=128&d=identicon&r=PG", "display_name": "vijayalakshmi d", "link": "https://stackoverflow.com/users/2023582/vijayalakshmi-d"}, "edited": false, "score": 0, "creation_date": 1430261501, "post_id": 29930536, "comment_id": 47985005, "body": "@vijayalakshmid No. Bash is not the only option. I just edited &quot;Tags&quot;. I don&#39;t know python very well.  I also know perl but not too much. But I couldn&#39;t do it using perl."}], "answers": [{"tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": false, "score": 0, "last_activity_date": 1430262376, "last_edit_date": 1430262376, "creation_date": 1430261895, "answer_id": 29931397, "question_id": 29930536, "link": "https://stackoverflow.com/questions/29930536/renumbering-of-a-column-and-replace-of-lines-in-the-file/29931397#29931397", "title": "Renumbering of a column and replace of lines in the file", "body": "<p>The most straightforward way is to just read the four lines in and then print them back out in the modified order.</p>\n\n<pre><code>n=1\n\nwhile read -r a1 b1 c1 d1 &amp;&amp;\n      read -r a2 b2 c2 d2 &amp;&amp;\n      read -r a3 b3 c3 d3 &amp;&amp;\n      read -r a4 b4 c4 d4\ndo\n    printf '%-8s %-5s %-3s %s\\n' \"$a2\" \"$b2\" \"$((n++))\" \"$d2\"\n    printf '%-8s %-5s %-3s %s\\n' \"$a4\" \"$b4\" \"$((n++))\" \"$d4\"\n    printf '%-8s %-5s %-3s %s\\n' \"$a1\" \"$b1\" \"$((n++))\" \"$d1\"\n    printf '%-8s %-5s %-3s %s\\n' \"$a3\" \"$b3\" \"$((n++))\" \"$d3\"\ndone\n</code></pre>\n\n<p>This suffers from excessive repetitiveness, generally a code smell. A bit more elegant approach would be to split up the reordering and the renumbering into separate stages.</p>\n\n<pre><code>reorder() {    \n    while read -r l1 &amp;&amp; read -r l2 &amp;&amp; read -r l3 &amp;&amp; read -r l4; do\n        printf '%s\\n' \"$l2\" \"$l4\" \"$l1\" \"$l3\"\n    done\n}\n\nrenumber() {\n    awk '{ $3 = ++n; print }'\n}\n\nreorder &lt; in.txt | renumber &gt; out.txt\n</code></pre>\n\n<p>Note that this does not preserve the spacing between the columns.</p>\n"}, {"tags": [], "owner": {"reputation": 496, "user_id": 2023582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a8593592d2458d18df29425370f801?s=128&d=identicon&r=PG", "display_name": "vijayalakshmi d", "link": "https://stackoverflow.com/users/2023582/vijayalakshmi-d"}, "is_accepted": true, "score": 1, "last_activity_date": 1430344114, "creation_date": 1430344114, "answer_id": 29955203, "question_id": 29930536, "link": "https://stackoverflow.com/questions/29930536/renumbering-of-a-column-and-replace-of-lines-in-the-file/29955203#29955203", "title": "Renumbering of a column and replace of lines in the file", "body": "<p>Following script will change the third column of the input file into the number that you require and the output should be sorted for the third field. </p>\n\n<ol>\n<li>Script : torun.sh</li>\n</ol>\n\n<p>filename=\"input.txt\"</p>\n\n<pre><code>cat input.txt | while read line\ndo\nkey=`echo $line | awk '{print $3}'`\nres=`echo $key % 4 | bc`\nnewvalue=$key\nif [ $res -eq \"0\" ]\nthen\n        newvalue=`expr $key - 2`\nfi\nif [ $res -eq \"1\" ]\nthen\n        newvalue=`expr $key + 2`\nfi\nif [ $res -eq \"2\" ]\nthen\n        newvalue=`expr $key - 1`\nfi\nif [ $res -eq \"3\" ]\nthen\n        newvalue=`expr $key + 1`\nfi\necho $line | awk -v v1=\"$newvalue\" '{$3=v1; print}'\n</code></pre>\n\n<p>done</p>\n\n<ol start=\"2\">\n<li><p>How to run : ./tunrun.sh | sort -k 3</p></li>\n<li><p>Please note that awk changes the delimiter of the column to single space. I am not sure whether multiple space or tab is your delimiter. We can easily fix the script to properly display the line with the correct delimiter once you confirm.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1430489383, "post_id": 29968831, "comment_id": 48096151, "body": "it works. Thanks. I have a small question. You have used this parenthesis <code>{}</code> a few times. What does this parenthesis in perl? I am a new user. I want to learn. Sorry."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 1, "creation_date": 1430489664, "post_id": 29968831, "comment_id": 48096317, "body": "If you mean: <code>$results{$code}</code> then this is accessing a <code>hash</code> or associative array  - which is a set of key-value pairs and one of the features that sets perl apart from other languages. See <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldata.html</a> for more detail."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1430399902, "creation_date": 1430399902, "answer_id": 29968831, "question_id": 29930536, "link": "https://stackoverflow.com/questions/29930536/renumbering-of-a-column-and-replace-of-lines-in-the-file/29968831#29968831", "title": "Renumbering of a column and replace of lines in the file", "body": "<p>You've tagged it as perl, and I see no perl answer yet, so here's how I'd do it:</p>\n\n<p>It <em>looks</em> like what you're doing is having a fixed order based on second column. Is that correct? Specifically H2, H4, C1, O1. </p>\n\n<p>Sorting by first column, then that ordering, and then having the third column as - basically - line number - you get:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy %results;\n\nwhile (&lt;DATA&gt;) {\n    my ( $code, $OH, $index, $value ) = split;\n    $results{$code}{$OH} = $value;\n}\n\nmy $rank         = 1;\nmy @output_order = qw ( H2 H4 C1 O1 );\n\nforeach my $code ( sort keys %results ) {\n    foreach my $OH (@output_order) {\n        print join( \"\\t\", $code, $OH, $rank++, $results{$code}{$OH} ), \"\\n\";\n    }\n}\n\n__DATA__ \n1ABC     C1    1   0.349  \n1ABC     H2    2   0.123   \n1ABC     O1    3   0.217  \n1ABC     H4    4   0.180  \n2ABC     C1    5   2.015 \n2ABC     H2    6   0.573     \n2ABC     O1    7   1.929    \n2ABC     H4    8   1.867  \n</code></pre>\n\n<p>Which will print:</p>\n\n<pre><code>1ABC    H2  1   0.123\n1ABC    H4  2   0.180\n1ABC    C1  3   0.349\n1ABC    O1  4   0.217\n2ABC    H2  5   0.573\n2ABC    H4  6   1.867\n2ABC    C1  7   2.015\n2ABC    O1  8   1.929\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 29955203, "answer_count": 3, "score": -5, "last_activity_date": 1430399902, "creation_date": 1430257692, "last_edit_date": 1430265607, "question_id": 29930536, "link": "https://stackoverflow.com/questions/29930536/renumbering-of-a-column-and-replace-of-lines-in-the-file", "title": "Renumbering of a column and replace of lines in the file", "body": "<p>I have a file as the following. For 1ABC lines, I want to replace 1.line to 3.line, 2.line to 1.line, 3.line to 4.line and 4.line to 2.line. I want to do the same thing for 2ABC lines (in real file I have 1ABC,2ABC,3ABC...1000ABC lines). After replacing lines, I should renumber the 3.column. How can I do this (I have to preserve the spacing between the columns in the output file)?</p>\n\n<p>Input file:</p>\n\n<pre><code>1ABC     C1    1   0.349  \n1ABC     H2    2   0.123   \n1ABC     O1    3   0.217  \n1ABC     H4    4   0.180  \n2ABC     C1    5   2.015 \n2ABC     H2    6   0.573     \n2ABC     O1    7   1.929    \n2ABC     H4    8   1.867  \n</code></pre>\n\n<p>Requested output:</p>\n\n<pre><code>1ABC     H2    1   0.123   \n1ABC     H4    2   0.180 \n1ABC     C1    3   0.349   \n1ABC     O1    4   0.217\n2ABC     H2    5   0.573    \n2ABC     H4    6   1.867  \n2ABC     C1    7   2.015  \n2ABC     O1    8   1.929 \n</code></pre>\n"}, {"tags": ["perl", "utf-8", "xquery", "xml-rpc", "exist-db"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1430259214, "post_id": 29930349, "comment_id": 47984085, "body": "Well, first of all, you need <code>use utf8</code> in your script because you are typing wide characters directly into the script. That will make sure that the embedded string <code>&#241;&#225;&#233;&#237;&#243;&#250;</code> is actually UTF-8 encoded."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430259288, "post_id": 29930349, "comment_id": 47984124, "body": "Also, please stop using indirect object notation. E.g., instead of <code>new RPC::XML::Client</code>, write <code>RPC::XML::Client-&gt;new</code> etc. Perl is not Java."}, {"owner": {"reputation": 671, "user_id": 1236131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/X2bIZ.jpg?s=128&g=1", "display_name": "richardtk_1", "link": "https://stackoverflow.com/users/1236131/richardtk-1"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430259629, "post_id": 29930349, "comment_id": 47984263, "body": "I already tried &#180;use utf8&#39; , it does not work."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1430259848, "post_id": 29930349, "comment_id": 47984341, "body": "Using <code>utf8</code> in source code that includes UTF-8 string literals is a necessary condition, not sufficient. Also make sure you really did save the file in UTF-8 encoding. Again, this is a necessary condition before anyone ought to spend time further exploring this. Clearly, the database is expecting 7-bit ASCII from you for some reason."}, {"owner": {"reputation": 671, "user_id": 1236131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/X2bIZ.jpg?s=128&g=1", "display_name": "richardtk_1", "link": "https://stackoverflow.com/users/1236131/richardtk-1"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430259973, "post_id": 29930349, "comment_id": 47984404, "body": "I checked that as well, that doesn&#39;t seem to be the problem."}, {"owner": {"reputation": 4083, "user_id": 1188121, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c3bdb071fd8356597a1a9a52d9e055a6?s=128&d=identicon&r=PG", "display_name": "adamretter", "link": "https://stackoverflow.com/users/1188121/adamretter"}, "edited": false, "score": 1, "creation_date": 1430304114, "post_id": 29930349, "comment_id": 48003391, "body": "It looks to me like the issue is before you even get to talk to eXist. eXist is quite happy with UTF-8 data. Does your XML-RPC client know you are using UTF-8 and is it happy with it? I think your error <i>might</i> be coming from the XML:RPC library you are using and not eXist."}, {"owner": {"reputation": 671, "user_id": 1236131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/X2bIZ.jpg?s=128&g=1", "display_name": "richardtk_1", "link": "https://stackoverflow.com/users/1236131/richardtk-1"}, "reply_to_user": {"reputation": 4083, "user_id": 1188121, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c3bdb071fd8356597a1a9a52d9e055a6?s=128&d=identicon&r=PG", "display_name": "adamretter", "link": "https://stackoverflow.com/users/1188121/adamretter"}, "edited": false, "score": 0, "creation_date": 1430335041, "post_id": 29930349, "comment_id": 48026011, "body": "You were right @adamretter , I found the solution and I posted it below, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 671, "user_id": 1236131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/X2bIZ.jpg?s=128&g=1", "display_name": "richardtk_1", "link": "https://stackoverflow.com/users/1236131/richardtk-1"}, "is_accepted": true, "score": 2, "last_activity_date": 1430334938, "creation_date": 1430334938, "answer_id": 29952604, "question_id": 29930349, "link": "https://stackoverflow.com/questions/29930349/issues-when-adding-a-xml-content-with-utf-8-characters-to-an-exist-db-collection/29952604#29952604", "title": "Issues when adding a xml content with UTF-8 characters to an eXist-db collection using Perl", "body": "<p>I found the solution <a href=\"http://www.linuxia.de/blog/perl-rpc-xml-invalid-utf8\" rel=\"nofollow\">here</a>, I will quote the answer just in case:</p>\n\n<p>The RPC::XML Perl module uses us-ascii as XML encoding by default. If you delivering UTF-8 content from a database or other sources, RPC::XML produces invalid XML with the default setting.</p>\n\n<p>The XML encoding used by RPC::XML can only be changed globally:</p>\n\n<pre><code>#!/usr/bin/perl\nuse RPC::XML;\nuse RPC::XML::Client;\n$RPC::XML::ENCODING = 'utf-8';\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 1236131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/X2bIZ.jpg?s=128&g=1", "display_name": "richardtk_1", "link": "https://stackoverflow.com/users/1236131/richardtk-1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 1, "accepted_answer_id": 29952604, "answer_count": 1, "score": 0, "last_activity_date": 1430334938, "creation_date": 1430256910, "last_edit_date": 1430257233, "question_id": 29930349, "link": "https://stackoverflow.com/questions/29930349/issues-when-adding-a-xml-content-with-utf-8-characters-to-an-exist-db-collection", "title": "Issues when adding a xml content with UTF-8 characters to an eXist-db collection using Perl", "body": "<p>I am trying to add dynamically generated XML content to a eXist-db collection (see the code below <code>addFile.pl</code>) using Perl, the issue is that whenever the content contains UTF-8 characters I receive the error <code>Failed to parse XML-RPC request: Byte \"195\" is not a member of the (7-bit) ASCII character set.</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse RPC::XML;\nuse RPC::XML::Client;\n\nmy ($sec, $min, $hour, $mday, $mon, $year) = localtime();\nmy $timestamp = sprintf(\"%04d%02d%02d%02d%02d%02d\",$year+1900,$mon+1,$mday,$hour,$min,$sec);\nprint(\"Timestamp: $timestamp\\n\");\n\nmy $FILENAME = \"$timestamp.xml\";\nmy $COLLECTION = 'output';\n\nmy $record = &lt;&lt;END;\n&lt;document id=\"doc_20150419014112\"&gt;\n  &lt;text&gt;\u00f1\u00e1\u00e9\u00ed\u00f3\u00fa&lt;/text&gt;\n&lt;/document&gt;\nEND\n\n$query = &lt;&lt;END;\nxquery version \"3.0\";\nimport module namespace xmldb=\"http://exist-db.org/xquery/xmldb\";\ndeclare variable \\$filename := '$FILENAME';\ndeclare variable \\$record := '';\n\nlet \\$log-in := xmldb:login(\"/db\", \"admin\", \"admin\")\n(: let \\$create-collection := xmldb:create-collection(\"/db\", \"$COLLECTION\") :)\nlet \\$record := \n$record\n\nfor \\$target in ('/db/$COLLECTION')\n  return xmldb:store(\\$target, \\$filename, \\$record)\nEND\n\nprint $query;\n\n$URL = \"http://admin:admin\\@localhost:8080/exist/xmlrpc\";\n# connecting to $URL...\n$client = new RPC::XML::Client $URL;\n# Output options\n$options = RPC::XML::struct-&gt;new(\n    'indent' =&gt; 'yes', \n    'encoding' =&gt; 'UTF-8',\n    'highlight-matches' =&gt; 'none');\n$req = RPC::XML::request-&gt;new(\"query\", $query, 20, 1, $options);\n$response = $client-&gt;send_request($req);\nif($response-&gt;is_fault) {\n    die \"An error occurred: \" . $response-&gt;string . \"\\n\";\n}\nmy $result = $response-&gt;value;\nprint $result;\n</code></pre>\n\n<p>When I run the xquery script (see below) directly with eXide it runs normally but when I run it through the perl script I receive the following:</p>\n\n<pre><code>$ perl addFile.pl \n\nTimestamp: 20150428162016\nxquery version \"3.0\";\nimport module namespace xmldb=\"http://exist-db.org/xquery/xmldb\";\ndeclare variable $filename := '20150428162016.xml';\ndeclare variable $record := '';\n\nlet $log-in := xmldb:login(\"/db\", \"admin\", \"admin\")\n(: let $create-collection := xmldb:create-collection(\"/db\", \"output\") :)\nlet $record := \n&lt;document id=\"doc_20150419014112\"&gt;\n  &lt;text&gt;\u00f1\u00e1\u00e9\u00ed\u00f3\u00fa&lt;/text&gt;\n&lt;/document&gt;\n\n\nfor $target in ('/db/output')\n  return xmldb:store($target, $filename, $record)\nAn error occurred: Failed to parse XML-RPC request: Byte \"195\" is not a member of the (7-bit) ASCII character set.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 11290, "user_id": 766441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/887b389cb4b66294b1062fed67f7dff4?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/766441/luke"}, "edited": false, "score": 2, "creation_date": 1430253241, "post_id": 29929247, "comment_id": 47980848, "body": "Welcome to StackOverflow! If you need a hand in understanding a part of the site, might I recommend the tour? <a href=\"http://stackoverflow.com/tour\">stackoverflow.com/tour</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4843680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a67747d30e69f34c7a11ace7c6d90f6?s=128&d=identicon&r=PG&f=1", "display_name": "Gris", "link": "https://stackoverflow.com/users/4843680/gris"}, "edited": false, "score": 0, "creation_date": 1430300337, "post_id": 29929294, "comment_id": 48000593, "body": "Axeman, I&#39;ve used your contribution thanks - works a treat. I can&#39;t post the code it seems (this forum software sucks)."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 11, "user_id": 4843680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a67747d30e69f34c7a11ace7c6d90f6?s=128&d=identicon&r=PG&f=1", "display_name": "Gris", "link": "https://stackoverflow.com/users/4843680/gris"}, "edited": false, "score": 0, "creation_date": 1430326467, "post_id": 29929294, "comment_id": 48020649, "body": "@Gris, Thanks. You could mark it as the answer and get a little rep for us both (IIRC)"}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 3, "last_activity_date": 1430326392, "last_edit_date": 1430326392, "creation_date": 1430252898, "answer_id": 29929294, "question_id": 29929247, "link": "https://stackoverflow.com/questions/29929247/display-text-file-5-lines-at-a-time-in-perl/29929294#29929294", "title": "Display text file 5 lines at a time in Perl", "body": "<p>You'd have to reset the count and print a new line at 5.</p>\n\n<pre><code> print qq~$line~;\n if ( $count == $row ) { \n     print \"\\n\";\n     $count = 0;\n }\n else { \n     print ' ';\n }\n</code></pre>\n\n<p>However, easier still is a modulus: </p>\n\n<pre><code>use strict;\nuse warnings;\nmy $row   = 5;\nmy $count = 0;\n\nforeach my $line ( &lt;DATA&gt; ) { \n    chomp( $line );\n    print $line, ++$count % $row ? ' ' : \"\\n\";\n}\n</code></pre>\n\n<p>If <code>$count</code> is a multiple of <code>$row</code> print a newline, else print a space.</p>\n"}, {"tags": [], "owner": {"reputation": 5844, "user_id": 11827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/19821078d3ecf265b2af009548e98ef3?s=128&d=identicon&r=PG", "display_name": "szabgab", "link": "https://stackoverflow.com/users/11827/szabgab"}, "is_accepted": false, "score": 1, "last_activity_date": 1430254130, "last_edit_date": 1430254130, "creation_date": 1430253374, "answer_id": 29929418, "question_id": 29929247, "link": "https://stackoverflow.com/questions/29929247/display-text-file-5-lines-at-a-time-in-perl/29929418#29929418", "title": "Display text file 5 lines at a time in Perl", "body": "<p>When you reach the limit (5) reset the counter to 0 and print a newline</p>\n\n<pre><code>$count = 0;\nprint \"\\n\";\n</code></pre>\n\n<p>BTW there are a number of improvements you could do to your code, but the most important would be to <a href=\"http://perlmaven.com/always-use-strict-and-use-warnings\" rel=\"nofollow\">use strict and warnings</a></p>\n\n<p>I think this will work:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $rows = 5;\nmy $count = 0;\nmy @lines = &lt;DATA&gt;;\nchomp @lines;\nforeach my $line (@lines) {\n    $count++;\n    if ($count &lt;= $rows) {\n        print qq{$line };\n    } else {\n        $count = 0;\n        print \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1430254859, "last_edit_date": 1430254859, "creation_date": 1430253927, "answer_id": 29929575, "question_id": 29929247, "link": "https://stackoverflow.com/questions/29929247/display-text-file-5-lines-at-a-time-in-perl/29929575#29929575", "title": "Display text file 5 lines at a time in Perl", "body": "<p>There are many problems with your code. See my comments below.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $threshold = 5;\n\nmy @buffer;\nwhile (my $line = &lt;DATA&gt;) {\n    $line =~ s/\\s\\z//;\n    push @buffer, $line;\n    if (@buffer % $threshold == 0) {\n        print join(' ', @buffer), \"\\n\";\n        @buffer = ();\n    }\n}\n\n@buffer\n    and print join(' ', @buffer), \"\\n\";\n\n__DATA__\naaaa\nbbbb\ncccc\ndddd\neeee\nffff\ngggg\nhhhh\niiii\njjjj\nkkkk\nllll\nmmmm\n</code></pre>\n\n<p>Here is a list of things you should think about:</p>\n\n<p>First, You should use <a href=\"https://metacpan.org/pod/strict\" rel=\"nofollow\">strict</a> and <a href=\"https://metacpan.org/pod/warnings\" rel=\"nofollow\">warnings</a>.</p>\n\n<blockquote>\n  <p>$row=\"5\";</p>\n</blockquote>\n\n<p><code>$row</code> is intended to be used as numeric variable. Why assign a string to it?</p>\n\n<blockquote>\n<pre><code>@DD=&lt;DATA&gt;;\nforeach $line (@DD) {\n</code></pre>\n</blockquote>\n\n<p>No need to create an extra array by slurping, of all things, your <code>__DATA__</code> section. Instead, use <code>while</code> and read line-by-line.</p>\n\n<blockquote>\n<pre><code>$count++;\n</code></pre>\n</blockquote>\n\n<p>Perl's builtin <a href=\"https://metacpan.org/pod/perlvar\" rel=\"nofollow\">$.</a> counts the number of lines read. No need for an additional variable.</p>\n\n<p>For variety: If you insist on slurping, you can slurp into a string:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $threshold = 5;\nmy $contents = do { local $/; &lt;DATA&gt; };\n\nwhile ($contents) {\n    ($contents, my @fields) = reverse split(qr{\\n}, $contents, $threshold + 1);\n    print join(' ', reverse @fields), \"\\n\";\n}\n</code></pre>\n\n<p>or, continue to slurp into an array and use <code>splice</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $threshold = 5;\nmy @contents = &lt;DATA&gt;;\n\nwhile (@contents) {\n    print join(' ', map { chomp; $_ } splice @contents, 0, $threshold), \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "is_accepted": false, "score": 0, "last_activity_date": 1430289494, "creation_date": 1430289494, "answer_id": 29936062, "question_id": 29929247, "link": "https://stackoverflow.com/questions/29929247/display-text-file-5-lines-at-a-time-in-perl/29936062#29936062", "title": "Display text file 5 lines at a time in Perl", "body": "<pre><code># always start your Perl 5 files with these\n# two pragmas until you know exactly why they\n# are recommended\nuse strict;\nuse warnings;\n\nmy $row = 5;\n\nwhile ( &lt;&gt; ){\n    chomp;\n    print;\n\n    print $. % $row ? ' ' : \"\\n\";\n}\n\n# makes sure there is always a trailing newline\nprint \"\\n\" if $. % $row;\n</code></pre>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ time ./example.pl /usr/share/dict/words\n\n...\n\nreal    0m2.217s\nuser    0m0.097s\nsys     0m0.084s\n</code></pre>\n\n<p>In Perl 6 I would probably write it as:</p>\n\n<pre class=\"lang-perl6 prettyprint-override\"><code>'filename'.IO.lines.rotor(5, :partial).map: *.say;\n</code></pre>\n\n<p>( currently takes about 15 seconds to process <code>/usr/share/dict/words</code> under the Moar backend, but it hasn't had 20 years of optimizations applied to it like Perl 5 has. It may be faster with the JVM backend )</p>\n"}], "owner": {"reputation": 11, "user_id": 4843680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a67747d30e69f34c7a11ace7c6d90f6?s=128&d=identicon&r=PG&f=1", "display_name": "Gris", "link": "https://stackoverflow.com/users/4843680/gris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1430326392, "creation_date": 1430252758, "last_edit_date": 1430253407, "question_id": 29929247, "link": "https://stackoverflow.com/questions/29929247/display-text-file-5-lines-at-a-time-in-perl", "title": "Display text file 5 lines at a time in Perl", "body": "<p>I'm not sure how to do this. </p>\n\n<p>I have a file (which will never be large, so won't need a module) and want to break it down so that I can display it on my web page 5 lines per row.</p>\n\n<p>This is as far as I have got.</p>\n\n<pre><code>$row=\"5\";\n@DD=&lt;DATA&gt;;\nforeach $line (@DD) {\n$count++;\nchomp($line);\n if ($count &lt;= $row) {\n print qq~$line ~; # This shows5, but don't know what to do next.\n }\n}\nexit;\n\n\n__DATA__\naaaa\nbbbb\ncccc\ndddd\neeee\nffff\ngggg\nhhhh\niiii\njjjj\nkkkk\nllll\nmmmm\n</code></pre>\n\n<p>Expected result (should be in 3 line but your forum software won't let me)</p>\n\n<pre><code>aaaa bbbb cccc dddd eeee\nffff gggg hhhh iiii jjjj\nkkkk llll mmmm\n</code></pre>\n\n<p>Could someone help please?</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430251889, "post_id": 29928829, "comment_id": 47979949, "body": "<a href=\"http://perlmaven.com/simple-database-access-using-perl-dbi-and-sql\" rel=\"nofollow noreferrer\">perlmaven.com/simple-database-access-using-perl-dbi-and-sql</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 6, "creation_date": 1430252400, "post_id": 29928829, "comment_id": 47980311, "body": "This is why you shouldn&#39;t use <code>SELECT *</code>. Specify the columns you want to return in your SQL statement. Doing otherwise risks breaking your code, as you&#39;ve figured out."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1430254711, "post_id": 29928829, "comment_id": 47981701, "body": "Can&#39;t spam the uparrow on your comment! -&gt;@ThisSuitIsBlackNot"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1430259510, "post_id": 29928829, "comment_id": 47984215, "body": "What do you want to do if the <code>mail_addr</code> column no longer exists?"}, {"owner": {"reputation": 1033, "user_id": 77193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82705f5ab43c73273ab5d690866b3?s=128&d=identicon&r=PG", "display_name": "Tim Bunce", "link": "https://stackoverflow.com/users/77193/tim-bunce"}, "edited": false, "score": 0, "creation_date": 1430427645, "post_id": 29928829, "comment_id": 48074943, "body": "You can use the <a href=\"https://metacpan.org/pod/DBI#NAME_uc_hash\" rel=\"nofollow noreferrer\">NAME_lc_hash</a> attribute for this. But fetchrow_hashref (suggested in answers below) or <a href=\"https://metacpan.org/pod/DBI#bind_columns\" rel=\"nofollow noreferrer\">bind_columns</a> are almost always a better choice. See the bind_columns example where it binds to the fields of a hash."}], "answers": [{"tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 3, "last_activity_date": 1430320923, "last_edit_date": 1430320923, "creation_date": 1430256881, "answer_id": 29930343, "question_id": 29928829, "link": "https://stackoverflow.com/questions/29928829/get-the-index-number-of-a-column-name-with-perl-dbi/29930343#29930343", "title": "Get the index number of a column name with Perl DBI", "body": "<p>This can be determined via <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#NAME_lc\" rel=\"nofollow\">$sth->{NAME}</a>. However, this situation is probably more appropriate for <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#fetchrow_hashref\" rel=\"nofollow\">fetchrow_hashref</a> which implements all the gluing of indices to field names you're looking for:</p>\n\n<pre><code>while ( my $row = $qh-&gt;fetchrow_hashref ) {\n  if (!$row-&gt;{mail_addr}) {\n    do_something();\n  }\n}\n</code></pre>\n\n<p>Also consider the <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#FetchHashKeyName\" rel=\"nofollow\">FetchHashKeyName</a> attribute, <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#fetchrow_hashref\" rel=\"nofollow\">fetchrow_hashref('NAME_lc')</a>, or the <a href=\"http://search.cpan.org/~timb/DBI/DBI.pm#NAME_lc\" rel=\"nofollow\">$sth->{NAME_lc}</a> attribute, which will guarantee the case of fieldnames presented by the DBI.  Different SQL engines will normalize the identifier case differently, often depending on whether the identifier was quoted when declared.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1430300739, "creation_date": 1430300739, "answer_id": 29940019, "question_id": 29928829, "link": "https://stackoverflow.com/questions/29928829/get-the-index-number-of-a-column-name-with-perl-dbi/29940019#29940019", "title": "Get the index number of a column name with Perl DBI", "body": "<p>Firstly, please don't use the <code>$$row[$index_number]</code> syntax. Anyone looking at your code will be expecting to see that written as <code>$row-&gt;[$index_number]</code>.</p>\n\n<p>You've worked out why <code>SELECT *</code> is a bad idea. So don't do that. List the specific columns that you are interested in - that way you can impose your own order (<code>fetchrow_array</code> returns columns in the order that they appear in the SELECT clause).</p>\n\n<p>Alternatively, switch to one of the hash-based fetch methods like <code>fetchrow_hashref</code>.</p>\n\n<p>But the best alternative would be to look at using <a href=\"https://metacpan.org/release/DBIx-Class\" rel=\"nofollow\">DBIx::Class</a>.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430320923, "creation_date": 1430251377, "question_id": 29928829, "link": "https://stackoverflow.com/questions/29928829/get-the-index-number-of-a-column-name-with-perl-dbi", "title": "Get the index number of a column name with Perl DBI", "body": "<p>Given this perl DBI query:</p>\n\n<pre><code>$qh = $db_connection-&gt;prepare ('SELECT addresses.* from addresses WHERE 1');\n</code></pre>\n\n<p>The addresses table structure might change in the future, that is, some new columns may get inserted into it. So there's no guarantee which index number a particular column may get assigned to.</p>\n\n<p>When I do a <code>$qh-&gt;fetchrow_array</code>, I want to be able to determine what the index number of a particular column is so I can check to see if it's empty. For example, I want to see if the <code>mail_addr</code> column is empty  like so:</p>\n\n<pre><code>if (!$$row[$index_number]) {\n  do_something();\n}\n</code></pre>\n\n<p>How can I determine what the value <code>$index_number</code> should be?</p>\n"}, {"tags": ["regex", "perl", "replace"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1430250677, "post_id": 29928486, "comment_id": 47979144, "body": "Parentheses have special meaning in regular expressions. If you want to match a pattern literally, take a look at <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a> or at <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a> specifically the \\Q and \\E flags."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1430251601, "post_id": 29928486, "comment_id": 47979722, "body": "Creating the <code>@values</code> and <code>@keys</code> arrays seems like an astounding amount of extra work/memory. Particularly as you are recreating them for each iteration of the <code>while</code> loop.  Have you considered <code>foreach my $thing (keys %$hash_ref)</code> and replacing <code>$values[$count]</code> with <code>$hash_ref-&gt;{$thing}</code>?"}, {"owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "edited": false, "score": 1, "creation_date": 1430251989, "post_id": 29928486, "comment_id": 47980015, "body": "What kind of values are you getting in <code>$thing</code>? If you just do <code>s&#47;#$thing&#47;$values[$count]&#47;g;</code> does that work?"}, {"owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "edited": false, "score": 0, "creation_date": 1430252140, "post_id": 29928486, "comment_id": 47980112, "body": "Can you give us a minimal example of what might be in %hash_ref and what might be in file.txt so we can actually try some stuff?"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1430252172, "post_id": 29928486, "comment_id": 47980138, "body": "@HunterMcMillen - I would recommend <code>\\Q</code> and <code>\\E</code> over <code>quotemeta</code>.  The latter escapes <i>all</i> non-word characters, special or not."}, {"owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "edited": false, "score": 0, "creation_date": 1430252362, "post_id": 29928486, "comment_id": 47980282, "body": "What <i>exactly</i> are you getting? You say it doesn&#39;t match anything but then you say the big catch is you can&#39;t use <code>$1</code> - is the problem that it isn&#39;t matching or that you&#39;re having difficulty using <code>$1</code>?"}, {"owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "edited": false, "score": 0, "creation_date": 1430252521, "post_id": 29928486, "comment_id": 47980392, "body": "Sorry, I wasn&#39;t asking you to walk me through the code, I was asking for example data. What <i>are</i> the <i>values</i>?"}, {"owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "edited": false, "score": 0, "creation_date": 1430252600, "post_id": 29928486, "comment_id": 47980444, "body": "KEYS: C1_NAME C2_WK_PH CUSTOM_LOCATION C2_DEPT C1_WK_PH MSDS_LOCATION C2_NAME C2_OFFICE SPECIAL_NOTES C1_HM_PH C1_DEPT LAST_UPDATE NOTES C2_HM_PH C3_HM_PH C1_OFFICE C3_WK_PH C3_DEPT2 The values are personal information, just text. The text file contains the keys as placeholders except have a # infront of them."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "edited": false, "score": 0, "creation_date": 1430256783, "post_id": 29929343, "comment_id": 47982858, "body": "I am using warnings but I didn&#39;t get any runtime errors. I always use warnings and strict, like a good boy should."}, {"owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "edited": false, "score": 0, "creation_date": 1430411017, "post_id": 29929343, "comment_id": 48065685, "body": "Wouldn&#39;t the while be more efficient to use?"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1430256369, "last_edit_date": 1430256369, "creation_date": 1430253073, "answer_id": 29929343, "question_id": 29928486, "link": "https://stackoverflow.com/questions/29928486/perl-regex-using-qr/29929343#29929343", "title": "Perl Regex using qr//", "body": "<p>Your problems don't have anything to do with <code>qr//</code>. \nArrays in Perl are 0-indexed, so the first time through your <code>while ($count &gt; 0) ...</code> loop:</p>\n\n<pre><code>        my $thing = $keys[$count];\n</code></pre>\n\n<p>sets <code>$thing</code> to <code>undef</code> because the largest element of <code>@keys</code> is <code>$count-1</code></p>\n\n<pre><code>        my $regexp = qr/#($thing)/;\n</code></pre>\n\n<p>sets <code>$regexp</code> to <code>qr/#()/</code>, and</p>\n\n<pre><code>        s/$regexp/$values[$count]/g;\n</code></pre>\n\n<p>erases all the <code>#</code> characters from your input, replaces them with nothing, and renders the rest of your intended substitutions pointless.</p>\n\n<p>If you were using <code>use warnings</code>, you would have gotten a hint about the problem.</p>\n\n<p>Writing your loop as <code>while ($count-- &gt; 0) ...</code> would work (and also make sure you process the values in <code>$keys[0]</code> and <code>$values[0]</code>), but consider a more Perl-y way of iterating through your hash:</p>\n\n<pre><code>foreach my $thing (keys %$hashref) {\n    my $replace = $hashref-&gt;{$thing};\n    ...\n}\n\nwhile (my ($thing,$replace) = each %$hashref) {\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "edited": false, "score": 0, "creation_date": 1430255436, "post_id": 29929629, "comment_id": 47982123, "body": "The only issue I&#39;m getting with this is how can I use my hash ref in the regex? It just recognises the % as bare text and I can&#39;t find any solutions on google."}, {"owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "reply_to_user": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "edited": false, "score": 0, "creation_date": 1430256048, "post_id": 29929629, "comment_id": 47982483, "body": "I&#39;m on my phone now so can&#39;t do symbols easily. See <a href=\"http://www.thegeekstuff.com/2010/06/perl-hash-reference/\" rel=\"nofollow noreferrer\">thegeekstuff.com/2010/06/perl-hash-reference</a>"}, {"owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "reply_to_user": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "edited": false, "score": 0, "creation_date": 1430256130, "post_id": 29929629, "comment_id": 47982523, "body": "I think ${$hashref}{$thing}"}], "tags": [], "owner": {"reputation": 3009, "user_id": 4282342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5DSxqi1gqfs/AAAAAAAAAAI/AAAAAAAAHrM/aBPmmmTeDVI/photo.jpg?sz=128", "display_name": "Peter Bowers", "link": "https://stackoverflow.com/users/4282342/peter-bowers"}, "is_accepted": false, "score": 2, "last_activity_date": 1430283394, "last_edit_date": 1430283394, "creation_date": 1430254120, "answer_id": 29929629, "question_id": 29928486, "link": "https://stackoverflow.com/questions/29928486/perl-regex-using-qr/29929629#29929629", "title": "Perl Regex using qr//", "body": "<p>This is simplified a bit from what you've got, but it should give the right idea:</p>\n\n<pre><code>%hash = ( 'f' =&gt; 'foo', 'b' =&gt; 'bar', 'c' =&gt; 'chimp' );\nreplace();\n\nsub replace {   \n    open (my $in, '&lt;', \"file.txt\") or die \"cannot open $in: $!\";\n    while (&lt;$in&gt;)\n    {\n            foreach my $thing (keys %hash) {\n            s/#($thing)/$hash{$thing}/g;\n            #print;\n            }\n            print;\n    }\n    close $in;\n}\n</code></pre>\n\n<p>With that code I was able to successfully transform text with #f and #b and #c into text with foo and bar and chimp.</p>\n\n<p>Moving back to the hash reference, I have this code which once again seems to be working fine. (I've left the trace statements in this time.)</p>\n\n<pre><code>%hash = ( 'f' =&gt; 'foo', 'b' =&gt; 'bar', 'c' =&gt; 'chimp' );\n$hash_ref = \\%hash;\nreplace();\n\nsub replace {   \n    open (my $in, '&lt;', \"file.txt\") or die \"cannot open $in: $!\";\n    while (&lt;$in&gt;)\n    {\n            foreach my $thing (keys %{$hash_ref}) {\n            #my $regexp = qr/#($thing)/;\nprint \"REPLACING $thing WITH ${$hash_ref}{$thing}\\nBEFORE: $_\";\n            s/#($thing)/${$hash_ref}{$thing}/g;\nprint \"AFTER: $_\";\n            }\n            print;\n    }\n    close $in;\n}\n</code></pre>\n\n<p>If the <code>${$hash_ref}{$thing}</code> syntax isn't working for you then you'll need to tell us how you're creating your <code>$hash_ref</code> because that syntax is working fine here...:</p>\n"}], "owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 29929343, "answer_count": 2, "score": 0, "last_activity_date": 1430318006, "creation_date": 1430250216, "last_edit_date": 1430318006, "question_id": 29928486, "link": "https://stackoverflow.com/questions/29928486/perl-regex-using-qr", "title": "Perl Regex using qr//", "body": "<p>I'm making a module that parses a text file, and everything I'm trying to match has a <code>#</code> in front of it but when I try to use <code>qr//</code> it doesn't match anything. The big catch here, at least for me, is that I need it to cycle through the array and I don't think I can use <code>$1</code> or it's not working properly. And <code>%$hash_ref</code> is information pulled out of a database where the keys are the columns and the values are the values (obviously). The text file has words like <code>#C3_WK_PH</code> and <code>#SPECIAL_NOTES</code>. </p>\n\n<pre><code>sub replace {   \n    open (my $in,  '&lt;', \"file.txt\")  or die \"cannot open $in: $!\";\n    open (my $out, '&gt;', \"file2.txt\") or die \"cannot open $out: $!\";\n\n    while (&lt;$in&gt;)\n    {\n            my @values = values %$hash_ref;\n            my @keys   = keys %$hash_ref;\n            my $count  = @keys;\n\n            while ($count &gt; 0) {\n                my $thing  = $keys[$count];\n                my $regexp = qr/#($thing)/;\n                s/$regexp/$values[$count]/g;\n                $count = $count - 1;\n            }\n            print $out $_;\n    }\n            close $in;\n            close $out;\n}\n</code></pre>\n\n<p>I know that I'm parsing each line <code>$count</code> times, but that is intended.</p>\n"}, {"tags": ["perl", "file-io", "stdout"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1430248556, "post_id": 29927920, "comment_id": 47977773, "body": "Looks like you&#39;re on the right track. What is the problem?"}, {"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1430248802, "post_id": 29927920, "comment_id": 47977918, "body": "If I try to run it I get Odd number of elements in hash assignment at absent.pl line 6. Odd number of elements in hash assignment at absent.pl line 7. Couldn&#39;t open file2: No such file or directory at absent.pl line 9."}, {"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1430248819, "post_id": 29927920, "comment_id": 47977929, "body": "I am not exactly sure what that means since I&#39;m new to perl (sorry if it&#39;s a silly question!)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430250979, "post_id": 29927920, "comment_id": 47979345, "body": "It seems to me you are overstating your command of C and Python."}], "answers": [{"comments": [{"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1430250505, "post_id": 29928213, "comment_id": 47979030, "body": "I tried solving it a bit here, would the second one also be $FH or something else? <a href=\"http://www.codeshare.io/GFhX1\" rel=\"nofollow noreferrer\">codeshare.io/GFhX1</a>   (sorry, I feel like a two year old with perl)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1430250950, "post_id": 29928213, "comment_id": 47979322, "body": "@user3295674: You can use the same file handle if you aren&#39;t reading from the files in parallel."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1430249242, "creation_date": 1430249242, "answer_id": 29928213, "question_id": 29927920, "link": "https://stackoverflow.com/questions/29927920/perl-comparing-words-in-two-files/29928213#29928213", "title": "Perl: comparing words in two files", "body": "<p>You are almost there.</p>\n\n<p>The <code>%</code> sigil denotes a hash. You can't store a file name in a hash, you need a scalar for that.</p>\n\n<pre><code>my $file2 = 'file_all.txt';\nmy $file1 = 'file2.txt';\n</code></pre>\n\n<p>You need a hash to count the occurrences.</p>\n\n<pre><code>my %count;\n</code></pre>\n\n<p>To open a file, specify its name - it's stored in the scalar, do you remember?</p>\n\n<pre><code>open my $FH, '&lt;', $file2 or die \"Can't open $file2: $!\";\n</code></pre>\n\n<p>Then, process the file line by line:</p>\n\n<pre><code>while (my $line = &lt;$FH&gt; ) {\n    chomp;                # Remove newline if present.\n    ++$count{lc $line};   # Store the lowercased string.\n}\n</code></pre>\n\n<p>Then, open the second file, process it line by line, use <code>lc</code> again to get the lowercased string.</p>\n\n<p>To remove apostophes, use a substitution:</p>\n\n<pre><code>$line =~ s/'//g;  # Replace ' by nothing globally (i.e. everywhere).\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1430249725, "post_id": 29928263, "comment_id": 47978518, "body": "I tried that and replaced the top two lines with the my $file... but I got &quot;my&quot; variable $file2 masks earlier declaration in same scope at absent.pl line 9. &quot;my&quot; variable $file1 masks earlier declaration in same scope at absent.pl line 14. Global symbol &quot;%file2&quot; requires explicit package name at absent.pl line 11. Global symbol &quot;%file2&quot; requires explicit package name at absent.pl line 16."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1430249431, "creation_date": 1430249431, "answer_id": 29928263, "question_id": 29927920, "link": "https://stackoverflow.com/questions/29927920/perl-comparing-words-in-two-files/29928263#29928263", "title": "Perl: comparing words in two files", "body": "<p>The issue is the following two lines:</p>\n\n<pre><code> my %file2 = \"file_all.txt\";\n my %file1 = \"file2.txt\";\n</code></pre>\n\n<p>Here you are assigning a single value, called a <a href=\"http://perldoc.perl.org/perldata.html#Scalar-values\" rel=\"nofollow\">SCALAR</a> in Perl, to a Hash (denoted by the <code>%</code> sigil). Hashes consist of key value pairs separated by the arrow operator (=>). e.g.</p>\n\n<pre><code>my %hash = ( key =&gt; 'value' );\n</code></pre>\n\n<p>Hashes expect an even number of arguments because they must be given both a <em>key</em> and a <em>value</em>. You currently only give each Hash a single value, thus this error is thrown. </p>\n\n<p>To assign a value to a SCALAR, you use the <code>$</code> sigil:</p>\n\n<pre><code> my $file2 = \"file_all.txt\";\n my $file1 = \"file2.txt\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1430250206, "post_id": 29928392, "comment_id": 47978831, "body": "I changed the top one to $file2, but still get the same error. What am I doing wrong?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1430250924, "last_edit_date": 1495539853, "creation_date": 1430249893, "answer_id": 29928392, "question_id": 29927920, "link": "https://stackoverflow.com/questions/29927920/perl-comparing-words-in-two-files/29928392#29928392", "title": "Perl: comparing words in two files", "body": "<p>Your error messages:</p>\n\n<blockquote>\n<pre>\"my\" variable $file2 masks earlier declaration in same scope at absent.pl line 9.\n\"my\" variable $file1 masks earlier declaration in same scope at absent.pl line 14.\nGlobal symbol \"%file2\" requires explicit package name at absent.pl line 11.\nGlobal symbol \"%file2\" requires explicit package name at absent.pl line 16.\nExecution of absent.pl aborted due to compilation errors.</pre>\n</blockquote>\n\n<p>You are assigning a file name to <code>$file2</code>, and then later you are using <code>open my $file2 ...</code> The use of my <code>$file2</code> in the second case masks the use in the first case. Then, in the body of the while loop, you pretend there is a hash table <code>%file2</code>, but you haven't declared it at all. </p>\n\n<p>You should use more descriptive variable names to avoid conceptual confusion.</p>\n\n<p>For example:</p>\n\n<pre><code> my @filenames = qw(file_all.txt file2.txt);\n</code></pre>\n\n<p>Using variables with <a href=\"https://stackoverflow.com/a/1829927/100754\">integer suffixes is a code smell</a>.</p>\n\n<p>Then, factor common tasks to subroutines. In this case, what you need are: 1) A function that takes a filename and returns a table of words in that file, and 2) A function that takes a filename, and a lookup table, and prints words that are in the file, but do not appear in the lookup table.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Carp qw( croak );\n\nmy @filenames = qw(file_all.txt file2.txt);\n\nprint \"$_\\n\" for @{ words_notseen(\n    $filenames[0],\n    words_from_file($filenames[1])\n)};\n\nsub words_from_file {\n    my $filename = shift;\n    my %words;\n\n    open my $fh, '&lt;', $filename\n        or croak \"Cannot open '$filename': $!\";\n\n    while (my $line = &lt;$fh&gt;) {\n        $words{ lc $_ } = 1 for split ' ', $line;\n    }\n\n    close $fh\n        or croak \"Failed to close '$filename': $!\";\n\n    return \\%words;\n}\n\nsub words_notseen {\n    my $filename = shift;\n    my $lookup = shift;\n\n    my %words;\n\n    open my $fh, '&lt;', $filename\n        or croak \"Cannot open '$filename': $!\";\n\n    while (my $line = &lt;$fh&gt;) {\n        for my $word (split ' ', $line) {\n            unless (exists $lookup-&gt;{$word}) {\n                $words{ $word } = 1;\n            }\n        }\n    }\n\n    return [ keys %words ];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1430252122, "post_id": 29928857, "comment_id": 47980098, "body": "This is wonderful! How can I make sure it doesn&#39;t count CAt separately from cat? (case doesn&#39;t matter)"}, {"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1430252141, "post_id": 29928857, "comment_id": 47980113, "body": "After that I think I&#39;ll select your answer, it&#39;s the most concise working model!"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1430252628, "post_id": 29928857, "comment_id": 47980458, "body": "I think you can check this from you own. This will treat CAt and cat same."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1430251492, "creation_date": 1430251492, "answer_id": 29928857, "question_id": 29927920, "link": "https://stackoverflow.com/questions/29927920/perl-comparing-words-in-two-files/29928857#29928857", "title": "Perl: comparing words in two files", "body": "<p>As you have mention in your question: <em>It should print out any of the words in <code>file_all</code> that are not in <code>file2</code></em></p>\n\n<p>This below small code does this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy ($file1, $file2) = qw(file_all.txt file2.txt);\n\nopen my $fh1, '&lt;', $file1 or die \"Can't open $file1: $!\";\nopen my $fh2, '&lt;', $file2 or die \"Can't open $file2: $!\";\n\nwhile (&lt;$fh1&gt;)\n{\n    last if eof($fh2);\n    my $compline = &lt;$fh2&gt;;\n    chomp($_, $compline);\n    if ($_ ne $compline)\n    {\n        print \"$_\\n\";\n    }\n}\n</code></pre>\n\n<p>file_all.txt:</p>\n\n<pre><code>ab\ncd\nee\nef\ngh\ndf\n</code></pre>\n\n<p>file2.txt:</p>\n\n<pre><code>zz\nyy\nee\nef\npp\ndf\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ab\ncd\ngh\n</code></pre>\n"}], "owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 1, "accepted_answer_id": 29928392, "answer_count": 4, "score": -1, "last_activity_date": 1430251492, "creation_date": 1430248321, "last_edit_date": 1430250799, "question_id": 29927920, "link": "https://stackoverflow.com/questions/29927920/perl-comparing-words-in-two-files", "title": "Perl: comparing words in two files", "body": "<p>This is my current script to try and compare the words in <code>file_all.txt</code> to the ones in <code>file2.txt</code>. It should print out any of the words in <code>file_all</code> that are not in <code>file2</code>.</p>\n\n<p>I need to format these as one word per line, but that's not the more pressing issue.</p>\n\n<p>I am new to Perl ... I get C and Python more but this is being a bit tricky, I know my variable assignment is off.</p>\n\n<pre><code> use strict;\n use warnings;\n\n my $file2 = \"file_all.txt\";   %I know my assignment here is wrong\n my $file1 = \"file2.txt\";\n\n open my $file2, '&lt;', 'file2' or die \"Couldn't open file2: $!\";\n while ( my $line = &lt;$file2&gt; ) {\n     ++$file2{$line};\n     }\n\n open my $file1, '&lt;', 'file1' or die \"Couldn't open file1: $!\";\n while ( my $line = &lt;$file1&gt; ) {\n     print $line unless $file2{$line};\n     }\n</code></pre>\n\n<p>EDIT: OH, it should ignore case... like Pie is the same as PIE when comparing. and remove apostrophes</p>\n\n<p>These are the errors I am getting:</p>\n\n<pre>\"my\" variable $file2 masks earlier declaration in same scope at absent.pl line 9.\n\"my\" variable $file1 masks earlier declaration in same scope at absent.pl line 14.\nGlobal symbol \"%file2\" requires explicit package name at absent.pl line 11.\nGlobal symbol \"%file2\" requires explicit package name at absent.pl line 16.\nExecution of absent.pl aborted due to compilation errors.</pre>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1430248915, "post_id": 29926444, "comment_id": 47977998, "body": "This is not a duplicate, it differs somewhat."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1430252038, "post_id": 29926444, "comment_id": 47980049, "body": "<code>@print &quot;@array&quot;;</code> is wrong. It should be <code>print &quot;@array&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430269534, "post_id": 29926785, "comment_id": 47987486, "body": "Thank you it works How about this  @array = qw (abcd.txt abcdeff.txt abcdweff.txt abcdefrgt.txt efghijk.txt efghijksdf.txt efghijkasdfw.txt);"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430270250, "post_id": 29926785, "comment_id": 47987666, "body": "what about that?  it should work for that too, getting rid of any elements that have the same first four characters as a previous element"}, {"owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "edited": false, "score": 0, "creation_date": 1430358431, "post_id": 29926785, "comment_id": 48035971, "body": "Yea, it works as well."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1430244352, "creation_date": 1430244352, "answer_id": 29926785, "question_id": 29926444, "link": "https://stackoverflow.com/questions/29926444/perl-delete-similar-strings-in-an-array/29926785#29926785", "title": "Perl delete similar strings in an array", "body": "<pre><code>my %seen;\n@array = grep !$seen{ substr($_,0,4) }++, @array;\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "closed_date": 1430244535, "accepted_answer_id": 29926785, "answer_count": 1, "score": 0, "last_activity_date": 1430254448, "creation_date": 1430243239, "last_edit_date": 1430254448, "question_id": 29926444, "link": "https://stackoverflow.com/questions/29926444/perl-delete-similar-strings-in-an-array", "closed_reason": "Duplicate", "title": "Perl delete similar strings in an array", "body": "<p>I am new to Perl programming.</p>\n\n<p>I need to find and delete <em>partially</em> matching strings in an array.</p>\n\n<p>For example in my array there are strings:</p>\n\n<pre><code>@array = qw(abcd.txt abcdeff.txt abcdweff.txt abcdefrgt.txt);\n</code></pre>\n\n<p>I just want the first <strong>abcd.txt</strong> to be saved to the array and to delete the rest (which are similar in the first 4 characters) i.e. so that it will print only <strong>abcd.txt</strong> when <code>@print \"@array\";</code> is called.</p>\n"}, {"tags": ["arrays", "perl", "file", "hash", "while-loop"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430235401, "post_id": 29923522, "comment_id": 47969099, "body": "Does the input contain tabs or spaces?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430235586, "post_id": 29923522, "comment_id": 47969253, "body": "@choroba Yes, specially in last column and between them (tabs between columns and spaces in last row)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1430235672, "post_id": 29923522, "comment_id": 47969324, "body": "@MagomedSegaIsmailov: Tabs, spaces, or both?!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430235840, "post_id": 29923522, "comment_id": 47969457, "body": "@choroba I added input, you can see it there, tabs between columns and spaces in last columns."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430235895, "post_id": 29923522, "comment_id": 47969493, "body": "@MagomedSegaIsmailov: There are not tabs in the input you added."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430236109, "post_id": 29923522, "comment_id": 47969670, "body": "@choroba File is generated using <code>netstat -ltupN &gt; netstat_output.txt</code>. I may have misunderstood that."}], "answers": [{"comments": [{"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 1, "creation_date": 1430236088, "post_id": 29923884, "comment_id": 47969649, "body": "Note that if your input actually has tab characters instead of multiple space characters providing justification, you may be able to split on tab as well. This is something you&#39;d need to review on your input though - looking at the actual characters in the input, not the textual representation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430238948, "post_id": 29923884, "comment_id": 47971699, "body": "Thank you for your answer! +1"}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": true, "score": 5, "last_activity_date": 1430235749, "creation_date": 1430235749, "answer_id": 29923884, "question_id": 29923522, "link": "https://stackoverflow.com/questions/29923522/perl-load-file-into-hash-using-while/29923884#29923884", "title": "Perl: Load file into hash using while", "body": "<p>When you split a line such as:</p>\n\n<pre><code>udp        0      0 0.0.0.0:37620           0.0.0.0:*                           31664/dhclient \n</code></pre>\n\n<p>on whitespace you get 5 elements, not 6. This is because the state column has no string in it and the PID gets assigned to <code>$State</code>.</p>\n\n<p>Likewise, </p>\n\n<pre><code>udp        0      0 0.0.0.0:5353            0.0.0.0:*                           651/avahi-daemon: r\n</code></pre>\n\n<p>stores the pid as the 5th element (state) and 'r' as the 6th (pid) due to the space between the colon and r in the PID.</p>\n\n<p>You may want to look into using <a href=\"http://perldoc.perl.org/functions/unpack.html\">unpack</a> to split apart fixed width fields. Note that if the input has varying column widths based on content, you will need to determine column widths to use unpack.</p>\n\n<p>Refer to the <a href=\"http://perldoc.perl.org/perlpacktut.html#Packing-Text\">tutorial</a> for a how-to for this.</p>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430236579, "post_id": 29924113, "comment_id": 47969979, "body": "<code>netstat -ltupN | tr -cd &#39;\\t&#39; | wc</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430237288, "post_id": 29924113, "comment_id": 47970516, "body": "@choroba Script returns <code>uninitialized value $PID</code> and <code>undef</code> fields in VAR output"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430237391, "post_id": 29924113, "comment_id": 47970574, "body": "@\u0421\u0443\u0445\u043e\u043927 Spasibo, but <code>netstat -ltupN | tr -cd &#39;\\t&#39; | wc</code> gives empty file."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1430237469, "post_id": 29924113, "comment_id": 47970640, "body": "@MagomedSegaIsmailov it shows only that netstat output doesn&#39;t have tab chars. You might try this instead <a href=\"http://stackoverflow.com/a/29924393/223226\">stackoverflow.com/a/29924393/223226</a>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1430236360, "creation_date": 1430236360, "answer_id": 29924113, "question_id": 29923522, "link": "https://stackoverflow.com/questions/29923522/perl-load-file-into-hash-using-while/29924113#29924113", "title": "Perl: Load file into hash using while", "body": "<p>If your input contains tabs, you can split on <code>/\\t/</code> instead. <code>\\s+</code> matches any whitespace, i.e. one tab as well as two tabs, so the \"empty columns\" are skipped.</p>\n\n<p>Fixing that still doesn't hash all the lines from the input, though. Hash keys must be unique, but the input contains some PIDS more than once (<code>1271/dnsmasq 24202/cupsd 31664/dhclient</code> 2 times and <code>651/avahi-daemon: r</code> 4 times). You can solve the problem by using HoAoA instead:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse Data::Dumper;\n\nmy $netstat_dump = 'input.txt';\nopen my $FH, '&lt;', $netstat_dump or die \"Could not open file '$netstat_dump': $!\";\n\nmy %hash;\nwhile (&lt;$FH&gt;) {\n    chomp;\n    my ($Protocol, $RecvQ, $SendQ, $LocalAddress, $ForeignAddress, $State, $PID)\n         = split /\\t/;\n    push @{ $hash{$PID} }, [ $Protocol, $LocalAddress, $ForeignAddress, $State, $PID ];\n}\nclose $FH;\nprint Dumper \\%hash;\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430238467, "post_id": 29924393, "comment_id": 47971351, "body": "\u0421\u043f\u0430\u0441\u0438\u0431\u043e. That solved problem halfway; there still rows which are not loaded into hash: <code>tcp        0      0 127.0.1.1:domain        0.0.0.0:*               LISTEN      1271&#47;dnsmasq     tcp        0      0 127.0.0.1:ipp           0.0.0.0:*               LISTEN      24202&#47;cupsd</code> etc,. Those lines have same name but different values than those which are already loaded."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430238890, "post_id": 29924393, "comment_id": 47971660, "body": "I guess its because of there is already a key with same name, it should be easier just to assign key with unique value."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1430237376, "last_edit_date": 1430237376, "creation_date": 1430237029, "answer_id": 29924393, "question_id": 29923522, "link": "https://stackoverflow.com/questions/29923522/perl-load-file-into-hash-using-while/29924393#29924393", "title": "Perl: Load file into hash using while", "body": "<p>You can remove state column before <code>split()</code> so every row have the same number of columns, </p>\n\n<pre><code># assuming that state is always upper case followed by spaces and digit(s)\n$State = s/\\b([A-Z]+)(?=\\s+\\d)// ? $1 : \"\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 4, "last_activity_date": 1430242939, "creation_date": 1430242939, "answer_id": 29926340, "question_id": 29923522, "link": "https://stackoverflow.com/questions/29923522/perl-load-file-into-hash-using-while/29926340#29926340", "title": "Perl: Load file into hash using while", "body": "<p>Sometimes splitting doesn't work as well as a full specification of the data you are likely to receive. Sometimes you need a regex. Especially because you have a field that may or may not be there. (\"LISTEN\")</p>\n\n<p>As well, you're also having a hard time separating your PID from your process information. </p>\n\n<p>So here's my regex: </p>\n\n<pre><code>my $netstat_regex\n    = qr{\n    \\A                # The beginning of input\n    ( \\w+ )           # the proto\n    \\s+\n    (?: \\d+ \\s+ ){2}  # we don't care about these\n    (                 # Open capture\n        [[:xdigit:]:.]+?               \n        :\n        (?: \\d+ )\n    )                 # Close capture\n    \\s+\n    (                 # Open capture\n        [[:xdigit:]:.]+?               \n        :\n        (?: \\d+ | \\* )\n    )                 # Close capture\n    \\s+\n    (?: LISTEN \\s+ )? # It might not be a listen socket. \n    ( \\d+ )           # Nothing but the PID\n    /\n    ( .*\\S )          # All the other process data (trimmed)\n    }x;\n</code></pre>\n\n<p>Then I process it so: </p>\n\n<pre><code>my %records;\n\nwhile ( &lt;$fh&gt; ) { \n    my %rec;\n    @rec{ qw&lt;proto local remote PID data&gt; } = m/$netstat_regex/;\n    if ( %rec ) { \n        $records{ $rec{PID} } = \\%rec;\n    }\n    else {\n        print \"Error processing input line #$.:\\n$_\\n\";\n    }    \n}\n</code></pre>\n\n<p>Note that I also have some code to show me what doesn't fit my pattern, so that I can refine it if necessary. I don't give my full trust to the input. </p>\n\n<p>Nice and tidy dump:</p>\n\n<pre><code>%records: {\n            11222 =&gt; {\n                       PID =&gt; '11222',\n                       data =&gt; 'postgres',\n                       local =&gt; '127.0.0.1:5432',\n                       proto =&gt; 'tcp',\n                       remote =&gt; '0.0.0.0:*'\n                     },\n            1271 =&gt; {\n                      PID =&gt; '1271',\n                      data =&gt; 'dnsmasq',\n                      local =&gt; '127.0.1.1:53',\n                      proto =&gt; 'udp',\n                      remote =&gt; '0.0.0.0:*'\n                    },\n            24202 =&gt; {\n                       PID =&gt; '24202',\n                       data =&gt; 'cupsd',\n                       local =&gt; '::1:631',\n                       proto =&gt; 'tcp6',\n                       remote =&gt; ':::*'\n                     },\n            31664 =&gt; {\n                       PID =&gt; '31664',\n                       data =&gt; 'dhclient',\n                       local =&gt; ':::49698',\n                       proto =&gt; 'udp6',\n                       remote =&gt; ':::*'\n                     },\n            651 =&gt; {\n                     PID =&gt; '651',\n                     data =&gt; 'avahi-daemon: r',\n                     local =&gt; ':::45016',\n                     proto =&gt; 'udp6',\n                     remote =&gt; ':::*'\n                   },\n            6823 =&gt; {\n                      PID =&gt; '6823',\n                      data =&gt; 'postgres.bin',\n                      local =&gt; '127.0.0.1:7337',\n                      proto =&gt; 'tcp',\n                      remote =&gt; '0.0.0.0:*'\n                    },\n            6874 =&gt; {\n                      PID =&gt; '6874',\n                      data =&gt; 'prosvc',\n                      local =&gt; '127.0.0.1:50505',\n                      proto =&gt; 'tcp',\n                      remote =&gt; '0.0.0.0:*'\n                    },\n            6907 =&gt; {\n                      PID =&gt; '6907',\n                      data =&gt; 'thin server (1',\n                      local =&gt; '127.0.0.1:3001',\n                      proto =&gt; 'tcp',\n                      remote =&gt; '0.0.0.0:*'\n                    },\n            7550 =&gt; {\n                      PID =&gt; '7550',\n                      data =&gt; 'nginx.conf',\n                      local =&gt; '0.0.0.0:3790',\n                      proto =&gt; 'tcp',\n                      remote =&gt; '0.0.0.0:*'\n                    },\n            912 =&gt; {\n                     PID =&gt; '912',\n                     data =&gt; 'cups-browsed',\n                     local =&gt; '0.0.0.0:631',\n                     proto =&gt; 'udp',\n                     remote =&gt; '0.0.0.0:*'\n                   }\n          }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1430245606, "creation_date": 1430245606, "answer_id": 29927129, "question_id": 29923522, "link": "https://stackoverflow.com/questions/29923522/perl-load-file-into-hash-using-while/29927129#29927129", "title": "Perl: Load file into hash using while", "body": "<p>You might want to use or look at the source of some related CPAN modules to see how the authors have solved similar problems: <em>e.g.</em> <a href=\"https://metacpan.org/release/Parse-Netstat\" rel=\"nofollow\"><code>Parse::Netstat</code></a>, <a href=\"https://metacpan.org/release/Regexp-Common\" rel=\"nofollow\"><code>Regexp::Common</code></a>, <em>etc</em>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 29923884, "answer_count": 5, "score": 4, "last_activity_date": 1430245606, "creation_date": 1430234733, "last_edit_date": 1495542734, "question_id": 29923522, "link": "https://stackoverflow.com/questions/29923522/perl-load-file-into-hash-using-while", "title": "Perl: Load file into hash using while", "body": "<p>In my <a href=\"https://stackoverflow.com/questions/29907934/perl-load-data-by-row\">last question</a> I asked for proper way of storing data from text file in my Perl script, the solution was using AoH.</p>\n\n<p>Anyway, my implementation seems to be incomplete:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# Open netstat output\nmy $netstat_dump = \"tmp/netstat-output.txt\";\nopen (my $fh, \"&lt;\", $netstat_dump) or die \"Could not open file '$netstat_dump': $!\";\n\n# Store data in an hash\nmy %hash;\nwhile(&lt;$fh&gt;) {\n  chomp;\n  my ($Protocol, $RecvQ, $SendQ, $LocalAddress, $ForeignAddress, $State, $PID) = split(/\\s+/);\n  # Exclude $RecvQ and $SendQ\n  $hash{$PID} = [$Protocol, $LocalAddress, $ForeignAddress, $State $PID];\n}\nclose $fh;\nprint Dumper \\%hash;\n</code></pre>\n\n<p><strong>First</strong> problem is that I get uninitialized value error on <code>$PID</code> even though <code>$PID</code> is declared in line above.</p>\n\n<p><strong>Second</strong> problem with script is that it loads last letters from input file and puts them in their own rows:</p>\n\n<pre><code>$VAR1 = {\n...\n'6907/thin' =&gt; [\n                           'tcp',\n                           '127.0.0.1:3001',\n                           '0.0.0.0:*',\n                           'LISTEN',\n                           '6907/thin'\n                         ],\n          '' =&gt; [\n                  'udp6',\n                  ':::49698',\n                  ':::*',\n                  '31664/dhclient',\n                  ''\n                ],\n          'r' =&gt; [\n                   'udp6',\n                   ':::45016',\n                   ':::*',\n                   '651/avahi-daemon:',\n                   'r'\n                 ]\n        };\n</code></pre>\n\n<p><code>'' =&gt;</code> and <code>'r' =&gt;</code> come from input file which looks like this:</p>\n\n<pre><code>tcp        0      0 0.0.0.0:3790            0.0.0.0:*               LISTEN      7550/nginx.conf \ntcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      1271/dnsmasq    \ntcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      24202/cupsd     \ntcp        0      0 127.0.0.1:5432          0.0.0.0:*               LISTEN      11222/postgres  \ntcp        0      0 127.0.0.1:3001          0.0.0.0:*               LISTEN      6907/thin server (1\ntcp        0      0 127.0.0.1:50505         0.0.0.0:*               LISTEN      6874/prosvc     \ntcp        0      0 127.0.0.1:7337          0.0.0.0:*               LISTEN      6823/postgres.bin\ntcp6       0      0 ::1:631                 :::*                    LISTEN      24202/cupsd     \nudp        0      0 0.0.0.0:46096           0.0.0.0:*                           651/avahi-daemon: r\nudp        0      0 0.0.0.0:5353            0.0.0.0:*                           651/avahi-daemon: r\nudp        0      0 127.0.1.1:53            0.0.0.0:*                           1271/dnsmasq    \nudp        0      0 0.0.0.0:68              0.0.0.0:*                           31664/dhclient  \nudp        0      0 0.0.0.0:631             0.0.0.0:*                           912/cups-browsed\nudp        0      0 0.0.0.0:37620           0.0.0.0:*                           31664/dhclient  \nudp6       0      0 :::5353                 :::*                                651/avahi-daemon: r\nudp6       0      0 :::45016                :::*                                651/avahi-daemon: r\nudp6       0      0 :::49698                :::*                                31664/dhclient \n</code></pre>\n\n<p>It also makes me feel that my hash function is not parsing whole file and interrupts somewhere.   </p>\n"}, {"tags": ["regex", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1430228102, "post_id": 29921005, "comment_id": 47963399, "body": "<a href=\"https://en.wikipedia.org/wiki/Cat_(Unix)#Useless_use_of_cat\" rel=\"nofollow noreferrer\">Useless use of <code>cat</code></a>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1430228736, "post_id": 29921005, "comment_id": 47963903, "body": "In Perl, <code>-00</code> means to use paragraph mode, meaning that the each &quot;line&quot; that is read into <code>$_</code> ends with <code>\\n\\n+</code> (and not <code>\\n</code> as per default line read). This means that there will never be a <code>}</code> after them. What you want is to slurp the input, i.e. <code>-0777</code>."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1430232367, "post_id": 29921005, "comment_id": 47966796, "body": "To complement @TLP&#39;s comment: analogously, <code>-v RS=&quot;&quot;</code> in <code>awk</code> activates <i>paragraph</i> mode too, so the <code>gsub</code> will never be able to match <code>\\n\\n</code>. Thus, the command is equivalent to <code>awk -v RS=&quot;&quot; &#39;1&#39; file.tex</code>, which effectively simply removes empty lines. To really read the <i>entire</i> file, you&#39;d have to use <code>-v RS=&#39;^$&#39;</code> with <i>GNU</i> <code>awk</code>, or, with BSD <code>awk</code>, something like <code>-v RS=$&#39;\\3&#39;</code> (any <i>single</i> char. not expected to be in the input)."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430234465, "post_id": 29921005, "comment_id": 47968318, "body": "@mklement0 all true and just to round it off: in non-gawk the robust, portable way to operate on a whole file is <code>awk &#39;{wholeFile=wholeFile $0 RS} END{ do stuff with wholeFile }&#39; file</code>."}], "answers": [{"comments": [{"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430230886, "post_id": 29921183, "comment_id": 47965686, "body": "++ for an efficient solution that does <i>not</i> read the whole file into memory first."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 3, "last_activity_date": 1430228353, "creation_date": 1430228353, "answer_id": 29921183, "question_id": 29921005, "link": "https://stackoverflow.com/questions/29921005/bash-replace-n-n-string-in-file/29921183#29921183", "title": "Bash replace &#39;\\n\\n}&#39; string in file", "body": "<p>You didn't provide any sample input and expected output so it's a guess but maybe this is what you're looking for:</p>\n\n<pre><code>$ cat file\na\nb\n\nc\n\n}\nd\n\n$ awk '/^$/{f=1;next} f{if(!/^}/)print \"\";f=0} 1' file\na\nb\n\nc\n}\nd\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430230843, "post_id": 29921512, "comment_id": 47965649, "body": "Nice, but requires <i>GNU</i> <code>sed</code>; a version without <code>-i</code>  that works with <i>BSD</i> <code>sed</code> as well: <code>sed  -n -e &#39;:a&#39; -e &#39;N;$!ba&#39; -e &#39;s&#47;\\n\\n}&#47;\\&#39;$&#39;\\n&#39;&#39;}&#47;g;p&#39; file.tex</code> (separate <code>-e</code> options needed to terminate label names; literal newline needed in replacement string). Sadly, when using  <code>-i</code> without a suffix, a single command that works with <i>both</i> versions is <i>not</i> possible. A <i>BSD</i> <code>sed</code> command with <code>-i</code>: <code>sed -i &#39;&#39; -n -e &#39;:a&#39; -e &#39;N;$!ba&#39; -e &#39;s&#47;\\n\\n}&#47;\\&#39;$&#39;\\n&#39;&#39;}&#47;g;p&#39; file.tex</code>. Since the OP mentions large files, it&#39;s worth stating explicitly that this solution reads the <i>whole</i> file into memory."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430231575, "post_id": 29921512, "comment_id": 47966232, "body": "@mklement0: indeed, there&#39;s probably a way (like a test <code>&#47;\\n[^}\\n]&#47;</code>) to free the memory when it is possible."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1430229700, "last_edit_date": 1430229700, "creation_date": 1430229138, "answer_id": 29921512, "question_id": 29921005, "link": "https://stackoverflow.com/questions/29921005/bash-replace-n-n-string-in-file/29921512#29921512", "title": "Bash replace &#39;\\n\\n}&#39; string in file", "body": "<p>a way with sed:</p>\n\n<pre><code>sed -i -n ':a;N;$!ba;s/\\n\\n}/\\n}/g;p' file.tex\n</code></pre>\n\n<p>details:</p>\n\n<pre><code>:a             # defines the label \"a\"\nN              # append the next line to the pattern space\n$!ba           # if it is not the last line, go to label a\ns/\\n\\n}/\\n}/g  # replace all \\n\\n} with \\n}\np              # print\n</code></pre>\n\n<p>The i parameter will change the file in place.\nThe n parameter prevents to automatically print the lines.</p>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1430231463, "post_id": 29922370, "comment_id": 47966159, "body": "just to be clear, while it&#39;s true that line fiters process their input line by line, that does not include awk which is record-oriented, unlike sed, grep, etc. which are line-oriented. The issue the OP is having, however, is apparently that even his &quot;records&quot; (and we don&#39;t know what those are given no sample input) are too large to fit in memory."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1430253558, "post_id": 29922370, "comment_id": 47981038, "body": "Kudos for covering the edge case of a trailing empty line, but your <code>perl</code> command is broken: <code>$b</code> needs resetting in the <code>if ( $b )</code> branch, and the <code>elseif</code> must be a separate <code>if</code> statement: <code>cat file.tex | perl -ne &#39;if ($b) { print $b unless m&#47;^\\}&#47;; $b=&quot;&quot;; } if (m&#47;^$&#47;) { $b=$_; } else { print; } END { print $b if $b; }&#39;</code>. In essence, this is the <code>perl</code> cousin of @EdMorton&#39;s  <code>awk</code> solution, so it too has the advantage of not slurping the entire file at once. Ed: not reading the file as a whole is the only constraint I can detect in the question; don&#39;t see anything re record size."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1430253682, "post_id": 29922370, "comment_id": 47981111, "body": "@mklement0 the OP said <code>awk -v RS=&quot;&quot; &#39;...&#39; # it does work, but not for large files</code> so he tried using records (paragraphs in this case) smaller than the whole file and it still was too large."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1430253968, "post_id": 29922370, "comment_id": 47981285, "body": "@EdMorton: I see - that&#39;s certainly possible, but here&#39;s my conspiracy theory: the OP tried it on a <i>small</i> file first, and <i>mistakenly</i> concluded that it worked based on reading the <i>entire</i> file  (as we&#39;ve established, what the command truly does is read <i>paragraphs</i> and remove <i>all empty</i> lines), but then abandoned the approach due to not wanting to apply it to the real, large files."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1430254254, "post_id": 29922370, "comment_id": 47981464, "body": "@mklement0, you&#39;re right. Resetting <code>$b</code> was in there once, until I &quot;streamlined&quot; it."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1430254335, "post_id": 29922370, "comment_id": 47981500, "body": "funny how often &quot;streamlined&quot; and &quot;broke&quot; are synonymous :-)."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1430254513, "post_id": 29922370, "comment_id": 47981589, "body": "@EdMorton, no doubt :)"}], "tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 1, "last_activity_date": 1430255382, "last_edit_date": 1430255382, "creation_date": 1430231317, "answer_id": 29922370, "question_id": 29921005, "link": "https://stackoverflow.com/questions/29921005/bash-replace-n-n-string-in-file/29922370#29922370", "title": "Bash replace &#39;\\n\\n}&#39; string in file", "body": "<p>Nix-style line filters process the file <em>line-by-line</em>. Thus, you have to do something extra to process an expression which <em>spans</em> lines. </p>\n\n<p>As mentioned by others, <code>'\\n\\n'</code> is simply an empty line and matches the regular expression <code>/^$/</code>. Perhaps the most efficient thing to do is to save each empty line until you know whether or not the next one will contain a close bracket at the beginning of the line. </p>\n\n<pre><code>cat file.tex | perl -ne 'if ( $b ) { print $b unless m/^\\}/; undef $b; } if ( m/^$/ ) { $b=$_; } else { print; } END { print $b if $b; }'\n</code></pre>\n\n<p>And to clean it all up we add an END block, to process the case that the last line in the file is blank (and we want to keep it). </p>\n"}, {"comments": [{"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 2, "creation_date": 1430232738, "post_id": 29922568, "comment_id": 47967033, "body": "Judging by the OP&#39;s own solution attempts, it&#39;s fair to assume that <i>actual</i> newlines must be matched, not <i>literal</i> <code>\\n</code> sequences."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430234577, "post_id": 29922568, "comment_id": 47968428, "body": "Thanks for updating, but now you&#39;ve effectively duplicated @Casimir et Hippolyte&#39;s solution, and the same caveats apply: <i>GNU</i> <code>sed</code> required, whole file is read at once."}, {"owner": {"reputation": 18098, "user_id": 3744681, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/XvLrx.jpg?s=128&g=1", "display_name": "Jahid", "link": "https://stackoverflow.com/users/3744681/jahid"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1430236851, "post_id": 29922568, "comment_id": 47970181, "body": "added another solution that will supposedly work everywhere, let me know if it has any limitations, @mklement0"}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430237789, "post_id": 29922568, "comment_id": 47970844, "body": "This one works nicely, except that you needn&#39;t and shouldn&#39;t use <code>-e</code> with <code>echo</code> (the replacement used <i>actual</i> newlines - nothing left to expand). You can improve the efficiency slightly with <code>text=$(&lt; file.tex)</code>. Overall, however, the issue is still that the file is read into memory as a whole."}, {"owner": {"reputation": 18098, "user_id": 3744681, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/XvLrx.jpg?s=128&g=1", "display_name": "Jahid", "link": "https://stackoverflow.com/users/3744681/jahid"}, "reply_to_user": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 0, "creation_date": 1430238282, "post_id": 29922568, "comment_id": 47971216, "body": "added your suggestion, @mklement0"}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430238365, "post_id": 29922568, "comment_id": 47971267, "body": "Thanks, Jahid, but if you&#39;re using <code>printf</code>, please use <code>printf &#39;%s\\n&#39; &quot;$text&quot;</code>, otherwise you&#39;ll again subject the string to interpretation of backslash escape sequences."}], "tags": [], "owner": {"reputation": 18098, "user_id": 3744681, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/XvLrx.jpg?s=128&g=1", "display_name": "Jahid", "link": "https://stackoverflow.com/users/3744681/jahid"}, "is_accepted": false, "score": 1, "last_activity_date": 1430239255, "last_edit_date": 1430239255, "creation_date": 1430232261, "answer_id": 29922568, "question_id": 29921005, "link": "https://stackoverflow.com/questions/29921005/bash-replace-n-n-string-in-file/29922568#29922568", "title": "Bash replace &#39;\\n\\n}&#39; string in file", "body": "<p>This should work:</p>\n\n<pre><code>cat file.tex | sed -e 's/\\\\n\\\\n}/\\\\n}/g'\n</code></pre>\n\n<p>if <code>\\n\\n}</code> is written as raw string.</p>\n\n<p>Or if it's new line:</p>\n\n<pre><code>cat file.tex | sed -e ':a;N;$!ba;s/\\n\\n}/\\n}/g'\n</code></pre>\n\n<blockquote>\n  <p>Another method:</p>\n</blockquote>\n\n<p>if the first <code>\\n</code> is <strong>any</strong> new line:</p>\n\n<pre><code>text=$(&lt; file.tex)\ntext=${text//$'\\n\\n}'/$'\\n}'}\nprintf \"%s\\n\" \"$text\" #&gt; file\n</code></pre>\n\n<p>If the first <code>\\n</code> is an empty line:</p>\n\n<pre><code>text=$(&lt; file.tex)\ntext=${text//$'\\n\\n\\n}'/$'\\n\\n}'}\nprintf \"%s\\n\" \"$text\" #&gt; file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "edited": false, "score": 1, "creation_date": 1430235186, "post_id": 29922884, "comment_id": 47968919, "body": "++ for elegance, but note that the entire file is read <i>at once</i>, and judging by the OP&#39;s comment on their own <code>awk</code> command, they want to avoid that."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1430233264, "creation_date": 1430233264, "answer_id": 29922884, "question_id": 29921005, "link": "https://stackoverflow.com/questions/29921005/bash-replace-n-n-string-in-file/29922884#29922884", "title": "Bash replace &#39;\\n\\n}&#39; string in file", "body": "<p>This Perl command will do as you ask</p>\n\n<pre><code>perl -i -0777 -pe's/\\n(?=\\n})//g' file.tex\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 990393, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a359808c579d5106a1ab4ab0d61c64?s=128&d=identicon&r=PG", "display_name": "mathiasrw", "link": "https://stackoverflow.com/users/990393/mathiasrw"}, "is_accepted": false, "score": 0, "last_activity_date": 1489757281, "creation_date": 1489757281, "answer_id": 42858816, "question_id": 29921005, "link": "https://stackoverflow.com/questions/29921005/bash-replace-n-n-string-in-file/42858816#42858816", "title": "Bash replace &#39;\\n\\n}&#39; string in file", "body": "<p>If you have access to node you can use rexreplace</p>\n\n<pre><code>npm install -g regreplace\n</code></pre>\n\n<p>and then run</p>\n\n<pre><code>rexreplace '\\n\\n\\}' '\\n\\}' myfile.txt\n</code></pre>\n\n<p>Of if you have more files in a dir <code>data</code> you can do</p>\n\n<pre><code>rexreplace '\\n\\n\\}' '\\n\\}' data/*.txt\n</code></pre>\n"}], "owner": {"reputation": 1522, "user_id": 1194426, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/01f11710499d8955a37614f9fca0627e?s=128&d=identicon&r=PG", "display_name": "auino", "link": "https://stackoverflow.com/users/1194426/auino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 1, "answer_count": 6, "score": 2, "last_activity_date": 1489757281, "creation_date": 1430227893, "question_id": 29921005, "link": "https://stackoverflow.com/questions/29921005/bash-replace-n-n-string-in-file", "title": "Bash replace &#39;\\n\\n}&#39; string in file", "body": "<p>I've got files repeatedly containing the string <code>\\n\\n}</code> and I need to replace such string with <code>\\n}</code> (removing one of the two newlines).\n<br/>\nSince such files are dynamically generated through a bash script, I need to embed replacing code inside the script.</p>\n\n<p>I tried with the following commands, but it doesn't work:</p>\n\n<pre><code>cat file.tex | sed -e 's/\\n\\n}/\\n}/g' # it doesn't work!\ncat file.tex | perl -p00e 's/\\n\\n}/\\n}/g' # it doesn't work!\ncat file.tex | awk -v RS=\"\" '{gsub (/\\n\\n}/, \"\\nb\")}1' # it does work, but not for large files\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 758, "user_id": 4086509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmXxF.png?s=128&g=1", "display_name": "Sue D. Nymme", "link": "https://stackoverflow.com/users/4086509/sue-d-nymme"}, "edited": false, "score": 2, "creation_date": 1430226456, "post_id": 29920354, "comment_id": 47962062, "body": "You need to determine how the lines will be split into fields. Just spaces? Colons? Fixed positions? Then, you need to read the first record, and split it into an array of strings. Finally, you read all the other records, splitting each into an array of values, and assigning them to hash values-- based on the keys you read in the array from the first line of the file."}, {"owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "edited": false, "score": 0, "creation_date": 1430226548, "post_id": 29920354, "comment_id": 47962134, "body": "I really have no clue in how to succeed at this task. I have only programmed simpler tasks reading from files, row by row. I do not know how to make the program aware that I want to use the first line headers as keys. I do know that I should use &quot;tab&quot; as a delimiter."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1430226710, "post_id": 29920354, "comment_id": 47962272, "body": "Look at the docs for &#39;split&#39;. What is going to go <i>into</i> your hash?"}, {"owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "edited": false, "score": 0, "creation_date": 1430228148, "post_id": 29920354, "comment_id": 47963433, "body": "Basically, the hash should contain all the information present in this file. It should split on &quot;tab&quot; and in some cases &quot;:&quot; as well as using the headers: <b>Recv-Q</b>, <b>Send-Q</b>, <b>Local Address</b>, <b>Port</b>, <b>Peer Address</b> and <b>Port</b> as keys, pointing to values. The values should be the data listed below each of the keys in the columns."}], "answers": [{"tags": [], "owner": {"reputation": 758, "user_id": 4086509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmXxF.png?s=128&g=1", "display_name": "Sue D. Nymme", "link": "https://stackoverflow.com/users/4086509/sue-d-nymme"}, "is_accepted": false, "score": 2, "last_activity_date": 1430226962, "creation_date": 1430226962, "answer_id": 29920655, "question_id": 29920354, "link": "https://stackoverflow.com/questions/29920354/perl-reading-from-file-into-hash/29920655#29920655", "title": "Perl reading from file into hash", "body": "<p>If your data is tab-delimited, as you mention in a comment above, you can use the <code>split</code> function to split a string (e.g. a line from a file) into an array of values. On most systems, if perl is installed properly, you can look at the documentation of that function with the command <code>perldoc -f split</code>.</p>\n\n<pre><code># Read the first line of the file:\nmy $header = &lt;$fh&gt;;\nchomp $header;\nmy @fields = split /\\t/, $header;\n#\n# Then read the rest of the lines:\nmy %data;\nwhile (my $line = &lt;$fh&gt;)\n{\n    my @values = split /\\t/, $line;\n    @data{@fields} = @values;\n    ... # do something with %data here\n}\n</code></pre>\n\n<p>If your data is delimited some other way, you'll have to modify how you split each line into fields.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1430229997, "last_edit_date": 1430229997, "creation_date": 1430227208, "answer_id": 29920749, "question_id": 29920354, "link": "https://stackoverflow.com/questions/29920354/perl-reading-from-file-into-hash/29920749#29920749", "title": "Perl reading from file into hash", "body": "<p>I'll offer you a basic starter for 10 on how to parse your data. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper; \nmy @header = split ( \" \", &lt;DATA&gt; );\n\nmy %service_on;\n\n\nwhile ( &lt;DATA&gt; ) {\n    my ( $recvq, $sendq, $locaddr_port, $peeraddr_port, $thing ) = split;\n    my ( $locaddr, $port ) = split ( \":\", $locaddr_port ); \n    $service_on{$port} = $thing; \n} \n\nprint Dumper \\%service_on; \n\n\n__DATA__\nRecv-Q Send-Q             Local Address:Port               Peer Address:Port \n0      128                            *:111                           *:*      users:((\"rpcbind\",1268,8))\n0      128                            *:53845                         *:*      users:((\"rpc.statd\",1404,9))\n0      128                            *:22                            *:*      users:((\"sshd\",1577,3))\n0      128                    127.0.0.1:631                           *:*      users:((\"cupsd\",1452,7))\n0      100                    127.0.0.1:25                            *:*      users:((\"master\",1686,12))\n</code></pre>\n\n<p>You <em>can</em> do a 'named field' approach if you wish, but if your data format is consistent, it doesn't matter too much. Bear in mind that your data doesn't actually look like it's tab delimited - if it isn't, splitting on whitespace is easier... but it's also going to 'break' on <code>Peer Addr</code>. </p>\n\n<p>If you want to go down that road, you need to look at <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\"><code>slice</code></a>s of a hash. However, that isn't going to work as you have a field without a header row, which might just be discarded if you do. </p>\n\n<p>E.g.:</p>\n\n<pre><code>while ( &lt;DATA&gt; ) {\n    my %fields;\n    @fields{@header} = split; \n    my ( $locaddr, $port ) = split ( \":\", $fields{$port_field} ); \n    print Dumper \\%fields;\n} \n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "accepted_answer_id": 29920749, "answer_count": 2, "score": -1, "last_activity_date": 1430229997, "creation_date": 1430226223, "last_edit_date": 1430228374, "question_id": 29920354, "link": "https://stackoverflow.com/questions/29920354/perl-reading-from-file-into-hash", "title": "Perl reading from file into hash", "body": "<p>I would like to read the contents of a file into a hash structure. The header of the file should be the key in the hash structure, as well as the values being the content listed below each column.</p>\n\n<p>The file that I am going to read from will look something like this.</p>\n\n<pre><code>Recv-Q Send-Q             Local Address:Port               Peer Address:Port \n0      128                            *:111                           *:*      users:((\"rpcbind\",1268,8))\n0      128                            *:53845                         *:*      users:((\"rpc.statd\",1404,9))\n0      128                            *:22                            *:*      users:((\"sshd\",1577,3))\n0      128                    127.0.0.1:631                           *:*      users:((\"cupsd\",1452,7))\n0      100                    127.0.0.1:25                            *:*      users:((\"master\",1686,12))\n</code></pre>\n\n<p>I would like to have say <strong>Port</strong> as a key, containing the keys: <strong>111</strong>, <strong>53845</strong>, <strong>22</strong>, <strong>631</strong>, <strong>25</strong>. How would I go about in order to read this file into the hash in the structure that I outlined?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1430223363, "post_id": 29919168, "comment_id": 47959502, "body": "<code>use Data::Dumper; print Dumper \\%array1, \\%array2;</code> before <code>for</code> loop to check what you have there. And btw, these are perl hashes, not arrays."}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1430224160, "post_id": 29919168, "comment_id": 47960055, "body": "Do you have <code>use strict</code> and <code>use warnings</code>?  It sounds like you have a typo in a variable name."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1430225088, "post_id": 29919168, "comment_id": 47960857, "body": "Firstly, you don&#39;t have arrays, you have hashes. And secondly, your question is too vague to answer. Please create a short program that exhibits your problem and edit your question to include the whole program."}], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1430226086, "creation_date": 1430226086, "answer_id": 29920296, "question_id": 29919168, "link": "https://stackoverflow.com/questions/29919168/perl-comparing-two-name-value-arrays/29920296#29920296", "title": "Perl comparing two name-value arrays", "body": "<p>You could test for existence of key in %array2, like this:</p>\n\n<pre><code>for my $k(keys %array1) {\n   if (!exists($array2{$k}) || $array1{$k} ne $array2{$k}) {\n       .. more program logic\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4841847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd10378b9a7a72d8ca45b364d2c56e2?s=128&d=identicon&r=PG&f=1", "display_name": "ErikA", "link": "https://stackoverflow.com/users/4841847/erika"}, "is_accepted": false, "score": 1, "last_activity_date": 1430304031, "creation_date": 1430304031, "answer_id": 29941323, "question_id": 29919168, "link": "https://stackoverflow.com/questions/29919168/perl-comparing-two-name-value-arrays/29941323#29941323", "title": "Perl comparing two name-value arrays", "body": "<p>Hashes, array of name-value pairs, associative arrays, yes. \nSo I have implemented a hash-on-hash 2-dimensional associative array to keep everything within one 'structure', and all works fine. Still don't get what was wrong in the two seperate hashes approach, must have been some typo, but hey problem solved. \nThanks for the input.</p>\n"}], "owner": {"reputation": 11, "user_id": 4841847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd10378b9a7a72d8ca45b364d2c56e2?s=128&d=identicon&r=PG&f=1", "display_name": "ErikA", "link": "https://stackoverflow.com/users/4841847/erika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430304031, "creation_date": 1430223187, "last_edit_date": 1430225937, "question_id": 29919168, "link": "https://stackoverflow.com/questions/29919168/perl-comparing-two-name-value-arrays", "title": "Perl comparing two name-value arrays", "body": "<p>I am trying to do a simple comparison of rows of two seperate name-value arrays in Perl (5.8.8), but can not find what I'm doing wrong. I seems that within a for keys</p>\n\n<p>I have declared the two arrays:</p>\n\n<pre><code>my %array1;\nmy %array2;\n</code></pre>\n\n<p>I fill up the rows like this, to build name-value rows:</p>\n\n<pre><code>$array1{$name}=$value;\n</code></pre>\n\n<p>and array two contains rows with the same name (but possibly different values):</p>\n\n<pre><code>$array2{$name}=$value2;\n</code></pre>\n\n<p>Now, I compare the different values for every row in array 1 like this:</p>\n\n<pre><code>    for my $k(keys %array1) {\n       if ($array1{$k} ne $array2{$k}) {\n           .. more program logic\n       }\n</code></pre>\n\n<p>But, it seems the second array is not defined within the for loop running over the 'keys' of the first array (if I insert a unless (defined $array2($k)) this hits, and when trying to use the $array2(k) anyhow, I get the error 'Use of uninitialized value'. I'm lost here. Why doesn't this work?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430222987, "post_id": 29919079, "comment_id": 47959238, "body": "<code>print $hash_example{&quot;c&quot;} if defined $hash_example{&quot;c&quot;};</code> or <code>print $hash_example{&quot;c&quot;} &#47;&#47; &quot;&quot;</code> depending on what you&#39;re looking for."}, {"owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430223457, "post_id": 29919079, "comment_id": 47959560, "body": "@\u0421\u0443\u0445\u043e\u043927 Thanks but I know that. What I want to do is to have my own sub called in the process of hash lookup so that I could alter the returned value. I have updated the question with more data."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430223851, "post_id": 29919079, "comment_id": 47959817, "body": "<a href=\"https://eval.in/319851\" rel=\"nofollow noreferrer\">eval.in/319851</a> (it also alters original hash by adding missing key)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1430223920, "post_id": 29919079, "comment_id": 47959863, "body": "This is called object oriented perl, and yes, there are a LOT of use cases for it :)"}], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "edited": false, "score": 0, "creation_date": 1430224491, "post_id": 29919455, "comment_id": 47960326, "body": "Thanks. I believe using an object, instead of hash directly, would provide me the required flexibility. I would go back and study OO Perl and come back to mark this answer as accepted. Thanks a lot for your guidance."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "edited": false, "score": 0, "creation_date": 1430224885, "post_id": 29919455, "comment_id": 47960657, "body": "I&#39;ve given you a very basic OO example. It goes a lot deeper, depending on exactly what you want to do. You may find it worth your time to look at <code>Moose</code> which is related to perl OO - but it&#39;s a bit more intensive initially."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1430223873, "creation_date": 1430223873, "answer_id": 29919455, "question_id": 29919079, "link": "https://stackoverflow.com/questions/29919079/hook-to-provide-a-value-for-every-hash-lookup-in-perl/29919455#29919455", "title": "Hook to provide a value for every Hash lookup in Perl", "body": "<p>I would suggest that trying to alter how a hash lookup \"works\" is a really terrible idea, as a good way to create code that's hard to maintain.</p>\n\n<p>However instead I would suggest you look at creating an <em>object</em> instead of a hash. They are basically the same thing, but an object includes code, and there is an <em>expectation</em> that the code within the object is 'doing it's own thing'. </p>\n\n<p>So at a basic level:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\npackage Hash_Ob;\n\nsub new {\n    my ($class) = @_;\n    my $self = {};\n    bless( $self, $class );\n    return $self;\n}\n\nsub get_value {\n    my ( $self, $valuename ) = @_;\n    if ( $self-&gt;{$valuename} ) {\n        return $self-&gt;{$valuename};\n    }\n    else {\n        #generate your own value here!\n        $self-&gt;{$valuename} = 42;\n        return $self-&gt;{$valuename};\n    }\n}\n\n1;\n</code></pre>\n\n<p>Which you'd then 'call' using:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Hash_Ob;\n\nmy $magic_hash = Hash_Ob -&gt; new();\n\nprint $magic_hash -&gt; get_value('new_value');\n</code></pre>\n\n<p>This avoids the problem of altering how a 'well known' mechanism actually works, and so future maintenance programmers will not curse your name.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430224135, "post_id": 29919519, "comment_id": 47960029, "body": "I think it would be worth noting that anything that obfuscates the conditional assignment is a place where future programmers will be sad. Sometimes it&#39;s good to be explicit about what&#39;s going on!"}, {"owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "edited": false, "score": 0, "creation_date": 1430224331, "post_id": 29919519, "comment_id": 47960194, "body": "@\u0421\u0443\u0445\u043e\u043927 Thanks and +1. Your approach solves the initial question which I had but i later expanded my question to include more scope which Sobrique has explained."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 3, "last_activity_date": 1430224044, "creation_date": 1430224044, "answer_id": 29919519, "question_id": 29919079, "link": "https://stackoverflow.com/questions/29919079/hook-to-provide-a-value-for-every-hash-lookup-in-perl/29919519#29919519", "title": "Hook to provide a value for every Hash lookup in Perl", "body": "<p>As said by \u0421\u0443\u0445\u043e\u043927 in comment, this works fine:</p>\n\n<pre><code>my %hash_example = ( \"a\"=&gt;\"apple\", \"b\"=&gt;\"ball\" ); \nprint $hash_example{\"a\"};  \nprint $hash_example{\"c\"} // \"custom_value_based_on_certain_conditions\";\n</code></pre>\n\n<p>Doc on <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow\">logical defined or</a></p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1430227800, "creation_date": 1430227800, "answer_id": 29920959, "question_id": 29919079, "link": "https://stackoverflow.com/questions/29919079/hook-to-provide-a-value-for-every-hash-lookup-in-perl/29920959#29920959", "title": "Hook to provide a value for every Hash lookup in Perl", "body": "<p>Then maybe you want to use a tied hash. Tying is a mechanism to change the behavior of a builtin data type. See <a href=\"http://metacpan.org/pod/perltie\" rel=\"nofollow\"><code>perltie</code></a> for the gory details.</p>\n\n<pre><code>{\n    package HashWithDefault;\n    use Tie::StdHash;\n    our @ISA = qw(Tie::StdHash);    # inherit STORE, FIRST, NEXT, etc.\n    sub TIEHASH {\n        my ($pkg,$default_val) = @_;\n        return bless { __default_val__ =&gt; $default_val}, $pkg;\n    }\n    sub FETCH {\n        my ($self,$key) = @_;\n        exists $self-&gt;{$key} ? $self-&gt;{$key} : $self-&gt;{__default_val__};\n    }\n    sub CLEAR {  # don't clear the default val\n        my $self = shift;\n        %$self = ( __default_val__ =&gt; $self-&gt;{__default_val__} );\n    }\n}\n\ntie my %hash, 'HashWithDefault', \"42\";\n%hash = (foo =&gt; 123, bar =&gt; 456);\nprint $hash{foo};   # 123\nprint $hash{quux};  # 42\n</code></pre>\n"}], "owner": {"reputation": 1073, "user_id": 1443563, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YcZiU.jpg?s=128&g=1", "display_name": "gsinha", "link": "https://stackoverflow.com/users/1443563/gsinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1430227800, "creation_date": 1430222926, "last_edit_date": 1430223407, "question_id": 29919079, "link": "https://stackoverflow.com/questions/29919079/hook-to-provide-a-value-for-every-hash-lookup-in-perl", "title": "Hook to provide a value for every Hash lookup in Perl", "body": "<p>Is it possible to provide a hook in Perl to make sure no Hash key lookup fails ?  </p>\n\n<p>Example :  </p>\n\n<pre><code>use strict; \nuse warnings; \nmy %hash_example = ( \"a\"=&gt;\"apple\", \"b\"=&gt;\"ball\" ); \nprint $hash_example{\"a\"};  # Goes Fine. \nprint $hash_example{\"c\"};  # Throws Warning  ( \"Use of uninitialized value \" ).\n</code></pre>\n\n<p><a href=\"http://codepad.org/S2IPBaNf\" rel=\"nofollow\">Codepad link</a></p>\n\n<p>Whenever a hash lookup happens, some subroutine could get called which can provide a default value.  </p>\n\n<p>I mean, any hash lookup should call a sub ( say \"<code>get_hash_value (hash_ref, key)</code> \" ) and pass the hash and key to it. A sample of such a sub is shown below :  </p>\n\n<pre><code>sub get_hash_value { \n    my $hash_ref = shift; \n    my $key      = shift; \n    if ( exists $hash_ref-&gt;{$key} ) { # For Normal Lookup. \n        return $hash_ref-&gt;{$key}; \n    } \n    else { \n        # This is the interesting place where we could provide our own values. \n        return \"custom_value_based_on_certain_conditions\";  # Some value \n    } \n}\n</code></pre>\n\n<p>Another consequence would be the ability to alter the value returned against a key.  We would be able to return a different value than what actually is stored against that key ( in that hash ). </p>\n\n<p>There might not be a valid use case for this but am intrigued and would like to learn if such things are supported in Perl.  </p>\n"}, {"tags": ["perl", "selenium", "selenium-webdriver", "selenium-grid"], "comments": [{"owner": {"reputation": 1613, "user_id": 3292911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ptOHW.jpg?s=128&g=1", "display_name": "Igor Lantushenko", "link": "https://stackoverflow.com/users/3292911/igor-lantushenko"}, "edited": false, "score": 1, "creation_date": 1430253745, "post_id": 29918511, "comment_id": 47981154, "body": "what is a firefox version? I guess the problem with selenium and firefox capability, someone already faced this problems [check this] And as far as I remember before I got such errors at time to time. But I also would not recommend you to update firefox to the last version, because selenium 2.45 does not work pretty well with firefox 37 (<a href=\"https://github.com/SeleniumHQ/selenium/issues/452\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/issues/452</a>)"}, {"owner": {"reputation": 68, "user_id": 2972197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa7edc8a11e6257a72919ff694f9ce7c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2972197/dmitry"}, "reply_to_user": {"reputation": 1613, "user_id": 3292911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ptOHW.jpg?s=128&g=1", "display_name": "Igor Lantushenko", "link": "https://stackoverflow.com/users/3292911/igor-lantushenko"}, "edited": false, "score": 0, "creation_date": 1430292694, "post_id": 29918511, "comment_id": 47995755, "body": "Yep. This is Firefox 37.0.2"}, {"owner": {"reputation": 1613, "user_id": 3292911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ptOHW.jpg?s=128&g=1", "display_name": "Igor Lantushenko", "link": "https://stackoverflow.com/users/3292911/igor-lantushenko"}, "edited": false, "score": 0, "creation_date": 1430292840, "post_id": 29918511, "comment_id": 47995852, "body": "well, in my case of using selenium 2.45 and firefox 37 - browser does not want even to start a new session, so I would recommend you or install firefox 36 or wait till selenium will get an update"}], "answers": [{"comments": [{"owner": {"reputation": 68, "user_id": 2972197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa7edc8a11e6257a72919ff694f9ce7c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2972197/dmitry"}, "edited": false, "score": 0, "creation_date": 1430295497, "post_id": 29937341, "comment_id": 47997382, "body": "I&#39;ve tried FF36.0.4 - sadly the same error occurs. It looks like something wrong with Selenium 2.45. Calling get_active_element once on a page seems to work fine even with FF37 so let&#39;s stick with that for a while and wait for a new version of Selenium."}], "tags": [], "owner": {"reputation": 1613, "user_id": 3292911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ptOHW.jpg?s=128&g=1", "display_name": "Igor Lantushenko", "link": "https://stackoverflow.com/users/3292911/igor-lantushenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1430293384, "creation_date": 1430293384, "answer_id": 29937341, "question_id": 29918511, "link": "https://stackoverflow.com/questions/29918511/permission-denied-to-access-property-handleevent/29937341#29937341", "title": "Permission denied to access property &quot;handleEvent&quot;", "body": "<p>So my suggestion is that error occurs coz of not really good compatipability <code>firefox 37</code> and <code>selenium server 2.45</code> I would recommend you trying to install firefox 36 or wait till selenium web driver get update. Because in my case of using <code>selenium 2.45</code> and <code>firefox 37</code> it does not work at all - browser just opening and hanging till timeout.</p>\n"}, {"comments": [{"owner": {"reputation": 68, "user_id": 2972197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa7edc8a11e6257a72919ff694f9ce7c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2972197/dmitry"}, "edited": false, "score": 0, "creation_date": 1431013200, "post_id": 30061843, "comment_id": 48322676, "body": "Great!!! Selenium seems to work with Bugsnag 2.4.8 fine. No workaround needed anymore :)"}], "tags": [], "owner": {"reputation": 1272, "user_id": 172060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d1ebbb28ce0f4a8f2c77b6d3d95829?s=128&d=identicon&r=PG", "display_name": "Conrad Irwin", "link": "https://stackoverflow.com/users/172060/conrad-irwin"}, "is_accepted": true, "score": 1, "last_activity_date": 1430854850, "creation_date": 1430854850, "answer_id": 30061843, "question_id": 29918511, "link": "https://stackoverflow.com/questions/29918511/permission-denied-to-access-property-handleevent/30061843#30061843", "title": "Permission denied to access property &quot;handleEvent&quot;", "body": "<p>This is fixed by rescuing from this exception in Bugsnag <a href=\"https://github.com/bugsnag/bugsnag-js/commit/0478bf54778e534a2bf53dd129927b468e82447b\" rel=\"nofollow\">v2.4.8</a>.  Arguably selenium shouldn't be adding native handlers to in-page events, but oh well :).</p>\n"}], "owner": {"reputation": 68, "user_id": 2972197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa7edc8a11e6257a72919ff694f9ce7c?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/2972197/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1505, "favorite_count": 0, "accepted_answer_id": 30061843, "answer_count": 2, "score": 1, "last_activity_date": 1505805569, "creation_date": 1430221384, "last_edit_date": 1505805569, "question_id": 29918511, "link": "https://stackoverflow.com/questions/29918511/permission-denied-to-access-property-handleevent", "title": "Permission denied to access property &quot;handleEvent&quot;", "body": "<p>I'm testing a web app in several browsers with the Selenium 2.45.0 grid.</p>\n\n<p>At one point (I suppose when Bugsnag was added to the app) some find_element functions started to fail in Firefox (still work in Safari) with the 'Permission denied to access property <code>handleEvent</code> error.</p>\n\n<p>It looks like there is a workaround for that:</p>\n\n<pre><code>adding \n$driver -&gt; get_active_element();\nbefore calling\n$driver -&gt; find_element...\n</code></pre>\n\n<p>But this is awkward.</p>\n\n<p>Did anyone else face the same problem and find a more adequate solution?</p>\n"}, {"tags": ["regex", "linux", "perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1430216332, "creation_date": 1430216332, "answer_id": 29916664, "question_id": 29916285, "link": "https://stackoverflow.com/questions/29916285/why-does-the-number-of-lines-of-output-file-generated-differ/29916664#29916664", "title": "Why does the number of lines of output file generated differ", "body": "<p>As documented, <code>wc -l</code> returns the newline count, i.e. the number of newlines, not the number of lines.</p>\n"}], "owner": {"reputation": 189, "user_id": 1108030, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/LS3Au.jpg?s=128&g=1", "display_name": "LockStock", "link": "https://stackoverflow.com/users/1108030/lockstock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29916664, "answer_count": 1, "score": 0, "last_activity_date": 1430216408, "creation_date": 1430215357, "last_edit_date": 1430216408, "question_id": 29916285, "link": "https://stackoverflow.com/questions/29916285/why-does-the-number-of-lines-of-output-file-generated-differ", "title": "Why does the number of lines of output file generated differ", "body": "<pre><code>use Data::Dumper qw(Dumper);\nuse strict;\nuse warnings;\ndie \"Usage: $0 FILENAMEs\" if not @ARGV;\nmy $ni= 10;\nmy $fi=10;\nmy $flag =0;\nmy $ni1=10;\nmy $fi1 =10;\nforeach my $file (@ARGV) {\nopen my $fh,\"&lt;$file.a\" or die;\nwhile (my $line = &lt;$fh&gt;) {\nif ($line =~ /count/) {\nmy @ores = split /:/, $line, 2;\nif( $file eq \"k4\" and $flag ==1)\n{\n    $ni1= $ores[1];\n}\nelse \n{\n$flag=$flag+1;\n$ni= $ores[1];\nprint \"NI--\", $ni;\n}\n}\n}\nclose $fh;\n$flag=0;\nopen $fh,\"&lt;$file.b\" or die;\nwhile (my $line = &lt;$fh&gt;) {\nif ($line =~ /count/) {\nmy @ores = split /:/, $line, 2;\n if( $file eq \"k4\" and $flag ==1)\n {\n    $flag = $flag+1;\n    $fi1= $ores[1];\n }\n else \n {\n    $fi=$ores[1];\n print \"FI--\", $fi;\n }\n }\n }\n  close $fh;\n  open($fh, \"&gt;&gt;$file.log\") or die \"Could not open file '$file'.log $!\";\n if($file eq \"k4\")\n {\n print $fh \" First Instance of K4 \\n-----------------------------------\\n\";\n  }\n if( $ni &gt; $fi)\n {\n  print $fh \" FI: \", $fi;\n  print $fh \" NI: \", $ni;\n  print $fh \" NI is more than FI by: \", $ni-$fi;\n  }\n else\n {\n    print $fh \" FI: \", $fi;\n  print $fh \" NI: \", $ni;\n  print $fh \" FI is more than NI by: \",$fi-$ni;\n  }\n if( $file eq \"k4\")\n {\n print $fh \"\\n Second instance of K4\"; \n if($ni1 &gt; $fi1)\n {\n    print $fh \" FI: \", $fi1;\n    print $fh \"\\n NI: \", $ni1;\n    print $fh \" NI is more than FI by: \", $ni1-$fi1;\n  }\n  else\n  {\n     print $fh \" FI: \", $fi1;\n     print $fh \"\\n NI: \", $ni1;\n     print $fh \" FI is more than NI by: \",$fi1-$ni1;\n  }\n  }\n  }\n</code></pre>\n\n<p>The code above takes a file file1.a and file1.b, searches for lines with the word count. For each such line, the code then gets the second value of the list split by \":\" and compares the values from file1.a and file1.b\nEx: File1: </p>\n\n<pre><code>Loops count : 12345\n</code></pre>\n\n<p>File 2:</p>\n\n<pre><code>Roots count : 45679\n</code></pre>\n\n<p>Output file ( file1.log):</p>\n\n<pre><code> FI:  45679 \n NI:  12345 \n FI is more than NI by: 33334\n</code></pre>\n\n<p>But why does this happen?</p>\n\n<pre><code>$wc -l file1.log \n2 file1.log\n</code></pre>\n\n<p>( the line count should be 3. New lines at the end of the last line are absent)</p>\n"}, {"tags": ["regex", "perl", "file-io", "perl-data-structures"], "comments": [{"owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430215365, "post_id": 29915886, "comment_id": 47953842, "body": "$number is the input received from the user : 1000 in this case. It means the new files will be generated that contains 1000 queries each."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1430215988, "post_id": 29915886, "comment_id": 47954249, "body": "Did you <code>close $splitwrite</code> after the <code>while</code> loop?"}, {"owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430216107, "post_id": 29915886, "comment_id": 47954320, "body": "No .. have not closed it.."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430216218, "post_id": 29915886, "comment_id": 47954389, "body": "So, try it and report the results."}, {"owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430216454, "post_id": 29915886, "comment_id": 47954556, "body": "Just tried it and the result is same. I think the $splitwrite is anyway closed at the starting of while loop."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430216500, "post_id": 29915886, "comment_id": 47954584, "body": "I can&#39;t replicate the problem."}, {"owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430216627, "post_id": 29915886, "comment_id": 47954679, "body": "Can you share ur mail. I can send the file that needs to spitted. its quite big..."}, {"owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430217169, "post_id": 29915886, "comment_id": 47955026, "body": "I think this is happening with big files. But i dint see the reason behind it."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1430217294, "post_id": 29915886, "comment_id": 47955130, "body": "Try creating a smaller file with only the last few lines, test again."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1430328799, "post_id": 29915886, "comment_id": 48022179, "body": "Perhaps you input file last line does not end with a newline. What OS are you using?"}], "owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1430216873, "creation_date": 1430214355, "last_edit_date": 1430216873, "question_id": 29915886, "link": "https://stackoverflow.com/questions/29915886/perl-writing-to-a-file-after-reading-specific-number-of-blocks-from-another-fi", "title": "Perl : Writing to a file after reading specific number of blocks from another file", "body": "<p>Problem Statement:</p>\n\n<p>There is a large file which contains millions of SQL queries. Based on user input i have  to create multiple files each containing number of queries received as input from user. For example if user gives input as 1000 then each splitted file should contain 1000 queries. The last file can contain less than 1000 queries depending on total available queries in the actual file.</p>\n\n<pre><code>$singlefile = \"test.sql\";\n$number=&lt;STDIN&gt;; #input from user. Number of queries to be in the splitted file.\nchomp $number;\nopen $splitread , '&lt;', $singlefile or carp \"Cannot open $splitread for splitting: $!\";\n$filecount = 1;\n$semicolon = 1;\n\n$filename = $singlefile.$filecount;\n\nclose $splitwrite if $splitwrite;       \nopen $splitwrite, '&gt;&gt;', $filename or carp $!;\n\nwhile($eachline = &lt;$splitread&gt;){\n    print $splitwrite \"$eachline\";\n    $semicolon++ if $eachline=~m/.+?;.*/; #Checking the (;) Semi-colon which marks the end of query.\n\n    if($semicolon == $number){\n        $semicolon = 1;\n        $filecount = $filecount + 1;\n        $filename = $singlefile.$filecount; \n        close $splitwrite if $splitwrite;\n        open $splitwrite, '&gt;&gt;', $filename or carp $!;\n    }\n}\n</code></pre>\n\n<p>I am not sure why the last line of the last file is getting chopped.</p>\n\n<pre><code>select COUNT(COL3)\nfrom s.p.tab\nwhere COL70 &gt; COL72 GROUP ##--&gt; A lot of the line(GROUB BY COL4 ;) got chopped here\n</code></pre>\n\n<p>Kindly advice what is going wrong with code that i have written.</p>\n"}, {"tags": ["perl", "pipe"], "comments": [{"owner": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 1, "creation_date": 1430213320, "post_id": 29914583, "comment_id": 47952462, "body": "I guess you are using a 64 bit version of Perl. The number you posted is the same as -1 (<code>0xFFFFFFFFFFFFFFFF</code>) shifted by 8 bits.  I think the &#39;real&#39; exit status is -1."}, {"owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "reply_to_user": {"reputation": 520, "user_id": 220000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/68zeU.jpg?s=128&g=1", "display_name": "Hermann Schachner", "link": "https://stackoverflow.com/users/220000/hermann-schachner"}, "edited": false, "score": 0, "creation_date": 1430214399, "post_id": 29914583, "comment_id": 47953125, "body": "@HermannSchachner Thanks you are right"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1430215492, "post_id": 29914583, "comment_id": 47953924, "body": "There is something wrong going here as the exit code has to be on the range <code>0..255</code>, <code>-1</code> is not a valid exit code. Probably, some error checking would help (after <code>open</code> and <code>close</code>)."}, {"owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1430216347, "post_id": 29914583, "comment_id": 47954473, "body": "@salva you are right, I&#39;m unable to reproduce this constantly. I tried a script that always exits with exit status -1, but I get 255 instead of this long number... I don&#39;t know how to reproduce this issue constantly"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1430216557, "post_id": 29914583, "comment_id": 47954626, "body": "@Morad, even if you call <code>exit(-1)</code> the value is truncated to 1 byte. See <a href=\"http://man7.org/linux/man-pages/man3/exit.3.html\" rel=\"nofollow noreferrer\">exit(3)</a>."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1430216680, "post_id": 29914583, "comment_id": 47954715, "body": "Have you set <code>$SIG{CHLD} = &#39;IGNORE&#39;</code> in some other part of your program?"}, {"owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1430217234, "post_id": 29914583, "comment_id": 47955079, "body": "@salva No but I&#39;m setting signal handlers for ALRM, TERM, INT and USR2"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "reply_to_user": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "edited": false, "score": 0, "creation_date": 1430217464, "post_id": 29914583, "comment_id": 47955267, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/76435/discussion-between-salva-and-morad\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": true, "score": 1, "last_activity_date": 1430294664, "last_edit_date": 1495542131, "creation_date": 1430213326, "answer_id": 29915537, "question_id": 29914583, "link": "https://stackoverflow.com/questions/29914583/what-does-it-mean-when-i-get-a-huge-exit-status-when-closing-a-pipe-in-perl/29915537#29915537", "title": "What does it mean when I get a huge exit status when closing a pipe in perl", "body": "<p>You get a long number because the value of <code>$?</code> is -1.  Right shifting it 8 bits yields the large number you get.  Try this:</p>\n\n<pre><code>print -1&gt;&gt;8;\n</code></pre>\n\n<p><code>$?</code> is <code>-1</code> because the <code>close()</code> function fails for some reason, and not because the script exits with exit status <code>-1</code>.</p>\n\n<p>When the <code>close()</code> succeeds and the script exits with <code>-1</code> then the value of <code>$?</code> won't be <code>-1</code>, but the value <code>$?&gt;&gt;8</code> will be <code>255</code> as described here: <a href=\"https://stackoverflow.com/questions/2726447/why-is-the-exit-code-255-instead-of-1-in-perl\">Why is the exit code 255 instead of -1 in Perl?</a></p>\n"}], "owner": {"reputation": 2481, "user_id": 1444748, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WqxKU.jpg?s=128&g=1", "display_name": "Morad", "link": "https://stackoverflow.com/users/1444748/morad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1171, "favorite_count": 0, "accepted_answer_id": 29915537, "answer_count": 1, "score": 2, "last_activity_date": 1430294664, "creation_date": 1430210800, "question_id": 29914583, "link": "https://stackoverflow.com/questions/29914583/what-does-it-mean-when-i-get-a-huge-exit-status-when-closing-a-pipe-in-perl", "title": "What does it mean when I get a huge exit status when closing a pipe in perl", "body": "<p>I run a script using a pipe</p>\n\n<pre><code>my $pid = open (OUTPUT, \"$my_script\") || \"\";\nif (! $pid) {\n  die(\"error\");\n}\nwhile (&lt;OUTPUT&gt;) {\n  print;\n}\nclose (OUTPUT);\nmy $exit_status = $?&gt;&gt;8;\nprint \"$exit_status\";\n</code></pre>\n\n<p>Some times I get a long exit status: 72057594037927935</p>\n\n<p>What does this mean? What could cause this?</p>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430208137, "post_id": 29913679, "comment_id": 47949156, "body": "What is your desired result for above example?"}, {"owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430208224, "post_id": 29913679, "comment_id": 47949198, "body": "I would like to specify the desired element in &quot;@ref_values&quot;"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430208265, "post_id": 29913679, "comment_id": 47949221, "body": "So what should be content of <code>@ref_values</code>?"}, {"owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430208311, "post_id": 29913679, "comment_id": 47949252, "body": "Values of keys in hash"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1430208422, "post_id": 29913679, "comment_id": 47949333, "body": "The structure you seem to be looking for is a hash: <code>my %hash = (Gilligan =&gt; \\%gilligan_info, Skipper =&gt; \\%skipper_info); my @ref_vals = @{$hash{Skipper}}{qw (name position hat) };</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1430208883, "post_id": 29913679, "comment_id": 47949613, "body": "<code>\\%{$crew[1]}</code> is identical to <code>$crew[1]</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430209100, "post_id": 29913679, "comment_id": 47949730, "body": "<i>&#39;how can I get values of hashes by not specifying element number in reference <code>$ref</code>?&#39;</i> I don&#39;t understand. You have to specify an element number to say which element of <code>@crew</code> you want to process. What am I missing?"}, {"owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430209277, "post_id": 29913679, "comment_id": 47949832, "body": "@Borodin Is it possible for &quot;$ref&quot; to just contain &quot;@$crew&quot;, and specify which element I want in &quot;@ref_values&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430210194, "post_id": 29913679, "comment_id": 47950419, "body": "You can write it so that <code>@ref_values</code> contains <i>all</i> of the values, and <code>$ref_values[1]</code> is <code>[ &#39;Skipper&#39;, &#39;Captain&#39;, &#39;Black&#39; ]</code>. Is that what you want?"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 1, "last_activity_date": 1430208445, "creation_date": 1430208445, "answer_id": 29913787, "question_id": 29913679, "link": "https://stackoverflow.com/questions/29913679/perl-reference-hash-slice/29913787#29913787", "title": "perl reference hash slice", "body": "<p>If you want values of all hashes in single array,</p>\n\n<pre><code>my @ref_values = map @$_{ qw(name position hat) }, @crew;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "edited": false, "score": 0, "creation_date": 1430219174, "post_id": 29914516, "comment_id": 47956398, "body": "Thanks. Is there Amy way I can use &quot;$ref&quot; reference instead of directly using &quot;@crew&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "edited": false, "score": 0, "creation_date": 1430220849, "post_id": 29914516, "comment_id": 47957680, "body": "@SamPinar: Well yes, but in your own code <code>$ref</code> is a copy of just the second element of <code>@crew</code> so you wouldn&#39;t be able to access the first element through it. I&#39;m thinking perhaps you need to show us the <i>real</i> problem to get a proper answer"}, {"owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "edited": false, "score": 0, "creation_date": 1430224261, "post_id": 29914516, "comment_id": 47960144, "body": "All I want to do is use $ref = \\%{$crew} (not pointing to a specific element) and write syntax in $ref_values which points to element I want"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "edited": false, "score": 0, "creation_date": 1430224843, "post_id": 29914516, "comment_id": 47960628, "body": "@SamPinar: Well as I pointed out, <code>$ref = \\%{$crew}</code> is identical to <code>$ref = $crew</code>, and besides you have no <code>$crew</code> variable. If you take <code>$ref = \\@crew</code> then you can replace <code>@crew</code> in my solution with <code>@$ref</code>"}, {"owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "edited": false, "score": 0, "creation_date": 1430224968, "post_id": 29914516, "comment_id": 47960728, "body": "Thanks I&#39;ll give it a go"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1430210627, "creation_date": 1430210627, "answer_id": 29914516, "question_id": 29913679, "link": "https://stackoverflow.com/questions/29913679/perl-reference-hash-slice/29914516#29914516", "title": "perl reference hash slice", "body": "<p>I think what you want is for <code>@ref_values</code> to contain an array of values for each of the <code>@crew</code>.</p>\n\n<p>Something like this, perhaps</p>\n\n<pre><code>my @ref_values;\n\nfor my $crew ( @crew ) {\n  push @ref_values, [ @$crew{ qw(name position hat) } ];\n}\n</code></pre>\n\n<p>This is also possible using <code>map</code> if you prefer, similarly to the solution from <code>\u0421\u0443\u0445\u043e\u043927</code></p>\n"}], "owner": {"reputation": 33, "user_id": 4820246, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-90hTvV_hQ6U/AAAAAAAAAAI/AAAAAAAAFU0/hue8u3XWRwE/photo.jpg?sz=128", "display_name": "Sam Pinar", "link": "https://stackoverflow.com/users/4820246/sam-pinar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 29913787, "answer_count": 2, "score": 0, "last_activity_date": 1430210627, "creation_date": 1430208053, "question_id": 29913679, "link": "https://stackoverflow.com/questions/29913679/perl-reference-hash-slice", "title": "perl reference hash slice", "body": "<p>I have below hash:</p>\n\n<pre><code>my %gilligan_info = (\n        name            =&gt;      'Gilligan',\n        hat             =&gt;      'white',\n        shirt           =&gt;      'Red',\n        position        =&gt;      'First Mate',\n);\n\nmy %skipper_info = (\n        name            =&gt;      'Skipper',\n        hat             =&gt;      'Black',\n        shirt           =&gt;      'Blue',\n        position        =&gt;      'Captain'\n);\n</code></pre>\n\n<p>I have a array of hashes:</p>\n\n<pre><code>my @crew = (\\%gilligan_info, \\%skipper_info);\n</code></pre>\n\n<p>I created a reference:</p>\n\n<pre><code>my $ref = \\%{$crew[1]};\n</code></pre>\n\n<p>I'm pulling key values from second hash:</p>\n\n<pre><code>my @ref_values = @{$ref}{ qw ( name position hat )};\n</code></pre>\n\n<p>My question is, how can I get values of hashes by not specifying element number in reference \"$ref\"?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "path", "require"], "comments": [{"owner": {"reputation": 8581, "user_id": 1740715, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/phIae.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/1740715/harikrishnan"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1430204269, "post_id": 29912166, "comment_id": 47946761, "body": "It&#39;s just an issue with path. I don&#39;t think code is relevant here."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1430215213, "post_id": 29912166, "comment_id": 47953728, "body": "@Harikrishnan this is not the most effective way to ask for help. Showing code would be an advantage."}], "answers": [{"comments": [{"owner": {"reputation": 1373, "user_id": 655027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d94649cf365de22fa125f0a45f5ebb4?s=128&d=identicon&r=PG", "display_name": "rubikonx9", "link": "https://stackoverflow.com/users/655027/rubikonx9"}, "edited": false, "score": 0, "creation_date": 1430203943, "post_id": 29912188, "comment_id": 47946591, "body": "Alternatively, one can use <code>PERL5LIB=&#47;full&#47;path&#47; &#47;full&#47;path&#47;myscript.pl</code> instead of editing the file."}, {"owner": {"reputation": 8581, "user_id": 1740715, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/phIae.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/1740715/harikrishnan"}, "edited": false, "score": 0, "creation_date": 1430204223, "post_id": 29912188, "comment_id": 47946739, "body": "I cannot determine the full path. The user can deploy the script in any directory and run it."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "reply_to_user": {"reputation": 8581, "user_id": 1740715, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/phIae.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/1740715/harikrishnan"}, "edited": false, "score": 0, "creation_date": 1430204336, "post_id": 29912188, "comment_id": 47946791, "body": "@Harikrishnan So you should add a shell script which changes the directory before running the program."}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": false, "score": 1, "last_activity_date": 1430203675, "creation_date": 1430203675, "answer_id": 29912188, "question_id": 29912166, "link": "https://stackoverflow.com/questions/29912166/correct-require-path-perl/29912188#29912188", "title": "Correct require path perl", "body": "<p>Add </p>\n\n<pre><code>use lib '/full/path/'\n</code></pre>\n\n<p>At the begining of your program. This will add the path to <code>@INC</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1430209963, "creation_date": 1430209963, "answer_id": 29914277, "question_id": 29912166, "link": "https://stackoverflow.com/questions/29912166/correct-require-path-perl/29914277#29914277", "title": "Correct require path perl", "body": "<p>The error is not because you are using the full path when you run the program, but because the <em>current working directory</em> is different from the location of the script. The current directory <code>.</code> appears in <code>@INC</code> so perl will always look there for modules, but the current directory has to be correct for it to find them.</p>\n\n<p>The canonical way of adding a library location that is relative to the location of the script itself is with the <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow\"><code>FindBin</code></a> module, like this</p>\n\n<pre><code>use FindBin;\nuse lib $FindBin::Bin;\n\nrequire 'myscript.conf';\n</code></pre>\n"}], "owner": {"reputation": 8581, "user_id": 1740715, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/phIae.jpg?s=128&g=1", "display_name": "Harikrishnan", "link": "https://stackoverflow.com/users/1740715/harikrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 29914277, "answer_count": 2, "score": -1, "last_activity_date": 1430209963, "creation_date": 1430203595, "last_edit_date": 1430206473, "question_id": 29912166, "link": "https://stackoverflow.com/questions/29912166/correct-require-path-perl", "title": "Correct require path perl", "body": "<p>I have a perl script <code>myscript.pl</code> and configuration file <code>myscript.conf</code>. Both are in same directory and I have included the conf in <code>myscript.pl</code> by <code>require 'myscript.conf';</code></p>\n\n<p>If I run myscript like <code>./myscript.pl</code> , it works fine. If I run with full path like <code>/full/path/myscript.pl</code> it raises an error </p>\n\n<p><code>Can't locate myscript.conf in @INC</code></p>\n\n<p>How can I resolve this issue?</p>\n"}, {"tags": ["perl", "mutex", "flock"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430201697, "post_id": 29910625, "comment_id": 47945350, "body": "re 1) check what says $! <code>ErrorExit(&quot;Failed during lock: $!&quot; ..</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1430210867, "post_id": 29910625, "comment_id": 47950825, "body": "You must never use subroutine prototypes in Perl. They are for a very different purpose than prototypes in other languages, and don&#39;t do any type checking or parameter verification at all. Just <code>sub SyncWaitForFile { ... }</code> is correct."}, {"owner": {"reputation": 680, "user_id": 2303176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47107aaff2c656bb305e866155258f1?s=128&d=identicon&r=PG", "display_name": "badola", "link": "https://stackoverflow.com/users/2303176/badola"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430215416, "post_id": 29910625, "comment_id": 47953876, "body": "@\u0421\u0443\u0445\u043e\u043927, I am not able to reproduce the bug again. It just failed once, miserably. Since I was working on production support, I had to revert back the changes done to the script and avoid flock logic altogether.  But still, I am curious to know as to why it may have failed."}, {"owner": {"reputation": 680, "user_id": 2303176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47107aaff2c656bb305e866155258f1?s=128&d=identicon&r=PG", "display_name": "badola", "link": "https://stackoverflow.com/users/2303176/badola"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430215716, "post_id": 29910625, "comment_id": 47954088, "body": "@Borodin, I am pretty sure that prototyping is not causing any issue as of now. ;) (Still thanks for the suggestion)."}], "owner": {"reputation": 680, "user_id": 2303176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47107aaff2c656bb305e866155258f1?s=128&d=identicon&r=PG", "display_name": "badola", "link": "https://stackoverflow.com/users/2303176/badola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430196989, "creation_date": 1430196989, "question_id": 29910625, "link": "https://stackoverflow.com/questions/29910625/is-usage-of-fcntl-flock-reliable-for-handling-mutex-perl", "title": "Is usage of Fcntl flock() reliable for handling mutex? [PERL]", "body": "<p>I created a perl script as below - (Showing only relevant code snippets)</p>\n\n<pre><code>#!/appl/pm/vendor/perl/lx-x86/5.14.2/bin/perl -w\nmy $no_of_retries = 60;\nmy $sleep_time = 60;\n\nuse Fcntl qw(:flock SEEK_END);\n#-------------------------------------------------------------------------------\n# To allow only one instance loader program to run\n#-------------------------------------------------------------------------------\nsub SyncWaitForFile($$$) {\nmy ($delay_file, $no_of_retries, $sleep_time) = @_;\n\n#check for delay file\nmy $minutes_passed = 0;\n\nwhile ( (-e $delay_file) &amp;&amp; (--$no_of_retries) &amp;&amp; ($no_of_retries &gt; 0) )\n{\n    if ( (($minutes_passed / 10) == 0) &amp;&amp; ($minutes_passed != 0)) # Check Every 10 minutes and send mail\n    {\n        MailNotify (\"Loader with [PID=$$;hostname=$host;user=$ENV{'LOGNAME'}] is waiting for $minutes_passed minutes for delay file to be removed\", \"Delay File =&gt; $delay_file\", $maillist);\n    }\n    Logger::info (\"Waiting for removal of delay_file $delay_file for $sleep_time seconds. Time passed waiting =&gt; $minutes_passed minutes. Number of retries remaining : $no_of_retries\");\n    sleep($sleep_time);\n    ++$minutes_passed;\n}\n\nif ($no_of_retries &lt;= 0)\n{\n    MailNotify (\"Loader with [PID=$$;hostname=$host;user=$ENV{'LOGNAME'}] has exited due to non-removal of delay file\", \"Delay File =&gt; $delay_file\", $maillist);\n    ErrorExit(\"Couldn't Acquire Exclusive Lock. loader.pl cannot run in parallel. So Exiting\", 1, 0);\n}\n\nwhile(1)\n{\n    my $flockfile = \"${delay_file}.flockFile\";\n    open (my $handle, \"&gt;\" , $flockfile) or ErrorExit(\"Not able to open file $flockfile\", -1, 0);\n\n    Logger::info  \"Acquiring lock on $flockfile\";\n    flock($handle, LOCK_EX) or ErrorExit(\"Failed during lock\", -1, 0); #Take the lock\n\n    #Check again for delay file as while the time this process took the lock,\n    #by that time some other process may took lock  created the delay file and release the lock\n    if (-e $delay_file)\n    {\n        Logger::info  \"Releasing lock on $flockfile\";\n        flock($handle, LOCK_UN); # Unlocks the delay file\n\n        # Wait till this delay_file is removed\n        Logger::info \"Waiting for removal of delay_file $delay_file\";\n        while ( (-e $delay_file) &amp;&amp; (--$no_of_retries) &amp;&amp; ($no_of_retries &gt; 0) )\n        {\n            if ( (($minutes_passed / 10) == 0) &amp;&amp; ($minutes_passed != 0) )\n            {\n                MailNotify (\"Loader with [PID=$$;hostname=$host;user=$ENV{'LOGNAME'}] is waiting for $minutes_passed minutes for delay file to be removed\", \"Delay File =&gt; $delay_file\", $maillist);\n            }\n            Logger::info (\"Waiting for removal of delay_file $delay_file for $sleep_time seconds. Time passed waiting =&gt; $minutes_passed. Number of retries remaining : $no_of_retries\");\n            sleep($sleep_time);\n            ++$minutes_passed;\n        }\n\n        if ($no_of_retries &lt;= 0)\n        {\n            MailNotify (\"Loader with [PID=$$;hostname=$host;user=$ENV{'LOGNAME'}] has exited due to non-removal of delay file\", \"Delay File =&gt; $delay_file\", $maillist);\n            ErrorExit(\"Couldn't Acquire Exclusive Lock. loader.pl cannot run in parallel. So Exiting\", -1, 0);\n        }\n        else\n        {\n            next;\n        }\n    }\n\n    Logger::info \"Creating delay file $delay_file\";\n    open (DELAY_FILE, \"&gt; $delay_file\") or ErrorExit(\"ERROR: Unable to open file:$delay_file $!\", -1, 0);\n    print DELAY_FILE \"Locked by Loader with [PID=$$;hostname=$host;user=$ENV{'LOGNAME'}]\\n\";\n    close(DELAY_FILE); \n    Logger::info  \"Releasing lock on $flockfile\";\n    flock($handle, LOCK_UN); # Unlocks the flock file\n    last;\n}}\n</code></pre>\n\n<p>The above code fails under stress test.\nI ran 25 parallel instances and it was working fine.</p>\n\n<p>But when the system reached more than 50 parallel instances, waiting for the delay_file to get free, it got blocked.\nMost of the loaders failed at the following line - </p>\n\n<pre><code>flock($handle, LOCK_EX) or ErrorExit(\"Failed during lock\", -1, 0);\n</code></pre>\n\n<p><strong>I have just two questions -</strong> </p>\n\n<p>[1] <strong>What could have been the possible reason for failure when load increased ?</strong> (It wasn't failing when the load was less)</p>\n\n<p>[2] <strong>What is the best way to handle mutex in PERL so that it works even under excessive load?</strong></p>\n\n<p>I am using PERL on Linux - </p>\n\n<p>PERL  - <strong>5.14.2</strong></p>\n\n<p>Linux - <strong>RHEL Server 5.11</strong></p>\n"}, {"tags": ["perl", "redirect", "github", "https"], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": -1, "last_activity_date": 1430196746, "creation_date": 1430196746, "answer_id": 29910584, "question_id": 29910114, "link": "https://stackoverflow.com/questions/29910114/perl-download-of-binary-file-from-a-github-url-with-https-and-redirect/29910584#29910584", "title": "Perl download of binary file from (a GitHub) URL with HTTPS and redirect", "body": "<p>A very detailed example of using LWP to download a file is given in the <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow\">LWP</a> distribution.  Check <a href=\"https://metacpan/pod/lwp-download\" rel=\"nofollow\">lwp-download</a>'s source.  Now, much of the code here is likely defensive code for all sorts of malicious things a site can do, and may be overkill for your purposes, but may be a good place to start.</p>\n"}, {"tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 2, "last_activity_date": 1488992210, "last_edit_date": 1488992210, "creation_date": 1430198301, "answer_id": 29910875, "question_id": 29910114, "link": "https://stackoverflow.com/questions/29910114/perl-download-of-binary-file-from-a-github-url-with-https-and-redirect/29910875#29910875", "title": "Perl download of binary file from (a GitHub) URL with HTTPS and redirect", "body": "<p>Here's the same using the libcurl wrapper <code>WWW::Curl::Easy;</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse WWW::Curl::Easy;\nuse File::Temp qw/tempfile/;\n\nmy ($out, $filename) = tempfile();\n\nmy $curl = WWW::Curl::Easy-&gt;new();\n$curl-&gt;setopt(CURLOPT_URL, \"https://github.com/libwww-perl/libwww-perl/archive/6.13.zip\");\n$curl-&gt;setopt(CURLOPT_WRITEDATA, $out);\n$curl-&gt;setopt(CURLOPT_VERBOSE, 1);\n$curl-&gt;setopt(CURLOPT_FOLLOWLOCATION, 1);\nmy $retcode = $curl-&gt;perform();\n\nif ($retcode != 0) {\n  print STDERR  \"Fetch Failed: \", $curl-&gt;strerror($retcode), \" ( +$retcode)\\n\";\n  print STDERR  \"errbuf: \", $curl-&gt;errbuf;\n  exit(1);\n} \nelse {\n  print STDERR  \"Fetched file to: \", $filename, \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 669, "user_id": 4607616, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f3449d8e3d0e9aaea054bc3f7700af03?s=128&d=identicon&r=PG&f=1", "display_name": "lcikgl", "link": "https://stackoverflow.com/users/4607616/lcikgl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 0, "accepted_answer_id": 29910875, "answer_count": 2, "score": 2, "last_activity_date": 1488992210, "creation_date": 1430193888, "last_edit_date": 1488992040, "question_id": 29910114, "link": "https://stackoverflow.com/questions/29910114/perl-download-of-binary-file-from-a-github-url-with-https-and-redirect", "title": "Perl download of binary file from (a GitHub) URL with HTTPS and redirect", "body": "<p>I am attempting to download a binary file hosted on <a href=\"http://github.com\" rel=\"nofollow noreferrer\">github.com</a> to the local disk. The context requires I do this in Perl. Here's my test code:</p>\n\n<pre><code>use File::Fetch;\n\n$fileurl = \"https://github.com/libwww-perl/libwww-perl/archive/6.13.zip\";\n$to = \"/tmp\";\n\n$ff = File::Fetch-&gt;new(uri =&gt; \"$fileurl\") || die(\"Fetch failed\\n\");\n\nprint STDERR \"Fetch-&gt;new succeeded\\n\";\n\n$where = $ff-&gt;fetch(to =&gt; $to);\n\nif ($where) {\n    print STDERR \"Fetched file to '$where'\\n\";\n}\nelse {\n    print STDERR \"Fetch failed: \" . $ff-&gt;error(1) . \"\\n\";\n    exit(-1);\n}\n</code></pre>\n\n<p>This worked fine downloading a test file from my non-<em>GitHub</em>, mock-up web-server serving over HTTP. For the file hosted on <em>GitHub</em>, however, it fails with no illuminating error messages:</p>\n\n<pre><code>% ./trydownload\nFetch-&gt;new succeeded\nFetch failed:\n%\n</code></pre>\n\n<p>For <a href=\"http://github.com\" rel=\"nofollow noreferrer\">github.com</a>, the above approach appears to have two problems:</p>\n\n<ol>\n<li>It apparently does not support the HTTPS download offered by <em>GitHub</em></li>\n<li>It apparently does not follow the redirect <em>GitHub</em> seems to use to direct the client to the actual storage location of the file</li>\n</ol>\n\n<p>Internet searches turn up a veritable maze of components and pieces with which I could (I presume) eventually construct a working solution. I do not have days to experiment with getting all these assembled properly, however.</p>\n\n<p>Does someone know the cut-and-dried answer to how to make the above code, or equivalent in Perl, download a binary file through HTTPS and an apparent redirect? Or at least succeed at the download from <a href=\"http://github.com\" rel=\"nofollow noreferrer\">github.com</a>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1430192879, "post_id": 29909721, "comment_id": 47942073, "body": "What happens if you <code>use strict;</code> and <code>use warnings;</code>?  What do you think <code>@line</code> holds, and why?  If you need row ID, column header, and max value, why do you only attempt to print row ID and index of max value?"}], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 2, "last_activity_date": 1430197400, "creation_date": 1430197400, "answer_id": 29910691, "question_id": 29909721, "link": "https://stackoverflow.com/questions/29909721/find-max-value-in-each-row-return-row-id-and-column-header-of-max-value/29910691#29910691", "title": "find max value in each row, return row ID and column header of max value", "body": "<p>What I'd do is, first, save the header, so I can spit out the column name later.  Then, go through each line, saving each field by its header name, and then look for the max number (normally I'd use List::Util::max, but I need the key with the max number, not the max number itself, so I fake it with List::Util::reduce).  And then I can spit out the discovered maximum.  To save a bit of effort here, I'm putting your data inline, but you can read it from arbitrary files as well.  (I would use <code>open my $in, '&lt;', $F or die \"Can't read from $F: $!\"</code> instead of your open statement, though, for better error detection and handling.)</p>\n\n<pre><code>#!/opt/myperl/5.20.2/bin/perl\n\nuse 5.10.0;\nuse List::Util qw(reduce);\n\nmy @header = do {\n    my $line = &lt;DATA&gt;;\n    split ' ', $line;\n};\n\nwhile (&lt;DATA&gt;)\n{\n    my @fields = split ' ', $_;\n    my %data; @data{@header} = @fields;\n\n    my $max_key = reduce { $data{$a} &gt; $data{$b} ? $a : $b } @header[1..$#header];\n\n    say join ' ', $data{$header[0]}, $max_key, $data{$max_key};\n}\n\n\n__END__\nGENE CLM-MXL-ACB_PBS CLM-PEL-ACB_PBS CLM-PUR-ACB_PBS \nA1BG 2.927682 2.935334 -0.262044\nA1CF -0.503390 -0.193219 0.038984\nA2M -0.217628 -0.264332 -0.380048\nA2ML1 -0.040747 0.566124 0.935753\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 29910691, "answer_count": 1, "score": 0, "last_activity_date": 1430197400, "creation_date": 1430191360, "question_id": 29909721, "link": "https://stackoverflow.com/questions/29909721/find-max-value-in-each-row-return-row-id-and-column-header-of-max-value", "title": "find max value in each row, return row ID and column header of max value", "body": "<p>I have a file (19,000 lines and 200 columns) that looks like:</p>\n\n<pre><code>GENE CLM-MXL-ACB_PBS CLM-PEL-ACB_PBS CLM-PUR-ACB_PBS \nA1BG 2.927682 2.935334 -0.262044\nA1CF -0.503390 -0.193219 0.038984\nA2M -0.217628 -0.264332 -0.380048\nA2ML1 -0.040747 0.566124 0.935753\n</code></pre>\n\n<p>I would like to find the maximum value for each row, and print the max value, row ID, and column header of the column the max was found in. Output would look like:</p>\n\n<pre><code> A1BG CLM-PEL-ACB_PBS 2.935334\n A1CF CLM-PUR-ACB_PBS 0.038984\n A2M CLM-MXL-ACB_PBS -0.217628\n A2ML1 CLM-PUR-ACB_PBS 0.935753\n</code></pre>\n\n<p>I have a perl script that does not work:</p>\n\n<pre><code>my$F=shift@ARGV;\nopen IN, \"$F\";\n\nmy@line;\nwhile (&lt;IN&gt;){\n    next if m/GENE/;\n    foreach my $l (@line) {\n        my ($row_id, @row_data) = split( / /, $l ) ;\n        my $idx = 0 ;\n        do { $idx = $_ if $row[$_] &gt; $row[$idx] } for 1..$#row_data ;\n        print \"$row_id $idx\\n\" ;\n        next;\n    }\n}\n</code></pre>\n\n<p>Can someone point out what's wrong with the code or suggest another solution?</p>\n"}, {"tags": ["perl", "eval", "log4perl"], "answers": [{"comments": [{"owner": {"reputation": 2282, "user_id": 562180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0ea005c3d2f4d8feac9aee0a7efd5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Pungs", "link": "https://stackoverflow.com/users/562180/pungs"}, "edited": false, "score": 0, "creation_date": 1430202029, "post_id": 29909362, "comment_id": 47945518, "body": "Thanks, i added <code>return if (!defined($^S) or $^S);</code>  to sigdie handler in MyLogger and its works perfectly."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 7, "last_activity_date": 1430188953, "creation_date": 1430188953, "answer_id": 29909362, "question_id": 29909250, "link": "https://stackoverflow.com/questions/29909250/perl-sigdie-handler-and-eval/29909362#29909362", "title": "Perl sigdie handler and eval", "body": "<p>The <a href=\"https://metacpan.org/pod/perlvar#EXCEPTIONS_BEING_CAUGHT\"><code>$^S</code></a> indicates whether the current execution point is inside of an <code>eval</code> block:</p>\n\n<pre><code>$^S         State\n---------   -------------------------------------\nundef       Parsing module, eval, or main program\ntrue (1)    Executing an eval\nfalse (0)   Otherwise\n</code></pre>\n\n<p>So it sounds like you want to check whether <code>$^S</code> is true at the beginning of your <code>__DIE__</code> handler:</p>\n\n<pre><code>package MyLogger;\nsub logdie {\n    $^S &amp;&amp; die $_[0];    # use default die handler\n    ...                  # else use custom die handler\n}\n</code></pre>\n"}], "owner": {"reputation": 2282, "user_id": 562180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0ea005c3d2f4d8feac9aee0a7efd5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Pungs", "link": "https://stackoverflow.com/users/562180/pungs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 29909362, "answer_count": 1, "score": 3, "last_activity_date": 1430188953, "creation_date": 1430188000, "question_id": 29909250, "link": "https://stackoverflow.com/questions/29909250/perl-sigdie-handler-and-eval", "title": "Perl sigdie handler and eval", "body": "<p>I am overriding my SIG die handler as below inside my Logger module.</p>\n\n<pre><code># Catch die messages and log them with logdie\n$SIG{__DIE__} = \\&amp;logdie;\n</code></pre>\n\n<p>Now below program run as expected and post processing will be called.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Path;\n# use MyLogger;\n\nmy $dir=\"/random\";\neval {\n  # local $SIG{__DIE__};\n  File::Path::make_path($dir);\n};\nif($@) {\n warn(\"Cannot create $dir :$@ \\n\");\n}\nprint \"Post processing \\n\";\n</code></pre>\n\n<p>However, if i include my logger module and add <code>use MyLogger</code> the code fails inside <code>eval</code> statment with below error and post processing is not called. </p>\n\n<p>[ERROR] 2015/04/27 22:19:07 Carp.pm:166> mkdir /random: Permission denied at ./test.pl line 11.</p>\n\n<p>One option to fix this to add a local sigdie handle (as shown in commented code). </p>\n\n<p>However, my logger module is used by many scripts. </p>\n\n<p>Is there a way to modify my Logger module so that it supresses ERROR message when called from inside eval block ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1430189157, "post_id": 29908987, "comment_id": 47941178, "body": "<code>delete ${$seq}{@{ $seq-&gt;{$s}}[3]};</code> is a pretty bizarre statement. Do you mean something like <code>$key2 = $seq-&gt;{$s}[3]; delete $seq-&gt;{$key2};</code> ?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1430189218, "post_id": 29908987, "comment_id": 47941190, "body": "And for that matter, <code>@{ $seq-&gt;{$s}}[n]</code> is better written as <code>$seq-&gt;{$s}[n]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "is_accepted": false, "score": 2, "last_activity_date": 1430200176, "last_edit_date": 1430200176, "creation_date": 1430199859, "answer_id": 29911232, "question_id": 29908987, "link": "https://stackoverflow.com/questions/29908987/delete-a-key-from-a-hash-of-array-but-i-get-use-of-uninitialized-value-in-hash-e/29911232#29911232", "title": "delete a key from a hash of array but I get Use of uninitialized value in hash element", "body": "<p>It looks like you are deleting 3009848 before the 3009848 key is iterated in the foreach loop.  You can probably try a simple <code>next unless defined $seq-&gt;{$s};</code> since you've deleted $s==3009848 on the interation for 3009824.  <code>defined</code> checking never hurts...</p>\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1430200789, "last_edit_date": 1495540248, "creation_date": 1430200789, "answer_id": 29911447, "question_id": 29908987, "link": "https://stackoverflow.com/questions/29908987/delete-a-key-from-a-hash-of-array-but-i-get-use-of-uninitialized-value-in-hash-e/29911447#29911447", "title": "delete a key from a hash of array but I get Use of uninitialized value in hash element", "body": "<p>The warnings are due to the fact that you are deleting elements of your hash while you are iterating over them, which is in general, a bad idea.</p>\n\n<p>Perl is warning you that you are trying to print something that is no longer there.  Also, be aware that the keys are returned in random order unless you sort them.</p>\n\n<p>Take a look at:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3989182/how-should-i-delete-hash-elements-while-iterating\">How should I delete hash elements while iterating?</a></p>\n"}], "owner": {"reputation": 99, "user_id": 4802670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1634092460145782/picture?type=large", "display_name": "Tahmtan Ebrahimi", "link": "https://stackoverflow.com/users/4802670/tahmtan-ebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1430200789, "creation_date": 1430186259, "question_id": 29908987, "link": "https://stackoverflow.com/questions/29908987/delete-a-key-from-a-hash-of-array-but-i-get-use-of-uninitialized-value-in-hash-e", "title": "delete a key from a hash of array but I get Use of uninitialized value in hash element", "body": "<p>I would like to know how to remove a key from a hash of array.\nGiven the following file as a simple example, forth column is always the third column in the paired match and data in not sorted.</p>\n\n<pre><code>....\nNS501570        WWW     3009824 3009848 \n....\nNS501572        WAD     3009848 3009898\n....\n</code></pre>\n\n<p>I would like to collapse it into </p>\n\n<pre><code>NS501570        WWW     3009824 3009848 NS501572        WAD     3009848 3009898\n</code></pre>\n\n<p>I wrote the following code. I selected third column as key for hash. therefore I print the values from the first entry and column 4 would be the key of the other one:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $seq;\nwhile(&lt;&gt;){\nchomp;\nmy @line = split;\n$seq-&gt;{\"$line[2]\" } = [@line];\n\n}\n\nforeach my $s (keys %{$seq} ) {\n### @{ $seq-&gt;{$s}}[3] key for the second pair\n        print @{ $seq-&gt;{$s}}[0],\"\\t\",@{ $seq-&gt;{$s}}[1],\"\\t\",@{ $seq-&gt;{$s}}[2],\"\\t\",@{ $seq-&gt;{$s}}[3],\"\\t\",@{ $seq-&gt;{@{ $seq-&gt;{$s}}[3]}}[0],\"\\t\",@{ $seq-&gt;{@{ $seq-&gt;{$s}}[3]}}[1],\"\\t\",@{ $seq-&gt;{@{ $seq-&gt;{$s}}[3]}}[2],\"\\t\",@{ $seq-&gt;{@{ $seq-&gt;{$s}}[3]}}[3],\"\\n\";\n\n        delete ${$seq}{@{ $seq-&gt;{$s}}[3]};\n        }\n</code></pre>\n\n<p>it works but there is a small problem! \nI do no know how to delete the second key (in this case 3009848 in the second entry) without getting the following error:</p>\n\n<pre><code>NS501570        WWW     3009824 3009848 NS501572        WAD     3009848 3009898\nUse of uninitialized value in hash element at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in hash element at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in hash element at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in hash element at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\nUse of uninitialized value in print at find_mate2.pl line 22, &lt;&gt; line 2.\n\nUse of uninitialized value in delete at find_mate2.pl line 23, &lt;&gt; line 2.\n</code></pre>\n"}, {"tags": ["arrays", "perl", "file", "hash"], "comments": [{"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1430179024, "post_id": 29907934, "comment_id": 47938362, "body": "In order to load it into a hash you need to decide on a key.  In this case, that amounts to &quot;What do you want to sort on?&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1430179496, "post_id": 29907934, "comment_id": 47938491, "body": "@Degustaf almost everything except <code>Recv-Q</code> and <code>Send-Q</code>. It includes  <code>PID</code> and <code>Program name</code> which are separated by <code>&#47;</code>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430188445, "post_id": 29909028, "comment_id": 47940997, "body": "Thank you for your answer @gangabass! AoH is what I was looking for,  <b>but</b> your solution means that all data must be written manually into the script, I&#39;m looking for solution where data can be imported with by script."}, {"owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "edited": false, "score": 0, "creation_date": 1430188710, "post_id": 29909028, "comment_id": 47941064, "body": "Sorry but I don&#39;t want write code for you. Try to parse your data yourself and ask for help after that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430188920, "post_id": 29909028, "comment_id": 47941108, "body": "Spasibo i na etom. +1"}], "tags": [], "owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "is_accepted": true, "score": 0, "last_activity_date": 1430186569, "creation_date": 1430186569, "answer_id": 29909028, "question_id": 29907934, "link": "https://stackoverflow.com/questions/29907934/perl-load-data-by-row/29909028#29909028", "title": "Perl: Load data by row", "body": "<p>I think you need AoH (array of hashes). After that you can get everything you want with custom <code>sort</code>:</p>\n\n<pre><code>my @records = [\n { Proto =&gt; \"tcp\", 'Recv-Q' =&gt; 0, ..., 'Local Address' =&gt; \"0.0.0.0:3790\", ..., State =&gt; \"Listen\", ... },\n { Proto =&gt; \"tcp\", 'Recv-Q' =&gt; 0, ..., 'Local Address' =&gt; \"127.0.1.1:53\", ..., State =&gt; \"Listen\", ... },\n { Proto =&gt; \"tcp\", 'Recv-Q' =&gt; 0, ..., 'Local Address' =&gt; \"127.0.0.1:631\", ..., State =&gt; \"Listen\", ... },\n];\n\nmy @records_sorted_by_state = sort { $a-&gt;{State} cmp $b-&gt;{State} } @records;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 29909028, "answer_count": 1, "score": 0, "last_activity_date": 1430186569, "creation_date": 1430178831, "question_id": 29907934, "link": "https://stackoverflow.com/questions/29907934/perl-load-data-by-row", "title": "Perl: Load data by row", "body": "<p>I'm continuing my Perl learning.</p>\n\n<p>In this case I'm trying to load data from .txt file into array. My script generates <code>netstat</code> output which looks like this: </p>\n\n<pre><code>Proto Recv-Q Send-Q Local Address    Foreign Address         State       PID/Program name\ntcp     0      0 0.0.0.0:3790        0.0.0.0:*               LISTEN      7550/nginx.conf \ntcp     0      0 127.0.1.1:53        0.0.0.0:*               LISTEN      1271/dnsmasq    \ntcp     0      0 127.0.0.1:631       0.0.0.0:*               LISTEN      24202/cupsd \n</code></pre>\n\n<p>Next step in process is to put data which is loaded from file into array and then in hash, making it sortable by rows, for example sorting output to find out all information which belongs specific port number.</p>\n\n<p>My question is: What is proper way to load this data into array and then hash to make it accessible and sortable for the output?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 1, "last_activity_date": 1430178009, "creation_date": 1430178009, "answer_id": 29907817, "question_id": 29907528, "link": "https://stackoverflow.com/questions/29907528/argument-isnt-numeric-in-array-element/29907817#29907817", "title": "Argument &quot;*&quot; isn&#39;t numeric in array element", "body": "<p>An index to an array <code>[]</code> should be numeric, but <code>$key</code> is not numeric.  Assuming you want all the white-space-separated tokens as elements of your array:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $seq;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @line = split;\n    my $key = $line[0] . \"_\" . $line[1]; #try to make a unique key for each entry\n    $seq-&gt;{$key} = [ @line ];\n}\n\nforeach my $s ( keys %{$seq} ) {\n    print $s, \": \", join( \"\\t\", @{ $seq-&gt;{$s} } ) . \"\\n\";\n}\n\n__DATA__\nxx500173:56QWER  45   A    rtt34  34C\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>xx500173:56QWER_45: xx500173:56QWER     45      A       rtt34   34C\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1430178524, "creation_date": 1430178524, "answer_id": 29907888, "question_id": 29907528, "link": "https://stackoverflow.com/questions/29907528/argument-isnt-numeric-in-array-element/29907888#29907888", "title": "Argument &quot;*&quot; isn&#39;t numeric in array element", "body": "<p>You have confused yourself with the line</p>\n\n<pre><code>map { $seq-&gt;{ $_-&gt;[$key] } = [@$_[0..4]] } [ split/\\s+/ ];\n</code></pre>\n\n<p>which is wrong because</p>\n\n<ul>\n<li><p><code>map</code> is an operator for translating one list into another by performing the same operation on every element of the input list, but you are ignoring the returned value</p></li>\n<li><p>The input list is only one item long - the array reference returned by <code>[ split/\\s+/ ]</code></p></li>\n</ul>\n\n<p>What you have written is the same as</p>\n\n<pre><code>$_ = [ split /\\s+/ ];\n$seq-&gt;{ $_-&gt;[$key] } = [ @$_[0..4] ];\n</code></pre>\n\n<p>and the problem is that <code>$_-&gt;[$key]</code> tries to index the anonymous array using the string <code>$key</code>, which is clearly wrong.</p>\n\n<p>All you need here is</p>\n\n<pre><code>$seq-&gt;{$key} = [ @line[0..4] ];\n</code></pre>\n\n<p>and your complete program should look like this</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $seq;\n\nwhile ( &lt;&gt; ) {\n  chomp;\n  my @line = split;\n\n  $seq-&gt;{\"$line[0]_$line[1]\"} = [ @line[0..4] ];\n}\n\nfor my $s ( keys %{$seq} ) {\n  printf \"%s: %s\\n\", $s, join(\"\\t\", @{ $seq-&gt;{$s} } );\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 4802670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1634092460145782/picture?type=large", "display_name": "Tahmtan Ebrahimi", "link": "https://stackoverflow.com/users/4802670/tahmtan-ebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "accepted_answer_id": 29907817, "answer_count": 2, "score": 1, "last_activity_date": 1430178524, "creation_date": 1430176096, "last_edit_date": 1430178362, "question_id": 29907528, "link": "https://stackoverflow.com/questions/29907528/argument-isnt-numeric-in-array-element", "title": "Argument &quot;*&quot; isn&#39;t numeric in array element", "body": "<p>I want to make a hash of array from a file that looks like:</p>\n\n<pre><code>xx500173:56QWER  45   A    rtt34  34C\n...\n</code></pre>\n\n<p>I would like to have a unique \"key\" (e.g. column1_column2)</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\n\nmy $seq;\nwhile(&lt;&gt;){\nchomp;\nmy @line = split(/\\s+/, $_);\n\nmy $key = $line[0] . \"_\" . $line[1]; #try to make a unique key for each entry\n\nmap { $seq-&gt;{ $_-&gt;[$key] } = [@$_[0..4]] } [ split/\\s+/ ];\n}\n\nforeach my $s (keys %{$seq} ) {\nprint $s,\": \",join( \"\\t\", @{ $seq-&gt;{$s}} ) . \"\\n\";\n}\n</code></pre>\n\n<p>but I get the following error:</p>\n\n<pre><code>Argument \"xx500173:56QWER_45\" isn't numeric in array element\n</code></pre>\n\n<p>Does is it matter if key is numeric or string? </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "edited": false, "score": 0, "creation_date": 1430174887, "post_id": 29907254, "comment_id": 47937091, "body": "Which version of Perl are you using?  My 5.10 says: [sshi052@lstappdev01 ~]$ perl -pe &#39;s/FINDME/SOMETHING<code>cat rep.txt</code>/ge&#39; in.txt Backticks found where operator expected at -e line 1, near &quot;SOMETHING<code>cat rep.txt</code>&quot; syntax error at -e line 1, near &quot;SOMETHING<code>cat rep.txt</code>&quot; syntax error at -e line 1, near &quot;s/FINDME/SOMETHING<code>cat rep.txt</code>/ge&quot; Execution of -e aborted due to compilation errors."}, {"owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "edited": false, "score": 0, "creation_date": 1430174980, "post_id": 29907254, "comment_id": 47937129, "body": "Also, the &#39;s/SOMETHING/&lt;ELSE/ge&#39; works fine for me.  You may have an older Perl version?  Try &#39;s/SOMETHING/\\&lt;ELSE/ge&#39; (with a backstroke to escape the &#39;&lt;&#39;)"}, {"owner": {"reputation": 1108, "user_id": 2240695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ff36b77811d1f315c0eb0325712761d8?s=128&d=identicon&r=PG", "display_name": "jvilhena", "link": "https://stackoverflow.com/users/2240695/jvilhena"}, "reply_to_user": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "edited": false, "score": 0, "creation_date": 1430175270, "post_id": 29907254, "comment_id": 47937218, "body": "Thanks for the comments. My installed version is v5.18.2. I did try escaping the &lt; with backstroke, but got the same error."}, {"owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "edited": false, "score": 0, "creation_date": 1430175529, "post_id": 29907254, "comment_id": 47937303, "body": "See my answer below... and while /&lt;ELSE/ worked for me without error, it didnt actually do the replace, because of course &lt;ELSE evaluates to null string...."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "edited": false, "score": 0, "creation_date": 1430179429, "post_id": 29907254, "comment_id": 47938471, "body": "@SteveShipway: I don&#39;t know how you got <code>s&#47;SOMETHING&#47;&lt;ELSE&#47;ge</code> to run without complaint as <code>&lt;ELSE</code> isn&#39;t a valid Perl expression. I also don&#39;t see why it <i>&#39;of course&#39;</i> evaluates to a null string, and even if it did it the substitution should replace <code>SOMETHING</code> with that null string. I think you can&#39;t have been running the code you thought you were"}, {"owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430267223, "post_id": 29907254, "comment_id": 47986786, "body": "@Borodin - Looking back on what I wrote I&#39;m not sure what I was doing either.  Possibly &#39;s/SOMETHING/&lt;ELSE&gt;/ge&#39; which runs and evaluates to null.  The final answer I gave below is coherent and correct, though :)"}], "answers": [{"tags": [], "owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "is_accepted": true, "score": 1, "last_activity_date": 1430175784, "last_edit_date": 1430175784, "creation_date": 1430175406, "answer_id": 29907399, "question_id": 29907254, "link": "https://stackoverflow.com/questions/29907254/perl-one-liner-to-replace-part-of-file-with-other-file/29907399#29907399", "title": "perl one liner to replace part of file with other file", "body": "<p>The problem is that you are using the <code>e</code> modifier to the regexp, which means to eval{} (or in other words, execute) the replacement string as a code snippet, but you are treating it like a shell replacement.  The <code>e</code> modifier expects CODE, not TEXT.</p>\n\n<p>So, a normal (global) replace would use:</p>\n\n<pre><code>s/FINDME/REPLACE/g\n</code></pre>\n\n<p>... and this is fine.  However, when you use an <code>e</code> flag, the replacement is run as code.  Thus:</p>\n\n<pre><code>s/FINDME/`cat foo.txt`/ge;\n</code></pre>\n\n<p>... is equivalent to ...</p>\n\n<pre><code>$replace = `cat foo.txt`;\ns/FINDME/$replace/g;\n</code></pre>\n\n<p>So, you can see how this:</p>\n\n<pre><code>s/FINDME/SOMETHING`cat foo.txt`/ge;\n</code></pre>\n\n<p>... is equivalent to...</p>\n\n<pre><code>$replace = SOMETHING`cat foo.txt`;\ns/FINDME/$replace/g;\n</code></pre>\n\n<p>... and this is clearly a syntax error.  Try this way instead:</p>\n\n<pre><code>s/FINDME/\"SOMETHING\".`cat foo.txt`/ge;\n</code></pre>\n\n<p>and you will find that it works, because this is valid code:</p>\n\n<pre><code>$replace = \"SOMETHING\".`cat foo.txt`;\n</code></pre>\n\n<p>( You can of course put even more complex things in there; since what is going on behind the scenes is an eval{}, your code is actually doing this:</p>\n\n<pre><code>eval { \"SOMETHING\".`cat foo.txt`; }\ns/FINDME/$_/g;\n</code></pre>\n\n<p>however I'm simplifying for ease of comprehension :-)</p>\n"}], "owner": {"reputation": 1108, "user_id": 2240695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ff36b77811d1f315c0eb0325712761d8?s=128&d=identicon&r=PG", "display_name": "jvilhena", "link": "https://stackoverflow.com/users/2240695/jvilhena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 29907399, "answer_count": 1, "score": 1, "last_activity_date": 1430175784, "creation_date": 1430174602, "question_id": 29907254, "link": "https://stackoverflow.com/questions/29907254/perl-one-liner-to-replace-part-of-file-with-other-file", "title": "perl one liner to replace part of file with other file", "body": "<p>I'm having problems with this one liner:</p>\n\n<pre><code>perl -pe 's/FINDME/`cat rep.txt`/ge' in.txt\n</code></pre>\n\n<p>If i use it exactly like this, it works, but I also want to add some text before and after the replaced content:</p>\n\n<pre><code>perl -pe 's/FINDME/SOMETHING1`cat rep.txt`SOMETHING2/ge' in.txt\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>syntax error at -e line 1, near \"SOMETHING1`cat rep.txt`\"\n</code></pre>\n\n<p>Shouldn't the output of the command be treated like a string?</p>\n\n<p>Adicionally, I'm also confused by the fact I can't replace to something with the character &lt;</p>\n\n<pre><code>perl -pe 's/SOMETHING/&lt;SOMETHINGELSE/ge' in.txt\nUnterminated &lt;&gt; operator at -e line 1.\n</code></pre>\n\n<p>Escaping the &lt; (\\&lt;) gives me the same error.</p>\n"}, {"tags": ["perl", "separator"], "comments": [{"owner": {"reputation": 545, "user_id": 3277047, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c44f1e5881c211a4bd7065e5bcb6cc0?s=128&d=identicon&r=PG&f=1", "display_name": "a coder", "link": "https://stackoverflow.com/users/3277047/a-coder"}, "edited": false, "score": 0, "creation_date": 1430192050, "post_id": 29907170, "comment_id": 47941847, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/5490321/perl-m-operator-question\">Perl m operator question</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3416, "user_id": 2157668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/864d5df0347f37aa7d3c1c1285a91dd0?s=128&d=identicon&r=PG", "display_name": "olala", "link": "https://stackoverflow.com/users/2157668/olala"}, "edited": false, "score": 1, "creation_date": 1430174429, "post_id": 29907205, "comment_id": 47936943, "body": "Thanks! that makes sense as I got this file from a friend using windows OS... darn, I was so confused.."}, {"owner": {"reputation": 3224, "user_id": 235524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab3deb31710fc68f1bf7e33e70472b17?s=128&d=identicon&r=PG", "display_name": "patrickmdnet", "link": "https://stackoverflow.com/users/235524/patrickmdnet"}, "reply_to_user": {"reputation": 3416, "user_id": 2157668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/864d5df0347f37aa7d3c1c1285a91dd0?s=128&d=identicon&r=PG", "display_name": "olala", "link": "https://stackoverflow.com/users/2157668/olala"}, "edited": false, "score": 1, "creation_date": 1430174614, "post_id": 29907205, "comment_id": 47937001, "body": "If you like the answer feel free to mark it as accepted.  There are several helpful answers on stackoverflow for dealing with line ending issues.  Also look for the dos2unix and unix2dos utilities on your system."}, {"owner": {"reputation": 545, "user_id": 3277047, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c44f1e5881c211a4bd7065e5bcb6cc0?s=128&d=identicon&r=PG&f=1", "display_name": "a coder", "link": "https://stackoverflow.com/users/3277047/a-coder"}, "edited": false, "score": 0, "creation_date": 1430191737, "post_id": 29907205, "comment_id": 47941751, "body": "That could be another answer, but &quot;^m&quot; means &quot;/m Let ^ and $ match next to embedded \\n.&quot; according to the O&#39;Riley book."}], "tags": [], "owner": {"reputation": 3224, "user_id": 235524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab3deb31710fc68f1bf7e33e70472b17?s=128&d=identicon&r=PG", "display_name": "patrickmdnet", "link": "https://stackoverflow.com/users/235524/patrickmdnet"}, "is_accepted": true, "score": 2, "last_activity_date": 1430174317, "creation_date": 1430174317, "answer_id": 29907205, "question_id": 29907170, "link": "https://stackoverflow.com/questions/29907170/what-is-this-field-separator-m/29907205#29907205", "title": "What is this field separator (^M)?", "body": "<p><code>^M</code> is ASCII character 13, known as a carriage return.  MS-DOS uses a carriage return followed by a line feed (ASCII 10) to mark the end of a line.  Unix systems use a line feed only.  Usually you will \"see\" a carriage return when using an editor that thinks your file is using Unix style line endings but actually has MS-DOS style line endings.</p>\n"}], "owner": {"reputation": 3416, "user_id": 2157668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/864d5df0347f37aa7d3c1c1285a91dd0?s=128&d=identicon&r=PG", "display_name": "olala", "link": "https://stackoverflow.com/users/2157668/olala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 29907205, "answer_count": 1, "score": 3, "last_activity_date": 1430174539, "creation_date": 1430174142, "question_id": 29907170, "link": "https://stackoverflow.com/questions/29907170/what-is-this-field-separator-m", "title": "What is this field separator (^M)?", "body": "<p>I run into this one while trying to parse a text file with Perl. The original file looks like this in vim:\n<img src=\"https://i.stack.imgur.com/Km1Jw.png\" alt=\"enter image description here\"></p>\n\n<p>When I tried to print the 2nd column (87 here), somehow, the ^M showed up in vim:\n<img src=\"https://i.stack.imgur.com/L8I6S.png\" alt=\"enter image description here\"></p>\n\n<p>I'm just curious what this \"^M\" is? Does anyone know? Thanks!</p>\n"}, {"tags": ["perl", "file", "warnings"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1430169148, "post_id": 29905969, "comment_id": 47934761, "body": "1. Can&#39;t reproduce. 2. Why is adding 6 chars such a hardship? You can practically make it up by changing <code>foreach</code> to <code>for</code>."}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1430169843, "post_id": 29905969, "comment_id": 47935098, "body": "I can&#39;t reproduce it either (using perl 5.20.2). Does the problem still occur if <code>-w</code> is removed from the shebang and replaced with <code>use warnings;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430169883, "post_id": 29905969, "comment_id": 47935119, "body": "What version is your Perl interpreter? <code>perl -v</code>"}, {"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430170359, "post_id": 29905969, "comment_id": 47935328, "body": "@ikegami 2. It&#39;s no hardship, it&#39;s just that that I&#39;m used to the old way. Moreover, <code>FILE</code> is pretty obviously a FILE and it&#39;s a nicely identifier."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1430170400, "post_id": 29905969, "comment_id": 47935352, "body": "Assuming I agree with you that <code>FILE</code> is obviously a file handle, <code>$FILE</code> would be just as obvious."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1430170530, "post_id": 29905969, "comment_id": 47935406, "body": "I can reproduce this on 5.10.1."}, {"owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430229346, "post_id": 29905969, "comment_id": 47964437, "body": "@ikegami You&#39;re right... for whatever reason I saw there a difference, but it&#39;s really just those 6 more chars. It&#39;s perfectly simple and logical... my bad and thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 10, "last_activity_date": 1430170474, "last_edit_date": 1592644375, "creation_date": 1430170474, "answer_id": 29906365, "question_id": 29905969, "link": "https://stackoverflow.com/questions/29905969/perl-wrongly-complaining-about-name-mainfile-used-only-once/29906365#29906365", "title": "Perl wrongly complaining about Name &quot;main::FILE&quot; used only once", "body": "<p>According to the <a href=\"https://metacpan.org/pod/autodie#BUGS\" rel=\"noreferrer\">documentation</a> for <code>autodie</code>:</p>\n<blockquote>\n<p>BUGS</p>\n<p>&quot;Used only once&quot; warnings can be generated when autodie or Fatal is used with package filehandles (eg, FILE ). Scalar filehandles are strongly recommended instead.</p>\n</blockquote>\n<p>I get the warning on Perl 5.10.1, but not 5.16.3, so there may be something else going on as well.</p>\n"}], "owner": {"reputation": 40731, "user_id": 581205, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2be517e3b51c48a1c514627a87a1dd53?s=128&d=identicon&r=PG&f=1", "display_name": "maaartinus", "link": "https://stackoverflow.com/users/581205/maaartinus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 1, "accepted_answer_id": 29906365, "answer_count": 1, "score": 3, "last_activity_date": 1430171004, "creation_date": 1430168973, "last_edit_date": 1430171004, "question_id": 29905969, "link": "https://stackoverflow.com/questions/29905969/perl-wrongly-complaining-about-name-mainfile-used-only-once", "title": "Perl wrongly complaining about Name &quot;main::FILE&quot; used only once", "body": "<p>I simplified my program to the following trivial snippet and I'm still getting the message</p>\n\n<blockquote>\n  <p>Name \"main::FILE\" used only once: possible typo...</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse autodie qw(open close);\n\nforeach my $f (@ARGV) {\n    local $/;\n    open FILE, \"&lt;\", $f;\n    local $_ = &lt;FILE&gt;; # &lt;--- HERE\n    close FILE;\n    print $_;\n}\n</code></pre>\n\n<p>which obviously isn't true as it gets used three times. For whatever reason, only the marked occurrence counts.</p>\n\n<p>I am aware about nicer ways to open a file (using a $filehandle), but it doesn't pay for short script, does it? So how can I get rid of the wrong warning?</p>\n"}, {"tags": ["perl", "awk"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1430166814, "post_id": 29905069, "comment_id": 47933505, "body": "1. What does it do? Don&#39;t expect the people able that can help you with your Perl problem to know <code>awk</code>. 2. Which of things it does are you having a problem implementing in Perl?"}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 0, "creation_date": 1430167163, "post_id": 29905069, "comment_id": 47933706, "body": "<a href=\"http://perldoc.perl.org/a2p.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/a2p.html</a>"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1430170793, "post_id": 29905069, "comment_id": 47935531, "body": "Having the headline of the question, what about <code>mv &#47;usr&#47;bin&#47;perl &#47;usr&#47;bin&#47;awk</code> ?:D"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1430171066, "post_id": 29905069, "comment_id": 47935655, "body": "When you literally translate the French term of endearment <code>mon chou</code> to English you get <code>my cabbage</code> which would be an insult. Similarly if you literally translate that awk statement to perl you may get something that you would never write in perl (actually you would never even write that in idiomatic awk to begin with). So are you looking for a literal translation or an idiomatic one? Why? Post sample input and expected output either way."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1430167269, "creation_date": 1430167269, "answer_id": 29905549, "question_id": 29905069, "link": "https://stackoverflow.com/questions/29905069/converting-awk-to-perl/29905549#29905549", "title": "Converting AWK to Perl", "body": "<pre><code>#!/usr/bin/perl        \n\nuse strict;\nuse warnings;\n\nwhile (1) {\n   my ($user, $uid) = ( getpwent() )[0,2]\n      or last;\n\n   print(\"$user\\n\")\n      if $uid &gt;= 1_000 &amp;&amp; $uid &lt; 30_000;\n}\n\nendpwent();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1430170543, "creation_date": 1430170543, "answer_id": 29906383, "question_id": 29905069, "link": "https://stackoverflow.com/questions/29905069/converting-awk-to-perl/29906383#29906383", "title": "Converting AWK to Perl", "body": "<p>The literal equivalent is like this</p>\n\n<pre><code>perl -aF: -ne'print \"$F[0]\\n\" if $F[2] &gt; 999 and $F[2] &lt; 30_000' /etc/passwd\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4839325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58a1a67e2a26dc42ee6fd414b225e3c?s=128&d=identicon&r=PG&f=1", "display_name": "Grecfest", "link": "https://stackoverflow.com/users/4839325/grecfest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1430305501, "creation_date": 1430165538, "last_edit_date": 1430305501, "question_id": 29905069, "link": "https://stackoverflow.com/questions/29905069/converting-awk-to-perl", "title": "Converting AWK to Perl", "body": "<p>I'm having trouble figuring how to convert this simple AWK command to Perl</p>\n\n<pre><code>awk -F: '{if($3 &gt; 999 &amp;&amp; $3 &lt; 30000){ print $1}}' /etc/passwd\n</code></pre>\n\n<p>Thoughts?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1430165251, "post_id": 29904811, "comment_id": 47932628, "body": "You have given 2 different requirements for what to print.  At one spot you say the line <b>after</b> the match.  In another spot, you say the line <b>before</b>.  Which is it?"}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430165348, "post_id": 29904811, "comment_id": 47932677, "body": "The line of the match, and the line following the match"}], "answers": [{"comments": [{"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430167069, "post_id": 29905242, "comment_id": 47933652, "body": "I wanted to import the numbers file into an array or list. Then search for each number in the user_data file. When found print the line and the following line."}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430167333, "post_id": 29905242, "comment_id": 47933808, "body": "I tried your example but its not returning anything. code: <a href=\"http://pastebin.com/ec9j8Shg\" rel=\"nofollow noreferrer\">pastebin.com/ec9j8Shg</a>"}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "reply_to_user": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430167444, "post_id": 29905242, "comment_id": 47933873, "body": "@AndrewTaylor I assumed that the important part was to print the numbers that matched and the following lines (which this does).  Do you <b>really</b> need to load the users_data into an array?"}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "reply_to_user": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430167631, "post_id": 29905242, "comment_id": 47933957, "body": "@AndrewTaylor Can you edit your question to include a couple of lines of each of the files so I can see how it is formatted.  If you aren&#39;t getting anything, then there is a formatting mismatch which is causing <code>defined($users_data{$_})</code> to fail that we need to deal with."}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "reply_to_user": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430167683, "post_id": 29905242, "comment_id": 47933985, "body": "@AndrewTaylor BTW, do you have <code>use warnings;</code> in your script?  Are you getting any warnings?"}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430168703, "post_id": 29905242, "comment_id": 47934529, "body": "Degustaf, no it does not need to be an array. Basically I want to search the users file for the number and list its ip address contained on the second line."}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "reply_to_user": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430169193, "post_id": 29905242, "comment_id": 47934782, "body": "@AndrewTaylor I edited the code to handle the format of the files."}, {"owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "edited": false, "score": 0, "creation_date": 1430172285, "post_id": 29905242, "comment_id": 47936176, "body": "Degustaf, thank you for your time. However, It&#39;s still not returning anything. I have pasted the entire code of the script into this pastebin: <a href=\"http://pastebin.com/g0QHu8fR\" rel=\"nofollow noreferrer\">pastebin.com/g0QHu8fR</a> . The phone numbers are basic 10 digit numbers one on each line. The users file is formatted like this pastebin: <a href=\"http://pastebin.com/5rjJ4EtY\" rel=\"nofollow noreferrer\">pastebin.com/5rjJ4EtY</a>"}], "tags": [], "owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "is_accepted": true, "score": 0, "last_activity_date": 1430174679, "last_edit_date": 1430174679, "creation_date": 1430166181, "answer_id": 29905242, "question_id": 29904811, "link": "https://stackoverflow.com/questions/29904811/take-an-array-of-phone-numbers-and-search-another-array-for-each-occurrence-of-s/29905242#29905242", "title": "Take an array of phone numbers and search another array for each occurrence of said number and print that matching line and the following line", "body": "<p>You are recreating a search for a key when perl has a built-in hash data type that will handle this better and faster than rolling your own.  Using this will take a little more work in reading in the data, but it will be worth it.</p>\n\n<p>First, lets switch to a modern version of <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">open</a> where we use a lexically scoped variable for the file handle, and specify a mode.</p>\n\n<pre><code>open (my $results, \"&lt;\", $users_file) or die \"Unable to open file: $users_file\\n$!\";\n</code></pre>\n\n<p>From there, we will read the file open line at a time and populate the hash.</p>\n\n<pre><code>my (%users_data, $number, $number_line);\nwhile(&lt;$results&gt;)\n{\n    chomp;\n    if(defined($number))\n    {\n        $user_data{$number} = \"$number_line\\t$_\\n\";    #load the line after the number into the hash value.\n        undef $number;\n    }else\n    {\n        if(/^(\\d+)\\@/)     #match digits between the beginning of the line and the @ symbol.\n        {\n            $number = $1;    #save matched digits from $1.\n            $number_line = $_;\n    }\n}\n</code></pre>\n\n<p>Note that this is assuming that the data is well formated.  If there are concerns, you can test for proper formatting in the else clause.</p>\n\n<p>Now, for the output we can use the following</p>\n\n<pre><code>for (@numbers)\n{\n    chomp;    #since we didn't remove newlines when populating @numbers\n    if( defined($users_data{$_}) )\n    {\n        print $users_data{$_};\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is a working version.  Note <code>use strict</code> and <code>use warnings</code> helped to catch that one variables was declared (<code>RESULTS</code> and <code>%users_file</code>) while another was used later (<code>NUMBER_RESULTS</code> and <code>%user_file</code>), which is why those are so important.  Also <code>Data::Dumper</code> was used to print out the contents of the array <code>@numbers</code> and the hash <code>%users_data</code> to see what data actually made it into the data structures.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n#use Data::Dumper;\n\nmy $users_file = \"users\";\nmy $numbers_file = \"numbers.txt\";\n\n#### Place phone number into an array ####\nopen (my $results, \"&lt;\", $numbers_file) or die \"Unable to open file: $numbers_file\\n$!\";\nmy @numbers;\n@numbers = &lt;$results&gt;;\nclose($results);\n#print Dumper \\@numbers;\n\nopen (my $results, \"&lt;\", $users_file) or die \"Unable to open file: $users_file\\n$!\";\nmy (%users_data, $number, $number_line);\nwhile(&lt;$results&gt;)\n{\n    chomp;\n    if(defined($number))\n    {\n        $users_data{$number} = $number_line.\"\\n$_\\n\";    #load the line after the number into the hash value.\n        undef $number;\n    }else\n    {\n        if(/^(\\d+)\\@/)     #match digits between the beginning of the line and the @ symbol.\n        {\n            $number = $1;    #save matched digits from $1.\n            $number_line = $_;\n        }\n    }\n}\n#print Dumper \\%users_data;\n\nfor (@numbers)\n{\n    chomp;    #since we didn't remove newlines when populating @numbers\n    if( defined($users_data{$_}) )\n    {\n        print $users_data{$_};\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29905242, "answer_count": 1, "score": 0, "last_activity_date": 1430174679, "creation_date": 1430164641, "last_edit_date": 1430170201, "question_id": 29904811, "link": "https://stackoverflow.com/questions/29904811/take-an-array-of-phone-numbers-and-search-another-array-for-each-occurrence-of-s", "title": "Take an array of phone numbers and search another array for each occurrence of said number and print that matching line and the following line", "body": "<p>I have two text files. I'm importing each file into an array. Each value in the numbers array should search the users array for its match. If found echo the matching line and the proceeding line.</p>\n\n<p>So, if the first entry in the numbers array is 1234, search users array for 1234. If found print that line and the next. </p>\n\n<p>numbers.txt looks like:</p>\n\n<pre><code>1234567021\n1234566792\n</code></pre>\n\n<p>users filelooks like:</p>\n\n<pre><code>1234567021@host.com User-Password == \"secret\"\n           Framed-IP-Address = 000.000.000.000,\n</code></pre>\n\n<p>What I have so far:</p>\n\n<pre><code>use strict;\n\nmy $users_file = \"users\";\nmy $numbers_file = \"numbers.txt\";\nmy $phonenumber;\nmy $numbers;\n\n\n#### Place phone number into an array ####\nopen (RESULTS, $numbers_file) or die \"Unable to open file: $users_file\\n$!\";\nmy @numbers;\n@numbers = &lt;NUMBER_RESULTS&gt;;\nclose(NUMBER_RESULTS);\n\n#### Place users file contents into an array ####\nopen (RESULTS, $users_file) or die \"Unable to open file: $users_file\\n$!\";\nmy @users_data;\n@users_data = &lt;RESULTS&gt;;\nclose(RESULTS);\n\n\n#### Search the array for the string ####\nforeach $numbers(@users_data) {\n    if (index($numbers,$phonenumber) ge 0) {\n  my @list = grep /\\b$numbers\\b/, @users_data;\n  chomp @list;\n  print \"$_\\n\" foreach @list;\n    }\n}\n\n\nexit 1;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "file", "hash"], "comments": [{"owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "edited": false, "score": 1, "creation_date": 1430163243, "post_id": 29904287, "comment_id": 47931468, "body": "What sort of &#39;automatically generated values&#39; do you mean? Just a number like you would get with <code>$counter++</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "reply_to_user": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "edited": false, "score": 0, "creation_date": 1430163515, "post_id": 29904287, "comment_id": 47931613, "body": "@ASCIIThenANSI Yes, just a simple $counter++ which increases with each line. This <code>$counter</code> also should be a value for keys in my hash which are represented as letter: <code>key -&gt; a, value -&gt; 1, key - &gt; b, value -&gt; 2</code>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430165771, "post_id": 29904651, "comment_id": 47932915, "body": "Oh, that was a tricky one. Thanks for your answer, first solution solved my problem."}], "tags": [], "owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "is_accepted": true, "score": 4, "last_activity_date": 1430166606, "last_edit_date": 1430166606, "creation_date": 1430164061, "answer_id": 29904651, "question_id": 29904287, "link": "https://stackoverflow.com/questions/29904287/perl-load-file-into-hash/29904651#29904651", "title": "Perl: Load file into hash", "body": "<p>There are a number of ways to approach this.  The most direct would be to load the data into the hash as you read through the file.</p>\n\n<pre><code>my %hash;\nwhile(&lt;&gt;)\n{\n    chomp;\n    $hash{$_} = $.;    #Use the line number as your autogenerated counter.\n}\n</code></pre>\n\n<p>You can also perform simliar logic if you already have a populated array.</p>\n\n<pre><code>for (0..$#array)\n{\n    $hash{$array[$_]} = $_;\n}\n</code></pre>\n\n<p>Although, if you are in that situation, <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">map</a> is the perlier way of doing things.</p>\n\n<pre><code>%hash = map { $array[$_] =&gt; $_ } @array;\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430166087, "post_id": 29904731, "comment_id": 47933104, "body": "This is one of many solutions to my problem, thank for your answer, I will keep it for my further problems and tasks!"}], "tags": [], "owner": {"reputation": 758, "user_id": 4086509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmXxF.png?s=128&g=1", "display_name": "Sue D. Nymme", "link": "https://stackoverflow.com/users/4086509/sue-d-nymme"}, "is_accepted": false, "score": 2, "last_activity_date": 1430164355, "creation_date": 1430164355, "answer_id": 29904731, "question_id": 29904287, "link": "https://stackoverflow.com/questions/29904287/perl-load-file-into-hash/29904731#29904731", "title": "Perl: Load file into hash", "body": "<p>Think of a hash as a set of pairs (key, value), where the keys must be unique. You want to read the file one line at a time, and add a pair to the hash:</p>\n\n<pre><code>$record = &lt;$file_handle&gt;;\n$hash{$record} = $counter++;\n</code></pre>\n\n<p>Of course, you could read the entire file into an array at once and then assign to your hash. But the solution is not:</p>\n\n<pre><code>@records = &lt;$file_handle&gt;;\n%hash = @records;\n</code></pre>\n\n<p>... as you found out. If you think in terms of (key, value) pairs, you will see that the above is equivalent to:</p>\n\n<pre><code>$hash{a} = 'b';\n$hash{c} = 'd';\n$hash{e} = 'f';\n...\n</code></pre>\n\n<p>and so on.  You still are going to need a loop, either an explicit one like this:</p>\n\n<pre><code>foreach my $rec (@records)\n{\n    $hash{$rec} = $counter++;\n}\n</code></pre>\n\n<p>or an implicit one like one of these:</p>\n\n<pre><code>%hash = map {$_ =&gt; $counter++} @records;\n# or:\n$hash{$_} = $counter++  for @records;\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "edited": false, "score": 0, "creation_date": 1430165902, "post_id": 29904910, "comment_id": 47933002, "body": "This solution looks great, thank you for your answer."}, {"owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "edited": false, "score": 0, "creation_date": 1430166017, "post_id": 29904910, "comment_id": 47933063, "body": "@MagomedSegaIsmailov No problem! Glad to help."}], "tags": [], "owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "is_accepted": false, "score": 2, "last_activity_date": 1430164926, "creation_date": 1430164926, "answer_id": 29904910, "question_id": 29904287, "link": "https://stackoverflow.com/questions/29904287/perl-load-file-into-hash/29904910#29904910", "title": "Perl: Load file into hash", "body": "<p>This code should generate the proper output, where <code>my-text-file</code> is the path to your data file:</p>\n\n<pre><code>my %hash;\nmy $counter = 0;\nopen(FILE, \"my-text-file\");\nwhile (&lt;FILE&gt;) {\n chomp;\n $counter++;\n $hash{$_} = $counter;\n}\n# Now to sort\nforeach $key (sort(keys(%hash))) {\n print $key . \":\" . $hash{$key} . \"\\n\";\n}\n</code></pre>\n\n<p>I assume you want to sort the hash aplhabetically. <code>keys(%hash)</code> and <code>values(%hash)</code> return the keys and values of <code>%hash</code> as an array, respectively. Run the program on this file:</p>\n\n<pre><code>f\na\nb\nd\ne\nc\n</code></pre>\n\n<p>And we get:</p>\n\n<pre><code>a:2\nb:3\nc:6\nd:4\ne:5\nf:1\n</code></pre>\n\n<p>I hope this helps you.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4839151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5046, "favorite_count": 0, "accepted_answer_id": 29904651, "answer_count": 3, "score": 3, "last_activity_date": 1430166606, "creation_date": 1430162795, "question_id": 29904287, "link": "https://stackoverflow.com/questions/29904287/perl-load-file-into-hash", "title": "Perl: Load file into hash", "body": "<p>I'm struggling to understand logic behind hashes in Perl. Task is to load file in to hash and assign values to keys which are created using this file. </p>\n\n<p>File contains alphabet with each letter on its own line:</p>\n\n<pre><code>a\nb\nc\nd\ne\n</code></pre>\n\n<p>and etc,.\nWhen using <strong>array</strong> instead of hash, logic is simple: load file into array and then print each element with corresponding number using some counter ($counter++).</p>\n\n<p>But now my question is, how can I read file into my hash, assign automatically generated values and sort it in that way where output is printed like this:</p>\n\n<pre><code>a:1\nb:2\nc:3\n</code></pre>\n\n<p>I've  tried to first create array and then link it to hash using </p>\n\n<pre><code>%hash = @array\n</code></pre>\n\n<p>but it makes my hash non-sortable.</p>\n"}, {"tags": ["macos", "bash", "perl", "terminal"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1430162833, "post_id": 29904233, "comment_id": 47931230, "body": "That error isn&#39;t complaining about <code>32bitSafePerl</code> it is complaining about the value of <code>$interpreter</code> not existing when <code>32bitSafePerl</code> tries to run it. Run <code>&#47;bin&#47;bash -x &#47;usr&#47;local&#47;bin&#47;32bitSafePerl</code> and see what binary it is trying to run when it fails."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430162842, "post_id": 29904233, "comment_id": 47931239, "body": "What does <code>$interpreter</code> contain? From the two colons in the error message, something is blank that shouldn&#39;t be"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1430163206, "post_id": 29904233, "comment_id": 47931453, "body": "Check the value of <code>$interpreter</code> and <code>$command</code>.  There is an <code>if</code> with a bunch of <code>elif</code>&#39;s, but no <code>else</code> - that is asking for trouble.  For example, what happens if <code>version_major</code> was 8?"}], "answers": [{"comments": [{"owner": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "edited": false, "score": 0, "creation_date": 1430164152, "post_id": 29904387, "comment_id": 47931972, "body": "Thanks, I changed the first condition to <code>[ ($version_major -eq 7) || ($version_major -gt 7) ]</code>. It seems to work. Do you know that if I should run it in 32bit mode or not?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1430163143, "creation_date": 1430163143, "answer_id": 29904387, "question_id": 29904233, "link": "https://stackoverflow.com/questions/29904233/32bitsafeperl-command-not-found/29904387#29904387", "title": "32bitSafePerl: Command not found", "body": "<p>The message indicates that <code>32bitSafePerl</code> cannot execute the program indicated by <code>$interpreter</code> because <code>$interpreter</code> is empty.</p>\n\n<hr>\n\n<p>The value <code>$interpreter</code> is dependent of the value returned by </p>\n\n<pre><code>sw_vers -productVersion | cut -d . -f 2\n</code></pre>\n\n<p>The script only works if the above returns <code>5</code>, <code>6</code>, <code>7</code> or a value less than-than-or-equal to <code>4</code>.</p>\n\n<p>In your case, it returns <code>10</code>, so <code>$interpreter</code> is left empty. You will need to extend the <code>if</code> that starts at line 24 of <code>32bitSafePerl</code>.</p>\n"}], "owner": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 29904387, "answer_count": 1, "score": 0, "last_activity_date": 1430163238, "creation_date": 1430162589, "last_edit_date": 1430163238, "question_id": 29904233, "link": "https://stackoverflow.com/questions/29904233/32bitsafeperl-command-not-found", "title": "32bitSafePerl: Command not found", "body": "<p>When I the <code>with</code> command from this <a href=\"https://github.com/morgant/tools-osx\" rel=\"nofollow\">repository</a>, it should return help as it says in the script; <code>if(!$ARGV[0]) {$help = 1;}</code>. However, terminal returns an error <code>/usr/local/bin/32bitSafePerl: line 69: : command not found</code>. I checked that 32bitSafePerl exists at that location. I didn\u2019t change anything in the script, so why is this error caused?</p>\n\n<p>The line 69 of 32bitSafePerl is <code>\"$interpreter\" \"/tmp/32bitSafePerl/${command}\" \"$@\"</code>. You can find the whole script <a href=\"https://github.com/morgant/tools-osx/blob/master/src/32bitSafePerl\" rel=\"nofollow\">here</a></p>\n"}, {"tags": ["perl", "awk"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "edited": false, "score": 1, "creation_date": 1430162921, "post_id": 29904130, "comment_id": 47931296, "body": "Thats very nice. Thank you :)"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 0, "last_activity_date": 1430162488, "last_edit_date": 1430162488, "creation_date": 1430162178, "answer_id": 29904130, "question_id": 29903905, "link": "https://stackoverflow.com/questions/29903905/percentage-of-each-value-in-a-row-respective-to-first-value/29904130#29904130", "title": "Percentage of each value in a row respective to first value", "body": "<p>Yes, you have zeros in some $1s. You need something like:</p>\n\n<pre><code>$ cat file\n11      6       2       3\n0       5       1       13\n9       3       0       6\n15      7       1       7\n0       6       0       1\n9       3       4       2\n\n$ awk 'BEGIN{CONVFMT=\"%.1f\"} {for (i=2;i&lt;=NF;i++) $i=($1==0?\"NaN\":$i*100/$1)} 1' file\n11 54.5 18.2 27.3\n0 NaN NaN NaN\n9 33.3 0 66.7\n15 46.7 6.7 46.7\n0 NaN NaN NaN\n9 33.3 44.4 22.2\n</code></pre>\n\n<p>Replace \"NaN\" with whatever else you want displayed when $1 is zero if you don't like \"NaN\" (you should have included that case in your sample input).</p>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1430162776, "post_id": 29904237, "comment_id": 47931201, "body": "@EdMorton tnx for comment."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1430162750, "last_edit_date": 1430162750, "creation_date": 1430162598, "answer_id": 29904237, "question_id": 29903905, "link": "https://stackoverflow.com/questions/29903905/percentage-of-each-value-in-a-row-respective-to-first-value/29904237#29904237", "title": "Percentage of each value in a row respective to first value", "body": "<p>Using perl from command line,</p>\n\n<pre><code>perl -lane 'print join \"\\t\", map $F[0] ? $_*100/$F[0] : \"Nan\", @F[1..$#F]' file\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4622104, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2501ff0ebb7051ac7fd44d37cf7f3545?s=128&d=identicon&r=PG&f=1", "display_name": "Bionerd", "link": "https://stackoverflow.com/users/4622104/bionerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 29904130, "answer_count": 2, "score": 0, "last_activity_date": 1430162750, "creation_date": 1430161337, "question_id": 29903905, "link": "https://stackoverflow.com/questions/29903905/percentage-of-each-value-in-a-row-respective-to-first-value", "title": "Percentage of each value in a row respective to first value", "body": "<p>I've a big file which consisting the data in following format.</p>\n\n<pre><code>11      6       2       3\n19      5       1       13\n9       3       0       6\n15      7       1       7\n7       6       0       1\n9       3       4       2\n</code></pre>\n\n<p>I want to calculate percentage of each value of a row starting from 2nd column respective to the first column value. Something like <code>(6/11)*100; (2/11)*100; (3/11)*100</code> for every row in the file.\nExpected output</p>\n\n<pre><code>54.5  18.1 27.2\n26.3  5.2  68.4\n...\n...\n</code></pre>\n\n<p>I've tried in awk,</p>\n\n<pre><code>awk '{a=($2/$1)*100; b=($3/$1)*100; c=($4/$1)*100}END{print a, b, c}'`\n</code></pre>\n\n<p>and the result is <code>awk: cmd. line:1: (FILENAME=try FNR=27) fatal: division by zero attempted</code>. Is that only due to presence of 0 in some of rows or anything wrong with the awk oneliner?</p>\n"}, {"tags": ["html", "perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4288563, "user_type": "registered", "profile_image": "https://graph.facebook.com/822877714/picture?type=large", "display_name": "Wendy Morningstar", "link": "https://stackoverflow.com/users/4288563/wendy-morningstar"}, "edited": false, "score": 0, "creation_date": 1430161650, "post_id": 29903581, "comment_id": 47930571, "body": "Ok, it gives me the celsius/fahrenheit and vice versa buttons correctly, but it still doesn&#39;t show the conversion."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1430162005, "last_edit_date": 1430162005, "creation_date": 1430160164, "answer_id": 29903581, "question_id": 29903437, "link": "https://stackoverflow.com/questions/29903437/temperature-converter-perl/29903581#29903581", "title": "Temperature Converter Perl", "body": "<p>Both of your inputs are named <code>temp</code>. Start by fixing that.</p>\n\n<pre><code>&lt;P&gt;&lt;B&gt;Temperature:&lt;/B&gt; &lt;INPUT TYPE=text NAME=temp&gt;&lt;/P&gt;\n\n&lt;INPUT TYPE=radio NAME=unit Value=fah CHECKED&gt;Fahrenheit to Celsius&lt;BR&gt;\n&lt;INPUT TYPE=radio NAME=unit Value=cel&gt;Celsius to Fahrenheit&lt;BR&gt;\n</code></pre>\n\n<p>Getting the value of the two fields is done using the following:</p>\n\n<pre><code>my $temp = param('temp');  # Grab the temperature\nmy $unit = param('unit');  # \"fah\" or \"cel\"\n</code></pre>\n\n<p>Checking if the temperature is in Celcius is done using the following:</p>\n\n<pre><code>if ($unit eq 'cel') { ... }\n</code></pre>\n\n<p>Finally, you only calculate the converted value <em>after</em> generating the HTML that uses the variable that will be used to store the value. You could simply reverse the order of the calculation and the sub call, but it would be best if you avoided global variables in favour of parameters.</p>\n\n<pre><code>#!/usr/bin/perl\n#c07case1.cgi - Temperature conversion\n\nuse strict;\nuse warnings;\n\nuse CGI qw(:standard);\n\nsub fah {\n    my ($cel, $fah) = @_;\n    print \"&lt;html&gt;\\n\";\n    print \"&lt;head&gt;&lt;title&gt;Conversion to Fahrenheit&lt;/title&gt;&lt;/head&gt;\\n\";\n    print \"&lt;body&gt;\\n\";\n    print \"&lt;h3&gt;Celsius: $cel &lt;/h3&gt;\\n\";\n    print \"&lt;h3&gt;Fahrenheit: $fah &lt;/h3&gt;\\n\";\n    print \"&lt;/body&gt;\\n\";\n    print \"&lt;/html&gt;\\n\";\n}\n\nsub cel {\n    my ($fah, $cel) = @_;\n    print \"&lt;html&gt;\\n\";\n    print \"&lt;head&gt;&lt;title&gt;Conversion to Celcius&lt;/title&gt;&lt;/head&gt;\\n\";\n    print \"&lt;body&gt;\\n\";\n    print \"&lt;h3&gt;Fahrenheit: $fah &lt;/h3&gt;\\n\";\n    print \"&lt;h3&gt;Celsius: $cel &lt;/h3&gt;\\n\";\n    print \"&lt;/body&gt;\\n\";\n    print \"&lt;/html&gt;\\n\";\n}\n\n{\n    print \"Content-type: text/html\\n\\n\";\n\n    my $temp = param('temp');  # Grab the temperature\n    my $unit = param('unit');  # \"fah\" or \"cel\"\n\n    if ($unit eq 'cel') {\n        cel( $temp, ($temp - 32) * 5 / 9 );\n    } else {\n        fah( $temp, $temp * 9 / 5 + 32 );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4288563, "user_type": "registered", "profile_image": "https://graph.facebook.com/822877714/picture?type=large", "display_name": "Wendy Morningstar", "link": "https://stackoverflow.com/users/4288563/wendy-morningstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 29903581, "answer_count": 1, "score": 0, "last_activity_date": 1430162005, "creation_date": 1430159689, "last_edit_date": 1430161843, "question_id": 29903437, "link": "https://stackoverflow.com/questions/29903437/temperature-converter-perl", "title": "Temperature Converter Perl", "body": "<p>I am having trouble with my code. The conversion for both Fahrenheit and Celsius will not display, and when I select \"Celsius to Fahrenheit\", it gives me the conversion for Fahrenheit to Celsius. I'm not sure what I'm doing wrong. I've already searched for help and have gotten nowhere. So any help would be appreciated! Here is the link if it's needed: <a href=\"https://crux.baker.edu/~wmorni01/WEB221_HTML/chapxx/c07case1.html\" rel=\"nofollow\">https://crux.baker.edu/~wmorni01/WEB221_HTML/chapxx/c07case1.html</a></p>\n\n<p>Perl script (revised):</p>\n\n<pre><code>#!/usr/bin/perl\n#c07case1.cgi - Temperature conversion\nprint \"Content-type: text/html\\n\\n\";\nuse CGI qw(:standard);\nuse strict;\n\n#variables\nmy ($temp, $fahConvert, $celConvert);\n$temp = param('temp');\n$unit = param('unit');\n$fahConvert = param('fah');\n$celConvert = param('cel');\n\n#calculate\n    if ($unit eq 'cel') {\n        cel();\n        $celConvert = ($temp - 32) * 5 / 9;\n\n    }\n    else {\n        fah();\n        $fahConvert = $temp * 9 / 5 + 32;\n    }\nsub cel {\n    print \"&lt;html&gt;\\n\";\n    print \"&lt;head&gt;&lt;title&gt;Conversion from Celsius&lt;/title&gt;&lt;/head&gt;\\n\";\n    print \"&lt;body&gt;\\n\";\n    print \"&lt;h3&gt;Celsius: $temp &lt;/h3&gt;\\n\";\n    print \"&lt;h3&gt;Fahrenheit: $fahConvert &lt;/h3&gt;\\n\";\n    print \"&lt;/body&gt;\\n\";\n    print \"&lt;/html&gt;\\n\";\n}\nsub fah {\n    print \"&lt;html&gt;\\n\";\n    print \"&lt;head&gt;&lt;title&gt;Conversion from Fahrenheit&lt;/title&gt;&lt;/head&gt;\\n\";\n    print \"&lt;body&gt;\\n\";\n    print \"&lt;h3&gt;Fahrenheit: $temp &lt;/h3&gt;\\n\";\n    print \"&lt;h3&gt;Celsius: $celConvert &lt;/h3&gt;\\n\";\n    print \"&lt;/body&gt;\\n\";\n    print \"&lt;/html&gt;\\n\";\n}\n</code></pre>\n\n<p>HTML Script (revised):</p>\n\n<pre><code>&lt;!c07case1.html&gt;\n&lt;HTML&gt;\n&lt;HEAD&gt;&lt;TITLE&gt;Washington Middle School&lt;/TITLE&gt;&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;H1&gt;Temperature Converter&lt;/H1&gt;\n&lt;HR&gt;\n&lt;FORM ACTION=\"https://crux.baker.edu/~wmorni01/cgi-bin/chap07_wendy_morningstar/c07case1.cgi\" METHOD=POST&gt;\n&lt;P&gt;&lt;B&gt;Temperature:&lt;/B&gt; &lt;INPUT TYPE=text NAME=temp&gt;&lt;/P&gt;\n\n&lt;INPUT TYPE=radio NAME=unit Value=fah CHECKED&gt;Fahrenheit to Celsius&lt;BR&gt;\n&lt;INPUT TYPE=radio NAME=unit Value=cel&gt;Celsius to Fahrenheit&lt;BR&gt;\n\n&lt;P&gt;&lt;INPUT TYPE=submit VALUE=Convert&gt;&lt;/P&gt;\n&lt;/FORM&gt;&lt;/BODY&gt;&lt;/HTML&gt;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1430157004, "last_edit_date": 1430157004, "creation_date": 1430156679, "answer_id": 29902551, "question_id": 29902518, "link": "https://stackoverflow.com/questions/29902518/what-does-the-x-operator-mean-in-perl/29902551#29902551", "title": "What does the -x operator mean in Perl?", "body": "<p><a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\"><code>-x</code></a> is an operator documented in <a href=\"http://perldoc.perl.org/perlfunc.html\" rel=\"nofollow\">perlfunc</a> under the heading of <code>-X</code>. You can use <code>perldoc -f -x</code>.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#$?\" rel=\"nofollow\"><code>$?</code></a> is variable set by some operators. It is documented along the other special variables in <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a>, and in the <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">operators</a> that set it. You can use <code>perldoc -v '$?'</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 1, "last_activity_date": 1430156685, "creation_date": 1430156685, "answer_id": 29902556, "question_id": 29902518, "link": "https://stackoverflow.com/questions/29902518/what-does-the-x-operator-mean-in-perl/29902556#29902556", "title": "What does the -x operator mean in Perl?", "body": "<p>From <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\"><code>perldoc -f -X</code></a></p>\n\n<blockquote>\n  <p>-x  File is executable by effective uid/gid.</p>\n</blockquote>\n"}], "owner": {"reputation": 3157, "user_id": 1993552, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c77f27d5fb87727d535dc027d3c080d9?s=128&d=identicon&r=PG", "display_name": "injoy", "link": "https://stackoverflow.com/users/1993552/injoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 29902551, "answer_count": 2, "score": 1, "last_activity_date": 1430157004, "creation_date": 1430156533, "last_edit_date": 1430156958, "question_id": 29902518, "link": "https://stackoverflow.com/questions/29902518/what-does-the-x-operator-mean-in-perl", "title": "What does the -x operator mean in Perl?", "body": "<p>I saw something like:</p>\n\n<pre><code>if (-x $program) {\n   system(\"$program\");\n   if ($?) {\n      // do something\n   }\n}\n</code></pre>\n\n<p>What does the -x and $? mean here?</p>\n"}, {"tags": ["perl", "parameters", "arguments"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 7, "creation_date": 1430148217, "post_id": 29899620, "comment_id": 47922138, "body": "You shouldn&#39;t call functions using the <code>&amp;mySub</code> syntax; just use <code>mySub</code>. See <a href=\"http://stackoverflow.com/questions/1347396/when-should-i-use-the-to-call-a-perl-subroutine\">When should I use the &amp; to call a Perl subroutine?</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1430148946, "post_id": 29899620, "comment_id": 47922705, "body": "FYI (and for future googlers, since this seems like a good canonical question), what you&#39;re describing are often called &quot;named parameters&quot; or &quot;named arguments.&quot;"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1430156093, "post_id": 29899620, "comment_id": 47927322, "body": "@ThisSuitIsBlackNot: that question addresses when you should use <code>&amp;</code> and when you absolutely should not.  It and its answers do not support a broad &quot;You shouldn&#39;t call functions using &amp;&quot; edict."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1430156907, "post_id": 29899620, "comment_id": 47927794, "body": "@ysth Perhaps I should have prefaced my comment with &quot;in general.&quot; The vast majority of people who post here using the <code>&amp;</code> syntax think it&#39;s required for all function calls and have no idea what the implications are, so I think saying &quot;don&#39;t do that&quot; and including a link to a more nuanced explanation is sufficient."}], "answers": [{"tags": [], "owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "is_accepted": true, "score": 17, "last_activity_date": 1430148098, "creation_date": 1430148098, "answer_id": 29899732, "question_id": 29899620, "link": "https://stackoverflow.com/questions/29899620/perl-subroutine-arguments-like-a-hash/29899732#29899732", "title": "Perl subroutine arguments like a hash", "body": "<p>Simply assign the input array to a hash:</p>\n\n<pre><code>sub my_sub {\n    my %args = @_;\n    # Work with the %args hash, e.g.\n    print \"arg1: \", $args{arg1};\n}\n</code></pre>\n\n<p>If you want to provide default values, you can use:</p>\n\n<pre><code>sub my_sub {\n    my %args = ( 'arg1' =&gt; 'default arg1',\n                 'arg2' =&gt; 'default arg2',\n                 @_ );\n    # Work with the (possibly default) values in %args\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 250, "user_id": 5223387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f06c37ea87ce8ff09c148ba6220b66?s=128&d=identicon&r=PG", "display_name": "Volodymyr Melnyk", "link": "https://stackoverflow.com/users/5223387/volodymyr-melnyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1451898788, "creation_date": 1451898788, "answer_id": 34587767, "question_id": 29899620, "link": "https://stackoverflow.com/questions/29899620/perl-subroutine-arguments-like-a-hash/34587767#34587767", "title": "Perl subroutine arguments like a hash", "body": "<p>Maybe you'll also find very useful the <a href=\"http://search.cpan.org/~barefoot/Method-Signatures-20141021/lib/Method/Signatures.pm\" rel=\"nofollow\"><code>Method::Signatures</code></a> module, which will allow you to do something like that:</p>\n\n<pre><code>func MySub (Str :$arg1 = 'default arg1', Str :$arg2 = 'default arg2') {\n    print \"arg1: \", $arg1};\n}\n</code></pre>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 29899732, "answer_count": 2, "score": 9, "last_activity_date": 1451898788, "creation_date": 1430147824, "last_edit_date": 1430149014, "question_id": 29899620, "link": "https://stackoverflow.com/questions/29899620/perl-subroutine-arguments-like-a-hash", "title": "Perl subroutine arguments like a hash", "body": "<p>How can I create a subroutine that can parse arguments like this:</p>\n\n<pre><code>&amp;mySub(arg1 =&gt; 'value1', arg2 =&gt; 'value2' ...);\n\nsub mySub() {\n    # what do I need to do here to parse these arguments?\n    # no arguments are required\n}\n</code></pre>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 133, "user_id": 3780853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc44d4eaa2dc45f14f330ff8bcff34a?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Martini", "link": "https://stackoverflow.com/users/3780853/peter-martini"}, "edited": false, "score": 0, "creation_date": 1430148567, "post_id": 29899110, "comment_id": 47922405, "body": "I don&#39;t think I was clear enough - I&#39;m trying to get CPAN to consider multiple versions of the same module to be supported, just like Perl 5.18.4 and 5.20.2 are both considered supported versions of Perl 5 (right now).  That way I can remove all 5.8isms from the active code base while still supporting 5.8 on a less active code base (without changing the module name)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1430155103, "post_id": 29899110, "comment_id": 47926780, "body": "You&#39;ll have to explain a little better. The <code>cpan</code> utility will only install the latest version of any module. If you want an earlier one then you have to manually download, build, test and install it. You could write a wrapper module that loads different worker modules depending on the interpreter version, but they would have to have different names."}, {"owner": {"reputation": 133, "user_id": 3780853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc44d4eaa2dc45f14f330ff8bcff34a?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Martini", "link": "https://stackoverflow.com/users/3780853/peter-martini"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430158337, "post_id": 29899110, "comment_id": 47928578, "body": "I <i>think</i> cpxxxan solves the problem I&#39;m interested in, although I don&#39;t know if there&#39;s a way to make it more contract based.  It&#39;s something I&#39;m a bit nervous to google at work ..."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3780853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc44d4eaa2dc45f14f330ff8bcff34a?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Martini", "link": "https://stackoverflow.com/users/3780853/peter-martini"}, "edited": false, "score": 0, "creation_date": 1430148417, "post_id": 29899347, "comment_id": 47922288, "body": "That&#39;s still one version of the module, it just does different things based on the version; what I&#39;m wondering is if I can publish Module v2.x to CPAN and have perl 5.8.9 use that, while publishing Module v3.x is used by anything newer.  The trick is, how can I get CPAN / cpanm / whatever to maintain the distinction by module version, rather than having my module handle it all?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430151679, "post_id": 29899347, "comment_id": 47924635, "body": "While this may work, it&#39;s wrong to advocate the use of deprecated variables. <code>$^V</code> has been documented as being <i>Deprecated in Perl 5.6</i> ever since perlvar v5.14.0"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430155413, "post_id": 29899347, "comment_id": 47926961, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/76377/discussion-between-borodin-and-ikegami\">continue this discussion in chat</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1430166720, "post_id": 29899347, "comment_id": 47933451, "body": "@Borodin, It was a documentation bug. <code>$]</code> was never deprecated, and is <a href=\"http://perl5.git.perl.org/perl.git/commitdiff/4ad0ecd4c5a81ed8f71804b908656dca23f4867e\" rel=\"nofollow noreferrer\">no longer</a> marked as deprecated."}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1430171375, "post_id": 29899347, "comment_id": 47935794, "body": "Wouldn&#39;t <code>require</code> remove the need for the <code>or die ...</code> clutter?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1430853178, "post_id": 29899347, "comment_id": 48237702, "body": "@Slade, <code>require</code> should only be used with files that specify a <code>package</code>.So there are two options. Either have the files use <code>package The::Module</code>, or use <code>do</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1430166517, "last_edit_date": 1430166517, "creation_date": 1430147121, "answer_id": 29899347, "question_id": 29899110, "link": "https://stackoverflow.com/questions/29899110/how-can-i-write-a-cpan-module-to-support-multiple-perl-versions/29899347#29899347", "title": "How can I write a CPAN module to support multiple Perl versions?", "body": "<p>The problem with having two branches with the same name is that <code>cpan The::Module</code> will needlessly fail for some users (since it will always get the latest version). They would still be able to install the older version of the module, but it would be far more cumbersome. Instead, change the module to</p>\n\n<pre><code>package The::Module;\ndo($] &lt; 5.016 ? 'The/Module/Pre5016.pm' : 'The/Module/5016.pm')\n   or die $@ || $!;\n1;\n</code></pre>\n\n<p>If only limited parts of the module are different, you could simply use</p>\n\n<pre><code>sub _foo_compatible { ... }\n\nsub _foo_fast { ... }\n\n*foo = $] &lt; 5.016 ? \\&amp;_foo_compatible : \\&amp;_foo_fast;\n</code></pre>\n\n<p>This second method has the disadvantage of needing both subs to compile in 5.8 (unless you add <code>eval EXPR</code> to the mix).</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1430150761, "post_id": 29899724, "comment_id": 47924020, "body": "@ikegami: Yes. It&#39;s last in the list of <i>Deprecated and removed variables</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1430156285, "post_id": 29899724, "comment_id": 47927432, "body": "Re &quot;Because v-strings are strings you must compare them with the string comparators&quot;, Not so. In fact, all the examples in the documentation for version objects uses numerical comparison operators. String comparison operators work too, but it&#39;s definitely not required to use them. (&quot;Version objects overload the <code>cmp</code> and <code>&lt;=&gt;</code> operators. Perl automatically generates all of the other comparison operators based on those two so all the normal logical comparisons will work.&quot;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1430166453, "post_id": 29899724, "comment_id": 47933302, "body": "<code>$]</code> wasn&#39;t actually deprecated. It was a documentation bug that has since been <a href=\"http://perl5.git.perl.org/perl.git/commitdiff/4ad0ecd4c5a81ed8f71804b908656dca23f4867e\" rel=\"nofollow noreferrer\">fixed</a>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1430148451, "last_edit_date": 1430148451, "creation_date": 1430148082, "answer_id": 29899724, "question_id": 29899110, "link": "https://stackoverflow.com/questions/29899110/how-can-i-write-a-cpan-module-to-support-multiple-perl-versions/29899724#29899724", "title": "How can I write a CPAN module to support multiple Perl versions?", "body": "<p>The <code>$]</code> variable has been deprecated in favour of <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\">the <code>$^V</code> variable</a> which holds the version of the current Perl interpreter as a <a href=\"https://metacpan.org/pod/version\"><code>version</code></a> object (or <code>undef</code> if the version is earlier than v5.6).</p>\n\n<p>This allows the version to be compared to a <a href=\"http://perldoc.perl.org/perldata.html#Scalar-value-constructors\">version string constant</a> like <code>v5.10</code> which produces a packed string (containing each version ordinal as a character code, so <code>v5.10 eq \"\\x05\\x0A\"</code> is <em>true</em>).</p>\n\n<p>Because v-strings are <em>strings</em> you must compare them with the string comparators <code>lt</code>, <code>le</code>, <code>eq</code>, <code>ge</code> and <code>gt</code>, so you would write something like</p>\n\n<pre><code>use v5.6;\n\nif ( $^V ge v5.10 ) { ... }\n</code></pre>\n\n<p>But I wonder how your code would chnage between different versions of Perl? The majority of the changes are syntactical ones that just offer a nicer way of writing certain constructs. It is usually necessary only to write for the earliest version that you want to support. That used to be v5.8, but v5.10 was a major revision and many people are assuming that as a minimal required version now that it is over seven years old.</p>\n"}], "owner": {"reputation": 133, "user_id": 3780853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc44d4eaa2dc45f14f330ff8bcff34a?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Martini", "link": "https://stackoverflow.com/users/3780853/peter-martini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 29899347, "answer_count": 2, "score": 6, "last_activity_date": 1430166517, "creation_date": 1430146466, "question_id": 29899110, "link": "https://stackoverflow.com/questions/29899110/how-can-i-write-a-cpan-module-to-support-multiple-perl-versions", "title": "How can I write a CPAN module to support multiple Perl versions?", "body": "<p>Let's say I have a module on CPAN and I'd like to upgrade it to use features from newer Perls.  Right now, as I understand it, if I do that I'm putting a line in the sand saying from this version on you can only use my module if you have version X of Perl.</p>\n\n<p>Is there a clean/canonical way to support two different branches of the same module on CPAN?</p>\n\n<p>i.e., the 2.x series would continue to be maintained for versions back to 5.8.x, while 3.x would be for version 5.16+.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "edited": false, "score": 0, "creation_date": 1430142322, "post_id": 29897488, "comment_id": 47917717, "body": "Thanks for that! Greatly reduced the Regex time as that was also an issue"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1430142395, "last_edit_date": 1430142395, "creation_date": 1430142132, "answer_id": 29897488, "question_id": 29897425, "link": "https://stackoverflow.com/questions/29897425/regex-to-match-certain-expressions-and-exclude-a-specific-one/29897488#29897488", "title": "Regex to match certain expressions and exclude a specific one", "body": "<p>How about:</p>\n\n<pre><code>if ( $line =~ m/Disk [1-9]\\d*/ ) {\n</code></pre>\n\n<p>Will match \"Disk 1\", \"Disk 300\", etc. but not \"Disk 0\". </p>\n\n<p>Incidentally - brackets are capture groups. You have those in your regular expression, but don't seem to be using them (So I have omitted them). </p>\n\n<p>Also <code>(\\d+)(\\d+)(\\d+)</code> is 3 occurrences of <em>one or more</em> digits. This is almost certainly not what you actually mean, and it won't work anyway, because the first group will capture all but two of the digits. </p>\n\n<p>e.g.:</p>\n\n<pre><code>my $string = \"123456789\";\nmy @captured = $string =~ m/(\\d+)(\\d+)(\\d+)/;\nprint join (\"\\n\", @captured);\n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>1234567\n8\n9\n</code></pre>\n"}], "owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 29897488, "answer_count": 1, "score": 2, "last_activity_date": 1430161324, "creation_date": 1430141990, "last_edit_date": 1430161324, "question_id": 29897425, "link": "https://stackoverflow.com/questions/29897425/regex-to-match-certain-expressions-and-exclude-a-specific-one", "title": "Regex to match certain expressions and exclude a specific one", "body": "<p>I'm trying to have my perl script search for a specific pattern, but then exclude one possible result. The idea is as follows: </p>\n\n<pre><code>foreach my $line (@lines)\n{\n    if (($line =~ m/  Disk (\\d+)(\\d+)(\\d+)/)\n     || ($line =~ m/  Disk (\\d+)(\\d+)/)\n     || ($line =~ m/  Disk (\\d+)/)\n     &amp;&amp; ($line =~ /^(?:(?!  Disk 0).)*$/)\n    ) {\n        print(\"here\\n\");\n    }\n}\n# if the line contains anything like \"Disk 1\", \"Disk 20\", or \"Disk 300\"\n# it will print \"here\" - but if it is \"Disk 0\" it will not.\n</code></pre>\n\n<p>When I execute the script it gets stuck on this part and never completes the script. Is this the correct syntax?</p>\n\n<p>My regex is probably a bit messy as I'm pretty new to perl syntax so if there is a way to clean up that if statement please let me know, Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1430139712, "post_id": 29896233, "comment_id": 47915619, "body": "Your question is not very clear, post proper input data and output what are you expecting."}, {"owner": {"reputation": 722, "user_id": 3038209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AIqnx.jpg?s=128&g=1", "display_name": "bf2020", "link": "https://stackoverflow.com/users/3038209/bf2020"}, "edited": false, "score": 0, "creation_date": 1430140133, "post_id": 29896233, "comment_id": 47915930, "body": "$1 - see <a href=\"http://stackoverflow.com/questions/7855637/perl-match-only-returning-1-booleans-why\" title=\"perl match only returning 1 booleans why\">stackoverflow.com/questions/7855637/&hellip;</a>    You may need to expand your search to include the portion after the f64...   You should consider yourself lucky if that is always the terminating portion before \\n"}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1430145581, "post_id": 29896233, "comment_id": 47920251, "body": "This may be tangential, but you r&#39;else if&#39; shou&#39;d be &#39;elsif&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 53052, "user_id": 728795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74899fd197722b4ddaeb21de21c6b313?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei", "link": "https://stackoverflow.com/users/728795/andrei"}, "is_accepted": true, "score": 2, "last_activity_date": 1430139734, "creation_date": 1430139734, "answer_id": 29896616, "question_id": 29896233, "link": "https://stackoverflow.com/questions/29896233/log-file-parsing-with-perl/29896616#29896616", "title": "Log file parsing with Perl", "body": "<p>Just specify the token you are looking for and use regex groups to retrieve matching part. For example:</p>\n\n<pre><code>my $str = 'Aug 27 13:59:36 topas user.info POS[548]: 00:11:33.989304 &lt;GPS&gt; Input To Sensor Fusion - f64Longitude (deg) = 13286667';\nif ($str =~ /f64Longitude \\(deg\\) = (\\d+)/) {\n    print $1;\n}\n\n#prints 13286667\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 2437080, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c5f13911c9523a4641a6f13d7f86f9?s=128&d=identicon&r=PG", "display_name": "harrisonfooord", "link": "https://stackoverflow.com/users/2437080/harrisonfooord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 29896616, "answer_count": 1, "score": 2, "last_activity_date": 1430139734, "creation_date": 1430138811, "question_id": 29896233, "link": "https://stackoverflow.com/questions/29896233/log-file-parsing-with-perl", "title": "Log file parsing with Perl", "body": "<pre><code>use strict;\nuse warnings;\n\nmy $file = 'tagged.txt';\nopen(my $info, '&lt;', 'tagged.txt') or die $!;\n\nwhile(my $line = &lt;$info&gt;){\n    if ($line =~ /someString/){\n        #\n    } else if ($line =~ /someOtherString/){\n        #\n    }\n    #...\n}\n\nclose $info\n</code></pre>\n\n<p>So I'm trying to parse some wild log files into a well formatted .csv file. I want to look through the logfile line by line and check if one of my desired values / strings appear in that line. Let's say we have something like this:</p>\n\n<pre><code>Aug 27 13:59:36 topas user.info POS[548]: 00:11:33.989304 &lt;GPS&gt; Input To Sensor Fusion - f64Longitude (deg) = 13286667\n</code></pre>\n\n<p>One of the values I'm interested in is for example the f64Longitude (deg), respectively the value that appears <strong>behind</strong> \"f64Longitude (deg) = \".\nMy question is now: how do I access the string that is located <strong>after</strong> some regEx that I've found...</p>\n"}, {"tags": ["perl", "module", "cpan"], "comments": [{"owner": {"reputation": 4826, "user_id": 193789, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a17cc57e47435930a48f7c80bcd53863?s=128&d=identicon&r=PG", "display_name": "kebs", "link": "https://stackoverflow.com/users/193789/kebs"}, "edited": false, "score": 3, "creation_date": 1430137877, "post_id": 29895689, "comment_id": 47914238, "body": "Unclear. Please give us a bit more context."}], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 3, "last_activity_date": 1430142690, "last_edit_date": 1430142690, "creation_date": 1430138616, "answer_id": 29896141, "question_id": 29895689, "link": "https://stackoverflow.com/questions/29895689/how-to-get-all-available-perl-modules-list/29896141#29896141", "title": "How to get all available perl modules list", "body": "<p>A list of all the modules included with Perl is in <a href=\"https://metacpan.org/pod/perlmodlib\" rel=\"nofollow\"><code>perldoc perlmodlib</code></a>.</p>\n\n<p>There are thousands of modules on CPAN. It's easier to <a href=\"https://metacpan.org/\" rel=\"nofollow\">search for the module you want</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 4836333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-o-kuVhOC4qA/AAAAAAAAAAI/AAAAAAAAAF0/mJkRfmD0zCk/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/4836333/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 29896141, "answer_count": 1, "score": -4, "last_activity_date": 1430142690, "creation_date": 1430137435, "question_id": 29895689, "link": "https://stackoverflow.com/questions/29895689/how-to-get-all-available-perl-modules-list", "title": "How to get all available perl modules list", "body": "<p>How can i get only the list of all perl modules with short description of what they will do? So that it will help learners like me to use modules as per our need immediately, rather that searching it for long time.</p>\n"}, {"tags": ["perl", "csv"], "answers": [{"comments": [{"owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 0, "creation_date": 1430138900, "post_id": 29895420, "comment_id": 47915021, "body": "@Henri - You should accept the answer if it helped you out! Marking it as accepted indicates to future users having the same problem, that this is a valid solution. Besides that, you will earn a new shiny Scholar badge :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1430136768, "creation_date": 1430136768, "answer_id": 29895420, "question_id": 29894744, "link": "https://stackoverflow.com/questions/29894744/find-all-csv-records-that-contain-a-field-with-a-certain-value/29895420#29895420", "title": "Find all CSV records that contain a field with a certain value", "body": "<p>It is important that you try to solve the problem yourself, and I really shouldn't be offering this without insisting that you make at least <em>some</em> effort. But I tire of constantly pressing the point and today it is easier just to craft a solution. Just don't expect to get away with it another time!</p>\n\n<p>This will do as you ask</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util 'any';\n\nopen my $fh, '&lt;', 'myfile.txt' or die $!;\n\nmy @files;\n\nwhile ( &lt;$fh&gt; ) {\n  next unless /\\S/;\n  chomp;\n  my ($file, @fields) = split /,/;\n  next if $file eq 'default';\n  push @files, $file if any { $_ eq 'fault' } @fields;\n}\n\nprintf \"number of files: %d\\n\", scalar @files;\nprint \"File names are:\\n\";\nprint \"$_\\n\" for @files;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>number of files: 3\nFile names are:\nd100spuptl25e0\ndoc3\ndoc4\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4707355"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 29895420, "answer_count": 1, "score": 0, "last_activity_date": 1430136857, "creation_date": 1430134970, "last_edit_date": 1430136857, "question_id": 29894744, "link": "https://stackoverflow.com/questions/29894744/find-all-csv-records-that-contain-a-field-with-a-certain-value", "title": "Find all CSV records that contain a field with a certain value", "body": "<p>I am a beginner in Perl and I need your help.</p>\n\n<p>I have a file containing results from processing other files that I would like to analyse. My file contains the following results:</p>\n\n<pre><code>default,primary,secondary,copy_directory,forced_copy_flag,always_allow_dump,type_of_dump,full_memory_dump,\n\nd100spuptl25e0,/dev/lg_dumplv,/dev/sysdumpnull,/var/adm/ras,1,1,fault,disallow,\ndoc1,/del,/dev/null,/ras,1,0,fw-assisted,disallow,\ndoc2,/dev/lg_dumplv,/dev/sysdumpnull,//ras,1,1,fw,disallow,\ndoc3,/dev/lg_dumplv,/dev/sysdumpnull,/var/adm/ras,1,fault,fw-assisted,disallow,\ndoc4,5,fault,7,8,9,10,disallow, \n</code></pre>\n\n<p>The first field on each line is the name of the file; the first <code>default</code> file should be ignored: only the other files must be treated.</p>\n\n<p>I would like the names of the files where one of the values is <code>fault</code>, as well as a count of such files.</p>\n\n<p>In the present case here the result would be:</p>\n\n<pre><code>number of files: 3\nFile names are:\nd100spuptl25e0\ndoc3\ndoc4\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430134830, "post_id": 29893725, "comment_id": 47912215, "body": "You need to <i>make</i> it into a function and take a look at <a href=\"https://metacpan.org/pod/Exporter\" rel=\"nofollow noreferrer\"><code>Exporter</code></a>"}, {"owner": {"reputation": 1414, "user_id": 2885683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02929837725d7fe44f5dea87e5d91431?s=128&d=identicon&r=PG&f=1", "display_name": "DeVadder", "link": "https://stackoverflow.com/users/2885683/devadder"}, "edited": false, "score": 2, "creation_date": 1430134981, "post_id": 29893725, "comment_id": 47912303, "body": "If you want to reuse code in <i>the same</i> script, you could just make it a function (called sub) and call it. Or do you want to reuse code throughout several scripts? Either way -1. Googling your exact question yields answers for both."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 1, "creation_date": 1430138936, "post_id": 29893725, "comment_id": 47915054, "body": "Are you saying that you want to use a script file at two places of another script, or that you want to reuse logic <i>within</i> the script file?"}, {"owner": {"reputation": 43, "user_id": 4836333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-o-kuVhOC4qA/AAAAAAAAAAI/AAAAAAAAAF0/mJkRfmD0zCk/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/4836333/sam"}, "edited": false, "score": 0, "creation_date": 1430142561, "post_id": 29893725, "comment_id": 47917892, "body": "i want to reuse the logic with in the script. I don&#39;t want to use functions.I need to know is there any alternative method"}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1430166890, "post_id": 29893725, "comment_id": 47933547, "body": "@VamsiKrishna, you should realize that you did nothing more than simply repeat your original <i>vague</i> phrase, when I asked for a clarification."}], "answers": [{"tags": [], "owner": {"reputation": 28754, "user_id": 1153938, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/deBjQ.jpg?s=128&g=1", "display_name": "Vorsprung", "link": "https://stackoverflow.com/users/1153938/vorsprung"}, "is_accepted": true, "score": 0, "last_activity_date": 1430144414, "creation_date": 1430144414, "answer_id": 29898340, "question_id": 29893725, "link": "https://stackoverflow.com/questions/29893725/how-to-reuse-the-code-in-same-script-in-perl/29898340#29898340", "title": "How to reuse the code in same script in perl", "body": "<p>Here are 3 ways to \"reuse\" or repeat code without using subs</p>\n\n<p>eval takes a string and runs it as perl.  See the entry in perldoc perlfunc</p>\n\n<p>using a code reference takes an unnamed function and takes a reference to it.  This can then be run as shown.</p>\n\n<p>AUTOLOAD is a bit more crazy.  This analyses the functions you call and looks for patterns in the function name and then makes it behave as if there was a real function with this name</p>\n\n<p>There are loads of other ways of doing code \"reuse\" in perl</p>\n\n<pre><code>#!/usr/bin/perl\n#\nuse warnings;\nuse strict;\n\n\n#example : eval\nmy $x=\"print qq(cheese\\n)\";\n\neval \"$x\";\n\n#example : code reference\nmy $code=sub { my $param=shift; print qq(hairy $param\\n); };\n\n$code-&gt;(\"goats\");\n\n#example : AUTOLOAD\n\nno strict 'subs';\nuse vars qw/$AUTOLOAD/;\nsub AUTOLOAD {\n  my $full=$AUTOLOAD;\n  if ($full =~ /panda_(\\d)/ ) {\n    print \"panda \" x $1;\n    print \"\\n\";\n  }\n}\n\npanda_3();\npanda_6();\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4836333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-o-kuVhOC4qA/AAAAAAAAAAI/AAAAAAAAAF0/mJkRfmD0zCk/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/4836333/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 29898340, "answer_count": 1, "score": -2, "last_activity_date": 1430144414, "creation_date": 1430131970, "last_edit_date": 1430142754, "question_id": 29893725, "link": "https://stackoverflow.com/questions/29893725/how-to-reuse-the-code-in-same-script-in-perl", "title": "How to reuse the code in same script in perl", "body": "<p>How to reuse code in the same script in Perl? Either we need to use <code>require</code> or <code>use</code>. Or, is there any other method/thing?</p>\n\n<p>Note: the script that I'm using is not a function.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430130159, "post_id": 29892936, "comment_id": 47909119, "body": "No, if you dont use <code>sleep()</code> inside getTheBootTime. <code>It is usually a mistake to intermix alarm and sleep calls, because sleep may be internally implemented on your system with alarm.</code>"}, {"owner": {"reputation": 63, "user_id": 1362796, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/02bb7f5c866f43abb6e4b2fa62607521?s=128&d=identicon&r=PG", "display_name": "user1362796", "link": "https://stackoverflow.com/users/1362796/user1362796"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430130361, "post_id": 29892936, "comment_id": 47909241, "body": "But i am not using any sleep in my code then also i am alarm is not triggering. You want me to copy full function here?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430131113, "post_id": 29892936, "comment_id": 47909735, "body": "Just enough to reproduce the problem would be more desirable."}, {"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 1, "creation_date": 1430144517, "post_id": 29892936, "comment_id": 47919450, "body": "Shouldn&#39;t SIG{ALRM} <code>die</code> in this sample instead of just printing? btw, your print statement may get stuck in the buffer until there&#39;s a <code>\\n</code> printed."}, {"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1430144799, "post_id": 29892936, "comment_id": 47919629, "body": "@user1362796, What happens if you replace &quot;print&quot; with &quot;die&quot; in your sample?"}], "answers": [{"tags": [], "owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "is_accepted": false, "score": 0, "last_activity_date": 1430218853, "creation_date": 1430218853, "answer_id": 29917581, "question_id": 29892936, "link": "https://stackoverflow.com/questions/29892936/alarm-is-not-triggering-at-time-perl/29917581#29917581", "title": "Alarm is not triggering at time - perl", "body": "<p>Assuming that getTheBootTime() is a computation and does NOT tackle with alarm and/or sleep itself, the answer is like follows.</p>\n\n<p><code>print \"something\";</code> w/o trailing <code>\\n</code> may not output anything, as printed string gets stuck in the buffer until a newline is printed. This is the default behavior (unless <code>$|</code> is set to true or specific file descriptor has autoflush turned on). </p>\n\n<p>Also the specified <code>$SIG{ALRM}</code> does NOT interrupt execution (no <code>die</code> there) which is what eval/alarm combination expects. </p>\n\n<p>So the following may be in $SIG{ALRM}:</p>\n\n<pre><code>$SIG{ALRM} = sub {\n     print \"alarm, no interruption, newline\\n\";\n};\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$SIG{ALRM} = sub {\n     die \"alarm, interruption\";\n};\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 1362796, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/02bb7f5c866f43abb6e4b2fa62607521?s=128&d=identicon&r=PG", "display_name": "user1362796", "link": "https://stackoverflow.com/users/1362796/user1362796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1430218853, "creation_date": 1430129746, "question_id": 29892936, "link": "https://stackoverflow.com/questions/29892936/alarm-is-not-triggering-at-time-perl", "title": "Alarm is not triggering at time - perl", "body": "<p>I have used an Alarm function in my script which is not triggering at the time   which it should be :</p>\n\n<p>Here is my code : </p>\n\n<pre><code>    $SIG{ALRM} = sub{\n\n         print\"*****Test Fail*****\";\n    };\n    eval{\n        alarm(10);\n        getTheBootTime();\n        alarm(0);\n    };\n    die $@ if $@;\n</code></pre>\n\n<p>getTheBootTime(); is taking <strong>5 mints</strong> to gets execute. Am i doing anything wrong here? </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1430128277, "post_id": 29892325, "comment_id": 47907910, "body": "You&#39;ve forgot end of the string anchor <code>&#47;^[a-zA-Z0-9.:]+\\z&#47;</code>"}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430128616, "post_id": 29892325, "comment_id": 47908129, "body": "what makes you think so? And follow @\u0421\u0443\u0445\u043e\u043927&#39;s hint, you currently validate a whitelisted <i>prefix</i> only."}, {"owner": {"reputation": 10661, "user_id": 135351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8281b1bd2eaad90adfda7f9aefac1d24?s=128&d=identicon&r=PG", "display_name": "dave", "link": "https://stackoverflow.com/users/135351/dave"}, "edited": false, "score": 2, "creation_date": 1430131552, "post_id": 29892325, "comment_id": 47910048, "body": "@user3691006 Looks okay to me although you need to escape the dot (.) with a backslash - otherwise it will match any character. Can you include some more code to indicate how you use it? And some sample input and expected results. This might help with diagnosis"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1430146671, "post_id": 29892325, "comment_id": 47921090, "body": "You don&#39;t need to escape the <code>.</code> inside <code>[...]</code>."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1430201078, "post_id": 29892325, "comment_id": 47945021, "body": "Need code.  No <code>&#47;g</code> at the end, for example?"}], "owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430128093, "creation_date": 1430128093, "question_id": 29892325, "link": "https://stackoverflow.com/questions/29892325/perl-regular-expression-white-list", "title": "Perl regular expression white-list", "body": "<p>I would like to write a regular expression that explicitly only allows the following characters.</p>\n\n<p><strong>a-z<br>\nA-Z<br>\n0-9<br>\n.<br>\n:</strong>  </p>\n\n<p>My current expression looks something like this. Sadly it only matches the first character but I would like to match however many the user inputs to the program.</p>\n\n<pre><code>/^[a-zA-Z0-9.:]+/\n</code></pre>\n"}, {"tags": ["perl", "getopts"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 2, "last_activity_date": 1430145410, "creation_date": 1430145410, "answer_id": 29898737, "question_id": 29891337, "link": "https://stackoverflow.com/questions/29891337/getoptlong-getoptions-error-in-option-spec/29898737#29898737", "title": "Getopt::Long GetOptions error in option spec", "body": "<p><code>g</code> is not one of the supported option argument types.  Using the \"string\" type, <code>s</code>, fixes the error:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Getopt::Long;\n\nmy $h=\"\";\nmy $r=\"\";\nmy $i=\"\";\nmy $n=\"\";\nmy $forks=\"\";\nmy $global=\"\";\nmy $v=\"\";\n\nGetOptions (\"h\" =&gt; \\$h, #print help\n            \"r\" =&gt; \\$r, #keep all temp folder\n            \"i\" =&gt; \\$i, #include additional config file\n            \"n\" =&gt; \\$n, #do not merge temp files\n            \"forks=f\" =&gt; \\$forks, #number of forks you want to use\n            \"global=s\" =&gt; \\$global, #special config line option\n             \"v\" =&gt; \\$v #verbose option\n            );\n</code></pre>\n\n<p>Refer to <a href=\"http://perldoc.perl.org/Getopt/Long.html#Summary-of-Option-Specifications\" rel=\"nofollow\">Summary of Option Specifications</a></p>\n"}], "owner": {"reputation": 105, "user_id": 2952191, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/32715312773be0b2ae7cf54ed78ed9b4?s=128&d=identicon&r=PG&f=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/2952191/darius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2133, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1609176156, "creation_date": 1430125316, "last_edit_date": 1609176156, "question_id": 29891337, "link": "https://stackoverflow.com/questions/29891337/getoptlong-getoptions-error-in-option-spec", "title": "Getopt::Long GetOptions error in option spec", "body": "<p>I'm getting an error with the following script:</p>\n<pre><code>my $h=&quot;&quot;;\nmy $r=&quot;&quot;;\nmy $i=&quot;&quot;;\nmy $n=&quot;&quot;;\nmy $forks=&quot;&quot;;\nmy $global=&quot;&quot;;\nmy $v=&quot;&quot;;\n\nGetOptions (&quot;h&quot; =&gt; \\$h, #print help\n            &quot;r&quot; =&gt; \\$r, #keep all temp folder\n            &quot;i&quot; =&gt; \\$i, #include additional config file\n            &quot;n&quot; =&gt; \\$n, #do not merge temp files\n            &quot;forks=f&quot; =&gt; \\$forks, #number of forks you want to use\n            &quot;global=g&quot; =&gt; \\$global, #special config line option\n             &quot;v&quot; =&gt; \\$v #verbose option\n            );\n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>&quot;Error in option spec: global=g&quot;.</p>\n</blockquote>\n<p>Does anyone know a solution?</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1430124543, "post_id": 29890680, "comment_id": 47905651, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1430124702, "post_id": 29890680, "comment_id": 47905740, "body": "Ohk thankkxx for replying....i vl use it.But how to access that 3 hash into sub routine"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1430125529, "post_id": 29890680, "comment_id": 47906253, "body": "That&#39;s not the biggest problem with your code, which frankly is a bit of a mess. You&#39;re accessing variables that aren&#39;t defined/in scope. <code>strict</code> and <code>warnings</code> would tell you about these."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "edited": false, "score": 0, "creation_date": 1430125976, "post_id": 29891295, "comment_id": 47906525, "body": "Thank you so much for your reply.I got very good tips but after replcing $data_ref to %$data_ref , now that sub routine is not at all working.Can u pls throw some light on Variable &quot;$VAR1&quot; is not imported at /project/ls1socdft/user/pooja/test_plan_checker/dfta/perl/pa&zwnj;&#8203;ttern_qa/script/cmp_&zwnj;&#8203;fault.pl line 23.other errors.I am getting warning like this &quot;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "edited": false, "score": 0, "creation_date": 1430126147, "post_id": 29891295, "comment_id": 47906634, "body": "That error means - you&#39;re using <code>$VAR1</code> when it&#39;s not defined. Which is true. Because you have <code>$VAR_ref</code>, and NO <code>$VAR1</code> within your sub. Perl does not magically translate between the two. Which in turn means - you should be turning on <code>strict</code> and <code>warnings</code> and fixing the errors in your code, because they are almost certainly why you are having problems."}, {"owner": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "edited": false, "score": 0, "creation_date": 1430127081, "post_id": 29891295, "comment_id": 47907185, "body": "now i have activated strict,warning and changed that var1 to the var1_ref.But stil problem."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "edited": false, "score": 0, "creation_date": 1430127558, "post_id": 29891295, "comment_id": 47907476, "body": "OK. If you are still having problems, please repost your new code and highlight where you&#39;re having difficulties."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "edited": false, "score": 0, "creation_date": 1430128302, "post_id": 29891295, "comment_id": 47907932, "body": "Nope. Turn on <code>strict</code> and <code>warnings</code>. Fix those first."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "edited": false, "score": 0, "creation_date": 1430140669, "post_id": 29891295, "comment_id": 47916396, "body": "When I say &#39;turn on strict and warnings&#39; I mean &quot;and then run the code, and fix the errors you get&quot;."}, {"owner": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "edited": false, "score": 0, "creation_date": 1430200121, "post_id": 29891295, "comment_id": 47944595, "body": "Problem solved..Dat was issue of string ,double quotes."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1430125483, "last_edit_date": 1430125483, "creation_date": 1430125180, "answer_id": 29891295, "question_id": 29890680, "link": "https://stackoverflow.com/questions/29890680/how-to-use-refernce-concept-and-access-element-of-subroutine-argument-using-perl/29891295#29891295", "title": "How to use refernce concept and access element of subroutine argument using Perl?", "body": "<p>When passing parameters into an array, you can only ever pass a single list of parameters. </p>\n\n<p>For scalars, this isn't a problem. If all you're acting on is a single array, this also isn't a problem.</p>\n\n<p>If you need to send scalars and an array or hash, then the easy way is to 'extract' the scalar parameters first, and then treat 'everything else' as the list. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub scalars_and_array {\n    my ( $first, $second, @rest ) = @_;\n    print \"$first, $second, \", join( \":\", @rest ), \"\\n\";\n}\n\nscalars_and_array( \"1\", \"2\", \"3\", 4, 5, 6 );\n</code></pre>\n\n<p>But it should be noted that by doing so - you're passing <em>values</em>. You can do this with hashes too. </p>\n\n<p>To pass data structure references, it's as you note - pass by reference, then dereference. It's useful to be aware though, that <code>-&gt;</code> becomes useful, because it's accessing a hash <em>and</em> dereferencing it. </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nsub pass_hash {\n    my ( $hashref ) = @_;\n    print $hashref,\"\\n\";\n    print $hashref -&gt; {\"one\"},\"\\n\";\n    print $hashref -&gt; {\"fish\"} -&gt; {\"haddock\"};\n}\n\n\nmy %test_hash = ( \"one\" =&gt; 2,\n                  \"three\" =&gt; 4, \n                  \"fish\" =&gt; { \"haddock\" =&gt; \"plaice\" }, );\n\npass_hash ( \\%test_hash ); \nprint \"\\n\";\nprint Dumper \\%test_hash;\n</code></pre>\n\n<p>The core of your problem here though, is that you haven't turned on <code>strict</code> and <code>warnings</code> which would tell you that:</p>\n\n<pre><code>for $pat ( keys %data_ref ) {\n</code></pre>\n\n<p>is wrong - there is no hash called <code>data_ref</code> there's only a scalar (which holds a hash reference) called <code>$data_ref</code>. </p>\n\n<p>You need <code>%$data_ref</code> here.</p>\n\n<p>And here:</p>\n\n<pre><code>for $key ( keys %{ $data{$pat} } ) {\n</code></pre>\n\n<p>You also have no <code>$data</code> - your code says <code>$data_ref</code>. (You might have <code>%data</code> in scope, but that's a really bad idea to mess around with within a sub). </p>\n\n<p>There's a bunch of other errors - which would also be revealed by <code>strict</code> and <code>warnings</code>. That's a very basic debugging step, and you will generally get a much better response from Stack Overflow if you do this before asking for assistance. So please - do that, tidy up your code and remove errors/warnings. If you are still having problems after that, then by all means make a post outlining where and what problem you're having. </p>\n"}], "owner": {"reputation": 15, "user_id": 4795949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4d4b6b8d7ea98bb8a846a3ec2379177?s=128&d=identicon&r=PG", "display_name": "Pooja shah", "link": "https://stackoverflow.com/users/4795949/pooja-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 29891295, "answer_count": 1, "score": -1, "last_activity_date": 1430128481, "creation_date": 1430123103, "last_edit_date": 1430128481, "question_id": 29890680, "link": "https://stackoverflow.com/questions/29890680/how-to-use-refernce-concept-and-access-element-of-subroutine-argument-using-perl", "title": "How to use refernce concept and access element of subroutine argument using Perl?", "body": "<p>I am writing a code for calling a subroutine which has 4 argument(3 hashes and one file handler).i want to know how to access them in subroutine.My code is as below.</p>\n\n<pre><code>#print OUTFILE \"Content of TPC file:.\\n\";\nmy $DATA_INFO = $ARGV[0];\nmy $OUT_DIR = $ARGV[1];\nmy $log= \"$OUT_DIR/log1\";\nopen(LOG1,\"&gt;$log\");\nrequire \"$DATA_INFO\";\nmy $SCRIPT_DIR = $ENV{\"SCRIPT_DIR\"} ; \nrequire \"$SCRIPT_DIR/cmp_fault.pl\";\nrequire \"$SCRIPT_DIR/pattern_mismatch.pl\";\nrequire \"$SCRIPT_DIR/scan_count.pl\";\n\nprint \"\\nComparing data:\\n\\n\" ;\npattern_mismatch(\"\\%data\",\"\\%VAR1\",\"\\%status\",*LOG1);\ncmp_fault(\"\\%data\",\"\\%VAR1\",\"\\%status\",*LOG1);\nscan_count(\"\\%data\",\"\\%status\",*LOG1);\nprint \"\\n Comparison done:\\n\";\n\nforeach $pattern (keys %status) {\n print \"pattern\";\n  foreach $attr (keys %{$status{$pattern}}) {\n   print \",$attr\";\n }\n print \"\\n\";\n last; \n }    \n\n #Print Data\n foreach $pattern (keys %status) {\n  print \"$pattern\";\n foreach $attr (keys %{$status{$pattern}}) {\n  print \",$status{$pattern}{$attr}\";\n</code></pre>\n\n<p>}\n    print \"\\n\";</p>\n\n<h1>Sub routine cmp_fault is here:</h1>\n\n<pre><code>sub cmp_fault {\nuse strict;\nuse warning;\n$data_ref= $_[0];;\n$VAR1_ref= $_[1];\n$status_ref = $_[2];\n$log1_ref=$_[3];\n\n # print LOG1\"For TPC : First find the pattern and then its fault type\\n\";\n\n for $pat ( keys %$data_ref ) {\n  print  \"fgh:\\n$pat,\";\n  for $key (keys %{$data_ref{$pat}}) {\n    if($key=~/fault/){\n      print LOG1 \"$key:$data_ref{$pat}{$key},\\n\";\n       }\n    }\n}\n # print LOG1 \"\\nFor XLS : First find the pattern and then its pattern type\\n\";\n  for $sheet (keys %$VAR1_ref){\n   if (\"$sheet\" eq \"ATPG\") {\n     for $row (1 .. $#{$VAR1_ref-&gt;{$sheet}}) {\n       $patname = $VAR1_ref-&gt;{'ATPG'}[$row]{'Pattern'} ;\n         next if (\"$patname\" eq \"\") ;\n          $faultXls  = $VAR1_ref-&gt;{'ATPG'}[$row]{'FaultType'} ;\n    #         print LOG1 \" $patname==&gt;$faultXls \\n\";\n      if (defined $data{$patname}{'fault'}) {\n      $faultTpc = $data{$patname}{'fault'} ;\n     #     print LOG1 \"\\n $patname :XLS: $faultXls :TPC: $faultTpc\\n\";\n          if(\"$faultXls\" eq \"$faultTpc\") { \n           print LOG1 \"PASS: FaultType Matched $patname :XLS: $faultXls :TPC: $faultTpc\\n\\n\\n\";\n         print  \"PASS: FaultType Matched $patname :XLS: $faultXls :TPC: $faultTpc\\n\\n\";\n         $status_ref-&gt;{$patname}{'FaultType'} = PASS;\n\n        } \n       else {\n          print LOG1 \"FAIL: FaultType Doesn't Match\\n\\n\";\n       $status_ref-&gt;{$patname}{'FaultType'} = Fail;   \n            }\n       }\n    }        \n   }\n  }\n}\n return 1;\n</code></pre>\n"}, {"tags": ["perl", "perlscript"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1430125808, "post_id": 29889783, "comment_id": 47906430, "body": "Please can you clarify what you&#39;re trying to accomplish? As it stands, this <code>find</code> is using a regular expression. (see <code>perlre</code>) where you seem to be asking about using a shell <code>glob</code> expansion. Translating between the two is actually fairly difficult, so I&#39;d suggest not doing so, and use a regular expression for your search instead."}, {"owner": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430803194, "post_id": 29889783, "comment_id": 48204923, "body": "<code>find(sub { if ($File::Find::dir =~ &#47;$ARGV[1]&#47; ) {</code> \t\t\t<code>$size += -s ;\t} </code>"}, {"owner": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430803361, "post_id": 29889783, "comment_id": 48204982, "body": "I want to calculate the size of files which contain the argument-ed string.  i.e if i give ARG[1] as PRO_A* it have to calculate size of directories which named like PRO_A1, PRO_A2.. etc.,"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430814435, "post_id": 29889783, "comment_id": 48210611, "body": "Would requiring a regex e.g. <code>PRO_A.*</code> be a deal breaker?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "edited": false, "score": 0, "creation_date": 1430802594, "post_id": 29892259, "comment_id": 48204710, "body": "<code>my $searchRe = glob_to_regex(qw&#47; thedir0* &#47;); </code>  Not working"}, {"owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "reply_to_user": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "edited": false, "score": 0, "creation_date": 1430872135, "post_id": 29892259, "comment_id": 48245670, "body": "can you be more specific Chetu -- I gave a runnable example using findrule"}], "tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": true, "score": -1, "last_activity_date": 1430180783, "last_edit_date": 1430180783, "creation_date": 1430127923, "answer_id": 29892259, "question_id": 29889783, "link": "https://stackoverflow.com/questions/29889783/using-and-to-calculate-files-in-directory-using-filefinddir/29892259#29892259", "title": "Using * and _ to calculate files in directory using $File::Find::dir", "body": "<p><strong>update: 2015-04-27-17:25:24</strong> \nThis is how the genereated regex might look</p>\n\n<pre><code>$ perl -e\"use Text::Glob qw/ glob_to_regex /; print glob_to_regex(qw/ thedir0* /);\n(?^:^(?=[^\\.])thedir0[^/]*$)\n</code></pre>\n\n<p>And this is how you'd use it in your program</p>\n\n<pre><code>use Text::Glob qw/ glob_to_regex /;\nmy $searchRe = glob_to_regex(qw/ thedir0* /);\n...\nif( $File::Find::dir =~ m{$searchRe} ){\n    $size += -s ;\n}\n</code></pre>\n\n<p><strong>oldanswer:</strong>\nuse the <a href=\"http://search.cpan.org/perldoc/File::Find::Rule\" rel=\"nofollow\">rule</a> its got globbing powers courtesy of <a href=\"http://search.cpan.org/perldoc/Text::Glob#glob_to_regex\" rel=\"nofollow\">Text::Glob#glob_to_regex</a></p>\n\n<pre><code>$ touch thedir0 thedir1 thedir5 thedir66\n\n$ findrule . -name thedir*\nthedir0\nthedir1\nthedir5\nthedir66\n\n$ findrule . -name thedir0*\nthedir0\n\n$ perl -e\"use File::Find::Rule qw/ find rule/; print for find( qw/ file name thedir0* in . /); \"\nthedir0\n\n$ perl -e\"use File::Find::Rule qw/ find rule/; my $size= 0; $size += -s $_ for find( qw/ file name thedir0* in . /); print $size \"\n0\n</code></pre>\n\n<p>and the verbose version that doesn't build a list of filenames in memory</p>\n\n<pre><code>use File::Find::Rule qw/ find rule /;\nmy $size = 0;\nrule(\n    directory =&gt;\n    maxdepth =&gt; 1 ,\n    name =&gt; [ 'thedir0*', ],\n    exec =&gt; sub {\n        ## my( $shortname, $path, $fullname ) = @_;\n        $size += -s _; ## or use $_\n        return !!0; ## means discard filename\n    },\n)-&gt;in( 'directory' );\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 2799890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbc1f372b7419030dfa74149fe6ac5f?s=128&d=identicon&r=PG&f=1", "display_name": "Chetu", "link": "https://stackoverflow.com/users/2799890/chetu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 29892259, "answer_count": 1, "score": 0, "last_activity_date": 1430180783, "creation_date": 1430120097, "question_id": 29889783, "link": "https://stackoverflow.com/questions/29889783/using-and-to-calculate-files-in-directory-using-filefinddir", "title": "Using * and _ to calculate files in directory using $File::Find::dir", "body": "<p>Hi I am tring to calculate size of perticular directory using below code but i want to search string as DIR0* to list all directories named DIR01, DIR02. How can i implement this?</p>\n\n<pre><code>if ($File::Find::dir =~ m/^(.*)$search/) {\n$size += -s ;\n}\n</code></pre>\n"}, {"tags": ["perl", "operator-keyword", "equality"], "comments": [{"owner": {"reputation": 43, "user_id": 4836333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-o-kuVhOC4qA/AAAAAAAAAAI/AAAAAAAAAF0/mJkRfmD0zCk/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/4836333/sam"}, "edited": false, "score": 1, "creation_date": 1430120551, "post_id": 29889750, "comment_id": 47903289, "body": "&quot;eqv&quot; is a new operator in perl6."}, {"owner": {"reputation": 148928, "user_id": 48015, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b722a5f7d2d809629ee40c63cc8576b?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/48015/christoph"}, "edited": false, "score": 1, "creation_date": 1430127644, "post_id": 29889750, "comment_id": 47907515, "body": "cf <a href=\"https://metacpan.org/pod/Data::Compare\" rel=\"nofollow noreferrer\">Data::Compare</a>"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 1, "creation_date": 1430856911, "post_id": 29889750, "comment_id": 48239944, "body": "Perl 5 and Perl 6 are both great languages, but they are different languages. If you want to learn one or the other or both, please be sure you know which is being referred to in the tutorials, web pages, or answers that you read."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1438131086, "post_id": 29889750, "comment_id": 51320639, "body": "When writing Perl 5 programs always start them with <code>use strict</code> and <code>use warnings</code> until you know exactly why they are recommended."}], "answers": [{"comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 43, "user_id": 4836333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-o-kuVhOC4qA/AAAAAAAAAAI/AAAAAAAAAF0/mJkRfmD0zCk/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/4836333/sam"}, "edited": false, "score": 0, "creation_date": 1430132670, "post_id": 29890047, "comment_id": 47910776, "body": "Read the last link given in answer."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 4, "last_activity_date": 1430121872, "last_edit_date": 1495541171, "creation_date": 1430121036, "answer_id": 29890047, "question_id": 29889750, "link": "https://stackoverflow.com/questions/29889750/perl-operator-eqv-is-not-working/29890047#29890047", "title": "Perl operator eqv is not working", "body": "<p>There is no operator like <code>eqv</code> in Perl5. I think you are looking for <code>eq</code> operator.</p>\n\n<p>To see the difference between <code>eq</code> and <code>==</code> operator, see this:</p>\n\n<p><a href=\"https://stackoverflow.com/q/14046669/4248931\">perl string compare with \u201ceq\u201d vs \u201c==\u201d</a></p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=276023\" rel=\"nofollow noreferrer\">eq vs. ==</a></p>\n\n<p>Read this for more information:</p>\n\n<p><a href=\"https://stackoverflow.com/q/176343/4248931\">What's the deal with all the different Perl 6 equality operators</a></p>\n\n<p><a href=\"http://www.dlugosz.com/Perl6/web/eqv.html\" rel=\"nofollow noreferrer\">Comparison of the Perl equality operators</a></p>\n"}], "owner": {"reputation": 43, "user_id": 4836333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-o-kuVhOC4qA/AAAAAAAAAAI/AAAAAAAAAF0/mJkRfmD0zCk/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/4836333/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575221569, "creation_date": 1430119956, "last_edit_date": 1575221569, "question_id": 29889750, "link": "https://stackoverflow.com/questions/29889750/perl-operator-eqv-is-not-working", "title": "Perl operator eqv is not working", "body": "<p>Below code is not working but I don't know why.</p>\n\n<pre><code>my $q = (1, 2) eqv (1, 3);\nprint \"$q \\n\";\n</code></pre>\n\n<p>I'm using Perl v5.14. And also what is the difference between \"eqv\" and \"==\" ?</p>\n"}, {"tags": ["perl", "dump"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1430116653, "post_id": 29888656, "comment_id": 47901176, "body": "<code>$project2 -&gt; projectname2[0]{media_name}</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1430126747, "post_id": 29888656, "comment_id": 47906965, "body": "Can I suggest instead of using <code>Data::Dumper</code> you may find <code>Storable</code> better suited to your needs?"}, {"owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "edited": false, "score": 0, "creation_date": 1430127057, "post_id": 29888656, "comment_id": 47907172, "body": "Yes indeed for <code>Storable</code> and I&#39;d look for something more infrastructural like <code>MongoDB</code> if you&#39;re planning on doing a lot of this."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1430127486, "creation_date": 1430127486, "answer_id": 29892077, "question_id": 29888656, "link": "https://stackoverflow.com/questions/29888656/retrieve-specific-data-dump-from-a-file-having-many-dumps-in-perl/29892077#29892077", "title": "Retrieve specific data dump from a file having many dumps in perl", "body": "<p>The useful thing with <code>Data::Dumper</code> is that it lets you print your data structure, which makes it a lot easier to figure out what you need to print. </p>\n\n<p><code>project2</code> has <code>[]</code> which denotes an array. In your example it's only one element, so:</p>\n\n<pre><code>$project2 -&gt; projectname2[0]{media_name}\n</code></pre>\n\n<p>(as noted in the comments by a username I can't type ;p)</p>\n\n<p>You could also do:</p>\n\n<pre><code>foreach my $thing ( @{ $project2 -&gt; {projectname2} } } { \n    print $thing -&gt; {media_name},\"\\n\";\n}\n</code></pre>\n\n<p>But really - it looks like you're approaching this problem from the wrong direction. <code>Data::Dumper</code> isn't well suited to data import/export. <a href=\"http://perldoc.perl.org/Storable.html\" rel=\"nofollow\"><code>Storable</code></a> is a way to save - and load - data structures. </p>\n\n<p>If doing so in such a way as to remain readable by outside programs, then it's probably worth looking at something like <code>JSON</code> or <code>XML</code> rather than <code>Dumper</code>. It's a little harder initially, but makes some much more robust and long lasting code. </p>\n"}], "owner": {"reputation": 57, "user_id": 4836407, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b0d8f6ac2f1df05c8a7a8926dbc77f96?s=128&d=identicon&r=PG&f=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/4836407/ankita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430127486, "creation_date": 1430116099, "last_edit_date": 1430123656, "question_id": 29888656, "link": "https://stackoverflow.com/questions/29888656/retrieve-specific-data-dump-from-a-file-having-many-dumps-in-perl", "title": "Retrieve specific data dump from a file having many dumps in perl", "body": "<p>I have appended Data dumps in an already existing dump file in perl. But using eval &lt;> returns only one data dump. I have named the dumps as $project1, $project2 and so on. I need no retrieve $project2 from the dump file. How do i do that?\nThis is my data dump :</p>\n\n<pre><code>$project1 = {\n              'projectname1' =&gt; [\n                                 {\n                                   'media_name' =&gt; 'Design Sync',\n                                   'dssite' =&gt; 'gnb',\n                                   'area' =&gt; 'qa_dap',\n                                   'ldap_list' =&gt; 'list1',\n                                   'replicate_key' =&gt; '2',\n                                   'user_num' =&gt; '4858',\n                                   'role' =&gt; '1',\n                                   'prj_name' =&gt; 'DAP_Rep_Test'\n                                 },\n                                 {\n                                   'media_name' =&gt; 'Design Sync',\n                                   'dssite' =&gt; 'noi',\n                                   'area' =&gt; 'qa_dap',\n                                   'ldap_list' =&gt; 'list2',\n                                   'replicate_key' =&gt; '2',\n                                   'user_num' =&gt; '4858',\n                                   'role' =&gt; '1',\n                                   'prj_name' =&gt; 'TAP_Rep_Test'\n                                 }\n                                 ]\n        };\n$project2 = {\n              'projectname2' =&gt; [\n                                 {\n                                   'media_name =&gt; 'B Sync',\n                                   'dssite' =&gt; 'agr',\n                                   'area' =&gt; 'qa_dap',\n                                   'ldap_list' =&gt; 'list1',\n                                   'replicate_key' =&gt; '2',\n                                   'user_num' =&gt; '4858',\n                                   'role' =&gt; '1',\n                                   'prj_name' =&gt; 'DAP_Rep_Test'\n                                 },\n                                 {\n                                   'media_name' =&gt; 'Design Sync',\n                                   'dssite' =&gt; 'noi',\n                                   'area' =&gt; 'qa_dap',\n                                   'ldap_list' =&gt; 'list2',\n                                   'replicate_key' =&gt; '2',\n                                   'user_num' =&gt; '4858',\n                                   'role' =&gt; '1',\n                                   'prj_name' =&gt; 'DAP_Rep_Test'\n                                 }\n                                 ]\n\n        };\n</code></pre>\n\n<p>How can i get project2 -> projectname2 -> media_name value for 1st brackets {}??</p>\n\n<p>This is my perl code to write dump and retrieve it :</p>\n\n<pre><code># Print structure to file\nopen my $out, '&gt;&gt;', 'file_dump' or die $!;\nmy %hash_val;\n$hash_val {projectname} = $arrayref;\n\nprint {$out} Data::Dumper-&gt;Dump([\\%hash_val], [\"projectname\"]), $/;\nclose $out;\n\n# Read structure back in again\nopen my $in, '&lt;', 'file_dump' or die $!;\nmy $data;\n{\n    local $/;    # slurp mode\n        $data = eval &lt;$in&gt;;\n}\nclose $in;\n</code></pre>\n"}, {"tags": ["perl", "selenium", "selenium-webdriver"], "answers": [{"tags": [], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "is_accepted": false, "score": 0, "last_activity_date": 1430201352, "creation_date": 1430201352, "answer_id": 29911576, "question_id": 29888333, "link": "https://stackoverflow.com/questions/29888333/perl-seleniumremotedriver-test-to-check-button-element-is-formed/29911576#29911576", "title": "Perl Selenium::Remote::Driver test to check button element is formed?", "body": "<p>All these function return 0 when element is not found.</p>\n\n<p><a href=\"http://search.cpan.org/~gempesaw/Selenium-Remote-Driver-0.25/lib/Selenium/Remote/Driver.pm#find_element\" rel=\"nofollow\">Read the doc carefully.</a></p>\n\n<p>find_element_by_xpath</p>\n\n<pre><code>These functions all take a single STRING argument: the locator\nsearch target of the element you want. If the element is found, we\nwill receive a WebElement. Otherwise, we will return 0. Note that\ninvoking methods on 0 will of course kill your script.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 0, "last_activity_date": 1436811388, "creation_date": 1436811388, "answer_id": 31390557, "question_id": 29888333, "link": "https://stackoverflow.com/questions/29888333/perl-seleniumremotedriver-test-to-check-button-element-is-formed/31390557#31390557", "title": "Perl Selenium::Remote::Driver test to check button element is formed?", "body": "<p>Use the below to find the element</p>\n\n<pre><code>my $elem = $driver-&gt;find_element_by_xpath($locator);\n</code></pre>\n\n<p>If this doesn't return 0 you've found your element, then you could run below:</p>\n\n<p>To check whether the element is displayed</p>\n\n<pre><code>$elem-&gt;is_displayed();\n</code></pre>\n\n<p>To check whether the element is hidden</p>\n\n<pre><code> $elem-&gt;is_hidden();\n</code></pre>\n\n<p>Check out more methods at: <a href=\"https://metacpan.org/pod/Selenium::Remote::WebElement\" rel=\"nofollow\">https://metacpan.org/pod/Selenium::Remote::WebElement</a></p>\n"}], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 31390557, "answer_count": 2, "score": 0, "last_activity_date": 1436811388, "creation_date": 1430114826, "question_id": 29888333, "link": "https://stackoverflow.com/questions/29888333/perl-seleniumremotedriver-test-to-check-button-element-is-formed", "title": "Perl Selenium::Remote::Driver test to check button element is formed?", "body": "<p>I need to test web site where button is formed at the bottom of the page after\nuser scroll the page for two times.</p>\n\n<p>I have written a small script to test if the required element is formed.\nthe condition tested always return false even though required element is formed in the page.</p>\n\n<pre><code> use Selenium::Remote::Driver;\n use Scalar::Util qw/blessed reftype/;\n\n my $driver= Selenium::Remote::Driver-&gt;new;\n $driver-&gt;get('http://www.foo.com');\n\n while ( 1 ) {\n\n     $query = $driver-&gt;find_element_by_xpath(q{//button[@class='button']});\n\n     #to test the if the element is present\n     if ( blessed($query) &amp;&amp; $query-&gt;isa('Selenium::Remote::Driver') ) {\n\n           $query-&gt;click;\n           last;\n     }\n     else {\n\n         #always goes into else loop\n         #to go to the end of the webpage \n         my $script = q{window.scrollTo(0,document.body.scrollHeight);};\n         my $elem = $driver-&gt;execute_script($script);\n     }\n }\n</code></pre>\n\n<p>Is there any way to test if the button element has been formed in the script?</p>\n"}, {"tags": ["perl", "version"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 5, "creation_date": 1430113840, "post_id": 29888093, "comment_id": 47899931, "body": "Add your code please."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1511359979, "post_id": 29888093, "comment_id": 81827867, "body": "<code>say</code> is not a keyword."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 15, "last_activity_date": 1511365317, "last_edit_date": 1511365317, "creation_date": 1430113965, "answer_id": 29888152, "question_id": 29888093, "link": "https://stackoverflow.com/questions/29888093/perl-keyword-say-is-not-working-in-version-5-14-4/29888152#29888152", "title": "Perl keyword say is not working in version 5.14.4", "body": "<p>For backwards compatibility reasons, it's not available by default. You could use</p>\n\n<pre><code>CORE::say(...);          # Requires Perl 5.16.\n</code></pre>\n\n<p>but it's probably better to add one of the following:</p>\n\n<pre><code>use feature qw( say );   # Requires Perl 5.10.\nuse v5.10;               # All 5.10 features including \"say\".\nuse 5.010;               # Same as previous.\nuse v5.14;               # All 5.14 features including \"say\".\nuse 5.014;               # Same as previous.\n</code></pre>\n\n<p>This is <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow noreferrer\">documented</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 4836333, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-o-kuVhOC4qA/AAAAAAAAAAI/AAAAAAAAAF0/mJkRfmD0zCk/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/4836333/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 29888152, "answer_count": 1, "score": 3, "last_activity_date": 1511365317, "creation_date": 1430113698, "last_edit_date": 1430336058, "question_id": 29888093, "link": "https://stackoverflow.com/questions/29888093/perl-keyword-say-is-not-working-in-version-5-14-4", "title": "Perl keyword say is not working in version 5.14.4", "body": "<p>My Perl version is 5.14.4, but the function <code>say</code> is not working. What might be wrong?</p>\n"}, {"tags": ["perl", "daemon"], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430110313, "post_id": 29887061, "comment_id": 47898643, "body": "Sorry but I do not understand this answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430110811, "post_id": 29887061, "comment_id": 47898792, "body": "That&#39;s the entire program you asked for, minus the code you want executed on SIGHUP. Place that code in <code>sighup_handler</code>. What don&#39;t you understand?"}, {"owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430111636, "post_id": 29887061, "comment_id": 47899072, "body": "I am sorry I am new at this. Also How would it respond to a signal USR1. Or can then be dont in the sighup_handler? I Will have too use $Sig{USR1} = then the reference of the function?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430111749, "post_id": 29887061, "comment_id": 47899109, "body": "I didn&#39;t see that you wanted to hook two signals, but hey, surprise surprise, hooking USR1 is done the same way as hooking HUP."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430112198, "post_id": 29887061, "comment_id": 47899289, "body": "It&#39;s used as the name of the log file to which STDERR is redirected, and of the PID file in which the process&#39;s PID is stored."}, {"owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430112974, "post_id": 29887061, "comment_id": 47899581, "body": "Just run the following normally, as perl Scriptname.pl and this should set the daemon up?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430113321, "post_id": 29887061, "comment_id": 47899717, "body": "The script will run as a daemon, yes. It won&#39;t start automatically at system startup unless you add it to init.d, though"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430113764, "post_id": 29887061, "comment_id": 47899895, "body": "Then I presume an error occurred. Did you check the log file?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1430114589, "last_edit_date": 1430114589, "creation_date": 1430107839, "answer_id": 29887061, "question_id": 29886834, "link": "https://stackoverflow.com/questions/29886834/daemonize-a-perl-script/29887061#29887061", "title": "Daemonize a perl script", "body": "<p>This is all you need:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Daemon::Daemonize qw( daemonize write_pidfile );\n\nsub sighup_handler {\n   ...\n}\n\nsub sigusr1_handler {\n   ...\n}\n\n{\n   my $name          = \"...\";\n   my $error_log_qfn = \"/var/log/$name.log\";\n   my $pid_file_qfn  = \"/var/run/$name.pid\";\n\n   daemonize(\n      close  =&gt; 'std',\n      stderr =&gt; $error_log_qfn,\n   );\n\n   $SIG{HUP}  = \\&amp;sighup_handler;\n   $SIG{USR1} = \\&amp;sigusr1_handler;\n\n   write_pidfile($pid_file_qfn);\n\n   sleep while 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1092, "favorite_count": 4, "accepted_answer_id": 29887061, "answer_count": 1, "score": 4, "last_activity_date": 1430114589, "creation_date": 1430106337, "last_edit_date": 1430111550, "question_id": 29886834, "link": "https://stackoverflow.com/questions/29886834/daemonize-a-perl-script", "title": "Daemonize a perl script", "body": "<p>Currently I am looking to daemonize a perl script. Sadly most answers are out of date and I actually quite do not understand how to begin the daemon process (especially daemon perl scripts). </p>\n\n<p>Right now I am looking at Proc Daemon but again I do not know where to begin or whether it should be done with or without the use of a modules. </p>\n\n<p>I believe if I give an example of what I am look for to give this question a little more direction.</p>\n\n<p><strong>Example</strong></p>\n\n<p>Say I am on osx and I want to write a perl script that can run as a daemon. It responds to the signal HUP which then proceeds to print the contents from a file from a certain directory.If it recieves signal USR1 it prints out the content differently. What is the most appropriate way to do this as a daemon?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 1945925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/282914e0936c9d05e919b0acfcfc5c32?s=128&d=identicon&r=PG", "display_name": "user1945925", "link": "https://stackoverflow.com/users/1945925/user1945925"}, "edited": false, "score": 0, "creation_date": 1430114938, "post_id": 29887458, "comment_id": 47900394, "body": "thanks for your input.  I suspected it might be have been this issue but when I attempted to use double or single quotes (including comma) it didn&#39;t work for me then.  At work we use Perl for scripting so I&#39;m doing this pretty manually but I&#39;ll look into C++ parsers.  The code I am converting is C compiled code using a C++ API (so, mixed in a way) into a new C++ API.  As you can tell my Perl coding is pretty hacked since I&#39;m new at it but I&#39;ll take your advice into consideration for future ."}], "tags": [], "owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "is_accepted": true, "score": 0, "last_activity_date": 1430110430, "creation_date": 1430110430, "answer_id": 29887458, "question_id": 29886454, "link": "https://stackoverflow.com/questions/29886454/need-help-understanding-wrong-output-from-perl-regex-string-substitution/29887458#29887458", "title": "Need help understanding wrong output from Perl regex string substitution", "body": "<p>Your problem stems from the fact that the <code>()</code> used for the cast are significant in regex syntax. <code>*</code> for pointer-casts would be too.</p>\n\n<p>You need to quote/escape <code>$data_buffer</code> when inside a regex match to have it match literally.</p>\n\n<pre><code>$params =~ /\\Q$data_buffer\\E,//;\n</code></pre>\n\n<p>(And you don't need all those <code>/g</code> parameters, you're only expecting one substitution.)</p>\n\n<p>Assuming your input is as regular as show, I just wouldn't use regex for this. Substrings and splitting are quite sufficient and less complex to deal with here. For example:</p>\n\n<pre><code>foreach my $line (&lt;&gt;) {\n  my $param_start = index($line, '(');\n  my $param_end  = rindex($line, ')');\n  my $all_args = substr($line, $param_start+1, $param_end-$param_start-1);\n  my @args = (split(',', $all_args));\n  printf \"%s&lt;%s,%s&gt;(%s)%s\"\n    , substr($line, 0, $param_start-1)\n    , $args[1]\n    , $args[2]\n    , $args[0]\n    , substr($line, $param_end+1)\n    ;\n}\n</code></pre>\n\n<p>And if your input is much less regular, using a real (C++?) parser will become necessary.</p>\n"}], "owner": {"reputation": 458, "user_id": 1945925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/282914e0936c9d05e919b0acfcfc5c32?s=128&d=identicon&r=PG", "display_name": "user1945925", "link": "https://stackoverflow.com/users/1945925/user1945925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 29887458, "answer_count": 1, "score": 1, "last_activity_date": 1430110430, "creation_date": 1430103428, "last_edit_date": 1430108110, "question_id": 29886454, "link": "https://stackoverflow.com/questions/29886454/need-help-understanding-wrong-output-from-perl-regex-string-substitution", "title": "Need help understanding wrong output from Perl regex string substitution", "body": "<p>I was hoping someone would know why I am getting unexpected output from my Perl code using regex.  I am automating the process of converting code syntax manually (see below).<br></p>\n\n<p>Original syntax:<br></p>\n\n<pre><code>var_name1.insert((uint8_t) data_buffer1, parameter1, parameter2);\nvar_name2.insertFromRight((uint32_t) data_buffer2, parameter1, parameter2);\nvar_name3.insert( data_buffer3, parameter1, parameter2); // comment \nvar_name4.insertFromRight(data_buffer4, parameter1, parameter2);\n</code></pre>\n\n<p>New syntax:<br></p>\n\n<pre><code>var_name.insert&lt;parameter1, parameter2&gt;(data_buffer)\nvar_name.insertFromRight&lt;parameter1, parameter2&gt;(data_buffer)\n</code></pre>\n\n<p>Snippet of Perl code of interest:<br></p>\n\n<pre><code>while($curr_line = &lt;INFILE&gt;) {\n    chomp($curr_line);\n      ...\n        my $params = $curr_line;\n        $params =~ s/.*\\..*?\\(//g; #strip variable name &amp; method name\n        $params =~ s/\\);.*//g;  #strip ending brace and comma\n        my $data_buffer = $params;\n        $data_buffer =~ s/,.*//g; #Erase everything after first comma\n        $params =~ s/$data_buffer,//g;\n\n        $curr_line =~ s/\\(.*\\);/&lt;$params&gt;($data_buffer);/g; #new syntax\n         ...\n\n        # Sends output to a new output file\n        print OUTFILE \"$curr_line\\n\";\n}\n</code></pre>\n\n<p>My code works and converts to the new syntax for the third and for examples that don't include a casted data_buffer variable.  But for the casted examples, I get following odd output ($ = means 8, 16, 32, or 64)</p>\n\n<pre><code>var_name.insert&lt; (uint$_t) data_buffer, parameter1, parameter2&gt;((uint$_t)data_buffer)\nvar_name.insertFromRight&lt;(uint$_t) data_buffer,parameter1, parameter2&gt;((uint$_t) data_buffer)\n</code></pre>\n\n<p>This part of my code $params =~ s/$data_buffer,//g;\nis not stripping away the data_buffer name from the parameters list for these casted values for some reason. Any hint on where I may be misunderstanding what I am doing?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1430083687, "post_id": 29883724, "comment_id": 47891525, "body": "<a href=\"http://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/sprintf.html</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1430083689, "post_id": 29883724, "comment_id": 47891527, "body": "How would you write this in a language that you prefer?"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1430083723, "post_id": 29883724, "comment_id": 47891547, "body": "Do you know what a regex is and how it would be used? Also always <code>use strict</code> and <code>warnings</code>"}, {"owner": {"reputation": 198, "user_id": 4527630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-4vd_nnTLy-M/AAAAAAAAAAI/AAAAAAAAAIs/4PLHrd0WPqY/photo.jpg?sz=128", "display_name": "Justin R", "link": "https://stackoverflow.com/users/4527630/justin-r"}, "edited": false, "score": 0, "creation_date": 1430083744, "post_id": 29883724, "comment_id": 47891551, "body": "doing some more research so I can go /d{4} /d{4} /d{4} /d{4}  (for 16 digit card) - still trying to figure out how to implement it. Posted late - didn&#39;t know about use strict, just read about it, i&#39;ll be sure to add it"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1430084858, "post_id": 29883724, "comment_id": 47891886, "body": "so you have several steps to do: get rid of any non-digits, check that there are 16 digits remaining, break them into groups of four, print them out with spaces between the groups.  focus on getting one step done before you start the next."}, {"owner": {"reputation": 198, "user_id": 4527630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-4vd_nnTLy-M/AAAAAAAAAAI/AAAAAAAAAIs/4PLHrd0WPqY/photo.jpg?sz=128", "display_name": "Justin R", "link": "https://stackoverflow.com/users/4527630/justin-r"}, "edited": false, "score": 0, "creation_date": 1430086518, "post_id": 29883724, "comment_id": 47892428, "body": "well I think I got the number part: \\d{4})(\\d{4})(\\d{4})(\\d{4})/$1 $2 $3 $4/;"}, {"owner": {"reputation": 198, "user_id": 4527630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-4vd_nnTLy-M/AAAAAAAAAAI/AAAAAAAAAIs/4PLHrd0WPqY/photo.jpg?sz=128", "display_name": "Justin R", "link": "https://stackoverflow.com/users/4527630/justin-r"}, "edited": false, "score": 0, "creation_date": 1430087136, "post_id": 29883724, "comment_id": 47892620, "body": "Alright so this is what I have SO far: #!/usr/bin/perl  [code]print &#39;Please enter your card number: &#39;; chomp ($cc = &lt;&gt;); $cc =~ s/(\\d{4})(\\d{4})(\\d{4})(\\d{4})/$1 $2 $3 $4/; print &quot;\\nYou Entered: $cc&quot;;[/code] now I just need to figure out how to remove foreign objects"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430088971, "post_id": 29883724, "comment_id": 47893159, "body": "@JustinR: <code>tr&#47;0-9&#47;&#47;cd</code>"}, {"owner": {"reputation": 198, "user_id": 4527630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-4vd_nnTLy-M/AAAAAAAAAAI/AAAAAAAAAIs/4PLHrd0WPqY/photo.jpg?sz=128", "display_name": "Justin R", "link": "https://stackoverflow.com/users/4527630/justin-r"}, "edited": false, "score": 0, "creation_date": 1430090480, "post_id": 29883724, "comment_id": 47893607, "body": "Edit: I fixed my problem"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430093166, "post_id": 29883724, "comment_id": 47894334, "body": "Or since you&#39;re familiar with s///, <code>s&#47;\\D&#47;&#47;g</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1430098174, "creation_date": 1430098174, "answer_id": 29885750, "question_id": 29883724, "link": "https://stackoverflow.com/questions/29883724/how-do-you-format-a-perl-string/29885750#29885750", "title": "How do you format a perl string?", "body": "<p>First, remove non-digits. (By the way, this makes the <code>chomp</code> redundant.)</p>\n\n<ul>\n<li><code>$cc =~ s/[^0-9]//g;</code></li>\n<li><code>$cc =~ tr/0-9//cd;</code></li>\n</ul>\n\n<p>Then validate.</p>\n\n<ul>\n<li><code>die(\"Invalid credit card number\\n\") if length($cc) != 16;</code></li>\n</ul>\n\n<p>Then, add in the spaces</p>\n\n<ul>\n<li><code>$cc = join ' ', $cc =~ /[0-9]{4}/g;</code></li>\n<li><code>$cc = join ' ', unpack 'A4', $cc;</code></li>\n</ul>\n"}], "owner": {"reputation": 198, "user_id": 4527630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-4vd_nnTLy-M/AAAAAAAAAAI/AAAAAAAAAIs/4PLHrd0WPqY/photo.jpg?sz=128", "display_name": "Justin R", "link": "https://stackoverflow.com/users/4527630/justin-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1430098174, "creation_date": 1430083397, "question_id": 29883724, "link": "https://stackoverflow.com/questions/29883724/how-do-you-format-a-perl-string", "title": "How do you format a perl string?", "body": "<p>I'm in the midst of a perl crash course (our semester is about to end). Unfortunately, perl isn't exactly the easier language to learn and I've ran into a bit of trouble.</p>\n\n<p>Our teach gave us a simple assignment, or so it seemed. We're supposed to take a 16 digit credit card number and print it out in 4 groups of 4 digits.</p>\n\n<p>So for example 1234-1234-1234-1234 would be 1234 1234 1234 1234. The program is supposed to ignore any foreign character and only focus on digits.</p>\n\n<p>Thus far I have managed to code this:</p>\n\n<pre><code># Get input from user\nprint \"\\n\\n\";\nprint 'Please enter a string:  ';\nchomp($inp = &lt;&gt;);\nprint \"\\nYou entered: $inp\";\n</code></pre>\n\n<p>I've done some minor research and noticed \\d is used for for digits so I imagine I would be coding something like \\d\\d\\d\\d \\d\\d\\d\\d etc, but, as I previously said I don't exactly understand what I am doing in perl. So I am hoping someone can explain the proper direction I need to take.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1430080692, "post_id": 29883060, "comment_id": 47890371, "body": "(1) You could have a &#39;shown-to-the-user&#39; default such as <code>N&#47;A</code> that is different from the default used in the code; (2) you should probably not include in the query those portions that aren&#39;t needed (so, if there isn&#39;t a value for <code>$value4</code>, you omit the <code>AND NOT EXISTS(\u2026= &#39;$value4&#39;)</code> section of the query)."}], "answers": [{"tags": [], "owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "is_accepted": false, "score": 0, "last_activity_date": 1430266181, "last_edit_date": 1430266181, "creation_date": 1430235407, "answer_id": 29923765, "question_id": 29883060, "link": "https://stackoverflow.com/questions/29883060/skipping-user-input/29923765#29923765", "title": "Skipping user input", "body": "<p>Since your defaults are '' they will evaluate as false so use the logical-or operator '||' like this:</p>\n\n<pre><code> my @defaults = ( ... a list of default values ... );\n\n my $value1 = prompt( 'n', 'Enter num1: ',  '', '' ) || $defaults[1];\n my $value2 = prompt( 'x', 'Enter name1: ', '', '' ) || $defaults[2];\n my $value3 = prompt( 'n', 'Enter num2: ',  '', '' ) || $defaults[3];\n my $value4 = prompt( 'n', 'Enter num3: ',  '', '' ) || $defaults[4];\n my $value5 = prompt( 'x', 'Enter name2: ', '', '' ) || $defaults[5];\n</code></pre>\n\n<p>if the prompt returns the default empty string, it will evaluate the right side of the OR and return your desired default.</p>\n"}], "owner": {"reputation": 11, "user_id": 2419409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ac6fd66c03f910e94fc4fc2d3b716c?s=128&d=identicon&r=PG", "display_name": "Jason Crans", "link": "https://stackoverflow.com/users/2419409/jason-crans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430266181, "creation_date": 1430079690, "last_edit_date": 1430080583, "question_id": 29883060, "link": "https://stackoverflow.com/questions/29883060/skipping-user-input", "title": "Skipping user input", "body": "<p>I am using:</p>\n\n<pre><code>use Term::Prompt;\nuse Term::ReadKey;\n</code></pre>\n\n<p>I have my user input section:</p>\n\n<pre><code>my $value1 = prompt( 'n', 'Enter num1: ', '', '' );\nmy $value2 = prompt( 'x', 'Enter name1: ', '', '' );\nmy $value3 = prompt( 'n', 'Enter num2: ', '', '' );\nmy $value4 = prompt( 'n', 'Enter num3: ', '', '' );\nmy $value5 = prompt( 'x', 'Enter name2: ', '', '' );\n</code></pre>\n\n<p>Here is my query:</p>\n\n<pre><code>SELECT data1, data2, data3\n           FROM Table1\n          WHERE value1 = '$value1'\n AND NOT EXISTS (\n         SELECT NULL\n           FROM Table2\n          WHERE value2 = '$value2')\n AND NOT EXISTS (\n         SELECT NULL\n           FROM Table3\n          WHERE value3 = '$value3')\n AND NOT EXISTS (\n         SELECT NULL\n           FROM Table4\n          WHERE value4 = '$value4')\n</code></pre>\n\n<p>I am trying to use a 'keypress' like <kbd>enter</kbd> or <kbd>esc</kbd> to skip the input and use a default value instead, without using the default setting in the prompt, because I don't want the user to see the default.</p>\n\n<p>If that wasn't clear, I hope this is.</p>\n\n<p>So, for prompt 3 and 4, I would like the user to just hit the <kbd>enter</kbd> key, and have the prompt use a default value instead and skip the prompt.</p>\n\n<p>-OR-</p>\n\n<p>Is there a better way to do this, as some prompts aren't needed in the query?</p>\n"}, {"tags": ["macos", "perl", "osx-yosemite"], "comments": [{"owner": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1430072624, "post_id": 29881571, "comment_id": 47887348, "body": "Couldn&#39;t help, as this site wont allow me to upload the picture of what I see. I will do my best to take you through."}, {"owner": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1430072652, "post_id": 29881571, "comment_id": 47887359, "body": "#!/usr/bin/perl use strict; use warnings; print \u201cHello world\u201d;"}, {"owner": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1430072685, "post_id": 29881571, "comment_id": 47887368, "body": "Error its showing:Unrecognized character \\xE2; marked by &lt;-- HERE after print &lt;-- HERE near column 7 at test.pl line 4."}, {"owner": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1430073181, "post_id": 29881571, "comment_id": 47887581, "body": "I did edit my question including the code and the error now."}, {"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 1, "creation_date": 1430073701, "post_id": 29881571, "comment_id": 47887803, "body": "Make sure you use a plain text editor, or an IDE, to write your code. Text processing software tends to play tricks with punctuation."}, {"owner": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1430074344, "post_id": 29881571, "comment_id": 47888079, "body": "Would try doing that. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 1, "creation_date": 1430073482, "post_id": 29881805, "comment_id": 47887699, "body": "To elaborate: Perl (like most other programming languages) only accepts straight quotation marks, <code>&quot;</code>.  Your code above is using comma quotation marks (<code>\u201c</code>... <code>\u201d</code>), probably because it was typed in something like Microsoft Word with &quot;smart quotes&quot; turned on."}, {"owner": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "edited": false, "score": 0, "creation_date": 1430073789, "post_id": 29881805, "comment_id": 47887833, "body": "Thank you, now it works but why wasn&#39;t it working before? and how do I type these non curly double quotes?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "edited": false, "score": 3, "creation_date": 1430102601, "post_id": 29881805, "comment_id": 47896683, "body": "@nishanth chava, Normally, you just press the appropriate key on your keyboard. If you used an editor designed for word processing rather than software development, it might have automatically replaced <code>&quot;</code> with fancier quotes. In MS Word, pressing undo (Ctrl-Z) immediately after typing <code>&quot;</code> undos the &quot;upgrade&quot;."}], "tags": [], "owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "is_accepted": false, "score": 9, "last_activity_date": 1430073298, "creation_date": 1430073298, "answer_id": 29881805, "question_id": 29881571, "link": "https://stackoverflow.com/questions/29881571/unrecognized-character-xe2-in-a-hello-world-program/29881805#29881805", "title": "&quot;Unrecognized character \\xE2&quot; in a Hello World program", "body": "<p>Change  the <pre>\u201c\u201d</pre> character in the print statement to <pre>\"</pre>\nExample</p>\n\n<pre><code>print \"Hello world\";  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13794347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646e314207daacecb25a8373469c6fc4?s=128&d=identicon&r=PG&f=1", "display_name": "Hirdesh", "link": "https://stackoverflow.com/users/13794347/hirdesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1597221361, "creation_date": 1597221361, "answer_id": 63372827, "question_id": 29881571, "link": "https://stackoverflow.com/questions/29881571/unrecognized-character-xe2-in-a-hello-world-program/63372827#63372827", "title": "&quot;Unrecognized character \\xE2&quot; in a Hello World program", "body": "<p>Make sure syntax like this ' should be proper. Check your perl file for syntax errors</p>\n<p>perl -c testfile.pl</p>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 2059351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d40e0cbd8f947b59d703dac3380f84?s=128&d=identicon&r=PG", "display_name": "ashrasmun", "link": "https://stackoverflow.com/users/2059351/ashrasmun"}, "is_accepted": false, "score": 0, "last_activity_date": 1606467640, "creation_date": 1606467640, "answer_id": 65034511, "question_id": 29881571, "link": "https://stackoverflow.com/questions/29881571/unrecognized-character-xe2-in-a-hello-world-program/65034511#65034511", "title": "&quot;Unrecognized character \\xE2&quot; in a Hello World program", "body": "<p>While it is not directly connected to this case, there's also a different situation when <code>\\xE2</code> error can appear, which can seem not obvious. One can also have a <a href=\"https://en.wikipedia.org/wiki/Zero-width_space#:%7E:text=The%20zero%2Dwidth%20space%20character,the%20groff%20representation%20is%20%5C%3A%20.\" rel=\"nofollow noreferrer\">zero-width space</a> in their string, which can also raise this error.</p>\n<p>I couldn't see this character in notepad or notepad++, but I could see it in vim as <code>&lt;200b&gt;</code>. This character can be placed next to <code>{</code> and <code>}</code> characters when copying stuff from for example Microsoft Teams.</p>\n<p>This link appears as the first one when searching for this kind of problem, so I thought it might be a good idea to post the solution here.</p>\n"}], "owner": {"reputation": 71, "user_id": 4835092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ploSQR6ogSU/AAAAAAAAAAI/AAAAAAAAAXY/yuydEPezh5I/photo.jpg?sz=128", "display_name": "nishanth chava", "link": "https://stackoverflow.com/users/4835092/nishanth-chava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11686, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1606467640, "creation_date": 1430072311, "last_edit_date": 1430073605, "question_id": 29881571, "link": "https://stackoverflow.com/questions/29881571/unrecognized-character-xe2-in-a-hello-world-program", "title": "&quot;Unrecognized character \\xE2&quot; in a Hello World program", "body": "<p>I am trying to write my first perl \"hello world\" program on Mac OS X Yosemite and it shows this error when I try to run this using terminal:</p>\n\n<pre><code>Unrecognized character \\xE2; marked by &lt;-- HERE after\nprint &lt;-- HERE\nnear   column 7 at test.pl line 4.\n</code></pre>\n\n<p>I couldn't figure out what was wrong in this program. Please help me out here. </p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \u201cHello world\u201d;\n</code></pre>\n"}, {"tags": ["perl", "data-structures", "perl-data-structures"], "comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1430159551, "post_id": 29880108, "comment_id": 47929303, "body": "I&#39;m with @ikegami since the data-structure seems a little bit strange. Also, since it does not effect the subsequent responses you could correct the syntax of your question<i>i.e.</i>  <code>@array = ( &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;a&quot;,&quot;d&quot;,&quot;b&quot;,&quot;d&quot;,&quot;z&quot;,)</code>; or note that it is pseudo-code."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1430147150, "last_edit_date": 1430147150, "creation_date": 1430066615, "answer_id": 29880454, "question_id": 29880108, "link": "https://stackoverflow.com/questions/29880108/split-array-into-arrays-containing-all-elements-with-the-same-value/29880454#29880454", "title": "Split array into arrays containing all elements with the same value", "body": "<pre><code>my @grouped;\nmy %indexes;\npush @{ $grouped[ $indexes{$_} //= @grouped ] }, $_\n   for @array;\n</code></pre>\n\n<p>But why would you ever need such a structure? It seems to me that all you need is the counts.</p>\n\n<pre><code>my %counts;\n++$counts{$_} for @array;\n</code></pre>\n\n<p>You can recreate the items later if need be.</p>\n\n<pre><code>my @grouped;\npush @grouped, [ ($_) x $counts{$_} ]\n   for keys %counts;\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4389780, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh6.googleusercontent.com/-w6i5MwvKw7Q/AAAAAAAAAAI/AAAAAAAAAK4/xoxIE6T7WL4/photo.jpg?sz=128", "display_name": "Ahmed Mahdi", "link": "https://stackoverflow.com/users/4389780/ahmed-mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1430159319, "creation_date": 1430064776, "last_edit_date": 1430159319, "question_id": 29880108, "link": "https://stackoverflow.com/questions/29880108/split-array-into-arrays-containing-all-elements-with-the-same-value", "title": "Split array into arrays containing all elements with the same value", "body": "<p>For example if I have this array:</p>\n\n<pre><code>array={\"a\",\"b\",\"c\",\"d\",\"a\",\"d\",\"b\",\"d\",\"z\"}\n</code></pre>\n\n<p>I want to split it to arrays that involves the same elements by Perl.</p>\n\n<p>The output should be like this:</p>\n\n<pre><code>array1={\"a\",\"a\"}\narray2={\"b\",\"b\"}\narray3={\"c\"}\narray4={\"d\",\"d\",\"d\"}\narray5={\"z\"}\n</code></pre>\n"}, {"tags": ["regex", "string", "perl", "match"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1430060979, "post_id": 29879204, "comment_id": 47882750, "body": "<code>([^\\W]+\\(\\w+\\)[^\\W]+)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1430067915, "post_id": 29879204, "comment_id": 47885518, "body": "fyi, the code posted by @l&#39;L&#39;l that doesn&#39;t handle <code>a(b)c(d)e</code>"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430069288, "post_id": 29879204, "comment_id": 47886012, "body": "@ikegami, It might if the last character class (eg. <code>[^\\W]+</code>) is changed to something such as <code>[^-\\n]+</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430072233, "post_id": 29879204, "comment_id": 47887177, "body": "That would make things worse"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430077191, "post_id": 29879204, "comment_id": 47889110, "body": "@ikegami, <a href=\"https://regex101.com/r/zU0qH8/1\" rel=\"nofollow noreferrer\">regex101.com/r/zU0qH8/1</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430087725, "post_id": 29879204, "comment_id": 47892800, "body": "Like I said, that made things worse.  The only way you can get two matches is to use a lookahead (or lookbehind)"}], "answers": [{"comments": [{"owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1430062437, "post_id": 29879508, "comment_id": 47883384, "body": "Perfect! One last thing, what happens if the 10 after the item is left off and I sill want to copy the data &quot;Contains(Item)&quot;?"}, {"owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1430062816, "post_id": 29879508, "comment_id": 47883526, "body": "Sorry, one more question, this is implemented in Perl as $var =~ s/([^-+*\\/]+&#40;[^()]+&#41;[^-+*\\/]+)//g; correct?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1430067890, "post_id": 29879508, "comment_id": 47885506, "body": "fyi, that doesn&#39;t handle <code>a(b)c(d)e</code>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1430061767, "creation_date": 1430061767, "answer_id": 29879508, "question_id": 29879204, "link": "https://stackoverflow.com/questions/29879204/regex-to-match-characters-directly-before-keyword-and-directly-afterwards/29879508#29879508", "title": "RegEx to Match Characters Directly Before Keyword and Directly Afterwards", "body": "<p>How about:</p>\n\n<pre><code>/([^-]+\\([^()]+\\)[^-]+)/g\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 4735903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870c3cd3096f304513e2573fa7e63091?s=128&d=identicon&r=PG", "display_name": "Loic", "link": "https://stackoverflow.com/users/4735903/loic"}, "is_accepted": false, "score": 1, "last_activity_date": 1430067804, "last_edit_date": 1430067804, "creation_date": 1430062790, "answer_id": 29879708, "question_id": 29879204, "link": "https://stackoverflow.com/questions/29879204/regex-to-match-characters-directly-before-keyword-and-directly-afterwards/29879708#29879708", "title": "RegEx to Match Characters Directly Before Keyword and Directly Afterwards", "body": "<p>For matching before and after, use additional capturing groups:</p>\n\n<pre><code>while (\n  $str\n  =~ m/\n        ([^-]*)          # before\n        \\( ( [^()]* ) \\) # (in)\n        (?= ([^-]*) )    # after\n     /gx\n) {\n    my ($before, $in, $after) = ($1, $2, $3);\n    ...\n}\n</code></pre>\n\n<p>Nested constructs cannot be recognized by regular expressions in the strict sense (finite state machine accepting a string). Perl's regex engine offer additional constructions for recognizing balanced parentheses, but they are difficult rather to use.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow\">http://perldoc.perl.org/perlre.html#Extended-Patterns</a> gives examples how to parse balanced parentheses, at <code>(??{ code })</code> and <code>(?PARNO)</code>.</p>\n\n<p>Finally, the structure of the string you want to parse seems to be a <code>-</code>-separated list. Try to find a formal grammar for what you want to parse, it will help you to design your program.</p>\n\n<p>If you don't need to handle <code>a(b)c(d)e</code>, then you can simplify <code>(?= ([^-]*) )</code> to <code>([^-]*)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1430072073, "creation_date": 1430072073, "answer_id": 29881521, "question_id": 29879204, "link": "https://stackoverflow.com/questions/29879204/regex-to-match-characters-directly-before-keyword-and-directly-afterwards/29881521#29881521", "title": "RegEx to Match Characters Directly Before Keyword and Directly Afterwards", "body": "<p>IMHO, no need to overcomplicate here. Here is a regex that will match <code>Contains</code>, everything in the brackets (with or without nested ones, balanced or not), and the optional digits. It assumes that there are <code>-</code>s around this construction:</p>\n\n<pre><code>\\w+\\(.*?\\)\\d*(?=-|$)\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/rY5cR9/1\" rel=\"nofollow\">demo</a></p>\n\n<p>Input:</p>\n\n<pre><code>Shelf-15-Contains(I(t)e(m))10-Depo91\nShelf-15-Contains(I(t)e(m))-Depo91\n</code></pre>\n\n<p>Matches:</p>\n\n<pre><code>Contains(I(t)e(m))10\nContains(I(t)e(m))\n</code></pre>\n"}], "owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1430072073, "creation_date": 1430060276, "last_edit_date": 1430069367, "question_id": 29879204, "link": "https://stackoverflow.com/questions/29879204/regex-to-match-characters-directly-before-keyword-and-directly-afterwards", "title": "RegEx to Match Characters Directly Before Keyword and Directly Afterwards", "body": "<p>I'm not good enough with RegEx yet. I've been searching around and trying to write my own, and haven't succeeded. I want to search through a string</p>\n\n<pre><code>Shelf-15-Contains(Item)10-Depo91\n</code></pre>\n\n<p>I want to search for (), which can be done by</p>\n\n<pre><code>/\\(([^()]+)\\)/g\n</code></pre>\n\n<p>When the RegEx finds () I want to grab the 'stuff' that comes right before the (), the () and everything inside, and then whatever follows directly afterwards. So,</p>\n\n<pre><code>Contains(Item)10\n</code></pre>\n\n<p>EDIT: Also, the RegEx I have above makes sure that there aren't nested (), so once I figure out how to match what comes before and after I should be able to run this recursively if there were multiple nested layers?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 4735903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870c3cd3096f304513e2573fa7e63091?s=128&d=identicon&r=PG", "display_name": "Loic", "link": "https://stackoverflow.com/users/4735903/loic"}, "is_accepted": true, "score": 2, "last_activity_date": 1430063507, "creation_date": 1430063507, "answer_id": 29879857, "question_id": 29879018, "link": "https://stackoverflow.com/questions/29879018/modifying-an-array-through-a-reference/29879857#29879857", "title": "Modifying an array through a reference", "body": "<p>Use a hash as an indicator function for identifying efficiently the items to be removed; use a grep for filtering them out:</p>\n\n<pre><code>sub func1 {\n    my $a = shift;\n    my %b = map { ($_ =&gt; 1) } (2, 6);\n    @$a = grep { !$b{$_} } @$a;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1430065350, "post_id": 29880096, "comment_id": 47884552, "body": "If you want to create a new array, you can also use <code>array_minus</code> from <a href=\"https://metacpan.org/pod/Array::Utils#array_minus\" rel=\"nofollow noreferrer\"><code>Array::Utils</code></a> or <code>get_unique</code> from <a href=\"https://metacpan.org/pod/List::Compare\" rel=\"nofollow noreferrer\"><code>List::Compare</code></a>."}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1430064697, "creation_date": 1430064697, "answer_id": 29880096, "question_id": 29879018, "link": "https://stackoverflow.com/questions/29879018/modifying-an-array-through-a-reference/29880096#29880096", "title": "Modifying an array through a reference", "body": "<p>With problems of this nature, it is often easier to build the array you want rather than delete from an existing one.</p>\n\n<pre><code>my @a = ( 1, 2, 3, 6 );\n\nsub func1 {\n  my $aref = shift @_;\n  my @b = ( 2, 6 );\n\n  my @results = ();\n  for my $item ( @$aref ){\n    if( grep { $item == $_ } @b ){\n      next;\n    }\n    push @results, $item;\n  }\n  return @results;\n}\n\nmy @results = func1( \\@a );\nsay \"@results\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1430112927, "post_id": 29881685, "comment_id": 47899565, "body": "Thanks for a great answer and the link to PerlMonks. That was very instructive!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1430144463, "post_id": 29881685, "comment_id": 47919411, "body": "@H&#229;konH&#230;gland Glad it was useful. Unfortunately, I realized after posting this that the benchmark <a href=\"http://www.perlmonks.org/?node_id=1124823\" rel=\"nofollow noreferrer\">is flawed</a>. BrowserUk posted an updated benchmark that shows <code>splice</code> having an edge for smaller arrays (up to ~10,000 elements), but after that it lags significantly. The other three approaches, which I omitted from this answer, are consistently faster than both <code>grep</code> and <code>splice</code>, for both large and small arrays. I&#39;ll update my answer later."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 1, "last_activity_date": 1430072751, "last_edit_date": 1495541181, "creation_date": 1430072751, "answer_id": 29881685, "question_id": 29879018, "link": "https://stackoverflow.com/questions/29879018/modifying-an-array-through-a-reference/29881685#29881685", "title": "Modifying an array through a reference", "body": "<p><a href=\"https://stackoverflow.com/a/29879857/176646\">Loic's solution</a> works well and is quite readable. I would recommend it unless you're working with large arrays that cause the <code>grep</code> to eat a lot of memory, or if performance is absolutely critical.</p>\n\n<p>You can get a bit of a performance boost by using <code>splice</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nmy @haystack = (1, 2, 3, 6);\n\nmy %needle = map { $_ =&gt; 1 } (2, 6);\n\nforeach my $i (reverse 0 .. $#haystack) {\n    splice @haystack, $i, 1 if exists $needle{ $haystack[$i] };\n}\n\ndd \\@haystack;\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[1, 3]\n</code></pre>\n\n<p>Note that you <em>must</em> iterate through <code>@haystack</code> in reverse order, since every time you remove an element, the remaining elements shift to the left, changing the array indexes.</p>\n\n<h2>Benchmark</h2>\n\n<p>Here are the results from a slightly modified version of BrowserUk's <a href=\"http://www.perlmonks.org/?node_id=1036756;spoil=1\" rel=\"nofollow noreferrer\">corrected benchmark</a>, written in response to <a href=\"http://www.perlmonks.org/?node_id=1036622;spoil=1\" rel=\"nofollow noreferrer\">foreach array - delete current row ?</a> on PerlMonks. The original benchmark included several other methods for removing elements from an array, which I've left out for simplicity.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./benchmark -N=1e2\n              Rate       grep for_splice\ngrep       40959/s         --       -37%\nfor_splice 65164/s        59%         --\n$ ./benchmark -N=1e3\n             Rate       grep for_splice\ngrep       4072/s         --       -38%\nfor_splice 6515/s        60%         --\n$ ./benchmark -N=1e4\n            Rate       grep for_splice\ngrep       366/s         --       -33%\nfor_splice 550/s        50%         --\n$ ./benchmark -N=1e5\n             Rate       grep for_splice\ngrep       32.7/s         --       -38%\nfor_splice 52.9/s        62%         --\n$ ./benchmark -N=1e6\n            (warning: too few iterations for a reliable count)\n\n             Rate       grep for_splice\ngrep       2.36/s         --       -28%\nfor_splice 3.28/s        39%         --\n</code></pre>\n\n<p>And the benchmark code itself:</p>\n\n<pre><code>#!/usr/bin/perl -sl\n\nuse strict;\nuse warnings;\n\nuse Benchmark 'cmpthese';\n\nour $N //= 1e3;\nour $I //= -1;\n\n# 10% the size of the haystack\nmy $num_needles = int($N / 10) || 1;\n\nour @as;\n@{ $as[ $_ ] } = 1 .. $N for 0 .. 4;\n\nour %needle = map { int(rand($N)) =&gt; 1 } 1 .. $num_needles;\n\ncmpthese $I, {\n    for_splice =&gt; q[\n        my $ar = $as[0];\n        foreach my $i (reverse 0 .. $#$ar) {\n            splice @$ar, $i, 1 if exists $needle{ $ar-&gt;[$i] };\n        }\n        $I == 1 and print \"0: \", \"@$ar\";\n    ],\n    grep =&gt; q[\n        my $ar = $as[1];\n        @$ar = grep { ! exists $needle{$_} } @$ar;\n        $I == 1 and print \"1: \", \"@$ar\";\n    ],\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1430127628, "post_id": 29882523, "comment_id": 47907504, "body": "Thanks! Great to know how to use a C-style for loop. This was just what I was trying to achieve.. I am always learning something new from you.. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1430134734, "post_id": 29882523, "comment_id": 47912133, "body": "@H&#229;konH&#230;gland: Are you familiar with C? I&#39;ve left out the third clause of the <code>for</code>, which would normally be <code>++$i</code> because the index is incremented only when there is no match. As it stands, it&#39;s identical to <code>my $i = 0;</code> <code>while ( $i &lt; @$a ) { ... }</code> which you may prefer"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1430076911, "creation_date": 1430076911, "answer_id": 29882523, "question_id": 29879018, "link": "https://stackoverflow.com/questions/29879018/modifying-an-array-through-a-reference/29882523#29882523", "title": "Modifying an array through a reference", "body": "<p>You can't use a simple <code>for (LIST)</code> loop to iterate over the indices of an array if you're also modifying the contents of the array. That's because the index of the last item may change, and you will also skip over elements if you delete the current element <em>and</em> increment the counter.</p>\n\n<p>A <code>while</code> loop is required instead, or the equivalent C-style <code>for</code>.</p>\n\n<p>This program demonstrates, as well as uing <code>List::Util::any</code> to check whether an array elemnent should be deleted</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util 'any';\n\nmy @a = (1, 2, 3, 6);\nfunc1 (\\@a);\n\nuse Data::Dump;\ndd \\@a;\n\nsub func1 {\n    my ($a) = @_;\n    my @b = (2, 6);\n\n    for ( my $i = 0; $i &lt; @$a; ) {\n      if ( any { $a-&gt;[$i] == $_ } @b ) {\n        splice @$a, $i, 1;\n      }\n      else {\n        ++$i;\n      }\n    }\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[1, 3]\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 29879857, "answer_count": 4, "score": 1, "last_activity_date": 1430076911, "creation_date": 1430059156, "question_id": 29879018, "link": "https://stackoverflow.com/questions/29879018/modifying-an-array-through-a-reference", "title": "Modifying an array through a reference", "body": "<p>I am trying to write a subroutine that will receive an array reference and then delete some of the elements of the array. For example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @a = (1, 2, 3, 6);\nfunc1 (\\@a);\n\nsub func1 {\n    my $a = shift;\n\n    my @b = (2, 6);\n\n    for my $val_to_remove (@b) {\n        for my $i (0..$#$a) {\n            my $val = $a-&gt;[$i];\n            if ( $val == $val_to_remove ) {\n                splice @$a, $i, 1;\n                last;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This seems, to say the least, a little awkward using two <code>for</code> loops. \nIs it possible to simplify this?</p>\n\n<p>I also tried</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @a = (1, 2, 3, 6);\n\nmy $temp = \\@a;\nfunc2 (\\$temp );\n\nsub func2 {\n    my $a = shift;\n\n    $$a = [2, 6];\n}\n</code></pre>\n\n<p>but then <code>@a</code> is not modified, but rather <code>$temp</code> will be..</p>\n\n<p>I would also rather like to avoid passing a reference to a reference, since that will mess up the calling syntax for other modules.</p>\n"}, {"tags": ["perl", "postgresql", "dbix-class"], "answers": [{"comments": [{"owner": {"reputation": 174, "user_id": 3996094, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3KKPC.jpg?s=128&g=1", "display_name": "RandomAndy", "link": "https://stackoverflow.com/users/3996094/randomandy"}, "edited": false, "score": 0, "creation_date": 1430221202, "post_id": 29902384, "comment_id": 47957928, "body": "I was kinda hoping there was a shorter way to call DB functions, instead of creating Views for each of them ;-) But I guess I&#39;m gonna do it like this now. Thanks a lot!"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 1, "last_activity_date": 1430156072, "creation_date": 1430156072, "answer_id": 29902384, "question_id": 29877373, "link": "https://stackoverflow.com/questions/29877373/how-to-call-postgres-function-in-dbixclass/29902384#29902384", "title": "How to call Postgres function in DBIx::Class", "body": "<p>If you want to use <a href=\"http://www.postgresql.org/docs/9.1/static/xfunc-sql.html#XFUNC-SQL-TABLE-FUNCTIONS\" rel=\"nofollow\">SQL Functions as Table Sources</a>, it should be possible to create a virtual <a href=\"https://metacpan.org/pod/distribution/DBIx-Class/lib/DBIx/Class/ResultSource/View.pod\" rel=\"nofollow\">DBIx::Class::ResultSource::View</a> like this:</p>\n\n<pre><code>package MyApp::Schema::Result::MyFunction;\n\nuse base qw/DBIx::Class::Core/;\n\n__PACKAGE__-&gt;table_class('DBIx::Class::ResultSource::View');\n\n__PACKAGE__-&gt;table('myFunction');\n__PACKAGE__-&gt;result_source_instance-&gt;is_virtual(1);\n__PACKAGE__-&gt;result_source_instance-&gt;view_definition(\n    'SELECT foobar FROM \"foo\".\"myFunction\"(?)'\n);\n__PACKAGE__-&gt;add_columns(\n    'foobar' =&gt; {\n        data_type =&gt; 'varchar',\n    },\n);\n</code></pre>\n\n<p>The view can be used like this:</p>\n\n<pre><code>my $rs = $schema-&gt;resultset('MyFunction')-&gt;select({}, {\n    bind =&gt; [ 'arg' ],\n});\n</code></pre>\n\n<p>This will create a subquery that isn't really necessary:</p>\n\n<pre><code>SELECT me.foobar FROM (SELECT foobar FROM \"foo\".\"myFunction\"(?)) me\n</code></pre>\n\n<p>But I think it should work.</p>\n"}], "owner": {"reputation": 174, "user_id": 3996094, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3KKPC.jpg?s=128&g=1", "display_name": "RandomAndy", "link": "https://stackoverflow.com/users/3996094/randomandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 29902384, "answer_count": 1, "score": 1, "last_activity_date": 1430156072, "creation_date": 1430049859, "last_edit_date": 1430078412, "question_id": 29877373, "link": "https://stackoverflow.com/questions/29877373/how-to-call-postgres-function-in-dbixclass", "title": "How to call Postgres function in DBIx::Class", "body": "<p>I'm currently playing around with <a href=\"https://metacpan.org/pod/DBIx::Class\" rel=\"nofollow\">DBIx::Class</a> and I'm wondering how to call an existing Postgres function in a certain db schema using DBIx.</p>\n\n<p>My DBI code:</p>\n\n<pre><code>my $table = $self-&gt;{dbh}-&gt;quote_identifier(\n                    undef,\n                    'foo',\n                    'myFunction'\n                    );\n\nmy $sqlst = qq{ SELECT foobar FROM $table($some_data); };\n</code></pre>\n\n<p>The things I found so far, would be to call said function using the dbh object retrieved from my <a href=\"https://metacpan.org/pod/DBIx::Class::Schema\" rel=\"nofollow\">DBIx::Class::Schema</a> object:</p>\n\n<pre><code>my $return_data = {};\n\nmy $sql = qq{SELECT foobar FROM \"foo\".\"myFunction\"($some_data)};\n\n$self-&gt;{schema}-&gt;storage-&gt;dbh_do( sub {\n    my ($storage, $dbh) = @_;\n    $menu_list = $dbh-&gt;selectrow_hashref(\n        $sql,\n        { slice =&gt; {} }\n    );\n});\n</code></pre>\n\n<p>Is there a better/easier solution than this?</p>\n\n<p>I also stumbled upon <a href=\"https://metacpan.org/pod/DBIx::ProcedureCall\" rel=\"nofollow\">DBIx::ProcedureCall</a>, but I couldn't get it to work when using a DB schema.</p>\n\n<p>Any help is much appreciated!</p>\n"}, {"tags": ["regex", "r", "perl"], "comments": [{"owner": {"reputation": 86941, "user_id": 3001626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PNguN.png?s=128&g=1", "display_name": "David Arenburg", "link": "https://stackoverflow.com/users/3001626/david-arenburg"}, "edited": false, "score": 0, "creation_date": 1430042751, "post_id": 29876097, "comment_id": 47876752, "body": "There are some features that are not supported without <code>perl = TRUE</code> such as Look ahead/behind"}], "answers": [{"tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 3, "last_activity_date": 1430042985, "creation_date": 1430042985, "answer_id": 29876310, "question_id": 29876097, "link": "https://stackoverflow.com/questions/29876097/why-and-when-to-use-optional-perl-parameters-in-r/29876310#29876310", "title": "Why and when to use optional perl parameters in R", "body": "<p>Regular expressions come in multiple <em>flavors</em>. Different flavors have different features, supported syntax, or other obscure differences.</p>\n\n<p>Perl is considered as one of the most feature-complete flavor, which led to the develomment of the <a href=\"http://www.pcre.org/\" rel=\"nofollow\">PCRE</a> (Perl-Compatible Regular Expressions) library, which allows the use of the Perl flavor in other languages. There are some other regex libraries which support Perl syntax to some extent.</p>\n\n<p>Contrast this with the default regex flavor used in R: POSIX ERE, which is one of the least feature-complete.</p>\n\n<p>You can use <a href=\"http://www.regular-expressions.info/refbasic.html\" rel=\"nofollow\">this site</a> to compare flavors.</p>\n"}], "owner": {"reputation": 574, "user_id": 4512358, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605236a86afae6e3e9f4cb463d37bbec?s=128&d=identicon&r=PG&f=1", "display_name": "MineSweeper", "link": "https://stackoverflow.com/users/4512358/minesweeper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 29876310, "answer_count": 1, "score": 2, "last_activity_date": 1430042985, "creation_date": 1430041798, "last_edit_date": 1430042522, "question_id": 29876097, "link": "https://stackoverflow.com/questions/29876097/why-and-when-to-use-optional-perl-parameters-in-r", "title": "Why and when to use optional perl parameters in R", "body": "<p>Out of curiosity, I have a general question about the optional <code>perl</code> parameter in <code>R</code> funtions like <code>grep</code>. As the title says in the title, i'd like to know why and when one should use this option. Is it a general thing to do if possible?</p>\n\n<p>In addition to that I thought about the reason of such a parameter. Someone must have decided that this is a way to go and I wonder why.</p>\n\n<p>I am almost positive that someone of you knows an answer.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "edited": false, "score": 0, "creation_date": 1430028193, "post_id": 29874192, "comment_id": 47873398, "body": "Dev&#39;s I apologize if this is a repeat question. I tried the other answers before making this post and they didn&#39;t help. Thank you for keeping Stackoverflow legit. I have learned a lot from using your platform."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430042693, "post_id": 29874192, "comment_id": 47876735, "body": "Note that calling subroutines with an ampersand is a Perl 4 artifact and about twenty-two years out of date. Just <code>gethtml_child_csite($csite_child_dir)</code> is correct in Perl 5"}, {"owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430045023, "post_id": 29874192, "comment_id": 47877452, "body": "Thank you Borodin for the information, should I have, use perl 5 at the top near use strict and so fourth?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430048202, "post_id": 29874192, "comment_id": 47878399, "body": "No, all <code>use 5.010</code> etc. does is require a minimal version of Perl before the code will compile. At a glance I think any version of Perl 5 is fine with your code, it&#39;s just that adding an ampersand does very specific things that you almost certainly don&#39;t want. Just remove them"}, {"owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430364531, "post_id": 29874192, "comment_id": 48037603, "body": "Thank you I will implement your suggestion after this test run of my utility."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "edited": false, "score": 0, "creation_date": 1430027691, "post_id": 29874273, "comment_id": 47873307, "body": "I added @ to each $master and $child references e.g. @$master and @$child and now it works. Mind blowing how easy it was. I&#39;m going to implement your advice. Thank you for your time..."}, {"owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "edited": false, "score": 0, "creation_date": 1430028062, "post_id": 29874273, "comment_id": 47873377, "body": "Implemented and works, staying with your way because I guarantee you know more about perl than me. When I get 15 rep I will come back and upvote your answer. Thanks again ysth."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "edited": false, "score": 0, "creation_date": 1430056624, "post_id": 29874273, "comment_id": 47881083, "body": "<code>@$arrayref[list-of-indexes]</code> is an array slice, a list of values from the array; given a single index, it is only subtly different from a single element lookup <code>$$arrayref[index]</code> / <code>$arrayref-&gt;[index]</code>.  you may want to look at <a href=\"http://perlmonks.org/?node=References+quick+reference\" rel=\"nofollow noreferrer\">perlmonks.org/?node=References+quick+reference</a>"}, {"owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "edited": false, "score": 0, "creation_date": 1430364447, "post_id": 29874273, "comment_id": 48037573, "body": "Thank you again ysth, I will definitely read into your reference. Also thank you again for all your help and time."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1430027485, "creation_date": 1430027485, "answer_id": 29874273, "question_id": 29874192, "link": "https://stackoverflow.com/questions/29874192/cant-find-error-global-symbol-xx-requires-explicit-package-name/29874273#29874273", "title": "Can&#39;t find error &quot;Global symbol @xx requires explicit package name&quot;", "body": "<p><code>$master</code> and <code>$child</code> are array references; use them like <code>$master-&gt;[0]</code>.  <code>$master[0]</code> uses the array <code>@master</code>, which is a completely separate variable.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1430066356, "post_id": 29877741, "comment_id": 47884930, "body": "FWIW, opinions vary on some of these things.  one of the things Borodin lists is IMO completely a matter of taste and one is (again IMO) just wrong."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1430073385, "post_id": 29877741, "comment_id": 47887655, "body": "@ysth: I would welcome your comments about those points you disagree with"}, {"owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "edited": false, "score": 0, "creation_date": 1430364223, "post_id": 29877741, "comment_id": 48037510, "body": "Borodin thank you for your in depth response and time. I am grateful for all your suggestions and your implementation of the sub par Perl code I have written. I can see exactly what everything is doing in your code. Also thank you for showing me how to make my subroutines scalable. I will definitely be referring back to your suggestions and implementation when I redo this project."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1430055873, "last_edit_date": 1430055873, "creation_date": 1430052009, "answer_id": 29877741, "question_id": 29874192, "link": "https://stackoverflow.com/questions/29874192/cant-find-error-global-symbol-xx-requires-explicit-package-name/29877741#29877741", "title": "Can&#39;t find error &quot;Global symbol @xx requires explicit package name&quot;", "body": "<p>I thought it may help to go through your program and point out some practices that are less than optimal</p>\n\n<ul>\n<li><p>You shouldn't use an ampersand <code>&amp;</code> when calling a Perl subroutine. That was required in Perl 4 which was superseded about 22 years ago</p></li>\n<li><p>It is preferable to use the <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow\"><code>File::Spec</code></a> module to manipulate file paths, both to handle cases like multiple path separators and for portability. <code>File::Spec</code> will also do the job of <code>File::BaseName</code></p></li>\n<li><p>It is unnecessary to use the shell to create a date string. Use the <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> module and <code>localtime-&gt;ymd</code> generates the same string as <code>date +%F</code></p></li>\n<li><p>It is neater and more concise to use <code>map</code> where appropriate instead of writing multiple identical assignments</p></li>\n<li><p>The <code>gethtml_master_csite</code> and <code>gethtml_child_csite</code> subroutines are identical except that they use different variable names internally. They can be replaced by a single <code>gethtml_csite</code> subroutine</p></li>\n<li><p>You should use <em>lexical</em> file and directory handles throughout, as you have done with the first <code>opendir</code>. You should also use the three-parameter form of <code>open</code> (with the open mode as the second parameter)</p></li>\n<li><p>If an <code>open</code> fails then you should include the variable <code>$!</code> in the <code>die</code> string so that you know <em>why</em> it failed. Also, if you end the string with a newline then Perl won't append the source file and line number to the string when it is printed</p></li>\n<li><p>As you have read, the <code>csite_md5</code> attempts to use arrays <code>@master</code> and <code>@child</code> which don't exist. You have array <em>references</em> <code>$master</code> and <code>$child</code> instead. Also, the subroutine lends itself to a loop structure instead of writing the four comparisons explicitly</p></li>\n<li><p>In <code>md5sum</code> you have used an <code>eval</code> to catch the <code>die</code> when the <code>open</code> call fails. It is nicer to check for this explicitly</p></li>\n<li><p>The standard way of returning a <em>false</em> value from a subroutine is a bare <code>return</code>. If you <code>return ''</code> then it will evaluate as <em>true</em> in list context</p></li>\n</ul>\n\n<p>With those chnages in place your code looks like this. Please ask if you have any problem understanding it. Note that I haven't been able to test it but it does compile</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Digest::MD5 qw(md5_hex);\nuse File::Spec::Functions qw/ catdir catfile splitpath /;\nuse Time::Piece 'localtime';\n\nmy $csite_dir = '/root/websites/c-site/wget/';\n\nopendir my $dh, $csite_dir or die qq{Unable to open \"$csite_dir\": $!};\n\nmy @wget_subdir_csite = sort grep /^[^.]/, readdir $dh;\n\nmy ($csite_master_dir, $csite_child_dir) = map\n        catdir($csite_dir, $_, 'dayzunderground.webs.com'),\n        @wget_subdir_csite[0,1];\n\nmy @master_csite = gethtml_csite($csite_master_dir);\nmy @child_csite  = gethtml_csite($csite_child_dir);\n\ncsite_md5(\\@master_csite, \\@child_csite);\n\nsub gethtml_csite {\n\n    my ($path) = @_;\n\n    opendir my $dh, $path or die qq{Unable to open \"$path\": $!};\n    my @files = sort grep { /\\.html$/i and -f } map catfile($path, $_), readdir $dh;\n\n    return @files;\n}\n\nsub csite_md5 {\n\n    my ($master_list, $child_list) = @_;\n\n    for my $i ( 0 .. $#$master_list ) {\n\n        my ($master, $child) = ($master_list-&gt;[$i], $child_list-&gt;[$i]);\n\n        if ( md5sum($master) ne md5sum($child) ) {\n            my $filename = (splitpath($master))[-1]; # Returns (volume, path, file)\n            my $date = localtime-&gt;ymd;\n            system(\"diff -u -d -t --width=100 $master $child &gt; ~/websites/c-site/diff/c-site-$filename-$date\");\n        }\n    }\n}\n\nsub md5sum {\n\n    my ($file) = @_;\n    my $digest = \"\";\n\n    open my $fh, '&lt;', $file or do {\n        warn qq{Can't open file \"$file\": $!};   # '\n        return;\n    };\n\n    my $ctx = Digest::MD5-&gt;new;\n    $ctx-&gt;addfile($fh);\n\n    return $ctx-&gt;hexdigest;\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4621995, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GeYAcJsi2KI/AAAAAAAAAAI/AAAAAAAAC44/Im0eVXi4Q64/photo.jpg?sz=128", "display_name": "Robert Edstrom", "link": "https://stackoverflow.com/users/4621995/robert-edstrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 29874273, "answer_count": 2, "score": 2, "last_activity_date": 1430055873, "creation_date": 1430026773, "last_edit_date": 1430050839, "question_id": 29874192, "link": "https://stackoverflow.com/questions/29874192/cant-find-error-global-symbol-xx-requires-explicit-package-name", "title": "Can&#39;t find error &quot;Global symbol @xx requires explicit package name&quot;", "body": "<p>I have checked the questions that may already have an answer and none of them have helped. </p>\n\n<p>This is for my semester project for Unix Programming. I have created a script that compares HTML files to one other from a website.</p>\n\n<p>The script worked perfectly as expected until I tried to implement the second website, so in turn I deleted the added code for the second website and now I get the errors</p>\n\n<pre><code>Global symbol \"@master\" requires explicit package name\nGlobal symbol \"@child\" requires explicit package name\n</code></pre>\n\n<p>within the <code>csite_md5</code> subroutine. I have gone through the code many times over and cannot see the problem. </p>\n\n<p>I am looking for another set of eyes to see if I'm just missing something simple, which usually is the case.</p>\n\n<p>Also I am new to Perl as this is my first time using the language. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Digest::MD5 qw(md5_hex);\nuse File::Basename;\n\n# Path to the c-site download root directory\nmy $csite_dir = '/root/websites/c-site/wget/';\n\nopendir my $dh, $csite_dir or die $!;\n\n# Finds the sub directories c-site_'date +%F' where the c-site download is located\nmy @wget_subdir_csite = sort grep /^[^.]/, readdir $dh;\n\n# Creates the absolute path to the c-site download\nmy $csite_master_dir = \"$csite_dir$wget_subdir_csite[0]/dayzunderground.webs.com\";\nmy $csite_child_dir = \"$csite_dir$wget_subdir_csite[1]/dayzunderground.webs.com\";\n\n# Call to subroutine to append the .html file name to the absolute path\nmy @master_csite = &amp;gethtml_master_csite($csite_master_dir);\nmy @child_csite = &amp;gethtml_child_csite($csite_child_dir);\n\n&amp;csite_md5(\\@master_csite, \\@child_csite);\n\nsub gethtml_master_csite{\n\n    my ($master_path) = @_;\n    opendir (DIR, $master_path) or die $!;\n\n    # Ends with .html and is a file\n    my @html_master = sort grep {m/\\.html$/i &amp;&amp; -f \"$master_path/$_\"} readdir(DIR);\n\n    my @files_master = (\"$master_path/$html_master[0]\",\"$master_path/$html_master[1]\",\"$master_path/$html_master[2]\",\"$master_path/$html_master[3]\");\n\n    return @files_master\n}\nsub gethtml_child_csite{\n\n    my ($child_path) = @_;\n    opendir (DIR, $child_path) or die $!;\n\n    # Ends with .html and is a file\n    my @html_child = sort grep {m/\\.html$/i &amp;&amp; -f \"$child_path/$_\"} readdir(DIR);\n\n    my @files_child = (\"$child_path/$html_child[0]\",\"$child_path/$html_child[1]\",\"$child_path/$html_child[2]\",\"$child_path/$html_child[3]\");\n\n    return @files_child\n}\n\nsub csite_md5{\n\n    my ($master, $child) = @_;\n\n    if(&amp;md5sum($master[0]) ne &amp;md5sum($child[0])){\n\n        my $filename = basename($master[0]);\n        system(\"diff -u -d -t --width=100 $master[0] $child[0] &gt; ~/websites/c-site/diff/c-site-$filename-`date +%F`\");\n\n        #print \"1\"\n    }\n    if(&amp;md5sum($master[1]) ne &amp;md5sum($child[1])){\n\n        my $filename2 = basename($master[1]);\n        system(\"diff -u -d -t --width=100 $master[1] $child[1] &gt; ~/websites/c-site/diff/c-site-$filename2-`date +%F`\");\n\n        #print \"2\"\n    }\n    if(&amp;md5sum($master[2]) ne &amp;md5sum($child[2])){\n\n        my $filename3 = basename($master[2]);\n        system(\"diff -u -d -t --width=100 $master[2] $child[2] &gt; ~/websites/c-site/diff/c-site-$filename3-`date +%F`\");\n        #print \"3\"\n    }\n    if(&amp;md5sum($master[3]) ne &amp;md5sum($child[3])){\n\n        my $filename4 = basename($master[3]);\n        system(\"diff -u -d -t --width=100 $master[3] $child[3] &gt; ~/websites/c-site/diff/c-site-$filename4-`date +%F`\");\n\n        #print \"4\"\n    }\n}\n\nsub md5sum{\n    my $file = shift;\n    my $digest = \"\";\n    eval{\n        open(FILE, $file) or die \"Can't find file $file\\n\";\n        my $ctx = Digest::MD5-&gt;new;\n        $ctx-&gt;addfile(*FILE);\n        $digest = $ctx-&gt;hexdigest;\n        close(FILE);\n    };\n    if($@){\n        print $@;\n        return \"\";\n    }\n    return $digest\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1430030694, "post_id": 29874394, "comment_id": 47873887, "body": "What does <code>.*&#47;$1</code> means on your regex? And on your split code, is it really <code>&#165;n</code>?"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "reply_to_user": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1430030981, "post_id": 29874394, "comment_id": 47873975, "body": "The <code>.*</code> before <code>(</code> and after <code>)</code> means unneeded part. <code>$1</code> will contains the string between these."}, {"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1430554541, "post_id": 29874394, "comment_id": 48118919, "body": "Thanks for the answer. For the follow-up, Once I had found the section of the file, i will do something like this:          $contents =~ tr/\\+,\\.,*//d;         $contents =~ s/SUBCKT  //;          $contents =~ s/Net Section//;         @ports = split (&#39; &#39;, $contents);  Can I do something smaller than this?"}], "tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": false, "score": 0, "last_activity_date": 1430030793, "last_edit_date": 1430030793, "creation_date": 1430028657, "answer_id": 29874394, "question_id": 29874146, "link": "https://stackoverflow.com/questions/29874146/assigning-range-to-an-array-in-perl/29874394#29874394", "title": "Assigning range to an array in Perl", "body": "<p>The <code>&lt;INFILE&gt;</code> inside a <code>while</code> will read the file line-by-line, so not a right place to apply a regex which need to cover more than one line. In order to get a substring, the simplest way is to first join all these lines. And only after that you apply your regex.</p>\n\n<pre><code>my $contents = \"\";\nwhile ( &lt;INFILE&gt; ) {\n    $contents = $contents . $_;\n}\n$contents =~ s/.*(\\.SUBCKT.*\\*Net Section).*/$1/s; # remove unneeded part\n</code></pre>\n\n<p>Please note that there is <code>/s</code> modifier in the last part of substitution line. This is required because <code>$contents</code> contains newlines.</p>\n\n<p>To get the substring into array, just use split <code>my @allports = split(\"\\n\", $contents);</code></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1430043557, "creation_date": 1430043557, "answer_id": 29876399, "question_id": 29874146, "link": "https://stackoverflow.com/questions/29874146/assigning-range-to-an-array-in-perl/29876399#29876399", "title": "Assigning range to an array in Perl", "body": "<p>The <code>while</code> loop only gives you one line at a time so you can't assign all of the lines you want at once. Use <code>push</code> instead to grow the array line by line.</p>\n\n<p>Also, you should be using <em>lexical</em> file handles like <code>$in_fh</code> (rather than global ones like <code>INFILE</code>) with the three-parameter form of <code>open</code>, and you should include the <code>$!</code> variable in the <code>die</code> string so that you know <em>why</em> the open failed.</p>\n\n<p>This is how your program should look</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $input = 'clktest.spf';\n\nopen my $in_fh, '&lt;', $input or die \"Can't open $input: $!\" ;\n\nmy @allports;\n\nwhile ( &lt;$in_fh&gt; ) {\n    push @allports, $_ if /\\.SUBCKT/ ... /\\*Net Section/;\n}\n\nprint @allports;\n</code></pre>\n\n<p>Note that, if all you want to do is to print the selected lines from the file, you can forget about the array and replace <code>push @allports, $_</code> with <code>print</code></p>\n"}], "owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 29876399, "answer_count": 2, "score": 0, "last_activity_date": 1430043557, "creation_date": 1430026287, "last_edit_date": 1430027594, "question_id": 29874146, "link": "https://stackoverflow.com/questions/29874146/assigning-range-to-an-array-in-perl", "title": "Assigning range to an array in Perl", "body": "<p>I have some mini problem. How can I assign a range into an array, like this one:</p>\n\n<p><b>input file</b>: <code>clktest.spf</code></p>\n\n<pre><code>*\n.GLOBAL  vcc! vss!\n*\n.SUBCKT  eclk_l_25h brg2eclk&lt;1&gt; brg2eclk&lt;0&gt; brg_cs_sel brg_out brg_stop cdivx&lt;1&gt;\n+ eclkout1&lt;24&gt; eclkout1&lt;23&gt; eclkout1&lt;22&gt; eclkout1&lt;21&gt; eclkout1&lt;20&gt; eclkout1&lt;19&gt;\n+ mc1_brg_dyn mc1_brg_outen mc1_brg_stop mc1_div2&lt;1&gt; mc1_div2&lt;0&gt; mc1_div3p5&lt;1&gt;\n+ mc1_div3p5&lt;0&gt; mc1_div_mux&lt;3&gt; mc1_div_mux&lt;2&gt; mc1_div_mux&lt;1&gt; mc1_div_mux&lt;0&gt;\n+ mc1_gsrn_dis&lt;0&gt; pclkt6_0 pclkt6_1 pclkt7_0 pclkt7_1 slip&lt;1&gt; slip&lt;0&gt;\n+ ulc_pclkgpll0&lt;1&gt; ulc_pclkgpll0&lt;0&gt; ulq_eclkcib&lt;1&gt; ulq_eclkcib&lt;0&gt;\n*\n*Net Section\n*\n*|GROUND_NET 0\n*\n*|NET eclkout3&lt;48&gt; 2.79056e-16\n*|P (eclkout3&lt;48&gt; X 0 54.8100 -985.6950)\n*|I (RXR0&lt;16&gt;#NEG RXR0&lt;16&gt; NEG X 0 54.2255 -985.6950)\nC1 RXR0&lt;16&gt;#NEG 0 5.03477e-17\nC2 eclkout3&lt;48&gt; 0 2.28708e-16\nRk_6_1 eclkout3&lt;48&gt; RXR0&lt;16&gt;#NEG 0.110947\n</code></pre>\n\n<p><b>output</b> (this should be the saved value in the array)</p>\n\n<pre><code>.SUBCKT  eclk_l_25h brg2eclk&lt;1&gt; brg2eclk&lt;0&gt; brg_cs_sel brg_out brg_stop cdivx&lt;1&gt;\n+ eclkout1&lt;24&gt; eclkout1&lt;23&gt; eclkout1&lt;22&gt; eclkout1&lt;21&gt; eclkout1&lt;20&gt; eclkout1&lt;19&gt;\n+ mc1_brg_dyn mc1_brg_outen mc1_brg_stop mc1_div2&lt;1&gt; mc1_div2&lt;0&gt; mc1_div3p5&lt;1&gt;\n+ mc1_div3p5&lt;0&gt; mc1_div_mux&lt;3&gt; mc1_div_mux&lt;2&gt; mc1_div_mux&lt;1&gt; mc1_div_mux&lt;0&gt;\n+ mc1_gsrn_dis&lt;0&gt; pclkt6_0 pclkt6_1 pclkt7_0 pclkt7_1 slip&lt;1&gt; slip&lt;0&gt;\n+ ulc_pclkgpll0&lt;1&gt; ulc_pclkgpll0&lt;0&gt; ulq_eclkcib&lt;1&gt; ulq_eclkcib&lt;0&gt;\n*\n*Net Section\n</code></pre>\n\n<p><b>my simple code:</b></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $input = \"clktest.spf\";\n\nopen INFILE, $input or die \"Can't open $input\" ;\n\nmy @allports;\nwhile (&lt;INFILE&gt;){\n    @allports = /\\.SUBCKT/ ... /\\*Net Section/ ;\n    print @allports;\n} \n</code></pre>\n\n<p>I am doing a correct job of assigning the selected range into an array? If not how can I modify this code?</p>\n\n<p>Thanks for advance.</p>\n"}, {"tags": ["mysql", "sql", "linux", "perl"], "comments": [{"owner": {"reputation": 99308, "user_id": 107744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d6a34fb9a78937e1500b7ae0b5aee37?s=128&d=identicon&r=PG&f=1", "display_name": "spencer7593", "link": "https://stackoverflow.com/users/107744/spencer7593"}, "edited": false, "score": 1, "creation_date": 1429994866, "post_id": 29870451, "comment_id": 47865983, "body": "That&#39;s not a SQL error.  That&#39;s Perl griping that it can&#39;t find a library (a Perl module) that should have a filename of <b><code>Statement.pm</code></b>.  Perl is trying to resolve a reference to that, found on line 12 of <b><code>Mysql.pm</code></b>.  The list of directories that Perl searches is given in <code>@INC</code>."}, {"owner": {"reputation": 11, "user_id": 4776102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oytrE6Bhg0E/AAAAAAAAAAI/AAAAAAAAAAA/c27h_NrfjIo/photo.jpg?sz=128", "display_name": "Nettrus", "link": "https://stackoverflow.com/users/4776102/nettrus"}, "edited": false, "score": 0, "creation_date": 1429997348, "post_id": 29870451, "comment_id": 47866777, "body": "Thank you, I will look deeper into it. We don&#39;t really have access to the original files so it was hard to tell what is what."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1430015268, "post_id": 29870451, "comment_id": 47871062, "body": "I hope that&#39;s not your real database username and password in the code snippet. If so, I would recommend changing your password, just to be safe."}, {"owner": {"reputation": 11, "user_id": 4776102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oytrE6Bhg0E/AAAAAAAAAAI/AAAAAAAAAAA/c27h_NrfjIo/photo.jpg?sz=128", "display_name": "Nettrus", "link": "https://stackoverflow.com/users/4776102/nettrus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1430097133, "post_id": 29870451, "comment_id": 47895313, "body": "@ThisSuitIsBlackNot - It is wrong compare to what they created - thats why I didn&#39;t change it, but regardless I&#39;ve updated it all - Thanks for the note"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 4776102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oytrE6Bhg0E/AAAAAAAAAAI/AAAAAAAAAAA/c27h_NrfjIo/photo.jpg?sz=128", "display_name": "Nettrus", "link": "https://stackoverflow.com/users/4776102/nettrus"}, "edited": false, "score": 0, "creation_date": 1429995825, "post_id": 29870508, "comment_id": 47866302, "body": "@Nettrus: The code that you have posted doesn&#39;t really help. You need to install <code>DBD::mysql</code>"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1429997776, "post_id": 29870508, "comment_id": 47866908, "body": "@Borodin Installing <code>DBD::mysql</code> by itself won&#39;t solve the problem because (based on the posted code) the script isn&#39;t using the <code>DBI</code> module.  It&#39;s using the outdated <code>Mysql</code> module, which I can&#39;t seem to find right now.  So, the OP will also need to install the DBI module and adjust the script accordingly."}, {"owner": {"reputation": 11, "user_id": 4776102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oytrE6Bhg0E/AAAAAAAAAAI/AAAAAAAAAAA/c27h_NrfjIo/photo.jpg?sz=128", "display_name": "Nettrus", "link": "https://stackoverflow.com/users/4776102/nettrus"}, "edited": false, "score": 0, "creation_date": 1429998079, "post_id": 29870508, "comment_id": 47867005, "body": "Makes sence - this was about to turn into a nightmare to us. The owner of the code can&#39;t really explain anything and the original developer vanished off the map."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1430004701, "post_id": 29870508, "comment_id": 47868761, "body": "@RonBergin: I understood that <code>Mysql</code> had become a part of <code>DBD::mysql</code> and <a href=\"http://search.cpan.org/~capttofu/DBD-mysql-3.0008/lib/Mysql.pm\" rel=\"nofollow noreferrer\">the documentation</a> agrees, saying <i>&quot;As of Msql-Mysql-modules 1.19_10 M(y)sqlPerl is no longer a separate module. Instead it is emulated using the DBI drivers.&quot;</i> However I can&#39;t find any trace of a <code>Mysql.pm</code> in the current version of the module"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 4776102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oytrE6Bhg0E/AAAAAAAAAAI/AAAAAAAAAAA/c27h_NrfjIo/photo.jpg?sz=128", "display_name": "Nettrus", "link": "https://stackoverflow.com/users/4776102/nettrus"}, "edited": false, "score": 0, "creation_date": 1430005304, "post_id": 29870508, "comment_id": 47868928, "body": "@Nettrus: I am more than happy to sort things out for you if you wish. Email me at borodin@trashmail.com to discuss. It&#39;s a temporary email address that will expire in three days"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1430015058, "post_id": 29870508, "comment_id": 47871018, "body": "Mysql.pm was dropped from the DBD::mysql distribution in the 4.0 release (December, 2006)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1430046095, "post_id": 29870508, "comment_id": 47877792, "body": "@ThisSuitIsBlackNot:  Ah, thanks. I guess installing an older version of the module would work"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1430046460, "last_edit_date": 1592644375, "creation_date": 1429994591, "answer_id": 29870508, "question_id": 29870451, "link": "https://stackoverflow.com/questions/29870451/cant-find-page-sql-error/29870508#29870508", "title": "Cant find page - SQL ERROR", "body": "<p>It looks like you need to install <a href=\"https://metacpan.org/pod/DBD::mysql\" rel=\"nofollow noreferrer\"><code>DBD::mysql</code></a></p>\n<hr />\n<p><strong>Update</strong></p>\n<p><code>@ThisSuitIsBlackNot</code> points out that the most recent version of <code>DBD::mysql</code> doesn't contain the <code>Mysql</code> module. You can fix that by <a href=\"http://search.cpan.org/CPAN/authors/id/C/CA/CAPTTOFU/DBD-mysql-\" rel=\"nofollow noreferrer\">downloading version 3.0008</a> and installing it manually. Instructions for installing modules are in <a href=\"http://perldoc.perl.org/perlmodinstall.html3.0008.tar.gz\" rel=\"nofollow noreferrer\"><code>perlmodinstall</code></a></p>\n"}], "owner": {"reputation": 11, "user_id": 4776102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oytrE6Bhg0E/AAAAAAAAAAI/AAAAAAAAAAA/c27h_NrfjIo/photo.jpg?sz=128", "display_name": "Nettrus", "link": "https://stackoverflow.com/users/4776102/nettrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1430097029, "creation_date": 1429994186, "last_edit_date": 1430097029, "question_id": 29870451, "link": "https://stackoverflow.com/questions/29870451/cant-find-page-sql-error", "title": "Cant find page - SQL ERROR", "body": "<p>Trying to migrate an existing <a href=\"http://mystudentloans.info/\" rel=\"nofollow\">SITE ONE</a> - to my local server <a href=\"http://etkhost1.com/\" rel=\"nofollow\">SITE TWO</a></p>\n\n<p>but getting this error.</p>\n\n<p>please help</p>\n\n<blockquote>\n  <p>[Fri Apr 24 04:17:08 2015] [error] [client 59.96.252.161] [Fri Apr 24\n  04:17:08 2015] t.pl: Can't locate Mysql/Statement.pm in @INC (@INC\n  contains: . /home/etkhost1/perl5/lib/perl5\n  /home/etkhost1/perl5/lib/perl5/x86_64-linux-thread-multi\n  /home/etkhost1/perl/usr/local/lib/perl5/5.8.8/x86_64-linux\n  /home/etkhost1/perl/usr/local/lib/perl5/5.8.8\n  /home/etkhost1/perl/usr/local/lib/perl5/site_perl/5.8.8/x86_64-linux\n  /home/etkhost1/perl/usr/local/lib/perl5/site_perl/5.8.8\n  /home/etkhost1/perl/usr/local/lib/perl5/site_perl\n  /usr/local/lib/perl5/5.8.8/x86_64-linux /usr/local/lib/perl5/5.8.8\n  /usr/local/lib/perl5/site_perl/5.8.8/x86_64-linux\n  /usr/local/lib/perl5/site_perl/5.8.8 /usr/local/lib/perl5/site_perl)\n  at Mysql.pm line 12.</p>\n</blockquote>\n\n<pre><code>sub info {\n    my $q = new CGI;\n    my $db = Mysql-&gt;connect('localhost','X','Y','Z');\n        my $filing_status = $postFields{ \"filing_status\" };\n        my $street_address = $postFields{ \"street_address\" };\n        my $country = $postFields{ \"country\" };\n        my $po_box = $postFields{ \"po_box\" };\n        my $apt = $postFields{ \"apt\" };\n        my $city = $postFields{ \"city\" };\n        my $state = $postFields{ \"state\" };\n        my $zip = $postFields{ \"zip\" };\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1429992893, "post_id": 29870169, "comment_id": 47865360, "body": "It&#39;s probably not the right answer, assuming your error is a single line. The range operator exists for multi-line records. Can you give some sample source data?"}, {"owner": {"reputation": 5185, "user_id": 3195726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/846abf9c1c56a735eadf46af3f16d98c?s=128&d=identicon&r=PG", "display_name": "Michal Gasek", "link": "https://stackoverflow.com/users/3195726/michal-gasek"}, "edited": false, "score": 1, "creation_date": 1429994274, "post_id": 29870169, "comment_id": 47865796, "body": "Please post a sample of your error logs. FYI: you probably could solve this even with a perl one-liner command instead of a long program however this depends on whether you want to get the job done quickly or learn some perl actually :)"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 143, "user_id": 2321518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea3116876a3b944c013e6cf2cf6fc516?s=128&d=identicon&r=PG", "display_name": "MI.Sarwar", "link": "https://stackoverflow.com/users/2321518/mi-sarwar"}, "edited": false, "score": 0, "creation_date": 1430049383, "post_id": 29870369, "comment_id": 47878710, "body": "True. Amended. It&#39;s good form if nothing else. One of the advantages of lexically scoped filehandles though is they auto close when they leave scope."}, {"owner": {"reputation": 11, "user_id": 2333823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5691ae53f7bb54c8fb149c6fc7e5fc?s=128&d=identicon&r=PG", "display_name": "Drubs1181", "link": "https://stackoverflow.com/users/2333823/drubs1181"}, "edited": false, "score": 0, "creation_date": 1430055876, "post_id": 29870369, "comment_id": 47880825, "body": "Thank you for your help!!! and to answer your question, there ARE multi-line error messages but they do follow the same convention of starting with &quot;ERROR&quot; and ending with a (period then a space)"}, {"owner": {"reputation": 11, "user_id": 2333823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5691ae53f7bb54c8fb149c6fc7e5fc?s=128&d=identicon&r=PG", "display_name": "Drubs1181", "link": "https://stackoverflow.com/users/2333823/drubs1181"}, "reply_to_user": {"reputation": 143, "user_id": 2321518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea3116876a3b944c013e6cf2cf6fc516?s=128&d=identicon&r=PG", "display_name": "MI.Sarwar", "link": "https://stackoverflow.com/users/2321518/mi-sarwar"}, "edited": false, "score": 0, "creation_date": 1430056570, "post_id": 29870369, "comment_id": 47881067, "body": "@MI.Sarwar In order to do multi-line error messages will I have to implement the $errorstart $errorend and range operator in the if statement?      $errorstart=&quot;ERROR&quot;;     $errorend=&quot;. &quot;;     if ($line=~ /^\\s*$errorstart/../$errorend/)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430062633, "post_id": 29870369, "comment_id": 47883456, "body": "Update your question with sample logs, and I will amend so it works. This approach reads one line at a time, so you need to do something a little different.  Exactly what depends on your log format."}, {"owner": {"reputation": 11, "user_id": 2333823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5691ae53f7bb54c8fb149c6fc7e5fc?s=128&d=identicon&r=PG", "display_name": "Drubs1181", "link": "https://stackoverflow.com/users/2333823/drubs1181"}, "edited": false, "score": 0, "creation_date": 1430066678, "post_id": 29870369, "comment_id": 47885054, "body": "@Sobrique updated. Thanks! I think I mentioned the other person that commented in my previous post, although you were the one that posted the Answer. Thanks so much! And yes, I am in this to learn how to code it properly, not just to get it done. :-) CODE-ON!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430085771, "post_id": 29870369, "comment_id": 47892177, "body": "With that log, setting $/ to &quot;.&quot; will do the trick. Edited,  but not tested because using my phone."}, {"owner": {"reputation": 11, "user_id": 2333823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5691ae53f7bb54c8fb149c6fc7e5fc?s=128&d=identicon&r=PG", "display_name": "Drubs1181", "link": "https://stackoverflow.com/users/2333823/drubs1181"}, "edited": false, "score": 0, "creation_date": 1430101118, "post_id": 29870369, "comment_id": 47896332, "body": "Is there a &quot;whitespace-.-whitespace&quot; (w/o dashes) between quotes or simply a period (&quot;.&quot;)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430124194, "post_id": 29870369, "comment_id": 47905461, "body": "Can be either in all honesty, since it doesn&#39;t look like you have a &#39;.&#39; anywhere else. But I&#39;ve set it according to your specification in the question in the code above."}, {"owner": {"reputation": 11, "user_id": 2333823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5691ae53f7bb54c8fb149c6fc7e5fc?s=128&d=identicon&r=PG", "display_name": "Drubs1181", "link": "https://stackoverflow.com/users/2333823/drubs1181"}, "edited": false, "score": 0, "creation_date": 1430142304, "post_id": 29870369, "comment_id": 47917702, "body": "Thank you @Sobrique, as I said this is only a sample of what the code looks like, there are plenty of &quot;.&quot; &#39;s throughout the actual log that I need to pass over to get to the end of certain errors, thanks so much for your help!"}, {"owner": {"reputation": 11, "user_id": 2333823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5691ae53f7bb54c8fb149c6fc7e5fc?s=128&d=identicon&r=PG", "display_name": "Drubs1181", "link": "https://stackoverflow.com/users/2333823/drubs1181"}, "edited": false, "score": 0, "creation_date": 1430702988, "post_id": 29870369, "comment_id": 48160080, "body": "@Sobrique I updated my code but for some reason I cannot get it to work, any advice? I&#39;m pretty confident that my error is in changing the delimiter. Again the proper deliver is supposed to be  &quot;whitespace period newline&quot; (&quot; .\\n&quot;)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1430747692, "post_id": 29870369, "comment_id": 48180126, "body": "Can I suggest opening a new question summarising the new problem? You&#39;ll get a better selection of answers. I can&#39;t easily tell given your code. My suggestion would be go for a very simple <code>while ( &lt;$input&gt; ) { print &quot;\\n---\\n&quot;; print; }</code> to show where the file is getting split up."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1430124144, "last_edit_date": 1430124144, "creation_date": 1429993654, "answer_id": 29870369, "question_id": 29870169, "link": "https://stackoverflow.com/questions/29870169/perl-program-to-parse-through-error-log-file-extract-error-message-and-output-t/29870369#29870369", "title": "Perl Program to parse through error log file, extract error message and output to new file", "body": "<p>There are several problems with your code to start off.</p>\n\n<ul>\n<li>ALWAYS <code>use strict;</code> and <code>use warnings;</code>. </li>\n<li>3 argument <code>open</code> is much less error prone. <code>open ( my $fh, \"&lt;\", $filename ) or die $!;</code></li>\n<li>Always check <code>open</code> actually worked. </li>\n<li><code>FH =~</code> doesn't do what you think it does. </li>\n<li>range operator tests if you're between two chunks of text in code. This is particularly relevant for multi-line operations. If your error log isn't, then it's not what you need. </li>\n</ul>\n\n<p>Assuming you've error data like this:</p>\n\n<pre><code>ERROR: something is broken.\nWARNING: something might be broken.\nINFO: not broken.\nERROR: still broken.\n</code></pre>\n\n<p>This code will do the trick:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $filetoparse = \"myfile.txt\";\nmy $outputfile  = \"errorlog.txt\";\n\nopen( my $input,  \"&lt;\", $filetoparse ) or die $!;\nopen( my $output, \"&gt;\", $outputfile )  or die $!;\n\nmy $count_of_errors = 0;\n#set record delimiter\nlocal $/ = \" . \\n\";\n\nwhile ( my $lines = &lt;$input&gt; ) {\n    $lines =~ s/^-----\\w+ LOAD-----\\n//g; #discard any 'being/end load' lines. \n    if ( $lines =~ m/^ERROR/ ) {\n        $count_of_errors++;\n        print {$output} $lines;\n    }\n}\nclose ( $input );\nclose ( $output );\n\nprint \"$count_of_errors errors found\\n\";\n</code></pre>\n\n<p>If you've multi-line error message, then you'll need a slightly different approach though. </p>\n"}], "owner": {"reputation": 11, "user_id": 2333823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5691ae53f7bb54c8fb149c6fc7e5fc?s=128&d=identicon&r=PG", "display_name": "Drubs1181", "link": "https://stackoverflow.com/users/2333823/drubs1181"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1430704472, "creation_date": 1429992537, "last_edit_date": 1430704472, "question_id": 29870169, "link": "https://stackoverflow.com/questions/29870169/perl-program-to-parse-through-error-log-file-extract-error-message-and-output-t", "title": "Perl Program to parse through error log file, extract error message and output to new file", "body": "<p>I need to write a perl program where I parse through an error log and output the error messages to a new file. I am having issues with setting up the regex to do this. In the error log, an error code starts with the word \"ERROR\" and the end of each error message ends with a \". \" (period and then a space). I want to find all the errors, count them, and also output the entire error message of each error message to a new file.</p>\n\n<p>I tried this but am having issues:</p>\n\n<pre><code>open(FH,\"&lt;$filetoparse\");\n\n    $outputfile='./errorlog.txt';\n    open(OUTPUT,\"&gt;$outputfile\");\n    $errorstart='ERROR';\n    $errorend=\". \";\n\n    while(&lt;FH&gt;)\n    {\n    if (FH=~ /^\\s*$errorstart/../$errorend/)   \n    {\n        print OUTPUT \"success\";\n    }   \n    else\n    {\n        print OUTPUT \"failed\";\n    }\n    }\n\n}\n</code></pre>\n\n<p>the $errorstart and $errorend are something I saw online and am not sure if that is the correct way to code it.</p>\n\n<p>Also I know the printing \"Success\" or \"Failure\" is not what I said I am looking for, I added that in to help with confirmed that the code works, I haven't tried coding for counting the error messages yet.</p>\n\n<p>before this snippet of code I have a print statement asking the user for the location address of the .txt file they want to parse. I confirmed that particular section of code words properly. Thanks for any help! Let me know if more info is needed!</p>\n\n<p>Here is an example of data that I will be using:</p>\n\n<p>Sample Data</p>\n\n<p>-----BEGIN LOAD-----<br>\nSUCCESS: file loaded properly .<br>\nSUCCESS: file loaded properly .<br>\nSUCCESS: file loaded properly .<br>\nSUCCESS: file loaded properly .<br>\nSUCCESS: file loaded properly .<br>\nSUCCESS: file loaded properly .<br>\nERROR: the file was unable to load for an unknown reason .<br>\nSUCCESS: file loaded properly .<br>\nSUCCESS: file loaded properly .<br>\nERROR: the file was unable to load this is just an example of a log file that   will span<br>\nmultiple lines .<br>\nSUCCESS: file loaded properly .<br>\n------END LOAD-------  </p>\n\n<p>While the log may not necessarily NEED to span multiple lines, there will be some data throughout the log that will similar to how it is above. Every message logged starts with either SUCCESS or ERROR and the message is done when a \" . \" (whitespace-period-whitespace) is encountered. The log I want to parse through is 50,000 entries long so needless to say I would like to code so it will also identify multi-line error msgs as well as output the entire multi-line message to the output file.</p>\n\n<p><strong>update</strong></p>\n\n<p>I have written the code but for some reason it won't work. I think it has to do with the delimiter but I can't figure out what it is. The file I am using has messages that are separated by \"whitespace period newline\". Can you see what I'm doing wrong??</p>\n\n<pre><code>{\nlocal $/ = \" .\\n\";\nif ($outputtype == 1)\n{\n    $outputfile=\"errorlog.txt\";\n    open(OUTPUT,\"&gt;&gt;$outputfile\");\n    $errorcount=0;\n    $errortarget=\"ERROR\";\n    print OUTPUT \"-----------Error Log-----------\\n\";\n    {\n    while(&lt;FH&gt;)\n    {\n    if ($_ =~ m/^$errortarget/)\n    {\n        print OUTPUT \"$_\\n\";\n        print OUTPUT \"next code is: \\n\";\n        $errorcount++;\n    }\n    }\n    print OUTPUT \"\\nError Count : $errorcount\\n\";\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["arrays", "regex", "string", "perl", "split"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1429992730, "post_id": 29870014, "comment_id": 47865306, "body": "provide a complete example along with expected output."}, {"owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "edited": false, "score": 0, "creation_date": 1429992904, "post_id": 29870014, "comment_id": 47865365, "body": "@nat47 check the edited answer :)"}, {"owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1429993157, "post_id": 29870014, "comment_id": 47865455, "body": "Thanks for the edited answer!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430000555, "post_id": 29870014, "comment_id": 47867693, "body": "see <a href=\"https://github.com/choroba/marpa-enhanced-calculator/blob/master/calc.pl\" rel=\"nofollow noreferrer\">Marpa Enhanced Calculator</a>."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1430051155, "post_id": 29870014, "comment_id": 47879287, "body": "Are you trying to parse arithmetic expressions? If so, regular expressions cannot do it. You would need a tokenizer and a push-down stack parser. I suggest you use a CPAN module like Parse::RecDescent for this. <a href=\"https://metacpan.org/pod/Parse::RecDescent\" rel=\"nofollow noreferrer\">metacpan.org/pod/Parse::RecDescent</a>"}], "answers": [{"comments": [{"owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1429993109, "post_id": 29870086, "comment_id": 47865440, "body": "Awesome! This works amazingly except that it adds some elements to the array that are only &#39;&#39; For instance, an equation: 3(7x-1)+10x-4+3x=90x+1 Gives an output of  $VAR1 = &#39;3(7x-1)&#39;; $VAR2 = &#39;&#39;; $VAR3 = &#39;+&#39;; $VAR4 = &#39;&#39;; $VAR5 = &#39;10x&#39;; $VAR6 = &#39;&#39;;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "edited": false, "score": 0, "creation_date": 1429994252, "post_id": 29870086, "comment_id": 47865792, "body": "@nat47: For better readability you should use <code>Dumper</code> with <i>references</i> to arrays, like <code>print Dumper \\@array</code>"}], "tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": false, "score": 0, "last_activity_date": 1429992707, "last_edit_date": 1429992707, "creation_date": 1429992057, "answer_id": 29870086, "question_id": 29870014, "link": "https://stackoverflow.com/questions/29870014/regex-to-divide-string-by-and-keep-delimiter/29870086#29870086", "title": "RegEx to divide string by +*-/ and keep delimiter?", "body": "<p>You can use </p>\n\n<pre><code>(?&lt;=[+*\\/-])|(?=[+*\\/-])\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>(?&lt;=[+*\\/-])</code> position where lookbehind match is <code>+, *, / or -</code></li>\n<li><code>(?=[+*\\/-])</code> position where lookahead match is <code>+, *, / or -</code></li>\n</ul>\n\n<p>Code: <code>@left_split = split(/(?&lt;=[+*\\/-])|(?=[+*\\/-])/, $left_side);</code></p>\n\n<p><strong>Edit:</strong> For restricting to split on strings like <code>4(x-3)</code> you can use</p>\n\n<pre><code>((?&lt;=[+*\\/-])|(?=[+*\\/-]))(?!.*?\\))\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/iX2fB9/7\" rel=\"nofollow\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1429993209, "creation_date": 1429993209, "answer_id": 29870295, "question_id": 29870014, "link": "https://stackoverflow.com/questions/29870014/regex-to-divide-string-by-and-keep-delimiter/29870295#29870295", "title": "RegEx to divide string by +*-/ and keep delimiter?", "body": "<p>You can put a capture group around the regex used in <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a>:</p>\n\n<pre><code>split(/([+*\\/-])/, '10x+4-1')\n# ('10x', '+', '4', '-', '1')\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>print join(\"\\n\", split(/([+*\\/-])/, '10x+4-1'));\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>10x\n+\n4\n-\n1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1429994374, "last_edit_date": 1495542127, "creation_date": 1429994018, "answer_id": 29870421, "question_id": 29870014, "link": "https://stackoverflow.com/questions/29870014/regex-to-divide-string-by-and-keep-delimiter/29870421#29870421", "title": "RegEx to divide string by +*-/ and keep delimiter?", "body": "<p>It's laudable that you're making an attempt to write a solution to <a href=\"https://stackoverflow.com/q/29868934\">your previous question</a> but you really will find it extraordinarily difficult.</p>\n\n<p>The way to do this is with a stepwise <em>tokeniser</em>, like this. It will ignore any whitespace and also capture any parentheses, and it will stop parsing the string if it hits any invalid character.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s = '10x+4-1';\n\nmy $tokens = qr{ \\+ | \\- | \\* | / | \\d+ | [a-z]+ | \\( | \\) }x;\n\nwhile ( $s =~ m{ \\G \\s* ( $tokens ) }gx ) {\n  my $token = $1;\n  print $token, \"\\n\";\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>10\nx\n+\n4\n-\n1\n</code></pre>\n"}], "owner": {"reputation": 985, "user_id": 1747571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yJ8Gn.jpg?s=128&g=1", "display_name": "jonbon", "link": "https://stackoverflow.com/users/1747571/jonbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1429994374, "creation_date": 1429991724, "last_edit_date": 1429992384, "question_id": 29870014, "link": "https://stackoverflow.com/questions/29870014/regex-to-divide-string-by-and-keep-delimiter", "title": "RegEx to divide string by +*-/ and keep delimiter?", "body": "<p>How can I split a string into pieces every time a \"/*-+\" appears and keep the delimiter? So, have something like </p>\n\n<pre><code>10x+4-1\n</code></pre>\n\n<p>turn into</p>\n\n<pre><code>10x\n+\n4\n-\n1\n</code></pre>\n\n<p>I've tried</p>\n\n<pre><code>@left_split = split(/(?&lt;=\\+)(?&lt;=\\-)(?&lt;=\\/)(?&lt;=\\*)/, $left_side);\n</code></pre>\n\n<p>I want the delimiter to be placed in its own array [].</p>\n\n<p>However, if something like</p>\n\n<pre><code>4(x-3)\n</code></pre>\n\n<p>appears, how do I stop the reg-ex from splitting the 4(x and - 3)?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1429989003, "post_id": 29869319, "comment_id": 47864131, "body": "You still need to chomp the user input when using the <code>&lt;&gt;</code> diamond operator."}, {"owner": {"reputation": 1540, "user_id": 1245440, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8a2a573a8585a0e04eecd822955e9fbe?s=128&d=identicon&r=PG", "display_name": "Pramod Shinde", "link": "https://stackoverflow.com/users/1245440/pramod-shinde"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1429989413, "post_id": 29869319, "comment_id": 47864261, "body": "@RonBergin corrected, thanks, curious to know whats different between <code>&lt;&gt;</code> and <code>readline STDIN</code>"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1429990522, "post_id": 29869319, "comment_id": 47864615, "body": "@PramodShinde readline is the internal function that the <code>&lt;&gt;</code> operator uses, but can be used directly.  It&#39;s just more verbose."}, {"owner": {"reputation": 13, "user_id": 4832592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a872a24a0ef2459bf611f1915b0df50c?s=128&d=identicon&r=PG&f=1", "display_name": "4n0n9m0u5", "link": "https://stackoverflow.com/users/4832592/4n0n9m0u5"}, "edited": false, "score": 0, "creation_date": 1429995382, "post_id": 29869319, "comment_id": 47866149, "body": "is there any way to add another value to an if or elsif statement? like if i wanted it to print &quot;that&#39;s good&quot; for &quot;happy&quot; &quot;happy!&quot; &quot;excited&quot; etc? or would i have to just make more elsif statements?"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1430062380, "post_id": 29869319, "comment_id": 47883362, "body": "<code>chomp removes any trailing string</code> that is incorrect."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 13, "user_id": 4832592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a872a24a0ef2459bf611f1915b0df50c?s=128&d=identicon&r=PG&f=1", "display_name": "4n0n9m0u5", "link": "https://stackoverflow.com/users/4832592/4n0n9m0u5"}, "edited": false, "score": 0, "creation_date": 1430062497, "post_id": 29869319, "comment_id": 47883408, "body": "@4n0n9m0u5, you can easily add other values to the given/when structure, which I showed in my answer; <code>when([&#39;happy&#39;,&#39;excited&#39;]){...}</code>."}], "tags": [], "owner": {"reputation": 1540, "user_id": 1245440, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8a2a573a8585a0e04eecd822955e9fbe?s=128&d=identicon&r=PG", "display_name": "Pramod Shinde", "link": "https://stackoverflow.com/users/1245440/pramod-shinde"}, "is_accepted": true, "score": 2, "last_activity_date": 1429990068, "last_edit_date": 1429990068, "creation_date": 1429988008, "answer_id": 29869319, "question_id": 29869074, "link": "https://stackoverflow.com/questions/29869074/basic-perl-conditional-script-not-working/29869319#29869319", "title": "basic perl conditional script not working", "body": "<p>Use <code>chomp($feeling);</code></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \"what is your name?\\n\";\nmy $name = readline STDIN;\nchomp($name);\nprint \"Hello $name How are you today?\\n\";\n\nmy $feeling = readline STDIN;\n\nchomp($feeling);\nif ($feeling eq \"happy\") {\n print \"that's good!\\n\";\n}\nelsif ($feeling eq \"good\") {\n print \"okay!\\n\";\n}\nelse {\n print \"Interesting\\n\";\n}\n</code></pre>\n\n<p>readline STDIN captures every character typed along with last enter hit as <code>\\n</code>, say if you type <code>\"happy\"</code> and hit enter for <code>$feeling</code> then its accepted as <code>\"happy\\n\"</code> notice <code>\\n</code> is because enter hit to remove last <code>\\n</code> newline character use <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> removes any trailing string </p>\n"}, {"tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": false, "score": 0, "last_activity_date": 1429993143, "last_edit_date": 1429993143, "creation_date": 1429991244, "answer_id": 29869921, "question_id": 29869074, "link": "https://stackoverflow.com/questions/29869074/basic-perl-conditional-script-not-working/29869921#29869921", "title": "basic perl conditional script not working", "body": "<p><a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> is used to \"chomp off\" the input record separator, which by default is a newline character.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.012;                               # to use things like 'say' and 'given'\n\nsay \"what is your name?\";                # 'say' is like 'print', but means you don't have to use '\\n'\n\nmy $name = &lt;STDIN&gt;;                      # good to include angled brackets &lt;&gt;\nchomp($name);                            # remove the newline when entering the number\n\nsay qq{Hello $name, how are you today?}; # qq{} acts like double-quotes (\"\")\n\nmy $feeling = &lt;STDIN&gt;;\nchomp $feeling;                          # notice parenthese aren't always needed\n                                         # you could also do chomp(my $feeling=&lt;STDIN&gt;);\n\ngiven (lc $feeling){                     # 'given' is Perl's version of a Switch and lc makes input lowercase\n   when('happy') { say q{That's good.} } # q{} acts like single-quotes ('')\n   when('good')  { say q{Okay!}        }\n   default       { say q{Interesting}  } # your else-case\n}\n</code></pre>\n\n<p>As the warnings suggest, <code>given</code> is experimental until smartmatch is figured out.  It is perfectly acceptable to use the if-elsif-else structure, if you choose.</p>\n"}], "owner": {"reputation": 13, "user_id": 4832592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a872a24a0ef2459bf611f1915b0df50c?s=128&d=identicon&r=PG&f=1", "display_name": "4n0n9m0u5", "link": "https://stackoverflow.com/users/4832592/4n0n9m0u5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 29869319, "answer_count": 2, "score": 1, "last_activity_date": 1430045454, "creation_date": 1429986778, "last_edit_date": 1430045454, "question_id": 29869074, "link": "https://stackoverflow.com/questions/29869074/basic-perl-conditional-script-not-working", "title": "basic perl conditional script not working", "body": "<p>I am a beginner to perl and have just been messing around trying to create little scripts. I'm not sure what is wrong here but it just falls through to the <code>else</code> every time as if nothing I input satisfies the <code>if</code> or <code>elsif</code> conditions. Is it because <code>eq</code> is the wrong operator? Or is there something else wrong in my code? Thanks!</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \"what is your name?\\n\";\nmy $name = readline STDIN; \nprint \"Hello $name How are you today?\\n\";\n\nmy $feeling = readline STDIN;\n\nif ($feeling eq \"happy\") {\n    print \"that's good!\\n\";\n}\nelsif ($feeling eq \"good\") {\n    print \"okay!\\n\";\n}\nelse {\n    print \"Interesting\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1429985878, "post_id": 29868889, "comment_id": 47862918, "body": "As a hint - you&#39;ll get better response if you show some attempt to solve the problem yourself. I would suggest starting by looking at hashes."}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1429987829, "post_id": 29868889, "comment_id": 47863706, "body": "I&#39;ve worked with hashes before, but not as complex as this. Would my suggestion above work?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1429988243, "post_id": 29868889, "comment_id": 47863869, "body": "Is your output <code>length</code> field the sum of the lengths? It looks like it."}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1429988829, "post_id": 29868889, "comment_id": 47864068, "body": "yes indeed, the sum of the lengths"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429989287, "post_id": 29868889, "comment_id": 47864214, "body": "What happens if a gene has multiple transcripts with the same maximum length?"}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429990317, "post_id": 29868889, "comment_id": 47864547, "body": "@Borodin it actually doesn&#39;t matter then which transcript it reports. Let&#39;s say the first one it encounters"}], "answers": [{"comments": [{"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1429991300, "post_id": 29869510, "comment_id": 47864867, "body": "what do you mean with: my $header_line = &lt;DATA&gt;; Why is it necessary and why call it header_line?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 1, "creation_date": 1429991423, "post_id": 29869510, "comment_id": 47864909, "body": "That reads the first line from the <code>__DATA__</code> block - which is the row <code>gene transcript exon length</code> - which we don&#39;t need, and don&#39;t want to process."}, {"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1429995199, "post_id": 29869510, "comment_id": 47866094, "body": "and what is happening here in the case that two transcripts of one gene have the same length?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1429995621, "post_id": 29869510, "comment_id": 47866231, "body": "It&#39;ll be whatever order they&#39;re extracted from the hash - so random. If you want it defined, then you&#39;ll need to extend the <code>sort</code> sub. For example: <code>sort { $genes{$gene}{$b} &lt;=&gt; $genes{$gene}{$a} or $b cmp $a }</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1429996043, "post_id": 29869510, "comment_id": 47866387, "body": "Code edited. <code>$b cmp $a</code> will give you the <i>last</i> alphanumeric &#39;NM_n&#39; sorted. <code>$a cmp $b</code> will give you the <i>first</i> transcript alphanumerically."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1429995950, "last_edit_date": 1429995950, "creation_date": 1429988921, "answer_id": 29869510, "question_id": 29868889, "link": "https://stackoverflow.com/questions/29868889/perl-finding-the-region-with-the-greatest-width-from-a-list/29869510#29869510", "title": "perl: finding the region with the greatest width from a list", "body": "<p>Given what you're trying to do, I'd be thinking something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %genes;\n\nmy $header_line = &lt;DATA&gt;;\n\n#read the data\nwhile (&lt;DATA&gt;) {\n    my ( $gene, $transcript, $exon, $length ) = split;\n    $genes{$gene}{$transcript} += $length;\n}\n\nprint join( \"\\t\", \"gene\", \"transcript\", \"length_sum\" ), \"\\n\";\n\nforeach my $gene ( keys %genes ) {\n    #sort by length_sum, and 'pop' the top of the list. \n    my ($longest_transcript) =\n        ( sort { $genes{$gene}{$b} &lt;=&gt; $genes{$gene}{$a} or $a cmp $b }\n            keys %{ $genes{$gene} } );\n    print join( \"\\t\",\n        $gene, $longest_transcript, $genes{$gene}{$longest_transcript} ),\n        \"\\n\";\n}\n\n\n__DATA__ \ngene    transcript    exon    length\nA       NM_1          1       10\nA       NM_1          2       5\nA       NM_1          3       20\nA       NM_2          1       10\nA       NM_2          2       5\nA       NM_2          3       50\nB       NM_5          1       10\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>gene    transcript  length_sum\nB   NM_5    10\nA   NM_2    65\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1429991793, "post_id": 29869751, "comment_id": 47865035, "body": "not able to test this now since I&#39;m working on a server where I cannot install perl modules. But will definitely test this."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429993395, "last_edit_date": 1429993395, "creation_date": 1429990298, "answer_id": 29869751, "question_id": 29868889, "link": "https://stackoverflow.com/questions/29868889/perl-finding-the-region-with-the-greatest-width-from-a-list/29869751#29869751", "title": "perl: finding the region with the greatest width from a list", "body": "<p>This is made much less untidy using the <code>nmax_by</code> (numeric maximum by) function from <a href=\"https://metacpan.org/pod/List::UtilsBy\" rel=\"nofollow\"><code>List::UtilsBy</code></a>. This program accumulates the total length in a hash and then picks out the longest transcript for each gene using <code>nmax_by</code>.</p>\n\n<p>I presume you're able to open the input file on <code>$fh</code> instead of using the <code>DATA</code> handle? Or you could pass the path to the input file on the command line and just use <code>&lt;&gt;</code> instead of <code>&lt;$fh&gt;</code>without explicitly opening anything.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::UtilsBy qw/ nmax_by /;\n\nmy $fh = \\*DATA;\n\n&lt;$fh&gt;; # Drop header line\n\nmy %genes;\n\nwhile ( &lt;$fh&gt; ) {\n  my ($gene, $trans, $exon, $len) = split;\n  $genes{$gene}{$trans} += $len;\n}\n\nmy $fmt = \"%-7s%-14s%-s\\n\";\nprintf $fmt, qw/ gene transcript length /;\nfor my $gene ( sort keys %genes ) {\n  my $trans = nmax_by { $genes{$gene}{$_} } keys %{ $genes{$gene} };\n  printf ' '.$fmt, $gene, $trans, $genes{$gene}{$trans};\n}\n\n\n__DATA__\ngene    transcript    exon    length\nA       NM_1          1       10\nA       NM_1          2       5\nA       NM_1          3       20\nA       NM_2          1       10\nA       NM_2          2       5\nA       NM_2          3       50\nB       NM_5          1       10\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>gene   transcript    length\n A      NM_2          65\n B      NM_5          10\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Here's a much shortened version of <code>nmax_by</code> that will work for you to test. You can add this at the top of the program, or if you'd rather put it at the end then you need to pre-declare it with <code>sub nmax_by(&amp;@);</code> at the top because it has a prototype</p>\n\n<pre><code>sub nmax_by(&amp;@) {\n   my $code = shift;\n   my ($max, $maxval);\n   for ( @_ ) {\n     my $val = $code-&gt;($_);\n     ($max, $maxval) = ($_, $val) unless defined $maxval and $maxval &gt;= $val;\n   }\n   $max;\n}\n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 29869510, "answer_count": 2, "score": 0, "last_activity_date": 1429995950, "creation_date": 1429985708, "last_edit_date": 1429987807, "question_id": 29868889, "link": "https://stackoverflow.com/questions/29868889/perl-finding-the-region-with-the-greatest-width-from-a-list", "title": "perl: finding the region with the greatest width from a list", "body": "<p>I have a table having the following structure</p>\n\n<pre><code>gene    transcript    exon    length\nA       NM_1          1       10\nA       NM_1          2       5\nA       NM_1          3       20\nA       NM_2          1       10\nA       NM_2          2       5\nA       NM_2          3       50\nB       NM_5          1       10\n...     ...           ...     ...\n</code></pre>\n\n<p>So basically, the table consists of a column with all human genes. The second column contains the transcript name. The same gene can have multiple transcripts. The third column contains an exon number. Every gene consists of multiple exons. The fourth column contains the length of each exon. </p>\n\n<p>Now I want to create a new table looking like this:</p>\n\n<pre><code> gene   transcript    length\n A      NM_2          65\n B      NM_5          10\n ...    ...           ...\n</code></pre>\n\n<p>So what I basically want to do is find the longest transcript for each gene.\nThis means that when there are multiple transcripts (column transcript) for each gene (column gene), I need to make the sum of the values in the length column for all the exons of the transcript of that gene.</p>\n\n<p>So in the example there are two transcripts for gene A: NM_1 and NM_2. Each has three exons. The sum of these three values for NM_1 = 10+5+20 = 35, for NM_2 it's 10+5+50 = 65. So for gene A, NM_2 is the longest transcript, so I want to put this in the new table. For gene B there is only 1 transcript, with one exon of length 10. So in the new table, I just want the length of this transcript reported.</p>\n\n<p>I've worked with hashes before, so I thought of storing 'gene' and 'transcript' as two different keys:</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(my $test,'&lt;',\"test.txt\") || die (\"Could not open file $!\");\nopen(my $output, '+&gt;', \"output.txt\") || die (\"Can't write new file: $!\");\n\n# skip the header of $test # I know how to do this\n\nmy %hash = ();\nwhile(&lt;$test&gt;){\n    chomp;\n    my @cols = split(/\\t/);\n    my $keyfield = $cols[0]; #gene name\n    my $keyfield2 = $cols[1]; # transcript name\n    push @{ $hash{$keyfield} }, $keyfield2;\n</code></pre>\n\n<p>...</p>\n"}, {"tags": ["excel", "perl", "spreadsheet"], "comments": [{"owner": {"reputation": 3126, "user_id": 3972558, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2k6Vk.jpg?s=128&g=1", "display_name": "Joop", "link": "https://stackoverflow.com/users/3972558/joop"}, "edited": false, "score": 0, "creation_date": 1429986603, "post_id": 29868881, "comment_id": 47863205, "body": "What did you tried of the question you link to? Maybe that&#39;s handy information to tell.."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 0, "last_activity_date": 1430670072, "last_edit_date": 1430670072, "creation_date": 1430064334, "answer_id": 29880018, "question_id": 29868881, "link": "https://stackoverflow.com/questions/29868881/in-perl-how-can-i-copy-a-subset-of-columns-from-an-xlsx-work-sheet-to-another/29880018#29880018", "title": "In Perl, how can I copy a subset of columns from an XLSX work sheet to another?", "body": "<p>Have you never copied a subset of columns from an array of arrays to another?</p>\n\n<p>Here is the input sheet I used for this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/35Oz1.png\" alt=\"input worksheet\"></p>\n\n<p>and, this is what I get in the output file after the code is run:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7A9WX.png\" alt=\"output worksheet\"></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Excel::Writer::XLSX;\nuse Spreadsheet::ParseXLSX;\n\nmy @cols = (1, 3);\n\nmy $reader = Spreadsheet::ParseXLSX-&gt;new;\nmy $bookin = $reader-&gt;parse($ARGV[0]);\nmy $sheetin = $bookin-&gt;worksheet('Sheet1');\n\nmy $writer =  Excel::Writer::XLSX-&gt;new($ARGV[1]);\nmy $sheetout = $writer-&gt;add_worksheet('Extract');\n\nmy ($top, $bot) = $sheetin-&gt;row_range;\n\nfor my $r ($top .. $bot) {\n    $sheetout-&gt;write_row(\n        $r,\n        0,\n        # of course, you need to do more work if you want\n        # to preserve formulas, formats etc. That is left\n        # to you, as you left that part of the problem\n        # unspecified.\n        [ map $sheetin-&gt;get_cell($r, $_)-&gt;value, @cols ],\n    );\n}\n\n$writer-&gt;close;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1558, "favorite_count": 0, "accepted_answer_id": 29880018, "answer_count": 1, "score": 0, "last_activity_date": 1430670072, "creation_date": 1429985629, "last_edit_date": 1495542609, "question_id": 29868881, "link": "https://stackoverflow.com/questions/29868881/in-perl-how-can-i-copy-a-subset-of-columns-from-an-xlsx-work-sheet-to-another", "title": "In Perl, how can I copy a subset of columns from an XLSX work sheet to another?", "body": "<p>I have a <code>.xlsx</code> file (only one sheet) with 15 columns. I want to read some specific columns, let's say columns 3, 5, 11, 14 and write it to a new Excel sheet. In this case some cells of input files are empty means don't have any value.</p>\n\n<p>Here what I am trying:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Spreadsheet::ParseXLSX;\nuse Excel::Writer::XLSX;\n\nmy $parser = Spreadsheet::ParseXLSX-&gt;new;\nmy $workbook = $parser-&gt;parse(\"test.xlsx\");\n\nif ( !defined $workbook ) {\n    die $parser-&gt;error(), \".\\n\";\n}\n\nmy $worksheet = $workbook-&gt;worksheet('Sheet1');\n\n# but from here I don't know how to define row and column range to get specific column data.\n# I am trying to get all data in an array, so I can write it in new .xlsx file.\n\n# function to write data in new file\nsub writetoexcel\n{\n    my @fields = @_;\n    my $workbook = Excel::Writer::XLSX-&gt;new( 'report.xlsx' );\n    $worksheet = $workbook-&gt;add_worksheet();\n\n    my $row = 0;\n    my $col = 0;\n    for my $token ( @fields )\n    {\n        $worksheet-&gt;write( $row, $col, $token );\n        $col++;\n    }\n    $row++;\n}\n</code></pre>\n\n<p>I also followed this <a href=\"https://stackoverflow.com/q/19782080/4752537\">Question</a>, but no luck.</p>\n\n<p>How can I read specific columns from <code>.xlsx</code> file and write it into new <code>.xlsx</code> file?</p>\n"}, {"tags": ["perl", "csv", "split"], "comments": [{"owner": {"reputation": 870, "user_id": 604464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c71612818ca9b86bc9906d47afd0e2f?s=128&d=identicon&r=PG", "display_name": "ratsbane", "link": "https://stackoverflow.com/users/604464/ratsbane"}, "edited": false, "score": 2, "creation_date": 1429972402, "post_id": 29866296, "comment_id": 47857839, "body": "Split isn&#39;t smart enough to do what you want here.  You need at least a simple parser that can determine whether a field is a phone or email, for example.  At first you would need to be able to define the grammar and determine which type of field a value is - for example, it looks like 123455 would be a phone number - so the regex \\d{6} would match only on phone numbers.  You could also define a regex for the email address, but the name/nickname distinction would be harder.  See <a href=\"http://search.cpan.org/~fdesar/Parse-Yapp-1.05/lib/Parse/Yapp.pm\" rel=\"nofollow noreferrer\">some parsers on cpan</a>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1429979795, "post_id": 29866296, "comment_id": 47860569, "body": "Download Text::CSV or Text::CSV_XS from CPAN and use it."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1429984436, "post_id": 29866296, "comment_id": 47862398, "body": "@Sinan&#220;n&#252;r: then it is not a CSV file. It idea behind CPAN is that others have written, debugged, and saved their work for you to use. Not availing yourself to CPAN&#39;s modules means you are reinventing the wheel, which is costly and bug-prone."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1429993030, "post_id": 29866296, "comment_id": 47865410, "body": "I&#39;m voting to close this question as off-topic because the OP keeps changing the data thereby invalidating proposed solutions."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430005072, "post_id": 29866296, "comment_id": 47868867, "body": "@Sinan&#220;n&#252;r: That&#39;s my point: validating and rejecting the input. Too often &quot;problems&quot; are not problems but invalid input."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1430032858, "post_id": 29866296, "comment_id": 47874366, "body": "@Sinan&#220;n&#252;r : <b>I have added and corrected the question.</b> Please unhold this question and undo your downvote."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1430034329, "post_id": 29866296, "comment_id": 47874688, "body": "It seems like if  a header have multiple values, they are always inside double quotes. So you could separate the different headers and values by first extracting comma separated values inside double quotes. This is a job for Text::CSV.."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "edited": false, "score": 0, "creation_date": 1430055157, "post_id": 29868110, "comment_id": 47880589, "body": "Thank you so much. I also solved this problem by using <code>Text::CSV</code> module. But thanks for telling about creating nested data structure."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 0, "last_activity_date": 1430054633, "last_edit_date": 1430054633, "creation_date": 1429981133, "answer_id": 29868110, "question_id": 29866296, "link": "https://stackoverflow.com/questions/29866296/in-perl-how-can-i-parse-a-csv-file-where-the-fields-contain-comma-separated-val/29868110#29868110", "title": "In Perl, how can I parse a CSV file where the fields contain comma separated values?", "body": "<p>With the updated information, the solution to your problem is now trivial:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Text::CSV_XS;\nuse Text::Table::Tiny;\n\nmy $csv = Text::CSV_XS-&gt;new;\n\nmy @data = ( $csv-&gt;getline(\\*DATA) ); #header\n\nwhile (my $row = $csv-&gt;getline(\\*DATA)) {\n    next unless @$row == @{ $data[0] };\n    push @data, $row;\n}\n\nprint Text::Table::Tiny::table(\n    rows =&gt; \\@data,\n    header_row =&gt; 1,\n);\n\n__DATA__\n\"Name\",\"Alias\",\"Phone\",\"email\",\"address\"\n\"rob\",\"rob\",\"534235\",\"rob@example.com\",\"US,UK\"\n\"nik\",\"nik\",\"976784\",\"nik@example.com,nik@foram.org\",\"UK\"\n\"picy\",\"pic\",\"327654,823747\",\"pic@example.com\",\"US\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre>+------+-------+---------------+-------------------------------+---------+\n| Name | Alias | Phone         | email                         | address |\n+------+-------+---------------+-------------------------------+---------+\n| rob  | rob   | 534235        | rob@example.com               | US,UK   |\n| nik  | nik   | 976784        | nik@example.com,nik@foram.org | UK      |\n| picy | pic   | 327654,823747 | pic@example.com               | US      |\n+------+-------+---------------+-------------------------------+---------+</pre>\n\n<p>You could also create a nested data structure by parsing both each line, and the fields in each line using the CSV parser:</p>\n\n<pre><code>while (my $row = $csv-&gt;getline(\\*DATA)) {\n    next unless @$row == @{ $data[0] };\n    push @data, [\n        map [ $csv-&gt;parse($_) ? $csv-&gt;fields : () ], @$row\n    ];\n}\n</code></pre>\n\n<p>This would mainly be useful if your main interest is in processing the data, not just printing it out.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4752537"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "closed_date": 1430025127, "accepted_answer_id": 29868110, "answer_count": 1, "score": 0, "last_activity_date": 1430054633, "creation_date": 1429971340, "last_edit_date": 1430054217, "question_id": 29866296, "link": "https://stackoverflow.com/questions/29866296/in-perl-how-can-i-parse-a-csv-file-where-the-fields-contain-comma-separated-val", "closed_reason": "Needs details or clarity", "title": "In Perl, how can I parse a CSV file where the fields contain comma separated values?", "body": "<p>There is a <code>csv</code> file called <code>file.csv</code> like this: (this is just an example)</p>\n\n<pre><code>\"Name\",\"Alias\",\"Phone\",\"email\",\"address\"\n\"rob\",\"rob\",\"534235\",\"rob@example.com\",\"US,UK\"\n\"nik\",\"nik\",\"976784\",\"nik@example.com,nik@foram.org\",\"UK\"\n\"picy\",\"pic\",\"327654,823747\",\"pic@example.com\",\"US\"\n</code></pre>\n\n<p>In this file there are 5 headers but values are more for few headers. Any header can have any number of values means more than 2 or 3.</p>\n\n<p>I am trying to get output like this:</p>\n\n<pre><code>Name    Nickname    Phone        email                          address\nrob     rob         534235       rob@example.com                US,UK\nnik     nik         976784       nik@example.com,nik@foram.org  UK\npicy    pic         327654,823747   pic@example.com             US\n</code></pre>\n\n<p>or any specific column, but for that column data will be like above.</p>\n\n<p>I know about <code>split</code> function and limit in <code>spliting</code>:</p>\n\n<pre><code>while (&lt;$fh&gt;)\n{\n    my @data = split /,/, $_, 5;\n}\n</code></pre>\n\n<p>but that is not working here.</p>\n\n<p>How can I achieve this? Any Idea?</p>\n"}, {"tags": ["perl", "dbix-class"], "answers": [{"tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": true, "score": 1, "last_activity_date": 1429955557, "creation_date": 1429955557, "answer_id": 29863652, "question_id": 29862921, "link": "https://stackoverflow.com/questions/29862921/retrieving-related-data-from-result-object/29863652#29863652", "title": "Retrieving related data from Result object", "body": "<p>No accessor for this in DBIC. An accessors for a \u201cmulti\u201d relationship <a href=\"http://metacpan.org/source/RIBASUSHI/DBIx-Class-0.082820/lib/DBIx/Class/Relationship/Accessor.pm#L97\" rel=\"nofollow\">always do new select</a>. But you can create <a href=\"http://metacpan.org/pod/distribution/DBIx-Class/lib/DBIx/Class/Manual/Component.pod\" rel=\"nofollow\">own component</a> which adds that accessor. Or just add method to the result class.</p>\n"}], "owner": {"reputation": 97, "user_id": 1361176, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ys1BP.jpg?s=128&g=1", "display_name": "romel", "link": "https://stackoverflow.com/users/1361176/romel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 29863652, "answer_count": 1, "score": 0, "last_activity_date": 1429955557, "creation_date": 1429950944, "question_id": 29862921, "link": "https://stackoverflow.com/questions/29862921/retrieving-related-data-from-result-object", "title": "Retrieving related data from Result object", "body": "<p>I have the following relationship on my Entry result class:</p>\n\n<pre><code>package Schema::Result::Entry;\n__PACKAGE__-&gt;has_many(\n  \"entry_i18ns\",\n  \"Schema::Result::EntryI18n\",\n  { \"foreign.entry_id\" =&gt; \"self.id\" },\n  { cascade_copy =&gt; 0, cascade_delete =&gt; 0 },\n);\n</code></pre>\n\n<p>So i want to retrieve related data from a newly created Schema::Result::Entry object:</p>\n\n<pre><code>$result = $schema-&gt;resultset('Result')-&gt;create({ entry_i18ns =&gt; { title =&gt; 'foo', language_code =&gt; 'en' } });\n</code></pre>\n\n<p>The problem is that <code>entry_i18ns</code> accessor executes extra SELECT and returns all the related EntryI18n objects, not the specific one which was created with create() call.</p>\n\n<p>As far as i can see, data i need is stored with <code>$result-&gt;{_relationship_data}{entry_i18ns}</code> array ref so i can access it whith something like</p>\n\n<pre><code>my $related_data = $result-&gt;{_relationship_data}{entry_i18ns}[0]{_column_data};\n</code></pre>\n\n<p>But how can i do it without messing up with internal DBIC private storage?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1429949010, "post_id": 29862597, "comment_id": 47850658, "body": "<code>$td_val =~ &#47;^[0-9.]+[munp]s?$&#47;</code>"}, {"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429949529, "post_id": 29862597, "comment_id": 47850793, "body": "I have try that but it didn&#39;t work"}, {"owner": {"reputation": 19518, "user_id": 968969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0802303aaa5f03f4cec652171dffcbc7?s=128&d=identicon&r=PG", "display_name": "Tony Hopkinson", "link": "https://stackoverflow.com/users/968969/tony-hopkinson"}, "edited": false, "score": 0, "creation_date": 1429949787, "post_id": 29862597, "comment_id": 47850861, "body": "If you want to use a special character you prefix it with a \\  e.g. /\\d+\\.\\d+/"}, {"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "edited": false, "score": 0, "creation_date": 1429950351, "post_id": 29862597, "comment_id": 47851030, "body": "On values 0.8n and 0.5n"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1429950516, "post_id": 29862597, "comment_id": 47851075, "body": "<a href=\"https://eval.in/318550\" rel=\"nofollow noreferrer\">eval.in/318550</a> says otherwise."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429976594, "post_id": 29862597, "comment_id": 47859339, "body": "@Meeyaw: \u0421\u0443\u0445\u043e\u043927&#39;s suggestion is quite correct. You must have copied it wrongly"}, {"owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1430014204, "post_id": 29862597, "comment_id": 47870882, "body": "@Borodin: I have copied it the wrong way"}], "answers": [{"tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": true, "score": -1, "last_activity_date": 1429950408, "last_edit_date": 1429950408, "creation_date": 1429949664, "answer_id": 29862730, "question_id": 29862597, "link": "https://stackoverflow.com/questions/29862597/how-to-make-regex-accept-strings-with-a-dot/29862730#29862730", "title": "How to make regex accept strings with a dot", "body": "<p>You can use </p>\n\n<pre><code>unless (($td_val=~/^\\d+(\\.\\d+)?[munp]s$/)||($td_val=~/^\\d+(\\.\\d+)?[munps]$/)||($td_val=~/^\\d+(\\.\\d+)?$/))\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>Your regex has <code>\\d+</code> which matches only integers.. so replace it with <code>\\d+(\\.\\d+)?</code> (integral part followed by optional decimal part) </p>\n\n<p>See <a href=\"https://regex101.com/r/iX2fB9/1\" rel=\"nofollow\">DEMO</a></p>\n"}], "owner": {"reputation": 65, "user_id": 4803760, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/X69ja.jpg?s=128&g=1", "display_name": "Meeyaw", "link": "https://stackoverflow.com/users/4803760/meeyaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 29862730, "answer_count": 1, "score": 1, "last_activity_date": 1429950408, "creation_date": 1429948689, "last_edit_date": 1429949141, "question_id": 29862597, "link": "https://stackoverflow.com/questions/29862597/how-to-make-regex-accept-strings-with-a-dot", "title": "How to make regex accept strings with a dot", "body": "<p>I'm currently debugging a Perl script and encountered some errors which will be described in the following sections below:</p>\n\n<p>In the script, I have this <code>-td</code> variable designed to accept a string like <code>1n, 5n, 0.3n, 0.8n</code></p>\n\n<p>But when I try to use the the last two from the said list, the script does not work as intended, and only works fine when I use only the first two from the list.</p>\n\n<p>To give you an overview, I have written some portions of the script, then after the code, I will state my concern:</p>\n\n<pre><code>if (scalar(@ARGV) &lt; 1){ &amp;get_usage() };\n# Getoptions Setup ##\nGetOptions (\n  'h|help'          =&gt; \\$help,\n  'v|version'       =&gt; \\$version,\n  'i|input=s'       =&gt; \\$input,\n  'o|output=s'      =&gt; \\$output,\n\n   ...  # more options here\n\n  'td=s'          =&gt; \\$td_val, # this is the line in question\n  'val=s'         =&gt; \\$v_var,\n\n   ...  # more options here\n\n) or die get_usage();  # this will only call usage of script or help\n\n   ...  # more codes here\n\nget_input_arg();   # this function will validate the entries user had inputted\n\n#assigning to a placeholder value for creating a new file\n$td_char=\"\\ttd=$td_val\" if $td_val;\n$td_char=\" \" if !$td_val;\n\n... # fast forward ...\n\nsub get_input_arg{\n\n...\n# here you go, there is wrong in the following regex to accept values such as 0.8n \nunless (($td_val=~/^\\d+(m|u|n|p)s$/)||($td_val=~/^\\d+(m|u|n|p|s)$/)||($td_val=~/^\\d+$/)){#\nprint \"\\n-td error!\\nEnter the required value!\\n\";\nget_usage();\n\n... # more functions here ...\n\n}\n</code></pre>\n\n<p>For explanation:</p>\n\n<ol>\n<li>On the console user will input <code>-td 5n</code></li>\n<li>The <code>5n</code> will be assigned to <code>td_val</code> and to <code>td_char</code> and be used for printing later</li>\n<li>This <code>5n</code> will be validated by <code>get_input_arg()</code> function which will pass to the regex <code>unless</code> line.</li>\n</ol>\n\n<p>For <code>5n</code> input, script work as intended, but when we use <code>-td 0.8n</code>, then after validating it, it will print the error message after the <code>unless</code> line on the console</p>\n\n<p>I know the regex is failing on matching with regards to using <code>0.8n</code> as <code>td</code> input, but I don't know how can I fix it. Thanks in advance!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1429946633, "post_id": 29862297, "comment_id": 47849992, "body": "Thanks.. I think it is SIGINT then?"}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 3, "creation_date": 1429946818, "post_id": 29862297, "comment_id": 47850037, "body": "Correct, SIGINT is 2 . In Linux, you can list this with <code>kill -l</code>."}], "tags": [], "owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "is_accepted": true, "score": 2, "last_activity_date": 1429946477, "creation_date": 1429946477, "answer_id": 29862297, "question_id": 29862178, "link": "https://stackoverflow.com/questions/29862178/name-of-signal-number-2/29862297#29862297", "title": "Name of signal number 2", "body": "<p>Yes, this is defined in <code>POSIX</code> module:</p>\n\n<pre><code>% perl -e 'use POSIX; printf \"%s\\n\", SIGABRT;'\n6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1429967874, "post_id": 29864660, "comment_id": 47856330, "body": "What about <code>use POSIX (); my $sigint = POSIX::SIGINT;</code>. That should avoid importing all symbols also?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1429972542, "post_id": 29864660, "comment_id": 47857886, "body": "@H&#229;konH&#230;gland: That would work, but you still have to check all <code>POSIX::SIGXXX</code> values to find the one you&#39;re looking for"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 8, "last_activity_date": 1429963108, "last_edit_date": 1429963108, "creation_date": 1429961952, "answer_id": 29864660, "question_id": 29862178, "link": "https://stackoverflow.com/questions/29862178/name-of-signal-number-2/29864660#29864660", "title": "Name of signal number 2", "body": "<p>There are a couple of ways to do this. You have seen a method using <code>POSIX</code>, which I generally avoid because by default it imports a <em>huge</em> number of symbols (nearly six hundred) into the current package. Even if you limit it to the names that you need for this by writing</p>\n\n<pre><code>use POSIX ':signal_h';\n</code></pre>\n\n<p>there are still around fifty names imported. It is also a matter of trial and error to discover the <em>name</em> of a signal given its <em>number</em> using this module.</p>\n\n<p>You could also construct a table of the signals that your Perl was buit with using the <a href=\"https://metacpan.org/pod/Config\" rel=\"noreferrer\"><code>Config</code></a> module, which exports a list of signal names and their corresponding numbers in <code>$Config{sig_name}</code> and <code>$Config{sig_num}</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Config '%Config';\n\nmy @sig_names;\n@sig_names[ split ' ', $Config{sig_num} ] = split ' ', $Config{sig_name};\n\nprintf \"Signal number 2 is %s\\n\", $sig_names[2];\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Signal number 2 is INT\n</code></pre>\n\n<p>Or you can make use of the <a href=\"https://metacpan.org/pod/IPC::Signal\" rel=\"noreferrer\"><code>IPC::Signal</code></a> module which wraps all of this up conveniently</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IPC::Signal 'sig_name';\n\nprintf \"Signal number 2 is %s\\n\", sig_name(2);\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Signal number 2 is INT\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 1, "accepted_answer_id": 29862297, "answer_count": 2, "score": 3, "last_activity_date": 1429963108, "creation_date": 1429945711, "question_id": 29862178, "link": "https://stackoverflow.com/questions/29862178/name-of-signal-number-2", "title": "Name of signal number 2", "body": "<p>I wondered if there is a module or pragma that defines names for signal numbers as returned by the <code>system</code> call? For example:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $cmd = 'sleep 10';\nmy $res = system $cmd;\nmy $signal = $res &amp; 127;\nif ( $res == -1 ) {\n    die \"Failed to execute: $!\\n\";\n}\nelsif ( $signal == 2 ) {\n    say \" Aborted by user.\";\n}\nelsif ( $signal ) {\n    printf \" Command '%s' Died with signal %d, %s coredump.\\n\",\n      $cmd, $signal, ( $? &amp; 128 ) ? 'with' : 'without';\n}\n</code></pre>\n\n<p>Instead of <code>$signal == 2</code>, I think for code maintenance, it would be better to use something like <code>$signal == SIG_ABRT</code>..</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 2, "creation_date": 1429945180, "post_id": 29861771, "comment_id": 47849647, "body": "<code>print Dumper \\@sortdown;</code>"}, {"owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1429947093, "post_id": 29861771, "comment_id": 47850116, "body": "Doesn&#39;t do anything. I tried that."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1429947592, "post_id": 29861771, "comment_id": 47850259, "body": "My mistake. <code>print Dumper(\\@sortdown);</code>  All the same, I would have expected <i>something</i>, not &quot;doesn&#39;t do anything&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1429952940, "post_id": 29861771, "comment_id": 47851728, "body": "What do you mean by <i>\u201cunorganised output\u201d</i>? Are you trying to get a tidy, formatted output using <code>Dumper</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430069665, "post_id": 29863996, "comment_id": 47886157, "body": "Say I wanted to separate each element in an array by a character. Would it be acceptable to use $, = &#39;,&#39;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 0, "creation_date": 1430076007, "post_id": 29863996, "comment_id": 47888654, "body": "That is what it is for. Be slightly cautious though, as it is a global. localising it to a scope is a good thing. But mostly I would say just use &quot;join&quot; instead"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1429960574, "last_edit_date": 1429960574, "creation_date": 1429957647, "answer_id": 29863996, "question_id": 29861771, "link": "https://stackoverflow.com/questions/29861771/perl-trying-to-deference-an-array-after-sorting-it/29863996#29863996", "title": "Perl : Trying to deference an array after sorting it", "body": "<p>The problem here is that you're expected <code>Dumper</code> to provide an organised output. It doesn't. It dumps a data structure to make debugging easier. The key problem will be that hashes are explicitly unordered data structures - they're key-value mappings, they <em>don't</em> produce any output order. </p>\n\n<p>With reference to <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\"><code>perldata</code></a>:</p>\n\n<blockquote>\n  <p>Note that just because a hash is initialized in that order doesn't mean that it comes out in that order. </p>\n</blockquote>\n\n<p>And specifically the <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\"><code>keys</code></a> function:</p>\n\n<blockquote>\n  <p>Hash entries are returned in an apparently random order. The actual random order is specific to a given hash; the exact same series of operations on two hashes may result in a different order for each hash.</p>\n</blockquote>\n\n<p>There is a whole section in <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow\"><code>perlsec</code></a> which explains this in more detail, but suffice to say - hashes are random order, which means whilst you're sorting your <em>students</em> by name, the key value pairs for each student <em>isn't</em> sorted. </p>\n\n<p>I would suggest instead of:</p>\n\n<pre><code>my @sortdown = sort{ $b-&gt;{name} cmp $a-&gt;{name} } @$students;\nprint Dumper @sortdown;\n</code></pre>\n\n<p>You'd be better off with using a <code>slice</code>:</p>\n\n<pre><code>my @field_order = qw ( name age GPA MA );\n\nforeach my $student ( sort { $b -&gt; {name} cmp $a -&gt; {name} } @$students ) {\n   print @{$student}{@field_order}, \"\\n\";\n}\n</code></pre>\n\n<p>Arrays (<code>@field_order</code>) are explicitly ordered, so you will always print your student fields in the same sequence. (Haven't fully tested for your example I'm afraid, because I don't have your source data, but this approach works with a sample data snippet).</p>\n\n<p>If you do need to print the keys as well, then you may need a foreach loop instead:</p>\n\n<pre><code>foreach my $field ( @field_order ) {\n    print \"$field =&gt; \", $student-&gt;{$field},\"\\n\";\n}\n</code></pre>\n\n<p>Or perhaps the more terse:</p>\n\n<pre><code>print \"$_ =&gt; \", $student -&gt; {$_},\"\\n\" for @field_order;\n</code></pre>\n\n<p>I'm not sure I like that as much though, but that's perhaps a matter of taste. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1429969810, "post_id": 29864448, "comment_id": 47856937, "body": "As a matter of style, I tend not to just take the first entry off <code>@ARVG</code> when taking file arguments - I&#39;ll usually do it as a <code>foreach</code> loop."}, {"owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "edited": false, "score": 1, "creation_date": 1430069619, "post_id": 29864448, "comment_id": 47886143, "body": "This is quite something I will try substituting some of these methods into the program. I am not so familiar with regex. This will take sometime to read!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1429965576, "last_edit_date": 1495540263, "creation_date": 1429960746, "answer_id": 29864448, "question_id": 29861771, "link": "https://stackoverflow.com/questions/29861771/perl-trying-to-deference-an-array-after-sorting-it/29864448#29864448", "title": "Perl : Trying to deference an array after sorting it", "body": "<p>The essence of your mistake is to assume that hashes will have a specific ordering. As <a href=\"https://stackoverflow.com/a/29863996/100754\">@Sobrique explains</a>, that assumption is wrong.</p>\n\n<p>I assume you are trying to learn Perl, and therefore, some guidance on the basics will be useful:</p>\n\n<blockquote>\n<pre><code>#!bin/usr/perl\n</code></pre>\n</blockquote>\n\n<p>Your <a href=\"https://stackoverflow.com/questions/2429511/why-do-people-write-usr-bin-env-python-on-the-first-line-of-a-python-script/2429515#2429515\">shebang line</a> is wrong: On Windows, or if you run your script with <code>perl script.pl</code>, it will not matter, but you want to make sure the interpreter that is specified in that line uses an absolute path.</p>\n\n<p>Also, you may not always want to use the <code>perl</code> interpreter that came with the system, in which case <code>#!/usr/bin/env perl</code> maybe helpful for one-off scripts.</p>\n\n<blockquote>\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nuse 5.010;\n</code></pre>\n</blockquote>\n\n<p>I tend to prefer version constraints before pragmata (except in the case of <code>utf8</code>). <code>Data::Dumper</code> is a debugging aid, not something you use for human readable reports.</p>\n\n<blockquote>\n<pre><code>my $filename = $ARGV[0];\n</code></pre>\n</blockquote>\n\n<p>You should check if you were indeed given an argument on the command line as in:</p>\n\n<pre><code>@ARGV or die \"Need filename\\n\";\nmy $filename = $ARGV[0];\n</code></pre>\n\n<blockquote>\n  <p>open ( INPUT_FILE , '&lt;', \"$filename\" ) or die \"Could not open to read \\n \";</p>\n</blockquote>\n\n<p>File handles such as <code>INPUT_FILE</code> are called <em>bareword</em> filehandles. These have package scope. Instead, use lexical filehandles whose scope you can restrict to the smallest appropriate block.</p>\n\n<p>There is no need to interpolate <code>$filename</code> in the third argument to <code>open</code>.</p>\n\n<p>Always include the name of the file and the error message when dying from an error in <code>open</code>. Surrounding the filename with <code>' '</code> helps you identify any otherwise hard to detect characters that might be causing the problem (e.g. a newline or a space).</p>\n\n<pre><code>open my $input_fh, '&lt;', $filename\n    or die \"Could not open '$filename' for reading: $!\";\n</code></pre>\n\n<blockquote>\n<pre><code>sub readLines{\n</code></pre>\n</blockquote>\n\n<p>This is reading into an array you defined in global scope. What if you want to use the same subroutine to read records from two different files into two separate arrays? <code>readLines</code> should receive a filename as an argument, and return an arrayref as its output (see below).</p>\n\n<blockquote>\n<pre><code>   while(my $currentLine = &lt;INPUT_FILE&gt;){\n        chomp($currentLine);\n</code></pre>\n</blockquote>\n\n<p>In most cases, you want all trailing whitespace removed, not just the line terminator.</p>\n\n<blockquote>\n<pre><code>       my @myLine = split(/\\s+/,$currentLine);\n</code></pre>\n</blockquote>\n\n<p><a href=\"https://metacpan.org/pod/perlfunc#split-PATTERN-EXPR-LIMIT\" rel=\"nofollow noreferrer\"><code>split</code></a> on <code>/\\s+/</code> is different than <code>split ' '</code>. In most cases, the latter is infinitely more useful. Read about the differences in <code>perldoc -f split</code>.</p>\n\n<blockquote>\n<pre><code>       my %temphash = (\n        name =&gt; \"$myLine[0]\",\n        age  =&gt; \"$myLine[1]\",\n        GPA  =&gt; \"$myLine[2]\",\n        MA   =&gt; \"$myLine[3]\"\n        );\n</code></pre>\n</blockquote>\n\n<p>Again with the useless interpolation. There is no need to interpolate those values into fresh strings (except maybe in the case where they might be objects which overloaded the stringification, but, in this case, you know they are just plain strings.</p>\n\n<blockquote>\n<pre><code>       pushToStudents(\\%temphash);\n</code></pre>\n</blockquote>\n\n<p>No need for the extra <code>pushToStudents</code> subroutine in this case, unless this is a stub for a method that will later be able to load the data to a database or something. Even in that case, it be better to provide a callback to the function.</p>\n\n<blockquote>\n  <p>sub pushToStudents{\n           my $data = shift;\n           push $students ,$data;\n       }</p>\n</blockquote>\n\n<p>You are pushing data to a global variable. A program where there can only ever be a single array of student records is not useful.</p>\n\n<blockquote>\n<pre><code>sub printData{\n    my $COMMAND = shift;\n    if($COMMAND eq \"sort up\"){\n</code></pre>\n</blockquote>\n\n<p>Don't do this. Every subroutine should have one clear purpose.</p>\n\n<p>Here is a revised version of your program.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nuse Carp qw( croak );\n\nrun(\\@ARGV);\n\nsub run {\n    my $argv = $_[0];\n    @$argv\n        or die \"Need name of student records file\\n\";\n\n    open my $input_fh, '&lt;', $argv-&gt;[0]\n        or croak \"Cannot open '$argv-&gt;[0]' for reading: $!\";\n\n    print_records(\n        read_student_records($input_fh),\n        prompt_sort_order(),\n    );\n\n    return;\n}\n\nsub read_student_records {\n    my $fh = shift;\n\n    my @records;\n\n    while (my $line = &lt;$fh&gt;) {\n        last unless $line =~ /\\S/;\n        my @fields = split ' ', $line;\n        push @records, {\n            name =&gt; $fields[0],\n            age =&gt; $fields[1],\n            gpa =&gt; $fields[2],\n            ma =&gt; $fields[3],\n        };\n    }\n\n    return \\@records;\n}\n\nsub print_records {\n    my $records = shift;\n    my $sorter = shift;\n\n    if ($sorter) {\n        $records = [ sort $sorter @$records ];\n    }\n\n    say \"@{ $_ }{ qw( age name gpa ma )}\" for @$records;\n\n    return;\n}\n\nsub prompt_sort_order {\n    my @sorters = (\n        [ \"Input order\",  undef ],\n        [ \"by name in ascending order\",  sub { $a-&gt;{name} cmp $b-&gt;{name} } ],\n        [ \"by name in descending order\", sub { $b-&gt;{name} cmp $a-&gt;{name} } ],\n        [ \"by GPA in ascending order\",   sub { $a-&gt;{gpa} &lt;=&gt; $b-&gt;{gpa} } ],\n        [ \"by GPA in descending order\",  sub { $b-&gt;{gpa} &lt;=&gt; $a-&gt;{gpa} } ],\n    );\n\n    while (1) {\n        print \"Please choose the order in which you want to print the records\\n\";\n        print \"[ $_ ] $sorters[$_ - 1][0]\\n\" for 1 .. @sorters;\n        printf \"\\n\\t(%s)\\n\", join('/', 1 .. @sorters);\n\n        my ($response) = (&lt;STDIN&gt; =~ /\\A \\s*? ([1-9][0-9]*?) \\s+ \\z/x);\n        if (\n            $response and\n            ($response &gt;= 1) and\n            ($response &lt;= @sorters)\n        ) {\n            return $sorters[ $response - 1][1];\n        }\n    }\n\n    # should not be reached\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 1227, "user_id": 3135725, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/977976bfca85e5a5eab5471145e7f100?s=128&d=identicon&r=PG&f=1", "display_name": "MooCow", "link": "https://stackoverflow.com/users/3135725/moocow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 29863996, "answer_count": 2, "score": 1, "last_activity_date": 1598211341, "creation_date": 1429942933, "last_edit_date": 1598211341, "question_id": 29861771, "link": "https://stackoverflow.com/questions/29861771/perl-trying-to-deference-an-array-after-sorting-it", "title": "Perl : Trying to deference an array after sorting it", "body": "<p>I am currently writing a perl script where I have a reference to an array (students) of references. After adding the  hash references to the array. Now I add the references to the array of students and then ask the user how to sort them. This is where it gets confusing. I do not know how to deference the sorted array. Using dumper I can get the sorted array but in a unorganized output. <strong>How can I deference the array of hash references after sorting?</strong></p>\n<pre><code>#!bin/usr/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse 5.010;\n#reference to a var $r = \\$var; Deferencing $$r\n#reference to an array $r = \\@var ; Deferencing @$r\n#referenc to  a hash $r = \\%var ; deferencing %$r\n\nmy $filename = $ARGV[0];\nmy $students = [];\n\n\n\n\nopen ( INPUT_FILE , '&lt;', &quot;$filename&quot; ) or die &quot;Could not open to read \\n &quot;;\n\n\nsub readLines{\n    \n    while(my $currentLine = &lt;INPUT_FILE&gt;){\n        chomp($currentLine);\n        my @myLine = split(/\\s+/,$currentLine);\n        my %temphash = (\n        name =&gt; &quot;$myLine[0]&quot;,\n        age  =&gt; &quot;$myLine[1]&quot;,\n        GPA  =&gt; &quot;$myLine[2]&quot;,\n        MA   =&gt; &quot;$myLine[3]&quot;\n        );\n        pushToStudents(\\%temphash);\n    }\n    \n}\n\nsub pushToStudents{\n    my $data = shift;\n    push $students ,$data;\n}\n\nsub printData{\n    \n    my $COMMAND = shift;\n    \n    if($COMMAND eq &quot;sort up&quot;){\n        my @sortup = sort{ $a-&gt;{name} cmp $b-&gt;{name} } @$students;\n        print Dumper @sortup;\n        \n    }elsif($COMMAND eq &quot;sort down&quot;){\n        my @sortdown = sort{ $b-&gt;{name} cmp $a-&gt;{name} } @$students;\n        print Dumper @sortdown;\n        //find a way to deference so to make a more organize user friendly read.\n        \n    }else{\n        print &quot;\\n quit&quot;;\n    }\n    \n    \n}\n\nreadLines();\n#Output in random, the ordering of each users data is random\nprintf&quot;please choose display order : &quot;;\nmy $response = &lt;STDIN&gt;;\nchomp $response;\nprintData($response);\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1429960739, "post_id": 29861113, "comment_id": 47853995, "body": "No need for <code>grep</code>: <code>ls -l program.{c,o}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1429937426, "post_id": 29861132, "comment_id": 47848096, "body": "you may try glob <code>ls -ltr *program.[co]</code>"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1429942580, "post_id": 29861132, "comment_id": 47849073, "body": "Or even <code>echo program.[co]</code>"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1429937286, "creation_date": 1429937286, "answer_id": 29861132, "question_id": 29861113, "link": "https://stackoverflow.com/questions/29861113/bash-wildcard-expansion-with-a-set-construct/29861132#29861132", "title": "bash wildcard expansion with a set construct", "body": "<p>You could try adding end of the line anchor and also put the regex inside quotes. Note that grep uses regex to find strings not glob.</p>\n\n<pre><code>ls -ltr | grep 'program\\.[co]$'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "is_accepted": false, "score": 2, "last_activity_date": 1430037464, "last_edit_date": 1430037464, "creation_date": 1429941635, "answer_id": 29861606, "question_id": 29861113, "link": "https://stackoverflow.com/questions/29861113/bash-wildcard-expansion-with-a-set-construct/29861606#29861606", "title": "bash wildcard expansion with a set construct", "body": "<p>Use <code>set -x</code> to see what is happening.  Since you are using wildcards (<em>glob constructs</em>) outside quotes, <strong>the shell</strong> expands the filenames <em>before</em> <code>egrep</code> gets run.</p>\n\n<p>If you want to pass patterns to a program, <em>enclose them inside 'single quotes'</em>.  </p>\n\n<p>Don't confuse globbing with regular expressions - they are different pattern matching regimes.  For example:, in regular expressions <code>?</code> means \"zero or more of the preceding pattern\", whereas in globbing it means <em>exactly</em> one character.  </p>\n\n<p><code>program.?</code> in a regular expression means \"program\" followed by an optional single  character (<code>.</code> means one of any character except newline) <em>somewhere in the string</em>.</p>\n\n<p><code>program.?</code> in globbing means \"program.\" followed by one single character.</p>\n\n<p><code>egrep</code> takes regular expressions, not glob constructs.</p>\n\n<p>This is also possibly an unnecessary use of both <code>ls</code> and <code>egrep</code>, just use <code>echo</code>:</p>\n\n<pre><code>echo program.[co]\n   program.c program.o\necho program.?\n   program.c program.o\n</code></pre>\n\n<p>This works because <code>echo</code> is a shell built-in and the shell does globbing (and is generally more efficient than calling an external program like <code>ls</code>).</p>\n\n<p>Now your Perl snippet worked for two reasons.  One:  you enclosed the pattern inside single quotes, which you didn't do for the <code>egrep</code>.  </p>\n\n<p>Two:  you just happened to pick the <em>only</em> pattern which is the same in regular expressions and globbing - the [ ] <em>character-class</em> notation (although there are even differences here).  The /.../ notation in Perl invokes the regular expression match (<code>m</code>) operator by default.</p>\n\n<p>You expected the Perl match to stop on the first match, but the <code>-nl</code> options means that it performs the <code>print</code> statement in a loop for each line in standard-input, which comes from the pipe.</p>\n\n<p>BTW, Perl also has the built-in function <code>glob()</code>.</p>\n\n<pre><code>echo *|perl -nle 'print glob(\"program.[co]\")'\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430037464, "creation_date": 1429937141, "question_id": 29861113, "link": "https://stackoverflow.com/questions/29861113/bash-wildcard-expansion-with-a-set-construct", "title": "bash wildcard expansion with a set construct", "body": "<p>Bash wildcard expansion.</p>\n\n<p>I have a direcotry with three files in it. I want to use wilcar expansion to match program.c and program.o</p>\n\n<pre><code>casper@casper-PC ~\n$ ls -ltr\ntotal 4\ndrwxr-xr-x+ 1 casper None 0 Apr 12 18:31 perl_lwp\n-rw-r--r--  1 casper None 0 Apr 25 00:14 program.o\n-rw-r--r--  1 casper None 0 Apr 25 00:14 program.c\n-rw-r--r--  1 casper None 0 Apr 25 00:14 program.log\n</code></pre>\n\n<p>This does not work.</p>\n\n<pre><code>casper@casper-PC ~ \n$ ls -ltr | egrep program.[co]\n</code></pre>\n\n<p>Nor does this work.</p>\n\n<pre><code> casper@casper-PC ~ \n$ ls -ltr | egrep program.?\n</code></pre>\n\n<p>This does not work</p>\n\n<pre><code>casper@casper-PC ~\n$ grep -r program.?\n</code></pre>\n\n<p>this does work  - but I wanted to use bash brace expansion, not perl.</p>\n\n<pre><code>casper@casper-PC ~\n$ ls -ltr | perl -nle 'print /(program.[co])/'\nprogram.o\nprogram.c\n</code></pre>\n\n<p>However I thought it strange that it matches both of them because I thought that the set construct would match o or c and then stop once it matched</p>\n"}]