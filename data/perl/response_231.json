[{"tags": ["c#", "perl", "soap", "soaplite"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560401640, "post_id": 56571728, "comment_id": 99725252, "body": "One would imagine this needs to be specified where <code>name</code> and <code>desc</code> are  specified. (In the WSDL?) Without something I can run, this is the extent of the help I can give."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560432975, "post_id": 56571728, "comment_id": 99741342, "body": "Strange - per the <a href=\"https://metacpan.org/pod/SOAP::Lite#default_ns(%24uri)\" rel=\"nofollow noreferrer\">docs</a>, the <code>default_ns</code> call should have done that.  Are you running a version of the code that includes that call?  I have sometimes accidentally commented out important things while trying to nail down a slippery bug :) .  <b>Edit</b> You could also try <code>$soap-&gt;use_prefix(false)</code> per <a href=\"https://metacpan.org/pod/SOAP::Lite#use_prefix(boolean)\" rel=\"nofollow noreferrer\">docs</a>."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560433038, "post_id": 56571728, "comment_id": 99741394, "body": "Would you please edit your question to specify the versions of Perl and of SOAP::Lite?"}, {"owner": {"reputation": 119, "user_id": 7381340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c446f13b1537752e20a99d9005e03212?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny Togunloju", "link": "https://stackoverflow.com/users/7381340/kenny-togunloju"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560526606, "post_id": 56571728, "comment_id": 99778542, "body": "@cxw I added the versions. Also, I am running a version of he code that does that call. I tried use_prefix too but it still doesn&#39;t work."}], "owner": {"reputation": 119, "user_id": 7381340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c446f13b1537752e20a99d9005e03212?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny Togunloju", "link": "https://stackoverflow.com/users/7381340/kenny-togunloju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560527056, "creation_date": 1560383711, "last_edit_date": 1560527056, "question_id": 56571728, "link": "https://stackoverflow.com/questions/56571728/how-to-change-namespace-prefix-explicitly-to-xmlns-in-soaplite", "title": "How to change Namespace Prefix explicitly to &quot;xmlns&quot; in Soap:Lite", "body": "<p>I'm setting up a Web Service in c# and they are calling it using perl Soap::Lite. I am trying to get the program to remove the namespace prefox, and instead, define the full namespace as an xmlns attribute in the action tag. The request generated looks like this</p>\n\n<pre><code>&lt;soap:Envelope\n    soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:http=\"http://schemas.xmlsoap.org/wsdl/http/\"\n    xmlns:mime=\"http://schemas.xmlsoap.org/wsdl/mime/\"\n    xmlns:s=\"http://www.w3.org/2001/XMLSchema\"\n    xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"\n    xmlns:soap12=\"http://schemas.xmlsoap.org/wsdl/soap12/\"\n    xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:tm=\"http://microsoft.com/wsdl/mime/textMatching/\"\n    xmlns:tns=\"https://mynamespace.org\"\n    xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;soap:Body&gt;\n    &lt;tns:myMethod&gt;\n      &lt;name xsi:type=\"s:string\"&gt;First Cycle&lt;/name&gt;\n      &lt;desc xsi:type=\"s:string\"&gt; The Description&lt;/desc&gt;\n    &lt;/tns:myMethod&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>The code that generated the request above is this</p>\n\n<pre><code>use strict ;\nuse warnings ;\n\nuse SOAP::Lite +trace =&gt; [ transport =&gt; sub { print $_[0]-&gt;as_string } ];;\n\nmy $ns = \"https://mynamespace.org\";\n\nmy $HOST = \"http://localhost:54387/WebService.asmx\";\n\nmy $wsdl = \"http://localhost:54387/WebService.asmx?wsdl\";\n\nmy $soap = SOAP::Lite-&gt;service($wsdl);\n$soap-&gt;default_ns($ns);\n\n my $som = $soap-&gt;myMethod(\n     'First Cycle', 'The Description'\n);\n\n die $som-&gt;fault-&gt;{ faultstring } if ($som-&gt;fault);\n print $som-&gt;result, \"\\n\";\n</code></pre>\n\n<p>The parameters in the above show null in the web service because C# parses the parameters as being in different namespaces. instead of the prefix, I'd like the action to look like this</p>\n\n<p><code>&lt;myMethod xmlns=\"https://mynamespace.org\"&gt;</code></p>\n\n<p>I've tried using\n<code>my $soap = SOAP::Lite-&gt;new( proxy =&gt; $HOST);</code></p>\n\n<p>instead of the service description. It works but the paramters are changes to something like this <code>&lt;c-sysgen3 xsi:type=\"s:string\"&gt;&lt;c-sysgen3&gt;</code></p>\n\n<p>I want the request to look like this</p>\n\n<pre><code>&lt;soap:Envelope\n    soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:http=\"http://schemas.xmlsoap.org/wsdl/http/\"\n    xmlns:mime=\"http://schemas.xmlsoap.org/wsdl/mime/\"\n    xmlns:s=\"http://www.w3.org/2001/XMLSchema\"\n    xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"\n    xmlns:soap12=\"http://schemas.xmlsoap.org/wsdl/soap12/\"\n    xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:tm=\"http://microsoft.com/wsdl/mime/textMatching/\"\n    xmlns:tns=\"https://mynamespace.org\"\n    xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;soap:Body&gt;\n    &lt;myMethod xmlns=\"https://mynamespace.org\"&gt;\n      &lt;name xsi:type=\"s:string\"&gt;First Cycle&lt;/name&gt;\n      &lt;desc xsi:type=\"s:string\"&gt; The Description&lt;/desc&gt;\n    &lt;/myMethod&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>or like this</p>\n\n<pre><code>&lt;soap:Envelope\n    soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:http=\"http://schemas.xmlsoap.org/wsdl/http/\"\n    xmlns:mime=\"http://schemas.xmlsoap.org/wsdl/mime/\"\n    xmlns:s=\"http://www.w3.org/2001/XMLSchema\"\n    xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"\n    xmlns:soap12=\"http://schemas.xmlsoap.org/wsdl/soap12/\"\n    xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"\n    xmlns:tm=\"http://microsoft.com/wsdl/mime/textMatching/\"\n    xmlns:tns=\"https://mynamespace.org\"\n    xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;soap:Body&gt;\n    &lt;tns:myMethod&gt;\n      &lt;tns:name xsi:type=\"s:string\"&gt;First Cycle&lt;/tns:name&gt;\n      &lt;tns:desc xsi:type=\"s:string\"&gt; The Description&lt;/tns:desc&gt;\n    &lt;/tns:myMethod&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>I should mention I am not allowed to explicitly define the element tags in perl e.g.</p>\n\n<pre><code>$soap-&gt;call('myMethod',\n     SOAP::Data-&gt;name('name')-&gt;value( 'First Cycle' ),\n    SOAP::Data-&gt;name('desc')-&gt;value('The Description') );\n</code></pre>\n\n<p>Please Help (-:</p>\n\n<p>Edit: My version of perl is 5.28.1 and the version of SOAP::Lite is 1.27\nI.m also using .net framework 4.5</p>\n\n<p>Edit: I should probably add my web service implementation</p>\n\n<pre><code>  namespace WebService\n{ \n\n  [WebService(Namespace = \"https://mynamespace.org\")]\n  [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n   [System.ComponentModel.ToolboxItem(false)]\n    public class SoapService : System.Web.Services.WebService\n    {\n\n        [WebMethod]\n        public string myMethod(string name, string desc)\n        {\n            // Implementation here\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "perl", "unicode", "utf-8", "deserialization"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560376953, "post_id": 56570919, "comment_id": 99720695, "body": "It&#39;s really impossible to say without knowing anything about the serialization format or  implementation."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560377049, "post_id": 56570919, "comment_id": 99720730, "body": "@Grinnz - I&#39;m hoping this Unicode character is something special (like, equivalent to a closing curly brace or something; or has weird length calculations)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560377167, "post_id": 56570919, "comment_id": 99720770, "body": "The only thing special about this character vs other Unicode characters is that it can be represented in cp1252 (the native single byte encoding of most US systems)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560377269, "post_id": 56570919, "comment_id": 99720796, "body": "&quot;fully Unicode compliant&quot; is not really a phrase that makes sense. You must encode and decode your data exactly where appropriate and nowhere else, there is no magic Unicode compliance feature. If you are using these characters literally in your source code, you need <code>use utf8;</code>."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560377360, "post_id": 56570919, "comment_id": 99720817, "body": "See also <a href=\"https://stackoverflow.com/a/6163129/5848200\">stackoverflow.com/a/6163129/5848200</a>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560377443, "post_id": 56570919, "comment_id": 99720837, "body": "I think the main question I would have is what encoding this serialization is expected to be transmitted in."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1560377483, "post_id": 56570919, "comment_id": 99720849, "body": "it is a &quot;other&quot;-class control character; it doesn&#39;t surprise me that it something expecting text data doesn&#39;t like it.  other than that, it&#39;s just this character, you know.  its Bidirectional Category is &quot;Boundary Neutral&quot;, which is normal for an &quot;other&quot; or format type control character."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560377609, "post_id": 56570919, "comment_id": 99720879, "body": "@Grinnz - no, they come from opening a file, so <code>use utf8</code> is not needed. Good point in general though :)"}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1560377679, "post_id": 56570919, "comment_id": 99720895, "body": "@ysth - if you fill that out, i think it may possibly be a good (or probably THE correct) answer. Is there a way I can find a list of such characters, and a way to match them in Perl? I can then test if other characters of that class fail same way"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560377746, "post_id": 56570919, "comment_id": 99720911, "body": "Can you verify the decoded character via your Perl code: <code>sprintf &#39;%vX&#39;, $char</code> or <code>ord $char</code> (for the decimal ordinal), as it may be different after it&#39;s been serialized and encoded in whatever way."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1560378173, "post_id": 56570919, "comment_id": 99721010, "body": "Also, I&#39;d recommend <code>:encoding(UTF-8)</code> instead of <code>:utf8</code>, as the latter is an internal use layer which can end up creating an invalid string if you feed it garbage."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560378576, "post_id": 56570919, "comment_id": 99721113, "body": "@Grinnz - no change from :encoding(UTF-8) but backwards decoding produces decidedly different character from 2 unicode characters when printing"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1560380025, "post_id": 56570919, "comment_id": 99721424, "body": "I don&#39;t know what you mean by &quot;backwards decoding&quot;. You can&#39;t print unicode characters, they must always be encoded to something for serialization, and the bytes will be different if they are not ASCII characters. That&#39;s why you should verify what the decoded character is."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560384060, "post_id": 56570919, "comment_id": 99722167, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/194846/discussion-between-dvk-and-grinnz\">continue this discussion in chat</a>."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560384412, "post_id": 56570919, "comment_id": 99722222, "body": "And after all the digging, looks like the issue is an innocuous E2 character and not control 82 :(   I&#39;m confused to no end"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560397856, "post_id": 56570919, "comment_id": 99724475, "body": "U+00E2, or <code>&#226;</code>, is commonly part of the result of double encoding, since the byte <code>\\xE2</code> starts many UTF-8 sequences.. Perhaps the decoder is errantly guessing the data is double encoded and failing when it isn&#39;t."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560449950, "post_id": 56570919, "comment_id": 99750773, "body": "@Grinnz - seems to be the root cause. It was a Euro 3-byte character"}], "answers": [{"comments": [{"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 1, "creation_date": 1560384417, "post_id": 56571255, "comment_id": 99722224, "body": "And after all the digging, looks like the issue is an innocuous E2 character and not control 82 :(   I&#39;m confused to no end"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560397967, "post_id": 56571255, "comment_id": 99724496, "body": "@DVK, That&#39;s rather incredible. U+00E2 is &quot;&#226;&quot;, a perfectly ordinary letter character. The Java program should have no problems with that specific character, and SO wouldn&#39;t delete it. On the other hand, the error message says <code>82</code>, and it would make sense for SO to delete a control character. I believe this new discovery is a mistake. Combined with the fact that <code>E2</code> can be the lead byte of a 3-byte UTF-8 sequence (for a character in U+2000..U+2FFF), it seems like you are looking at the encoded form of a character."}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560446458, "post_id": 56571255, "comment_id": 99749202, "body": "@ikegami - I was too hasty. It wasn&#39;t E2 itself - it was a combo of E2 followed by either 82 or A3 (or some other characters, I&#39;m not sure what the pattern is now). E2 by itself as a single character is fine. I&#39;m guessing that may be related to the 3-byte idea you presented"}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560449922, "post_id": 56571255, "comment_id": 99750756, "body": "@ikegami - it was a bloody Euro character :( It&#39;s actually the first example on the Wiki for 3 byte encoding!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560452290, "post_id": 56571255, "comment_id": 99751879, "body": "@DVK, Yeah, like I said, you were reporting the partial encoded form of a Code Point, and not a Code Point itself. \u20ac is U+20AC and encodes to E2 82 AC"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560452397, "post_id": 56571255, "comment_id": 99751924, "body": "@DVK, There is an <code>82</code> in the encoding of the Euro character, so either you have a double-encoded character, or the Java program is not expecting UTF-8. I suspect the former. In short, the problem is that you don&#39;t have actually have \u20ac because you have an extraneous encode or a missing decode somewhere."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560452768, "post_id": 56571255, "comment_id": 99752088, "body": "@DVK you need to find out what encoding the java program is expecting (if in fact it allows non-ascii at all)"}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560453649, "post_id": 56571255, "comment_id": 99752444, "body": "@ikegami - when I run decode(UTF-8) on the string, Java stops failing, BUT the resulting string ends up being &quot;?&quot; instead if Euro once it&#39;s stored in database by Java program."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560454360, "post_id": 56571255, "comment_id": 99752740, "body": "@DVK, The fact that you can decode suggests that you should be. The fact that it doesn&#39;t work either doesn&#39;t mean it&#39;s wrong; it could simply be indicative of another bug or a limitation. But, I&#39;m just speculating here."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560464876, "post_id": 56571255, "comment_id": 99756185, "body": "@DVK maybe encode into latin15?  but instead of trying stuff, find out for sure what your other program is expecting; it may be that a euro character is not even possible"}, {"owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "edited": false, "score": 0, "creation_date": 1560472434, "post_id": 56571255, "comment_id": 99757623, "body": "@ysth - that&#39;s my problem :( The other program is extremely difficult to debug. I&#39;ll try to in the coming week."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1560379455, "creation_date": 1560379455, "answer_id": 56571255, "question_id": 56570919, "link": "https://stackoverflow.com/questions/56570919/whats-so-special-about-unicode-character-that-it-breaks-the-parser-logic-bas/56571255#56571255", "title": "What&#39;s so special about Unicode character &quot;&quot; that it breaks the parser logic based on curly braces?", "body": "<p>You can see information about characters in the unicode character database; a text dump of that can be found at <a href=\"https://www.unicode.org/Public/UCD/latest/ucd/UnicodeData.txt\" rel=\"nofollow noreferrer\">https://www.unicode.org/Public/UCD/latest/ucd/UnicodeData.txt</a> where it shows:</p>\n\n<pre><code>0082;&lt;control&gt;;Cc;0;BN;;;;;N;BREAK PERMITTED HERE;;;;\n</code></pre>\n\n<p>The meanings of the fields can be found at <a href=\"http://www.unicode.org/reports/tr44/#UnicodeData.txt\" rel=\"nofollow noreferrer\">http://www.unicode.org/reports/tr44/#UnicodeData.txt</a> (though that seems to omit the first field, which is the codepoint).</p>\n\n<p>So it is an \"other\" class control character, with Bidirectional Category \"Boundary Neutral\" (which is normal for a Cc or Cf class character).  There isn't anything else special about it.</p>\n\n<p>But being a control character, it doesn't surprise me that something expecting text data has a problem with it.</p>\n"}], "owner": {"reputation": 119287, "user_id": 119280, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a7efd5c795e9797c30fce4126daaa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "DVK", "link": "https://stackoverflow.com/users/119280/dvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 56571255, "answer_count": 1, "score": 2, "last_activity_date": 1560379455, "creation_date": 1560376828, "question_id": 56570919, "link": "https://stackoverflow.com/questions/56570919/whats-so-special-about-unicode-character-that-it-breaks-the-parser-logic-bas", "title": "What&#39;s so special about Unicode character &quot;&quot; that it breaks the parser logic based on curly braces?", "body": "<p>I am trying to debug a weird issue, hoping a Unicode expert here would be able to help.</p>\n\n<ul>\n<li>I have a (Perl based) sender program, which takes some data structure</li>\n<li>it encodes the data structure into a proprietary serialized format which uses curly braces for encoding the data. Here's an example serialized string:\n   <code>{{9}{{8}{{skip_association}{{0}{}}}{{data}{{9}{{1}{{exceptions}{{9}{{1}{{-472926}{{9}{{1}{{AAAAAAYQ2}</code></li>\n<li>it then sends that serialized string to a Java server</li>\n<li>Java server tries to de-serialize the string back into a data structure.</li>\n<li>The encoding does not really matter too much (imho) other than it uses field length as part of encoded data; e.g. <code>{{id}{{7}9{Z928D2AA2}}}</code> means a field named \"id\", of type \"string\" (7), length of string 9, value Z928D2AA2.</li>\n</ul>\n\n<h1><strong>Problem:</strong> When the data structure being serialized contains some specific Unicode character(s), the de-serialization fails.</h1>\n\n<h1>Specifically, this character: \"\" (which various online decoders display as <code>%82</code> or <code>0x82</code>) causes the issue.</h1>\n\n<p>I'm trying to understand why this would be an issue and what's so special about this character - there are other Unicode characters that do not break the de-serializer.</p>\n\n<p><strong>Is there something special about  (aka 0x82) Unicode character</strong> that would interfere with parsing a serialized string dependent on curly braces as separators and field lengths being known?</p>\n\n<p>Unfortunately, I am unable to debug the decodig library, so I only get a generic error message that decoding failed without any idea what about it failed.</p>\n\n<p>P.P.S Double extra curious: when I used that character in the title of SO question, it printed in the preview, but got deleted when the question was posted!!!\nWhen I tried to copy/paste the strings into the editor, their measured length was correct compared to encoded string length</p>\n\n<p>P.S. The Perl code doing the serialization as far as I know is fully Unicode compliant:</p>\n\n<pre><code>use open      qw(:std :utf8);    # undeclared streams in UTF-8\nuse charnames qw(:full :short);  # unneeded in v5.16\nuse Encode qw(decode);\n</code></pre>\n"}, {"tags": ["perl", "shared-libraries", "libdl"], "answers": [{"tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 2, "last_activity_date": 1560373633, "creation_date": 1560373633, "answer_id": 56570370, "question_id": 56570369, "link": "https://stackoverflow.com/questions/56570369/how-can-i-find-the-dynaloader-mapping-of-module-names-to-opaque-pointers/56570370#56570370", "title": "How can I find the DynaLoader mapping of module names to opaque pointers?", "body": "<p>You can find those references by using the <a href=\"https://metacpan.org/release/perl/source/ext/DynaLoader/DynaLoader_pm.PL#L147\" rel=\"nofollow noreferrer\">following variables, as documented in the source</a></p>\n\n<pre><code>@dl_shared_objects  = ();       # shared objects for symbols we have \n@dl_librefs         = ();       # things we have loaded\n@dl_modules         = ();       # Modules we have loaded\n</code></pre>\n\n<p>However, matching them to the name of the library remains an exercise to the user though it seems as if they're index-sensitive into those three arrays. You can do it like this,</p>\n\n<pre><code>my %db;\nforeach my $i ( 0 .. $#DynaLoader::dl_librefs ) {\n  $db{$DynaLoader::dl_modules[$i]} = {\n    dl_shared_objects =&gt; $DynaLoader::dl_shared_objects[$i],\n    dl_librefs        =&gt; $DynaLoader::dl_librefs[$i],\n    dl_modules        =&gt; $DynaLoader::dl_modules[$i]\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56570370, "answer_count": 1, "score": 2, "last_activity_date": 1560388433, "creation_date": 1560373633, "last_edit_date": 1560388433, "question_id": 56570369, "link": "https://stackoverflow.com/questions/56570369/how-can-i-find-the-dynaloader-mapping-of-module-names-to-opaque-pointers", "title": "How can I find the DynaLoader mapping of module names to opaque pointers?", "body": "<p>According to the docs on <a href=\"https://metacpan.org/pod/distribution/perl/ext/DynaLoader/DynaLoader_pm.PL\" rel=\"nofollow noreferrer\">DynaLoader</a></p>\n\n<blockquote>\n  <p><strong><code>dl_unload_file()</code></strong> Dynamically unload <code>$libref</code>, which must be an <em>opaque 'library reference'</em> as returned from <code>dl_load_file</code>. Returns one on success and zero on failure. This function is optional and may not necessarily be provided on all platforms.</p>\n</blockquote>\n\n<p>So <code>dl_load_file</code> returns those opaque reference. But what if my file wasn't loaded by explicitly calling <code>dl_unload_file</code> how do I then find out those references?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11639011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127b287fa6171347b4acc8d10e363609?s=128&d=identicon&r=PG&f=1", "display_name": "Ishani", "link": "https://stackoverflow.com/users/11639011/ishani"}, "edited": false, "score": 0, "creation_date": 1560371363, "post_id": 56569875, "comment_id": 99718953, "body": "Thank you very much for your reply. I&#39;m actually in bioperl-live. This is the pathway on my terminal: /Desktop/PAML/BioPerl/bioperl-live-master$ perl Build.PL I went through all the folders in bioperl-live and couldn&#39;t find a script with &quot;Build&quot;. Is there any way I can get this script separately?"}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "reply_to_user": {"reputation": 21, "user_id": 11639011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127b287fa6171347b4acc8d10e363609?s=128&d=identicon&r=PG&f=1", "display_name": "Ishani", "link": "https://stackoverflow.com/users/11639011/ishani"}, "edited": false, "score": 0, "creation_date": 1560372129, "post_id": 56569875, "comment_id": 99719207, "body": "run this <code>find . -type f -name &#39;Build*&#39;</code>"}, {"owner": {"reputation": 21, "user_id": 11639011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127b287fa6171347b4acc8d10e363609?s=128&d=identicon&r=PG&f=1", "display_name": "Ishani", "link": "https://stackoverflow.com/users/11639011/ishani"}, "edited": false, "score": 0, "creation_date": 1560372461, "post_id": 56569875, "comment_id": 99719344, "body": "I did. I does not show anything, just goes on to the next command line  (base) lab@lab-Precision-Tower:~/Desktop/PAML/BioPerl/bioperl-live-&zwnj;&#8203;master$ find . -type f -name &#39;Build*&#39; (base) lab@lab-Precision-Tower:~/Desktop/PAML/BioPerl/bioperl-live-&zwnj;&#8203;master$"}], "tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": false, "score": 2, "last_activity_date": 1560371088, "creation_date": 1560371088, "answer_id": 56569875, "question_id": 56569864, "link": "https://stackoverflow.com/questions/56569864/cant-open-perl-script-build-pl-no-such-file-or-directory-in-response-to-perl/56569875#56569875", "title": "Can&#39;t open perl script &quot;Build.PL&quot;: No such file or directory in response to perl Build.PL", "body": "<blockquote>\n  <p>Can't open perl script \"Build.PL\": No such file or directory</p>\n</blockquote>\n\n<p><code>Build.PL</code> is a perl script, and you're feeding that script to perl to run it. In order to run it, you have to be in the directory where the script can be found. Perl does not go looking for the script. You can verify the files are in the same directory using <code>ls</code> (from the terminal).</p>\n\n<p>Judging from those install instructions, you forgot</p>\n\n<pre><code>cd bioperl-live\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1560379744, "last_edit_date": 1560379744, "creation_date": 1560378079, "answer_id": 56571093, "question_id": 56569864, "link": "https://stackoverflow.com/questions/56569864/cant-open-perl-script-build-pl-no-such-file-or-directory-in-response-to-perl/56571093#56571093", "title": "Can&#39;t open perl script &quot;Build.PL&quot;: No such file or directory in response to perl Build.PL", "body": "<p>Looks like you are trying to install a <a href=\"https://metacpan.org/pod/Dist::Zilla\" rel=\"nofollow noreferrer\">Dist-Zilla</a> based distribution.</p>\n\n<p>Try to install like this:</p>\n\n<pre><code>cd bioperl-live\ncpanm Dist::Zilla\ndzil authordeps --missing | cpanm\ndzil install \n</code></pre>\n\n<p><strong>NOTES</strong>: </p>\n\n<ul>\n<li><p>When I tried this, I was not able to install the dependency <a href=\"https://metacpan.org/pod/DB_File\" rel=\"nofollow noreferrer\"><code>DB_File</code></a> due to missing headers. These header files could be installed by running </p>\n\n<pre><code>sudo apt-get install libdb-dev\n</code></pre></li>\n<li><p>The dependency <a href=\"https://metacpan.org/pod/XML::DOM::XPath\" rel=\"nofollow noreferrer\"><code>XML::DOM::XPath</code></a> refused to install due to <a href=\"https://rt.cpan.org/Ticket/Display.html?id=115098\" rel=\"nofollow noreferrer\">a failed test</a>. This was worked around by manually skipping the tests:</p>\n\n<pre><code>cpanm --notest XML::DOM::XPath\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 11639011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127b287fa6171347b4acc8d10e363609?s=128&d=identicon&r=PG&f=1", "display_name": "Ishani", "link": "https://stackoverflow.com/users/11639011/ishani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1560379744, "creation_date": 1560371031, "question_id": 56569864, "link": "https://stackoverflow.com/questions/56569864/cant-open-perl-script-build-pl-no-such-file-or-directory-in-response-to-perl", "title": "Can&#39;t open perl script &quot;Build.PL&quot;: No such file or directory in response to perl Build.PL", "body": "<p>I'm very new to Perl. I have tried to install BioPerl with the instructions on <a href=\"https://bioperl.org/INSTALL.html\" rel=\"nofollow noreferrer\">https://bioperl.org/INSTALL.html</a>. Everything worked fine till the command \"perl Build.PL\" to which I got the error message \"Can't open perl script \"Build.PL\": No such file or directory\". Any idea how to resolve this? Thanks! (I tried this on both Ubuntu and Windows platforms and got the same problem with the perl Build.PL command)</p>\n"}, {"tags": ["json", "perl", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1560354264, "post_id": 56565921, "comment_id": 99711275, "body": "The prototype warning is because the <code>sub</code> declaration has empty parentheses. It doesn&#39;t need those, get rid of them."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560355617, "post_id": 56565921, "comment_id": 99712026, "body": "Tip: <code>my %hash1 = %{get_hash_from_json()};</code> performs a needless copy. Consider using <code>my $hash1 = get_hash_from_json();</code>"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1560354226, "creation_date": 1560354226, "answer_id": 56565982, "question_id": 56565921, "link": "https://stackoverflow.com/questions/56565921/storing-json-to-hash-output-in-a-variable-makes-datadumper-not-work-in-perl/56565982#56565982", "title": "Storing &quot;JSON to HASH&quot; output in a variable makes Data::Dumper not work in perl", "body": "<p>You are falling victim to precedence.</p>\n\n<pre><code>print Dumper \\%hash1 . \"\\n\";\n</code></pre>\n\n<p>The <code>.</code> concatenates <code>\\%hash1</code> and the newline, and that's what <code>Dumper</code> outputs. Put parentheses around it to make it work.</p>\n\n<pre><code>print Dumper(\\%hash1) . \"\\n\";\n</code></pre>\n\n<p>Or use <code>say</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1560354867, "last_edit_date": 1560354867, "creation_date": 1560354405, "answer_id": 56566029, "question_id": 56565921, "link": "https://stackoverflow.com/questions/56565921/storing-json-to-hash-output-in-a-variable-makes-datadumper-not-work-in-perl/56566029#56566029", "title": "Storing &quot;JSON to HASH&quot; output in a variable makes Data::Dumper not work in perl", "body": "<p>Precedence issue.</p>\n\n<pre><code>print Dumper \\%hash . \"\\n\";\n</code></pre>\n\n<p>means</p>\n\n<pre><code>print(Dumper(\\%hash . \"\\n\"));\n</code></pre>\n\n<p>but you want</p>\n\n<pre><code>print(Dumper(\\%hash) . \"\\n\");\n</code></pre>\n\n<p>The thing is, the value returned by <code>Dumper</code> will already end with a new line, so you really don't need another one. The following would do:</p>\n\n<pre><code>print(Dumper(\\%hash));\n</code></pre>\n\n<p>If you want to omit the parens, there's no harm here.</p>\n\n<pre><code>print Dumper \\%hash;\n</code></pre>\n\n<hr>\n\n<p>As for the prototype-related warning, you are getting it because a call to a sub with a prototype is encountered by the compiler before a declaration for that sub is encountered. In that situation, the call did not use the prototype, so Perl is letting you know this happened. </p>\n\n<p>The simple solution is to just remove the useless prototype (the <code>()</code> in <code>sub get_hash_from_json ()</code>).</p>\n"}], "owner": {"reputation": 981, "user_id": 7019069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SQoGB.jpg?s=128&g=1", "display_name": "nck", "link": "https://stackoverflow.com/users/7019069/nck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56566029, "answer_count": 2, "score": 0, "last_activity_date": 1560354867, "creation_date": 1560354022, "question_id": 56565921, "link": "https://stackoverflow.com/questions/56565921/storing-json-to-hash-output-in-a-variable-makes-datadumper-not-work-in-perl", "title": "Storing &quot;JSON to HASH&quot; output in a variable makes Data::Dumper not work in perl", "body": "<p>I\u00b4m getting an issue when trying to store a json comming from a String into a Hash. Take a look at this example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\n\nuse JSON;\nuse Data::Dumper;\n\n\n\nmy %hash1 = %{get_hash_from_json()};\n\nprint \"Final Dump:\\n\";\nprint Dumper \\%hash1 . \"\\n\";\n\nprint \"Keys:\\n\";\nfor (keys %hash1) {printf \"key is $_\\n\";} \n\n\n\n\nsub get_hash_from_json (){\n\n    my $json = '{\"hello\": \"world\", \"hello2\": \"world\"}';\n\n\n    print \"Dumper without variable:\\n\";\n    print Dumper (from_json($json)) . \"\\n\";\n\n\n    print \"Dumper with variable:\\n\";\n    my $hash_ref = from_json($json);\n    my %hash = %{$hash_ref};\n    print Dumper \\%hash . \"\\n\";\n\n\n    return from_json($json);\n}\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>main::get_hash_from_json() called too early to check prototype at example.pl line 10.\n Dumper without variable:\n $VAR1 = {\n      'hello' =&gt; 'world',\n      'hello2' =&gt; 'world'\n    };\n\nDumper with variable:\n$VAR1 = 'HASH(0x29c88e0)\n';\nFinal Dump:\n$VAR1 = 'HASH(0x2512438)\n';\nKeys:\nkey is hello2\nkey is hello\n</code></pre>\n\n<p>Does anyone understand why is this happening? Somehow the hash is there but Data::Dumper won\u00b4t take it?</p>\n"}, {"tags": ["perl", "https", "webserver", "cgi", "web-hosting"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1560329339, "post_id": 56558055, "comment_id": 99696336, "body": "It&#39;s in the description section of the Net::Server::HTTP documentation."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5439448, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WSFzRk_UACo/AAAAAAAAAAI/AAAAAAAAAc0/KUNdEzGlJrw/photo.jpg?sz=128", "display_name": "Dheeraj", "link": "https://stackoverflow.com/users/5439448/dheeraj"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1574750091, "post_id": 56560279, "comment_id": 104331537, "body": "Thanks, @Dave, I have configured the certificate as suggested. I am facing a cipher suite mismatch issue. I would like to know if any compatibility/configuration issues are causing this. <b>Could not finalize SSL connection with client handle (SSL accept attempt failed because of handshake problems)</b>. -&gt; SERVER-side Error <b>This site can\u2019t provide a secure connection (site name) that uses an unsupported protocol.ERR_SSL_VERSION_OR_CIPHER_MISMATCH Unsupported protocol. The client and server don&#39;t support a common SSL protocol version or cipher suite.</b> -&gt; Browser-side Error"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 29, "user_id": 5439448, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WSFzRk_UACo/AAAAAAAAAAI/AAAAAAAAAc0/KUNdEzGlJrw/photo.jpg?sz=128", "display_name": "Dheeraj", "link": "https://stackoverflow.com/users/5439448/dheeraj"}, "edited": false, "score": 0, "creation_date": 1574759846, "post_id": 56560279, "comment_id": 104335742, "body": "@Dheerajkumarreddy: You&#39;re talking to the wrong person. This isn&#39;t my answer. I just cleaned up the code example."}, {"owner": {"reputation": 29, "user_id": 5439448, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WSFzRk_UACo/AAAAAAAAAAI/AAAAAAAAAc0/KUNdEzGlJrw/photo.jpg?sz=128", "display_name": "Dheeraj", "link": "https://stackoverflow.com/users/5439448/dheeraj"}, "edited": false, "score": 0, "creation_date": 1574762800, "post_id": 56560279, "comment_id": 104337400, "body": "Oh, I missed it completely.  I should have marked @Bl00D4NGEL in the comment."}], "tags": [], "owner": {"reputation": 86, "user_id": 11564138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc781cf5f2d8436163ffd31aa1d5822d?s=128&d=identicon&r=PG&f=1", "display_name": "Bl00D4NGEL", "link": "https://stackoverflow.com/users/11564138/bl00d4ngel"}, "is_accepted": false, "score": 2, "last_activity_date": 1560336932, "last_edit_date": 1560336932, "creation_date": 1560336267, "answer_id": 56560279, "question_id": 56558055, "link": "https://stackoverflow.com/questions/56558055/is-there-a-way-to-host-a-webserver-in-perl-which-should-in-https/56560279#56560279", "title": "Is there a way to host a webServer in perl which should in HTTPS", "body": "<p>As simbabque already mentioned, check out the <a href=\"https://metacpan.org/pod/Net::Server::HTTP\" rel=\"nofollow noreferrer\">documentation</a> for the module.</p>\n\n<p>It lists the following example:</p>\n\n<blockquote>\n  <p>For example, here is a basic server that will bind to all interfaces, will speak both HTTP on port 8080 as well as HTTPS on 8443, and will speak both IPv4, as well as IPv6 if it is available.</p>\n\n<pre><code>use base qw(Net::Server::HTTP);\n\n__PACKAGE__-&gt;run(\n    port  =&gt; [8080, \"8443/ssl\"],\n    ipv   =&gt; '*', # IPv6 if available\n    SSL_key_file  =&gt; '/my/key',\n    SSL_cert_file =&gt; '/my/cert',\n);\n</code></pre>\n</blockquote>\n\n<p>The most significant thing to note is in <code>port</code> it's an array ref that contains the http port (8000) and then the https (ssl) port (8443/ssl).</p>\n"}], "owner": {"reputation": 29, "user_id": 5439448, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WSFzRk_UACo/AAAAAAAAAAI/AAAAAAAAAc0/KUNdEzGlJrw/photo.jpg?sz=128", "display_name": "Dheeraj", "link": "https://stackoverflow.com/users/5439448/dheeraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560336932, "creation_date": 1560329108, "last_edit_date": 1560335682, "question_id": 56558055, "link": "https://stackoverflow.com/questions/56558055/is-there-a-way-to-host-a-webserver-in-perl-which-should-in-https", "title": "Is there a way to host a webServer in perl which should in HTTPS", "body": "<p>I am setting/updating a web server using <code>Perl(Net::Server::HTTP)</code> which was running in http. I would like to convert into Https mode. I would like to know what modules will solve my purpose.</p>\n"}, {"tags": ["function", "perl", "bit-manipulation", "expression"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1560324842, "post_id": 56556804, "comment_id": 99693994, "body": "Turn on warnings (<code>perl -w</code>)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 3, "creation_date": 1560352397, "post_id": 56556804, "comment_id": 99710196, "body": "Just for completeness: for the general case you should turn on warnings with the warnings module (<code>use warnings;</code> or <code>-Mwarnings</code>), not <code>-w</code>, as <code>-w</code> also can affect modules you use that you have no control over."}], "answers": [{"comments": [{"owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "edited": false, "score": 1, "creation_date": 1560325166, "post_id": 56556921, "comment_id": 99694183, "body": "Or you could add parenthesis around the parameters, too, of course: <code>print((2 &amp; 2) &gt;&gt; 1, &quot;\\n&quot;);</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 11635233, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZgiUdWzEeag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDUI3mYWS0DfAhrj_PPbEKjNRaug/mo/photo.jpg?sz=128", "display_name": "David Krupi\u010dka", "link": "https://stackoverflow.com/users/11635233/david-krupi%c4%8dka"}, "edited": false, "score": 0, "creation_date": 1560450191, "post_id": 56556921, "comment_id": 99750894, "body": "@DavidKrupi\u010dka Welcome :) Let me know if questions come up"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1588570514, "last_edit_date": 1588570514, "creation_date": 1560325056, "answer_id": 56556921, "question_id": 56556804, "link": "https://stackoverflow.com/questions/56556804/what-is-wrong-with-print-2-2-1/56556921#56556921", "title": "What is wrong with print (2 &amp; 2) &gt;&gt; 1?", "body": "<p>When you print it with warnings it becomes clear(er)</p>\n\n<pre><code>perl -we'print (2 &amp; 2), \"\\n\"'\n</code></pre>\n\n<p>says </p>\n\n<pre>\nprint (...) interpreted as function at -e line 1.\nUseless use of a constant (\"\\n\") in void context at -e line 1.\n</pre>\n\n<p>It works out <code>print (2&amp;2)</code> as a function call to <code>print</code><sup>&dagger;</sup> and duly prints 2 (no newline!), and then it keeps evaluating the <a href=\"https://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow noreferrer\">comma operator</a>, with <code>\"\\n\"</code> in void context next, which it also warns us about.  </p>\n\n<p>With <code>&gt;&gt; 1</code> also there, the return <code>1</code> of <code>print (2&amp;2)</code> (for success) is bit shifted to <code>0</code>, which disappears into the void, and we get\nanother \"<em>Useless use of ... in void context</em>.\"</p>\n\n<p>One fix is to add a <code>+</code> since what follows it must be an expression</p>\n\n<pre><code>perl -we'print +(2 &amp; 2) &gt;&gt; 1, \"\\n\"'\n</code></pre>\n\n<p>Or, make a proper call to <code>print</code>, with parenthesis around the whole thing</p>\n\n<pre><code>perl -we'print((2 &amp; 2) &gt;&gt; 1, \"\\n\")'\n</code></pre>\n\n<p>Both print a line with <code>1</code>. </p>\n\n<p>This is mentioned in <a href=\"https://perldoc.perl.org/functions/print.html\" rel=\"nofollow noreferrer\">print</a>, and more fully documented in <a href=\"https://perldoc.perl.org/perlop.html#Terms-and-List-Operators-(Leftward)\" rel=\"nofollow noreferrer\">Terms and List operators</a> and in <a href=\"https://perldoc.perl.org/perlop.html#Symbolic-Unary-Operators\" rel=\"nofollow noreferrer\">Symbolic Unary operators</a>, both in <a href=\"https://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>. For another, related, example see <a href=\"https://stackoverflow.com/a/60312486/4653379\">this post</a>.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup>&thinsp;It also warns about it as it is likely an error -- with a space before parens; no space, no warning.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560341921, "post_id": 56556930, "comment_id": 99703542, "body": "Well, it&#39;s more idiomatic to add the omitted parens. But yeah, the idiomatic way of leaving them off is to use a unary <code>+</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560341974, "post_id": 56556930, "comment_id": 99703574, "body": "It&#39;s worth noting that unary <code>+</code> work with any kind of values, not just numbers. It literally has no effect on the value passed to it."}, {"owner": {"reputation": 13, "user_id": 11635233, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZgiUdWzEeag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDUI3mYWS0DfAhrj_PPbEKjNRaug/mo/photo.jpg?sz=128", "display_name": "David Krupi\u010dka", "link": "https://stackoverflow.com/users/11635233/david-krupi%c4%8dka"}, "edited": false, "score": 0, "creation_date": 1560415132, "post_id": 56556930, "comment_id": 99731042, "body": "I like the -MO=Deparse suggestion, but if you don&#39;t mind, I marked zdim&#39;s post as the answer, because it is slightly more detailed."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1560325102, "creation_date": 1560325102, "answer_id": 56556930, "question_id": 56556804, "link": "https://stackoverflow.com/questions/56556804/what-is-wrong-with-print-2-2-1/56556930#56556930", "title": "What is wrong with print (2 &amp; 2) &gt;&gt; 1?", "body": "<p>Perl interprets the parentheses as function arguments marker, as you can verify with</p>\n\n<pre><code>perl -MO=Deparse,-p -e 'print (2 &amp; 2) &gt;&gt; 1'\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>(print(2) &gt;&gt; 1);\n</code></pre>\n\n<p>The canonical way is to precede the left parenthesis with a <code>+</code>:</p>\n\n<pre><code>print +(2 &amp; 2) &gt;&gt; 1\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11635233, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZgiUdWzEeag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDUI3mYWS0DfAhrj_PPbEKjNRaug/mo/photo.jpg?sz=128", "display_name": "David Krupi\u010dka", "link": "https://stackoverflow.com/users/11635233/david-krupi%c4%8dka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 56556921, "answer_count": 2, "score": 1, "last_activity_date": 1588570514, "creation_date": 1560324629, "last_edit_date": 1582310502, "question_id": 56556804, "link": "https://stackoverflow.com/questions/56556804/what-is-wrong-with-print-2-2-1", "title": "What is wrong with print (2 &amp; 2) &gt;&gt; 1?", "body": "<p>I am just wondering what happens with that piece of code.\nWhy the result is incorrect only when printed directly, why is the newline ignored?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>user@host_09:22 AM: perl\nprint 2 &gt;&gt; 1, \"\\n\";\nprint 2 &amp; 2, \"\\n\";\nprint (2 &amp; 2) &gt;&gt; 1, \"\\n\";\n1\n2\n2user@host_09:22 AM: perl\n$a = (2 &amp; 2) &gt;&gt; 1;\nprint \"$a\\n\";\n1\n</code></pre>\n"}, {"tags": ["regex", "linux", "bash", "perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7875136"}, "edited": false, "score": 0, "creation_date": 1560402125, "post_id": 56556833, "comment_id": 99725377, "body": "This was the perfect answer.  I was not using the /e flag (only /g). I was getting confused between Perl and SED.  thx"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 0, "last_activity_date": 1560324764, "creation_date": 1560324764, "answer_id": 56556833, "question_id": 56556736, "link": "https://stackoverflow.com/questions/56556736/perl-command-in-a-bash-script-is-not-interpreting-command-it-is-literally-subst/56556833#56556833", "title": "Perl command in a bash script is not interpreting command (it is literally substituting it)", "body": "<p>By default the right-hand side of a substitution (<code>s///</code>) works like a double-quoted string. <code>\"`cat whatever`\"</code> doesn't do anything special in a string; it doesn't run any commands.</p>\n\n<p>You need to use the <code>/e</code> flag:</p>\n\n<pre><code>s/%FIREBASE_ENV%/`cat testEnvConfig`/eg\n</code></pre>\n\n<p>This tells Perl that the right-hand side is to be evaluated as a block of code, not a string.</p>\n\n<p>Alternatively you can avoid shelling out to <code>cat</code> by reading the file in Perl:</p>\n\n<pre><code>perl -pi -e 'BEGIN { my $file = \"testEnvConfig\"; open my $fh, \"&lt;\", $file or die \"$file: $!\\n\"; local $/; $config = readline $fh } s/%FIREBASE_ENV%/$config/g'\n</code></pre>\n\n<p>This also avoids having to re-read the file for each occurrence of <code>%FIREBASE_ENV%</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560363356, "post_id": 56556896, "comment_id": 99715526, "body": "Never seen <code>local @ARGV=filename</code> before --- thanks for showing me!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1560324958, "creation_date": 1560324958, "answer_id": 56556896, "question_id": 56556736, "link": "https://stackoverflow.com/questions/56556736/perl-command-in-a-bash-script-is-not-interpreting-command-it-is-literally-subst/56556896#56556896", "title": "Perl command in a bash script is not interpreting command (it is literally substituting it)", "body": "<p>The replacement in a substitution interpolates variables like double quotes, but it doesn't interpret backticks. You need to specify the <code>/e</code> modifier to evaluate the replacement as code.</p>\n\n<pre><code>s/%FIREBASE_ENV%/`cat testEnvConfig`/ge\n</code></pre>\n\n<p>You don't need to shell out for this, though. Perl can read a file and store its contents in a variable:</p>\n\n<pre><code>my $config = do { local( @ARGV, $/ ) = 'testEnvConfig'; &lt;&gt; };\n# ...\ns/%FIREBASE_ENV%/$config/g;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1560403555, "last_edit_date": 1560403555, "creation_date": 1560326352, "answer_id": 56557271, "question_id": 56556736, "link": "https://stackoverflow.com/questions/56556736/perl-command-in-a-bash-script-is-not-interpreting-command-it-is-literally-subst/56557271#56557271", "title": "Perl command in a bash script is not interpreting command (it is literally substituting it)", "body": "<p>With a (very useful) Perl module <a href=\"https://metacpan.org/pod/Path::Tiny#slurp,-slurp_raw,-slurp_utf8\" rel=\"nofollow noreferrer\">Path::Tiny</a> reading a file takes one statement and we have</p>\n\n<pre><code>perl -MPath::Tiny -i.bak -pe'\n    BEGIN { $f = path(\"testEnvConfig\")-&gt;slurp; chomp $f }; \n    s/%FIREBASE_ENV%/$f/g\n' index.html\n</code></pre>\n\n<p>I've added a backup <code>.bak</code> for your safety while testing, and split code over lines for readability.</p>\n\n<p>I remove the final newline from the file. If you actually want it remove that <code>chomp $f</code></p>\n\n<hr>\n\n<p>Why your honest attempt doesn't work has been explained, as you need to evaluate the replacement part as code, with <code>/e</code>.  However, once you do that, look at the situation: </p>\n\n<ul>\n<li><p>out of a bash script call a Perl program (the one-liner)</p></li>\n<li><p>which goes out to the system (a syscall at least, perhaps another shell!)</p></li>\n<li><p>where yet another program runs (<code>cat</code>)</p></li>\n<li><p>with the file content sent back to Perl, which then does its thing. </p></li>\n</ul>\n\n<p>Huh. Better just read that file in Perl, no?</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7875136"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 56556833, "answer_count": 3, "score": 1, "last_activity_date": 1560403555, "creation_date": 1560324416, "last_edit_date": 1560396218, "question_id": 56556736, "link": "https://stackoverflow.com/questions/56556736/perl-command-in-a-bash-script-is-not-interpreting-command-it-is-literally-subst", "title": "Perl command in a bash script is not interpreting command (it is literally substituting it)", "body": "<p>My bash script uses a perl command to replace a variable within a file, with the contents of another file. Pretty standard I thought, yet I am really struggling here.</p>\n\n<pre><code>#/bin/bash\n\ndisplay_usage() {\n        echo -e \"\\nUsage: This script must be run with an environment parameter (file in directory env/).\"\n        echo -e \"Example: ./configureEnv &lt;env parameter&gt;\\n\"\n        }\n\n# If no env argument supplied, display usage.\nif [  $# -eq 0 ]; then\n        display_usage\n        exit 1\nfi\n\n# Replace the placeholder of FIREBASE_ENV in index.html with the Firebase env settings.\nperl -pi -e 's/%FIREBASE_ENV%/`cat testEnvConfig`/g;' index.html\n\nif [ $? -eq 0 ]; then\n   echo \"Updated Firebase settings based on environment file: $1\"\n   exit 0\nelse\n    echo \"[Error] Environment settings configuration failed. Please check parameters are correct.\"\n    exit 1\nfi\n</code></pre>\n\n<p>As you can see, the key line is:</p>\n\n<pre><code>perl -pi -e 's/%FIREBASE_ENV%/`cat testEnvConfig`/g;' index.html\n</code></pre>\n\n<p>It should replace the placeholder string of %FIREBASE_ENV% with the contents of the file, but instead it replaces replaces %FIREBASE_ENV% with <code>`cat testEnvConfig`</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1560323566, "post_id": 56556477, "comment_id": 99693371, "body": "What about <code>system &#39;open first&#39;</code>?"}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "edited": false, "score": 0, "creation_date": 1560323917, "post_id": 56556477, "comment_id": 99693536, "body": "Or maybe <code>system &#39;&#47;path&#47;to&#47;perl &#47;path&#47;to&#47;first&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1560327544, "post_id": 56556592, "comment_id": 99695407, "body": "Defensive programming advice: it&#39;s easy to end up with several installed Perls, sometimes without one&#39;s knowledge, and <code>system &quot;perl&quot;</code> might not run the one you expect to. Either use <a href=\"http://p3rl.org/var#%24%5EX\" rel=\"nofollow noreferrer\"><code>$^X</code></a> (same Perl as running currently) or hard-code the full path."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 1, "last_activity_date": 1560335221, "last_edit_date": 1560335221, "creation_date": 1560323797, "answer_id": 56556592, "question_id": 56556477, "link": "https://stackoverflow.com/questions/56556477/execute-a-perl-script-which-doesnt-have-the-pl-extension-from-another-perl-scri/56556592#56556592", "title": "Execute a perl script which doesnt have the .pl extension from another perl script which have the .pl extension", "body": "<p>Windows uses the file extension to work out how to run a file. As you have no extension the OS is thinking you are trying to open a directory.</p>\n\n<p>You can fix this by changing <code>system \"first\";</code> to</p>\n\n<pre><code>system $^X, \"first\"\n</code></pre>\n\n<p>This will get Windows to run the current Perl interpreter again, passing your script name as the first parameter, which gets Perl to run it.</p>\n"}], "owner": {"reputation": 11, "user_id": 11533134, "user_type": "registered", "profile_image": "https://graph.facebook.com/2502484789785433/picture?type=large", "display_name": "Pmand", "link": "https://stackoverflow.com/users/11533134/pmand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560340546, "creation_date": 1560323334, "last_edit_date": 1560340546, "question_id": 56556477, "link": "https://stackoverflow.com/questions/56556477/execute-a-perl-script-which-doesnt-have-the-pl-extension-from-another-perl-scri", "title": "Execute a perl script which doesnt have the .pl extension from another perl script which have the .pl extension", "body": "<p>How to execute a perl script with a file named \"first\" (no extension) from another perl script called second.pl on Windows?</p>\n\n<p>File contents of first:</p>\n\n<pre><code>#!/usr/bin/perl5.8.4 -w\n&gt;&gt; Some code\n</code></pre>\n\n<p>File contents of second.pl:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nsystem \"first\";\n</code></pre>\n\n<p>So my problem is when I execute the file \"first\" from the Windows command line, it works</p>\n\n<p>but if I try to run it from my file \"second.pl\", using <code>system \"first\";</code>\nit fails with the below error:</p>\n\n<pre><code>can't exec \"first\" : Not a directory at \"second.pl\" at line 6\n</code></pre>\n"}, {"tags": ["firebase", "perl", "push-notification", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1560344985, "post_id": 56556438, "comment_id": 99705500, "body": "Try using this module <a href=\"https://metacpan.org/pod/Firebase\" rel=\"nofollow noreferrer\">metacpan.org/pod/Firebase</a>"}, {"owner": {"reputation": 185, "user_id": 6637870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a75ddfea86f9aefce671d0c92e5d39?s=128&d=identicon&r=PG&f=1", "display_name": "jeffez", "link": "https://stackoverflow.com/users/6637870/jeffez"}, "reply_to_user": {"reputation": 319, "user_id": 5524404, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sRuy8.jpg?s=128&g=1", "display_name": "farzane", "link": "https://stackoverflow.com/users/5524404/farzane"}, "edited": false, "score": 0, "creation_date": 1560389963, "post_id": 56556438, "comment_id": 99723114, "body": "Unfortunately this module has not been updated in 5 years and refers to firebase legacy documentation that was depreciated in 2016. It&#39;s also unclear how to use this to trigger push notifications."}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 6637870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a75ddfea86f9aefce671d0c92e5d39?s=128&d=identicon&r=PG&f=1", "display_name": "jeffez", "link": "https://stackoverflow.com/users/6637870/jeffez"}, "is_accepted": false, "score": 1, "last_activity_date": 1560829486, "creation_date": 1560829486, "answer_id": 56641480, "question_id": 56556438, "link": "https://stackoverflow.com/questions/56556438/push-notifications-in-perl/56641480#56641480", "title": "Push Notifications in Perl", "body": "<p>I ended up getting this working by just re-writing my client side subscription code. In my case the bell icon subscription on/off button along with all the js code to make it work. </p>\n\n<p>Basically i went from using googles solution to a firebase specific solution with this guide. \n<a href=\"https://firebase.google.com/docs/cloud-messaging/js/receive\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/js/receive</a></p>\n\n<p>You only need to store the 'token' on your server and the endpoint is always - <a href=\"https://fcm.googleapis.com/v1/projects/YOUR%20PROJECT%20ID/messages:send\" rel=\"nofollow noreferrer\">https://fcm.googleapis.com/v1/projects/YOUR PROJECT ID/messages:send</a></p>\n\n<p>The firebase guide contains a sample file where you can subscribe/unsubscribe for push notifications.\n<a href=\"https://github.com/firebase/quickstart-js/blob/4be200b1c55616535159365b74bfd1fc128c1ebf/messaging/index.html\" rel=\"nofollow noreferrer\">https://github.com/firebase/quickstart-js/blob/4be200b1c55616535159365b74bfd1fc128c1ebf/messaging/index.html</a></p>\n\n<p>Once i had this working i could then cut it down and re-write it into just a simple notification button.</p>\n\n<p>For some reason the provided firebase-messaging-sw.js from the guide didn't work for me but using service-worker.js shown in my OP did and so i can now receive push notifications along with their title, body and other data.</p>\n\n<p>This here is how i generate the bearer token used in my OP sample perl code to send out a push notification.\n<a href=\"https://stackoverflow.com/questions/24593358/google-api-oauth2-invalid-grant-error-when-requesting-token-for-service-acco/53357961#53357961\">Google API OAuth2 : \u201cinvalid_grant\u201d error when requesting token for Service Account with Perl</a></p>\n\n<p>That should hopefully cover everything you need to know if you are wanting to do push notifications on a site with a Perl back end. Hopefully this helps someone else wanting to do the same thing.</p>\n"}], "owner": {"reputation": 185, "user_id": 6637870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a75ddfea86f9aefce671d0c92e5d39?s=128&d=identicon&r=PG&f=1", "display_name": "jeffez", "link": "https://stackoverflow.com/users/6637870/jeffez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1560829486, "creation_date": 1560323156, "last_edit_date": 1560323441, "question_id": 56556438, "link": "https://stackoverflow.com/questions/56556438/push-notifications-in-perl", "title": "Push Notifications in Perl", "body": "<p>I am implementing push notifications for a site that has a Perl back end. Firebase is the push notification service i am using. I have spent a fair bit of time with this and looked at a number of guides and some useful resources on SO. I have come up with a working implementation with just one issue. The problem is when send out a push notification it seems to arrive on the client/browser as an empty message. That is no data containing the 'title' and 'body' is retrievable on the client/browser side when the push notification arrives.</p>\n\n<p>I have tried using both firebases older and newer api and either way it ends up with the same outcome of empty push notifications arriving on the client/browser. I have tested this on chrome,firefox and android and the same thing happens.</p>\n\n<p>Here is the perl code that sends the push notification. I have excluded generating the bearer token to limit how much code there is to read. </p>\n\n<pre><code>#SEND PUSH NOTIFICATION\nmy $push_subscriber = &lt;get subscriber details from db&gt;\n\nmy $end_point_host = $push_subscriber-&gt;{endpoint};  \nmy $end_point = \"https://$end_point_host/v1/projects/&lt;my project \n  id&gt;/messages:send\";\n\nmy $request = HTTP::Request-&gt;new('POST',$end_point);\n$request-&gt;header('Authorization'=&gt;\"Bearer $bearer_token\");\n$request-&gt;header('Content-Type' =&gt; 'application/json');\n\n$request-&gt;content(JSON::encode_json ({\n  message =&gt; {\n  token =&gt; $push_subscriber-&gt;{subscription_id},\n     notification =&gt; {\n        title =&gt; 'test',\n        body =&gt; 'test content'          \n     },\n     webpush =&gt; {\n        headers =&gt; {\n           Urgency =&gt; 'high'\n        },\n        notification =&gt; {\n            body =&gt; 'test content',\n            requireInteraction =&gt; 'true' \n        }\n     }\n}}));\n#send the request           \n$ua-&gt;request($request));\n</code></pre>\n\n<p>Here is the client/browser side javascript that is called when a push notification arrives. This is inside service-worker.js</p>\n\n<pre><code>self.addEventListener('push', function(e) {\n    var body;\n\n    if (e.data) {//THE PROBLEM IS HERE. No 'data' object exists\n        body = e.data.text();\n    } else {\n        body = \"Empty Message\";\n    }\n\n    var options = {\n        body: body\n    };\n    e.waitUntil(\n        self.registration.showNotification('My Notification', options)\n    );\n});\n</code></pre>\n\n<p>The point where the problem presents itself is pointed out in the above javascript. Any help/feedback would be much appreciated. Thanks.</p>\n"}, {"tags": ["arrays", "algorithm", "perl", "comparison"], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560352203, "post_id": 56556382, "comment_id": 99710090, "body": "@daffodil Please describe why it doesn&#39;t work for you, and maybe update your question, so people can adjust their answers to what you need."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560356872, "post_id": 56556382, "comment_id": 99712644, "body": "@daffodil  How so -- what &quot;doesn&#39;t work&quot;?  I just copy-pasted this into a file and ran it, for yet another check, and it works.  Please let me know what it does for you."}, {"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560492901, "post_id": 56556382, "comment_id": 99761741, "body": "Hi, it already works, this due to my first two array wrongly coded. Great Thanks!"}, {"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560494633, "post_id": 56556382, "comment_id": 99762466, "body": "btw, is there a away for the output to print in new line?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560495103, "post_id": 56556382, "comment_id": 99762689, "body": "@daffodil Great that it works :)   What do you mean &quot;in new line&quot;?  Once we have it in arrays can print it any way, can you explain (with an example maybe?) how you want it?"}, {"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560495653, "post_id": 56556382, "comment_id": 99762900, "body": "let say, i have two different element. it will display for eg: z e. how i want it to display z\\n e;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560495844, "post_id": 56556382, "comment_id": 99762984, "body": "@daffodil Ah, I see.  One way: <code>say for @ary;</code>  (short for <code>say $_ for @ary</code> which is the same as <code>for (@ary) { say $_ }</code>.  That prints each element on its own line (<code>say</code> is the same as <code>print</code> with newline added, so <code>say $_</code> is the same as <code>print &quot;$_\\n&quot;</code>). Is that what you mean?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1562389558, "post_id": 56556382, "comment_id": 100366722, "body": "(&quot;<i>which is the same as...</i>&quot; in my comment right above isn&#39;t quite correct. the &quot;inverted&quot; one, with the <a href=\"https://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow noreferrer\">statement modifier</a>, doesn&#39;t define a scope and one can only use one statement)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 6, "last_activity_date": 1560403215, "last_edit_date": 1560403215, "creation_date": 1560322979, "answer_id": 56556382, "question_id": 56555887, "link": "https://stackoverflow.com/questions/56555887/comparing-two-arrays-and-finding-differences/56556382#56556382", "title": "Comparing two arrays and finding differences", "body": "<p>There are a few ways to do this, also depending on what exactly is needed.</p>\n\n<p>Using an ancillary hash for each array, to reduce the existence check to a lookup</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nsub diff_arys {\n    my ($ra1, $ra2) = @_;\n\n    my %in_a1 = map { $_ =&gt; 1 } @$ra1;\n    my %in_a2 = map { $_ =&gt; 1 } @$ra2;\n\n    my @not_in_one = grep { not exists $in_a1{$_} } @$ra2;\n    my @not_in_two = grep { not exists $in_a2{$_} } @$ra1;\n\n    return (@not_in_one ? \\@not_in_one : undef), \n           (@not_in_two ? \\@not_in_two : undef);\n}\n\nmy @ary1 = 'a'..'e';         # a,b,c,d,e\nmy @ary2 = ('a'..'d', 'z');  # a,b,c,d, z\n\nmy ($not_in_one, $not_in_two) = diff_arys(\\@ary1, \\@ary2);\n\nsay \"@$not_in_one\"  if $not_in_one;\nsay \"@$not_in_two\"  if $not_in_two;\n</code></pre>\n\n<p>Prints </p>\n\n<pre>\nz\ne\n</pre>\n\n<p>This finds difference both ways, elements in one array but not in the other. If you know for fact that you only need it for one \"direction,\" to identify things that are in the first array but not in the second (as it seems from the question), then adjust the sub for that and code gets simpler.</p>\n\n<p>Note the choice for the interface: Return <code>undef</code> if no difference is found, an arrayref otherwise.  </p>\n\n<p>There are good modules for this kind of work. A rather comprehensive one is <a href=\"https://metacpan.org/pod/List::Compare\" rel=\"noreferrer\">List::Compare</a>. There are also <a href=\"https://metacpan.org/pod/Array::Utils\" rel=\"noreferrer\">Array::Utils</a> and <a href=\"https://metacpan.org/pod/Array::Compare\" rel=\"noreferrer\">Array::Compare</a>, and yet more. And then there are more complex tools that can also be used for this, like <a href=\"https://metacpan.org/pod/Algorithm::Diff\" rel=\"noreferrer\">Algorithm::Diff</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 4, "last_activity_date": 1560322991, "creation_date": 1560322991, "answer_id": 56556383, "question_id": 56555887, "link": "https://stackoverflow.com/questions/56555887/comparing-two-arrays-and-finding-differences/56556383#56556383", "title": "Comparing two arrays and finding differences", "body": "<p>As explained in <a href=\"https://perldoc.pl/perlfaq4#How-do-I-compute-the-difference-of-two-arrays?-How-do-I-compute-the-intersection-of-two-arrays?\" rel=\"nofollow noreferrer\"><code>perldoc -q \"difference of\"</code></a>, you can get the symmetric difference of two arrays like this:</p>\n\n<pre><code>my %count;\nfor my $x (@array1, @array2) {\n    $count{$x}++;\n}\nmy @difference;\nfor my $x (keys %count) {\n    if ($count{$x} == 1) {\n        push @difference, $x;\n    }\n}\n</code></pre>\n\n<p>This assumes there are no duplicate elements in either array.</p>\n\n<p>Alternatively, if you only want to find elements of array1 that are not present in array2, you can build a hash from the second array and use that to filter the first array:</p>\n\n<pre><code>my %seen;\n$seen{$_} = 1 for @array2;\nmy @missing = grep !$seen{$_}, @array1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560345560, "post_id": 56556863, "comment_id": 99705902, "body": "thanks for the suggestion, it doesn&#39;t work for me as both of them just print out array 1 and array 2"}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560428421, "post_id": 56556863, "comment_id": 99738416, "body": "Maybe this is because the arrays do not share any elements? Show your code."}], "tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": false, "score": 1, "last_activity_date": 1560324849, "creation_date": 1560324849, "answer_id": 56556863, "question_id": 56555887, "link": "https://stackoverflow.com/questions/56555887/comparing-two-arrays-and-finding-differences/56556863#56556863", "title": "Comparing two arrays and finding differences", "body": "<p>I'd do it like this:</p>\n\n<pre><code>use Data::Dumper;\nmy @array1= (qw(a b c d e f g   i  ));\nmy @array2= (qw(a b c   e   g h i j));\n\nmy %missing1, %missing2;\n\n# Create an hash entry (value undef) for every array1 member\n@missing1{@array1} = ();\n# Delete every array2 member\ndelete @missing1{@array2};\n\n# and v.v.\n@missing2{@array2} = ();\ndelete @missing2{@array1};\n\nprint \"Elements of array 1 missing in array 2:\\n\", Dumper sort keys %missing1;\nprint \"Elements of array 2 missing in array 1:\\n\", Dumper sort keys %missing2;\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 56556382, "answer_count": 3, "score": 4, "last_activity_date": 1563499632, "creation_date": 1560320934, "last_edit_date": 1563499632, "question_id": 56555887, "link": "https://stackoverflow.com/questions/56555887/comparing-two-arrays-and-finding-differences", "title": "Comparing two arrays and finding differences", "body": "<p>I need to compare two array and get differences.</p>\n\n<p>Background:</p>\n\n<p>1st array will list out files in folder.</p>\n\n<p>2nd array will read the content of a file and stored in array.</p>\n\n<p>The output of 1st array will be</p>\n\n<pre><code>a\nb\nc\nd\ne\n</code></pre>\n\n<p>The output of 2nd array will be</p>\n\n<pre><code>a\nb\nc\ne\n</code></pre>\n\n<p>How I can compare those 2 array that get differences? The finale output that I want is </p>\n\n<pre><code>d\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $list  = \"experiment.sv\";\nmy $path  = \"../../../folder1/\";\nmy $filelist;\n\nopen ( OUTFILE, \"&gt;output.txt\" );\nmain ();\nclose OUTFILE;\n\n\nsub main {\n\n   my @array1;\n   opendir ( DIR, $path ) || die \"Error in opening dir $path\\n\"; \n   while ( $filelist = readdir (DIR) ) {\n       next if ( $filelist =~ s/\\.//g);   #/\n       push @array1, $filelist;         \n   }\n   closedir(DIR);\n\n   my @array2;\n   open( my $fh, \"&lt;\", \"$path/$list\") or die \"Failed to open file: $!\\n\";   \n   while(&lt;$fh&gt;) { \n      push @array2, $_;                  \n   } \n   close $fh;\n\n   my @result;\n   foreach my $array2 (@array2) {\n       foreach my $array1 (@array1) {\n           if ($array1 !~ /$array2/ ) {\n               push @result, \"$array1\\n\";\n           }\n       }\n   }\n\n   print OUTFILE \"\",@result;  \n\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1560322989, "post_id": 56555558, "comment_id": 99693122, "body": "What code and message do you want to send? If you don&#39;t want to send any code and message, why do you want to call the method?"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8955670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be51bea20a6bf87fe36fef3999819e45?s=128&d=identicon&r=PG&f=1", "display_name": "dbnoob", "link": "https://stackoverflow.com/users/8955670/dbnoob"}, "edited": false, "score": 0, "creation_date": 1560387912, "post_id": 56556452, "comment_id": 99722768, "body": "Thanks again @choroba , I tried all that are commented out and no luck. Read that $0 displays the filename that was executed whereas $0 prints the whole script.       &#39;$client_connection-&gt;send_file_response($0);&#39;"}, {"owner": {"reputation": 49, "user_id": 8955670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be51bea20a6bf87fe36fef3999819e45?s=128&d=identicon&r=PG&f=1", "display_name": "dbnoob", "link": "https://stackoverflow.com/users/8955670/dbnoob"}, "edited": false, "score": 0, "creation_date": 1560907311, "post_id": 56556452, "comment_id": 99887342, "body": "I am still not able to get my head around this. Someone please clarify this for me. All I want is to send_status_line back to the client which the module says can do. But Im not getting on the browser. Im getting blank and Im using : if ($request-&gt;method eq &#39;GET&#39; and $request-&gt;uri-&gt;path eq &quot;/test&quot;) { $client_connection-&gt;send_status_line(); }"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 49, "user_id": 8955670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be51bea20a6bf87fe36fef3999819e45?s=128&d=identicon&r=PG&f=1", "display_name": "dbnoob", "link": "https://stackoverflow.com/users/8955670/dbnoob"}, "edited": false, "score": 0, "creation_date": 1560922724, "post_id": 56556452, "comment_id": 99890356, "body": "<code>send_file_response</code>, as documented, takes a file name as an argument and sends the file contents. Giving it $0, it returns the contents of the script."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1560323211, "creation_date": 1560323211, "answer_id": 56556452, "question_id": 56555558, "link": "https://stackoverflow.com/questions/56555558/how-to-get-methods-from-httpdaemon/56556452#56556452", "title": "How to get methods from HTTP::Daemon", "body": "<p>The documentation also states</p>\n\n<blockquote>\n  <p>If <code>$code</code> is omitted 200 is assumed. If <code>$mess</code> is omitted, then a message corresponding to <code>$code</code> is inserted. If <code>$proto</code> is missing the content of the <code>$HTTP::Daemon::PROTO</code> variable is used.</p>\n</blockquote>\n\n<p>So, you don't have to specify the arguments at all. Otherwise, just use any of the possible <a href=\"https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml\" rel=\"nofollow noreferrer\">HTTP status codes</a> for <code>$code</code>, and either don't specify the <code>$mess</code> to get the default message for the code, or use any message you like.</p>\n\n<p>RC_FORBIDEN is exported from <a href=\"http://p3rl.org/HTTP::Status\" rel=\"nofollow noreferrer\">HTTP::Status</a>.</p>\n"}], "owner": {"reputation": 49, "user_id": 8955670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be51bea20a6bf87fe36fef3999819e45?s=128&d=identicon&r=PG&f=1", "display_name": "dbnoob", "link": "https://stackoverflow.com/users/8955670/dbnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560387821, "creation_date": 1560319298, "last_edit_date": 1560387821, "question_id": 56555558, "link": "https://stackoverflow.com/questions/56555558/how-to-get-methods-from-httpdaemon", "title": "How to get methods from HTTP::Daemon", "body": "<p>How can I find out the <code>$code</code> and <code>$mess</code> in <a href=\"http://p3rl.org/HTTP::Daemon\" rel=\"nofollow noreferrer\">HTTP::Daemon</a> module? In cpan the usage is as </p>\n\n<pre><code>$c-&gt;send_status_line( $code, $mess, $proto )\n</code></pre>\n\n<p>but I dont know where/how to get <code>$code</code>, <code>$mess</code> from. </p>\n\n<p>Like, <code>send_error($code)</code> is used as <code>send_error(RC_FORBIDDEN)</code> which I found from someone's code online, where did he get <code>RC_FORBIDDEN</code> from?\nHave been playing with the following code. Sorry for the formatting and many thanks to @choroba for formatting it for me.   </p>\n\n<pre><code>    use warnings;\n    use strict;\n    use HTTP::Daemon;\n    use HTTP::Status;\n    use LWP;\n\n    my $daemon = HTTP::Daemon-&gt;new or die;\n    my $d = HTTP::Daemon-&gt;new(\n    LocalAddr =&gt; '0.0.0.0',\n    LocalPort =&gt; '5000',\n    );\n    printf (\"\\n\\n   URL of webserver is %s, show this script with %stest\\n\", \n    $d-&gt;url, $d-&gt;url);\n\n    while (my $client_connection = $d-&gt;accept)  \n            {\n                new_connection($client_connection);\n            }\n    sub new_connection \n    { \n    my $client_connection = shift;\n    printf \"new connection\\n\";\n    while (my $request = $client_connection-&gt;get_request) \n    {\n        if (my $pid = fork)\n            {\n                print \"Child created : $pid\\n\";\n            }\n        elsif (!defined $pid)\n            {\n                die \"Cannot fork $!\\n\";\n            }\n        else\n            {\n                my $address_of_client = $client_connection-&gt;peerhost();\n                my $port_of_client = $client_connection-&gt;peerport();\n    print \"Connection from client $address_of_client on port \n    $port_of_client\\n\";\n                print \"  request\\n\";\n                    if ($request-&gt;method eq 'GET' and $request-&gt;uri-&gt;path \n    eq \"/test\") \n                        {\n                            $client_connection-&gt;send_file_response(RC_OK);\n                            #$client_connection-&gt;send_status_line(200);\n                            #print \"OK \";\n                            #$client_connection-&gt;send_file_response($0);\n                        }\n                    else \n                        {\n                            $client_connection-&gt;send_error(RC_NOT_FOUND);\n                        }\n            }\n    $client_connection-&gt;close;\n    } \n   }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1560317618, "post_id": 56554309, "comment_id": 99691194, "body": "I am not sure I understand.  So you have a directory <code>dir1</code> and you want to make a link to it, <code>&#47;path&#47;dir1</code> (so that <code>&#47;path&#47;dir1</code> is a link to <code>dir1</code>) -- is that what you want? Or do you mean to make links for individual files?"}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1560318055, "post_id": 56554309, "comment_id": 99691316, "body": "makes links for individual files.. Note : if there is a another dir in dir1 that should also be linked"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1560318762, "post_id": 56554309, "comment_id": 99691557, "body": "OK, thank you.  Then it&#39;s indeed just a small fix to what you have"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1560318958, "post_id": 56554309, "comment_id": 99691619, "body": "Note though, in your code with <code>if (-f $filename)</code> it won&#39;t do it for a subdirectory.  Perhaps you want to allow either, <code>if (-f $filename or -d $filename)</code> ?"}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1560319004, "post_id": 56554309, "comment_id": 99691630, "body": "ok ill change that and will see :D"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1560319068, "post_id": 56554309, "comment_id": 99691652, "body": "That (add <code>-d</code>), and make it <code>symlink $filename, &quot;path2&#47;$_&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560352010, "post_id": 56555308, "comment_id": 99709989, "body": "You should check for errors: <code>or die &quot;symlink $filename to path2&#47; failed: $!&quot;;</code> It will throw an exception if symlinks are unimplemented, but not on standard filesystem errors."}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "edited": false, "score": 0, "creation_date": 1560508231, "post_id": 56555308, "comment_id": 99768837, "body": "can this use for symlink to dirs? Eg- like ln -s /abc/efc/ lmn/xfz ? because i tried to do using symlink( &#39; /abc/efc/&#39;  , &#39;lmn/xfz&#39; . $_);  got error <code>Use of uninitialized value $_ in concatenation (.) or string at</code>"}], "tags": [], "owner": {"reputation": 26141, "user_id": 38207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e2c3bc8e5b3f634cc9a77606e983226?s=128&d=identicon&r=PG", "display_name": "James Anderson", "link": "https://stackoverflow.com/users/38207/james-anderson"}, "is_accepted": true, "score": 2, "last_activity_date": 1560318784, "last_edit_date": 1560318784, "creation_date": 1560317985, "answer_id": 56555308, "question_id": 56554309, "link": "https://stackoverflow.com/questions/56554309/how-to-make-symbolic-link-between-file-in-folders-using-perl/56555308#56555308", "title": "how to make symbolic link between file in folders using perl?", "body": "<pre><code>symlink($filename, \"path2/\" . $_);\n</code></pre>\n\n<p>Should do the trick. Always assuming <code>\"path2\"</code> is the directory where you want the links to be place.</p>\n"}, {"tags": [], "owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "is_accepted": false, "score": 0, "last_activity_date": 1560391022, "creation_date": 1560391022, "answer_id": 56572412, "question_id": 56554309, "link": "https://stackoverflow.com/questions/56554309/how-to-make-symbolic-link-between-file-in-folders-using-perl/56572412#56572412", "title": "how to make symbolic link between file in folders using perl?", "body": "<p>Finally i went with below method.</p>\n\n<pre><code>    my $dir = \"/path/\";\n    my $smlinkdir = \"/smlink/path/\";\n    chdir($smlinkdir) or die \"Cant chdir to $smlinkdir $!\";\n    if(-d $smlinkdir) {\n    system(cp, '--recursive', '--preserve=all', '--no-dereference', '--symbolic-link', \"$dir\", \"$smlinkdir\");\n    } else {\n    exit 1\n    }\n</code></pre>\n\n<p>this worked as well and i went with this since this gives the output i expected.</p>\n"}], "owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 56555308, "answer_count": 2, "score": 1, "last_activity_date": 1560391022, "creation_date": 1560310197, "last_edit_date": 1560316976, "question_id": 56554309, "link": "https://stackoverflow.com/questions/56554309/how-to-make-symbolic-link-between-file-in-folders-using-perl", "title": "how to make symbolic link between file in folders using perl?", "body": "<p>here is the scenario. </p>\n\n<pre><code>I have dir1--&gt;file1\n          |--&gt;file2\n          |--&gt;subdir1---&gt;file3\n          |         |---&gt; file4 \n          | \n          |--&gt;file1\n          |--&gt;subdir2--&gt;file6\n</code></pre>\n\n<p>also dir2  different file tree...</p>\n\n<p>I need to symlink above file in /path/dir1 and /path/dir2 to anthor path call /newpath/dir1 and /newpath/dir2..</p>\n\n<p>is it possible?</p>\n\n<p>So far i tried below </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse File::Find qw(find);\nmy $path = \"path\";\n\n\nfind(\\&amp;Search, $path);\n\nsub Search{\n    my $filename = $File::Find::name;\n\n    if(-f $filename){\n     symlink(\"$filename\", \"path2\");\n     }\n     }\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "is_accepted": true, "score": 2, "last_activity_date": 1560314213, "last_edit_date": 1560314213, "creation_date": 1560302401, "answer_id": 56553471, "question_id": 56553378, "link": "https://stackoverflow.com/questions/56553378/list-file-in-directory-and-store-in-array-that-array-can-be-access-outside-the/56553471#56553471", "title": "List file in directory and store in array. That array can be access outside the loop", "body": "<p>You're pushing the unitialized variable <code>$_</code> onto the array rather than <code>$filelist</code>, which is misleadingly named (it's just one file name).</p>\n\n<p>You can use:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $dirname = \"../../../experiment/\";\nmy $fname = \"file1.txt\";\nmy @files;\n\nopen my $out_fh, \"&gt;\", $fname or die \"Error in opening file $fname: $!\";\nopendir my $dir, $dirname or die \"Error in opening dir $dirname: $!\";\n\nwhile (my $file = readdir($dir)) {\n   next if ($file =~ m/\\.svh$/);\n   next if ($file =~ m/\\.sv$/);\n   next if ($file =~ m/\\.list$/);\n   push @files, $file;\n}\n\nprint $out_fh join \"\\n\", @files;\nclosedir $dir;\nclose $out_fh;               \n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 56553471, "answer_count": 1, "score": 1, "last_activity_date": 1560314213, "creation_date": 1560301323, "last_edit_date": 1560302566, "question_id": 56553378, "link": "https://stackoverflow.com/questions/56553378/list-file-in-directory-and-store-in-array-that-array-can-be-access-outside-the", "title": "List file in directory and store in array. That array can be access outside the loop", "body": "<p>I want to list the files in the folder and want to store in array. How can I make the array can be access outside the loop? I need that array to be outside as need to use it outside the array</p>\n\n<p>This is the code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $dirname       = \"../../../experiment/\";\nmy $filelist;\nmy @file;\n\nopen ( OUTFILE, \"&gt;file1.txt\" );\n\nopendir ( DIR, $dirname ) || die \"Error in opening dir $dirname\\n\";\n\nwhile ( $filelist = readdir (DIR) ) {\n\n   next if ( $filelist =~ m/\\.svh$/ );\n   next if ( $filelist =~ m/\\.sv$/ );\n   next if ( $filelist =~ m/\\.list$/ );\n\n   push @fileInDir, $_; \n\n}\n\nclosedir(DIR);\n\nprint OUTFILE \" \", @fileInDir;\n\nclose OUTFILE;\n</code></pre>\n\n<p>The error message is</p>\n\n<pre><code>Use of uninitialized value in print at file.pl line 49.\n</code></pre>\n"}, {"tags": ["perl", "hash", "package", "perl-module", "exporter"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7159322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d3049edeee2cc5d90ded33d32b5253?s=128&d=identicon&r=PG&f=1", "display_name": "LearnToBeBetter", "link": "https://stackoverflow.com/users/7159322/learntobebetter"}, "edited": false, "score": 0, "creation_date": 1560310666, "post_id": 56552442, "comment_id": 99689751, "body": "Hmm that is an angle I hadn&#39;t considered. If I go with an XML file externally. How would I reference it and parse it into a perl hash?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 13, "user_id": 7159322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d3049edeee2cc5d90ded33d32b5253?s=128&d=identicon&r=PG&f=1", "display_name": "LearnToBeBetter", "link": "https://stackoverflow.com/users/7159322/learntobebetter"}, "edited": false, "score": 0, "creation_date": 1560321870, "post_id": 56552442, "comment_id": 99692655, "body": "You can ask a new question as, well, a new question :-)"}, {"owner": {"reputation": 13, "user_id": 7159322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d3049edeee2cc5d90ded33d32b5253?s=128&d=identicon&r=PG&f=1", "display_name": "LearnToBeBetter", "link": "https://stackoverflow.com/users/7159322/learntobebetter"}, "edited": false, "score": 0, "creation_date": 1560357575, "post_id": 56552442, "comment_id": 99712956, "body": "Ok, turning make to my original post. My question is do loop the correct way to set the %machines hash equal to an external pm&#39;s %machine hash?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1560292629, "last_edit_date": 1560292629, "creation_date": 1560292250, "answer_id": 56552442, "question_id": 56552379, "link": "https://stackoverflow.com/questions/56552379/reference-a-perl-module-that-creates-a-hash-in-another-perl-module-file-that-set/56552442#56552442", "title": "Reference a Perl Module that creates a hash in another Perl Module file that sets the hash equal to that hash", "body": "<p>The scope of a lexical variable defined with <a href=\"http://p3rl.org/my\" rel=\"nofollow noreferrer\">my</a> spans from the declaration to the end of the enclosing block. The first <code>my %machines</code> doesn't survive the \"then\" block, the second one disappears at the end of the \"else\" block.</p>\n\n<p>Note that if File_A is writable by a malicious user, they can insert any code into it. It's safer to use an INI file, or JSON, YAML, XML, or whatever to populate the hash.</p>\n"}], "owner": {"reputation": 13, "user_id": 7159322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d3049edeee2cc5d90ded33d32b5253?s=128&d=identicon&r=PG&f=1", "display_name": "LearnToBeBetter", "link": "https://stackoverflow.com/users/7159322/learntobebetter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560292629, "creation_date": 1560291753, "question_id": 56552379, "link": "https://stackoverflow.com/questions/56552379/reference-a-perl-module-that-creates-a-hash-in-another-perl-module-file-that-set", "title": "Reference a Perl Module that creates a hash in another Perl Module file that sets the hash equal to that hash", "body": "<p>I have 2 perlmodule files (.pm). File_A.pm is located on /some/dir/here/File_A.pm. I have a File_B.pm located on /some/other/dir/File_B.pm. </p>\n\n<p>File_B.pm will set it's my %machines hash equal to /some/dir/here/File_A.pm's %machines if File_A.pm is readable using if(-r '/some/dir/here/File_A.pm') else it will use a standard hash defined within File_B.pm as my %machines = ().</p>\n\n<p>I have tried the code below</p>\n\n<p>However, this is not working for me.</p>\n\n<pre><code>package some::other::dir::File_B;\nuse strict;\nuse vars qw(@ISA @EXPORT $VERSION);\nuse Cwd;\nuse some::dir::File_A;\n\nuse Exporter;\n$VERSION = 1.0;\n@ISA     = qw(Exporter);\n@EXPORT =\n  qw(getMachines printMachines getMachineAttributes printMachineAttributes);\n\nif(-r '/some/dir/here/File_A.pm'){\n    my %machines = do q{/some/dir/here/File_A.pm};\nelse{\n my %machines = (  \n    \"some.fqdn.com\" =&gt; {\n    role        =&gt; [\"someRole\"],\n    environment =&gt; \"test\",\n    location    =&gt; \"USA\",\n    os          =&gt; \"Ubuntu\",},\n    )\n}\n###################################\n#I have getMachines, printMachines, getMachineAtrributes, and\n#printMachineAttributes below here in my code\n####################################\n</code></pre>\n\n<p>I am expecting the logic to use the File_A.pm my %machines hash if it is readable and if not use the backup my %machines hash in case the File_A.pm somehow becomes unreadable.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1560286752, "post_id": 56551511, "comment_id": 99684854, "body": "Welcome to SO! This example is incomplete--it&#39;s not clear what the input array <code>@names</code> is or what <code>$modtype</code>, <code>$searchname</code> etc are. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1560349122, "post_id": 56551511, "comment_id": 99708243, "body": "I&#39;ve tidied the formatting of your code. You&#39;re welcome, of course, but please consider doing it yourself in the future. Consistent indentation is one of the best tools for making your code readable. And if you&#39;re asking a large group of strangers to read your code then it makes sense to make it as easy to understand as possible."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11633380, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YjIpH7MBs0Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdLU9jN5jLUMYeTAtBpbD_d2NjTNA/mo/photo.jpg?sz=128", "display_name": "tgz", "link": "https://stackoverflow.com/users/11633380/tgz"}, "edited": false, "score": 0, "creation_date": 1560289419, "post_id": 56551601, "comment_id": 99685710, "body": "Pretty sure your code is working but there seems to be a problem with reading from the array @names so I am looking into that now. It works elsewhere in the code but for some reason returns zero when run from this location. I dont care much for perl code embedded in html but it is what it is."}, {"owner": {"reputation": 3, "user_id": 11633380, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YjIpH7MBs0Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdLU9jN5jLUMYeTAtBpbD_d2NjTNA/mo/photo.jpg?sz=128", "display_name": "tgz", "link": "https://stackoverflow.com/users/11633380/tgz"}, "edited": false, "score": 0, "creation_date": 1560368781, "post_id": 56551601, "comment_id": 99717842, "body": "So the answer was pretty simple. The value being read from the array @names did not match the value in the variable $searchname. I needed to add a &quot;\\n&quot; when the $searchname variable is populated with the data from $modname. Neither would have been intuitive with code snippits unless you had access to the data being loaded into the array. Thanks for everyone&#39;s help though, it got me looking in the right places."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1560287123, "last_edit_date": 1560287123, "creation_date": 1560286810, "answer_id": 56551601, "question_id": 56551511, "link": "https://stackoverflow.com/questions/56551511/i-need-to-search-for-a-value-in-a-perl-array-and-if-i-find-a-match-execute-some/56551601#56551601", "title": "I need to search for a value in a perl array and if I find a match execute some code", "body": "<pre><code>my @mm = grep { $_ eq $searchname } @names;\nif (@mm) {\n    print \"found\\n\";\n}\n</code></pre>\n\n<p><code>grep</code> takes a boolean expression, not just a variable. In that expression, <code>$_</code> refers to the current list element. By using an equality comparison we get (in <code>@mm</code>) all elements of @names that are equal to <code>$searchname</code>, if any.</p>\n\n<p>To check whether an array is empty, you can simply use it in boolean context, as in <code>if (@mm)</code>.</p>\n\n<p>If you don't care about the found elements themselves, just whether there are any, you can use <code>grep</code> in scalar context:</p>\n\n<pre><code>my $count = grep { $_ eq $searchname } @names;\nif ($count &gt; 0) {\n    print \"found $count results\\n\";\n}\n</code></pre>\n\n<p>This will give you the number of matching elements.</p>\n\n<p>If you don't need to know that number, just whether there was any result at all, you can use <a href=\"https://perldoc.pl/List::Util#any\" rel=\"nofollow noreferrer\"><code>any</code> from <code>List::Util</code></a>:</p>\n\n<pre><code>use List::Util qw(any);\n\nif (any { $_ eq $searchname } @names) {\n    ...\n}\n</code></pre>\n\n<p>If <code>@names</code> is big, this is potentially more efficient because it can stop after the first match is found.</p>\n\n<p>I'm not sure what <code>$mm</code> refers to in your code. Did you start your code with <code>use strict; use warnings;</code>? If not, you should.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1560328055, "creation_date": 1560328055, "answer_id": 56557738, "question_id": 56551511, "link": "https://stackoverflow.com/questions/56551511/i-need-to-search-for-a-value-in-a-perl-array-and-if-i-find-a-match-execute-some/56557738#56557738", "title": "I need to search for a value in a perl array and if I find a match execute some code", "body": "<p>Looks like you misunderstand a couple of things.</p>\n\n<pre><code>my @mm = grep{$searchname} @names;\n</code></pre>\n\n<p>The <code>grep()</code> function takes two arguments. A block of code (<code>{ $searchname }</code>) and a list of values (<code>@names</code>). For each value in the list, it puts the value into <code>$_</code> and executes the code block. If the code block returns a true value then the contents of <code>$_</code> is added to the output list.</p>\n\n<p>Your block of code ignores <code>$_</code> and just checks for the value of <code>$searchname</code>. That is very likely to always be true, so all of the values from <code>@names</code> get copied into <code>@mm</code>.</p>\n\n<p>I think it's more likely that you want:</p>\n\n<pre><code>my @mm = grep{ $_ eq $searchname } @names;\n</code></pre>\n\n<p>Secondly, you suddenly start using a new variable called <code>$mm</code>. I suspect you're getting confused between <code>@mm</code> and <code>$mm</code> which are completely different variables with no connection with each other.</p>\n\n<p>I think what you're actually trying to do is to look at the first element of <code>@mm</code> so you want:</p>\n\n<pre><code>if ($mm[0] eq $searchname)\n</code></pre>\n\n<p>But, given that values only end up in <code>@mm</code> if they are equal to <code>$searchname</code> (because that's what your <code>grep()</code> does), I think you really just want to check whether or not anything ended up in <code>@mm</code>. So you should use:</p>\n\n<pre><code>if (@mm)\n</code></pre>\n\n<p>Which is, in my opinion, easier to understand.</p>\n"}], "owner": {"reputation": 3, "user_id": 11633380, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YjIpH7MBs0Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdLU9jN5jLUMYeTAtBpbD_d2NjTNA/mo/photo.jpg?sz=128", "display_name": "tgz", "link": "https://stackoverflow.com/users/11633380/tgz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 56551601, "answer_count": 2, "score": 0, "last_activity_date": 1560348922, "creation_date": 1560286299, "last_edit_date": 1560348922, "question_id": 56551511, "link": "https://stackoverflow.com/questions/56551511/i-need-to-search-for-a-value-in-a-perl-array-and-if-i-find-a-match-execute-some", "title": "I need to search for a value in a perl array and if I find a match execute some code", "body": "<p>This is sort of what I am wanting to do. At present mm returns nothing, while searchname returns the expected value.\nThis is a perl script embedded in a web page.\nI have tried numerous approaches to this code but nothing seems to provide the results I desire. I think it is just a case of syntax.</p>\n\n<pre><code>#  search for an item\nif ($modtype eq \"search\") {\n    $searchname=$modname;\n    print \"Value of searchname $searchname\\n\";\n    my @mm = grep{$searchname} @names;\n    print \"Value of mm @mm\\n\";\n\n    if ($mm eq $searchname) {\n        print \"$searchname found!\\n\";\n    }\n    else {\n        print \"$searchname not Found\\n\";        \n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1560280665, "post_id": 56550085, "comment_id": 99682577, "body": "Hi, Thank you. I am just getting a whole bunch of <code>Use of uninitialized value $dep in hash element at count_matches.pl line 11, &lt;$input&gt; line 1</code> as output."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1560280760, "post_id": 56550085, "comment_id": 99682603, "body": "Are you sure your input is tab separated? Does it contain any lines that don&#39;t have data? Try <code>split &#39; &#39;, $line</code> to split on any space characters."}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1560281912, "post_id": 56550085, "comment_id": 99683054, "body": "My Bad. I was still splitting on <code>$_</code> and never noticed you defined <code>$line</code> Thanks!"}, {"owner": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1560293018, "post_id": 56550085, "comment_id": 99686627, "body": "If  you know your fields don&#39;t contain spaces, use <code>\\s+</code>, which will work for any combination of tabs and spaces as delimiters."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560293872, "post_id": 56550085, "comment_id": 99686831, "body": "The <code>&#39; &#39;</code> special case for <a href=\"https://perldoc.pl/functions/split\" rel=\"nofollow noreferrer\">split</a> is similar to <code>&#47;\\s+&#47;</code>."}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "reply_to_user": {"reputation": 2936, "user_id": 39791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661c7cc5565e5bc21fb0fc22c0354fef?s=128&d=identicon&r=PG", "display_name": "Joe McMahon", "link": "https://stackoverflow.com/users/39791/joe-mcmahon"}, "edited": false, "score": 0, "creation_date": 1560320179, "post_id": 56550085, "comment_id": 99692019, "body": "@JoeMcMahon, Thank. My fields do contain spaces, so I have to split on <code>&#47;\\t&#47;</code>"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 1, "last_activity_date": 1560279053, "creation_date": 1560279053, "answer_id": 56550085, "question_id": 56549934, "link": "https://stackoverflow.com/questions/56549934/perl-match-a-value-then-match-the-count-of-values-of-each-value/56550085#56550085", "title": "Perl match a value, then match the count of values of each value", "body": "<p>First construct a hash keyed by what you want to count uniquely: the combination of $app, $dep, and $name. You can use a combined key for this but let's use a multidimensional hash to keep the keys separate for later. Each intermediate level will automatically be <a href=\"https://perldoc.pl/perlref#Using-References\" rel=\"nofollow noreferrer\">autovivified</a> when we increment a count.</p>\n\n<pre><code>use strict;\nuse warnings;\nopen my $input, '&lt;', $filename or die \"open $filename failed: $!\";\nmy %counts;\nwhile (my $line = &lt;$input&gt;) {\n  chomp $line; # otherwise trailing field will contain a newline\n  my ($app, $dep, $name) = split /\\t/, $line;\n  $counts{$app}{$dep}{$name}++;\n}\n</code></pre>\n\n<p>Then iterate through the hash to print out each count.</p>\n\n<pre><code>foreach my $app (sort keys %counts) {\n  my $app_counts = $counts{$app};\n  foreach my $dep (sort keys %$app_counts) {\n    my $dep_counts = $app_counts-&gt;{$dep};\n    foreach my $name (sort keys %$dep_counts) {\n      my $count = $dep_counts-&gt;{$name};\n      print \"$app $dep $name $count\\n\";\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56550085, "answer_count": 1, "score": 0, "last_activity_date": 1560283605, "creation_date": 1560278456, "last_edit_date": 1560279042, "question_id": 56549934, "link": "https://stackoverflow.com/questions/56549934/perl-match-a-value-then-match-the-count-of-values-of-each-value", "title": "Perl match a value, then match the count of values of each value", "body": "<p>So I have some data in tab delimited form:</p>\n\n<pre><code>Windows Department1 Enterprise\nWindows Department1 Home\nLinux   Department2 Santiago\nWindows Department1 Professional\nWindows Department1 Enterprise\nWindows Department2 Enterprise\n</code></pre>\n\n<p>In this case I need to match the first column first and get the count of each value in the 2nd and 3rd columns. Sort of to match the number of exact matches.\nSo to end up with something like:</p>\n\n<pre><code>Windows Department1 Enterprise = 2\nWindows Department2 Professional = 1\nLinux   Department2 Santiago = 1\nWindows Department3 Home = 1\nWindows Department2 Enterprise = 1\n</code></pre>\n\n<p>So I tried loads of things, with this being the last attempt and I got many different unwanted results:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy %seen;\nmy $count = 0;\nwhile (&lt;INPUTFILE&gt;) {\nmy ($app,$dep,$name) = split(/\\t/,$_);\n   if ($app.$dep.$name eq 'Windows.Department1.Professional') {\n   unless ($seen{$app.$dep.name}++) {\n     $count++;\n      }\n   }\n}\nprint $app . \" \" . $dep . \" \" . $name . \" \" . $count++\n</code></pre>\n\n<p>But this does not do remotely what I want. and just prints the last values with a count. I want to set the <code>$app</code> unique once, then match both the second and third values to get a count. Other than that, I need to manually match each item with <code>eq</code> and the example above does not remotely show the amount of data in the file, so this will become a pain. I would greatly appreciate any help.</p>\n"}, {"tags": ["python", "python-3.x", "perl", "dictionary"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1560274315, "post_id": 56548936, "comment_id": 99679721, "body": "Is this Python 2 or 3?"}, {"owner": {"reputation": 76, "user_id": 11574118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf531632164462be63ec745f757943e?s=128&d=identicon&r=PG&f=1", "display_name": "kierabeth", "link": "https://stackoverflow.com/users/11574118/kierabeth"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1560274650, "post_id": 56548936, "comment_id": 99679872, "body": "3, sorry should have included that"}], "answers": [{"tags": [], "owner": {"reputation": 19276, "user_id": 8591431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AqHwnjWu2tM/AAAAAAAAAAI/AAAAAAAAFrE/DVc4w4e1pDc/photo.jpg?sz=128", "display_name": "Devesh Kumar Singh", "link": "https://stackoverflow.com/users/8591431/devesh-kumar-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1560274339, "creation_date": 1560274339, "answer_id": 56548970, "question_id": 56548936, "link": "https://stackoverflow.com/questions/56548936/translating-multidimensional-hash-in-perl-to-python-dict/56548970#56548970", "title": "Translating multidimensional hash in Perl to Python dict", "body": "<p>You need to define <code>my_dict['Variables']['Coords']</code> as a dictionary too,  if you want to use it as such, perhaps by doing <code>defaultdict(dict)</code></p>\n\n<pre><code>#Define as default dict\nmy_dict['Variables']['Coords'] = defaultdict(dict)\nmy_dict['Variables']['Coords']['X'] = 2\n\nprint(my_dict)\n</code></pre>\n\n<p>The output will be</p>\n\n<pre><code>defaultdict( &lt;class 'dict'&gt; , {\n    'Status': 'free',\n    'Results': {\n        'Test1': 1\n    },\n    'Variables': {\n        'Coords': defaultdict( &lt;class 'dict'&gt; , {\n            'X': 2\n        })\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 76, "user_id": 11574118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf531632164462be63ec745f757943e?s=128&d=identicon&r=PG&f=1", "display_name": "kierabeth", "link": "https://stackoverflow.com/users/11574118/kierabeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1560274985, "accepted_answer_id": 56548970, "answer_count": 1, "score": 1, "last_activity_date": 1560274670, "creation_date": 1560274183, "last_edit_date": 1560274670, "question_id": 56548936, "link": "https://stackoverflow.com/questions/56548936/translating-multidimensional-hash-in-perl-to-python-dict", "closed_reason": "Duplicate", "title": "Translating multidimensional hash in Perl to Python dict", "body": "<p>I have a program in Perl that I want to translate into Python. Right now the focus is on rote translation, then I will go through and make it more Pythonic (there are a lot of files and a couple people working on it so I don't want to mess up the logic flow by changing the code too much). \nThe Perl code creates a hash InputData that it fills with data from an input file. At first it was 1-dimensional, so I just used a dictionary. Then the code added a second dimension, and after looking at <a href=\"https://stackoverflow.com/questions/29348345/declaring-a-multi-dimensional-dictionary-in-python\">this thread</a> I used <code>defaultdict(dict)</code>. Now my Perl code has added a third dimension and looking forward in the code there is a fourth dimension used as well.</p>\n\n<p>I have been testing dicts in Jupyter Notebook, and I get this KeyError when I try to add a third dimension.</p>\n\n<pre><code>my_dict = defaultdict(dict)\nmy_dict['Status'] = 'free'\nmy_dict['Results']['Test1'] = 1\nmy_dict['Variables']['Coords']['X'] = 2\n\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n&lt;ipython-input-19-dbbf5ada990b&gt; in &lt;module&gt;\n      2 my_dict['Status'] = 'free'\n      3 my_dict['Results']['Test1'] = 1\n----&gt; 4 my_dict['Variables']['Coords']['X'] = 2\n\nKeyError: 'Coords'\n</code></pre>\n\n<p>Is there some other way to create a multidimensional Python dict? Is this ridiculous? What other data type could I use instead?</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["macos", "perl", "ssh"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560273582, "post_id": 56548664, "comment_id": 99679387, "body": "&quot;Duplicate&quot; how? Do you have a command named <code>mintty</code> or are you trying to ask what to replace it with?"}, {"owner": {"reputation": 3, "user_id": 7033027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkfhs.jpg?s=128&g=1", "display_name": "Michael McCarthy", "link": "https://stackoverflow.com/users/7033027/michael-mccarthy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560273765, "post_id": 56548664, "comment_id": 99679458, "body": "Sorry, trying to replace current mintty command that works on windows with cygwin with applicable mac terminal command."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560273817, "post_id": 56548664, "comment_id": 99679481, "body": "The Mac Terminal is <code>&#47;Applications&#47;Terminal.app</code> but you probably don&#39;t need to open a separate window; just run your script in an existing Terminal window if that&#39;s what you want."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560273867, "post_id": 56548664, "comment_id": 99679501, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/989349/running-a-command-in-a-new-mac-os-x-terminal-window\">Running a command in a new Mac OS X Terminal window</a>"}, {"owner": {"reputation": 3, "user_id": 7033027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkfhs.jpg?s=128&g=1", "display_name": "Michael McCarthy", "link": "https://stackoverflow.com/users/7033027/michael-mccarthy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560274072, "post_id": 56548664, "comment_id": 99679615, "body": "The script is used to launch multiple sessions, so want a new window with each execution."}, {"owner": {"reputation": 3, "user_id": 7033027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkfhs.jpg?s=128&g=1", "display_name": "Michael McCarthy", "link": "https://stackoverflow.com/users/7033027/michael-mccarthy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560274945, "post_id": 56548664, "comment_id": 99680032, "body": "suggested page does not answer specific requirement stated here."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560275384, "post_id": 56548664, "comment_id": 99680236, "body": "How so? Both <code>open Terminal command</code> and <code>osascript &quot;tell Terminal...&quot;</code> should fulfill your stated requirements."}, {"owner": {"reputation": 3, "user_id": 7033027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkfhs.jpg?s=128&g=1", "display_name": "Michael McCarthy", "link": "https://stackoverflow.com/users/7033027/michael-mccarthy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560450722, "post_id": 56548664, "comment_id": 99751148, "body": "@tripleee because I can&#39;t get these commands to execute inside the perl script"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560840250, "post_id": 56548664, "comment_id": 99856514, "body": "At least <code>perl -e &#39;system(&quot;open -a Terminal.all &#47;tmp&#47;testing&quot;)&#39;</code> works for me when <code>&#47;tmp&#47;testing</code> is an executable shell script. Are you omitting something from the question or can you reproduce this? Do you need instructions for how to write a temporary shell script to a file?"}, {"owner": {"reputation": 3, "user_id": 7033027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkfhs.jpg?s=128&g=1", "display_name": "Michael McCarthy", "link": "https://stackoverflow.com/users/7033027/michael-mccarthy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560876048, "post_id": 56548664, "comment_id": 99877139, "body": "@triplee I feel like all the information is provided here.  The script is a perl script so perl command is not needed.  See code snippet.  The perl script launches a new terminal window on windows and executes ssh command.  Trying to do that on Mac.  I don&#39;t want to call another script, but that may be what I have to do.  I just want to open -a Terminal.all and pass it ssh command and url variable not another file/script."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560877739, "post_id": 56548664, "comment_id": 99877944, "body": "The explicit <code>perl</code> command is just to show you what exactly I did. If your script does something fundamentally different then that is information which should be explained in more detail in the question; if not, I have showed you exactly how to solve the problem in your script. The <code>osascript</code> solution doesn&#39;t require the commands to be in a separate script file so maybe go with that (and there may be a separate convenient Perl binding so you don&#39;t have to go through <code>os.system()</code>."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560877744, "post_id": 56548664, "comment_id": 99877949, "body": "But so this still seems to me like you should accept the proposed duplicate, or explain in more detail how the answers there are unsuitable."}, {"owner": {"reputation": 3, "user_id": 7033027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkfhs.jpg?s=128&g=1", "display_name": "Michael McCarthy", "link": "https://stackoverflow.com/users/7033027/michael-mccarthy"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560885496, "post_id": 56548664, "comment_id": 99881312, "body": "@tripleee this is not a duplicate because I am asking specifically how to replace the code above to open a new terminal and pass it an ssh command from a perl script on a mac.  The script code above works on a windows machine.  Any answer not addressing the specific question is not helpful to me.  I appreciate you trying to help, but showing what you did when it&#39;s different than what I am asking is not helpful.  I apologize if I am not being clear in my ask, but I feel like I spelled it out."}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560920380, "post_id": 56660247, "comment_id": 99889735, "body": "<a href=\"https://apple.stackexchange.com/questions/18727/problem-setting-terminal-window-bounds-with-applescript\" title=\"problem setting terminal window bounds with applescript\">apple.stackexchange.com/questions/18727/&hellip;</a> explores setting a Terminal window&#39;s dimensions from Applescript."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1560920994, "post_id": 56660247, "comment_id": 99889874, "body": "There may be Perl-native solutions which allow you to  bypass the <code>system()</code> call and provide better Applescript integration. <a href=\"https://metacpan.org/pod/Mac::OSA::Simple\" rel=\"nofollow noreferrer\">metacpan.org/pod/Mac::OSA::Simple</a> looks like a simple way to do that but I have no idea if it&#39;s current and supported."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 1, "last_activity_date": 1560920283, "last_edit_date": 1560920283, "creation_date": 1560919915, "answer_id": 56660247, "question_id": 56548664, "link": "https://stackoverflow.com/questions/56548664/open-new-terminal-window-from-perl-script-and-execute-ssh-command/56660247#56660247", "title": "Open New Terminal Window from Perl Script and Execute SSH command", "body": "<p>Here is a simple translation of your code to use Applescript to perform the task, as explained in the proposed duplicate <a href=\"https://stackoverflow.com/questions/989349/running-a-command-in-a-new-mac-os-x-terminal-window\">Running a command in a new Mac OS X Terminal window</a></p>\n\n<pre><code>if ($noexec) {\n    system(qq{echo osascript -e 'tell application \"Terminal\" to do script \"ssh $url \\&amp; \"'});\n} else {\n    system(qq{osascript -e 'tell application \"Terminal\" to do script \"ssh $url \\&amp; \"'});\n}\n</code></pre>\n\n<p>Running the <code>ssh</code> command in the background seems like a very odd thing to do. Probably you should replace <code>\\&amp;</code> with <code>; exit</code>.</p>\n\n<p>I'm not sure what the <code>mintty</code> options mean (I guess set the geometry to 160x40 and pick a particular cursor?) so I haven't attempted to implement those. <a href=\"https://superuser.com/questions/1188772/mac-command-to-change-the-background-color-in-a-terminal\">https://superuser.com/questions/1188772/mac-command-to-change-the-background-color-in-a-terminal</a> shows how to set the background color in Terminal via Applescript, for example.</p>\n\n<p>If <code>mintty</code> or Windows <code>ssh</code> really accepts a URL to connect to (something like <code>ssh://username@hostname</code> perhaps?) you will have to pick it apart and extract only the parameters which are acceptable to U*x <code>ssh</code> (like <code>username@hostname</code> without the <code>ssh://</code> protocol specifier).</p>\n"}], "owner": {"reputation": 3, "user_id": 7033027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pkfhs.jpg?s=128&g=1", "display_name": "Michael McCarthy", "link": "https://stackoverflow.com/users/7033027/michael-mccarthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1560920283, "creation_date": 1560272920, "last_edit_date": 1560274844, "question_id": 56548664, "link": "https://stackoverflow.com/questions/56548664/open-new-terminal-window-from-perl-script-and-execute-ssh-command", "title": "Open New Terminal Window from Perl Script and Execute SSH command", "body": "<p>I have a current perl script that I was executing on a windows machine in cygwin, that was opening a new cygwin terminal window and ssh'ing into a remote machine.</p>\n\n<p>Trying to duplicate the mintty command on mac.</p>\n\n<pre><code>if ($noexec) {\n    system(\"echo mintty -s 160,40 $cursor -o \n    BackgroundColour=$color -o \n    Title='\\\"$title\\\"' -e ssh $url \\&amp;\");\n} else {\n    system(\"mintty -s 160,40 $cursor -o BackgroundColour=$color -o \n    Title=\\\"$title\\\" -e ssh $url \\&amp;\");\n}\n</code></pre>\n"}, {"tags": ["perl", "warnings", "hierarchy", "pragma"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560272908, "post_id": 56548456, "comment_id": 99679091, "body": "It&#39;s interesting, the core warnings categories are hierarchical but it does not seem registered package subcategories are registered under the package name category. Maybe this could be a feature request."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560272938, "post_id": 56548456, "comment_id": 99679103, "body": "@Grinnz I was thinking about that myself - I&#39;ve not yet used perlbug, so maybe it&#39;s time :)"}], "answers": [{"comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560274945, "post_id": 56549056, "comment_id": 99680033, "body": "Sure - like another workaround I was thinking of, namely <code>List::MoreUtils::all { $_ } map { warnings::enabled($_) } qw(Provider::undefined Provider)</code>.  Do you know of a module that does this, and prevents me from having to repeat <code>Provider</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560275208, "post_id": 56549056, "comment_id": 99680155, "body": "@cxw By <code>use warnings::register qw(undefined);</code> two categories of warnings are introduced, <code>&#39;Provider&#39;</code> and <code>&#39;Provider::undefined&#39;</code> (it does suck typing it over and over!) I think you have to spell out both?  Can write a utilitiy sub in the module itself so to reduce typing in subs, of course."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1560277725, "post_id": 56549056, "comment_id": 99681278, "body": "@cxw Was backwards, fixed.  Added an example utility sub to reduce typing"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1560362405, "last_edit_date": 1560362405, "creation_date": 1560274660, "answer_id": 56549056, "question_id": 56548456, "link": "https://stackoverflow.com/questions/56548456/how-do-i-concisely-check-warning-categories-up-to-the-root-of-the-hierarchy-in-m/56549056#56549056", "title": "How do I concisely check warning categories up to the root of the hierarchy in my package?", "body": "<p>The <code>use warnings::register qw(undefined);</code> statement introduced two new categories of warnings, <code>'Provider'</code> and <code>'Provider::undefined'</code>. So check for both</p>\n\n<pre><code>sub foo {\n    if (warnings::enabled('Provider') and \n        warnings::enabled('Provider::undefined')) \n    {\n        warnings::warn('Undefined parameter');\n    }   \n}\n</code></pre>\n\n<p>This will not fire if either of categories is suppressed</p>\n\n<pre><code>{\n    no warnings 'Provider';               # EITHER stops it\n    #no warnings 'Provider::undefined';\n\n    Provider::foo;                        # does not warn\n}\n</code></pre>\n\n<p>To require both <code>no warnings</code> to stop them use <code>or</code> in <code>::enabled</code> condition in <code>foo</code>.</p>\n\n<hr>\n\n<p>To  reduce typing of <code>Provider</code> in module's subs you can set up a utility sub for that, for example</p>\n\n<pre><code>my $to_warn = sub  {\n    return 0 if not warnings::enabled(__PACKAGE__);\n    warnings::enabled(__PACKAGE__ . '::' . $_) \n        or return 0  for @_;\n    return 1;\n};\n</code></pre>\n\n<p>and then can do</p>\n\n<pre><code>warnings::warn('Undefined parameter') if $to_warn-&gt;('undefined');\n</code></pre>\n\n<p>More defaults can be set up in <code>$to_warn</code>. Now the name <code>Provider</code> need not be typed at all :)</p>\n\n<p>Recall that <code>$to_warn</code> must be defined before it's used, or at least pre-declared.</p>\n"}], "owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560362405, "creation_date": 1560271983, "last_edit_date": 1560272903, "question_id": 56548456, "link": "https://stackoverflow.com/questions/56548456/how-do-i-concisely-check-warning-categories-up-to-the-root-of-the-hierarchy-in-m", "title": "How do I concisely check warning categories up to the root of the hierarchy in my package?", "body": "<p>I know how to <code>use warnings::register</code> to create custom warning categories for my module.  However, if I create warning category <code>Module::category</code> and warn using <code>warnif()</code>, <code>no warnings 'Module'</code> does not suppress the warnings.  How can I concisely check both <code>Module::category</code> and <code>Module</code>?</p>\n\n<h3>MCVE</h3>\n\n<pre><code>package Provider;\nuse strict; use warnings;\n\nuse warnings::register qw(undefined);\n\nsub foo {\n    warnings::warnif('Provider::undefined', \"Undefined parameter!\");\n}\n\npackage Consumer;\nuse strict; use warnings;\n\nProvider::foo;      # warns - OK\n\n{\n    no warnings 'Provider::undefined';\n    Provider::foo;  # does not warn - OK\n}\n\n{\n    no warnings 'Provider';\n    Provider::foo;  # _DOES_ warn - oops  &lt;===========\n}\n</code></pre>\n\n<h3>Other investigation</h3>\n\n<p>If I check the state of the warnings inside <code>Provider::foo()</code>, I see that <code>no warnings 'Provider'</code> doesn't touch <code>Provider::undefined</code>:</p>\n\n<pre><code>sub foo {\n    print \"$_: @{[warnings::enabled($_) ? 'enabled' : 'disabled']}\\n\"\n        foreach qw(Provider::undefined Provider);\n }\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>Provider::undefined: enabled\nProvider: enabled\nProvider::undefined: disabled\nProvider: enabled\nProvider::undefined: enabled\nProvider: disabled\n</code></pre>\n\n<p>for the three tests above.</p>\n\n<h3>A workaround</h3>\n\n<pre><code>sub foo {\n    my $should_warn = 1;\n    foreach (qw(Provider::undefined Provider)) {\n        if(!warnings::enabled($_)) {\n            $should_warn = 0;\n            last;\n        }\n    }\n    warnings::warn('Provider::undefined', \"Undefined parameter!\")\n        if $should_warn;\n}\n</code></pre>\n\n<p>... but before I wrap that in a module and put it on CPAN, I'd like to find out if anyone else has already done so, or knows a better way :) .  Google and SO searches were unavailing.</p>\n"}, {"tags": ["perl", "spreadsheet", "xls"], "comments": [{"owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1560263718, "post_id": 56545694, "comment_id": 99673847, "body": "@simbabque can you please try running this code and suggest a solution if you know"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1560264543, "post_id": 56545694, "comment_id": 99674420, "body": "All I did was fix your wrong use of markdown in the post. I&#39;ve had a look and I think you are right, the format number is specific to each individual file, based on how XLS files work. I think you need to deep-copy the formats individually from the first to the second file. Make sure you only copy each format once."}, {"owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1560265214, "post_id": 56545694, "comment_id": 99674867, "body": "Can you please explain what deep-copying of formats mean and how to do it ? Also, is there any better perl or non-perl way to merge two xls files"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1560266204, "post_id": 56545694, "comment_id": 99675459, "body": "You have to get the format object for the cell you want to copy in the old file, then get all its properties and use that to make a new format in the new file. You should cache the format numbers you have already copied so you don&#39;t get duplicates in the new file. I think the number of possible formats is limited. If you look at the documentation of the formats in Spreadsheet::ParseExcel you will see the font is inside the format and also has properties, so that needs to be copied to, again probably with a cache. I don&#39;t know any alternative solution. Good luck."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1560266324, "post_id": 56545694, "comment_id": 99675540, "body": "FYI to potential answerers: This question has been cross-posted to PerlMonks at <a href=\"https://www.perlmonks.org/?node_id=11101251\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=11101251</a>"}, {"owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "edited": false, "score": 0, "creation_date": 1560266366, "post_id": 56545694, "comment_id": 99675562, "body": "Actually that&#39;s me"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1560266531, "post_id": 56545694, "comment_id": 99675670, "body": "Yes, it is you. That&#39;s what &quot;cross-posting&quot; is - you posted the same question to multiple sites. It&#39;s considered polite to tell people about that so they can check the other sites before answering, in case you already have a solution elsewhere."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "is_accepted": false, "score": 1, "last_activity_date": 1563456933, "creation_date": 1563456933, "answer_id": 57095816, "question_id": 56545694, "link": "https://stackoverflow.com/questions/56545694/unable-to-retain-the-format-in-copying-from-one-excel-file-to-another/57095816#57095816", "title": "Unable to retain the format in copying from one excel file to another", "body": "<p>The solution to the above problem is same as what @simbabque said in the comments. You have to extract all properties of the format of every cell and create new format for each cell using these extracted properties. As very correctly said by @simbabque, the number of properties are fixed. Please see the below link:</p>\n\n<p><a href=\"https://metacpan.org/pod/Spreadsheet::ParseExcel#Format\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Spreadsheet::ParseExcel#Format</a></p>\n\n<p>I am also attaching the final code for merging two xls files. In this code two xls files are taken as argument and are merged into first one and saved with name \"testing.xls\". </p>\n\n<p>Thanks @simbabque for your help. Please post your comment as a answer and I will accept it as a solution.</p>\n\n<p>Following is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::WriteExcel;\nuse Spreadsheet::ParseExcel::SaveParser;\n\nprint \"FILE 1 $ARGV[0]\".\"\\n\";\nmy $parser1   = Spreadsheet::ParseExcel::SaveParser-&gt;new();\nmy $template1 = $parser1-&gt;Parse($ARGV[0])  or die \"Unable to open first xls file\";\n\nmy $func_worksheet_count = $template1-&gt;worksheet_count();\n\nmy $parser2   = Spreadsheet::ParseExcel::SaveParser-&gt;new();\nmy $template2 = $parser2-&gt;Parse($ARGV[1])  or die \"Unable to open second xls file\";\n\nmy $test_worksheet_count = $template2-&gt;worksheet_count();\n\nprint \"FILE 2 $ARGV[1]\".\"\\n\";\n\n\nmy $worksheet22;\nmy $worksheet11;\nmy $sheet_name;\n\n for (my $i = 0; $i &lt; $test_worksheet_count; $i++) {\n    $worksheet22 = $template2-&gt;worksheet($i);\n    $sheet_name = $worksheet22-&gt;get_name();\n        print $sheet_name.\"\\n\";\n    $template1-&gt;AddWorksheet($sheet_name);\n } \n\n my $font;\n my $AlignH;\n my $AlignV; \n my $Indent;\n my $Wrap;\n my $Shrink;\n my $Rotate;\n my $JustLast;\n my $ReadDir;\n my $BdrStyle;\n my $BdrColor;\n my $BdrDiag;\n my $Fill;\n my $Lock;\n my $Hidden;\n my $Style;\n\n my $iFmt;\n my $format;\nmy $iF1;\n\n\n\n\n\n for (my $k = 0; $k &lt; $test_worksheet_count; $k++) {\n\n    $worksheet22 = $template2-&gt;worksheet($k);\n    $worksheet11 = $template1-&gt;worksheet($func_worksheet_count+$k); \n\n\n    my $cellz; my $valua;my $format_number;\n    for (my $i = 0; $i &lt; 1000; $i++) {\n        for (my $j = 0; $j &lt; 30; $j++) {\n            $cellz = $worksheet22-&gt;get_cell( $i, $j );\n            if($cellz){\n                $valua = $cellz-&gt;value(); $format_number = $cellz-&gt;{FormatNo};\n                $format = $cellz-&gt;get_format(); \n                 $font = $format-&gt;{Font};\n                 $AlignH = $format-&gt;{AlignH};\n                 $AlignV = $format-&gt;{AlignV}; \n                 $Indent = $format-&gt;{Indent};\n                 $Wrap = $format-&gt;{Wrap};\n                 $Shrink = $format-&gt;{Shrink};\n                 $Rotate = $format-&gt;{Rotate};\n                 $JustLast = $format-&gt;{JustLast};\n                 $ReadDir = $format-&gt;{ReadDir};\n                 $BdrStyle = $format-&gt;{BdrStyle};\n                 $BdrColor = $format-&gt;{BdrColor};\n                 $BdrDiag = $format-&gt;{BdrDiag};\n                 $Fill = $format-&gt;{Fill};\n                 $Lock = $format-&gt;{Lock};\n                 $Hidden = $format-&gt;{Hidden};\n                 $Style = $format-&gt;{Style};\n\n\n                 $iFmt =\n                $template1-&gt;AddFormat(\n                    Font =&gt; $font,\n                    AlignH =&gt; $AlignH,\n                    AlignV =&gt; $AlignV,\n                    Indent =&gt; $Indent,\n                    Wrap =&gt; $Wrap,\n                    Shrink =&gt; $Shrink,\n                    Rotate =&gt; $Rotate,\n                    JustLast =&gt; $JustLast,\n                    ReadDir =&gt; $ReadDir,\n                    BdrStyle =&gt; $BdrStyle,\n                    BdrColor =&gt; $BdrColor,\n                    BdrDiag =&gt; $BdrDiag,\n                    Fill =&gt; $Fill,\n                    Lock =&gt; $Lock,\n                    Hidden =&gt; $Hidden,\n                    Style     =&gt;  $Style,\n                );\n\n\n                $worksheet11-&gt;AddCell($i, $j, $valua, $iFmt);\n            }\n        }   \n    }\n }\n\n\n\nmy $workbook3 = $template1-&gt;SaveAs(\"testing.xls\"); \n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563456933, "creation_date": 1560262287, "last_edit_date": 1560280002, "question_id": 56545694, "link": "https://stackoverflow.com/questions/56545694/unable-to-retain-the-format-in-copying-from-one-excel-file-to-another", "title": "Unable to retain the format in copying from one excel file to another", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::ParseExcel::SaveParser;\n\n# Open an existing file with SaveParser\nmy $parser   = Spreadsheet::ParseExcel::SaveParser-&gt;new();\nmy $template = $parser-&gt;Parse('template.xls');\n\nmy $parser1   = Spreadsheet::ParseExcel::SaveParser-&gt;new();\nmy $template1 = $parser1-&gt;Parse('test_perl.xls');\n\nmy $worksheet11 = $template-&gt;worksheet(0);\n\n $template1-&gt;AddWorksheet('New Data');\n\nmy $worksheet22 = $template1-&gt;worksheet(0);\n\nmy $cellz; my $valua;my $format_number;\n    for (my $i = 0; $i &lt; 400; $i++) {\n        for (my $j = 0; $j &lt; 20; $j++) {\n            $cellz = $worksheet11-&gt;get_cell( $i, $j );\n            if($cellz){\n                $valua = $cellz-&gt;unformatted(); $format_number = $cellz-&gt;{FormatNo};\n                $worksheet22-&gt;AddCell($i, $j, $valua,$format_number);\n            }\n        }   \n    }\n\nmy $workbook;\n$workbook = $template1-&gt;SaveAs('newfile1.xls');\n</code></pre>\n\n<p>I want to copy content from one excel file to another retaining the format too. Here by format I mean fill color, border, bold, italic, etc. I have written a code for this where I extract the value and format number from one excel file and simply write in the other excel sheet. I have referred the following link for that. </p>\n\n<p><a href=\"https://metacpan.org/pod/Spreadsheet::ParseExcel::SaveParser\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Spreadsheet::ParseExcel::SaveParser</a></p>\n\n<p>The problem is that it is not retaining the format. I think the problem is that the format number is not universal which means that a format number means two different things in two different excel files.\nWhen I run this code I get the error </p>\n\n<blockquote>\n  <p>Use of uninitialized value in hash element at /pkg/qct/software/perl/5.18.0_test/lib/site_perl/5.18.0/Spreadsheet/ParseExcel.pm line 2383.</p>\n</blockquote>\n\n<p>According to me, it means that the extracted format number doesn't mean anything to other file. Please let me know solution to this problem</p>\n\n<p>Basically what my problem is that I have modified two xls file using Spreadsheet::ParseExcel::SaveParser and I want to merge those two xls files using Perl. Please suggest a way of merging two xls files using Perl in any other way such that formatting is retained. Please suggest non-Perl way too using some other coding language.</p>\n\n<p>This question is also cross posted on perl-monks : \n<a href=\"https://perlmonks.org/index.pl?node_id=11101251\" rel=\"nofollow noreferrer\">https://perlmonks.org/index.pl?node_id=11101251</a></p>\n"}, {"tags": ["perl", "localization", "locale", "po"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1560259261, "post_id": 56544626, "comment_id": 99671032, "body": "Do you have .mo files as well?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1560259434, "post_id": 56544626, "comment_id": 99671160, "body": "Also, is the header of your .po file complete? There are some meta fields I recall are required."}], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 2158104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7efc202259cfefba27b9a6f73f3bea7b?s=128&d=identicon&r=PG", "display_name": "eraelpeha", "link": "https://stackoverflow.com/users/2158104/eraelpeha"}, "is_accepted": true, "score": 1, "last_activity_date": 1560515524, "creation_date": 1560515524, "answer_id": 56598294, "question_id": 56544626, "link": "https://stackoverflow.com/questions/56544626/localization-via-localemaketextsimple-always-falls-back-to-default-instead-o/56598294#56598294", "title": "Localization via Locale::Maketext::Simple always falls back to default instead of .po entry", "body": "<p>After some more digging and testing I finally found the issue for this behaviour, so here's my solution so far. Hope this may help others, because you rarely find any good documentation on this topic:</p>\n\n<p><strong>Add libraries</strong></p>\n\n<p>I added the library <a href=\"https://metacpan.org/pod/Locale::Maketext::Simple\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Locale::Maketext::Simple</a> as stated above, but forgot to add <a href=\"https://metacpan.org/pod/Locale::Maketext::Lexicon\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Locale::Maketext::Lexicon</a>.</p>\n\n<p>This took me quite long to see, because there were no exceptions or errors thrown, just... nothing.</p>\n\n<p>In the Maketext::Simple documentation it says </p>\n\n<blockquote>\n  <p>If Locale::Maketext::Lexicon is not present, it implements a minimal localization function by simply interpolating [_1] with the first argument, [_2] with the second, etc.</p>\n</blockquote>\n\n<p>what looks at a first glance that .po files are loaded without Maketext::Lexikon, but it simply replaces placeholders.</p>\n\n<p><strong>Other issues:</strong></p>\n\n<p>I then discovered that all string are translated, except for the ones with placeholders like [_1]. I could not find a reason for this, but I moved to</p>\n\n<pre><code>Style =&gt; 'gettext'\n</code></pre>\n\n<p>and replaced all <code>[_1]</code>, <code>[_2]</code>... with <code>%1</code>, <code>%2</code>... - that works like a charm.</p>\n"}], "owner": {"reputation": 341, "user_id": 2158104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7efc202259cfefba27b9a6f73f3bea7b?s=128&d=identicon&r=PG", "display_name": "eraelpeha", "link": "https://stackoverflow.com/users/2158104/eraelpeha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 56598294, "answer_count": 1, "score": 2, "last_activity_date": 1560515524, "creation_date": 1560258961, "last_edit_date": 1560324000, "question_id": 56544626, "link": "https://stackoverflow.com/questions/56544626/localization-via-localemaketextsimple-always-falls-back-to-default-instead-o", "title": "Localization via Locale::Maketext::Simple always falls back to default instead of .po entry", "body": "<p>In a perl Module I want to use <a href=\"https://metacpan.org/pod/Locale::Maketext::Simple\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Locale::Maketext::Simple</a> to convert strings to different languages.</p>\n\n<p>My .po files are located unter <code>/opt/x/languages</code>, e.g. <code>/opt/x/languages/en.po</code>.</p>\n\n<p>In my module I'm using the following header:</p>\n\n<pre><code>use Locale::Maketext::Simple (\n    Path =&gt; '/opt/x/languages',\n    Style =&gt; 'maketext'\n);\nloc_lang('en');\n</code></pre>\n\n<p>An entry in the .po files looks like this:</p>\n\n<pre><code>msgid \"string [_1] to be converted\"\nmsgstr \"string [_1] is converted\"\n</code></pre>\n\n<p>and the check via console with <code>msgfmt -c en.po</code> throws no errors so far.</p>\n\n<p>But when I'm converting a string with <code>loc()</code> like <code>loc(\"string [_1] to be converted\", \"xy\")</code> it gives me the output of \"string xy to be converted\" instead of \"string xy is converted\" as I would expect it. This looks to me like the .po files are not loaded correctly.</p>\n\n<p>How can I check what .po files are found during maketext instantiation? Or am I mixing things up and there' a general mistake?</p>\n\n<hr>\n\n<p><strong>Edit 1:</strong>\nThanks for the comments, but it still does not work. </p>\n\n<p>I've checked the files with <a href=\"https://poedit.net/\" rel=\"nofollow noreferrer\">https://poedit.net/</a> and created the corresponding .mo files (currently for de and en) with this tool as well. They are located next to the .po files (inside /opt/x/languages).</p>\n\n<p>For completeness, my header looks like this:</p>\n\n<pre><code># MY OWN LANGUAGE FILE (DE)\n# 06-2019 by me\n#\nmsgid \"\"\nmsgstr \"\"\n\"Project-Id-Version: 1.0.0\\n\"\n\"POT-Creation-Date: 2019-06-01 00:00+0100\\n\"\n\"PO-Revision-Date: 2019-06-02 00:00+0100\\n\"\n\"Last-Translator: thatsme &lt;me@me.de&gt;\\n\"\n\"Language-Team: unknown\\n\"\n\"Language: de\\n\"\n\"MIME-Version: 1.0\\n\"\n\"Content-Type: text/plain; charset=UTF-8\\n\"\n\"Content-Transfer-Encoding: 8bit\\n\"\n\"X-Generator: Poedit 2.2.3\\n\"\n\nmsgid \"string [_1] to be converted\"\nmsgstr \"string [_1] is converted\"\n</code></pre>\n"}, {"tags": ["perl", "solaris", "sparc", "libmemcached"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1560258616, "post_id": 56543340, "comment_id": 99670574, "body": "Try install <a href=\"https://metacpan.org/pod/Pod::Man\" rel=\"nofollow noreferrer\"><code>Pod::Man</code></a>. It should give you the script <a href=\"https://metacpan.org/pod/pod2man\" rel=\"nofollow noreferrer\"><code>pod2man</code></a>"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1560278771, "post_id": 56543340, "comment_id": 99681750, "body": "How do I do that Hakon?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1560278906, "post_id": 56543340, "comment_id": 99681806, "body": "There are many ways to install CPAN modules, see e.g. <a href=\"https://www.cpan.org/modules/INSTALL.html\" rel=\"nofollow noreferrer\">How to install CPAN modules</a>"}, {"owner": {"reputation": 3921, "user_id": 46220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc77d5a13726cfd5528da0f809153956?s=128&d=identicon&r=PG", "display_name": "alanc", "link": "https://stackoverflow.com/users/46220/alanc"}, "edited": false, "score": 0, "creation_date": 1560306399, "post_id": 56543340, "comment_id": 99688911, "body": "Do you have <code>&#47;usr&#47;perl5&#47;bin</code> in your <code>$PATH</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560327966, "post_id": 56551498, "comment_id": 99695616, "body": "I have found it thanks :). but I now have another problem, libmemcahced still wont compile propertly here is the output from the terminal in Solaris 10 SPARC"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328094, "post_id": 56551498, "comment_id": 99695680, "body": "[CODE} gmake[1]: Entering directory `/export/home/Repo/libmemcached-0.18/tests&#39; /bin/bash ../libtool --preserve-dup-deps --tag=CC   --mode=link gcc  -Wall -O3 -DMEMCACHED_INTERNAL    -o testapp test.o function.o server.o generator.o execute.o ../libmemcached/libmemcached.la [/CODE]"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328280, "post_id": 56551498, "comment_id": 99695776, "body": "gcc -Wall -O3 -DMEMCACHED_INTERNAL -o .libs/testapp test.o function.o server.o generator.o execute.o  ../libmemcached/.libs/libmemcached.so  -R/usr/local/lib"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328352, "post_id": 56551498, "comment_id": 99695811, "body": "Undefined   [[LARGE SPACE. AS THESE REPRESENT COLUMN HEADERS]]   first referenced"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328397, "post_id": 56551498, "comment_id": 99695837, "body": "sendto       [[LARGE SPACE]]                      ../libmemcached/.libs/libmemcached.so"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328435, "post_id": 56551498, "comment_id": 99695865, "body": "socket     [[LARGE SPACE]] \t\t    ../libmemcached/.libs/libmemcached.so"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328447, "post_id": 56551498, "comment_id": 99695870, "body": "setsockopt          [[LARGE SPACE]]    \t    ../libmemcached/.libs/libmemcached.so"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328467, "post_id": 56551498, "comment_id": 99695877, "body": "getsockopt           [[LARGE SPACE]]              ../libmemcached/.libs/libmemcached.so"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328487, "post_id": 56551498, "comment_id": 99695889, "body": "connect      [[LARGE SPACE]]           ../libmemcached/.libs/libmemcached.so"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328500, "post_id": 56551498, "comment_id": 99695900, "body": "getaddrinfo        [[LARGE SPACE]]                 ../libmemcached/.libs/libmemcached.so"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328513, "post_id": 56551498, "comment_id": 99695907, "body": "freeaddrinfo               [[LARGE SPACE]]          ../libmemcached/.libs/libmemcached.so"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328531, "post_id": 56551498, "comment_id": 99695915, "body": "ld: fatal: symbol referencing errors. No output written to .libs/testapp collect2: ld returned 1 exit status gmake[1]: *** [testapp] Error 1 gmake[1]: Leaving directory `/export/home/Repo/libmemcached-0.18/tests&#39; gmake: *** [all-recursive] Error 1"}, {"owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "edited": false, "score": 0, "creation_date": 1560328545, "post_id": 56551498, "comment_id": 99695927, "body": "HOW DO I GET AROUND THIS?"}], "tags": [], "owner": {"reputation": 2037, "user_id": 9812548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS24T.jpg?s=128&g=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/9812548/dan-anderson"}, "is_accepted": false, "score": 1, "last_activity_date": 1560286254, "creation_date": 1560286254, "answer_id": 56551498, "question_id": 56543340, "link": "https://stackoverflow.com/questions/56543340/trying-to-compile-libmemcached-in-solaris-10-sparc/56551498#56551498", "title": "Trying to compile libmemcached in Solaris 10 SPARC", "body": "<p>It should be under <code>/usr/perl5</code> somewhere. Try:\n<code>find /usr/perl5 -name pod2man</code>\nOr if you have a local version, look under <code>/usr/local</code>\nThen add the directory to your <code>$PATH</code> in <code>$HOME/.profile</code></p>\n"}, {"tags": [], "owner": {"reputation": 2037, "user_id": 9812548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS24T.jpg?s=128&g=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/9812548/dan-anderson"}, "is_accepted": false, "score": 1, "last_activity_date": 1560354698, "creation_date": 1560354698, "answer_id": 56566123, "question_id": 56543340, "link": "https://stackoverflow.com/questions/56543340/trying-to-compile-libmemcached-in-solaris-10-sparc/56566123#56566123", "title": "Trying to compile libmemcached in Solaris 10 SPARC", "body": "<p>For your other errors you need to link in libsocket, <code>-lsocket</code>. See the <em>Programming Interfaces Guide, Chapter 8 Socket Interfaces</em> at <a href=\"https://docs.oracle.com/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/</a>\n<a href=\"https://docs.oracle.com/cd/E19120-01/open.solaris/817-4415/sockets-85885/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19120-01/open.solaris/817-4415/sockets-85885/index.html</a></p>\n\n<p>In general, if you have a undefined interface error during linking, you need to add a library containing those missing interfaces.</p>\n"}], "owner": {"reputation": 71, "user_id": 11155556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556622d51dc1ab979a5ce7bb15849e9e?s=128&d=identicon&r=PG&f=1", "display_name": "greenelephant", "link": "https://stackoverflow.com/users/11155556/greenelephant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560354698, "creation_date": 1560254818, "question_id": 56543340, "link": "https://stackoverflow.com/questions/56543340/trying-to-compile-libmemcached-in-solaris-10-sparc", "title": "Trying to compile libmemcached in Solaris 10 SPARC", "body": "<p>I have a SPARC enterprise server with Solaris 10 SPARC OS installed.  I have unpacked the tarball file 'libmemcached-0.10.tar.gz' into a directory and I am trying to compile it. I get the following error on terminal</p>\n\n<pre><code>pod2man: command not found\n</code></pre>\n\n<p>What do I do next? </p>\n"}, {"tags": ["perl", "tr"], "comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560255975, "post_id": 56543259, "comment_id": 99668930, "body": "Welcome to the site!  Check out the <a href=\"https://stackoverflow.com/tour\">tour</a> and the <a href=\"https://stackoverflow.com/help/how-to-ask\">how-to-ask page</a> for more about asking questions that will attract quality answers.  You can <a href=\"https://stackoverflow.com/posts/56543259/edit\">edit your question</a> to include more information if anyone asks.  For example, including a sample of your <code>char_convert</code> file would make the question more complete.  However, as you already have an answer, it&#39;s probably not necessary in this situation :) ."}], "answers": [{"comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1560257098, "post_id": 56543482, "comment_id": 99669630, "body": "vlumi, I think you may also need <code>local $&quot;=&#39;&#39;</code> before evaluating <code>$statement</code>, depending on the Perl version.  On my test system, <code>my @a=1,2,3; &quot;@a&quot;</code> evaluates to <code>&quot;1 2 3&quot;</code> rather than to <code>&quot;123&quot;</code>, because the default <code>$&quot;</code> is <code>&quot; &quot;</code>.  See <a href=\"https://perldoc.pl/variables/%24%22\" rel=\"nofollow noreferrer\">perldoc</a>."}, {"owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1560257425, "post_id": 56543482, "comment_id": 99669831, "body": "@cxw As long as the spaces are in the same place on both sides, it doesn&#39;t actually matter, although it would be more fail-safe. Maybe even properly join them into scalar values and put those into the evaluated statement..."}, {"owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560342456, "post_id": 56543482, "comment_id": 99703869, "body": "@ikegami Fixed, I hope..?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560342540, "post_id": 56543482, "comment_id": 99703923, "body": "Never seen it used it with arrays before, but no reason it shouldn&#39;t. I tested it to be sure (<code>perl -E&#39;@a=qw(| |); say &quot;\\Q@a&quot;&#39;</code>)"}], "tags": [], "owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "is_accepted": false, "score": 3, "last_activity_date": 1560342347, "last_edit_date": 1560342347, "creation_date": 1560255253, "answer_id": 56543482, "question_id": 56543259, "link": "https://stackoverflow.com/questions/56543259/use-tr-with-arrays/56543482#56543482", "title": "Use tr with arrays", "body": "<p>Your <code>$statement</code> is a bit off, as the normal form would be <code>$line =~ tr/a/b/</code>, right? So should be like this:</p>\n\n<pre><code>my $statement = \"\\$line =~ tr/\\Q@from_set\\E/\\Q@to_set\\E/;\"\n</code></pre>\n\n<p>The <code>$line</code> should remain a variable during evaluation, so it is escaped as <code>\\$line</code>.  The contents of the <code>@from_set</code> and <code>@to_set</code> should be interpolated into <code>$statement</code>, so they are given without <code>\\</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560266839, "post_id": 56544864, "comment_id": 99675872, "body": "Injection bug! Use<code>&quot;tr&#47;\\Q$from\\E&#47;\\Q$to\\E&#47;&quot;</code>"}, {"owner": {"reputation": 1187, "user_id": 3205558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffc8fc604953fb170da4593973045d8?s=128&d=identicon&r=PG", "display_name": "vlumi", "link": "https://stackoverflow.com/users/3205558/vlumi"}, "edited": false, "score": 0, "creation_date": 1560298706, "post_id": 56544864, "comment_id": 99687685, "body": "You can use the join function to concatenate a list, i.e. my $from = join(&#39;&#39;, @from_set);"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560323655, "post_id": 56544864, "comment_id": 99693409, "body": "@ikegami: <code>\\Q</code> has no effect in transliterations."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1560341463, "post_id": 56544864, "comment_id": 99703239, "body": "1) That&#39;s no excuse for leaving a bug in your code, and 2) I didn&#39;t suggest you use it in a transliteration literal; I suggested you use it in a double-quoted string literal."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1560262185, "last_edit_date": 1560262185, "creation_date": 1560259638, "answer_id": 56544864, "question_id": 56543259, "link": "https://stackoverflow.com/questions/56543259/use-tr-with-arrays/56544864#56544864", "title": "Use tr with arrays", "body": "<p>There are a few problems here. They are mainly around the syntax of your <code>tr/../../</code> statement. It should be like this:</p>\n\n<pre><code>$line =~ tr/CHARS/CHARS/;\n</code></pre>\n\n<p>You have the <code>$line</code> in the wrong place and you're using backslashes instead of forward slashes (you can use forward slashes as the delimiter in a <code>tr/.../.../</code> statement, but remember that they have a special meaning in double-quoted strings).</p>\n\n<p>This seems to do what you want (I've switched to using the internal <code>DATA</code> filehandle for ease of testing.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\nuse utf8;\n\nmy @from;\nmy @to;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  my @conv = split;\n  push @from, $conv[0];\n  push @to,   $conv[1];\n}\n\nmy $line = 'PICA\u00d1A';\n\nmy $statement = \"\\$line =~ tr/@from/@to/\";\n\neval $statement;\n\nsay $line;\n\n__DATA__\n\u00d1 N\n\u00ca E\n</code></pre>\n\n<p>I don't, obviously, know exactly which characters you're dealing with here but it looks like you might find <a href=\"https://metacpan.org/pod/Text::Unidecode\" rel=\"nofollow noreferrer\">Text::Unidecode</a> useful.</p>\n\n<p><strong>Update:</strong> it's also worth pointing out that the <code>tr/.../.../</code> statement still isn't quite right (although it works). If you print <code>$statement</code>, you'll see it gives:</p>\n\n<pre><code>$line =~ tr/\u00d1 \u00ca/N E/\n</code></pre>\n\n<p>That extra space comes from the fact that Perl puts a space between array elements when there are interpolated in a double-quoted string. If you cared, you could fix that by setting <code>$\"</code> to an empty string.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>Having thought about it a little more, I think I wouldn't use arrays at all. Why not use scalars instead?</p>\n\n<pre><code>my $from = '';\nmy $to   = '';\n\n# And then, in the loop...\n\n$from .= $conv[0];\n$to   .= $conv[1];\n\n# And later still...\n\nmy $statement = \"\\$line =~ tr/$from/$to/\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 11630859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b390771b8b85623babd0fa33517a543a?s=128&d=identicon&r=PG&f=1", "display_name": "Graham Brigden", "link": "https://stackoverflow.com/users/11630859/graham-brigden"}, "edited": false, "score": 0, "creation_date": 1560332308, "post_id": 56547199, "comment_id": 99698051, "body": "Thanks for that. Helped a lot. As i said i am new to perl, so i will make &quot;stupid&quot; mistakes. But that is how we learn."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 41, "user_id": 11630859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b390771b8b85623babd0fa33517a543a?s=128&d=identicon&r=PG&f=1", "display_name": "Graham Brigden", "link": "https://stackoverflow.com/users/11630859/graham-brigden"}, "edited": false, "score": 0, "creation_date": 1560347341, "post_id": 56547199, "comment_id": 99707063, "body": "There was a bug I&#39;ve just fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1560347335, "last_edit_date": 1560347335, "creation_date": 1560267345, "answer_id": 56547199, "question_id": 56543259, "link": "https://stackoverflow.com/questions/56543259/use-tr-with-arrays/56547199#56547199", "title": "Use tr with arrays", "body": "<p>I'm assuming you went with <code>tr///</code> because it's faster than <code>s///</code>. If so, using <code>eval</code> each time you do a translation defies the purpose. The only way it's going to be faster if is you use <code>eval</code> once, but perform multiple transliterations.</p>\n\n<p>In addition to making it possible to use the compiled <code>tr///</code> multiple times, the following fixes the Perl syntax errors as well as the <a href=\"https://en.wikipedia.org/wiki/Code_injection\" rel=\"nofollow noreferrer\">code injection</a> bugs:</p>\n\n<pre><code>my $from_set = join '', @from_set;\nmy $to_set   = join '', @to_set;\n\nmy $tr = eval(\"sub { \\$_[0] =~ tr/\\Q$from_set\\E/\\Q$to_set\\E/r }\")\n   or die($@);\n\nmy $output = $tr-&gt;($input);\n</code></pre>\n\n<p>If, on the other hand, you're only performing the transliteration once, then you're making your life more complicated and slowing down your program for nothing by using <code>tr///</code>. Use <code>s///</code> instead.</p>\n\n<pre><code>my %map; @map{@from_set} = @to_set;\nmy $from_set = join '', @from_set;\nmy $re = qr/([\\Q$from_set\\E])/;\n\nmy $output = $input =~ s/$re/$map{$1}/gr;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 2, "last_activity_date": 1560267352, "creation_date": 1560267352, "answer_id": 56547203, "question_id": 56543259, "link": "https://stackoverflow.com/questions/56543259/use-tr-with-arrays/56547203#56547203", "title": "Use tr with arrays", "body": "<p>From Perl Mongers if you want safety against injection of slashes you should use quotemeta like this or use the @ikegami solution:</p>\n\n<pre><code>eval sprintf \"tr/%s/%s/\", map quotemeta, $oldlist, $newlist;\n</code></pre>\n\n<p><a href=\"https://www.perlmonks.org/?node_id=445971\" rel=\"nofollow noreferrer\">https://www.perlmonks.org/?node_id=445971</a></p>\n"}], "owner": {"reputation": 41, "user_id": 11630859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b390771b8b85623babd0fa33517a543a?s=128&d=identicon&r=PG&f=1", "display_name": "Graham Brigden", "link": "https://stackoverflow.com/users/11630859/graham-brigden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1560347335, "creation_date": 1560254553, "last_edit_date": 1592644375, "question_id": 56543259, "link": "https://stackoverflow.com/questions/56543259/use-tr-with-arrays", "title": "Use tr with arrays", "body": "<p>I am trying to use the tr function specifying two arrays, as the to and from sets. the translation doesn't seem to be working, or i am not understanding it correctly.\nI am new to perl, so please let me know if i am doing something wrong</p>\n<h1>I load the arrays as (I know this part works):</h1>\n<pre><code>open my $fh,'&lt;',&quot;${main_dir}/char_convert&quot; or die &quot;Cannot open allowed conversion file&quot;;\nmy @from_set;\nmy @to_set;\nmy @conversion;\nwhile (my $lines = &lt;$fh&gt;) {\n  @conversion = split(&quot; &quot;,$lines);\n  push @from_set,$conversion[0];\n  push @to_set,$conversion[1];\n}\n\n#The variable $line holds the data I want converted:\nmy $statement;\nmy $result;\n$statement = &quot;tr\\@from_set\\@to_set\\$line;&quot;; # Setup the tr command\n$result = eval($statement); # perform the conversion\nprint &quot;$line\\n&quot;;\n</code></pre>\n<p>the result is the same as the data going in. No conversion appears to have taken place.\nWhat am I doing wrong?</p>\n<p>An example part of the data is &quot;PICA\u00d1A&quot;.\nThe line in the conversion file is &quot;\u00d1 N&quot;\nSo I expect to get out &quot;PICANA&quot;, but I get the original data</p>\n<p>Thanks for looking</p>\n"}, {"tags": ["arrays", "perl", "foreach"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1560245530, "post_id": 56540013, "comment_id": 99662940, "body": "If I was reviewing your code at <code>$work</code> in a German company I would tell you that mixing German and English variable names is confusing. Stick to English so your company is able to hire foreigners that don&#39;t speak German. Especially if you work for a university."}, {"owner": {"reputation": 23, "user_id": 11629812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/167e8d04409fecf50458b1ee8b47d557?s=128&d=identicon&r=PG&f=1", "display_name": "felix", "link": "https://stackoverflow.com/users/11629812/felix"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1560246970, "post_id": 56540013, "comment_id": 99663744, "body": "You&#39;re absolutely right. I was just copy&#39;n pasting it. Sorry for the confusion."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1560244246, "creation_date": 1560244246, "answer_id": 56540221, "question_id": 56540013, "link": "https://stackoverflow.com/questions/56540013/perl-how-to-iterate-over-arrays-in-multiple-objects-and-extract-values-from-web/56540221#56540221", "title": "Perl: How to iterate over arrays in multiple objects and extract values from webservice", "body": "<p>Iterate over the items, for each item, iterate over the availabilities.</p>\n\n<pre><code>for my $i (0 .. $#{ $data-&gt;{document}[0]{item} }) {\n    print 'Item ', $i + 1, ': ';\n    for my $availability ($data-&gt;{document}[0]{item}[$i]{available}) {\n        for my $key (@$availability) {\n            print { interloan =&gt; 'ILL' }-&gt;{ $key-&gt;{service} } || ucfirst $key-&gt;{service},\n                \": available\\n\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11629812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/167e8d04409fecf50458b1ee8b47d557?s=128&d=identicon&r=PG&f=1", "display_name": "felix", "link": "https://stackoverflow.com/users/11629812/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 56540221, "answer_count": 1, "score": 2, "last_activity_date": 1560244246, "creation_date": 1560243480, "question_id": 56540013, "link": "https://stackoverflow.com/questions/56540013/perl-how-to-iterate-over-arrays-in-multiple-objects-and-extract-values-from-web", "title": "Perl: How to iterate over arrays in multiple objects and extract values from webservice", "body": "<p>I request a web service and get a JSON response:</p>\n\n<pre><code>{\n   \"timestamp\" : \"2019-06-11T08:04:35Z\",\n   \"version\" : \"0.5\",\n   \"document\" : [\n      {\n         \"href\" : \"http://opac.sub.uni-goettingen.de/DB=1/PPNSET?PPN=1629107239\",\n         \"item\" : [\n            {\n               \"href\" : \"http://opac.sub.uni-goettingen.de/DB=1/PPNSET?PPN=1629107239\",\n               \"label\" : \"40 623 a\",\n               \"id\" : \"http://uri.gbv.de/document/opac-de-7:epn:3421084610\",\n               \"available\" : [\n                  {\n                     \"service\" : \"presentation\"\n                  }\n               ],\n               \"unavailable\" : [\n                  {\n                     \"service\" : \"loan\"\n                  },\n                  {\n                     \"service\" : \"interloan\"\n                  }\n               ]\n            },\n            {\n               \"href\" : \"http://opac.sub.uni-goettingen.de/DB=1/PPNSET?PPN=1629107239\",\n               \"label\" : \"40 623 b\",\n               \"id\" : \"http://uri.gbv.de/document/opac-de-7:epn:342108467X\",\n               \"available\" : [\n                  {\n                     \"service\" : \"presentation\"\n                  }\n               ],\n               \"unavailable\" : [\n                  {\n                     \"service\" : \"loan\"\n                  },\n                  {\n                     \"service\" : \"interloan\"\n                  }\n               ]\n            }\n         ],\n         \"id\" : \"http://uri.gbv.de/document/opac-de-7:ppn:1629107239\"\n      }\n   ],\n   \"institution\" : {\n      \"href\" : \"http://www.sub.uni-goettingen.de\",\n      \"content\" : \"Nieders\u00e4chsische Staats- und Universit\u00e4tsbibliothek G\u00f6ttingen\",\n      \"id\" : \"http://uri.gbv.de/organization/isil/DE-7\"\n   }\n}\n</code></pre>\n\n<p>Then I parse the JSON with Perls Dumper::Data module:</p>\n\n<pre><code>my $data = decode_json($resultJson);\nprint Dumper($data);\n</code></pre>\n\n<p>It looks like:</p>\n\n<pre><code>$VAR1 = {\n          'document' =&gt; [\n                          {\n                            'item' =&gt; [\n                                        {\n                                          'available' =&gt; [\n                                                           {\n                                                             'service' =&gt; 'presentation'\n                                                           }\n                                                         ],\n                                          'id' =&gt; 'http://uri.gbv.de/document/opac-de-7:epn:3421084610',\n                                          'href' =&gt; 'http://opac.sub.uni-goettingen.de/DB=1/PPNSET?PPN=1629107239',\n                                          'label' =&gt; '40 623 a',\n                                          'unavailable' =&gt; [\n                                                             {\n                                                               'service' =&gt; 'loan'\n                                                             },\n                                                             {\n                                                               'service' =&gt; 'interloan'\n                                                             }\n                                                           ]\n                                        },\n                                        {\n                                          'available' =&gt; [\n                                                           {\n                                                             'service' =&gt; 'presentation'\n                                                           }\n                                                         ],\n                                          'unavailable' =&gt; [\n                                                             {\n                                                               'service' =&gt; 'loan'\n                                                             },\n                                                             {\n                                                               'service' =&gt; 'interloan'\n                                                             }\n                                                           ],\n                                          'id' =&gt; 'http://uri.gbv.de/document/opac-de-7:epn:342108467X',\n                                          'label' =&gt; '40 623 b',\n                                          'href' =&gt; 'http://opac.sub.uni-goettingen.de/DB=1/PPNSET?PPN=1629107239'\n                                        }\n                                      ],\n                            'id' =&gt; 'http://uri.gbv.de/document/opac-de-7:ppn:1629107239',\n                            'href' =&gt; 'http://opac.sub.uni-goettingen.de/DB=1/PPNSET?PPN=1629107239'\n                          }\n                        ],\n          'institution' =&gt; {\n                             'content' =&gt; \"Nieders\\x{e4}chsische Staats- und Universit\\x{e4}tsbibliothek G\\x{f6}ttingen\",\n                             'id' =&gt; 'http://uri.gbv.de/organization/isil/DE-7',\n                             'href' =&gt; 'http://www.sub.uni-goettingen.de'\n                           },\n          'timestamp' =&gt; '2019-06-11T08:04:35Z',\n          'version' =&gt; '0.5'\n        };\n</code></pre>\n\n<p>I would like to display the availability of each item, but I'm having a hard time iterating through the arrays inside the objects. My actual code looks like:</p>\n\n<pre><code>my $availability = $data-&gt;{document}[0]-&gt;{item}[0]-&gt;{available};\n\nforeach my $key (@{$availability}) {\n    if (($key-&gt;{'service'}) eq \"loan\") {\n        print $rueckgabe = \"Loan: available.\\n\";\n    } elsif (($key-&gt;{'service'}) eq \"presentation\") {\n        print $rueckgabe = \"Presentation: available.\\n\";\n    } elsif (($key-&gt;{'service'}) eq \"interloan\") {\n        print $rueckgabe = \"ILL: available.\\n\";\n    } \n}\n</code></pre>\n\n<p>My expected result would be:</p>\n\n<p>Item 1: Loan: available.</p>\n\n<p>Item 2: Loan: available.</p>\n"}, {"tags": ["file", "perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560263723, "post_id": 56539854, "comment_id": 99673850, "body": "I recommend using <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> to write out the CSV lines so that any edge cases are handled nicely."}], "answers": [{"comments": [{"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 1, "creation_date": 1560244142, "post_id": 56540065, "comment_id": 99662135, "body": "<a href=\"https://metacpan.org/pod/Regexp::Common::net\" rel=\"nofollow noreferrer\">Available ones for <code>Regexp::Common::net</code></a> (13)."}, {"owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1566978835, "post_id": 56540065, "comment_id": 101819957, "body": "@choroba,I try to use as you said ,but still can not work"}, {"owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "edited": false, "score": 0, "creation_date": 1566979261, "post_id": 56540065, "comment_id": 101820159, "body": "use Regexp::Common qw( net );                                                                    open my $fh, &#39;&lt;&#39;, &#39;in.txt&#39;; open my $fo, &#39;&gt;&#39;, &#39;out.csv&#39;; while (&lt;$fh&gt;) {    my @columns = split &#39; &#39;;    next unless $columns[0] =~ /$RE{net}{IPv4}/;     say {$fo} join &#39;,&#39;, @columns;     }"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 7, "last_activity_date": 1566992833, "last_edit_date": 1566992833, "creation_date": 1560243667, "answer_id": 56540065, "question_id": 56539854, "link": "https://stackoverflow.com/questions/56539854/how-do-i-check-for-ip-address-validity-in-a-file/56540065#56540065", "title": "How do I check for IP address validity in a file?", "body": "<p><a href=\"http://p3rl.org/Regexp::Common\" rel=\"nofollow noreferrer\">Regexp::Common</a> contains the regex you need:</p>\n\n<pre><code>use feature qw{ say };\nuse Regexp::Common qw( net );\n\n# ...\nmy @columns = split;\nnext unless $columns[0] =~ /$RE{net}{IPv4}/;\nsay {$fo} join ',', @columns;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1560263633, "creation_date": 1560263633, "answer_id": 56546121, "question_id": 56539854, "link": "https://stackoverflow.com/questions/56539854/how-do-i-check-for-ip-address-validity-in-a-file/56546121#56546121", "title": "How do I check for IP address validity in a file?", "body": "<p><a href=\"https://metacpan.org/pod/Data::Validate::IP\" rel=\"nofollow noreferrer\">Data::Validate::IP</a> can also solve this specific task.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Validate::IP 'is_ipv4';\n\n...\n\nnext unless is_ipv4 $columns[0];\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 6556472, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7f757612a859544a6a92c997e4ba40c8?s=128&d=identicon&r=PG&f=1", "display_name": "georgetovrea", "link": "https://stackoverflow.com/users/6556472/georgetovrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566992833, "creation_date": 1560242912, "last_edit_date": 1560243771, "question_id": 56539854, "link": "https://stackoverflow.com/questions/56539854/how-do-i-check-for-ip-address-validity-in-a-file", "title": "How do I check for IP address validity in a file?", "body": "<p>I have an information report in a text file, and I want to export them to CSV format and only for those lines that are in IPv4 format (by the first column). How do I do that in Perl? </p>\n\n<pre><code>10.10.10.1      10.10.11.11    51251    445      2019-03-05 11:59:29.008   29.156     ......\n10.10.10.2      10.10.11.22    51234    123      2019-03-05 11:40:29.008   30.156     .A..SF\n2001:288:8900:c400:2018:8ce:1ca8:9cb0                  2404:6800:4012:1::200e  62105    443 2019-03-04 23:59:32.458     0.340 17    ......   0        8     4763     1\n2001:288:8001:c200:3171:3abcd:28af:7e8f                  2404:6800:4008:c04::bc  50286    443 2019-03-04 23:59:32.471     0.000 6     .A....   0        1       61     1\n</code></pre>\n\n<p>I only want to get the lines that are in IPv4 format as below,</p>\n\n<pre><code>10.10.10.1      10.10.11.11    51251    445      2019-03-05 11:59:29.008   29.156     ......\n10.10.10.2      10.10.11.22    51234    123      2019-03-05 11:40:29.008   30.156     .A..SF\n</code></pre>\n\n<p>My code,</p>\n\n<pre><code>open my $fh, '&lt;', 'in.txt';\nopen my $fo, '&gt;', 'out.csv';\nwhile (&lt;$fh&gt;) {\n    next if ($. == 1);\n    s/^\\s+//;\n    my $text = (join ',', (split /\\s+/, $_)).\"\\n\";\n        print $fo $text;\n    }\n</code></pre>\n\n<p>How do I test if the first column is in IPv4 format?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1446, "user_id": 6592881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ciVbN.jpg?s=128&g=1", "display_name": "Sfili_81", "link": "https://stackoverflow.com/users/6592881/sfili-81"}, "edited": false, "score": 0, "creation_date": 1560235420, "post_id": 56537698, "comment_id": 99657823, "body": "please provide your code not only what you want"}, {"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "reply_to_user": {"reputation": 1446, "user_id": 6592881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ciVbN.jpg?s=128&g=1", "display_name": "Sfili_81", "link": "https://stackoverflow.com/users/6592881/sfili-81"}, "edited": false, "score": 0, "creation_date": 1560236055, "post_id": 56537698, "comment_id": 99658132, "body": "i update my question, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1560234936, "post_id": 56537726, "comment_id": 99657574, "body": "Perl isn&#39;t PHP, you are allowed to combined expressions. <code>(split &#39;&#47;&#39;, &#39;hdkhehfkf&#47;kfkjhoer&#39;)[0]</code> does the same, but shorter."}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1560235521, "post_id": 56537726, "comment_id": 99657876, "body": "@daxim Believe it or not, I don&#39;t really know PHP or Perl <code>:P</code>"}], "tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 1, "last_activity_date": 1560234461, "creation_date": 1560234461, "answer_id": 56537726, "question_id": 56537698, "link": "https://stackoverflow.com/questions/56537698/how-to-delete-part-of-string-starting-with-slash/56537726#56537726", "title": "How to delete part of string starting with slash", "body": "<p>You could try splitting your input string on <code>/</code>, and then just retaining the first part after the split:</p>\n\n<pre><code>my $input = 'hdkhehfkf/kfkjhoer';   \nmy @parts = split /\\//, $input;\nprint $parts[0];\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>hdkhehfkf\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 1, "last_activity_date": 1560234846, "creation_date": 1560234846, "answer_id": 56537810, "question_id": 56537698, "link": "https://stackoverflow.com/questions/56537698/how-to-delete-part-of-string-starting-with-slash/56537810#56537810", "title": "How to delete part of string starting with slash", "body": "<p>Use the <a href=\"http://p3rl.org/perlop#s/PATTERN/REPLACEMENT/msixpodualngcer\" rel=\"nofollow noreferrer\">substitution operator</a>.</p>\n\n<p>Expression</p>\n\n<pre><code>'hdkhehfkf/kfkjhoer' =~ s|/.*||r\n</code></pre>\n\n<p>returns string</p>\n\n<pre><code>'hdkhehfkf'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560236118, "post_id": 56537852, "comment_id": 99658170, "body": "I edit my question. can you please review it again? thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560236255, "post_id": 56537852, "comment_id": 99658241, "body": "@daffodil Oh, I see.  Your code doesn&#39;t show where to do this -- do you mean to make these changes to each line of the input file?"}, {"owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560236483, "post_id": 56537852, "comment_id": 99658355, "body": "yup, the code above doesn&#39;t do anything. it just print out the the contents of the file. Need help on how want to make changes to show just like the output above"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560236563, "post_id": 56537852, "comment_id": 99658403, "body": "@daffodil OK, but make changes to what?  To every line of the file?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "edited": false, "score": 0, "creation_date": 1560239194, "post_id": 56537852, "comment_id": 99659618, "body": "@daffodil Added some comments on the code in the question"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1577390858, "last_edit_date": 1577390858, "creation_date": 1560235021, "answer_id": 56537852, "question_id": 56537698, "link": "https://stackoverflow.com/questions/56537698/how-to-delete-part-of-string-starting-with-slash/56537852#56537852", "title": "How to delete part of string starting with slash", "body": "<p>To remove the last slash in the string and everything after it</p>\n\n<pre><code>$string =~ s{.*\\K/.*}{};\n</code></pre>\n\n<p>where <code>\\K</code> drops all previous matches, so that they aren't \"consumed\" (from the string) so we don't have to capture and put back the first <code>.*</code>. See \"<em>Lookaround Assertions</em>\" <a href=\"https://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">in Extended Patterns in perlre</a> for <code>\\K</code>. We need that first <code>.*</code> in order to get to the last <code>/</code>, by the greediness of <code>*</code>.</p>\n\n<p>To remove the first slash in the string and everything after it</p>\n\n<pre><code>$string =~ s{/.*}{};\n</code></pre>\n\n<p>I use <code>{}{}</code> delimiters to not have to escape <code>/</code> in patterns.</p>\n\n<p>For your example either of these works.  They both change <code>$string</code>, which you can then print.</p>\n\n<p>(If this is about working with paths then I suggest to use some of the good modules for that)</p>\n\n<hr>\n\n<p><em>The question got edited substantially, with code added</em></p>\n\n<p>To run this for every line of a file, and save output in another file</p>\n\n<pre><code>open my $fh_out, '&gt;', $outfile or die \"Can't open $outfile: $!\";\nopen my $fh,     '&lt;', $file    or die \"Can't open $file: $!\";\n\nwhile (&lt;$fh&gt;) {\n    print $fh_out s{.*\\K/.*}{}r;\n}\n\nclose $_ for $fh, $fh_out.\n</code></pre>\n\n<p>where I use the <a href=\"https://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">modifier</a> <code>/r</code>, for \"<em>non-destructive substitution</em>\", with which the changed string is returned (and original left unchanged), just as needed to print directly to the file.</p>\n\n<p>This removes the last <code>/</code> and all after it, the first case above; change to <code>s{/.*}{}r</code> if needed. </p>\n\n<p>A few comments on the code in the question</p>\n\n<ul>\n<li><p>Always pass to a sub all that it needs from outside; relying on the sub to \"see\" variables from the surrounding scope is outright dangerous. In your case that would mean</p>\n\n<pre><code>sub process_file_to_output {          # find a suitable name\n    my ($dir, $file, $fh_out) = @_;\n    ...\n}\n</code></pre>\n\n<p>and you'd call it as</p>\n\n<pre><code>process_file_to_output($dirname, $file, $outfile_handle);\n</code></pre>\n\n<p>where <code>$outfile_handle</code> is the (lexical!) filehandle for the output file, if you wish to open the output file in the caller as in the question.</p></li>\n<li><p>Naming a sub <code>main</code> isn't very informative.  Choosing good names for variables and functions (and other program elements) turns out to be very important in programming.</p></li>\n<li><p>Use lexical filehandles and three-argument open for the output file, and check the <code>open</code> call, just as you nicely do for the input file (in the sub)</p></li>\n</ul>\n"}], "owner": {"reputation": 197, "user_id": 10549531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40683992799fac6c9e09f03c2697e1b8?s=128&d=identicon&r=PG&f=1", "display_name": "daffodil", "link": "https://stackoverflow.com/users/10549531/daffodil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 56537852, "answer_count": 3, "score": 1, "last_activity_date": 1577390858, "creation_date": 1560234346, "last_edit_date": 1560271978, "question_id": 56537698, "link": "https://stackoverflow.com/questions/56537698/how-to-delete-part-of-string-starting-with-slash", "title": "How to delete part of string starting with slash", "body": "<p>How I want to remove all string after slash using perl script? let say I have input file as below</p>\n\n<p>For example:</p>\n\n<pre><code>hdkhehfkf/kfkjhoer\n082734708/92740234\n</code></pre>\n\n<p>The output that i want is </p>\n\n<pre><code>hdkhehfkf\n082734708\n</code></pre>\n\n<p>here is my code</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file  = \"file.sv\";\nmy $dirname       = \"../../../folder/\";\n\nopen ( OUTFILE, \"&gt;uncompile_test.txt\" );\nmain ();\nclose OUTFILE;\n\n\nsub main {\n   my @array;\n\n   open( my $fh, \"&lt;\", \"$dirname/$file\")\n       or die \"Failed to open file: $!\\n\";\n\n   while(&lt;$fh&gt;) { \n       push @array, $_; \n   } \n\n   close $fh;\n\n   print OUTFILE \" \", @array;   \n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 11376625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610bd90d065a524293fab0a6daee57c4?s=128&d=identicon&r=PG&f=1", "display_name": "adhoc", "link": "https://stackoverflow.com/users/11376625/adhoc"}, "edited": false, "score": 0, "creation_date": 1560206518, "post_id": 56534122, "comment_id": 99651717, "body": "This is really close. The only thing it&#39;s missing is capturing names like O&#39;neil or O&#39;Leary. How do I add the check for names containing apostrophes? Thanks so much!!!"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 4, "creation_date": 1560206960, "post_id": 56534122, "comment_id": 99651810, "body": "<code>\\w</code> is the character class for word characters (letters, numbers, and underscore, including unicode characters that fit this category). You can create a character class with additional characters or other customizations like: <code>[\\w&#39;]</code> See the <a href=\"https://perldoc.pl/perlrecharclass\" rel=\"nofollow noreferrer\">docs</a>. (This is for Perl regex since that&#39;s tagged on the question, other regex engines including PCRE may have different capabiliites.)"}], "tags": [], "owner": {"reputation": 963, "user_id": 11117210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d5aa68aac6b9fe841dc9221c477dd8?s=128&d=identicon&r=PG&f=1", "display_name": "truth", "link": "https://stackoverflow.com/users/11117210/truth"}, "is_accepted": true, "score": 4, "last_activity_date": 1560204514, "creation_date": 1560204514, "answer_id": 56534122, "question_id": 56534082, "link": "https://stackoverflow.com/questions/56534082/how-do-i-get-all-words-that-begin-with-a-capital-letter-following-a-specific-str/56534122#56534122", "title": "How do I get all words that begin with a capital letter following a specific string?", "body": "<p>How do you like <code>/Name ((?:[A-Z]\\w+[ -]?)+)/</code>?</p>\n\n<p>Regex101: <a href=\"https://regex101.com/r/BFJBpZ/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/BFJBpZ/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1560221166, "post_id": 56534433, "comment_id": 99654207, "body": "Nice idea --- perhaps, as it may not be &quot;<i>is</i>&quot;, just any low-case word (so after a word boundary), something like <code>&#47;\\b([A-Z].+?)\\b[a-z.!?]&#47;</code> ... (probably needs tweaking, specially for the possible end of sentence after the name) ?"}], "tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 1, "last_activity_date": 1560225489, "last_edit_date": 1560225489, "creation_date": 1560207222, "answer_id": 56534433, "question_id": 56534082, "link": "https://stackoverflow.com/questions/56534082/how-do-i-get-all-words-that-begin-with-a-capital-letter-following-a-specific-str/56534433#56534433", "title": "How do I get all words that begin with a capital letter following a specific string?", "body": "<p>My guess is that, this simple expression might work, if we always have <code>is</code> after our desired output:</p>\n\n<pre><code>Name is (.+?) is.+\n</code></pre>\n\n<h3>Test</h3>\n\n<pre><code>use strict;\n\nmy $str = 'Name is William Bob Francis Ford Coppola-Mr-Cool King-Of-The-Mountain is a fake name.\n';\nmy $regex = qr/Name is (.+?) is.+/mp;\n\nif ( $str =~ /$regex/g ) {\n  print \"Whole match is ${^MATCH} and its start/end positions can be obtained via \\$-[0] and \\$+[0]\\n\";\n  # print \"Capture Group 1 is $1 and its start/end positions can be obtained via \\$-[1] and \\$+[1]\\n\";\n  # print \"Capture Group 2 is $2 ... and so on\\n\";\n}\n\n# ${^POSTMATCH} and ${^PREMATCH} are also available with the use of '/p'\n# Named capture groups can be called via $+{name}\n</code></pre>\n\n<h3><a href=\"https://regex101.com/r/O9Yyq0/1\" rel=\"nofollow noreferrer\">Demo</a></h3>\n\n<h3>RegEx Circuit</h3>\n\n<p><a href=\"https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb)*%3F%24\" rel=\"nofollow noreferrer\">jex.im</a> visualizes regular expressions:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZqStV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZqStV.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Advice</h3>\n\n<p><a href=\"https://stackoverflow.com/users/4653379/zdim\">zdim</a> advises that: </p>\n\n<blockquote>\n  <p>Perhaps, as it may not be \"is\", just any low-case word (so after a\n  word boundary), something like <code>/\\b([A-Z].+?)\\b[a-z.!?]/</code> ...\n  (probably needs tweaking, specially for the possible end of sentence\n  after the name) ?</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1146, "user_id": 4969849, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8ef156578a98474c5e459856ad268159?s=128&d=identicon&r=PG&f=1", "display_name": "JBone", "link": "https://stackoverflow.com/users/4969849/jbone"}, "is_accepted": false, "score": 0, "last_activity_date": 1560208684, "last_edit_date": 1560208684, "creation_date": 1560208350, "answer_id": 56534564, "question_id": 56534082, "link": "https://stackoverflow.com/questions/56534082/how-do-i-get-all-words-that-begin-with-a-capital-letter-following-a-specific-str/56534564#56534564", "title": "How do I get all words that begin with a capital letter following a specific string?", "body": "<p>This worked when I tested with regex101.com. Please check and let me know if this works for you</p>\n\n<pre><code>  /Name is (([\\s]*[A-Z][-a-z]*)*)/\n</code></pre>\n\n<p>Group 1 has this <code>William Bob Francis Ford Coppola-Mr-Cool King-Of-The-Mountain</code></p>\n\n<p>and test it on this link below</p>\n\n<p><a href=\"https://regex101.com/r/M2V2in/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/M2V2in/2</a></p>\n"}, {"comments": [{"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 1, "creation_date": 1560245517, "post_id": 56535328, "comment_id": 99662936, "body": "This is not unicode sensible, imagine someone with a &#209; in his name, it will be out of the range A-Z."}], "tags": [], "owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "is_accepted": false, "score": 1, "last_activity_date": 1560217015, "last_edit_date": 1560217015, "creation_date": 1560216642, "answer_id": 56535328, "question_id": 56534082, "link": "https://stackoverflow.com/questions/56534082/how-do-i-get-all-words-that-begin-with-a-capital-letter-following-a-specific-str/56535328#56535328", "title": "How do I get all words that begin with a capital letter following a specific string?", "body": "<p>You can use:</p>\n\n<pre><code>Name\\b[\\sa-z]*\\K(?:[A-Z][a-z]+[\\s-]*)+(?=\\s[a-z])\n</code></pre>\n\n<p>where </p>\n\n<ul>\n<li><code>\\K</code> resets the starting point of the matching after having matched <code>Name</code> followed by some words in lower case</li>\n<li><code>(?:[A-Z][a-z]+[\\s-]*)+</code> will match all the words starting with a capital letter</li>\n<li><code>(?=\\s[a-z])</code> add the constraint that the following word starts with a lower case letter</li>\n</ul>\n\n<p><strong>demo:</strong> <a href=\"https://regex101.com/r/WBrdFU/1/\" rel=\"nofollow noreferrer\">https://regex101.com/r/WBrdFU/1/</a></p>\n\n<p><strong>Notes:</strong> </p>\n\n<blockquote>\n  <p>you shouldn't use the <code>i</code> option in your regex, if you do so all of\n  your char classes <code>[A-Z]</code> will at the same time match upper case\n  letters but also lower case letters... This would prevent you from\n  selecting the words that start with a capital letter!!!</p>\n</blockquote>\n\n<p><strong>Adding the names with apostrophe</strong>:</p>\n\n<pre><code>Name\\b[\\sa-z]*\\K(?:[A-Z][a-z'\\s-]*?)+(?=\\s[a-z])\n</code></pre>\n\n<p><strong>demo</strong>: <a href=\"https://regex101.com/r/WBrdFU/3/\" rel=\"nofollow noreferrer\">https://regex101.com/r/WBrdFU/3/</a></p>\n"}], "owner": {"reputation": 147, "user_id": 11376625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610bd90d065a524293fab0a6daee57c4?s=128&d=identicon&r=PG&f=1", "display_name": "adhoc", "link": "https://stackoverflow.com/users/11376625/adhoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 1, "accepted_answer_id": 56534122, "answer_count": 4, "score": 6, "last_activity_date": 1560225489, "creation_date": 1560204237, "last_edit_date": 1560216115, "question_id": 56534082, "link": "https://stackoverflow.com/questions/56534082/how-do-i-get-all-words-that-begin-with-a-capital-letter-following-a-specific-str", "title": "How do I get all words that begin with a capital letter following a specific string?", "body": "<p>I have some text that could look something like this:</p>\n\n<pre><code>Name is William Bob Francis Ford Coppola-Mr-Cool King-Of-The-Mountain is a fake name.\n</code></pre>\n\n<p>I would like to run a regular expression against that string and pull out </p>\n\n<pre><code>William Bob Francis Ford Coppola-Mr-Cool King-Of-The-Mountain \n</code></pre>\n\n<p>as a match.</p>\n\n<p>My current regex looks like this:</p>\n\n<pre class=\"lang-regex prettyprint-override\"><code>/\\b((NAME\\s\\s*)(((\\s*\\,*\\s*)? *)(([A-Z\\'\\-])([A-Za-z\\'\\-]+)*\\s*){2,})?)\\b/ig\n</code></pre>\n\n<p>and it does most of what I want but it's not perfect. Instead of just getting the name, it is also getting the \"is a\" following the name like this:</p>\n\n<pre><code>\"William Bob Francis Ford Coppola-Mr-Cool King-Of-The-Mountain is a\"\n</code></pre>\n\n<p>What is a regex formula to get only the words starting with a capital letter following the \"Name\" label and end when the next word starts with a lowercase after a space?</p>\n"}, {"tags": ["perl", "anonymous-function"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560203925, "post_id": 56533361, "comment_id": 99651157, "body": "Re your update: That&#39;s not true. Don&#39;t need an IIFE for while loops (incl C-style for loops) either. There&#39;s never a reason to use an IIFE in Perl."}, {"owner": {"reputation": 2349, "user_id": 6794384, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153707640356246/picture?type=large", "display_name": "drclaw", "link": "https://stackoverflow.com/users/6794384/drclaw"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560209816, "post_id": 56533361, "comment_id": 99652351, "body": "I&#39;m definitely seeing a difference in the c loop. I&#39;ve updated my question again hopefully makes my results a little clearer (or what I&#39;m doing wrong!). Thanks for taking the time to review my question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560211353, "post_id": 56533361, "comment_id": 99652610, "body": "I didn&#39;t say there was no difference. I said an IIFE isn&#39;t needed there either. See my answer!!"}, {"owner": {"reputation": 2349, "user_id": 6794384, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153707640356246/picture?type=large", "display_name": "drclaw", "link": "https://stackoverflow.com/users/6794384/drclaw"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560213120, "post_id": 56533361, "comment_id": 99652911, "body": "ahhh.. right.. now it makes more sense (re reading helps ). thanks for your time."}], "answers": [{"comments": [{"owner": {"reputation": 2349, "user_id": 6794384, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153707640356246/picture?type=large", "display_name": "drclaw", "link": "https://stackoverflow.com/users/6794384/drclaw"}, "edited": false, "score": 0, "creation_date": 1560202090, "post_id": 56533570, "comment_id": 99650620, "body": "hmm using <code>for my $i (0..2)</code> gives the expected output of <code>0 1 2</code>, with direct assignment of the sub into the array. But testing the c style loop outputs  `3 3 3&#39; with the sub is assigned directly. Same with using push in a c style loop."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560202665, "post_id": 56533570, "comment_id": 99650799, "body": "Lexical scoping ftw."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1560202766, "post_id": 56533570, "comment_id": 99650828, "body": "@Grinnz, Yeah. JS introduced <code>let</code> as an alternative to <code>var</code>. <code>let</code> is scoped to blocks like <code>my</code> in Perl, except that <code>let</code> vars can&#39;t be captured :("}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1560203843, "last_edit_date": 1560203843, "creation_date": 1560200942, "answer_id": 56533570, "question_id": 56533361, "link": "https://stackoverflow.com/questions/56533361/best-way-to-immediately-invoked-function-expression-iife-in-perl/56533570#56533570", "title": "Best way to Immediately Invoked Function Expression (IIFE) in perl?", "body": "<p>The Perl equivalent of</p>\n\n<pre><code>(function () {\n   var x = ...;\n   ...\n})();\n</code></pre>\n\n<p>is</p>\n\n<pre><code>sub {\n   my $x = ...;\n   ...\n}-&gt;();\n</code></pre>\n\n<p>That said, the IIFE is just a workaround that's simply not needed in Perl.</p>\n\n<pre><code>(function () {\n   var x = ...;\n   ...\n})();\n</code></pre>\n\n<p>is a workaround for</p>\n\n<pre><code>{\n   my $x = ...;\n   ...\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var result = (function () {\n   return ...;\n})();\n</code></pre>\n\n<p>is a workaround for</p>\n\n<pre><code>my $result = do {\n   ...\n};\n</code></pre>\n\n<hr>\n\n<p>It looks like you are trying to translate something similar to the following:</p>\n\n<pre><code>let funcs = [];\nfor (let i=0; i&lt;3; ++i) {\n   (function() {\n      var index = i;\n      funcs.push( function() { return index; } );\n   })();\n}\n\nfor (let func of funcs)\n   console.log(func());\n</code></pre>\n\n<p>The following is the direct translation:</p>\n\n<pre><code>my @funcs;\nfor (my $i=0; $i&lt;3; ++$i) {\n   sub {\n      my $index = $i;\n      push @funcs, sub { $index };\n   }-&gt;();\n}\n\nsay $_-&gt;() for @funcs;\n</code></pre>\n\n<p>But there's simply no point in using an IIFE. One would simply use the following:</p>\n\n<pre><code>my @funcs;\nfor (my $i=0; $i&lt;3; ++$i) {\n   my $index = $i;\n   push @funcs, sub { $index };\n}\n\nsay $_-&gt;() for @funcs;\n</code></pre>\n\n<p>Now, one tends to avoid C-style for loops in Perl because using foreach loops are far more readable (and more efficient!). It also makes the solution even simpler because the loop variable of a foreach loop is scoped to the body of the loop rather than scoped to the loop statement.</p>\n\n<pre><code>my @funcs;\nfor my $i (0..2) {\n   push @funcs, sub { $i };\n}\n\nsay $_-&gt;() for @funcs;\n</code></pre>\n"}], "owner": {"reputation": 2349, "user_id": 6794384, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153707640356246/picture?type=large", "display_name": "drclaw", "link": "https://stackoverflow.com/users/6794384/drclaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 56533570, "answer_count": 1, "score": 2, "last_activity_date": 1560213284, "creation_date": 1560199867, "last_edit_date": 1560213284, "question_id": 56533361, "link": "https://stackoverflow.com/questions/56533361/best-way-to-immediately-invoked-function-expression-iife-in-perl", "title": "Best way to Immediately Invoked Function Expression (IIFE) in perl?", "body": "<p>Borrowing the the term form a Javascript, what is the 'best practice' way to IIFE in perl?</p>\n\n<p>My test code below is a simple loop calling anonymous sub and executing it right away to build an array of subs (which just return the loop index). It is mostly what I want, however I'm needing to use an intermediate variable ( instead of using @_, which changes on the internal function).</p>\n\n<pre><code>use warnings;\nuse strict;\nmy @funcs;\nfor(my $i=0;$i&lt;3;$i++) {\n    sub  {\n        my $index=shift;\n        $funcs[$index]=sub {$index};\n    }\n    -&gt; ($i);\n}\n\nfor (@funcs) {\n    print &amp;$_().\"\\n\";\n}\n</code></pre>\n\n<pre><code>#Output\n0\n1\n2\n</code></pre>\n\n<p>I know I can use <code>map</code> to restructure this problem. But putting that aside, is there a better way to do this?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to @ikegami for highlighting some important points.</p>\n\n<p>Just for future views of this question, my thoughts on this:</p>\n\n<p>The 'iterator' for loop has different scoping (is it a map?) than a 'c style' for loop. That cleans up the code with out needing an IIFE at all. Sweet.</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>Following code shows the differences I'm seeing. Not saying one is better than the other but good to know I think. The output I'm after is 0 1 2 but the first one only repeats the last value of $i (3 after the ++ operator). </p>\n\n<pre><code>use warnings;\nuse strict;\nmy @funcs;\nprint \"C loop direct assignment of sub\\n\";\nfor(my $i=0;$i&lt;3;$i++) {\n    $funcs[$i]= sub {$i};\n}\nprint &amp;$_().\"\\n\" for @funcs;\n\nprint \"C loop direct assignment of sub with variable\\n\";\nfor(my $i=0;$i&lt;3;$i++) {\n    my $index=$i; #assignment/copy\n    $funcs[$index]= sub {$index};\n}\nprint &amp;$_().\"\\n\" for @funcs;\n\nprint \"For loop interator\\n\";\n@funcs=[];\nfor my $i (0..2) {\n    $funcs[$i]=sub {$i};\n}\nprint &amp;$_().\"\\n\" for @funcs;\n\nprint \"C loop with IIFE assignment\\n\";\n@funcs=[];\nfor (my $i=0;$i&lt;3;$i++) {\n    sub  {\n    my $index=shift;\n        $funcs[$index]=sub {$index};\n    }\n    -&gt; ($i);\n}\nprint &amp;$_().\"\\n\" for @funcs;\n</code></pre>\n\n<p>Out is:</p>\n\n<pre><code>C loop direct assignment of sub                                                                                                                                          \n3                                                                                                                                                                        \n3                                                                                                                                                                        \n3         \nC loop direct assignment of sub with variable                                                                                                                            \n0                                                                                                                                                                        \n1                                                                                                                                                                        \n2                                                                                                                                                                            \nFor loop interator                                                                                                                                                       \n0                                                                                                                                                                        \n1                                                                                                                                                                        \n2                                                                                                                                                                        \nC loop with IIFE assignment                                                                                                                                                           \n0                                                                                                                                                                        \n1                                                                                                                                                                        \n2        \n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 42740, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "edited": false, "score": 0, "creation_date": 1560260959, "post_id": 56530104, "comment_id": 99672102, "body": "Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/194767/discussion-on-question-by-prinkessbambi-how-to-specify-which-version-of-perl-to\">moved to chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1560200670, "last_edit_date": 1560200670, "creation_date": 1560190292, "answer_id": 56531471, "question_id": 56530104, "link": "https://stackoverflow.com/questions/56530104/how-to-specify-which-version-of-perl-to-use-for-a-script-without-installing-perl/56531471#56531471", "title": "How to specify which version of perl to use for a script without installing perlbrew", "body": "<p>If you wrap your script in Perl's packaging framework, this is handled for you automatically. When it installs scripts, it changes the shebang line with the actual perl. You end up with something like this at the top of the file:</p>\n\n<pre><code>#!/usr/local/perls/perl-5.30.0/bin/perl\n    eval 'exec /usr/local/perls/perl-5.30.0/bin/perl -S $0 ${1+\"$@\"}'\n        if $running_under_some_shell;\n#!/usr/local/bin/perl\n</code></pre>\n\n<p>You might try this with my app-rhich distribution. Download the tarball and run the <em>Makefile.PL</em> with the perl you want. Run <code>make</code> and it builds stuff into the <em>blib</em> staging directory. You should see the modified shebang there:</p>\n\n<pre><code>$ /Users/brian/bin/perls/perl5.30.0 MAkefile.PL\nChecking if your kit is complete...\nLooks good\nWARNING: Older versions of ExtUtils::MakeMaker may errantly install README.pod as part of this distribution. It is recommended to avoid using this path in CPAN modules.\nGenerating a Unix-style Makefile\nWriting Makefile for App::rhich\nWriting MYMETA.yml and MYMETA.json\n\n$ make build\nmake: *** No rule to make target `build'.  Stop.\n\n$ make\ncp lib/App/rhich.pm blib/lib/App/rhich.pm\ncp script/rhich blib/script/rhich\n\"/usr/local/perls/perl-5.30.0/bin/perl\" -MExtUtils::MY -e 'MY-&gt;fixin(shift)' -- blib/script/rhich\nManifying 1 pod document\nManifying 1 pod document\nbrian@otter app-rhich  (master)[3125]\n\n$ more blib/script/\n#!/usr/local/perls/perl-5.30.0/bin/perl\npackage rhich;\nuse strict;\nuse warnings;\n</code></pre>\n\n<p>However, if your path to perl is a symlink to some other perl, this can get confused. I don't use perlbrew because I don't think it adds much other than saving you looking up a download URL. I <a href=\"https://www.effectiveperlprogramming.com/2010/03/make-links-to-per-version-tools/\" rel=\"nofollow noreferrer\">install multiple perls</a>  (and <a href=\"https://stackoverflow.com/q/1289564/2766176\">How should I install more than one version of Perl?</a>) and can use paths to them so I know which version using. There's a similar problem with <em>env</em> depending on how you set up your path. How you handle that is based on how you decide to manage things, but it's these sorts of questions that show that the tools of convenience aren't really that convenient.</p>\n"}], "owner": {"reputation": 1, "user_id": 11609846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d52fe8f0cab0199ad6b60972ece7fb?s=128&d=identicon&r=PG&f=1", "display_name": "prinkessbambi", "link": "https://stackoverflow.com/users/11609846/prinkessbambi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560200670, "creation_date": 1560183943, "question_id": 56530104, "link": "https://stackoverflow.com/questions/56530104/how-to-specify-which-version-of-perl-to-use-for-a-script-without-installing-perl", "title": "How to specify which version of perl to use for a script without installing perlbrew", "body": "<p>I have a script that must be run in Perl 5.10.1, although my university's linux cluster system uses the most recent version of Perl. I tried to install Perlbrew, but I don't think it worked.</p>\n\n<p>I'm not sure how to specify the perl version in the shebang because of how I call/run this script. There is \"cluster.pl\", which is run by running \"./command.txt\".</p>\n\n<p>Also, I don't think I can install Perlbrew because it's the university's linux system: After copy-pasting the installation commands, my terminal screen said the perlbrew patch was installed, but when I used \"perlbrew install perl-5.10.1\", it would say \"command perlbrew not found\" I don't know how to run the script </p>\n\n<p>As of now, cluster.pl has this shebang:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n</code></pre>\n\n<p>One related question said to write this in the command line  </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>/program/perl_v5.6.1/bin/perl scriptName.pl\n#OP needed to use version 5.6.1, unlike me (I need 5.10.1)\n</code></pre>\n\n<p>However, I don't know whether \"program\" is OP's directory or a mandatory part of the path</p>\n\n<p>Below is command.txt, which has the necessary input arguments:</p>\n\n<pre><code>#this is command.txt\n./cluster.pl Datachr1 2 galGal5.Chroinfo.txt\n</code></pre>\n\n<p>Essentially, where would the suggested shebang go? Would I include \"program\" in my path too?</p>\n"}, {"tags": ["string", "perl", "extract", "quotes"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1560176319, "post_id": 56528163, "comment_id": 99639730, "body": "Can the substrings have escaped quotes? E.g. <code>&#39;printf( &quot;hello \\&quot;peter\\&quot;&quot;, ... )&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1560176404, "last_edit_date": 1592644375, "creation_date": 1560176404, "answer_id": 56528246, "question_id": 56528163, "link": "https://stackoverflow.com/questions/56528163/recursively-extract-strings-between-quotes-in-a-given-string/56528246#56528246", "title": "Recursively extract strings between quotes in a given string", "body": "<p>You can do that directly by using the <code>/g</code> regex flag in either scalar context:</p>\n<pre><code>while ($str =~ /&quot;([^&quot;]*)&quot;/g) {\n    print &quot;$1\\n&quot;;\n}\n</code></pre>\n<p>... or list context:</p>\n<pre><code>for my $match ($str =~ /&quot;([^&quot;]*)&quot;/g) {\n    print &quot;$match\\n&quot;;\n}\n</code></pre>\n<p>I've also changed <code>.*?</code> to <code>[^&quot;]*</code> because it's better to be specific about what you want to match.</p>\n<p><code>/g</code> is documented in <a href=\"https://perldoc.pl/perlop#Matching-in-list-context\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>:</p>\n<blockquote>\n<p>The <code>/g</code> modifier specifies global pattern matching--that is, matching as many times as possible within the string. How it behaves depends on the context. <strong>In list context, it returns a list of the substrings matched by any capturing parentheses in the regular expression.</strong> If there are no parentheses, it returns a list of all the matched strings, as if there were parentheses around the whole pattern.</p>\n<p><strong>In scalar context, each execution of <code>m//g</code> finds the next match, returning true if it matches, and false if there is no further match.</strong> The position after the last match can be read or set using the <code>pos()</code> function; see <a href=\"https://perldoc.pl/perlfunc#pos\" rel=\"nofollow noreferrer\">&quot;pos&quot; in perlfunc</a>. A failed match normally resets the search position to the beginning of the string, but you can avoid that by adding the <code>/c</code> modifier (for example, <code>m//gc</code>). Modifying the target string also resets the search position.</p>\n</blockquote>\n<p>(Emphasis mine.)</p>\n"}], "owner": {"reputation": 49, "user_id": 2058155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00c73fd38d3d25fffc5c84724e03ed4a?s=128&d=identicon&r=PG", "display_name": "Apad", "link": "https://stackoverflow.com/users/2058155/apad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560177615, "creation_date": 1560176134, "last_edit_date": 1560177615, "question_id": 56528163, "link": "https://stackoverflow.com/questions/56528163/recursively-extract-strings-between-quotes-in-a-given-string", "title": "Recursively extract strings between quotes in a given string", "body": "<p>Given a string with substrings within quotes, extract all such substrings</p>\n\n<p>I have written the following piece of code but something tells me that it is ugly (although it does seem to do the trick)</p>\n\n<pre><code>my $str = 'printf (\"hellp;world\", and \"this is ; also\" and )';\n\nloop:\nif ($str =~ /\"(.*?)\"/) {\n    my $substr = $1;\n    $str =~ s/\"$substr\"//;\n    print \"$substr\\n\";\n}\nif ($str =~ /\"/) {\n    goto loop;\n}\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl quotes.pl\nhellp;world\nthis is ; also\n</code></pre>\n\n<p>So it does work as expected.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1560173388, "post_id": 56527381, "comment_id": 99638270, "body": "This should be two separate questions, one for Python, and one for Perl."}, {"owner": {"reputation": 2456, "user_id": 11451509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07f2b18591b9a2aaf34b3ca5a777583?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Weber", "link": "https://stackoverflow.com/users/11451509/roland-weber"}, "edited": false, "score": 0, "creation_date": 1560173693, "post_id": 56527381, "comment_id": 99638413, "body": "Sounds like this for Python: <a href=\"https://stackoverflow.com/a/46128752/11451509\">stackoverflow.com/a/46128752/11451509</a>"}, {"owner": {"reputation": 3757, "user_id": 5033247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcqj4.jpg?s=128&g=1", "display_name": "Smart Manoj", "link": "https://stackoverflow.com/users/5033247/smart-manoj"}, "edited": false, "score": 0, "creation_date": 1560174149, "post_id": 56527381, "comment_id": 99638636, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46128615/python-finding-the-common-parts-of-a-string-throughout-a-list-and-removing-it-fr\">Python finding the common parts of a string throughout a list and removing it from every item</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1560181844, "post_id": 56528534, "comment_id": 99642600, "body": "This is also implemented by <a href=\"https://metacpan.org/pod/String::CommonPrefix\" rel=\"nofollow noreferrer\">String::CommonPrefix</a>, which should be Unicode-safe but I can&#39;t speak to efficiency."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1560177619, "creation_date": 1560177619, "answer_id": 56528534, "question_id": 56527381, "link": "https://stackoverflow.com/questions/56527381/perl-module-subroutine-to-remove-shared-substring-of-strings/56528534#56528534", "title": "Perl module / subroutine to remove shared substring of strings", "body": "<p>This is a bit of a hack, but if you don't need to support Unicode strings (that is, if all characters have a value below 256), you can use xor to get the length of the longest common prefix of two strings:</p>\n\n<pre><code>my $n = do {\n    ($str1 ^ $str2) =~ /^\\0*/;\n    $+[0]\n};\n</code></pre>\n\n<p>You can apply this operation in a loop to get the common prefix of a list of strings:</p>\n\n<pre><code>use v5.12.0;\nuse warnings;\n\nsub common_prefix {\n    my $prefix = shift;\n    for my $str (@_) {\n        ($prefix ^ $str) =~ /^\\0*/;\n        substr($prefix, $+[0]) = '';\n    }\n    return $prefix;\n}\n\nmy @paths = qw(\n    ./dir/fileA_header.txt\n    ./dir/fileA_footer.txt\n);\n\nsay common_prefix(@paths);\n</code></pre>\n\n<p>Output: <code>./dir/fileA_</code></p>\n"}], "owner": {"reputation": 642, "user_id": 5467494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99Y3d.jpg?s=128&g=1", "display_name": "Andrea T.", "link": "https://stackoverflow.com/users/5467494/andrea-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56528534, "answer_count": 1, "score": -1, "last_activity_date": 1560177619, "creation_date": 1560173244, "last_edit_date": 1560175542, "question_id": 56527381, "link": "https://stackoverflow.com/questions/56527381/perl-module-subroutine-to-remove-shared-substring-of-strings", "title": "Perl module / subroutine to remove shared substring of strings", "body": "<p>Given a list/array of strings (in particular, UNIX paths), remove the shared part, eg:</p>\n\n<ul>\n<li>./dir/fileA_header.txt</li>\n<li>./dir/fileA_footer.txt</li>\n</ul>\n\n<p>I probably will strip the directory before using the function, but strictly speacking this won't change much.</p>\n\n<p>I'd like to know a method to either remove the shared parts (./dir/fileA_) or remove the not-shared part.</p>\n\n<p>Thank you for your help!</p>\n"}, {"tags": ["perl", "template-toolkit"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560170483, "post_id": 56525781, "comment_id": 99636811, "body": "If you&#39;re using <code>-w</code>, you could try using <code>use warnings;</code> instead. Might not make a difference."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5867873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808dc2626687f6b8ff6201af252389ee?s=128&d=identicon&r=PG&f=1", "display_name": "alekh chaudhary", "link": "https://stackoverflow.com/users/5867873/alekh-chaudhary"}, "edited": false, "score": 0, "creation_date": 1560170777, "post_id": 56526228, "comment_id": 99636945, "body": "Thanks @choroba. I want to know what is changed between version 2.15 and 2.29 that this warning started to come. I did not see any warning when using version 2.15 of template-toolkit."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 63, "user_id": 5867873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808dc2626687f6b8ff6201af252389ee?s=128&d=identicon&r=PG&f=1", "display_name": "alekh chaudhary", "link": "https://stackoverflow.com/users/5867873/alekh-chaudhary"}, "edited": false, "score": 0, "creation_date": 1560180197, "post_id": 56526228, "comment_id": 99641710, "body": "I don&#39;t see anything relevant in the <a href=\"https://metacpan.org/changes/distribution/Template-Toolkit\" rel=\"nofollow noreferrer\">Changes</a>..."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1560169645, "last_edit_date": 1560169645, "creation_date": 1560168898, "answer_id": 56526228, "question_id": 56525781, "link": "https://stackoverflow.com/questions/56525781/error-while-using-un-initialized-variable-in-an-expression-in-a-template-file/56526228#56526228", "title": "Error while using un-initialized variable in an expression in a template file", "body": "<p>It's not an error, it's a warning.</p>\n\n<p>If you don't want to get the warnings, just populate the variable when assigning to it:</p>\n\n<pre><code>[%- groups.$val = (groups.$val || 0) + 1 -%]\n</code></pre>\n\n<p>or maybe</p>\n\n<pre><code>[%- groups.$val = (groups.$val.defined ? groups.$val : 0) + 1 -%]\n</code></pre>\n\n<p>Unfortunately, there's no operator similar to Perl's <code>++</code> or <code>+=</code> that would skip the warnings as the Perl's operators do.</p>\n"}], "owner": {"reputation": 63, "user_id": 5867873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808dc2626687f6b8ff6201af252389ee?s=128&d=identicon&r=PG&f=1", "display_name": "alekh chaudhary", "link": "https://stackoverflow.com/users/5867873/alekh-chaudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 56526228, "answer_count": 1, "score": 1, "last_activity_date": 1560169645, "creation_date": 1560167208, "question_id": 56525781, "link": "https://stackoverflow.com/questions/56525781/error-while-using-un-initialized-variable-in-an-expression-in-a-template-file", "title": "Error while using un-initialized variable in an expression in a template file", "body": "<p>I am trying to process a template file using template-toolkit version 2.29 and perl 5.28.1. I am getting below warning while processing template file <br/>\n<strong>Argument \"\" isn't numeric in addition (+) at  line xyz</strong> <br/> \nI think it is because in the template file we have un-initialized variables which are used in an arithmetic expression. <br/> \n<strong>Is it necessary to initialize a variable before using it in an expression if using template-toolkit version 2.29?</strong>\nIn the below code the warning occurs for line 5.</p>\n\n<p>Below is the snippet from code. </p>\n\n<pre><code>[%- groups = {} -%] &lt;br/&gt;\n[%- cols = [ 10, 10, 20, 30 ] -%] &lt;br/&gt;\n[%- FOREACH c IN cols -%] &lt;br/&gt;\n   [%- val = c -%] &lt;br/&gt;\n   [%- groups.$val = groups.$val + 1 -%] &lt;br/&gt;\n[%- END -%] &lt;br/&gt;\n</code></pre>\n\n<p>If we initialize <code>groups.$val</code> before using it in the expression, there is no warning. <br/>\n<strong>I did not get the issue when I used template-toolkit version 2.15.\nNot sure what changed in 2.29 (or in any other version greater than 2.15) which is causing the warning?</strong></p>\n"}, {"tags": ["perl", "spreadsheet", "xls"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1560166138, "post_id": 56525363, "comment_id": 99634796, "body": "I think the Perlmonks post is useful. You&#39;d have to reach into the object and fiddle with the internals, but you should be able to identify the correct worksheet based on its name, and then remove it."}, {"owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1560166508, "post_id": 56525363, "comment_id": 99634957, "body": "Yes. I actually understood the perlmonks code now and I tried it out and it is working. Thanks for the comment simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1560169759, "post_id": 56525363, "comment_id": 99636448, "body": "I was going to try it and write an answer, but my Libre Office closes when I try to save a file... you can write up your own answer."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "is_accepted": true, "score": 2, "last_activity_date": 1560528563, "last_edit_date": 1560528563, "creation_date": 1560260391, "answer_id": 56545081, "question_id": 56525363, "link": "https://stackoverflow.com/questions/56525363/how-to-delete-a-worksheet-in-an-existing-xls-file-using-spreadsheetparseexcel/56545081#56545081", "title": "How to delete a worksheet in an existing xls file using Spreadsheet::ParseExcel::SaveParser?", "body": "<p>The <a href=\"https://www.perlmonks.org/?node_id=722716\" rel=\"nofollow noreferrer\">Perlmonks link in the question</a> helps. If you want to delete a specific sheet use the line</p>\n\n<pre><code>splice(@{$oBook-&gt;{Worksheet}},1,1);\n</code></pre>\n\n<p>where the initial one represents from which sheet you would like to delete and the next one represents how many sheets you want to delete from the offset.</p>\n\n<p>This is same as normal <code>splice</code> command.</p>\n\n<p>After doing this, use the command <code>$oBook-&gt;{SheetCount}--;</code> to delete worksheets.</p>\n"}], "owner": {"reputation": 61, "user_id": 11573420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVlf4nyDCak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyzTl7-o8p2NcvIolb2pPiTgKUCg/mo/photo.jpg?sz=128", "display_name": "PUNEET NEMADE", "link": "https://stackoverflow.com/users/11573420/puneet-nemade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 56545081, "answer_count": 1, "score": 1, "last_activity_date": 1560528563, "creation_date": 1560165501, "last_edit_date": 1560169823, "question_id": 56525363, "link": "https://stackoverflow.com/questions/56525363/how-to-delete-a-worksheet-in-an-existing-xls-file-using-spreadsheetparseexcel", "title": "How to delete a worksheet in an existing xls file using Spreadsheet::ParseExcel::SaveParser?", "body": "<p>I want to delete a worksheet from an existing <strong>xls file</strong> which I am modifying module <code>Spreadsheet::ParseExcel::SaveParser</code>. I couldn't find anything on CPAN website. I found a code which deletes worksheets from the end but I want to delete a sheet based on its name. I am attaching the code. Please explain the splice command in that code too. Thanks\nHere is the link which I found:</p>\n\n<p><a href=\"https://www.perlmonks.org/?node_id=722716\" rel=\"nofollow noreferrer\">https://www.perlmonks.org/?node_id=722716</a></p>\n\n<blockquote>\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Spreadsheet::ParseExcel;\nuse Spreadsheet::ParseExcel::SaveParser;\nmy ($INFILE,$OUTFILE)=(\"in.xls\",\"out.xls\");\nmy $oExcel = new Spreadsheet::ParseExcel::SaveParser;\nmy $oBook = $oExcel-&gt;Parse($INFILE);\n\nsplice(@{$oBook-&gt;{Worksheet}},1,1);\n$oBook-&gt;{SheetCount}--;\n\n$oExcel-&gt;SaveAs($oBook, $OUTFILE);\n</code></pre>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 2, "creation_date": 1560164611, "post_id": 56525058, "comment_id": 99634104, "body": "What error do you get or what happens when you run this code?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1560170057, "post_id": 56525058, "comment_id": 99636614, "body": "Is it too hard to expect a bit more effort by your own? <i>&quot;Is the package module am I using is right?&quot;</i> - as you can quickly see from <a href=\"https://metacpan.org/pod/Email::Address\" rel=\"nofollow noreferrer\">the documentation of this module</a> this is not the right module since none what you do and what you use it for matches the documentation."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1560246431, "last_edit_date": 1560246431, "creation_date": 1560169122, "answer_id": 56526279, "question_id": 56525058, "link": "https://stackoverflow.com/questions/56525058/im-facing-problem-with-the-email-program-in-perl/56526279#56526279", "title": "I&#39;m facing problem with the email program in Perl", "body": "<p><a href=\"https://metacpan.org/pod/Email::Address\" rel=\"nofollow noreferrer\">Email::Address</a> is for:</p>\n\n<blockquote>\n  <p>Email::Address - RFC 2822 Address Parsing and Creation</p>\n</blockquote>\n\n<p>And you don't want to manipulate email addresses, you want to create and send emails.</p>\n\n<p>For that, you want <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow noreferrer\">Email::Sender</a> or (better) <a href=\"https://metacpan.org/pod/Email::Stuffer\" rel=\"nofollow noreferrer\">Email::Stuffer</a>.</p>\n\n<p><strong>Update:</strong></p>\n\n<blockquote>\n  <p>It not letting me install other modules other than Email::Address</p>\n</blockquote>\n\n<p>If you gave us a little more detail about the errors you're getting, then we might be able to help you with that.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 4, "last_activity_date": 1560187822, "last_edit_date": 1560187822, "creation_date": 1560169181, "answer_id": 56526292, "question_id": 56525058, "link": "https://stackoverflow.com/questions/56525058/im-facing-problem-with-the-email-program-in-perl/56526292#56526292", "title": "I&#39;m facing problem with the email program in Perl", "body": "<p>If that's the <a href=\"https://metacpan.org/pod/Email::Address\" rel=\"nofollow noreferrer\">Email::Address</a> from CPAN, you haven't done anything (And you are using it incorrectly). That module doesn't send email; it finds addresses in text.</p>\n\n<p>There are various ways to send email, but you'll have to tells us more about how you'd like to send it. There are plenty of modules for SMTP and other protocols. </p>\n\n<p>What's the error you get from ActivePerl when you try to install modules? Maybe we can help you fix that.</p>\n\n<p>There's also <a href=\"http://www.strawberryperl.com\" rel=\"nofollow noreferrer\">Strawberry Perl</a> which comes with everything you need to interact with CPAN without going through ActiveState's Perl Package Manager.</p>\n"}], "owner": {"reputation": 25, "user_id": 11130057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5d5fc7f183e98a174d850087c2e23a?s=128&d=identicon&r=PG&f=1", "display_name": "Ekanvitha", "link": "https://stackoverflow.com/users/11130057/ekanvitha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1560246431, "creation_date": 1560164204, "last_edit_date": 1560173297, "question_id": 56525058, "link": "https://stackoverflow.com/questions/56525058/im-facing-problem-with-the-email-program-in-perl", "title": "I&#39;m facing problem with the email program in Perl", "body": "<p>I have written a sample to send email in Perl for Windows. Is the package module am I using is right? Please help through it.I'm using Activeperl 5.It not letting me install other modules other than Email::Address.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Email::Address;\nmy $to=\"xyz@gmail.com\";\nmy $from=\"abc@gmail.com\";\nmy $subject=\"Test mail\";\nmy $message=\"This is the Perl mail\";\nmy $msg=Email::Address-&gt;new(\n            from=&gt;$from,\n            to=&gt;$to,\n            subject=&gt;$subject,\n            message=&gt;$message,\n);\n$msg-&gt;Address;\nprint \"Email Sent Successfully\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1560119635, "post_id": 56518289, "comment_id": 99622739, "body": "I tried with the default: <code>Where is your OpenSSL? [&#47;usr] &#47;usr</code>. I.e. <code>&#47;usr</code> and it installed fine."}, {"owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1560126588, "post_id": 56518289, "comment_id": 99623741, "body": "Do you type the path <code>&#47;usr</code> after that question?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1560159608, "post_id": 56518289, "comment_id": 99631774, "body": "Yes I guess so (or just press enter, and the text in square brackets will be chosen). I did not use the <code>--interactive</code> option with <code>cpanm</code> so it chose the defaults automatically for me."}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "is_accepted": false, "score": 2, "last_activity_date": 1560199575, "creation_date": 1560199575, "answer_id": 56533306, "question_id": 56518289, "link": "https://stackoverflow.com/questions/56518289/how-to-install-filtercrypto-module-for-perl-under-ubuntu/56533306#56533306", "title": "How to install Filter::Crypto module for perl under ubuntu", "body": "<p>To install this module, the develop files of openssl are needed. Under Ubuntu, it needs to install package: <code>libssl-dev</code> to get develop files to be installed: so after running <code>sudo apt-get install libssl-dev</code>, the problem is resolved.</p>\n\n<p>In CentOS, install <code>openssl-devel</code> package.</p>\n"}], "owner": {"reputation": 171, "user_id": 2799433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011e057102e676020e526b0b82f1949?s=128&d=identicon&r=PG&f=1", "display_name": "user2799433", "link": "https://stackoverflow.com/users/2799433/user2799433"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560199575, "creation_date": 1560113472, "question_id": 56518289, "link": "https://stackoverflow.com/questions/56518289/how-to-install-filtercrypto-module-for-perl-under-ubuntu", "title": "How to install Filter::Crypto module for perl under ubuntu", "body": "<p>I use command:</p>\n\n<pre><code>cpanm --sudo --interactive Filter::Crypto \n</code></pre>\n\n<p>I am always asked for location of openssl.</p>\n\n<p>Then I run command:</p>\n\n<pre><code>dpkg -L openssl\n</code></pre>\n\n<p>I get many paths.</p>\n\n<p>I dont know what should I do next.</p>\n\n<p>thanks </p>\n"}, {"tags": ["file", "perl", "hex"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560088944, "post_id": 56514750, "comment_id": 99616198, "body": "First of all, the program doesn&#39;t even compile, so it doesn&#39;t give you the output you claim it does."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1560088958, "post_id": 56514750, "comment_id": 99616201, "body": "You recreate the file (<code>open &gt;</code>) for each byte of the input file, so you only get the output for the last byte of the input file. Open the file outside of the loop"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560088964, "post_id": 56514750, "comment_id": 99616204, "body": "Also, you keep appending to what you&#39;ve previously read and processing the entire buffer from the start, so your output will look like AABABCABCDABCDE instead of the desired ABCDE (where each letter represents the output for 1024 bytes of input)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1560089314, "post_id": 56514750, "comment_id": 99616291, "body": "Lots of other issues (2-arg open, <code>printf</code> without a pattern, needless use of global vars, needlessly splitting the input when <code>unpack H*</code> handles strings of any length, 1 KiB <code>read</code> when Perl reads from the OS in 4 KiB or 8 KiB chunks, use of <code>binmode</code> for a text file)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560089320, "post_id": 56514750, "comment_id": 99616293, "body": "Congrats on checking the result of <code>open</code>, and on using both the file name and <code>$!</code> in the error message."}, {"owner": {"reputation": 43, "user_id": 9824507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ea07e3a5e0187f53bb59f22a2258f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mookie", "link": "https://stackoverflow.com/users/9824507/mookie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1560090530, "post_id": 56514750, "comment_id": 99616586, "body": "now it works. Cheers! - I&#39;ve swapped blockSize to use &quot;-s $fileName&quot; to auto determine the file length and tidied up with your comments. It now works writing hex to file. Thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1560092830, "post_id": 56514750, "comment_id": 99617107, "body": "Poor solution. It introduces a race condition and needless limitations. Moving the <code>open</code> as I suggested is what you should have done."}, {"owner": {"reputation": 43, "user_id": 9824507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ea07e3a5e0187f53bb59f22a2258f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mookie", "link": "https://stackoverflow.com/users/9824507/mookie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1560095893, "post_id": 56514750, "comment_id": 99617783, "body": "I did move the open from the foreach loop t into the while. Please see the amended update and recomment? When I moved the file it was only populating the file with 1024 worth of bytes. As the $blocksize is required for the syntax right? Syntax read FILEHANDLE,SCALAR,LENGTH"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1560170820, "creation_date": 1560170820, "answer_id": 56526722, "question_id": 56514750, "link": "https://stackoverflow.com/questions/56514750/perl-file-to-hex-number-82/56526722#56526722", "title": "perl file to hex number 82?", "body": "<p>You recreate the file (open >) for each byte of the input file, so you only get the output for the last byte of the input file. Open the file outside of the loop.</p>\n\n<p>Also, you keep appending to <code>$buf</code> rather than replacing its content, so your output will look like AABABCABCDABCDE instead of the desired ABCDE (where each letter represents the output for 1024 bytes of input)</p>\n\n<p>Fixed:</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\n\nuse constant BLOCK_SIZE =&gt; 64*1024;\n\nmy ($in_qfn, $out_qfn) = @ARGS;\n\nopen(my $in_fh, '&lt;:raw', $in_qfn)\n   or die(\"Unable to open \\\"$in_qfn\\\": $!\\n\");\nopen(my $out_fh, '&gt;', $out_qfn)\n   or die(\"Unable to open \\\"$out_qfn\\\": $!\\n\");\n\nwhile (1) {\n    defined( my $rv = sysread($in_fh, my $buf, BLOCK_SIZE) )\n       or die(\"Unable to read from \\\"$in_qfn\\\": $!\\n\");\n\n    last if !$rv;\n\n    print($fh_out unpack(\"H*\", $buf))\n       or die(\"Unable to write to \\\"$out_qfn\\\": $!\\n\");\n}\n\nclose($fh_in);\nclose($fh_out)\n   or die(\"Unable to write to \\\"$out_qfn\\\": $!\\n\");\n</code></pre>\n\n<p>The above addressed a lot of other issues in your program:</p>\n\n<ul>\n<li>Use of 2-arg open</li>\n<li>Use of printf without a pattern</li>\n<li>Needless use of global vars</li>\n<li>Needlessly splitting the input when <code>unpack H*</code> handles strings of any length</li>\n<li>Inefficient 1 KiB reads when Perl reads from the OS in 4 KiB or 8 KiB chunks</li>\n<li>Use of binmode for a text file</li>\n</ul>\n"}], "owner": {"reputation": 43, "user_id": 9824507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ea07e3a5e0187f53bb59f22a2258f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mookie", "link": "https://stackoverflow.com/users/9824507/mookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560170820, "creation_date": 1560084789, "last_edit_date": 1560119395, "question_id": 56514750, "link": "https://stackoverflow.com/questions/56514750/perl-file-to-hex-number-82", "title": "perl file to hex number 82?", "body": "<p>Trying to do binary to hex conversion on a file. I can output the hex but however when I try to output the result to a file,variable it returns the string \"82\".  I cannot understand why; like all things most likely something simple.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nmy $blockSize = 1024;\nmy $fileName = $ARGV[0];\nmy $hexName = $ARGV[1];\nopen(F,\"&lt;$fileName\") or die(\"Unable to open file $fileName, $!\");\nbinmode(F);\nmy $buf;\nmy $ct=0;\n\nwhile(read(F,$buf,$blockSize,$ct*$blockSize)){\n    foreach(split(//, $buf)){\n    printf unpack (\"H*\", $_);    #prints the hex stream to terminal just fine\n    open(H,\"&gt;$hexName\") or die(\"Unable to open file $fname, $!\");\n    binmode (H);\n        printf H unpack (\"H*\", $_);\n    close (H);\n\n    }\n    print \"\\n\";\n    $ct++;\n}\nclose(F);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>perl rawrHexFile.pl test.png file.hex\n89504e470d0a1a0a0000000....\n</code></pre>\n\n<p>mookie@temple:/srv/bench % cat file.hex\n82</p>\n\n<pre><code>cat file.hex\n82\n</code></pre>\n\n<p>Thanks.</p>\n\n<p><strong>Here's my final code which works. in case of</strong></p>\n\n<pre><code>use strict;\nmy $fileName = $ARGV[0];\nmy $hexName = $ARGV[1];\nmy $hexCodeFile = $ARGV[2];\nmy $hexDecodeFile = $ARGV[3];\nmy $blockSize = -s $fileName;\nmy $buf;\n\nopen(F,\"&lt;$fileName\") or die(\"Unable to open file $fileName, $!\");\nbinmode(F);\n\nopen(H,\"&gt;$hexName\") or die(\"Unable to open file $hexName, $!\");\nread(F,$buf,$blockSize);\n        print H unpack (\"H*\", $buf);\nclose (H);\nclose(F);\n</code></pre>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1560059013, "post_id": 56512228, "comment_id": 99611033, "body": "What does the source document look like?"}, {"owner": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1560059435, "post_id": 56512228, "comment_id": 99611097, "body": "Check, I added askurl.txt info"}], "answers": [{"comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1560076019, "post_id": 56513553, "comment_id": 99613726, "body": "I agree with your general approach.  If I&#39;m reading the question correctly, the OP is also looking to skip <code>$1</code> if it doesn&#39;t look like a domain name."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1560084173, "post_id": 56513553, "comment_id": 99615267, "body": "Looks good!  I didn&#39;t know about <code>Data::Validate::Domain</code>.  Thanks!"}], "tags": [], "owner": {"reputation": 360, "user_id": 9696928, "user_type": "registered", "profile_image": "https://graph.facebook.com/565264017190206/picture?type=large", "display_name": "Mobrine Hayde", "link": "https://stackoverflow.com/users/9696928/mobrine-hayde"}, "is_accepted": true, "score": 4, "last_activity_date": 1560083079, "last_edit_date": 1560083079, "creation_date": 1560073354, "answer_id": 56513553, "question_id": 56512228, "link": "https://stackoverflow.com/questions/56512228/how-to-extract-accurate-information-from-multiple-tags-in-perl/56513553#56513553", "title": "how to extract accurate information from multiple tags in perl", "body": "<p>You can use a simple regex that will parse what you want for you</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $text = &lt;&lt;'HTML'; # we are creating example data using a heredoc\n&lt;p class=\"PartialSearchResults-item-url\"&gt; maps.google.com &lt;/p&gt;\n&lt;p class=\"PartialSearchResults-item-url\"&gt;example.com&lt;/p&gt;\nHTML\n\nwhile ($text =~ m/class=\"PartialSearchResults-item-url\"&gt;(.*?)&lt;\\/p&gt;/g) { # while loop to check all the existing match for the regex\n  print $1.\"\\n\";\n}\n</code></pre>\n\n<p>If you are not sure if there is whitespace in the tag where the domain is </p>\n\n<p>(like here <code>&lt;p class=\"PartialSearchResults-item-url\"&gt;maps.google.com &lt;/p&gt;</code>) </p>\n\n<p>You can use <code>\\s*</code> like:</p>\n\n<pre><code>m/class=\"PartialSearchResults-item-url\"&gt;\\s*(.*?)\\s*&lt;\\/p&gt;/g # here we are checking if there is space before and after the url\n</code></pre>\n\n<p>And if you want to check if domain is valid you can use <code>is_domain()</code> from <code>Data::Validate::Domain</code> module:</p>\n\n<pre><code># previous script\nuse Data::Validate::Domain qw(is_domain);\n\nwhile ($text =~ m/class=\"PartialSearchResults-item-url\"&gt;(.*?)&lt;\\/p&gt;/g) {\n   if (is_domain($1)) {\n      print $1.\"\\n\";\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 56513553, "answer_count": 1, "score": 1, "last_activity_date": 1560083079, "creation_date": 1560058420, "last_edit_date": 1560059411, "question_id": 56512228, "link": "https://stackoverflow.com/questions/56512228/how-to-extract-accurate-information-from-multiple-tags-in-perl", "title": "how to extract accurate information from multiple tags in perl", "body": "<p>I want to extract url information from ask . com</p>\n\n<p>this is the tag</p>\n\n<pre><code>&lt;p class=\"PartialSearchResults-item-url\"&gt;maps.google.com &lt;/p&gt;\n</code></pre>\n\n<p>This is the code, I tried but it's extracting junk info with it.</p>\n\n<pre><code>$p = HTML::TokeParser-&gt;new(\\$rrs);\n\nwhile ($p-&gt;get_tag(\"p\")) {\n\n    my @link = $p-&gt;get_trimmed_text(\"/p\");\n\n     foreach(@link) { print \"$_\\n\"; }\n\n      open(OUT, \"&gt;&gt;askurls.txt\"); print OUT \"@link\\n\"; close(OUT);\n\n  }\n</code></pre>\n\n<p>I only want domain urls, like maps.google.com</p>\n\n<p>but it's extracting, Source , Images and all sorts of other p class info junk with it, filling askurls.txt with irrelevant information</p>\n\n<p>Added:</p>\n\n<pre><code>askurls.txt filled with this information:\nVideos\nChange Settings\nOK\nSites Google\nSites Google.com Br\nGoogle\nCookie Policy\nassistant.google.com\nMeet your Google Assistant. Ask it questions. Tell it to do things. It's your own personal Google, always ready to help whenever you need it.\nwww.google.com/drive\nSafely store and share your photos, videos, files and more in the cloud. Your first 15 GB of storage are free with a Google account.\ntranslate.google.com\nGoogle's free service instantly translates words, phrases, and web pages between English and over 100 other languages.\nduo.google.com\n</code></pre>\n"}, {"tags": ["bash", "shell", "perl"], "comments": [{"owner": {"reputation": 1, "user_id": 10248678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JpnLA.jpg?s=128&g=1", "display_name": "oguz ismail", "link": "https://stackoverflow.com/users/10248678/oguz-ismail"}, "edited": false, "score": 2, "creation_date": 1560054923, "post_id": 56511963, "comment_id": 99610554, "body": "Short answer: no, there is not."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 2, "creation_date": 1560087703, "post_id": 56511963, "comment_id": 99615928, "body": "What would you like to do if you knew this?"}, {"owner": {"reputation": 550, "user_id": 10814896, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--YDoOxR1ELE/AAAAAAAAAAI/AAAAAAAAABU/1a7lByCa2Sw/photo.jpg?sz=128", "display_name": "Perl Ancar", "link": "https://stackoverflow.com/users/10814896/perl-ancar"}, "edited": false, "score": 0, "creation_date": 1560242973, "post_id": 56511963, "comment_id": 99661488, "body": "I want to output differently depending on whether my CLI is accessed, e.g.: <code>image-is-landscape foo.jpg</code> vs <code>image-is-landscape foo.jpg &amp;&amp; mv foo.jpg foo-landscape.jpg</code>. In the first case, I want to output a message &quot;Image is landscape&quot; in addition to returning appropriate exit code."}, {"owner": {"reputation": 550, "user_id": 10814896, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--YDoOxR1ELE/AAAAAAAAAAI/AAAAAAAAABU/1a7lByCa2Sw/photo.jpg?sz=128", "display_name": "Perl Ancar", "link": "https://stackoverflow.com/users/10814896/perl-ancar"}, "edited": false, "score": 0, "creation_date": 1560243063, "post_id": 56511963, "comment_id": 99661535, "body": "I&#39;ve now adopted <code>grep</code>&#39;s way of using <code>-q</code> option to let user suppress output."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1560056240, "creation_date": 1560056240, "answer_id": 56512103, "question_id": 56511963, "link": "https://stackoverflow.com/questions/56511963/how-can-i-tell-if-my-perl-program-is-part-of-a-shell-logical-operation/56512103#56512103", "title": "How can I tell if my Perl program is part of a shell logical operation?", "body": "<p>Effectively, you're asking if there's a way to check if the parent process will check the return value. There's no way to know what another process will or won't do in the future.</p>\n"}], "owner": {"reputation": 550, "user_id": 10814896, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--YDoOxR1ELE/AAAAAAAAAAI/AAAAAAAAABU/1a7lByCa2Sw/photo.jpg?sz=128", "display_name": "Perl Ancar", "link": "https://stackoverflow.com/users/10814896/perl-ancar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 56512103, "answer_count": 1, "score": 0, "last_activity_date": 1560087784, "creation_date": 1560054492, "last_edit_date": 1560087784, "question_id": 56511963, "link": "https://stackoverflow.com/questions/56511963/how-can-i-tell-if-my-perl-program-is-part-of-a-shell-logical-operation", "title": "How can I tell if my Perl program is part of a shell logical operation?", "body": "<p>To check if a Perl script is run \"interactively\" (not part of a pipeline), we can use <code>-t STDOUT</code> check, e.g. in:</p>\n\n<pre><code>% my-script\n</code></pre>\n\n<p><code>t STDOUT</code> is true, while in:</p>\n\n<pre><code>% my-script | grep foo\n</code></pre>\n\n<p><code>-t STDOUT</code> is false.</p>\n\n<p>Is there a (simple) way to check if script is run \"as a simple command\", i.e.  not part of a multi-command logic sequence like:</p>\n\n<pre><code>% my-script &amp;&amp; echo \"success\"\n% my-script || echo \"failed\"\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1560053733, "post_id": 56511778, "comment_id": 99610423, "body": "The error message is misleading. What it&#39;s really saying is that the thing you are shifting is not a variable. You can get the same result with <code>my $scalar = shift (1,2,3);</code> When you had it in two lines, the shifted array is <code>@lengths</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 1, "creation_date": 1560058472, "post_id": 56511778, "comment_id": 99610970, "body": "@RaymondChen It refers to older versions where, apart from an array, an expression also could&#39;ve been passed (that evaluated to an arrayref).  I suppose that the message hinting at that is meant to be informative but I&#39;d agree that it is probably just misleading at this point. Could just say &#39;EXPR unsupported&#39; or such."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1560174435, "post_id": 56511778, "comment_id": 99638770, "body": "Related: <a href=\"https://stackoverflow.com/questions/51426146/perl-shift-on-reference-is-experimental/51426259\" title=\"perl shift on reference is experimental\">stackoverflow.com/questions/51426146/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1560058764, "post_id": 56512030, "comment_id": 99610998, "body": "What&#39;s wrong with just using <code>length</code> to get the length?"}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1560059220, "post_id": 56512030, "comment_id": 99611069, "body": "Note that the <code>split</code> technique breaks down if the value is floating point or uses exponential notation. But if you assume that the values are all nonnegative integers that don&#39;t require exponential notation, it&#39;s probably faster to <code>max</code> first, and then calculate the length as a final step: <code>0 + split &#39;&#39;, max @nums</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1560059270, "post_id": 56512030, "comment_id": 99611074, "body": "@melpomene gulp, right ... got carried by something else I was doing ... fixing it .. thank you!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1560059479, "post_id": 56512030, "comment_id": 99611100, "body": "@RaymondChen Yes, and I say that (&quot;<i>integer&#39;s length</i>&quot;) ... I guess that still leaves room for exponential notation but should be enough of a hint."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1560061862, "post_id": 56512030, "comment_id": 99611386, "body": "@RaymondChen Sure, it&#39;s faster (for any reasonable data), thank you, added"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1560076701, "post_id": 56512030, "comment_id": 99613862, "body": "Re &quot;<i>To understand the error message see docs for an older version</i>&quot;, <a href=\"https://pastebin.com/xqcxbGys\" rel=\"nofollow noreferrer\">A walk through history</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1560150199, "post_id": 56512030, "comment_id": 99628062, "body": "@Jasper  This answer got edited a lot since you accepted it (thank you), and got improved in the process.  It&#39;s worth a look, I think, in case you haven&#39;t noticed."}, {"owner": {"reputation": 23, "user_id": 9944744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd24df4842ef9bb3d1fe75b5d48f4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/9944744/jasper"}, "edited": false, "score": 0, "creation_date": 1560168531, "post_id": 56512030, "comment_id": 99635836, "body": "@zdim Yeah I&#39;ve been keeping up with the changes. Thanks, it&#39;s elucidated quite a few things!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1560064222, "last_edit_date": 1560064222, "creation_date": 1560055338, "answer_id": 56512030, "question_id": 56511778, "link": "https://stackoverflow.com/questions/56511778/why-does-shift-think-its-receiving-a-parameter-in-scalar-context/56512030#56512030", "title": "Why does shift think it&#39;s receiving a parameter in scalar context?", "body": "<p>Note how the docs for <a href=\"https://perldoc.perl.org/functions/shift.html\" rel=\"nofollow noreferrer\">shift</a> say</p>\n\n<blockquote>\n  <p>shift ARRAY<br>\n  shift</p>\n</blockquote>\n\n<p>Given that you aren't giving it an array (a variable) but an expression it dismisses it right away.  </p>\n\n<p>They later have a comment (my emphasis)</p>\n\n<blockquote>\n  <p>Starting with Perl 5.14, an experimental feature allowed shift to take a <strong>scalar</strong> expression. This experiment has been deemed unsuccessful, and was removed as of Perl 5.24.</p>\n</blockquote>\n\n<p>Clearly you are running 5.24 or newer version.</p>\n\n<p>To understand the error message see docs for an older version, up until <a href=\"https://perldoc.perl.org/5.22.4/functions/shift.html\" rel=\"nofollow noreferrer\">5.22.4</a>, with</p>\n\n<blockquote>\n  <p>shift ARRAY<br>\n  shift EXPR<br>\n  shift</p>\n</blockquote>\n\n<p>Note that there is no <code>LIST</code> there. They continued to explain what that EXPR stands for</p>\n\n<blockquote>\n  <p>Starting with Perl 5.14, <code>shift</code> can take a scalar EXPR, which must hold a reference to an unblessed array. The argument will be dereferenced automatically. This aspect of <code>shift</code> is considered highly experimental. </p>\n</blockquote>\n\n<p>So an older version, seeing an expression, would have computed it in the scalar context and passed that scalar to <code>shift</code>. (Then it would've complained about it not being an array reference.) Still having \"<em>shift on scalar</em>\" mentioned is meant to be informative but may be just confusing at this point.</p>\n\n<p>Note that the length of a non-negative integer can be had by taking <a href=\"https://perldoc.perl.org/functions/length.html\" rel=\"nofollow noreferrer\">length</a> of that string</p>\n\n<pre><code>my @lengths = reverse sort map { length } @nums;\n</code></pre>\n\n<p>what is far more efficient than taking logarithms.  </p>\n\n<p>Also, if you really need only the longest one </p>\n\n<pre><code>use List::Util qw(max);\n\nmy $max_length = max map { length } @nums;\n</code></pre>\n\n<p>what in this case can be done yet more efficiently as</p>\n\n<pre><code>my $max_length = length max @nums;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9944744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd24df4842ef9bb3d1fe75b5d48f4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/9944744/jasper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 56512030, "answer_count": 1, "score": 1, "last_activity_date": 1560150098, "creation_date": 1560051227, "last_edit_date": 1560150098, "question_id": 56511778, "link": "https://stackoverflow.com/questions/56511778/why-does-shift-think-its-receiving-a-parameter-in-scalar-context", "title": "Why does shift think it&#39;s receiving a parameter in scalar context?", "body": "<p>\nI'm trying to determine the maximum number of digits of any number in a list. I've found that I can easily chain functions. As such the following code works as expected:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse diagnostics;\n\nmy @nums = qw/ 1 23 5432 45 /;\nmy @lengths = reverse sort map {1 + log($_)/log(10)} @nums;\nmy $max_length = shift @lengths;\nprintf \"%d\\n\", $max_length;\n</code></pre>\n\n<p>Which produces the expected result of <code>4</code>.</p>\n\n<p>However, when I try to do the shift on the same line as the rest of the list operations:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse diagnostics;\n\nmy @nums = qw/ 1 23 5432 45 /;\nmy $max_length = shift reverse sort map {1 + log($_)/log(10)} @nums;\nprintf \"%d\\n\", $max_length;\n</code></pre>\n\n<p>I get the error</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>Experimental shift on scalar is now forbidden at - line 5, near \"@nums;\"\n</code></pre>\n\n<p>Why does shift think that it's being passed a parameter with scalar context, but reverse and sort don't?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl", "grouping", "file-handling", "multiline"], "comments": [{"owner": {"reputation": 13, "user_id": 11619165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dba053e0c5e96211127fcec12561563?s=128&d=identicon&r=PG&f=1", "display_name": "sebaa", "link": "https://stackoverflow.com/users/11619165/sebaa"}, "reply_to_user": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "edited": false, "score": 1, "creation_date": 1560020301, "post_id": 56509169, "comment_id": 99605619, "body": "Yes,Please ignore that. Consider the below inputs : JMOD_01 :: This is starting of grouping 2nd KFGJHFG RTIRT DFB SFJKF ERIEFF FJDKF OIOIISD SDJKD  last line ______________ 5564 numerical digits.  fdgh_6765_546/456 :: This is second starting of grouping 2nd KFGJHFG RTIRT FSFJKF   ERIEFF FJDKF OIOIISD SDJKD  till this end ___________ 021542 some random digits.   Thanks for pointing it."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11619165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dba053e0c5e96211127fcec12561563?s=128&d=identicon&r=PG&f=1", "display_name": "sebaa", "link": "https://stackoverflow.com/users/11619165/sebaa"}, "edited": false, "score": 1, "creation_date": 1560022647, "post_id": 56509346, "comment_id": 99606083, "body": "I combined the mentioned regex in my code and now its taking all the three groupings properly. Thanks Emma."}], "tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": true, "score": 1, "last_activity_date": 1560044852, "last_edit_date": 1560044852, "creation_date": 1560020683, "answer_id": 56509346, "question_id": 56509169, "link": "https://stackoverflow.com/questions/56509169/perl-regex-for-multiple-pattern-grouping-and-multiline-regex/56509346#56509346", "title": "Perl regex for multiple pattern grouping and multiline regex", "body": "<p>If I correctly understand the problem, we can likely use two simple expressions and extract our desired data, if that'd be OK: </p>\n\n<pre><code>([A-Z_0-9]+)\\s+::\\s+([\\s\\S]+)\n</code></pre>\n\n<h3><a href=\"https://regex101.com/r/fwycI3/1/\" rel=\"nofollow noreferrer\">Demo 1</a></h3>\n\n<h3>Test</h3>\n\n<pre><code>use strict;\n\nmy $str = 'JMOD_01 :: This is starting of grouping 2nd KFGJHFG RTIRT DFB SFJKF ERIEFF FJDKF OIOIISD SDJKD \nlast line ______________ 5564 numerical digits.\n\nThis is second starting of grouping 2nd KFGJHFG RTIRT FSFJKF  \nERIEFF FJDKF OIOIISD SDJKD \ntill this end ___________ 021542 some random digits.\n\n';\nmy $regex = qr/([A-Z_0-9]+)\\s+::\\s+([\\s\\S]+)/mp;\n\nif ( $str =~ /$regex/g ) {\n  print \"Whole match is ${^MATCH} and its start/end positions can be obtained via \\$-[0] and \\$+[0]\\n\";\n  # print \"Capture Group 1 is $1 and its start/end positions can be obtained via \\$-[1] and \\$+[1]\\n\";\n  # print \"Capture Group 2 is $2 ... and so on\\n\";\n}\n\n# ${^POSTMATCH} and ${^PREMATCH} are also available with the use of '/p'\n# Named capture groups can be called via $+{name}\n</code></pre>\n\n<p>and for extracting our digits:</p>\n\n<pre><code>([0-9]+\\snumerical digits|[0-9]+\\ssome random digits)\n</code></pre>\n\n<h3><a href=\"https://regex101.com/r/WRq0w8/1/\" rel=\"nofollow noreferrer\">Demo 2</a></h3>\n\n<h3>Test</h3>\n\n<pre><code>use strict;\n\nmy $str = 'JMOD_01 :: This is starting of grouping 2nd KFGJHFG RTIRT DFB SFJKF ERIEFF FJDKF OIOIISD SDJKD \nlast line ______________ 5564 numerical digits.\n\nThis is second starting of grouping 2nd KFGJHFG RTIRT FSFJKF  \nERIEFF FJDKF OIOIISD SDJKD \ntill this end ___________ 021542 some random digits.\n\n';\nmy $regex = qr/([0-9]+\\snumerical digits|[0-9]+\\ssome random digits)/mp;\n\nif ( $str =~ /$regex/g ) {\n  print \"Whole match is ${^MATCH} and its start/end positions can be obtained via \\$-[0] and \\$+[0]\\n\";\n  # print \"Capture Group 1 is $1 and its start/end positions can be obtained via \\$-[1] and \\$+[1]\\n\";\n  # print \"Capture Group 2 is $2 ... and so on\\n\";\n}\n\n# ${^POSTMATCH} and ${^PREMATCH} are also available with the use of '/p'\n# Named capture groups can be called via $+{name}\n</code></pre>\n\n<h3>RegEx Circuit</h3>\n\n<p><a href=\"https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb)*%3F%24\" rel=\"nofollow noreferrer\">jex.im</a> visualizes regular expressions:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LVyAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LVyAy.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 11619165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dba053e0c5e96211127fcec12561563?s=128&d=identicon&r=PG&f=1", "display_name": "sebaa", "link": "https://stackoverflow.com/users/11619165/sebaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "accepted_answer_id": 56509346, "answer_count": 1, "score": 1, "last_activity_date": 1560044852, "creation_date": 1560018964, "last_edit_date": 1560019699, "question_id": 56509169, "link": "https://stackoverflow.com/questions/56509169/perl-regex-for-multiple-pattern-grouping-and-multiline-regex", "title": "Perl regex for multiple pattern grouping and multiline regex", "body": "<p>I have a input txt file containing multiple number of lines in the mentioned format.</p>\n\n<pre><code>JMOD_01 :: This is starting of grouping 2nd KFGJHFG RTIRT DFB SFJKF ERIEFF FJDKF OIOIISD SDJKD \nlast line ______________ 5564 numerical digits.\n\nThis is second starting of grouping 2nd KFGJHFG RTIRT FSFJKF  \nERIEFF FJDKF OIOIISD SDJKD \ntill this end ___________ 021542 some random digits.\n</code></pre>\n\n<p>I am trying to read this file and extract the searched pattern in a grouping manner</p>\n\n<p>This is below, what I have tried.\nI tried, grouping the first match and it is getting captured properly.\nIssue is coming while looking for second grouping as , it is not considering the next line elements.</p>\n\n<pre><code>open(IFH,'&lt;',\"file.txt\");\n\nwhile ($line = &lt;IFH&gt;) {\nif ($line =~ /^\\s*(\\w+\\_\\d*.*)\\s*::(.*)/s) {\nprint \"$1\\n\";\nprint \"$2\\n\";\n}\n}\nclose(IFH);\n</code></pre>\n\n<p>Expected result :</p>\n\n<p>print $1; #This should give me </p>\n\n<pre><code>JMOD_01\nfdgh_6765_546/456\n</code></pre>\n\n<p>and when , print $2; #then it should give me</p>\n\n<pre><code>\"This is starting of grouping 2nd KFGJHFG RTIRT DFB SFJKF ERIEFF FJDKF OIOIISD SDJKD last line\"\n\n\"This is second starting of grouping 2nd KFGJHFG RTIRT FSFJKF  \nERIEFF FJDKF OIOIISD SDJKD till this end\"\n</code></pre>\n\n<p>and when, print $3; #then it should give</p>\n\n<pre><code>\"5564 numerical digits\"\n\"021542 some random digits\"\n</code></pre>\n\n<p>But actual output is coming different for 2nd grouping :\nprint $2; #actual output</p>\n\n<pre><code>\"This is first starting of grouping 2nd KFGJHFG RTIRT DFB SFJKF\"\n\n\"This is second starting of grouping 2nd KFGJHFG RTIRT FSFJKF\"\n</code></pre>\n"}, {"tags": ["regex", "perl", "csv"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 1, "last_activity_date": 1559931168, "creation_date": 1559931168, "answer_id": 56499391, "question_id": 56499334, "link": "https://stackoverflow.com/questions/56499334/multi-order-splitting-inside-perl/56499391#56499391", "title": "Multi-order splitting inside Perl", "body": "<p>My guess is that we wish to capture upto four commas after the last <code>\"</code>, for which we would be starting with a simple expression such as:</p>\n\n<pre><code>(.*\",.+?,.+?,.+?,.+?),\n</code></pre>\n\n<h3><a href=\"https://regex101.com/r/2lcdrD/1/\" rel=\"nofollow noreferrer\">Demo</a></h3>\n\n<h3>Test</h3>\n\n<pre><code>use strict;\n\nmy $str = 'NA19900,4,111629038,0;0,0;0,\"GSA-rs16997168,rs16997168,rs2w34r23424\",C,T,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0';\nmy $regex = qr/(.*\",.+?,.+?,.+?,.+?),/mp;\n\nif ( $str =~ /$regex/g ) {\n  print \"Whole match is ${^MATCH} and its start/end positions can be obtained via \\$-[0] and \\$+[0]\\n\";\n  # print \"Capture Group 1 is $1 and its start/end positions can be obtained via \\$-[1] and \\$+[1]\\n\";\n  # print \"Capture Group 2 is $2 ... and so on\\n\";\n}\n\n# ${^POSTMATCH} and ${^PREMATCH} are also available with the use of '/p'\n# Named capture groups can be called via $+{name}\n</code></pre>\n\n<h3>RegEx</h3>\n\n<p>If this expression wasn't desired and you wish to modify it, please visit this link at <a href=\"https://regex101.com/r/2lcdrD/1/\" rel=\"nofollow noreferrer\">regex101.com</a>.</p>\n\n<h3>RegEx Circuit</h3>\n\n<p><a href=\"https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb)*%3F%24\" rel=\"nofollow noreferrer\">jex.im</a> visualizes regular expressions:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KtgGX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KtgGX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1559931707, "creation_date": 1559931707, "answer_id": 56499503, "question_id": 56499334, "link": "https://stackoverflow.com/questions/56499334/multi-order-splitting-inside-perl/56499503#56499503", "title": "Multi-order splitting inside Perl", "body": "<p>Why try to recreate a CSV parser when perfectly good ones exist?</p>\n\n<pre><code>use Text::CSV_XS qw( );\n\nmy $csv = Text::CSV_XS-&gt;new({ binary =&gt; 1, auto_diag =&gt; 2 });\nwhile ( my $row = $csv-&gt;get_line($fh) ) {\n   $row-&gt;[5] =~ s/,/;/g\n   $csv-&gt;say(\\*STDOUT, $row);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1559956689, "creation_date": 1559956689, "answer_id": 56502679, "question_id": 56499334, "link": "https://stackoverflow.com/questions/56499334/multi-order-splitting-inside-perl/56502679#56502679", "title": "Multi-order splitting inside Perl", "body": "<p>Why use a CSV module and a regex.<br>\nJust use a regex and cut out the middle man .  </p>\n\n<p><code>$str =~ s/(?m:(?:,|^)\"|(?!^)\\G)[^\",]*\\K,(?=[^\"]*\")/;/g ;</code> </p>\n\n<p><a href=\"https://regex101.com/r/tRDCen/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/tRDCen/1</a></p>\n\n<p>Read-me version  </p>\n\n<pre><code> (?m:\n      (?: , | ^ )\n      \"\n   |  \n      (?! ^ )\n      \\G \n )\n [^\",]* \n \\K \n ,\n (?= [^\"]* \" )\n</code></pre>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56499503, "answer_count": 3, "score": 1, "last_activity_date": 1559956689, "creation_date": 1559930949, "last_edit_date": 1559935326, "question_id": 56499334, "link": "https://stackoverflow.com/questions/56499334/multi-order-splitting-inside-perl", "title": "Multi-order splitting inside Perl", "body": "<p>I have a string which comes from a CSV file:</p>\n\n<pre><code>my $str = 'NA19900,4,111629038,0;0,0;0,\"GSA-rs16997168,rs16997168,rs2w34r23424\",C,T,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0';\n</code></pre>\n\n<p>which should be translated (somehow) to</p>\n\n<pre><code>'NA19900,4,111629038,0;0,0;0,\"GSA-rs16997168;rs16997168;rs2w34r23424\",C,T,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0';\n</code></pre>\n\n<p>so that perl's <code>split</code> does not split the single field <code>GSA-rs16997168,rs16997168</code> into two separate fields</p>\n\n<p>i.e. the comma should be replaced by a semi-colon if it is between the two <code>\"</code> I can't find how to do this on Google </p>\n\n<p>What I've tried so far:</p>\n\n<ol>\n<li><p><code>$str =~ s/\"([^\"]+),([^\"]+)\"/\"$1;$2\"/g;</code> but this fails with > 2 expressions</p></li>\n<li><p>It would be great if I could somehow tell perl's <code>split</code> function to count everything within <code>\"\"</code> as one field even if that text has the <code>,</code> delimiter, but I don't know how to do that :(</p></li>\n<li><p>I've heard of lookaheads, but I don't see how I can use them here :(</p></li>\n</ol>\n"}, {"tags": ["macos", "perl", "perlbrew"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1559929139, "post_id": 56498937, "comment_id": 99587076, "body": "In Perl, always check your semi-colons. I think you&#39;re missing one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1559930014, "post_id": 56498937, "comment_id": 99587371, "body": "So it&#39;s a missing semicolon.  A note on error reporting: Perl&#39;s diagnostic output is excellent.  But in some cases it just can&#39;t nail it down, and then you need to go backwards from where it reports a problem and <i>read your code really closely</i> ... and simply spot the error.  I think it&#39;s fair to say that the silliest syntax errors are hardest to catch (because they allow perl to keep cranking and that breaks down only later by which time the error appears weird)"}], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": 4, "last_activity_date": 1559929125, "creation_date": 1559929125, "answer_id": 56498979, "question_id": 56498937, "link": "https://stackoverflow.com/questions/56498937/perl-syntax-error-on-compilation-use-not-allowed-in-expression/56498979#56498979", "title": "Perl Syntax Error on Compilation - &quot;use&quot; not allowed in expression", "body": "<p>You're missing a semicolon at the end of the <code>use lib \"...\"</code> line.</p>\n"}, {"comments": [{"owner": {"reputation": 201, "user_id": 10090133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omfbo.png?s=128&g=1", "display_name": "Marisa", "link": "https://stackoverflow.com/users/10090133/marisa"}, "edited": false, "score": 0, "creation_date": 1559929682, "post_id": 56498996, "comment_id": 99587269, "body": "Thanks for the tip but don&#39;t I feel like a dope. But naturally it fails on compiling the DBI module."}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 201, "user_id": 10090133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omfbo.png?s=128&g=1", "display_name": "Marisa", "link": "https://stackoverflow.com/users/10090133/marisa"}, "edited": false, "score": 0, "creation_date": 1560008472, "post_id": 56498996, "comment_id": 99602949, "body": "@Marisa - As this answer says, look backwards from the reported line. In this case, Perl sees the command <code>use lib &quot;...&quot; use DBI;</code>. The <code>use lib &quot;...&quot;</code> part is fine, but then it hits <code>use DBI</code> and knows at that point that something is wrong, but it&#39;s not sure what exactly the problem is, so it reports that the problem is &quot;<i>near</i> <code>use DBI</code>&quot;. If you put, e.g., a <code>print</code> statement after the missed semicolon, the error would be reported as &quot;near <code>print</code>&quot; - it has nothing at all to do with the DBI module."}], "tags": [], "owner": {"reputation": 1110, "user_id": 9749458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/001ed2d47a01593ee5c6463c2f5fe224?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Mitchell", "link": "https://stackoverflow.com/users/9749458/dave-mitchell"}, "is_accepted": false, "score": 3, "last_activity_date": 1559929181, "creation_date": 1559929181, "answer_id": 56498996, "question_id": 56498937, "link": "https://stackoverflow.com/questions/56498937/perl-syntax-error-on-compilation-use-not-allowed-in-expression/56498996#56498996", "title": "Perl Syntax Error on Compilation - &quot;use&quot; not allowed in expression", "body": "<p>You're missing a semicolon at the end of line 5.</p>\n\n<p>A good general rule when debugging error messages is to check the line(s) immediately preceding the line where the error is reported as occurring.</p>\n"}], "owner": {"reputation": 201, "user_id": 10090133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omfbo.png?s=128&g=1", "display_name": "Marisa", "link": "https://stackoverflow.com/users/10090133/marisa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "closed_date": 1559935528, "answer_count": 2, "score": 4, "last_activity_date": 1559929181, "creation_date": 1559928891, "question_id": 56498937, "link": "https://stackoverflow.com/questions/56498937/perl-syntax-error-on-compilation-use-not-allowed-in-expression", "closed_reason": "Not suitable for this site", "title": "Perl Syntax Error on Compilation - &quot;use&quot; not allowed in expression", "body": "<p>Bear with me as I'm new to Perl, but I am having an error in compilation on a use statement, but I'm not entirely sure why I'd get one there. I am using perlbrew on Mac Sierra. The perl version is 5.26.1.</p>\n\n<p>I'm not quite sure where to really start. I did a little research and the only thing I found close to what I needed was an invalid shebang line, which I'm not using. I did try with a valid shebang line with no change.</p>\n\n<p>I did comment the offending line to see what would happen and it just failed on the very next one so it's my use  statements.</p>\n\n<pre><code>use warnings;\nuse strict;\n\n# Lib Folders;\nuse lib \"/Users/user/perl5/lib/perl5/darwin-thread-multi-2level\"\n\n# Load Modules\nuse DBI;\nuse DBD::MariaDB;\nuse Text::CSV;\nuse Excel::Writer::XLSX;\nuse Time::Piece;\nuse Log::Log4perl qw(get_logger);\n</code></pre>\n\n<p>Since I can't compile past this point, I can't verify if anything else beyond it doesn't work. I'm at a loss as to why this is causing an error.</p>\n\n<p>I would expect another compilation error or a successful compilation if I wrote everything else properly.</p>\n\n<pre><code>\"use\" not allowed in expression at report.pl line 8, at end of line\nsyntax error at report.pl line 8, near \"use DBI\"\nBEGIN not safe after errors--compilation aborted at report.pl line 9.\nCommand terminated with non-zero status.\nCommand [perl report.pl] terminated with exit code 255 ($? = 65280) under the following perl environment:\nCurrent perl:\n  Name: perl-5.26.1\n  Path: /Users/user/perl5/perlbrew/perls/perl-5.26.1/bin/perl\n  Config: -de -Dprefix=/Users/user/perl5/perlbrew/perls/perl-5.26.1 -Aeval:scriptdir=/Users/user/perl5/perlbrew/perls/perl-5.26.1/bin\n  Compiled at: Jun  4 2019 12:12:08\n</code></pre>\n\n<p>This is what the terminal is giving me when I run <code>perlbrew exec perl report.pl</code>. I must've missed something but I'm not sure what exactly.</p>\n"}, {"tags": ["perl", "epoch"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559926297, "post_id": 56498237, "comment_id": 99585799, "body": "Why do you ask for a &quot;<i>completely manual method</i>&quot;?  Do you really not want to use a library?"}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559926616, "post_id": 56498237, "comment_id": 99585942, "body": "@zdim that is the problem, the integer is only available to the frontend, the frontend does not have any scripting functionality, other than normal translations from numeric to text, calculations like addition, multiplications etc. <code>:(</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559926964, "post_id": 56498237, "comment_id": 99586137, "body": "&quot;<i>frontend does not have any scripting functionality</i>&quot;  -- then I don&#39;t understand what you ask: Not for a Perl script to do that?  What tools are available then? What do you mean by &quot;calculator/calculation&quot;?  Is this done on a command line, or what is the &quot;front end&quot;?  I&#39;m confused :)"}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559927309, "post_id": 56498237, "comment_id": 99586284, "body": "@zdim. ok, let me make it clearer. So it has basic functions. No items available like <code>Time::Local;</code> it can only do basic things like <code>$time = $hour + $min;</code> As manual as that <code>:)</code> manual down to the bone."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559927562, "post_id": 56498237, "comment_id": 99586405, "body": "So what is &quot;<b>it</b>&quot; (that has basic functions) -- it&#39;s not Perl at all then?  (Why do you use Perl&#39;s variables like <code>$hour</code>? Does that system use the same notation for variables?)  The way the question reads I expect that you are asking to convert things around by Perl."}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559927797, "post_id": 56498237, "comment_id": 99586517, "body": "It is perl. So the front-end has a very blackboxed version of perl to do basic functions, it mostly is just little formula boxes GUI interfaces that translates to perl code. but very basic perl code can be manually entered. It is old and crappy, but I have to use it. the <code>$hour</code> variable was an example of manual. Let&#39;s rather say <code>$sum = 1 + 2;</code> So I have to basically do the reverse of the above code, without modules."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559928720, "post_id": 56498237, "comment_id": 99586919, "body": "Ugh.  I see.  Date-times are hard to do correctly, but you can for that one particular system.  Then go ahead, check that your epoch starts in 1970, and account for all leaps and oddities since then to convert those seconds to year+mon+day+time.   It&#39;ll be fun :)"}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559928820, "post_id": 56498237, "comment_id": 99586959, "body": "@zdim Thanks, you can imagine my excitement in this <code>:p</code>"}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559928968, "post_id": 56498237, "comment_id": 99587012, "body": "@zdim I was thinking of doing something like 365.25 / 86 400 and getting 1970 in there, but that still leaves me with some conversion issues. Maybe I am just tired of this bloody long day. <code>:)</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1559929061, "post_id": 56498237, "comment_id": 99587048, "body": "@Gerry That is not even close to correct. Can you at least use the <a href=\"https://perldoc.pl/functions/localtime\" rel=\"nofollow noreferrer\">localtime</a> built in function? Or perhaps the <code>date</code> Unix utility? I would demand quite a significant paycheck to reimplement it."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559926218, "post_id": 56498316, "comment_id": 99585758, "body": "&quot;<i>unfortunately the ones Time::Piece accepts are not documented</i>&quot; -- well, it sends us to <code>strptime</code> man page.  If those are correct specs (which in my experience have been) then that is documented."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559926407, "post_id": 56498316, "comment_id": 99585845, "body": "It is not exactly: Time::Piece&#39;s strptime parser is quite custom, though of course only in the extensions."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559926824, "post_id": 56498316, "comment_id": 99586060, "body": "Huh.  Then that&#39;s a bug in the docs.  If it sends me to a man page for format that implies (to me as a user) that that man page describes its format precisely (or, really, that the program uses the system&#39;s facility)."}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559927912, "post_id": 56498316, "comment_id": 99586581, "body": "Thanks. plus one for the answer, but the problem is, the frontend perl is a blackboxed version of perl, it has limited resources to perl libraries. I need to do it at an actual <code>1+1=2</code>level <code>:(</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559928173, "post_id": 56498316, "comment_id": 99586682, "body": "@Gerry Time::Piece is core. Unless you are on a Perl older than 5.10 or an incomplete Perl installation, you have access to it."}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559928302, "post_id": 56498316, "comment_id": 99586745, "body": "@Grinnz to be honest, this app is as old as the mountains. I did try the reverse of epoch, but the code does not compile when I try and save it. I know this is a funny one, but the app limits me, hence the manual methods needed."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559929446, "post_id": 56498316, "comment_id": 99587192, "body": "@Gerry Note that you need <code>use Time::Piece</code> for both directions presented above, as it replaces the built in <code>localtime</code> with its own function."}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559929684, "post_id": 56498316, "comment_id": 99587272, "body": "Yeah, thank you. Yes. So the script I posted is on proper perl to get the variables in from another system, the only way to convert the values back to readable form is manual. I do at least have <code>localtime</code> at disposal, but that does not solve my issue where I have to find a calculation method to do comparisons with."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559930083, "post_id": 56498316, "comment_id": 99587398, "body": "@Gerry Added an example using the built-in <code>localtime</code>."}, {"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559930184, "post_id": 56498316, "comment_id": 99587430, "body": "Dude, seems I can make it work using that edit! Thanks!"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1559950671, "post_id": 56498316, "comment_id": 99593370, "body": "@Grinnz using libraries is cheating :)  see my answer"}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1559930061, "last_edit_date": 1559930061, "creation_date": 1559925909, "answer_id": 56498316, "question_id": 56498237, "link": "https://stackoverflow.com/questions/56498237/full-manual-conversion-of-epoch-time-to-date-and-time/56498316#56498316", "title": "Full manual conversion of Epoch time to Date and Time", "body": "<p>The core <a href=\"https://perldoc.pl/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> can convert in both directions simply for your local time zone.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Piece;\n\nmy $datestring = '07-06-2019 21:13:00';\nmy $time = localtime-&gt;strptime($datestring, '%d-%m-%Y %H:%M:%S');\nmy $epoch = $time-&gt;epoch;\n\n...\n\nmy $time = localtime($epoch);\nmy $datestring = $time-&gt;strftime('%d-%m-%Y %H:%M:%S');\n</code></pre>\n\n<p>See any standard strftime or strptime man page for the format specifiers that are usually accepted - unfortunately the ones Time::Piece accepts are not documented.</p>\n\n<hr>\n\n<p>Without access to Time::Piece, which is core since Perl 5.10, you can use the built in <a href=\"https://perldoc.pl/functions/localtime\" rel=\"nofollow noreferrer\">localtime</a> function, it's just a little more complicated (like timelocal).</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $epoch = 1559934780;\nmy ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime $epoch;\nmy $date_string = sprintf '%02d-%02d-%04d %02d:%02d:%02d',\n  $mday, $mon+1, $year+1900, $hour, $min, $sec;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "edited": false, "score": 0, "creation_date": 1559977413, "post_id": 56502249, "comment_id": 99596551, "body": "Awesome, this is as manual as it gets. Let me test this on my system <code>:)</code>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1559998505, "post_id": 56502249, "comment_id": 99600625, "body": "This doesn&#39;t account for your local time zone, and is ridiculously complicated and impossible to audit. Just use localtime."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1560232124, "post_id": 56502249, "comment_id": 99656508, "body": "@Grinnz it is nevertheless what the question asked for, or at least the date part of that.  I had missed that they were using timelocal(), though; that makes things tougher.  Auditing is easy enough; compare a wide range of results to localtime()"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1559952868, "last_edit_date": 1559952868, "creation_date": 1559950524, "answer_id": 56502249, "question_id": 56498237, "link": "https://stackoverflow.com/questions/56498237/full-manual-conversion-of-epoch-time-to-date-and-time/56502249#56502249", "title": "Full manual conversion of Epoch time to Date and Time", "body": "<p>In very early versions of DateTime.pm you will find a sub _rd2greg that I wrote as jd2greg for Rich Bowen's earlier and long defunct Project Reefknot.  That takes a number of days since the beginning of the year 1 and produces a year, month, and day.  You can take an epoch time divided by 86400 (seconds in a day) floored and add 719163 (the days up to the year 1970) to pass to it.</p>\n\n<p>Here jd2greg and the corresponding greg2jd:</p>\n\n<pre><code>=head2 jd2greg\n\n    ($year, $month, $day) = jd2greg( $jd );\n\n    Convert number of days on or after Jan 1, 1 CE (Gregorian) to\n    gregorian year,month,day.\n\n=cut\n\nsub jd2greg {\n    use integer;\n    my $d = shift;\n    my $yadj = 0;\n    my ( $c, $y, $m );\n\n    # add 306 days to make relative to Mar 1, 0; also adjust $d to be within\n    # a range (1..2**28-1) where our calculations will work with 32bit ints\n    if ( $d &gt; 2**28 - 307 ) {\n\n        # avoid overflow if $d close to maxint\n        $yadj = ( $d - 146097 + 306 ) / 146097 + 1;\n        $d -= $yadj * 146097 - 306;\n      } elsif ( ( $d += 306 ) &lt;= 0 )\n    {\n        $yadj =\n          -( -$d / 146097 + 1 );    # avoid ambiguity in C division of negatives\n        $d -= $yadj * 146097;\n    }\n\n    $c =\n      ( $d * 4 - 1 ) / 146097;    # calc # of centuries $d is after 29 Feb of yr 0\n    $d -= $c * 146097 / 4;    #     (4 centuries = 146097 days)\n    $y = ( $d * 4 - 1 ) / 1461;    # calc number of years into the century,\n    $d -= $y * 1461 / 4;    #     again March-based (4 yrs =~ 146[01] days)\n    $m =\n      ( $d * 12 + 1093 ) / 367;    # get the month (3..14 represent March through\n    $d -= ( $m * 367 - 1094 ) / 12;    #     February of following year)\n    $y += $c * 100 + $yadj * 400;    # get the real year, which is off by\n    ++$y, $m -= 12 if $m &gt; 12;         #     one if month is January or February\n    return ( $y, $m, $d );\n}\n\n\n=head2 greg2jd\n\n    $jd = greg2jd( $year, $month, $day );\n\n    Convert gregorian year,month,day to days on or after Jan 1, 1 CE\n    (Gregorian).  Normalization is performed (e.g. month of 28 means\n    April two years after given year) for month &lt; 1 or &gt; 12 or day &lt; 1\n    or &gt; last day of month.\n\n=cut\n\nsub greg2jd {\n    use integer;\n    my ( $y, $m, $d ) = @_;\n    my $adj;\n\n    # make month in range 3..14 (treat Jan &amp; Feb as months 13..14 of prev year)\n    if ( $m &lt;= 2 ) {\n        $y -= ( $adj = ( 14 - $m ) / 12 );\n        $m += 12 * $adj;\n      } elsif ( $m &gt; 14 )\n    {\n        $y += ( $adj = ( $m - 3 ) / 12 );\n        $m -= 12 * $adj;\n    }\n\n    # make year positive (oh, for a use integer 'sane_div'!)\n    if ( $y &lt; 0 ) {\n        $d -= 146097 * ( $adj = ( 399 - $y ) / 400 );\n        $y += 400 * $adj;\n    }\n\n    # add: day of month, days of previous 0-11 month period that began w/March,\n    # days of previous 0-399 year period that began w/March of a 400-multiple\n    # year), days of any 400-year periods before that, and 306 days to adjust\n    # from Mar 1, year 0-relative to Jan 1, year 1-relative (whew)\n\n    $d += ( $m * 367 - 1094 ) / 12 + $y % 100 * 1461 / 4 +\n      ( $y / 100 * 36524 + $y / 400 ) - 306;\n}\n</code></pre>\n"}], "owner": {"reputation": 210, "user_id": 8030832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53e968cb5cda47d9f10595b7e98dadf?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/8030832/gerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 56498316, "answer_count": 2, "score": 0, "last_activity_date": 1559952868, "creation_date": 1559925488, "question_id": 56498237, "link": "https://stackoverflow.com/questions/56498237/full-manual-conversion-of-epoch-time-to-date-and-time", "title": "Full manual conversion of Epoch time to Date and Time", "body": "<p>I wrote this Perl script to convert date and time from files into epoch time.</p>\n\n<p>The original date format is <code>dd-mm-yyyy hh:MM:ss</code></p>\n\n<p>The reason I do this is because I have to write these values to a database and only integer values are accepted by the columns.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::Local;\n\n$datestring = '07-06-2019 21:13:00';\n\nmy ($dd, $mm, $yyyy, $hh, $min, $sec) = split /\\W+/, $datestring;\n\nmy $epoch = timelocal($sec,$min,$hh,$dd,$mm-1,$yyyy-1900);\nprint(\"$epoch\\n\");\n</code></pre>\n\n<p>Which translates the date <code>07-06-2019 21:13:00</code> to <code>1559934780</code></p>\n\n<p>The issue:\nThe values are now presented in a front-end which is unreadable by the user, the front-end does not have scripting utilities and I can only use numerous different calculation formulas which I can use to make it readable.</p>\n\n<p>Is there a completely manual method, by simply using a calculator/calculation to translate epoch time back into user readable date and time?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559918698, "post_id": 56496510, "comment_id": 99581955, "body": "<code>&quot;task_file&quot; || die &quot;$!\\n&quot;</code> makes no sense. That&#39;s just <code>&quot;task_file&quot;</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559918764, "post_id": 56496510, "comment_id": 99581996, "body": "Your <code>read_file</code> function overwrites the global <code>$_</code> variable. That&#39;s bad style."}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559918885, "post_id": 56496510, "comment_id": 99582052, "body": "@melpomene this is not a &quot;review my code&quot; im just asking for a solution to a problem"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559919077, "post_id": 56496510, "comment_id": 99582160, "body": "I don&#39;t understand the question. Your code doesn&#39;t print any rows of the file as far as I can tell."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1559919182, "post_id": 56496510, "comment_id": 99582218, "body": "Can you remove the parts of the code irrelevant to the question?"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1559919353, "post_id": 56496510, "comment_id": 99582297, "body": "@choroba updated"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1559920342, "post_id": 56496510, "comment_id": 99582816, "body": "@DavideLorino: You seem to be drip-feeding us the specification for your program. That seems like a rather inefficient use of everyone&#39;s time :-)"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1559920546, "post_id": 56496510, "comment_id": 99582941, "body": "@DaveCross its hard to strike a balance, as you can see from the above, too much information can also be a hindrance"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559921096, "post_id": 56496510, "comment_id": 99583261, "body": "Code is not a specification."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1559919710, "last_edit_date": 1559919710, "creation_date": 1559918943, "answer_id": 56496591, "question_id": 56496510, "link": "https://stackoverflow.com/questions/56496510/conditionally-print-elements-in-a-text-file/56496591#56496591", "title": "Conditionally print elements in a text file", "body": "<p>Filtering a list is easily done with <a href=\"http://p3rl.org/grep\" rel=\"nofollow noreferrer\">grep</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse feature qw{ say };\nuse warnings;\n\nmy @COLUMNS = qw( memory cpu program );\n\nmy (%process_details, %sort);\n\nwhile (&lt;DATA&gt;) {\n    my ($process_id, $memory_size, $cpu_time, $program_name) = split;\n    $process_details{$process_id} = { memory  =&gt; $memory_size,\n                                      cpu     =&gt; $cpu_time,\n                                      program =&gt; $program_name };\n    undef $sort{memory}{$memory_size}{$process_id};\n    undef $sort{cpu}{$cpu_time}{$process_id};\n    undef $sort{program}{$program_name}{$process_id};\n}\n\nfor my $value (sort { $a cmp $b } keys %{ $sort{program} }) {\n    my @pids = grep $process_details{$_}{memory} &gt; 2000,\n               keys %{ $sort{program}{$value} };\n    say join ' ', $_, @{ $process_details{$_} }{@COLUMNS}\n        for @pids;\n}\n\n__DATA__\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 1, "last_activity_date": 1559919617, "last_edit_date": 1559919617, "creation_date": 1559919432, "answer_id": 56496746, "question_id": 56496510, "link": "https://stackoverflow.com/questions/56496510/conditionally-print-elements-in-a-text-file/56496746#56496746", "title": "Conditionally print elements in a text file", "body": "<pre><code>my ($process_id, $memory_size, $cpu_time, $program_name) = split;\n</code></pre>\n\n<p>At this point, you can complete the loop, or you can continue to the next line. Just add the line:</p>\n\n<pre><code>next if $memory_size &lt; 2000;\n</code></pre>\n\n<p>right after the split, and you'll eliminate all the records in memory that fail to meet your requirements.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1559920258, "creation_date": 1559920258, "answer_id": 56496990, "question_id": 56496510, "link": "https://stackoverflow.com/questions/56496510/conditionally-print-elements-in-a-text-file/56496990#56496990", "title": "Conditionally print elements in a text file", "body": "<p>Something like this perhaps:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n  print if (split)[1] &gt; 2000;\n}\n\n__DATA__\n1 4730 1031782 init\n4 0 6 events\n2190 450 0 top\n21413 5928 1 sshd\n22355 1970 2009 find\n</code></pre>\n\n<p>With no arguments, <code>split()</code> splits <code>$_</code> on whitespace (which is what we want). We can then use a list slice to look at the second element of that and print the line if that value is greater than 2000.</p>\n"}], "owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56496746, "answer_count": 3, "score": -1, "last_activity_date": 1559920258, "creation_date": 1559918636, "last_edit_date": 1559919282, "question_id": 56496510, "link": "https://stackoverflow.com/questions/56496510/conditionally-print-elements-in-a-text-file", "title": "Conditionally print elements in a text file", "body": "<p>I have a text file of the following format:</p>\n\n<pre><code>1 4730 1031782 init\n4 0 6 events\n2190 450 0 top\n21413 5928 1 sshd\n22355 1970 2009 find \n</code></pre>\n\n<p>I want to print rows of this file only if the second column of data meets the requirement <code>&gt;= 2000</code> - how can I do this?</p>\n\n<p>Currently I am reading the file and printing it like so:</p>\n\n<pre><code>sub read_file{\n  my $data_failed = 1;\n  my $file = 'task_file';\n  if(open (my $file, \"task_file\" || die \"$!\\n\")){\n    my @COLUMNS = qw( memory cpu program );\n    my %sort_strings = ( program =&gt; sub { $a cmp $b } );\n\n    my (%process_details, %sort);\n\n    while (&lt;$file&gt;) {\n      $data_failed = 0;\n      my ($process_id, $memory_size, $cpu_time, $program_name) = split;\n      $process_details{$process_id} = { memory  =&gt; $memory_size,\n                                        cpu     =&gt; $cpu_time,\n                                        program =&gt; $program_name };\n      undef $sort{memory}{$memory_size}{$process_id};\n      undef $sort{cpu}{$cpu_time}{$process_id};\n      undef $sort{program}{$program_name}{$process_id};\n    }\n\n    if($option_a == 1){\n    if (-z $file){print \"No tasks found\\n\";}\n    for my $column ($COLUMNS[2]) {\n      my $cmp = $sort_strings{$column} || sub { $a &lt;=&gt; $b };\n      for my $value (sort $cmp keys %{ $sort{$column} }\n      ) {\n          my @pids = keys %{ $sort{$column}{$value} };\n          say join ' ', $_, @{ $process_details{$_} }{@COLUMNS}\n              for @pids;\n        }\n      }\n    }\n  } else { print \"No tasks found\\n\"}\n}\n</code></pre>\n\n<p>The <code>if($option_a == 1)</code> bit is just reading values from another function that parses command line options. </p>\n"}, {"tags": ["perl", "multiple-columns", "text-processing"], "comments": [{"owner": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 1, "creation_date": 1559914004, "post_id": 56495236, "comment_id": 99579345, "body": "what have you tried so far?"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "reply_to_user": {"reputation": 624, "user_id": 10023107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GLme.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/10023107/chris"}, "edited": false, "score": 0, "creation_date": 1559914426, "post_id": 56495236, "comment_id": 99579566, "body": "@Chris edited to show my attempt"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1559914526, "post_id": 56495236, "comment_id": 99579620, "body": "Don&#39;t use <code>DATA</code> for a real filehandle, it&#39;s a special one (see <a href=\"http://p3rl.org/perldata\" rel=\"nofollow noreferrer\">perldata</a>)."}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559914682, "post_id": 56495236, "comment_id": 99579714, "body": "Ok I am now using INFILE"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1559914914, "post_id": 56495236, "comment_id": 99579830, "body": "It&#39;s better to use lexical filehandles rather than bareword ones."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1559918330, "post_id": 56495236, "comment_id": 99581757, "body": "<code>open (INFILE, &quot;task_file&quot; || die &quot;$!\\n&quot;)</code> That <code>||</code> is in the wrong place. Probably shouldn&#39;t be there at all if you keep testing the <code>open</code> in an <code>if</code>, actually. And the 3 argument version and lexical file handle like already mentioned."}], "answers": [{"comments": [{"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559915067, "post_id": 56495442, "comment_id": 99579929, "body": "Thank you, how can I integrate this approach into a script without using a command line argument?"}], "tags": [], "owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "is_accepted": false, "score": 1, "last_activity_date": 1559914793, "creation_date": 1559914793, "answer_id": 56495442, "question_id": 56495236, "link": "https://stackoverflow.com/questions/56495236/sum-values-in-second-column-in-a-text-file/56495442#56495442", "title": "Sum values in second column in a text file", "body": "<p>The question describes a simple task, which appears to be part of a larger problem.  One answer to the simple task is:</p>\n\n<pre><code>perl -ne '@fields=split; $sum+=$fields[1]; END { print \"$sum\\n\" }' foo.txt\n</code></pre>\n\n<p>For each line (<code>-ne</code>), split it and add the second value (<code>$fields[1]</code>) to a running <code>$sum</code>.  Then, after all lines have been processed (<code>END</code>), print the sum.  I get <code>13078</code> from the program, which is also what I get from a calculator on the input above :) (<code>4730 + 0 + 450 + 5928 + 1970</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559915231, "post_id": 56495469, "comment_id": 99580019, "body": "I am unfortunately unable to use any non-core functionality, is there a way of doing this with the <code>+</code> operator?"}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "reply_to_user": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 1, "creation_date": 1559915283, "post_id": 56495469, "comment_id": 99580047, "body": "@DavideLorino <code>List::Util</code> has been in core since Perl 5.7.3 :)"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559920624, "post_id": 56495469, "comment_id": 99582981, "body": "@DavideLorino The sum function (available from any version of List::Util) can be easily replicated by the addition operator and a loop: <code>my $memory_sum = 0; $memory_sum += $_-&gt;{memory} for values %process_details;</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1559914893, "creation_date": 1559914893, "answer_id": 56495469, "question_id": 56495236, "link": "https://stackoverflow.com/questions/56495236/sum-values-in-second-column-in-a-text-file/56495469#56495469", "title": "Sum values in second column in a text file", "body": "<p>Use <code>sum</code> form <a href=\"http://p3rl.org/List::Util\" rel=\"nofollow noreferrer\">List::Util</a>:</p>\n\n<pre><code>use List::Util qw{ sum };\n\n# ...\n\nmy $memory_sum = sum(map $_-&gt;{memory}, values %process_details);\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 56495469, "answer_count": 2, "score": 0, "last_activity_date": 1559914962, "creation_date": 1559913916, "last_edit_date": 1559914962, "question_id": 56495236, "link": "https://stackoverflow.com/questions/56495236/sum-values-in-second-column-in-a-text-file", "title": "Sum values in second column in a text file", "body": "<p>I have a text file with the following format:</p>\n\n<pre><code>1 4730 1031782 init\n4 0 6 events\n2190 450 0 top\n21413 5928 1 sshd\n22355 1970 2009 find \n</code></pre>\n\n<p>I need to sum the second column of data and return that value to the user.</p>\n\n<p>My current attempt reads the data from the text file like so:</p>\n\n<pre><code>sub read_file{\n  my $data_failed = 1;\n  my $file = 'task_file';\n  if (-z $file){print \"No tasks found\\n\";}\n  if(open (INFILE, \"task_file\" || die \"$!\\n\")){\n    my @COLUMNS = qw( memory cpu program );\n    my %sort_strings = ( program =&gt; sub { $a cmp $b } );\n\n    my (%process_details, %sort);\n\n    while (&lt;INFILE&gt;) {\n      $data_failed = 0;\n      my ($process_id, $memory_size, $cpu_time, $program_name) = split;\n      $process_details{$process_id} = { memory  =&gt; $memory_size,\n                                        cpu     =&gt; $cpu_time,\n                                        program =&gt; $program_name };\n      undef $sort{memory}{$memory_size}{$process_id};\n      undef $sort{cpu}{$cpu_time}{$process_id};\n      undef $sort{program}{$program_name}{$process_id};\n    }\n\n    for my $column ($COLUMNS[2]) {\n      my $cmp = $sort_strings{$column} || sub { $a &lt;=&gt; $b };\n      for my $value (sort $cmp keys %{ $sort{$column} }\n      ) {\n          my @pids = keys %{ $sort{$column}{$value} };\n          say join ' ', $_, @{ $process_details{$_} }{@COLUMNS}\n              for @pids;\n      }\n  }\n  if($total_memory_size == 1){\n    sum_memory_size();\n  }\n} else { print \"No tasks found\"}\n}\n</code></pre>\n\n<p>And my attempt to sum the values:</p>\n\n<pre><code>sub sum_memory_size{\n  my @do_sum = qw(memory_size);\n\nmy $column;\nmy $value;\n\nfor $column (keys %{ $sort{$column}{$value} }) {\n    my $found;\n    my $sum = 0;\n    for $value (@do_sum) {\n        next unless exists $sort{$column}{$value};\n        $sum += $hash{$column}{$value};\n        delete $hash{$column}{$value};\n        $found = 1;\n    }\n    $sort{$column}{somename} = $sum if $found;\n}\n\nprint $sum;\n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559906348, "post_id": 56493032, "comment_id": 99575313, "body": "Would a solution using an array of arrays be useful or you need a hash?"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "reply_to_user": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559906389, "post_id": 56493032, "comment_id": 99575335, "body": "Totally open to an array of arrays"}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1559909023, "post_id": 56493032, "comment_id": 99576613, "body": "With /usr/bin/sort from GNU coreutils: <code>sort -k1 -n so-56493032.csv</code>"}], "answers": [{"comments": [{"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559910191, "post_id": 56493352, "comment_id": 99577219, "body": "Thanks for this - I am getting a compilation error, says bareword PROGRAM not allowed?"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559910265, "post_id": 56493352, "comment_id": 99577256, "body": "Actually I turned off strict and it works, thank you. Do you know how to sort on program_name alphabetically?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1559910365, "post_id": 56493352, "comment_id": 99577315, "body": "Turning off strict is unwise. My program already sorts by program name alphabetically, you just need to install <a href=\"http://p3rl.org/enum\" rel=\"nofollow noreferrer\">enum</a> for the second one."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1559910398, "last_edit_date": 1559910398, "creation_date": 1559906430, "answer_id": 56493352, "question_id": 56493032, "link": "https://stackoverflow.com/questions/56493032/read-space-delimited-text-file-into-array-of-hashes-perl/56493352#56493352", "title": "Read space delimited text file into array of hashes [Perl]", "body": "<p>You're storing the values under keys that are equal to the values. Use <a href=\"http://p3rl.org/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> to inspect the structure:</p>\n\n<pre><code>use Data::Dumper;\n# ...\nprint Dumper(\\%tasks);\n</code></pre>\n\n<p>You can store the pids in a hash of hashes, using the value of each column as the inner key.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse feature qw{ say };\n\nmy @COLUMNS = qw( memory cpu program );\nmy %sort_strings = ( program =&gt; sub { $a cmp $b } );\n\nmy (%process_details, %sort);\nwhile (&lt;DATA&gt;) {\n    my ($process_id, $memory_size, $cpu_time, $program_name) = split;\n    $process_details{$process_id} = { memory  =&gt; $memory_size,\n                                      cpu     =&gt; $cpu_time,\n                                      program =&gt; $program_name };\n    undef $sort{memory}{$memory_size}{$process_id};\n    undef $sort{cpu}{$cpu_time}{$process_id};\n    undef $sort{program}{$program_name}{$process_id};\n}\n\nsay 'By pid:';\nsay join ', ', $_, @{ $process_details{$_} }{@COLUMNS}\n    for sort { $a &lt;=&gt; $b } keys %process_details;\n\nfor my $column (@COLUMNS) {\n    say \"\\nBy $column:\";\n    my $cmp = $sort_strings{$column} || sub { $a &lt;=&gt; $b };\n    for my $value (sort $cmp keys %{ $sort{$column} }\n    ) {\n        my @pids = keys %{ $sort{$column}{$value} };\n        say join ', ', $_, @{ $process_details{$_} }{@COLUMNS}\n            for @pids;\n    }\n}\n\n__DATA__\n1 4730 1031782 init\n4 0 6 events\n2190 450 0 top\n21413 5928 1 sshd\n22355 1970 2009 find\n</code></pre>\n\n<p>But if the data aren't really large and the sorting isn't time critical, just sorting the whole array of arrays by a given column is much easier to write and read:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse feature qw{ say };\nuse warnings;\n\nuse enum qw( PID MEMORY CPU PROGRAM );\nmy @COLUMN_NAMES = qw( pid memory cpu program );\nmy %sort_strings = ((PROGRAM) =&gt; 1);\n\nmy @tasks;\npush @tasks, [ split ] while &lt;DATA&gt;;\n\nfor my $column_index (0 .. $#COLUMN_NAMES) {\n    say \"\\nBy $COLUMN_NAMES[$column_index]:\";\n    my $sort = $sort_strings{$column_index}\n        ? sub { $a-&gt;[$column_index] cmp $b-&gt;[$column_index] }\n        : sub { $a-&gt;[$column_index] &lt;=&gt; $b-&gt;[$column_index] };\n    say \"@$_\" for sort $sort @tasks;\n}\n__DATA__\n...\n</code></pre>\n\n<p>You need to install the <a href=\"http://p3rl.org/enum\" rel=\"nofollow noreferrer\">enum</a> distribution.</p>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559908505, "post_id": 56493611, "comment_id": 99576377, "body": "This seems to print perfectly but do you know how to make the sort alphabetical?"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559909282, "post_id": 56493611, "comment_id": 99576733, "body": "Hmm sorry it still seems to be printing non-alphabetically?"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559909650, "post_id": 56493611, "comment_id": 99576919, "body": "Ok, I have made the change but it is still printing incorrectly"}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559910248, "post_id": 56493611, "comment_id": 99577242, "body": "@DavideLorino Are you passing the program_name argument to the script?"}, {"owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559910306, "post_id": 56493611, "comment_id": 99577281, "body": "Yes I have specified argument 3 in the sort"}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "edited": false, "score": 0, "creation_date": 1559910427, "post_id": 56493611, "comment_id": 99577342, "body": "@DavideLorino You should run the program like this <code>perl stack.pl program_name</code> or <code>.&#47;stack.pl program_name</code> if you give it execute permission."}], "tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 0, "last_activity_date": 1559909366, "last_edit_date": 1559909366, "creation_date": 1559907471, "answer_id": 56493611, "question_id": 56493032, "link": "https://stackoverflow.com/questions/56493032/read-space-delimited-text-file-into-array-of-hashes-perl/56493611#56493611", "title": "Read space delimited text file into array of hashes [Perl]", "body": "<p>This decides how to sort using the first argument the script receives.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse feature 'say';\n\nopen my $fh, '&lt;', 'task_file';\nmy @tasks;\nmy %sort_by = (\n    process_id=&gt;0,\n    memory_size=&gt;1,\n    cpu_time=&gt;2,\n    program_name=&gt;3\n);\nmy $sort_by = defined $sort_by{defined $ARGV[0]?$ARGV[0]:0} ? $sort_by{$ARGV[0]} : 0;\nwhile (&lt;$fh&gt;) {\n    push @tasks, [split /\\s+/, $_];\n}\n@tasks = sort {\n    if ($b-&gt;[$sort_by] =~ /^[0-9]+$/ ) {\n        $b-&gt;[$sort_by] &lt;=&gt; $a-&gt;[$sort_by];\n    } else {\n        $a-&gt;[$sort_by] cmp $b-&gt;[$sort_by];\n    }\n} @tasks;\nfor (@tasks) {\n    say join ' ', @{$_};\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1559911225, "creation_date": 1559911225, "answer_id": 56494544, "question_id": 56493032, "link": "https://stackoverflow.com/questions/56493032/read-space-delimited-text-file-into-array-of-hashes-perl/56494544#56494544", "title": "Read space delimited text file into array of hashes [Perl]", "body": "<blockquote>\n  <p>I can't figure out how to then sort my resulting <code>%tasks</code> hash by a specific column</p>\n</blockquote>\n\n<p>You can't sort a hash. You need to convert each of your input rows in a hash (which you're doing successfully) and then store all of those hashes in an array. You can then print the contents of the array in a sorted order.</p>\n\n<p>This seems to do what you want:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy @cols = qw[process_id memory_size cpu_time program_name];\n\n@ARGV or die \"Usage: $0 [sort_order]\\n\";\n\nmy $sort = lc shift;\n\nif (! grep { $_ eq $sort } @cols ) {\n  die \"$sort is not a valid sort order.\\n\"\n    . \"Valid sort orders are: \", join('/', @cols), \"\\n\";\n}\n\n\nmy @data;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  my %rec;\n  @rec{@cols} = split;\n  push @data, \\%rec;\n}\n\nif ($sort eq $cols[-1]) {\n  # Do a string sort\n  for (sort { $a-&gt;{$sort} cmp $b-&gt;{$sort} } @data) {\n    say join ' ', @{$_}{@cols};\n  }\n} else {\n  # Do a numeric sort\n  for (sort { $a-&gt;{$sort} &lt;=&gt; $b-&gt;{$sort} } @data) {\n    say join ' ', @{$_}{@cols};\n  }\n}\n\n__DATA__\n1 4730 1031782 init\n4 0 6 events\n2190 450 0 top\n21413 5928 1 sshd\n22355 1970 2009 find \n</code></pre>\n\n<ul>\n<li>I've used the built-in <code>DATA</code> filehandle to make the code simpler. You would need to replace that with some code to read from an external file.</li>\n<li>I've used a hash slice to simplify reading the data into a hash.</li>\n<li>The column that you want to sort by is passed into the program as a command-line argument.</li>\n<li>Note that you have to sort the last column (the program name) using string comparison and all other columns using numeric comparison.</li>\n</ul>\n"}], "owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 56493352, "answer_count": 3, "score": 0, "last_activity_date": 1559911225, "creation_date": 1559905122, "question_id": 56493032, "link": "https://stackoverflow.com/questions/56493032/read-space-delimited-text-file-into-array-of-hashes-perl", "title": "Read space delimited text file into array of hashes [Perl]", "body": "<p>I have text file that matches the following format:</p>\n\n<pre><code>1 4730 1031782 init\n4 0 6 events\n2190 450 0 top\n21413 5928 1 sshd\n22355 1970 2009 find \n</code></pre>\n\n<p>And I need to read it into a data structure in perl that will allow me to sort and print according to any of those columns.</p>\n\n<p>From left to right the columns are <code>process_id</code>, <code>memory_size</code>, <code>cpu_time</code> and <code>program_name</code>.</p>\n\n<p>How can I read a text file with formatting like that in a way that allows me to sort the data structure and print it according to the sort?</p>\n\n<p>My attempt so far:</p>\n\n<pre><code>my %tasks;\n\nsub open_file{\n  if (open (my $input, \"task_file\" || die \"$!\\n\")){\n  print \"Success!\\n\";\n  while( my $line = &lt;$input&gt; ) {\n    chomp($line);\n    ($process_id, $memory_size, $cpu_time, $program_name) = split( /\\s/, $line, 4);\n    $tasks{$process_id} = $process_id;\n    $tasks{$memory_size} = $memory_size;\n    $tasks{$cpu_time} = $cpu_time;\n    $tasks{$program_name} = $program_name;\n    print \"$tasks{$process_id} $tasks{$memory_size} $tasks{$cpu_time} $tasks{$program_name}\\n\";\n} \n</code></pre>\n\n<p>This does print the output correctly, however I can't figure out how to then sort my resulting <code>%tasks</code> hash by a specific column (i.e. process_id, or any other column) and print the whole data structure in a sorted format.</p>\n"}, {"tags": ["perl", "datetime", "locale"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1559904765, "post_id": 56492816, "comment_id": 99574584, "body": "What&#39;s your question? Is there a problem? Also, which versions of DateTime are you comparing?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559907151, "post_id": 56492816, "comment_id": 99575705, "body": "Tip: <code>DateTime::DefaultLocale</code> is supposed to be <code>DateTime-&gt;DefaultLocale</code>, though that won&#39;t have an effect on the output you get"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559908140, "post_id": 56492816, "comment_id": 99576190, "body": "The difference you are seeing is the result of differences in the internal structure of the two versions of the DateTime-Locale package you are using. As an internal matter, it shouldn&#39;t have any consequence to you unless you are doing something you shouldn&#39;t. I&#39;m guessing the change happened in DateTime-Local-1.00"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1559908279, "post_id": 56492816, "comment_id": 99576270, "body": "Perhaps there is a relevant (i.e. non-internal) difference that&#39;s relevant to you, but seeing as you didn&#39;t mention it, ask a question or specify a problem, we can&#39;t help you with that."}, {"owner": {"reputation": 63, "user_id": 5769277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cf7c808f815e77bd6b2dbdd1b7cf167?s=128&d=identicon&r=PG&f=1", "display_name": "developer", "link": "https://stackoverflow.com/users/5769277/developer"}, "edited": false, "score": 0, "creation_date": 1559913857, "post_id": 56492816, "comment_id": 99579266, "body": "The problem is we have test suite that was running with perl 5.16.3 and now after perl upgrade, one of the test case is failing with the difference in time locale output as shown above. old version and new version of Datetime is 1.19 and 1.51 respectively. Also my problem is here how &quot;FromData&quot; is comming in place of de_DE in the test output. I have compared the &quot;DefaultLocale&quot; and its internal subroutine &quot;load&quot; of both DateTime versions, i could not figure out any difference there, any suggestions would be very helpful, thanks."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1559914649, "post_id": 56492816, "comment_id": 99579691, "body": "What are you trying to accomplish by printing out an internal object reference instead of something meaningful and portable?"}, {"owner": {"reputation": 63, "user_id": 5769277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cf7c808f815e77bd6b2dbdd1b7cf167?s=128&d=identicon&r=PG&f=1", "display_name": "developer", "link": "https://stackoverflow.com/users/5769277/developer"}, "edited": false, "score": 0, "creation_date": 1559915433, "post_id": 56492816, "comment_id": 99580119, "body": "Actually this is print statement inside subroutine(which Initialise the time locale for process) which called by the script so script is doing many other actives as well."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1559916197, "post_id": 56492816, "comment_id": 99580572, "body": "Sounds like your test suite is broken."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5769277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cf7c808f815e77bd6b2dbdd1b7cf167?s=128&d=identicon&r=PG&f=1", "display_name": "developer", "link": "https://stackoverflow.com/users/5769277/developer"}, "edited": false, "score": 0, "creation_date": 1561441759, "post_id": 56496569, "comment_id": 100053208, "body": "Ok, thanks for the suggestion, updated the test case as suggested to verify the  DateTime-&gt;DefaultLocale-&gt;code"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1559919169, "last_edit_date": 1559919169, "creation_date": 1559918859, "answer_id": 56496569, "question_id": 56492816, "link": "https://stackoverflow.com/questions/56492816/after-upgrade-perl-from-5-16-3-to-5-28-1-facing-issue-in-time-locale-output/56496569#56496569", "title": "after upgrade perl from 5.16.3 to 5.28.1 facing issue in time locale output", "body": "<p>You shouldn't be testing for the class name. Perhaps you should be testing the code returned by <code>DateTime-&gt;DefaultLocale-&gt;code</code>?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse DateTime qw( );\n\nDateTime-&gt;DefaultLocale('de_DE.utf8');\n\nmy $locale = DateTime-&gt;DefaultLocale;\nsay ref($locale);\nsay $locale-&gt;code;\nsay $locale-&gt;day_stand_alone_wide-&gt;[0];\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>DateTime::Locale::FromData\nde-DE\nMontag\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 5769277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cf7c808f815e77bd6b2dbdd1b7cf167?s=128&d=identicon&r=PG&f=1", "display_name": "developer", "link": "https://stackoverflow.com/users/5769277/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559919169, "creation_date": 1559904285, "last_edit_date": 1559906990, "question_id": 56492816, "link": "https://stackoverflow.com/questions/56492816/after-upgrade-perl-from-5-16-3-to-5-28-1-facing-issue-in-time-locale-output", "title": "after upgrade perl from 5.16.3 to 5.28.1 facing issue in time locale output", "body": "<p>After upgrading perl from 5.16.3 to 5.28.1.  DefaultLocale function of DateTime.pm is giving different output compare to 5.16.3 </p>\n\n<p>locale command gives the following output</p>\n\n<pre><code>LANG=de_DE.utf8\nLC_CTYPE=\"de_DE.utf8\"\nLC_NUMERIC=\"de_DE.utf8\"\nLC_TIME=\"de_DE.utf8\"\nLC_COLLATE=\"de_DE.utf8\"\nLC_MONETARY=\"de_DE.utf8\nLC_MESSAGES=\"de_DE.utf8\"\nLC_PAPER=\"de_DE.utf8\"\nLC_NAME=\"de_DE.utf8\"\nLC_ADDRESS=\"de_DE.utf8\"\nLC_TELEPHONE=\"de_DE.utf8\"\nLC_MEASUREMENT=\"de_DE.utf8\"\nLC_IDENTIFICATION=\"de_DE.utf8\"\nLC_ALL=\n</code></pre>\n\n\n\n<pre><code>use warnings;\nuse strict;\nuse Carp;\nuse Data::Dumper;\nuse Time::Local;\nuse Params::Validate qw(:all);\nuse DateTime;\nuse DateTime::TimeZone;\nuse POSIX qw(setlocale LC_TIME);\n\nmy $locale = setlocale(LC_TIME);\nDateTime-&gt;DefaultLocale($locale);\nprint \"Time locale :\",DateTime::DefaultLocale;\n</code></pre>\n\n<p>perl 5.28.1 gives output </p>\n\n<pre><code>Time locale :DateTime::Locale::FromData=HASH(xxxxxx)\n</code></pre>\n\n<p>whereas perl 5.16.3 output was</p>\n\n<pre><code>Time locale :DateTime::Locale::de_DE=HASH(xxxxx)\n</code></pre>\n"}, {"tags": ["perl", "count", "substring"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1559897102, "post_id": 56490884, "comment_id": 99570790, "body": "What does it mean &quot;<i>consecutive repeats</i>&quot;  vs  &quot;<i>tandem repeats</i>&quot;?"}, {"owner": {"reputation": 85, "user_id": 11562346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HbOdHQ-ZcI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfC6LLHMkb1SiGuqx_42piI2fmZCw/mo/photo.jpg?sz=128", "display_name": "RebiKirl", "link": "https://stackoverflow.com/users/11562346/rebikirl"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1559897235, "post_id": 56490884, "comment_id": 99570848, "body": "Sorry..it is the same concept"}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1559898867, "post_id": 56490884, "comment_id": 99571676, "body": "How many repeats should that sample string have? 8 or 1? (In other words, are you counting just the number of times ATCATC shows up, or the number of times 2 or more consecutive ATC substrings show up?)"}], "answers": [{"comments": [{"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559898454, "post_id": 56491207, "comment_id": 99571470, "body": "This would count every time ATC is repeated in the input not only consecutive."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 85, "user_id": 11562346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HbOdHQ-ZcI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfC6LLHMkb1SiGuqx_42piI2fmZCw/mo/photo.jpg?sz=128", "display_name": "RebiKirl", "link": "https://stackoverflow.com/users/11562346/rebikirl"}, "edited": false, "score": 0, "creation_date": 1559902382, "post_id": 56491207, "comment_id": 99573467, "body": "Good hint. @RebiKirl if this actually helped you, think about <b>accepting</b> this answer."}], "tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 1, "last_activity_date": 1559898159, "creation_date": 1559898159, "answer_id": 56491207, "question_id": 56490884, "link": "https://stackoverflow.com/questions/56490884/count-tandem-repeats-in-perl/56491207#56491207", "title": "Count tandem repeats in Perl", "body": "<p>Your regex <code>/ATC+/g</code> is looking for <code>AT</code> followed by one or more <code>C</code> I suspect that what you want is this</p>\n\n<pre><code>/(ATC(?:ATC)+)/g\n</code></pre>\n\n<p>Which is ATC followed by one or more ATC</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 1, "creation_date": 1559911403, "post_id": 56491417, "comment_id": 99577916, "body": "@Wolf, <a href=\"https://pastebin.com/wdD3unxx\" rel=\"nofollow noreferrer\">There are multiple matches</a>. Subsequent evaluations of <code>&#47;&#47;g</code> in scalar context will proceed where the last one left off. Did you accidentally make a single long chain of repeated <code>ATC</code>?"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559916103, "post_id": 56491417, "comment_id": 99580519, "body": "@melpomene Yes, it&#39;s obviously a <a href=\"https://stackoverflow.com/revisions/56490884/1\"><b>really poor spec</b></a> that we are working on. And OP is not very responsive/cooperative."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 4, "last_activity_date": 1559915672, "last_edit_date": 1559915672, "creation_date": 1559898893, "answer_id": 56491417, "question_id": 56490884, "link": "https://stackoverflow.com/questions/56490884/count-tandem-repeats-in-perl/56491417#56491417", "title": "Count tandem repeats in Perl", "body": "<p>Your question is a little ambiguous. I'm going to answer each interpretation separately.</p>\n\n<ol>\n<li><p>If you're trying to determine whether the string contains a run of more than 10 ATCs in a row, you can use</p>\n\n<pre><code>if ($content =~ /ATCATCATCATCATCATCATCATCATCATCATC/)\n</code></pre>\n\n<p>This regex can be written more compactly as</p>\n\n<pre><code>if ($content =~ /(?:ATC){11}/)\n</code></pre></li>\n<li><p>If you're trying to count the number of occurrences of at least 2 ATCs in a row, you can use</p>\n\n<pre><code>my $count = () = $content =~ /(?:ATC){2,}/g;\nif ($count &gt; 10)\n</code></pre>\n\n<p>(See <a href=\"https://perldoc.pl/perlfaq4#How-can-I-count-the-number-of-occurrences-of-a-substring-within-a-string?\" rel=\"nofollow noreferrer\"><code>perldoc -q count</code></a>.)</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "edited": false, "score": 0, "creation_date": 1559900361, "post_id": 56491704, "comment_id": 99572452, "body": "Can I know what is bad with the code to be downvoted? The number it returns is correct and also the output."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559901396, "post_id": 56491704, "comment_id": 99572968, "body": "You don&#39;t explain what this code is supposed to do. The code itself is not easy to understand, either."}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559902572, "post_id": 56491704, "comment_id": 99573565, "body": "@melpomene I have update the answer explaining better what the script does, thanks for the feedback."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559902956, "post_id": 56491704, "comment_id": 99573743, "body": "Those comments are useless. They only explain what&#39;s apparent from the code anyway."}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559902959, "post_id": 56491704, "comment_id": 99573744, "body": "@Wolf I have tried to present the data as the question owner did. To do so I had to store the number of repetitions of every sequence of ATC in order to get the greater sequence. I do not see other way, but you are welcome to point me a better way to do it or create a new improved answer."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559903128, "post_id": 56491704, "comment_id": 99573833, "body": "Slight correction: At least one of the comments is wrong. <code>my @count = 0</code> does not create an empty array."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559903174, "post_id": 56491704, "comment_id": 99573855, "body": "I&#39;m not sure what the point of <code>split &#47;(?:(?&lt;=ATC)|(?=ATC))&#47;</code> is, but I suspect it can be simplified to <code>split &#47;(ATC)&#47;</code>."}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559903306, "post_id": 56491704, "comment_id": 99573924, "body": "@melpomene I have corrected the comment and it cannot be simplified that way since I am trying to match a space beetween characters, the way you say would imply every ATC group disappears just like when you do <code>split &#47;\\s+&#47;, @array</code>."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559903358, "post_id": 56491704, "comment_id": 99573949, "body": "@melpomene For me it&#39;s useless to discuss <code>split</code> if <code>&#47;(?:ATC){11}&#47;</code> is the exact answer Perl has for this question."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559903437, "post_id": 56491704, "comment_id": 99573988, "body": "Ah, no. The problem with <code>split &#47;(ATC)&#47;</code> is that it creates extra empty groups <i>between</i> adjacent ATCs."}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559903501, "post_id": 56491704, "comment_id": 99574017, "body": "@Wolf This response won&#39;t allow to  know the number the matches as the op wants, see the <code>print @count . &quot; Repeat length\\n&quot;;</code> part."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1559903608, "post_id": 56491704, "comment_id": 99574055, "body": "The whole thing can probably be simplified to <code>use List::UtilsBy qw(max_by); my @count = map length($_) &#47; length(&#39;ATC&#39;), $content =~ &#47;(?:ATC)+&#47;g; my $index = max_by { $count[$_] } 0 .. $#count; my $max = $count[$index];</code>"}, {"owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1559903865, "post_id": 56491704, "comment_id": 99574166, "body": "@melpomene Your response is pretty cool, why don&#39;t you post it? (I would never think doing it that way)"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "edited": false, "score": 0, "creation_date": 1559903879, "post_id": 56491704, "comment_id": 99574171, "body": "@sergiotarxz this is a valid argument. I concentrated too much on the On/Off question. It&#39;s not clear whether OP needs the exact count of consecutive repeats; to me. it looked like a &quot;workaround&quot; for Perl&#39;s <code>{}</code> feature."}], "tags": [], "owner": {"reputation": 514, "user_id": 10844371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSI8M.jpg?s=128&g=1", "display_name": "sergiotarxz", "link": "https://stackoverflow.com/users/10844371/sergiotarxz"}, "is_accepted": false, "score": 0, "last_activity_date": 1559903187, "last_edit_date": 1559903187, "creation_date": 1559899900, "answer_id": 56491704, "question_id": 56490884, "link": "https://stackoverflow.com/questions/56490884/count-tandem-repeats-in-perl/56491704#56491704", "title": "Count tandem repeats in Perl", "body": "<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n# The string with the text to match\nmy $content = \"TTGCATCCCTAAAGGGATCATCATCATCATCATCATCATCATCATCATCATCATCATCATCATCATCTTTGTGATCAA\";\n# Split the text in every point preceded or followed by ATC\nmy @array = split /(?:(?&lt;=ATC)|(?=ATC))/, $content;\n# Creates an array which first element is 0 to contain every number of consecutives matches of ATC\nmy @count = 0;\nfor (@array) {\n    if (/^ATC$/) {\n# If ATC matches $_ increment by one the number of matches\n        $count[-1]++;\n    } else {\n# If not and the script is counting a previous ATC sequence \n# we reset the counter adding a new element\n        $count[-1] != 0 and push @count, 0;\n    }\n}\n# Initialices $max and $index to 0 and undef respectively\nmy ($max,$index) = (0, undef);\nfor (keys @count) {\n# If $max has less value than the current iterated sequence \n# $max is updated to current value and so is $index\n    $max &lt; $count[$_] and ($max, $index) = ($count[$_], $_);\n}\n# $index won't be defined if no value of ATC exists\ndefined $index and print \"$max Repeat length\\n\";\n# prints Off is the max match is greater or equal than 10\nprint(($max&gt;=10?'Off':'On').\"\\n\");\n</code></pre>\n\n<p>I think this is a good way since it allows you to know more data like the number of times is repeated.</p>\n\n<p>EDIT: Updated with comments.</p>\n"}, {"comments": [{"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559912726, "post_id": 56494001, "comment_id": 99578658, "body": "@ikegami Yes, I&#39;m a bit slow today. I tried to find out meanwhile (and succeeded). What kept me exploring was a confusing forever loop with <code>while ($str.$str =~ &#47;PAT&#47;g) { ... }</code>"}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559913021, "post_id": 56494001, "comment_id": 99578814, "body": "@ikegami fixed. Although <code>{2,}</code> now looks less repetitive to me ;) - also <code>while</code> would be better if there was another <code>ATCx2</code> before the actual <code>ATCx11</code>..."}, {"owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559913364, "post_id": 56494001, "comment_id": 99578997, "body": "@ikegami the loop is indispensable, maybe this should be explained with some more text. Again: thanks a lot for your time."}], "tags": [], "owner": {"reputation": 8296, "user_id": 2932052, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/63b8d6f5ce8e33b6953812ce8f5b2d40?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/2932052/wolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1559914630, "last_edit_date": 1559914630, "creation_date": 1559909134, "answer_id": 56494001, "question_id": 56490884, "link": "https://stackoverflow.com/questions/56490884/count-tandem-repeats-in-perl/56494001#56494001", "title": "Count tandem repeats in Perl", "body": "<p>Perl is a quite <strong>repetition-aware</strong> programming language that has been created to overcome repetitive manual work. So you can write strings that repeat a pattern as <code>$pattern x $repetitions</code> or literally type <code>'ATC'x11</code>.</p>\n\n<p>Besides matching via <code>/(?:ATC){11}/</code> (<a href=\"https://stackoverflow.com/a/56491417/2932052\">as already suggested</a>), this would be another way to just get <em>Off</em>:</p>\n\n<pre><code>print \"Off\\n\" if $content =~ (\"ATC\" x 11);\n</code></pre>\n\n<p>As to match all tandem repeats of <code>ATC</code> <em>and</em> trigger on those with more than 10 repetitions,<sup>[1]</sup> you need to loop explixitly:</p>\n\n<pre><code>while ($content =~ /(ATC(?:ATC)+)/g) {\n    my $count = (length $1) / 3;\n    print \"$count repeat length\\n\";\n    print \"Off\\n\" if $count &gt; 10;\n}\n</code></pre>\n\n<p>Otherwise, for inputs such as <code>$prefix.ATCx2.$infix.ATCx11.$postfix</code> the detection would stop at the first tandem repeat. The predefined reference to the <a href=\"https://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">captured match <code>$1</code></a> is used to check the match length.</p>\n\n<hr>\n\n<p><sup>[1]</sup> following counts appearances of <code>ATC</code> in total, ignoring if they are consecutive:</p>\n\n<pre><code>my $count = () = $content =~ /ATC/g;\nprint \"count (total matches) $count\\n\";\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 11562346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HbOdHQ-ZcI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfC6LLHMkb1SiGuqx_42piI2fmZCw/mo/photo.jpg?sz=128", "display_name": "RebiKirl", "link": "https://stackoverflow.com/users/11562346/rebikirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1559915672, "creation_date": 1559896941, "last_edit_date": 1559902058, "question_id": 56490884, "link": "https://stackoverflow.com/questions/56490884/count-tandem-repeats-in-perl", "title": "Count tandem repeats in Perl", "body": "<p>I am trying to write a code that given this string:</p>\n\n<p>\"TTGCATCCCTAAAGGGATCATCATCATCATCATCATCATCATCATCATCATCATCATCATCATCATCTTTGTGATCAA\"  </p>\n\n<p>finds consecutive repeats (alias <a href=\"https://en.wikipedia.org/wiki/Tandem_repeat\" rel=\"nofollow noreferrer\"><em>tandem repeats</em></a>) of substring ATC, count them and if higher than 10 output the message \"Off\"</p>\n\n<p>Here is my code:</p>\n\n<pre><code>my @count = ($content =~ /ATC+/g);\nprint @count . \" Repeat length\\n\";\n\n$nrRepeats = scalar(@count);    \nif ($nrRepeats&gt;10) {\n    print(\"Off\\n\");\n}\nelse {\n    print(\"On\\n\");\n}\n</code></pre>\n\n<p>Complications:<br>\nIt counts all ATC substrings present in the string instead of only tandem repeats of ATC.</p>\n\n<p>Thank you a lot for your help!</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 4, "creation_date": 1559890862, "post_id": 56489347, "comment_id": 99567836, "body": "Can you show what you are doing. more of relevant code? We don&#39;t know what &quot;<i>ExtractXmlIps.pl</i>&quot; is like, nor how you &quot;<i>parse the xml</i>&quot;, nor what &quot;<i>error</i>&quot; it&#39;s throwing, nor what your &quot;<i>null check</i>&quot; is."}, {"owner": {"reputation": 97, "user_id": 2304217, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c6e689c7c74bc5535aa0eb45262a06e3?s=128&d=identicon&r=PG", "display_name": "Karthik S", "link": "https://stackoverflow.com/users/2304217/karthik-s"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559890939, "post_id": 56489347, "comment_id": 99567877, "body": "Follwong is the XML:                                                                                           &lt;IpAddresses&gt; &lt;Region Name=&quot;us&quot; /&gt; &lt;Region Name=&quot;asia&quot;&gt; \t&lt;IpRange Subnet=&quot;10.10.10.0/21&quot; /&gt; &lt;/Region&gt; &lt;/IpAddresses&gt;                                                                                                          In the above xml in first loop I am taking region in second loop I am taking ips. Some of the regions doesnot contain value hence @{ $region -&gt; { &#39;IpRange&#39; } } is throwing error."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1559891481, "post_id": 56489347, "comment_id": 99568121, "body": "@KarthikS, please <a href=\"https://stackoverflow.com/posts/56489347/edit\">edit the question</a> to add the missing code and error text. We need to be able to run the code in order to reproduce the problem."}, {"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 3, "creation_date": 1559892333, "post_id": 56489347, "comment_id": 99568471, "body": "XML::Simple? Um... is this some old existing program? From the first line of <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow noreferrer\">the documentation</a>: <i>PLEASE DO NOT USE THIS MODULE IN NEW CODE.</i>"}], "answers": [{"tags": [], "owner": {"reputation": 3509, "user_id": 4243840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaeabd769bae1bf82fd4b8882fed6653?s=128&d=identicon&r=PG", "display_name": "JGNI", "link": "https://stackoverflow.com/users/4243840/jgni"}, "is_accepted": false, "score": 3, "last_activity_date": 1559892482, "creation_date": 1559892482, "answer_id": 56489788, "question_id": 56489347, "link": "https://stackoverflow.com/questions/56489347/how-to-check-array-is-null-or-empty-or-it-contains-elements-in-perl-language/56489788#56489788", "title": "How to check array is null or empty or it contains elements in perl language", "body": "<p>Looking at the documentation for XML::Simple, when there is only one child element it is returned as <code>name =&gt; 'value'</code>, instead of <code>name =&gt; [ 'value' ]</code> which is what your code expects. You can change</p>\n\n<pre><code>$xml_data = $xml -&gt; XMLin ( $file_path );\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$xml_data = $xml -&gt; XMLin ( $file_path, ForceArray =&gt; 1 );\n</code></pre>\n\n<p>so that all child elements are returned as array refs.</p>\n"}, {"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": true, "score": 2, "last_activity_date": 1559895446, "last_edit_date": 1559895446, "creation_date": 1559894942, "answer_id": 56490386, "question_id": 56489347, "link": "https://stackoverflow.com/questions/56489347/how-to-check-array-is-null-or-empty-or-it-contains-elements-in-perl-language/56490386#56490386", "title": "How to check array is null or empty or it contains elements in perl language", "body": "<p>This is a case of not reading the documentation. Use <a href=\"http://p3rl.org/XML::Simple#STRICT-MODE\" rel=\"nofollow noreferrer\">strict mode</a>.</p>\n\n<pre><code>use 5.010;\nuse XML::Simple qw(:strict);\nmy $xs = XML::Simple-&gt;new(ForceArray =&gt; 1, KeyAttr =&gt; []);\nmy $root = $xs-&gt;XMLin('so-56489347.xml');\nforeach my $region (@{$root-&gt;{Region}}) {\n    foreach my $iprange (@{$region-&gt;{IpRange}}) {\n        say $iprange-&gt;{Subnet};\n    }\n}\n</code></pre>\n\n<p>The documentation also says to use <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a> instead.</p>\n\n<pre><code>use 5.010;\nuse XML::LibXML qw();\nmy $root = XML::LibXML-&gt;load_xml(location =&gt; 'so-56489347.xml')-&gt;documentElement;\nforeach my $region ($root-&gt;getChildrenByTagName('Region')) {\n    foreach my $iprange ($region-&gt;getChildrenByTagName('IpRange')) {\n        say $iprange-&gt;getAttribute('Subnet');\n    }\n}\n</code></pre>\n\n<p>But when you have that library, you can simply use XPath to find your desired XML elements, much shorter!</p>\n\n<pre><code>use 5.010;\nuse XML::LibXML qw();\nmy $doc = XML::LibXML-&gt;load_xml(location =&gt; 'so-56489347.xml');\nfor my $iprange ($doc-&gt;findnodes('//Region/IpRange[@Subnet]')) {\n    say $iprange-&gt;getAttribute('Subnet');\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 2304217, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c6e689c7c74bc5535aa0eb45262a06e3?s=128&d=identicon&r=PG", "display_name": "Karthik S", "link": "https://stackoverflow.com/users/2304217/karthik-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 56490386, "answer_count": 2, "score": 0, "last_activity_date": 1583085498, "creation_date": 1559890527, "last_edit_date": 1583085498, "question_id": 56489347, "link": "https://stackoverflow.com/questions/56489347/how-to-check-array-is-null-or-empty-or-it-contains-elements-in-perl-language", "title": "How to check array is null or empty or it contains elements in perl language", "body": "<p>I am parsing the following XML and taking the ip addresses from the XML data. While accessing  $region -> { 'IpRange' } it is throwing error as Not an ARRAY reference at ExtractXmlIps.pl line 45. Some times Region does not contain any values. In that case I am getting this error. When I added the check like \"if( $region &amp;&amp; $region -> { 'IpRange' })\" it is still throwing error. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;IpAddresses xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;Region Name=\"us\" /&gt;\n&lt;Region Name=\"asia\"&gt;\n    &lt;IpRange Subnet=\"10.10.10.0/21\" /&gt;\n&lt;/Region&gt;\n&lt;/IpAddresses&gt;\n</code></pre>\n\n<p>Code to parse the xml:</p>\n\n<pre><code>getstore ( $urls[0], $file_path );\nmy $xml = new XML::Simple;\nmy $xml_data = $xml -&gt; XMLin ( $file_path );\nforeach my $region ( @{ $xml_data -&gt; { 'Region' } } ) {\n    foreach my $ip ( @{ $region -&gt; { 'IpRange' } } ) {\n        print $ip;\n    }\n}\n</code></pre>\n\n<p>I add null check for region and inside the region. Tried to find the length of the array and added that check also.</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1559953504, "post_id": 56487102, "comment_id": 99593752, "body": "Why isn&#39;t your first line part of the desired output? It satisfies the criteria that <code>non of the numbers in those lines are in their preceding line</code> since there is no preceding line."}, {"owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1559954043, "post_id": 56487102, "comment_id": 99593807, "body": "The first line is for time 0 and the next lines shows a property at different time so the next lines are important for this property."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559906395, "post_id": 56487288, "comment_id": 99575339, "body": "Thank you! This is useful for me. I mentioned in the comments to @zdim that since this is a time dependent property the changes after the 1st line (time=0) are important so I didn&#39;t include that line."}], "tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 1, "last_activity_date": 1559874735, "creation_date": 1559874735, "answer_id": 56487288, "question_id": 56487102, "link": "https://stackoverflow.com/questions/56487102/find-lines-with-no-matching-numbers-as-their-preceding-line/56487288#56487288", "title": "Find lines with no matching numbers as their preceding line", "body": "<p>Here's a perl one-liner:</p>\n\n<pre><code>$ perl -M-warnings -lane 'print unless @F ~~ %prev; %prev = map { $_ =&gt; 1 } @F;' input.txt\n320 512\n241 333 514\n240 326 512\n240\n100 112\n240 326 512\n</code></pre>\n\n<p>It uses the frowned-upon <a href=\"https://perldoc.perl.org/perlop.html#Smartmatch-Operator\" rel=\"nofollow noreferrer\">smart match</a> operator in the name of conciseness. With smartmatch, <code>ARRAY ~~ HASH</code> returns true if any elements of the array are keys in the hash, which is perfect for this use case. If this was a standalone script and not a one-liner I'd probably use a different approach, though.</p>\n\n<p>(Is there a reason the first line of your sample input isn't in your expected output even though it meets the critera?)</p>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 1, "last_activity_date": 1559876320, "last_edit_date": 1559876320, "creation_date": 1559874813, "answer_id": 56487297, "question_id": 56487102, "link": "https://stackoverflow.com/questions/56487102/find-lines-with-no-matching-numbers-as-their-preceding-line/56487297#56487297", "title": "Find lines with no matching numbers as their preceding line", "body": "<p>Here is a perl solution that does that. It tests for any of the numbers were seen on the previous line.</p>\n\n<p>This includes printing the first line as noted by Shawn which might be needed. If not, just exclude the <code>print join(...</code> line in the code.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::Util 'any';\n\nopen my $fh, '&lt;', 'f0.txt' or die $!;\n\nmy @nums = split ' ', &lt;$fh&gt;;\n\nmy %seen = map{ $_ =&gt; 1} @nums;\n\nprint join(' ', @nums), \"\\n\"; # print the first line\n\nwhile (&lt;$fh&gt;) {\n    @nums = split;\n    print unless any {$seen{$_}} @nums;\n    %seen = map{ $_ =&gt; 1} @nums;\n}\n\nclose $fh or die $!;\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>320 512\n241 333 514\n240 326 512\n240\n100 112\n240 326 512\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1559904209, "post_id": 56487461, "comment_id": 99574332, "body": "While I like your answer, your one-liner is written on 4 lines ;-)"}, {"owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559905926, "post_id": 56487461, "comment_id": 99575097, "body": "Thank you! This is helpful. The input is a time dependent property and that&#39;s why the changes after the first line are important here but it&#39;s not a problem. I can just skip the first line from the generated output results."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559925339, "post_id": 56487461, "comment_id": 99585355, "body": "@Star Glad that it helps :)  I edited, for what may be more useful"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1559931559, "post_id": 56487461, "comment_id": 99587951, "body": "@kvantour Yes, I am always entertained by such &quot;one&quot;-liners ... their utility, of course, being that they demo an approach. (While that can go in a shell script as it stands.) I call them a &quot;command-line program&quot; (edited).  Note that this also did what no other solution offered, that it works for a file which has data other than numbers (what can also serve as a check, exclude headers, etc). I guess that &quot;subtlety&quot; has been lost, and if I drop that I end up with a program that does fit in a line -- updated"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1560317332, "last_edit_date": 1560317332, "creation_date": 1559876687, "answer_id": 56487461, "question_id": 56487102, "link": "https://stackoverflow.com/questions/56487102/find-lines-with-no-matching-numbers-as-their-preceding-line/56487461#56487461", "title": "Find lines with no matching numbers as their preceding line", "body": "<p>A Perl command-line program (\"one\"-liner), assuming things other than numbers in the file</p>\n\n<pre><code>perl -wnE'\n    @n = /([0-9]+)/g; \n    say \"@n\" if not grep { exists $seen_nums{$_} } @n; \n    %seen_nums = map { $_ =&gt; 1 } @n\n' data.txt\n</code></pre>\n\n<p>This prints the desired output. It also prints the very first line (correctly). Since the program parses lines for numbers it can be used for files with headers, text-only (comment?) lines, etc.</p>\n\n<p>But if the data is sure to have only numbers then we can use Perl's <code>-a</code> <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">switch</a> with which words on each line are available in the <code>@F</code> array.  Also shrunk a little to actually fit on a line</p>\n\n<pre><code>perl -wlanE'grep exists $n{$_}, @F or say; %n = map { $_=&gt;1 } @F' data.txt\n</code></pre>\n\n<p>A brief explanation of switches (see docs linked above)</p>\n\n<ul>\n<li><p><code>-w</code> turns on warnings</p></li>\n<li><p><code>-l</code> strips the newline, and can tack it back on, with few more subtleties</p></li>\n<li><p><code>-a</code> turns on \"autosplit\" (when used with <code>-n</code> or <code>-p</code>), so that <code>@F</code> is available in the program which contains words on the line. On newer Perls this sets <code>-n</code> as well</p></li>\n<li><p><code>-n</code> Critical for processing files or <code>STDIN</code> -- opens the resource and sets up a loop over lines.  Run with <code>-MO=Deparse</code> to see what it does</p></li>\n<li><p><code>-E</code> The <code>-e</code> is what makes it evaluate everything between the following quotes as Perl code.  With capital (<code>E</code>) it also turns on <a href=\"https://perldoc.perl.org/feature.html\" rel=\"nofollow noreferrer\">feature</a>s, what I use mostly for <code>say</code>.  (Doing this has drawbacks, since it enables <em>all</em> features and makes things not backwards compatible anymore.)</p></li>\n</ul>\n\n<hr>\n\n<p>Note: The first line can be omitted by adding condition <code>$.!=2</code> to the print</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559952768, "post_id": 56487942, "comment_id": 99593650, "body": "Thank you for your useful answer! I modified my input example following a comment from Ed Morton and put numbers with 4 digit as well since in my real input there can be numbers with 1-7 digits. Now I need to change the generated output in your answer and others here accordingly. I tried to edit it but nothing has changed yet."}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559968430, "post_id": 56487942, "comment_id": 99595311, "body": "@Star I&#39;m glad this worked for you.  I modified the output to match the updated question."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 1, "last_activity_date": 1559968367, "last_edit_date": 1559968367, "creation_date": 1559881427, "answer_id": 56487942, "question_id": 56487102, "link": "https://stackoverflow.com/questions/56487102/find-lines-with-no-matching-numbers-as-their-preceding-line/56487942#56487942", "title": "Find lines with no matching numbers as their preceding line", "body": "<p>Here is an awk solution:</p>\n\n<pre><code>$ awk 'NR&gt;1{p=1; for (i=1;i&lt;=NF;i++){if($i in a)p=0}} {delete a; for (i=1;i&lt;=NF;i++)a[$i]} p' file\n241 333 514\n240 326 5120\n240\n100 112\n240 326 5120\n</code></pre>\n\n<h3>How it works</h3>\n\n<ul>\n<li><p><code>NR&gt;1{...}</code></p>\n\n<p>Perform the commands in braces for all except the first line.   Those commands are:</p>\n\n<ul>\n<li><p><code>p=1</code></p>\n\n<p>Initialize <code>p</code> to true (nonzero)</p></li>\n<li><p><code>for (i=1;i&lt;=NF;i++){if($i in a)p=0}</code></p>\n\n<p>If any field is a key in array <code>a</code>, then set <code>p</code> to false (zero).</p></li>\n</ul></li>\n<li><p><code>delete a</code></p>\n\n<p>Delete array <code>a</code>.</p></li>\n<li><p><code>for (i=1;i&lt;=NF;i++)a[$i]</code></p>\n\n<p>Create a key in array <code>a</code> for every field on the current line.</p></li>\n<li><p><code>p</code></p>\n\n<p>If <code>p</code> is true, print the line.</p></li>\n</ul>\n\n<h3>Multiple line version</h3>\n\n<p>Or, for those who prefer their code spread over multiple lines:</p>\n\n<pre><code>awk '\n    NR&gt;1{\n        p=1\n        for (i=1;i&lt;=NF;i++){\n            if($i in a)p=0}\n        }\n    {\n        delete a\n        for (i=1;i&lt;=NF;i++)\n            a[$i]\n    }\n\n    p' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "is_accepted": false, "score": 0, "last_activity_date": 1559904165, "creation_date": 1559904165, "answer_id": 56492790, "question_id": 56487102, "link": "https://stackoverflow.com/questions/56487102/find-lines-with-no-matching-numbers-as-their-preceding-line/56492790#56492790", "title": "Find lines with no matching numbers as their preceding line", "body": "<p>A simple awk that checks, by means of a regex-match if the number is in the previous line. The idea is:</p>\n\n<ul>\n<li>the previous line is stored in variable <code>t</code></li>\n<li>if any of the fields is matched to the previous line, we can skip to the next line.</li>\n</ul>\n\n<p>This is done in the following way:</p>\n\n<pre><code>$ awk '{for(i=1;i&lt;=NF;++i) if (FS t FS ~ FS $i FS) {t=$0; next}; t=$0}1'\n320 512\n241 333 514\n240 326 512\n240\n100 112\n240 326 512\n</code></pre>\n\n<p>The trick to make it work is to ensure that the line starts and stops with a field separator. If we would do the test <code>t ~ $i</code> we could match the number 25 against the number 255. But by ensuring that all numbers are sandwhiched between field separators, we can just do the test <code>FS t FS ~ FS $i FS</code>.</p>\n\n<p><strong>note:</strong> if you don't want the first line to be printed, replace the last <code>1</code> by <code>(FNR&gt;1)</code></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559922265, "post_id": 56495270, "comment_id": 99583908, "body": "Thank you for your answer but in my real input the number of digits are different and can be one digit or 5 digits."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559922333, "post_id": 56495270, "comment_id": 99583950, "body": "OK, fix the example in your question to be more truly representative of your real input if you&#39;d like help coming up with the best way to handle it."}, {"owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559952514, "post_id": 56495270, "comment_id": 99593612, "body": "I modified my input example but now in some answers the generated outputs are based on my previous input, I tried to edit them but I am not sure if I did it correctly since nothing have changed."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559953003, "post_id": 56495270, "comment_id": 99593687, "body": "You accepted an answer to your question - that was the right thing to do if you&#39;re satisfied it&#39;s the best answer for you and then you should ask the provider of it follow-up questions if you have any. If that&#39;s not the case, though, then having an already accepted answer effectively stops other people from trying to provide an answer and/or wanting to be involved in a series of Q&amp;A comments since you already have the answer you&#39;re going to use anyway. FWIW your accepted answer looks like it&#39;d work for any number of digits per field."}, {"owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "edited": false, "score": 0, "creation_date": 1559953325, "post_id": 56495270, "comment_id": 99593732, "body": "yes I checked and it worked for my real input as well."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1559954156, "last_edit_date": 1559954156, "creation_date": 1559914046, "answer_id": 56495270, "question_id": 56487102, "link": "https://stackoverflow.com/questions/56487102/find-lines-with-no-matching-numbers-as-their-preceding-line/56495270#56495270", "title": "Find lines with no matching numbers as their preceding line", "body": "<p>Given your updated input:</p>\n\n<pre><code>$ awk '$0 !~ p; {gsub(/ /,\"|\"); p=\"(^| )(\"$0\")( |$)\"}' file\n241 333 514\n240 326 5120\n240\n100 112\n240 326 5120\n</code></pre>\n\n<p>The above just converts the previous line read into a regexp like <code>(^| )(320|5120)( |$)</code> and then does a regexp comparison to see if the current line matches it and prints the current line if it doesn't match the modified previous line. This approach would only lead to false matches if your fields contained RE metacharacters which obviously yours don't since they're all-digits</p>\n"}], "owner": {"reputation": 23, "user_id": 4237542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbad1ed5aa0f5e5e29af9f26248b39a?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/4237542/star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 56487942, "answer_count": 6, "score": 2, "last_activity_date": 1560317332, "creation_date": 1559872956, "last_edit_date": 1559951338, "question_id": 56487102, "link": "https://stackoverflow.com/questions/56487102/find-lines-with-no-matching-numbers-as-their-preceding-line", "title": "Find lines with no matching numbers as their preceding line", "body": "<p>I am trying to find the lines in a file which non of the numbers in those lines are in their preceding line. This file has around 400000 lines. This is an example of the input file:</p>\n\n<pre><code>320 5120\n240 326 5120\n240 326 5120\n241 333 514\n240 326 5120\n240 326 5120\n320 5120\n240\n100 112\n240 326 5120\n240 326 5120\n320 5120 \n</code></pre>\n\n<p>The expected output results is:</p>\n\n<pre><code>241 333 514\n240 326 5120\n240\n100 112\n240 326 5120\n</code></pre>\n\n<p>So far I could find this command:</p>\n\n<pre><code>$ awk '!seen[$1]++' file \n\n320 5120\n240 326 5120\n241 333 514\n100 112\n</code></pre>\n\n<p>which I can get the unique number of column 1 and I can do the same separately for other columns. Can I somehow get the information I want from this command? Any help would be appreciated.</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1559871214, "post_id": 56486772, "comment_id": 99563649, "body": "<code>${^MATCH}</code> vs <code>$^MATCH</code> might be an issue. And you never capture anything for <code>$1</code> to have a value... Plus your one liners need a <code>-n</code>..."}], "answers": [{"comments": [{"owner": {"reputation": 561, "user_id": 654159, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/40b6d71c7f5c14262f0074e22118335f?s=128&d=identicon&r=PG", "display_name": "Nena", "link": "https://stackoverflow.com/users/654159/nena"}, "edited": false, "score": 0, "creation_date": 1559924762, "post_id": 56487100, "comment_id": 99585102, "body": "The regex and syntax wasn&#39;t quite correct (there is a single quote character &#39; after the /s that should not be there for example, but based on your suggestion @zdim, I tried ` perl -0777 -ne &#39;/(\\{(?:\\n|.)*\\}(?:\\n))/s and print &quot;$1\\n&quot;&#39;` and that worked.  Thanks."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 561, "user_id": 654159, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/40b6d71c7f5c14262f0074e22118335f?s=128&d=identicon&r=PG", "display_name": "Nena", "link": "https://stackoverflow.com/users/654159/nena"}, "edited": false, "score": 0, "creation_date": 1559926635, "post_id": 56487100, "comment_id": 99585955, "body": "@Nena Great, glad it worked and thank you for attribution.  Thank you for notice about the typo!  Fixed"}, {"owner": {"reputation": 55634, "user_id": 983912, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8bccd55617e47290df57895b2d57359e?s=128&d=identicon&r=PG", "display_name": "Leo Natan", "link": "https://stackoverflow.com/users/983912/leo-natan"}, "edited": false, "score": 0, "creation_date": 1561968693, "post_id": 56487100, "comment_id": 100216095, "body": "Thank you for this explanation here. It was better than the duplicate in my closed question. :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55634, "user_id": 983912, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8bccd55617e47290df57895b2d57359e?s=128&d=identicon&r=PG", "display_name": "Leo Natan", "link": "https://stackoverflow.com/users/983912/leo-natan"}, "edited": false, "score": 0, "creation_date": 1562003009, "post_id": 56487100, "comment_id": 100232523, "body": "@LeoNatan Great, and thank you for saying this :).  For reference here are then a couple more of related posts, a <a href=\"https://stackoverflow.com/a/45597361/4653379\">short one</a> and <a href=\"https://stackoverflow.com/a/40852382/4653379\">one with more</a>  stuff."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1559945285, "last_edit_date": 1559945285, "creation_date": 1559872909, "answer_id": 56487100, "question_id": 56486772, "link": "https://stackoverflow.com/questions/56486772/perl-script-versus-one-liner-differences-in-functionality-with-regex/56487100#56487100", "title": "Perl script versus one-liner - differences in functionality with regex", "body": "<p>A one-liner needs <code>-n</code> (or <code>-p</code>) to process input, so that files are opened, streams attached, and a loop set up. It still needs that even as the <a href=\"https://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\"><code>-0777</code></a> unsets the <a href=\"https://perldoc.perl.org/perlvar.html#$/\" rel=\"nofollow noreferrer\">input record separator</a>, so the file is read at once; see  <a href=\"https://stackoverflow.com/questions/37582501/why-use-the-p-n-in-slurp-mode-in-perl-one-liner/37583183#37583183\">Why use the -p|-n in slurp mode in perl one liner?</a></p>\n\n<p>That regex matches either a newline or any character other than a newline, and there is a modifier for that, <code>/s</code>, with which <code>.</code> matches newline as well. Then that need be inside curly braces, which you need to escape in newer Perls.  The newline that follows doesn't need grouping. </p>\n\n<p>So altogether you'd have</p>\n\n<pre><code>&lt;bash command&gt; | perl -0777 -ne'/(\\{(.*)\\}\\n)/s and print \"$1\\n\"'\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 654159, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/40b6d71c7f5c14262f0074e22118335f?s=128&d=identicon&r=PG", "display_name": "Nena", "link": "https://stackoverflow.com/users/654159/nena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 56487100, "answer_count": 1, "score": 2, "last_activity_date": 1559945285, "creation_date": 1559869235, "last_edit_date": 1559924916, "question_id": 56486772, "link": "https://stackoverflow.com/questions/56486772/perl-script-versus-one-liner-differences-in-functionality-with-regex", "title": "Perl script versus one-liner - differences in functionality with regex", "body": "<p>I have a perl program that takes the STDIN (piped from another bash command).  The output from the bash command is quite large, about 200 lines.  I want to take the <strong>entire</strong> input (multiple lines) and feed that to a one-liner perl script, but so far nothing i've tried has worked.  Conversely, if I use the following perl (.pl file):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\nmy $regex = qr/{(?:\\n|.)*}(?:\\n)/p;\n\nif ( &lt;&gt; =~ /$regex/g ) {\n  print \"${^MATCH}\\n\";\n}\n</code></pre>\n\n<p>And execute my bash command like this:</p>\n\n<pre><code>&lt;bash command&gt; | perl -0777 try_m_1.pl\n</code></pre>\n\n<p>It works.  But as a one-liner, it doesn't work with the same regex/bash command.  The result of the <code>print</code> command is nothing.  I've tried it like this:</p>\n\n<pre><code>&lt;bash command&gt; | perl -0777 -e '/{(?:\\n|.)*}(?:\\n)/pg &amp;&amp; print \"$^MATCH\";'\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>&lt;bash command&gt; | perl -0777 -e '/{(?:\\n|.)*}(?:\\n)/g; print \"$1\\n\";'\n</code></pre>\n\n<p>And a bunch of other things, too many to list them all.  I'm new to perl and only want to use it to get regex output from the text.  If there's something better than perl to do this (I understand from reading around that sed wouldn't work for this?) feel free to suggest.</p>\n\n<p>Update:  based on @zdim answer, I tried the following, which worked:</p>\n\n<pre><code>&lt;bash command&gt; |  perl -0777 -ne '/(\\{(?:\\n|.)*\\}(?:\\n))/s and print \"$1\\n\"'\n</code></pre>\n\n<p>I guess my regex needed to be wrapped in <code>()</code> and the <code>{</code> curly braces needed to be escaped.</p>\n"}, {"tags": ["perl", "file-io", "character-encoding"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1559864667, "post_id": 56486222, "comment_id": 99562604, "body": "Presumably it does encoding conversion when reading from the file into an internal buffer, not when data is actually returned to the program from that buffer."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559896180, "post_id": 56486481, "comment_id": 99570336, "body": "Re &quot;<i>use non-buffered reads, via sysread, and read smaller chunks at a time.</i>&quot;, This is all wrong. The solution isn&#39;t switching to unbuffered; the solution is switching to doing the decoding yourself. You can continue to use buffered I/O (<code>read</code> and even <code>readline</code> aka <code>&lt;&gt;</code>), but decoding on what you should be decoding. The chunk size is irrelevant."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559896959, "post_id": 56486481, "comment_id": 99570715, "body": "@ikegami You mean to read (with <code>:raw</code> or silence warnings) and then go through it and (Encode::)decode (quietly)?  OK, I&#39;ve seen that.  Will still have some work to do to detect where things change etc.  But why is this &quot;all wrong&quot;?  Thank you for the edit."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559897401, "post_id": 56486481, "comment_id": 99570934, "body": "Re &quot;<i>You mean to read (with :raw or silence warnings) and then go through it and (Encode::)decode (quietly)?</i>&quot;, Yes (except for silence warning part). Isn&#39;t that what you meant? (After all, you can&#39;t use <code>:encoding</code> with <code>sysread</code>)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559897911, "post_id": 56486481, "comment_id": 99571186, "body": "Re &quot;<i>But why is this &quot;all wrong&quot;?</i>&quot;, It&#39;s irrelevant whether the read is buffered or not. Switching to unbuffered reads doesn&#39;t help; it&#39;s switching to doing the decoding yourself that does."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559898321, "post_id": 56486481, "comment_id": 99571409, "body": "@ikegami With unbuffered reads it doesn&#39;t (attempt to) decode further than what I ask it to read, so with smaller reads I can better locate the spot where the encoding changes. (However, now I see that that happens &quot;<i>after a specific keyword</i>&quot;, which i somehow missed and thought that the code needs to discover that location).  I do like a solution that decodes manually as it goes, of course."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559898440, "post_id": 56486481, "comment_id": 99571466, "body": "@ikegami &quot;<i>can&#39;t use <code>:encoding</code> with <code>sysread</code></i>&quot;  -- why not? I think that the end of the <code>sysread</code> page implies that it&#39;s OK?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559898739, "post_id": 56486481, "comment_id": 99571605, "body": "Re &quot;<i>With unbuffered reads it doesn&#39;t (attempt to) decode further than what I ask it to read</i>&quot;, Not quite. With unbuffered reads it doesn&#39;t (attempt to) decode further than what I ask it to read because you can&#39;t use <code>:encoding</code> with unbuffered reads. The solution isn&#39;t &quot;<i>remove <code>:encoding</code> and use unbuffered reads</i>&quot;, the solution is just &quot;<i>remove <code>:encoding</code></i>&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899263, "post_id": 56486481, "comment_id": 99571884, "body": "You definitely can&#39;t use if for multi-byte encodings (like UTF-8) because there&#39;s no buffer to store partially decoded characters. But it doesn&#39;t work for cp1252 either because the length is a length <i>in bytes</i>. Try <code>perl -e&#39;print chr(0x80)&#39; | perl -MData::Dumper -e&#39;binmode(STDIN, &quot;:encoding(cp1252)&quot;); read(\\*STDIN, $buf, 1); $Data::Dumper::Useqq=1; print(Dumper($buf))&#39;</code>, then swtich to <code>read</code> to <code>sysread</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899484, "post_id": 56486481, "comment_id": 99571995, "body": "The <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#sysread-FILEHANDLE,SCALAR,LENGTH,OFFSET\" rel=\"nofollow noreferrer\">docs</a> say &quot;<i>Note that if the filehandle has been marked as <code>:utf8</code>, <code>sysread</code> will throw an exception. The <code>:encoding(...)</code> layer implicitly introduces the <code>:utf8</code> layer.</i>&quot;. The exception is new. The fixed docs is new. The fact that it doesn&#39;t work is not new."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899488, "post_id": 56486481, "comment_id": 99571997, "body": "@ikegami yeah, I&#39;ll have to look into that way better (you mean that with <code>sysread</code> I can&#39;t read encodings other than ASCII?).  As for the docs, what it says now to me means that UTF-8 does work, and it <i>may</i> imply that other encodings would (but it doesn&#39;t say so, only mentions <code>:encoding</code>).  If that&#39;s wrong than all this is off to start with of course."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899649, "post_id": 56486481, "comment_id": 99572094, "body": "@ikegami &quot;<i>The docs say...</i>&quot; --- ah, that&#39;s news to me.  I got to 5.26 (now i see) with perldoc. I remember using it (5.10 perhaps) and it worked ... or so it seemed. (I may have missed to notice that it didn&#39;t)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899654, "post_id": 56486481, "comment_id": 99572099, "body": "Re &quot;<i>you mean that with sysread I can&#39;t read encodings other than ASCII?</i>&quot;, With sysread, you can only read bytes. If those bytes represent text encoded using ASCII and you pass them to a sub that expected text using ASCII (or a superset of ASCII such as ISO-8859-* or UTF-8), you&#39;re good."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899707, "post_id": 56486481, "comment_id": 99572121, "body": "@ikegami &quot;<i>With sysread, you can only read bytes</i>&quot; -- um, yes, right of course. I see what you meant"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899798, "post_id": 56486481, "comment_id": 99572161, "body": "<a href=\"https://pastebin.com/hCT1i8xc\" rel=\"nofollow noreferrer\">You just failed to notice.</a> It literally produces a corrupt scalar."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899827, "post_id": 56486481, "comment_id": 99572177, "body": "@ikegami Thank you again, I&#39;ll have to look into this more carefully.  (Regardless of that, as I said, I like the approach to read raw and decode as it goes, +1 for your post)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559899929, "post_id": 56486481, "comment_id": 99572232, "body": "Related reads: <a href=\"https://stackoverflow.com/q/36315124/589924\">What is the difference between <code>read</code> and <code>sysread</code>?</a> and <a href=\"https://stackoverflow.com/a/49040165/589924\"><code>:encoding(UTF-8)</code> vs <code>:encoding(utf8)</code> vs <code>:utf8</code></a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559900000, "post_id": 56486481, "comment_id": 99572263, "body": "@ikegami &quot;<i>Related reads</i>&quot; -- oh yes, well aware of those :)  Thanks for bringing them up, should go through it again (for example, I apparently never took notice of &quot;<i><code>sysread</code> doesn&#39;t support PerlIO layers</i>&quot;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559900107, "post_id": 56486481, "comment_id": 99572315, "body": "@ikegami &quot;<i>Just failed to notice</i>&quot; -- that <code>\\x80</code> (really) <code>does not map to Unicode</code> (I get that when I change <code>sysread</code> to <code>read</code> and encoding to UTF-8), so it doesn&#39;t show that encoding fails?  But I see the point of course.  Thank you"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559900264, "post_id": 56486481, "comment_id": 99572397, "body": "I don&#39;t get <code>\\x80 does not map to Unicode</code>. Nor should you. 80[cp1252] maps to 20AC[Unicode] (\u20ac)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559900315, "post_id": 56486481, "comment_id": 99572427, "body": "I change encoding in your example to UTF-8 (since that&#39;s what I believed should work for sure)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559900389, "post_id": 56486481, "comment_id": 99572466, "body": "I&#39;m not sure I understand your question. You gave bad data, and you got a message saying the decode failed."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559900664, "post_id": 56486481, "comment_id": 99572606, "body": "@ikegami (I meant that it&#39;s not valid unicode anyway so of course it fails to decode when UTF-8 encoding is set)  But i should look into this way more, before talking.  thank you again"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1559896100, "last_edit_date": 1559896100, "creation_date": 1559865844, "answer_id": 56486481, "question_id": 56486222, "link": "https://stackoverflow.com/questions/56486222/perl-warns-about-invalid-encoding-even-if-i-dont-read-the-problematic-data-from/56486481#56486481", "title": "Perl warns about invalid encoding even if I don&#39;t read the problematic data from the file", "body": "<p>Perl reads from the file in 8 KiB chunks, so way more than a line is read at a time. Data is decoded right as it is read (since the stream must be decoded to find the line endings), so an unexpected encoding is noticed and warned about.</p>\n\n<p>One way to deal with this: use non-buffered reads, via <a href=\"https://perldoc.perl.org/functions/sysread.html\" rel=\"nofollow noreferrer\">sysread</a>, and read smaller chunks at a time.</p>\n\n<p>Count characters read and once you run into that spot you can back up and continue reading character at a time, again counting them, so to detect the exact place. See <a href=\"https://stackoverflow.com/a/41377538/4653379\">this post</a> for a working example of identifying the spot where a warning is fired.  </p>\n\n<p>In order to be able to stop there you'll likely want to throw a <code>die</code> out of a <code>$SIG{__WARN__}</code> handler, and have all that code in <code>eval</code>.  This will allow you to stop at the place where the warning comes from and have control back.</p>\n\n<p>As you've read right up to that spot, you can then re-open the file in the encoding suitable for the rest of the file and seek to that spot and read the rest. </p>\n\n<p>I can't write and test all that right now, hopefully this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1559906549, "last_edit_date": 1559906549, "creation_date": 1559897350, "answer_id": 56490989, "question_id": 56486222, "link": "https://stackoverflow.com/questions/56486222/perl-warns-about-invalid-encoding-even-if-i-dont-read-the-problematic-data-from/56490989#56490989", "title": "Perl warns about invalid encoding even if I don&#39;t read the problematic data from the file", "body": "<p>Files don't have a concept of lines; they are just streams of bytes. Perl must request a number of bytes from the file from the OS and figure out where the line ends in order to return a line to the program.</p>\n\n<p>Perl could request a single byte at a time from the OS until it has a full line, but that would be very inefficient. There's a lot of overhead involved in making system calls. As such, Perl requests 8 KiB at a time.</p>\n\n<p>Then, the raw data must be decoded before Perl can determine where the line ends, because a raw <code>0A</code> doesn't necessarily indicate the end of the line.</p>\n\n<p>Similarly to why one doesn't read from a file one byte at a time, asking the decoder to decode just the next character would be inefficient. There is overhead involved every time you start and stop decoding. As such, Perl decodes all the data it reads as it reads it.</p>\n\n<p>So that means that Perl both reads and decodes more than it returns to the program.</p>\n\n<hr>\n\n<p>The solution is to treat the file as binary (because it's not really a text file if the encoding changes by section) and do the decoding yourself.</p>\n\n<p>If you're dealing with a single-byte encoding like cp1252, you can continue using <code>readline</code> (aka <code>&lt;$fh&gt;</code>). However, instead of telling Perl to search for the Code Point of Line Feed (<code>0A</code>), you need to set <code>$/</code> to the encoding of the Code Point. As it happens, that's also <code>0A</code> for cp1252, so no change is needed.</p>\n\n<pre><code>use Encode qw( decode );\n\nopen( my $fh, \"&lt;:raw\", $qfn )\n   or die( \"Can't open \\\"$qfn\\\": $!\\n\" );\n\nwhile( &lt;$fh&gt; ) {\n    $_ = decode( 'cp1252', $_ );      # :encoding(cp1252)\n    s/\\r\\n\\z/\\n/ if $^O eq 'Win32';   # :crlf\n    print;\n    last if /Last/;\n}\n</code></pre>\n\n<p>If you weren't using a single-byte encoding, you might have to switch to using <code>read</code>. (You could keep using <code>readline</code> for UTF-8 because of the way it's designed.) When using <code>read</code>, the exact solution depends on a few specifics (that pertain to determining how much to read and how much to decode).</p>\n"}], "owner": {"reputation": 600, "user_id": 5725780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FKaUq.png?s=128&g=1", "display_name": "pipe", "link": "https://stackoverflow.com/users/5725780/pipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 1, "accepted_answer_id": 56490989, "answer_count": 2, "score": 1, "last_activity_date": 1559906549, "creation_date": 1559863477, "question_id": 56486222, "link": "https://stackoverflow.com/questions/56486222/perl-warns-about-invalid-encoding-even-if-i-dont-read-the-problematic-data-from", "title": "Perl warns about invalid encoding even if I don&#39;t read the problematic data from the file", "body": "<p>I'm trying to read lines from the first part of a file that contains a text header encoded in the <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow noreferrer\">cp1252</a> encoding, and contains binary data after a specific keyword.</p>\n\n<h3>Problem</h3>\n\n<p>Perl warns about invalid encoding  in parts of the file I never read. I've created an example in two files to demonstrate the problem.</p>\n\n<p>Contents of <em>linebug.pl</em>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse 5.028;\nuse strict;\nuse warnings;\nopen( my $fh, \"&lt;:encoding(cp1252)\", \"testfile\" );\nwhile( &lt;$fh&gt; ) {\n    print;\n    last if /Last/;\n}\n</code></pre>\n\n<p>Hexdump of <em>testfile</em>, where the byte <code>0x81</code> right after the text <em>Wrong</em> is purposefully added because it is not a valid cp1252 codepoint:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>46 69 72 73 74 0a         |First.|\n4c 61 73 74 0a            |Last.|\n42 75 66 66 65 72 0a      |Buffer.|\n57 72 6f 6e 67 81 0a      |Wrong..|\n</code></pre>\n\n<p>The third line <em>Buffer</em> is just there to make it clear that I do not read too far. It is a valid line between the last line I read, and the \"binary\" data.</p>\n\n<p>Here is the output showing that I only ever read two lines, but perl still emits a warning:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>user@host$ perl linebug.pl\ncp1252 \"\\x81\" does not map to Unicode at ./linebug.pl line 6.\nFirst\nLast\nuser@host$\n</code></pre>\n\n<p>As can be seen, my program reads and prints the first two lines, and then exits. It should never try to read and interpret anything else, but I still get the warning about <code>\\x81</code> not mapping to Unicode.</p>\n\n<h3>Questions</h3>\n\n<ul>\n<li>Why does it warn? I'm not reading the line. A hunch tells me it's trying to read ahead, but why would it try to decode?</li>\n<li>Is there a workaround, or a better way to handle files where the encoding changes from one section to another?</li>\n</ul>\n\n<p>I still want the warning when reading the initial lines, in case the file is damaged.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1559859873, "last_edit_date": 1559859873, "creation_date": 1559859542, "answer_id": 56485762, "question_id": 56485712, "link": "https://stackoverflow.com/questions/56485712/how-to-combine-two-regex-pattern-in-perl/56485762#56485762", "title": "How to combine two regex pattern in perl?", "body": "<p>Use <code>|</code> to connect alternatives. Also, use <code>qr//</code> to create regex objects, using plain <code>/.../</code> matches against <code>$_</code> and assigns the result to <code>$first_pattern</code> and <code>$second_pattern</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $string = '1..1188,1189..14,14..15';\nmy $first_pattern = qr/\\.\\./;\nmy $second_pattern = qr/,/;\n\nmy @integers = split /$first_pattern|$second_pattern/, $string;\nsay for @integers;\n</code></pre>\n\n<p>You probably need <code>\\.\\.</code> to match two dots, as <code>\\..</code> matches a dot followed by anything but a newline. Also, there's no need to backslash a comma.</p>\n"}], "owner": {"reputation": 15, "user_id": 7629433, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rOT9ss3oqpA/AAAAAAAAAAI/AAAAAAAAACY/qtctdm6QiZM/photo.jpg?sz=128", "display_name": "Mounnad Mohamed", "link": "https://stackoverflow.com/users/7629433/mounnad-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 56485762, "answer_count": 1, "score": 0, "last_activity_date": 1559859873, "creation_date": 1559859229, "question_id": 56485712, "link": "https://stackoverflow.com/questions/56485712/how-to-combine-two-regex-pattern-in-perl", "title": "How to combine two regex pattern in perl?", "body": "<p>I want to combine two regex pattern to split string and get a table of integers.</p>\n\n<p>this the example :</p>\n\n<pre><code>$string= \"1..1188,1189..14,14..15\";\n$first_pattern = /\\../;\n$second_pattern = /\\,/;\n</code></pre>\n\n<p>i want to get tab like that:</p>\n\n<pre><code>[1,1188,1189,14,14,15]\n</code></pre>\n"}, {"tags": ["regex", "perl", "variables", "replace"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1559856080, "post_id": 56485058, "comment_id": 99560578, "body": "It works fine for me (if I first correct the syntax errors, like missing/wrong quotes and missing semicolons). Please provide the input file you are using so we can try to reproduce"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559858608, "post_id": 56485220, "comment_id": 99561305, "body": "@PrashantKulkarni: What do you mean by &quot;didn&#39;t work&quot;? It works for me."}, {"owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559859098, "post_id": 56485220, "comment_id": 99561448, "body": "Sorry, I hit return too soon. Here&#39;s my debugger output:   &lt;code&gt; DB&lt;109&gt; x $find = qr/# Foo Bar/     0  Regexp=REGEXP(0x5c56eb8)     -&gt; qr/(?^u:# Foo Bar)/     DB&lt;110&gt; x $replace = &quot;include foo/bar/blah.txt\\n# Foo Bar&quot;     0  &#39;include foo/bar/blah.txt     # Foo Bar&#39;     DB&lt;111&gt; x open my $in, &#39;&lt;&#39;, $file or die $!     0  1     DB&lt;112&gt; x open my $out, &#39;&gt;&#39;, &quot;$file.new&quot; or die $!     0  1     DB&lt;113&gt; x while (&lt;$in&gt;) {s/$find/$replace/;print {$out} $_;}     0  &#39;&#39;     DB&lt;114&gt; x close $out;     0  &#39;&#39;     DB&lt;115&gt; x rename &quot;$matchingfile.new&quot;, $matchingfile or die $!;     0  1 &lt;code&gt;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559859382, "post_id": 56485220, "comment_id": 99561529, "body": "@PrashantKulkarni: You are running something different to what I posted. <code>$matchingfile</code> and <code>$file</code> are different variables. Note that my script is <a href=\"http://p3rl.org/strict\" rel=\"nofollow noreferrer\">strict</a> compliant."}, {"owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559859470, "post_id": 56485220, "comment_id": 99561558, "body": "Sorry, that was just a typo here in my comment. It&#39;s the same in my code"}, {"owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559859569, "post_id": 56485220, "comment_id": 99561586, "body": "The file doesn&#39;t get modified"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559859729, "post_id": 56485220, "comment_id": 99561640, "body": "Does your file contain <code># Foo Bar</code>? You have <code># Foo</code> in the OP."}, {"owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559859883, "post_id": 56485220, "comment_id": 99561679, "body": "$file has the following text in it: ````     # Foo Bar Blah     path/to/another/file.xml ````"}, {"owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559859925, "post_id": 56485220, "comment_id": 99561691, "body": "Sorry for the spam, can&#39;t figure out how to get formatting in my comments"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559860043, "post_id": 56485220, "comment_id": 99561718, "body": "I created a file containing lines with numbers, I inserted <code># Foo</code> in the middle. Running the script modified the file."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559860088, "post_id": 56485220, "comment_id": 99561732, "body": "@PrashantKulkarni You can&#39;t. Comments are just for comments. All relevant information (including code blocks) should be part of the question."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1559860113, "post_id": 56485220, "comment_id": 99561739, "body": "Note that using <code>my</code> in the debugger doesn&#39;t work, as each statement is executed in its own scope."}, {"owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559860385, "post_id": 56485220, "comment_id": 99561817, "body": "Tried again in the debugger without using <code>my</code> . Still doesn&#39;t work :("}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1559861203, "post_id": 56485220, "comment_id": 99562016, "body": "Try without the debugger. Have you removed <code>my</code> from the <code>open</code> statements, too?"}, {"owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "edited": false, "score": 0, "creation_date": 1559923585, "post_id": 56485220, "comment_id": 99584593, "body": "@choroba You were right, worked without the debugger. Thank you all."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1559860182, "last_edit_date": 1559860182, "creation_date": 1559855881, "answer_id": 56485220, "question_id": 56485058, "link": "https://stackoverflow.com/questions/56485058/how-do-i-use-a-variable-in-perl-regex-replace/56485220#56485220", "title": "How do I use a variable in Perl regex/replace?", "body": "<p>Don't call Perl from Perl, do the work directly in the one process.</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $find    = qr/# Foo/;\nmy $replace = \"foo/bar/blah.txt\\n# Foo\";\nmy $file    = './some_text_file.txt';\n\nopen my $in, '&lt;', $file or die $!;\nopen my $out, '&gt;', \"$file.new\" or die $!;\n\nwhile (&lt;$in&gt;) {\n    s/$find/$replace/;\n    print {$out} $_;\n}\nclose $out;\nrename \"$file.new\", $file or die \"Can't rename\";\n</code></pre>\n\n<p>Or, if you need to keep the backup,</p>\n\n<pre><code>rename $file, \"$file.backup\" or warn \"Can't create backup\";\nrename \"$file.new\", $file or die \"Can't rename\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1559856544, "post_id": 56485271, "comment_id": 99560711, "body": "Their code is trying to run that regex on each line of a file and change the file. The <code>system</code> runs an external command, and their command to run is a perl one-liner, <code>perl -pie&#39;...&#39; file</code>, which changes a file &quot;in-place&quot; (see <a href=\"https://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun</a>)"}], "tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 0, "last_activity_date": 1559856203, "last_edit_date": 1592644375, "creation_date": 1559856203, "answer_id": 56485271, "question_id": 56485058, "link": "https://stackoverflow.com/questions/56485058/how-do-i-use-a-variable-in-perl-regex-replace/56485271#56485271", "title": "How do I use a variable in Perl regex/replace?", "body": "<p>We can also use a simple regular expression and replace it with anything we wish to:</p>\n<h3><a href=\"https://regex101.com/r/NEFgu9/1/\" rel=\"nofollow noreferrer\">Demo</a></h3>\n<h3>Test</h3>\n<pre><code>use strict;\n\nmy $str = 'foo/bar/blah.txt\\\\n# Foo';\nmy $regex = qr/#\\sFoo/mp;\nmy $subst = 'With Anything You wish To Replace';\n\nmy $result = $str =~ s/$regex/$subst/rg;\n\nprint $result\\n&quot;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1559908460, "creation_date": 1559908460, "answer_id": 56493820, "question_id": 56485058, "link": "https://stackoverflow.com/questions/56485058/how-do-i-use-a-variable-in-perl-regex-replace/56493820#56493820", "title": "How do I use a variable in Perl regex/replace?", "body": "<p>When you have a one-liner you'd like to use in a program, <a href=\"https://www.effectiveperlprogramming.com/2010/05/use-bdeparse-to-see-what-perl-thinks-the-code-is/\" rel=\"nofollow noreferrer\">use Deparse</a> to see what you need to do:</p>\n\n<pre><code>$ perl -MO=Deparse -pi.orig -e 's|$find|$replace|;' file\nBEGIN { $^I = \".orig\"; }\nLINE: while (defined($_ = readline ARGV)) {\n    s/$find/$replace/;\n}\ncontinue {\n    die \"-p destination: $!\\n\" unless print $_;\n}\n-e syntax OK\n</code></pre>\n\n<p>From there you can see what you need to do. </p>\n\n<p><a href=\"https://stackoverflow.com/a/56485220/2766176\">choroba's answer</a> does the same thing without the special variable <code>$^I</code> that does the file handling.</p>\n"}], "owner": {"reputation": 19, "user_id": 11611226, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EnnL-8_dB_A/AAAAAAAAAAI/AAAAAAAANck/MlEx3iOp1rw/photo.jpg?sz=128", "display_name": "Prashant Kulkarni", "link": "https://stackoverflow.com/users/11611226/prashant-kulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1559908460, "creation_date": 1559855035, "last_edit_date": 1559860071, "question_id": 56485058, "link": "https://stackoverflow.com/questions/56485058/how-do-i-use-a-variable-in-perl-regex-replace", "title": "How do I use a variable in Perl regex/replace?", "body": "<p>Basically I'm trying to insert a line in a text file and I'm spawning a system command to execute \"perl -pi.orig -e\" </p>\n\n<p>Here's what I'm trying to do:</p>\n\n<pre><code>my $find='# Foo Bar'\nmy $replace=\"foo/bar/blah.txt\\n# Foo'\n\nmy $file = './some_text_file.txt'\n\nsystem(\"perl -pi.orig -e 's|$find|$replace|;' $file\");\n</code></pre>\n\n<p>This works without the use of variables.</p>\n\n<p>$file has the following text in it:</p>\n\n<pre><code># Foo Bar is a comment\nthen/a/path/to/a/file.txt\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 8363813, "user_type": "registered", "profile_image": "https://graph.facebook.com/692446450952705/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/8363813/chris"}, "edited": false, "score": 0, "creation_date": 1559858198, "post_id": 56483936, "comment_id": 99561191, "body": "Thanks, @Grinnz--that is exactly what I needed. I did not realize that nested array refs could be manipulated so cleanly. And thanks, too, for the heads-up regarding the delete operation..."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 5, "last_activity_date": 1559849276, "creation_date": 1559849276, "answer_id": 56483936, "question_id": 56483880, "link": "https://stackoverflow.com/questions/56483880/how-to-splice-an-array-that-is-in-a-hash-of-arrays/56483936#56483936", "title": "How to splice an array that is in a hash of arrays?", "body": "<p>First, I want to note from the <a href=\"https://perldoc.pl/functions/delete\" rel=\"noreferrer\">delete</a> documentation:</p>\n\n<pre><code>WARNING: Calling delete on array values is strongly discouraged. The notion of deleting or checking the existence of Perl array elements is not conceptually coherent, and can lead to surprising behavior.\n</code></pre>\n\n<p>The correct way to set an array element to undef is with the <a href=\"https://perldoc.pl/functions/undef\" rel=\"noreferrer\">undef</a> function (or just assigning undef to it).</p>\n\n<p>To instead remove the elements, you can use the <a href=\"https://perldoc.pl/functions/splice\" rel=\"noreferrer\">splice</a> function, it works the same way on nested arrayrefs as on a normal array, you just need to dereference it like you did for <code>push</code>.</p>\n\n<pre><code>splice @{$AvailTrackLocsTop{$VLayerName}}, $c, $endc - $c + 1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 1, "last_activity_date": 1559849292, "creation_date": 1559849292, "answer_id": 56483939, "question_id": 56483880, "link": "https://stackoverflow.com/questions/56483880/how-to-splice-an-array-that-is-in-a-hash-of-arrays/56483939#56483939", "title": "How to splice an array that is in a hash of arrays?", "body": "<p>Probably the easiest given where you're at is to rebuild the arrays without the undefs:</p>\n\n<pre><code>$_ = [ grep defined, @$_ ] for values %AvailTrackLocsTop;\n</code></pre>\n\n<p>Alternatively, instead of a hash of arrays, you could have a hash of hashes, and then deleting will cause them to disappear without simply turning to undef. You'll just lose the order, if that matters.</p>\n"}], "owner": {"reputation": 101, "user_id": 8363813, "user_type": "registered", "profile_image": "https://graph.facebook.com/692446450952705/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/8363813/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 56483936, "answer_count": 2, "score": 0, "last_activity_date": 1559849292, "creation_date": 1559848989, "question_id": 56483880, "link": "https://stackoverflow.com/questions/56483880/how-to-splice-an-array-that-is-in-a-hash-of-arrays", "title": "How to splice an array that is in a hash of arrays?", "body": "<p>I am populating a data structure like so:-</p>\n\n<pre><code>push @{$AvailTrackLocsTop{$VLayerName}}, $CurrentTrackLoc;\n</code></pre>\n\n<p>Where $VLayerName is a string like m1, m2, m3, etc., and $CurrentTrackLoc is simply a decimal number. If I use Data::Dumper to print the contents of the hash after it is fully populated, it reveals what I expect, e.g.:-</p>\n\n<pre><code>$VAR1 = {\n      'm11' =&gt; [\n                 '0.228',\n                 '0.316',\n                 '0.402',\n                 '0.576',\n                 '0.750',\n                 '569.458',\n                 '569.544',\n                 '569.718',\n                 '569.892'\n               ]\n    };\n</code></pre>\n\n<p>Now I need to effectively splice the stored list of decimal numbers. I can delete entries like so:-</p>\n\n<pre><code>for (my $i = $c; $i &lt;= $endc; $i++) {\n    delete $AvailTrackLocsTop{$VLayerName}-&gt;[$i];\n}\n</code></pre>\n\n<p>The result is, as expected, a bunch of \"undef\" entries where numbers used to exist, e.g.:-</p>\n\n<pre><code>$VAR1 = {\n      'm11' =&gt; [\n                 undef,\n                 undef,\n                 undef,\n                 undef,\n                 '0.750',\n                 '569.458',\n                 '569.544',\n                 '569.718',\n                 '569.892'\n               ]\n    };\n</code></pre>\n\n<p>But how can I purge the undef entries so that I see something like this instead?</p>\n\n<pre><code>$VAR1 = {\n      'm11' =&gt; [\n                 '0.750',\n                 '569.458',\n                 '569.544',\n                 '569.718',\n                 '569.892'\n               ]\n    };\n</code></pre>\n\n<p>It is important to note that the deletions can be anywhere in the array, e.g. like index 33 and 99 of 100. It is easy to splice arrays outside the context of a hash structure, but I am struggling to manipulate the array when it is embedded inside a large hash.</p>\n"}, {"tags": ["perl", "graph"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1559855220, "post_id": 56482542, "comment_id": 99560302, "body": "See also <a href=\"https://stackoverflow.com/q/14272119/2173773\">Finding the number of paths of given length in a undirected unweighted graph</a>"}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1559902380, "post_id": 56482542, "comment_id": 99573466, "body": "@H&#229;konH&#230;gland, thanks for a link, but unfortunately it describes how to find NUMBER of paths, but I need to get LIST of paths :)"}], "answers": [{"tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1559893126, "creation_date": 1559893126, "answer_id": 56489973, "question_id": 56482542, "link": "https://stackoverflow.com/questions/56482542/graph-pm-how-to-get-all-paths-with-particular-length/56489973#56489973", "title": "Graph.pm - how to get all paths with particular length?", "body": "<p>You had a bug in your edge setup, compare with my correct definition.</p>\n\n<pre><code>use Graph::Undirected;\nmy $g = Graph::Undirected-&gt;new;\n$g-&gt;add_edge(1, 2);\n$g-&gt;add_edge(1, 3);\n$g-&gt;add_edge(1, 5);\n$g-&gt;add_edge(1, 6);\n$g-&gt;add_edge(2, 7);\n$g-&gt;add_edge(3, 4);\n$g-&gt;add_edge(4, 2);\n$g-&gt;add_edge(5, 2);\n$g-&gt;add_edge(6, 2);\n\nfor my $neighbour_of_v1 ($g-&gt;neighbours(1)) {\n    next if 2 == $neighbour_of_v1; # direct neighbour, path is too short\n    for my $neighbour_of_neighbour_of_v1 ($g-&gt;neighbours($neighbour_of_v1)) {\n        next if 1 == $neighbour_of_neighbour_of_v1; # ignore backlink to start\n        say \"1-$neighbour_of_v1-$neighbour_of_neighbour_of_v1\"\n            if 2 == $neighbour_of_neighbour_of_v1;\n    }\n}\n__END__\n1-5-2\n1-6-2\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1559893126, "creation_date": 1559842540, "question_id": 56482542, "link": "https://stackoverflow.com/questions/56482542/graph-pm-how-to-get-all-paths-with-particular-length", "title": "Graph.pm - how to get all paths with particular length?", "body": "<p>I have following example graph with 9 edges:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FSQ1fm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FSQ1fm.png\" alt=\"graph\"></a></p>\n\n<p>Assuming that graph is undirected and weight of each edge is 1.</p>\n\n<p>We can describe it programmatically using <a href=\"https://metacpan.org/pod/Graph\" rel=\"nofollow noreferrer\">Graph.pm</a> as</p>\n\n<pre><code>use Graph::Undirected;\nmy $g = Graph::Undirected-&gt;new; # An undirected graph.\n$g-&gt;add_edge(1, 3);\n$g-&gt;add_edge(3, 4);\n$g-&gt;add_edge(4, 2);\n$g-&gt;add_edge(1, 2);\n$g-&gt;add_edge(1, 5);\n$g-&gt;add_edge(1, 2);\n$g-&gt;add_edge(1, 6);\n$g-&gt;add_edge(6, 2);\n$g-&gt;add_edge(2, 7);\n</code></pre>\n\n<p>How to get all paths from vertex <code>1</code> to vertex <code>2</code> which have length = 2 ? </p>\n\n<p>I haven't found any method for it in <a href=\"https://metacpan.org/pod/Graph\" rel=\"nofollow noreferrer\">Graph.pm</a> :(</p>\n\n<p>In my example it must return 2 paths, <code>[ 1, 5, 2 ]</code> and <code>[ 1, 6, 2 ]</code></p>\n"}, {"tags": ["bash", "perl", "zsh"], "comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1559837917, "post_id": 56480491, "comment_id": 99553380, "body": "Josh, would you please post your solution as an answer?  For myself, I use  Aristotle&#39;s <code>rename</code> Perl script from <a href=\"http://www.perlmonks.org/?node_id=303814\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=303814</a> for renaming.  <code>rename &#39;s&#47;company_a&#47;company_b&#47;&#39; *.py</code> or the like."}, {"owner": {"reputation": 6569, "user_id": 6220759, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/0yuve.jpg?s=128&g=1", "display_name": "Josh Friedlander", "link": "https://stackoverflow.com/users/6220759/josh-friedlander"}, "reply_to_user": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1559838169, "post_id": 56480491, "comment_id": 99553488, "body": "Done, and thanks - I&#39;ll have a look! I&#39;m partial to perl, from the little I&#39;ve done with it"}], "answers": [{"comments": [{"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 1, "creation_date": 1559838265, "post_id": 56481591, "comment_id": 99553530, "body": "Looks good to me - I&#39;m not sure it would be much shorter in Perl anyway :)"}], "tags": [], "owner": {"reputation": 6569, "user_id": 6220759, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/0yuve.jpg?s=128&g=1", "display_name": "Josh Friedlander", "link": "https://stackoverflow.com/users/6220759/josh-friedlander"}, "is_accepted": false, "score": 1, "last_activity_date": 1559838148, "creation_date": 1559838148, "answer_id": 56481591, "question_id": 56480491, "link": "https://stackoverflow.com/questions/56480491/cycle-through-a-list-of-terms-and-batch-rename-files/56481591#56481591", "title": "Cycle through a list of terms and batch rename files", "body": "<p>This was the solution I came up with:</p>\n\n<pre><code>#!/usr/bin/env bash\nmy_array=(company_b company_c company_d)\nfor i in \"${my_array[@]}\" \ndo\n  for file in *.py\n  do\n    cp \"$file\" \"${file/company_a/$i}\"\n  done\ndone\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6569, "user_id": 6220759, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/0yuve.jpg?s=128&g=1", "display_name": "Josh Friedlander", "link": "https://stackoverflow.com/users/6220759/josh-friedlander"}, "edited": false, "score": 1, "creation_date": 1559848478, "post_id": 56481690, "comment_id": 99557757, "body": "Thanks - the explanations and optimisations are really helpful!"}], "tags": [], "owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "is_accepted": true, "score": 3, "last_activity_date": 1559839078, "last_edit_date": 1559839078, "creation_date": 1559838608, "answer_id": 56481690, "question_id": 56480491, "link": "https://stackoverflow.com/questions/56480491/cycle-through-a-list-of-terms-and-batch-rename-files/56481690#56481690", "title": "Cycle through a list of terms and batch rename files", "body": "<h3>bash</h3>\n\n<p>Slightly modified from <a href=\"https://stackoverflow.com/a/56481591/2877364\">the OP's answer</a>:</p>\n\n<pre><code>#!/usr/bin/env bash\nset -x      # So you can see what's happening - feel free to omit\n\ncompany_a_files=(company_a*.py)  # &lt;== Save the list of files first\n\nmy_array=(company_b company_c company_d)\nfor i in \"${my_array[@]}\" \ndo\n  for file in \"${company_a_files[@]}\"    # &lt;== Use the saved list\n  do\n    cp \"$file\" \"${file/company_a/$i}\"\n  done\ndone\n</code></pre>\n\n<p>When the inner loop in the OP's answer runs <code>for file in *.py</code>, the glob will pick up whatever <code>company_b</code> &amp;c. files have already been created.  So you wind up with a lot of <code>set -x</code> output like:</p>\n\n<pre><code>+ cp company_b_1.py company_b_1.py\ncp: 'company_b_1.py' and 'company_b_1.py' are the same file\n</code></pre>\n\n<p>Instead, save the glob of company_a files into a shell array first, and then\nloop over that array.</p>\n\n<h3>perl</h3>\n\n<p>As a one-liner for Perl 5.14+:</p>\n\n<pre><code> perl -MFile::Copy=copy -E 'for my $file (@ARGV) { copy $file, $file =~ s/company_a/$_/r foreach qw(company_b company_c company_d) }' company_a*.py\n</code></pre>\n\n<p>The Perl version switches the loop order compared to the bash version.  For each file given on the command line (the <code>for ... @ARGV</code>), it copies from that file to each name-modified file in turn (the <code>foreach</code>).</p>\n\n<p><code>$file =~ s/company_a/$_/r</code> is a non-destructive (<code>/r</code>) replace in <code>$file</code> (the filename) that changes <code>company_a</code> to <code>$_</code> (the current value from <code>foreach</code>).</p>\n"}], "owner": {"reputation": 6569, "user_id": 6220759, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/0yuve.jpg?s=128&g=1", "display_name": "Josh Friedlander", "link": "https://stackoverflow.com/users/6220759/josh-friedlander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56481690, "answer_count": 2, "score": 1, "last_activity_date": 1559839078, "creation_date": 1559834011, "last_edit_date": 1559835390, "question_id": 56480491, "link": "https://stackoverflow.com/questions/56480491/cycle-through-a-list-of-terms-and-batch-rename-files", "title": "Cycle through a list of terms and batch rename files", "body": "<p><strong>EDIT</strong>: In the course of working on and reediting this question, I was able to get this to work. However, I'm sure there's a better way to do it, so I'm leaving it up to hear from those more experienced.</p>\n\n<p>Periodically I need to reproduce several dozen copies of a few files. For example, given:</p>\n\n<pre><code>company_a_results_30d.py\ncompany_a_results_90d.py\ncompany_a_results_120d.py\ncompany_a_results_all_time.py\n</code></pre>\n\n<p>I need to make copies where <code>company_a</code> is replaced with <code>company_b</code>, <code>company_c</code>....etc. (The next step is to find and replace a number of terms within the files, but this I have managed to do with a perl script.)</p>\n\n<p>I'm sure this should be possible with a bash script and <code>mv</code>, but I haven't quite got the hang of it. Something like:</p>\n\n<pre><code>#!/usr/bin/env bash\nmy_array=(company_b company_c company_d)\nfor i in \"${my_array[@]}\" \ndo\n  for file in *.py\n  do\n    cp \"$file\" \"${file/company_a/$i}\"\n  done\ndone\n</code></pre>\n\n<p>I'd prefer a solution compatible with <code>zsh</code>, which is what I use.</p>\n"}, {"tags": ["ffi", "perl"], "answers": [{"tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": false, "score": 1, "last_activity_date": 1559828606, "creation_date": 1559828606, "answer_id": 56478910, "question_id": 56478909, "link": "https://stackoverflow.com/questions/56478909/how-do-i-get-the-string-value-from-a-pointer-reference-using-ffiplatypus/56478910#56478910", "title": "How do I get the string value from a pointer-reference using FFI::Platypus?", "body": "<p>In order to get the <code>SVpv</code> you need to cast the \"opaque\" pointer to a Perl data variable,</p>\n\n<pre><code>$ffi-&gt;cast(opaque =&gt; string =&gt; $ffi-&gt;find_symbol('foo'));\n</code></pre>\n\n<p>You can <a href=\"https://metacpan.org/source/PLICEASE/FFI-Platypus-0.87/t/ffi_platypus.t#L574\" rel=\"nofollow noreferrer\">see this here in the test suite.</a></p>\n"}, {"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 1, "last_activity_date": 1559831321, "creation_date": 1559831321, "answer_id": 56479692, "question_id": 56478909, "link": "https://stackoverflow.com/questions/56478909/how-do-i-get-the-string-value-from-a-pointer-reference-using-ffiplatypus/56479692#56479692", "title": "How do I get the string value from a pointer-reference using FFI::Platypus?", "body": "<p>Another option if you know the location and length of the buffer is <code>buffer_to_scalar</code> from <a href=\"https://metacpan.org/pod/FFI::Platypus::Buffer\" rel=\"nofollow noreferrer\">FFI::Platypus::Buffer</a>. This is a very close to metal and thus quick option, but it is dangerous like most C code is, you can easily segfault by using it wrong.</p>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1559831321, "creation_date": 1559828606, "last_edit_date": 1559828920, "question_id": 56478909, "link": "https://stackoverflow.com/questions/56478909/how-do-i-get-the-string-value-from-a-pointer-reference-using-ffiplatypus", "title": "How do I get the string value from a pointer-reference using FFI::Platypus?", "body": "<p>I've built a shared library in C with,</p>\n\n<pre><code>const char foo[] = \"foo1234\"; \n</code></pre>\n\n<p>With <a href=\"https://metacpan.org/pod/FFI::Platypus\" rel=\"nofollow noreferrer\">FFI::Platypus</a> I can get the symbol location using</p>\n\n<pre><code>print $ffi-&gt;find_symbol('foo');\n140204212527104\n</code></pre>\n\n<p>How do I print out the value of <code>foo1234</code>?</p>\n"}, {"tags": ["c#", "perl", "dictionary", "hashmap", "hashtable"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559827137, "post_id": 56477977, "comment_id": 99547235, "body": "Keep in mind that <code>$map{$key1}{$key2} = 54;</code> is short for <code>( $map{$key1} &#47;&#47;= {} )-&gt;{$key2} = 54;</code> because of autovivification. In C#, you will need to create the sub-dictionaries explicitly."}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 3510400, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/613e642fa3392b5887a9f7a6aeeb6879?s=128&d=identicon&r=PG&f=1", "display_name": "Yahia", "link": "https://stackoverflow.com/users/3510400/yahia"}, "edited": false, "score": 0, "creation_date": 1559826475, "post_id": 56478040, "comment_id": 99546812, "body": "Interesting approach, let me try it out."}], "tags": [], "owner": {"reputation": 4750, "user_id": 428811, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9c08c7f05e0d0444cd72807e8911d728?s=128&d=identicon&r=PG", "display_name": "Mr. TA", "link": "https://stackoverflow.com/users/428811/mr-ta"}, "is_accepted": true, "score": 2, "last_activity_date": 1559828815, "last_edit_date": 1559828815, "creation_date": 1559825607, "answer_id": 56478040, "question_id": 56477977, "link": "https://stackoverflow.com/questions/56477977/how-to-port-a-multi-keys-hash-from-perl-to-a-c-equivalent/56478040#56478040", "title": "How to port a multi-keys hash from perl to a c# equivalent?", "body": "<p>In your root dictionary, you have to add a new entry only if it doesn't exist already. Try this:</p>\n\n<pre><code>key1 = \"1\";\nkey2 = \"a\";\nif(!map.TryGetValue(key1, out var subMap))\n{\n  map[key1] = subMap = new Dictionary&lt;string, int&gt;();\n}\nsubMap[key2] = 54;\n\n// somewhere else in code\nkey1 = \"1\";\nkey2 = \"b\";\nif(!map.TryGetValue(key1, out var subMap))\n{\n  map[key1] = subMap = new Dictionary&lt;string, int&gt;();\n}\nsubMap[key2] = 47;\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 3510400, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/613e642fa3392b5887a9f7a6aeeb6879?s=128&d=identicon&r=PG&f=1", "display_name": "Yahia", "link": "https://stackoverflow.com/users/3510400/yahia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56478040, "answer_count": 1, "score": 0, "last_activity_date": 1559828815, "creation_date": 1559825378, "question_id": 56477977, "link": "https://stackoverflow.com/questions/56477977/how-to-port-a-multi-keys-hash-from-perl-to-a-c-equivalent", "title": "How to port a multi-keys hash from perl to a c# equivalent?", "body": "<p>While porting a perl module into c# code, I stumbled into how to port a multi-keys hash from perl to a c# equivalent:</p>\n\n<pre><code>$map{$key1}{$key2}=$value;\n</code></pre>\n\n<p>In the perl code to port, I can define multiple lines with the same key1, and also I can access the hash only with the first key:</p>\n\n<pre><code># define multiple lines with the same key1 : ex :\n$key1 = '1'; \n$key2 = 'a';\n$map{$key1}{$key2}=54;\n$key2 = 'b';\n$map{$key1}{$key2}=47;\n\n# can access the hash only with the first key : ex :\nif (exists($$map{'1'}) {}\n</code></pre>\n\n<p>But in c# if I use a c# dictionary, I can not add a same key1 lines, it says duplicate keys. For example, in c#, if I do this, I have an error:</p>\n\n<pre><code>var map = new Dictionary&lt;string, Dictionary&lt;string, int&gt;&gt;();\nmap.Add(key1, new Dictionary&lt;string, int&gt;() { { key2, 54 } });\nmap.Add(key1, new Dictionary&lt;string, int&gt;() { { key2, 47 } });\n</code></pre>\n\n<p>Same wise, if I use a tuple as the key, I will be able to add 2 rows with the same key1 (and a different key2), but I will not be able to access the dictionary only with the first key:</p>\n\n<pre><code>var map = new Dictionary&lt;Tuple&lt;string, string&gt;, int&gt;();\nmap.Add(new Tuple&lt;string, string&gt;(key1, key2), 54);\nmap.Add(new Tuple&lt;string, string&gt;(key1, key2), 47);\nif (map[\"1\"] != null) {} // =&gt; this gives an error\n</code></pre>\n\n<p>Any idea?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 10202232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Avzwj.png?s=128&g=1", "display_name": "him", "link": "https://stackoverflow.com/users/10202232/him"}, "edited": false, "score": 0, "creation_date": 1559824548, "post_id": 56477711, "comment_id": 99545704, "body": "Thanks, it worked. I tried different ways - even without commas, but it was giving error that way. What I didn&#39;t know was we have to enclose the first argument in curly braces."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1559841400, "post_id": 56477711, "comment_id": 99554845, "body": "One could also use <code>$self-&gt;get_fHandle-&gt;print($msg);</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1559824460, "creation_date": 1559824460, "answer_id": 56477711, "question_id": 56477664, "link": "https://stackoverflow.com/questions/56477664/setting-file-handle-attribute-in-a-classstd-class-in-perl/56477711#56477711", "title": "Setting file handle attribute in a Class::Std class in Perl", "body": "<p>The syntax for <code>print</code> to a file handle is different: there's no comma. Also, for complex structures, you need  curly braces:</p>\n\n<pre><code>print { $self-&gt;get_fHandle } $msg;\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 10202232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Avzwj.png?s=128&g=1", "display_name": "him", "link": "https://stackoverflow.com/users/10202232/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56477711, "answer_count": 1, "score": 0, "last_activity_date": 1559824460, "creation_date": 1559824290, "question_id": 56477664, "link": "https://stackoverflow.com/questions/56477664/setting-file-handle-attribute-in-a-classstd-class-in-perl", "title": "Setting file handle attribute in a Class::Std class in Perl", "body": "<p>I am trying to create a Perl class <em>LogManager</em> that is to be used to write logs to a file. For that I have written a <strong>Class::Std class</strong> with following specifications</p>\n\n<pre><code>package LogManager;\n\nuse strict;\nuse warnings;\nuse Class::Std;\nuse FileHandle;\n\nmy %fName     : ATTR( :name&lt;fName&gt; :default&lt;\"log\"&gt;);\nmy %fLocation : ATTR( :name&lt;fLocation&gt; :default&lt;\"./\"&gt;);\nmy %fHandle   : ATTR( :name&lt;fHandle&gt; :default&lt;undef&gt;);\n\nsub START {\n    my ($self, $ident, $args_ref) = @_;   \n    my $logfile = $self-&gt;get_fLocation(). '/' . $self-&gt;get_fName();\n    $self-&gt;set_fHandle(FileHandle-&gt;new(\"&gt; $logfile\"));\n}\n\nsub log {\n    my ($self, $msg) = @_;\n    print $self-&gt;get_fHandle(), $msg;\n}\n\n1;\n</code></pre>\n\n<p>What I know of Class::Std is that one can use get and set functions (eg. get_fName(), set_fName()) to read and write values of the attributes.\nSo, I have defined a <a href=\"https://metacpan.org/pod/Class::Std#START()\" rel=\"nofollow noreferrer\">START() function</a> as above.</p>\n\n<p>I have used this object as follows </p>\n\n<pre><code>my $fh = LogManager-&gt;new();\nLogManager::log($fh, \"This is my log\");\n</code></pre>\n\n<p>However, instead of writing to the file, following is being printed on the terminal </p>\n\n<pre><code>FileHandle=GLOB(0x5dcdd0)This is my log\n</code></pre>\n\n<p>I could think of a reason for this. In the START() function third line - there is something else happening than what I intend of - (might be it is copying address of the file handle object - this is a guess).</p>\n\n<p>I'm new to Perl, and can't think of a different way to set the file handle. What I could think of now is creating a normal class instead of a <strong>Class::Std</strong> class and write something like</p>\n\n<pre><code>my $fHandle = FileHandle-&gt;new(\"&gt; $logfile\");\n</code></pre>\n\n<p>But, what I wanted to know - is there a way I can achieve the same using <strong>Class::Std</strong>, by some modifications to the above code ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1559799837, "post_id": 56471395, "comment_id": 99533772, "body": "What do you expect <code>$lastsnap</code> in <code>if ($lastsnap)</code> (right after the <code>foreach</code> loop) to be?  After the loop it picks up the value it had before it, which is <code>undef</code>.  Thus it goes to <code>else</code> and you get what you report."}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559800246, "post_id": 56471395, "comment_id": 99533881, "body": "Hi @zdim it should pick the recently created  dir which named by timestamps,"}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559800368, "post_id": 56471395, "comment_id": 99533922, "body": "when i comment out if else part i get &quot;Use of uninitialized value $lastsnap in print&quot; so probably sort thing does not work"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1559800564, "post_id": 56471395, "comment_id": 99533960, "body": "After the <code>foreach $lastsnap (sort ...</code> loop the <code>$lastsnap</code> variable is again what it was before that loop, so <code>undef</code> here.  So when the code comes to <code>if ($lastsnap) { ... } else ...</code> since <code>$lastsnap</code> is false (<code>undef</code>) it goes to <code>else</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559801159, "post_id": 56471395, "comment_id": 99534105, "body": "I still don&#39;t understand what you expect <code>$lastsnap</code> to be at that point -- if you expect it to be the last thing in <code>$snapshotdirs</code> data structure then you can set it up to that value, <code>$lastsnap = ...</code> right after the <code>foreach</code> loop"}, {"owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559801312, "post_id": 56471395, "comment_id": 99534160, "body": "yes its the last dir in $snapshotdirs"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559801316, "post_id": 56471395, "comment_id": 99534161, "body": "Try this (on the command line): <code>perl -wE&#39;my $v = 77;  for $v (1..3) { say &quot;in loop: $v&quot; };  say &quot;After loop: $v&quot;&#39;</code>.  After the loop that <code>$v</code> is what it was before (77).  In your case that is <code>undef</code>.  So after the <code>foreach</code> loop you should set <code>$lastsnap</code> to what you need it to be"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1559801463, "post_id": 56471395, "comment_id": 99534215, "body": "I would also suggest that you change the name of that variable inside the loop to something else -- because it is different from <code>$lastsnap</code> outside the loop (so that it&#39;s not confusing)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1559801679, "post_id": 56471395, "comment_id": 99534308, "body": "In short, <code>for $var (...)</code> (as opposed to <code>for my $var (...)</code>) makes no sense"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1559845711, "post_id": 56471395, "comment_id": 99556683, "body": "&quot;<i>yes its the last dir in <code>$snapshotdirs</code></i>&quot; --- that we can&#39;t get since you add dirs to an arrayref <i>in a hash</i>, and hash is unordered (no way to tell what the last one was).  Then, if you  need the last one, record them: <code>my $last_dir; foreach my $ls (...) { $last_dir = $ls; .... }</code> (I replaced the name <code>$lastsnap</code> with <code>$ls</code>) and now after the loop the <code>$last_dir</code> has it."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 4, "last_activity_date": 1559817043, "creation_date": 1559817043, "answer_id": 56475728, "question_id": 56471395, "link": "https://stackoverflow.com/questions/56471395/how-get-the-last-directory-using-perl/56475728#56475728", "title": "how get the last directory using perl?", "body": "<p>A few things that may help:</p>\n\n<ul>\n<li>Perl has a built-in <a href=\"https://perldoc.perl.org/functions/mkdir.html\" rel=\"nofollow noreferrer\">mkdir</a></li>\n<li>The File::Path core module has <a href=\"https://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\">make_path</a> to do what <code>mkdir -vp</code> does</li>\n</ul>\n\n<p>As for <code>$lastsnap</code>, you declare it outside of the <code>if</code> but don't assign it anything. Inside the loop you use it as the control variable with <code>foreach</code>, but try to access it afterward. That's not going to work because the control variable is private to that foreach loop. It temporarily masks a variable of the same name until the loop completes.</p>\n\n<pre><code>my $lastsnap;\nprint \"1. \\$lastsnap is $lastsnap\\n\";\n\nforeach $lastsnap ( 0..2 ) {\n    print \"$lastsnap is $lastsnap\\n\";\n    }\n\nprint \"2. \\$lastsnap is $lastsnap\\n\";\n</code></pre>\n\n<p>It ends up with <code>undef</code> after the loop even though its last value in the loop was 2:</p>\n\n<pre><code>1. $lastsnap is\n0 is 0\n1 is 1\n2 is 2\n2. $lastsnap is\n</code></pre>\n\n<p>Try it with an initial value:</p>\n\n<pre><code>my $lastsnap = 'foo';\nprint \"1. \\$lastsnap is $lastsnap\\n\";\n\nforeach $lastsnap ( 0..2 ) {\n    print \"$lastsnap is $lastsnap\\n\";\n    }\n\nprint \"2. \\$lastsnap is $lastsnap\\n\";\n</code></pre>\n\n<p>It ends up with the original value when the loop finishes because the <code>foreach</code>'s control variable no longer masks it:</p>\n\n<pre><code>1. $lastsnap is foo\n0 is 0\n1 is 1\n2 is 2\n2. $lastsnap is foo\n</code></pre>\n\n<p>When you check <code>$lastsnap</code> with the <code>if</code>, it's false so it does the <code>else</code> branch:</p>\n\n<pre><code>if ($lastsnap) {\n    $lastsnap = \"$backupsnap/$bserver/$lastsnap\";\n} else {\n    $lastsnap = \"$backupstore/$bserver\" unless $lastsnap;\n}\n</code></pre>\n\n<p>In the <code>else</code> branch you already know that <code>$lastsnap</code> is false but you check it again with <code>unless</code>. No big whoop, but this is where you assign it the value that you observe.</p>\n\n<p>I don't have a particular fix for you because I can't quite tell what you are trying to do.</p>\n"}], "owner": {"reputation": 463, "user_id": 10949692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LE3M.jpg?s=128&g=1", "display_name": "Debugger", "link": "https://stackoverflow.com/users/10949692/debugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559817146, "creation_date": 1559799174, "last_edit_date": 1559817146, "question_id": 56471395, "link": "https://stackoverflow.com/questions/56471395/how-get-the-last-directory-using-perl", "title": "how get the last directory using perl?", "body": "<p>I use below script to get the last directory. </p>\n\n<pre><code>my $bsnap = bla_path \nmy $numbsnaps = defaultstr(some_file);\nmy (%snapshotdirs, $lastsnap);\nif ($numbsnaps &gt; 0) {\n    system(@mkdir, '-vp', \"$backupsnap/$bserver\");\n    exit 1 if checkrc(\"mkdir $backupsnap/$bserver:\", $?, $!);\n    unless(opendir($fh, \"$backupsnap/$bserver\")) {\n        print STDERR \"error: failed to open snapshot dir: $!\\n\";\n        goto snapshot_end;\n    }\n    foreach $lastsnap (sort(grep({$_ !~ /^\\.\\.?$/ and -d \"$backupsnap/$bserver/$_\";} readdir($fh)))) {\n        my $day = $lastsnap;\n        $day =~ s/-\\d+$//;\n        push(@{$snapshotdirs{$day}}, $lastsnap);\n    }\n    if ($lastsnap) {\n        $lastsnap = \"$backupsnap/$bserver/$lastsnap\";\n    } else {\n        $lastsnap = \"$backupstore/$bserver\" unless $lastsnap;\n    }\n    system(@mkdir, '-vp', \"$bsnap\");\n    exit 1 if checkrc(\"mkdir $bsnap:\", $?, $!);\n}\n</code></pre>\n\n<p>But when I print <code>$lastsnap</code> I only get <code>$backupstore/$bserver</code>. I want to get <code>$backupsnap/$bserver/$lastsnap</code>. What am I doing wrong? </p>\n"}, {"tags": ["file", "perl", "numbers", "increment"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "edited": false, "score": 0, "creation_date": 1559799562, "post_id": 56471295, "comment_id": 99533692, "body": "I tired, even tweaked it but still it&#39;s not working"}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "reply_to_user": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "edited": false, "score": 0, "creation_date": 1559800965, "post_id": 56471295, "comment_id": 99534047, "body": "&quot;still it&#39;s not working&quot; is not a proper error description. You even gave no example input and output."}, {"owner": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "edited": false, "score": 0, "creation_date": 1559801447, "post_id": 56471295, "comment_id": 99534208, "body": "data in file: $U[0] = &quot;\\data1\\fileloader.ini&quot;; $U[0] = &quot;\\data1\\data2\\crame\\crame.ini&quot;; $U[0] = &quot;\\data1\\data2\\data3\\files\\setup.exe&quot;; $U[0] = &quot;\\data1\\data2\\data3\\data4\\WINDOWS\\win.ini&quot;; command: perl -pi -e &#39;s/U&#91;0&#93;(\\d+)/&quot;U[0]&quot;.($1+1)/e&#39; adjustedlist.txt problem: now after using this command, $U[0] does not increase."}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "reply_to_user": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "edited": false, "score": 0, "creation_date": 1559801646, "post_id": 56471295, "comment_id": 99534301, "body": "First of all you did not use the regex I gave. The backslashes seem to be missing. Then <code>&quot;\\data1\\fileloader.ini&quot;</code> for sure is not a number, so nothing that can be increased. Lastely: Please enhance you original post so that example input and output can properly be read."}, {"owner": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "edited": false, "score": 0, "creation_date": 1559801927, "post_id": 56471295, "comment_id": 99534397, "body": "please check and provide solution"}, {"owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "reply_to_user": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "edited": false, "score": 1, "creation_date": 1559802250, "post_id": 56471295, "comment_id": 99534499, "body": "No. Sorry. I&#39;m not here to provide a solution. But I can give you a hint. Currently you are searching for <code>U[0]</code> followed by digits. But you only need to find <code>U[0]</code> or better <code>$U[0]</code> which can be achieved with <code>&#47;\\$U\\[0\\]&#47;</code>. Then, in the replacement part, you need to use a variable defined outside, which you increase with every step. I hope this is enough to get you going."}], "tags": [], "owner": {"reputation": 3051, "user_id": 6237339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c4dd2523d09028942a397df378237?s=128&d=identicon&r=PG&f=1", "display_name": "Skeeve", "link": "https://stackoverflow.com/users/6237339/skeeve"}, "is_accepted": false, "score": 1, "last_activity_date": 1559798458, "creation_date": 1559798458, "answer_id": 56471295, "question_id": 56470606, "link": "https://stackoverflow.com/questions/56470606/one-liner-increment-of-variable-value-in-text-file-using-perl/56471295#56471295", "title": "one liner increment of variable value in text file using perl", "body": "<p>The \"Syntax error\" comes from the fact that your regexp is missing the <code>/</code> which should separate search pattern from replacement part. Additionally you want to execute the replacement part and I think the <code>[]</code> are meatn literally. So my best guess is, your s/p/r/ should be: <code>s/U\\[0\\](\\d+)/\"U[0]\".($1+1)/e</code></p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1559841110, "post_id": 56472406, "comment_id": 99554727, "body": "Shorter: <code>s&#47;\\$U\\[\\K0(?=\\])&#47;$c++&#47;ge</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1559892633, "post_id": 56472406, "comment_id": 99568623, "body": "If you used single quotes instead of double quotes, you wouldn&#39;t need to escape the <code>$</code> in the replacement string."}], "tags": [], "owner": {"reputation": 963, "user_id": 11117210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d5aa68aac6b9fe841dc9221c477dd8?s=128&d=identicon&r=PG&f=1", "display_name": "truth", "link": "https://stackoverflow.com/users/11117210/truth"}, "is_accepted": true, "score": 1, "last_activity_date": 1559840957, "last_edit_date": 1559840957, "creation_date": 1559804533, "answer_id": 56472406, "question_id": 56470606, "link": "https://stackoverflow.com/questions/56470606/one-liner-increment-of-variable-value-in-text-file-using-perl/56472406#56472406", "title": "one liner increment of variable value in text file using perl", "body": "<p>The <code>s///</code> expression that works for this case is:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>s/\\$U\\[0\\]/\"\\$U[\".$c++.\"]\"/ge\n</code></pre>\n\n<p>This means:  Replace every occurence of <code>$U[0]</code> with <code>$U[n]</code>, <code>n</code> being the next integer starting from <code>0</code>.</p>\n\n<p>Please read: <a href=\"https://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlop.html</a> about <code>s/PATTERN/REPLACEMENT/</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1559841276, "last_edit_date": 1559841276, "creation_date": 1559830352, "answer_id": 56479423, "question_id": 56470606, "link": "https://stackoverflow.com/questions/56470606/one-liner-increment-of-variable-value-in-text-file-using-perl/56479423#56479423", "title": "one liner increment of variable value in text file using perl", "body": "<p>This seems to do what you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $x = 0;\n\nwhile (&lt;DATA&gt;) {\n  s/U\\[0]/'U[' . $x++ . ']'/e;\n  print;\n}\n\n__DATA__\n$U[0] = \"\\data1\\fileloader.ini\";\n$U[0] = \"\\data1\\data2\\crame\\crame.ini\";\n$U[0] = \"\\data1\\data2\\data3\\files\\setup.exe\";\n$U[0] = \"\\data1\\data2\\data3\\data4\\WINDOWS\\win.ini\";\n</code></pre>\n\n<p>The output I get is:</p>\n\n<pre><code>$U[0] = \"\\data1\\fileloader.ini\";\n$U[1] = \"\\data1\\data2\\crame\\crame.ini\";\n$U[2] = \"\\data1\\data2\\data3\\files\\setup.exe\";\n$U[3] = \"\\data1\\data2\\data3\\data4\\WINDOWS\\win.ini\";\n</code></pre>\n\n<p>Like the other answers, I've basically made three fixes here.</p>\n\n<ul>\n<li>Stop <code>[0]</code> being interpreted as a character class.</li>\n<li>Correct the syntax of your <code>s/.../.../</code> expression.</li>\n<li>Ignore <code>$1</code> and use an incrementing variable for the replacement integer.</li>\n</ul>\n"}], "owner": {"reputation": 27, "user_id": 8684368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f621eb69118195e11a996d1671e48?s=128&d=identicon&r=PG&f=1", "display_name": "Haroon Ahmad", "link": "https://stackoverflow.com/users/8684368/haroon-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 56472406, "answer_count": 3, "score": 0, "last_activity_date": 1559841276, "creation_date": 1559792349, "last_edit_date": 1559801914, "question_id": 56470606, "link": "https://stackoverflow.com/questions/56470606/one-liner-increment-of-variable-value-in-text-file-using-perl", "title": "one liner increment of variable value in text file using perl", "body": "<p>I have variable in file of perl program. I only want to increase value vertically position of <code>$[0] as $[1] $[2]</code>, as each $[0] variable right now have base 64 to utf-8 values. </p>\n\n<p>I only want to change $[0] to increase value until end of file.</p>\n\n<p>I tried command of perl as mentioned</p>\n\n<pre><code>perl -pi -e 's/U[0](\\d+)[0].($1+1)/e' 25k.list\n</code></pre>\n\n<blockquote>\n  <p>syntax error at -e line 1, near \"](\" Unmatched [ in regex; marked by\n  &lt;-- HERE in m/ &lt;-- HERE ,/ at -e line 1.</p>\n</blockquote>\n\n<p>Added:</p>\n\n<p>some data in file:</p>\n\n<pre><code>$U[0] = \"\\data1\\fileloader.ini\";\n$U[0] = \"\\data1\\data2\\crame\\crame.ini\";\n$U[0] = \"\\data1\\data2\\data3\\files\\setup.exe\";\n$U[0] = \"\\data1\\data2\\data3\\data4\\WINDOWS\\win.ini\";\n</code></pre>\n\n<p>What I want, increase $U[from 0, untill it no longer occur], it should be:</p>\n\n<pre><code>$U[0] = \"\\data1\\fileloader.ini\";\n$U[1] = \"\\data1\\data2\\crame\\crame.ini\";\n$U[2] = \"\\data1\\data2\\data3\\files\\setup.exe\";\n$U[3] = \"\\data1\\data2\\data3\\data4\\WINDOWS\\win.ini\";\n\nonly affecting $U[ ] \n</code></pre>\n"}]