[{"tags": ["html", "arrays", "json", "perl", "for-loop"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462404461, "post_id": 37039723, "comment_id": 61629343, "body": "Could you show the output of <code>print Data::Dumper-&gt;Dump([$decoded_json], [&#39;decoded_json&#39;]);</code>? At least the first two, three &quot;records&quot;? You can star out (****) the values, if they are somehow confidential. And I promise: the solution is easy :-)"}, {"owner": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462404625, "post_id": 37039723, "comment_id": 61629391, "body": "I just added that line of code to the perl file and opened it in browser but nothing of that nature printed on the browser. is there a way to see what that executes?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1462404690, "post_id": 37039723, "comment_id": 61629411, "body": "I thought you run that at the command line. Not?"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "edited": false, "score": 0, "creation_date": 1462406039, "post_id": 37039893, "comment_id": 61629844, "body": "So i added what you just mentioned above^ into my perl code.. it does print out on the browser but in a very ugly way. It shows it as plain text with white background on top of my webpage and then under it is the actual html page ..did i do something wrong"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "edited": false, "score": 0, "creation_date": 1462406326, "post_id": 37039893, "comment_id": 61629908, "body": "Yes. Of course you have to add the <code>&lt;h1&gt;</code>, <code>&lt;table border...&gt;</code> stuff yourself. My code only replaces the inner part with the <code>&lt;tr&gt;&lt;td&gt;...&lt;&#47;td&gt;&lt;&#47;tr&gt;</code>. I didn&#39;t know you wanted a completely working cut&#39;n&#39;paste-ready solution. I merely thought you don&#39;t know how to iterate over a perl structure."}, {"owner": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "edited": false, "score": 0, "creation_date": 1462406831, "post_id": 37039893, "comment_id": 61630024, "body": "No no i know theres more to be done lol. so to add the styling such as margins and headings, i wont be able to do that right in perl code though? i somehow have to extract the output of that code and bring it down to the html part of the file so i can style and stuff, correct?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "edited": false, "score": 0, "creation_date": 1462407112, "post_id": 37039893, "comment_id": 61630090, "body": "Well, I&#39;m currently getting unsure about your intents. I expected you wanted some perl code that is to be run as a .cgi script, fetches data from somewhere and renders it into an HTML table (dynamically). Not true?"}, {"owner": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "edited": false, "score": 0, "creation_date": 1462407259, "post_id": 37039893, "comment_id": 61630129, "body": "Yes exactly that, i just posted a screenshot so you can see what im referring to"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "edited": false, "score": 3, "creation_date": 1462407516, "post_id": 37039893, "comment_id": 61630180, "body": "Ahh, ok. But now you have a different question (<i>How to render an HTML table properly with some spacing above?</i>). Please pose a new question for that. If the current question was answered to your liking, please honor @zdim&#39;s or my effort."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462426634, "post_id": 37039893, "comment_id": 61635047, "body": "@PerlDog: You shouldn&#39;t press the OP to accept a solution, especially not one of two specific solutions including your own! It&#39;s up to them whether there is an answer worth accepting. If you think someone has taken a solution and run or is dragging their heels (I like to allow a couple of days) then I favour posting a link to <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a> as a comment on the <i>original question</i>. Of course all of this is my own thinking and it isn&#39;t canonical in any way"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462455891, "post_id": 37039893, "comment_id": 61651748, "body": "Thank you, @Borodin. It wasn&#39;t my intention to become pushy. Of course you are right and I&#39;ll keep your suggestion in mind. Sounds very reasonable."}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 3, "last_activity_date": 1462405084, "creation_date": 1462405084, "answer_id": 37039893, "question_id": 37039723, "link": "https://stackoverflow.com/questions/37039723/putting-items-from-a-perl-array-into-a-for-loop-to-print-out-on-html/37039893#37039893", "title": "Putting items from a Perl array into a for loop to print out on HTML", "body": "<p>I think your <code>$decoded_json-&gt;{items}</code> contains an array of hashes (objects) with attributes <code>sessionID</code>, <code>classField</code>, \u2026. </p>\n\n<p>If that is the case, you can iterate over that array and print the attributes (hash elements) like so:</p>\n\n<pre><code>print \"&lt;tr&gt;\\n\";\nforeach my $item ( @{ $decoded_json-&gt;{'items'} } ) {\n    printf( \"&lt;td&gt;%s&lt;/td&gt;\\n\", $item-&gt;{sessionID} );\n    printf( \"&lt;td&gt;%s&lt;/td&gt;\\n\", $item-&gt;{classField} );\n    printf( \"&lt;td&gt;%s&lt;/td&gt;\\n\", $item-&gt;{startTimeField} );\n    printf( \"&lt;td&gt;%s&lt;/td&gt;\\n\", $item-&gt;{leader} );\n    printf( \"&lt;td&gt;%s&lt;/td&gt;\\n\", $item-&gt;{professorField} );\n    printf( \"&lt;td&gt;%s&lt;/td&gt;\\n\", $item-&gt;{descriptionField} );\n}\nprint \"&lt;/tr&gt;\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1462518286, "last_edit_date": 1462518286, "creation_date": 1462517735, "answer_id": 37066154, "question_id": 37039723, "link": "https://stackoverflow.com/questions/37039723/putting-items-from-a-perl-array-into-a-for-loop-to-print-out-on-html/37066154#37066154", "title": "Putting items from a Perl array into a for loop to print out on HTML", "body": "<p>Here's a rewrite that uses <a href=\"http://template-toolkit.org/docs/index.html\" rel=\"nofollow\">Template Toolkit</a> (\"TT\") to build the HTML page and include the data from your JSON</p>\n\n<p>There are many problems with your original HTML. Tags are unbalanced, and you have head-only elements within the body. I can't guarantee that this fixes everything but I can't spot any more errors. You should be careful to keep your HTML indented so that you can more easily spot unbalanced tags. It also obviates the need to comment the closing tags</p>\n\n<p>I've included a block of code that shows you how to more easily extract arrays of the same field from each of a list of hashes. The variables aren't used, so please delete that code once you've understood the lesson</p>\n\n<p>The templates for Template Toolkit are normally held in separate <code>.tt</code> files. In this case I've used the <code>DATA</code> file handle as it's more in keeping with the way you wrote your original code. But bear in mind that a TT template may contain <code>include</code> statements that refer to other separate files. For instance you could put your footer section in an external file and then <code>[% INCLUDE footer.tt %]</code> in your main template. But that is for the future</p>\n\n<p>Note that Template Toolkit allows you to access Perl data structures directly. Anything that the template needs to use must be passed in the second parameter of the <code>process</code> methods call. In this case I have passed <code>{ json =&gt; $decoded_json }</code> so that TT can now use the <code>json</code> identifier to refer to the hash that you have downloaded. Within the template, <code>json.items</code> is now the array of data (accessible as <code>json.items.0</code>, <code>json.items.1</code> etc.) and here I have written <code>[% FOREACH item IN json.items %]</code> which declares a new TT variable <code>item</code> and assigns it to each element of the <code>items</code> array in turn</p>\n\n<p>I hope all of that is clear</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse warnings qw/ all FATAL /;\n\nuse CGI qw/:standard/;\nuse JSON qw( decode_json );\nuse LWP;\nuse Template;\n\nuse Data::Dumper; \n\nuse constant JSON_URL =&gt; 'http://example.com/json';\n\n### This code uses a literal JSON data item. The live code should\n### fetch the real data from the JSON_URL. The code to do this\n### is here but has been commented out\n\n=comment\nmy $json = do {\n    my $ua = LWP::UserAgent-&gt;new;\n    my $resp = $ua-&gt;get(JSON_URL);\n    unless ( $resp-&gt;is_success ) {\n        die sprintf \"Could not retrieve JSON data: %s\", $resp-&gt;status_line;\n    }\n    $resp-&gt;decoded_content;\n};\n=cut\n\nmy $json = &lt;&lt;END;\n{\n    \"items\": [\n        {\n            \"sessionID\":        \"session1\",\n            \"classField\":       \"class1\",\n            \"startTimeField\":   \"start1\",\n            \"leader\":           \"leader1\",\n            \"professorField\":   \"prof1\",\n            \"descriptionField\": \"desc1\"\n        },\n        {\n            \"sessionID\":        \"session2\",\n            \"classField\":       \"class2\",\n            \"startTimeField\":   \"start2\",\n            \"leader\":           \"leader2\",\n            \"professorField\":   \"prof2\",\n            \"descriptionField\": \"desc2\"\n        }\n    ]\n}\nEND\n\nmy $decoded_json = decode_json($json);\n\n\n### Note that these variables are unused. This is just an example\n### of a better way to extract a list of fields from an array\n### Please remove this code before deploying\n\nmy $items = $decoded_json-&gt;{items};\n\nmy @sessionArr = map { $_-&gt;{sessionID} } @$items;\nmy @classArr   = map { $_-&gt;{classField} } @$items;\nmy @timeArr    = map { $_-&gt;{startTimeField} } @$items;\nmy @adminArr   = map { $_-&gt;{leader} } @$items;\nmy @profArr    = map { $_-&gt;{professorField} } @$items;\nmy @descArr    = map { $_-&gt;{descriptionField} } @$items;\n\n### All that needs to be done its to use CGI to print the HTTP\n### header and invoke Template Toolkit to build an HTML page that\n### includes the data from the JSON hash\n\nprint CGI-&gt;header(\n    -type    =&gt; 'text/html',\n    -charset =&gt; 'utf-8',\n);\n\nmy $tt = Template-&gt;new;\n\n$tt-&gt;process(\\*DATA, { json =&gt; $decoded_json } );\n\n__DATA__\n&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;meta name=\"description\" content=\"\"&gt;\n    &lt;title&gt;AU Study Sessions&lt;/title&gt;\n\n    &lt;link href=\"../css/bootstrap.css\" rel=\"stylesheet\"&gt;\n\n    &lt;link href=\"../css/main.css\" rel=\"stylesheet\"&gt;\n\n    &lt;!--[if lt IE 9]&gt;\n      &lt;script src=\"js/html5shiv.js\"&gt;&lt;/script&gt;\n      &lt;script src=\"js/respond.min.js\"&gt;&lt;/script&gt;\n    &lt;![endif]--&gt;\n\n    &lt;link rel=\"shortcut icon\" href=\"../images/favicon.png\"&gt;\n    &lt;script src=\"../js/pace.js\"&gt;&lt;/script&gt;\n\n    &lt;link href='http://fonts.googleapis.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n    &lt;div class=\"preloader\"&gt;&lt;/div&gt;\n\n    &lt;!-- ******************** MASTHEAD SECTION ******************* --&gt;\n\n    &lt;main id=\"top\" class=\"masthead\" role=\"main\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"logo\"&gt;\n                &lt;a href=\"\"&gt;&lt;img src=\"../images/aulogo2.png\" alt=\"logo\"&gt;&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;h1&gt;View Study Sessions&lt;/h1&gt;);\n\n            &lt;table&gt;\n\n            [% FOREACH item IN json.items %]\n            &lt;tr&gt;\n                &lt;td&gt;[% item.sessionID %]&lt;/td&gt;\n                &lt;td&gt;[% item.classField %]&lt;/td&gt;\n                &lt;td&gt;[% item.startTimeField %]&lt;/td&gt;\n                &lt;td&gt;[% item.leader %]&lt;/td&gt;\n                &lt;td&gt;[% item.professorField %]&lt;/td&gt;\n                &lt;td&gt;[% item.descriptionField %]&lt;/td&gt;\n            &lt;/tr&gt;\n            [% END %]\n\n            &lt;br/&gt;\n            &lt;br/&gt;\n\n            &lt;a href=\"\"&gt; Add a Study Session&lt;/a&gt;\n\n            &lt;!--\n            &lt;a href=\"index.html#explore\" class=\"scrollto\"&gt;\n                &lt;p&gt;SCROLL DOWN TO EXPLORE&lt;/p&gt;\n                &lt;p class=\"scrollto--arrow\"&gt;&lt;img src=\"../images/scroll_down.png\" alt=\"scroll down arrow\"&gt;&lt;/p&gt;\n            &lt;/a&gt;\n            --&gt;\n\n        &lt;/div&gt; &lt;!-- class=\"container\" --&gt;\n    &lt;/main&gt;\n\n    &lt;!-- ******************** FOOTER SECTION ******************** --&gt;  \n\n    &lt;div class=\"container\" id=\"explore\"&gt;\n\n        &lt;div class=\"section-title\"&gt;\n            &lt;h2&gt;With Adelphi Study Sessions Website&lt;/h2&gt;\n            &lt;h4&gt;You will be able to do the following&lt;/h4&gt;\n        &lt;/div&gt;\n\n        &lt;section class=\"row features\"&gt;\n\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_01.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;View Study Groups&lt;/h3&gt;\n                        &lt;p&gt;See the most up to date study sessions taking place on our garden city campus.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_02.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;Add and create new study sessions&lt;/h3&gt;\n                        &lt;p&gt;If you or some classmates want to create a new study session you will be able to add a new group along with course information, sudy topics, and time and location taking place.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_03.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;See description of session&lt;/h3&gt;\n                        &lt;p&gt;The student who creates the study session will give a short description about what the study session will cover.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_04.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;Available on campus&lt;/h3&gt;\n                        &lt;p&gt;All study sessions will take place on our Garden City campus therefore are available to all students who commute or live on campus.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n        &lt;/section&gt;\n\n        &lt;script src=\"../js/jquery.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"../js/bootstrap.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"../js/easing.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"../js/nicescroll.js\"&gt;&lt;/script&gt;\n\n    &lt;/div&gt; &lt;!-- class=\"container\" id=\"explore\" --&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>Content-Type: text/html; charset=utf-8\n\n&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;meta name=\"description\" content=\"\"&gt;\n    &lt;title&gt;AU Study Sessions&lt;/title&gt;\n\n    &lt;link href=\"../css/bootstrap.css\" rel=\"stylesheet\"&gt;\n\n    &lt;link href=\"../css/main.css\" rel=\"stylesheet\"&gt;\n\n    &lt;!--[if lt IE 9]&gt;\n      &lt;script src=\"js/html5shiv.js\"&gt;&lt;/script&gt;\n      &lt;script src=\"js/respond.min.js\"&gt;&lt;/script&gt;\n    &lt;![endif]--&gt;\n\n    &lt;link rel=\"shortcut icon\" href=\"../images/favicon.png\"&gt;\n    &lt;script src=\"../js/pace.js\"&gt;&lt;/script&gt;\n\n    &lt;link href='http://fonts.googleapis.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=\"preloader\"&gt;&lt;/div&gt;\n\n    &lt;!-- ******************** MASTHEAD SECTION ******************* --&gt;\n\n    &lt;main id=\"top\" class=\"masthead\" role=\"main\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"logo\"&gt;\n                &lt;a href=\"\"&gt;&lt;img src=\"../images/aulogo2.png\" alt=\"logo\"&gt;&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;h1&gt;View Study Sessions&lt;/h1&gt;);\n\n            &lt;table&gt;\n\n\n            &lt;tr&gt;\n                &lt;td&gt;session1&lt;/td&gt;\n                &lt;td&gt;class1&lt;/td&gt;\n                &lt;td&gt;start1&lt;/td&gt;\n                &lt;td&gt;leader1&lt;/td&gt;\n                &lt;td&gt;prof1&lt;/td&gt;\n                &lt;td&gt;desc1&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;session2&lt;/td&gt;\n                &lt;td&gt;class2&lt;/td&gt;\n                &lt;td&gt;start2&lt;/td&gt;\n                &lt;td&gt;leader2&lt;/td&gt;\n                &lt;td&gt;prof2&lt;/td&gt;\n                &lt;td&gt;desc2&lt;/td&gt;\n            &lt;/tr&gt;\n\n\n            &lt;br/&gt;\n            &lt;br/&gt;\n\n            &lt;a href=\"\"&gt; Add a Study Session&lt;/a&gt;\n\n            &lt;!--&lt;a href=\"index.html#explore\" class=\"scrollto\"&gt;\n            &lt;p&gt;SCROLL DOWN TO EXPLORE&lt;/p&gt;\n            &lt;p class=\"scrollto--arrow\"&gt;&lt;img src=\"../images/scroll_down.png\" alt=\"scroll down arrow\"&gt;&lt;/p&gt;\n            &lt;/a&gt; --&gt;\n\n        &lt;/div&gt;\n    &lt;/main&gt;\n\n\n    &lt;!-- ******************** FOOTER SECTION ******************** --&gt;  \n    &lt;div class=\"container\" id=\"explore\"&gt;\n        &lt;div class=\"section-title\"&gt;\n            &lt;h2&gt;With Adelphi Study Sessions Website&lt;/h2&gt;\n            &lt;h4&gt;You will be able to do the following&lt;/h4&gt;\n        &lt;/div&gt;\n\n        &lt;section class=\"row features\"&gt;\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_01.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;View Study Groups&lt;/h3&gt;\n                        &lt;p&gt;See the most up to date study sessions taking place on our garden city campus.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;&lt;! --/thumbnail --&gt;\n            &lt;/div&gt;&lt;! --/col-sm-6--&gt;\n\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_02.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;Add and create new study sessions&lt;/h3&gt;\n                        &lt;p&gt;If you or some classmates want to create a new study session you will be able to add a new group along with course information, sudy topics, and time and location taking place.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;&lt;! --/thumbnail --&gt;\n            &lt;/div&gt;&lt;! --/col-sm-6--&gt;\n\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_03.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;See description of session&lt;/h3&gt;\n                        &lt;p&gt;The student who creates the study session will give a short description about what the study session will cover.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;&lt;! --/thumbnail --&gt;\n            &lt;/div&gt;&lt;! --/col-sm-6--&gt;\n\n            &lt;div class=\"col-sm-6 col-md-3\"&gt;\n                &lt;div class=\"thumbnail\"&gt; \n                    &lt;img src=\"../images/service_04.png\" alt=\"analytics-icon\"&gt;\n                    &lt;div class=\"caption\"&gt;\n                        &lt;h3&gt;Available on campus&lt;/h3&gt;\n                        &lt;p&gt;All study sessions will take place on our Garden City campus therefore are available to all students who commute or live on campus.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;&lt;! --/thumbnail --&gt;\n            &lt;/div&gt;&lt;! --/col-sm-6--&gt;\n        &lt;/section&gt;&lt;! --/section --&gt;\n\n        &lt;script src=\"../js/jquery.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"../js/bootstrap.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"../js/easing.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"../js/nicescroll.js\"&gt;&lt;/script&gt; \n\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6163706, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/af7cf095fa6d52bf28216d49bbaafaef?s=128&d=identicon&r=PG&f=1", "display_name": "BC0148", "link": "https://stackoverflow.com/users/6163706/bc0148"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1462573395, "creation_date": 1462404025, "last_edit_date": 1592644375, "question_id": 37039723, "link": "https://stackoverflow.com/questions/37039723/putting-items-from-a-perl-array-into-a-for-loop-to-print-out-on-html", "title": "Putting items from a Perl array into a for loop to print out on HTML", "body": "<p>I have used Perl to pull keys from JSON data into variables to use in arrays. I want to print out these variables in HTML a table.</p>\n<p>I have the variables working but I don't know how to get them to print continuously until there are no more left.</p>\n<p>Here is my Perl code. Below this is my HTML which contains the HTML table where I have the data from the array printed. But I have to type each variable in the table to print.</p>\n<p>I want it so it will automatically add new rows until there is no more data.</p>\n<h3>Here is the top of the .pl file which is the Perl part</h3>\n<pre><code>#!/usr/bin/perl -w\n\nuse CGI qw/:standard/;\nuse strict;\nuse warnings;\nuse JSON qw( decode_json );\nuse LWP::Simple 'get'; \nuse Data::Dumper; \n\nprint &quot;content-type:text/html; charset=utf-8\\n\\n&quot;;\n\nmy @sessionArr;\nmy @classArr;\nmy @timeArr;\nmy @adminArr;\nmy @profArr;\nmy @descArr;\n\nmy $i = 0;\n\nmy $myURL = &quot;Leaving URL out for obvious reasons&quot;;\n\nmy $json = get($myURL);\ndie &quot;Could not get $myURL!&quot; unless defined $json;\n\nmy $decoded_json = decode_json ($json);\n\nmy @sessionID = @{ $decoded_json-&gt;{'items'} };\nforeach my $d ( @sessionID ) {\n $sessionArr[$i] = $d-&gt;{&quot;sessionID&quot;};\n $i = $i + 1;\n}\n\n$i = 0;\n\nmy @class = @{ $decoded_json-&gt;{'items'} };\nforeach my $d ( @class ) {\n $classArr[$i] = $d-&gt;{&quot;classField&quot;};\n $i = $i + 1;\n}\n\n$i = 0;\n\n\nmy @time = @{ $decoded_json-&gt;{'items'} };\nforeach my $d ( @time ) {\n  $timeArr[$i] = $d-&gt;{&quot;startTimeField&quot;};\n  $i = $i + 1;\n}\n\n$i = 0;\n\nmy @usrcreater = @{ $decoded_json-&gt;{'items'} };\nforeach my $d ( @usrcreater ) {\n  $adminArr[$i] = $d-&gt;{&quot;leader&quot;};\n  $i = $i + 1;\n}\n\n$i = 0;\n\nmy @professor = @{ $decoded_json-&gt;{'items'} };\nforeach my $d ( @professor ) {\n  $profArr[$i] = $d-&gt;{&quot;professorField&quot;};\n  $i = $i + 1;\n}\n\n$i = 0;\n\n\n\n\nmy @description = @{ $decoded_json-&gt;{'items'} };\nforeach my $d ( @description ) {\n  $descArr[$i] = $d-&gt;{&quot;descriptionField&quot;};\n  $i = $i + 1;\n}\n\n$i = 0;\n\nforeach my $p ( @description ) {\n   $i = $i +1;\n}\n</code></pre>\n<p><strong>Now here is the table in HTML</strong></p>\n<pre><code>&lt;h1&gt;View Study Sessions&lt;/h1&gt;\n\n&lt;table border=&quot;1&quot; align=&quot;center&quot;&gt;\n&lt;tr&gt;\n&lt;th&gt;Session ID&lt;/th&gt;\n&lt;th&gt;Course Name&lt;/th&gt;\n&lt;th&gt;Start Time&lt;/th&gt;\n&lt;th&gt;Administrator&lt;/th&gt;\n&lt;th&gt;Instructor&lt;/th&gt;\n&lt;th&gt;Description&lt;/th&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n&lt;td&gt;$sessionArr[0]&lt;/td&gt;\n&lt;td&gt;$classArr[0]&lt;/td&gt;\n&lt;td&gt;$timeArr[0]&lt;/td&gt;\n&lt;td&gt;$adminArr[0]&lt;/td&gt;\n&lt;td&gt;$profArr[0]&lt;/td&gt;\n&lt;td&gt;$descArr[0]&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n&lt;td&gt;$sessionArr[1]&lt;/td&gt;\n&lt;td&gt;$classArr[1]&lt;/td&gt;\n&lt;td&gt;$timeArr[1]&lt;/td&gt;\n&lt;td&gt;$adminArr[1]&lt;/td&gt;\n&lt;td&gt;$profArr[1]&lt;/td&gt;\n&lt;td&gt;$descArr[1]&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n&lt;td&gt;$sessionArr[2]&lt;/td&gt;\n&lt;td&gt;$classArr[2]&lt;/td&gt;\n&lt;td&gt;$timeArr[2]&lt;/td&gt;\n&lt;td&gt;$adminArr[2]&lt;/td&gt;\n&lt;td&gt;$profArr[2]&lt;/td&gt;\n&lt;td&gt;$descArr[2]&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n&lt;td&gt;$sessionArr[3]&lt;/td&gt;\n&lt;td&gt;$classArr[3]&lt;/td&gt;\n&lt;td&gt;$timeArr[3]&lt;/td&gt;\n&lt;td&gt;$adminArr[3]&lt;/td&gt;\n&lt;td&gt;$profArr[3]&lt;/td&gt;\n&lt;td&gt;$descArr[3]&lt;/td&gt;\n&lt;/tr&gt;&lt;/table&gt; \n\n&lt;br&gt;\n&lt;br&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/31UDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/31UDn.png\" alt=\"\" /></a></p>\n<p>Here's a screenshot of what I'm  looking at. As you can see the output is on top of the image. I want it to be lower in the page</p>\n"}, {"tags": ["perl", "compiler-errors", "cygwin"], "comments": [{"owner": {"reputation": 43, "user_id": 5402619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0e691afc9fe885d3ecb37888e108c19?s=128&d=identicon&r=PG&f=1", "display_name": "funkadelic", "link": "https://stackoverflow.com/users/5402619/funkadelic"}, "edited": false, "score": 0, "creation_date": 1462403372, "post_id": 37039520, "comment_id": 61629009, "body": "Thanks for the reply. I cannot ask the author to change the code(company code :P). Is there any work around for downgrading the version?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1462403935, "post_id": 37039520, "comment_id": 61629173, "body": "You could run it with <code>perl -X</code> (which disables all warnings). Why exactly can&#39;t you ask the author to change the code? Can you change your copy of it?"}, {"owner": {"reputation": 43, "user_id": 5402619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0e691afc9fe885d3ecb37888e108c19?s=128&d=identicon&r=PG&f=1", "display_name": "funkadelic", "link": "https://stackoverflow.com/users/5402619/funkadelic"}, "edited": false, "score": 0, "creation_date": 1462404555, "post_id": 37039520, "comment_id": 61629369, "body": "I did ask them(I am new to the team) Everyone just asked me to downgrade to 5.14.@KeithThompson"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462453246, "post_id": 37039520, "comment_id": 61649813, "body": "Don&#39;t mess with the system Perl. Instead, install your own Perl build (e.g. using <code>perlbrew</code>)"}, {"owner": {"reputation": 43, "user_id": 5402619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0e691afc9fe885d3ecb37888e108c19?s=128&d=identicon&r=PG&f=1", "display_name": "funkadelic", "link": "https://stackoverflow.com/users/5402619/funkadelic"}, "edited": false, "score": 0, "creation_date": 1462463853, "post_id": 37039520, "comment_id": 61657083, "body": "<a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew.pl</a> I tried the commands here. They dont seem to work."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5402619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0e691afc9fe885d3ecb37888e108c19?s=128&d=identicon&r=PG&f=1", "display_name": "funkadelic", "link": "https://stackoverflow.com/users/5402619/funkadelic"}, "edited": false, "score": 0, "creation_date": 1462404212, "post_id": 37039699, "comment_id": 61629257, "body": "Its company code. Sadly I cannot change it! Does perlbrew work with cygwin?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 43, "user_id": 5402619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0e691afc9fe885d3ecb37888e108c19?s=128&d=identicon&r=PG&f=1", "display_name": "funkadelic", "link": "https://stackoverflow.com/users/5402619/funkadelic"}, "edited": false, "score": 1, "creation_date": 1462406822, "post_id": 37039699, "comment_id": 61630019, "body": "There&#39;s no need to downgrade at all; it&#39;s only a warning, which you can safely ignore until you decide to upgrade to Perl 5.26 (which won&#39;t even be released for another year). I don&#39;t know what you mean by &quot;company code,&quot; but you&#39;re looking for a technical solution to a non-technical problem (i.e. your superiors not letting you fix deprecated code)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462409028, "post_id": 37039699, "comment_id": 61630580, "body": "@ThisSuitIsBlackNot: Does something special happen in v5.26 that allows unescaped braces in regex patterns?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462409172, "post_id": 37039699, "comment_id": 61630620, "body": "@Borodin No, just the opposite: 5.26 is when the warning will become a syntax error. I hope the OP understood that part of my comment, I can see how it might be unclear."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462409258, "post_id": 37039699, "comment_id": 61630641, "body": "@ThisSuitIsBlackNot: Ah I see. It&#39;s the <i>&quot;ignore until&quot;</i> that bites. You got a reference for that?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462409502, "post_id": 37039699, "comment_id": 61630697, "body": "@Borodin See the snippet from perldiag in my answer. Also <a href=\"http://perldoc.perl.org/perlre.html#Quantifiers\" rel=\"nofollow noreferrer\">perlre</a>: &quot;...in Perl v5.26, literal uses of a curly bracket will be required to be escaped, say by preceding them with a backslash (<code>\\{</code>) or enclosing them within square brackets (<code>[{]</code>)&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462409588, "post_id": 37039699, "comment_id": 61630716, "body": "@ThisSuitIsBlackNot: Got it. Thanks. That quote belongs in your answer"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462414688, "post_id": 37039699, "comment_id": 61631870, "body": "IIRC, policy is to deprecate for at least two major releases (5.22 and 5.24 in this case) before breaking something."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 4, "last_activity_date": 1462403895, "last_edit_date": 1592644375, "creation_date": 1462403895, "answer_id": 37039699, "question_id": 37039520, "link": "https://stackoverflow.com/questions/37039520/how-do-i-downgrade-cygwins-perl-version-from-5-22-to-5-14/37039699#37039699", "title": "How do I downgrade Cygwin&#39;s perl version from 5.22 to 5.14?", "body": "<p>That's not an exception, it's a warning. See <a href=\"http://perldoc.perl.org/perldiag.html#Unescaped-left-brace-in-regex-is-deprecated%2c-passed-through-in-regex%3b-marked-by-%3C---HERE-in-m%2f%25s%2f\" rel=\"nofollow noreferrer\">perldiag</a>:</p>\n<blockquote>\n<p><strong>Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/%s/</strong></p>\n<p>(D deprecated, regexp) You used a literal <code>{</code> character in a regular expression pattern. You should change to use <code>\\{</code> instead, because a future version of Perl (tentatively v5.26) will consider this to be a syntax error. If the pattern delimiters are also braces, any matching right brace (<code>}</code>) should also be escaped to avoid confusing the parser, for example,</p>\n<pre><code>qr{abc\\{def\\}ghi}\n</code></pre>\n</blockquote>\n<p>To fix the warning, you should update the code, not downgrade perl! Change</p>\n<pre><code>m/\\G{/\n</code></pre>\n<p>to</p>\n<pre><code>m/\\G\\{/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1462417241, "post_id": 37040463, "comment_id": 61632493, "body": "maybe, but asking that you use the same version of perl as others working on the same codebase is just plain sensible"}, {"owner": {"reputation": 6281, "user_id": 5105383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YCB5.jpg?s=128&g=1", "display_name": "matzeri", "link": "https://stackoverflow.com/users/5105383/matzeri"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1462424538, "post_id": 37040463, "comment_id": 61634315, "body": "@ysth in this case no. The correct code will work also in 5.14 and in the future version of perl"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1462408873, "creation_date": 1462408873, "answer_id": 37040463, "question_id": 37039520, "link": "https://stackoverflow.com/questions/37039520/how-do-i-downgrade-cygwins-perl-version-from-5-22-to-5-14/37040463#37040463", "title": "How do I downgrade Cygwin&#39;s perl version from 5.22 to 5.14?", "body": "<p>There will come a day; not now, but soon; that your colleagues will have to fix their code</p>\n\n<p>It was never right to involve an innocent brace <code>{</code> in all of this, but she was left alone without escape in a pattern of old and unfriendly specifiers</p>\n\n<p>She was the beginning of something that could have -- should have been a number of things, but out of context all people could see was the curves. She needed to escape!</p>\n\n<p>They need either to fix the malformed regex patterns or add <code>no warnings 'deprecated'</code> at the top of every non-compliant program. It will have to be done sooner or later, and I suggest that it is an <em>opportunity</em> for people to fix their code</p>\n\n<p>Asking that you downgrade your installation of Perl is disgraceful</p>\n"}], "owner": {"reputation": 43, "user_id": 5402619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f0e691afc9fe885d3ecb37888e108c19?s=128&d=identicon&r=PG&f=1", "display_name": "funkadelic", "link": "https://stackoverflow.com/users/5402619/funkadelic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1462408873, "creation_date": 1462402903, "question_id": 37039520, "link": "https://stackoverflow.com/questions/37039520/how-do-i-downgrade-cygwins-perl-version-from-5-22-to-5-14", "title": "How do I downgrade Cygwin&#39;s perl version from 5.22 to 5.14?", "body": "<p>I am trying to build a project but I keep getting this exception. </p>\n\n<pre><code>Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/\\G{ &lt;-- HERE / at .././tools/scpg\n</code></pre>\n\n<p>It is probably because of the perl version(I am using 5.22). How do I downgrade the perl version to 5.14? Is there any cygwin command for that?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462402365, "post_id": 37039391, "comment_id": 61628698, "body": "To clarify, you want to capture <code>arg1, arg2</code> instead of <code>arg1, arg2) &lt; 0</code>, correct?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462402422, "post_id": 37039391, "comment_id": 61628717, "body": "Hang on, so you have a good solution?  Are you asking simply whether there are yet other ways?"}, {"owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "edited": false, "score": 0, "creation_date": 1462402458, "post_id": 37039391, "comment_id": 61628730, "body": "I don&#39;t want to capture. &gt;I want this regex to be false with such strings"}, {"owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462402549, "post_id": 37039391, "comment_id": 61628766, "body": "@zdim I have no other solutions, so I would be grateful for any examples"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462402612, "post_id": 37039391, "comment_id": 61628788, "body": "&quot;I want this regex to be false with such strings&quot; So you want to write a regex that <i>doesn&#39;t</i> match <code>bla-bla if (func(arg1, arg2) &lt; 0) {</code>? In that case, what <i>do</i> you want to match?"}, {"owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462402706, "post_id": 37039391, "comment_id": 61628818, "body": "@ThisSuitIsBlackNot I want to match strings like <code>func (...) {}</code> but not others"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462402814, "post_id": 37039391, "comment_id": 61628857, "body": "Your question states that you <i>do get</i> that using <code>[^)]</code> ... ?  Am I misunderstanding it?  (Btw, that is the first thing I reach for when I need a non-greedy match.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462403124, "post_id": 37039391, "comment_id": 61628941, "body": "Help me out here, I don&#39;t understand.  Try this: <code>perl -wE &#39;$str = &quot;(func(arg1, arg2) &lt; 0) {&quot;;  if ($str =~ m&#47;func\\s*\\(([^)]*)\\)\\s*\\{&#47;) { say &quot;Got: $1&quot; } else { say &quot;nope&quot; }&#39;</code>.  I get <code>nope</code> as it stands, meaning that the match fails.  If I remove the  &quot; &lt; 0)&quot; part then I get <code>arg1, arg2</code>.  Remove the capturing parenthesis if you don&#39;t need to remember the match itself."}, {"owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462403145, "post_id": 37039391, "comment_id": 61628950, "body": "Thanks @zdim. It seems to me that there is another way to specify my regex. But <code>[^)]</code> suits me of course. I don&#39;t need to capture something, it&#39;s just for example"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462403371, "post_id": 37039391, "comment_id": 61629008, "body": "Ah, OK.  The <code>[^char]</code> is my preferred way to do non-greedy matching.  Taken together with <code>.*?</code> (and friends) there is no reason to ask for yet another, in my opinion.  I think that there are no other idioms (or simple ways) for that ... in regex.  I suppose you can use <code>split</code> instead, where you get that for free."}, {"owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462403506, "post_id": 37039391, "comment_id": 61629040, "body": "@zdim Thanks for your clarification. Noted."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 1, "creation_date": 1570110228, "post_id": 37039391, "comment_id": 102816738, "body": "@red0ct: Why have you tagged &quot;lookaround&quot;? There are none here."}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1570110835, "post_id": 37039391, "comment_id": 102817094, "body": "@Toto You&#39;re right. Inattentively read, sorry."}], "owner": {"reputation": 196, "user_id": 4534918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UU8hS.jpg?s=128&g=1", "display_name": "z0lupka", "link": "https://stackoverflow.com/users/4534918/z0lupka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1570110161, "creation_date": 1462402201, "last_edit_date": 1570110161, "question_id": 37039391, "link": "https://stackoverflow.com/questions/37039391/how-to-match-any-string-before-the-nearest-specific-character", "title": "How to match any string before the nearest specific character?", "body": "<p>I need to match any characters before the <strong>first</strong> encountered specific character. Tried:</p>\n\n<pre><code>use feature 'say';\nsay $1 if 'bla-bla if (func(arg1, arg2) &lt; 0) {' =~ /func\\s*\\((.*?)\\)\\s*\\{/;\n</code></pre>\n\n<p>I assumed that there will be no output for this code, cause the <code>.*?</code> matches <code>arg1, arg2</code> (i.e. before the nearest <code>)</code> ) and there is no <code>{</code> after <code>func(arg1, arg2)</code> so the regex turns to false. However, the output was <code>arg1, arg2) &lt; 0</code>. <a href=\"http://www.rexegg.com/regex-quantifiers.html\" rel=\"nofollow noreferrer\">Indeed</a>, <strong>non-greedy regex chooses as few as needed to allow the overall pattern to match</strong>. But I want this regex to be false with such strings. I found in <a href=\"https://stackoverflow.com/questions/1598946/why-does-my-non-greedy-perl-regex-still-match-too-much\">that post</a> the working solution. In my case the <code>.*?</code> should be changed to <code>[^\\)]*</code>. But is there any other ways to do it? Thanks for any clarifications and examples. Sorry if this is obvious</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1462399896, "post_id": 37038927, "comment_id": 61627897, "body": "FYI, this has nothing to do with Ubuntu. Perl&#39;s regular expressions are consistent (at least for a given version of Perl) across all operating systems."}, {"owner": {"reputation": 568, "user_id": 4831637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e69c4752ec66749650d2e3bd3c6840a?s=128&d=identicon&r=PG&f=1", "display_name": "Piodo", "link": "https://stackoverflow.com/users/4831637/piodo"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1462401082, "post_id": 37038927, "comment_id": 61628296, "body": "I just typed Ubuntu in the title for the information what system I am using. Sorry for misleading :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1462401335, "post_id": 37038927, "comment_id": 61628387, "body": "@Piodo No need to apologize. It&#39;s usually better to give too much information than not enough."}], "answers": [{"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1462403054, "post_id": 37039131, "comment_id": 61628925, "body": "@ThisSuitIsBlackNot: Indeed, I am actually searching how to use a <code>?{ }</code> construct or to build a pattern with <code>\\G</code> and a lookahead to get nested results."}, {"owner": {"reputation": 568, "user_id": 4831637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e69c4752ec66749650d2e3bd3c6840a?s=128&d=identicon&r=PG&f=1", "display_name": "Piodo", "link": "https://stackoverflow.com/users/4831637/piodo"}, "edited": false, "score": 1, "creation_date": 1462437212, "post_id": 37039131, "comment_id": 61640082, "body": "Good job ! This is very well done. The code is really short I am impressed with that. However I&#39;ve found not serious bug. If the input has some bigger level of brackets the code sometimes dubles the results. For example for input :    <code>nanana((print 2) (print 3 (print4(print5)) )</code> , there are <code>print5</code> doubled in results. Its not a serious problem so If you dont want to check it it&#39;s no problem, I am fine with your code in this form :)"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 568, "user_id": 4831637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e69c4752ec66749650d2e3bd3c6840a?s=128&d=identicon&r=PG&f=1", "display_name": "Piodo", "link": "https://stackoverflow.com/users/4831637/piodo"}, "edited": false, "score": 0, "creation_date": 1462531274, "post_id": 37039131, "comment_id": 61685691, "body": "@Piodo: I have found the problem and will post an edit as soon as possible. The problem is that results are stored before the full pattern succeeds, so in your example where the brackets aren&#39;t balanced, results from the failing attempt at the first opening bracket position are stored, this position fails (cause the missing closing bracket), and then an other attempts at the third opening bracket gives results too. That&#39;s the reason you obtain duplicate items."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 2, "last_activity_date": 1462535560, "last_edit_date": 1462535560, "creation_date": 1462400960, "answer_id": 37039131, "question_id": 37038927, "link": "https://stackoverflow.com/questions/37038927/how-can-i-find-sentences-nested-deeper-than-one-bracket-set/37039131#37039131", "title": "How can I find sentences nested deeper than one bracket &#39;()&#39; set?", "body": "<p>Assuming brackets are balanced:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @a;\n\nwhile (&lt;DATA&gt;) {\n    while (/\\(([^()]*(?:\\(((?1))\\)[^()]*(?{push @a, $2}))*+)\\)/g){}\n}\n\nprint join \"\\n\", @a;\n\n__DATA__\nblabla(nothing(print me)) nanana (nanan)\nblablabla(aaaaaaa(eeee(bbbb(cccc)bb(xxxx)b))aa)\nblabla (blabla(hhhhh))\n</code></pre>\n\n<p>It returns:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>print me\ncccc\nxxxx\nbbbb(cccc)bb(xxxx)b\neeee(bbbb(cccc)bb(xxxx)b)\nhhhhh\n</code></pre>\n\n<p>The idea is to store the capture group 2 content after each recursion, using the <code>(?{...})</code> construct to execute code in the pattern.</p>\n\n<p>Note that the order of results isn't ideal since the innermost content appears first. Unfortunately, I didn't find a way to change the order of results.</p>\n\n<p>Pattern details:</p>\n\n<pre><code>\\(  # opening bracket level 1\n(   # open capture group 1\n    [^()]*        # all that is not a bracket\n    (?:\n        \\(        # opening bracket for level 2 (or more when a recursion occurs)\n        (         # capture group 2: to store the result\n            (?1)  # recursion\n        )\n        \\)        # closing bracket for level 2 (or more ...)\n        [^()]*    # \n        (?{push @a, $2}) # store the capture group 2 content in @a\n    )*+ # repeat when needed\n)\n\\) # closing bracket level 1\n</code></pre>\n\n<hr>\n\n<p>EDIT: This pattern assumes that brackets are balanced, but if it isn't the case, this may cause problems of unwanted results for certain strings. The reason is that results are stored before the whole pattern succeeds.</p>\n\n<p>Example with the string <code>1234 ( 5678 (abcd(efgh)ijkl)</code> where a closing bracket is missing:</p>\n\n<pre><code>1234 ( 5678 (abcd(efgh)ijkl)\n#    ^      ^---- second attempt succeeds, \"efgh\" is stored\n#    '---- first attempt fails, but \"efgh\", \"abcd(efgh)ijkl\" are stored\n</code></pre>\n\n<p>To solve the problem, you can choose between two default behaviours:</p>\n\n<ul>\n<li>the strict behaviour that only accepts balanced brackets. All you need is to store the results in a temporary array and to reset this array in the while loop or when a closing bracket is missing. In this case the result will only be <code>\"efgh\"</code>:</li>\n</ul>\n\n<pre><code>my @a;\nmy @b;\n\nwhile (&lt;DATA&gt;) {\n    while (/\\(([^()]*(?:\\(((?1))\\)[^()]*(?{push @b, $2}))*+)(?:\\)|(?{undef @b})(*F))/g) {\n        push @a, @b;\n        undef @b;\n    }\n}\n</code></pre>\n\n<ul>\n<li>a more tolerant behaviour that doesn't make mandatory the closing bracket. To do that you must replace each <code>\\)</code> with <code>(?:\\)|$)</code>. In this case, the first attempt succeeds and consumes characters until the end of the string (in other words, there isn't a second attempt). The results are <code>\"efgh\"</code> and <code>\"abcd(efgh)ijkl\"</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1462411649, "post_id": 37040335, "comment_id": 61631180, "body": "It stops to work with consecutive nested brackets, for example with: <code>----(----(aaaa(123)bbbb(456)cccc)----)----</code>, you will never get <code>456</code>. <i>(I tried this kind of ways before)</i>"}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1462467875, "post_id": 37040335, "comment_id": 61659453, "body": "@CasimiretHippolyte Yep, that&#39;s true.  Was mostly going for a proof of concept with the data he provided, then a fully bullet proof solution.  However, I went ahead and adjust the approach to cover your extra use case."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1462530850, "post_id": 37040335, "comment_id": 61685443, "body": "If you find that I will kiss your feet."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1462467792, "last_edit_date": 1462467792, "creation_date": 1462408006, "answer_id": 37040335, "question_id": 37038927, "link": "https://stackoverflow.com/questions/37038927/how-can-i-find-sentences-nested-deeper-than-one-bracket-set/37040335#37040335", "title": "How can I find sentences nested deeper than one bracket &#39;()&#39; set?", "body": "<p>This is probably easiest, and the most maintainable with a two-pass solution.</p>\n\n<p>The initial pass captures all first level parentheses.  The second pass captures all enclosed parenthesis groups, only advancing a single character in order to match every level of embedded paren groups:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nmy $data = do { local $/; &lt;DATA&gt; };\n\nmy $parens_content_re = qr{\n    \\(\n        (\n            (?:\n                [^()]*+\n                |\n                \\( (?1) \\)\n            )*\n        )\n    \\)\n}x;\n\nsay for map {/(?=$parens_content_re)\\(/g} map {/$parens_content_re/g} $data;\n\n__DATA__\nblabla(nothing(print me)) nanana (nanan)\nblablabla(aaaaaaa(eeee(bbbb(cccc)bbb))aa)\nblabla (blabla(hhhhh))\n----(----(aaaa(123)bbbb(456)cccc)----)----\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>$ perl parens.pl\nprint me\neeee(bbbb(cccc)bbb)\nbbbb(cccc)bbb\ncccc\nhhhhh\naaaa(123)bbbb(456)cccc\n123\n456\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1462817538, "last_edit_date": 1462817538, "creation_date": 1462440472, "answer_id": 37047005, "question_id": 37038927, "link": "https://stackoverflow.com/questions/37038927/how-can-i-find-sentences-nested-deeper-than-one-bracket-set/37047005#37047005", "title": "How can I find sentences nested deeper than one bracket &#39;()&#39; set?", "body": "<p>This code works by capturing levels recursively, using a simple regex for <code>)</code> and <code>split</code>-ing by <code>(</code> for the opening paren.  It first prepares by peeling off the two starting layers of nesting. It works for shown examples, and a few others.  However, there are other ways to nest pairs, for which rules are not specified. Also, this is probably rough around the edges. There is no magic of any kind involved and adjusting code for new cases should be feasible.</p>\n\n<pre><code>use warnings; \nuse strict; \n\nmy ($lev, @el, @res, $rret); \nwhile (my $str = &lt;DATA&gt;) \n{ \n    print \"\\nString: $str\\n\"; \n    @res = (); \n\n    # Drop two layers to start: strip last two ), split by ( and drop 0,1 \n    $str =~ s/ (.*) \\) [^)]* \\) [^)]* $/$1/x; \n    @el = split '\\(', $str; \n    @el = @el[2..$#el]; \n    # Edge case: may have one element and be done, but with extra ) \n    if (@el &gt; 1) { $lev = join '(', @el }\n    else         { ($lev = $el[0]) =~ s|\\)||g } \n    push @res, $lev; \n\n    # Get next level and join string back, recursively \n    while ( $rret = nest_one($lev) ) {  \n        $lev = join '(', @$rret; \n        push @res, $lev; \n        last if @$rret == 1; \n    } \n\n    print \"\\t$_\\n\" for @res; \n} \n\n# Strip last ) and past it, split by ( and drop first element \nsub nest_one { \n    (my $lev = $_[0]) =~ s/(.*) \\) [^)]* $/$1/x; \n    my @el = split '\\(', $lev; \n    shift @el; \n    return (@el) ? \\@el : undef; \n} \n\n__DATA__ \nblabla(nothing(print me)) nanana (nanan) \nblablabla(aaaaaaa(eeee(bbbb(cccc)bbb))aa) \nblabla (blabla(hhhhh)) \n</code></pre>\n\n<p>It prints</p>\n\n<pre>\nblabla(nothing(print me)) nanana (nanan)\n\n        print me\n\nblablabla(aaaaaaa(eeee(bbbb(cccc)bbb))aa)\n\n        eeee(bbbb(cccc)bbb)\n        bbbb(cccc)bbb\n        cccc\n\nblabla (blabla(hhhhh))\n\n        hhhhh\n</pre>\n"}], "owner": {"reputation": 568, "user_id": 4831637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e69c4752ec66749650d2e3bd3c6840a?s=128&d=identicon&r=PG&f=1", "display_name": "Piodo", "link": "https://stackoverflow.com/users/4831637/piodo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 1, "accepted_answer_id": 37039131, "answer_count": 3, "score": 3, "last_activity_date": 1462817538, "creation_date": 1462399785, "last_edit_date": 1462400357, "question_id": 37038927, "link": "https://stackoverflow.com/questions/37038927/how-can-i-find-sentences-nested-deeper-than-one-bracket-set", "title": "How can I find sentences nested deeper than one bracket &#39;()&#39; set?", "body": "<p>I want to print sentences from text file placed in <code>()</code> brackets deeper than one pair of brackets.</p>\n\n<p>For example for this text file :</p>\n\n<pre><code>blabla(nothing(print me)) nanana (nanan)\nblablabla(aaaaaaa(eeee(bbbb(cccc)bbb))aa)\nblabla (blabla(hhhhh))\n</code></pre>\n\n<p>the output should be :</p>\n\n<pre><code>print me\neeee(bbbb(cccc)bbb)\nbbbb(cccc)bbb\ncccc\nhhhhh\n</code></pre>\n\n<p>This is what I've done so far:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nopen(FILE, \"&lt;\", $ARGV[0]) or die \"file open error\";\n\nif ( @ARGV ) #if there are args\n{\n    if ( -f $ARGV[0] ) #if its regular file\n    {\n      while(&lt;FILE&gt;)\n      {\n        my @array =  split('\\)',$_);\n        foreach(@array)\n        {\n          if ($_ =~ /.*\\((.*)/) \n          {\n            print \"$1\\n\";\n          }\n        }\n      }\n    close(FILE);\n}\nelse{\nprint \"Arg is not a file\\n\";}\n}\nelse{\nprint \"no args\\n\";}\n</code></pre>\n\n<p>My code can't separate the sentences placed in deeper brackets.</p>\n"}, {"tags": ["apache", "perl", "wamp", "internal-server-error", "xml-libxml"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462400833, "post_id": 37038834, "comment_id": 61628214, "body": "Does your script work when a) you include <code>use XML:LibXML</code> in it and b) call it on the command line?"}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462400757, "post_id": 37039057, "comment_id": 61628189, "body": "I&#39;d agree, but the OP said it&#39;s &quot;up to date on CPAN&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1462402431, "post_id": 37039057, "comment_id": 61628720, "body": "@PerlDog: <i>Something</i> may have <code>XML::LibXML</code> installed, but the server system doesn&#39;t"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1462402821, "post_id": 37039057, "comment_id": 61628859, "body": "Now I totally agree. From the apache log the server apparently is running perl 5.6.1 while the OP has <i>the latest strawberry</i>. Perhaps two different perl installations on the same machine?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462406286, "post_id": 37039057, "comment_id": 61629900, "body": "@PerlDog: I didn&#39;t spot that. Nice"}, {"owner": {"reputation": 31, "user_id": 6292890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262cc034db27f21650ab9acb0a577435?s=128&d=identicon&r=PG&f=1", "display_name": "Skitinudo", "link": "https://stackoverflow.com/users/6292890/skitinudo"}, "edited": false, "score": 0, "creation_date": 1462444045, "post_id": 37039057, "comment_id": 61644084, "body": "XML::LibXML worked on command line. I uninstalled strawberry perl, and now the command line says it can&#39;t open the file anymore. The command perl -v still works (this is perl  v5.6.1 built for msys) and the scripts running in wamp (as long as i don&#39;t use libraries) work as before. Now i&#39;m trying to find my &quot;true&quot; perl. Using perl -e &quot;print $^X&quot; it just says &quot;perl&quot;."}, {"owner": {"reputation": 31, "user_id": 6292890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262cc034db27f21650ab9acb0a577435?s=128&d=identicon&r=PG&f=1", "display_name": "Skitinudo", "link": "https://stackoverflow.com/users/6292890/skitinudo"}, "edited": false, "score": 2, "creation_date": 1462445386, "post_id": 37039057, "comment_id": 61644827, "body": "I uninstalled the msys stuff (i can&#39;t rememeber why i had it, probably for c compilator) and reinstalled strawberry perl. Now everything works, and i don&#39;t get anymore errors with libraries. Thanks!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1462402351, "last_edit_date": 1462402351, "creation_date": 1462400484, "answer_id": 37039057, "question_id": 37038834, "link": "https://stackoverflow.com/questions/37038834/perl-library-not-working-on-wampserver/37039057#37039057", "title": "Perl library not working on WampServer", "body": "<p>You seem to be looking at two different perl installations. You don't have <code>XML::LibXML</code> installed on the server</p>\n"}], "owner": {"reputation": 31, "user_id": 6292890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262cc034db27f21650ab9acb0a577435?s=128&d=identicon&r=PG&f=1", "display_name": "Skitinudo", "link": "https://stackoverflow.com/users/6292890/skitinudo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 37039057, "answer_count": 1, "score": 2, "last_activity_date": 1462402351, "creation_date": 1462399275, "last_edit_date": 1462400306, "question_id": 37038834, "link": "https://stackoverflow.com/questions/37038834/perl-library-not-working-on-wampserver", "title": "Perl library not working on WampServer", "body": "<p>I'm developing a website for a university project, using WampServer and Perl.</p>\n\n<p>Some details:</p>\n\n<ul>\n<li>Using Windows Vista</li>\n<li>Latest Strawberry Perl installed on C:\\Strawberry\\perl\\bin\\perl</li>\n<li>Wamp 2.5 32 bit installed on C:\\wamp</li>\n</ul>\n\n<p>I followed all the Apache <code>httpd.conf</code> instruction to enable <code>.cgi</code> and <code>.pl</code> scripts.</p>\n\n<p>The basic Perl script named <code>printenv.pl</code> is working:</p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\n\nprint \"Content-type: text/plain; charset=iso-8859-1\\n\\n\";\n\nforeach my $var ( sort( keys(%ENV) ) ) {\n\n    my $val = $ENV{$var};\n\n    $val =~ s|\\n|\\\\n|g;\n    $val =~ s|\"|\\\\\"|g;\n\n    print \"${var}=\\\"${val}\\\"\\n\";\n}\n</code></pre>\n\n<p>Whenever I try to use my libraries on my scripts with <code>use XML::LibXML</code> the resulting website page gives <code>500 internal server error</code>.</p>\n\n<p>I have <code>XML:LibXML</code> up to date on CPAN, and I tried with a few other libraries too.</p>\n\n<p>This is the Apache error log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[Wed May 04 23:44:24.036757 2016] [authz_core:error] [pid 3892:tid 896] [client ::1:54937] AH01630: client denied by server configuration: C:/Apache24, referer: http://localhost/IMAS-master%20-%20Copia/cgi-bin/\n[Wed May 04 23:44:24.038757 2016] [authz_core:error] [pid 3892:tid 912] [client ::1:54938] AH01630: client denied by server configuration: C:/Apache24, referer: http://localhost/IMAS-master%20-%20Copia/cgi-bin/\n[Wed May 04 23:44:24.039757 2016] [authz_core:error] [pid 3892:tid 920] [client ::1:54939] AH01630: client denied by server configuration: C:/Apache24, referer: http://localhost/IMAS-master%20-%20Copia/cgi-bin/\n[Wed May 04 23:44:24.040757 2016] [authz_core:error] [pid 3892:tid 904] [client ::1:54940] AH01630: client denied by server configuration: C:/Apache24, referer: http://localhost/IMAS-master%20-%20Copia/cgi-bin/\n[Wed May 04 23:44:25.260757 2016] [cgi:error] [pid 3892:tid 904] [client ::1:54940] End of script output before headers: prova.pl, referer: http://localhost/IMAS-master%20-%20Copia/cgi-bin/\n[Wed May 04 23:44:25.261757 2016] [cgi:error] [pid 3892:tid 904] [client ::1:54940] AH01215: Can't locate XML/LibXML.pm in @INC (@INC contains: /usr/lib/perl5/5.6.1/msys /usr/lib/perl5/5.6.1 /usr/lib/perl5/site_perl/5.6.1/msys /usr/lib/perl5/site_perl/5.6.1 /usr/lib/perl5/site_perl .) at C:/wamp/www/IMAS-master - Copia/cgi-bin/prova.pl line 3., referer: http://localhost/IMAS-master%20-%20Copia/cgi-bin/\n[Wed May 04 23:44:25.261757 2016] [cgi:error] [pid 3892:tid 904] [client ::1:54940] AH01215: BEGIN failed--compilation aborted at C:/wamp/www/IMAS-master - Copia/cgi-bin/prova.pl line 3., referer: http://localhost/IMAS-master%20-%20Copia/cgi-bin/\n</code></pre>\n\n<p>I've looked for a solution for at least 10 hours now, but I really can't find any</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1462393109, "post_id": 37037068, "comment_id": 61624635, "body": "See the example at <a href=\"https://metacpan.org/pod/GD#Image-Data-Output-Methods\" rel=\"nofollow noreferrer\">metacpan.org/pod/GD#Image-Data-Output-Methods</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462396133, "post_id": 37037068, "comment_id": 61626185, "body": "What if <code>$ar == $nr</code>?"}, {"owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462396399, "post_id": 37037068, "comment_id": 61626299, "body": "@Borodin I dont know this is not my code im just working with it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1462398082, "post_id": 37037068, "comment_id": 61627105, "body": "@slicks1: Then I think you should be doing a lot more than copying someone else&#39;s code to Stack Overflow and hoping that we do your job for you."}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "edited": false, "score": 0, "creation_date": 1462392973, "post_id": 37037215, "comment_id": 61624564, "body": "what exactly is $fd?"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "reply_to_user": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "edited": false, "score": 0, "creation_date": 1462393094, "post_id": 37037215, "comment_id": 61624628, "body": "<code>$fd</code> is the file descriptor, or filehandle. <a href=\"https://en.wikipedia.org/wiki/File_descriptor\" rel=\"nofollow noreferrer\">What&#39;s a file descriptor?</a>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1462393129, "post_id": 37037215, "comment_id": 61624645, "body": "It&#39;s a filehandle. It gets set by the <code>open</code> call (like an OUT parameter). See Perl&#39;s <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">tutorial on open</a> for details."}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": true, "score": 2, "last_activity_date": 1462393782, "last_edit_date": 1462393782, "creation_date": 1462392924, "answer_id": 37037215, "question_id": 37037068, "link": "https://stackoverflow.com/questions/37037068/copy-image-contents-not-copying-two-files/37037215#37037215", "title": "Copy image contents (not copying two files)", "body": "<p>All the information is in the <a href=\"http://search.cpan.org/~lds/GD-2.56/lib/GD.pm\" rel=\"nofollow\">documentation</a> of the GD module:</p>\n\n<blockquote>\n<pre><code> # make sure we are writing to a binary stream\nbinmode STDOUT;\n\n# Convert the image to PNG and print it on standard output\nprint $im-&gt;png;\n</code></pre>\n</blockquote>\n\n<p>Instead of having the output in <code>STDOUT</code> you want it in a file, and also instead of a <code>.png</code> format you prefer a <code>.jpeg</code>. Having a look at the <a href=\"http://search.cpan.org/~lds/GD-2.56/lib/GD.pm#Image_Data_Output_Methods\" rel=\"nofollow\">output methods</a> of the GD library there is one for JPEG data: <code>$jpegdata = $image-&gt;jpeg([$quality])</code>.</p>\n\n<blockquote>\n  <p><strong>$jpegdata = $image->jpeg([$quality])</strong> </p>\n  \n  <p>This returns the image data in\n  JPEG format. You can then print it, pipe it to a display program, or\n  write it to a file. You may pass an optional quality score to jpeg()\n  in order to control the JPEG quality. This should be an integer\n  between 0 and 100. Higher quality scores give larger files and better\n  image quality. If you don't specify the quality, jpeg() will choose a\n  good default.</p>\n</blockquote>\n\n<p>The code you want should be something like:</p>\n\n<pre><code>open my $fd, '&gt;', '&lt;path_to_your_new_jpeg&gt;';\nbinmode $fd;\nprint $fd $thumb-&gt;jpeg(100); # 100 for 100% quality\nclose $fd;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1462393082, "creation_date": 1462393082, "answer_id": 37037263, "question_id": 37037068, "link": "https://stackoverflow.com/questions/37037068/copy-image-contents-not-copying-two-files/37037263#37037263", "title": "Copy image contents (not copying two files)", "body": "<p>Looking at the <a href=\"http://search.cpan.org/~lds/GD-2.56/lib/GD.pm#Image_Data_Output_Methods\" rel=\"nofollow\">Documentation for <code>GD</code></a>, it would seem like you can get the image data in JPEG format using the <code>jpeg()</code> method, and can then print that data to a file of your choosing:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $jpeg_data = $thumb-&gt;jpeg();\nopen my $jpg_fh, '&gt;', 'new_image.jpg' or die \"Could not open: $!\\n\";\nbinmode $jpg_fh;\nprint $jpg_fh $jpeg_data;\nclose $jpg_fh or die \"Could not close: $!\\n\";\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 37037215, "answer_count": 2, "score": -2, "last_activity_date": 1462396097, "creation_date": 1462392434, "last_edit_date": 1462396097, "question_id": 37037068, "link": "https://stackoverflow.com/questions/37037068/copy-image-contents-not-copying-two-files", "title": "Copy image contents (not copying two files)", "body": "<p>I'd like to get the contents of <code>$thumb</code> into a new, uncreated JPEG file.</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>my $path = '/pathtoimage/image.jpg' my $jpg = GD::Image-&gt;newFromJpeg( $path, 1 );\n\nmy ( $nw, $nh, $x, $y ) = ( 80, 80, 0, 0 );\n\nmy ( $ar, $nr ) = ( $w / $h, $nw / $nh );\n\nmy ( $ow, $oh ) = ( $nw, $nh );\n\nif ( $ar &gt; $nr ) {\n    $nw = int( $w * ( $nh / $h ) );\n    $x = int( ( $ow / 2 ) - ( $nw / 2 ) );\n}\nelsif ( $ar &lt; $nr ) {\n    $nh = int( $h * ( $nw / $w ) );\n    $y = int( ( $oh / 2 ) - ( $nh / 2 ) );\n}\n\nmy $string2;\n$string2 .= $chars[ rand @chars ] for 1 .. 8;\n$string2 = '/path/' . $string2 . '.jpg';\n\nmy $thumb = GD::Image-&gt;new( $ow, $oh, 1 );\n$thumb-&gt;copyResampled( $jpg, $x, $y, 0, 0, $nw, $nh, $w, $h );\n$thumb-&gt;edgeImageSharpen(8);\n$thumb-&gt;edgeBrightnessContrast( 5, 1.1 );\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "edited": false, "score": 2, "creation_date": 1462390102, "post_id": 37035764, "comment_id": 61622988, "body": "why the downvotes? the question is pretty clear IMO"}, {"owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "reply_to_user": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "edited": false, "score": 1, "creation_date": 1462390637, "post_id": 37035764, "comment_id": 61623257, "body": "@TudorConstantin I made updates to it."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "edited": false, "score": 1, "creation_date": 1462391423, "post_id": 37035764, "comment_id": 61623702, "body": "@TudorConstantin: It seems some angry people down votes every <code>perl</code> question. On other threads I do not saw such down votes on question as on <code>perl</code>. It seems they down votes against perl not question."}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "edited": false, "score": 0, "creation_date": 1462391629, "post_id": 37035764, "comment_id": 61623818, "body": "I hope that&#39;s not true. I get much more upvotes on my answers on Perl than on any other languages - the Perl community seems more fair play"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1462395315, "post_id": 37035764, "comment_id": 61625777, "body": "Does this question show any research effort? No. Is it clear? No. Why, then, should it receive any upvotes?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1462390039, "creation_date": 1462390039, "answer_id": 37036375, "question_id": 37035764, "link": "https://stackoverflow.com/questions/37035764/copying-image-file-in-perl/37036375#37036375", "title": "Copying image file in perl", "body": "<p>It sounds like you are asking how to copy a file from the path in <code>$path</code> to the path in <code>$random</code>. You can use <a href=\"http://search.cpan.org/perldoc?File::Copy\" rel=\"nofollow\">File::Copy</a>'s <code>copy</code> for that.</p>\n\n<pre><code>use File::Copy qw( copy );\n\ncopy($path, $random)\n   or die(\"Can't copy \\\"$path\\\" to \\\"$random\\\": $!\\n\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 2, "last_activity_date": 1462391250, "creation_date": 1462391250, "answer_id": 37036725, "question_id": 37035764, "link": "https://stackoverflow.com/questions/37035764/copying-image-file-in-perl/37036725#37036725", "title": "Copying image file in perl", "body": "<p>You may achieve that with shell help:</p>\n\n<pre><code># This\n`cp \"$path\" \"$random\"`\n# Or this\n`cat \"$path\" &gt; \"$randorm\"`\n\n# Or Pure Perl\nmy $path = '/path/src';\nopen my $src, '&lt;', $path;\nmy $content = do{ local $/; &lt;$src&gt; };\nmy $random = '/path/dst';\nopen my $fh,'&gt;',$random;\nprint $fh $content;\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 37036375, "answer_count": 2, "score": 2, "last_activity_date": 1462392611, "creation_date": 1462388072, "last_edit_date": 1462392611, "question_id": 37035764, "link": "https://stackoverflow.com/questions/37035764/copying-image-file-in-perl", "title": "Copying image file in perl", "body": "<p>I'm a perl newbie. I need to do the following:</p>\n\n<pre><code>my $path=$insfn{'upload'.$i}; // this references the path for the uploaded image file    \n</code></pre>\n\n<p>I need to take the contents of this path (it is an image), and fill it in a new file.</p>\n\n<p>Here is as far as Ive gotten:</p>\n\n<pre><code>my $random = '/path/6dadasd.jpg';\nopen(my $fh,'&gt;',$random){\n    print $fh ? how do i get the contents of $path?\n}\n</code></pre>\n\n<p><strong>I have no idea how to do this in Perl.</strong></p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1462385319, "post_id": 37034912, "comment_id": 61620125, "body": "<code>perldoc -f -e</code>. It&#39;s something Perl inherited from <code>bash</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1462385910, "post_id": 37034912, "comment_id": 61620517, "body": "Note that the error being logged (does not exist) is potentially incorrect. <code>$!</code> contains the actual error. For example, you might not have sufficient permissions to check if it exists or not."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1462385668, "post_id": 37034960, "comment_id": 61620379, "body": "<code>perldoc -f -e</code> works as well."}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": true, "score": 3, "last_activity_date": 1462387470, "last_edit_date": 1462387470, "creation_date": 1462385235, "answer_id": 37034960, "question_id": 37034912, "link": "https://stackoverflow.com/questions/37034912/what-does-e-mean-in-an-if-statement/37034960#37034960", "title": "What does -e mean in an if statement?", "body": "<p>See <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">Perl file tests</a> in the <a href=\"http://perldoc.perl.org/index.html\" rel=\"nofollow\">online perl</a> documentation site. <code>-e '/foo'</code> returns true if the file <code>/foo</code> exists.</p>\n\n<p>You can access it also from the command line if you have perldoc installed in your system.</p>\n\n<pre><code>perldoc -f -X\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 4, "last_activity_date": 1462388851, "last_edit_date": 1462388851, "creation_date": 1462385405, "answer_id": 37035009, "question_id": 37034912, "link": "https://stackoverflow.com/questions/37034912/what-does-e-mean-in-an-if-statement/37035009#37035009", "title": "What does -e mean in an if statement?", "body": "<p>The <a href=\"http://perldoc.perl.org/\" rel=\"nofollow\">perldoc</a> <code>unary</code> operator <code>-e</code>  checks if a file exists.</p>\n\n<hr>\n\n<p><strong>Perldoc unary file test operators list:</strong></p>\n\n<pre><code>    -r  File is readable by effective uid/gid.\n    -w  File is writable by effective uid/gid.\n    -x  File is executable by effective uid/gid.\n    -o  File is owned by effective uid.\n    -R  File is readable by real uid/gid.\n    -W  File is writable by real uid/gid.\n    -X  File is executable by real uid/gid.\n    -O  File is owned by real uid.\n    -e  File exists.\n    -z  File has zero size (is empty).\n    -s  File has nonzero size (returns size in bytes).\n    -f  File is a plain file.\n    -d  File is a directory.\n    -l  File is a symbolic link (false if symlinks aren't\n        supported by the file system).\n    -p  File is a named pipe (FIFO), or Filehandle is a pipe.\n    -S  File is a socket.\n    -b  File is a block special file.\n    -c  File is a character special file.\n    -t  Filehandle is opened to a tty.\n    -u  File has setuid bit set.\n    -g  File has setgid bit set.\n    -k  File has sticky bit set.\n    -T  File is an ASCII or UTF-8 text file (heuristic guess).\n    -B  File is a \"binary\" file (opposite of -T).\n    -M  Script start time minus file modification time, in days.\n    -A  Same for access time.\n    -C  Same for inode change time (Unix, may differ for other\n    platforms)\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "closed_date": 1462386833, "accepted_answer_id": 37034960, "answer_count": 2, "score": 1, "last_activity_date": 1462388851, "creation_date": 1462385080, "last_edit_date": 1462386260, "question_id": 37034912, "link": "https://stackoverflow.com/questions/37034912/what-does-e-mean-in-an-if-statement", "closed_reason": "Duplicate", "title": "What does -e mean in an if statement?", "body": "<p>I found the following in some Perl code: </p>\n\n<pre><code>if (! -e $options{\"inPath\"}){\n       $logger-&gt;fatal(\"Directory \\'$options{\\\"inPath\\\"}\\' does not exist.\\n\");\n} \n</code></pre>\n\n<p>What does the <code>-e</code> in the <code>if</code> statement do?</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462383368, "post_id": 37034230, "comment_id": 61618907, "body": "@Borodin Will do - and will also remove my comment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 1, "creation_date": 1462383930, "post_id": 37034230, "comment_id": 61619273, "body": "@AnnaSchumann: I realise that you&#39;re getting to know the ropes. Thank you for understanding"}], "tags": [], "owner": {"reputation": 1533, "user_id": 677915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5b62d6c2640b7285e73c9d9967b075?s=128&d=identicon&r=PG", "display_name": "dim-an", "link": "https://stackoverflow.com/users/677915/dim-an"}, "is_accepted": true, "score": 4, "last_activity_date": 1462382543, "creation_date": 1462382543, "answer_id": 37034230, "question_id": 37034181, "link": "https://stackoverflow.com/questions/37034181/passing-arguments-to-perl-using-bash-variables/37034230#37034230", "title": "Passing arguments to perl using bash variables", "body": "<p>You should use:</p>\n\n<pre><code> perl \"$PERLDIR\" \"$ARG1\"\n</code></pre>\n\n<p>When you use many variables in one string enclosed with <code>\"</code> it becomes one argument.</p>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 37034230, "answer_count": 1, "score": 2, "last_activity_date": 1462382543, "creation_date": 1462382337, "question_id": 37034181, "link": "https://stackoverflow.com/questions/37034181/passing-arguments-to-perl-using-bash-variables", "title": "Passing arguments to perl using bash variables", "body": "<p>Ordinarily I would invoke Perl and supply required arguments from within a bash script simply using:</p>\n\n<pre><code>perl script.pl arg1\n</code></pre>\n\n<p>However there are cases when I want to store both the perl script directory and the arguments in bash variables:</p>\n\n<pre><code>PERLDIR = \"/example/directory/script.pl\"\nARG1 = \"40\"\n</code></pre>\n\n<p>When trying to call the perl script using:</p>\n\n<pre><code>perl \"$PERLDIR\" \n</code></pre>\n\n<p>It works, however when trying to provide the argument i'm not sure of the syntax to utilise. If I use:</p>\n\n<p><code>perl \"$PERLDIR $ARG1\"</code> it'll attempt to open the directory:</p>\n\n<pre><code>/example/directory/script.pl 40\n</code></pre>\n\n<p>And throw an error.</p>\n\n<p>Is there a way to do this and if so, how?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1462380085, "post_id": 37033354, "comment_id": 61617056, "body": "Some example input and output data would help a lot"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462380473, "post_id": 37033354, "comment_id": 61617296, "body": "There&#39;s a lot of junk code in that sample. You never use <code>@file_array</code>, <code>@line_array</code>, <code>$dir</code> or <code>$name</code> after assigning them. Is there a reason for them to be there?"}, {"owner": {"reputation": 2022, "user_id": 4915222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuFdJ.jpg?s=128&g=1", "display_name": "Peter Paul Kiefer", "link": "https://stackoverflow.com/users/4915222/peter-paul-kiefer"}, "edited": false, "score": 0, "creation_date": 1462380564, "post_id": 37033354, "comment_id": 61617368, "body": "Load the lines into an array. Permutate the array as you like and iterate over these reordered strings. You need to use two while loops. The first for reading the lines intio an array, the second to iterate over the array."}, {"owner": {"reputation": 2022, "user_id": 4915222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuFdJ.jpg?s=128&g=1", "display_name": "Peter Paul Kiefer", "link": "https://stackoverflow.com/users/4915222/peter-paul-kiefer"}, "edited": false, "score": 0, "creation_date": 1462380993, "post_id": 37033354, "comment_id": 61617618, "body": "You can permutate the strings by creating a permutation vector into an array. <code>my @perm_array = [1, 7, 3, 4, 6, 5, 2, 0, 8]</code> be sure to start with index 0 because perl arrays use zero based indexes. In order to get the 4th string to splitt and write, use <code>$string_array[$perm_array[3]]</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2022, "user_id": 4915222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuFdJ.jpg?s=128&g=1", "display_name": "Peter Paul Kiefer", "link": "https://stackoverflow.com/users/4915222/peter-paul-kiefer"}, "edited": false, "score": 0, "creation_date": 1462381406, "post_id": 37033354, "comment_id": 61617827, "body": "@PeterPaulKiefer: Computers are pretty good at subtracting one, so if it&#39;s more natural to specify the indexes with a base of 1 then you should do so and let the code take care of the rest. See the <code>map</code> in my solution"}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 2017810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4cab0bf996561469e9360d152164ed9f?s=128&d=identicon&r=PG", "display_name": "user2017810", "link": "https://stackoverflow.com/users/2017810/user2017810"}, "edited": false, "score": 0, "creation_date": 1462381806, "post_id": 37033869, "comment_id": 61618036, "body": "Thank you ! It seems to work. But why is my question being down voted ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 205, "user_id": 2017810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4cab0bf996561469e9360d152164ed9f?s=128&d=identicon&r=PG", "display_name": "user2017810", "link": "https://stackoverflow.com/users/2017810/user2017810"}, "edited": false, "score": 0, "creation_date": 1462382617, "post_id": 37033869, "comment_id": 61618485, "body": "@user2017810 Votes are private so I can only speculate, but I would guess that you got downvotes because 1) before Borodin edited your question, your code had zero indentation and the final two curly braces weren&#39;t formatted as code 2) before Borodin edited, your description of the problem was hard to understand 3) you didn&#39;t show what your input data looks like 4) you didn&#39;t specify what the exact ordering should be (&quot;3, 1, 2 or something like that&quot; is a bit vague). The moral of the story is that you should always format your posts properly and make sure they&#39;re as clear as possible."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 205, "user_id": 2017810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4cab0bf996561469e9360d152164ed9f?s=128&d=identicon&r=PG", "display_name": "user2017810", "link": "https://stackoverflow.com/users/2017810/user2017810"}, "edited": false, "score": 0, "creation_date": 1462383710, "post_id": 37033869, "comment_id": 61619113, "body": "@user2017810: I would add to that that I needed to point out that there were apparently junk statements in your code. You seem to have edited your question in response to that (and you should really have left a comment) but have left the code badly-formatted again and still with an assignment to <code>my @line_array</code>, which is one of the things that I mentioned in my original note. You have also left the code badly formatted again, and I didn&#39;t think I should tidy it a second time. Programming is an <i>extremely precise</i> profession, and you must take a great deal more care with what you write"}, {"owner": {"reputation": 205, "user_id": 2017810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4cab0bf996561469e9360d152164ed9f?s=128&d=identicon&r=PG", "display_name": "user2017810", "link": "https://stackoverflow.com/users/2017810/user2017810"}, "edited": false, "score": 0, "creation_date": 1462423986, "post_id": 37033869, "comment_id": 61634156, "body": "@Borodin Thanks for the feedback ! I will try to format my code in a better way next time !"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1462381181, "creation_date": 1462381181, "answer_id": 37033869, "question_id": 37033354, "link": "https://stackoverflow.com/questions/37033354/change-order-of-reading-strings-perl/37033869#37033869", "title": "Change order of reading strings perl", "body": "<p>I've tried to work out what your data may look like from the code you've already written</p>\n\n<p>Does this help? It splits each eighteen-character line into nine character pairs and shuffles them according to the order you have in your question before printing them</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\n#open my $fh,  '&lt;', dataFile.txt'\nopen my $fh1, '&gt;', 'report.txt';\n\nmy $fh = \\*DATA;\n\nuse constant FIELD_ORDER =&gt; ( 2, 8, 4, 5, 7, 6, 3, 1, 9 );\n\nwhile ( my $line = &lt;$fh&gt; ) {\n    chomp $line;\n\n    my @pairs = unpack '(A2)*', $line;\n\n    print $fh1 \"$_\\n\" for @pairs[ map {$_-1} FIELD_ORDER ];\n}\n\n__DATA__\n112233445566778899\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>22\n88\n44\n55\n77\n66\n33\n11\n99\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 2017810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4cab0bf996561469e9360d152164ed9f?s=128&d=identicon&r=PG", "display_name": "user2017810", "link": "https://stackoverflow.com/users/2017810/user2017810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 37033869, "answer_count": 1, "score": -2, "last_activity_date": 1462381181, "creation_date": 1462379568, "last_edit_date": 1462380861, "question_id": 37033354, "link": "https://stackoverflow.com/questions/37033354/change-order-of-reading-strings-perl", "title": "Change order of reading strings perl", "body": "<p>I have to read strings from a file, split them into two-character chunks and write it into another file.</p>\n\n<p>I have written the below snippet which works but I need to change the order of the input strings. For example if there are nine strings I need to read it like 2, 8, 4, 5, 7, 6, 3, 1, 9 or something like that</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;    #So I dont have to worry about my file\n\nopen( my $fh,  \"&lt;\", \"dataFile.txt\" );\nopen( my $fh1, '&gt;', 'report.txt' );\n\n\n\nwhile ( my $line = &lt;$fh&gt; ) {\n    chomp $line;\n\n    my @line_array = split( /\\s+/, $line );\n       for ( unpack( \"(A2)*\", $line ) ) {\n        print \"$_\\n\";\n        print $fh1 \"$_\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": false, "score": 5, "last_activity_date": 1462373920, "last_edit_date": 1462373920, "creation_date": 1462373852, "answer_id": 37031408, "question_id": 37031366, "link": "https://stackoverflow.com/questions/37031366/what-does-match/37031408#37031408", "title": "What does &quot; :\\- &quot; match?", "body": "<p><a href=\"https://metacpan.org/pod/YAPE::Regex::Explain\" rel=\"noreferrer\">YAPE::Regex::Explain</a>    </p>\n\n<p>The regular expression:</p>\n\n<pre><code>(?-imsx:[\\s:\\-])\n\nmatches as follows:\n\nNODE                     EXPLANATION\n----------------------------------------------------------------------\n(?-imsx:                 group, but do not capture (case-sensitive)\n                         (with ^ and $ matching normally) (with . not\n                         matching \\n) (matching whitespace and #\n                         normally):\n----------------------------------------------------------------------\n  [\\s:\\-]                  any character of: whitespace (\\n, \\r, \\t,\n                           \\f, and \" \"), ':', '\\-'\n----------------------------------------------------------------------\n)                        end of grouping\n----------------------------------------------------------------------\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1462375099, "post_id": 37031448, "comment_id": 61613695, "body": "Note: the backslash in <code>\\-</code> is unnecessary because the hyphen appears at the end of the character class and so <a href=\"http://perldoc.perl.org/perlrecharclass.html#Character-Ranges\" rel=\"nofollow noreferrer\">can&#39;t be part of a range</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462379878, "post_id": 37031448, "comment_id": 61616922, "body": "<i>&quot;just one character out of three possible&quot;</i> except that <code>\\s</code> is a character class by itself which matches six ASCII characters and a lot more from Unicode"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462380358, "post_id": 37031448, "comment_id": 61617224, "body": "@Borodin I didn&#39;t know how to put it correctly in words. You are completely right. Would it be better <i>out of three possibilities</i>? In my defence I wrote that <code>\\s</code> is a space <i>type</i> character, implying a set."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462380670, "post_id": 37031448, "comment_id": 61617443, "body": "@eballes: I apologize for forgetting that English may not be your first language. I would say something like <i>&quot;your character class has just three components&quot;</i>. Does that help?"}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": true, "score": 5, "last_activity_date": 1462381520, "last_edit_date": 1462381520, "creation_date": 1462373958, "answer_id": 37031448, "question_id": 37031366, "link": "https://stackoverflow.com/questions/37031366/what-does-match/37031448#37031448", "title": "What does &quot; :\\- &quot; match?", "body": "<p>Your character class has just three components: a space type character (<code>\\s</code>), a colon (<code>:</code>) or a minus (<code>-</code>). That way you will only match one appearance of one of those three options. </p>\n\n<p>What you are looking for is a regex like <code>/\\s:\\-/</code> without the brackets (<code>[]</code>).</p>\n"}], "owner": {"reputation": 99, "user_id": 5825707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01671dae7d225e96fd680d0b0d7d3892?s=128&d=identicon&r=PG", "display_name": "user30771", "link": "https://stackoverflow.com/users/5825707/user30771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 37031448, "answer_count": 2, "score": 2, "last_activity_date": 1585271052, "creation_date": 1462373761, "last_edit_date": 1585271052, "question_id": 37031366, "link": "https://stackoverflow.com/questions/37031366/what-does-match", "title": "What does &quot; :\\- &quot; match?", "body": "<p>I have the following regex: </p>\n\n<pre><code>[\\s:\\-]\n</code></pre>\n\n<p>How do I match the <code>:\\-</code>?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1462373895, "post_id": 37030806, "comment_id": 61612793, "body": "in the last <code>elsif</code>, you can get the next lines (3 or whatever number of lines you need).. like <code>$line1 = &lt;$fh&gt;</code>, <code>$line2 = &lt;$fh&gt;</code>, etc and concatenate them with <code>$line</code> before assigning"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1462380006, "post_id": 37030806, "comment_id": 61617007, "body": "Your input file is very confusing: the nesting doesn&#39;t look correct (member1 is two males) and you ignore the male grouping. Also your code is incomplete since you don&#39;t give us the regex you&#39;re working with. As @spasic said, you should somehow read more lines at some point because currently you are only reading/storing data from the file in a line per line basis. That&#39;s the core problem for now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462383817, "post_id": 37030806, "comment_id": 61619183, "body": "The file format and its parsing don&#39;t make much sense, as ebailes said.  Your hash assignment seems fine, though (except that it is not clear what <code>$line</code> is actually).  Show us the file in its exact format, and the regexes."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 2303105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/907e009bfd90e8642874377f6f336366?s=128&d=identicon&r=PG", "display_name": "Steven F Kohler", "link": "https://stackoverflow.com/users/2303105/steven-f-kohler"}, "is_accepted": false, "score": 1, "last_activity_date": 1462382940, "creation_date": 1462382940, "answer_id": 37034342, "question_id": 37030806, "link": "https://stackoverflow.com/questions/37030806/how-to-store-several-lines-in-hashes-of-hash-value/37034342#37034342", "title": "How to store several lines in hashes of hash value", "body": "<p>Looks like you want %data to be a HoHoHoHoH and you have just a HoHoHoH.\nFor example you want </p>\n\n<pre><code>$data{$family_name}{$member}{$age_range}= {5 to 5 =&gt; person : 20,\n                                their name =&gt; bla &amp; bla bla,\n                                bla =&gt; bla bla,\n                                ...\n                                }\n</code></pre>\n\n<p>In order to make this work, you may want to clean your import code,\nand especially fix the line</p>\n\n<pre><code>$data{$family_name}{$member}{$age_range}=$line;\n</code></pre>\n\n<p>which is just a HoHoHoH, that's why your output is only \none line, and not the hash you seem to want.</p>\n\n<p>So, by psuedo code s/b something like</p>\n\n<pre><code>$data{$family_name}{$member}{$age_range}=%lines;\n</code></pre>\n\n<p>Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 4417286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3dcwY.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4417286/raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1462958863, "last_edit_date": 1462958863, "creation_date": 1462857043, "answer_id": 37129732, "question_id": 37030806, "link": "https://stackoverflow.com/questions/37030806/how-to-store-several-lines-in-hashes-of-hash-value/37129732#37129732", "title": "How to store several lines in hashes of hash value", "body": "<p>I found the answer:</p>\n\n<p>push @{$data{$family_name}{$member}{$age_range}} , $line;</p>\n\n<p>:)</p>\n"}], "owner": {"reputation": 195, "user_id": 4417286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3dcwY.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4417286/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1462958863, "creation_date": 1462372281, "question_id": 37030806, "link": "https://stackoverflow.com/questions/37030806/how-to-store-several-lines-in-hashes-of-hash-value", "title": "How to store several lines in hashes of hash value", "body": "<p>Hi I am new at perl and I stuck at one problem. I am creating hashes of hash in that I want to store several lines as value. I am getting only sing line in value.</p>\n\n<p>File.txt</p>\n\n<pre><code>family (){\nkapoor(){\nmember1(){\nmale(){\nbetween : 0 to 5\nperson : 2\ntheir name is bla &amp; bla. \nand bla bla......\nblaa.....\n}\n\nmale(){\nbetween : 5 to 5\nperson : 20\ntheir name is bla &amp; bla bla. \nand bla bla......\nblaa.....\n}\n}\n\nmember2(){\nmale(){\nbetween : 0 to 5\nperson : 2\ntheir name is bla &amp; bla. \nand bla bla......\nblaa.....\n}\n\nmale(){\nbetween : 5 to 5\nperson : 20\ntheir name is bla &amp; bla bla. \nand bla bla......\nblaa.....\n}\n}\n}\n\n\nrai(){\nmember1(){\nmale(){\nbetween : 0 to 5\nperson : 2\ntheir name is bla &amp; bla. \nand bla bla......\nblaa.....\n}\n\nmale(){\nbetween : 5 to 5\nperson : 20\ntheir name is bla &amp; bla bla. \nand bla bla......\nblaa.....\n}\n}\n\nmember2(){\nmale(){\nbetween : 0 to 5\nperson : 2\ntheir name is bla &amp; bla. \nand bla bla......\nblaa.....\n}\n\nmale(){\nbetween : 5 to 5\nperson : 20\ntheir name is bla &amp; bla bla. \nand bla bla......\nblaa.....\n}\n}\n}\n</code></pre>\n\n<p>o/p should be:</p>\n\n<pre><code>family=&gt;{\n\n     kapoor =&gt; {\n                member1=&gt;{ \n                           0 to 5=&gt; person : 2\n                                    their name is bla &amp; bla. \n                                    and bla bla......\n                                    blaa.....\n\n                          }   \n               member2=&gt; {\n                          5 to 5 =&gt; person : 20\n                                    their name is bla &amp; bla bla. \n                                    and bla bla......\n                                    blaa.....\n\n                }\n\nrai =&gt;{\n/...................etc\n}\n</code></pre>\n\n<p>I am getting only single line in value, like</p>\n\n<pre><code>family=&gt;{\n\n     kapoor =&gt; {\n                member1=&gt;{ \n                           0 to 5=&gt; person : 2\n                                                                  }   \n               member2=&gt; {\n                          5 to 5 =&gt; person : 20\n\n                }\n\nrai =&gt;{\n/...................etc\n}\n</code></pre>\n\n<p>Here is what I tried:</p>\n\n<pre><code>while(my$line=&lt;$fh&gt;)\n  {\n\n  if($line=~/$family_name_re/)\n  {\n      $family_name=$1;\n  $family_count=$cell_count+1;\n  }\n  elsif ($line=~/$member_re/)\n  {\n  $member = $1;\n }\n  elsif ($line=~/$age_re/)\n {\n  $age_range=$1;\n\n  $data{$family_name}{$member}{$age_range}=$line;\n  }\n}\n  print Dumper(\\%data);\n  print \"Number of cell is $cell_count\\n\";\n\n close ($fh);\n</code></pre>\n\n<p>I don't know how to assign multiple lines to value. I tried with while  at assigning value but didn't work.</p>\n"}, {"tags": ["linux", "perl", "centos7"], "comments": [{"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1462398944, "post_id": 37030605, "comment_id": 61627485, "body": "Try disabling presto with <i>yum --disableplugin=presto</i>.  If that doesn&#39;t help then try erasing presto with <i>yum erase yum-presto</i>.  See if that helps."}], "answers": [{"comments": [{"owner": {"reputation": 2672, "user_id": 6355451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYSxv.jpg?s=128&g=1", "display_name": "Santosh Kumar Arjunan", "link": "https://stackoverflow.com/users/6355451/santosh-kumar-arjunan"}, "edited": false, "score": 0, "creation_date": 1551364128, "post_id": 37968827, "comment_id": 96620423, "body": "worked like a charm. I had jenkins installed already and after removing it, could it install it again with deltarpm and Presto issues. With just clean all, able to reinstall jenkins. thanks.."}, {"owner": {"reputation": 3732, "user_id": 1091853, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/kfuao.jpg?s=128&g=1", "display_name": "blamb", "link": "https://stackoverflow.com/users/1091853/blamb"}, "edited": false, "score": 0, "creation_date": 1584484109, "post_id": 37968827, "comment_id": 107449990, "body": "this solution didnt work for me for  php72-php-fpm @remi ."}], "tags": [], "owner": {"reputation": 853, "user_id": 5024215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mlW3o.jpg?s=128&g=1", "display_name": "Hitsa", "link": "https://stackoverflow.com/users/5024215/hitsa"}, "is_accepted": false, "score": 33, "last_activity_date": 1525974412, "last_edit_date": 1525974412, "creation_date": 1466600419, "answer_id": 37968827, "question_id": 37030605, "link": "https://stackoverflow.com/questions/37030605/no-presto-metadata-available-for-base-error-downloading-packages/37968827#37968827", "title": "No Presto metadata available for base Error downloading packages:", "body": "<p>Try running:</p>\n\n<pre><code>sudo yum clean all\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 2024478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/979f426ecd898356ec91103670bdb729?s=128&d=identicon&r=PG", "display_name": "Nidhin", "link": "https://stackoverflow.com/users/2024478/nidhin"}, "is_accepted": false, "score": 0, "last_activity_date": 1523311230, "creation_date": 1523311230, "answer_id": 49742326, "question_id": 37030605, "link": "https://stackoverflow.com/questions/37030605/no-presto-metadata-available-for-base-error-downloading-packages/49742326#49742326", "title": "No Presto metadata available for base Error downloading packages:", "body": "<p>Also, check if the URL in the repo is a valid one and is still working.</p>\n\n<p>In OL\n/etc/yum.repos.d/[your-repo-name].repo</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 1939595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1c3e50dc541bc402206f45d16c426d0?s=128&d=identicon&r=PG", "display_name": "Ravi Bhure", "link": "https://stackoverflow.com/users/1939595/ravi-bhure"}, "is_accepted": false, "score": 1, "last_activity_date": 1575442086, "creation_date": 1575442086, "answer_id": 59170369, "question_id": 37030605, "link": "https://stackoverflow.com/questions/37030605/no-presto-metadata-available-for-base-error-downloading-packages/59170369#59170369", "title": "No Presto metadata available for base Error downloading packages:", "body": "<p>Yum is designed to support DeltaRPM (Presto), however we currently do not use this feature in the Red Hat Repositories.</p>\n\n<p>Disable the warning by editing /etc/yum.conf and add or change the following:</p>\n\n<p><code>deltarpm=0</code></p>\n\n<p>From: <a href=\"https://access.redhat.com/solutions/3141231\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/3141231</a></p>\n"}], "owner": {"reputation": 127, "user_id": 4649990, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/b97ff9b4613ad32cfcae6ad4bb29fb23?s=128&d=identicon&r=PG&f=1", "display_name": "srinath", "link": "https://stackoverflow.com/users/4649990/srinath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30743, "favorite_count": 2, "answer_count": 3, "score": 9, "last_activity_date": 1575442086, "creation_date": 1462371820, "last_edit_date": 1525974504, "question_id": 37030605, "link": "https://stackoverflow.com/questions/37030605/no-presto-metadata-available-for-base-error-downloading-packages", "title": "No Presto metadata available for base Error downloading packages:", "body": "<p>Whenever I am trying to download </p>\n\n<p>perl-ExtUtils-ParseXS-3.18-2.el7 RPM for noarch (or) </p>\n\n<pre><code> yum install CPAN [\u2026]\n</code></pre>\n\n<p>Or</p>\n\n<pre><code> yum install perl-ExtUtils-Embed...\n</code></pre>\n\n<p>Or any other package in CentOS.</p>\n\n<p>It is seeing for dependencies then asking for confirmation (y) to download \nI am getting the below error:</p>\n\n<pre><code>No Presto metadata available for base\n</code></pre>\n\n<p>And trying for the mirror and getting the below message:</p>\n\n<pre><code>Error Downloading Packages.\n</code></pre>\n"}, {"tags": ["perl", "if-statement"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1462369278, "post_id": 37029571, "comment_id": 61608976, "body": "Use AND then, like <code>if ($F[1] != 83 &amp;&amp; $F[1] != 99)...</code>"}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462369398, "post_id": 37029571, "comment_id": 61609090, "body": "Thanks. I misunderstood and thought AND would look for conditions where $F[1] was equal to both 83 and 99 - which is nonsensical. Is it necessary to restate the variable being tested or can it be shortened to something like <code>$F[1] != 83 or 99</code>?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1462369499, "post_id": 37029571, "comment_id": 61609172, "body": "instead OR is nonsensical, since <i>every</i> number is either != 83 or != 99 or both"}, {"owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "edited": false, "score": 0, "creation_date": 1462369567, "post_id": 37029571, "comment_id": 61609225, "body": "True! Thank you for clarifying that."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 4, "last_activity_date": 1462369693, "creation_date": 1462369693, "answer_id": 37029736, "question_id": 37029571, "link": "https://stackoverflow.com/questions/37029571/if-statement-containing-or-perl/37029736#37029736", "title": "IF statement containing OR perl", "body": "<p>Since every number is either != 83 or != 99 or both, using <code>||</code> won't work.</p>\n\n<p>Use <code>&amp;&amp;</code> instead to get only numbers other than 83 and 99:</p>\n\n<pre><code>if ( $F[1] != 83 &amp;&amp; $F[1] != 99 ) {\n</code></pre>\n\n<p>If you have a longer list to check, you may want to do e.g.:</p>\n\n<pre><code>if ( ! grep $_ == $F[1], 83, 99, 107, 133, 150 ) {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8351, "user_id": 4279155, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/841b7391f3f7873bec1a8d9d8d2dc759?s=128&d=identicon&r=PG&f=1", "display_name": "Dominique", "link": "https://stackoverflow.com/users/4279155/dominique"}, "is_accepted": false, "score": 5, "last_activity_date": 1462371294, "creation_date": 1462371294, "answer_id": 37030388, "question_id": 37029571, "link": "https://stackoverflow.com/questions/37029571/if-statement-containing-or-perl/37030388#37030388", "title": "IF statement containing OR perl", "body": "<p>Never forget the following logical rules:</p>\n\n<pre><code>(not (A and B)) == (not(A) or  not(B))\n\n(not (A or B))  == (not(A) and not(B))\n</code></pre>\n"}], "owner": {"reputation": 1261, "user_id": 4030463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b152908db1fb6d0e205df83a47478488?s=128&d=identicon&r=PG&f=1", "display_name": "AnnaSchumann", "link": "https://stackoverflow.com/users/4030463/annaschumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 37029736, "answer_count": 2, "score": 0, "last_activity_date": 1462371294, "creation_date": 1462369221, "question_id": 37029571, "link": "https://stackoverflow.com/questions/37029571/if-statement-containing-or-perl", "title": "IF statement containing OR perl", "body": "<p>A very simple question but I can't seem to figure out the problem. Why does this snippet of code successfully print all lines where $F[1] does not equal 83:</p>\n\n<pre><code>    if ($F[1] != 83) {\n        print OUT2 \"$_\\n\";\n    }\n</code></pre>\n\n<p>But this snippet (containing an OR statement) simply prints all lines, ignoring both criteria:</p>\n\n<pre><code>    if ($F[1] != 83 || $F[1] != 99) {\n        print OUT2 \"$_\\n\";\n    }\n</code></pre>\n\n<p>The desired result was to print all lines where $F[1] contains anything other than 83 or 99.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1462368882, "post_id": 37029342, "comment_id": 61608672, "body": "<code>if ($VAR1-&gt;[0]{example_com} == 1)</code> since $VAR1 is an array that only contains one element which is a hash."}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1462368964, "post_id": 37029342, "comment_id": 61608747, "body": "I&#39;m actually trying to loop thorugh it, there could be more than one key"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 3, "creation_date": 1462369094, "post_id": 37029342, "comment_id": 61608851, "body": "Then show a bit more of the context. <i>There could be more than one key</i>  =&gt; What do you mean with that? More than one element in the array? You already have more than one key, but you want to check a specific and already known one (example_com) according to your question."}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1462369309, "post_id": 37029342, "comment_id": 61609004, "body": "I have modified my question as per your comment and added more context."}, {"owner": {"reputation": 3751, "user_id": 3982001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Fabio says Reinstate Monica", "link": "https://stackoverflow.com/users/3982001/fabio-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1462369358, "post_id": 37029342, "comment_id": 61609052, "body": "The square brackets indicate an array. This array currently only has one element, and it is a hash (indicated by the curly brackets). This hash contains 2 keys, <code>example_com</code> and <code>example_ca</code>, the value of which is 1 for both. Do you want: more elements in the array, or more keys inside the hash?"}], "answers": [{"comments": [{"owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 0, "creation_date": 1462372655, "post_id": 37029625, "comment_id": 61611871, "body": "I&#39;m pretty sure the $VAR1 &quot;array containing a hash&quot; is just the output of Data::Dumper and not his real variable."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "edited": false, "score": 0, "creation_date": 1462373957, "post_id": 37029625, "comment_id": 61612837, "body": "It is, but without a more specific example, I cannot give a more specific answer. The input to <code>Dumper</code> would have to be an array ref (either a scalar, or <code>\\@array</code>) to produce that output."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1462370882, "last_edit_date": 1462370882, "creation_date": 1462369347, "answer_id": 37029625, "question_id": 37029342, "link": "https://stackoverflow.com/questions/37029342/perl-get-value-of-a-key/37029625#37029625", "title": "Perl get value of a key", "body": "<p>This will be because you have an array containing a hash. The array is one element long.</p>\n\n<p>So you 'get' to the hash, by dereferencing element zero. </p>\n\n<p>Thus:</p>\n\n<pre><code>my $hash_ref = $VAR1-&gt;[0]; \nprint join \"\\n\", keys %{$hash_ref},\"\\n\"; \n\nforeach my $key ( keys %{$VAR1-&gt;[0]} ) {\n   print \"$key =&gt; $VAR1-&gt;[0]{$key}\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1462392080, "creation_date": 1462392080, "answer_id": 37036987, "question_id": 37029342, "link": "https://stackoverflow.com/questions/37029342/perl-get-value-of-a-key/37036987#37036987", "title": "Perl get value of a key", "body": "<p>Exactly for you source data:</p>\n\n<pre><code>my @array_of_keys =  ();\n\nfor( keys %{ $VAR1-&gt;[0] } ) {\n    push @array_of_keys, $_   if $VAR1-&gt;[0]{ $_ } eq '1';\n}\n\nprint \"Keys with 1: @array_of_keys\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 8068084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac232ca0816e8fb5f6eab850fb186480?s=128&d=identicon&r=PG&f=1", "display_name": "mcfaddyone", "link": "https://stackoverflow.com/users/8068084/mcfaddyone"}, "is_accepted": true, "score": 0, "last_activity_date": 1495827401, "creation_date": 1495827401, "answer_id": 44209006, "question_id": 37029342, "link": "https://stackoverflow.com/questions/37029342/perl-get-value-of-a-key/44209006#44209006", "title": "Perl get value of a key", "body": "<p>An expanded example of how to get an array of keys if you have multiple hashes in your container array:</p>\n\n<pre><code>my $VAR1 = [\n        {\n          'example_com' =&gt; '1',\n          'example_ca'  =&gt; '1',\n          'not_set'      =&gt; '0'\n        },\n        {\n          'EXAMPLE_com' =&gt; '1',\n          'EXAMPLE_ca'  =&gt; '1',\n          'NOT_SET'      =&gt; '0',\n        }\n];\n\nmy @arrayOfHashes = @{$VAR1};\n\nforeach my $array (@arrayOfHashes)\n{\n    my @onlyOnes; \n    my @arrayOfKeys = sort keys %{$array};\n    foreach my $key (@arrayOfKeys)\n    {\n        next if ($array-&gt;{$key} ne 1); \n        push @onlyOnes, $key;\n    }\n\n    print \"\\nKey names:\\n\";\n    foreach my $key (@onlyOnes)\n    {\n        print \"$key\\n\";\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Key names:\nexample_ca\nexample_com\n\nKey names:\nEXAMPLE_ca\nEXAMPLE_com\n</code></pre>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 0, "accepted_answer_id": 44209006, "answer_count": 3, "score": 1, "last_activity_date": 1495827401, "creation_date": 1462368673, "last_edit_date": 1462369185, "question_id": 37029342, "link": "https://stackoverflow.com/questions/37029342/perl-get-value-of-a-key", "title": "Perl get value of a key", "body": "<p>I have been stuck in trying to create an array of keys (example_com,example_ca ..etc) if they are set to 1, I have tried using for loop and foreach loop, but keep getting ARRAY# error.</p>\n\n<pre><code>$VAR1 = [\n      {\n        'example_com' =&gt; '1',\n        'example_ca' =&gt; '1'\n      }\n    ];\n</code></pre>\n\n<p>Thanks </p>\n"}, {"tags": ["javascript", "ajax", "perl"], "comments": [{"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1462364202, "post_id": 37027546, "comment_id": 61604962, "body": "Which framework/module do you use on Perl side? Could you add your Perl code?"}], "answers": [{"comments": [{"owner": {"reputation": 88729, "user_id": 1353011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460d2e9d0a84c78e6a5c141a51eb3ab9?s=128&d=identicon&r=PG", "display_name": "Musa", "link": "https://stackoverflow.com/users/1353011/musa"}, "edited": false, "score": 0, "creation_date": 1462366407, "post_id": 37028016, "comment_id": 61606670, "body": "Your replace ... with... code is wrong, you don&#39;t append an img element to a FormData object also the syntax."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 88729, "user_id": 1353011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460d2e9d0a84c78e6a5c141a51eb3ab9?s=128&d=identicon&r=PG", "display_name": "Musa", "link": "https://stackoverflow.com/users/1353011/musa"}, "edited": false, "score": 0, "creation_date": 1462366486, "post_id": 37028016, "comment_id": 61606736, "body": "@Musa \u2014 There was a typo where I missed out a <code>)</code>, but <code>newimg</code> is a file input (as seen in the question) not an img element."}, {"owner": {"reputation": 88729, "user_id": 1353011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460d2e9d0a84c78e6a5c141a51eb3ab9?s=128&d=identicon&r=PG", "display_name": "Musa", "link": "https://stackoverflow.com/users/1353011/musa"}, "edited": false, "score": 0, "creation_date": 1462366638, "post_id": 37028016, "comment_id": 61606849, "body": "I was unaware that you could pass an html element to FormData.append"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1462366695, "post_id": 37028016, "comment_id": 61606888, "body": "Oh drat, you can&#39;t. Serves me right for not checking when I never use that syntax. Just providing the form is much easier."}, {"owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "edited": false, "score": 0, "creation_date": 1462369223, "post_id": 37028016, "comment_id": 61608939, "body": "I think I may have an issue with multipart/form-data. I&#39;m still getting 0 byte files which is the same issue I&#39;ve had when the form Content-type is not multipart/form-data. I did try and add     <code>xhr.setRequestHeader(&quot;Content-type&quot;, &quot;multipart&#47;form-data&quot;)</code> right before the send but did not help. Still debugging..."}, {"owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "edited": false, "score": 0, "creation_date": 1462369666, "post_id": 37028016, "comment_id": 61609294, "body": "Is form encType=&quot;multipart/form-data&quot; the Content-type?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1462373617, "post_id": 37028016, "comment_id": 61612592, "body": "Explicitly setting the Content-Type header will mean that XHR will fail to read the content-type from the FormData object, so the boundary marker information will be missing from it and it will break. <b>Do not</b> add an explicitly content-type header."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1462373845, "post_id": 37028016, "comment_id": 61612762, "body": "Just noticed that the input is missing the name, that would break it when passing the form object. Form elements without names can&#39;t be successful controls."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 0, "last_activity_date": 1462373821, "last_edit_date": 1462373821, "creation_date": 1462365289, "answer_id": 37028016, "question_id": 37027546, "link": "https://stackoverflow.com/questions/37027546/can-not-upload-file-to-perl-script-using-ajax-javascript/37028016#37028016", "title": "Can not upload file to perl script using ajax/javascript", "body": "<p>None of the variables you are using refer to the file at all. That is why it isn't being included.</p>\n\n<p>Instead of trying to send the filename, send the input.</p>\n\n<p>Replace:</p>\n\n<pre><code>formdata.append(\"filename\",filename);\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>var file = document.getElementById(\"newimg\").files[0];\nformdata.append(\"newimg\", file);\n</code></pre>\n\n<p>Better yet, stop getting data manually and just send the whole form in one go:</p>\n\n<pre><code>&lt;input id=\"newimg\" name=\"newimg\" type=\"file\" onchange=\"changeimg(this.form)\"&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>function changeimg(form) {\n  var formdata = new FormData(form);\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"POST\",\"/uploader.pl\",true);\n  xhr.addEventListener(\"load\", function () { alert(\"Loaded\"); });\n  xhr.send(formdata);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "is_accepted": false, "score": 0, "last_activity_date": 1462374172, "creation_date": 1462374172, "answer_id": 37031520, "question_id": 37027546, "link": "https://stackoverflow.com/questions/37027546/can-not-upload-file-to-perl-script-using-ajax-javascript/37031520#37031520", "title": "Can not upload file to perl script using ajax/javascript", "body": "<p>Ok, thanks to @Quentin example I was able to make it work using these changes. I still needed to append dbtable and dbid as they are not form varibales.</p>\n\n<p>new html input</p>\n\n<pre><code>&lt;input type=\"file\" name=\"filename\" onchange=\"changeimg(this.form,dbtable,dbid);\"&gt;\n</code></pre>\n\n<p>new javascript</p>\n\n<pre><code>function changeimg(form,table,id) {\n  var formdata = new FormData(form);\n  formdata.append(\"item\",id);\n  formdata.append(\"table\",table);\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"POST\",\"/uploader.pl\",true);\n  xhr.addEventListener(\"load\", function () { alert(\"Loaded\"); });\n  xhr.send(formdata);\n}\n</code></pre>\n\n<p>no change to perl script</p>\n"}], "owner": {"reputation": 120, "user_id": 4257334, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea1abdb13c00e9b97abed0ce7af7d6cb?s=128&d=identicon&r=PG&f=1", "display_name": "Airman", "link": "https://stackoverflow.com/users/4257334/airman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 37028016, "answer_count": 2, "score": 0, "last_activity_date": 1462374172, "creation_date": 1462364160, "last_edit_date": 1462365640, "question_id": 37027546, "link": "https://stackoverflow.com/questions/37027546/can-not-upload-file-to-perl-script-using-ajax-javascript", "title": "Can not upload file to perl script using ajax/javascript", "body": "<p>I have a form that takes a sinlge file image for upload to a perl script which uses binmode to read and save. The perl script does not seem to be getting the file stream (filesize ends up 0 bytes in size). I'm not sure if I'm passing/using the right name/ref from the html input into the javascript formdata.append. I'm avoiding jquery and xhr version 2 solutions for the time being. I'm determined to make this work if possible.</p>\n\n<p>html input</p>\n\n<pre><code>&lt;input id=\"newimg\" type=\"file\" onchange=\"changeimg(this.value,dbtable,dbid);\"&gt;\n</code></pre>\n\n<p>javascript</p>\n\n<pre><code>function changeimg(filename,dbtable,dbid) {\n\n  // ignor \"c:\\fakepath\\\" in filename\n  var filename = document.getElementById('newimg').files[0].name;\n\n  var formdata = new FormData();\n  formdata.append(\"Content-Type\", \"multipart/form-data\");\n  formdata.append(\"dbtable\",dbtable);\n  formdata.append(\"dbid\",dbid);\n  formdata.append(\"filename\",filename);\n\n  if (window.XMLHttpRequest) {\n      // code for IE7+, Firefox, Chrome, Opera, Safari\n      var xhr = new XMLHttpRequest();\n  } else {\n      // code for IE6, IE5\n      var xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\n  xhr.open(\"POST\",\"/uploader.pl\",true);\n  xhr.send(formdata);\n\n}\n</code></pre>\n\n<p>perl snippet which I'm currently using. This same code has been working well for me under \"non javascript\" page form submits.</p>\n\n<pre><code>#\nmy $upload_filehandle = $cgi-&gt;upload(\"filename\");\n#\nopen (UPLOADFILE, \"&gt;$newfile\");\n      binmode UPLOADFILE;\n      while ( &lt;$upload_filehandle&gt; ) {\n        print UPLOADFILE;\n      }\nclose UPLOADFILE;\n#\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1462364094, "post_id": 37027371, "comment_id": 61604870, "body": "how do i login to the other server then? thank you for the help!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1462364161, "post_id": 37027371, "comment_id": 61604925, "body": "@m.lochhead: Create a new object, or reuse the existing one."}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1462364917, "post_id": 37027371, "comment_id": 61605448, "body": "Thank you! Unfortunately it gives me this error and i dont have 54 lines in my code"}, {"owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "edited": false, "score": 0, "creation_date": 1462364940, "post_id": 37027371, "comment_id": 61605472, "body": "<code>Can&#39;t use an undefined value as a symbol reference at &#47;usr&#47;share&#47;perl5&#47;Net&#47;FTP&#47;dataconn.pm line 54.</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1462363691, "creation_date": 1462363691, "answer_id": 37027371, "question_id": 37027162, "link": "https://stackoverflow.com/questions/37027162/perl-cant-call-method-put-without-a-package-or-object-reference-at-redirec/37027371#37027371", "title": "Perl: Can&#39;t call method &quot;put&quot; without a package or object reference at ./redirect line 25", "body": "<p>The <code>login</code> method doesn't return an object. <code>put</code> is a method of the main <code>Net::FTP</code> object, call it on the <code>$s</code> object instead:</p>\n\n<pre><code>$s-&gt;put($path, $newpath);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "is_accepted": false, "score": 0, "last_activity_date": 1462464942, "last_edit_date": 1462464942, "creation_date": 1462368812, "answer_id": 37029409, "question_id": 37027162, "link": "https://stackoverflow.com/questions/37027162/perl-cant-call-method-put-without-a-package-or-object-reference-at-redirec/37029409#37029409", "title": "Perl: Can&#39;t call method &quot;put&quot; without a package or object reference at ./redirect line 25", "body": "<p>here is a copy of the fixed program. it works and does not give me any errors.</p>\n\n<pre><code>#!/usr/bin/perl\nuse POSIX qw(strftime);\nuse Net::FTP;\n\n    ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst)=localtime();\n\n    my $bdate = sprintf(\"%02d%02d%02d\", $mon+1, $mday-7,$year-100);\n    my $edate = sprintf(\"%02d%02d%02d\", $mon+1, $mday-1,$year-100);\n    my $path = \"/home/user/homdata_percentage_vs_pn/Missing_Neighbor_030716-031316.csv\";\n    my $newpath = \"/HOM/missing_NL\";\n\n    my $host = \"xxx.xxx.xx.xxx\";\n    my $userid = \"username\";\n    my $passwd = 'p@ssword';\n    my $s = Net::FTP-&gt;new($host, Debug =&gt; 0, Passive =&gt;0);\n    my $login = $s-&gt;login($userid, $passwd);\n    my $blah = $s-&gt;cwd($newpath)\n    my $meh = $s-&gt;put($path);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5903795, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5385e3f185864964a310a6c002f9e80c?s=128&d=identicon&r=PG&f=1", "display_name": "m.lochhead", "link": "https://stackoverflow.com/users/5903795/m-lochhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 37027371, "answer_count": 2, "score": 2, "last_activity_date": 1462464942, "creation_date": 1462363144, "question_id": 37027162, "link": "https://stackoverflow.com/questions/37027162/perl-cant-call-method-put-without-a-package-or-object-reference-at-redirec", "title": "Perl: Can&#39;t call method &quot;put&quot; without a package or object reference at ./redirect line 25", "body": "<p>I am trying to have this program take a file from the current server i am working on an put a copy of it under a different folder on another server. I am continuously getting this error <code>Can't call method \"put\" without a package or object reference at ./redirect line 25.</code> I appreciate all help. Here is my program:</p>\n\n<pre><code>#!/usr/bin/perl\nuse POSIX qw(strftime);\nuse Net::FTP;\n\n\n($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst)=localtime();\n    my $bdate = sprintf(\"%02d%02d%02d\", $mon+1, $mday-7,$year-100);\n    my $edate = sprintf(\"%02d%02d%02d\", $mon+1, $mday-1,$year-100);\n\n\n    my $host = \"xxx.xxx.xx.xxx\";\n    my $userid = \"username\";\n    my $passwd = 'p@ssword';\n    my $s = Net::FTP-&gt;new($host, Debug =&gt; 0);\n    my $login = $s-&gt;login($userid, $passwd);\n\n    my $path = \"/home/username/homdata_percentage_vs_pn/Missing_Neighbor_030716-031316.csv\";\n    my $newpath = \"Z:/Network/HOM/missing_NL/Missing_Neighbor_030716-031316.csv\";\n\n\n    my $meh = $login-&gt;put($path, $newpath);\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "encoding", "character-encoding"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1462363931, "post_id": 37027051, "comment_id": 61604754, "body": "You should <code>decode</code> (not <code>encode</code>) <code>$filename_read</code>. See also <a href=\"http://stackoverflow.com/questions/31383690/could-filefindrule-be-patched-to-automatically-handle-filename-character-enc\">Could File::Find::Rule be patched to automatically handle filename character encoding/decoding?</a>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 1, "creation_date": 1462366420, "post_id": 37027051, "comment_id": 61606677, "body": "<a href=\"https://metacpan.org/pod/Encode::Locale\" rel=\"nofollow noreferrer\">Encode::Locale</a> can be informative.  Unfortunately there is wide disparity in the way File systems encode and normalize file names.  There&#39;s even a special module (<a href=\"https://metacpan.org/pod/Encode::UTF8Mac\" rel=\"nofollow noreferrer\">Encode::UTF8Mac</a>) dedicated to Apple&#39;s &quot;special&quot; implementation of Unicode in the file system."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1462373163, "post_id": 37027051, "comment_id": 61612248, "body": "IIRC: When using UTF-8, *nix generally uses NFC. OS X uses it&#39;s private variation on NFD (see above).  While Windows gladly creates filenames in whatever un-normalized form a user cares to throw at it.  <b>General Rule: Read, Normalize, then Compare</b>."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 10, "last_activity_date": 1465509477, "last_edit_date": 1495539997, "creation_date": 1462616179, "answer_id": 37087243, "question_id": 37027051, "link": "https://stackoverflow.com/questions/37027051/in-what-encoding-does-readdir-return-a-filename/37087243#37087243", "title": "In what encoding does readdir return a filename?", "body": "<p>The question rephrased (as I interpret it) is: </p>\n\n<blockquote>\n  <p>Why doesn't <code>readdir</code> return back the newly created filename? (Here, represented by the variable <code>filename</code> which is set to <code>B\u00e4rlauch</code>). </p>\n</blockquote>\n\n<p>(Note: <code>filename</code> is a Perl constant variable, so that's why it's missing the <code>$</code> sigil in front.)</p>\n\n<p><strong>Background:</strong></p>\n\n<p>First note: due to the <code>use utf8</code> statement in the beginning of your program, <code>filename</code> will be upgraded to a Unicode string at compile time, since it contain non-ASCII characters. From the documentation of the <a href=\"http://perldoc.perl.org/utf8.html\" rel=\"noreferrer\">utf8</a> pragma: </p>\n\n<blockquote>\n  <p>Enabling the utf8 pragma has the following effect: Bytes in the source\n  text that are not in the ASCII character set will be treated as being\n  part of a literal UTF-8 sequence. This includes most literals such as\n  identifier names, string constants, and constant regular expression\n  patterns.</p>\n</blockquote>\n\n<p>and also, according to <a href=\"https://metacpan.org/pod/perluniintro#Perls-Unicode-Model\" rel=\"noreferrer\">perluniintro</a> section <em>\"Perl's Unicode Model\"</em> :</p>\n\n<blockquote>\n  <p>The general principle is that Perl tries to keep its data as eight-bit\n  bytes for as long as possible, but as soon as Unicodeness cannot be\n  avoided, the data is transparently upgraded to Unicode.</p>\n  \n  <p>...  </p>\n  \n  <p>Internally, Perl currently uses whatever the native eight-bit\n  character set of the platform (for example Latin-1) is, defaulting to\n  UTF-8, to encode Unicode strings.</p>\n</blockquote>\n\n<p>The non-ASCII character in <code>filename</code> is the letter <code>\u00e4</code>. If you use ISO 8859-1 extended ASCII encoding (Latin-1), it is encoded as the byte value <code>0xE4</code>, see this <a href=\"http://www.ascii-code.com/\" rel=\"noreferrer\">table</a> at <code>ascii-code.com</code>. \nHowever, if you removed the <code>\u00e4</code> character from <code>filename</code>, it would contain only ASCII characters, and therefore it would not be internally upgraded to Unicode, even if you used the <code>utf8</code> pragma.</p>\n\n<p>So <code>filename</code> is now a Unicode string with the internal <code>UTF-8</code> flag set ( see <a href=\"https://metacpan.org/pod/utf8\" rel=\"noreferrer\">utf8</a> pragma for more information on the <code>UTF-8</code> flag). Note that the letter <code>\u00e4</code> is encoded in UTF-8 as the two bytes <code>0xC3 0xA4</code>.</p>\n\n<p><strong>Writing the file:</strong></p>\n\n<p>When writing the file, what happens with the filename? If <code>filename</code> is a Unicode string, it will be encoded as UTF-8. However, note that it is not necessary to encode <code>filename</code> first (<code>encode_utf8( filename )</code>). See <a href=\"https://stackoverflow.com/questions/31371257/creating-filenames-with-unicode-characters\">Creating filenames with unicode characters</a> for more information. So the filename is written to disk as UTF-8 encoded bytes. </p>\n\n<p><strong>Reading the filename back:</strong></p>\n\n<p>When trying to read the filename back from disk, <code>readdir</code> does not return Unicode strings (strings with the UTF-8 flag set) even if the filename contains bytes encoded in UTF-8. It returns binary or byte strings, see <a href=\"https://metacpan.org/pod/perlunitut\" rel=\"noreferrer\">perlunitut</a> for a discussion of byte strings vs character (Unicode) strings. </p>\n\n<p>Why doesn't <code>readdir</code> return Unicode strings? First, according to\n<a href=\"https://metacpan.org/pod/distribution/perl/pod/perlunicode.pod#When-Unicode-Does-Not-Happen\" rel=\"noreferrer\">perlunicode</a> section <em>\"When Unicode Does Not Happen\"</em> :</p>\n\n<blockquote>\n  <p>There are still many places where Unicode (in some encoding or\n  another) could be given as arguments or received as results, or both\n  in Perl, but it is not. (...)</p>\n  \n  <p>The following are such interfaces. For all of these interfaces Perl\n  currently (as of v5.16.0) simply assumes byte strings both as\n  arguments and results. (...) </p>\n  \n  <p>One reason that Perl does not attempt to resolve the role of Unicode\n  in these situations is that the answers are highly dependent on the\n  operating system and the file system(s). For example, whether\n  filenames can be in Unicode and in exactly what kind of encoding, is\n  not exactly a portable concept. (...)</p>\n  \n  <ul>\n  <li>chdir, chmod, chown, chroot, exec, link, lstat, mkdir, rename, rmdir,   - stat, symlink, truncate, unlink, utime, -X  </li>\n  <li>%ENV  </li>\n  <li>glob (aka the &lt;*>)  </li>\n  <li>open, opendir, sysopen  </li>\n  <li>qx (aka the backtick operator), system  </li>\n  <li>readdir, readlink</li>\n  </ul>\n</blockquote>\n\n<p>So <code>readdir</code> returns byte strings, since it is in general impossible to know the encoding of a file name a priori. For background information about why this is impossible, see for example:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Filename#Encoding_interoperability\" rel=\"noreferrer\">filename</a> in Wikipedia, sub section \"Encoding interoperability\",</li>\n<li><a href=\"https://unix.stackexchange.com/questions/39175/understanding-unix-file-name-encoding\">Understanding Unix file name encoding</a> on unix.stackexchange.com</li>\n</ul>\n\n<p><strong>String comparison:</strong></p>\n\n<p>Now, finally you try to compare the read filename <code>$filename_read</code> with the variable <code>filename</code>:</p>\n\n<pre><code>print \"found\\n\" if $filename_read eq filename;\n</code></pre>\n\n<p>In this case the only difference between <code>$filename_read</code> and <code>filename</code>\nis that <code>$filename_read</code> does not have the UTF-8 flag set (it is not what Perl internally recognize as a <em>\"Unicode string\"</em>). </p>\n\n<p>The interesting thing now is that the result of the <code>eq</code> operator will depend upon whether the bytes in <code>$filename_read</code> is pure ASCII or not. According to the documentation of the <a href=\"https://metacpan.org/pod/Encode\" rel=\"noreferrer\">Encode</a> module:</p>\n\n<blockquote>\n  <p>Before the introduction of Unicode support in Perl, The <code>eq</code> operator\n  just compared the strings represented by two scalars. Beginning with\n  Perl 5.8, <code>eq</code> compares two strings with simultaneous consideration of\n  the UTF8 flag.  </p>\n  \n  <p>...  </p>\n  \n  <p>When you decode, the resulting UTF8 flag is on--unless you can unambiguously represent data.</p>\n</blockquote>\n\n<p>So in your case, <code>eq</code> will consider the <code>UTF-8</code> flag since <code>$file_name_read</code> does not contain pure ASCII, and as a result it will\nconsider the two string <strong>not</strong> equal. If <code>$filename_read</code> and <code>filename</code> where identical and did only contain pure ASCII bytes (and <code>filename</code> still had the UTF-8 flag set, <code>$filename_read</code> did not have the UTF-8 flag set), then <code>eq</code> would consider the two strings as equal. Se the discussion in the documentation for <a href=\"https://metacpan.org/pod/Encode\" rel=\"noreferrer\">Encode</a> more information regarding the background for this behavior.</p>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>So if you are relative confident that all your filenames are UTF-8 encoded, you could solve the issue in your question by decoding the byte string returned from <code>readdir</code> into a Unicode string (forcing the UTF-8 flag to be set):</p>\n\n<pre><code>$filename_read = Encode::decode_utf8( $filename_read );\n</code></pre>\n\n<p><strong>More details</strong></p>\n\n<p>Note: since Unicode allows multiple representations of the same characters, there exists two forms of the <code>\u00e4</code> (LATIN SMALL LETTER A WITH COMBINING DIAERESIS) in <code>B\u00e4rlauch</code>. For example, </p>\n\n<ul>\n<li>U+00E4 is the NFC (Normalization Form canonical Composition) form,</li>\n<li>U+0061.0308 is the NFD (Normalization Form canonical Decomposition) form. </li>\n</ul>\n\n<p>On my platform (Linux), UTF-8 encoded filenames are stored using NFC form, but on Mac OS they use NFD form. See <a href=\"https://metacpan.org/pod/Encode::UTF8Mac\" rel=\"noreferrer\"><code>Encode::UTF8Mac</code></a> for more information. This means that if you work on a Linux machine, and for example clone a Git repository that was created by a Mac user, you can easily get NFD encoded filenames on your Linux machine. So the Linux filesystem does not care what encoding a filename is in; it just thinks of it as a sequence of bytes. Hence, I could easily write a script that created an ISO-Latin-1 encoded filename, even though my Locale is <code>\"en_US.UTF-8\"</code>. The current locale settings are just guidelines for applications, but if the application ignores the locale settings it is nothing that stops them from doing that.</p>\n\n<p>So if you are unsure if filenames returned from <code>readdir</code> are using NFC or NFD, you should always decompose after you have decoded them:</p>\n\n<pre><code>use Unicode::Normalize;\nprint \"found\\n\" if NFD( $filename_read ) eq NFD( filename );\n</code></pre>\n\n<p>See also <a href=\"http://www.perl.com/pub/2012/04/perl-unicode-cookbook-always-decompose-and-recompose.html\" rel=\"noreferrer\">Perl Unicode Cookbook</a> section \"Always Decompose and Recompose\".</p>\n\n<p>Finally, to understand more about how the Locale works together with Unicode in Perl, you could have a look at:</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/pod/distribution/perl/pod/perllocale.pod#Unicode-and-UTF-8\" rel=\"noreferrer\">perllocale</a>, section \"Unicode and UTF-8\", and</li>\n<li><a href=\"https://metacpan.org/pod/Encode::Locale\" rel=\"noreferrer\">Encode::Locale</a>.</li>\n</ul>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1992, "favorite_count": 3, "accepted_answer_id": 37087243, "answer_count": 1, "score": 8, "last_activity_date": 1465509477, "creation_date": 1462362801, "last_edit_date": 1462384017, "question_id": 37027051, "link": "https://stackoverflow.com/questions/37027051/in-what-encoding-does-readdir-return-a-filename", "title": "In what encoding does readdir return a filename?", "body": "<p>Here's a Perl script that I have expected to print <code>found</code> when executed:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse utf8;\nuse Encode;\n\nuse constant filename =&gt; 'B\u00e4rlauch';\n\nopen (my $out, '&gt;', filename) or die;\nclose $out;\n\nopendir(my $dir, '.') or die;\nwhile (my $filename_read = readdir($dir)) {\n# $filename_read = encode('utf8', $filename_read);\n  print \"found\\n\" if $filename_read eq filename;\n}\n</code></pre>\n\n<p>The script first creates a file with the name of the constant <code>filename</code>. (After running the script, I can verify the existence of the file with <code>ls</code> and the file is not created with \"funny\" characters.)</p>\n\n<p>Then the script iterates over the files in the the current working directory and prints <code>found</code> if there is a file whose name is equal to the file just created. This should obviously be the case.</p>\n\n<p>However, it doesn't (Ubuntu, bash, <code>LANG=en_US.UTF8</code>)</p>\n\n<p>If I change the constant to <code>Barlauch</code>, it works as expected and prints <code>found</code>.</p>\n\n<p>Uncommenting <code>$filename_read = encode('utf8', $filename_read);</code> does not change the behavior.</p>\n\n<p>Is there an explanation for this and what do I do have to do in order to recognize a filename with Umlaute in it?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1462355388, "post_id": 37024065, "comment_id": 61598654, "body": "<a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\">metacpan.org/pod/XML::LibXML</a> ?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1462355969, "post_id": 37024065, "comment_id": 61599030, "body": "@jm666: We didn&#39;t use any XML module instead of regex only. Might be trying to get output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1462356327, "post_id": 37024065, "comment_id": 61599292, "body": "@ssr1012: It&#39;s a very bad idea to try to do this with regular expressions, and I doubt if you&#39;re going to get anyone to help to to write a solution that way. Why can&#39;t you use <code>XML::LibXML</code> or <code>XML::Twig</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462356573, "post_id": 37024065, "comment_id": 61599477, "body": "@Borodin: Till date we didn&#39;t use XML modules AND we lack of knowledge in the same. Just we are trying to support the users for avoiding the manual task. Yes I am go through the modules hereafter. Thanks."}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1462357796, "post_id": 37024065, "comment_id": 61600345, "body": "I agree with @Borodin, this is <b>not</b> a ask for regexs. Bite the bullet now and learn how to use a XML module."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 0, "creation_date": 1462358613, "post_id": 37024065, "comment_id": 61600959, "body": "@Henrik: Yes. we have started...."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1462359932, "post_id": 37024065, "comment_id": 61601918, "body": "Also <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">Parsing XML with regex</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1467563056, "last_edit_date": 1467563056, "creation_date": 1462359098, "answer_id": 37025624, "question_id": 37024065, "link": "https://stackoverflow.com/questions/37024065/need-the-maximum-value-in-label-element-in-list-using-perl/37025624#37025624", "title": "Need the maximum value in label element in list using perl", "body": "<p>While it is possible to add a new XML element with a name of <code>max-val-5</code> it is highly irregular to put information into the <em>name</em> of an element. It's also illegal to have two root elements in an XML element, so I've wrapped your code in a <code>&lt;root&gt;...&lt;/root&gt;</code> element and added a new element that looks like `</p>\n\n<p>This solution uses the <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a> module, which I think is a little easier to use than <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a>, especially for outputting XML, and has all of its documentation on a single page</p>\n\n<p>I hope you'll agree that it's very straightforward compared with a regex solution</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse XML::Twig;\nuse List::Util 'max';\n\nmy $twig = XML::Twig-&gt;new( pretty_print =&gt; 'indented' );\n$twig-&gt;parsefile('test.xml');\n\nmy $max_label = max $twig-&gt;findvalues('//label');\n\nmy $max_element = XML::Twig::Elt-&gt;new( max =&gt; { value =&gt; $max_label } );\n\n$max_element-&gt;paste( first_child =&gt; $twig-&gt;root);\n\n$twig-&gt;print;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n  &lt;max value=\"5\"/&gt;\n  &lt;list id=\"list1\" spitype=\"num\"&gt;\n    &lt;list-item&gt;\n      &lt;label&gt;1&lt;/label&gt;\n      &lt;para&gt;&lt;/para&gt;\n    &lt;/list-item&gt;\n    &lt;list-item&gt;\n      &lt;label&gt;2&lt;/label&gt;\n      &lt;para&gt;&lt;/para&gt;\n      &lt;list id=\"list1-1\" spitype=\"num\"&gt;\n        &lt;list-item&gt;\n          &lt;label&gt;1&lt;/label&gt;\n          &lt;para&gt;&lt;/para&gt;\n        &lt;/list-item&gt;\n        &lt;list-item&gt;\n          &lt;label&gt;2&lt;/label&gt;\n          &lt;para&gt;&lt;/para&gt;\n        &lt;/list-item&gt;\n        &lt;list-item&gt;\n          &lt;label&gt;3&lt;/label&gt;\n          &lt;para&gt;&lt;/para&gt;\n        &lt;/list-item&gt;\n      &lt;/list&gt;\n    &lt;/list-item&gt;\n    &lt;list-item&gt;\n      &lt;label&gt;3&lt;/label&gt;\n      &lt;para&gt;&lt;/para&gt;\n    &lt;/list-item&gt;\n    &lt;list-item&gt;\n      &lt;label&gt;4&lt;/label&gt;\n      &lt;para&gt;&lt;/para&gt;\n    &lt;/list-item&gt;\n    &lt;list-item&gt;\n      &lt;label&gt;5&lt;/label&gt;\n      &lt;para&gt;&lt;/para&gt;\n    &lt;/list-item&gt;\n  &lt;/list&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 37025624, "answer_count": 1, "score": 0, "last_activity_date": 1467563056, "creation_date": 1462355080, "question_id": 37024065, "link": "https://stackoverflow.com/questions/37024065/need-the-maximum-value-in-label-element-in-list-using-perl", "title": "Need the maximum value in label element in list using perl", "body": "<p>The below provided list's as contains nested list. I need to fetch the maximum level value in &lt;label&gt; element and insert the value before the &lt;list&gt; element where the attribute appears as 'type=\"num\"'.</p>\n\n<p>For Example:</p>\n\n<p>INPUT:</p>\n\n<pre><code> &lt;list spitype=\"num\" id=\"list1\"&gt;\n    &lt;list-item&gt;&lt;label&gt;1&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;2&lt;/label&gt;&lt;para&gt;&lt;/para&gt;\n       &lt;list spitype=\"num\" id=\"list1-1\"&gt;\n      &lt;list-item&gt;&lt;label&gt;1&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n      &lt;list-item&gt;&lt;label&gt;2&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n      &lt;list-item&gt;&lt;label&gt;3&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n       &lt;/list&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;3&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;4&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;5&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n &lt;/list&gt;\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code> **&lt;max-val-5/&gt;**\n &lt;list spitype=\"num\" id=\"list1\"&gt;\n    &lt;list-item&gt;&lt;label&gt;1&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;2&lt;/label&gt;&lt;para&gt;&lt;/para&gt;\n         **&lt;max-val-3/&gt;**\n     &lt;list spitype=\"num\" id=\"list1-1\"&gt;\n      &lt;list-item&gt;&lt;label&gt;1&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n      &lt;list-item&gt;&lt;label&gt;2&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n      &lt;list-item&gt;&lt;label&gt;3&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n       &lt;/list&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;3&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;4&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n    &lt;list-item&gt;&lt;label&gt;5&lt;/label&gt;&lt;para&gt;&lt;/para&gt;&lt;/list-item&gt;\n &lt;/list&gt;\n</code></pre>\n\n<p>I have wrote this below code however I didn't get the output. The nested list doesn't not covered on this one. Could you please anyone can help on this will be appreciate.</p>\n\n<pre><code>$incnt=~s{(&lt;list(?: |&gt;)[^&gt;]*&gt;((?:(?!&lt;\\/list&gt;).)*)&lt;\\/list&gt;)}{\nmy $list=$1; my ($sbpre,$sbmatch,$sbpost,$slmatch,$LblWidthVal) = \"\";\nif($list=~m/&lt;list(?: |&gt;)[^&gt;]*type=\"num\"[^&gt;]*&gt;/g)\n{\n    $sbpre=$sbpre.$`; $sbmatch=$&amp;; $sbpost=$';\n    $slmatch=$1 while($list=~m/&lt;label&gt;([^&lt;&gt;]*)&lt;\\/label&gt;/sg);\n    $slmatch=~s/[.,:;\\(\\)\\[\\]\\{\\}]*//g;\n    $LblWidthVal = \"&lt;max-val-$slmatch/&gt;\";\n    $sbmatch = $LblWidthVal.\"\\n\".$sbmatch;\n    $sbpre = $sbpre.$sbmatch; $list = $sbpost;\n}\nif(length $sbpre) {  $list = $sbpre.$sbpost;  }\n\"$list\";}igse;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 2, "creation_date": 1462353356, "post_id": 37023297, "comment_id": 61597175, "body": "You need to scape the column (<code>|</code>) to match the column character. Otherwise is interpreted as an <i>or</i>. Try with <code>&#47;test1\\|value1&#47;</code>"}, {"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1462353983, "post_id": 37023297, "comment_id": 61597657, "body": "Ah great spot, thank you - Please add this as an answer."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1462356066, "post_id": 37023297, "comment_id": 61599097, "body": "If you want just find (any)one matched value, you don&#39;t need <code>grep</code> the whole array. Especially on the large arrays."}], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 5, "last_activity_date": 1462354868, "last_edit_date": 1462354868, "creation_date": 1462354376, "answer_id": 37023796, "question_id": 37023297, "link": "https://stackoverflow.com/questions/37023297/perl-grep-exact-value-in-array/37023796#37023796", "title": "Perl grep exact value in array", "body": "<p>Pipe <code>|</code> inside a regex is interpreted as <code>or</code>. It is documented in <a href=\"http://perldoc.perl.org/perlreref.html#SYNTAX\"><code>perlreref</code></a>.</p>\n\n<blockquote>\n  <p><code>|       Matches either the subexpression preceding or following it</code></p>\n</blockquote>\n\n<p>So, If you want to match the words containing <code>|</code> you need to escape it inside regex. Now It is <code>OK</code>, but there is one problem it will also match <code>test1|value1someothervalue</code> or <code>someothervaluetest1|value1</code> or <code>someothervaluetest1|value1someothervalue</code> etc.</p>\n\n<p>But, you told you need exact match <code>test1|value1</code>. So, again from <a href=\"http://perldoc.perl.org/perlreref.html#SYNTAX\"><code>perlreref</code></a> you need anchor <code>^</code> and dollar <code>$</code> before and after your regex.</p>\n\n<blockquote>\n<pre><code> ^       Matches at the beginning of the string (or line, if /m is used)\n $       Matches at the end of the string (or line, if /m is used)\n</code></pre>\n</blockquote>\n\n<p>So, It will become:</p>\n\n<pre><code>if (grep(/^test1\\|value1$/, @array)) {\n    print \"Found\\n\";\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 1, "last_activity_date": 1462354481, "creation_date": 1462354481, "answer_id": 37023842, "question_id": 37023297, "link": "https://stackoverflow.com/questions/37023297/perl-grep-exact-value-in-array/37023842#37023842", "title": "Perl grep exact value in array", "body": "<p>No need to use <code>grep</code></p>\n\n<pre><code>use feature qw(say);\n\nmy @array = qw(test1|value1\n               test2|value2\n               test3|value3);\n\nforeach(@array){\n       say \"Found\" if /test1\\|value1/;\n}\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1558, "favorite_count": 0, "accepted_answer_id": 37023796, "answer_count": 2, "score": 1, "last_activity_date": 1462354868, "creation_date": 1462353105, "question_id": 37023297, "link": "https://stackoverflow.com/questions/37023297/perl-grep-exact-value-in-array", "title": "Perl grep exact value in array", "body": "<p>I have the following values in an array:</p>\n\n<pre><code>test1|value1\ntest2|value2\ntest3|value3\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>if (grep(/test1|value1/, @array)) {\n    print \"Found\";\n}\n</code></pre>\n\n<p>I want the above code to only find exact match of \"test1|value1\" but it is returning found even if I run:</p>\n\n<pre><code>if (grep(/test3|value4/, @array)) {\n    print \"Found\";\n}\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1462344466, "post_id": 37020336, "comment_id": 61591708, "body": "Please indent your whole code and I think this is a warning rather than error."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1462345639, "creation_date": 1462345639, "answer_id": 37020750, "question_id": 37020336, "link": "https://stackoverflow.com/questions/37020336/use-of-uninitialized-value-no-issue0-in-join-or-string-at-db-connect-pl-line/37020750#37020750", "title": "Use of uninitialized value $no_issue[0] in join or string at db_connect.pl line 146", "body": "<p>The problem is here</p>\n\n<pre><code>push (@no_issue, $_);\n\nprint \"value is greater @no_issue \\n\";\n</code></pre>\n\n<p>You are pushing <code>$_</code> onto the array <code>@no_issue</code> but there is no preceding code that sets <code>$_</code> so you are pushing <code>undef</code> and then trying to print it, giving rise to a <em>Use of uninitialized value</em> error</p>\n\n<p>I can't tell what values you want in that array, but presumably it's one of the elements of <code>@row</code>?</p>\n"}], "owner": {"reputation": 27, "user_id": 4290319, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/4074fc448755c9ed5d1b7195da5b8aa1?s=128&d=identicon&r=PG&f=1", "display_name": "PANDIA LAKSHMANAN", "link": "https://stackoverflow.com/users/4290319/pandia-lakshmanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462345639, "creation_date": 1462344218, "last_edit_date": 1462345120, "question_id": 37020336, "link": "https://stackoverflow.com/questions/37020336/use-of-uninitialized-value-no-issue0-in-join-or-string-at-db-connect-pl-line", "title": "Use of uninitialized value $no_issue[0] in join or string at db_connect.pl line 146", "body": "<p>I am trying to read some data from array and checking the 2 column, if it satisfy my condition I need to load entire row into another array, while doing that am getting error like</p>\n\n<blockquote>\n  <p><em>Use of uninitialized value $no_issue[0] in join or string at\n  db_connect.pl line 146.</em></p>\n</blockquote>\n\n<p>I have given my code below: </p>\n\n<pre><code>while (my @row = $processed_sql-&gt;fetchrow_array)\n        {\n            #print \"sq_no: $row[0] hie_key:$row[1] today: $row[2] table_name: $row[3] batch_id: $row[4] table_count: $row[5] pre_count: $row[6]\\n\";\n        ############################################################\n        my $table_name = $row[3];\n        my $batch_id = $row[4];\n        my $table_count = $row[5];\n        my $pre_count=$row[6];\n        our @no_issue;\n        #my $nvalue;\n\n        #print \"$table_name,$table_count\\n\";\n\n    if($table_count &gt;= $pre_count)\n\n    {\n\n        push (@no_issue,$_);\n\n        **print \"value is greater @no_issue \\n\";**\n    }\n    else\n    {\n        print \"jkdlkjfa\\n\";\n    }\n\n    }\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1462344454, "post_id": 37020287, "comment_id": 61591703, "body": "<code>floor</code> is different from <code>int</code> for negative numbers. <code>int</code> rounds towards zero while <code>floor</code> rounds towards \u2212\u221e"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 2, "last_activity_date": 1462345597, "last_edit_date": 1462345597, "creation_date": 1462344074, "answer_id": 37020287, "question_id": 37020135, "link": "https://stackoverflow.com/questions/37020135/perl-floor-function-giving-error-undefined-subroutine-mainfloor/37020287#37020287", "title": "perl floor function giving error undefined subroutine &amp;main::floor", "body": "<p><code>floor</code> is spelt <code>int</code> in perl:</p>\n\n<pre><code>my $num = 22.8;\nmy $floor = int($num);\nsay $floor;\n# =&gt; 22\n</code></pre>\n\n<p>... but be aware - as Borodin pointed out in the comments - that <code>int</code> rounds towards 0 which will give a different results for negative numbers.</p>\n\n<p>Alternatively, you can use the POSIX version;</p>\n\n<pre><code>use POSIX qw/floor/;\n\nmy $num = 22.6;\nmy $floor = floor($num);\nsay $floor;\n# =&gt; 22\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1467554783, "last_edit_date": 1467554783, "creation_date": 1462344334, "answer_id": 37020374, "question_id": 37020135, "link": "https://stackoverflow.com/questions/37020135/perl-floor-function-giving-error-undefined-subroutine-mainfloor/37020374#37020374", "title": "perl floor function giving error undefined subroutine &amp;main::floor", "body": "<p><code>floor</code> isn't a built-in operator in Perl</p>\n\n<p>You can use the <a href=\"https://metacpan.org/pod/Math::Utils\" rel=\"nofollow\"><code>Math::Utils</code></a> module like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Math::Utils 'floor';\n\nsay floor(1.5);\nsay floor(-1.5);\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1\n-2\n</code></pre>\n\n<p>You may need to install <code>Math::Utils</code> as it is not a core module. The <a href=\"https://metacpan.org/pod/POSIX\" rel=\"nofollow\"><code>POSIX</code></a> module also has a <code>floor</code> function and should be installed as part of Perl so you can use that by writing <code>use POSIX 'floor'</code> instead. But it's a huge module that contains a lot of functions that you won't need. On my system, <code>Math::Utils</code> occupies 1MB compared to 1.7MB for POSIX. The choice is yours</p>\n\n<p>Alternatively you can write your own <code>floor</code> subroutine in terms of the built-in operator <code>int</code></p>\n\n<pre><code>sub floor {\n    my ($n) = @_;\n    my $int_n = int($n);\n    $n &lt; 0 &amp;&amp; $int_n != $n ? $int_n - 1: $int_n;\n}\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 1163153, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cda8bb97c45f51587474460f34d90b8a?s=128&d=identicon&r=PG", "display_name": "Curious", "link": "https://stackoverflow.com/users/1163153/curious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1601, "favorite_count": 0, "accepted_answer_id": 37020287, "answer_count": 2, "score": 1, "last_activity_date": 1467554783, "creation_date": 1462343570, "question_id": 37020135, "link": "https://stackoverflow.com/questions/37020135/perl-floor-function-giving-error-undefined-subroutine-mainfloor", "title": "perl floor function giving error undefined subroutine &amp;main::floor", "body": "<p>I'm new to perl and following piece of code is not working and getting the following error. I tried googling but coundn't get any solution.</p>\n\n<pre><code>$halfSize = floor($halfSize);\n</code></pre>\n\n<p>Undefined subroutine &amp;main::floor called </p>\n"}, {"tags": ["windows", "perl", "installation"], "answers": [{"comments": [{"owner": {"reputation": 286, "user_id": 6279757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uOSuk.jpg?s=128&g=1", "display_name": "illeas", "link": "https://stackoverflow.com/users/6279757/illeas"}, "edited": false, "score": 0, "creation_date": 1462340558, "post_id": 37018508, "comment_id": 61589855, "body": "Thanks i complete create an Ubuntu virtual machine on VirtualBox then info you please next step setup info me..! thanks regard."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 286, "user_id": 6279757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uOSuk.jpg?s=128&g=1", "display_name": "illeas", "link": "https://stackoverflow.com/users/6279757/illeas"}, "edited": false, "score": 0, "creation_date": 1462341453, "post_id": 37018508, "comment_id": 61590248, "body": "@illeas: It is all explained in the link I gave you"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 286, "user_id": 6279757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uOSuk.jpg?s=128&g=1", "display_name": "illeas", "link": "https://stackoverflow.com/users/6279757/illeas"}, "edited": false, "score": 0, "creation_date": 1462342289, "post_id": 37018508, "comment_id": 61590603, "body": "@illeas: I&#39;ve added to my answer"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1462342260, "last_edit_date": 1462342260, "creation_date": 1462336229, "answer_id": 37018508, "question_id": 37018254, "link": "https://stackoverflow.com/questions/37018254/how-to-install-koha-in-my-windows-8-1-with-xampp/37018508#37018508", "title": "How to install koha in my windows 8.1 with xampp....?", "body": "<p>As you're probably aware, since you have VirtualBox installed, you can't run Koha on Windows -- it needs a Linux platform</p>\n\n<p>You should create an Ubuntu virtual machine on VirtualBox, and then I suggest you take a look at the installation instructions <a href=\"https://wiki.koha-community.org/wiki/Koha_on_ubuntu_-_packages\" rel=\"nofollow\"><em>Koha on Ubuntu</em></a></p>\n\n<p>Essentially it boils down to these command-line operations</p>\n\n<pre><code>echo deb http://debian.koha-community.org/koha stable main | sudo tee /etc/apt/sources.list.d/koha.list\n\nwget -O- http://debian.koha-community.org/koha/gpg.asc | sudo apt-key add -\n\nsudo apt-get install koha-common\n</code></pre>\n"}], "owner": {"reputation": 286, "user_id": 6279757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uOSuk.jpg?s=128&g=1", "display_name": "illeas", "link": "https://stackoverflow.com/users/6279757/illeas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 1, "accepted_answer_id": 37018508, "answer_count": 1, "score": 1, "last_activity_date": 1516596373, "creation_date": 1462334882, "last_edit_date": 1462377055, "question_id": 37018254, "link": "https://stackoverflow.com/questions/37018254/how-to-install-koha-in-my-windows-8-1-with-xampp", "title": "How to install koha in my windows 8.1 with xampp....?", "body": "<p>I have windows, xampp and oracle_VM_Virtual Box. How can I install koha and where do I find this file? </p>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462335657, "post_id": 37018236, "comment_id": 61588181, "body": "This works fine for me. Please check which statement in your code is causing the error. What is the output from <code>perl -MLWP -E &#39;say $LWP::VERSION&#39;</code> and <code>perl -MWWW::Mechanize -E &#39;say $WWW::Mechanize::VERSION&#39;</code>? Note that you should <i>always</i> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program you write. There is no point in using <code>my</code> at all without <code>use strict</code> in place, and there is no need for <code>-w</code> on the shebang line"}, {"owner": {"reputation": 75, "user_id": 6288281, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0d9fa87ed423ff445cfe847dce6b61e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6288281/zachary"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462336218, "post_id": 37018236, "comment_id": 61588355, "body": "$LWP::VERSION give me &quot;Can&#39;t locate object method &quot;say&quot; via package &quot;6.15&quot; (perhaps you forgot to load &quot;6.15&quot;?&quot; and Mechanize::VERSION is 1.75"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462336282, "post_id": 37018236, "comment_id": 61588383, "body": "You must have a very old version of Perl?"}, {"owner": {"reputation": 75, "user_id": 6288281, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0d9fa87ed423ff445cfe847dce6b61e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6288281/zachary"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462336520, "post_id": 37018236, "comment_id": 61588466, "body": "I just install from <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">strawberryperl.com</a> this morning with the version of Strawberry Perl 5.22.1.3 (64bit)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462336561, "post_id": 37018236, "comment_id": 61588479, "body": "Then did you use a capital <code>E</code> in <code>-E &#39;say ... &#39;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462336682, "post_id": 37018236, "comment_id": 61588523, "body": "Anyway, I have the information I need, and you have the same versions as I do. I have no idea why your code could possibly fail on your system while it works on mine. You will need to discover which statement is causing the error as I said. It may be that everything works as long as the login fails."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462343049, "post_id": 37019916, "comment_id": 61590961, "body": "<i>&quot;Your page is opening in some other language other than English&quot;</i> how did you diagnose that?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462343135, "post_id": 37019916, "comment_id": 61590997, "body": "I opened that page from India. It was opening in <code>Marathi</code>(local langauage in India) and I was getting same error as OP."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462343196, "post_id": 37019916, "comment_id": 61591037, "body": "So how does that cause <i>&quot;Can&#39;t call method &quot;header&quot; on an undefined value&quot;</i>?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462343330, "post_id": 37019916, "comment_id": 61591101, "body": "When the page opened in Marathi, The submit button became like this in form <code>&lt;input id=&quot;u_0_w&quot; type=&quot;submit&quot; tabindex=&quot;4&quot; value=&quot;\u0932\u0949\u0917 \u0907\u0928&quot;&gt;</code>. So, there is no button with value <code>$mech-&gt;click_button(value =&gt; &#39;Log In&#39;);</code> to which OP is pointing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462343585, "post_id": 37019916, "comment_id": 61591232, "body": "Ah I see! Yes, that makes sense. If I open <code>mr-in.facebook.com</code> then the submit button is called <code>\u0932\u0949\u0917 \u0907\u0928</code>. The better way would probably be to use <code>$mech-&gt;submit_form( with_fields =&gt; { email =&gt; &#39;xxx@xxx.com&#39;, pass =&gt; &#39;xxxxxxx&#39; })</code> as the <code>email</code> and <code>pass</code> field names aren&#39;t translated. Thanks for your explanation"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462343643, "post_id": 37019916, "comment_id": 61591257, "body": "@Borodin, Yep Right."}, {"owner": {"reputation": 75, "user_id": 6288281, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0d9fa87ed423ff445cfe847dce6b61e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6288281/zachary"}, "edited": false, "score": 0, "creation_date": 1462344308, "post_id": 37019916, "comment_id": 61591621, "body": "Thanks, it works now, I keep on testing with log for an hour to find out why only mine is not working"}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1462343839, "last_edit_date": 1462343839, "creation_date": 1462342716, "answer_id": 37019916, "question_id": 37018236, "link": "https://stackoverflow.com/questions/37018236/cant-call-method-header-on-an-undefined-value-at-www-mechanize-pm-line-2566/37019916#37019916", "title": "Can&#39;t call method &quot;header&quot; on an undefined value at WWW/Mechanize.pm line 2566", "body": "<p>Your page is opening in some other language other than English. That's why you are getting that error. If you will open the page in English forcefully then the error will disappear. Try below address: </p>\n\n<pre><code>$mech-&gt;get( \"https://en-gb.facebook.com/\" );\n</code></pre>\n\n<p>or, you may click directly on instance of <code>HTML::Form::SubmitInput</code> obtained using this:</p>\n\n<pre><code>$mech-&gt;current_form()-&gt;find_input( undef, 'submit');\n</code></pre>\n\n<p>or, as there is only one click button in the form you can use <code>click</code> with no arguments.</p>\n\n<pre><code>$mech-&gt;click() \n</code></pre>\n\n<p>or as suggested by @Borodin you can directly use(as the email and password field aren't translated):</p>\n\n<pre><code>$mech-&gt;submit_form( with_fields =&gt; { \n                        email =&gt; 'xxx@xxx.com', \n                        pass =&gt; 'xxxxxxx' \n                    }\n                  );\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 6288281, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0d9fa87ed423ff445cfe847dce6b61e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary", "link": "https://stackoverflow.com/users/6288281/zachary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 1, "accepted_answer_id": 37019916, "answer_count": 1, "score": 2, "last_activity_date": 1462343984, "creation_date": 1462334763, "last_edit_date": 1462335264, "question_id": 37018236, "link": "https://stackoverflow.com/questions/37018236/cant-call-method-header-on-an-undefined-value-at-www-mechanize-pm-line-2566", "title": "Can&#39;t call method &quot;header&quot; on an undefined value at WWW/Mechanize.pm line 2566", "body": "<p>I am just doing a testing using <code>WWW::Mechanize</code> module on Facebook, when I try to run the code below, it return me an error </p>\n\n<blockquote>\n  <p><strong>Can't call method \"header\" on an undefined value at C:/Strawberry/perl/vendor/lib/WWW/Mechanize.pm line 2566.</strong></p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl -w\nuse WWW::Mechanize;\nmy $mech = WWW::Mechanize-&gt;new();\n# Connect to server\n$mech-&gt;get( \"https://www.facebook.com\" );\n$mech-&gt;success or die $mech-&gt;response-&gt;status_line;\n\n# Log into server\n\n$mech-&gt;field('email', 'xxx@xxx.com');\n$mech-&gt;field('pass', 'xxxxxxx');\n$mech-&gt;click_button(value =&gt; 'Log In');\n</code></pre>\n"}, {"tags": ["c", "perl", "cgi", "wrapper"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462334459, "post_id": 37017706, "comment_id": 61587869, "body": "This sort of thing is usually because the CGI program is dying, and the <i>&quot;Premature end of headers&quot;</i> just means it&#39;s not printing anything. Have you checked that both the C executable and the Perl script are executable by the system? I&#39;m unsure why you&#39;re running a C program for your CGI. Won&#39;t your server handle Perl code directly? I suggest you modify your C program to just print <code>&quot;Content-type: text&#47;plain\\n\\nTest succeeded\\n&quot;;</code> instead of trying to run your Perl program. That will eliminate the C code if it is successful"}, {"owner": {"reputation": 11221, "user_id": 436559, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8d6b535e4fadefca3e9cab9b6b1ee49b?s=128&d=identicon&r=PG", "display_name": "fluter", "link": "https://stackoverflow.com/users/436559/fluter"}, "edited": false, "score": 0, "creation_date": 1462334482, "post_id": 37017706, "comment_id": 61587879, "body": "Check out the solution here <a href=\"http://stackoverflow.com/questions/17583341/error-500-premature-end-of-script-headers\" title=\"error 500 premature end of script headers\">stackoverflow.com/questions/17583341/&hellip;</a>, e.g. was the permission bits of the cgi program right?"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 1, "creation_date": 1462337180, "post_id": 37017706, "comment_id": 61588707, "body": "What makes you think you need that wrapper?"}, {"owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "edited": false, "score": 0, "creation_date": 1462342161, "post_id": 37017706, "comment_id": 61590540, "body": "Definitely not a permissions issue. C Wrapper is required to make the CGI executable as the owner of the file when served from the web server rather than as the &#39;nobody&#39; default user."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462359349, "post_id": 37017706, "comment_id": 61601468, "body": "I&#39;d guess it&#39;s a path problem, i.e. the C program doesn&#39;t <i>find</i> the Perl program. Try <code>#define REAL_PATH &quot;&#47;full&#47;path&#47;to&#47;ids.pl&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "is_accepted": true, "score": 0, "last_activity_date": 1462493194, "creation_date": 1462493194, "answer_id": 37062199, "question_id": 37017706, "link": "https://stackoverflow.com/questions/37017706/perl-cgi-with-c-wrapper/37062199#37062199", "title": "Perl CGI with C Wrapper", "body": "<p>I wasn't compiling the C Wrapper on the actual server therefore getting different machine codes which weren't compatible. Unfortunately, the server denied to compile it originally and I forgot when it did that it had to be compiled on that machine. Doh me!</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1462494353, "last_edit_date": 1495535316, "creation_date": 1462493833, "answer_id": 37062287, "question_id": 37017706, "link": "https://stackoverflow.com/questions/37017706/perl-cgi-with-c-wrapper/37062287#37062287", "title": "Perl CGI with C Wrapper", "body": "<p>Like any system call, you should always be checking for an error from <code>execl()</code>. Normally you'd look at the return value, but it's not necessary because success will terminate the program.</p>\n\n<pre><code>execl( REAL_PATH, REAL_PATH, 0 );\nperror(\"exec of '\"REAL_PATH\"' failed\");\n</code></pre>\n\n<p>This uses <a href=\"http://www.tutorialspoint.com/ansi_c/c_perror.htm\" rel=\"nofollow noreferrer\"><code>perror</code></a> to handle turning <code>errno</code> into a human readable error string and printing it to stderr.</p>\n\n<p>I'd also avoid using <code>#define</code> for string constants, they're awkward to work with. Instead use <code>static const char REAL_PATH[] = \"ids.pl\"</code> as suggested in <a href=\"https://stackoverflow.com/a/1431607/14660\">this answer</a>.</p>\n\n<p>And I don't understand why you need a C wrapper. Some sort of weird restriction on your web server running interpreted code?</p>\n"}], "owner": {"reputation": 97, "user_id": 4010164, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6e047ccfef3f6e0119f254d858bb2c12?s=128&d=identicon&r=PG&f=1", "display_name": "Rory Perry", "link": "https://stackoverflow.com/users/4010164/rory-perry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 37062199, "answer_count": 2, "score": 0, "last_activity_date": 1462494353, "creation_date": 1462331262, "question_id": 37017706, "link": "https://stackoverflow.com/questions/37017706/perl-cgi-with-c-wrapper", "title": "Perl CGI with C Wrapper", "body": "<p>Basis of the problem. I have a university assignment requiring me to write a Perl/CGI based website for a phonebook. This part is fine and I'm happy with it, however, I have issues with wrapping the cgi files. I've done it once before no issues but been unable to replicate that success this time doing the same thing.</p>\n\n<p>Basic Perl file to show user ID's:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse English;\n\nprint \"Content-type: text/html\";\n\nprint \"\\n\";\nprint \"\\n\";\nprint \"\\n\";\n\nprint \"&lt;html&gt;\\n\";\nprint \"&lt;head&gt;&lt;title&gt;IDS.CGI&lt;/title&gt;&lt;/head&gt;\\n\";\nprint \"&lt;body&gt;\\n\"; \nprint \"&lt;p&gt;\\nMy User ID is $UID\\n&lt;/p&gt;\";\nprint \"&lt;p&gt;\\nMy effective User ID is $EUID\\n&lt;/p&gt;\";\nprint \"&lt;p&gt;\\nMy Group ID is $GID\\n&lt;/p&gt;\";\nprint \"&lt;p&gt;\\nMy effective Group ID is $EGID\\n&lt;/p&gt;\";\nprint \"\\n&lt;/body&gt;\\n\";\nprint \"&lt;/html&gt;\\n\";\n</code></pre>\n\n<p>Wrapper.C:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n\n#define REAL_PATH \"ids.pl\"\n\nint\nmain()\n{\n    execl( REAL_PATH, REAL_PATH, 0 );\n    printf( \"You should never see this message!\\n\" );\n}\n</code></pre>\n\n<p>This is throwing an internal server error 500. I've tried my best to debug it including spacing for the headers etc. It runs fine in terminal but not in the web browsers. The servers httpd error log shows that the error of \"Premature end of headers\". I cannot see how there is a premature end however.</p>\n\n<p>Any help anyone can offer would be greatly appreciated.</p>\n"}, {"tags": ["perl", "hash", "hashset", "logfile"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1462318498, "post_id": 37014946, "comment_id": 61584132, "body": "Isn&#39;t this a <a href=\"http://stackoverflow.com/questions/36992311/print-records-from-log-file-using-perl-and-hash-data-structure\">duplicate</a>?"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1462358182, "post_id": 37014946, "comment_id": 61600646, "body": "@MattJacob yes but this is more updated and maybe better explained"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462379907, "post_id": 37031509, "comment_id": 61616943, "body": "For the first set of <code>???</code>, under attempts on IP,  in each entry I need to have the total frequency of the occurrences of that IP where that port makes use of that IP. As shown in my post <code>43041,succeeded,1,18, 44444,failed,1,1, -&gt; Since it is seen only once in logfile 46321,failed,1,18, 46321,succeeded,1,18,</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462380914, "post_id": 37031509, "comment_id": 61617583, "body": "@firepro20, That makes no sense. No IP address is associated with the row. Maybe you want <code>**IP**,Port,Status,**AttemptsOnIp**,**AttemptsOnIpAndPort**</code>? (Note that there will be duplicated data if you do that, which is why it&#39;s better to use two tables are you are already doing.)"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462399403, "post_id": 37031509, "comment_id": 61627700, "body": "So there is no way to associate first and second table so that the frequency 1,18 is assigned accordingly to each of the ports in the second table under colomn <code>AttemptsOnIP</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462399696, "post_id": 37031509, "comment_id": 61627812, "body": "The two tables have no fields in common. How do you propose to associate them. In other words, when should a row in the second table use <code>1</code> and when should it use <code>18</code>?"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462400028, "post_id": 37031509, "comment_id": 61627953, "body": "When an IP is using many src ports, thus the srcport outputted in second table can be associated with 1 or 18. A checker of some sort."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462403981, "post_id": 37031509, "comment_id": 61629192, "body": "I&#39;d that suppose to be an answer to my question? When should a row in the second table use <code>1</code> and when should it use <code>18</code>?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1462380967, "last_edit_date": 1462380967, "creation_date": 1462374147, "answer_id": 37031509, "question_id": 37014946, "link": "https://stackoverflow.com/questions/37014946/misinterpretation-with-hashes-in-perl-populating-from-log-file/37031509#37031509", "title": "Misinterpretation with hashes in perl, populating from log file", "body": "<p>Your output has the following fields:</p>\n\n<pre><code>Port,Status,AttemptOnPort,AttemptsOnIP,Malicious\n</code></pre>\n\n<p>Of those, the following form the grouping key:</p>\n\n<pre><code>Port,Status\n</code></pre>\n\n<p>Yet your hash is keyed by</p>\n\n<pre><code>Port,User,Status\n</code></pre>\n\n<p>So the first thing you must do is adjust the structure of <code>%rept</code>.</p>\n\n<hr>\n\n<p>You are also repeating the results for each IP address.</p>\n\n<p>The second thing you must do is remove that extra loop.</p>\n\n<hr>\n\n<p>The following is a cleaned up version of your code with the changes mentioned above:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy %by_ip;\nmy %rept;\nmy $prev_port;\nwhile (&lt;DATA&gt;) {\n    if (my ($ip, $port) = /New connection:\\s+([^:]+):(\\d+)/) {\n        ++$by_ip{$ip};\n        $prev_port = $port;\n    }\n    elsif ( my ($usr, $status) = /login \\s+ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)/x ) {\n        ++$rept{$prev_port}{$status}\n            if defined($prev_port);\n    }\n    else {\n        warn(\"Line with an unexpected format: $_\");\n    }\n}\n\nprint(join(',', qw( IP AttemptsOnIP )), \"\\n\");\nfor my $ip (sort keys(%by_ip)) {\n    print(join(',', $ip, $by_ip{$ip}), \"\\n\");\n}\n\nprint(\"\\n\");\n\nprint(join(',', qw( Port Status AttemptOnPort AttemptsOnIP Malicious )), \"\\n\");\nfor my $port (sort keys(%rept)) {\n    for my $status (sort keys(%{$rept{$port}})) {\n        print(join(',', $port, $status, $rept{$port}{$status}, '???', '???'), \"\\n\");\n    }\n}\n\n__DATA__\n2016-05-02 10:20:56+0000 [SSHService ssh-userauth on HoneyPotTransport,14,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:20:57+0000 [SSHService ssh-userauth on HoneyPotTransport,15,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:20:57+0000 [SSHService ssh-userauth on HoneyPotTransport,14,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:20:58+0000 [SSHService ssh-userauth on HoneyPotTransport,15,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:43:32+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:55157 (172.17.0.5:2222) [session: 43283650]\n2016-05-02 10:43:46+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:10319 (172.17.0.5:2222) [session: c7702f86]\n2016-05-02 10:43:53+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:46321 (172.17.0.5:2222) [session: fe7bb804]\n2016-05-02 10:43:57+0000 [SSHService ssh-userauth on HoneyPotTransport,17,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:43:58+0000 [SSHService ssh-userauth on HoneyPotTransport,17,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:43:59+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:18693 (172.17.0.5:2222) [session: d74eae96]\n2016-05-02 10:44:02+0000 [SSHService ssh-userauth on HoneyPotTransport,18,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:03+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:31130 (172.17.0.5:2222) [session: 3bde7820]\n2016-05-02 10:44:03+0000 [SSHService ssh-userauth on HoneyPotTransport,18,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:05+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:47417 (172.17.0.5:2222) [session: 3e177c02]\n2016-05-02 10:44:06+0000 [SSHService ssh-userauth on HoneyPotTransport,19,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:09+0000 [SSHService ssh-userauth on HoneyPotTransport,19,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:10+0000 [SSHService ssh-userauth on HoneyPotTransport,21,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:11+0000 [SSHService ssh-userauth on HoneyPotTransport,21,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:13+0000 [SSHService ssh-userauth on HoneyPotTransport,20,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:14+0000 [SSHService ssh-userauth on HoneyPotTransport,20,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:06:55+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:13849 (172.17.0.5:2222) [session: b20915b6]\n2016-05-02 11:07:06+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:61338 (172.17.0.5:2222) [session: cd38fe51]\n2016-05-02 11:07:14+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:23048 (172.17.0.5:2222) [session: 01b12825]\n2016-05-02 11:07:21+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:60563 (172.17.0.5:2222) [session: ad64232b]\n2016-05-02 11:07:26+0000 [SSHService ssh-userauth on HoneyPotTransport,23,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:07:27+0000 [SSHService ssh-userauth on HoneyPotTransport,23,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:07:33+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:53653 (172.17.0.5:2222) [session: 9c48415b]\n2016-05-02 11:07:41+0000 [SSHService ssh-userauth on HoneyPotTransport,26,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:07:47+0000 [SSHService ssh-userauth on HoneyPotTransport,26,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:12:25+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:18942 (172.17.0.5:2222) [session: a4dc4901]\n2016-05-02 11:12:34+0000 [SSHService ssh-userauth on HoneyPotTransport,27,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:12:36+0000 [SSHService ssh-userauth on HoneyPotTransport,27,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:40+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:40091 (172.17.0.5:2222) [session: aeb36234]\n2016-05-02 11:32:43+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:53505 (172.17.0.5:2222) [session: 9022c831]\n2016-05-02 11:32:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:15131 (172.17.0.5:2222) [session: cf62fb9a]\n2016-05-02 11:32:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:15853 (172.17.0.5:2222) [session: f2f6c254]\n2016-05-02 11:32:50+0000 [SSHService ssh-userauth on HoneyPotTransport,28,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:52+0000 [SSHService ssh-userauth on HoneyPotTransport,28,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:55+0000 [SSHService ssh-userauth on HoneyPotTransport,29,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:55+0000 [SSHService ssh-userauth on HoneyPotTransport,30,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:56+0000 [SSHService ssh-userauth on HoneyPotTransport,30,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:57+0000 [SSHService ssh-userauth on HoneyPotTransport,31,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:59+0000 [SSHService ssh-userauth on HoneyPotTransport,31,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:04+0000 [SSHService ssh-userauth on HoneyPotTransport,29,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:07+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:48713 (172.17.0.5:2222) [session: e1544c90]\n2016-05-02 11:33:15+0000 [SSHService ssh-userauth on HoneyPotTransport,32,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:33:18+0000 [SSHService ssh-userauth on HoneyPotTransport,32,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:19+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:43041 (172.17.0.5:2222) [session: 383f328c]\n2016-05-02 11:33:25+0000 [SSHService ssh-userauth on HoneyPotTransport,33,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:33:26+0000 [SSHService ssh-userauth on HoneyPotTransport,33,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:19+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 181.3.202.142:44444 (172.17.0.5:2222) [session: 383f328c]\n2016-05-02 11:33:25+0000 [SSHService ssh-userauth on HoneyPotTransport,33,181.3.202.142] login attempt [root/xyz] failed\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>AttemptsOnIP\n181.3.202.142,1\n183.3.202.172,18\n\nPort,Status,AttemptOnPort,AttemptsOnIP,Malicious\n15853,failed,4,???,???\n15853,succeeded,4,???,???\n18693,failed,1,???,???\n18942,failed,1,???,???\n18942,succeeded,1,???,???\n31130,succeeded,1,???,???\n43041,failed,1,???,???\n43041,succeeded,1,???,???\n44444,failed,1,???,???\n46321,failed,1,???,???\n46321,succeeded,1,???,???\n47417,failed,3,???,???\n47417,succeeded,3,???,???\n48713,failed,1,???,???\n48713,succeeded,1,???,???\n53653,failed,1,???,???\n53653,succeeded,1,???,???\n60563,failed,1,???,???\n60563,succeeded,1,???,???\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1462380967, "creation_date": 1462312080, "last_edit_date": 1462358082, "question_id": 37014946, "link": "https://stackoverflow.com/questions/37014946/misinterpretation-with-hashes-in-perl-populating-from-log-file", "title": "Misinterpretation with hashes in perl, populating from log file", "body": "<p>Below you can find the output on screen and the source code generating the problem</p>\n\n<pre><code>Use of uninitialized value $port in hash element at ./test3.prg line 26, &lt;LOG&gt; line 1.\nUse of uninitialized value $port in hash element at ./test3.prg line 26, &lt;LOG&gt; line 2.\nUse of uninitialized value $port in hash element at ./test3.prg line 26, &lt;LOG&gt; line 3.\nUse of uninitialized value $port in hash element at ./test3.prg line 26, &lt;LOG&gt; line 4.\nAttemptsOnIP\n181.3.202.142,1\n183.3.202.172,18\n\nPort,Status,AttemptOnPort,AttemptsOnIP,Malicious\n15853,failed,4,1,\n15853,succeeded,4,1,\n18693,failed,1,1,\n18942,failed,1,1,\n18942,succeeded,1,1,\n31130,succeeded,1,1,\n43041,failed,1,1,\n43041,succeeded,1,1,\n44444,failed,1,1,\n46321,failed,1,1,\n46321,succeeded,1,1,\n47417,failed,3,1,\n47417,succeeded,3,1,\n48713,failed,1,1,\n48713,succeeded,1,1,\n53653,failed,1,1,\n53653,succeeded,1,1,\n60563,failed,1,1,\n60563,succeeded,1,1,\n15853,failed,4,18,\n15853,succeeded,4,18,\n18693,failed,1,18,\n18942,failed,1,18,\n18942,succeeded,1,18,\n31130,succeeded,1,18,\n43041,failed,1,18,\n43041,succeeded,1,18,\n44444,failed,1,18,\n46321,failed,1,18,\n46321,succeeded,1,18,\n47417,failed,3,18,\n47417,succeeded,3,18,\n48713,failed,1,18,\n48713,succeeded,1,18,\n53653,failed,1,18,\n53653,succeeded,1,18,\n60563,failed,1,18,\n60563,succeeded,1,18,\n</code></pre>\n\n<p>This is the code</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $file = \"/home/tsec/prototype/logs/extractedlogs/cowrieresult.log\";\nopen (LOG, $file);\n\n# Assemble results for required output in data structure:\n# %rept = { $port =&gt; { $usr =&gt; { $status =&gt; $freq } };\n\nmy %by_ip;#new code\nmy %rept;\nmy ($ip, $port);\n\nwhile (my $line = &lt;LOG&gt;)\n{\n    if ($line =~ /New connection/) {\n        ($ip, $port) = $line =~ /New connection:\\s+([^:]+):(\\d+)/;\n        $by_ip{$ip}++;\n        next;\n    }\n\n    my ($usr, $status) =  $line =~ m/login\\ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)/x;\n    if ($usr and $status) {\n        $rept{$port}{$usr}{$status}++;\n        #$by_ip{$ip}{$usr}{$status}++; # first 4 lines in log dont have ip and port\n        # since they are login attempt not new connection.\n    }\n    else { warn \"Line with an unexpected format:\\n$line\" }\n}\n#close(LOG);\n#open (LOG, $file);\n#my $frequency = 0;\n#while (my $line = &lt;LOG&gt;){\n#       if($line =~ /login attempt/){\n\n        #split string, get the ip and match it with original $ip\n#       my ($testip) = (split /[\\s,:\\[\\]\\/]+/, $line)[-6];\n        #print \"$testip\\n\";\n        #this two lines above print ips from login attempt line.\n#       if($testip =~ /$ip/){\n#               $frequency++;\n#       }\n        #elsif($testip =~ /^(?!$ip)/) {\n                # stop frequency counter and start another one?\n        #       print \"$frequency\\n\";\n        #       $frequency = 0;\n        #}\n\n#       }\n#}\n#print \"$frequency\\n\";\n#close(LOG);\n\n#new code\nprint \"AttemptsOnIP\\n\";\n#foreach my $ip (sort keys %by_ip){\n#       foreach my $usr (sort keys %{$by_ip{$ip}}){\n#               foreach my $status (sort keys %{$rept{$usr}}){\n#                       print \"$ip,$by_ip{$ip}{$usr}{$status}\\n\";\n#               }\n#       }\n#}\n\n#new code\nforeach my $ip (sort keys %by_ip){\n        print \"$ip,$by_ip{$ip}\\n\";\n}\n\nprint \"\\n\";\n\n#new code\nprint \"Port,Status,AttemptOnPort,AttemptsOnIP,Malicious\\n\";\nforeach my $ip (sort keys %by_ip){\nforeach my $port (sort keys %rept) {\n    foreach my $usr (sort keys %{$rept{$port}}) {\n        foreach my $stat ( sort keys %{$rept{$port}{$usr}} ) {\n                if($port ne \"\"){\n\n                           print \"$port,$stat,$rept{$port}{$usr}{$stat},$by_ip{$ip},\\n\";\n\n                }\n        }\n   }\n\n}\n}\n#new code\n</code></pre>\n\n<p>And this is the logfile that I have</p>\n\n<pre><code>2016-05-02 10:20:56+0000 [SSHService ssh-userauth on HoneyPotTransport,14,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:20:57+0000 [SSHService ssh-userauth on HoneyPotTransport,15,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:20:57+0000 [SSHService ssh-userauth on HoneyPotTransport,14,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:20:58+0000 [SSHService ssh-userauth on HoneyPotTransport,15,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:43:32+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:55157 (172.17.0.5:2222) [session: 43283650]\n2016-05-02 10:43:46+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:10319 (172.17.0.5:2222) [session: c7702f86]\n2016-05-02 10:43:53+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:46321 (172.17.0.5:2222) [session: fe7bb804]\n2016-05-02 10:43:57+0000 [SSHService ssh-userauth on HoneyPotTransport,17,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:43:58+0000 [SSHService ssh-userauth on HoneyPotTransport,17,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:43:59+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:18693 (172.17.0.5:2222) [session: d74eae96]\n2016-05-02 10:44:02+0000 [SSHService ssh-userauth on HoneyPotTransport,18,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:03+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:31130 (172.17.0.5:2222) [session: 3bde7820]\n2016-05-02 10:44:03+0000 [SSHService ssh-userauth on HoneyPotTransport,18,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:05+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:47417 (172.17.0.5:2222) [session: 3e177c02]\n2016-05-02 10:44:06+0000 [SSHService ssh-userauth on HoneyPotTransport,19,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:09+0000 [SSHService ssh-userauth on HoneyPotTransport,19,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:10+0000 [SSHService ssh-userauth on HoneyPotTransport,21,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:11+0000 [SSHService ssh-userauth on HoneyPotTransport,21,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:13+0000 [SSHService ssh-userauth on HoneyPotTransport,20,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:14+0000 [SSHService ssh-userauth on HoneyPotTransport,20,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:06:55+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:13849 (172.17.0.5:2222) [session: b20915b6]\n2016-05-02 11:07:06+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:61338 (172.17.0.5:2222) [session: cd38fe51]\n2016-05-02 11:07:14+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:23048 (172.17.0.5:2222) [session: 01b12825]\n2016-05-02 11:07:21+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:60563 (172.17.0.5:2222) [session: ad64232b]\n2016-05-02 11:07:26+0000 [SSHService ssh-userauth on HoneyPotTransport,23,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:07:27+0000 [SSHService ssh-userauth on HoneyPotTransport,23,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:07:33+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:53653 (172.17.0.5:2222) [session: 9c48415b]\n2016-05-02 11:07:41+0000 [SSHService ssh-userauth on HoneyPotTransport,26,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:07:47+0000 [SSHService ssh-userauth on HoneyPotTransport,26,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:12:25+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:18942 (172.17.0.5:2222) [session: a4dc4901]\n2016-05-02 11:12:34+0000 [SSHService ssh-userauth on HoneyPotTransport,27,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:12:36+0000 [SSHService ssh-userauth on HoneyPotTransport,27,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:40+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:40091 (172.17.0.5:2222) [session: aeb36234]\n2016-05-02 11:32:43+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:53505 (172.17.0.5:2222) [session: 9022c831]\n2016-05-02 11:32:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:15131 (172.17.0.5:2222) [session: cf62fb9a]\n2016-05-02 11:32:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:15853 (172.17.0.5:2222) [session: f2f6c254]\n2016-05-02 11:32:50+0000 [SSHService ssh-userauth on HoneyPotTransport,28,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:52+0000 [SSHService ssh-userauth on HoneyPotTransport,28,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:55+0000 [SSHService ssh-userauth on HoneyPotTransport,29,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:55+0000 [SSHService ssh-userauth on HoneyPotTransport,30,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:56+0000 [SSHService ssh-userauth on HoneyPotTransport,30,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:57+0000 [SSHService ssh-userauth on HoneyPotTransport,31,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:59+0000 [SSHService ssh-userauth on HoneyPotTransport,31,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:04+0000 [SSHService ssh-userauth on HoneyPotTransport,29,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:07+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:48713 (172.17.0.5:2222) [session: e1544c90]\n2016-05-02 11:33:15+0000 [SSHService ssh-userauth on HoneyPotTransport,32,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:33:18+0000 [SSHService ssh-userauth on HoneyPotTransport,32,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:19+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:43041 (172.17.0.5:2222) [session: 383f328c]\n2016-05-02 11:33:25+0000 [SSHService ssh-userauth on HoneyPotTransport,33,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:33:26+0000 [SSHService ssh-userauth on HoneyPotTransport,33,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:33:19+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 181.3.202.142:44444 (172.17.0.5:2222) [session: 383f328c]\n2016-05-02 11:33:25+0000 [SSHService ssh-userauth on HoneyPotTransport,33,181.3.202.142] login attempt [root/xyz] failed\n</code></pre>\n\n<p>So basically, I want ports that are associated with IP X to have the total number of occurrences that IP has in the log file.</p>\n\n<p>So for instance I want this output with no repeating entries, unlike as shown in Pastebin</p>\n\n<pre><code>15853,failed,4,18,\n15853,succeeded,4,18,\n18693,failed,1,18,\n18942,failed,1,18,\n18942,succeeded,1,18,\n31130,succeeded,1,18,\n43041,failed,1,18,\n43041,succeeded,1,18,\n44444,failed,1,1, -&gt; Since it is seen only once in logfile\n46321,failed,1,18,\n46321,succeeded,1,18,\n47417,failed,3,18,\n47417,succeeded,3,18,\n48713,failed,1,18,\n48713,succeeded,1,18,\n53653,failed,1,18,\n53653,succeeded,1,18,\n60563,failed,1,18,\n60563,succeeded,1,18,\n</code></pre>\n\n<p>UPDATE: Migrated everything from paste bin to the post. I also want to get rid of the uninitialized value port</p>\n"}, {"tags": ["perl", "io", "hashmap"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1462308387, "last_edit_date": 1462308387, "creation_date": 1462307979, "answer_id": 37013948, "question_id": 37013909, "link": "https://stackoverflow.com/questions/37013909/creating-a-hashmap-using-perl-split-function/37013948#37013948", "title": "Creating a hashmap using perl split function", "body": "<p>You could replace</p>\n\n<pre><code>split / /, $info      # Fields are separated by a space.\n</code></pre>\n\n<p>with</p>\n\n<pre><code>split / +/, $info     # Fields are separated by spaces.\n</code></pre>\n\n<p>or the more general</p>\n\n<pre><code>split /\\s+/, $info    # Fields are separated by whitespace.\n</code></pre>\n\n<p>but you'd still face with the problem of the leading spaces. To ignore those, use</p>\n\n<pre><code>split ' ', $info\n</code></pre>\n\n<p>This special case splits on whitespace, ignoring leading whitespace.</p>\n\n<p>Don't forget to tell Perl that you expect at most two fields!</p>\n\n<pre><code>$ perl -E'say \"[$_]\" for split(\" \", \"  1   abc def ghi\", 2)'\n[1]\n[abc def ghi]\n</code></pre>\n\n<p>The other option would be to use the following:</p>\n\n<pre><code>$info =~ /^\\s*(\\S+)\\s+(\\S.*)/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "is_accepted": false, "score": 0, "last_activity_date": 1462337438, "creation_date": 1462337438, "answer_id": 37018729, "question_id": 37013909, "link": "https://stackoverflow.com/questions/37013909/creating-a-hashmap-using-perl-split-function/37018729#37018729", "title": "Creating a hashmap using perl split function", "body": "<p>First you clear initial white space use this</p>\n\n<pre><code>$info =~ s/^\\s+//g;\n</code></pre>\n\n<p>second you have more than 2 spaces in between integer and string so use split like this to give 2 space with plus</p>\n\n<pre><code>split/  +/,$info;\n</code></pre>\n\n<p>The code is</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %myHashMap;\n\nwhile(my $info = &lt;$fh&gt;){\n    chomp($info);\n    $info =~ s/^\\s+//g;\n    my ($int, $string) = split/  +/,$info;\n    $myHashMap{$int} = $string;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467569027, "last_edit_date": 1467569027, "creation_date": 1462338254, "answer_id": 37018883, "question_id": 37013909, "link": "https://stackoverflow.com/questions/37013909/creating-a-hashmap-using-perl-split-function/37018883#37018883", "title": "Creating a hashmap using perl split function", "body": "<p>You just need to split each line of text on whitespace into two fields</p>\n\n<p>This example program assumes that the input file is passed as a parameter on the command line. I have used <code>Data::Dump</code> only to show the resulting hash structure</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %data;\n\nwhile ( &lt;DATA&gt; ) {\n    s/\\s*\\z//;\n    my ($key, $val) = split ' ', $_, 2;\n    next unless defined $val;  # Ensure that there were two fields\n    $data{$key} = $val;\n}\n\nuse Data::Dump;\ndd \\%data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n  5   =&gt; \"this is a test\",\n  23  =&gt; \"this is another test\",\n  123 =&gt; \"this is the final test\",\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5518483, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10204257794678991/picture?type=large", "display_name": "Cody Bentson", "link": "https://stackoverflow.com/users/5518483/cody-bentson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1467569027, "creation_date": 1462307818, "question_id": 37013909, "link": "https://stackoverflow.com/questions/37013909/creating-a-hashmap-using-perl-split-function", "title": "Creating a hashmap using perl split function", "body": "<p>I am attempting to create a hashmap from a text file. The way the text file is set up is as follows.</p>\n\n<pre><code>(integer)&lt;-- varying white space --&gt; (string value) \n    .                .                      .\n    .                .                      .\n    .                .                      . \n(integer)&lt;-- varying white space --&gt; (string value)\n</code></pre>\n\n<p>eg:</p>\n\n<pre><code>   5           this is a test\n  23        this is another test\n 123         this is the final test\n</code></pre>\n\n<p>What I want to do is assign the key to the integer, and then the entire string following to the value. I was trying something along the lines of</p>\n\n<pre><code>%myHashMap;\n\nwhile(my $info = &lt;$fh&gt;){\n    chomp($info);\n    my ($int, $string) = split/ /,$info;\n    $myHashMap{$int} = $string;\n}\n</code></pre>\n\n<p>This doesn't work though because I have spaces in the string. Is there a way to clear the initial white space, grab the integer, assign it to $int, then clear white space till you get to the string, then take the remainder of the text on that line and place it in my $string value?</p>\n"}, {"tags": ["perl", "iis", "error-handling", "iis-7.5"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1462544791, "post_id": 37013837, "comment_id": 61694330, "body": "Stop! It&#39;s 2016. Please don&#39;t write web applications using CGI (or CGI.pm). Perl has perfectly good modern tools for writing web applications. Look at PSGI and Plack."}], "owner": {"reputation": 51, "user_id": 6227274, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1295932613759591/picture?type=large", "display_name": "Cecily", "link": "https://stackoverflow.com/users/6227274/cecily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1462358393, "creation_date": 1462307551, "last_edit_date": 1462358393, "question_id": 37013837, "link": "https://stackoverflow.com/questions/37013837/http-error-502-2-bad-gateway", "title": "HTTP Error 502.2 - Bad Gateway", "body": "<p>I am trying to learn Perl so I need to be able to test it locally.  I have <code>IIS7.5</code> and I have the <code>pl</code> and <code>cgi</code> mapped.  But I am throwing this error when I test it in Chrome.  </p>\n\n<p>It works fine when I use the command prompt. So I don't understand what I am missing or how to troubleshoot this.  I've searched all over google, can someone help me.</p>\n\n<p><em>My test code:</em></p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse CGI;\n\nmy $test = new CGI();\n\nprint $test-&gt;header(\"text/html\"),$test-&gt;start_html(\"PERL Test\");\nprint $test-&gt;h1(\"PERL IS WORKING!\");\nprint $test-&gt;end_html;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/54qtw.jpg\" alt=\"Browser Screen Shot\"></p>\n\n<p>And the command console spits out a perfectly programmed HTML page:\n<a href=\"https://i.stack.imgur.com/TO9zo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TO9zo.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl", "awk"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462305994, "post_id": 37013403, "comment_id": 61578953, "body": "That gives the epoch time for now, not <code>$date</code>."}, {"owner": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "edited": false, "score": 0, "creation_date": 1462306029, "post_id": 37013403, "comment_id": 61578972, "body": "Sorry if I didn&#39;t explain myself clearly. I need to parse a user given date using a user given format string."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462306166, "post_id": 37013403, "comment_id": 61579053, "body": "@ikegami - I still think my input serves the user well within the context of the question."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462306365, "post_id": 37013403, "comment_id": 61579172, "body": "@ikegami - I respectfully disagree - it does not give the &quot;complete&quot; wrong answer -- see user&#39;s follow-up apology for not explaining himself clearly.  You yourself used part of what I gave in your answer so how can it be &quot;completely&quot; wrong (with all due respect)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1462306721, "post_id": 37013403, "comment_id": 61579379, "body": "Call it what you want, but it gives 1462306685 when it&#39;s suppose to give 1462248000. I call that answer completely wrong."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462312956, "post_id": 37013403, "comment_id": 61582398, "body": "@ikegami - let&#39;s agree to &quot;call it as we see it&quot; and let us move on (respectfully).  Thank you for your input."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1462313186, "post_id": 37013403, "comment_id": 61582477, "body": "@Jens - With all due respect, I never mentioned the &#39;date&#39; answer as being &#39;bash&#39; specific but rather, since the user mentioned the &#39;bash&#39; shell and Ubuntu (which has &#39;bash&#39; as it&#39;s default shell) was also mentioned in the question, I thought it best to frame my answer to the question in that context.  Thank you for your input."}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1462315070, "post_id": 37013403, "comment_id": 61583175, "body": "@tale852150 Didn&#39;t mean to step on your toes, sorry. It&#39;s just that the problem and solution are completely independent of the shell being used. I wanted to avoid that readers think your solution would only work under bash, when in fact it is more general. Sadly, many Linux folks know nothing but bash and are unaware whether their problem is bash related. They overuse the bash tag because they think that if they type it at a bash prompt it must be a bash thing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462330505, "post_id": 37013403, "comment_id": 61586955, "body": "The OP requires to <i>&quot;convert a string to seconds using a FORMAT string which is passed as an argument&quot;</i>. Your example doesn&#39;t allow the user to provide either a date string or a format string, and doesn&#39;t do any conversion."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1462370114, "post_id": 37013403, "comment_id": 61609718, "body": "@Jens No offense taken and I appreciate and acknowledge your feedback -- it was very helpful.  You make a valid point when you say that &#39;... many Linux folks know nothing but bash...&#39;.  Thanks again for your insight."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462370232, "post_id": 37013403, "comment_id": 61609811, "body": "@Borodin The original question was edited after I gave my response.  See his apology in the stream of the comments as an example."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1462370325, "post_id": 37013403, "comment_id": 61609887, "body": "I am surprised no one gave me a &#39;thumbs up&#39; for the Perl solution.  I tried awk also but that solution became cumbersome."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462370755, "post_id": 37013403, "comment_id": 61610257, "body": "<i>&quot;convert a string to seconds using a FORMAT string which is passed as an argument&quot;</i> is directly from the original draft of the question. Your answer doesn&#39;t solve that or any of the edits"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462371092, "post_id": 37013403, "comment_id": 61610530, "body": "@Borodin You&#39;re correct.  I was just trying to assist the OP in any way I could be of help.  Thanks for your feedback."}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": -2, "last_activity_date": 1462307018, "last_edit_date": 1462307018, "creation_date": 1462305921, "answer_id": 37013403, "question_id": 37013217, "link": "https://stackoverflow.com/questions/37013217/convert-date-to-epoch-using-a-format-string/37013403#37013403", "title": "convert date to epoch using a format string", "body": "<p>For <code>date</code> supporting <code>%s</code>:</p>\n\n<pre><code>date +%s\n</code></pre>\n\n<p>For Perl:</p>\n\n<pre><code>perl -e 'print time(),\"\\n\"'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "edited": false, "score": 0, "creation_date": 1462306300, "post_id": 37013415, "comment_id": 61579125, "body": "Thanks, but your $date is in the ISO format. I need to be able to control the exact format in a strftime() way."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "edited": false, "score": 0, "creation_date": 1462306519, "post_id": 37013415, "comment_id": 61579264, "body": "None of that is true. Neither dates are in an ISO8601 format, and an exact format for <code>strftime</code> was provide (<code>%s</code>) and used."}, {"owner": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "edited": false, "score": 1, "creation_date": 1462310840, "post_id": 37013415, "comment_id": 61581466, "body": "Ok, but it still doesn&#39;t help me with my problem. Of course the output is %s, but I need to control the format of the INPUT string."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "edited": false, "score": 0, "creation_date": 1462311018, "post_id": 37013415, "comment_id": 61581548, "body": "No, you don&#39;t. As I&#39;ve shown, it works even if you don&#39;t. I explained why as well."}, {"owner": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "edited": false, "score": 1, "creation_date": 1462311712, "post_id": 37013415, "comment_id": 61581883, "body": "I know, ikegami. But as I&#39;ve stated, the format is completely up to the user. There is no way date (or any other program) could automatically recognize the difference between, let&#39;s say, %H:%M and %M:%H, if a part of the input string is something like 10:09."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "edited": false, "score": 0, "creation_date": 1462311871, "post_id": 37013415, "comment_id": 61581965, "body": "Ah, you changed the question. You can&#39;t use <code>date</code> for that. <code>bash</code> doesn&#39;t have any date manipulation functionality, but Perl has numerous ways of converting dates (including POSIX::strptime and DateTime::Format::Strptime). I don&#39;t know <code>awk</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1462311863, "last_edit_date": 1462311863, "creation_date": 1462305969, "answer_id": 37013415, "question_id": 37013217, "link": "https://stackoverflow.com/questions/37013217/convert-date-to-epoch-using-a-format-string/37013415#37013415", "title": "convert date to epoch using a format string", "body": "<pre><code>date -d \"$date\" +%s\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>$ date='2016 05 03 16:00' date -d \"$date\" +%s\n1462248000\n</code></pre>\n\n<p>There's no way to specify the format of the date passed to <code>-d</code>, but there's no reason to do so. <code>date</code> uses heuristics which handle your date format just fine.</p>\n\n<p>If the format is not handled by the heuristics, you won't be able to use GNU's <code>date</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1462329365, "creation_date": 1462329365, "answer_id": 37017473, "question_id": 37013217, "link": "https://stackoverflow.com/questions/37013217/convert-date-to-epoch-using-a-format-string/37017473#37017473", "title": "convert date to epoch using a format string", "body": "<p>I suggest you use Perl, with its core <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> module</p>\n\n\n\n<pre><code>$ perl -MTime::Piece -E 'say Time::Piece-&gt;strptime(@ARGV)-&gt;epoch' 'Dec 25 2015 06:05:04' '%b %d %Y %H:%M:%S'\n1451023504\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 4942149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xl37BdSKmyY/AAAAAAAAAAI/AAAAAAAAEPE/3gu8oR0SFk4/photo.jpg?sz=128", "display_name": "Brikowski", "link": "https://stackoverflow.com/users/4942149/brikowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1251, "favorite_count": 0, "accepted_answer_id": 37017473, "answer_count": 3, "score": 0, "last_activity_date": 1462329365, "creation_date": 1462305213, "last_edit_date": 1462306866, "question_id": 37013217, "link": "https://stackoverflow.com/questions/37013217/convert-date-to-epoch-using-a-format-string", "title": "convert date to epoch using a format string", "body": "<p>I need my bash script to convert a string to seconds (since the epoch) using a FORMAT string, <strong>where both the date and format strings are given by the user</strong>. It seems it can be done in the BSD version of <em>date</em> like this,</p>\n\n<pre><code>date -j -f \"$format\" \"$date\" +%s //format can be anything, e.g. \"%Y %m %d %H:%M\"\n</code></pre>\n\n<p>but I use Ubuntu. Is there any way to accomplish this using bash/awk/perl etc?</p>\n"}, {"tags": ["perl", "shell", "csv", "bcp", "csvkit"], "comments": [{"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1462306837, "post_id": 37013037, "comment_id": 61579429, "body": "Open as CSV but with different delimiters."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462327728, "post_id": 37013037, "comment_id": 61586314, "body": "An example of your input data, would help, pleasd"}], "answers": [{"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": -1, "last_activity_date": 1462309475, "creation_date": 1462309475, "answer_id": 37014327, "question_id": 37013037, "link": "https://stackoverflow.com/questions/37013037/convert-bcp-file-to-standard-csv-file/37014327#37014327", "title": "convert bcp file to standard csv file", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>awk -F='XXXXXXX' -v RS='YYYYYYY' -v OFS='\",\"' -v ORS='\\n' \n                  '{gsub(/\"/,\"\\\"\"); $1=$1; print \"\\\"\"$0\"\\\"\"}' file\n</code></pre>\n\n<p>escape quotes, quote fields, change field delimiter to comma and record delimiter to newline. <code>$1=$1</code> forces awk to apply the new delimiters.</p>\n"}], "owner": {"reputation": 31, "user_id": 3929287, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/008b370d92196d7ea7a65c3fa698d5b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bhupal.Bobbadi", "link": "https://stackoverflow.com/users/3929287/bhupal-bobbadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 982, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462309475, "creation_date": 1462304610, "last_edit_date": 1462306659, "question_id": 37013037, "link": "https://stackoverflow.com/questions/37013037/convert-bcp-file-to-standard-csv-file", "title": "convert bcp file to standard csv file", "body": "<p>I am looking for any known tools or scripts which can convert my bcp files to csv files. </p>\n\n<p>Input bcp file format:</p>\n\n<ol>\n<li>Fields separated by 'XXXXXXX'</li>\n<li>Rows separated by 'YYYYYYY'</li>\n<li>Fields contains special characters like CRLF,CR,LF,\", Tab, comma etc...</li>\n</ol>\n\n<p>Output format I want:</p>\n\n<ol>\n<li>Standard csv format file with comma delimited</li>\n<li>Field values should contain original content including special characters (I mean no addition or deletion of special character(s), CR should also not be deleted)</li>\n<li>The file able to cut by column index/name to select interested columns.</li>\n</ol>\n\n<p>For this I did the following:</p>\n\n<ol>\n<li><p>Transformed the bcp file to csv with few sed commands, with this I can open the file in MS excel program with proper alignment, and I could see content was not altered (as expected).</p>\n\n<p><code>sed -i 's/\\\"/\\\"\\\"/g' $inFile</code></p>\n\n<p><code>sed -i 's/XXXXXXX/\",\"/g' $inFile</code></p>\n\n<p><code>sed -i 's/YYYYYYY/\"\\n\"/g' $inFile</code></p>\n\n<p><code>sed -i '1s/^/\\\"/' $inFile</code></p>\n\n<p><code>sed -i '$s/\\\"//' $inFile</code></p>\n\n<p><code>sed -i -e '${/^$/d}' $inFile</code></p>\n\n<p><code>sed -i '1s/^/\"Header\",\"added\",\"here\"\\n/' $inFile</code></p></li>\n<li><p>Tried csvkit tool: <code>csvcut $infile</code>\nThis tool is selecting the preferred columns but modifying the content like deleting the CR. </p></li>\n</ol>\n\n<p>Any ideas in this kind conversion?</p>\n"}, {"tags": ["perl", "file", "io"], "comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1462305674, "post_id": 37012875, "comment_id": 61578787, "body": "Check <a href=\"https://en.wikipedia.org/wiki/Path_(computing)\" rel=\"nofollow noreferrer\">What&#39;s a path?</a> and <a href=\"http://perl101.org/files.html\" rel=\"nofollow noreferrer\">Perl 101 - Working with files</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1135, "user_id": 5590742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vNXUZ.png?s=128&g=1", "display_name": "jgreve", "link": "https://stackoverflow.com/users/5590742/jgreve"}, "edited": false, "score": 2, "creation_date": 1462313136, "post_id": 37013847, "comment_id": 61582457, "body": "Frank, nicely said.  Cody, I&#39;ll just leave this here for you: <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlopentut.html</a>   (I think you&#39;ll find it worth 20 minutes of your time to better understand how perl handles files.)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1462544548, "post_id": 37013847, "comment_id": 61694187, "body": "Pedantically, if you&#39;re just using &#39;filename.txt&#39;, then the file should be in whatever is the current directory at that time. That will probably be the same directory as the program, but it&#39;s not guaranteed."}], "tags": [], "owner": {"reputation": 796, "user_id": 2058855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/x3nq3.jpg?s=128&g=1", "display_name": "Frank H.", "link": "https://stackoverflow.com/users/2058855/frank-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1462307581, "last_edit_date": 1495540364, "creation_date": 1462307581, "answer_id": 37013847, "question_id": 37012875, "link": "https://stackoverflow.com/questions/37012875/how-to-set-up-file-to-be-read-in-perl/37013847#37013847", "title": "How to set up file to be read in perl", "body": "<p>If you're simply using \"filename.txt\" as the filename, the file should be in the same folder as your program.</p>\n\n<p>You have an error in your syntax. It should be</p>\n\n<pre><code>my $file = 'filename.txt';\nopen(my $filehandle, \"&lt;\", $file) or die \"Could not open file $file. Error: $!\";\n</code></pre>\n\n<p>Having opened the file, bear in mind there are different ways of reading from it. Sometimes you might want to read it a line at a time, in which case the syntax would be something like this:</p>\n\n<pre><code>while (my $line = &lt;$filehandle&gt;) {\n   chomp $line;\n   print \"$line\\n\";\n}\n</code></pre>\n\n<p>Sometimes you might want to read the entire file into one variable, in which case the syntax would be something like this:</p>\n\n<pre><code>my $file = \"filename.txt\";\nmy $document = do {\n    local $/ = undef;\n    open my $filehandle, \"&lt;\", $file\n        or die \"could not open $file: $!\";\n    &lt;$filehandle&gt;;\n};\n</code></pre>\n\n<p>(see <a href=\"https://stackoverflow.com/questions/953707/in-perl-how-can-i-read-an-entire-file-into-a-string/953885\">this question</a> for more info)</p>\n\n<p>Notwithstanding the amount of information available, seemingly simple things like this can be frustrating when you're learning a new language. You won't regret learning Perl if you stick with it. And remember the Perl motto: <a href=\"https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it\" rel=\"nofollow noreferrer\">TMTOWTDI</a> :-)</p>\n"}], "owner": {"reputation": 19, "user_id": 5518483, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10204257794678991/picture?type=large", "display_name": "Cody Bentson", "link": "https://stackoverflow.com/users/5518483/cody-bentson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1462307581, "creation_date": 1462304045, "question_id": 37012875, "link": "https://stackoverflow.com/questions/37012875/how-to-set-up-file-to-be-read-in-perl", "title": "How to set up file to be read in perl", "body": "<p>I am new to perl and need some help. I have two text files I am trying to read from. I don't understand where I need to place these files in order to be able to access them with the code. If someone would walk me through the steps that would be great. I'm using windows 8, notepad++ is my text editor and I'm executing everything from the command prompt. Please don't give me an absurdly technical answer. Dumb it down for me! Thanks!</p>\n\n<pre><code>my $file = 'filename.txt';\nopen my $info, $file or die \"could not open this $file\";\n</code></pre>\n"}, {"tags": ["perl", "dancer"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1462304711, "post_id": 37012789, "comment_id": 61578221, "body": "First thing I notice, is that your modules don&#39;t return a true value. Put a <code>1;</code> as the very last line in each one."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1462304785, "post_id": 37012789, "comment_id": 61578267, "body": "The relevant web server error log entries will probably have some valuable input into the problem..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1462305432, "post_id": 37012789, "comment_id": 61578670, "body": "When you call <code>use Dancer2;</code> in your Submission module, you&#39;re actually creating a separate Dancer2 app. See <a href=\"http://advent.perldancer.org/2014/10\" rel=\"nofollow noreferrer\">What&#39;s in an appname?</a>"}, {"owner": {"reputation": 515, "user_id": 1771366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c7970aec7d0c13c0b44d34455e183f?s=128&d=identicon&r=PG", "display_name": "Laura", "link": "https://stackoverflow.com/users/1771366/laura"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462306614, "post_id": 37012789, "comment_id": 61579321, "body": "@ThisSuitIsBlackNot  Thanks!  That was exactly my problem.  Submit an answer and I&#39;ll accept it."}], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 1771366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c7970aec7d0c13c0b44d34455e183f?s=128&d=identicon&r=PG", "display_name": "Laura", "link": "https://stackoverflow.com/users/1771366/laura"}, "edited": false, "score": 1, "creation_date": 1462308204, "post_id": 37013914, "comment_id": 61580185, "body": "Thank you!  Very helpful.  You answered both my database connection problem and my code organization problem."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 515, "user_id": 1771366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c7970aec7d0c13c0b44d34455e183f?s=128&d=identicon&r=PG", "display_name": "Laura", "link": "https://stackoverflow.com/users/1771366/laura"}, "edited": false, "score": 1, "creation_date": 1462308733, "post_id": 37013914, "comment_id": 61580463, "body": "You&#39;re welcome. If you&#39;re interested in more tips about organizing your Dancer code, see the link I added to the end of my post in the last edit. It&#39;s just how one particular Dancer user likes to do things, but it might give you some ideas. There are several different parts, I just linked to the first one."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1513220060, "post_id": 37013914, "comment_id": 82571904, "body": "What I don&#39;t get is why you can&#39;t just put Dancer2::Plugin::Database in the main myServices.pm app. I can <code>use</code> other modules in myServices.pm and they will automatically be included in the MyServices::Sumbission app but the plugin will not be. You have to explicitly <code>use</code> it."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 4, "last_activity_date": 1462309802, "last_edit_date": 1462309802, "creation_date": 1462307832, "answer_id": 37013914, "question_id": 37012789, "link": "https://stackoverflow.com/questions/37012789/how-can-i-use-dancer2plugindatabase-when-my-code-is-split-into-multiple-file/37013914#37013914", "title": "How can I use Dancer2::Plugin::Database when my code is split into multiple files?", "body": "<p>When you call <code>use Dancer2;</code> in MyServices::Submission, <a href=\"http://advent.perldancer.org/2014/10\" rel=\"nofollow\">you're actually creating a separate Dancer2 app</a>:</p>\n\n<blockquote>\n  <p>As soon as you import <code>Dancer2</code> (by calling <code>use Dancer2</code>), you create a Dancer2 App. It will use your class name (defined by either the package function in Perl or the default in Perl: <code>main</code>) to define the Dancer2 App name. This is how Dancer2 will recognize your application.</p>\n  \n  <p>This introduces an interesting situation. If you wish to separate your App to multiple files, you're actually creating multiple applications.</p>\n  \n  <p><strong>So what?</strong></p>\n  \n  <p>This means that any engine defined in an application, because the application is a complete separate scope, will not be available to a different application:</p>\n\n<pre><code>package MyApp::User {\n      use Dancer2;\n      set serializer =&gt; 'JSON';\n      get '/view' =&gt; sub {...};\n }\n\npackage MyApp::User::Edit {\n     use Dancer2;\n     get '/edit' =&gt; sub {...};\n }\n</code></pre>\n  \n  <p>These are two different Dancer2 Apps. They have different scopes, contexts, and thus different engines. While MyApp::User has a serializer (the JSON one) defined, MyApp::User::Edit will not have that configuration.</p>\n</blockquote>\n\n<hr>\n\n<p>You can use the <a href=\"https://metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Manual.pod#Importing-using-Appname\" rel=\"nofollow\"><code>appname</code></a> option when you import Dancer2 to say that your module should extend an app instead of creating a new one:</p>\n\n<pre><code>package MyServices::Submission;\n\nuse Dancer2 appname =&gt; 'MyApp';\nuse Dancer2::Plugin::Database;\n\nsub databaseTest {\n    my $dbh = database;                                 \n    return 'success';\n}\n\n1;\n</code></pre>\n\n<p>Now the configuration and engines from the main app will be available inside MyServices::Submission. You can even add additional routes here.</p>\n\n<hr>\n\n<p>As an aside, splitting up your application like this is a great idea; if you're interested in other techniques, someone on the Dancer users mailing list wrote up some pretty thorough recommendations on <a href=\"https://github.com/wyoung/advent-calendar/blob/master/danceradvent/public/articles/2015/3-medium-scale-part-1.pod\" rel=\"nofollow\">how to organize medium- to large-scale Dancer applications</a>. The recommendations are split into six parts; see <a href=\"https://github.com/wyoung/advent-calendar/tree/master/danceradvent/public/articles/2015\" rel=\"nofollow\">here</a> for the full listing.</p>\n"}], "owner": {"reputation": 515, "user_id": 1771366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c7970aec7d0c13c0b44d34455e183f?s=128&d=identicon&r=PG", "display_name": "Laura", "link": "https://stackoverflow.com/users/1771366/laura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 1, "accepted_answer_id": 37013914, "answer_count": 1, "score": 2, "last_activity_date": 1462372212, "creation_date": 1462303738, "last_edit_date": 1462372212, "question_id": 37012789, "link": "https://stackoverflow.com/questions/37012789/how-can-i-use-dancer2plugindatabase-when-my-code-is-split-into-multiple-file", "title": "How can I use Dancer2::Plugin::Database when my code is split into multiple files?", "body": "<p>All code examples I have seen related to Dancer2 and database connections put all Dancer2 code directly in the anonymous subroutines attached to the various 'get' and 'put' requests.  </p>\n\n<p>I would like to organize my code in a way that myServices.pm file is essentially just a router to the other code files that contain the meat of what is executing.  I can successfully use the params keyword in the MyServices::Submission module.  However, I can't seem to use the database keyword from Dancer2::Plugin::Database in this context.  </p>\n\n<p>myServices.pm:</p>\n\n<pre><code>package myServices;\n\nuse Dancer2;\nuse Dancer2::Plugin::REST;\nuse Dancer2::Plugin::Database;\nuse Data::Dumper;\nuse MyServices::Submission;\n\nget '/direct' =&gt; sub {\n    my $dbh = database;\n    return 'success';\n};\n\nget '/indirect' =&gt; sub {\n   MyServices::Submission::databaseTest();\n};\n\ntrue;\n</code></pre>\n\n<p>MyServices/Submission.pm:</p>\n\n<pre><code>package MyServices::Submission;\n\nuse Dancer2;\nuse Dancer2::Plugin::REST;\nuse Dancer2::Plugin::Database;\nuse Data::Dumper;\n\n\nsub databaseTest{\n    my $dbh = database;\n    return 'success';\n}\n\ntrue;\n</code></pre>\n\n<p>The call to /direct returns 'success'.<br>\nThe call to /indirect returns Error 500 - Internal Server Error with the message \"Can't get a database connection without settings supplied!\".  It then prints out my settings, including the correct database configuration.</p>\n\n<p>My configuration file must be fine, because the call to /direct is a success.  </p>\n\n<p>Q's:</p>\n\n<ol>\n<li>Can anyone else replicate this behavior?  (Make sure I'm not missing\nsomething obvious.) </li>\n<li>Is there a way to successfully use Dancer2::Plugin::Database in the     MyServices::Submission module, or\ndo I need to search for another db connection solution in order to\nmeet my code organization needs?</li>\n</ol>\n"}, {"tags": ["regex", "perl", "scripting"], "comments": [{"owner": {"reputation": 6977, "user_id": 2597152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606e0a0df27f6f2c790118b1c9f91c53?s=128&d=identicon&r=PG", "display_name": "aet", "link": "https://stackoverflow.com/users/2597152/aet"}, "edited": false, "score": 2, "creation_date": 1462299634, "post_id": 37011469, "comment_id": 61575140, "body": "Read all lines into a data structure first, close the file, re-open it for writing, and write out your modifications. Or mv the file to a tmp file first, and do it line at a time."}, {"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "reply_to_user": {"reputation": 6977, "user_id": 2597152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606e0a0df27f6f2c790118b1c9f91c53?s=128&d=identicon&r=PG", "display_name": "aet", "link": "https://stackoverflow.com/users/2597152/aet"}, "edited": false, "score": 0, "creation_date": 1462299868, "post_id": 37011469, "comment_id": 61575279, "body": "I am not looking to make a temp file , can you provide an example how to do it ."}], "answers": [{"comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1462314123, "post_id": 37011846, "comment_id": 61582861, "body": "for the array method, we can at least reduce the number of writes to the file: <code>print $OUTPUT join(&quot;\\n&quot;, @array), &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 1, "creation_date": 1462322028, "post_id": 37011846, "comment_id": 61585001, "body": "@glennjackman The array method was just for completeness but <i>not</i> recommended for the reasons I mentioned. Even if it could be done in a <i>single</i> [large] write, it&#39;s still a hazard. It&#39;s been a while since I&#39;ve benched it, but because a perl <code>foreach</code> iterator is so fast and the speed of <code>perlio</code>, the loop is probably faster than the <code>join</code> because it doesn&#39;t have to create an intermediate [implicit] scalar. The <code>join</code> will still get splayed out in <code>perlio</code> [which will cut it up into smaller <code>write(2)</code> calls], so more of a [syntactic] convenience than a speedup."}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1462324234, "post_id": 37011846, "comment_id": 61585521, "body": "@glennjackman I&#39;ve had to at various times. fc22&#39;s perl broke my scripts [their fault]. I also do metaprogramming in perl on my perl by installing a filter (see <code>perldoc -f require</code>). I use it like <code>cpp</code> for C to add/elide debug code. That <i>has</i> to be fast [it&#39;s overhead during loading], and I benched and found out that <code>while ($x = &lt;IN&gt;) { chomp($x); push(@a,$x); }</code> beats <code>@a = &lt;IN&gt;; chomp(@a);</code> every time."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462390068, "post_id": 37011846, "comment_id": 61622977, "body": "Since this is a (good) general recommendation, why not use a more robust naming for the temp file?  For example via <code>use File::Temp qw(tempfile)</code>, or such. <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a> is a core module."}], "tags": [], "owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "is_accepted": true, "score": 2, "last_activity_date": 1462301099, "last_edit_date": 1462301099, "creation_date": 1462300536, "answer_id": 37011846, "question_id": 37011469, "link": "https://stackoverflow.com/questions/37011469/in-place-modification-of-a-line-read-in-a-file-using-perl-script/37011846#37011846", "title": "In place modification of a line read in a file using perl script", "body": "<p>I've included both ways: with a temp file and using an array below.</p>\n\n<p>But, you really <em>do</em> want to use the temp file method as it is <em>atomic</em>. With the array method, if the system crashes during the writeback, your file will be <em>trashed</em>. The temp file method is guaranteed to be atomic and your file will <em>not</em> be trashed if there is a crash.</p>\n\n<p>So, what is your objection to the temp file?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse FindBin;\nuse English;\nuse File::Path;\n\nmy $list=$ARGV[0];\nopen(my $WAY,'&lt;:encoding(UTF-8)',$list) or\n    die(\"could not open list file -- '$list'\\n\");\nforeach my $file (&lt;$WAY&gt;) {\n    chomp($file);\n    dotmp($file);\n}\nclose($WAY);\n\nsub dotmp\n{\n    my($file) = @_;\n    my($oline);\n\n    open(my $INPUT,'&lt;:encoding(UTF-8)',$file) or\n        die(\"could not open input file -- '$file'\\n\");\n\n    my($tmp) = $file . \".TMP\";\n    open(my $OUTPUT,'&gt;:encoding(UTF-8)',$tmp) or\n        die(\"could not open output file\\n\");\n\n    foreach my $line (&lt;$INPUT&gt;){\n        chomp($line);\n\n        #####Here I do important stuff as per business requirement\n        ## Now a array @coloumns stores all the values by which i need to\n        ### replace this read line.\n        ##This array element needs to be joined by ',' so basically i want\n        ##to replace read line in-place by join(\",\",@coloumns,\"\\n\");\n\n        $oline = join(\",\",@coloumns);\n\n        print($OUTPUT $oline,\"\\n\");\n    }\n\n    close($INPUT);\n    close($OUTPUT);\n\n    # NOTE: this is _atomic_ -- even if the system crashes, you'll either get\n    # the whole contents before or after but _never_ a partial mashup\n    rename($tmp,$file) or\n        die(\"unable to rename '$file' -- $!\\n\");\n}\n\nsub doarray\n{\n    my($file) = @_;\n    my($oline);\n    my(@array);\n\n    open(my $INPUT,'&lt;:encoding(UTF-8)',$file) or\n        die(\"could not open input file -- '$file'\\n\");\n\n    foreach my $line (&lt;$INPUT&gt;){\n        chomp($line);\n\n        #####Here I do important stuff as per business requirement\n        ## Now a array @coloumns stores all the values by which i need to\n        ### replace this read line.\n        ##This array element needs to be joined by ',' so basically i want\n        ##to replace read line in-place by join(\",\",@coloumns,\"\\n\");\n\n        $oline = join(\",\",@coloumns);\n\n        push(@array,$oline);\n    }\n\n    close($INPUT);\n\n    open(my $OUTPUT,'&gt;:encoding(UTF-8)',$file) or\n        die(\"could not open output file\\n\");\n\n    # NOTE: if the system crashes while doing this, the file will be corrupted\n    foreach $oline (@array) {\n        print($OUTPUT $oline,\"\\n\");\n    }\n\n    close($OUTPUT);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "edited": false, "score": 0, "creation_date": 1462302254, "post_id": 37012016, "comment_id": 61576790, "body": "I like the insight provided here. :)"}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 3, "last_activity_date": 1462301801, "last_edit_date": 1462301801, "creation_date": 1462301072, "answer_id": 37012016, "question_id": 37011469, "link": "https://stackoverflow.com/questions/37011469/in-place-modification-of-a-line-read-in-a-file-using-perl-script/37012016#37012016", "title": "In place modification of a line read in a file using perl script", "body": "<p><strong>TLDR:</strong> aet's comment is probably your best bet.  Text files are generally poor candidates for true in-place editing.</p>\n\n<h1>The Rope you're looking for:</h1>\n\n<p>If you open the file with a <code>+&lt;</code> (read and write) mode instead of just the <code>&lt;</code> (read) mode, you can use <code>tell</code> and <code>seek</code> to move around the file and write to your heart's content.</p>\n\n<h2>Why it's a bad idea:</h2>\n\n<p>Rare is the change you may want to make to a <em>text file</em> that does not change the number of bytes consumed.  If your new text is longer, as would happen by adding commas, you'll overwrite data that had followed the original data.  If it's shorter, you'll have some of the former bytes still lying about.</p>\n\n<h2>That is why programs that make \"changes\" to text files actually \"rewrite\" them.</h2>\n\n<p>Even Perl's <code>-i</code> command line switch actually uses the temp file technique recommended by Craig Estey.</p>\n"}, {"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1462301992, "post_id": 37012077, "comment_id": 61576637, "body": "Use of ties seems to have <a href=\"https://metacpan.org/pod/Perl::Critic::Policy::Miscellanea::ProhibitTies\" rel=\"nofollow noreferrer\">fallen out of fashion</a> in the Perl 5 era."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1462302333, "post_id": 37012077, "comment_id": 61576837, "body": "I personally don&#39;t use them, but I dabbled with Tie::File a couple of years ago. Although I didn&#39;t stick with it for the at-the-time project, the idea still stuck"}, {"owner": {"reputation": 22495, "user_id": 5382650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/THfCr.png?s=128&g=1", "display_name": "Craig Estey", "link": "https://stackoverflow.com/users/5382650/craig-estey"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1462303168, "post_id": 37012077, "comment_id": 61577337, "body": "@tjd ties have limited uses in things like key/value pair DBMs (e.g. Berkeley DB). I did a few, back in the day, just to get my feet wet. IMO, they can be useful in tracking down bugs. If you&#39;re getting a variable corrupted, somewhere, by something, and can&#39;t use the debugger (e.g. corruption only occurs after N days in a live production system and have too many places where it gets changed to add check code everywhere), you can tie the variable and have the underlying class do whatever complex watchpoint code you want."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1462301207, "creation_date": 1462301207, "answer_id": 37012077, "question_id": 37011469, "link": "https://stackoverflow.com/questions/37011469/in-place-modification-of-a-line-read-in-a-file-using-perl-script/37012077#37012077", "title": "In place modification of a line read in a file using perl script", "body": "<p><a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow\">Tie::File</a> may be a bit overkill, but it does what you want. To build <code>@contents</code>, I just split the original line on whitespace.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Tie::File;\n\nmy $list = $ARGV[0];\n\nopen my $way, '&lt;:encoding(UTF-8)', $list or die $!;\n\nwhile (my $file = &lt;$way&gt;){\n    chomp $file;\n    tie my @contents, 'Tie::File', $file or die $!;\n\n    for (@contents){\n        my @columns = split /\\s+/, $_;\n        s/.*/join ', ', @columns/e;\n    }\n\n    untie @contents;\n}\n</code></pre>\n\n<p>Example file that was specified in the argument file:</p>\n\n<pre><code>one two three\n1 2 3\na b c\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>one, two, three\n1, 2, 3\na, b, c\n</code></pre>\n"}], "owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 37011846, "answer_count": 3, "score": 0, "last_activity_date": 1462301801, "creation_date": 1462299268, "question_id": 37011469, "link": "https://stackoverflow.com/questions/37011469/in-place-modification-of-a-line-read-in-a-file-using-perl-script", "title": "In place modification of a line read in a file using perl script", "body": "<p>I have a file which i pass as <code>ARGV[0]</code> or parameter to my perl script. This file contains list of files i will read which and modify lines in individual files. I want to modify these in-place and not write to a new file.</p>\n\n<p>code is something like this:-</p>\n\n<pre><code> use strict;\n use warnings;\n use FindBin;\n use English;\n use File::Path;\n\n my $list=$ARGV[0];\n open(my $WAY,'&lt;:encoding(UTF-8)',$list) or die(\"could not open list file\");\n foreach my $file(&lt;$WAY&gt;){\n chomp($file);\n open(my $ASCII,''&lt;:encoding(UTF-8)',$file) or die(\"could not open list file\");\n foreach my $line (&lt;$ASCII&gt;){\n chmop($line);\n #####Here I do important stuff as per business requirement\n ## Now a array @coloumns stores all the values by which i need to \n ### replace this read line.\n ##This array element needs to be joined by ',' so basically i want\n ##to replace read line in-place by join(\",\",@coloumns,\"\\n\");\n }\n }\n</code></pre>\n\n<p>How can i achieve the same ?</p>\n"}, {"tags": ["multithreading", "perl", "wxperl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462303556, "post_id": 37010321, "comment_id": 61577529, "body": "Yeah, that makes no sense. The thread&#39;s copy of $frame will be undef since $frame was populated after it was cloned by thread-creation."}, {"owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1462362365, "post_id": 37010321, "comment_id": 61603651, "body": "Are they relying on the entry to the function taking longer than the variable declaration?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1462368839, "post_id": 37010321, "comment_id": 61608640, "body": "That won&#39;t work unless it&#39;s shared. <code>perl</code> clones it&#39;s entire variable space at thread instantiation, unless it&#39;s explicitly shared."}], "owner": {"reputation": 758, "user_id": 4086509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmXxF.png?s=128&g=1", "display_name": "Sue D. Nymme", "link": "https://stackoverflow.com/users/4086509/sue-d-nymme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1462295567, "creation_date": 1462295567, "question_id": 37010321, "link": "https://stackoverflow.com/questions/37010321/please-explain-wxthread-example", "title": "Please explain Wx::Thread example", "body": "<p>The <a href=\"https://metacpan.org/pod/distribution/Wx/lib/Wx/Thread.pod\" rel=\"nofollow noreferrer\" title=\"Wx::Thread documentation\">documentation for Wx::Thread</a> includes a small but instructive example of how to post an event from a child thread to a window in the main or parent thread.</p>\n\n<p>What I cannot understand is how it can possibly be valid to refer to the file-scoped lexical variable <code>$frame</code> from the child thread as illustrated.  The sequence of events is as follows: 1) start child thread; 2) initialize <code>$frame</code>; 3) <em>...time passes...</em>; 4) child thread posts event to <code>$frame</code>.</p>\n\n<p>I had thought that all non-shared variables get cloned when a thread starts.  How can <code>$frame</code> be anything but <code>undef</code> in the child thread?</p>\n\n<p><a href=\"https://i.stack.imgur.com/rzPt9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzPt9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1462294631, "post_id": 37010001, "comment_id": 61572227, "body": "Do you mean &quot;first&quot; as in &quot;any key will do, just stop when you find one&quot; or as in &quot;the first key when sorted in some order&quot;? (Your code does the former, but just want to make sure.)"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 2, "creation_date": 1462294682, "post_id": 37010001, "comment_id": 61572266, "body": "It seems that your code currently works, and you are looking to improve it. Generally these questions are too opinionated for this site, but you might find better luck at <a href=\"http://codereview.stackexchange.com/tour\">CodeReview.SE</a>. Remember to read <a href=\"http://codereview.stackexchange.com/help/on-topic\">their requirements</a> as they are a bit more strict than this site."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1462303389, "post_id": 37010001, "comment_id": 61577435, "body": "You didn&#39;t specify the criteria you wish to use to evaluate which solution is better."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462304457, "post_id": 37010001, "comment_id": 61578057, "body": "Also, what&#39;s better may be in the context -- what is this for, how is it used?"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1462373235, "post_id": 37010001, "comment_id": 61612311, "body": "I mean by first that any key would do, because I know that the keys in both hashes would be unique. And by &quot;better&quot; I also meant if there&#39;s any CPAN module that does same? thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462386603, "post_id": 37010001, "comment_id": 61620939, "body": "There is a nice <code>List::Compare</code> module, which you can initialize in very specific ways for speed, and (also) by <i>hash</i> references. (From this machine I could only post untested, what I don&#39;t like.)  But using this is an overkill if you literally only want to do what the question states -- your code is more to the point and more efficient, thus better for the purpose.  And better yet with ikegami&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1462373403, "post_id": 37012655, "comment_id": 61612428, "body": "<code># Reset iterator</code> nice! I&#39;ve never used keys this way and you imply somehow that keys does something to <code>%$href1</code>, is that so?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 1, "creation_date": 1462374574, "post_id": 37012655, "comment_id": 61613310, "body": "Try <code>perl -E&#39;my %h = map { $_= &gt; 1 } qw( a b c d ); each(%h) for 1..2; say keys(%h);&#39;</code> See the problem?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1462303268, "creation_date": 1462303268, "answer_id": 37012655, "question_id": 37010001, "link": "https://stackoverflow.com/questions/37010001/perl-find-first-hash-key-of-one-hash-thats-also-in-another-hash/37012655#37012655", "title": "Perl: Find first hash key of one hash that&#39;s also in another hash", "body": "<p>You didn't specify the criteria you wish to use to evaluate which solution is better.</p>\n\n<p>Assuming you meant \"faster\", you can speed up the best case by using <code>each</code> instead of <code>keys</code>, but that's about it.</p>\n\n<pre><code>sub search_dispatch_table {\n    my ($href1, $href2) = @_;\n\n    while (my ($key) = each(%$href1)) {\n        if (exists($href2-&gt;{$key})) {\n           keys(%$href1);  # Reset iterator.\n           return $key;\n        }\n    }\n\n    return undef;\n}\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1462303268, "creation_date": 1462294526, "question_id": 37010001, "link": "https://stackoverflow.com/questions/37010001/perl-find-first-hash-key-of-one-hash-thats-also-in-another-hash", "title": "Perl: Find first hash key of one hash that&#39;s also in another hash", "body": "<p>I wrote this simple sub and it works as sold:</p>\n\n<pre><code>sub search_dispatch_table\n{\n    my ($href1, $href2) = @_;\n\n    foreach my $key (keys %$href1)\n    {\n        return $key if exists $href2-&gt;{$key};\n    }\n    return undef;\n}\n</code></pre>\n\n<p>I simply want to return the first key of <code>href1</code> which also exists in <code>href2</code>.</p>\n\n<p>Is there a better way to do it?</p>\n"}, {"tags": ["linux", "perl", "ubuntu", "makefile", "cpanm"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462294512, "post_id": 37009887, "comment_id": 61572155, "body": "Do you get similar failures when you try to install <i>any</i> module to the system perl with cpanm, or is it just Try::Tiny?"}, {"owner": {"reputation": 41, "user_id": 2512524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff6774c114036310792358265a06493?s=128&d=identicon&r=PG", "display_name": "pacifly", "link": "https://stackoverflow.com/users/2512524/pacifly"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462295452, "post_id": 37009887, "comment_id": 61572750, "body": "It fails similarly for all the modules I tried via cpanm, not just Try::Tiny, but other examples such as Test::Simple, Sub::Uplevel, Statistics::PCA, etc."}, {"owner": {"reputation": 41, "user_id": 2512524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff6774c114036310792358265a06493?s=128&d=identicon&r=PG", "display_name": "pacifly", "link": "https://stackoverflow.com/users/2512524/pacifly"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1462393949, "post_id": 37009887, "comment_id": 61625086, "body": "Update: it turns out sudo -i (or sudo su, sudo su -) but not sudo -s (or sudo) will do the trick. sudo -s is using user&#39;s shell environment settings, and it seems something there got messed up somehow, but not sure what user environment variables are implicated."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462398577, "post_id": 37009887, "comment_id": 61627334, "body": "Can you edit a dump of all your environment variables into the question?"}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1496850299, "post_id": 37009887, "comment_id": 75833357, "body": "Why do you use <code>sudo</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 2258289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798648dfbec39d2521e475e46a9be76f?s=128&d=identicon&r=PG", "display_name": "cuddlebugCuller", "link": "https://stackoverflow.com/users/2258289/cuddlebugculler"}, "is_accepted": false, "score": 0, "last_activity_date": 1496850016, "creation_date": 1496850016, "answer_id": 44417195, "question_id": 37009887, "link": "https://stackoverflow.com/questions/37009887/cpanm-perl-module-installation-failed-on-make-and-make-test/44417195#44417195", "title": "cpanm perl module installation failed on &#39;make&#39; and &#39;make test&#39;", "body": "<p>Based on <a href=\"https://www.nntp.perl.org/group/perl.cpan.workers/2016/09/msg1512.html\" rel=\"nofollow noreferrer\">this mailing list thread</a>, the third post in particular, I would suggest editing '/usr/lib/perl//Config.pm' so that dont_use_nlink is set to 'define' instead of undef. This solution worked for me.</p>\n"}], "owner": {"reputation": 41, "user_id": 2512524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff6774c114036310792358265a06493?s=128&d=identicon&r=PG", "display_name": "pacifly", "link": "https://stackoverflow.com/users/2512524/pacifly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2385, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496850016, "creation_date": 1462294203, "last_edit_date": 1495535633, "question_id": 37009887, "link": "https://stackoverflow.com/questions/37009887/cpanm-perl-module-installation-failed-on-make-and-make-test", "title": "cpanm perl module installation failed on &#39;make&#39; and &#39;make test&#39;", "body": "<p>I asked a question regarding <a href=\"https://stackoverflow.com/questions/36988184/configure-does-not-generate-makefile-while-building-perl-from-source/36993557#36993557\">configure does not generate makefile while building perl from source</a>. While awaiting for a solution, here is another (possibly relevant) question. When I install perl modules for the system perl via something like <code>sudo cpanm Try::Tiny</code> it fails with following log:</p>\n\n<pre><code>cpanm (App::cpanminus) 1.7040 on perl 5.018002 built for x86_64-linux-gnu-thread-multi\nWork directory is /home/zxu/.cpanm/work/1462290395.17141\nYou have make /usr/bin/make\nYou have LWP 6.05\nYou have /bin/tar: tar (GNU tar) 1.27.1\nCopyright (C) 2013 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nWritten by John Gilmore and Jay Fenlason.\nYou have /usr/bin/unzip\nSearching Try::Tiny () on cpanmetadb ...\n--&gt; Working on Try::Tiny\nFetching http://www.cpan.org/authors/id/E/ET/ETHER/Try-Tiny-0.24.tar.gz\n-&gt; OK\nUnpacking Try-Tiny-0.24.tar.gz\nEntering Try-Tiny-0.24\nChecking configure dependencies from META.json\nChecking if you have ExtUtils::MakeMaker 6.58 ... Yes (6.66)\nConfiguring Try-Tiny-0.24\nRunning Makefile.PL\nChecking if your kit is complete...\nWarning: the following files are missing in your kit:\n        lib/Try/Tiny.pm\n        maint/bench.pl\n        t/00-report-prereqs.dd\n        t/00-report-prereqs.t\n        t/basic.t\n        t/context.t\n        t/erroneous_usage.t\n        t/finally.t\n        t/given_when.t\n        t/global_destruction_forked.t\n        t/global_destruction_load.t\n        t/lib/TryUser.pm\n        t/named.t\n        t/when.t\n        xt/author/00-compile.t\n        xt/author/eol.t\n        xt/author/kwalitee.t\n        xt/author/mojibake.t\n        xt/author/no-tabs.t\n        xt/author/pod-coverage.t\n        xt/author/pod-spell.t\n        xt/author/pod-syntax.t\n        xt/release/changes_has_content.t\n        xt/release/cpan-changes.t\n        xt/release/distmeta.t\n        xt/release/pod-no404s.t\n        xt/release/portability.t\nPlease inform the author.\nWide character in print at /usr/share/perl/5.18/ExtUtils/MakeMaker.pm line 1034.\nWide character in print at /usr/share/perl/5.18/ExtUtils/MakeMaker.pm line 1034.\nWide character in print at /usr/share/perl/5.18/ExtUtils/MakeMaker.pm line 1034.\nWriting Makefile for Try::Tiny\nWriting MYMETA.yml and MYMETA.json\n-&gt; OK\nChecking dependencies from MYMETA.json ...\nChecking if you have warnings 0 ... Yes (1.18)\nChecking if you have constant 0 ... Yes (1.27)\nChecking if you have ExtUtils::MakeMaker 0 ... Yes (6.66)\nChecking if you have if 0 ... Yes (0.0602)\nChecking if you have strict 0 ... Yes (1.07)\nChecking if you have Exporter 5.57 ... Yes (5.68)\nChecking if you have File::Spec 0 ... Yes (3.40)\nChecking if you have Carp 0 ... Yes (1.29)\nChecking if you have Test::More 0 ... Yes (1.001014)\nBuilding and testing Try-Tiny-0.24\nPERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\n# \n# Versions for all modules listed in MYMETA.json (including optional ones):\n# \n# === Configure Requires ===\n# \n#     Module              Want Have\n#     ------------------- ---- ----\n#     ExtUtils::MakeMaker  any 6.66\n# \n# === Build Requires ===\n# \n#     Module              Want Have\n#     ------------------- ---- ----\n#     ExtUtils::MakeMaker  any 6.66\n# \n# === Test Requires ===\n# \n#     Module              Want     Have\n#     ------------------- ---- --------\n#     ExtUtils::MakeMaker  any     6.66\n#     File::Spec           any     3.40\n#     Test::More           any 1.001014\n#     if                   any   0.0602\n# \n# === Test Recommends ===\n# \n#     Module            Want     Have\n#     ------------- -------- --------\n#     CPAN::Meta    2.120900 2.133380\n#     Capture::Tiny     0.12  missing\n# \n# === Test Suggests ===\n# \n#     Module    Want    Have\n#     --------- ---- -------\n#     Sub::Util  any missing\n# \n# === Runtime Requires ===\n# \n#     Module   Want Have\n#     -------- ---- ----\n#     Carp      any 1.29\n#     Exporter 5.57 5.68\n#     constant  any 1.27\n#     strict    any 1.07\n#     warnings  any 1.18\n# \n# === Other Modules ===\n# \n#     Module           Have\n#     ------------- -------\n#     Pod::Coverage missing\n# \nt/00-report-prereqs.t .......... ok\nCan't locate Try/Tiny.pm in @INC (you may need to install the Try::Tiny module) (@INC contains: /home/zxu/.cpanm/work/1462290395.17141/Try-Tiny-0.24/blib/lib /home/zxu/.cpanm/work/1462290395.17141/Try-Tin\ny-0.24/blib/arch /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl .) at t/basic.t line 8.\nBEGIN failed--compilation aborted at t/basic.t line 8.\n# Looks like your test exited with 2 before it could output anything.\nt/basic.t ...................... \nDubious, test returned 2 (wstat 512, 0x200)\nFailed 25/25 subtests \nCan't locate Try/Tiny.pm in @INC (you may need to install the Try::Tiny module) (@INC contains: /home/zxu/.cpanm/work/1462290395.17141/Try-Tiny-0.24/blib/lib /home/zxu/.cpanm/work/1462290395.17141/Try-Tiny-0.24/blib/arch /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl .) at t/context.t line 6.\nBEGIN failed--compilation aborted at t/context.t line 6.\n... ... ##more tests failure\nTest Summary Report\n-------------------\nt/basic.t                    (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 25 tests but ran 0.\nt/context.t                  (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/erroneous_usage.t          (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 8 tests but ran 0.\nt/finally.t                  (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 27 tests but ran 0.\nt/given_when.t               (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 2 tests but ran 0.\nt/global_destruction_forked.t (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 3 tests but ran 0.\nt/when.t                     (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: Bad plan.  You planned 5 tests but ran 0.\nFiles=10, Tests=1,  0 wallclock secs ( 0.02 usr  0.01 sys +  0.23 cusr  0.02 csys =  0.28 CPU)\nResult: FAIL\nFailed 7/10 test programs. 0/1 subtests failed.\nmake: *** [test_dynamic] Error 2\n-&gt; FAIL Installing Try::Tiny failed. See /home/zxu/.cpanm/work/1462290395.17141/build.log for details. Retry with --force to force install it.\n</code></pre>\n\n<p>, and if I run <code>sudo -s</code>, <code>cd</code> to the downloaded module directory and run <code>perl Makefile.PL &amp;&amp; make &amp;&amp; make test</code>, the tests fail again (compared with the cpanm log, no missing file warnings anymore):</p>\n\n<pre><code>Writing Makefile for Try::Tiny\nWide character in print at /usr/share/perl/5.18/ExtUtils/MakeMaker.pm line 1034.\nWide character in print at /usr/share/perl/5.18/ExtUtils/MakeMaker.pm line 1034.\nWide character in print at /usr/share/perl/5.18/ExtUtils/MakeMaker.pm line 1034.\nWriting MYMETA.yml and MYMETA.json\nPERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/00-report-prereqs.t .......... # \n# Versions for all modules listed in MYMETA.json (including optional ones):\n# \n# === Configure Requires ===\n# \n#     Module              Want Have\n#     ------------------- ---- ----\n#     ExtUtils::MakeMaker  any 6.66\n# \n# === Build Requires ===\n# \n#     Module              Want Have\n#     ------------------- ---- ----\n#     ExtUtils::MakeMaker  any 6.66\n# \n# === Test Requires ===\n# \n#     Module              Want     Have\n#     ------------------- ---- --------\n#     ExtUtils::MakeMaker  any     6.66\n#     File::Spec           any     3.40\n#     Test::More           any 1.001014\n#     if                   any   0.0602\n# \n# === Test Recommends ===\n# \n#     Module            Want     Have\n#     ------------- -------- --------\n#     CPAN::Meta    2.120900 2.133380\n#     Capture::Tiny     0.12  missing\n# \n# === Test Suggests ===\n# \n#     Module    Want    Have\n#     --------- ---- -------\n#     Sub::Util  any missing\n# \n# === Runtime Requires ===\n# \n#     Module   Want Have\n#     -------- ---- ----\n#     Carp      any 1.29\n#     Exporter 5.57 5.68\n#     constant  any 1.27\n#     strict    any 1.07\n#     warnings  any 1.18\n# \n# === Other Modules ===\n# \n#     Module           Have\n#     ------------- -------\n#     Pod::Coverage missing\n# \nt/00-report-prereqs.t .......... ok   \nt/basic.t ...................... Can't locate Try/Tiny.pm in @INC (you may need to install the Try::Tiny module) (@INC contains: /home/zxu/.cpanm/work/1462290395.17141/Try-Tiny-0.24/blib/lib /home/zxu/.cp\nanm/work/1462290395.17141/Try-Tiny-0.24/blib/arch /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/s\nite_perl .) at t/basic.t line 8.\nBEGIN failed--compilation aborted at t/basic.t line 8.\n# Looks like your test exited with 2 before it could output anything.\nt/basic.t ...................... Dubious, test returned 2 (wstat 512, 0x200)\nFailed 25/25 subtests \nt/context.t .................... Can't locate Try/Tiny.pm in @INC (you may need to install the Try::Tiny module) (@INC contains: /home/zxu/.cpanm/work/1462290395.17141/Try-Tiny-0.24/blib/lib /home/zxu/.cp\nanm/work/1462290395.17141/Try-Tiny-0.24/blib/arch /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/s\nite_perl .) at t/context.t line 6.\nBEGIN failed--compilation aborted at t/context.t line 6.\n... ... ##more tests failure\n</code></pre>\n\n<p>It seems the module Try::Tiny is not installed successfully since <code>make</code> didn't spit out any log message and the test couldn't locate the module in @INC. I am on Ubuntu 14.04 (kernel 3.13.0-24-generic), and using apt-get install for module installation is ok. The output from <code>perl -V</code> is:</p>\n\n<pre><code>Summary of my perl5 (revision 5 version 18 subversion 2) configuration:\n\n  Platform:\n    osname=linux, osvers=3.13.0-79-generic, archname=x86_64-linux-gnu-thread-multi\n    uname='linux lgw01-37 3.13.0-79-generic #123-ubuntu smp fri feb 19 14:27:58 utc 2016 x86_64 x86_64 x86_64 gnulinux '\n    config_args='-Dusethreads -Duselargefiles -Dccflags=-DDEBIAN -D_FORTIFY_SOURCE=2 -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -Dldflags= -Wl,-Bsymbolic-functions\n -Wl,-z,relro -Dlddlflags=-shared -Wl,-Bsymbolic-functions -Wl,-z,relro -Dcccdlflags=-fPIC -Darchname=x86_64-linux-gnu -Dprefix=/usr -Dprivlib=/usr/share/perl/5.18 -Darchlib=/usr/lib/perl/5.18 -Dvendorpre\nfix=/usr -Dvendorlib=/usr/share/perl5 -Dvendorarch=/usr/lib/perl5 -Dsiteprefix=/usr/local -Dsitelib=/usr/local/share/perl/5.18.2 -Dsitearch=/usr/local/lib/perl/5.18.2 -Dman1dir=/usr/share/man/man1 -Dman3d\nir=/usr/share/man/man3 -Dsiteman1dir=/usr/local/man/man1 -Dsiteman3dir=/usr/local/man/man3 -Duse64bitint -Dman1ext=1 -Dman3ext=3perl -Dpager=/usr/bin/sensible-pager -Uafs -Ud_csh -Ud_ualarm -Uusesfio -Uus\nenm -Ui_libutil -Uversiononly -DDEBUGGING=-g -Doptimize=-O2 -Duseshrplib -Dlibperl=libperl.so.5.18.2 -des'\n    hint=recommended, useposix=true, d_sigaction=define\n    useithreads=define, usemultiplicity=define\n    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef\n    use64bitint=define, use64bitall=define, uselongdouble=undef\n    usemymalloc=n, bincompat5005=undef\n  Compiler:\n    cc='cc', ccflags ='-D_REENTRANT -D_GNU_SOURCE -DDEBIAN -fstack-protector -fno-strict-aliasing -pipe -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64',\n    optimize='-O2 -g',\n    cppflags='-D_REENTRANT -D_GNU_SOURCE -DDEBIAN -fstack-protector -fno-strict-aliasing -pipe -I/usr/local/include'\n    ccversion='', gccversion='4.8.2', gccosandvers=''\n    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678\n    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16\n    ivtype='long', ivsize=8, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8\n    alignbytes=8, prototype=define\n  Linker and Libraries:\n    ld='cc', ldflags =' -fstack-protector -L/usr/local/lib'\n    libpth=/usr/local/lib /lib/x86_64-linux-gnu /lib/../lib /usr/lib/x86_64-linux-gnu /usr/lib/../lib /lib /usr/lib\n    libs=-lgdbm -lgdbm_compat -ldb -ldl -lm -lpthread -lc -lcrypt\n    perllibs=-ldl -lm -lpthread -lc -lcrypt\n    libc=, so=so, useshrplib=true, libperl=libperl.so.5.18.2\n    gnulibc_version='2.19'\n  Dynamic Linking:\n    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags='-Wl,-E'\n    cccdlflags='-fPIC', lddlflags='-shared -L/usr/local/lib -fstack-protector'\n\nCharacteristics of this binary (from libperl): \n  Compile-time options: HAS_TIMES MULTIPLICITY PERLIO_LAYERS\n                        PERL_DONT_CREATE_GVSV\n                        PERL_HASH_FUNC_ONE_AT_A_TIME_HARD\n                        PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP\n                        PERL_PRESERVE_IVUV PERL_SAWAMPERSAND USE_64_BIT_ALL\n                        USE_64_BIT_INT USE_ITHREADS USE_LARGE_FILES\n                        USE_LOCALE USE_LOCALE_COLLATE USE_LOCALE_CTYPE\n                        USE_LOCALE_NUMERIC USE_PERLIO USE_PERL_ATOF\n                        USE_REENTRANT_API\n  Locally applied patches:\n        DEBPKG:debian/cpan_definstalldirs - Provide a sensible INSTALLDIRS default for modules installed from CPAN.\n        DEBPKG:debian/db_file_ver - http://bugs.debian.org/340047 Remove overly restrictive DB_File version check.\n        DEBPKG:debian/doc_info - Replace generic man(1) instructions with Debian-specific information.\n        DEBPKG:debian/enc2xs_inc - http://bugs.debian.org/290336 Tweak enc2xs to follow symlinks and ignore missing @INC directories.\n        DEBPKG:debian/errno_ver - http://bugs.debian.org/343351 Remove Errno version check due to upgrade problems with long-running processes.\n        DEBPKG:debian/libperl_embed_doc - http://bugs.debian.org/186778 Note that libperl-dev package is required for embedded linking\n        DEBPKG:fixes/respect_umask - Respect umask during installation\n        DEBPKG:debian/writable_site_dirs - Set umask approproately for site install directories\n        DEBPKG:debian/extutils_set_libperl_path - EU:MM: Set location of libperl.a to /usr/lib\n        DEBPKG:debian/no_packlist_perllocal - Don't install .packlist or perllocal.pod for perl or vendor\n        DEBPKG:debian/prefix_changes - Fiddle with *PREFIX and variables written to the makefile\n        DEBPKG:debian/fakeroot - Postpone LD_LIBRARY_PATH evaluation to the binary targets.\n        DEBPKG:debian/instmodsh_doc - Debian policy doesn't install .packlist files for core or vendor.\n        DEBPKG:debian/ld_run_path - Remove standard libs from LD_RUN_PATH as per Debian policy.\n        DEBPKG:debian/libnet_config_path - Set location of libnet.cfg to /etc/perl/Net as /usr may not be writable.\n        DEBPKG:debian/mod_paths - Tweak @INC ordering for Debian\n        DEBPKG:debian/module_build_man_extensions - http://bugs.debian.org/479460 Adjust Module::Build manual page extensions for the Debian Perl policy\n        DEBPKG:debian/prune_libs - http://bugs.debian.org/128355 Prune the list of libraries wanted to what we actually need.\n        DEBPKG:fixes/net_smtp_docs - [rt.cpan.org #36038] http://bugs.debian.org/100195 Document the Net::SMTP 'Port' option\n        DEBPKG:debian/perlivp - http://bugs.debian.org/510895 Make perlivp skip include directories in /usr/local\n        DEBPKG:debian/cpanplus_definstalldirs - http://bugs.debian.org/533707 Configure CPANPLUS to use the site directories by default.\n        DEBPKG:debian/cpanplus_config_path - Save local versions of CPANPLUS::Config::System into /etc/perl.\n        DEBPKG:debian/deprecate-with-apt - http://bugs.debian.org/702096 Point users to Debian packages of deprecated core modules\n        DEBPKG:debian/squelch-locale-warnings - http://bugs.debian.org/508764 Squelch locale warnings in Debian package maintainer scripts\n        DEBPKG:debian/skip-upstream-git-tests - Skip tests specific to the upstream Git repository\n        DEBPKG:debian/patchlevel - http://bugs.debian.org/567489 List packaged patches for 5.18.2-2ubuntu1.1 in patchlevel.h\n        DEBPKG:debian/skip-kfreebsd-crash - http://bugs.debian.org/628493 [perl #96272] Skip a crashing test case in t/op/threads.t on GNU/kFreeBSD\n        DEBPKG:fixes/document_makemaker_ccflags - http://bugs.debian.org/628522 [rt.cpan.org #68613] Document that CCFLAGS should include $Config{ccflags}\n        DEBPKG:debian/find_html2text - http://bugs.debian.org/640479 Configure CPAN::Distribution with correct name of html2text\n        DEBPKG:debian/hurd_test_skip_stack - http://bugs.debian.org/650175 Disable failing GNU/Hurd tests dist/threads/t/stack.t\n        DEBPKG:fixes/manpage_name_Test-Harness - http://bugs.debian.org/650451 [rt.cpan.org #73399] cpan/Test-Harness: add NAME headings in modules with POD\n        DEBPKG:debian/makemaker-pasthru - http://bugs.debian.org/660195 [rt.cpan.org #28632] Make EU::MM pass LD through to recursive Makefile.PL invocations\n        DEBPKG:debian/perl5db-x-terminal-emulator.patch - http://bugs.debian.org/668490 Invoke x-terminal-emulator rather than xterm in perl5db.pl\n        DEBPKG:debian/cpan-missing-site-dirs - http://bugs.debian.org/688842 Fix CPAN::FirstTime defaults with nonexisting site dirs if a parent is writable\n        DEBPKG:fixes/memoize_storable_nstore - [rt.cpan.org #77790] http://bugs.debian.org/587650 Memoize::Storable: respect 'nstore' option not respected\n        DEBPKG:fixes/net_ftp_failed_command - [rt.cpan.org #37700] http://bugs.debian.org/491062 Net::FTP: cope gracefully with a failed command\n        DEBPKG:fixes/perlbug-patchlist - [3541c11] http://bugs.debian.org/710842 [perl #118433] Make perlbug look up the list of local patches at run time\n        DEBPKG:fixes/module_metadata_security_doc - [68cdd4b] CVE-2013-1437 documentation fix\n        DEBPKG:fixes/module_metadata_taint_fix - [bff978f] http://bugs.debian.org/722210 [rt.cpan.org #88576] untaint version, if needed, in Module::Metadata\n        DEBPKG:fixes/IPC-SysV-spelling - http://bugs.debian.org/730558 [rt.cpan.org #86736] Fix spelling of IPC_CREAT in IPC-SysV documentation\n        DEBPKG:fixes/fix-undef-source -\n        DEBPKG:fixes/CVE-2013-7422.patch - [PATCH] [perl #119505] Segfault from bad backreference\n        DEBPKG:fixes/CVE-2014-4330.patch - [PATCH] don't recurse infinitely in Data::Dumper\n        DEBPKG:fixes/CVE-2016-2381.patch - [PATCH 1/2] remove duplicate environment variables from environ\n  Built under linux\n  Compiled at Mar  1 2016 17:15:04\n  @INC:\n    /etc/perl\n    /usr/local/lib/perl/5.18.2\n    /usr/local/share/perl/5.18.2\n    /usr/lib/perl5\n    /usr/share/perl5\n    /usr/lib/perl/5.18\n    /usr/share/perl/5.18\n    /usr/local/lib/site_perl\n    .\n</code></pre>\n\n<p>It seems the system perl was built against a different kernel version 3.13.0-79-generic. Could this be the problem? Plz help! Let me know if you need any more info. Thanks.</p>\n"}, {"tags": ["perl", "templates", "template-toolkit", "dancer"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462289872, "post_id": 37008384, "comment_id": 61569354, "body": "Note: Package names in Perl start with capital letters by convention."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462290048, "post_id": 37008384, "comment_id": 61569471, "body": "@This bet me because I got lost reading the documentation when I was looking for the link. :) Post an answer."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462292453, "post_id": 37008384, "comment_id": 61570893, "body": "@simbabque I originally posted a Dancer2 link and changed it...had to dig a bit to find the Dancer1 version. So I guess I cheated?? ;-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462292558, "post_id": 37008384, "comment_id": 61570959, "body": "@This could be. But it&#39;s fine. Very good answer. :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462292642, "post_id": 37008384, "comment_id": 61571012, "body": "Unrelated, but your config file is wrong (YAML is whitespace sensitive, unfortunately): the <code>start_tag</code> and <code>end_tag</code> directives need to be indented more than the <code>template_toolkit</code> directive."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462291219, "post_id": 37008947, "comment_id": 61570224, "body": "It&#39;s not yet clear whether OP is using Dancer or Dancer2."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462291606, "post_id": 37008947, "comment_id": 61570442, "body": "I don&#39;t think that matters. There&#39;s no difference between the handling of layouts in the two versions, is there?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1462291625, "post_id": 37008947, "comment_id": 61570452, "body": "@simbabque: There&#39;s <code>use Dancer &#39;:syntax&#39;;</code> which clearly shows Dancer 1."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1462291719, "post_id": 37008947, "comment_id": 61570494, "body": "@choroba right, I overread it. In that case, the documentation link is <a href=\"https://metacpan.org/pod/distribution/Dancer/lib/Dancer/Tutorial.pod#Layouts\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/Dancer/lib/Dancer/&hellip;</a>. But I agree that there is no difference for the concept. But a link to D2 docs might confuse readers."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1462291856, "post_id": 37008947, "comment_id": 61570581, "body": "Updated to use Dancer links."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462292218, "post_id": 37008947, "comment_id": 61570782, "body": "I love the last line. :)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1462291840, "last_edit_date": 1462291840, "creation_date": 1462291161, "answer_id": 37008947, "question_id": 37008384, "link": "https://stackoverflow.com/questions/37008384/perl-dancer-template-headers-footers/37008947#37008947", "title": "Perl Dancer Template headers, footers", "body": "<p>The <code>[% INCLUDE %]</code> directive's argument can be interpreted in one of two ways.</p>\n\n<ol>\n<li>The name of another template file</li>\n<li>The name of a block that is defined in the current template file (or in another template file which has included the current template file).</li>\n</ol>\n\n<p>All of which means that your current plan won't work. <code>menu.tt</code> won't see any block defined inside <code>index.tt</code>.</p>\n\n<p>There are a couple of better solutions though.</p>\n\n<p>Firstly, consider moving the navigation code into a third, separate, template file. You can then <code>INCLUDE</code> this template into both <code>index.tt</code> and <code>menu.tt</code>.</p>\n\n<p>Secondly, you can use Dancer's \"layout\" feature. This is a template that is wrapped around your view templates. Typically the layout template contains the navigation and all standard page furniture (like headers and footers). It also contains a <code>[% content %]</code> directive. When a view is rendered, the rendered version is dropped into the layout template in the location of the <code>[% content %]</code> directive. See the <a href=\"https://metacpan.org/pod/distribution/Dancer/lib/Dancer/Tutorial.pod#Layouts\" rel=\"nofollow\">Layouts</a> section in <a href=\"https://metacpan.org/pod/distribution/Dancer/lib/Dancer/Tutorial\" rel=\"nofollow\">Dancer::Tutorial</a> for more information.</p>\n\n<p>p.s. I see you're using Dancer. I'd highly recommend switching to Dancer2.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 5, "last_activity_date": 1462298816, "last_edit_date": 1462298816, "creation_date": 1462291791, "answer_id": 37009139, "question_id": 37008384, "link": "https://stackoverflow.com/questions/37008384/perl-dancer-template-headers-footers/37009139#37009139", "title": "Perl Dancer Template headers, footers", "body": "<p>This is what <a href=\"https://metacpan.org/pod/distribution/Dancer/lib/Dancer/Introduction.pod#LAYOUTS\" rel=\"nofollow\">layouts</a> are for. The idea is that content common to all pages (e.g. header, footer, navbar) goes in the layout and content specific to each page goes in templates called <a href=\"https://metacpan.org/pod/distribution/Dancer/lib/Dancer/Introduction.pod#VIEWS\" rel=\"nofollow\">views</a>. Views are called \"partials\" in other frameworks because they only contain the content for <em>part</em> of the page.</p>\n\n<p>If you use the <code>dancer</code> command line utility to set up your application, the default layout is <code>views/layouts/main.tt</code> and looks something like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"Content-type\" content=\"text/html; charset=&lt;% settings.charset %&gt;\" /&gt;\n  &lt;title&gt;Foo&lt;/title&gt;\n  &lt;link rel=\"stylesheet\" href=\"&lt;% request.uri_base %&gt;/css/style.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;% content %&gt;\n  &lt;div id=\"footer\"&gt;\n    Powered by &lt;a href=\"http://perldancer.org/\"&gt;Dancer&lt;/a&gt; &lt;% dancer_version %&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The <code>&lt;% content %&gt;</code> section is replaced with the specified view when you call <code>template 'view';</code>. (In your case, you'll need to change <code>&lt;%</code> and <code>%&gt;</code> to <code>[%</code> and <code>%]</code> since you're using the Template Toolkit-style delimiters.)</p>\n\n<p>For example, if <code>views/index.tt</code> is:</p>\n\n<pre><code>&lt;h1&gt;Hello, World!&lt;/h1&gt;\n</code></pre>\n\n<p>calling <code>template 'index';</code> in a route renders the following:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" /&gt;\n  &lt;title&gt;Foo&lt;/title&gt;\n  &lt;link rel=\"stylesheet\" href=\"http://www.example.com/css/style.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Hello, World!&lt;/h1&gt;\n  &lt;div id=\"footer\"&gt;\n    Powered by &lt;a href=\"http://perldancer.org/\"&gt;Dancer&lt;/a&gt; 1.3202\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Note that there's already a footer section; you just have to add elements for a header and navbar.</p>\n\n<p>If this is new development, you should really be using <a href=\"https://metacpan.org/pod/Dancer2\" rel=\"nofollow\">Dancer2</a> instead of Dancer (fortunately, layouts and views are the same in both).</p>\n"}], "owner": {"reputation": 350, "user_id": 5243363, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/koXar.jpg?s=128&g=1", "display_name": "Ch&#252;ngel", "link": "https://stackoverflow.com/users/5243363/ch%c3%bcngel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 1, "accepted_answer_id": 37009139, "answer_count": 2, "score": 5, "last_activity_date": 1462298816, "creation_date": 1462289552, "last_edit_date": 1462294041, "question_id": 37008384, "link": "https://stackoverflow.com/questions/37008384/perl-dancer-template-headers-footers", "title": "Perl Dancer Template headers, footers", "body": "<p>I'm learning Perl and using Dancer as a web framework. \nI've got two views (tt files) which should share the same navigation.\nSo, it would be great to start learning how to manage templates for navigation and footers. </p>\n\n<p>I've read the documentation for the Template Toolkit and I've done the following: </p>\n\n<p>I've changed the <code>config.yml</code> file to: </p>\n\n<pre><code>#template: \"simple\"\n\ntemplate: \"template_toolkit\"\nengines:\n     template_toolkit:\n     start_tag: '[%'\n     end_tag:   '%]'\n</code></pre>\n\n<p>I've defined the templates in the <code>.pm</code> file:</p>\n\n<pre><code>package proyecto;\nuse Dancer ':syntax';\n\nour $VERSION = '0.1';\n\nget '/' =&gt; sub {\n    template 'index';\n};\n\n\nget '/menu' =&gt; sub {\n    template 'menu';\n};\n\ntrue;\n</code></pre>\n\n<p>There is a link in the index template directing the visitor to the menu template: </p>\n\n<pre><code>&lt;li class=\"active\"&gt;&lt; a href=\"/menu\"&gt;Menu &lt;span class=\"sr-only\"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>I would like to reuse the navigation code from index.tt into menu.tt, so I've wrapped the navigation code in index.tt with the following: </p>\n\n<pre><code>[% BLOCK navigation %]\n#my nav code\n[% END %]\n</code></pre>\n\n<p>To finally include that code in the menu.tt file, I've written the following (where the navigation code should be):</p>\n\n<pre><code>[% navigation = 'index.tt' %]\n[% INCLUDE navigation %] \n</code></pre>\n\n<p>The files <code>index.tt</code> and <code>menu.tt</code> are located in the folder views. But it seems it's not that easy! =( Any suggestion on how to reuse code from one file to another which is located in the same directory?</p>\n"}, {"tags": ["perl", "datetime", "timezone", "timezone-offset"], "comments": [{"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462282116, "post_id": 37004673, "comment_id": 61563413, "body": "found a way on my own: perl -e &#39;use DateTime; my @av_tmp_DT=DateTime::TimeZone-&gt;all_names; print &quot;@av_tmp_DT\\n&quot;;&#39;"}, {"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462283560, "post_id": 37004673, "comment_id": 61564626, "body": "I found a way to calculate the time in CET: First I get the current hour on my mashine: $av_loc_TESTHOUR=DateTime-&gt;now(time_zone=&gt;&#39;CET&#39;)-&gt;strftime(&#39;&zwnj;&#8203;%H&#39;); Then I reduce the value by the offset if one: $av_loc_TESTHOUR-=DateTime-&gt;now(time_zone=&gt;&#39;CET&#39;)-&gt;is_dst();"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462287944, "post_id": 37006826, "comment_id": 61567946, "body": "yes, but &quot;Europe/Berlin&quot; does not help in this case. I need to calculate the time what hour it would be in CET regardless what we currently have on my mashine. BASH can do! But I already posted the result I will use. Caused me some thinking around the corner but that is often the case in IT. At least it works."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462289715, "post_id": 37006826, "comment_id": 61569254, "body": "Respectfully, I don&#39;t think you&#39;ve thought this through carefully.  Please read <a href=\"http://stackoverflow.com/tags/timezone/info\">the timezone tag wiki</a>, and the <a href=\"http://stackoverflow.com/q/2532729/634824\">Daylight saving time and time zone best practices</a> article."}, {"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462354308, "post_id": 37006826, "comment_id": 61597904, "body": "I meanwhile have replace CET with &quot;Europe/Berlin&quot;. Gives the same result but is saver as more compliant to &quot;as designed&quot;. The environment this conversion from CEST to CET must be done is complex and I do not want to bother you with this. At least, the solution posted works for me. So for the moment I will stay with this. Date/Time constructs are extremly challenging. It took me weeks until I got a working solution in bash. But thanks for hints."}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": false, "score": 1, "last_activity_date": 1462285342, "creation_date": 1462285342, "answer_id": 37006826, "question_id": 37004673, "link": "https://stackoverflow.com/questions/37004673/what-time-zones-does-datetime-accept/37006826#37006826", "title": "What time zones does DateTime accept?", "body": "<p>From the <code>DateTime</code> module's <a href=\"http://search.cpan.org/~drolsky/DateTime-1.26/lib/DateTime.pm\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>The time_zone parameter can be either a scalar or a <code>DateTime::TimeZone</code> object. A string will simply be passed to the <code>DateTime::TimeZone-&gt;new</code> method as its \"name\" parameter. This string may be an Olson DB time zone name (\"America/Chicago\"), an offset string (\"+0630\"), or the words \"floating\" or \"local\". See the <code>DateTime::TimeZone</code> documentation for more details.</p>\n</blockquote>\n\n<p>The \"for more details\" documentation it refers to is <a href=\"http://search.cpan.org/~drolsky/DateTime-TimeZone-1.98/lib/DateTime/TimeZone.pm\" rel=\"nofollow\">here</a>.</p>\n\n<p>The \"Olson\" database it refers to is the standard IANA <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow\">TZ Database</a>, whose identifiers you can find <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow\">here</a>.</p>\n\n<p>Identifiers like <code>\"CET\"</code> are only in the data for backwards compatibility purposes.  You should instead be using a fully qualified location-based time zone identifier, such as <code>\"Europe/Paris\"</code>.</p>\n"}], "owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523438837, "creation_date": 1462279833, "last_edit_date": 1523438837, "question_id": 37004673, "link": "https://stackoverflow.com/questions/37004673/what-time-zones-does-datetime-accept", "title": "What time zones does DateTime accept?", "body": "<p>I have tried to find out via the documentation but was not able to answer this question: What time_zone literals does <code>DateTime</code> in perl accept?</p>\n\n<p><code>CEST</code> is not valid. For <code>CET</code>, output is the current time but we currently have <code>CEST</code> timezone active.</p>\n\n<p>What I am at: I would like to get the current time and find out what time it would be in <code>CET</code>.</p>\n\n<p>If the server is running at <code>CEST</code> it should give as result the current time -1h. If the server is running at <code>CET</code>, it should give the current time.</p>\n\n<p>My approach is:</p>\n\n<pre><code>$av_loc_TESTHOUR = DateTime-&gt;now(time_zone=&gt;'CET')-&gt;strftime('%H');\n</code></pre>\n\n<p>which gives the current time of the server as result, but should give the current time -1h.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1462281108, "post_id": 37004559, "comment_id": 61562649, "body": "You know, that&#39;s not really how StackOverflow is supposed to work. We&#39;re not going to just write code to your specifications. Generally, we like you to show some effort in solving the problem yourself and we&#39;ll help you over any specific issues that you&#39;re having."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1462291939, "post_id": 37004559, "comment_id": 61570631, "body": "Fortunately this code has already been written.  <code>Config::General</code> reads this file format nicely, and it&#39;s <code>save_file</code> method will do the writing."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1462292029, "post_id": 37004559, "comment_id": 61570678, "body": "<a href=\"http://whathaveyoutried.com\" rel=\"nofollow noreferrer\">What have you tried?</a> Please <a href=\"https://stackoverflow.com/posts/37004559/edit\">edit</a> your question to show the code you have written so far and where you are stuck, then we can try to help with specific problems. You should also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1462280021, "post_id": 37004729, "comment_id": 61561842, "body": "I want this to put in a perl script how can we do this inside a perl script"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1462280405, "post_id": 37004729, "comment_id": 61562154, "body": "@Developer: Check the update."}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1462282081, "post_id": 37004729, "comment_id": 61563386, "body": "It is not updating the file value"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1462280398, "last_edit_date": 1462280398, "creation_date": 1462279947, "answer_id": 37004729, "question_id": 37004559, "link": "https://stackoverflow.com/questions/37004559/how-to-edit-a-file-text-in-perl/37004729#37004729", "title": "How to Edit a File Text in Perl", "body": "<p>You can do it directly from the command line with a one-liner:</p>\n\n<pre><code>perl -i~ -pe 's/^(\\s*NUM1 )=.*/$1=NewValue/' config-file\n</code></pre>\n\n<ul>\n<li><code>-i~</code> changes the file \"in place\", leaving a backup with the tilde appended</li>\n<li><code>-p</code> reads the input line by line and prints it</li>\n<li><code>s///</code> is a substitution</li>\n<li><code>()</code> create a capture group in a regex, the first capture group can be referenced from the replacement part as <code>$1</code></li>\n</ul>\n\n<p>In a script, you need to add replace <code>-p</code> with the actual code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nwhile (&lt;&gt;) {\n    s/^(\\s*NUM1 )=.*/$1=NewValue/;\n    print;\n}\n</code></pre>\n\n<p>Save to <code>update-config</code>, run as <code>update-config config-file &gt; new-config</code>.</p>\n\n<p>Or, if you want to handle even the opening of the file yourself:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $filename = 'config-file';\nmy $newfile  = \"$filename.new\";\nmy $backup   = \"$filename~\";\n\nopen my $IN, '&lt;', $filename or die $!;\nopen my $OUT, '&gt;', $newfile or die $!;\nwhile (&lt;$IN&gt;) {\n    s/^(\\s*NUM1 )=.*/$1=NewValue/;\n    print {$OUT} $_;\n}\nclose $OUT or die $!;\nrename $filename, $backup or die $!;\nrename $newfile, $filename or die $!;\n</code></pre>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 0, "closed_date": 1462292036, "accepted_answer_id": 37004729, "answer_count": 1, "score": -2, "last_activity_date": 1462280398, "creation_date": 1462279536, "question_id": 37004559, "link": "https://stackoverflow.com/questions/37004559/how-to-edit-a-file-text-in-perl", "closed_reason": "Needs more focus", "title": "How to Edit a File Text in Perl", "body": "<p>I have a file now in that i want to update the value of variable.How can we do this .\n<strong>File Content:</strong></p>\n\n<pre><code>&lt;Config&gt;\n NUM1 =  8\n AMV1 =  8\n AMV2 =  8\n DEF2 =  8\n DGF =  8\n &lt;/Config&gt;\n</code></pre>\n\n<p>Now in this i want to change the value of <code>NUM1</code> how can we do this in Perl.</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "edited": false, "score": 1, "creation_date": 1462278732, "post_id": 37004079, "comment_id": 61560872, "body": "Did you try trapping SIGCHLD?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1462279251, "post_id": 37004079, "comment_id": 61561254, "body": "<a href=\"https://metacpan.org/pod/IO::Select\" rel=\"nofollow noreferrer\"><code>IO::Select</code></a> can also be used. See <a href=\"http://stackoverflow.com/questions/25581407/perl-select-return-bad-file-descriptor-error\">Perl select return \u201cbad file descriptor\u201d error</a>"}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1462281107, "post_id": 37004248, "comment_id": 61562648, "body": "and sets <code>$?</code> to the exit code of the child process."}, {"owner": {"reputation": 3124, "user_id": 354633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kx0E0.jpg?s=128&g=1", "display_name": "antred", "link": "https://stackoverflow.com/users/354633/antred"}, "edited": false, "score": 0, "creation_date": 1462304484, "post_id": 37004248, "comment_id": 61578082, "body": "Form the link you posted: &quot;... it waits for a child process to terminate and returns the pid of the deceased process, or -1 if there are no child processes.&quot;  Yes, sounds like what I need. Thanks. :-)"}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": true, "score": 3, "last_activity_date": 1462278728, "creation_date": 1462278728, "answer_id": 37004248, "question_id": 37004079, "link": "https://stackoverflow.com/questions/37004079/fork-waitpid-wait-for-a-list-of-child-processes-but-interrupt-the-wait-every/37004248#37004248", "title": "(fork / waitpid) Wait for a list of child processes but interrupt the wait every time a child finishes", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/functions/wait.html\" rel=\"nofollow\">wait</a> function, it waits for a child process to terminate and returns the pid of the deceased process.</p>\n"}, {"tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 1, "last_activity_date": 1462278926, "creation_date": 1462278926, "answer_id": 37004326, "question_id": 37004079, "link": "https://stackoverflow.com/questions/37004079/fork-waitpid-wait-for-a-list-of-child-processes-but-interrupt-the-wait-every/37004326#37004326", "title": "(fork / waitpid) Wait for a list of child processes but interrupt the wait every time a child finishes", "body": "<p>You can trap SIGCHLD, something like this:</p>\n\n<pre><code>$SIG{CHLD} = sub {\n    my $child;\n    while ( ( $child = waitpid( -1, WNOHANG ) ) &gt; 0 ) {\n        warn(\"Reaped $child, exited with $?\");\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 3124, "user_id": 354633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kx0E0.jpg?s=128&g=1", "display_name": "antred", "link": "https://stackoverflow.com/users/354633/antred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "accepted_answer_id": 37004248, "answer_count": 2, "score": 3, "last_activity_date": 1478955491, "creation_date": 1462278302, "last_edit_date": 1478955491, "question_id": 37004079, "link": "https://stackoverflow.com/questions/37004079/fork-waitpid-wait-for-a-list-of-child-processes-but-interrupt-the-wait-every", "title": "(fork / waitpid) Wait for a list of child processes but interrupt the wait every time a child finishes", "body": "<p>I'm using <code>fork</code> to spawn a number of child processes that run several tasks in parallel. In my case it is not sufficient to simply wait on all child processes in a loop, because if the first process in my list is the last to finish then my <code>waitpid</code> call would block until that process has finished.</p>\n\n<p>I want my <code>waitpid</code> call to wake up every time a process has finished. The reason is that I immediately want to inspect the finished child process's exit code to determine if the process was successful so I can cancel any child processes still running. In my case, there is no point in letting them continue (potentially for hours!) if any child process returns a non-zero exit code because that would indicate an error, and even a single error would make the whole undertaking pointless.</p>\n\n<p>(EDIT: I know that that's not how <code>waitpid</code> actually works, but I'm looking for something like that.)</p>\n\n<p>Now, I <em>could</em> do this by using a loop to call <code>waitpid</code> with the <code>WNOHANG</code> flag and then keep checking my child processes with sleep intervals between individual <code>waitpid</code> calls, but this solution seems like a hack. Does anyone have a more elegant solution?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1462274932, "post_id": 37002839, "comment_id": 61558360, "body": "You should use a split approach."}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "edited": false, "score": 1, "creation_date": 1462275326, "post_id": 37002839, "comment_id": 61558614, "body": "Your comment should be an answer"}, {"owner": {"reputation": 15076, "user_id": 2549021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHZn6.png?s=128&g=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/2549021/aks"}, "edited": false, "score": 0, "creation_date": 1462275537, "post_id": 37002839, "comment_id": 61558727, "body": "@Deano I added the answer."}], "answers": [{"tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": true, "score": 3, "last_activity_date": 1462276008, "last_edit_date": 1462276008, "creation_date": 1462275333, "answer_id": 37003038, "question_id": 37002839, "link": "https://stackoverflow.com/questions/37002839/how-to-extract-unix-path-in-perl/37003038#37003038", "title": "How to extract unix path in perl", "body": "<p>I would use a split too... or a more general regex than the one you are using:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $data = '[security] [client 198.66.91.7] [domain testphp.example.com] [200] [/apache/20160503/20160503-0636/20160503-063628-Vyh-LH8AAAEAAE6zC@AAAAAD] (null)';\n\nmy @fields = $data =~ /(?:\\[(.*?)\\])+/g;\n\nprint Dumper(\\@fields);\n</code></pre>\n\n<p>The output you get is:</p>\n\n<pre><code>$VAR1 = [\n          'security',\n          'client 198.66.91.7',\n          'domain testphp.example.com',\n          '200',                                                                                                                               \n          '/apache/20160503/20160503-0636/20160503-063628-Vyh-LH8AAAEAAE6zC@AAAAAD'                                                            \n        ];         \n</code></pre>\n\n<p>So the fifth element of the returned array is what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 15076, "user_id": 2549021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHZn6.png?s=128&g=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/2549021/aks"}, "is_accepted": false, "score": 0, "last_activity_date": 1462275420, "last_edit_date": 1495542703, "creation_date": 1462275420, "answer_id": 37003069, "question_id": 37002839, "link": "https://stackoverflow.com/questions/37002839/how-to-extract-unix-path-in-perl/37003069#37003069", "title": "How to extract unix path in perl", "body": "<p>I created this <a href=\"https://regex101.com/r/cM6eF6/1\" rel=\"nofollow noreferrer\">regex demo</a>:</p>\n\n<pre><code>\\[\\d{3}\\]\\s+\\[(\\S+)\\]\n</code></pre>\n\n<p>My answer is based on the assumption that the url that you want to match will always be followed by a HTTP status code.</p>\n\n<p>Since it is HTTP status code we could also write (as in this <a href=\"https://stackoverflow.com/a/37001544/2549021\">SO post</a>):</p>\n\n<pre><code>\\[[1-5][0-9]{2}\\]\\s+\\[(\\S+)\\]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 2, "creation_date": 1462279713, "post_id": 37003907, "comment_id": 61561596, "body": "I like your solution. You should include the capture groups: <code>&#47;\\[([^\\]]+)\\]&#47;g</code>"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1462292093, "last_edit_date": 1462292093, "creation_date": 1462277825, "answer_id": 37003907, "question_id": 37002839, "link": "https://stackoverflow.com/questions/37002839/how-to-extract-unix-path-in-perl/37003907#37003907", "title": "How to extract unix path in perl", "body": "<p>Use character class negation. Because it is performance is better than the non greedy assertions.  </p>\n\n<pre><code>my $txt = '[security] [client 198.66.91.7] [domain testphp.example.com] [200] [/apache/20160503/20160503-0636/20160503-063628-Vyh-LH8AAAEAAE6zC@AAAAAD] (null)';\n\nmy @array = $txt =~ /\\[([^\\]]+)\\]/g;\n\nprint \"@array\\n\";\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/rZ7kA8/1\" rel=\"nofollow\">Here</a>  demo for character class negation. </p>\n\n<p><a href=\"https://regex101.com/r/gF5xT1/1\" rel=\"nofollow\">Here</a>  demo for non greedy quantifier. </p>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 37003038, "answer_count": 3, "score": 1, "last_activity_date": 1462292093, "creation_date": 1462274778, "last_edit_date": 1462275029, "question_id": 37002839, "link": "https://stackoverflow.com/questions/37002839/how-to-extract-unix-path-in-perl", "title": "How to extract unix path in perl", "body": "<p>Input</p>\n\n<pre><code>[security] [client 198.66.91.7] [domain testphp.example.com] [200] [/apache/20160503/20160503-0636/20160503-063628-Vyh-LH8AAAEAAE6zC@AAAAAD] (null)\n</code></pre>\n\n<p>Desired output </p>\n\n<pre><code>/apache/20160503/20160503-0636/20160503-063628-Vyh-LH8AAAEAAE6zC@AAAAAD\n</code></pre>\n\n<p>here is what I have so far</p>\n\n<pre><code>'.*?\\[.*?\\].*?\\[.*?\\].*?\\[.*?\\].*?\\[.*?\\].*?\\[(.*?)\\]'\n</code></pre>\n\n<p>My Perl code. </p>\n\n<pre><code>#!/usr/bin/perl\nuse feature 'say';\n\n$txt='[modsecurity] [client 199.66.91.7] [domain testphp.vulnweb.com] [200] [/apache/20160503/20160503-0636/20160503-063628-Vyh-LH8AAAEAAE6zC@AAAAAD] (null)';\n\n\n$re=''.*?\\[.*?\\].*?\\[.*?\\].*?\\[.*?\\].*?\\[.*?\\].*?\\[(.*?)\\]'';\n\nif ($txt =~ m/$re/is)\n{\n    $sbraces1=$1;\n    say $1; \n}\n</code></pre>\n\n<p>output </p>\n\n<pre><code>/apache/20160503/20160503-0636/20160503-063628-Vyh-LH8AAAEAAE6zC@AAAAAD\n</code></pre>\n\n<p>I think my regex is messy? maybe another way?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1462451662, "post_id": 37001221, "comment_id": 61648760, "body": "The command you are trying to run has a syntax error. <code>set</code> requires a variable name to set and a value to set it to, separated by an equals sign."}], "answers": [{"comments": [{"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1462456703, "post_id": 37051577, "comment_id": 61652323, "body": "Actually there are Windows-specific API functions to set environment and broadcast change message to system so other process spawned independently from perl would see those changes too. I did a small module on CPAN called Win32::Env that just a thin wrapper for those calls, but <b>it doesn&#39;t work right now</b>, though it can be fixed with some minimal effort when I have time. Until then people can check source and roll their own solution."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1462454001, "creation_date": 1462454001, "answer_id": 37051577, "question_id": 37001221, "link": "https://stackoverflow.com/questions/37001221/running-set-command-in-perl/37051577#37051577", "title": "Running SET command in Perl", "body": "<p>Presuming you clean up the syntax errors, you still have the problem that you seem to misunderstand how environment variables and the <code>system</code> command work.</p>\n\n<ul>\n<li><p>Environment Variables are process level values that are passed on to any spawned child processes.  They do not pass from Child to Parent.</p></li>\n<li><p>The <code>system</code> command spawns a child process to do some work.</p></li>\n</ul>\n\n<p>The problem you've got here is that even if you set the environment variable in the child shell, when that child shell dies &amp; passes control back to perl, the environment variable has died with it.</p>\n\n<ul>\n<li><p>If you need an Environment variable that Perl can pass on to later child processes, look into using the <code>%ENV</code> hash.</p></li>\n<li><p>If you would like to affect the environment of perl's parent process then the best you can hope to do is build a shell script, batch file, or the like that can be processed by the parent itself.</p></li>\n</ul>\n"}], "owner": {"reputation": 101, "user_id": 5951584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ZVPFa.jpg?s=128&g=1", "display_name": "shinoy.m", "link": "https://stackoverflow.com/users/5951584/shinoy-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1462454001, "creation_date": 1462269917, "last_edit_date": 1462450750, "question_id": 37001221, "link": "https://stackoverflow.com/questions/37001221/running-set-command-in-perl", "title": "Running SET command in Perl", "body": "<p>I am using Perl version 5.22 ,And I am trying to SET an Environment variable though Perl script using the System function.\nBut the SET command is not working.\nI am using the like this </p>\n\n<pre><code>my $return_val = system(\" SET D:\\Path\\Folder \");\nthe return_val returns value 256.\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 4237, "user_id": 797308, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6e98fb28139b207c708da19e50ce00a?s=128&d=identicon&r=PG", "display_name": "NirMH", "link": "https://stackoverflow.com/users/797308/nirmh"}, "edited": false, "score": 0, "creation_date": 1462268469, "post_id": 37000221, "comment_id": 61554191, "body": "So why declaring it if there is no use of it?"}, {"owner": {"reputation": 4237, "user_id": 797308, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6e98fb28139b207c708da19e50ce00a?s=128&d=identicon&r=PG", "display_name": "NirMH", "link": "https://stackoverflow.com/users/797308/nirmh"}, "edited": false, "score": 0, "creation_date": 1462272125, "post_id": 37000221, "comment_id": 61556624, "body": "fixed the code snippet. and what is the usage of this subroutine?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1462273905, "last_edit_date": 1462273905, "creation_date": 1462267104, "answer_id": 37000221, "question_id": 36999719, "link": "https://stackoverflow.com/questions/36999719/what-is-perl-tkmethods-and-tksubmethods-statements-usage/37000221#37000221", "title": "What is Perl Tk::Methods and Tk::Submethods statements usage?", "body": "<p>There's no <code>use</code>. <code>Methods</code> is a subroutine declared in <code>Tk.pm</code>, many widgets just call it.</p>\n\n<p>The purpose of the subroutine might be guessed from the usage, or from its source (UTSL):</p>\n\n<pre><code>sub Methods\n{\n my ($package) = caller;\n no strict 'refs';\n foreach my $meth (@_)\n  {\n   my $name = $meth;\n   *{$package.\"::$meth\"} = sub { shift-&gt;WidgetMethod($name,@_) };\n  }\n}\n</code></pre>\n\n<p>It creates the given methods in the caller's namespace, i.e.</p>\n\n<pre><code>package MyWidget;\nTk::Methods('insert');\n</code></pre>\n\n<p>would create <code>insert</code> method in the <code>MyWidget</code> class that would be implemented as</p>\n\n<pre><code>shift-&gt;WidgetMethod('insert', @_)\n</code></pre>\n"}], "owner": {"reputation": 4237, "user_id": 797308, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e6e98fb28139b207c708da19e50ce00a?s=128&d=identicon&r=PG", "display_name": "NirMH", "link": "https://stackoverflow.com/users/797308/nirmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 37000221, "answer_count": 1, "score": 0, "last_activity_date": 1462273905, "creation_date": 1462265646, "last_edit_date": 1462272104, "question_id": 36999719, "link": "https://stackoverflow.com/questions/36999719/what-is-perl-tkmethods-and-tksubmethods-statements-usage", "title": "What is Perl Tk::Methods and Tk::Submethods statements usage?", "body": "<p>I'm looking for information about <code>Tk::Methods</code> and <code>TK::Submethods</code> statements often found in Tk widget source files. I searched the web and stack overflow and didn't find any useful info.</p>\n\n<p>I specifically looking into <code>Tk::Text</code> widget implementation.\ne.g.,</p>\n\n<p><code>Tk::Methods (... 'insert'...)</code></p>\n\n<p>Doesn't that statement mean <code>insert</code> has to be a methods within <code>Tk::Text</code> widget?</p>\n\n<p>I couldn't find any reference to an <code>insert</code> subroutine?</p>\n\n<p>i did find <code>Insert</code> (notice the capital <code>I</code>), so does <code>Tk::Methods</code> manipulate the input string in some way?</p>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1462261323, "post_id": 36997183, "comment_id": 61550007, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3852395/is-there-a-way-to-turn-on-tracing-in-perl-equivalent-to-bash-x\">Is there a way to turn on tracing in perl equivalent to bash -x?</a>"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 1, "creation_date": 1462261543, "post_id": 36997183, "comment_id": 61550139, "body": "<a href=\"http://www.effectiveperlprogramming.com/2011/11/trace-your-perl-programs/\" rel=\"nofollow noreferrer\">Trace your Perl programs</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 1, "creation_date": 1462263469, "post_id": 36997183, "comment_id": 61551180, "body": "@eballes: Excellent. I think you should expand on that and post it as an answer"}, {"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1462265261, "post_id": 36997183, "comment_id": 61552158, "body": "@eballes: thanks; I already thought it would not be that simple as in bash; hard stuff for a newbie but I will bite through!"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462266589, "post_id": 36999430, "comment_id": 61552958, "body": "now I need to find out how to include the module.  I have tried  #!/usr/bin/perl use strict; use warnings; use utf8; use &quot;mytrace.pm&quot;;  but get a syntx error - will see!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1462266783, "post_id": 36999430, "comment_id": 61553080, "body": "You have to put it in a <i>Devel</i> directory and then run Perl with <code>perl -d:mytrace foo.pl</code> where <i>mytrace</i> refers to your <i>mytrace.pm</i> file, which is in the <i>Devel</i> directory."}, {"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462269068, "post_id": 36999430, "comment_id": 61554610, "body": "O.K. success; but still 1000+ lines of trace where the script probably has less then 100."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462269605, "post_id": 36999430, "comment_id": 61554964, "body": "You also have to ask yourself what you want to achieve with this. Do you want to see what gets called when, or if some piece of code ever gets called? Or something else? That might be worth including in the question."}, {"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462275146, "post_id": 36999430, "comment_id": 61558490, "body": "for me as a newbie the answer is simple: just the same as sh -x; in other words a trace of all &quot;my&quot; satements of my program/script. If some statements calls a method I normally take the result to a variable and can let my program show it myself if needed. I normally (within bash) set a param like --debug to start the script and have some debugging prints/echo based on condition of the param [[ &quot;$debug&quot; ]] &amp;&amp; echo &quot;...&quot;. I was on the way to do the same in perl. Anyhow I would like to see my own statements - but none of the methods called."}, {"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462275698, "post_id": 36999430, "comment_id": 61558836, "body": "or just perl -d with command n - that all looks to me as this is the same as what I know from sh -x."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 1, "creation_date": 1462280665, "post_id": 36999430, "comment_id": 61562316, "body": "@averlon how should it know which lines are yours? You might want to look into <a href=\"https://metacpan.org/pod/Devel::Comments\" rel=\"nofollow noreferrer\">metacpan.org/pod/Devel::Comments</a> and combine that with the Devel::mytrace approach. Or maybe with a git blame in the <code>DB::DB</code> function? So many possibilities..."}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 6, "last_activity_date": 1462265211, "last_edit_date": 1462265211, "creation_date": 1462264796, "answer_id": 36999430, "question_id": 36997183, "link": "https://stackoverflow.com/questions/36997183/how-to-get-trace-output-from-only-the-main-package-of-a-perl-program/36999430#36999430", "title": "How to get trace output from only the main package of a Perl program", "body": "<p>The article <a href=\"http://www.effectiveperlprogramming.com/2011/11/trace-your-perl-programs/\">Trace your Perl programs</a> addresses your concerns regarding the amount of traces and shows you a way to tune the output so you just trace what you want.</p>\n\n<blockquote>\n  <p>You can create your own throw-away module to trace exactly what you want. Since the current directory is usually already in <code>@INC</code>, you can create a <code>Devel/MyTrace.pm</code>.</p>\n</blockquote>\n\n<p>Read it completely to see how the author modifies the default behavior of the trace function to output first the traces to a file, then to STDERR too and finally limits the output to just trace the primary file.</p>\n\n<blockquote>\n  <p>You can go one step further to exclude all code except for the primary file:</p>\n\n<pre><code>use v5.10;\nuse autodie;\n\nBEGIN {\n\nmy $trace_file = $ENV{TRACE_FILE} // \"mytrace.$$\";\nprint STDERR \"Saving trace to $trace_file\\n\";\n\nmy $fh = do {\n     if( $trace_file eq '-'      ) { \\*STDOUT }\n  elsif( $trace_file eq 'STDERR' ) { \\*STDERR }\n  else { \n      open my $fh, '&gt;&gt;', $trace_file;\n      $fh;\n      }\n  };\n\nsub DB::DB {\n  my( $package, $file, $line ) = caller;\n  return unless $file eq $0;\n  my $code = \\@{\"::_&lt;$file\"};\n  print $fh \"[@{[time]}] $file $l $code-&gt;[$line]\";\n  }\n}\n\n1;\n</code></pre>\n</blockquote>\n\n<p>That last chunk of code is the one that is specially interesting for you. It does exactly what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 5, "last_activity_date": 1462288731, "creation_date": 1462288731, "answer_id": 37008067, "question_id": 36997183, "link": "https://stackoverflow.com/questions/36997183/how-to-get-trace-output-from-only-the-main-package-of-a-perl-program/37008067#37008067", "title": "How to get trace output from only the main package of a Perl program", "body": "<p>Using perl with <a href=\"http://metacpan.org/pod/Devel::DumpTrace\" rel=\"noreferrer\"><code>Devel::DumpTrace</code></a> is a lot like using <code>bash -x</code>. Like <code>bash -x</code>, <code>Devel::DumpTrace</code> expands and outputs variable values to give you an idea of what your script was doing, not just where it is doing it.</p>\n\n<p>It also has the feature you are looking for: to enable and disable tracing on specific packages. For your use case, you would run it like</p>\n\n<pre><code>perl -d:DumpTrace=-.*,+main my_script.pl\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -d:DumpTrace=-.* my_script.pl\n</code></pre>\n\n<p><code>-.*</code> means \"exclude all packages that match <code>/^.*$/</code> from tracing\", which is to say, all packages. <code>+main</code> means \"include package <code>main</code> in tracing\".</p>\n\n<p>The default output can be fairly verbose. If you want less output than that, you can specify <code>quiet</code> mode:</p>\n\n<pre><code>perl -d:DumpTrace=quiet,-.*,+main my_script.pl\n</code></pre>\n\n<p>(I am the author of <code>Devel::DumpTrace</code>)</p>\n"}], "owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1462288731, "creation_date": 1462257030, "last_edit_date": 1462262550, "question_id": 36997183, "link": "https://stackoverflow.com/questions/36997183/how-to-get-trace-output-from-only-the-main-package-of-a-perl-program", "title": "How to get trace output from only the main package of a Perl program", "body": "<p>I would like to trace my Perl script, but only code in the <code>main</code> package, and redirect output to a file.</p>\n\n<p>When starting the script with <code>perl -d script.pl</code> it goes into interactive mode.</p>\n\n<p>I have tried </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -d:Trace perl_05.pl 2&amp;&gt; output.log\n</code></pre>\n\n<p>But this also traces all subroutines and modules which I do not want.</p>\n\n<p>I am looking for something like the bash <code>set -o xtrace</code> or <code>sh -x</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1462280697, "post_id": 37009755, "comment_id": 61571666, "body": "Learn about SQL Injection: <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a>"}, {"owner": {"reputation": 391, "user_id": 2344631, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WDYfQzrarRo/AAAAAAAAAAI/AAAAAAAADE8/dLfjG8491mE/photo.jpg?sz=128", "display_name": "roaima", "link": "https://stackoverflow.com/users/2344631/roaima"}, "edited": false, "score": 1, "creation_date": 1462286906, "post_id": 37009755, "comment_id": 61571667, "body": "Just like your <a href=\"http://unix.stackexchange.com/questions/278907/error-in-perl-script-dbd-error-error-possibly-near-indicator-at\">last question on this same topic</a> a big chunk of your problem is that you don&#39;t appear to understand the SQL you&#39;re using."}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1462294069, "post_id": 37009755, "comment_id": 61571868, "body": "Add <code>use warnings</code> and you&#39;ll see perl complain about re-declaring <code>my $sth</code> over and over."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462338826, "post_id": 37009755, "comment_id": 61589219, "body": "The Perl code that you show didn&#39;t generate that output: it is invalid Perl and won&#39;t compile. Please show your real program"}], "answers": [{"comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1462294176, "post_id": 37009756, "comment_id": 61571939, "body": "Using a prepared statement fixes quoting <i>and</i> escaping.  Even properly quoted data can still be dangerous.  The problem with OP&#39;s script was that <code>$attuid</code> wasn&#39;t being quoted in their query, leading to a SQL statement like <code>INSERT INTO ___ VALUES (unquoted_string, &#39;1&#39;)</code>"}, {"owner": {"reputation": 626, "user_id": 137158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlJ6L.jpg?s=128&g=1", "display_name": "cas", "link": "https://stackoverflow.com/users/137158/cas"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1462314492, "post_id": 37009756, "comment_id": 61582996, "body": "he wasn&#39;t quoting any of the variables in the prepared SQL statements, <code>$fname</code> and <code>$lname</code> as well as <code>$attuid</code>"}, {"owner": {"reputation": 1, "user_id": 6515096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a07d5234337e537ca42d6a381b9ce2?s=128&d=identicon&r=PG&f=1", "display_name": "dils", "link": "https://stackoverflow.com/users/6515096/dils"}, "edited": false, "score": 0, "creation_date": 1466950381, "post_id": 37009756, "comment_id": 63518443, "body": "Thanks a lot Cas!!"}], "tags": [], "owner": {"reputation": 626, "user_id": 137158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UlJ6L.jpg?s=128&g=1", "display_name": "cas", "link": "https://stackoverflow.com/users/137158/cas"}, "is_accepted": false, "score": 5, "last_activity_date": 1462325885, "last_edit_date": 1462325885, "creation_date": 1462277819, "answer_id": 37009756, "question_id": 37009755, "link": "https://stackoverflow.com/questions/37009755/perl-script-error-dbd-error-error-possibly-near-indicator-atrror-possibly/37009756#37009756", "title": "PERL SCRIPT ERROR (DBD ERROR: error possibly near &lt;*&gt; indicator atrror possibly near &lt;*&gt; indicator at char 53 in &#39;insert", "body": "<p>Apart from missing a <code>#! /usr/bin/perl</code> (or similar) line, the most obvious thing wrong with your script is that you're not properly quoting your variables when you use them in SQL statemnents.</p>\n\n<p>The easiest way to fix that is to use placeholders (<code>?</code>) in your <code>$dbh-&gt;prepare()</code> statements.  And then supply the actual values in the <code>$sth-execute()</code></p>\n\n<p>For example:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"update temp_table1 set user_id=?,\n                         first_nm=?, last_nm=?\n                         where user_id like '%SR508W%'\");\n$sth-&gt;execute($attuid,$fname,$lname);\n</code></pre>\n\n<p>This will automagically quote the variables that need quoting, which seems to be all of them for this example as they're all string values.</p>\n\n<p>Also, you only have to define the scope of your variables once.  You don't need to (and shouldn't) say <code>my $sth=</code> <strong>every</strong> time you set it to a new value.  Either declare it separately before using it at all (with just <code>my $sth;</code>, or only declare it the very first time you use it.</p>\n\n<p>And add a blank line or two to separate each different section of the script. That will make it MUCH easier to read than the ugly wall of text it is now.</p>\n\n<p>Finally, you might want to consider taking the input from the command line.  This will make testing <strong>much</strong> easier as you can use your shell's command-line history and recall features (i.e. hit up arrow and enter to execute the same command again) rather than having to enter the same four values into the script every time you run it.  e.g.</p>\n\n<pre><code># environment name is first arg\nmy $env = shift;\n\n# attuid is second arg\nmy $attuid = shift;\n\n# First name is third arg\nmy $fname = shift;\n\n# Last name is fourth arg\nmy $lname = shift;\n</code></pre>\n\n<p>Run it like this:</p>\n\n<pre><code>$ ./dbtrial.pl oms1at01 sm501u swapnil mahindrakar\n</code></pre>\n\n<p>(Note: this is really primitive argument handling.  Use <code>Getopt::Std</code> or <code>Getopt::Long</code> if you need something better than just taking the first four args from the command line).</p>\n\n<p>Personally, I'd be inclined to rewrite your script to something more like this (with better formatting, removal of variables and modules that aren't used, better usage of DBI features, and improved sql string construction):</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse lib \"/appl/OMS/perl/lib\";\n\nuse DBI;\nuse DBD::Oracle;\n\nmy ($env,$attuid,$fname,$lname);\n\n# environment name is first arg\n$env = shift;\n\n# attuid is second arg\n$attuid = shift;\n\n# First name is third arg\n$fname = shift;\n\n# Last name is fourth arg\n$lname = shift;\n\nmy ($dbInst, $dbUser, $dbPass, $host, $dbh, $sth, $sql, $where);\n\n$dbInst=\"t1oms4d8.db.att.com\";\n$dbUser=\"OMS1AT01utils\";\n$dbPass=\"pswd4conn\";\n\n$dbh=DBI-&gt;connect(\"dbi:Oracle:$dbInst\",$dbUser,$dbPass);\n\n$where=' where user_id like \\'%SR508W%\\'';\n\n$dbh-&gt;do('create table temp_table1 as (select * from users ' . $where . ')');\n\nprint \"test1\";\n$sql = 'update temp_table1 set user_id=?,  first_nm=?, last_nm=?' . $where;\n$sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute($attuid,$fname,$lname);\n\nprint \"test2\";\n$dbh-&gt;do('insert into users (select * from temp_table1)');\n\n$sql = 'insert into user_password(user_id,password1) values (?,(select PASSWORD1 FROM user_password' . $where . ' ))';\n$sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute($attuid);\n\n$sql = 'insert into user_role(user_id,role_id) values (?,?)';\n$sth = $dbh-&gt;prepare($sql);\n# does '1' need to be quoted here?  if field is a varchar or similar then yes, otherwise no.  assuming yes as in the original script.\n$sth-&gt;execute($attuid,'1');\n\n$dbh-&gt;do('select * from temp_table1');\n\n$dbh-&gt;do('drop table temp_table1');\n\n$sth-&gt;finish();\n$dbh-&gt;commit or die $DBI::errstr;\n$dbh-&gt;finish();\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1462293712, "question_id": 280707}, "owner": {"reputation": 1, "user_id": 6515096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a07d5234337e537ca42d6a381b9ce2?s=128&d=identicon&r=PG&f=1", "display_name": "dils", "link": "https://stackoverflow.com/users/6515096/dils"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2801, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462338777, "creation_date": 1462243299, "last_edit_date": 1462338777, "question_id": 37009755, "link": "https://stackoverflow.com/questions/37009755/perl-script-error-dbd-error-error-possibly-near-indicator-atrror-possibly", "title": "PERL SCRIPT ERROR (DBD ERROR: error possibly near &lt;*&gt; indicator atrror possibly near &lt;*&gt; indicator at char 53 in &#39;insert", "body": "<p>i am getting below error while running below perl script. Can anybody help to figure it out?</p>\n\n<pre><code>    $ENV{PATH}= '/appl/OMS/scripts:/etc:/usr/bin:/usr/sbin:/b...';\n    $ENV{PATH}= '/appl/OMS/scripts:/etc:/usr/bin:/usr/sbin:/bin:/usr/local/bin:/usr/local/opt/oracle/client/11.2.0.4/bin';\n    $ENV{ORACLE_HOME} ='/usr/local/opt/oracle/client/11.2.0.4';\n    $ENV{NLSPATH} = '/usr/lib/nls/msg/%L/%N:/usr/lib/nls/msg/%L/%N.cat';\n    $ENV{CLASSPATH} = 'CLASSPATH=/usr/local/opt/oracle/client/11.2.0.4/jdbc/lib';\n    $ENV{JAVA_HOME} = '/appl/OMS/Software/java';\n    $ENV{PERL5LIB} = '/appl/OMS/perl/lib';\n\n    use lib \"/appl/OMS/perl/lib\";\n\n}\n\nuse DBI;\nuse DBD::Oracle;\nuse Data::Dumper;\nuse POSIX qw/strftime/;\nuse Switch;\nuse Term::ANSIColor;\n\nprint \" Input the environment name:\\n\";\nchomp($env=&lt;STDIN&gt;);\n\nprint \" Input attuid:\\n\";\nchomp($attuid=&lt;STDIN&gt;);\n\nprint \" Input first name:\\n\";\nchomp($fname = &lt;STDIN&gt;);\n\nprint \" Input last name:\\n\";\nchomp($lname= &lt;STDIN&gt;);\n#chomp($lname);\n\nmy $dbInst=\"t1oms4d8.db.att.com\";\nmy $dbUser=\"OMS1AT01utils\";\nmy $dbPass=\"pswd4conn\";\nmy $host = \"t1oms5c1.sldc.sbc.com\";\n#$dsn= \"dbi:oracle:T2OMS1D4.db.att.com:t2oms1c1.hydc.sbc.com:1521\";\n#$DBIconnect= DBI-&gt;connect($dsn,OMS0BT08utils,Pwd0wner1);\n\nmy $dbh=DBI-&gt;connect(\"dbi:Oracle:$dbInst\", $dbUser, $dbPass);\nmy $sth = $dbh-&gt;prepare('create table temp_table1 as (select * from users where user_id like '%SR508W%')');\n$sth-&gt; execute();\n\nprint \"test1\";\n\nmy $sth = $dbh-&gt;prepare(\"update temp_table1 set user_id= \".$attuid.\",  first_nm= \".$fname.\", last_nm= \".$lname.\" where user_id like '%SR508W%' \" );\n$sth-&gt; execute();\n\nprint \"test2\";\n\nmy $sth = $dbh-&gt;prepare(\"insert into users (select * from temp_table1)\");\n$sth-&gt; execute();\n\nmy $sth = $dbh-&gt;prepare(\"insert into user_password(user_id,password1) values (\".$attuid.\" ,(select PASSWORD1 FROM user_password where user_id like '%SR508W%'))\");\n$sth-&gt; execute();\n\nmy $sth = $dbh-&gt;prepare(\"insert into user_role(user_id,role_id) values (\".$attuid.\" ,'1')\");\n$sth-&gt; execute();\n\nmy $sth = $dbh-&gt;prepare(\"select * from temp_table1\");\n$sth-&gt; execute();\n\nmy $sth = $dbh-&gt;prepare(\"drop table temp_table1\");\n$sth-&gt;execute();\n\n$sth-&gt;finish();\n\n$dbh-&gt;commit or die $DBI::errstr;\n</code></pre>\n\n<p>I am running the script as below:</p>\n\n<pre><code>  $ ./dbtrial.pl\n     Input the environment name:\n    oms1at01\n     Input attuid:\n    sm501u\n     Input first name:\n    swapnil\n     Input last name:\n    mahindrakar\n</code></pre>\n\n<p>The error message is the following:</p>\n\n<pre><code>DBD::Oracle::st execute failed: ORA-00904: \"MAHINDRAKAR\": invalid identifier (DBD ERROR: error possibly near &lt;*&gt; indicator at char 69 in 'update temp_table1 set user_id= sm501u,  first_nm= swapnil, last_nm= &lt;*&gt;mahindrakar where user_id like '%SR508W%' ') [for Statement \"update temp_table1 set user_id= sm501u,  first_nm= swapnil, last_nm= mahindrakar where user_id like '%SR508W%' \"] at ./dbtrial.pl line 45, &lt;STDIN&gt; line 4.\nDBD::Oracle::st execute failed: ORA-00984: column not allowed here (DBD ERROR: error possibly near &lt;*&gt; indicator at char 53 in 'insert into user_password(user_id,password1) values (&lt;*&gt;sm501u ,(select PASSWORD1 FROM user_password where user_id like '%SR508W%'))') [for Statement \"insert into user_password(user_id,password1) values (sm501u ,(select PASSWORD1 FROM user_password where user_id like '%SR508W%'))\"] at ./dbtrial.pl line 50, &lt;STDIN&gt; line 4.\nDBD::Oracle::st execute failed: ORA-00984: column not allowed here (DBD ERROR: error possibly near &lt;*&gt; indicator at char 47 in 'insert into user_role(user_id,role_id) values (&lt;*&gt;sm501u ,'1')') [for Statement \"insert into user_role(user_id,role_id) values (sm501u ,'1')\"] at ./dbtrial.pl line 52, &lt;STDIN&gt; line 4.\ncommit ineffective with AutoCommit enabled at ./dbtrial.pl line 58, &lt;STDIN&gt; line 4.\ntest1test2----- websphe cldv0011 /appl/OMS/scripts/trials ---\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1462238283, "post_id": 36994019, "comment_id": 61542162, "body": "It sounds like <code>for $x (...) {...}</code> is equivalent to <code>do{ local $x; for $x (...) {...} };</code>, but when I make the substitution I get a <code>Can&#39;t localize lexical variable $x at perl-scoping.pl</code> ... Why isn&#39;t that error also triggered in the original version?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 2, "creation_date": 1462240219, "post_id": 36994019, "comment_id": 61542606, "body": "@GregoryNisbet That&#39;s not going to work because <code>local</code> does not work on lexicals and I presume you have <code>my $x</code> already in scope. Otherwise your analogy is basically correct <i>if there&#39;s no <code>$x</code> in scope, or if it&#39;s global</i>. The behavior of <code>for $x (...) {...}</code> changes if there&#39;s already a lexical <code>$x</code> in scope. In this case <code>for $x</code> declares a new lexical inside the loop, so it&#39;s more like <code>do{ my $x; for $x (...) {...} };</code>. This is reason #1398 why you should always be explicit and write <code>for my $x</code>."}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1462242403, "post_id": 36994019, "comment_id": 61543124, "body": "I guess right now I&#39;m trying work out why the Perl powers that be didn&#39;t decide to reject <code>for $x (...) { ... }</code> in strict mode or make it emit a warning. Do you know if it&#39;s come up before?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 1, "creation_date": 1462244151, "post_id": 36994019, "comment_id": 61543540, "body": "@GregoryNisbet I&#39;m going to guess because <code>use strict</code> (5.000) predates <code>for my $x</code> (5.003_08). The traditional thinking is that adding new restrictions to <code>strict</code> would break backwards compatibility, so would adding a warning to <code>for $x</code>. With the <code>use v5.x</code> syntax it&#39;s now possible to make changes like this without breaking compatibility, perhaps you should suggest retiring <code>for $x</code>?"}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1462246661, "post_id": 36994019, "comment_id": 61544150, "body": "you and a couple of other people in this question <a href=\"http://stackoverflow.com/questions/4432852/for-loop-and-lexically-scoped-variables?rq=1\" title=\"for loop and lexically scoped variables\">stackoverflow.com/questions/4432852/&hellip;</a> (maybe my question should be marked as a duplicate?) have mentioned that this behavior is counterintuitive. I think it&#39;s mentioned here that it&#39;s allowed to introduce new warnings and warning categories (<a href=\"http://perldoc.perl.org/warnings.html#Fatal-Warnings\" rel=\"nofollow noreferrer\">perldoc.perl.org/warnings.html#Fatal-Warnings</a>), but I don&#39;t know the exact policy."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 18, "last_activity_date": 1462237525, "creation_date": 1462237525, "answer_id": 36994019, "question_id": 36993801, "link": "https://stackoverflow.com/questions/36993801/for-loop-doesnt-modify-my-variable-but-does-modify-our-variable/36994019#36994019", "title": "for loop doesn&#39;t modify `my` variable but does modify `our` variable", "body": "<p>It's confusing, but documented, behavior probably stemming from the bad decision to make the loop iterator variable an implicit localized global rather than a lexical. From <a href=\"http://perldoc.perl.org/perlsyn.html#For-Loops\">Foreach Loops in perlsyn</a>.</p>\n\n<blockquote>\n  <p>If the variable is preceded with the keyword <code>my</code>, then it is lexically scoped, and is therefore visible only within the loop. Otherwise, the variable is implicitly local to the loop and regains its former value upon exiting the loop. If the variable was previously declared with <code>my</code>, it uses that variable instead of the global one, but it's still localized to the loop.</p>\n</blockquote>\n\n<p>To put it another way, <strong><em>the loop iterator is always localized to the loop</em></strong>. If it's a global then it acts like it's been declared <code>local</code> inside the loop block. If it's a lexical, then it acts like it's been declared with <code>my</code> inside the loop block.</p>\n\n<p>Applying this to your two examples will help understand what's going on.</p>\n\n<pre><code>our $x;\n\nsub print_func {\n    print \"$x\\n\";\n}\n\nfor $x (1 .. 10) {\n    print_func; \n}\n</code></pre>\n\n<p>There's an implicit <code>local $x</code> on that loop. <a href=\"http://perldoc.perl.org/functions/local.html\"><code>local</code></a> really should have been named <code>temp</code>. It temporarily overrides the value of a global variable for the duration of its scope, <em>but it's still a global</em>. That's why <code>print_func</code> can see it.</p>\n\n<p>The old value is restored when its scope ends. You can see this if you add a <code>print $x</code> after the for loop.</p>\n\n<pre><code>use v5.10;\n\nour $x = 42;\n\nfor $x (1 .. 10) {\n    say $x;\n}\n\nsay $x;  # 42\n</code></pre>\n\n<hr>\n\n<p>Let's look at your code involving lexicals (<code>my</code> variables).</p>\n\n<pre><code>my $x;\n\nsub print_func {\n    print \"$x\\n\";\n}\n\nfor $x (1 .. 10) {\n    print_func; \n}\n</code></pre>\n\n<p>What's really happening here is you have two lexical variables both called <code>$x</code>. One is file scoped, one is scoped to the loop. The inner <code>$x</code> on the for loop takes precedent over the outer <code>$x</code>. This is known as \"shadowing\".</p>\n\n<p>Lexicals cannot be seen outside their physical scope. <code>print_func()</code> only sees the outer uninitialized <code>$x</code>.</p>\n\n<hr>\n\n<p>There's some stylistic takeaways from this.</p>\n\n<p><strong><em>Always pass parameters into your functions.</em></strong></p>\n\n<p>In reality, <code>print_func</code> should take an argument. Then you don't have to worry about complicated scoping rules.</p>\n\n<pre><code>sub print_func {\n    my $arg = shift;\n    print \"$arg\\n\";\n}\n\nfor $x (1..10) {\n    print_func($x);\n}\n</code></pre>\n\n<p><strong><em>Always use <code>for my $x</code>.</em></strong></p>\n\n<p>Don't rely on the complicated implicit <code>for</code> loop scoping rules. Always declare the loop iterator with <code>my</code>.</p>\n\n<pre><code>for my $x (1..10) {\n    print_func($x);\n}\n</code></pre>\n\n<p><strong><em>Avoid globals.</em></strong></p>\n\n<p>Since it's hard to tell what's accessing a global, don't use them. If you ever think you need a global, write a function instead to control access to a file scoped lexical.</p>\n\n<pre><code>my $Thing = 42;\nsub get_thing { return $Thing }\nsub set_thing { $Thing = shift; return }\n</code></pre>\n\n<p><strong><em>Declare your variables close to where they're used.</em></strong></p>\n\n<p>Ye olde coding styles will do things like declare all their variables at the top of the file or function. This is a hold over from very, very, very old languages which required that variables be declared only in certain places. Perl, and most modern languages, have no such restriction.</p>\n\n<p>If you declare your variables all at once it's hard to know what they're for, and it's hard to know what's using or affecting it. If you declare it close to its first use that limits what can affect it, and makes it more obvious what its for.</p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 1, "accepted_answer_id": 36994019, "answer_count": 1, "score": 13, "last_activity_date": 1503676221, "creation_date": 1462235962, "last_edit_date": 1503676221, "question_id": 36993801, "link": "https://stackoverflow.com/questions/36993801/for-loop-doesnt-modify-my-variable-but-does-modify-our-variable", "title": "for loop doesn&#39;t modify `my` variable but does modify `our` variable", "body": "<p>In Perl 5.20, a for loop seems to be able to modify a module-scoped variable but not a lexical variable in a parent scope.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nour $x;\n\nsub print_func {\n    print \"$x\\n\";\n}\n\nfor $x (1 .. 10) {\n    print_func; \n}\n</code></pre>\n\n<p>prints 1 through 10 like you would expect, but the following does not:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $x;\n\nsub print_func {\n    print \"$x\\n\";\n}\n\nfor $x (1 .. 10) {\n    print_func; \n}\n</code></pre>\n\n<p>emits the following warning 10 times:</p>\n\n<pre><code>Use of uninitialized value $x in concatenation (.) or string at perl-scoping.pl line 8.\n</code></pre>\n\n<p>What's going on here? I know that perl subroutines cannot be nested (and always have module scope) and therefore it seems logical that they wouldn't be able to close over <code>my</code> variables. It seems like in that case, perl in <code>strict</code> mode should reject the second program with a message like the following:</p>\n\n<pre><code>Global symbol \"$x\" requires explicit package name at perl-scoping.pl line 6.\nGlobal symbol \"$x\" requires explicit package name at perl-scoping.pl line 9.\n</code></pre>\n\n<p>I.e. it should reject subroutine because the free variable isn't declared anywhere and the for loop because the variable hasn't been declared.</p>\n\n<p>Why is Perl behaving this way?</p>\n"}, {"tags": ["perl", "sockets", "https", "lwp"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462235043, "post_id": 36993205, "comment_id": 61541358, "body": "I don&#39;t know how useful this is, but:  Your code works for me on CentOS 7, v5.16.  It prints three lines of headers, no warnings or errors.  So it may indeed have something to do with some package on your system. (Btw, I&#39;d suggest that you add <code>use warnings</code>.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1462243949, "post_id": 36993205, "comment_id": 61543495, "body": "(The immediate cause of the error is <code>sysread</code> on the socket returning <code>EWOULDBLOCK</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1462249249, "creation_date": 1462249249, "answer_id": 36995551, "question_id": 36993205, "link": "https://stackoverflow.com/questions/36993205/non-blocking-socket-operation-error-in-lwpuseragent-package-of-perl/36995551#36995551", "title": "&quot;Non-blocking socket operation&quot; error in LWP::UserAgent package of Perl", "body": "<p>This problem is probably due to checking only against EAGAIN and not EWOULDBLOCK. These error codes are both the same on most UNIX  but are different on Windows.  I recommend to use a newer version of LWP (at least version 6.09) because there it explicitly deals with this issue and checks for both conditions.</p>\n"}, {"tags": [], "owner": {"reputation": 425, "user_id": 5547553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/99f225ea4837d3be18c806f798328b7c?s=128&d=identicon&r=PG&f=1", "display_name": "lmocsi", "link": "https://stackoverflow.com/users/5547553/lmocsi"}, "is_accepted": false, "score": 0, "last_activity_date": 1462386050, "creation_date": 1462386050, "answer_id": 37035176, "question_id": 36993205, "link": "https://stackoverflow.com/questions/36993205/non-blocking-socket-operation-error-in-lwpuseragent-package-of-perl/37035176#37035176", "title": "&quot;Non-blocking socket operation&quot; error in LWP::UserAgent package of Perl", "body": "<p>ActivePerl itself (with its outdated LWP package) seems to be the culprit.<br>\nSwitched to Strawberry Perl and it works like charm.<br>\nDumping ActivePerl...</p>\n"}], "owner": {"reputation": 425, "user_id": 5547553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/99f225ea4837d3be18c806f798328b7c?s=128&d=identicon&r=PG&f=1", "display_name": "lmocsi", "link": "https://stackoverflow.com/users/5547553/lmocsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1462386050, "creation_date": 1462231662, "question_id": 36993205, "link": "https://stackoverflow.com/questions/36993205/non-blocking-socket-operation-error-in-lwpuseragent-package-of-perl", "title": "&quot;Non-blocking socket operation&quot; error in LWP::UserAgent package of Perl", "body": "<p><br>\nThe below code produces an error on Windows 7 Pro, it reads 5-8K bytes of the web page, then terminates:</p>\n\n<pre><code>use strict;\nuse LWP::UserAgent;\nmy $url = 'https://www.flickr.com/photos/71475421@N02/26176178323/';\nmy $ua = LWP::UserAgent-&gt;new;\nmy $res = $ua-&gt;get($url);\nprint $res-&gt;headers-&gt;as_string;\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>X-Died: read failed: A non-blocking socket operation could not be \ncompleted immediately. at C:/Perl/lib/LWP/Protocol/http.pm line 467.\n</code></pre>\n\n<p>OS: Win 7 Pro (64bit)<br>\nPerl: 5.20.1 (32bit)<br>\nLWP: 6.08<br>\nLWP-Protocols-https: 6.06<br></p>\n\n<p>Any ideas why is it not working, and how it can be fixed?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "logging", "hash", "output"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462229661, "post_id": 36992311, "comment_id": 61539841, "body": "It seems that you need to add a counter for IP seen for each: user, status.  Thus you&#39;d add a hash with those levels, with a counter, <code>$by_ip{$ip}{$usr}{$status}++</code>. You add this right alongside the <code>$rept{$port}{$usr}{$status}++</code>, on the next line.  This can use the <code>$ip</code> already captured, I don&#39;t see why you need to fetch it from the <code>last attempt</code> line again (has to be the same, no?).  Don&#39;t forget to declare this new hash, <code>my %by_ip</code>. I can post this, but try it yourself first and report back.  The way you have it now it counts IP for any port, user, status -- all of it, the lump sum."}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462300310, "post_id": 36992311, "comment_id": 61575578, "body": "@zdim not sure if I did it correctly, I added the hash exactly under the <code>$rept{$port}{$usr}{$status}++</code> and this is where I&#39;m printing:  <code>print &quot;Port,Status,AttemptOnPort,AttemptsOnIP,Malicious\\n&quot;; foreach my $ip (sort keys %by_ip){ foreach my $port (sort keys %rept) {     foreach my $usr (sort keys %{$rept{$port}}) {         foreach my $stat ( sort keys %{$rept{$port}{$usr}} ) {                 if($port ne &quot;&quot;){             print &quot;$port,$stat,$rept{$port}{$usr}{$stat},$by_ip{$ip}{$usr}{$st&zwnj;&#8203;at},\\n$                 }         }    }  } } </code>"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462300597, "post_id": 36992311, "comment_id": 61575766, "body": "@zdim this is the <a href=\"http://pastebin.com/XDLbmBAK\" rel=\"nofollow noreferrer\">output</a> I&#39;m getting"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462302980, "post_id": 36992311, "comment_id": 61577211, "body": "Alright, I see.  After adding the line you have two <i>distinct</i> data structures (albeit being very similar). Nested iteration that you try is tricky and may well double some things while mismatching others.  I&#39;ll look into it. (Maybe a slight modification of code would make it easier to extract needed output.)"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462304909, "post_id": 36992311, "comment_id": 61578360, "body": "@zdim Yes in fact that is exactly what is happening, double data and raising some errors. If you can kindly point out how I can do this it would be greatly appreciated."}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462309556, "post_id": 36992311, "comment_id": 61580860, "body": "I am really really close as you can see on <a href=\"http://pastebin.com/nDKgcjP2\" rel=\"nofollow noreferrer\">pastebin</a> The problem is that I want that for AttemptsonIP, 1 is associated with the IP 181.3.202.142 using port 44444."}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462309562, "post_id": 36992311, "comment_id": 61580863, "body": "@zdin And any other port that uses that IP. So if there were two other entries with <code>New connection</code> on same IP and/or same port 44444 or 55555, the output would be for this IP example  <code>Port,Status,AttemptOnPort,AttemptsOnIP,Malicious 44444,X,X,3, 55555,X,X,3, 53653,X,X,18</code> where X represents other not important values and 3 &amp; 18 represent total no an IP was spotted in logfile. So IP 1 used 1st 2nd ports and appeared 3 times. IP 2 18"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462318305, "post_id": 36992311, "comment_id": 61584070, "body": "I <i>will</i> post an answer to this question, probably tonight.  Your newest post seems to repeat this ... ?  (Or am I misunderstanding it?)"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462357866, "post_id": 36992311, "comment_id": 61600395, "body": "@zdim Yes it repeats it. Ok will hear from you tonight"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462402014, "post_id": 36992311, "comment_id": 61628595, "body": "OK ... for the future: <i>never do that</i>.  Do not post questions that are similar to others, or -- <i>gasp</i> -- the same.  There is a name for that, &quot;<i>duplicate</i>&quot;, and it&#39;s not a good thing.  I do not mean to make you feel bad with this, just a note for the future.  Ideally, you&#39;d articulate a <i>good</i> question, and then you <i>surely</i> get great responses. If it turns out the question isn&#39;t good enough, it is hard to tell what is better -- significant change or a new one. (Little clarifications are often needed and OK.) <i>So: put a question together well to start with.</i>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462402205, "post_id": 36992311, "comment_id": 61628651, "body": "Let me know how my post works for what you need, I wasn&#39;t sure about some things."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1546214310, "last_edit_date": 1546214310, "creation_date": 1462401613, "answer_id": 37039276, "question_id": 36992311, "link": "https://stackoverflow.com/questions/36992311/print-records-from-log-file-using-perl-and-hash-data-structure/37039276#37039276", "title": "Print records from log file using perl and hash data structure", "body": "<p>This code prints a report in the following format. Remove <code>(IP)</code> field if undesired.</p>\n\n<pre>\nPort,Status,AttemptOnPort,(IP),ConnectionsOnIP\n</pre>\n\n<p>Such a line is printed for each user.  However, <code>ConnectionsOnIP</code> is the total number of this IP being seen for <em>all</em> users and ports. The code also prints a separate report on IP's alone. See comments about related questions.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file = 'logfile.txt';\nopen my $fh_in, '&lt;', $file;\n\n# Assemble results for required output in data structure:\n# %rept = {\n#    $port =&gt; {\n#       $ip =&gt; {\n#           $usr =&gt; { \n#               $status =&gt; $freq \n#          },\n#       },\n#   },\n# };\n# Auxiliary: %ip_tot = { $ip =&gt; { $status =&gt; $freq } } \n\nmy (%rept, %ip_tot);\nmy ($ip, $port);\n\nwhile (my $line = &lt;$fh_in&gt;) \n{\n    if ($line =~ /New connection/) {\n        ($ip, $port) = $line =~ /New connection:\\s+([^:]+):(\\d+)/;\n        next;\n    }   \n    elsif (!$ip or !$port) { next }  # First lines come before New connection\n\n    my ($usr, $status) = $line =~ m/login attempt\\s+\\[([^\\]]+)\\]\\s+(\\w+)/;\n    if ($usr and $status) {\n        $rept{$port}{$ip}{$usr}{$status}++;\n        $ip_tot{$ip}{$status}++;\n    }   \n    else { warn \"Line with an unexpected format:\\n$line\" }\n}\n\nprint \"Port,Status,AttemptOnPort,(IP),ConnectionsOnIP\\n\";\nforeach my $port (sort keys %rept) {\n    foreach my $ip (sort keys %{$rept{$port}}) {\n        foreach my $usr (sort keys %{$rept{$port}{$ip}}) {\n            foreach my $stat ( sort keys %{$rept{$port}{$ip}{$usr}} ) { \n                print \"$port,$stat,$rept{$port}{$ip}{$usr}{$stat}\";\n                print \"$,(ip),$ip_tot{$ip}{$stat}\\n\"; \n            }   \n        }   \n    }   \n}\n\nprint \"\\n\";\nprint \"IP,Status,Occurences\\n\";\nforeach my $ip (sort keys %ip_tot) {\n    foreach my $stat ( sort keys %{$ip_tot{$ip}} ) {\n        print \"$ip,$stat,$ip_tot{$ip}{$stat}\\n\"; \n    }\n}\n</code></pre>\n\n<p>With the supplied input as <code>logfile.txt</code> this prints</p>\n\n<pre>\nPort,Status,AttemptOnPort,(IP),ConnectionsOnIP\n15853,failed,4,(183.3.202.172),12\n15853,succeeded,3,(183.3.202.172),11\n18693,failed,1,(183.3.202.172),12\n18942,failed,1,(183.3.202.172),12\n18942,succeeded,1,(183.3.202.172),11\n31130,succeeded,1,(183.3.202.172),11\n46321,failed,1,(183.3.202.172),12\n46321,succeeded,1,(183.3.202.172),11\n47417,failed,3,(183.3.202.172),12\n47417,succeeded,3,(183.3.202.172),11\n53653,failed,1,(183.3.202.172),12\n53653,succeeded,1,(183.3.202.172),11\n60563,failed,1,(183.3.202.172),12\n60563,succeeded,1,(183.3.202.172),11\n\nIP,Status,Occurences\n183.3.202.172,failed,12\n183.3.202.172,succeeded,11\n</pre>\n\n<hr>\n\n<p>Regex explanation. This is valid code, courtesy of <code>/x</code>. The <code>\\s+</code> are ignored in comments.</p>\n\n<pre><code>my ($usr, $status) =  $line =~ m/ \n    login\\ attempt \\s+         # literal, serves as a 'post' to help matching \n    \\[                         # literal [ within which our pattern is \n        (                      # start capture \n            [^\\]]+             # any char which is not ], 1 or more times  \n        )                      # end of capture \n    \\] \\s+                     # closing literal ] \n    (\\w+)                      # next capture: any 'word' char, 1 or more times \n/x;\n</code></pre>\n\n<p>In the heart of this is the <em>negated character class</em>, <code>[ ^\\] ]</code>. It says: match any one character (<code>[...]</code>) that is <em>not</em> (<code>^</code>) a bracket (<code>\\]</code>), which needs to be escaped (<code>\\</code>) to mean the literal character. The <code>+</code> behind it means <em>one-or-more</em> times. For example</p>\n\n<pre><code>my $str = 'a5_\".-]B1'; \nif ($str =~ m/([^\\]]+)/) { say \"Got: $1\" }\n</code></pre>\n\n<p>This prints <code>Got: a5_\".-</code>. Everything up to the first <code>]</code> is matched (and captured). This is one way to specify a <em>non-greedy match</em>, going up to <em>the first</em> occurrence of the given character.  Note that something like <code>.+]</code> would match everything up to the <em>last</em> <code>]</code>, it is <em>greedy</em>.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrequick.html\" rel=\"nofollow noreferrer\">Regular Expressions Tutorial</a>. Search SO, both for specific questions and for mini-tutorials.</p>\n"}], "owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 37039276, "answer_count": 1, "score": 1, "last_activity_date": 1546214310, "creation_date": 1462226273, "question_id": 36992311, "link": "https://stackoverflow.com/questions/36992311/print-records-from-log-file-using-perl-and-hash-data-structure", "title": "Print records from log file using perl and hash data structure", "body": "<p>I have the following script, originally written by @zdim and I tweaked it a bit.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $file = \"/home/tsec/prototype/logs/extractedlogs/cowrieresult.log\";\nopen (LOG, $file);\n\n# Assemble results for required output in data structure:\n# %rept = { $port =&gt; { $usr =&gt; { $status =&gt; $freq } };\n\nmy %testhash;#new code\nmy %rept;\nmy ($ip, $port);\n\nwhile (my $line = &lt;LOG&gt;)\n{\n    if ($line =~ /New connection/) {\n        ($ip, $port) = $line =~ /New connection:\\s+([^:]+):(\\d+)/;\n        #new code here\n        if($ip){\n                $testhash{$ip}++;\n        }\n        #end\n        next;\n    }\n\n    my ($usr, $status) =  $line =~ m/login\\ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)/x;\n    if ($usr and $status) {\n        $rept{$port}{$usr}{$status}++;\n    }\n    else { warn \"Line with an unexpected format:\\n$line\" }\n}\n#close(LOG);\n#open (LOG, $file);\n#my $frequency = 0;\n#while (my $line = &lt;LOG&gt;){\n#       if($line =~ /login attempt/){\n\n        #split string, get the ip and match it with original $ip\n#       my ($testip) = (split /[\\s,:\\[\\]\\/]+/, $line)[-6];\n        #print \"$testip\\n\";\n        #this two lines above print ips from login attempt line.\n#       if($testip =~ /$ip/){\n#               $frequency++;\n#       }\n        #elsif($testip =~ /^(?!$ip)/) {\n                # stop frequency counter and start another one?\n        #       print \"$frequency\\n\";\n        #       $frequency = 0;\n        #}\n\n#       }\n#}\n#print \"$frequency\\n\";\n#close(LOG);\n\n#new code\nprint \"ConnectionsOnIP\\n\";\nforeach my $ip (sort keys %testhash){\n        print \"$testhash{$ip}\\n\";\n}\n\nprint \"\\n\";\n\n#new code\nprint \"Port,Status,AttemptOnPort,AttemptsOnIP,Malicious\\n\";\nforeach my $ip (sort keys %testhash){\nforeach my $port (sort keys %rept) {\n    foreach my $usr (sort keys %{$rept{$port}}) {\n        foreach my $stat ( sort keys %{$rept{$port}{$usr}} ) {\n                if($port ne \"\"){\n            print \"$port,$stat,$rept{$port}{$usr}{$stat},$testhash{$ip}\\n\";\n                }\n        }\n   }\n\n}\n}\n#new code\n</code></pre>\n\n<p>As can be seen, I want to have the desired output which is working at the moment except for the last variable(AttemptsOnIP) I want the AttemptsOnIP variable to do what the AttemptsOnPort does to some extent:</p>\n\n<pre><code>Port,Status,AttemptsOnPort,ConnectionsOnIP,Malicious\n15853,failed,4,18\n15853,succeeded,4,18\n18693,failed,1,18\n18942,failed,1,18\n18942,succeeded,1,18\n31130,succeeded,1,18\n43041,failed,1,18\n43041,succeeded,1,18\n46321,failed,1,18\n46321,succeeded,1,18\n47417,failed,3,18\n47417,succeeded,3,18\n48713,failed,1,18\n48713,succeeded,1,18\n53653,failed,1,18\n53653,succeeded,1,18\n60563,failed,1,18\n60563,succeeded,1,18\n</code></pre>\n\n<p>I created a hash called testhash and passed it the ip variable to increment it. Now I want to increment this hashed variable depending on the IP of a single line of output. This is the logfile:</p>\n\n<pre><code>2016-05-02 10:20:56+0000 [SSHService ssh-userauth on HoneyPotTransport,14,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:20:57+0000 [SSHService ssh-userauth on HoneyPotTransport,15,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:20:57+0000 [SSHService ssh-userauth on HoneyPotTransport,14,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:20:58+0000 [SSHService ssh-userauth on HoneyPotTransport,15,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:43:32+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:55157 (172.17.0.5:2222) [session: 43283650]\n2016-05-02 10:43:46+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:10319 (172.17.0.5:2222) [session: c7702f86]\n2016-05-02 10:43:53+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:46321 (172.17.0.5:2222) [session: fe7bb804]\n2016-05-02 10:43:57+0000 [SSHService ssh-userauth on HoneyPotTransport,17,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:43:58+0000 [SSHService ssh-userauth on HoneyPotTransport,17,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:43:59+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:18693 (172.17.0.5:2222) [session: d74eae96]\n2016-05-02 10:44:02+0000 [SSHService ssh-userauth on HoneyPotTransport,18,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:03+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:31130 (172.17.0.5:2222) [session: 3bde7820]\n2016-05-02 10:44:03+0000 [SSHService ssh-userauth on HoneyPotTransport,18,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:05+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:47417 (172.17.0.5:2222) [session: 3e177c02]\n2016-05-02 10:44:06+0000 [SSHService ssh-userauth on HoneyPotTransport,19,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:09+0000 [SSHService ssh-userauth on HoneyPotTransport,19,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:10+0000 [SSHService ssh-userauth on HoneyPotTransport,21,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:11+0000 [SSHService ssh-userauth on HoneyPotTransport,21,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 10:44:13+0000 [SSHService ssh-userauth on HoneyPotTransport,20,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 10:44:14+0000 [SSHService ssh-userauth on HoneyPotTransport,20,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:06:55+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:13849 (172.17.0.5:2222) [session: b20915b6]\n2016-05-02 11:07:06+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:61338 (172.17.0.5:2222) [session: cd38fe51]\n2016-05-02 11:07:14+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:23048 (172.17.0.5:2222) [session: 01b12825]\n2016-05-02 11:07:21+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:60563 (172.17.0.5:2222) [session: ad64232b]\n2016-05-02 11:07:26+0000 [SSHService ssh-userauth on HoneyPotTransport,23,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:07:27+0000 [SSHService ssh-userauth on HoneyPotTransport,23,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:07:33+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:53653 (172.17.0.5:2222) [session: 9c48415b]\n2016-05-02 11:07:41+0000 [SSHService ssh-userauth on HoneyPotTransport,26,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:07:47+0000 [SSHService ssh-userauth on HoneyPotTransport,26,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:12:25+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:18942 (172.17.0.5:2222) [session: a4dc4901]\n2016-05-02 11:12:34+0000 [SSHService ssh-userauth on HoneyPotTransport,27,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:12:36+0000 [SSHService ssh-userauth on HoneyPotTransport,27,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:40+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:40091 (172.17.0.5:2222) [session: aeb36234]\n2016-05-02 11:32:43+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:53505 (172.17.0.5:2222) [session: 9022c831]\n2016-05-02 11:32:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:15131 (172.17.0.5:2222) [session: cf62fb9a]\n2016-05-02 11:32:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 183.3.202.172:15853 (172.17.0.5:2222) [session: f2f6c254]\n2016-05-02 11:32:50+0000 [SSHService ssh-userauth on HoneyPotTransport,28,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:52+0000 [SSHService ssh-userauth on HoneyPotTransport,28,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:55+0000 [SSHService ssh-userauth on HoneyPotTransport,29,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:55+0000 [SSHService ssh-userauth on HoneyPotTransport,30,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:56+0000 [SSHService ssh-userauth on HoneyPotTransport,30,183.3.202.172] login attempt [root/123456] succeeded\n2016-05-02 11:32:57+0000 [SSHService ssh-userauth on HoneyPotTransport,31,183.3.202.172] login attempt [root/!@] failed\n2016-05-02 11:32:59+0000 [SSHService ssh-userauth on HoneyPotTransport,31,183.3.202.172] login attempt [root/123456] succeeded\n</code></pre>\n\n<p>Therefore the output should be as follows for the first two lines</p>\n\n<pre><code>Port,Status,AttemptsOnPort,ConnectionsOnIP,Malicious\n    15853,failed,4,(total no of times the IP using this port is seen in log, even if it used other ports)\n    15853,succeeded,4,18\n</code></pre>\n"}, {"tags": ["perl", "substring"], "comments": [{"owner": {"reputation": 1006, "user_id": 1195578, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/07l5Q.jpg?s=128&g=1", "display_name": "Simon Bosley", "link": "https://stackoverflow.com/users/1195578/simon-bosley"}, "edited": false, "score": 0, "creation_date": 1462221046, "post_id": 36991092, "comment_id": 61536480, "body": "It would probably be easier to write that logic from scratch if you know Perl."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1462221355, "post_id": 36991092, "comment_id": 61536648, "body": "Why aren&#39;t <code>BCDA</code>, <code>CDAB</code>, and <code>DABC</code> returned, too?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1462221593, "post_id": 36991092, "comment_id": 61536761, "body": "<a href=\"http://stackoverflow.com/questions/25887202/use-perl-to-extract-all-possible-substrings\" title=\"use perl to extract all possible substrings\">stackoverflow.com/questions/25887202/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1462221622, "post_id": 36991092, "comment_id": 61536776, "body": "I really don&#39;t know, the problem is that I don&#39;t understand the functions of the example. In the end I really don&#39;t need &quot;ABCD&quot; or any other four-letter combinations, I need only the substrings."}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1462221695, "post_id": 36991092, "comment_id": 61536811, "body": "stevieb: i checked it but i need the cyclic substrings. end/begin of the string."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1462222317, "post_id": 36991092, "comment_id": 61537156, "body": "And they say Perl is line noise!"}, {"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 1, "creation_date": 1462223730, "post_id": 36991092, "comment_id": 61537790, "body": "I like Perl a lot because is really explicit. I need step-by-step explanations :)"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1462221526, "creation_date": 1462221526, "answer_id": 36991256, "question_id": 36991092, "link": "https://stackoverflow.com/questions/36991092/getting-every-possible-substring-in-perl/36991256#36991256", "title": "getting every possible substring in perl", "body": "<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $string = 'ABCD';\n\nmy @substrings;\nfor my $length (1 .. length $string) {\n    for my $pos (0 .. length($string) - 1) {\n        push @substrings, substr $string x 2, $pos, $length;\n    }\n}\n\nsay for @substrings;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "edited": false, "score": 0, "creation_date": 1462790087, "post_id": 37006453, "comment_id": 61768355, "body": "Thank you :)  I&#39;ll check it out."}], "tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1462284261, "creation_date": 1462284261, "answer_id": 37006453, "question_id": 36991092, "link": "https://stackoverflow.com/questions/36991092/getting-every-possible-substring-in-perl/37006453#37006453", "title": "getting every possible substring in perl", "body": "<p>If you're interested in using a pre-built solution, you could checkout <a href=\"http://searc.cpan.org\" rel=\"nofollow\">the CPAN</a>, where I found the module <code>String::Substrings</code>.  Because you want \"wrap-around\" substrings and want to eliminate the \"substrings\" that have the same length as the actual string, you'll have to do a little manipulation:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse String::Substrings;\nuse feature 'say';\n\nmy $string = 'ABCD';\nmy %substrs;\nfor my $len (1..length($string)-1) {\n   $substrs{$_}++ for substrings(\"$string\"x2, $len);\n}\nsay for sort keys %substrs;\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>A\nAB\nABC\nB\nBC\nBCD\nC\nCD\nCDA\nD\nDA\nDAB\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5792440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153317678482060/picture?type=large", "display_name": "Martha Elena Ibarra", "link": "https://stackoverflow.com/users/5792440/martha-elena-ibarra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 36991256, "answer_count": 2, "score": -2, "last_activity_date": 1462284261, "creation_date": 1462220860, "last_edit_date": 1462221110, "question_id": 36991092, "link": "https://stackoverflow.com/questions/36991092/getting-every-possible-substring-in-perl", "title": "getting every possible substring in perl", "body": "<p>I would like to generate every possible consecutive substring of a string, including the end of the word/beginning from the word (cyclic) letter combinations. I've found an example in Python, but the only language I know is perl (and barely, I'm a beginner). I would appreciate it a lot if someone can help me translating the code to perl or to help me find a solution in perl. </p>\n\n<p>the code is the following:</p>\n\n<pre><code> aa='ABCD'\n\n F=[]\n\n B=[]\n\n for j in range(1,len(aa)+1,1):\n\nfor i in range(0,len(aa),1):\n\n    A=str.split(((aa*j)[i:i+j]))\n\n    B=B+A\n\n    C=(B[0:len(aa)*len(aa)-len(aa)+1])\n</code></pre>\n\n<p>it gives you:</p>\n\n<p>C=['A', 'B', 'C', 'D', 'AB', 'BC', 'CD', 'DA', 'ABC', 'BCD', 'CDA', 'DAB', 'ABCD']`</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 2, "creation_date": 1462220152, "post_id": 36990788, "comment_id": 61536019, "body": "There are no good sources since the right way to do that is to use an XML parser and there isn&#39;t build in XML parser in perl, so you need to use a module."}, {"owner": {"reputation": 1051, "user_id": 3481891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9253abac96b2a3454e169fd5d927c9ef?s=128&d=identicon&r=PG&f=1", "display_name": "quest4truth", "link": "https://stackoverflow.com/users/3481891/quest4truth"}, "edited": false, "score": 3, "creation_date": 1462220185, "post_id": 36990788, "comment_id": 61536030, "body": "It&#39;s a moderately complicated thing to write an XML parser.  To learn how it&#39;s done, just peruse the CPAN source code for those modules.  Speaking for myself, I wouldn&#39;t reinvent the wheel on this one."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1462220253, "post_id": 36990788, "comment_id": 61536070, "body": "Why do you need to parse XML whithout a parser?"}, {"owner": {"reputation": 625, "user_id": 6115394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/25085ab420b50146c89a30ae543cde32?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6115394/bob"}, "edited": false, "score": 0, "creation_date": 1462221596, "post_id": 36990788, "comment_id": 61536764, "body": "I need to do it without the modules because this is an exercise we&#39;re doing to understand some more advanced Perl parsing concepts."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1462224600, "post_id": 36990788, "comment_id": 61538192, "body": "@Bob Please <a href=\"https://stackoverflow.com/posts/36990788/edit\">edit</a> that information into your question. The best answer to your question as posed is, &quot;Don&#39;t try to re-invent the wheel, install an existing XML parser.&quot; If you make it clear that this is an exercise to learn about parsing, on the other hand, you&#39;ll get much better answers. You should also add an example of the XML you&#39;ll need to parse since that will show just how complex your parser needs to be."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1462233057, "post_id": 36990788, "comment_id": 61540847, "body": "Take care to add the version of perl you use, since perl6 has capabilities perl5 doesn&#39;t have."}, {"owner": {"reputation": 625, "user_id": 6115394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/25085ab420b50146c89a30ae543cde32?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6115394/bob"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462233372, "post_id": 36990788, "comment_id": 61540925, "body": "@ThisSuitIsBlackNot Thanks, I&#39;ve added it to my post. Sorry if it was unclear before."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1462233517, "post_id": 36990788, "comment_id": 61540967, "body": "It stays always unclear since you don&#39;t say what exactly you want to extract."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462254936, "post_id": 36990788, "comment_id": 61546712, "body": "This sounds like homework. Surely your tutor didn&#39;t just drop the problem on you without any advice or explanation? It&#39;s hard to know how to help unless we&#39;re told what methods you&#39;re supposed to understand and what techniques you&#39;re practising"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1462280197, "post_id": 36990788, "comment_id": 61561993, "body": "If the solution your tutor wants you to use happens to be with regular expression, I would print <a href=\"http://stackoverflow.com/a/1732454/1331451\">this</a> on a huge poster and hang it in the classroom. Or on a t-shirt."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1462372948, "post_id": 36990788, "comment_id": 61612099, "body": "<a href=\"http://stackoverflow.com/questions/19700843/how-to-pass-xml-data-to-perl-script-without-import-xml-parser-module\" title=\"how to pass xml data to perl script without import xml parser module\">stackoverflow.com/questions/19700843/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1463041998, "last_edit_date": 1495540357, "creation_date": 1463041998, "answer_id": 37181436, "question_id": 36990788, "link": "https://stackoverflow.com/questions/36990788/parsing-an-xml-file-without-using-modules/37181436#37181436", "title": "Parsing an XML file without using modules", "body": "<p>There are no good solutions to 'parsing XML without a parser'. There's only \"write a parser\" or \"use an existing one\". </p>\n\n<p>So - writing a parser.</p>\n\n<p>First read the <a href=\"http://www.xml.com/axml/testaxml.htm\" rel=\"nofollow noreferrer\">XML spec</a>. It's quite long, and gives you an idea of what you should be able to handle.</p>\n\n<p>Then write some code that implements it. For comparison: </p>\n\n<p><a href=\"http://cpansearch.perl.org/src/MIROD/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\">XML::Twig</a> </p>\n\n<p><a href=\"http://cpansearch.perl.org/src/SHLOMIF/XML-LibXML-2.0124/LibXML.pm\" rel=\"nofollow noreferrer\">XML::LibXML</a> </p>\n\n<p>(<code>XML::Simple</code> is also an XML library, <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">but see here for why it's \"discouraged\"</a>)</p>\n\n<p>Note - they're quite long, even if <code>XML::LibXML</code> does make use of a library quite extensively. </p>\n\n<p>Then read this, as to why regular expressions are a bad idea:\n<a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">RegEx match open tags except XHTML self-contained tags</a></p>\n\n<p>Now, with all that in mind - the task of 'write a parser' is a lot harder than it looks on the surface, because there's more going on in <code>XML</code> than you might think. </p>\n\n<p>This task you are set then, is therefore actually quite a horrible one - because <em>at best</em> all you can realistically accomplish is a sort of fake parser, that works if you limit the XML feature set to what you have been presented. This is bad for all the reasons that a regex based parser is bad - not that you can't make it work, but that it relies on a set of assumptions that are not safe to make. </p>\n\n<p>So - you could write a parser for <em>your</em> XML, and things fairly similar to it - but it wouldn't be an XML parser, and it would be brittle code - which is just nasty. </p>\n\n<p>However, with that in mind - you can sort of fake it, badly, using recursive tag matching. E.g. recurse a new 'level' each time you hit an opening tag, and 'fold up' as you hit a closing tag. One of the <em>nice</em> features of the XML spec is that errors are fatal, so at least you don't have to handle some of the nastier tag nesting scenarios. </p>\n"}], "owner": {"reputation": 625, "user_id": 6115394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/25085ab420b50146c89a30ae543cde32?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6115394/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463041998, "creation_date": 1462219602, "last_edit_date": 1462240269, "question_id": 36990788, "link": "https://stackoverflow.com/questions/36990788/parsing-an-xml-file-without-using-modules", "title": "Parsing an XML file without using modules", "body": "<p>I'm new to Perl, and I need to learn how to parse a basic XML file (I'm talking REALLY basic, like just a few nested tags). This is for a learning exercise to help us understand some intermediate parsing techniques. So I did what I normally do, google for some examples. However, all the search results use modules like XML::Parser or XML::Simple. I need to do it without modules like this.</p>\n\n<p>Does anyone know of any good sources to find examples of Perl XML parsing WITHOUT these modules. I've heard that using a stack is useful for nested tags (and checking if the tags are closed properly).</p>\n\n<p>Here's an example of something I'd need to parse. I need to be able to extract everything from inside the tags, and of course the name of the tags to go with them:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n &lt;employee&gt;\n   &lt;name&gt;Bill&lt;/name&gt;\n   &lt;age&gt;22&lt;/age&gt;\n   &lt;address&gt;123 Bark St.&lt;/address&gt;\n   &lt;manager&gt;\n    &lt;name&gt;Jack&lt;/name&gt;\n    &lt;age&gt;45&lt;/age&gt;\n   &lt;/manager&gt;\n  &lt;/employee&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462212773, "post_id": 36988746, "comment_id": 61532100, "body": "So you have a large file which you need to re-write this way, delete and insert columns?  Is that the only processing you need to do?  What do you mean by &quot;<i>inline</i>&quot;?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462212853, "post_id": 36988746, "comment_id": 61532134, "body": "Deleting the 4th and 7th columns (zero-indexed) from <code>1,2,3,5,9,7,8,12</code> leaves <code>1,2,3,5,7,8</code>, assuming you don&#39;t have to re-calculate the indexes after each deletion. Now adding an empty field before the 3rd and 5th columns gives <code>1,2,3,,5,7,,8</code>, again assuming you don&#39;t have to re-calculate the indexes after each change. Why is your expected output <code>1,2,3,,5,,7,8</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462213569, "post_id": 36988746, "comment_id": 61532500, "body": "Nevermind, it looks like you want to do all inserts and deletions simultaneously, not in series. It might help to clarify that in your post."}, {"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462214398, "post_id": 36988746, "comment_id": 61532933, "body": "@zdim by inline i meant not  writing in a new file . But modify there when i read the line like sed -i"}, {"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462214727, "post_id": 36988746, "comment_id": 61533125, "body": "@ThisSuitIsBlackNot If you see the 3rd coloumn with zero indexing would be after <code>1,2,3</code> once <code>, ,</code> is inserted it becomes then it would be like <code>1,2,3,,5</code> and with zero indexing next 5th is after <code>1,2,3,,5</code> therefore <code>1,2,3,,5,,7,8</code>"}, {"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "reply_to_user": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1462214798, "post_id": 36988746, "comment_id": 61533164, "body": "@MiguelPrz I was trying cut but then that would need redirecting outputs to new file and i am looking for efficient solution"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462215671, "post_id": 36988746, "comment_id": 61533567, "body": "In that case, you&#39;re treating insertions and deletions differently. Deleting column 4 (zero-indexed) from <code>1,2,3,5,9,7,8,12</code> leaves <code>1,2,3,5,7,8,12</code>. Deleting column 7 from that is impossible since the highest column is now 6. Please clarify."}, {"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462217065, "post_id": 36988746, "comment_id": 61534309, "body": "@ThisSuitIsBlackNot Yes you can consider that as different ."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1462218093, "post_id": 36988746, "comment_id": 61534902, "body": "Since there is gigabytes of data, have you considered putting all the data into a <a href=\"https://metacpan.org/pod/DBD::SQLite\" rel=\"nofollow noreferrer\">SQLite database</a> and manipulating it efficiently there?"}, {"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "edited": false, "score": 0, "creation_date": 1462218789, "post_id": 36988746, "comment_id": 61535307, "body": "I had not had discussion on this but i am not sure how efficient it would be first putting it there , then modifying it and then retrieving it again in flat file as modified data needs to be feed to another application in flat file"}], "answers": [{"comments": [{"owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "edited": false, "score": 0, "creation_date": 1462218597, "post_id": 36989508, "comment_id": 61535205, "body": "Looks good to me but i want the indices&#39;s if columns to be added to change. I have a reference header say <code>C1,C2,C3,C8,C9</code> so all my other line whose header can be like <code>C1,C2,C8,C9,C10</code> needs to be made as  per reference header. Its just that missing column in second header must be replaced by <code>,</code> so it would look like <code>C1,C2,,C8,C9</code> . Note C10 is deleted and missing C3 is replaced by <code>, ,</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "edited": false, "score": 0, "creation_date": 1462218735, "post_id": 36989508, "comment_id": 61535278, "body": "@Invictus: I don&#39;t understand."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1462214971, "creation_date": 1462214971, "answer_id": 36989508, "question_id": 36988746, "link": "https://stackoverflow.com/questions/36988746/modify-a-file-by-adding-and-deleting-columns-in-place-using-a-perl-script/36989508#36989508", "title": "Modify a file by adding and deleting columns in-place using a Perl script", "body": "<p>When removing the columns, the indices of the columns to be added might change. Therefore, normalize the indices at the beginning: sort them numerically in descending order, and decrease each index to be added by the number of removed columns it follows.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @delete = (4, 7);\nmy @add    = (3, 5);\n\n# Normalize the arrays.\n@delete = sort { $b &lt;=&gt; $a } @delete;\n@add    = sort { $b &lt;=&gt; $a } @add;\nfor my $i (@delete) {\n    $_ &gt; $i &amp;&amp; --$_ for @add;\n}\n\nwhile (my $line = &lt;&gt;) {\n    chomp $line;\n    my @columns = split /,/, $line;\n    splice @columns, $_, 1      for @delete;\n    splice @columns, $_, 0, q() for @add;\n    say join ',', @columns;\n}\n</code></pre>\n"}], "owner": {"reputation": 3034, "user_id": 1103956, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ffc86d67cb7545ecc15b598701b76871?s=128&d=identicon&r=PG", "display_name": "Invictus", "link": "https://stackoverflow.com/users/1103956/invictus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1462233492, "creation_date": 1462212232, "last_edit_date": 1462233492, "question_id": 36988746, "link": "https://stackoverflow.com/questions/36988746/modify-a-file-by-adding-and-deleting-columns-in-place-using-a-perl-script", "title": "Modify a file by adding and deleting columns in-place using a Perl script", "body": "<p>I am writing a Perl script where I know which columns are to be removed and and where it needs to be added. e,g I have a array called <code>deleteColumn</code> which contains a which number column is to be deleted. Similarly I have an array called <code>AddColumn</code> which contains information about the location where something needs to be inserted.</p>\n\n<p>As input I have a line where columns are separated by commas <code>(,)</code>. An e.g of this would be:</p>\n\n<p><code>1,2,3,5,9,7,8,12</code></p>\n\n<p>Now value in array deleteColumn is say [4,7] which means I have to \ndelete element 9 and 12. And value in array AddColumn is say [3,5]\nthese addColumn indicates an empty addition i.e <code>','</code>. So after deletion\nand addition finally the output should look like:</p>\n\n<p><code>1,2,3,,5,,7,8.</code></p>\n\n<p>How can I achieve this inline as I would need to read around GB's of<br>\nfiles ( combined size ) and operate on them . Can this be done inline?</p>\n\n<p>I am reading the file line by line. </p>\n"}, {"tags": ["perl", "ubuntu", "makefile", "configure"], "comments": [{"owner": {"reputation": 41, "user_id": 2512524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff6774c114036310792358265a06493?s=128&d=identicon&r=PG", "display_name": "pacifly", "link": "https://stackoverflow.com/users/2512524/pacifly"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1462288500, "post_id": 36988184, "comment_id": 61568369, "body": "Per your suggestion, I have followed <a href=\"https://github.com/tokuhirom/plenv#readme\" rel=\"nofollow noreferrer\">the github installation guide</a> and tried <code>plenv install 5.22.2 -Dprefix=$HOME&#47;perl5.22</code> and it failed with the same log message as in my post. Any idea what might cause this problem? Thank you!"}, {"owner": {"reputation": 41, "user_id": 2512524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff6774c114036310792358265a06493?s=128&d=identicon&r=PG", "display_name": "pacifly", "link": "https://stackoverflow.com/users/2512524/pacifly"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1462294464, "post_id": 36988184, "comment_id": 61572124, "body": "Here is my another (possibly relevant) post <a href=\"http://stackoverflow.com/questions/37009887/cpanm-perl-module-installation-failed-on-make-and-make-test\">cpanm perl module installation failed on &#39;make&#39; and &#39;make test&#39;</a>, where you can see the system perl seems to be built against a different kernel. Could this have any implications here?"}], "answers": [{"comments": [{"owner": {"reputation": 4714, "user_id": 3555000, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/145762f352604453bb4ba60e8d5738d7?s=128&d=identicon&r=PG&f=1", "display_name": "Enamul Hassan", "link": "https://stackoverflow.com/users/3555000/enamul-hassan"}, "edited": false, "score": 0, "creation_date": 1462234301, "post_id": 36993557, "comment_id": 61541175, "body": "Welcome to Stack Overflow! This is really a comment, not an answer. With a bit more rep, <a href=\"//stackoverflow.com/privileges/comment\">you will be able to post comments</a>."}, {"owner": {"reputation": 41, "user_id": 2512524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff6774c114036310792358265a06493?s=128&d=identicon&r=PG", "display_name": "pacifly", "link": "https://stackoverflow.com/users/2512524/pacifly"}, "edited": false, "score": 0, "creation_date": 1462294616, "post_id": 36993557, "comment_id": 61572220, "body": "@James No surprise indeed, since my colleague was not able to reproduce this on his machine as well...please see my comments above and the link to another post that maybe relevant. Thanks."}], "tags": [], "owner": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "is_accepted": false, "score": 1, "last_activity_date": 1462629107, "last_edit_date": 1462629107, "creation_date": 1462234180, "answer_id": 36993557, "question_id": 36988184, "link": "https://stackoverflow.com/questions/36988184/configure-does-not-generate-makefile-while-building-perl-from-source/36993557#36993557", "title": "configure does not generate makefile while building perl from source", "body": "<p>What is surprising in the output you posted is that you went directly from this:</p>\n\n<pre><code>Extracting runtests (with variable substitutions)\n</code></pre>\n\n<p>... to this:</p>\n\n<pre><code>Configure done.\n</code></pre>\n\n<p>... without, at the very least, getting this prompt (and response):</p>\n\n<pre><code>Run make depend now? [y]\n</code></pre>\n\n<p>In ./Configure, we have this 'if' block:</p>\n\n<pre><code>if $contains '^depend:' [Mm]akefile &gt;/dev/null 2&gt;&amp;1; then\n    dflt=y\n    case \"$silent\" in\n    true) ;;\n    *)\n        $cat &lt;&lt;EOM\n\nNow you need to generate make dependencies by running \"$make depend\".\nYou might prefer to run it in background: \"$make depend &gt; makedepend.out &amp;\"\nIt can take a while, so you might not want to run it right now.\n\nEOM\n        ;;\n    esac\n    rp=\"Run $make depend now?\"\n    . UU/myread\n    case \"$ans\" in\n    y*)\n        $make depend &amp;&amp; echo \"Now you must run '$make'.\"\n        ;;\n    *)\n        echo \"You must run '$make depend' then '$make'.\"\n        ;;\n    esac\nelif test -f [Mm]akefile; then\n    echo \" \"\n    echo \"Now you must run a $make.\"\nelse\n    echo \"Configure done.\"\nfi\n</code></pre>\n\n<ol>\n<li><p>Is it possible that you do not have a 'Makefile' (or 'makefile') in the directory in which you are configuring?  (Note, I have no idea why that would be the case, but that's what the sequence of STDOUT statements seems to be suggesting.)</p></li>\n<li><p>I examined your Configure output as well as mine from perl-5.22.2.  The most significant differences I noted were:</p></li>\n</ol>\n\n<p>(a) You do not appear to have BerkeleyDB installed; and</p>\n\n<p>(b) you have directory '/home/zxu/lib' at the start of the list of directories which is Configure's output from this probe:</p>\n\n<p>Directories to use for library searches?</p>\n\n<p>I'm not really sure why (b) would be so.  You might want to post the output of this command:</p>\n\n<pre><code>grep -E 'libpth\\b' config.sh\n</code></pre>\n\n<p>That may have nothing to do with your original problem, but it is anomalous.</p>\n"}], "owner": {"reputation": 41, "user_id": 2512524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff6774c114036310792358265a06493?s=128&d=identicon&r=PG", "display_name": "pacifly", "link": "https://stackoverflow.com/users/2512524/pacifly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1462629107, "creation_date": 1462210221, "question_id": 36988184, "link": "https://stackoverflow.com/questions/36988184/configure-does-not-generate-makefile-while-building-perl-from-source", "title": "configure does not generate makefile while building perl from source", "body": "<p>I am building perl from source on Ubuntu 14.04 (kernel 3.13.0-24-generic):</p>\n\n<pre><code>wget http://www.cpan.org/src/5.0/perl-5.22.2.tar.gz\ntar -xzf perl-5.22.2.tar.gz\ncd perl-5.22.2\n./Configure -des -Dprefix=$HOME/perl5.22\n</code></pre>\n\n<p>Configure did not generate a makefile. The output log is:</p>\n\n<pre><code>First let's make sure your kit is complete.  Checking...\nLocating common programs...\nChecking compatibility between /bin/echo and builtin echo (if any)...\nSymbolic links are supported.\n\nChecking how to test for symbolic links...\nYou can test for symbolic links with 'test -h'.\nChecking for cross-compile\nNo targethost for running compiler tests against defined, running locally\nGood, your tr supports [:lower:] and [:upper:] to convert case.\nUsing [:upper:] and [:lower:] to convert case.\naix_3         dragonfly       irix_4            nonstopux     stellar   \n...  \ndos_djgpp     interix         newsos4           solaris_2   \nWhich of these apply, if any? [linux]  \n\nYou appear to have ELF support.  I'll try to use it for dynamic loading.\nIf dynamic loading doesn't work, read hints/linux.sh for further information.\nOperating system name? [linux]  \nOperating system version? [3.13.0-24-generic]  \nInstallation prefix to use? (~name ok) [/home/zxu/perl5.22]  \nAFS does not seem to be running...\nWhat installation prefix should I use for installing files? (~name ok)\n[/home/zxu/perl5.22]  \nGetting the current patchlevel...\nBuild a threading Perl? [n]  \nBuild Perl for multiplicity? [n]  \nUse which C compiler? [cc]  \nChecking for GNU cc in disguise and/or its version number...\nNow, how can we feed standard input to your C preprocessor...\nDirectories to use for library searches?\n[/home/zxu/lib /usr/local/lib /usr/lib/gcc/x86_64-linux-gnu/4.8/include-fixed /usr/include/x86_64-linux-gnu /usr/lib /home/zxu/lib/../lib /lib/x86_64-linux-gnu /lib/../lib /usr/lib/x86_64-linux-gnu /usr/l\nib/../lib /lib]  \nWhat is the file extension used for shared libraries? [so]  \nMake shared library basenames unique? [n]  \nBuild Perl for SOCKS? [n]  \nTry to use long doubles if available? [n]  \nChecking for optional libraries...\nWhat libraries to use? [-lpthread -lnsl -ldl -lm -lcrypt -lutil -lc]  \nWhat optimizer/debugger flag should be used? [-O2]  \nAny additional cc flags?\n[-fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include]  \nLet me guess what the preprocessor flags are...\nAny additional ld flags (NOT including libraries)?\n[ -fstack-protector -L/usr/local/lib]  \nChecking your choice of C compiler and flags for coherency...\nComputing filename position in cpp output for #include directives...\n&lt;stdlib.h&gt; found.\nChecking to see how big your integers are...\nChecking to see if you have long long...\nChecking to see how big your long longs are...\n&lt;inttypes.h&gt; found.\nChecking to see if you have int64_t...\nChecking which 64-bit integer type we could use...\nWe could use 'long' for 64-bit integers.\nTry to use maximal 64-bit support, if available? [y]  \nChecking if your C library has broken 64-bit functions...\nChecking for GNU C Library...\nnm probably won't work on the GNU C Library.\nShall I use /usr/bin/nm to extract C symbols from the libraries? [n]  \nChecking for C++...\nChecking to see how big your double precision numbers are...\n&lt;float.h&gt; found.\nChecking to see if you have long double...\nldexpl() found.\nChecking to see how big your long doubles are...\nChecking the kind of long doubles you have...\nYou have x86 80-bit little endian long doubles.\nWhat is your architecture name [x86_64-linux]  \nAdd the Perl API version to your archname? [n]  \nThis architecture is naturally 64-bit, not changing architecture name.\nPathname where the public executables will reside? (~name ok)\n[/home/zxu/perl5.22/bin]  \nUse relocatable @INC? [n]  \nPathname where the private library files will reside? (~name ok)\n[/home/zxu/perl5.22/lib/5.22.2]  \nWhere do you want to put the public architecture-dependent libraries? (~name ok)\n[/home/zxu/perl5.22/lib/5.22.2/x86_64-linux]  \nOther username to test security of setuid scripts with? [none]  \nWell, the recommended value is *not* secure.\nDoes your kernel have *secure* setuid scripts? [n]  \nInstallation prefix to use for add-on modules and utilities? (~name ok)\n[/home/zxu/perl5.22]  \nPathname for the site-specific library files? (~name ok)\n[/home/zxu/perl5.22/lib/site_perl/5.22.2]  \nList of earlier versions to include in @INC? [none]  \n&lt;malloc/malloc.h&gt; NOT found.\n&lt;malloc.h&gt; found.\nChecking to see how big your pointers are...\nDo you wish to wrap malloc calls to protect against potential overflows? [y]  \nDo you wish to attempt to use the malloc that comes with perl5? [n]  \nYour system wants malloc to return 'void *', it would seem.\nYour system uses void free(), it would seem.\nPathname for the site-specific architecture-dependent library files? (~name ok)\n[/home/zxu/perl5.22/lib/site_perl/5.22.2/x86_64-linux]  \nDo you want to configure vendor-specific add-on directories? [n]  \nColon-separated list of additional directories for perl to search? [none]  \nChecking out function prototypes...\nSupport DTrace if available? [n]  \nInstall any extra modules (y or n)? [n]  \nDirectory for the main Perl5 html pages? (~name ok) [none]  \nDirectory for the Perl5 module html pages? (~name ok) [none]  \nDo you want to install perl as /usr/bin/perl? [n]  \ndlopen() found.\n&lt;unistd.h&gt; found.\nDo you wish to use dynamic loading? [y]  \nSource file to use for dynamic loading [ext/DynaLoader/dl_dlopen.xs]  \nAny special flags to pass to cc -c to compile shared library modules?\n[-fPIC]  \nWhat command should be used to create dynamic libraries? [cc]  \nAny special flags to pass to cc to create a dynamically loaded library?\n[-shared -O2 -L/usr/local/lib -fstack-protector]  \nAny special flags to pass to cc to use dynamic linking? [-Wl,-E]  \nld supports scripting\nBuild a shared libperl.so (y/n) [n]  \nSystem manual is in /usr/share/man/man1.\nWhere do the main Perl5 manual pages (source) go? (~name ok)\n[/home/zxu/perl5.22/man/man1]  \nWhat suffix should be used for the main Perl5 man pages? [1]  \nYou can have filenames longer than 14 characters.\nWhere do the perl5 library man pages (source) go? (~name ok)\n[/home/zxu/perl5.22/man/man3]  \nWhat suffix should be used for the perl5 library man pages? [3]  \nFiguring out host name...\nYour host name appears to be \"***\". Right? [y]  \nWhat is your domain name? [***]  \nWhat is your e-mail address? [zxu@***]  \nPerl administrator e-mail address [zxu@***]  \nDo you want to install only the version-specific parts of perl? [n]  \nWhat shall I put after the #! to start up perl (\"none\" to not use #!)?\n[/home/zxu/perl5.22/bin/perl]  \nWhere do you keep publicly executable scripts? (~name ok)\n[/home/zxu/perl5.22/bin]  \nPathname where the add-on public executables should be installed? (~name ok)\n[/home/zxu/perl5.22/bin]  \nPathname where the site-specific html pages should be installed? (~name ok)\n[none]  \nPathname where the site-specific library html pages should be installed? (~name ok)\n[none]  \nPathname where the site-specific manual pages should be installed? (~name ok)\n[/home/zxu/perl5.22/man/man1]  \nPathname where the site-specific library manual pages should be installed? (~name ok)\n[/home/zxu/perl5.22/man/man3]  \nPathname where add-on public executable scripts should be installed? (~name ok)\n[/home/zxu/perl5.22/bin]  \nbacktrace() found.\nUse the \"fast stdio\" if available? [n]  \noff_t found.\nChecking to see how big your file offsets are...\nfpos_t found.\nChecking the size of fpos_t...\nTry to understand large files, if available? [y]  \nRechecking to see how big your file offsets are...\nRechecking the size of fpos_t... 16 bytes.\nUsing &lt;string.h&gt; instead of &lt;strings.h&gt;.\nqgcvt() found.\nChecking the kind of doubles you have...\nYou have IEEE 754 64-bit little endian doubles.\nChecking how to print long doubles...\ngconvert NOT found.\ngcvt() found.\nI'll use gcvt to convert floats into a string.\nfwalk() NOT found.\naccess() found.\n&lt;sys/file.h&gt; defines the *_OK access constants.\naccessx() NOT found.\nacosh() found.\naintl() NOT found.\nalarm() found.\nctime64() NOT found.\nlocaltime64() NOT found.\ngmtime64() NOT found.\nmktime64() NOT found.\ndifftime64() NOT found.\nasctime64() NOT found.\n&lt;pthread.h&gt; found.\n&lt;sys/types.h&gt; found.\n&lt;sys/select.h&gt; found.\nTesting to see if we should include &lt;time.h&gt;, &lt;sys/time.h&gt; or both.\nWe'll include &lt;time.h&gt;.\nWe'll include &lt;sys/time.h&gt;.\nChecking to see if your struct tm has tm_zone field...\nChecking to see if your struct tm has tm_gmtoff field...\nasctime_r() found.\nasinh() found.\natanh() found.\natolf() NOT found.\natoll() found.\nChecking whether your compiler can handle __attribute__((format)) ...\nChecking whether your compiler allows __printf__ format to be null ...\nChecking whether your compiler can handle __attribute__((malloc)) ...\nChecking whether your compiler can handle __attribute__((nonnull(1))) ...\nChecking whether your compiler can handle __attribute__((noreturn)) ...\nChecking whether your compiler can handle __attribute__((pure)) ...\nChecking whether your compiler can handle __attribute__((unused)) ...\nChecking whether your compiler can handle __attribute__((deprecated)) ...\nChecking whether your compiler can handle __attribute__((warn_unused_result)) ...\nbcmp() found.\nbcopy() found.\ngetpgrp() found.\nYou have to use getpgrp() instead of getpgrp(pid).\nsetpgrp() found.\nYou have to use setpgrp() instead of setpgrp(pid,pgrp).\nChecking whether your compiler can handle __builtin_choose_expr ...\nChecking whether your compiler can handle __builtin_expect ...\nbzero() found.\n&lt;stdarg.h&gt; found.\n&lt;varargs.h&gt; found.\nWe'll include &lt;stdarg.h&gt; to get va_dcl definition.\nYou have &lt;stdarg.h&gt; and &lt;stdlib.h&gt;, so checking for C99 variadic macros.\nYou have C99 variadic macros.\nYou have void (*signal())().\nChecking whether your C compiler can cast large floats to int32.\nChecking whether your C compiler can cast negative float to unsigned.\ncbrt() found.\nvprintf() found.\nYour vsprintf() returns (int).\nchown() found.\nchroot() found.\nchsize() NOT found.\nclass() NOT found.\nclearenv() found.\nHmm... Looks like you have Berkeley networking support.\nsocketpair() found.\nChecking the availability sa_len in the sock struct ...\nChecking the availability struct sockaddr_in6 ...\nChecking the availability sin6_scope_id in struct sockaddr_in6 ...\nChecking the availability struct ip_mreq ...\nChecking the availability struct ip_mreq_source ...\nChecking the availability struct ipv6_mreq ...\nChecking the availability struct ipv6_mreq_source ...\nChecking the availability of certain socket constants...\n&lt;sys/uio.h&gt; found.\nChecking to see if your system supports struct cmsghdr...\nChecking to see if your C compiler knows about \"const\"...\ncopysign() found.\ncopysignl() found.\ncrypt() found.\n&lt;crypt.h&gt; found.\ncrypt_r() found.\nctermid() found.\nctermid_r() NOT found.\nctime_r() found.\ncuserid() found.\n&lt;limits.h&gt; found.\nDBL_DIG found.\ndbmclose() NOT found.\ndifftime() found.\n&lt;dirent.h&gt; found.\nYour directory entries are struct dirent.\nYour directory entry does not know about the d_namlen field.\nChecking to see if DIR has a dd_fd member variable\n&lt;sys/dir.h&gt; found.\n&lt;sys/ndir.h&gt; NOT found.\ndirfd() found.\ndladdr() found.\ndlerror() found.\n&lt;dlfcn.h&gt; found.\nWhat is the extension of dynamically loaded modules [so]  \nChecking whether your dlsym() needs a leading underscore ...\ndlsym doesn't need a leading underscore.\ndrand48_r() found.\ndup2() found.\neaccess() found.\nendgrent() found.\n&lt;grp.h&gt; found.\nendgrent_r() NOT found.\nendhostent() found.\n&lt;netdb.h&gt; found.\nendhostent_r() NOT found.\nendnetent() found.\nendnetent_r() NOT found.\nendprotoent() found.\nendprotoent_r() NOT found.\nendpwent() found.\n&lt;pwd.h&gt; found.\nendpwent_r() NOT found.\nendservent() found.\nendservent_r() NOT found.\n&lt;sys/file.h&gt; defines the O_* constants...\nand you have the 3 argument form of open().\n&lt;sys/file.h&gt; found.\nWe'll be including &lt;sys/file.h&gt;.\n&lt;fcntl.h&gt; found.\nWe don't need to include &lt;fcntl.h&gt; if we include &lt;sys/file.h&gt;.\nfork() found.\npipe() found.\nFiguring out the flag used by open() for non-blocking I/O...\nLet's see what value errno gets from read() on a O_NONBLOCK file...\nerf() found.\nerfc() found.\nexp2() found.\nexpm1() found.\nChecking how std your stdio is...\nChecking to see what happens if we set the stdio ptr...\nIncreasing ptr in your stdio decreases cnt by the same amount.  Good.\nYou seem to have 'fast stdio' to directly manipulate the stdio buffers.\nfchdir() found.\nfchmod() found.\nfchown() found.\nfcntl() found.\nWell, your system has some sort of fd_set available...\nand you have the normal fd_set macros.\nfdim() found.\nfegetround() found.\nfgetpos() found.\nfinite() found.\nfinitel() found.\nflock() found.\nfma() found.\nfmax() found.\nfmin() found.\nfp_class() NOT found.\n&lt;math.h&gt; found.\nChecking to see if you have fpclassify...\nfp_classify() NOT found.\nfp_classl() NOT found.\npathconf() found.\nfpathconf() found.\nfpclass() NOT found.\nfpclassl() NOT found.\nfpgetround() NOT found.\nChecking to see if you have fpos64_t...\nfrexpl() found.\n&lt;sys/param.h&gt; found.\n&lt;sys/mount.h&gt; found.\nChecking to see if your system supports struct fs_data...\nfseeko() found.\nfsetpos() found.\nfstatfs() found.\nstatvfs() found.\nfstatvfs() found.\nfsync() found.\nftello() found.\nChecking if you have a working futimes()\nYes, you have\n&lt;ndbm.h&gt; NOT found.\n&lt;gdbm/ndbm.h&gt; NOT found.\n&lt;gdbm-ndbm.h&gt; NOT found.\ngetaddrinfo() found.\ngetcwd() found.\ngetespwnam() NOT found.\ngetfsstat() NOT found.\ngetgrent() found.\ngetgrent_r() found.\ngetgrgid_r() found.\ngetgrnam_r() found.\ngethostbyaddr() found.\ngethostbyname() found.\ngethostent() found.\ngethostname() found.\nuname() found.\nShall I ignore gethostname() from now on? [n]  \ngethostbyaddr_r() found.\ngethostbyname_r() found.\ngethostent_r() found.\ngetitimer() found.\ngetlogin() found.\ngetlogin_r() found.\ngetmnt() NOT found.\ngetmntent() found.\ngetnameinfo() found.\ngetnetbyaddr() found.\ngetnetbyname() found.\ngetnetent() found.\ngetnetbyaddr_r() found.\ngetnetbyname_r() found.\ngetnetent_r() found.\ngetpagesize() found.\ngetprotobyname() found.\ngetprotobynumber() found.\ngetprotoent() found.\ngetpgid() found.\ngetpgrp2() NOT found.\ngetppid() found.\ngetpriority() found.\ngetprotobyname_r() found.\ngetprotobynumber_r() found.\ngetprotoent_r() found.\ngetprpwnam() NOT found.\ngetpwent() found.\ngetpwent_r() found.\ngetpwnam_r() found.\ngetpwuid_r() found.\ngetservbyname() found.\ngetservbyport() found.\ngetservent() found.\ngetservbyname_r() found.\ngetservbyport_r() found.\ngetservent_r() found.\ngetspnam() found.\n&lt;shadow.h&gt; found.\ngetspnam_r() found.\ngettimeofday() found.\ngmtime_r() found.\nhasmntopt() found.\n&lt;netinet/in.h&gt; found.\n&lt;arpa/inet.h&gt; found.\nhtonl() found.\nhypot() found.\nilogb() found.\nilogbl() found.\nstrchr() found.\ninet_aton() found.\ninet_ntop() found.\ninet_pton() found.\nisascii() found.\nisblank() found.\nChecking to see if you have isfinite...\nisfinitel() NOT found.\nChecking to see if you have isinf...\nisinfl() found.\nChecking to see if you have isless...\nChecking to see if you have isnan...\nisnanl() found.\nChecking to see if you have isnormal...\nj0() found.\nj0l() found.\nkillpg() found.\nlocaleconv() found.\nlchown() found.\nLDBL_DIG found.\nlgamma() found.\nlgamma_r() found.\nChecking to see if your libm supports _LIB_VERSION...\nYes, it does (2)\nlink() found.\nllrint() found.\nllrintl() found.\nllround() found.\nllroundl() found.\nlocaltime_r() found.\nlockf() found.\nlog1p() found.\nlog2() found.\nlogb() found.\nlrint() found.\nlrintl() found.\nlround() found.\nlroundl() found.\nlstat() found.\nmadvise() found.\nmalloc_size() NOT found.\nmalloc_good_size() NOT found.\nmblen() found.\nmbstowcs() found.\nmbtowc() found.\nmemchr() found.\nmemcmp() found.\nmemcpy() found.\nmemmove() found.\nmemset() found.\nmkdir() found.\nmkdtemp() found.\nmkfifo() found.\nmkstemp() found.\nmkstemps() found.\nmktime() found.\n&lt;sys/mman.h&gt; found.\nmmap() found.\nand it returns (void *).\nsqrtl() found.\nscalbnl() found.\ntruncl() found.\nmodfl() found.\nYour modfl() seems okay for large values.\nmprotect() found.\nmsgctl() found.\nmsgget() found.\nmsgsnd() found.\nmsgrcv() found.\nYou have the full msg*(2) library.\nChecking to see if your system supports struct msghdr...\nmsync() found.\nmunmap() found.\nnan() found.\nnearbyint() found.\nnextafter() found.\nnexttoward() found.\nnice() found.\n&lt;langinfo.h&gt; found.\nnl_langinfo() found.\n&lt;quadmath.h&gt; found.\nChecking to see if your C compiler knows about \"volatile\"...\nChoosing the C types to be used for Perl's internal types...\nChecking how many bits of your UVs your NVs can preserve...\nChecking to find the largest integer value your NVs can hold...\nThe largest integer your NVs can preserve is equal to 256.0*256.0*256.0*256.0*256.0*256.0*2.0*2.0*2.0*2.0*2.0\nChecking whether NV 0.0 is all bits zero in memory...\n0.0 is represented as all bits zero in memory\nChecking to see if you have off64_t...\npause() found.\npoll() found.\nprctl() found.\nreadlink() found.\nvfork() found.\nDo you still want to use vfork()? [n]  \npthread_attr_setscope() found.\nChecking to see if you have ptrdiff_t...\nrandom_r() found.\nreaddir() found.\nseekdir() found.\ntelldir() found.\nrewinddir() found.\nreaddir64_r() found.\nreaddir_r() found.\nreadv() found.\nrecvmsg() found.\nregcomp() found.\nremainder() found.\nremquo() found.\nrename() found.\nrint() found.\nrmdir() found.\nround() found.\n&lt;memory.h&gt; found.\nChecking if your memcmp() can compare relative magnitude...\nscalbn() found.\nselect() found.\nsemctl() found.\nsemget() found.\nsemop() found.\nYou have the full sem*(2) library.\nYou do not have union semun in &lt;sys/sem.h&gt;.\nYou can use union semun for semctl IPC_STAT.\nYou can also use struct semid_ds* for semctl IPC_STAT.\nsendmsg() found.\nsetegid() found.\nseteuid() found.\nsetgrent() found.\nsetgrent_r() NOT found.\nsethostent() found.\nsethostent_r() NOT found.\nsetitimer() found.\nsetlinebuf() found.\nsetlocale() found.\n&lt;locale.h&gt; found.\nsetlocale_r() NOT found.\nsetnetent() found.\nsetnetent_r() NOT found.\nsetprotoent() found.\nsetpgid() found.\nsetpgrp2() NOT found.\nsetpriority() found.\nsetproctitle() NOT found.\nsetprotoent_r() NOT found.\nsetpwent() found.\nsetpwent_r() NOT found.\nsetregid() found.\nsetresgid() found.\nsetreuid() found.\nsetresuid() found.\nsetrgid() NOT found.\nsetruid() NOT found.\nsetservent() found.\nsetservent_r() NOT found.\nsetsid() found.\nsetvbuf() found.\nshmctl() found.\nshmget() found.\nshmat() found.\nand it returns (void *).\nshmdt() found.\nYou have the full shm*(2) library.\nsigaction() found.\n&lt;sunmath.h&gt; NOT found.\nChecking to see if you have signbit() available to work on double... Yes.\nsigprocmask() found.\nPOSIX sigsetjmp found.\nsnprintf() found.\nvsnprintf() found.\nsockatmark() found.\nsocks5_init() NOT found.\nChecking whether sprintf returns the length of the string...\nsprintf returns the length of the string (as ANSI says it should)\nsrand48_r() found.\nsrandom_r() found.\nstat() found.\n&lt;sys/stat.h&gt; found.\nChecking to see if your struct stat has st_blocks field...\n&lt;sys/vfs.h&gt; found.\n&lt;sys/statfs.h&gt; found.\nChecking to see if your system supports struct statfs...\nChecking to see if your struct statfs has f_flags field...\nYour compiler supports static __inline__.\nChecking how to access stdio streams by file descriptor number...\nI can't figure out how to access stdio streams by file descriptor number.\nstrcoll() found.\nChecking to see if your C compiler can copy structs...\nstrerror() found.\nstrerror_r() found.\nstrftime() found.\nstrlcat() NOT found.\nstrlcpy() NOT found.\nstrtod() found.\nstrtol() found.\nstrtold() found.\nstrtoll() found.\nstrtoq() found.\nstrtoul() found.\nstrtoull() found.\nstrtouq() found.\nstrxfrm() found.\nsymlink() found.\nsyscall() found.\nsysconf() found.\nsystem() found.\ntcgetpgrp() found.\ntcsetpgrp() found.\ntgamma() found.\ntime() found.\ntime_t found.\ntimegm() found.\n&lt;sys/times.h&gt; found.\ntimes() found.\nclock_t found.\ntmpnam_r() found.\ntrunc() found.\ntruncate() found.\nttyname_r() found.\ntzname[] found.\n(Testing for character data alignment may crash the test.  That's okay.)\nIt seems that you must access character data in an aligned manner.\nualarm() found.\numask() found.\nunordered() NOT found.\nunsetenv() found.\nusleep() found.\nustat() found.\nclosedir() found.\nChecking whether closedir() returns a status...\nwait4() found.\nwaitpid() found.\nA working wcscmp() found.\nwcstombs() found.\nA working wcsxfrm() found.\nwctomb() found.\nwritev() found.\nChecking alignment constraints...\nDoubles must be aligned on a how-many-byte boundary? [8]  \nChecking how long a character is (in bits)...\nWhat is the length of a character (in bits)? [8]  \nChecking to see how your cpp does stuff like concatenate tokens...\nOh!  Smells like ANSI's been here.\n&lt;db.h&gt; NOT found.\nUsing our internal random number implementation...\nDetermining whether or not we are on an EBCDIC system...\nNope, no EBCDIC, probably ASCII or some ISO Latin. Or UTF-8.\nChecking how to flush all pending stdio output...\nYour fflush(NULL) works okay for output streams.\nLet's see if it clobbers input pipes...\nfflush(NULL) seems to behave okay with input streams.\nChecking the size of gid_t...\nChecking the sign of gid_t...\nChecking how to print 64-bit integers...\nChecking the format strings to be used for Perl's internal types...\nChecking the format string to be used for gids...\ngetgroups() found.\nsetgroups() found.\nWhat type pointer is the second argument to getgroups() and setgroups()?\n[gid_t]  \nChecking if your /usr/bin/make program sets $(MAKE)...\nmode_t found.\nIt seems that va_copy() or similar will be needed.\nsize_t found.\nWhat is the type for the 1st argument to gethostbyaddr? [char *]  \nWhat is the type for the 2nd argument to gethostbyaddr? [size_t]  \nWhat pager is used on your system? [/usr/bin/less -R]  \npid_t found.\nChecking how to generate random libraries on your machine...\n&lt;values.h&gt; found.\nYour select() operates on 64 bits at a time.\nGenerating a list of signal names and numbers...\nChecking the size of size_t...\nChecking to see if you have socklen_t...\n&lt;socks.h&gt; NOT found.\nI'll be using ssize_t for functions returning a byte count.\nChecking the size of st_ino...\nChecking the sign of st_ino...\nYour stdio uses signed chars.\nChecking the size of uid_t...\nChecking the sign of uid_t...\nChecking the format string to be used for uids...\nDetermining whether we can use sysctl with KERN_PROC_PATHNAME to find executing program...\nI'm unable to compile the test program.\nI'll assume no sysctl with KERN_PROC_PATHNAME here.\nDetermining whether we can use _NSGetExecutablePath to find executing program...\nI'm unable to compile the test program.\nI'll assume no _NSGetExecutablePath here.\nIt appears we'll be able to prototype varargs functions.\nWhich compiler compiler (yacc) shall I use? [yacc]  \n&lt;assert.h&gt; found.\n&lt;bfd.h&gt; NOT found.\n&lt;execinfo.h&gt; found.\n&lt;fenv.h&gt; found.\n&lt;fp.h&gt; NOT found.\n&lt;fp_class.h&gt; NOT found.\n&lt;gdbm.h&gt; NOT found.\n&lt;ieeefp.h&gt; NOT found.\n&lt;libutil.h&gt; NOT found.\n&lt;mntent.h&gt; found.\n&lt;net/errno.h&gt; NOT found.\n&lt;netinet/tcp.h&gt; found.\n&lt;poll.h&gt; found.\n&lt;prot.h&gt; NOT found.\nGuessing which symbols your C compiler and preprocessor define...\nYou seem to have -D_FORTIFY_SOURCE already, not adding it.\ntcsetattr() found.\nYou have POSIX termios.h... good!\n&lt;stdbool.h&gt; found.\n&lt;stddef.h&gt; found.\n&lt;stdint.h&gt; found.\n&lt;sys/access.h&gt; NOT found.\n&lt;sys/filio.h&gt; NOT found.\n&lt;sys/ioctl.h&gt; found.\n&lt;syslog.h&gt; found.\n&lt;sys/mode.h&gt; NOT found.\n&lt;sys/poll.h&gt; found.\n&lt;sys/resource.h&gt; found.\n&lt;sys/security.h&gt; NOT found.\n&lt;sys/statvfs.h&gt; found.\n&lt;sys/un.h&gt; found.\n&lt;sys/utsname.h&gt; found.\n&lt;sys/wait.h&gt; found.\n&lt;ustat.h&gt; found.\n&lt;utime.h&gt; found.\nLooking for extensions...\nWhat extensions do you wish to load dynamically?\n[arybase attributes B Compress/Raw/Bzip2 Compress/Raw/Zlib Cwd Data/Dumper Devel/Peek Devel/PPPort Digest/MD5 Digest/SHA Encode Fcntl File/DosGlob File/Glob Filter/Util/Call Hash/Util Hash/Util/FieldHash \nI18N/Langinfo IO IPC/SysV List/Util Math/BigInt/FastCalc MIME/Base64 mro Opcode PerlIO/encoding PerlIO/mmap PerlIO/scalar PerlIO/via POSIX re SDBM_File Socket Storable Sys/Hostname Sys/Syslog threads thre\nads/shared Tie/Hash/NamedCapture Time/HiRes Time/Piece Unicode/Collate XS/APItest XS/Typemap]  \nWhat extensions do you wish to load statically? [none]  \nStripping down executable paths...\nCreating config.sh...\nDoing variable substitutions on .SH files...\nExtracting config.h (with variable substitutions)\ncflags.SH: Adding -std=c89.\ncflags.SH: Adding -Werror=declaration-after-statement.\ncflags.SH: Adding -Wextra.\ncflags.SH: Adding -Wc++-compat.\ncflags.SH: Adding -Wwrite-strings.\ncflags.SH: cc       = cc\ncflags.SH: ccflags  = -fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64\ncflags.SH: stdflags =  -std=c89\ncflags.SH: optimize = -O2\ncflags.SH: warn     =  -Wall -Werror=declaration-after-statement -Wextra -Wc++-compat -Wwrite-strings\nExtracting cflags (with variable substitutions)\nNot re-extracting config.h\nExtracting makedepend (with variable substitutions)\nExtracting Makefile (with variable substitutions)\nExtracting myconfig (with variable substitutions)\nExtracting pod/Makefile (with variable substitutions)\nExtracting Policy.sh (with variable substitutions)\nExtracting runtests (with variable substitutions)\nConfigure done.\n...\n</code></pre>\n\n<p>Comparing with a successful Configure on another machine, it did not execute makedepend:</p>\n\n<pre><code>Extracting runtests (with variable substitutions)\nRun make depend now? [y]  \nsh ./makedepend MAKE=\"make\" cflags\n</code></pre>\n\n<p>Executing the above makedepend line gave a message <code>make: *** No rule to make target 'clist'.  Stop.</code>. Any hints to debug this? Much appreciated!</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 1, "creation_date": 1462214515, "post_id": 36988608, "comment_id": 61532998, "body": "great, thanks a lot, can you pls explain what <code>grep { $_ == $currentYear } @years</code> will do ? I didn&#39;t understand why we need <code>$_ == $currentYear</code>"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "edited": false, "score": 1, "creation_date": 1462215159, "post_id": 36988608, "comment_id": 61533333, "body": "@Krish that line is simply searching <code>@years</code> for <code>$currentYear</code>.  It will return either a 1 element list (true) or an empty list (false)."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 5, "last_activity_date": 1462216029, "last_edit_date": 1462216029, "creation_date": 1462211746, "answer_id": 36988608, "question_id": 36987918, "link": "https://stackoverflow.com/questions/36987918/validate-year-range-using-perl/36988608#36988608", "title": "Validate year range using Perl", "body": "<p>You could use <a href=\"https://metacpan.org/pod/Set::IntSpan\" rel=\"nofollow\">Set::IntSpan</a> to validate the dates:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Set::IntSpan qw();\n\nmy $currentYear = 2016;\n\nwhile (&lt;DATA&gt;) {\n    s/\\s+//g;\n    my $ok = 0;\n    if (Set::IntSpan-&gt;valid($_)) { # Checks order\n        my $set = Set::IntSpan-&gt;new($_);\n        my @years = $set-&gt;elements();\n        $ok = 1 if grep { $_ == $currentYear } @years;\n    }\n    print \"$ok : $_\\n\";\n}\n\n__DATA__\n2007\n2007, 2016\n2007-2010,2016\n2010,2012-2016\n2016,2007\n2010-2007,2016\n2010-2015\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>0 : 2007\n1 : 2007,2016\n1 : 2007-2010,2016\n1 : 2010,2012-2016\n0 : 2016,2007\n0 : 2010-2007,2016\n0 : 2010-2015\n</code></pre>\n\n<p>Simplifying using <code>member</code> instead of <code>grep</code>, as recommended by <code>pilcrow</code> in a comment:</p>\n\n<pre><code>my $ok = 0;\nif (Set::IntSpan-&gt;valid($_)) { \n    my $set = Set::IntSpan-&gt;new($_);\n    $ok = 1 if $set-&gt;member($currentYear);\n}\nprint \"$ok : $_\\n\";\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2748513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a57ccf0bf2588656bdef02373a0aaa71?s=128&d=identicon&r=PG&f=1", "display_name": "rodee", "link": "https://stackoverflow.com/users/2748513/rodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 1, "accepted_answer_id": 36988608, "answer_count": 1, "score": 4, "last_activity_date": 1462216029, "creation_date": 1462209218, "last_edit_date": 1462214218, "question_id": 36987918, "link": "https://stackoverflow.com/questions/36987918/validate-year-range-using-perl", "title": "Validate year range using Perl", "body": "<p>These are the valid years in header of our source file, in copyright line:</p>\n\n<pre><code>2016\n2007,2016\n2007-2010,2016\n2010,2012-2016\n</code></pre>\n\n<p>current year (2016) should be part of it.</p>\n\n<p>invalid:</p>\n\n<pre><code>2016,2007 # not in order\n2010-2007,2016 #range not in order.\n2010-2015 # current year missing.\n</code></pre>\n\n<p>I made script as below, still working on it, is there a better way to check the same?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util 'first';\nuse Time::Piece;\n\nmy $t = Time::Piece-&gt;new();\nmy $currentYear=$t-&gt;year;\n\nmy $filename=\"sample.txt\"; # this file name will be passed-in to the script.\nmy $fileContent=`cat $filename`;\nmy $copyrightFound = first { /copyright .* Shakespeare/i } $fileContent;\nif (!$copyrightFound) {\n     print \"\\nERROR: Copyright missing\\n\";\n     exit;\n}\n#copyright Found\nprint $fileContent;\nif ($fileContent =~ /Copyright \\(c\\) (.*) by Bill Shakespeare\\s+.*All rights reserved./) {\n    print \"\\nCopyright is good: $1\\n\";\n    my $years = $1;\n    print \"\\n$years, $currentYear\\n\";\n    #e.g: 2016\n    if ($years !~ ', ' &amp;&amp; $years !~ '-') {\n       print \"\\nerror\\n\" if ($years !~ /$currentYear/);\n    }\n    #e.g: 2010-2016\n    elsif ($years !~ ', ') {\n       print \"\\nError\\n\" if ($years !~ /\\-$currentYear$/);\n    }\n    #eg: 2010, 2016\n    elsif ($years !~ '-') {\n       print \"\\nError\\n\" if ($years !~ /\\, $currentYear$/);\n    }\n    #e.g: 2008, 2010, 2011-2016\n    elsif ($years =~ '-' &amp;&amp; $years =~ ', ') {\n       print \"\\nError 5\\n\" if ($years !~ /\\d\\d\\d\\d, \\d\\d\\d\\d\\-$currentYear$/);\n    }\n    else {\n       print \"invalid format\"\n    }\n\n} else {\n      print \"\\nCopyright needs to be fixed\\n\";\n}\n</code></pre>\n\n<p>sample.txt has:</p>\n\n<pre><code>Copyright (c) 2008, 2010, 2011-2016 by Bill Shakespeare\nAll rights reserved.\n</code></pre>\n"}, {"tags": ["perl", "dbi"], "owner": {"reputation": 11, "user_id": 4373027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79c802c1a2eaf8a91f47803b1fafff96?s=128&d=identicon&r=PG&f=1", "display_name": "Gene Leung", "link": "https://stackoverflow.com/users/4373027/gene-leung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462207776, "creation_date": 1462207776, "question_id": 36987515, "link": "https://stackoverflow.com/questions/36987515/perl-dbi-utf8-chinese", "title": "perl dbi utf8 chinese", "body": "<p>Here is a my perl program runs under windows 2003 with ActiveState Perl installed, version v5.22.1. The script is used to access an old Sybase Anywhere database ver.6, Database charest=cp850.  My question is how to display Chinese characters properly?  Any hint for solving this?</p>\n\n<pre><code>use utf8;\nuse DBI qw{:utils};\nuse strict;\nuse Encode;\nuse warnings;\nuse open ':utf8';\n\nmy $dbh = DBI-&gt;connect('DBI:ODBC:yfpy', 'dba', 'sql', { RaiseError =&gt; 1,        odbc_utf8_on =&gt; 1 }) \n\n    or die(\"\\n\\nCONNECT ERROR:\\n\\n$DBI::errstr\");\n\nmy @rows = ();\n\nmy $sth = $dbh-&gt;prepare(\"SELECT custno, custsname, cname\n                    FROM customer WHERE custno = 'ABC02' ORDER BY custno \n                    \");\n$sth-&gt;execute() or die $DBI::errstr;\n\nopen FILE, '&gt;:utf8', 'document.txt';\n\nprint FILE $dbh-&gt;{odbc_has_unicode};\n\nprint FILE \"\u4e2d\u6587\\n\";\n\nwhile (my @row = $sth-&gt;fetchrow_array()) {\n   my ($custno, $name, $cname ) = @row;\n\nprint FILE \"$custno\\n\";\nprint FILE \"$cname\\n\";\nprint FILE \"DBI describes data as: \", data_string_desc($cname), \"\\n\";\n}\n$sth-&gt;finish();\n\nclose FILE;\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>1\u4e2d\u6587\nABC02\n\u00f1d\u00aap\u00a6q\u00f1l(\u00c1f\u00bc\u00d9)\u00aa\u00a6\u00a1\u00a1\u00f1\u00a2\u00d1q\nDBI describes data as: UTF8 on, non-ASCII, 22 characters 38 bytes\n</code></pre>\n\n<p>Here is the trace log:</p>\n\n<pre><code>Unicode login6 dbname=yfpy, uid='dba', pwd=xxxxx\nSQLDriverConnect 'yfpy', ''dba'', 'xxxx'\nSQLDriverConnectW failed:\nSQLConnect ''yfpy'', ''dba''\nTurning autocommit on\nDRIVER_ODBC_VER = 03.51\nDRIVER_NAME = DBODBC6.DLL, type=0\nDRIVER_VERSION = 06.00.0003\nMAX_COLUMN_NAME_LEN = 128\nSQL_CATALOG_NAME = 0\nSQL_SCHEMA_USAGE = 31\nDBD::ODBC is unicode built : YES\nSQLMoreResults supported: 1\nSQLDescribeParam supported: 1\nSetting UTF8_ON to 1\n!!DBD::ODBC unsupported attribute passed (RaiseError)\n!!DBD::ODBC unsupported attribute passed (PrintError)\nsetting AutoCommit\n!!DBD::ODBC unsupported attribute passed (Username)\n!!DBD::ODBC unsupported attribute passed (dbi_connect_closure)\ninitializing sth query timeout to -1\nignore named placeholders = 0\nSQLPrepare SELECT custno, custsname, cname\n                    FROM customer WHERE custno = 'ABC02' ORDER BY custno \n\nProcessing non-utf8 sql in unicode mode\nSQLPrepare = 0\n+dbd_st_execute(cb4df4)\ndbd_st_finish(cb4df4)\noutparams = 0\nSQLExecute/SQLExecDirect(1201ee0)=0\nSQLRowCount=0 (rows=-1)\nSQLNumResultCols=0 (flds=3)\ndbd_describe done_desc=0\ndbd_describe SQLNumResultCols=0 (columns=3)\nDescribeCol column = 1, name = c, namelen = 6, type = VARCHAR(12),        precision/column size = 8, scale = 0, nullable = 0\n SQL_COLUMN_DISPLAY_SIZE = 8\n SQL_COLUMN_LENGTH = 8\n now using col 1: type = UNICODE VARCHAR (-9), len = 18, display size = 18, prec = 8, scale = 0\nDescribeCol column = 2, name = c, namelen = 9, type = VARCHAR(12), precision/column size = 12, scale = 0, nullable = 1\n SQL_COLUMN_DISPLAY_SIZE = 12\n SQL_COLUMN_LENGTH = 12\n now using col 2: type = UNICODE VARCHAR (-9), len = 26, display size = 26, prec = 12, scale = 0\nDescribeCol column = 3, name = c, namelen = 5, type = VARCHAR(12), precision/column size = 50, scale = 0, nullable = 1\n SQL_COLUMN_DISPLAY_SIZE = 50\n SQL_COLUMN_LENGTH = 50\n now using col 3: type = UNICODE VARCHAR (-9), len = 102, display size = 102, prec = 50, scale = 0\n-dbd_describe done_bind=0\nhave 3 fields\n-dbd_st_execute(cb4df4)=-1\nFETCH odbc_has_unicode\nbind_columns fbh=d4ba6c fields=3\nBind 1: type = UNICODE CHAR(-8), buf=dc6794, buflen=18\nBind 2: type = UNICODE CHAR(-8), buf=dc67a8, buflen=26\nBind 3: type = UNICODE CHAR(-8), buf=dc67c4, buflen=102\nbind_columns=0\nSQLFetch=0\nfetch num_fields=3\nfetch col#1 c datalen=10 displ=18\nSQL_C_WCHAR data = 'ABC02'\nfetch col#2 c datalen=20 displ=26\nSQL_C_WCHAR data = \"\u00f1d\u00aap(\u00f1\u00a6\u00a5P)\"\nfetch col#3 c datalen=44 displ=102\nSQL_C_WCHAR data = \"\u00f1d\u00aap\u00a6q\u00f1l(\u00c1f\u00bc\u00d9)\u00aa\u00a6\u00a1\u00a1\u00f1\u00a2\u00d1q\"\nSQLFetch=100\nGetting more results: 100\nNo more results -- outparams = 0\ndbd_st_finish(cb4df4)\ndbd_st_finish closed query:\nSQLFreeHandle(stmt)=0\nSQLDisconnect=0\nDBD::ODBC Disconnected!\n</code></pre>\n\n<p>B/R\nGene Leung</p>\n"}, {"tags": ["javascript", "jquery", "perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1462261893, "post_id": 36986333, "comment_id": 61550340, "body": "Are you using Template Toolkit?"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "is_accepted": true, "score": 0, "last_activity_date": 1462293240, "creation_date": 1462293240, "answer_id": 37009586, "question_id": 36986333, "link": "https://stackoverflow.com/questions/36986333/hide-model-in-js-using-perl/37009586#37009586", "title": "Hide model in js using perl", "body": "<p>you can do like the following to check the result value if its not NULL then show the modal else do something else.</p>\n\n<pre><code>if (result) {\n    $('#myModal').modal({show:true});\n}else { # do someting if required }\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6252422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7199950dfa94b1031a9ed4e778933729?s=128&d=identicon&r=PG&f=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6252422/emma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 37009586, "answer_count": 1, "score": 1, "last_activity_date": 1462293240, "creation_date": 1462203611, "question_id": 36986333, "link": "https://stackoverflow.com/questions/36986333/hide-model-in-js-using-perl", "title": "Hide model in js using perl", "body": "<p>I've some confusion regarding using modals in js in Perl, In my case i have a view File having button </p>\n\n<p><code>&lt;button type=\"button\" id=\"helloWorld\" &gt;&lt;/button&gt;\n</code></p>\n\n<p>and an array is requested when user clicks on  <code>helloWorld</code>  i-e JS is used to call array from controller,</p>\n\n<p><code>var URL = encodeURI(\"/helloWorld\");\n$('#modal').load(URL, function(result){\n            $('#Modal').modal({show:true});\n});</code></p>\n\n<p>so that returned data is used in load modal, but now i want to hide the modal and show an error message if the returned array is NULL,\nhow is it possible to load data only if array is not NULL\ncan any one give me some tips to solve the above issue</p>\n"}, {"tags": ["perl", "rest", "ssl", "restful-url"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1462212465, "creation_date": 1462212465, "answer_id": 36988813, "question_id": 36986249, "link": "https://stackoverflow.com/questions/36986249/how-to-include-a-ssl-client-certificate-when-calling-a-restful-web-service-in-pe/36988813#36988813", "title": "How to include a SSL Client Certificate when calling a restful web service in PERL", "body": "<p>The way client certificates are used depends on the version of LWP and the underlying SSL library. With LWP version 6.0 (released 2011) <a href=\"https://metacpan.org/pod/IO::Socket::SSL#SSL_cert_file-SSL_cert-SSL_key_file-SSL_key\" rel=\"nofollow\">IO::Socket::SSL</a> is used by default as the underlying library and there you give the certificates with <code>ssl_opts</code>:</p>\n\n<pre><code>$agent-&gt;ssl_opts(\n    SSL_cert_file =&gt; 'cert.pem',\n    SSL_key_file =&gt; 'key.pem'\n);\n</code></pre>\n\n<p>With older versions of LWP <a href=\"https://metacpan.org/pod/Crypt::SSLeay#Client-Certificate-Support\" rel=\"nofollow\">Crypt::SSLeay</a> is used instead and then you need to specify the certificates with environment variables:</p>\n\n<pre><code>$ENV{HTTPS_CERT_FILE} = 'cert.pem';\n$ENV{HTTPS_KEY_FILE}  = 'key.pem';\n</code></pre>\n\n<p>It looks like you are trying to enforce the use of Crypt::SSLeay but I actually recommend to use IO::Socket::SSL instead since it is the more modern SSL library, validates the certificates properly (contrary to Crypt::SSLeay), supports SNI etc.</p>\n"}], "owner": {"reputation": 125, "user_id": 2581290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AloEc.png?s=128&g=1", "display_name": "PopperJuan", "link": "https://stackoverflow.com/users/2581290/popperjuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "accepted_answer_id": 36988813, "answer_count": 1, "score": 0, "last_activity_date": 1462212465, "creation_date": 1462203350, "question_id": 36986249, "link": "https://stackoverflow.com/questions/36986249/how-to-include-a-ssl-client-certificate-when-calling-a-restful-web-service-in-pe", "title": "How to include a SSL Client Certificate when calling a restful web service in PERL", "body": "<p>I'm trying to call a restful web service off a Linux server. I was provide a .pem file to include in order to call it but i'm not sure where to add it in my PERL script. I keep receiving a \"500 SSL Negotiation failed:\" error</p>\n\n<p>my .PEM file is called:</p>\n\n<pre><code>/u/data/aFolder/cert/theCert.pem\n</code></pre>\n\n<p>This is what I have for my PERL script</p>\n\n<pre><code>#!/opt/standard_perl/perl5881/bin/perl -w\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse Crypt::SSLeay;\n\n\n#Validates that a url is passed via the arguements\nmy $global_url;\nif (!defined($ARGV[0]))\n{\n    print \"No URL passed\";\n    exit 400;\n}else\n{\n    $global_url = $ARGV[0];\n}\n\nmy $retry = 1;\n# Retry logic, if service got a error code 500, it will\nwhile ($retry &lt;= 3)\n{\n    # Connects to service, if response was sucessfull then it prints he content\n    # and exits the response code, else, retry 3 more times if the code was 500\n    my $response = connectToService($global_url);\n    if ($response-&gt;is_success)\n        {\n            print $response-&gt;content() . \"\\n\";\n            exit($response-&gt;code);\n        }else\n        {\n            if ($response-&gt;code == 500 &amp;&amp; $retry &lt; 3)\n            {\n                $retry++;\n                next;\n            }\n            print $response-&gt;status_line() .\"\\n\";\n            exit($response-&gt;code);\n        }\n}\n######################################\n# Passes the url and calls the service\n######################################\nsub connectToService\n{\n    my $url = shift;\n\n    my $agent = LWP::UserAgent-&gt;new;\n    my $request = HTTP::Request-&gt;new(GET =&gt; $url);\n    $request-&gt;header('Cache-Control' =&gt; 'no-cache');\n    $request-&gt;header('accept' =&gt; 'application/json');\n    return $agent-&gt;request($request);\n}\n</code></pre>\n\n<p>My Result at the moment is:</p>\n\n<pre><code>username@theServer:/u/is/bin $ serviceCall.pl https://thewebServiceURL.com:3122/services/v1/quantity/foo/bar/info/11111\n500 SSL negotiation failed:\nusername@theServer:/u/is/bin $\n</code></pre>\n\n<p>Any help is greatly appreciated </p>\n"}, {"tags": ["perl", "rtf"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462203256, "post_id": 36985910, "comment_id": 61526832, "body": "What&#39;s with the backslash in front of the first quote in the <code>paragraph</code> call? First argument, <code>\\&#39;\\qc\\ul\\f0\\fs28\\b&#39;</code>."}, {"owner": {"reputation": 103, "user_id": 886071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L5TTu.jpg?s=128&g=1", "display_name": "RossCampbell", "link": "https://stackoverflow.com/users/886071/rosscampbell"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462203801, "post_id": 36985910, "comment_id": 61527201, "body": "That was included in the usage example from the documentation. Deleting it results in &quot;\\qc\\ul\\f0\\fs28\\bSugar Maple&quot; being printed to the document, so it must indicate formatting rather than literal text."}, {"owner": {"reputation": 103, "user_id": 886071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L5TTu.jpg?s=128&g=1", "display_name": "RossCampbell", "link": "https://stackoverflow.com/users/886071/rosscampbell"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462204433, "post_id": 36985910, "comment_id": 61527611, "body": "It hasn&#39;t thrown any syntax errors from that so far. I thought it was weird too. The RTF::Writer CPAN page doesn&#39;t talk much about why it&#39;s there (at least I didn&#39;t see it)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462204577, "post_id": 36985910, "comment_id": 61527702, "body": "Oh. Never mind. It&#39;s a reference to the string. The weird highlighting here confused me. The first arg needs to be a scalar ref. My bad."}], "owner": {"reputation": 103, "user_id": 886071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L5TTu.jpg?s=128&g=1", "display_name": "RossCampbell", "link": "https://stackoverflow.com/users/886071/rosscampbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1462202295, "creation_date": 1462202295, "question_id": 36985910, "link": "https://stackoverflow.com/questions/36985910/how-to-make-an-image-co-exist-on-same-line-as-text-in-rtf", "title": "How to make an image co-exist on same line as text in RTF", "body": "<p>I am using Perl RTF::Writer to insert an image at the center of a page with descriptive text at the left side. Like this dummy image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gN8ec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gN8ec.png\" alt=\"sample RTF structure\"></a></p>\n\n<p>I'm able to format the text perfectly, but I so far cannot get the image to co-exist on the same line with text. The image wants to be the only object on that line and bumps any text on its line down to the bottom of the image.</p>\n\n<p>Here's the code I'm trying so far:</p>\n\n<pre><code>$rtf-&gt;paragraph(\n    \\'\\qc\\ul\\f0\\fs28\\b',\n    \"Sugar Maple\\n\");\n$rtf-&gt;paragraph(\n    \\'\\lc\\f0\\fs24\\plain', \n    \"Common name: $ID\\nScientific Name: $sciname\", \n    $rtf-&gt;image('filename' =&gt; \"$pngName\"),\"\\nDistribution: Eastern US\");\n $rtf-&gt;close;\n</code></pre>\n\n<p>But this results in \"Distribution\" being located at the bottom of the image. How can I adjust this code to make the left-aligned text in line with the center-aligned image?</p>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 6277637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75bd241571946bd8060b505d56ec4b?s=128&d=identicon&r=PG&f=1", "display_name": "James E Keenan", "link": "https://stackoverflow.com/users/6277637/james-e-keenan"}, "is_accepted": false, "score": 1, "last_activity_date": 1508638867, "last_edit_date": 1508638867, "creation_date": 1463358348, "answer_id": 37245116, "question_id": 36985090, "link": "https://stackoverflow.com/questions/36985090/extracting-and-joining-exons-from-multiple-sequence-alignments/37245116#37245116", "title": "Extracting and joining exons from multiple sequence alignments", "body": "<ol>\n<li><p>The aligned fasta file you posted -- at least as it appears on the stackoverflow web page -- did not compile.  According to <a href=\"https://en.wikipedia.org/wiki/FASTA_format\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/FASTA_format</a>, the description lines should begin with a <code>&gt;</code>, not with <code>\\&gt;</code>.</p></li>\n<li><p>Be sure to run all Perl programs with <code>use strict; use warnings;</code>.  This will facilitate debugging.</p></li>\n<li><p>You have not populated <code>@array</code>.  Consequently, you can expect to get errors like these:</p>\n\n<pre><code>Use of uninitialized value $start in pattern match (m//) at perl-5.24.0/lib/site_perl/5.24.0/Bio/SimpleAlign.pm line 1086, &lt;GEN0&gt; line 16.\nUse of uninitialized value $start in concatenation (.) or string at perl-5.24.0/lib/site_perl/5.24.0/Bio/SimpleAlign.pm line 1086, &lt;GEN0&gt; line 16.\n\n------------- EXCEPTION: Bio::Root::Exception -------------\nMSG: Slice start has to be a positive integer, not []\nSTACK: Error::throw\nSTACK: Bio::Root::Root::throw perl-5.24.0/lib/site_perl/5.24.0/Bio/Root/Root.pm:444\nSTACK: Bio::SimpleAlign::slice perl-5.24.0/lib/site_perl/5.24.0/Bio/SimpleAlign.pm:1086\nSTACK: fasta.pl:26\n</code></pre></li>\n</ol>\n\n<p>Once you assign plausible values, e.g.,</p>\n\n<pre><code>@array = (1,17);\n</code></pre>\n\n<p>... you will get more plausible results:</p>\n\n<pre><code>$ perl fasta.pl\n&gt;Sample1/1-17\nATGGCGACCGTGCACTA\n&gt;Sample2/1-17\nATGGCGACCGTGCACTA\n</code></pre>\n\n<p>HTH!</p>\n"}], "owner": {"reputation": 21, "user_id": 6281547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4e94077edff861fc5a56bef1f0081b?s=128&d=identicon&r=PG&f=1", "display_name": "AccidentalScientist", "link": "https://stackoverflow.com/users/6281547/accidentalscientist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1508638867, "creation_date": 1462199835, "last_edit_date": 1462200407, "question_id": 36985090, "link": "https://stackoverflow.com/questions/36985090/extracting-and-joining-exons-from-multiple-sequence-alignments", "title": "Extracting and joining exons from multiple sequence alignments", "body": "<p>Using my (fairly) basic coding skills, I have put together a script that will parse an aligned multi-fasta file (a multiple sequence alignment) and extract all the data between two specified columns. </p>\n\n<pre><code>use Bio::SimpleAlign;  \nuse Bio::AlignIO;\n$str = Bio::AlignIO-&gt;new(-file =&gt; $inputfilename, -format =&gt; 'fasta');  \n$aln = $str-&gt;next_aln();\n$mini = $aln-&gt;slice($array[0], $array[1]);\n$out = Bio::AlignIO-&gt;new(-file =&gt; $array[3], -format =&gt; 'fasta');\n$out-&gt;write_aln($mini);\n</code></pre>\n\n<p>The <strong>problem</strong> I have is that I want to be able to slice multiple regions from the same alignment and then join these regions prior to writing to an outfile. The <strong>complication</strong> is that I want to supply a file with a list of co-ordinates where each line contains two or more co-ordinates between which data should be extracted and joined.</p>\n\n<p>Here is an example co-ordinate file</p>\n\n<pre><code>ORF1, 10, 50, exon1 # The above line should produce a slice between columns 10-50 and write to an outfile  \nORF2, 70, 140, exon1  \nORF2, 190, 270, exon2  \nORF2, 500, 800, exon3 # Data should be extracted between the ranges specified here and in the above two lines and then joined (side by side) to produce the outfile.  \nORF3, 1200, 1210, exon1  \netc etc \n</code></pre>\n\n<p>And here is an (small) example of an aligned fasta file </p>\n\n<pre><code>\\&gt;Sample1\nATGGCGACCGTGCACTACTCCCGCCGACCTGGGACCCCGCCGGTCACCCTCACGTCGTCC\nCCCAGCATGGATGACGTTGCGACCCCCATCCCCTACCTACCCACATACGCCGAGGCCGTG\nGCAGACGCGCCCCCCCCTTACAGAAGCCGCGAGAGTCTGGTGTTCTCCCCGCCTCTTTTT\nCCTCACGTGGAGAATGGCACCACCCAACAGTCTTACGATTGCCTAGACTGCGCTTATGAT\nGGAATCCACAGACTTCAGCTGGCTTTTCTAAGAATTCGCAAATGCTGTGTACCGGCTTTT\nTTAATTCTTTTTGGTATTCTCACCCTTACTGCTGTCGTGGTCGCCATTGTTGCCGTTTTT\nCCCGAGGAACCTCCCAACTCAACTACATGA  \n\\&gt;Sample2\nATGGCGACCGTGCACTACTCCCGCCGACCTGGGACCCCGCCGGTCACCCTCACGTCGTCC\nCCCAGCATGGATGACGTTGCGACCCCCATCCCCTACCTACCCACATACGCCGAGGCCGTG\nGCAGACGCGCCCCCCCCTTACAGAAGCCGCGAGAGTCTGGTGTTCTCCCCGCCTCTTTTT\nCCTCACGTGGAGAATGGCACCACCCAACAGTCTTACGATTGCCTAGACTGCGCTTATGAT\nGGAATCCACAGACTTCAGCTGGCTTTTCTAAGAATTCGCAAATGCTGTGTACCGGCTTTT\nTTAATTCTTTTTGGTATTCTCACCCTTACTGCTGTCGTGGTCGCCATTGTTGCCGTTTTT\nCCCGAGGAACCTCCCAACTCAACTACATGA  \n</code></pre>\n\n<p>I think there should be a fairly simple way to solve this problem, potentially using the information in the first column, paired with the exon number, but I can't for the life of me figure out how this can be done. </p>\n\n<p>Can anyone help me out?</p>\n"}, {"tags": ["perl", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 8, "last_activity_date": 1462200586, "last_edit_date": 1462200586, "creation_date": 1462199750, "answer_id": 36985058, "question_id": 36984868, "link": "https://stackoverflow.com/questions/36984868/how-can-i-get-the-last-day-of-the-current-month-with-datetime/36985058#36985058", "title": "How can I get the last day of the current month with DateTime?", "body": "<p>You use the constructor <code>now()</code> and then the output method <code>ymd('-')</code> together with the desired separator. If not specified, it's <code>-</code> by default.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw{say};\nuse DateTime;\n\nmy $dt = DateTime-&gt;now();\nsay DateTime-&gt;last_day_of_month( year =&gt; $dt-&gt;year, month =&gt; $dt-&gt;month )-&gt;ymd('-');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1787, "user_id": 1712449, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/PlwBV.gif?s=128&g=1", "display_name": "hymie", "link": "https://stackoverflow.com/users/1712449/hymie"}, "is_accepted": false, "score": 1, "last_activity_date": 1462199847, "creation_date": 1462199847, "answer_id": 36985092, "question_id": 36984868, "link": "https://stackoverflow.com/questions/36984868/how-can-i-get-the-last-day-of-the-current-month-with-datetime/36985092#36985092", "title": "How can I get the last day of the current month with DateTime?", "body": "<p>Learn the <code>perldoc</code> command.</p>\n\n<p><code>perldoc DateTime</code> should tell you that <code>$dt = DateTime-&gt;now;</code> will get you an object with the current date and time, from which you can extract the current year and month with</p>\n\n<pre><code>$year   = $dt-&gt;year;\n$month  = $dt-&gt;month;\n</code></pre>\n\n<p>You will also find there</p>\n\n<pre><code>$ymd    = $dt-&gt;ymd;           # 2002-12-06\n$ymd    = $dt-&gt;ymd('/');      # 2002/12/06\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1462200644, "post_id": 36985145, "comment_id": 61525230, "body": "Unfortunately this doesn&#39;t answer the question."}, {"owner": {"reputation": 389, "user_id": 2970790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edceca6b0e09922ba9f57480b43646c8?s=128&d=identicon&r=PG&f=1", "display_name": "MattCorr", "link": "https://stackoverflow.com/users/2970790/mattcorr"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462201267, "post_id": 36985145, "comment_id": 61525613, "body": "Sorry, I just added another line of code to substitute the values into the last_day_of_month method."}], "tags": [], "owner": {"reputation": 389, "user_id": 2970790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edceca6b0e09922ba9f57480b43646c8?s=128&d=identicon&r=PG&f=1", "display_name": "MattCorr", "link": "https://stackoverflow.com/users/2970790/mattcorr"}, "is_accepted": false, "score": 0, "last_activity_date": 1462201669, "last_edit_date": 1462201669, "creation_date": 1462199976, "answer_id": 36985145, "question_id": 36984868, "link": "https://stackoverflow.com/questions/36984868/how-can-i-get-the-last-day-of-the-current-month-with-datetime/36985145#36985145", "title": "How can I get the last day of the current month with DateTime?", "body": "<p>To get the day, month, and year, you should use <a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow\"><code>localtime</code></a>:</p>\n\n<pre><code>my($day, $month, $year)=(localtime)[3,4,5];\n</code></pre>\n\n<p>To then get the last day of the month, use your code from above:</p>\n\n<pre><code>$av_tmp_TODAY = DateTime-&gt;last_day_of_month({\n    year  =&gt; $year + 1900,\n    month =&gt; $month +1\n})-&gt;ymd('-');\n</code></pre>\n\n<p>Note: You must add 1 to <code>$month</code> and 1900 to <code>$year</code> to get the correct month and year. This is shown in the example above.</p>\n\n<p>For further reading on this topic, see:</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=2158\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=2158</a></p>\n\n<p><a href=\"http://perldoc.perl.org/functions/localtime.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/localtime.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": false, "score": 3, "last_activity_date": 1462215951, "creation_date": 1462215951, "answer_id": 36989793, "question_id": 36984868, "link": "https://stackoverflow.com/questions/36984868/how-can-i-get-the-last-day-of-the-current-month-with-datetime/36989793#36989793", "title": "How can I get the last day of the current month with DateTime?", "body": "<pre><code>$ perl -MDateTime -wE 'say DateTime-&gt;today\n                                   -&gt;set_day(1)\n                                   -&gt;add(months =&gt; 1)\n                                   -&gt;subtract(days =&gt; 1)\n                                   -&gt;ymd'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2016-05-31\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2203, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1462215951, "creation_date": 1462199185, "last_edit_date": 1462202080, "question_id": 36984868, "link": "https://stackoverflow.com/questions/36984868/how-can-i-get-the-last-day-of-the-current-month-with-datetime", "title": "How can I get the last day of the current month with DateTime?", "body": "<p>My task is to calculate the last day of the current month.</p>\n\n<p>There is a method <code>last_day_of_month</code> in <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a>. You can call it like this:</p>\n\n<pre><code>$av_tmp_TODAY = DateTime-&gt;last_day_of_month({year=&gt;2016,month=&gt;05});\n</code></pre>\n\n<p>But I do not want to set a fixed year and month, I just want to take today's date and get the last day in that month.</p>\n\n<p>In addition, I want my output in the format <code>%Y-%m-%d</code>.</p>\n"}, {"tags": ["perl", "character-encoding"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1462210923, "post_id": 36984748, "comment_id": 61531131, "body": "See <a href=\"https://metacpan.org/pod/Encode::Locale\" rel=\"nofollow noreferrer\">Enocde::Locale</a> for how to incorporate locale information.. For your current problem: <code>readpipe</code> returns bytes (which will be already encoded as UTF-8). PerlIO layer <code>&gt;:encoding(utf-8)</code> will encoded it once more when you print it to file. Solution: Convert the byte string to a Perl string before printing to the file. For example, use <code>Encode::decode()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462201744, "post_id": 36985608, "comment_id": 61525900, "body": "<i>&quot; <code>readpipe</code> returns to perl a string of bytes&quot;</i> Please would you link to the documentation that says so?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462202519, "post_id": 36985608, "comment_id": 61526328, "body": "@Borodin, I&#39;d love to, unfortunately I&#39;m having trouble finding any docs for it that reflect it&#39;s been modified for the post IO-layers world.  I wonder if perl&#39;s <code>-C</code> command line argument can modify it&#39;s behavior, but I&#39;ve not checked."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462205847, "post_id": 36985608, "comment_id": 61528395, "body": "@Borodin <a href=\"http://perldoc.perl.org/perlunicode.html#When-Unicode-Does-Not-Happen\" rel=\"nofollow noreferrer\">perlunicode: &quot;When Unicode Does Not Happen&quot;</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1462206991, "post_id": 36985608, "comment_id": 61529029, "body": "@ThisSuitIsBlackNot: Thank you very much. Since <code>opendir</code> is a PerlIO operation I suspect it will be affected by <code>use open &#39;:utf8&#39;</code> which is a nice tidy solution"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462208728, "post_id": 36985608, "comment_id": 61529963, "body": "@Borodin after your <code>use open &#39;:utf8&#39;</code> suggestion, I looked at the docs for it.  Finally, a mention of <code>readpipe</code> in a modern, IO layered context.  I&#39;ve updated my answer to reflect this information."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": true, "score": 2, "last_activity_date": 1462213275, "last_edit_date": 1462213275, "creation_date": 1462201409, "answer_id": 36985608, "question_id": 36984748, "link": "https://stackoverflow.com/questions/36984748/in-what-encoding-does-readpipe-return-the-result-of-an-executed-command/36985608#36985608", "title": "In what encoding does readpipe return the result of an executed command?", "body": "<p><code>readpipe</code> is returning to perl a string of undecoded bytes.  We know that that string is UTF-8 encoded, but you've not told Perl.</p>\n\n<p>The IO layer on your output handle is taking that string, assuming it is Unicode code-points and re-encoding them as UTF-8 bytes.</p>\n\n<p>The reason that the latin-1 IO layer appears to be functioning correctly is that it is writing out each undecoded byte unmolested because the 1st 256 unicode code-points correspond nicely with latin-1.</p>\n\n<p>The proper thing to do would be to <code>decode</code> the byte-string returned by <code>readpipe</code> into a code-point-string, before feeding it to an IO-layer.  The statement <code>use open ':utf8'</code>, as mentioned by Borodin, should be a viable solution as <code>readpipe</code> is specifically mentioned in the <a href=\"https://metacpan.org/pod/open\" rel=\"nofollow\"><code>open</code> manual page</a>.</p>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 1, "accepted_answer_id": 36985608, "answer_count": 1, "score": 6, "last_activity_date": 1462213275, "creation_date": 1462198830, "question_id": 36984748, "link": "https://stackoverflow.com/questions/36984748/in-what-encoding-does-readpipe-return-the-result-of-an-executed-command", "title": "In what encoding does readpipe return the result of an executed command?", "body": "<p>Here's a simple perl script that is supposed to write a utf-8 encoded file:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen (my $out, '&gt;:encoding(utf-8)', 'tree.out') or die;\n\nprint $out readpipe ('tree ~');\n\nclose $out;\n</code></pre>\n\n<p>I have expected readpipe to return a utf-8 encoded string since <code>LANG</code> is set to<code>en_US.UTF-8</code>. However, looking at <code>tree.out</code> (while making sure the editor recognizes it a as utf-8 encoded) shows me all garbled text.</p>\n\n<p>If I change the <code>&gt;:encoding(utf-8)</code> in the open statement to <code>&gt;:encoding(latin-1)</code>, the script creates a <em>utf-8</em> file with the expected\ntext.</p>\n\n<p>This is all a bit strange to me. What is the explanation for this behavior?</p>\n"}, {"tags": ["perl", "encryption", "cryptography", "mcrypt", "blowfish"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462198016, "post_id": 36984228, "comment_id": 61523554, "body": "Related: <a href=\"http://stackoverflow.com/a/22449991/1331451\">stackoverflow.com/a/22449991/1331451</a>"}], "owner": {"reputation": 175, "user_id": 6281292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWEaV.jpg?s=128&g=1", "display_name": "Jose Bernalte", "link": "https://stackoverflow.com/users/6281292/jose-bernalte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1550430520, "creation_date": 1462197370, "last_edit_date": 1550430520, "question_id": 36984228, "link": "https://stackoverflow.com/questions/36984228/mcrypt-perl-and-php-function", "title": "Mcrypt perl and PHP function", "body": "<p>I have Encrypt and Decrypt functions in PHP</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>function Encrypt($plaintext, $key = \"12345678901234\")\n{\n    $cipher = MCRYPT_BLOWFISH;\n    $iv_size = mcrypt_get_iv_size($cipher, MCRYPT_MODE_CBC);\n    $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND);\n\n    $key = pack('H*', $key);\n    $ciphertext = mcrypt_encrypt($cipher, $key, $plaintext, MCRYPT_MODE_CBC, $iv);\n    $ciphertext = $iv . $ciphertext;\n    $ciphertext = bin2hex($ciphertext);\n\n    return $ciphertext;\n}\n\n\nfunction Decrypt($strBase64CipherText, $key = \"12345678901234\")\n{\n    $cipher = MCRYPT_BLOWFISH;\n\n    $ciphertext_dec = hex2bin($strBase64CipherText);\n\n    $iv_size = mcrypt_get_iv_size($cipher, MCRYPT_MODE_CBC);\n\n    $iv = substr($ciphertext_dec, 0, $iv_size);\n    $ciphertext = substr($ciphertext_dec, $iv_size);\n\n    $key = pack('H*', $key);\n\n    $plaintext =  mcrypt_decrypt($cipher, $key, $ciphertext, MCRYPT_MODE_CBC, $iv);\n    $plaintext =  rtrim($plaintext, chr(0));\n\n    return $plaintext;\n}\n</code></pre>\n\n<p>This functions works well. </p>\n\n<p>Now I need the same Encrypt function in Perl. My problem is that the encrypted text in Perl cannot decrypted in PHP.</p>\n\n<p>I tried whith static $iv. I try with Mcrypt, Crypt::CBC\nNow my code shows like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub EncryptSalt {($params) = @_;\n\n    my $key = '12345678901234';\n    $key = pack('H*', $key);\n\n    my $iv = '12345678';\n\n    my($cipher) = Mcrypt-&gt;new\n    (\n        algorithm =&gt; Mcrypt::BLOWFISH,\n        mode =&gt; Mcrypt::CBC\n    );\n    $cipher-&gt;init($key, $iv);\n\n    my $ciphertext = $cipher-&gt;encrypt($params);\n\n    $ciphertext = $iv . $ciphertext;\n    $ciphertext = unpack('H*', $ciphertext);\n\n    return $ciphertext;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 1, "creation_date": 1462198119, "post_id": 36984092, "comment_id": 61523625, "body": "You re-declare higher scope variables (<code>$old</code> and <code>$tmpfile</code>) later in the loop ... don&#39;t do that. I would check that first. Also you are opening but not closing the file handlers when swapping read /  write roles on them."}, {"owner": {"reputation": 1, "user_id": 6281328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ba7b651802b067906ad2399bac193c?s=128&d=identicon&r=PG&f=1", "display_name": "LaMa", "link": "https://stackoverflow.com/users/6281328/lama"}, "edited": false, "score": 0, "creation_date": 1462229833, "post_id": 36984092, "comment_id": 61539900, "body": "The reason I commented out the copy was because it gave me a blank file. The code after the commented copy was my second attempt of doing the same thing :)"}, {"owner": {"reputation": 1, "user_id": 6281328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ba7b651802b067906ad2399bac193c?s=128&d=identicon&r=PG&f=1", "display_name": "LaMa", "link": "https://stackoverflow.com/users/6281328/lama"}, "edited": false, "score": 1, "creation_date": 1462264862, "post_id": 36984092, "comment_id": 61551908, "body": "eballes: removing my when reopening the files for copying seemed to solve everything! :D"}], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 6282348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6894caa118d914367d08d8197cd1f62e?s=128&d=identicon&r=PG&f=1", "display_name": "Nick S", "link": "https://stackoverflow.com/users/6282348/nick-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1462211014, "creation_date": 1462211014, "answer_id": 36988392, "question_id": 36984092, "link": "https://stackoverflow.com/questions/36984092/perl-script-gives-a-blank-output-file/36988392#36988392", "title": "Perl script gives a blank output file", "body": "<p>You re-open your file handles before closing them. I'm an Oracle DBA masquerading as a perl developer, so I can't give the why behind it. But I know if you close your file handles, your script should work as is.</p>\n\n<pre><code>close ($old); # add this line\nclose ($tmpfile); # add this line\n\nprint \"Start copying.\\n\";\n</code></pre>\n\n<p>It would then be good practice to close them again when you are done \"copying\" back to them.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 3014371, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/675f66ec033d7a56a7ddc5d7e6f9bc12?s=128&d=identicon&r=PG", "display_name": "GWP", "link": "https://stackoverflow.com/users/3014371/gwp"}, "is_accepted": false, "score": 0, "last_activity_date": 1462223164, "last_edit_date": 1462223164, "creation_date": 1462222655, "answer_id": 36991569, "question_id": 36984092, "link": "https://stackoverflow.com/questions/36984092/perl-script-gives-a-blank-output-file/36991569#36991569", "title": "Perl script gives a blank output file", "body": "<p>Explicitly close the filehandle when you're done writing to it.  Things will still be buffered until you do that.\nAlso would make more sense to </p>\n\n<pre><code>rename($file, \"$file.old\");\nrename(\"temp.tmp\", $file);\n</code></pre>\n\n<p>rather than looping through the file (or using File::Copy::copy) to make a backup copy of it.</p>\n\n<p>Lastly, for simple edits I could suggest making an effort to get comfortable with doing it on the command line so you don't need scratch your head and wonder \"now what did I do in that script last time?\". It can be a big timesaver in the long run.</p>\n\n<pre><code>perl -p -i.bak -e 's/pattern/text/;' files*\n</code></pre>\n\n<p>is the general form.</p>\n"}], "owner": {"reputation": 1, "user_id": 6281328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28ba7b651802b067906ad2399bac193c?s=128&d=identicon&r=PG&f=1", "display_name": "LaMa", "link": "https://stackoverflow.com/users/6281328/lama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1462223164, "creation_date": 1462197039, "question_id": 36984092, "link": "https://stackoverflow.com/questions/36984092/perl-script-gives-a-blank-output-file", "title": "Perl script gives a blank output file", "body": "<p>I'm a total noob at Perl, trying to learn some new code for a specific project. In short, I'm making a script (on osx) that is to search all xml-files in a folder and censor specific numbers. I know a one-liner could have helped, but the amount of files will be pretty huge (thousands of files), and would happen regularly so a script to do it would be nicer. And besides, there is the learning to script part :)</p>\n\n<p>I've managed to open my files, make the regex work on every line on the original for my specific needs and generate a writable tempfile for my new information. This is where things stop working. I've tried to copy the new file over the old file after the loop, but I end up with a blank(!) file. I suspected there to be an error with the temp-file, but that looks perfect. I even tried, as a noobs way out, to reverse the process line by line from the temp back to the original file after changing the open mode (read) on them, but that ALSO gave an empty file. </p>\n\n<p>And now my head is sort of empty. Any help would be appreciated :)</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Copy;\n\nchdir \"/perltest/test\"; #debugsafety\n\n#file\nmy $workingfiles = \"*.XML\";\nmy @files = glob(\"$workingfiles\");\n\n#process files\nmy $old;\nmy $tmpfile;\n\nforeach my $file (@files) {\n  print \"$file \\n\";\n\n  open ($old, \"&lt;\", $file) or die \"No file\";\n  open ($tmpfile, \"&gt;\", 'temp.tmp') or die;\n  while(my $line = &lt;$old&gt; ) {\n    my $subz = $line;\n    $subz =~ s/([[:upper:]]{2}[[:digit:]]{6})|([[:upper:]]{1}[[:digit:]]{7})|(?:(?&lt;![[:digit:]])[[:digit:]]{8}(?![[:digit:]])|([[:upper:]]{2}[[:digit:]]{5}[AB]))/**CENS**/g;\n    print $subz;\n    print $tmpfile $subz;\n  }\n    print \"Start copying.\\n\";\n\n    open (my $old, \"&gt;\", $file) or die \"No file\";\n    open (my $tmpfile, \"&lt;\", 'temp.tmp') or die;\n\n    #copy $tmpfile, $old or die \"Couldn't copy\";\n    my $y = 0; #debug\n    while (my $line = &lt;$tmpfile&gt; ) {\n      print $y++; #debug\n      my $subz = $line;\n      print $subz;\n      print $old $subz;\n    }\n}\n\nprint \"Complete.\\n\";\nexit;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 6, "creation_date": 1462187572, "post_id": 36980987, "comment_id": 61517034, "body": "<code>perldoc GetOpt::Long</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": false, "score": 0, "last_activity_date": 1462188674, "creation_date": 1462188674, "answer_id": 36981406, "question_id": 36980987, "link": "https://stackoverflow.com/questions/36980987/perl-parse-command-line-arguments-using-shift-command/36981406#36981406", "title": "perl parse command line arguments using shift command", "body": "<p>GetOpt::Long might be an option: <a href=\"http://search.cpan.org/~jv/Getopt-Long-2.48/lib/Getopt/Long.pm\" rel=\"nofollow\">http://search.cpan.org/~jv/Getopt-Long-2.48/lib/Getopt/Long.pm</a></p>\n\n<p>Regarding your sample:</p>\n\n<p>You didn't say what should happen if <code>-a</code> or <code>-b</code> are missing, but defaults may solve your problem:</p>\n\n<pre><code># Use 'join' as default if $var1 is not set\nmy $var1 = $john // 'john';\n# Use an empty value as default if $var2 is not set\nmy $var2 = $doe // '';\n</code></pre>\n\n<p>Regarding the <code>--text</code> prefix:</p>\n\n<p>Do you want to set it always?</p>\n\n<pre><code>my $command = \"/path/to/tool/tool --in $line --out $outputdir $var1 --text $var2\";\n</code></pre>\n\n<p>Or do you want to set it if <code>-b</code> = <code>$var2</code> has been set?</p>\n\n<pre><code># Prefix\nmy $var2 = \"--text $john\";\n\n# Prefix with default\nmy $var2 = defined $john ? \"--text $john\" : '';\n# Same, but long format\nmy $var2 = ''; # Set default\nif ($john) {\n    $var2 = \"--text $john\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1462189017, "last_edit_date": 1495542236, "creation_date": 1462189017, "answer_id": 36981510, "question_id": 36980987, "link": "https://stackoverflow.com/questions/36980987/perl-parse-command-line-arguments-using-shift-command/36981510#36981510", "title": "perl parse command line arguments using shift command", "body": "<p>You should build your command string according to the contents of the variables</p>\n\n<p>Like this</p>\n\n<pre><code>my $var1 = $john;\nmy $var2 = $doe;\nmy $command = \"/path/to/tool/tool --in $line --out $outputdir\";\n\n$command .= \" $var1\"        if defined $var1;\n$command .= \" --text $var2\" if defined $var2;\n\nexecute($command);\n</code></pre>\n\n<p>Also</p>\n\n<ul>\n<li><p>Don't use ampersands <code>&amp;</code> when you are calling Perl subroutine. That hasn't been good practice for eighteen years now</p></li>\n<li><p>Don't use package variables like <code>$main:xxx</code>. Lexical variables (declared with <code>my</code>) are almost all that is necessary</p></li>\n<li><p>As <a href=\"https://stackoverflow.com/questions/36980987/perl-parse-command-line-arguments-using-shift-command#comment61517034_36980987\">Alnitak <em>says in the comment</em></a> you should really be using the <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\"><code>Getopt::Long</code></a> module to avoid introducing errors into your command-line parsing</p></li>\n</ul>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 36981510, "answer_count": 2, "score": 2, "last_activity_date": 1462191810, "creation_date": 1462187274, "last_edit_date": 1462191810, "question_id": 36980987, "link": "https://stackoverflow.com/questions/36980987/perl-parse-command-line-arguments-using-shift-command", "title": "perl parse command line arguments using shift command", "body": "<p>I have a question regarding parsing command line arguments and the use of the shift command in Perl.</p>\n\n<p>I wanted to use this line to launch my Perl script</p>\n\n<pre><code>/home/scripts/test.pl -a --test1 -b /path/to/file/file.txt\n</code></pre>\n\n<p>So I want to parse the command line arguments. This is part of my script where I do that</p>\n\n<pre><code>if ($arg eq \"-a\") {\n    $main::john = shift(@arguments);\n} elsif ($arg eq \"-b\") {\n    $main::doe = shift(@arguments);\n}\n</code></pre>\n\n<p>I want to use then these arguments in a <code>$command</code> variable that will be executed afterwards</p>\n\n<pre><code>my $var1=$john;\nmy $var2=$doe;\nmy $command = \"/path/to/tool/tool --in $line --out $outputdir $var1 $var2\";\n&amp;execute($command);\n</code></pre>\n\n<p>Now here are two problems that I encounter:</p>\n\n<p>It should not be obligatory to specify <code>-a</code> &amp; <code>-b</code> at the command line. But what happens now is that when I don't specify <code>-a</code>, I get the message that I'm using an uninitialized value at the line where the variable is defined</p>\n\n<p>Second problem: <code>$var2</code> will now equal <code>$doe</code> so it will be in this case <code>/path/to/file/file.txt</code>. However I want <code>$var2</code> to be equal to <code>--text /path/to/file/file.txt</code>. Where should I specify this <code>--text</code>. It cannot be standardly in the <code>$command</code>, because then it will give a problem when I don't specify <code>-b</code>. Should I do it when I define <code>$doe</code>, but how then?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 1, "creation_date": 1462187081, "post_id": 36980502, "comment_id": 61516786, "body": "Could you name Operating System or Linux Distribution you use? AFAIK &quot;elegant&quot; methods are mostly &quot;unportable&quot;."}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1462188750, "post_id": 36980502, "comment_id": 61517697, "body": "Google doesn&#39;t like to be crawled automatically, so you might not get usable results unless google.com is just a placeholder for the real domain."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462189229, "post_id": 36980502, "comment_id": 61517968, "body": "<i>&quot;check the internet status&quot;</i> Do you mean to check whether your own system has an internet connection, or whether the remote server is on line, or something else?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1467561116, "last_edit_date": 1467561116, "creation_date": 1462190333, "answer_id": 36981910, "question_id": 36980502, "link": "https://stackoverflow.com/questions/36980502/detecting-if-internet-is-connected-in-perl/36981910#36981910", "title": "Detecting if internet is connected in perl", "body": "<p>The simplest way to detect whether a remote server is off line is to attempt to connect to it. Using <code>LWP</code> to send a <code>head</code> request (instead of <code>get</code>) retrieves just the HTTP header information without any content, and you should get a swift response from any server that is on line</p>\n\n<p>The default timeout of <code>LWP::UserAgent</code> object is three minutes, so you will need to set it to something much shorter for a rapid test</p>\n\n<p>This program temporarily sets the timeout to 0.5 seconds, sends a head request, and reports that the server is not responding if the result is an error of any sort. The original timeout value is restored before carrying on</p>\n\n<p>Depending on the real server that you want to test, you will need to adjust the timeout carefully to avoid getting false negatives</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse constant URL =&gt; 'http://www.google.com/';\n\nuse LWP;\n\nmy $ua = LWP::UserAgent-&gt;new;\n\n{\n    my $to = $ua-&gt;timeout(0.5);\n\n    my $res = $ua-&gt;head(URL);\n\n    unless ( $res-&gt;is_success ) {\n        die sprintf \"%s is not responding (%s)\\n\", URL, $res-&gt;status_line;\n    }\n\n    $ua-&gt;timeout($to);\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5759343, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/161717450855048/picture?type=large", "display_name": "&#223;\u0142 \u1eb6ck \u0124\u1eb7wk", "link": "https://stackoverflow.com/users/5759343/%c3%9f%c5%82-%e1%ba%b6ck-%c4%a4%e1%ba%b7wk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502463402, "creation_date": 1462185671, "last_edit_date": 1502463402, "question_id": 36980502, "link": "https://stackoverflow.com/questions/36980502/detecting-if-internet-is-connected-in-perl", "title": "Detecting if internet is connected in perl", "body": "<p>I have this perl script to extract the source code of a webpage: </p>\n\n<pre><code>#!/usr/bin/perl\nuse LWP::UserAgent;\nmy $ou = new LWP::UserAgent;\nmy $url = \"http://google.com\";\nmy $source = $ou-&gt;get(\"$url\")-&gt;decoded_content;\nprint \"$source\\n\";\n</code></pre>\n\n<p>Now, I want to check the internet status if it is connected or not before extracting the source code .</p>\n"}, {"tags": ["perl", "recursion"], "comments": [{"owner": {"reputation": 1462, "user_id": 5469991, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-EhCmF1jHGMk/AAAAAAAAAAI/AAAAAAAACgs/arVjyog6MGo/photo.jpg?sz=128", "display_name": "piyushj", "link": "https://stackoverflow.com/users/5469991/piyushj"}, "edited": false, "score": 2, "creation_date": 1462181426, "post_id": 36979122, "comment_id": 61513357, "body": "provide the code written so for, to help you in this regard"}], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1462190741, "post_id": 36980842, "comment_id": 61518913, "body": "Thank you very much Borodin, when I try this, the order has changed in the output...can you help me on how to retain the orders?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1462195063, "post_id": 36980842, "comment_id": 61521717, "body": "@Senthil the 1st thought that comes to mind is adding weights to the edges."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1462196076, "post_id": 36980842, "comment_id": 61522319, "body": "@Senthil: Is that an essential requirement? It&#39;s achievable by using references to arrays for each vertex instead of simple strings. Or, if it&#39;s acceptable just to present the nodes in alphabetical order rather than the order in which they appear in the input data, you could just add a <code>sort</code> to the <code>print_vertex</code> subroutine"}, {"owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "edited": false, "score": 0, "creation_date": 1462351591, "post_id": 36980842, "comment_id": 61596024, "body": "@Borodin, Can you help me on making this into an order, I am trying to achieve but couldn&#39;t... your help much apprecaited"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1467569083, "last_edit_date": 1467569083, "creation_date": 1462186820, "answer_id": 36980842, "question_id": 36979122, "link": "https://stackoverflow.com/questions/36979122/recursive-function-in-perl/36980842#36980842", "title": "Recursive function in perl", "body": "<p>It's another directed graph! They seem popular recently</p>\n\n<p>You need the <a href=\"https://metacpan.org/pod/Graph\" rel=\"nofollow\"><code>Graph</code></a> module, which will allow you to build a tree of <em>edges</em> and <em>vertices</em> (nodes and connections) and then traverse it to obtain your printout</p>\n\n<p>This program does exactly that with your sample data. Once the graph is built, I test whether it's cyclic to avoid an endless loop and then call my recursive subroutine <code>print_vertex</code> for all source vertices</p>\n\n<p>A source vertex is one that has <em>successors</em> but no <em>predecessors</em> (children but no parent). So it's a root of the tree. I've used a <code>for</code> loop in case the data has more than one root, but your data has only one such vertex: <code>abc</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Graph;\n\nmy $g = Graph-&gt;new(directed =&gt; 1);\n\nwhile ( &lt;DATA&gt; ) {\n    my ($from, @to) = /[^\\s&gt;,-]+/g;\n    $g-&gt;add_edge($from, $_) for @to;\n}\n\nif ( my @cycle = $g-&gt;find_a_cycle ) {\n    die sprintf \"Graph contains a cycle: %s\\n\", join(' &gt;&gt; ', @cycle, $cycle[0]);\n}\n\nprint_vertex($_) for $g-&gt;source_vertices;\n\n\nsub print_vertex {\n    my ($v, $indent) = (@_, 0);\n    printf \"%s%s\\n\", '  ' x $indent, $v;\n    print_vertex($_, $indent+1) for $g-&gt;successors($v);\n}\n\n\n__DATA__\nabc-&gt;bcd, efg, hij\nbcd-&gt;ijk, lmn, ipl\nefg-&gt;kfg, iop, nkl\nlmn-&gt;opq, stv, imn\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>abc\n  efg\n    iop\n    kfg\n    nkl\n  bcd\n    lmn\n      stv\n      opq\n      imn\n    ijk\n    ipl\n  hij\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1462727635, "last_edit_date": 1462727635, "creation_date": 1462727233, "answer_id": 37102486, "question_id": 36979122, "link": "https://stackoverflow.com/questions/36979122/recursive-function-in-perl/37102486#37102486", "title": "Recursive function in perl", "body": "<blockquote>\n  <p>... when I try this, the order has changed in the output...can you\n  help me on how to retain the orders?</p>\n</blockquote>\n\n<p>Recursive solution in pure Perl sans module:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %children;\nmy $patriarch;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my ($parent, @children) = split /[-&gt;, ]+/;\n    $children{$parent} = \\@children;\n    $patriarch = $parent unless defined $patriarch;\n}\n\nsub print_family {\n    my ($parent, $indentation) = (@_, '');\n\n    print($indentation, $parent, \"\\n\");\n\n    if (exists($children{$parent})) {\n        foreach my $child (@{$children{$parent}}) {\n            &amp;print_family($child, $indentation . \"\\t\");\n        }\n    }\n}\n\n&amp;print_family($patriarch)\n\n__DATA__\nabc-&gt;bcd, efg, hij\nbcd-&gt;ijk, lmn, ipl\nefg-&gt;kfg, iop, nkl\nlmn-&gt;opq, stv, imn\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>abc\n    bcd\n        ijk\n        lmn\n            opq\n            stv\n            imn\n        ipl\n    efg\n        kfg\n        iop\n        nkl\n    hij\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1467569083, "creation_date": 1462181236, "last_edit_date": 1462182793, "question_id": 36979122, "link": "https://stackoverflow.com/questions/36979122/recursive-function-in-perl", "title": "Recursive function in perl", "body": "<p>I have a file like</p>\n\n<pre><code>abc-&gt;bcd, efg, hij\nbcd-&gt;ijk, lmn, ipl\nefg-&gt;kfg, iop, nkl\nlmn-&gt;opq, stv, imn\n</code></pre>\n\n<p>the nested output should be created from this like</p>\n\n<pre><code>abc\n bcd\n  ijk\n  lmn\n    opq\n    stv\n    imn\n    ipl\n efg\n   kfg\n   iop\n   nkl\n hij\n</code></pre>\n\n<p>I am not very sure how to handle this in perl with recursive function to find any level of nesting. Anyone's help much appreciated.</p>\n\n<p>I have tried with following code, but it gives only one level</p>\n\n<pre><code>my $k = 0;\nwhile ($k &lt;=$#array1)\n{\n if ($array1[$k]=~m/(.[^-&gt;]*)-&gt;(.[^\\n]*)/)\n {\n   $val = $1;\n   $val1 = $2;\n   push @check, $val;\n   print $val;\n   my @array2=split /,/,$val1;\n   foreach my $newid (@array2)\n    {\n    push @check1, $newid;\n    print $newid, \"\\n\";\n    }\n }\n $k++;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1462187571, "post_id": 36978537, "comment_id": 61517032, "body": "<code>my $content =  &quot;@{[ &lt;&gt; ]}&quot;</code> adds spaces at the start of every line after the first. To read a whole file into a scalar variable, write <code>my $content = do{ local $&#47;; &lt;&gt;; }</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1462188136, "post_id": 36978537, "comment_id": 61517368, "body": "It&#39;s also a bad idea to blindly add <code>&#47;ms</code> to every regex pattern that you write. In this case the <code>&#47;m</code> makes no difference as you have no <code>^</code> or <code>$</code> in your pattern, but the <code>&#47;s</code> makes <code>.*?</code> able to span multiple lines, which could significantly slow down your program and generate incorrect results"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1462200462, "post_id": 36978537, "comment_id": 61525084, "body": "Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I can&#39;t reproduce the behavior you describe."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462201485, "post_id": 36978537, "comment_id": 61525747, "body": "@ThisSuitIsBlackNot: done. Thank you. Examples were not full. Doing Minimal, Complete, Verifiable example I have found error. I update examples..."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462299336, "post_id": 36978537, "comment_id": 61574934, "body": "@Borodin: thank you for comments. The regex was not finished yet. I have fix that to be clear despite on that is not belongs to the question."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462187756, "post_id": 36980965, "comment_id": 61517136, "body": "Exactly. The program is presumably waiting for input from the console rather than being in an &quot;infinite loop&quot;"}], "tags": [], "owner": {"reputation": 3115, "user_id": 325247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/77d35dfcee05f849af85a26461ae93a7?s=128&d=identicon&r=PG", "display_name": "muhmuhten", "link": "https://stackoverflow.com/users/325247/muhmuhten"}, "is_accepted": true, "score": 2, "last_activity_date": 1462187204, "creation_date": 1462187204, "answer_id": 36980965, "question_id": 36978537, "link": "https://stackoverflow.com/questions/36978537/why-i-get-infinite-loop-when-do-regex-matching/36980965#36980965", "title": "Why I get infinite loop when do regex matching?", "body": "<p>It seems most likely that you supplied the input file as an argument for the first program, but you didn't when running the second program. Otherwise there is no substantial difference.</p>\n"}, {"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1462201820, "creation_date": 1462201820, "answer_id": 36985750, "question_id": 36978537, "link": "https://stackoverflow.com/questions/36978537/why-i-get-infinite-loop-when-do-regex-matching/36985750#36985750", "title": "Why I get infinite loop when do regex matching?", "body": "<p>Thank you to @ThisSuitIsBlackNot. When I do \"Minimal, Complete, Verifiable example\" I have found error. I forget to comment line</p>\n\n<pre><code>my $content =  \"@{[ &lt;&gt; ]}\"; # &lt;&lt;---  I SHOULD COMMENT THIS\n@cts =  \"@{[ &lt;&gt; ]}\" =~ m/CREATE TABLE .*? \\(\\n.*?\\);\\n/gsm;\nprint @cts;\n</code></pre>\n\n<p>So when I do <code>./prepare_migration.pl &lt; psql.schema3</code> the @ARGV filehandle is empty and there is nothing to read. So @cts empty.</p>\n\n<p>when I do <code>./prepare_migration.pl psql.schema3</code> the @ARGV filehandle is 'psql.schema3'. Content is read to $content. And for second <strong>readline</strong> &lt;> operator it is binded to STDIN. So I get \"infinite loop\"</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 36980965, "answer_count": 2, "score": -2, "last_activity_date": 1462299228, "creation_date": 1462179125, "last_edit_date": 1462299228, "question_id": 36978537, "link": "https://stackoverflow.com/questions/36978537/why-i-get-infinite-loop-when-do-regex-matching", "title": "Why I get infinite loop when do regex matching?", "body": "<p>When I use next program to parse input file:</p>\n\n<pre><code>my $content =  \"@{[ &lt;&gt; ]}\";\n@cts =  $content =~ m/^CREATE TABLE .*? \\(\\n.*?\\);$/gsm;\nprint @cts;\n</code></pre>\n\n<p>All works fine, but this (second) do not end:</p>\n\n<pre><code>my $content =  \"@{[ &lt;&gt; ]}\";\n@cts =  \"@{[ &lt;&gt; ]}\" =~ m/^CREATE TABLE .*? \\(\\n.*?\\);$/gsm;\nprint @cts;\n</code></pre>\n\n<p><strong>UPD</strong><br>\n<em>perlop</em>:  </p>\n\n<blockquote>\n  <p>The null filehandle &lt;> is special: it can be used to emulate the behavior of sed and awk, and any other Unix filter program that takes a list of filenames, doing the same to each line of input from all of them. Input from &lt;> comes either from standard input, or from each file listed on the command line</p>\n</blockquote>\n\n<p>There is <strong>UNEXPECTED</strong> no output for second case when I run script as:  </p>\n\n<pre><code>./prepare_migration.pl &lt; psql.schema3\n</code></pre>\n\n<p>There is <strong>UNEXPECTED</strong> infinite loop (waiting input from STDIN) for second case when I run script as:</p>\n\n<pre><code>./prepare_migration.pl psql.schema3\n</code></pre>\n\n<p>But for first case both variants to run program works fine and produce same output. Also there is no any waiting for STDIN.</p>\n"}, {"tags": ["perl", "unit-testing", "testcase", "test-more"], "comments": [{"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 4, "creation_date": 1462170683, "post_id": 36975945, "comment_id": 61507752, "body": "Please add a sample of how you call your tests if you get a logfile and screen output. Maybe a simple <code>prove mytest.t 2&gt;&amp;1 | tee logfile.log</code> would solve your problem?"}, {"owner": {"reputation": 11, "user_id": 3007693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d972556291abaa0940b4212a846865ff?s=128&d=identicon&r=PG&f=1", "display_name": "user3007693", "link": "https://stackoverflow.com/users/3007693/user3007693"}, "reply_to_user": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1462177158, "post_id": 36975945, "comment_id": 61511072, "body": "I understand your suggestion but the test case is executing through wrapper script."}, {"owner": {"reputation": 11, "user_id": 3007693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d972556291abaa0940b4212a846865ff?s=128&d=identicon&r=PG&f=1", "display_name": "user3007693", "link": "https://stackoverflow.com/users/3007693/user3007693"}, "reply_to_user": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "edited": false, "score": 0, "creation_date": 1462182231, "post_id": 36975945, "comment_id": 61513826, "body": "i got Error message as &quot;Ambiguous output redirect&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3007693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d972556291abaa0940b4212a846865ff?s=128&d=identicon&r=PG&f=1", "display_name": "user3007693", "link": "https://stackoverflow.com/users/3007693/user3007693"}, "edited": false, "score": 0, "creation_date": 1462179230, "post_id": 36977999, "comment_id": 61512113, "body": "The IO::Capture module function is not capturing &quot;is&quot;, &quot;ok&quot; , &quot;diag&quot; , &quot;pass&quot; test etc display message into either IO::Capture::StrErr or STDOUT or @RESUTS."}, {"owner": {"reputation": 11, "user_id": 3007693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d972556291abaa0940b4212a846865ff?s=128&d=identicon&r=PG&f=1", "display_name": "user3007693", "link": "https://stackoverflow.com/users/3007693/user3007693"}, "edited": false, "score": 0, "creation_date": 1462260183, "post_id": 36977999, "comment_id": 61549398, "body": "Thank you for guiding me to understand. I have a query about test failed case. if &quot;is&quot; test failed then I could not see on screen message in simple_perl_test.txt file. Please tell me how capture failed and passed debug message into simple_perl_test.txt file."}], "tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 1, "last_activity_date": 1462255830, "last_edit_date": 1462255830, "creation_date": 1462177137, "answer_id": 36977999, "question_id": 36975945, "link": "https://stackoverflow.com/questions/36975945/how-to-re-direct-stdout-and-stderr-into-file-and-on-screen-while-running-perl-te/36977999#36977999", "title": "How to re-direct STDOUT and STDERR into file and on screen while running perl test case", "body": "<p>The <a href=\"https://metacpan.org/pod/IO::Capture\" rel=\"nofollow\"><code>IO::Capture</code></a> modules were written exactly for doing this <strong>during test execution</strong>. Start by reading <a href=\"https://metacpan.org/source/REYNOLDS/IO-Capture-0.05/lib/IO/Capture/Overview.pod\" rel=\"nofollow\"><code>IO::Capture::Overview</code></a>. However you appear to want the test harnesses output to be sent to a file instead. Maybe you want to provide a formatter argument to <code>prove</code> that could write to a file. You could follow up the <code>prove</code> invocation with <code>cat</code>ing the file. Try the <a href=\"https://metacpan.org/pod/TAP::Formatter::File\" rel=\"nofollow\">TAP::Formatter::File</a> module as your argument, though I can't easily see how the file gets named.</p>\n\n<p>Wouldn't it just be best to use the <code>tee</code> command for this?</p>\n\n<pre><code>$ prove -r --timer simple_perl_test.t :: -d |tee simple_perl_test.txt\n[02:08:12] simple_perl_test.t .. ok       24 ms ( 0.00 usr  0.00 sys +  0.02 cusr  0.00 csys =  0.02 CPU)\n[02:08:12]\nAll tests successful.\nFiles=1, Tests=1,  0 wallclock secs ( 0.02 usr  0.01 sys +  0.02 cusr  0.00 csys =  0.05 CPU)\nResult: PASS\n$ cat simple_perl_test.txt \n[02:08:12] simple_perl_test.t .. ok       24 ms ( 0.00 usr  0.00 sys +  0.02 cusr  0.00 csys =  0.02 CPU)\n[02:08:12]\nAll tests successful.\nFiles=1, Tests=1,  0 wallclock secs ( 0.02 usr  0.01 sys +  0.02 cusr  0.00 csys =  0.05 CPU)\nResult: PASS\n$\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3007693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d972556291abaa0940b4212a846865ff?s=128&d=identicon&r=PG&f=1", "display_name": "user3007693", "link": "https://stackoverflow.com/users/3007693/user3007693"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462256943, "creation_date": 1462169367, "last_edit_date": 1592644375, "question_id": 36975945, "link": "https://stackoverflow.com/questions/36975945/how-to-re-direct-stdout-and-stderr-into-file-and-on-screen-while-running-perl-te", "title": "How to re-direct STDOUT and STDERR into file and on screen while running perl test case", "body": "<p>I have written simple Perl test case\nExample:</p>\n<pre><code>use Test::More;\nis(2 + 4, 5, &quot;Addition check&quot;); \n</code></pre>\n<p>output on the screen:</p>\n<pre><code>Failed test 'Addition check'\nat t/simpel_perl_test.t line 2.\ngot: '6'\nexpected: '5'\n</code></pre>\n<p>Now I want to print a message in log file and on screen ?</p>\n<p>I am not able use existing Perl modules <code>IO::Tee</code> in <code>&lt;test case name&gt;.t</code> to achieve my requirement.</p>\n<p>Could you tell how could I write a message on screen and in a log file in Perl test case?</p>\n<h3>Command used:</h3>\n<pre><code>prove -r --timer t/simpel_perl_test.t :: -d \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1462169967, "post_id": 36975679, "comment_id": 61507434, "body": "Is it possible that the original file was actually compressed twice, once with <code>gzip</code> and once with <code>compress</code>? What does <code>file file.16.Z</code> say?"}], "answers": [{"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1462169855, "post_id": 36975769, "comment_id": 61507393, "body": "<code>gunzip</code> (or <code>gzip -d</code>) is also able to decompress files created by <code>compress</code> (i.e.,. <code>.Z</code> files)."}], "tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 2, "last_activity_date": 1462168470, "creation_date": 1462168470, "answer_id": 36975769, "question_id": 36975679, "link": "https://stackoverflow.com/questions/36975679/unzipping-z-file-in-perl/36975769#36975769", "title": "Unzipping .Z file in Perl", "body": "<p>A <code>.Z</code> file would have been created using the obsolescent <code>compress</code> utility, not gzip. (<code>compress</code> predates gzip by nearly a decade.)</p>\n\n<p>If there is a way to uncompress these in Perl, I'm not aware of it. Use the <code>uncompress</code> command.</p>\n"}, {"comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1462171474, "post_id": 36975936, "comment_id": 61508116, "body": "Compress is not <a href=\"https://en.wikipedia.org/wiki/DEFLATE\" rel=\"nofollow noreferrer\">deflate</a>, it is <a href=\"https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Welch\" rel=\"nofollow noreferrer\">LZW</a>. See <a href=\"https://en.wikipedia.org/wiki/Compress\" rel=\"nofollow noreferrer\">wikipedia for compress</a>. This means IO::Uncompress::Inflate can not be used to decompress .Z files."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1462173612, "post_id": 36975936, "comment_id": 61509200, "body": "@SteffenUllrich Thanks; I really thought it was but it seems that they&#39;re both LZ77 based in different ways."}], "tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 2, "last_activity_date": 1462176906, "last_edit_date": 1462176906, "creation_date": 1462169331, "answer_id": 36975936, "question_id": 36975679, "link": "https://stackoverflow.com/questions/36975679/unzipping-z-file-in-perl/36975936#36975936", "title": "Unzipping .Z file in Perl", "body": "<p><code>.Z</code> files are not gzipped. They're Lempel-Ziv coded with <code>compress</code>. It's still relatively popular, file format internals (like in GIF) and data storage schemes. Your standard library for working with it is <a href=\"http://www.zlib.org/\" rel=\"nofollow\"><code>zlib</code></a> which should ring a bell. I got a little confused and thought <code>IO::Uncompress::Inflate</code> should work, but it isn't the right format.</p>\n\n<p>You're also being thrown off with <code>gunzip</code> because, as the man page says, recent versions of <code>gzip</code> are:</p>\n\n<blockquote>\n  <p>also capable of decompressing files compressed\n     using compress(1) or bzip2(1).</p>\n</blockquote>\n\n<p>But that doesn't mean the <code>IO::Uncompress::Gunzip</code> module would work. \nYour code is mostly right otherwise.</p>\n\n<p>I figured it'd be a simple task to take a normal short text file, compress it with <code>compress text.txt</code>, getting <code>text.txt.Z</code> and then use the <code>AnyUncompress</code> perl module as documented, or the <code>AnyInflate</code> modlue. But I actually get the same behavior you describe, so it would appear the format is not supported.</p>\n\n<pre><code>perl -MIO::Uncompress::AnyUncompress=anyuncompress,\\$AnyUncompressError -e\\\n'my $z = new IO::Uncompress::AnyUncompress \"text.txt.Z\" '\\\n'or die \"failed $AnyUncompressError\";while(&lt;$z&gt;){print};'\n</code></pre>\n"}], "owner": {"reputation": 4671, "user_id": 2844742, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/GRfAv.gif?s=128&g=1", "display_name": "unclemeat", "link": "https://stackoverflow.com/users/2844742/unclemeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1462176906, "creation_date": 1462168009, "question_id": 36975679, "link": "https://stackoverflow.com/questions/36975679/unzipping-z-file-in-perl", "title": "Unzipping .Z file in Perl", "body": "<p>I'm trying to find the best way to unzip a .Z file in Perl. Using <a href=\"http://perldoc.perl.org/IO/Uncompress/Gunzip.html\" rel=\"nofollow\">IO::Uncompress:Gunzip</a> and <a href=\"http://perldoc.perl.org/Archive/Extract.html\" rel=\"nofollow\">Archive::Extract</a> both show the same behavior. In that neither report failing, and they do produce an output file - though the output file they produce is still a compressed file (which can be unzipped using the Unix <code>gzip -d &lt;filename&gt;</code>).</p>\n\n<pre><code>use IO::Uncompress::Gunzip qw(gunzip $GunzipError);\nmy $status = gunzip 'file.16.Z' =&gt; 'file.16' or die \"failed: $GunzipError\";\n</code></pre>\n\n<p>or </p>\n\n<pre><code>use Archive::Extract;\nmy $ae = Archive::Extract-&gt;new(archive =&gt; 'file.16.Z');\n$ae-&gt;extract(to =&gt; 'file.16') or die $ae-&gt;error;\n</code></pre>\n\n<p>What is the best way to unzip a .Z file in Perl? Is it to just make a system call and use <code>gzip</code>?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1462160373, "post_id": 36974603, "comment_id": 61504752, "body": "Check the Dumper and search for <code>[</code> to identify arrays."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1462160746, "post_id": 36974603, "comment_id": 61504829, "body": "all the places you have <code>[1]</code> twice in the same line or <code>[1]</code> followed by <code>[2]</code>, the second array dereference is on something that isn&#39;t an array ref; for loa and soa, it is a has reference, for the other keys, it is a number."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1462160959, "post_id": 36974603, "comment_id": 61504882, "body": "also, I suspect where you have <code>{time}[1]</code> you mean <code>{time}[0]</code>.  and likely the you mean the first set of lines for tenured to have <code>{tenured}[0]</code> and the next set <code>{tenured}[1]</code>"}, {"owner": {"reputation": 53, "user_id": 2275875, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a4e78f9fc8cc0a229e0604d1add4e3e?s=128&d=identicon&r=PG", "display_name": "psingh", "link": "https://stackoverflow.com/users/2275875/psingh"}, "edited": false, "score": 0, "creation_date": 1462161023, "post_id": 36974603, "comment_id": 61504900, "body": "should i be looping thru to get the hash values, if so how would it be done."}, {"owner": {"reputation": 162, "user_id": 3539775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a66074a0512f0fcf3018bb03d9a3d?s=128&d=identicon&r=PG", "display_name": "J Singh", "link": "https://stackoverflow.com/users/3539775/j-singh"}, "edited": false, "score": 0, "creation_date": 1462163210, "post_id": 36974603, "comment_id": 61505331, "body": "for which line does it say &quot;Not an ARRAY reference&quot;? would help if you could paste the whole error string here."}], "answers": [{"tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": true, "score": 1, "last_activity_date": 1462165001, "creation_date": 1462165001, "answer_id": 36975238, "question_id": 36974603, "link": "https://stackoverflow.com/questions/36974603/perl-dumper-array-reading/36975238#36975238", "title": "perl dumper array reading", "body": "<p>About your question: The source line number where some error appeared is always good to know as it helps with the solution. For quoted code, it's good to mention which line triggered the error.</p>\n\n<p>Perl knows two common types of references: Array and Hash.</p>\n\n<p><strong>Arrays</strong> are an ordered list of items. Each item is referenced by a unique, sequential number. Items may be prepended, appended, removed or replaced at the beginning, end or any other position. (See <a href=\"http://perldoc.perl.org/functions/unshift.html\" rel=\"nofollow\"><code>unshift</code></a>, <a href=\"http://perldoc.perl.org/functions/push.html\" rel=\"nofollow\"><code>push</code></a>, <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"nofollow\"><code>shift</code></a>, <a href=\"http://perldoc.perl.org/functions/pop.html\" rel=\"nofollow\"><code>pop</code></a>, <a href=\"http://perldoc.perl.org/functions/splice.html\" rel=\"nofollow\"><code>splice</code></a> - all of them are clickable links). Arrays commonly use <code>[ ]</code>: <code>$array[0]</code> addresses the first item and <code>-&gt;[ ]</code> dereferences an array reference.</p>\n\n<p><strong>Hashes</strong> are key/value-stores: Each item has a key and a value where both may contain any character and may be of any size. Items are unordered and - because there is no order - can't be prepended or appended. They can be replaced by assigning a new value to an existing key or deleted using <a href=\"http://perldoc.perl.org/functions/delete.html\" rel=\"nofollow\"><code>delete</code></a>. <code>{ }</code> is used to access hash items and <code>-&gt;{ }</code> to dereference hash references.</p>\n\n<p>Your code is mixing two styles of dereferencing:</p>\n\n<pre><code>   print $dataXML-&gt;{af}-&gt;{time}[1]-&gt;{totalms}.\",\";\n</code></pre>\n\n<p>Better write:</p>\n\n<pre><code>   print $dataXML-&gt;{af}-&gt;{time}-&gt;[1]-&gt;{totalms}.\",\";\n</code></pre>\n\n<p>(Added the <code>-&gt;</code> between time and <code>[1]</code>.) Same for all followup occurrences of <code>{hashref}[array_index]</code>. Always using the <code>-&gt;</code> is more obvious for the reader.</p>\n\n<p>Your error first appears in this line:</p>\n\n<pre><code>   print $dataXML-&gt;{af}-&gt;{tenured}-&gt;[1]-&gt;{loa}-&gt;[1]-&gt;{freebytes}.\",\";\n</code></pre>\n\n<p>As others already outlined in the comments to your question: The value for key <code>{loa}</code> is no array reference, but a hash reference. That's why you can't dereference (= access the referenced data structure) it using <code>-&gt;[ ]</code>. But removing that additional array reference also removes the error:</p>\n\n<pre><code>   print $dataXML-&gt;{af}-&gt;{tenured}-&gt;[1]-&gt;{loa}-&gt;{freebytes}.\",\";\n</code></pre>\n\n<p>Read more about references at <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">http://perldoc.perl.org/perlref.html</a></p>\n\n<p>PS: You always accessed the second item of the arrays within your data structures. This may be what you want, but otherwise remember that Perl arrays are typically zero-based: The first element is <code>[0]</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 2275875, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a4e78f9fc8cc0a229e0604d1add4e3e?s=128&d=identicon&r=PG", "display_name": "psingh", "link": "https://stackoverflow.com/users/2275875/psingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 36975238, "answer_count": 1, "score": 0, "last_activity_date": 1462166803, "creation_date": 1462159982, "last_edit_date": 1462166803, "question_id": 36974603, "link": "https://stackoverflow.com/questions/36974603/perl-dumper-array-reading", "title": "perl dumper array reading", "body": "<p>using data:dumper, the XML output shows as below.</p>\n\n<pre><code>$VAR1 = {\n          'af' =&gt; {\n                  'minimum' =&gt; {\n                               'requested_bytes' =&gt; '8208'\n                             },\n                  'time' =&gt; [\n                            {\n                              'lastthreadtid' =&gt; '0x0000000030001100',\n                              'exclusiveaccessms' =&gt; '0.017',\n                              'meanexclusiveaccessms' =&gt; '0.017',\n                              'threads' =&gt; '0'\n                            },\n                            {\n                              'totalms' =&gt; '41.829'\n                            }\n                          ],\n                  'tenured' =&gt; [\n                               {\n                                 'loa' =&gt; {\n                                          'freebytes' =&gt; '1314816',\n                                          'totalbytes' =&gt; '1314816',\n                                          'percent' =&gt; '100'\n                                        },\n                                 'freebytes' =&gt; '1314816',\n                                 'totalbytes' =&gt; '69219328',\n                                 'percent' =&gt; '1',\n                                 'soa' =&gt; {\n                                          'freebytes' =&gt; '0',\n                                          'totalbytes' =&gt; '67904512',\n                                          'percent' =&gt; '0'\n                                        }\n                               },\n                               {\n                                 'loa' =&gt; {\n                                          'freebytes' =&gt; '628664',\n                                          'totalbytes' =&gt; '685056',\n                                          'percent' =&gt; '91'\n                                        },\n                                 'freebytes' =&gt; '41796952',\n                                 'totalbytes' =&gt; '68537344',\n                                 'percent' =&gt; '60',\n                                 'soa' =&gt; {\n                                          'freebytes' =&gt; '41168288',\n                                          'totalbytes' =&gt; '67852288',\n                                          'percent' =&gt; '60'\n                                        }\n                               }\n                             ],\n                  'timestamp' =&gt; 'May 01 20:33:51 2016',\n                  'intervalms' =&gt; '681.342',\n                  'refs' =&gt; [\n                            {\n                              'weak' =&gt; '19116',\n                              'maxSoftReferenceThreshold' =&gt; '32',\n                              'phantom' =&gt; '0',\n                              'dynamicSoftReferenceThreshold' =&gt; '20',\n                              'soft' =&gt; '1709'\n                            },\n                            {\n                              'weak' =&gt; '18490',\n                              'maxSoftReferenceThreshold' =&gt; '32',\n                              'phantom' =&gt; '0',\n                              'dynamicSoftReferenceThreshold' =&gt; '19',\n                              'soft' =&gt; '1709'\n                            }\n                          ],\n                  'gc' =&gt; {\n                          'classunloading' =&gt; {\n                                              'classes' =&gt; '0',\n                                              'timevmquiescems' =&gt; '0.000',\n                                              'timetakenms' =&gt; '1.418',\n                                              'classloaders' =&gt; '0'\n                                            },\n                          'finalization' =&gt; {\n                                            'objectsqueued' =&gt; '8'\n                                          },\n                          'timesms' =&gt; {\n                                       'compact' =&gt; '0.000',\n                                       'mark' =&gt; '39.600',\n                                       'sweep' =&gt; '0.495',\n                                       'total' =&gt; '41.787'\n                                     },\n                          'tenured' =&gt; {\n                                       'loa' =&gt; {\n                                                'freebytes' =&gt; '628664',\n                                                'totalbytes' =&gt; '685056',\n                                                'percent' =&gt; '91'\n                                              },\n                                       'freebytes' =&gt; '41805160',\n                                       'totalbytes' =&gt; '68537344',\n                                       'percent' =&gt; '60',\n                                       'soa' =&gt; {\n                                                'freebytes' =&gt; '41176496',\n                                                'totalbytes' =&gt; '67852288',\n                                                'percent' =&gt; '60'\n                                              }\n                                     },\n                          'intervalms' =&gt; '681.373',\n                          'type' =&gt; 'global',\n                          'id' =&gt; '24',\n                          'totalid' =&gt; '24',\n                          'contraction' =&gt; {\n                                           'timetaken' =&gt; '0.000',\n                                           'amount' =&gt; '681984',\n                                           'newsize' =&gt; '68537344',\n                                           'reason' =&gt; 'excess free space following gc',\n                                           'type' =&gt; 'tenured'\n                                         }\n                        },\n                  'type' =&gt; 'tenured',\n                  'id' =&gt; '24',\n                  'pending-finalizers' =&gt; [\n                                          {\n                                            'reference' =&gt; '0',\n                                            'finalizable' =&gt; '8',\n                                            'classloader' =&gt; '0'\n                                          },\n                                          {\n                                            'reference' =&gt; '0',\n                                            'finalizable' =&gt; '8',\n                                            'classloader' =&gt; '0'\n                                          }\n                                        ]\n                }\n        };\n</code></pre>\n\n<p>in the perl code, writing as below throws array error.</p>\n\n<pre><code>      print Dumper($dataXML);\n       print $dataXML-&gt;{af}-&gt;{type}.\",\";\n       print $dataXML-&gt;{af}-&gt;{id}.\",\";\n       print $dataXML-&gt;{af}-&gt;{timestamp}.\",\";\n       print $dataXML-&gt;{af}-&gt;{intervalms}.\",\";\n       print $dataXML-&gt;{af}-&gt;{minimum}-&gt;{requested_bytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{time}[1]-&gt;{totalms}.\",\";\n\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{freebytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{totalbytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{percent}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{loa}[1]-&gt;{freebytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{loa}[1]-&gt;{totalbytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{loa}[1]-&gt;{percent}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{soa}[1]-&gt;{freebytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{soa}[1]-&gt;{totalbytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{soa}[1]-&gt;{percent}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{freebytes}[2].\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{totalbytes}[2].\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{percent}[2].\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{loa}[2]-&gt;{freebytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{loa}[2]-&gt;{totalbytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{loa}[2]-&gt;{percent}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{soa}[2]-&gt;{freebytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{soa}[2]-&gt;{totalbytes}.\",\";\n       print $dataXML-&gt;{af}-&gt;{tenured}[1]-&gt;{soa}[2]-&gt;{percent}.\",\";\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Not an ARRAY reference\n</code></pre>\n\n<p>I have tried multiple ways to get the value of each array key-value, but it only shows the last value.</p>\n"}, {"tags": ["perl", "loops", "design-patterns", "matching"], "comments": [{"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1462140373, "post_id": 36972448, "comment_id": 61500614, "body": "What is the expected output for this sample data?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462143036, "post_id": 36972448, "comment_id": 61501317, "body": "Is the purpose of your second <code>while</code> solely to print out the frequencies? You have that in the hash from my previous post, correctly for this input as well. In the last line of those nested <code>foreach</code> where the results are printed out you can print only the frequencies: <code>print &quot;$rept{$port}{$usr}{$stat}\\n&quot;</code>.  Then you don&#39;t need the second <code>while</code>.  (I am due to write an explanation on that post, and will do that.)  Does this answer this question? If not please clarify."}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462144227, "post_id": 36972448, "comment_id": 61501564, "body": "Yes the sole purpose is to print the frequencies <b>based on IP</b> unlike the other post which is based on source port. I want to know how hash work so I&#39;m waiting on your explanation on the previous post. Thankyou. If you see my comment on the other post, if it is possible I would also like to count the number of occurrences of the IP per se so that I have the port, status, occurence of usr pass combo passed on IP and no of occurence of the IP on its own"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462144272, "post_id": 36972448, "comment_id": 61501571, "body": "@zdim for now I&#39;m going to sleep cause its 1am over here. I&#39;ll respond to any comments tomorrow. Thankyou for your continuous help"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462176347, "post_id": 36972448, "comment_id": 61510650, "body": "So you want the frequency for each IP, on all ports and for all users -- one line per IP?  How about status, should that be distinguished? Can you add the expected output?"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462177614, "post_id": 36972448, "comment_id": 61511316, "body": "<code>Port, Status, AttemptsonPort, AttemptsonIP</code>  Where attempts on port is what your script already does. Attempts on IP should give how many times that IP has occurred while reading the file. So like <code>159.122.123.181</code> is seen 14 times for instance or <code>141.8.83.213</code> 3 times"}], "answers": [{"tags": [], "owner": {"reputation": 148, "user_id": 386557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab093ce8e4031ef6c383fdd8d9b8dba?s=128&d=identicon&r=PG", "display_name": "Jason Lewis", "link": "https://stackoverflow.com/users/386557/jason-lewis"}, "is_accepted": false, "score": 0, "last_activity_date": 1462157087, "last_edit_date": 1495535634, "creation_date": 1462157087, "answer_id": 36974313, "question_id": 36972448, "link": "https://stackoverflow.com/questions/36972448/counting-the-frequency-of-seperate-ip-entries-perl/36974313#36974313", "title": "Counting the frequency of seperate IP entries PERL", "body": "<p>I'm not really sure what you are trying to do in your perl script, it seems a  bit confused. I was going to try and debug it but as I can't quite make out what your goal is, its hard to debug. If you could clarify why you have 2 while loops and what you are expecting each loop to do and to output, someone might be able to give you more feedback. in the mean time, you could always use standard command line tools to get your answer if you are in a hurry:</p>\n\n<pre><code>grep 'login attempt' logfile.txt | grep -oE '((1?[0-9][0-9]?|2[0-4][0-9]|25[0-5])\\.){3}(1?[0-9][0-9]?|2[0-4][0-9]|25[0-5])' | sort | uniq -c | sort -n\n</code></pre>\n\n<p>will output something like:</p>\n\n<pre><code>      3 141.8.83.213\n      5 89.248.167.131\n     17 159.122.123.181\n</code></pre>\n\n<p>credit to @gilles-quenot for the regex for extracting IP addresses using grep</p>\n\n<p><a href=\"https://stackoverflow.com/a/14928624/386557\">https://stackoverflow.com/a/14928624/386557</a></p>\n"}], "owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462157087, "creation_date": 1462139923, "last_edit_date": 1495535291, "question_id": 36972448, "link": "https://stackoverflow.com/questions/36972448/counting-the-frequency-of-seperate-ip-entries-perl", "title": "Counting the frequency of seperate IP entries PERL", "body": "<p>I have the following logfile and I want to output the frequency of distinct IPs that are in the file:</p>\n\n<pre><code>2016-04-29 15:08:47+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:34826 (172.17.0.2:2222) [session: c9d2f438]\n2016-04-29 15:08:48+0000 [SSHService ssh-userauth on HoneyPotTransport,10,159.122.123.181] login attempt [root/password] succeeded\n2016-04-29 15:08:56+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:51999 (172.17.0.2:2222) [session: 57235446]\n2016-04-29 15:08:56+0000 [SSHService ssh-userauth on HoneyPotTransport,11,159.122.123.181] login attempt [root/toor] failed\n2016-04-29 15:08:57+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:46466 (172.17.0.2:2222) [session: 03862a50]\n2016-04-29 15:09:00+0000 [SSHService ssh-userauth on HoneyPotTransport,12,159.122.123.181] login attempt [root/unix] failed\n2016-04-29 15:09:02+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:56756 (172.17.0.2:2222) [session: 9b8cd979]\n2016-04-29 15:09:03+0000 [SSHService ssh-userauth on HoneyPotTransport,13,159.122.123.181] login attempt [root/test123] failed\n2016-04-29 15:09:04+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:50215 (172.17.0.2:2222) [session: 2e68b87e]\n2016-04-29 15:09:07+0000 [SSHService ssh-userauth on HoneyPotTransport,14,159.122.123.181] login attempt [root/toor123] failed\n2016-04-29 15:09:08+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:58407 (172.17.0.2:2222) [session: f8d1d9ae]\n2016-04-29 15:09:12+0000 [SSHService ssh-userauth on HoneyPotTransport,15,159.122.123.181] login attempt [shell/shell] failed\n2016-04-29 15:09:13+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:48225 (172.17.0.2:2222) [session: 091fcb7e]\n2016-04-29 15:09:17+0000 [SSHService ssh-userauth on HoneyPotTransport,16,159.122.123.181] login attempt [admin/root] failed\n2016-04-29 15:09:18+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:35815 (172.17.0.2:2222) [session: 49ad22eb]\n2016-04-29 15:09:20+0000 [SSHService ssh-userauth on HoneyPotTransport,17,159.122.123.181] login attempt [root/admin] succeeded\n2016-04-29 15:09:27+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:58114 (172.17.0.2:2222) [session: e214b2c4]\n2016-04-29 15:09:28+0000 [SSHService ssh-userauth on HoneyPotTransport,18,159.122.123.181] login attempt [admin/admin] succeeded\n2016-04-29 15:09:35+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:45180 (172.17.0.2:2222) [session: 61c00c6c]\n2016-04-29 15:09:36+0000 [SSHService ssh-userauth on HoneyPotTransport,19,159.122.123.181] login attempt [guest/guest123] failed\n2016-04-29 15:09:38+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:37525 (172.17.0.2:2222) [session: d19434e3]\n2016-04-29 15:09:42+0000 [SSHService ssh-userauth on HoneyPotTransport,20,159.122.123.181] login attempt [root/webmaster] failed\n2016-04-29 15:09:43+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:36967 (172.17.0.2:2222) [session: de78048a]\n2016-04-29 15:09:44+0000 [SSHService ssh-userauth on HoneyPotTransport,21,159.122.123.181] login attempt [admin/administrator] failed\n2016-04-29 15:09:45+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:56465 (172.17.0.2:2222) [session: 58eeea98]\n2016-04-29 15:09:47+0000 [SSHService ssh-userauth on HoneyPotTransport,22,159.122.123.181] login attempt [mysql/mysql] failed\n2016-04-29 15:09:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:51145 (172.17.0.2:2222) [session: 905c8982]\n2016-04-29 15:09:50+0000 [SSHService ssh-userauth on HoneyPotTransport,23,159.122.123.181] login attempt [root/shell] failed\n2016-04-29 15:09:51+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:54406 (172.17.0.2:2222) [session: c6f21bfe]\n2016-04-29 15:09:53+0000 [SSHService ssh-userauth on HoneyPotTransport,24,159.122.123.181] login attempt [guest/guest] failed\n2016-04-29 15:09:55+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:58764 (172.17.0.2:2222) [session: 167d51cf]\n2016-04-29 15:09:56+0000 [SSHService ssh-userauth on HoneyPotTransport,25,159.122.123.181] login attempt [root/linux] failed\n2016-04-29 15:09:58+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 159.122.123.181:57158 (172.17.0.2:2222) [session: daa3fc72]\n2016-04-29 15:10:01+0000 [SSHService ssh-userauth on HoneyPotTransport,26,159.122.123.181] login attempt [unix/unix] failed\n2016-04-29 15:15:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:42359 (172.17.0.2:2222) [session: 930332a7]\n2016-04-29 15:15:50+0000 [SSHService ssh-userauth on HoneyPotTransport,27,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 15:56:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:46055 (172.17.0.2:2222) [session: 3b8d22b5]\n2016-04-29 15:56:49+0000 [SSHService ssh-userauth on HoneyPotTransport,28,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 16:11:14+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 52.28.89.99:53059 (172.17.0.2:2222) [session: a6c0fac1]\n2016-04-29 16:17:42+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 13.92.114.157:1032 (172.17.0.2:2222) [session: d33e1566]\n2016-04-29 19:07:10+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:45178 (172.17.0.6:2222) [session: fafec37d]\n2016-04-29 19:07:10+0000 [SSHService ssh-userauth on HoneyPotTransport,0,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 19:42:58+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:56925 (172.17.0.6:2222) [session: 539960a3]\n2016-04-29 19:42:58+0000 [SSHService ssh-userauth on HoneyPotTransport,1,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 20:39:03+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:54138 (172.17.0.6:2222) [session: b9f550df]\n2016-04-29 20:39:03+0000 [SSHService ssh-userauth on HoneyPotTransport,2,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 21:13:41+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 141.8.83.213:64400 (172.17.0.6:2222) [session: e696835c]\n2016-04-29 21:13:59+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test123] failed\n2016-04-29 21:14:10+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test1234] failed\n2016-04-29 21:14:13+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test123] failed\n</code></pre>\n\n<p>This is the perl script I have so far, kindly provided by @zdim <a href=\"https://stackoverflow.com/questions/36964981/count-the-number-of-variable-combinations-in-a-logfile-using-perl/36965385#36965385\">in a previous post</a> and tweaked a bit as shown below:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nmy $file = \"/home/tsec/prototype/logs/extractedlogs/cowrieresult.log\";\nopen (LOG, $file);\n\n# Assemble results for required output in data structure:\n# %rept = { $port =&gt; { $usr =&gt; { $status =&gt; $freq } };\nmy $frequency = 0;\nmy %rept;\nmy ($ip, $port);\n\nwhile (my $line = &lt;LOG&gt;)\n{\n    if ($line =~ /New connection/) {\n        ($ip, $port) = $line =~ /New connection:\\s+([^:]+):(\\d+)/;\n        next;\n    }\n\n    my ($usr, $status) =  $line =~ m/login\\ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)/x;\n    if ($usr and $status) {\n        $rept{$port}{$usr}{$status}++;\n    }\n    else { warn \"Line with an unexpected format:\\n$line\" }\n\n\n}\n\nclose(LOG);\nopen (LOG, $file);\n\nwhile (my $line = &lt;LOG&gt;){\n        if($line =~ /login attempt/){\n\n        #split string, get the ip and match it with original $ip\n        my ($testip) = (split /[\\s,:\\[\\]\\/]+/, $line)[-6];\n        #print \"$testip\\n\";\n        #this two lines above print ips from login attempt line.\n        if($testip =~ /$ip/){\n                $frequency++;\n        }\n        else {\n                # stop frequency counter and start another one?\n                print \"$frequency\\n\";\n                $frequency = 0;\n        }\n\n        }\n}\nprint \"$frequency\\n\";\nclose(LOG);\n</code></pre>\n\n<p>Right now the output is as follows, which is working for the last three entries in the log file as the IP is seen 3 times in the end:</p>\n\n<pre><code>0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n3\n</code></pre>\n\n<p>What am I doing wrong? I appreciate all your help. Thankyou</p>\n"}, {"tags": ["perl", "if-statement", "conditional-statements", "inverse"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1462138376, "post_id": 36972195, "comment_id": 61499972, "body": "<code>ne</code> is the negation of <code>eq</code>. What&#39;s the problem?"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462139257, "post_id": 36972241, "comment_id": 61500234, "body": "just so that I know for future methods. Thankyou!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1462138544, "creation_date": 1462138544, "answer_id": 36972241, "question_id": 36972195, "link": "https://stackoverflow.com/questions/36972195/negating-a-regex-pattern-match/36972241#36972241", "title": "Negating a regex pattern match", "body": "<p>To negate matching, you can use </p>\n\n<pre><code>$testip !~ /$ip/\n</code></pre>\n\n<p>but there's no need to know, you can just negate the operator</p>\n\n<pre><code>not $testip =~ /$ip/\n</code></pre>\n\n<p>But why? The <code>else</code> branch is only executed when the <code>if</code> condition returns false.</p>\n"}], "owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 36972241, "answer_count": 1, "score": 0, "last_activity_date": 1462139126, "creation_date": 1462138206, "last_edit_date": 1462139126, "question_id": 36972195, "link": "https://stackoverflow.com/questions/36972195/negating-a-regex-pattern-match", "title": "Negating a regex pattern match", "body": "<p>Is there a way to negate the elsif statement with the following pattern match statement, something like <code>$ip != $testip</code>?</p>\n\n<p>I know that <code>!=</code> is only for integers, I just wanted to explain what I want: the same function as <code>!=</code> but for strings when pattern matching.</p>\n\n<pre><code>if ( $testip =~ /$ip/ ) {\n    $frequency++;\n}\nelsif ( $ip ne $testip ) {\n</code></pre>\n"}, {"tags": ["perl", "awk", "sed", "grep", "notepad"], "comments": [{"owner": {"reputation": 89, "user_id": 5264097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/538af03df3c272bb33c940c8ec13c44a?s=128&d=identicon&r=PG&f=1", "display_name": "krthk", "link": "https://stackoverflow.com/users/5264097/krthk"}, "edited": false, "score": 0, "creation_date": 1462129044, "post_id": 36970516, "comment_id": 61496878, "body": "Hi perl, It is a single line with same string in all files"}, {"owner": {"reputation": 89, "user_id": 5264097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/538af03df3c272bb33c940c8ec13c44a?s=128&d=identicon&r=PG&f=1", "display_name": "krthk", "link": "https://stackoverflow.com/users/5264097/krthk"}, "edited": false, "score": 1, "creation_date": 1462130824, "post_id": 36970516, "comment_id": 61497453, "body": "Perl, The line to be dropped is always the same string. Eg, I have to delete all the line that contain string &quot;iam new to perl&quot;  in all 3000 files"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1462131128, "post_id": 36970516, "comment_id": 61497553, "body": "Then: <code>perl -n -i.before -e &#39;print unless &#47;iam new to perl&#47;;&#39; *.txt</code>. This will print all lines NOT containing &quot;iam new to perl&quot;, edit the files in-place (<code>-i</code>) and save the old files as <code>*.before</code> (<code>-i.before</code>)."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1462131145, "post_id": 36970516, "comment_id": 61497564, "body": "Do you have GNU <code>sed</code> available?  If so, then you can test with <code>sed -i.bak -e &#39;&#47;^IAM A DEFAULT&#47;d&#39; somefiles.txt</code> and drop the <code>.bak</code> when you&#39;re satisfied it works and supply the whole file name list.  If not, then it may be simplest to get it; failing that, <code>for file in *.txt; do sed &#39;&#47;^IAM A DEFAULT&#47;d&#39; &quot;$file&quot; &gt; x &amp;&amp; mv x &quot;$file&quot;; done</code>, assuming a POSIX-ish shell (and no valuable local file called <code>x</code> since it gets zapped)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462131699, "post_id": 36970516, "comment_id": 61497761, "body": "@krthk: Please don&#39;t use abbreviated user names when you&#39;re replying: it bypasses Stack Overflow&#39;s notification system. If you&#39;re using a PC system then you can hit the <code>@</code> sign and start typing the name of the user you&#39;re replying to; hitting tab will autocomplete. Adding a username to a comment properly like that will alert them as an increment in their inbox. Please try it. Sadly this doesn&#39;t work on the tablet and phone apps, and you&#39;re stuffed if you want to reply to someone with Unicode characters in the username unless you have a fancy keyboard"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462132813, "post_id": 36970516, "comment_id": 61498128, "body": "@krthk: Your question doesn&#39;t give any detail. No one has even mentioned where these text files are or how we are to find them. But what you haven&#39;t answered yet is which lines are to be deleted, hence Perl Dog&#39;s frustration in capital letters I also understand that you think you&#39;ve explained several times over with words like <i>&quot;It is a single line with same string in all files&quot;</i>. The problem is that that&#39;s not precise enough!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462133117, "post_id": 36970516, "comment_id": 61498225, "body": "@krthk:  You talk about the string <code>IAM A DEFAULT</code> being <i>present in the string</i>, but does that include lines like <code>xyzzxIAM A DEFAULTPhenome</code>? Should a line that begins with tabs or space characters, or anything else funny, before <code>IAM A DEFAULT</code> be included? The same applies to the rest of the string. If I find a line <code>IAM A DEFAULT</code> followed by a space then do you want that removed? I have guessed a lot to write my answer below, based on what people <i>usually want</i> when they say things like what you&#39;ve said. But I&#39;m far from certain that it&#39;s correct. Please indulge us in the future!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462133566, "post_id": 36970516, "comment_id": 61498379, "body": "@Borodin Please don&#39;t be so harsh. This is a beginner, he doesn&#39;t know better and the Q wasn&#39;t that bad. After some interrogation he told which lines to skip. I think he doesn&#39;t care/know exactly whether the lines have add&#39;l whitespace or not."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1462133946, "post_id": 36970516, "comment_id": 61498495, "body": "@PerlDog: I honestly thought I was being accommodating. I was trying to explain why what the OP probably thought was definitive was actually less than sufficient for the purposes of coding a solution. If I had thought the OP was reasonably seasoned programmer then I wouldn&#39;t have explained the difference between <i>contains</i> and <i>equals</i>. I also thought a smattering of exclamation marks would help. I&#39;ll leave my words in place in the hope that someone else finds them useful, but thank you for telling me how things seem to you"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462135765, "post_id": 36970516, "comment_id": 61499121, "body": "@Borodin I don&#39;t want to argue. It&#39;s always an honor when you comment on a Q and your answers are always very profound. Tell me what you want, but you are one of the Godfathers of Perl here on SO. (@krthk: Read that?). My conclusion is: Peace? Peace!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1462137264, "post_id": 36970516, "comment_id": 61499645, "body": "@PerlDog: I&#39;m not arguing; just sad to hear that my words were seen as harsh. Thank you for your compliments--I shall continue to do my best"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1462131280, "creation_date": 1462131280, "answer_id": 36971045, "question_id": 36970516, "link": "https://stackoverflow.com/questions/36970516/delete-a-line-starting-with-particular-string-in-all-3000-files/36971045#36971045", "title": "Delete a line starting with particular String in all 3000 files", "body": "<p>You don't talk about identifying the files to be processed, but let's assume that you want to remove all <code>IAM A DEFAULT</code> lines from all <code>*.txt</code> files in the current directory</p>\n\n<p>This Perl one-line command will doe that for you. It will also save each original file like <code>abc.txt</code> as <code>abc.txt.bak</code></p>\n\n<pre><code>perl -i.bak -lne 'print unless $_ eq \"IAM A DEFAULT\"' *.txt\n</code></pre>\n\n<p>I hope that helps</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 5264097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/538af03df3c272bb33c940c8ec13c44a?s=128&d=identicon&r=PG&f=1", "display_name": "krthk", "link": "https://stackoverflow.com/users/5264097/krthk"}, "edited": false, "score": 0, "creation_date": 1462155319, "post_id": 36971970, "comment_id": 61503829, "body": "Hi Cyrus, it worked thanks. but how  i do the same for all txt files in sub folders?"}], "tags": [], "owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "is_accepted": true, "score": 2, "last_activity_date": 1462136903, "creation_date": 1462136903, "answer_id": 36971970, "question_id": 36970516, "link": "https://stackoverflow.com/questions/36970516/delete-a-line-starting-with-particular-string-in-all-3000-files/36971970#36971970", "title": "Delete a line starting with particular String in all 3000 files", "body": "<p>With GNU sed and GNU bash 4:</p>\n\n<pre><code>shopt -s globstar nullglob\nsed -i '/^IAM A DEFAULT/d' **/*.txt\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 5264097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/538af03df3c272bb33c940c8ec13c44a?s=128&d=identicon&r=PG&f=1", "display_name": "krthk", "link": "https://stackoverflow.com/users/5264097/krthk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "accepted_answer_id": 36971970, "answer_count": 2, "score": 0, "last_activity_date": 1462136903, "creation_date": 1462128169, "last_edit_date": 1592644375, "question_id": 36970516, "link": "https://stackoverflow.com/questions/36970516/delete-a-line-starting-with-particular-string-in-all-3000-files", "title": "Delete a line starting with particular String in all 3000 files", "body": "<p>I want to delete a particular line in each of 3000 text files.</p>\n<p>I have tried using Notepad Plus but it creates a blank line for each matching line.</p>\n<h3>Sample File Content:</h3>\n<pre><code>SAMPLE TXT FILE\n---------------------\nphone number\naddress\nIAM A DEFAULT\ncity\nstate\npincode\n----------------\n</code></pre>\n<p>Here <code>IAM A DEFAULT</code> is present in all 3000 files and it is present only once</p>\n"}, {"tags": ["regex", "perl", "path"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462130821, "post_id": 36970285, "comment_id": 61497451, "body": "According to your second set of examples, you want to include the slash in the capture -- is that correct?  See my answer.  If not, that is fixed by merely moving capturing parenthesis outside."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1462131431, "post_id": 36970285, "comment_id": 61497666, "body": "What if there are no slashes, or only one?"}, {"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1462133247, "post_id": 36970285, "comment_id": 61498279, "body": "@WillemVanOnsem yes, in case of no slashes it should return empty string, and in case of one <code>&#47;</code> it should return <code>&#47;</code> with tilde if present"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462130593, "post_id": 36970768, "comment_id": 61497377, "body": "It should not match anything before first slash (or tilda followed by slash), so asdf /path/.file -&gt; &quot;/path/&quot;, or asdf ~/path/.file -&gt; &quot;~/path/&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462131458, "post_id": 36970768, "comment_id": 61497676, "body": "@Radivarig  The <code>&#47;m</code> based code works that way -- I forgot to adjust in the substitution, which has the problem because of greedy <code>.*</code> preceding an optional item.  Will put it back when fixed."}, {"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462132605, "post_id": 36970768, "comment_id": 61498042, "body": "Indeed <code>&#47;m</code> does match it. Just one thing, for a single slash it complains about <code>uninitialized value $1</code>. <code>~&#47;.file</code> should return <code>~&#47;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462137386, "post_id": 36970768, "comment_id": 61499680, "body": "@Radivarig  Right, I didn&#39;t think of a lone slash.  Added a simple fix to include that, which needed an extra (non-capturing) grouping to get the tilde in both cases as well.  Also changed the delimiter since now <code>|</code> <i>is</i> used inside regex."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462138296, "post_id": 36970768, "comment_id": 61499948, "body": "@Radivarig  There is one note, or a modification, to add:  If there are no slashes at all my code will print a warning, since it attempts to actually <i>use</i> the capture (which there isn&#39;t, without a slash).  The warnings are, however, specifically enforced by <code>-w</code> flag, so if you drop that there will be no warnings when there&#39;s no match (slash), just an empty string printed.  Let me know if you think that this is better generally so I remove <code>-w</code> from the answer."}, {"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462139186, "post_id": 36970768, "comment_id": 61500215, "body": "Yes, that would be better. No match, no path string."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462139809, "post_id": 36970768, "comment_id": 61500435, "body": "@Radivarig  Adjusted the answer.  (Testing <i>was</i> done with <code>-w</code> though.)  One of the (clean and simple) ways around greedy-*-match followed by optional item is to use negative lookaheads, I think.  I will add that if/when I find time to make it work."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1583653517, "last_edit_date": 1583653517, "creation_date": 1462129656, "answer_id": 36970768, "question_id": 36970285, "link": "https://stackoverflow.com/questions/36970285/regex-for-capturing-path-from-a-string-with-optional-character-perlawksed/36970768#36970768", "title": "regex for capturing path from a string with optional character ~ (perl|awk|sed|..)", "body": "<p>If I understood the desired output right, this works for me with or without tilde</p>\n\n<pre><code>echo \"path /d1/d2/43a/\" | perl -nE 'm{ ( ~? (?: /.*/ | /) ) }x; say \"$1\"'\n</code></pre>\n\n<p>Prints </p>\n\n<pre>\n/d1/d2/43a/\n</pre>\n\n<p>Same Perl code, with a tilde before the first slash in the input</p>\n\n<pre><code>echo \"path ~/d1/d2/43a/\" | perl -nE 'm{ ( ~? (?: /.*/ | /) ) }x; say \"$1\"'\n</code></pre>\n\n<p>prints</p>\n\n<pre>\n~/d1/d2/43a/\n</pre>\n\n<p><strong>Notes</strong>  &nbsp; Use of <code>/1</code> in the substitution is deprecated. Use <code>$1</code> instead.  With <code>{}</code> for the delimiters we don't have to escape <code>/</code>, making it more readable (while with delimiters other than <code>//</code> we can't leave out <code>m</code> in front). Otherwise the same works when using <code>/</code> for delimiter and then escaping it inside.</p>\n\n<hr>\n\n<p><strong>Update</strong> </p>\n\n<p>To also catch a lone <code>~/</code> (or <code>/</code>), the simplest change was to add that explicitly, <code>/.*/ | /</code>. In order to capture the (optinal) <code>~</code> in both cases there is a (non-capturing) grouping around this.  Removed <code>-w</code> flag so no warnings are issued when the input string has no slashes at all, but only an empty line is printed.</p>\n"}, {"comments": [{"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462133845, "post_id": 36971183, "comment_id": 61498461, "body": "Almost, for single slash it should output just <code>&#47;</code> (with accompanying tilde if present). For no slashes preferably empty string as there is no match, but I check for existence of directory so the latter is not relevant that much."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462133990, "post_id": 36971183, "comment_id": 61498508, "body": "Your sample inputs and output do not demonstrate or mention such a refinement.  Please don&#39;t go modifying your requirements after you get answers \u2014 ask the whole question from the beginning.  I&#39;ll work on a solution for that, but \u2026 no fair changing the rules."}, {"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462134104, "post_id": 36971183, "comment_id": 61498547, "body": "For this case <code>~a b&#47;c&#47;d.f</code> it returns full string, instead it should return <code>&#47;c&#47;</code>"}, {"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462135157, "post_id": 36971183, "comment_id": 61498929, "body": "I didn&#39;t explicitly mention the case of a single slash, but I stated and gave an example input of a <code>path</code> which would imply that it can have an arbitrary positive number of slashes."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462135478, "post_id": 36971183, "comment_id": 61499039, "body": "All of this just goes to show that you should specify the complete requirements from the start.  Regexes are a balancing game \u2014 what matches vs what the other possible inputs could be.  I&#39;ll work on the <code>~a b&#47;c&#47;d.f</code> example \u2014 though I don&#39;t see an example equivalent to that in the question.  I see exactly one input in the question."}, {"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462137669, "post_id": 36971183, "comment_id": 61499790, "body": "I object to your stance and find it inappropriate. As a matter of fact a single slash is both the first and the last one in a string, so the case is included in the original requirement. I do not see why commenting on it additionally as a clarification could be an issue, even if it was not mentioned."}, {"owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462137695, "post_id": 36971183, "comment_id": 61499802, "body": "I especially object the need for <code>was incomplete</code> <code>it seems</code> <code>apparently</code> and mostly <code>what happened to &#39;learning how to fish&#39;?</code>. You are not obligated to answer my question and I did not ask for someone to &quot;fish&quot; instead of me, I asked &quot;What am I doing wrong?&quot; so to put it in your fishy jargon I asked &quot;Why is the described way of my fishing not resulting in an expected fish&quot;. This has been very unpleasant and I suggest and would appreciate if you&#39;d reconsider the attitude in providing answers."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "edited": false, "score": 0, "creation_date": 1462138173, "post_id": 36971183, "comment_id": 61499925, "body": "You&#39;re allowed to object; I&#39;m allowed to object.  Your question still shows precisely one sample input (<code>~~a~&#47;dir1&#47;di r2&#47;b.c</code>) and the desired output, and mentions that the <code>~</code> before the first slash is optional.  The other requirements (single slashes, no slashes) have been added later \u2014 though the <code>~a b&#47;c&#47;d.f</code> variant was a mistake in my original answer.  The trouble was that came on top of the rest of the &#39;chameleon question&#39; changes \u2014 and chameleon questions are definitely not popular.  You need to ask more complete questions \u2014 single sample inputs and outputs won&#39;t deal with all variants."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 1, "last_activity_date": 1462135815, "last_edit_date": 1462135815, "creation_date": 1462132199, "answer_id": 36971183, "question_id": 36970285, "link": "https://stackoverflow.com/questions/36970285/regex-for-capturing-path-from-a-string-with-optional-character-perlawksed/36971183#36971183", "title": "regex for capturing path from a string with optional character ~ (perl|awk|sed|..)", "body": "<h2>Original requirements</h2>\n\n<h3>File <code>data</code></h3>\n\n<pre><code>~~a~/dir1/di r2/b.c\n/dir1/di r2/z.y\n~/dir1/di r3/p.q\ngobbledegook~/name/more/still/more/notwanted.c\nxxx~//yyy\n</code></pre>\n\n<h3>Script</h3>\n\n<pre><code>perl -ple 's%(?:^.*?)((?:^|~)/.*/).*%$1%' data\n</code></pre>\n\n<h3>Example output</h3>\n\n<pre><code>~/dir1/di r2/\n/dir1/di r2/\n~/dir1/di r3/\n~/name/more/still/more/\n~//\n</code></pre>\n\n<p>Is that what you needed?</p>\n\n<h3>Dissecting the regex</h3>\n\n<pre><code>s%(?:^.*?)((?:^|~)/.*/).*%$1%\n</code></pre>\n\n<p>The first part, <code>(?:^.*?)</code> is a non-capturing non-greedy match for an arbitrary sequence of characters at the start of the line.</p>\n\n<p>The second part, <code>((?:^|~)/.*/)</code>, is a capturing expression that contains a non-capturing term that matches at the start of a line, or a tilde, followed by a slash and a greedy anything up to the last slash on the line.</p>\n\n<p>The trailing <code>.*</code> matches everything after the second part.</p>\n\n<p>The replacement is simply what was captured; the rest is Perl being Perl.</p>\n\n<hr>\n\n<h2>Revised requirements</h2>\n\n<p>The original problem statement was incomplete, it seems.  Apparently:</p>\n\n<blockquote>\n  <p>for single slash it should output just <code>/</code> (with accompanying tilde if present). For no slashes preferably empty string as there is no match. \u2026 And for this case <code>~a b/c/d.f</code> it returns full string; instead it should return <code>/c/</code>.</p>\n</blockquote>\n\n<p>So, here is a revised script to deal with the special extra cases (what happened to 'learning how to fish'?).  The <code>~a b/c/d.f</code> case was a missing <code>?</code> qualifier on a 'start of string or tilde' grouping.</p>\n\n<h3>Revised <code>data</code> file</h3>\n\n<pre><code>~~a~/dir1/di r2/b.c\n/dir1/di r2/z.y\n~/dir1/di r3/p.q\ngobbledegook~/name/more/still/more/notwanted.c\nxxx~//yyy\nnot-a-slash-in-sight\njust-the-one/with-extra-info\njust-the~/with-more-info\n~/one-slash-at-start-with-tilde\n/one-slash-at-start-without-tilde\n~a b/c/d.f\n</code></pre>\n\n<h3>Revised script</h3>\n\n<pre><code>perl -ple 's%^[^/]*$%%; s%(?:^[^/]*?)((?:^|~)?/)[^/]*$%$1%; s%(?:^[^/]*?)((?:^|~)?/.*/).*%$1%' data\n</code></pre>\n\n<p>A mildly modified of the original expression comes last.</p>\n\n<p>The first <code>s///</code> looks for lines without any <code>/</code> and replaces them with nothing.</p>\n\n<p>The second <code>s///</code> looks for lines with a slash, possibly preceded by tilde or start of line, followed by non-slashes to end of line with the optional tilde and the slash.</p>\n\n<p>The output of the first two in event of a match does not match the third <code>s///</code>.</p>\n\n<h3>Revised output</h3>\n\n<pre><code>~/dir1/di r2/\n/dir1/di r2/\n~/dir1/di r3/\n~/name/more/still/more/\n~//\n\n/\n~/\n~/\n/\n/c/\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 3754246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e5ab546b7297db9b9f153a1f53143a4?s=128&d=identicon&r=PG&f=1", "display_name": "Radivarig", "link": "https://stackoverflow.com/users/3754246/radivarig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 36970768, "answer_count": 2, "score": 0, "last_activity_date": 1583653517, "creation_date": 1462126944, "last_edit_date": 1462131460, "question_id": 36970285, "link": "https://stackoverflow.com/questions/36970285/regex-for-capturing-path-from-a-string-with-optional-character-perlawksed", "title": "regex for capturing path from a string with optional character ~ (perl|awk|sed|..)", "body": "<p>I want to match everything between first and last slash <code>/</code> including optional <code>~</code> before first slash.</p>\n\n<p>I used this for the first part:</p>\n\n<pre><code>echo ~~a~/dir1/di r2/b.c \\\n| perl -pe 's/[^\\/]*(\\/.*\\/).*/\\1/'\n</code></pre>\n\n<p>which produces <code>/dir1/di r2/</code>.</p>\n\n<p>This match includes the tilde:</p>\n\n<p><code>perl -pe 's/</code><strong>.*</strong><code>(</code><strong>~</strong><code>\\/.*\\/).*/\\1/'</code></p>\n\n<p>but adding <code>?</code> for optional character doesn't seem to work like in these cases:</p>\n\n<p><code>perl -pe 's/</code><strong>.*</strong><code>(</code><strong>~?</strong><code>\\/.*\\/).*/\\1/'</code> -> <code>/di r2/</code><br>\n<code>perl -pe 's/</code><strong>.*</strong><code>(</code><strong>(?:~)</strong><code>\\/.*\\/).*/\\1/'</code> -> <code>~~a/dir1/di r2/b.c</code></p>\n\n<p>What am I doing wrong?  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 5, "creation_date": 1462125220, "post_id": 36969909, "comment_id": 61495518, "body": "<b>1</b> Please use English. <b>2</b> <i>Always</i> <code>use strict</code>!"}, {"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1462125446, "post_id": 36969909, "comment_id": 61495599, "body": "@Biffen <code>s&#47;Please&#47;Always&#47;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 3, "creation_date": 1462127480, "post_id": 36969909, "comment_id": 61496328, "body": "@andlrc: I don&#39;t think any harm comes from a little politeness, especially when &quot;please&quot; is used as Biffen did, without any sense of propriety at all. It&#39;s also important with a Perl question to distinguish <i>please write your posts in the English language</i> from <i>please <code>use English</code></i> that IMO is a horrible thing, second only to <code>use diagnostics</code>"}, {"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462167513, "post_id": 36969909, "comment_id": 61506491, "body": "I will for next posts - thanks for reminding!"}], "answers": [{"tags": [], "owner": {"reputation": 635, "user_id": 5225141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ca2a143210415021833f869de4551d?s=128&d=identicon&r=PG&f=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/5225141/chad"}, "is_accepted": false, "score": 2, "last_activity_date": 1462125776, "creation_date": 1462125776, "answer_id": 36970069, "question_id": 36969909, "link": "https://stackoverflow.com/questions/36969909/perl-error-message-perhaps-you-forgot-to-load/36970069#36970069", "title": "Perl error message perhaps you forgot to load", "body": "<p>You need to check that what <code>Mail::Sender-&gt;new</code> returned is valid.  In this case, it is returning <code>-1</code>.  Then when you try to call <code>MailMsg</code> on the variable that has the value <code>-1</code>, Perl interprets the value as a class (package) name and assumes you mean to call the method on that class.</p>\n\n<p>A good way to test the return value of a constructor is with the <code>ref</code> function:</p>\n\n<pre><code>my $av_tmp_SENDER = Mail::Sender-&gt;new(...)\nif ( ref( $av_tmp_SENDER ) eq 'Mail::Sender' ) {\n    # Use the new object\n}\nelse {\n    # Print a message\n}\n</code></pre>\n\n<p>Of course, the docs for that module may indicate other checks.  For instance, what does it mean that it returned <code>-1</code> rather than <code>undef</code> or <code>0</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "edited": false, "score": 0, "creation_date": 1462167854, "post_id": 36970659, "comment_id": 61506642, "body": "O.K. - thanks for hint - as I said, I am a total newbie.  In this example I simply want to send an e-Mail as I normally do with shell command mailx, since my ubuntu mashine has a postfix installation running.  I was looking for examples in the net and came across this one. But there must be a way just to send away the mail and let the existing postfix handle it. By the way: postfix is configured only to accept mails from local network.  Thanks Karl-Heinz"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467563103, "last_edit_date": 1467563103, "creation_date": 1462129005, "answer_id": 36970659, "question_id": 36969909, "link": "https://stackoverflow.com/questions/36969909/perl-error-message-perhaps-you-forgot-to-load/36970659#36970659", "title": "Perl error message perhaps you forgot to load", "body": "<p>...and welcome to Stack Overflow and to Perl</p>\n\n<p>I'm sorry if the dissenters put you off, but in the end they are right\u2014Stack Overflow is an English language site</p>\n\n<p>The problem is that you didn't specify an SMTP server when you created the <code>Mail::Server</code> object. Most internet service providers give you access to their SMTP server as part of the deal</p>\n\n<p>If you don't know the URL for your SMTP server then you should check on line or call support to find out what it is. You will probably also need to provide your username and password</p>\n\n<p>You need to check with them and provide the  URL for the server to the <code>new</code> call. The code below assumes that you have a gmail account, and Google's SMTP server is at <code>smtp.gmail.com</code></p>\n\n<p>This code will report any errors, in either the call to <code>new</code> or to <code>MailMsg</code>. Error code are negative numbers, and you can read their meaning in the <a href=\"https://metacpan.org/pod/Mail::Sender#Return-codes\" rel=\"nofollow\"><em>Return codes</em> section of the <code>Mail::Sender</code> documentation</a></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse strict;\nuse warnings 'all';\n\nuse Mail::Sender;\n\nmy $sender = Mail::Sender-&gt;new( {\n    smtp    =&gt; 'smtp.gmail.com',\n    authid  =&gt; 'my.email@gmail.com',\n    authpwd =&gt; 'Herringbone-pattern-1989',\n} );\n\ndie \"Return code $sender\" unless ref $sender;\n\nmy $status = $sender-&gt;MailMsg( {\n    to      =&gt; 'my.friend@gmail.com',\n    from    =&gt; 'my.email@gmail.com',\n    subject =&gt; 'Funktionstest',\n    msg     =&gt; 'noch ein bisschen text',\n} );\n\ndie \"Return code $status\" unless ref $status;\n\nprint \"Die e-Mail wurde verschickt\";\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 3189980, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7c93e3b51b42b64f8f032b25e8e767dd?s=128&d=identicon&r=PG", "display_name": "averlon", "link": "https://stackoverflow.com/users/3189980/averlon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2525, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1467563103, "creation_date": 1462125023, "last_edit_date": 1462126878, "question_id": 36969909, "link": "https://stackoverflow.com/questions/36969909/perl-error-message-perhaps-you-forgot-to-load", "title": "Perl error message perhaps you forgot to load", "body": "<p>I have a first Perl program that uses <a href=\"https://metacpan.org/pod/Mail::Sender\" rel=\"nofollow\"><code>Mail::Sender</code></a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\nuse Getopt::Long;\n\nuse autodie;    # die if problem reading or writing a file\n\nuse Mail::Sender;\n\nmy $av_tmp_SENDER = Mail::Sender-&gt;new( {\n    from    =&gt; 'absender@absender.de',\n    to      =&gt; 'empf@empf.de',\n    subject =&gt; 'Funktionstest',\n} );\n\n$av_tmp_SENDER-&gt;MailMsg( {\n    to      =&gt; 'empf@empf.de',\n    subject =&gt; 'Funktionstest',\n    msg     =&gt; \"noch ein bisschen text\"\n} );\n\nprint \"Die e-Mail wurde verschickt\";  # The email was sent\n</code></pre>\n\n<p>Then I get this error message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate object method \"MailMsg\" via package \"-1\" (perhaps you forgot to load \"-1\"?) at ./av_perl_02.pl line\n</code></pre>\n\n<p>Can someone please give a beginner a hint?!</p>\n"}, {"tags": ["linux", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "edited": false, "score": 0, "creation_date": 1462121728, "post_id": 36969237, "comment_id": 61494256, "body": "Btw, both makecsv.sh and the perl script are in the same directory. The fr file listing shown above is in a different dir."}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 1, "creation_date": 1462122543, "post_id": 36969237, "comment_id": 61494544, "body": "Try adding <code>echo &quot;DEBUG: newfile: $newfile&quot;</code> just before the <code>fr</code> call in the <code>makecsv.sh</code> and see what is printed when you run <code>makecsv.sh</code> from shell and from Perl script."}, {"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "reply_to_user": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1462122694, "post_id": 36969237, "comment_id": 61494596, "body": "Ok. I will try that. Do you know what the fruinfo and counter files are doing with the fr and c parts?"}, {"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1462122965, "post_id": 36969237, "comment_id": 61494703, "body": "<code>fr</code> and <code>c</code> are symbolic links to <code>fruinfo</code> and <code>counter</code> respectively. This means that for example to run <code>fruinfo</code>, users can use <code>.&#47;fruinfo</code> or <code>.&#47;fr</code> and the same binary will be executed. Wikipedia has more on Unix symbolic links: <a href=\"https://en.wikipedia.org/wiki/Symbolic_link#POSIX_and_Unix-like_operating_systems\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"}, {"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "reply_to_user": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1462124482, "post_id": 36969237, "comment_id": 61495240, "body": "@bart When I run makecsv.sh on its own, it prints: DEBUG: newfile: SAM6_01-05-2016_12:40:05.xcm. When I run it from inside PERL, it prints the whole file path to the file. I&#39;m not sure why its doing that though."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462125765, "post_id": 36969237, "comment_id": 61495716, "body": "Please would you just show all of <code>makecsv.sh</code> and all of your Perl script?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462125856, "post_id": 36969237, "comment_id": 61495744, "body": "What are <code>fr call</code> and <code>third move</code>? Is that annotation from by you, or is it part of the output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462126022, "post_id": 36969237, "comment_id": 61495789, "body": "The spaces in the message <code>mv: cannot access &#47;home&#47;ateam&#47;...&#47;SAM5_01-05-  2016_11:07:29.csv</code> are suspicious. Have you just copied the text wrongly?  I would expect your file name to look like <code>SAM5_01-05-2016_11:07:29.csv</code> without the spaces before the year. Does that file or anything like it exist?"}, {"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "edited": false, "score": 0, "creation_date": 1462126666, "post_id": 36969237, "comment_id": 61496030, "body": "&quot;fr call&quot; and &quot;third move&quot; (for the mv cmds in the script are outputs from makecsv.sh). I have fully figured the solution though. The second argument that I am sending in the Perl script needs to only be the filename, not the absolute path to the filename. I did not take that into consideration..."}, {"owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462126761, "post_id": 36969237, "comment_id": 61496056, "body": "@Borodin Ahh. I see what you mean. That file does not exist. That was just an copying over error... apologies."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1462130260, "post_id": 36969237, "comment_id": 61497267, "body": "@noc_coder: It is a very poor Perl script that won&#39;t handle absolute file paths properly. Are you interested in getting it fixed? Meanwhile, if you have a solution to your problem then please write it up as an answer and accept it so that others can benefit from your experience."}], "answers": [{"tags": [], "owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1462139385, "creation_date": 1462139385, "answer_id": 36972371, "question_id": 36969237, "link": "https://stackoverflow.com/questions/36969237/cant-run-a-working-shell-script-from-inside-perl/36972371#36972371", "title": "Can&#39;t run a working shell script from inside Perl", "body": "<p>From this call to 'system' inside of the Perl script, I was adding the $initdir variable unnecessarily. </p>\n\n<pre><code>my $cmd = qq(bash makecsv.sh $initdir$sam.xcm $csvdest);\nprint $cmd, \"\\n\"; \nsystem($cmd);\n</code></pre>\n\n<p>I changed the line that initializes $cmd to this and it worked: </p>\n\n<pre><code> my $cmd = qq(bash makecsv.sh $sam.xcm $csvdest);\n</code></pre>\n\n<p>Now as for what makecsv.sh looks like, the program looks like this. I shortened the directories purposely. </p>\n\n<pre><code>#!/bin/bash\n#/bin/env sh\n# makecsv.sh /path/to/source/ /path/to/destination/\n\nSRC=$1\nDST=$2\n\n# separate filename from ext\nfilename=\"${SRC%.*}\"\nextension=\"${SRC##*.}\"\n\nNOW=\"$(date +'%d-%m-%Y_%T')\"\nnewfile=\"${filename}_${NOW}.$extension\"\n\nmv -f \"$SRC\" \"$newfile\"\nmv -f \"$newfile\" \"$DST\"\n#mv -f \"${filename}_${NOW}.$extension\" \"$DST\"\n\ncd $DST\n# rename file with .csv ext (without the .xcm)\nnoExt=\"${newfile%.*}\"\nfrufile=\"${noExt}.csv\"\nfr -s \"$newfile\" -o \"$frufile\"\n\nmv \"$frufile\" \"/home/.../SAMlog\"\nrm \"$newfile\"\n\n# remove files older than 90 days\nfind /home/..../SAMlog -type f -mtime +90 -exec rm {} \\;\n\n# create a md5sum stored in a file for frufile\ncp /home/.../SAMlog/\"$frufile\" \"${DST}/md5sum\"\ncd \"${DST}/md5sum\"\n# create a fingerprint for the new frufile\nmd5file=\"${noExt}.md5\"\ntouch \"$md5file\"\nmd5sum \"$frufile\" &gt; \"$md5file\"\nrm \"$frufile\"\n\n# check for md5sum files older than 1 day and delete them\n# only ever need to keep the sums of the current day and the previous one for cmp\nfind /home/.../md5sum -type f -mtime +1 -exec rm {} \\;\n</code></pre>\n\n<p>This code was never supposed to accept a fullpath, although I wrote that at the top it should. So, I will change that to accept full paths. </p>\n"}], "owner": {"reputation": 347, "user_id": 4326515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea648e2af03a3f5535a7a42564f8c0c?s=128&d=identicon&r=PG&f=1", "display_name": "noc_coder", "link": "https://stackoverflow.com/users/4326515/noc-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462139385, "creation_date": 1462121459, "last_edit_date": 1462125788, "question_id": 36969237, "link": "https://stackoverflow.com/questions/36969237/cant-run-a-working-shell-script-from-inside-perl", "title": "Can&#39;t run a working shell script from inside Perl", "body": "<p>I have a shell script <code>makecsv.sh</code> that runs correctly alone but fails when called from within Perl.</p>\n\n<p>This is the message it gives when I run <code>makecsv.sh</code> from the Perl script: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>fr call\nSource file does not exist\n\nUsage: fr -s &lt;source_file&gt; -o &lt;output_file&gt;\n   -s &lt;source_file&gt; - Input file which has Counter Information\n   -o &lt;output_file&gt; - Comma separated output file\n\nthird move\nmv: cannot access /home/ateam/.../SAM5_01-05-  2016_11:07:29.csv\n/home/ateam/.../SAM5_01-05-2016_11:07:29.xcm: No such   file or directory\ncp: cannot access /home/ateam/.../SAMlog/ /home/ateam/.../SAM5_01-05-2016_11:07:29.csv\nmd5sum: /home/ateam/.../SAM5_01-05-2016_11:07:29.csv: No such file or directory\n/home/ateam/.../SAM5_01-05-2016_11:07:29.csv: No such file or directory\n</code></pre>\n\n<p>This is a listing of the directory containing the <code>fr</code> node</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>drwxrwxr-x   4 ateam    ateam       4096 May  1 11:12 ./\ndrwxr-xr-x   3 ateam    ateam       4096 Mar 17 11:18 ../\nlrwxrwxrwx   1 ateam    ateam          7 Mar 12 19:13 c -&gt; counter*\n-rwxrwxr-x   1 ateam    ateam       1974 Mar 12 19:04 counter*\n-rwxrwxr-x   1 ateam    ateam        134 Mar 21 11:22 e*\n-rw-rw-r--   1 ateam    ateam    25152020 Mar 21 11:22 enb\n-rw-rw-r--   1 ateam    ateam    1880872 Mar 21 11:21 enb283.xml\n-rwxrwxr-x   1 ateam    ateam        811 Mar 28 11:59 expftp*\nlrwxrwxrwx   1 ateam    ateam          7 Mar 17 11:23 fr -&gt; fruinfo*\n-rw-rw-r--   1 ateam    ateam      75753 Mar 22 13:07 fru_0322.xls\n-rwxrwxr-x   1 ateam    ateam       2878 Apr 21 22:16 fruinfo*\ndrwxrwxr-x   2 ateam    ateam       4096 May  1 11:12 md5sum/\n...\n</code></pre>\n\n<p>I do not understand what this directory item is</p>\n\n<pre><code> lrwxrwxrwx   1 ateam    ateam          7 Mar 17 11:23 fr -&gt; fruinfo*\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p>A little more information.</p>\n\n<p>In the shell script, the call to <code>fr</code> looks like this</p>\n\n<pre><code>fr -s \"$newfile\" -o \"$frufile\"\n</code></pre>\n\n<p>and the shebang line is this</p>\n\n<pre><code>#!/bin/bash\n</code></pre>\n\n<p>In the Perl file, the shell script is called like this  </p>\n\n<pre><code>my $cmd = qq(bash makecsv.sh $initdir$sam.xcm $csvdest);\nprint $cmd, \"\\n\";\n#system 'bash makecsv.sh ${initdir}${sam}.xcm $csvdest';\nsystem($cmd);\n</code></pre>\n\n<p>The variables above are all doubled quoted, if that helps.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462198084, "post_id": 36968133, "comment_id": 61523594, "body": "Please take a look at <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1462198043, "last_edit_date": 1462198043, "creation_date": 1462115662, "answer_id": 36968228, "question_id": 36968133, "link": "https://stackoverflow.com/questions/36968133/how-to-make-a-perl-script-create-a-directory-and-a-makefile-in-the-script/36968228#36968228", "title": "how to make a perl script create a directory and a makefile in the script", "body": "<p>Instead of coming straight to Stack Overflow for help, it would have been better to have started with some research of your own. I suggest the <code>perldoc</code> utility that is installed with Perl. The same information is also available on line at <a href=\"http://perldoc.perl.org/\" rel=\"nofollow\">perldoc.perl.org</a></p>\n\n<p>It sounds like you need\u2014surprise!\u2014the <a href=\"http://perldoc.perl.org/functions/mkdir.html\" rel=\"nofollow\"><code>mkdir</code></a> operator, or you could look at the core <a href=\"https://metacpan.org/pod/File::Path\" rel=\"nofollow\"><code>File::Path</code></a> module</p>\n\n<p>As for the make file, you don't say anything about what you need, but a simple <code>open</code>, like this will do the trick</p>\n\n<pre><code>open my $fh, '&gt;', '/path/to/makefile' or die $!\n</code></pre>\n\n<p>and then you can just <code>print</code> what you like to it</p>\n"}], "owner": {"reputation": 1, "user_id": 6278114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767a7dbd1e6df97aa89deaba5f9b21f9?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6278114/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1462198043, "creation_date": 1462115155, "question_id": 36968133, "link": "https://stackoverflow.com/questions/36968133/how-to-make-a-perl-script-create-a-directory-and-a-makefile-in-the-script", "title": "how to make a perl script create a directory and a makefile in the script", "body": "<p>I was going through lessons and i saw a practise saying to make a script that creates a directory and a makefile inside the actual script. i know how to do this in the ubuntu terminal with mkdir but can you actually create in a script? any help on this please?</p>\n"}, {"tags": ["perl", "logging", "pattern-matching", "subroutine"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462094092, "post_id": 36964981, "comment_id": 61485796, "body": "You should never use prototypes on Perl subroutines. They don&#39;t do what you think they do. Just <code>sub counter { ... }</code> and <code>sub cowrieExtractor { ... }</code> is correct"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1462094265, "post_id": 36964981, "comment_id": 61485831, "body": "<i>&quot;without involving hashes if possible&quot;</i> hashes are exactly the right tool for this. Why do you want to avoid them?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1462094358, "post_id": 36964981, "comment_id": 61485857, "body": "I can&#39;t help but ask: why &quot;<i>without involving hashes</i>&quot;?  And what does that mean -- a solution which wouldn&#39;t use a hash data type at all?  (What exactly are your requirements?)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462096244, "post_id": 36964981, "comment_id": 61486353, "body": "I&#39;m puzzled that your output example shows the <i>status</i> and <i>port</i> fields but no user information, yet you say you want to group the information only by user. That means there will be a mixture of statuses and ports for each count and the data cannot be summarised like this"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462096603, "post_id": 36964981, "comment_id": 61486445, "body": "Sorry about the not involve hashes part. I just did some research and hashes are perfect for this I just do not know how to use them well."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462102230, "post_id": 36965385, "comment_id": 61487901, "body": "this worked really well thankyou. What if I want to increment the occurrence also based on how many times an IP X.X.X.X used the same combination of pass/usr attempts? So it will be like an <code>||</code> statement somehow to either increment if there are multiple ports using the same combo or an IP using same combo?"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462112845, "post_id": 36965385, "comment_id": 61491068, "body": "Also how does  <code>my ($usr, $status) =  $line =~ m&#47;login\\ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)&#47;x;</code> work so that I can extract the IP as well and make the <code>or</code> condition before incrementing?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462144052, "post_id": 36965385, "comment_id": 61501527, "body": "@firepro20  I will deal with this as soon as I can, and add an explanation.  However, given your next post, this may help immediately.  The <code>$rept{$port}{$usr}{$stat}</code> (from last line of print) means the following: in the hash <code>%rept</code>, for port number <code>$port</code> and for user <code>$usr</code> and for status <code>$stat</code> (failed or succeded), the frequency is precisely that, <code>$rept{$port}{$usr}{$stat}</code>.  So this is the frequency of &#39;failed&#39; or &#39;succeded&#39; for user <code>$usr</code> at port <code>$port</code>.  Then the print goes through all possibilities, giving frequencies at each port for each user for each status.  Does this help?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462175981, "post_id": 36965385, "comment_id": 61510479, "body": "@firepro20  I&#39;ve added an explanation of sorts.  I&#39;ll edit tomorrow since I am sure that it can be improved.  But <i>please</i> do read up on this from better sources, for example the first one linked.  It will pay off handily if you continue using Perl.  Please let me know how it goes."}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462185054, "post_id": 36965385, "comment_id": 61515574, "body": "So following your explanation I need to either create a new hash say %test and go where there is this line of code  <code>my ($usr, $status) =  $line =~ m&#47;login\\ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)&#47;x; </code>  (p.s How can I get the IP from that match regex?)  Extract the IP from the login attempt line and say <code>if ($ip){%test($ip)++} </code>  then go to the printing part and do after all the <code>foreach</code> the following <code>foreach my $ip(sort keys %($test($ip)))</code> and <code>print &quot;$port,$stat,$rept{$port}{$usr}{$stat}, $test{$ip}\\n&quot;;</code> Correct?"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462188302, "post_id": 36965385, "comment_id": 61517455, "body": "I want to get this line <code>my ($usr, $status) =  $line =~ m&#47;login\\ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)&#47;x;     if ($usr and $status) {         $rept{$port}{$usr}{$status}++;     }     else { warn &quot;Line with an unexpected format:\\n$line&quot; } </code> then get the IP from the first line of code, problem is I do not undertand exactly how you re assigning the variables from that regex. Do an elseif to increment another hash like <code>$test{$ip}++</code> and some how print something like <code>Port,Status,OccurrencesonSrcPort, OccurrencesonIP</code> would be like <code>64400,failed,2,3</code> as the ip is seen three times in login attempt"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462212993, "post_id": 36965385, "comment_id": 61532214, "body": "@firepro20  Yes, you would make another hash, for example. OK, now I understand what you mean, I will add that -- unless you beat me to it.  (I did add IP counting for your other post already.) It looks like I should add some regex explanation as well, correct?"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462218400, "post_id": 36965385, "comment_id": 61535090, "body": "Yes please. The new hash almost works but it print all entries 3 times so its not perfect. Could you please clarify. Thanks in advance for all the support given so far. Truly appreciate"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462222297, "post_id": 36965385, "comment_id": 61537146, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/110864/discussion-between-firepro20-and-zdim\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1462176184, "last_edit_date": 1462176184, "creation_date": 1462097046, "answer_id": 36965385, "question_id": 36964981, "link": "https://stackoverflow.com/questions/36964981/count-the-number-of-variable-combinations-in-a-logfile-using-perl/36965385#36965385", "title": "Count the number of variable combinations in a logfile using perl", "body": "<p>Here is a basic way to get expected output. Questions about the context (purpose) remain.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $file = 'logfile.txt';\nopen my $fh_in, '&lt;', $file;\n\n# Assemble results for required output in data structure:\n# %rept = { $port =&gt; { $usr =&gt; { $status =&gt; $freq } };\n\nmy %rept;\nmy ($ip, $port);\n\nwhile (my $line = &lt;$fh_in&gt;) \n{\n    if ($line =~ /New connection/) {\n        ($ip, $port) = $line =~ /New connection:\\s+([^:]+):(\\d+)/;\n        next;\n    }   \n\n    my ($usr, $status) =  $line =~ m/login\\ attempt \\s+ \\[ ( [^\\]]+ ) \\] \\s+ (\\w+)/x;\n    if ($usr and $status) {\n        $rept{$port}{$usr}{$status}++;\n    }   \n    else { warn \"Line with an unexpected format:\\n$line\" }\n}\n\n# use Data::Dumper;\n# print Dumper \\%rept;\n\nprint \"Port,Status,Occurences\\n\";\nforeach my $port (sort keys %rept) {\n    foreach my $usr (sort keys %{$rept{$port}}) {\n        foreach my $stat ( sort keys %{$rept{$port}{$usr}} ) { \n            print \"$port,$stat,$rept{$port}{$usr}{$stat}\\n\"; \n        }   \n    }   \n\n}\n</code></pre>\n\n<p>With your input copied into a file <code>logfile.txt</code> this prints</p>\n\n<pre>\nPort,Status,Occurences\n64400,failed,2\n64400,failed,1\n</pre>\n\n<p>I take the whole <code>user1/test123</code> (etc) to identify the user. This can be changed in the regex as needed.\nNote that this will not allow you to query or organize data very differently, it mostly pulls what is needed for the required output.  Please let me know if explanations are needed.</p>\n\n<hr>\n\n<p><em>An introductory explanation of the nested hash used above</em></p>\n\n<p>First, I strongly recommend a good reading of some of the many materials available.\nA good start is surely the standard tutorial on <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">Perl \nreferences</a>, as well as a cookbook of sorts \non <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">Perl data structures</a>.</p>\n\n<p>The hash used to collect data has keys which are port numbers, and each of them has\nfor its value a <em>hash reference</em> (or, rather, an <em>anonymous hash</em>).  Each of these \nhashes has keys which are users, which for their values have, again, hash references.\nThe keys for these are the possible values of status, so there are two keys (failed \nand succeded).  Their values are frequencies.  This kind of 'nesting' is a <em>complex \ndata structure</em>.  There is another important thing.  The first time the statement\n<code>$rept{$port}{$usr}{$status}++</code> is seen the whole hierarchy is created.  So the key \n<code>$port</code> did not need to exist beforehand.  Importantly, this <em>auto vivification</em> \nhappens even if a structure is merely queried for values (unless it actually exists\nalready).</p>\n\n<p>After the first iteration, the hash is</p>\n\n<pre><code>%rept = { '64400' =&gt; { 'user1/test123' =&gt; { 'failed' =&gt; 1 } } }\n</code></pre>\n\n<p>In the second iteration the same port is seen but a new user, so new data is added to the second-level anonymous hash. The key with the new user is created, with its value being a (new) anonymous hash, with <code>status =&gt; count</code>. The whole hash is:</p>\n\n<pre><code>%rept = { \n    '64400' =&gt; { \n        'user1/test123'  =&gt; { 'failed' =&gt; 1 },\n        'user1/test1234' =&gt; { 'failed' =&gt; 1 },\n    } \n}\n</code></pre>\n\n<p>In the next iteration the same port is seen and one of already existing users, and\nas it happens with the status (failed) which also exists.  Thus the count for that\nstatus is incremented.</p>\n\n<p>The whole strucure can handily be seen using, for example, the \n<a href=\"http://search.cpan.org/~smueller/Data-Dumper-2.154/Dumper.pm\" rel=\"nofollow\">Data::Dumper</a> package.\nThe commented out lines in the code above would produce</p>\n\n<pre>\n$VAR1 = {\n    '64400' => {\n        'user1/test123' => {\n                                'failed' => 2\n                           },\n        'user1/test1234' => {\n                                'failed' => 1\n                            }\n                }\n        };\n</pre>\n\n<p>As we keep processing lines new keys are added as needed (ports, users, status) with the full hierarchy down to the count (of 1 the first time), or, if an existing is encountered, its count is incremented. The generated data structure can be traversed and used as seen in the code, for example. Please also see the plentiful documentation for more on that.</p>\n"}], "owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 36965385, "answer_count": 1, "score": 0, "last_activity_date": 1462176184, "creation_date": 1462093919, "last_edit_date": 1462096552, "question_id": 36964981, "link": "https://stackoverflow.com/questions/36964981/count-the-number-of-variable-combinations-in-a-logfile-using-perl", "title": "Count the number of variable combinations in a logfile using perl", "body": "<p>I have this logfile</p>\n\n<pre><code> New connection: 141.8.83.213:64400 (172.17.0.6:2222) [session: e696835c]\n    2016-04-29 21:13:59+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test123] failed\n    2016-04-29 21:14:10+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test1234] failed\n    2016-04-29 21:14:13+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test123] failed\n</code></pre>\n\n<p>I want to output to file a result like this:</p>\n\n<pre><code>Port,Status,Occurrences\n64400,failed,2\n64400,failed,1\n</code></pre>\n\n<p>The \"Occurrences\" variable will represent the number of times a combination of login details[username and password] that have been recorded in the file. <code>User1 test123</code> can be seen recorded two times from the same IP. How can I do this? I have two while loops at the moment and a subroutine being called inside the first while loop like so:</p>\n\n<p><b>Subroutine</b></p>\n\n<pre><code>sub counter(){\n\n        $result = 0;\n        #open(FILE2, $cowrie) or die \"Can't open '$cowrie': $!\";\n        while(my $otherlines = &lt;LOG2&gt;){\n\n                if($otherlines =~ /login attempt/){\n                        ($user, $password) = (split /[\\s:\\[\\]\\/]+/, $otherlines)[-3,-2];\n                        if($_[1] =~ /$user/ &amp;&amp; $_[2] =~ /$password/){\n                                $result++;\n                        }#if ip matches i think i have to do this with split\n\n                        #print \"TEST\\n\";\n                }\n        #print \"Combo $_[0] and $_[1]\\n\";\n\n        }\n        #print \"$result\";\n        return $result;\n}\n</code></pre>\n\n<p><b>Main method</b></p>\n\n<pre><code>sub cowrieExtractor(){\n\n        open(FILE2, $cowrie) or die \"Can't open '$cowrie': $!\";\n\n        open(LOG2, $path2) or die \"Can't open '$path2': $!\";\n\n        $seperator = chr(42);\n        #To output user and password of login attempt, set $ip variable to the contents of array at that x position of new\n        #connection to match the ip of the login attempt\n        print FILE2 \"SourcePort\".\"$seperator\".\n        \"Status\".\"$seperator\".\"Occurences\".\"$seperator\".\"Malicious\".\"\\n\";\n\n        $ip = \"\";\n        $port = \"\";\n        $usr = \"\";\n        $pass = \"\";\n        $status = \"\";\n        $frequency = 0;\n\n        #Given this is a user/pass attempt honeypot logger, I will use a wide character to reduce the possibility of stopping\n        #the WEKA CSV loader from functioning by using smileyface as seperators.\n\n\n        while(my $lines = &lt;LOG2&gt;){\n\n                if($lines =~ /New connection/){\n\n                ($ip, $port) = (split /[\\[\\]\\s:()]+/, $lines)[7,8];\n\n                }\n                if($lines =~ /login attempt/){#and the ip of the new connection\nif($lines =~ /$ip/){\n                ($usr, $pass, $status) = (split /[\\s:\\[\\]\\/]+/, $lines)[-3,-2,-1];\n\n                        $frequency = counter($ip, $usr, $pass);\n\n                        #print $frequency;\n                        if($ip &amp;&amp; $port &amp;&amp; $usr &amp;&amp; $pass &amp;&amp; $status ne \"\"){\n                                print FILE2 join \"$seperator\",($port, $status, $frequency, $end);\n                                print FILE2 \"\\n\";\n                        }\n                }\n\n\n                }\n        }\n\n\n}\n</code></pre>\n\n<p>Right now in output under <code>Occurrences</code> in output I am getting a <code>0</code> and when I tested it appears to be coming from what I initialize the variable <code>$result</code> in the subroutine. i.e. 0; meaning that the if statement inside the subroutine is not working properly. Any help?</p>\n"}, {"tags": ["arrays", "perl", "match"], "comments": [{"owner": {"reputation": 7715, "user_id": 815386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef59545dc02685334418ee23a2f30777?s=128&d=identicon&r=PG", "display_name": "zb&#39;", "link": "https://stackoverflow.com/users/815386/zb"}, "edited": false, "score": 4, "creation_date": 1462076817, "post_id": 36962500, "comment_id": 61482609, "body": "create simplifed question, it is hard to understand what you doing,"}, {"owner": {"reputation": 41, "user_id": 6201481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4a93576e639500adf3bb7414804ce42?s=128&d=identicon&r=PG&f=1", "display_name": "user6201481", "link": "https://stackoverflow.com/users/6201481/user6201481"}, "reply_to_user": {"reputation": 7715, "user_id": 815386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef59545dc02685334418ee23a2f30777?s=128&d=identicon&r=PG", "display_name": "zb&#39;", "link": "https://stackoverflow.com/users/815386/zb"}, "edited": false, "score": 0, "creation_date": 1462079463, "post_id": 36962500, "comment_id": 61483033, "body": "1) Extract MODULE_A info in ITUFF: TEST_ABC, TEST_BCD, 1 &amp; 451 (in binary format). 2) Extract ID &amp; pin if found TEST_ABC &amp; TEST_BCD in MAP file. 3) Extract &#39;modify token&#39;, AFC from TPLFILE. 4) search for the relevant IN file(s) with filename contain ID. 5) Extract label (TDO_STROBE - TDO_STROBE_9) from IN file. 10) print &quot;+ modify token IN filename +vector line DATA pin tmap\\n&quot;. Repeat step 1-10 for MODULE_B. Example: for MODULE_A, TEST_ABC is 2 bit and TDO_STROBE &amp; TDO_STROBE_0 are assigned. Meanwhile TEST_BCD is 9 bit and TDO_STROBE_1.. TDO_STROBE_9 are assigned. Can anyone help?"}, {"owner": {"reputation": 7715, "user_id": 815386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef59545dc02685334418ee23a2f30777?s=128&d=identicon&r=PG", "display_name": "zb&#39;", "link": "https://stackoverflow.com/users/815386/zb"}, "edited": false, "score": 0, "creation_date": 1462081820, "post_id": 36962500, "comment_id": 61483392, "body": "Simplify, you want us just to debug your program ?"}, {"owner": {"reputation": 41, "user_id": 6201481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4a93576e639500adf3bb7414804ce42?s=128&d=identicon&r=PG&f=1", "display_name": "user6201481", "link": "https://stackoverflow.com/users/6201481/user6201481"}, "reply_to_user": {"reputation": 7715, "user_id": 815386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef59545dc02685334418ee23a2f30777?s=128&d=identicon&r=PG", "display_name": "zb&#39;", "link": "https://stackoverflow.com/users/815386/zb"}, "edited": false, "score": 0, "creation_date": 1462082888, "post_id": 36962500, "comment_id": 61483581, "body": "My script need to read a few files and get info from each file and lastly print to a file in certain requirement. When I remove MODULE_B related lines from ITUFF, I manage to get the correct print out. However, the print out become erroneous if there is more than 1 MODULE in ituff. I need some help to correct my script."}, {"owner": {"reputation": 7715, "user_id": 815386, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef59545dc02685334418ee23a2f30777?s=128&d=identicon&r=PG", "display_name": "zb&#39;", "link": "https://stackoverflow.com/users/815386/zb"}, "edited": false, "score": 1, "creation_date": 1462083158, "post_id": 36962500, "comment_id": 61483627, "body": "Yes, debug. It is against rules. Just create the simple version of your script, and try to show where your problem, to debug perl programs use tools"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 1, "creation_date": 1462083792, "post_id": 36962500, "comment_id": 61483741, "body": "You say:  &quot; .. for MODULE_A, TEST_ABC is 2 bit&quot; - Why?    You say:  &quot;TEST_BCD is 9 bit &quot; - Why?  I can&#39;t see the digit &quot;9&quot; anywhere?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 1, "creation_date": 1462092505, "post_id": 36962500, "comment_id": 61485401, "body": "@Marty: The data in the ITUFF file for <code>TEST_BCD</code> says <code>0_mrslt_451</code>. 451 in binary is 111000011, which has nine bits. That&#39;s where the 9 comes from. Yeah I know; freaky right?"}], "answers": [{"comments": [{"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1462092844, "post_id": 36964760, "comment_id": 61485475, "body": "Why won&#39;t <code>if ( $_ =~ &#47;tname_CCK&#47; ) {</code> match when tested against the string <code>0_tname_CKK_MODULE_A::TEST_ABC</code> ?  Or... how am I misunderstanding what you are saying?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 1, "creation_date": 1462093491, "post_id": 36964760, "comment_id": 61485630, "body": "@Marty: <code>CCK</code> vs. <code>CKK</code>"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1462147160, "post_id": 36964760, "comment_id": 61502177, "body": "Sorry about that :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1462185354, "post_id": 36964760, "comment_id": 61515764, "body": "@Marty: Easily overlooked!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1462093655, "last_edit_date": 1462093655, "creation_date": 1462092161, "answer_id": 36964760, "question_id": 36962500, "link": "https://stackoverflow.com/questions/36962500/unable-to-get-expected-output-for-2nd-top-test/36964760#36964760", "title": "Unable to get expected output for 2nd top test", "body": "<p>I'm afraid there's a lot wrong with your code, and the main problem is that your thinking isn't very clear. You also appear to have written the whole program before you started testing it, which, as you have found, leaves an enormous amount of debugging to do with no foundation</p>\n\n<p>You should write no more than three or four lines of code at a time and test those before you proceed. That way you will never build a mountain of debugging to do, and you will always have confidence in the most recent version of your program</p>\n\n<p>Some other guidelines</p>\n\n<ul>\n<li><p>You should <em>always</em> <code>use strict</code> and <code>use warnings 'all'</code> at the top of <em>every</em> Perl program that you write. You will also need to declare all the variables that you use, which should be done as <em>late as possible</em> in the code and not in a big block at the start of the file</p></li>\n<li><p>You should use <em>lexical file handles</em> with the <em>three-parameter version of <code>open</code></em>. You can also <code>use autodie</code> at the top of your program, which will check many Perl IO operations for you so that you don't have to do it manually</p>\n\n<p>For instance</p>\n\n<pre><code>open(MAP,\"&lt;test_tupple.csv\")||die \"can't open the file\";\n</code></pre>\n\n<p>is better (with <code>autodie</code> in place) like this</p>\n\n<pre><code>open my $map_fh, '&lt;', 'test_tupple.csv';\n</code></pre></li>\n</ul>\n\n<p>There are a number of other issues, but I don't want to overwhelm you. The two points above are by far the most important</p>\n\n<p>Now for the bugs</p>\n\n<ul>\n<li><p>You say your ITUFF file contains lines like</p>\n\n<pre><code>0_tname_CKK_MODULE_A::TEST_ABC\n</code></pre>\n\n<p>but you are testing them with the statement</p>\n\n<pre><code>if ( $_ =~ /tname_CCK/ ) {\n</code></pre>\n\n<p>which will never match</p></li>\n<li><p>Your calculations for the iteration range in the output <code>for</code> loop are wrong. You have this</p>\n\n<pre><code>for $ite (@test_iteration) {\n    for (\n        $i = $ite * $totalBit[ $ite - 1 ];\n        $i &lt; $totalBit[$ite] + $ite * $totalBit[ $ite - 1 ];\n        $i++ ) {\n\n        print OUT \"+ $tpl_line2[1] MAIN PAT $pat1[0]_$pat1[1]_$pat1[2]_$pat1[3]_$pat1[4]_*_$pat1[6]_$pat1[7]_$pat1[8]_$pat1[9]_$pat1[10]_$pat1[11]_$pat1[12] $labelList[$i] +$d DATA $pin[$ite] $HL[$i]\\n\";\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>which should be something like this</p>\n\n<pre><code>    for $ite (@test_iteration) {\n\n        my $start = 0;\n        $start += $_ for @total_bit[ 0 .. $ite - 1 ];\n\n        for my $i ( $start .. $start + $totalBit[$ite] - 1 ) {\n\n            print ...;\n        }\n    }\n</code></pre>\n\n<ul>\n<li><p>Finally, you your data results in 22 lines of output (the total number of bits to represent the <code>mrslt</code> numbers in the ITUFF) but there are only 11 items in <code>@label_list</code> (obtained from the lines that contain <code>STROBE</code> in the IN file). That means only the first 11 lines of output have a field like <code>TDO_STROBE_9</code> etc. This is blank in the last 11</p>\n\n<p>I can't suggest what the solution to this should be as I know nothing about your data and it's impossible to know where the missing values should come from</p></li>\n</ul>\n\n<p>I hope this helps you on your way</p>\n"}], "owner": {"reputation": 41, "user_id": 6201481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4a93576e639500adf3bb7414804ce42?s=128&d=identicon&r=PG&f=1", "display_name": "user6201481", "link": "https://stackoverflow.com/users/6201481/user6201481"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1462093836, "creation_date": 1462070672, "last_edit_date": 1462093836, "question_id": 36962500, "link": "https://stackoverflow.com/questions/36962500/unable-to-get-expected-output-for-2nd-top-test", "title": "Unable to get expected output for 2nd top test", "body": "<p>I would like my script to</p>\n\n<ul>\n<li>Extract each test name and convert the decimal value (from the <code>mrslt</code> line after the test name) from ITUFF</li>\n<li>Use the test name from ITUFF to find a matching a record in the MAP file and extract the ID and pin values</li>\n<li>Extract the modify token \"AFC\" from TPLFILE</li>\n<li>Use the ID to open the relevant IN file</li>\n<li>Open each IN file to extract output labels (\"TDO_STROBE\" ... \"TDO_STROBE_9\"). </li>\n<li>Open each IN file again, replace all occurrences of \"CTV\" string with spaces. Put the modified file into a different directory leaving the original intact</li>\n<li>Print modify.txt file for every MODULE</li>\n</ul>\n\n<p>For example, for MODULE_A, TEST_ABC is 2 bits and TDO_STROBE &amp; TDO_STROBE_0 need to be assigned to them. TEST_BCD is 9 bits and TDO_STROBE_1 to TDO_STROBE_9 need to be assigned.</p>\n\n<p>I managed to get the correct binary bit assigned to TDO_STROBE label for MODULE_A but the ID in $pat1[0] is wrong and also the subsequent bit assigned to TDO STROBE label for MODULE_B is messed up.</p>\n\n<h2>Input files</h2>\n\n<h3>ITUFF</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>2_tname_chuid\n2_mrslt_3\n0_tname_CKK_MODULE_A::TEST_ABC\n0_mrslt_1\n0_tname_CKK_MODULE_A::TEST_BCD\n0_mrslt_451\n0_tname_CKK_MODULE_B::TEST_EFG\n0_mrslt_2\n0_tname_CKK_MODULE_B::TEST_FEI\n0_mrslt_405\n</code></pre>\n\n<h3>MAP</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Test,ID,Pin,Token\nTEST_ABC,41534,TDO,AFC\nTEST_BCD,41534,TDO,AFC\nTEST_EFG,41532,GPIO_0,AFC\nTEST_FEI,41532,GPIO_0,AFC\n</code></pre>\n\n<h3>TPLFILE</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Test PatModTest\n{\n    input_file = \"~PATMO_PATH\\\\modify.txt\";\n    modify_token = \"AFC\";\n}\n</code></pre>\n\n<p><em>There are two IN files with different IDs in their filenames</em></p>\n\n<h3>IN</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>#\nTDO_STROBE:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_0:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_1:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_2:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_3:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_4:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_5:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_6:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_7:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_8:\nNOP          \nNOP          \nNOP          \nNOP       CTV\nTDO_STROBE_9:\n</code></pre>\n\n<h2>My Perl code</h2>\n\n<pre><code>$ituf = &lt;\"*ituff*.txt\"&gt;;\nopen( ITUFF, \"&lt;$ituf\" ) || die \"can't open the file\";\nwhile (&lt;ITUFF&gt;) {\n\n    if ( $_ =~ /tname_CCK/ ) {\n\n        @tname  = split /::/, $_;\n        @tnameC = split /\\n/, $tname[1];\n\n        open( MAP, \"&lt;test_tupple.csv\" ) || die \"can't open the file\";\n        while (&lt;MAP&gt;) {\n            @line = ( split ',', $_ );\n            if ( $_ =~ /$tnameC[0]/ ) {\n                push @test, $line[0];\n            }\n        }\n    }\n}\nclose ITUFF;\nclose MAP;\n\n\nopen( MAP, \"&lt;test_tupple.csv\" ) || die \"can't open the file\";\nwhile (&lt;MAP&gt;) {\n\n    next if /^Test/;\n    chomp;\n\n    my @line = ( split ',', $_ );\n\n    foreach $tn (@test) {\n\n        if ( $line[0] eq $tn ) {\n            $search = \"found\";\n            push @test_map, $line[0];\n            push @ID,       $line[1];\n            push @pin,      $line[2];\n        }\n        else {\n            $search = \"not found\";\n        }\n    }\n}\nclose MAP;\n\n\n$tpl = &lt;\"*CCK*.tpl\"&gt;;\nopen( TPLFILE, \"&lt;$tpl\" ) || die \"can't open the file\";\nwhile (&lt;TPLFILE&gt;) {\n    if ( $_ =~ /modify_token/ ) {\n        @tpl_line0 = split /=/, $_;\n        @tpl_line1 = split /;/, $tpl_line0[1];\n        @tpl_line2 = split /\"/, $tpl_line1[0];\n    }\n}\nclose TPLFILE;\n\n\n$input = &lt;\"*@ID[$#ID]*.pat.data\"&gt;;\n@pat   = split /ALL.pat.data/, $input;\n@pat1  = split /_/, $pat[0];\n@tid   = split /C/, $pat1[0];\n\n\nopen( IN, \"&lt;$input\" ) || die \"can't open the file\";\nmy $keyword = \"CTV\";\nmy $regex   = qr|\\b($keyword)\\b|;\nwhile (&lt;IN&gt;) {\n\n    next if /^#/;\n    chomp;\n\n    if ( $_ =~ /STROBE/ ) {\n        @label = split /:/, $_;\n        push @labelList, $label[0];\n    }\n    while (/$regex/g) {\n        push @vectorLine, $.;\n        $j = join ' ', @vectorLine;\n        @vector = split /\\s/, $j;\n    }\n}\nclose IN;\n\n\n$d = $vector[1] - $vector[0] - 1;\n\n\nmy $replacestring = \"CTV\";\nopen( IN, \"&lt;$input\" ) || die \"can't open the file\";\nopen( my $outfile, \"&gt;\", \"C:/Users/klee/Documents/perl/pat_heck/$pat[0]All.pat.data\" ) || die \"can't open the file\";\nwhile (&lt;IN&gt;) {\n    $_ =~ s/$replacestring/   /g;\n    print $outfile $_;\n}\nclose IN;\n\n\nopen( ITUFF, \"&lt;$ituf\" ) || die \"can't open the file\";\nwhile (&lt;ITUFF&gt;) {\n    foreach $tn (@test) {\n        if ( $_ =~ /$tn/ ) {\n            my $nextLine = &lt;ITUFF&gt;;\n            @dec_res = split /_/, $nextLine;\n            $bin_res = sprintf( \"%02b\", $dec_res[2] );\n            push @bv, split //, $bin_res;\n            $bitNum = ( $bin_res =~ tr/[0-1]// );\n            push @totalBit, $bitNum;\n        }\n    }\n}\nclose ITUFF;\n\n\nforeach $b (@bv) {\n    if ( $b == 0 ) {\n        $tmap = \"L\";\n    }\n    else {\n        $tmap = \"H\";\n    }\n    push @HL, $tmap;\n}\n\nfor ( $t = 0; $t &lt;= $#test; $t++ ) {\n    push @test_iteration, $t;\n}\n\n\nopen( OUT, \"&gt;modify.txt\" ) || die \"can't open the file\";\nforeach $ite (@test_iteration) {\n    for (\n        $i = $ite * $totalBit[ $ite - 1 ];\n        $i &lt; $totalBit[$ite] + $ite * $totalBit[ $ite - 1 ];\n        $i++ )\n    {\n        print OUT \"+ $tpl_line2[1] MAIN PAT $pat1[0]_$pat1[1]_$pat1[2]_$pat1[3]_$pat1[4]_*_$pat1[6]_$pat1[7]_$pat1[8]_$pat1[9]_$pat1[10]_$pat1[11]_$pat1[12] $labelList[$i] +$d DATA $pin[$ite] $HL[$i]\\n\";\n    }\n}\nclose OUT;\n\n\n#checking use\nfor ( $i = 0; $i &lt; $totalBit[0]; $i++ ) {\n\n    #print \"$test[$i] $labelList[$i]\\n\";\n}\n\nfor ( $i = $totalBit[0]; $i &lt;= $totalBit[1]; $i++ ) {\n\n    #print \"subsequent $labelList[$i]\\n\";\n}\n</code></pre>\n\n<h3>Expected output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE +4 DATA TDO L\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_0 +4 DATA TDO H\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_1 +4 DATA TDO H\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_2 +4 DATA TDO H\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_3 +4 DATA TDO H\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_4 +4 DATA TDO L\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_5 +4 DATA TDO L\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_6 +4 DATA TDO L\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_7 +4 DATA TDO L\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_8 +4 DATA TDO H\n+ AFC MAIN PAT g0041534_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_9 +4 DATA TDO H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_0 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_1 +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_2 +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_3 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_4 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_5 +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_6 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_7 +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_8 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_9 +4 DATA GPIO_0 H\n</code></pre>\n\n<h3>Actual output:</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE +4 DATA TDO L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_0 +4 DATA TDO H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_1 +4 DATA TDO H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_2 +4 DATA TDO H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_3 +4 DATA TDO H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_4 +4 DATA TDO L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_5 +4 DATA TDO L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_6 +4 DATA TDO L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_7 +4 DATA TDO L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_8 +4 DATA TDO H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_9 +4 DATA TDO H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count  +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count  +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_5 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_6 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_7 +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_8 +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count TDO_STROBE_9 +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count  +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count  +4 DATA GPIO_0 L\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count  +4 DATA GPIO_0 H\n+ AFC MAIN PAT g0041532_B_n1604_CB0609a_dack_*_B_F_dfx_f_pp_h_count  +4 DATA GPIO_0 H\n</code></pre>\n"}, {"tags": ["perl", "csv", "datetime", "utc"], "comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1462057130, "post_id": 36960904, "comment_id": 61479400, "body": "The <code>3:25</code> worries me. Do you suddenly sprout <code>PM</code> strings in the afternoon, or is it 24hr clock?"}, {"owner": {"reputation": 124, "user_id": 3667122, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f5ae03f95898ea7829968fd4e6f8fe1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3667122", "link": "https://stackoverflow.com/users/3667122/user3667122"}, "reply_to_user": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1462058064, "post_id": 36960904, "comment_id": 61479584, "body": "It&#39;s a 24 hour clock."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462204496, "post_id": 36966031, "comment_id": 61527643, "body": "There isn&#39;t much in that answer that&#39;s directly relevant to the question! You will also need to use <code>timegm</code> instead of <code>timelocal</code> as the OP wants UTC time"}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462205281, "post_id": 36966031, "comment_id": 61528114, "body": "@Borodin Thank you for sharing your experience. What is the proper name for the <i>&quot;computed replacement&quot;</i> please?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462206123, "post_id": 36966031, "comment_id": 61528545, "body": "I don&#39;t know of a popular name for it. I call it an <i>executable substitution</i> or something similar. If the replacement string is executable code I generally use braces as delimiters to emphasize the fact, like <code>s{(.*)}{ &#39;-&#39; x length $1 }e</code> but there is also the <code>&#47;ee</code> modifier, which means the replacement string is first executed, and then the return value from that is compiled and executed at run time as a tiny Perl program. It would be nice to have proper labels for these notions but I&#39;m afraid they don&#39;t exist"}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 3, "last_activity_date": 1462208266, "last_edit_date": 1462208266, "creation_date": 1462101449, "answer_id": 36966031, "question_id": 36960904, "link": "https://stackoverflow.com/questions/36960904/convert-gmt-datetime-string-to-utc-epoch-in-1000s-of-large-csv-files/36966031#36966031", "title": "Convert GMT datetime string to utc epoch in 1000s of large csv files", "body": "<p><strong>Updated Answer</strong></p>\n\n<p>With thanks to @Borodin's insights, my best solution would now be like this:</p>\n\n<pre><code>perl -MTime::Local -plne '\n   s|(\\d+)\\/(\\d+)\\/(\\d+) (\\d+):(\\d+)|timegm(0,$5,$4,$2,$1-1,$3)|ge ;\n   s|(\\d+)\\/(\\d+)\\/(\\d+)|timegm(0,0,0,$2,$1-1,$3)|ge' file.csv\n</code></pre>\n\n<p>And if that can be debugged and found to work, I would incorporate it into <strong>GNU Parallel</strong> like this:</p>\n\n<pre><code>function doit(){\n    tmp=temp_$$\n    perl -MTime::Local -plne '\n       s|(\\d+)\\/(\\d+)\\/(\\d+) (\\d+):(\\d+)|timegm(0,$5,$4,$2,$1-1,$3)|ge;\n       s|(\\d+)\\/(\\d+)\\/(\\d+)|timegm(0,0,0,$2,$1-1,$3)|ge' \"$1\" &gt;&gt; $tmp &amp;&amp; mv $tmp \"$1\"\n}\nexport -f doit\n\nfind . -name \\*.csv -print0 | parallel -0 doit {}\n</code></pre>\n\n<p><strong>Original Answer</strong></p>\n\n<p>I'm afraid I am going to give you a very powerful fishing rod (more of a harpoon) rather than a ready-cooked fish supper, but I think you'll be able to work it out quite easily.</p>\n\n<p>First, if you use the <code>Time::Local</code> module in Perl, you can pass it the seconds, minutes, hours, days, months and year and it will tell you the corresponding Epoch seconds:</p>\n\n<pre><code># So, for midnight on 02:10:01 AM 1st May 2016, you can do\nperl -MTime::Local -e 'print timelocal(1,10,2,1,5,2016)'\n1464743401\n</code></pre>\n\n<p>Second, if you start Perl with <code>-plne</code> switches, it will effectively apply the code you supply to each and every line of the input file and print the result and sort out all line endings for you - somewhat akin to how <code>awk</code> loops over input files. So, if your file is called <code>file.csv</code> and looks like this:</p>\n\n<pre><code>2/20/2016 3:25,3,,87,340.3456,5/18/2013,5/19/2014,4,6\n2/21/2013 3:25,3,,87,340.3456,4/20/2013,6/20/2015,4,6\n</code></pre>\n\n<p>and you run a null program, it will just echo the input file:</p>\n\n<pre><code>perl -MTime::Local -plne '' file.csv\n2/20/2016 3:25,3,,87,340.3456,5/18/2013,5/19/2014,4,6\n2/21/2013 3:25,3,,87,340.3456,4/20/2013,6/20/2015,4,6\n</code></pre>\n\n<p>If we now do a substitution and replace all commas with elephants:</p>\n\n<pre><code>perl -MTime::Local -plne 's/,/elephant/g' file.csv\n2/20/2016 3:25elephant3elephantelephant87elephant340.3456elephant5/18/2013elephant5/1      9/2014elephant4elephant6\n2/21/2013 3:25elephant3elephantelephant87elephant340.3456elephant4/20/2013elephant6/20/2015elephant4elephant6\n</code></pre>\n\n<p>That seems to work - now you can also do what I call a <em>\"computed replacement\"</em> - I don't know what real Perl-folk call it. Anyway, you use an <code>e</code> modifier flag after the replacement to execute that code and calculate the replacement text:</p>\n\n<pre><code>perl -MTime::Local -plne 's|(\\d+)\\/(\\d+)\\/(\\d+)|timelocal(0,0,0,$2,$1,$3)|ge' file.csv\n1458432000 3:25,3,,87,340.3456,1371510000,1403132400,4,6\n1363824000 3:25,3,,87,340.3456,1369004400,1437346800,4,6\n</code></pre>\n\n<p>And - in case you missed it - that is the answer. The <code>(\\d+)</code> is a regex for \"one or more digits\" and the fact it is in parentheses means it is captured. The first such group is captured as <code>$1</code>, the second as <code>$2</code> and so on. So, I am basically looking for one or more digits that I save as <code>$1</code>, followed by a slash then 1 or more digits that I capture as $2 followed by a slash and 1 or more digits that I capture as $3. Then, in the replacement part, I use the captured groups to formulate a date. The <code>g</code> modifier means I do ALL occurrences on each line.</p>\n\n<p>I'll leave you to add further capture groups for the 24-hour time and put that into the <code>timelocal()</code> call.</p>\n\n<p>The capture groups I have given are a little loose too - you may want </p>\n\n<pre><code>\\d{1,2}\\/\\d{1,2}\\/\\d{4}\n</code></pre>\n\n<p>or something to mean 1 or 2 digits for the day, 1 or 2 digits for the month and exactly 4 digits for the year. You can look that up!</p>\n\n<p>When you get that working, if you have thousands of files, I would suggest you use <strong>GNU Parallel</strong> to do the files in parallel. Try looking at my other answers on here, or Ole Tange's as he wrote it, and you will see something like:</p>\n\n<pre><code>function doit(){\n    perl -plne '...' $1 ...\n}\nexport -f doit\n\nfind . -name \\*.csv -print0 | parallel -0 doit {}\n</code></pre>\n\n<p>As regards doing it in place, I think you will need to use a technique like this inside the <code>doit()</code> function. Basically it writes a new file and then, only if the <code>Perl</code> part worked (<code>&amp;&amp;</code> does that bit), it overwrites the original file with the temporary one:</p>\n\n<pre><code>tmp=$(mktemp ...)\nperl -plne '...' \"$1\" &gt; $tmp &amp;&amp; mv $tmp \"$1\"\n</code></pre>\n\n<p>I suggest you make a backup before you do anything else - there is a lot to go wrong here. Good luck!</p>\n\n<p>P.S. If you edit the tags under your question and add <code>perl</code>, I guess some Perl guru will help you out and maybe put the finishing touches on my suggestions and enlighten me/us as to what the real name is for the <code>e</code> modifier that does a <em>\"computed replacement\"</em>.</p>\n"}, {"comments": [{"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1462205174, "post_id": 36986503, "comment_id": 61528058, "body": "Nice - very elegant!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467569056, "last_edit_date": 1495541769, "creation_date": 1462204125, "answer_id": 36986503, "question_id": 36960904, "link": "https://stackoverflow.com/questions/36960904/convert-gmt-datetime-string-to-utc-epoch-in-1000s-of-large-csv-files/36986503#36986503", "title": "Convert GMT datetime string to utc epoch in 1000s of large csv files", "body": "<h3>Update</h3>\n\n<p>As <a href=\"https://stackoverflow.com/a/36966031/622310\"><em>hinted by</em> Mark Setchell</a> the <code>timegm</code> function from <a href=\"https://metacpan.org/pod/Time::Local\" rel=\"nofollow noreferrer\"><code>Time::Local</code></a> is likely to be faster than the string parsing that <code>Time::Piece</code> provides</p>\n\n<p>Here's a rewrite of my original solution which uses that module. The output is identical to that of the original</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Time::Local 'timegm';\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n\n    my @fields = split /,/;\n\n    for ( @fields ) {\n        next unless m{/};\n\n        my ($mn, $dy, $yr, $h, $m, $s) = (/\\d+/g, 0, 0, 0);\n\n        $_ = timegm($s, $m, $h, $dy, $mn-1, $yr);\n    }\n\n    print join(',', @fields), \"\\n\";\n}\n\n__DATA__\n2/20/2016 3:25,3,,87,340.3456,5/18/2013,5/19/2014,4,6\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1455938700,3,,87,340.3456,1368835200,1400457600,4,6\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Original post</h3>\n\n<p>The <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\"><code>Time::Piece</code></a> module is small and quite fast. Here's a sample program that transforms your sample data</p>\n\n<p>The algorithm is a simple one. Any field that doesn't contain a slash <code>/</code> is left alone, otherwise it is assumed to be a date/time field if there is also a colon <code>:</code> or just a date field if not</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Time::Piece ();\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n\n    my @fields = split /,/;\n\n    for ( @fields ) {\n        next unless m{/};\n\n        my $fmt = /:/ ? '%m/%d/%Y %H:%M' : '%m/%d/%Y';\n        $_ = Time::Piece-&gt;strptime($_, $fmt)-&gt;epoch;\n    }\n\n    print join(',', @fields), \"\\n\";\n}\n\n__DATA__\n2/20/2016 3:25,3,,87,340.3456,5/18/2013,5/19/2014,4,6\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1455938700,3,,87,340.3456,1368835200,1400457600,4,6\n</code></pre>\n\n<p>The first field <code>1455938700</code> differs from your own expect output <code>1455938740</code> by forty seconds. That's odd, as there is no seconds value in the original data and 1455938700 is exactly divisible by 60 whereas 1455938740 is not. So I stand by my computation</p>\n"}], "owner": {"reputation": 124, "user_id": 3667122, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f5ae03f95898ea7829968fd4e6f8fe1c?s=128&d=identicon&r=PG&f=1", "display_name": "user3667122", "link": "https://stackoverflow.com/users/3667122/user3667122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 36966031, "answer_count": 2, "score": 1, "last_activity_date": 1467569056, "creation_date": 1462054933, "last_edit_date": 1462201941, "question_id": 36960904, "link": "https://stackoverflow.com/questions/36960904/convert-gmt-datetime-string-to-utc-epoch-in-1000s-of-large-csv-files", "title": "Convert GMT datetime string to utc epoch in 1000s of large csv files", "body": "<p>I have 1000s of csv files that consist of millions of rows that have integers, floats, nullable integers, and 2 types of GMT datetime string formats. Below is an example of such a row in one of the files:</p>\n\n<p><code>2/20/2016 3:25,3,,87,340.3456,5/18/2013,5/19/2014,4,6</code></p>\n\n<p>I'm interested in the quickest way to convert (in place) both types of GMT datetime formatted strings into UTC epochs.</p>\n\n<p>For example, the above row would be converted into:</p>\n\n<p><code>1455938740,3,,87,340.3456,1368835200,1400457600,4,6</code></p>\n\n<p>Suppose the files are isolated, so all can be gathered by <code>*.csv</code></p>\n\n<p>Is there a way I could do this with linux commands? If not, what would you suggest then?</p>\n"}, {"tags": ["perl", "unix", "pipe", "signals"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462047322, "post_id": 36959703, "comment_id": 61477005, "body": "So the second script is <code>POC2</code>? How do you send the signal, exactly? How do you know that it&#39;s while the first script is closing the pipe?"}, {"owner": {"reputation": 113, "user_id": 3748798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fca86407e86545ce4a8cde8c30230df?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/3748798/void"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462047538, "post_id": 36959703, "comment_id": 61477071, "body": "I send it by Ctrl + C on terminal. The close call blocks until the second process terminates so there&#39;s a 10 second window for me to send Ctrl+C at the right time. Yes, POC2 is the second script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462047994, "post_id": 36959703, "comment_id": 61477215, "body": "I think you&#39;ll find that Ctrl-C sends the signal to the most recently active process. You can be more selective by getting the first process to report its PID with <code>print &quot;$$\\n&quot;</code> and then <code>kill -s INT 1234</code> on the command line, replacing <code>1234</code> with the actual PID"}, {"owner": {"reputation": 113, "user_id": 3748798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fca86407e86545ce4a8cde8c30230df?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/3748798/void"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462048316, "post_id": 36959703, "comment_id": 61477311, "body": "Yes, thank you, that makes sense. I edited the question. But still - why does the first process ignore the signal? In reality I have a much bigger script and I want it to respond to Ctrl+C properly. But it just sends SIGINT to the other process, which doesn&#39;t handle it properly and then the first process just hangs..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462049488, "post_id": 36959703, "comment_id": 61477651, "body": "The first process isn&#39;t ignoring the signal. Ctrl-C sends the signal to the current foreground process, which is the second one. You could do something fancy like write the signal handler of the second process so that it sends a signal to its parent. But you shouldn&#39;t really be writing code that uses Ctrl-C as an official means of interaction"}, {"owner": {"reputation": 113, "user_id": 3748798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fca86407e86545ce4a8cde8c30230df?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/3748798/void"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1462049840, "post_id": 36959703, "comment_id": 61477745, "body": "This isn&#39;t about Ctrl-C. The problem is that when I kill the parent process using SIGINT from another terminal, nothing happens. Shouldn&#39;t the parent process wake up and fire the signal handler when it gets SIGINT?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1462052197, "post_id": 36959703, "comment_id": 61478293, "body": "See also: <a href=\"http://stackoverflow.com/questions/34795478/propagation-of-signal-to-parent-when-using-system\">Propagation of signal to parent when using system</a>"}, {"owner": {"reputation": 113, "user_id": 3748798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fca86407e86545ce4a8cde8c30230df?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/3748798/void"}, "edited": false, "score": 0, "creation_date": 1462052867, "post_id": 36959703, "comment_id": 61478470, "body": "Thank you. Now I understand why <i>signal_handler_two</i> got fired. Any ideas on why <i>signal_handler_one</i> never executes? Even if I send SIGINT directly to the parent process using kill?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1462099389, "post_id": 36959703, "comment_id": 61487109, "body": "I do get your behavior, on CentOS 7  with v5.16.  I have a rough idea of what is causing it but cannot look into it now.  Since this is interesting to me I will try to put it together, and then post if it is still of interest."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 3748798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fca86407e86545ce4a8cde8c30230df?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/3748798/void"}, "edited": false, "score": 0, "creation_date": 1462096080, "post_id": 36960988, "comment_id": 61486311, "body": "I guess there is something wrong with my environment then. If I execute your code it doesn&#39;t print &quot;Parent caught SIGINT.&quot;."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 113, "user_id": 3748798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fca86407e86545ce4a8cde8c30230df?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/3748798/void"}, "edited": false, "score": 0, "creation_date": 1462212587, "post_id": 36960988, "comment_id": 61532005, "body": "@Void, no, your environment is correct.  You don&#39;t see the &quot;Parent&quot; line because you send your SIGINT during the <code>close</code> <a href=\"http://stackoverflow.com/a/4719492/132382\">which ignores SIGINT</a>.  This answer is doing something different \u2014 sending the SIGINT too early or too late, e.g."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1462215404, "post_id": 36960988, "comment_id": 61533451, "body": "@pilcrow I was sure I was sending the signal during <code>close</code>. You can see on the output that it says <code>Closing..</code> and then it waits for the program to exit. This must happen inside <code>close</code> since the print statement after the <code>close</code> is not shown.. After 5 seconds, the <code>close</code> will return if I do not hit <code>CTRL-C</code>.. This is how I interpret the output. I am curious why you mean it does not send <code>SIGINT</code> during <code>close</code>?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1462215783, "post_id": 36960988, "comment_id": 61533632, "body": "@H&#229;konH&#230;gland, neither the OP nor I can reproduce the behavior you claim, even if the <i>sleep</i> is made much greater.  Your output is consistent with sending the SIGINT right before <i>close</i> is called.  Also, the linked answer describes what <i>strace</i> (e.g.) will confirm:  perl ignores SIGINT during a close on a piped filehandle.  (Finally, your code as posted cannot be the complete, accurate code you&#39;re running.  The missing shebang line in <i>script.pl</i> means that the piped open will fail when <i>script</i> is fed through <i>/bin/sh</i>)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1462216611, "post_id": 36960988, "comment_id": 61534052, "body": "@pilcrow See my updated answer. I have now included the shebang.. and some more print statements from the child.. As far as I can see from the output, the SIGINT must be sent during the close. You can see it is printing <code>1</code>, <code>2</code>, and then I press <code>CTRL-C</code>"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1462217447, "post_id": 36960988, "comment_id": 61534540, "body": "@H&#229;konH&#230;gland, hmm.  I think you have a new, standalone question here:   why does this code behave one way for me but differently for everyone else?  Maybe a devel version of perl?  Maybe a perlio bug?  Don&#39;t know."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1462220484, "post_id": 36960988, "comment_id": 61536195, "body": "@pilcrow I sent a bug report: <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=128056\" rel=\"nofollow noreferrer\">Sending SIGINT signal to script while inside close()</a>"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 3, "last_activity_date": 1462216400, "last_edit_date": 1462216400, "creation_date": 1462055699, "answer_id": 36960988, "question_id": 36959703, "link": "https://stackoverflow.com/questions/36959703/sending-a-signal-to-a-perl-script-while-it-is-closing-a-filehandle/36960988#36960988", "title": "Sending a signal to a perl script while it is closing a filehandle", "body": "<p>I cannot reproduce the behavior that you are observing. When I press <code>CTRL-C</code> in the terminal, both the child and the parent immediately receives <code>SIGINT</code>: </p>\n\n<pre><code>use diagnostics;\nuse feature qw(say);\nuse strict;\nuse warnings;\n\n$SIG{INT} = sub {  say \"This is expected to print\"; die };\nmy $pid = open ( my $pipe, \"|-\", \"script.pl\" );\nsay \"PID = $pid\";\neval {\n    say \"Closing..\";\n    my $close_ok = close $pipe; # Note \"close\" here waits for child to exit\n    if ( ! $close_ok ) {\n        say \"Error closing: $!\";\n    }\n    else {\n        say \"Close done.\";\n    }\n};\nif ( $@ ) {\n    say \"Parent caught SIGINT.\";\n}\n</code></pre>\n\n<p>where <code>script.pl</code> is:</p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\n$SIG{INT} = sub { die };\neval {\n    say \"Sleeping..\";\n    for (1..5) {\n        sleep 1;\n        say $_;\n    }\n};\nif ( $@ ) {\n    say \"Child caught SIGINT.\";\n    exit;\n}\n</code></pre>\n\n<p>the output of running the first program in the terminal (<code>gnome-terminal</code> on Ubuntu 16.04) is:</p>\n\n<pre><code>PID = 1746\nClosing..\nSleeping..\n1\n2\n^CThis is expected to print\nChild caught SIGINT.\nParent caught SIGINT.\nUncaught exception from user code:\n    refcnt: fd -1 &lt; 0\n</code></pre>\n\n<p>Note that there is an uncaught exception <code>refcnt: fd -1 &lt; 0</code>. I have no idea what that is. Maybe because <code>close</code> did not succeed?</p>\n"}], "owner": {"reputation": 113, "user_id": 3748798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fca86407e86545ce4a8cde8c30230df?s=128&d=identicon&r=PG&f=1", "display_name": "Void", "link": "https://stackoverflow.com/users/3748798/void"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 1, "closed_date": 1462213446, "answer_count": 1, "score": 7, "last_activity_date": 1462216400, "creation_date": 1462046978, "last_edit_date": 1462096505, "question_id": 36959703, "link": "https://stackoverflow.com/questions/36959703/sending-a-signal-to-a-perl-script-while-it-is-closing-a-filehandle", "closed_reason": "Duplicate", "title": "Sending a signal to a perl script while it is closing a filehandle", "body": "<p>I have the following problem, that I have reconstructed in those two mini perl scripts.\nThis is the main script:</p>\n\n<pre><code>#!/usr/bin/perl\n$SIG{INT} = \\&amp;signal_handler_one;\nopen(my $pipe, \"|-\", \"/home/pa/Desktop/POC2\");\nclose $pipe;\nsub signal_handler_one{\n    print \"This is expected to print\\n\";\n}\n</code></pre>\n\n<p>On the third line it opens a pipe to this script:</p>\n\n<pre><code>#!/usr/bin/perl\n$SIG{INT} = \\&amp;signal_handler_two;\nsleep(10);\nsub signal_handler_two{\n    print \"This isn't expected to print\\n\";\n}\n</code></pre>\n\n<p>The problem is that when I start the first script and then send SIGINT to it while it is closing the pipe on line 4, the signal_handler_two is fired instead of signal_handler_one. Why does it behave like this? Is there any way around this (my goal is to get signal_handler_one to execute).</p>\n\n<p><strong>Edit</strong>:\nI originally sent the signal on the terminal using Ctrl+C, which causes \"This isn't expected to print\" to print. But when I send the signal using kill to the parent process from another terminal, it just ignores it.</p>\n\n<p><strong>Edit 2</strong>:\nI eventually solved it by not using <em>open</em> to get the pipe, but by manually <em>forking</em>, <em>execing</em> and then <em>waiting</em> on the child instead of just calling <em>close</em>. Now everything seems to work fine. It seems that that behaviour was specific to my environment, but if anyone could reproduce that same error, please let me know.</p>\n"}, {"tags": ["linux", "perl", "logging", "fedora"], "comments": [{"owner": {"reputation": 5054, "user_id": 548515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55624bebc921a03713d00a91c9e58a36?s=128&d=identicon&r=PG", "display_name": "Hans Lub", "link": "https://stackoverflow.com/users/548515/hans-lub"}, "edited": false, "score": 2, "creation_date": 1462045769, "post_id": 36959178, "comment_id": 61476512, "body": "Your code works perfectly when I use .e.g. <code>tail -f messages</code> instead of <code>journalctl</code> (which I don&#39;t have). Did you try <code>journalctl --follow --no-pager</code>?"}, {"owner": {"reputation": 5054, "user_id": 548515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55624bebc921a03713d00a91c9e58a36?s=128&d=identicon&r=PG", "display_name": "Hans Lub", "link": "https://stackoverflow.com/users/548515/hans-lub"}, "edited": false, "score": 0, "creation_date": 1462047020, "post_id": 36959178, "comment_id": 61476915, "body": "The <code>--no-pager</code> is a red herring, as any sensible Unix program will only call a pager when its <code>stdout</code> is a <code>tty</code>. I tried your program on my Jolla telephone (which has <code>journalctl</code>) and it works as expected. Whatever is wrong is not in your code!"}, {"owner": {"reputation": 43, "user_id": 6275988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f7a7e31eb10fd5c01eac5f1f6669d1a?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas ryolas", "link": "https://stackoverflow.com/users/6275988/thomas-ryolas"}, "reply_to_user": {"reputation": 5054, "user_id": 548515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55624bebc921a03713d00a91c9e58a36?s=128&d=identicon&r=PG", "display_name": "Hans Lub", "link": "https://stackoverflow.com/users/548515/hans-lub"}, "edited": false, "score": 0, "creation_date": 1462048327, "post_id": 36959178, "comment_id": 61477314, "body": "@HansLub That works perfectly, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462097904, "post_id": 36959528, "comment_id": 61486760, "body": "Why is this upvoted? I barely know perl, but this looks extremely wrong to me. At least perl as provided in fedora (5.22.1-351.fc23.x86_64) will not reap zombies and signalling a zombie with 0 works just fine, so this is an infinite loop. If it was reaping zombies, it would race against something possibly reusing the pid. Maybe perl&#39;s pipe handling is odd, but 1. SEEK_CUR should not work 2. there should be no data left and no possibility of new data once the read loop is done. If the other end is still open, the procss would block in the kernel. So that &#39;sleep 1&#39; is useless."}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "reply_to_user": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462098468, "post_id": 36959528, "comment_id": 61486897, "body": "Please RTFM for the commands, all of them are linked from the answer. Sure, <code>kill 0</code> is not fail-proof, but sufficient for most cases. As the manual states, Perl&#39;s <code>&lt;$fh&gt;</code> reads until EOF and returns undef/empty list afterwards. The <code>seek SEEK_CUR</code> resets the EOF marker. The process would go to 100% CPU (EOF -&gt; seek -&gt; EOF -&gt; seek) if no new data arrives. It&#39;s one way of solving the question, but Perl is TIMTOWTDY: Using AnyEvent or <code>select</code> would be more professional, but also more complex."}, {"owner": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462100112, "post_id": 36959528, "comment_id": 61487282, "body": "But if the zombie is not reaped (and in my case it is not), the loop is infinite. Do you have a version which reaps on its own? Given your edit adding waitpid I&#39;m additionally confused about your reply. For reading, so-called EOF is detected with read syscall returning 0. This is not going to happen even if the pipe is empty as long as someone has the other end open. Maybe perl has a bug related to this (does it?) and spuriously sets EOF on its handles, but I see no evidence for this claim. tl;dr the outer while loop looks unnecessary and wrong. can you show a case where it is needed?"}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "reply_to_user": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462100423, "post_id": 36959528, "comment_id": 61487396, "body": "See the comment above and the comments in the answer. Perl has it&#39;s own buffering for I/O and it&#39;s no bug if something behaves as expected and documented. Perl is <i>not</i> a pure wrapper for kernel syscalls (actually <code>sysopen</code>, <code>sysread</code>, <code>syswrite</code> and <code>sysseek</code> exist as pure wrapper functions with all problems of these syscalls)."}, {"owner": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462101623, "post_id": 36959528, "comment_id": 61487735, "body": "So where it is documented fh can get EOF with a pipe while it is still possible there will be data to read? Meanwhile I checked <a href=\"http://perldoc.perl.org/perlipc.html#Safe-Pipe-Opens\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlipc.html#Safe-Pipe-Opens</a> and there is an example reading stuff from a pipe and there is no mention about the need to clear eof or re-read stuff. Looking at seek manual it seems you just cargo-culted a snippet intended for use with regular files and applied it to a pipe."}, {"owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "reply_to_user": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462104325, "post_id": 36959528, "comment_id": 61488494, "body": "<a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/seek.html</a> says <i>A WHENCE of 1 (SEEK_CUR ) is useful for not moving the file position. [...] This is also useful for applications emulating tail -f . Once you hit EOF on your read and then sleep for a while, you (probably) have to stick in a dummy seek() to reset things. The seek doesn&#39;t change the position, but it does clear the end-of-file condition on the handle, so that the next &lt;FILE&gt; makes Perl try again to read something.</i>"}, {"owner": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462104825, "post_id": 36959528, "comment_id": 61488629, "body": "Again, where it is documented fh can get EOF with a pipe while it is still possible there will be data to read? The thing you quoted sounds like it only applies to regular files. The sleep in the code sample also strongly hints this - it is there to give something else a chance to add input. Reading from an empty pipe blocks in the kernel, so sleeping does not add anything. Strictly speaking it is possible perl sets EOF when it should not, but that&#39;s extremely unlikely and would be very odd. In fact it&#39;s quite unclear what criteria could be used to incorrectly set it."}, {"owner": {"reputation": 3598, "user_id": 4822941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06bJl.jpg?s=128&g=1", "display_name": "employee of the month", "link": "https://stackoverflow.com/users/4822941/employee-of-the-month"}, "edited": false, "score": 0, "creation_date": 1462105672, "post_id": 36959528, "comment_id": 61488870, "body": "I put a breakpoint on read stub in glibc and in backtrace I see it is called from PerlIOBuf_fill. The only code setting EOF is either when fd is incorrect (closed?) or when read returns 0. read on a pipe is not going to return 0 if the other end is open. It may be i missed something here, but given how weird such EOF would be in the first place, I&#39;m confident the outher loop in your code serves no purpose. <a href=\"http://perl5.git.perl.org/perl.git/blob/HEAD:/perlio.c\" rel=\"nofollow noreferrer\">perl5.git.perl.org/perl.git/blob/HEAD:/perlio.c</a>"}, {"owner": {"reputation": 569, "user_id": 4487569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f29615ecd64692d300384cab1e3b11?s=128&d=identicon&r=PG&f=1", "display_name": "pdw", "link": "https://stackoverflow.com/users/4487569/pdw"}, "edited": false, "score": 0, "creation_date": 1602526696, "post_id": 36959528, "comment_id": 113743021, "body": "This code doesn&#39;t work.  The first problem is opens a pipe for writing to (<code>|-</code>) not reading from (<code>-|</code>).  If you fix that, you&#39;ll discover that, as noted above, <code>&lt;$fh&gt;</code> blocks when there&#39;s no further output rather than returning EOF, so the outer loop is redundant.  If you want to check if there&#39;s any data to read without blocking, you&#39;ll need to switch to <code>sysread</code>."}], "tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": true, "score": 2, "last_activity_date": 1462099332, "last_edit_date": 1462099332, "creation_date": 1462046040, "answer_id": 36959528, "question_id": 36959178, "link": "https://stackoverflow.com/questions/36959178/how-to-handle-updates-from-an-continuous-process-pipe-in-perl/36959528#36959528", "title": "How to handle updates from an continuous process pipe in Perl", "body": "<p>I assume that <code>journalctl</code> is working like <code>tail -f</code>. If this is correct, a simple <code>open</code> should do the job:</p>\n\n<pre><code>use Fcntl; # Import SEEK_CUR\n\nmy $pid = open my $fh, '|-', 'journalctl --follow'\n    or die \"Error $! starting journalctl\";\nwhile (kill 0, $pid) {\n    while (&lt;$fh&gt;) {\n        print $_; # Print log line\n    }\n    sleep 1; # Wait some time for new lines to appear\n    seek($fh,0,SEEK_CUR); # Reset EOF\n}\n</code></pre>\n\n<p><code>open</code> opens a filehandle for reading the output of the called command: <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/open.html</a></p>\n\n<p><code>seek</code> is used to reset the EOF marker: <a href=\"http://perldoc.perl.org/functions/seek.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/seek.html</a> Without reset, all subsequent <code>&lt;$fh&gt;</code> calls will just return EOF even if the called script issued additional output in the meantime.</p>\n\n<p><code>kill 0,$pid</code> will be true as long as the child process started by <code>open</code> is alive.</p>\n\n<p>You may replace <code>sleep 1</code> by <code>usleep</code> from <a href=\"http://search.cpan.org/perldoc?Time::HiRes\" rel=\"nofollow\"><code>Time::HiRes</code></a> or <code>select undef,undef,undef,$fractional_seconds;</code> to wait less than a second depending on the frequency of incoming lines.</p>\n\n<p><a href=\"http://search.cpan.org/perldoc?AnyEvent\" rel=\"nofollow\">AnyEvent</a> should also be able to do the job via it's <a href=\"http://search.cpan.org/perldoc?AnyEvent::Handle\" rel=\"nofollow\"><code>AnyEvent::Handle</code></a>.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Adding <code>use POSIX \":sys_wait_h\";</code> at the beginning and <code>waitpid $pid, WNOHANG)</code> to the outer loop would also detect (and reap) a zombie <code>journalctl</code> process:</p>\n\n<pre><code>while (kill(0, $pid) and waitpid($pid, WNOHANG) != $pid) {\n</code></pre>\n\n<p>A daemon might also want to check if <code>$pid</code> is still a child of the current process (<code>$$</code>) and if it's still the original <code>journalctl</code> process. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467563119, "last_edit_date": 1467563119, "creation_date": 1462046101, "answer_id": 36959541, "question_id": 36959178, "link": "https://stackoverflow.com/questions/36959178/how-to-handle-updates-from-an-continuous-process-pipe-in-perl/36959541#36959541", "title": "How to handle updates from an continuous process pipe in Perl", "body": "<p>I have no access to <code>journalctl</code>, but if you avoid <code>IO::Pipe</code> and open the piped output directly then the data will not be buffered</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nopen my $follow_fh, '-|', 'journalctl --follow' or die $!;\n\nprint while &lt;$follow_fh&gt;;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6275988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f7a7e31eb10fd5c01eac5f1f6669d1a?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas ryolas", "link": "https://stackoverflow.com/users/6275988/thomas-ryolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 1, "accepted_answer_id": 36959528, "answer_count": 2, "score": 4, "last_activity_date": 1467563119, "creation_date": 1462043986, "last_edit_date": 1462046325, "question_id": 36959178, "link": "https://stackoverflow.com/questions/36959178/how-to-handle-updates-from-an-continuous-process-pipe-in-perl", "title": "How to handle updates from an continuous process pipe in Perl", "body": "<p>I am trying to follow log files in Perl on Fedora but unfortunately, Fedora uses <code>journalctl</code> to read binary log files that I cannot parse directly. This, according to my understanding, means I can only read Fedora's log files by calling <code>journalctl</code>.</p>\n\n<p>I tried using <a href=\"https://metacpan.org/pod/IO::Pipe\" rel=\"nofollow\"><code>IO::Pipe</code></a> to do this, but the problem is that <code>$p-&gt;reader(..)</code>  waits until <code>journalctl --follow</code> is done writing output (which will be never since <code>--follow</code> is like <code>tail -F</code>) and then allows me to print everything out which is not what I want. I would like to be able to set a callback function to be called each time a new line is printed to the process pipe so that I can parse/handle each new log event.</p>\n\n<pre><code>use IO::Pipe;\n\nmy $p = IO::Pipe-&gt;new();\n$p-&gt;reader(\"journalctl --follow\"); #Waits for process to exit\n\nwhile (&lt;$p&gt;) {\n  print;\n}\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1462043731, "post_id": 36959058, "comment_id": 61475805, "body": "What name string would you want to get in this circumstance? The calling code is not in a subroutine and has no name"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1462045594, "post_id": 36959058, "comment_id": 61476458, "body": "Reading your question more carefully, it seems that you want to know how to establish within the <code>process</code> method that the name of the object variable was <code>$omega</code>. This is an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\"><i>X Y problem</i></a>, and is comparable to asking how to use data strings to name a variable. Variable identifiers are purely for the consumption of the programmer, and if you think your program needs to know them then you have a design problem. If you explain exactly what it is that you want to achieve via this mechanism then I am sure we could help you better"}], "answers": [{"tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": false, "score": 1, "last_activity_date": 1462044761, "creation_date": 1462044761, "answer_id": 36959308, "question_id": 36959058, "link": "https://stackoverflow.com/questions/36959058/how-to-get-the-name-of-invocant-as-string-in-perl/36959308#36959308", "title": "how to get the name of invocant as string in perl", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow\"><code>caller</code> function</a> returns information about the calling subroutine/sourcecode line:</p>\n\n<pre><code>sub process {\n    my $self = shift;\n\n    print join(', ',caller(0)); # Some of these values will be undef!\n}\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow\">manual page</a>  shows this example:</p>\n\n<blockquote>\n<pre><code>($package, $filename, $line, $subroutine, $hasargs,\n$wantarray, $evaltext, $is_require, $hints, $bitmask, $hinthash)\n = caller($i);\n</code></pre>\n</blockquote>\n\n<p>Increase <code>$i</code> to walk further through the stacktrace (reverse list of callers):</p>\n\n<pre><code>my $i = 0;\nwhile (my @ci = caller($i++)) {\n    print \"$i. \".$ci[1].':'.$ci[2].\"\\n\";\n}\n</code></pre>\n\n<p>Starts with <code>$i=0</code> and increases <code>$i</code> <em>after</em> passing it to the <code>caller()</code> function. Prints a stacktrace back to the line of the script starting the current process.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 6207409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6642c5e2fc0e2aebe11f044311060618?s=128&d=identicon&r=PG&f=1", "display_name": "int", "link": "https://stackoverflow.com/users/6207409/int"}, "edited": false, "score": 0, "creation_date": 1462049056, "post_id": 36959370, "comment_id": 61477534, "body": "Thanks for the explanation. I can make it work with the <code>caller</code> function using line number.  I see what you mean about using variable names in other variables being a bad idea, and X Y problem, etc.  In this case  - &quot;if you cannot find what you need with the caller function, then you are doing it wrong&quot; - is a perfectly acceptable short answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 65, "user_id": 6207409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6642c5e2fc0e2aebe11f044311060618?s=128&d=identicon&r=PG&f=1", "display_name": "int", "link": "https://stackoverflow.com/users/6207409/int"}, "edited": false, "score": 1, "creation_date": 1462049942, "post_id": 36959370, "comment_id": 61477773, "body": "@int: I really wish you would explain your purpose. It&#39;s far from true that any design involving <code>caller</code> is a good one, and my toes curl at the idea of code that varies its behaviour according to the <i>line number</i> where the call was made. In other words you&#39;re still doing it wrong, but there&#39;s no way we can help you unless you explain why you think you need this information"}, {"owner": {"reputation": 65, "user_id": 6207409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6642c5e2fc0e2aebe11f044311060618?s=128&d=identicon&r=PG&f=1", "display_name": "int", "link": "https://stackoverflow.com/users/6207409/int"}, "edited": false, "score": 0, "creation_date": 1462081613, "post_id": 36959370, "comment_id": 61483355, "body": "fair enough. Need to know which instance of Lambda called <code>process</code>, and do it all inside Lambda.pm. Lambda is large, dozens of member vars. In the main program there are many Lambda objects, and many existing main program scripts that I&#39;m not gona change (due to laziness). There&#39;s a unique id in each Lambda object, but its inside the package scope-need something from caller&#39;s scope. Returns from <code>caller</code> won&#39;t be used in any decisions, just written to log to aid in identifying which Lambda instance in which main program had an issue. Really wish I could explain more but...600 chars"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1467569114, "last_edit_date": 1467569114, "creation_date": 1462045068, "answer_id": 36959370, "question_id": 36959058, "link": "https://stackoverflow.com/questions/36959058/how-to-get-the-name-of-invocant-as-string-in-perl/36959370#36959370", "title": "how to get the name of invocant as string in perl", "body": "<h3>Update</h3>\n\n<p>I've just realised that you want the <em>name</em> of the variable that was used to call the <code>process</code> method. You can't do that without a source filter, because there may be several names all referring to the same object, like this</p>\n\n<pre><code>my $omega = Lambda-&gt;new;\nmy $aa    = $omega;\nmy $bb    = $omega;\n\n$aa-&gt;process;\n</code></pre>\n\n<p>and there is quite sensibly no way to get hold of the name <em>actually</em> used to call the method</p>\n\n<p>This is an <a href=\"http://xyproblem.info/\" rel=\"nofollow\"><em>X Y problem</em></a>, and is comparable to asking how to use data strings to name a variable. Variable identifiers are purely for the consumption of the programmer, and if you think your program needs to know them then you have a design problem. If you explain exactly what it is that you want to achieve via this mechanism then I am sure we could help you better</p>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Original solution</h3>\n\n<p>I've left this here in cased someone arrives at this page looking for a way to discover the name of the calling code</p>\n\n<p>You can use the <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow\"><code>caller</code></a> function</p>\n\n<p>A call without parameters like <code>caller()</code> will return the package name, source file name, and line number where the current call was made</p>\n\n<p>You get get more detailed information by adding a parameter that represents the depth on the call stack that you want to examine, so <code>caller(0)</code> will return information about the <em>current</em> subroutine, while the values from <code>caller(1)</code> will be about the <em>calling</em> subroutine</p>\n\n<p>If we change your main code to use a subroutine to call the method, then we can write this</p>\n\n<h3>Lambda.pm</h3>\n\n<pre><code>package Lambda;\n\nuse strict;\nuse warnings;\n\nsub new {\n    bless {}, shift;\n} \n\nsub process {\n    my $self = shift;\n\n    #\n    # ??? what is the variable name of my caller ???\n    #\n    # ie. how to set $invocant = 'omega';\n    #\n    my $calling_sub = (caller(1))[3];\n    print \"Called by $calling_sub\\n\";\n\n    return $self;\n} \n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Lambda;\n\nmysub();\n\nsub mysub {\n    my $omega = Lambda-&gt;new;\n    $omega-&gt;process;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Called by main::mysub\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6207409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6642c5e2fc0e2aebe11f044311060618?s=128&d=identicon&r=PG&f=1", "display_name": "int", "link": "https://stackoverflow.com/users/6207409/int"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 36959370, "answer_count": 2, "score": 1, "last_activity_date": 1467569114, "creation_date": 1462043377, "question_id": 36959058, "link": "https://stackoverflow.com/questions/36959058/how-to-get-the-name-of-invocant-as-string-in-perl", "title": "how to get the name of invocant as string in perl", "body": "<p>In perl, a class \"Lamba\" implements a method called \"process\". </p>\n\n<pre><code>use Lambda;\nmy $omega = Lambda-&gt;new();\n$omega-&gt;process();\n</code></pre>\n\n<p>in the process method, how can we get the name of it's invocant?</p>\n\n<pre><code>package Lambda;\nuse strict;\n\nsub new {\n    my $class = shift;\n    my $self = {};\n    bless ($self, $class);\n    return $self; \n} \n\nsub process {\n    my $self = shift;\n    my $invocant;\n    #\n    # ??? what is the variable name of my caller ???\n    #\n    # ie. how to set $invocant = 'omega';\n    #\n    return $self;\n} \n</code></pre>\n"}, {"tags": ["mysql", "database", "perl", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1462031420, "post_id": 36956155, "comment_id": 61471528, "body": "Are those package names what you are really using? Your Schema is called <code>Habr::Schema</code> and you are trying to load <code>lib::App::Schema</code>. The <code>lib</code> is not part of the module name. It is the <i>library directory</i> that your environment should know about, e.g. by having a <code>use lib &#39;lib&#39;;</code> at the top of your main program."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "edited": false, "score": 0, "creation_date": 1462040238, "post_id": 36957984, "comment_id": 61474639, "body": "I&#39;m sorry, when I paste this code I changed the name of my App and forgot in package. So it is not a mistake, it&#39;s my inattention."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "edited": false, "score": 0, "creation_date": 1462042997, "post_id": 36957984, "comment_id": 61475534, "body": "@MiKa: Do you still need help?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "edited": false, "score": 0, "creation_date": 1462126258, "post_id": 36957984, "comment_id": 61495866, "body": "@MiKa: Okay well please run through the process again with <code>dbicdump</code>, create a simple Perl program as I have above, and post it as a new question. Please be <i>very careful</i> to show your real commands and source files"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467563142, "last_edit_date": 1467563142, "creation_date": 1462037237, "answer_id": 36957984, "question_id": 36956155, "link": "https://stackoverflow.com/questions/36956155/perl-dbixclassschema/36957984#36957984", "title": "perl DBIx::Class::Schema", "body": "<p>Lets assume that you want to create a package <code>Habr::Schema</code> for the schema of your database. You would use the command</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dbicdump -o dump_directory=./lib Habr::Schema 'dbi:mysql:my_db:localhost:3306' root password\n</code></pre>\n\n<p>and thereafter you can access that module using this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use lib './lib';\nuse Habr::Schema;\n</code></pre>\n\n<p>although you must be careful with relative paths in <code>use lib</code> and it is always better to use an absolute path so that you may run your code from any working directory</p>\n\n<p>Your full program might look like this. It prints the <code>id</code> column from every row in the <code>User</code> table</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Habr::Schema;\n\nmy $schema = App::Schema-&gt;connect(qw/ dbi:mysql:dbname=my_db  root  password /);\n\nfor my $user ( $schema-&gt;resultset('User')-&gt;all ) {\n    say $user-&gt;id;\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 5393884, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/143763902642314/picture?type=large", "display_name": "Mi Ka", "link": "https://stackoverflow.com/users/5393884/mi-ka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1467563142, "creation_date": 1462026845, "last_edit_date": 1462040012, "question_id": 36956155, "link": "https://stackoverflow.com/questions/36956155/perl-dbixclassschema", "title": "perl DBIx::Class::Schema", "body": "<p>I have a problem with DBIx::Class::Schema, I have created db and then tables: User,Post, ...  . Then I done this in terminal </p>\n\n<pre><code>dbicdump -o dump_directory=./lib App::Schema 'dbi:mysql:my_db:localhost:3306' root password\n</code></pre>\n\n<p>Command made lib::App::Schema with Schema.pm and with Result path in it. (With table classes).</p>\n\n<p>This was generated by Schema.pm</p>\n\n<pre><code>use utf8;\npackage App::Schema;\nuse strict;\nuse warnings;\nuse base 'DBIx::Class::Schema';\n\n__PACKAGE__-&gt;load_namespaces;\n1;\n</code></pre>\n\n<p>And I use schema so:</p>\n\n<pre><code>use lib::App::Schema;\nmy $schema = App::Schema-&gt;connect(\"dbi:mysql:dbname=my_db\", \"root\", \"password\");\nmy @m = $schema-&gt;resultset('User')-&gt;all;\n</code></pre>\n\n<p>In this file a get error</p>\n\n<pre><code>DBIx::Class::Schema::source(): Can't find source for User at lib/Local/ThisFile.pm line 26\n</code></pre>\n"}, {"tags": ["perl", "ubuntu", "terminal"], "answers": [{"tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": true, "score": 5, "last_activity_date": 1462018936, "creation_date": 1462018936, "answer_id": 36954892, "question_id": 36954401, "link": "https://stackoverflow.com/questions/36954401/perl-3-or-4-line-commands-via-backticks/36954892#36954892", "title": "perl 3 or 4 line commands via backticks", "body": "<p>The line you quoted contains one command line piped together. That's not running multiple commands.</p>\n\n<p>Did you consider using <code>open</code>?</p>\n\n<pre><code>my $pid = open my $fh, '-|', 'myprocess';\nprint $fh \"y\\n\";\n</code></pre>\n\n<p>There is no need to run multiple commands in one (backtick) line, why not just use multiple ones?</p>\n\n<pre><code>$first = `whoami`;\n$second = `uptime`;\n$third = `date`;\n</code></pre>\n\n<p>Backticks are used to capture the output of the command, <code>system</code> just runs the command and returns the exit state:</p>\n\n<pre><code>system '(echo \"y\" | nohup myprocess) &amp;';\n</code></pre>\n\n<p>All solutions allow multiple commands piped together as this is a shell feature and all commands just pass the command string to the shell (unless it's simple enough to handle it without a shell):</p>\n\n<p>Bash:</p>\n\n<pre><code>$ ps axu|grep '0:00'|sort|uniq -c|wc\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code>system \"ps axu|grep '0:00'|sort|uniq -c|wc\";\n$result = `ps axu|grep '0:00'|sort|uniq -c|wc`;\nopen my $fh, '|-', \"ps axu|grep '0:00'|sort|uniq -c|wc\";\n</code></pre>\n\n<p>Always watch the quotation marks: <code>system \"foo \"bar\" baz\";</code> won't pass <code>\"bar\" baz</code> as arguments to the <code>foo</code> command.</p>\n\n<p>Lots of common stuff in this answer: Please be more detailed in your question to get a better reply.</p>\n"}], "owner": {"reputation": 25, "user_id": 6241491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207806262861421/picture?type=large", "display_name": "Michael Morris", "link": "https://stackoverflow.com/users/6241491/michael-morris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 36954892, "answer_count": 1, "score": 1, "last_activity_date": 1462024445, "creation_date": 1462016262, "last_edit_date": 1495541766, "question_id": 36954401, "link": "https://stackoverflow.com/questions/36954401/perl-3-or-4-line-commands-via-backticks", "title": "perl 3 or 4 line commands via backticks", "body": "<p>How can I use this code to create more commands. The current version does 2. How can i do 3 or 4 or more?</p>\n\n<pre><code>my $startprocess = `(echo \"y\" | nohup myprocess) &amp;`\n</code></pre>\n\n<p>The original question answered by user DVK:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3835809/can-i-execute-a-multiline-command-in-perls-backticks\">Can I execute a multiline command in Perl&#39;s backticks?</a></p>\n\n<p>edit: thanks for the reply sebastian. \nI have to run everything in one line because Im running a program within terminal and i want to make progressive commands.</p>\n\n<p>e.g command 1 starts the program. command 2 navigates me to the menu. Command 3 lets me change a setting. Command 4 lets me issue a command that prompts a response that I can only get under the condition of that new setting.</p>\n\n<p>To run multiple commands would keep me trapped in step one.</p>\n"}, {"tags": ["perl", "cron"], "comments": [{"owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 4, "creation_date": 1462016263, "post_id": 36954374, "comment_id": 61466497, "body": "Mandatory comment: always put <code>use strict;</code> and <code>use warnings;</code> at the top of every Perl script. Your problem is probably due to using relative path when calling <code>run.pl</code>. Try using absolute path to Perl interpreter and the script: <code>&#47;usr&#47;bin&#47;perl &#47;absolute&#47;path&#47;to&#47;run.pl</code>;"}, {"owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "reply_to_user": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "edited": false, "score": 0, "creation_date": 1462020326, "post_id": 36954374, "comment_id": 61467879, "body": "@bart thanks for your comment . I am using use strict and use warning then i added absolute path in that program but still it&#39;s not working."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 2, "creation_date": 1462030260, "post_id": 36954374, "comment_id": 61471111, "body": "How do know run.pl is not being executed?  That script is opening the filehandle in read mode, but the next line is trying to write to it, which is not going to work."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1462034062, "post_id": 36954374, "comment_id": 61472388, "body": "We can&#39;t tell you what&#39;s wrong with your code, without your actual code. But likely <code>perl run.pl</code> is missing a path."}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1462034254, "post_id": 36954374, "comment_id": 61472469, "body": "Do you know what the current directory is when <code>run.pl</code> is called when called from cron? Are you looking for the file there? Do you have writing permissions in that directory? Did you try to set an absolute path to the target file like <code>&#47;tmp&#47;test.txt</code>, where you are sure that you can write it?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1462038438, "post_id": 36954374, "comment_id": 61474017, "body": "If there is no any errors you do not use &#39;warnings&#39; and &#39;strict&#39;. Try to find any error messages"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1462039014, "post_id": 36954374, "comment_id": 61474218, "body": "Running cronjobs is always a mess because they have such a limited environment (compared to regular login shells). Try <code>*&#47;30 * * * * perl &#47;path&#47;to&#47;cron.pl 1&gt;&#47;tmp&#47;stdout.txt 2&gt;&#47;tmp&#47;stderr.txt</code> and inspect the two files for errors."}, {"owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1462078286, "post_id": 36954374, "comment_id": 61482825, "body": "@Ron Bergin This is sample program so forgot to put write mode in this sample program anyway i put into my original program still it&#39;s not working"}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "edited": false, "score": 0, "creation_date": 1462078906, "post_id": 36954374, "comment_id": 61482942, "body": "modify your cron command to also use the full path for perl"}, {"owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "edited": false, "score": 0, "creation_date": 1462079379, "post_id": 36954374, "comment_id": 61483020, "body": "@Tutor cron.pl run successfully but second program run.pl is not calling anyway that also i tried to but not working"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1462090392, "post_id": 36954374, "comment_id": 61484948, "body": "Giving us &quot;samples&quot; which doesn&#39;t represent what you&#39;ve got, means it&#39;s impossible to diagnose. It&#39;s really important that if you <i>don&#39;t</i> give use the actual code that you&#39;ve got the problem with, you give us an example that you have actually tried, and that works, and we can use to reproduce the problem. Cutting it back to a minimum is fine, and indeed desirable. Just makes sure the sample presents the same problem."}], "answers": [{"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1462115150, "creation_date": 1462115150, "answer_id": 36968132, "question_id": 36954374, "link": "https://stackoverflow.com/questions/36954374/cron-automation-run-perl-program-not-working/36968132#36968132", "title": "Cron automation run perl program not working?", "body": "<p>Your <code>cron</code> line have to contain a full path to the executable!</p>\n\n<pre><code>*/30 * * * * /usr/bin/perl /path/to/cron.pl\n</code></pre>\n"}], "owner": {"reputation": 766, "user_id": 4445448, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3fbf664dc5d850436aac1fd98700c0ae?s=128&d=identicon&r=PG&f=1", "display_name": "SSN", "link": "https://stackoverflow.com/users/4445448/ssn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1462115150, "creation_date": 1462016094, "last_edit_date": 1462078444, "question_id": 36954374, "link": "https://stackoverflow.com/questions/36954374/cron-automation-run-perl-program-not-working", "title": "Cron automation run perl program not working?", "body": "<p>I just write perl program for automation purpose using cron</p>\n\n<p>my cron is </p>\n\n<pre><code>*/30 * * * * perl /path/to/cron.pl\n</code></pre>\n\n<p>cron.pl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n`/usr/bin/perl /path/to/run.pl`;\n</code></pre>\n\n<p>Inside the code I run other perl program using back tick.</p>\n\n<p>run.pl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(FL,\"&gt;text.txt\") or die $!;\n\nprint FL \"hi\";\n\nclose FL;\n</code></pre>\n\n<p>Whenever I run cron.pl it has created \"text.txt\" file. But the cron run the program cron.pl is running but run.pl has not run. Can any one tell me what I did wrong in code?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1461992578, "post_id": 36950956, "comment_id": 61460262, "body": "$match = ($item =~ m/(\\d\\d)(\\d\\d)/); actually is $match = ($item =~ m/(\\d\\d)(\\d\\d)(\\d\\d)/);  I mistyped"}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1461992642, "post_id": 36950956, "comment_id": 61460271, "body": "what do you want?do you want to restrict your input to 4 digits?"}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1461992924, "post_id": 36950956, "comment_id": 61460333, "body": "@rock321987 no, the input will be 4 digit numbers, a list of 4 digit numbers that I save by hand into a text file. In another part of the code I&#39;ve already chomped the file and saved into an array. I just want to match 3 pairs of numbers from a 4 digit number. If the number is 6572 I want to match 65, 57 and 72."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1461994862, "post_id": 36951051, "comment_id": 61460685, "body": "Hi, thanks. Can you use it in the context of my code ? I see you are using an array but in the code I am assigning them direcrly into 3 different arrays (that I need to use later, thats why). And right now I cant figure out a way without making a tremendous mess."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1461995217, "post_id": 36951051, "comment_id": 61460753, "body": "You can assign variables after the while loop, <code>($heads[$i], $middles[$i], $tails[$i]) = @arr;</code>"}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1461996305, "post_id": 36951051, "comment_id": 61460976, "body": "I am trying it but still it does not work for me. I changed something in your code and I am not sure if it has the same meaning &quot;/g&quot; for &quot;\\G&quot; . If I leave the former I get syntax error, but with the later it runs but says &quot;No data for processing found&quot; Which is an message that prints if $processednums = 0"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1461993331, "creation_date": 1461993331, "answer_id": 36951051, "question_id": 36950956, "link": "https://stackoverflow.com/questions/36950956/perl-matching-3-pairs-of-numbers-from-4-consecutive-numbers/36951051#36951051", "title": "Perl: Matching 3 pairs of numbers from 4 consecutive numbers", "body": "<p>You can move last matching position with <a href=\"http://perldoc.perl.org/functions/pos.html\" rel=\"nofollow\"><code>pos()</code></a></p>\n\n<blockquote>\n  <p>pos directly accesses the location used by the regexp engine to store the offset, so assigning to pos will change that offset..</p>\n</blockquote>\n\n<pre><code>my $item = 1234;\n\nmy @arr;\nwhile ($item =~ /(\\d\\d)/g) {\n  push @arr, $1;\n  pos($item)--;\n}\nprint \"@arr\\n\"; # 12 23 34\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1461999904, "post_id": 36951628, "comment_id": 61461938, "body": "Thank you. Using this I could figure out how to apply it to my code and it seems it worked (at least run processing what it seems to be all the numbers, they are 60*3 so I will check carefully later). I am going to select your answer sincei it made the code run, although the other users helped me a lot too, and since I am new to perl I will try to figure why their approaches did not work (probably my fault) to learn some other ways."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1461998166, "creation_date": 1461998166, "answer_id": 36951628, "question_id": 36950956, "link": "https://stackoverflow.com/questions/36950956/perl-matching-3-pairs-of-numbers-from-4-consecutive-numbers/36951628#36951628", "title": "Perl: Matching 3 pairs of numbers from 4 consecutive numbers", "body": "<p>Here's a pretty loud example demonstrating how you can use <code>substr()</code> to fetch out the portions of the number, while ensuring that what you're dealing with is in fact exactly a four-digit number.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy ($one, $two, $three);\n\nwhile (my $item = &lt;DATA&gt;){\n    if ($item =~ /^\\d{4}$/){\n        $one   = substr $item, 0, 2;\n        $two   = substr $item, 1, 2;\n        $three = substr $item, 2, 2;\n        print \"one: $one, two: $two, three: $three\\n\";\n    }\n}\n\n__DATA__\n1234\nabcd\na1b2c3\n4567\n891011\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>one: 12, two: 23, three: 34\none: 45, two: 56, three: 67\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1467563679, "last_edit_date": 1467563679, "creation_date": 1462011741, "answer_id": 36953680, "question_id": 36950956, "link": "https://stackoverflow.com/questions/36950956/perl-matching-3-pairs-of-numbers-from-4-consecutive-numbers/36953680#36953680", "title": "Perl: Matching 3 pairs of numbers from 4 consecutive numbers", "body": "<p>The simplest way would be to use a global regex pattern search</p>\n\n<p>It is nearly always best to separate <em>verificaton</em> of the input data from <em>processing</em>, so the program below first rejects any values that are not four characters long or that contain a non-digit character</p>\n\n<p>Then the regex pattern finds all points in the string that are followed by two digits, and captures them</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nfor my $val ( qw/ 1234 6572 / ) {\n\n    next if length($val) != 4 or $val =~ /\\D/;\n\n    my @pairs = $val =~ /(?=(\\d\\d))/g;\n    print \"@pairs\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>12 23 34\n65 57 72\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1462093206, "creation_date": 1462093206, "answer_id": 36964882, "question_id": 36950956, "link": "https://stackoverflow.com/questions/36950956/perl-matching-3-pairs-of-numbers-from-4-consecutive-numbers/36964882#36964882", "title": "Perl: Matching 3 pairs of numbers from 4 consecutive numbers", "body": "<pre><code>foreach $item (@totaldata) {\n    if ( my @match = $item =~ m/(?=(\\d\\d))/ ) {\n        ($heads[$i], $middles[$i], $tails[$i]) = @match;\n        $processednums++; \n        $i++;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 1, "accepted_answer_id": 36951628, "answer_count": 4, "score": 1, "last_activity_date": 1467563679, "creation_date": 1461992447, "last_edit_date": 1462241127, "question_id": 36950956, "link": "https://stackoverflow.com/questions/36950956/perl-matching-3-pairs-of-numbers-from-4-consecutive-numbers", "title": "Perl: Matching 3 pairs of numbers from 4 consecutive numbers", "body": "<p>I am writing some code and I need to do the following:</p>\n\n<p>Given a 4 digit number like \"1234\" I need to get 3 pairs of numbers (the first 2, the 2 in the middle, and the last 2), in this example I need to get \"12\" \"23\" and \"34\".</p>\n\n<p>I am new to perl and don't know anything about regex. In fact, I am writing a script for personal use and I've started reading about Perl some days ago because I figured it was going to be a better language for the task at hand (need to do some statistics with the numbers and find patterns)</p>\n\n<p>I have the following code but when testing I processed 6 digit numbers, because I \"forgot\" that the numbers I would be processing are 4 digits, so it failed with the real data, of course</p>\n\n<pre><code>foreach $item (@totaldata)\n{\n    my $match;\n\n    $match = ($item =~ m/(\\d\\d)(\\d\\d)(\\d\\d)/);\n\n    if ($match) \n    { \n    ($arr1[$i], $arr2[$i], $arr3[$i]) = ($item =~ m/(\\d\\d)(\\d\\d)(\\d\\d)/);\n    $processednums++; \n    $i++;\n    }\n}\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["multithreading", "perl", "tree"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1038758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5884df95a41b3d4c467f664bde566f20?s=128&d=identicon&r=PG", "display_name": "J.R. Heisey", "link": "https://stackoverflow.com/users/1038758/j-r-heisey"}, "edited": false, "score": 0, "creation_date": 1462214424, "post_id": 36958366, "comment_id": 61532953, "body": "I appreciate the response. The documentation for &quot;Thread::Queue&quot; says  Passing objects on queues may not work if the objects&#39; classes do not support sharing. See BUGS AND LIMITATIONS in threads::shared for more.  Passing array/hash refs that contain objects may not work for Perl prior to 5.10.0.  It look like I have the same limitations with my blessed objects. Also this application is still on Perl 5.8.8 unfortunately."}, {"owner": {"reputation": 31, "user_id": 1038758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5884df95a41b3d4c467f664bde566f20?s=128&d=identicon&r=PG", "display_name": "J.R. Heisey", "link": "https://stackoverflow.com/users/1038758/j-r-heisey"}, "edited": false, "score": 0, "creation_date": 1462214691, "post_id": 36958366, "comment_id": 61533109, "body": "Can&#39;t figure out how to make line feeds using this comment editor."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 31, "user_id": 1038758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5884df95a41b3d4c467f664bde566f20?s=128&d=identicon&r=PG", "display_name": "J.R. Heisey", "link": "https://stackoverflow.com/users/1038758/j-r-heisey"}, "edited": false, "score": 0, "creation_date": 1462218289, "post_id": 36958366, "comment_id": 61535011, "body": "You aren&#39;t passing objects. You are passing serialised objects as scalars."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1462039375, "creation_date": 1462039375, "answer_id": 36958366, "question_id": 36949753, "link": "https://stackoverflow.com/questions/36949753/perl-build-complex-object-tree-using-multiple-threads/36958366#36958366", "title": "Perl: build complex object tree using multiple threads", "body": "<p>OK, so backtracking a bit - <code>threads::shared</code> really does 'single data structures' and doesn't really support more complicated things. That's because when you 'thread' you actually create separate program instances with (some) shared memory space, but practically speaking each 'thread' is a separate program anyway. </p>\n\n<p>So, supporting sharing in an object gets really quite messy. I've found a better approach is to ... not. Use <code>Thread::Queue</code> to pass data between threads, and have one thread that acts to collate results. If you need to pass more complicated data structures, you can use <code>Storable</code> and <code>freeze</code>/<code>thaw</code> to serialise the object, and <code>enqueue</code> it. </p>\n\n<p>That way you don't have to worry about tripping over shared nested data structures - and it's quite likely that you will, because there's no such thing as a 'deep share' option on an object - you have to explicitly <code>share</code> every internal array/hash(reference). </p>\n\n<p>So I would tackle it like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\npackage Test_Object;\n\nsub new {\n   my ( $class, $id ) = @_;\n   my $self = {};\n   $self-&gt;{id} = $id;\n   bless $self, $class;\n   return $self;\n}\n\nsub set_result {\n   my ( $self, $result_code ) = @_;\n   $self-&gt;{result} = $result_code;\n}\n\nsub get_id {\n   my ($self) = @_;\n   return $self-&gt;{id};\n}\n\nsub get_result {\n   my ($self) = @_;\n   return $self-&gt;{result};\n}\n\npackage main;\n\nuse strict;\nuse warnings qw/ all /;\n\nuse threads;\nuse Thread::Queue;\nuse Storable qw/ freeze thaw/;\n\nmy $work_q   = Thread::Queue-&gt;new();\nmy $result_q = Thread::Queue-&gt;new();\n\nsub worker {\n   my $tid = threads-&gt;self-&gt;tid;\n   print \"$tid: starting\\n\";\n   while ( my $item = $work_q-&gt;dequeue() ) {\n      my $object = thaw($item);\n      print \"$tid: got object with ID of \", $object-&gt;get_id, \"\\n\";\n      $object-&gt;set_result( $object-&gt;get_id . \" : $tid\" );\n      $result_q-&gt;enqueue( freeze $object );\n   }\n}\n\nsub collator {\n   while ( my $result = $result_q-&gt;dequeue ) {\n      my $object = thaw $result;\n      print \"Collator got object with result code of \", $object-&gt;get_result,\n        \"\\n\";\n   }\n\n   ## do something with collated wossnames - pass back to main maybe?\n}\n\nmy @workers;\nfor ( 1 .. 5 ) {\n   my $thr = threads-&gt;create( \\&amp;worker );\n   push @workers, $thr;\n}\n\nmy $collator = threads-&gt;create( \\&amp;collator );\n\nfor ( 1 .. 200 ) {\n   my $work_object = Test_Object-&gt;new($_);\n   $work_q-&gt;enqueue( freeze $work_object );\n}\n\n$work_q-&gt;end;\nforeach my $thr (@workers) {\n   $thr-&gt;join;\n}\n\n$result_q-&gt;end;\nforeach my $thr ( threads-&gt;list ) {\n   $thr-&gt;join;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1038758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5884df95a41b3d4c467f664bde566f20?s=128&d=identicon&r=PG", "display_name": "J.R. Heisey", "link": "https://stackoverflow.com/users/1038758/j-r-heisey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1462039375, "creation_date": 1461979965, "question_id": 36949753, "link": "https://stackoverflow.com/questions/36949753/perl-build-complex-object-tree-using-multiple-threads", "title": "Perl: build complex object tree using multiple threads", "body": "<p>I am trying to optimize code that loads a file and parses the data in Perl.</p>\n\n<p><strong>Background</strong></p>\n\n<ul>\n<li>The data ends up in a complicated object tree.</li>\n<li>The top level object is a blessed package.</li>\n<li>Some of the nested objects are new'ed as another blessed package type call Item.</li>\n<li>The first pass separates the binary data into units and segments\nwithin a unit which are all stored in multiple arrays.</li>\n<li>There could be 20 or 50 units with 8 segments each.</li>\n<li>The second pass performs the decoding of the binary data and is what needs optimized for speed.</li>\n</ul>\n\n<p><strong>Approach with threads</strong></p>\n\n<ul>\n<li>I am trying to use the modules threads and threads::shared.</li>\n<li>I want each thread to process a subset of the units and populate the data into a common object tree.</li>\n</ul>\n\n<p>I am looking for some sample code that demonstrates how to share blessed objects that may be allocated and blessed from any thread context and inserted into a shared object tree. And then is accessible from the main thread to walk the data for data lookups. The decoding threads will return once the decoding is completed.</p>\n\n<ul>\n<li>I am having difficulty seeing how to have multiple threads insert objects to a common object tree using the threads:shared module. In particular when object of Item type are blessed from a thread context. The class (package) functions won't be bound to the object as I understand.</li>\n<li>I do realize that at certain points in the code the code will need to use the threads::shared::lock() function before adding objects to the object tree.</li>\n<li>In particular the nested blessed Item objects would be allocated from each thread context.</li>\n<li>The threads::shared documentation says \"Note that it is often not wise to share an object unless the class itself has been written to support sharing\".\n\n<ul>\n<li>Is there a sample code that demonstrates how to accomplish this?</li>\n</ul></li>\n</ul>\n\n<p>The documentation also says \"object's destructor may get called multiple times, one for each thread's scope exit\". How is this handled properly?</p>\n\n<p>Thanks\nJ.R.</p>\n"}, {"tags": ["perl", "shell"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6273288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d836a97cb9e66d68db25ad6b9347f1?s=128&d=identicon&r=PG&f=1", "display_name": "El.h", "link": "https://stackoverflow.com/users/6273288/el-h"}, "edited": false, "score": 0, "creation_date": 1461975594, "post_id": 36949057, "comment_id": 61457111, "body": "Thank you very much for your help. I just ran it and It is not printing any output. Data format perhaps?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 33, "user_id": 6273288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d836a97cb9e66d68db25ad6b9347f1?s=128&d=identicon&r=PG&f=1", "display_name": "El.h", "link": "https://stackoverflow.com/users/6273288/el-h"}, "edited": false, "score": 0, "creation_date": 1461976268, "post_id": 36949057, "comment_id": 61457259, "body": "@El.h Probably, it works for me. Check the column names."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1461973067, "creation_date": 1461973067, "answer_id": 36949057, "question_id": 36948802, "link": "https://stackoverflow.com/questions/36948802/perl-extract-specific-columns/36949057#36949057", "title": "Perl, extract specific columns", "body": "<p>Use a hash to map column names to column numbers.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nopen my $COLUMNS, '&lt;', shift or die $!;\nchomp( my @columns = &lt;$COLUMNS&gt; );\n\nopen my $DATA, '&lt;', shift or die $!;\nmy @header = split /\\t/, &lt;$DATA&gt;;\nmy %column_index;\n@column_index{ @header } = 0 .. $#header;\n\n@columns = grep exists $column_index{$_}, @columns;\n\nwhile (&lt;$DATA&gt;) {\n    chomp( my @cells = split /\\t/ );\n    say join \"\\t\", @cells[ @column_index{ @columns } ];\n}\n</code></pre>\n\n<p>Run as <code>script.pl file1 file2</code>. Note that you must use exact column names in the file, i.e. I got better results with the following file1:</p>\n\n<pre><code>Code\nsex\nid123B\nid124A\nid125A\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6273288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d836a97cb9e66d68db25ad6b9347f1?s=128&d=identicon&r=PG&f=1", "display_name": "El.h", "link": "https://stackoverflow.com/users/6273288/el-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 1, "accepted_answer_id": 36949057, "answer_count": 1, "score": 1, "last_activity_date": 1461973067, "creation_date": 1461971285, "last_edit_date": 1461972115, "question_id": 36948802, "link": "https://stackoverflow.com/questions/36948802/perl-extract-specific-columns", "title": "Perl, extract specific columns", "body": "<p>Please help.</p>\n\n<p>I have two files (file1 and file2). I would like to extract the columns from file2 that have their IDs listed in file1. These are big files, with thousands of columns and lines.</p>\n\n<p>file1</p>\n\n<pre><code>Id123B\nId124A\nId125A\n</code></pre>\n\n<p>file2</p>\n\n<pre><code>Code  sex  id123B  id127  id125A\n</code></pre>\n\n<p>desired output file:</p>\n\n<pre><code>code sex id123B  id125A\n</code></pre>\n\n<p>The following is the code i have tried, but it fails.</p>\n\n<pre><code>!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $IN, \"file2\" or die $!;\n\nmy $header = &lt;$IN&gt;;\n\nmy %sampleID = map { /(.*?)\\t/; $1 =&gt; 1 } &lt;$IN&gt;;\n\nclose($IN);\n\nopen $IN, \"file1\" or die $!;\n$header = &lt;$IN&gt;;\nmy @samples = split /\\t/, $header;\nmy @cols = grep { exists $sampleID{$samples[$_]} } 0..$#samples;\n\n\nwhile(&lt;$IN&gt;){\n    chomp;\n    my @line = (split /\\t/)[@cols]; \n\n    print join( \"\\t\", @line ), \"\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "loops", "logging", "increment"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1461977537, "post_id": 36948936, "comment_id": 61457550, "body": "After inserting my log in &lt;&gt;, it works and outputs the following on screen :  <a href=\"http://dumptext.com/ABO7DQPM\" rel=\"nofollow noreferrer\">output</a>.  Is there a way to represent the data as asked in op, under &quot;the result would be&quot;? It is counting the combinations and instances which is good but I need an output as shown to be able to use it as a training file for WEKA"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462018340, "post_id": 36948936, "comment_id": 61467198, "body": "Read <a href=\"http://p3rl.org/perlreftut\" rel=\"nofollow noreferrer\">perlreftut</a> (Mark&#39;s very short tutorial about references) on how to access nested structures in Perl."}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462024215, "post_id": 36948936, "comment_id": 61469046, "body": "<code>printToFile ($file, \\%login); undef %login;  sub printToFile{           my ($file, $login_ref) = %_;         open FILE, $file or die &quot;Can&#39;t write &#39;$file&#39;: $!&quot;;         local $Data::Dumper::Terse = 1;         local $Data::Dumper::Useqq = 1;         print FILE Dumper $login_ref;         close(FILE) or die &quot;Can&#39;t close &#39;$file&#39;: $!&quot;; } </code>"}, {"owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "edited": false, "score": 0, "creation_date": 1462024335, "post_id": 36948936, "comment_id": 61469099, "body": "Following the sub out method of the following perlmonks <a href=\"http://www.perlmonks.org/?node_id=704380\" rel=\"nofollow noreferrer\">post</a>  Getting error use of uninitialised value $file at open"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1461972319, "creation_date": 1461972319, "answer_id": 36948936, "question_id": 36948460, "link": "https://stackoverflow.com/questions/36948460/increment-frequency-of-attempts-based-on-ip-and-login-details-combination/36948936#36948936", "title": "Increment frequency of attempts based on IP and login details combination", "body": "<p>I used a hash to record all the information for the given IP, username, and password. I used another hash (%port_by_ip) to track what port occurred last with an IP, it means that if there are several connections from the same IP before a login, the last one is used to extract the port.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\nmy (%port_by_ip, %login);\n\nwhile (&lt;&gt;) {\n    if (my ($ip, $port) = /New connection: ([0-9.]+):([0-9]+)/\n    ) {\n        $port_by_ip{$ip} = $port;\n    } elsif (my ($ip, $user, $password, $status)\n             = m{,([0-9.]+)\\] login attempt \\[(.*)/(.*)\\] (.*)}\n         ) {\n        $login{$ip}{$user}{$password}{count}++;\n        $login{$ip}{$user}{$password}{$status}++;\n        $login{$ip}{$user}{$password}{port}{ $port_by_ip{$ip} }++;\n    }\n}\n\nprint Dumper \\%login;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 0, "last_activity_date": 1465551578, "creation_date": 1465551578, "answer_id": 37744920, "question_id": 36948460, "link": "https://stackoverflow.com/questions/36948460/increment-frequency-of-attempts-based-on-ip-and-login-details-combination/37744920#37744920", "title": "Increment frequency of attempts based on IP and login details combination", "body": "<p>Instead of</p>\n\n<pre><code>                        $frequency++\n</code></pre>\n\n<p>write</p>\n\n<pre><code>                        $frequency{join ':', $port, $ip, $usr, $pass}{$status}++\n</code></pre>\n\n<p>- this counts the occurrences of the various combinations. Furthermore remove the <code>print</code>s from the inner loop - we can print the total numbers only after the loop, e. g:</p>\n\n<pre><code>while (($key, $value) = each %frequency)\n{\n    ($port) = split /:/, $key;\n    while (($status, $occurrences) = each %{$value})\n    {\n        print FILE2 \"$port,$status,$occurrences\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1465551578, "creation_date": 1461969161, "question_id": 36948460, "link": "https://stackoverflow.com/questions/36948460/increment-frequency-of-attempts-based-on-ip-and-login-details-combination", "title": "Increment frequency of attempts based on IP and login details combination", "body": "<p>I have the following log file</p>\n\n<pre><code>2016-04-29 15:56:48+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:46055 (172.17.0.2:2222) [session: 3b8d22b5]\n2016-04-29 15:56:49+0000 [SSHService ssh-userauth on HoneyPotTransport,28,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 16:11:14+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 52.28.89.99:53059 (172.17.0.2:2222) [session: a6c0fac1]\n2016-04-29 16:17:42+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 13.92.114.157:1032 (172.17.0.2:2222) [session: d33e1566]\n2016-04-29 19:07:10+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:45178 (172.17.0.6:2222) [session: fafec37d]\n2016-04-29 19:07:10+0000 [SSHService ssh-userauth on HoneyPotTransport,0,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 19:42:58+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:56925 (172.17.0.6:2222) [session: 539960a3]\n2016-04-29 19:42:58+0000 [SSHService ssh-userauth on HoneyPotTransport,1,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 20:39:03+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 89.248.167.131:54138 (172.17.0.6:2222) [session: b9f550df]\n2016-04-29 20:39:03+0000 [SSHService ssh-userauth on HoneyPotTransport,2,89.248.167.131] login attempt [root/root] succeeded\n2016-04-29 21:13:41+0000 [cowrie.ssh.transport.HoneyPotSSHFactory] New connection: 141.8.83.213:64400 (172.17.0.6:2222) [session: e696835c]\n2016-04-29 21:13:59+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test123] failed\n2016-04-29 21:14:10+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test1234] failed\n2016-04-29 21:14:13+0000 [SSHService ssh-userauth on HoneyPotTransport,3,141.8.83.213] login attempt [user1/test123] failed\n</code></pre>\n\n<p>I want to increment a value called frequency whenever the IP is found and the same username and password are used to login. For that I want to output the SourcePort, the status[failed/succedded] and the total number of occurrences of the IP, and user/pass combination.</p>\n\n<p>So for instance, taking the last three entries, the result would be</p>\n\n<pre><code>Port,Status,Occurrences\n64400,failed,2\n64400,failed,1\n</code></pre>\n\n<p>This is the code[perl] I have so far: [Thankyou in advance]</p>\n\n<pre><code> $ip = \"\";\n        $port = \"\";\n        $usr = \"\";\n        $pass = \"\";\n        $status = \"\";\n        $frequency = 0;\n\n        #Given this is a user/pass attempt honeypot logger, I will use a wide character to reduce the possibility of stopping\n        #the WEKA CSV loader from functioning by using smileyface as seperators.\n\n\n        while(my $lines = &lt;LOG2&gt;){\n\n                if($lines =~ /New connection/){\n\n                ($ip, $port) = (split /[\\[\\]\\s:()]+/, $lines)[7,8];\n\n                }\n                if($lines =~ /login attempt/){#and the ip of the new connection\n\n                if($lines =~ /$ip/){\n                ($usr, $pass, $status) = (split /[\\s:\\[\\]\\/]+/, $lines)[-3,-2,-1];\n\n                        if($lines =~/$ip/ &amp;&amp; $lines =~/$usr/ &amp;&amp; $lines =~ /$pass/){\n\n                        $frequency++\n\n                        }\n\n                        if($ip &amp;&amp; $port &amp;&amp; $usr &amp;&amp; $pass &amp;&amp; $status ne \"\"){\n                                print FILE2 join \"$seperator\",($port, $status, $frequency, $end);\n                                print FILE2 \"\\n\";\n                        }\n                        }\n\n\n                }\n</code></pre>\n"}, {"tags": ["c", "perl", "stack", "buffer-overflow", "buffer-overrun"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1461961755, "post_id": 36946537, "comment_id": 61452408, "body": "You may need to turn off optimization with <code>-O0</code>"}, {"owner": {"reputation": 71, "user_id": 5509228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8345c761f2260006ac223dfefc6827de?s=128&d=identicon&r=PG&f=1", "display_name": "Greesy", "link": "https://stackoverflow.com/users/5509228/greesy"}, "edited": false, "score": 0, "creation_date": 1461962119, "post_id": 36946537, "comment_id": 61452588, "body": "Just tried with no results, but it was a good thought."}, {"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "edited": false, "score": 1, "creation_date": 1461973645, "post_id": 36946537, "comment_id": 61456716, "body": "At a quick glance, it looks like the code for printing stack contents is assuming 32bit x86, and you&#39;re using x86_64, which means that you&#39;re not getting actual stack contents, just various register contents.  You might try using <code>-m32</code> to use 32-bit mode."}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "edited": false, "score": 0, "creation_date": 1461990594, "post_id": 36946537, "comment_id": 61459832, "body": "@Greesy Don&#39;t edit the question, add the solution as an answer and it might get some votes. If you edit the question to an answer it sort of defeats the object of the site ie Q&amp;A."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1462120866, "post_id": 36951479, "comment_id": 61493962, "body": "This is very interesting. Thank you."}], "tags": [], "owner": {"reputation": 71, "user_id": 5509228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8345c761f2260006ac223dfefc6827de?s=128&d=identicon&r=PG&f=1", "display_name": "Greesy", "link": "https://stackoverflow.com/users/5509228/greesy"}, "is_accepted": true, "score": 2, "last_activity_date": 1461996923, "creation_date": 1461996923, "answer_id": 36951479, "question_id": 36946537, "link": "https://stackoverflow.com/questions/36946537/experimenting-with-buffer-overflow/36951479#36951479", "title": "Experimenting with buffer overflow", "body": "<p>Alright so I'm going to answer my own question here, just in case anyone who views it in the future is curious.</p>\n\n<p>Essentially the problem stemmed from not printing enough memory addresses to get a clear picture of the stack. If you followed along with the link in the question you'd see that printing 6 memory addresses of the stack was enough for their system, but it wasn't enough for ours. My friend proposed changing the source code from this: </p>\n\n<pre><code>printf(\"My stack looks like:\\n%p\\n%p\\n%p\\n%p\\n%p\\n% p\\n\\n\");\n\nstrcpy(buf, input);\nprintf(\"%s\\n\", buf);\n\nprintf(\"Now the stack looks like:\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n\\n\");\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>printf(\"My stack looks like:\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n\\n\");\n\nstrcpy(buf, input);\n\nprintf(\"Buffer: %s\\n\", buf);\nprintf(\"Address of Buffer: %p\\n\\n\", buf);\nprintf(\"My stack looks like:\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n\\n\");\n</code></pre>\n\n<p>This  change does two things for us. First, it increases the amount of addresses printed to 13. Second, it prints the address that the buffer starts at. The second part is important as it gives us a relative value to look for in the stack addresses given. Example:</p>\n\n<pre><code>overflow@OVERFLOW:~/Overflow$ ./prog ZZZZZZ\nAddress of foo = 0x400596\nAddress of bar = 0x400601\nCurrent Stack:\n0x7fffffe6\n0x7f30b7f8a7a0\n0x19\n0x6\n0x7f30b7c2e99a\n0x4007c8\n0x7ffddab72653\n0x7f30b7f9cde0\n0x7f30b81b01a8\n0x7ffddab71250\n0x400672\n0x7ffddab71338\n0x200000000\n\nBuffer: ZZZZZZ\nAddress of Buffer: 0x7ffddab71220\n\nStack after Input:\n0x7fffffde\n0x7f30b7f8a7a0\n0x21\n0xc\n0x7f30b7c2e99a\n0x4007c8\n0x7ffddab72653\n0x5a5a5a5a5a5a\n0x7f30b81b01a8\n0x7ffddab71250\n0x400672\n0x7ffddab71338\n0x200000000\n</code></pre>\n\n<p>In this example we can see <code>Address of Buffer: 0x7ffddab71220</code>. If we look through the stack addresses below it, we find one very similar: <code>0x7ffddab72653</code>. We can think of this as a starting point for the buffer, so that the following few addresses will be the storage containers of the buffer. In fact, in this example I printed \"ZZZZZZ\" to the buffer, and you can see the address immediately following our starting point has changed to <code>0x5a5a5a5a5a5a</code> which, you may have guessed, is \"ZZZZZZ\" in hex.</p>\n\n<p>Great, so now we know where the buffer actually starts, but we don't know which is the return address. If we look at the addresses of the functions:</p>\n\n<p><code>Address of foo = 0x400596</code> and <code>Address of bar = 0x400601</code>\nWe can find a similar value somewhere below the starting point of our buffer, in this case: <code>0x400672</code>.</p>\n\n<p>At this point we know all we need to: which memory addresses store the buffer, the address of the function we want to call, and most importantly the return address we want to overwrite. At that point it is a matter of experimenting with the perl script, adding characters to the buffer until we get the desired result.</p>\n"}], "owner": {"reputation": 71, "user_id": 5509228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8345c761f2260006ac223dfefc6827de?s=128&d=identicon&r=PG&f=1", "display_name": "Greesy", "link": "https://stackoverflow.com/users/5509228/greesy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 1, "accepted_answer_id": 36951479, "answer_count": 1, "score": 3, "last_activity_date": 1462019220, "creation_date": 1461959925, "last_edit_date": 1462019220, "question_id": 36946537, "link": "https://stackoverflow.com/questions/36946537/experimenting-with-buffer-overflow", "title": "Experimenting with buffer overflow", "body": "<p>I recently took a security class in which we briefly touched on buffer overflow. I wasn't satisfied with what we covered, so I looked for a few examples to follow along with and try myself and found <a href=\"http://www.cse.scu.edu/~tschwarz/coen152_05/Lectures/BufferOverflow.html\" rel=\"nofollow\"><em>Buffer Overflow Attack</em></a></p>\n\n<p>I like this example as it is easy to follow and understand why everything works. I tried to follow along, but in a Debian virtual machine instead of Windows. </p>\n\n<p>This is the C code from the site:</p>\n\n<pre><code>#pragma check_stack(off)\n\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt; \n\nvoid foo(const char* input)\n{\n    char buf[10];\n\n    printf(\"My stack looks like:\\n%p\\n%p\\n%p\\n%p\\n%p\\n% p\\n\\n\");\n\n    strcpy(buf, input);\n    printf(\"%s\\n\", buf);\n\n    printf(\"Now the stack looks like:\\n%p\\n%p\\n%p\\n%p\\n%p\\n%p\\n\\n\");\n}\n\nvoid bar(void)\n{\n    printf(\"Augh! I've been hacked!\\n\");\n}\n\nint main(int argc, char* argv[])\n{\n    //Blatant cheating to make life easier on myself\n    printf(\"Address of foo = %p\\n\", foo);\n    printf(\"Address of bar = %p\\n\", bar);\n\n    if (argc != 2) \n    {\n        printf(\"Please supply a string as an argument!\\n\");\n        return -1;\n    } \n\n    foo(argv[1]);\n    return 0;\n}\n</code></pre>\n\n<p>The code \"cheats\" by giving the addresses of the two functions foo and bar. The ultimate goal is to get bar to run using only buffer overflow. To do this, they gave a short Perl script:</p>\n\n<pre><code>$arg = \"ABCDEFGHIJKLMNOP\".\"\\x50\\x10\\x40\";\n$cmd = \"StackOverrun \".$arg;\nsystem($cmd);\n</code></pre>\n\n<p>Since I'm using Linux instead of Windows, and since the address of my <code>bar</code> function was slightly different, I made a couple of simple fixes:</p>\n\n<pre><code>$arg = \"ABCDEFGHIJKLMNOP\".\"\\xf7\\x05\\x40\";\n$cmd = \"./prog \".$arg;\nsystem($cmd);\n</code></pre>\n\n<p>I would think that it should work the same way as it did in their example; the Perl script is run and it gives the filler text to the program, followed by the new return address to run <code>bar</code>. But it doesn't work for me.</p>\n\n<p>This is the output from running my Perl script:</p>\n\n<pre><code>Address of foo: 0x400596\nAddress of bar: 0x4005f7\nThe current stack:\n0x7fffe6b4abd8\n0x7faba670c7a0\n0x1d\n0x6\n0x7faba63b099a\n0x7fffe6b4ad00\n\nABCDEFGHIJKLMNOPP\ufffd\nStack after input:\n0x7ffc31998568\n0x7f9a7c6ed7a0\n0x7f9a7c421e50\n0xf70550504f4e4d4c\n0x7f9a7c39199a\n0x7ffc31998690\n</code></pre>\n\n<p>In my output, the only address that appears to hold any of the filler text is the third from the last address, the one immediately before the return address.</p>\n\n<p>I suspect the issue comes from using gcc to compile my program, but I'm not sure what exactly is causing it. The issue may also be Debian. Here's how I compiled the program:</p>\n\n<pre><code>gcc -z execstack -fno-stack-protector prog.c -o prog\n</code></pre>\n\n<p>My hope was that compiling without the stack protector would allow me to follow the example without issues.</p>\n\n<p>Any help would be great, I'm completely stuck. Realistically I could simply switch to Windows, but at this point I really want to know why it won't work and how to fix it.</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461942634, "post_id": 36941647, "comment_id": 61442653, "body": "Welcome to StackOverflow and the Perl tag. Please <a href=\"https://stackoverflow.com/posts/36941647/edit\">edit</a> your question and show the actual input XML. Since XML::Simple is discouraged (and says so itself), you will likely receive concise answers that do what you want in a lot less code, but with a different XML module. For that, we need the source XML."}, {"owner": {"reputation": 7, "user_id": 6272008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd67285f9770c227a975467f14c6428?s=128&d=identicon&r=PG&f=1", "display_name": "MkDwonderer", "link": "https://stackoverflow.com/users/6272008/mkdwonderer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461944436, "post_id": 36941647, "comment_id": 61443752, "body": "Thanks simbabque, yes i saw that warning in the documentation too, live and learn i guess :)"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461945671, "post_id": 36942458, "comment_id": 61444482, "body": "@simbabque: It&#39;s there because the OP has explained that <code>$data</code> is actually the result of an <code>XMLin</code> call in the real code, rather than a data literal which isn&#39;t of much practical use. So it <i>will</i> be necessary in the OP&#39;s final solution"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461945813, "post_id": 36942458, "comment_id": 61444551, "body": "With your commented explanation it of course makes sense."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1467569178, "last_edit_date": 1495542166, "creation_date": 1461944390, "answer_id": 36942458, "question_id": 36941647, "link": "https://stackoverflow.com/questions/36941647/how-to-best-reiterate-through-this-perl-data-structure-for-desired-output-is-i/36942458#36942458", "title": "How to best reiterate through this perl data structure for desired output ? Is it possible without rebuilding existing one?", "body": "<p>As <a href=\"https://stackoverflow.com/questions/36941647/how-to-best-reiterate-through-this-perl-data-structure-for-desired-output-is-i#comment61442653_36941647\">simbabque <em>intimated in his comment</em></a>, <code>XML::Simple</code> is generally frowned upon for a number of reasons. You may want to read the Stack Overflow question <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><em>Why is XML::Simple \"Discouraged\"?</em></a> to understand better why that is</p>\n\n<p>However you immediate problem is how to navigate a fairly ordinary Perl nested data structure, and you will find a useful tutorial on that in <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlreftut</code></a></p>\n\n<p>Here's a simple solution to your problem. The items of interest are the values of the  second-level hash that has <code>UserRequest</code>, so this program iterates over those and prints the required fields from each of them</p>\n\n<p>The <code>printf</code> uses a hash <em>slice</em> to access all three fields at once, with keys <code>HomeFileName</code>, <code>Stage</code>, and <code>IdentityUserNumber</code>. The <code>printf</code> format displays all three on a single line in the format that you have asked for</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse XML::Simple;\n\n# my $data = XMLin(...);\n\nmy $data = {\n    'xmlns:i'     =&gt; 'http://www.w3.org/2001/XMLSchema-instance',\n    'xmlns'       =&gt; 'http://example.com',\n    'UserRequest' =&gt; {\n        'i1' =&gt; {\n            'Id'                 =&gt; 'e012',\n            'Dependencies'       =&gt; [ {} ],\n            'xmlns:z'            =&gt; 'http://schemas.microsoft.com/2003/10/Serialization/',\n            'IdentityUserNumber' =&gt; '123',\n            'Stage'              =&gt; 'UserFaulted',\n            'StartTimestamp'     =&gt; '2016-04-29T00:05:11',\n            'HomeFileName'       =&gt; 'filename1.req',\n            'UseBypass'          =&gt; 'false'\n        },\n        'i2' =&gt; {\n            'Id'                 =&gt; 'e013',\n            'Dependencies'       =&gt; [ {} ],\n            'xmlns:z'            =&gt; 'http://schemas.microsoft.com/2003/10/Serialization/',\n            'IdentityUserNumber' =&gt; '321',\n            'Stage'              =&gt; 'UserFaulted',\n            'StartTimestamp'     =&gt; '2016-04-19T19:50:18',\n            'HomeFileName'       =&gt; 'filename2.req',\n            'UseBypass'          =&gt; 'false'\n        }\n    }\n};\n\nfor my $request ( values %{ $data-&gt;{UserRequest} } ) {\n    printf \"%s, %s,%s\\n\", @{$request}{qw/ HomeFileName  Stage  IdentityUserNumber  /};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>filename1.req, UserFaulted,123\nfilename2.req, UserFaulted,321\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467569150, "last_edit_date": 1467569150, "creation_date": 1461945484, "answer_id": 36942796, "question_id": 36941647, "link": "https://stackoverflow.com/questions/36941647/how-to-best-reiterate-through-this-perl-data-structure-for-desired-output-is-i/36942796#36942796", "title": "How to best reiterate through this perl data structure for desired output ? Is it possible without rebuilding existing one?", "body": "<p>Thank you for showing the XML data. It helps a lot</p>\n\n<p>Here's a solution that uses the <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a> module to parse the data. It's a little more complicated than it could be because your data uses the default namespace with <code>xmlns=\"http://example.com\"</code>. That namespace must be defined and used explicitly in an XPath expression, which means you also need to create an XPath context object using the <a href=\"https://metacpan.org/pod/XML::LibXML::XPathContext\" rel=\"nofollow\"><code>XML::LibXML::XPathContext</code></a> module. That allows you to register namespaces and use them in your XPath expressions. Even the default namespace must have a name, so I've called it <code>nul</code>, and prefixed every node name with <code>nul:</code></p>\n\n<p>The code is quite simple. It uses <code>findnodes</code> to locate all <code>UserRequest</code> nodes, and pulls the values of the <code>HomeFileName</code>, <code>Stage</code>, and <code>IdentityUserNumber</code> children from each of them, printing the results with a <code>printf</code> call</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse XML::LibXML;\n\nmy $dom = XML::LibXML-&gt;load_xml(IO =&gt; \\*DATA);\nmy $xpc = XML::LibXML::XPathContext-&gt;new($dom);\n$xpc-&gt;registerNs(nul =&gt; 'http://example.com');\n\nfor my $request ( $xpc-&gt;findnodes('/nul:ArrayOfUserRequest/nul:UserRequest') ) {\n\n    printf \"%s, %s,%s\\n\",\n            $xpc-&gt;findvalue('nul:HomeFileName', $request),\n            $xpc-&gt;findvalue('nul:Stage', $request),\n            $xpc-&gt;findvalue('nul:IdentityUserNumber', $request);\n}\n\n__DATA__\n&lt;ArrayOfUserRequest xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://example.com\"&gt;\n&lt;UserRequest xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" z:Id=\"i1\"&gt;\n    &lt;Dependencies/&gt;\n    &lt;HomeFileName&gt;filename1.req&lt;/HomeFileName&gt;\n    &lt;IdentityUserNumber&gt;123&lt;/IdentityUserNumber&gt;\n    &lt;Stage&gt;UserFaulted&lt;/Stage&gt;\n    &lt;StartTimestamp&gt;2016-04-29T00:05:11&lt;/StartTimestamp&gt;\n    &lt;UseBypass&gt;false&lt;/UseBypass&gt;\n&lt;/UserRequest&gt;\n&lt;UserRequest xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" z:Id=\"i2\"&gt;\n    &lt;Dependencies/&gt;\n    &lt;HomeFileName&gt;filename2.req&lt;/HomeFileName&gt;\n    &lt;IdentityUserNumber&gt;321&lt;/IdentityUserNumber&gt;\n    &lt;Stage&gt;UserFaulted&lt;/Stage&gt;\n    &lt;StartTimestamp&gt;2016-04-20T15:44:51&lt;/StartTimestamp&gt;\n&lt;UseBypass&gt;false&lt;/UseBypass&gt;\n&lt;/UserRequest&gt;\n&lt;/ArrayOfUserRequest&gt;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>filename1.req, UserFaulted,123\nfilename2.req, UserFaulted,321\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 6272008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd67285f9770c227a975467f14c6428?s=128&d=identicon&r=PG&f=1", "display_name": "MkDwonderer", "link": "https://stackoverflow.com/users/6272008/mkdwonderer"}, "edited": false, "score": 1, "creation_date": 1470948975, "post_id": 36942981, "comment_id": 65170386, "body": "thank you for letting me know about this gem (XML::Twig) just used this in another project! Saved so much time!!! Thanks Again :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1461946082, "creation_date": 1461946082, "answer_id": 36942981, "question_id": 36941647, "link": "https://stackoverflow.com/questions/36941647/how-to-best-reiterate-through-this-perl-data-structure-for-desired-output-is-i/36942981#36942981", "title": "How to best reiterate through this perl data structure for desired output ? Is it possible without rebuilding existing one?", "body": "<p>It looks like you're just trying to print the elements <code>HomeFileName</code> and <code>Stage</code>. </p>\n\n<p>That being so, using something like XML::Twig lets you:</p>\n\n<pre><code>use XML::Twig;\n\nmy @things = qw ( HomeFileName Stage IdentityUserNumber ); \n\nmy $twig = XML::Twig-&gt;parse($api_faultedreqs);\n\nforeach my $user_request ( $twig-&gt;get_xpath('//UserRequest') ) {\n    print join \",\", (map { $user_request -&gt; first_child_text($_) } @things), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 6272008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd67285f9770c227a975467f14c6428?s=128&d=identicon&r=PG&f=1", "display_name": "MkDwonderer", "link": "https://stackoverflow.com/users/6272008/mkdwonderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 36942796, "answer_count": 3, "score": 0, "last_activity_date": 1467569178, "creation_date": 1461942027, "last_edit_date": 1461944323, "question_id": 36941647, "link": "https://stackoverflow.com/questions/36941647/how-to-best-reiterate-through-this-perl-data-structure-for-desired-output-is-i", "title": "How to best reiterate through this perl data structure for desired output ? Is it possible without rebuilding existing one?", "body": "<p>Perl beginner here, i have a script which makes api call, collects feedback in xml format, then using XML::Simple, massages data into below data structure, im trying to shoot for the following output:</p>\n\n<p>filename1.req, UserFaulted,123</p>\n\n<p>filename2.req, UserFaulted,321</p>\n\n<p>Data Structure:</p>\n\n<pre><code>$VAR1 = {\n      'xmlns:i' =&gt; 'http://www.w3.org/2001/XMLSchema-instance',\n      'xmlns' =&gt; 'http://example.com',\n      'UserRequest' =&gt; {\n                       'i1' =&gt; {\n                               'Id' =&gt; 'e012',\n                               'Dependencies' =&gt; [\n                                                 {}\n                                               ],\n                               'xmlns:z' =&gt; 'http://schemas.microsoft.com/2003/10/Serialization/',\n                               'IdentityUserNumber' =&gt; '123',\n                               'Stage' =&gt; 'UserFaulted',\n                               'StartTimestamp' =&gt; '2016-04-29T00:05:11',\n                               'HomeFileName' =&gt; 'filename1.req',\n                               'UseBypass' =&gt; 'false'\n                             },\n                       'i2' =&gt; {\n                               'Id' =&gt; 'e013',\n                               'Dependencies' =&gt; [\n                                                 {}\n                                               ],\n                               'xmlns:z' =&gt; 'http://schemas.microsoft.com/2003/10/Serialization/',\n                               'IdentityUserNumber' =&gt; '321',\n                               'Stage' =&gt; 'UserFaulted',\n                               'StartTimestamp' =&gt; '2016-04-19T19:50:18',\n                               'HomeFileName' =&gt; 'filename2.req',\n                               'UseBypass' =&gt; 'false'\n                             }\n\n                     }\n    };\n</code></pre>\n\n<p>Here is what i have so far, at this point im starting to think i shot myself in the foot, but any feedback or suggestions would be greatly appreciated</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Simple qw(:strict);\nuse Data::Dumper;\n\n\n\nmy $time = \"2016-04-19\";\n\nmy $api_faultedreqs = `curl -x 111.222.333.444:8080 -U user:pass -H \"Accept: application/xml\" -H \"Content-Type: application/xml\" \"https://example.com\" 2&gt;/dev/null`;\n\n\n\nmy $xml_fault_reqs = XMLin($api_faultedreqs, KeyAttr =&gt; { UserRequest =&gt; 'Id' }, ForceArray =&gt; [ 'UserRequest', 'Dependencies' ]);\nmy %xml_fault_reqs = %$xml_fault_reqs;\nmy %clean_out = ();\n\n\nprint Dumper($xml_fault_reqs);\n\n#print $xml_fault_reqs-&gt;{UserRequest}-&gt;{i1}-&gt;{HomeFileName};\n\nfor my $outer_key (keys %xml_fault_reqs){\n        next if $outer_key =~/xmlns/;\n                for my $req_ids2 (keys %{ $xml_fault_reqs{$outer_key} }){\n                        for my $req_data (keys %{ $xml_fault_reqs{$outer_key}{$req_ids2} }){\n                                next if $req_data =~/xmlns/ or $req_data =~/Dependencies/ or $req_data =~/UseBypass/ or $req_data =~/EndTimestamp/;\n                                #print \"$req_data, $xml_fault_reqs{$outer_key}{$req_ids2}{$req_data}\\n\";\n                                print \"$xml_fault_reqs{$outer_key}{$req_ids2}{HomeFileName}, $xml_fault_reqs{$outer_key}{$req_ids2}{Stage}\\n\";\n                        }\n                }\n}\n</code></pre>\n\n<p>XML output as requested:</p>\n\n<pre><code>&lt;ArrayOfUserRequest xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://example.com\"&gt;\n&lt;UserRequest xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" z:Id=\"i1\"&gt;\n    &lt;Dependencies/&gt;\n    &lt;HomeFileName&gt;filename1.req&lt;/HomeFileName&gt;\n    &lt;IdentityUserNumber&gt;123&lt;/IdentityUserNumber&gt;\n    &lt;Stage&gt;UserFaulted&lt;/Stage&gt;\n    &lt;StartTimestamp&gt;2016-04-29T00:05:11&lt;/StartTimestamp&gt;\n    &lt;UseBypass&gt;false&lt;/UseBypass&gt;\n&lt;/UserRequest&gt;\n&lt;UserRequest xmlns:z=\"http://schemas.microsoft.com/2003/10/Serialization/\" z:Id=\"i2\"&gt;\n    &lt;Dependencies/&gt;\n    &lt;HomeFileName&gt;filename2.req&lt;/HomeFileName&gt;\n    &lt;IdentityUserNumber&gt;321&lt;/IdentityUserNumber&gt;\n    &lt;Stage&gt;UserFaulted&lt;/Stage&gt;\n    &lt;StartTimestamp&gt;2016-04-20T15:44:51&lt;/StartTimestamp&gt;\n&lt;UseBypass&gt;false&lt;/UseBypass&gt;\n&lt;/UserRequest&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["perl", "printing"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1461940567, "post_id": 36941037, "comment_id": 61441130, "body": "Please provide some of the sample input data, as well as what output you&#39;d like to see. Without seeing data, we don&#39;t know if <code>interface</code> and <code>description</code> are on the same line. That&#39;s one likely issue, as is the fact that you may be printing from the wrong location."}, {"owner": {"reputation": 1, "user_id": 6271992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd57d19f10aaff1c599b02804ca699c6?s=128&d=identicon&r=PG&f=1", "display_name": "dspicer", "link": "https://stackoverflow.com/users/6271992/dspicer"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1461941021, "post_id": 36941037, "comment_id": 61441448, "body": "interface FastEthernet0/1  spanning-tree portfast ! interface FastEthernet0/2  spanning-tree portfast ! interface FastEthernet0/3  description AP STM  spanning-tree portfast ! interface FastEthernet0/4  description PORTAGE  spanning-tree portfast"}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "edited": false, "score": 0, "creation_date": 1461941253, "post_id": 36941037, "comment_id": 61441635, "body": "also, in the current code you don&#39;t print 2 variables, you only print &quot;$a,\\n&quot;;"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1461941461, "post_id": 36941037, "comment_id": 61441808, "body": "is that one line of the file, or many. Update your question, paste in 5 or so lines, and ensure they are separated properly so we know what we&#39;re dealing with. I&#39;m suspecting <code>$a, $b, $c</code> are being overwritten on every iteration/line"}, {"owner": {"reputation": 1, "user_id": 6271992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd57d19f10aaff1c599b02804ca699c6?s=128&d=identicon&r=PG&f=1", "display_name": "dspicer", "link": "https://stackoverflow.com/users/6271992/dspicer"}, "edited": false, "score": 0, "creation_date": 1461941767, "post_id": 36941037, "comment_id": 61442049, "body": "I was trying to print $a, some spaces, then $b originally.  When that didn&#39;t work, I then decided to just print $a with a comma AFTER the value.  I tried to join the two variables into a new string, same problem."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6271992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd57d19f10aaff1c599b02804ca699c6?s=128&d=identicon&r=PG&f=1", "display_name": "dspicer", "link": "https://stackoverflow.com/users/6271992/dspicer"}, "edited": false, "score": 0, "creation_date": 1461942136, "post_id": 36941430, "comment_id": 61442285, "body": "That was it!  I added s/\\r\\n\\z//; to the loop, now it works right.  So what did that do, and why is this even a problem?  I&#39;m not running Windows, I have a Mac."}, {"owner": {"reputation": 1003, "user_id": 615982, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0be626806a146529a4b2cd684be0db4?s=128&d=identicon&r=PG", "display_name": "Dave W", "link": "https://stackoverflow.com/users/615982/dave-w"}, "edited": false, "score": 0, "creation_date": 1461964789, "post_id": 36941430, "comment_id": 61453810, "body": "There are (at least) 2 standard line end character sequences; Unix-style (&quot;\\n&quot;), and Windows-style (&quot;\\r\\n&quot;).  Your file was obviously created with the latter, which would be unusual on a Mac, but not impossible. Depends on what you used to create it."}, {"owner": {"reputation": 1, "user_id": 6271992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd57d19f10aaff1c599b02804ca699c6?s=128&d=identicon&r=PG&f=1", "display_name": "dspicer", "link": "https://stackoverflow.com/users/6271992/dspicer"}, "edited": false, "score": 0, "creation_date": 1462046021, "post_id": 36941430, "comment_id": 61476593, "body": "That&#39;s what I don&#39;t understand.  The &quot;sw.cfg&quot; file was created by running expect module from a perl script, SSH to a switch, typing &quot;show run&quot;, and capturing the output to a file specified in $exp-&gt;logfile (&quot;sw.cfg&quot;,&quot;w&quot;); line.  The script was run on my Mac."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1461941458, "creation_date": 1461941458, "answer_id": 36941430, "question_id": 36941037, "link": "https://stackoverflow.com/questions/36941037/perl-print-2-variables-overwrites-the-first/36941430#36941430", "title": "Perl print 2 variables overwrites the first", "body": "<p>You are reading a Windows-style text file (CRLF endings) when a unix-style text file (LF endings) is expected.</p>\n\n<p>Either,</p>\n\n<ul>\n<li>convert the file (e.g. using <code>dos2unix</code>),</li>\n<li>add a <code>:crlf</code> layer when you open the file, or</li>\n<li>remove the CR yourself (e.g. by using <code>s/\\s+\\z//;</code> instead of <code>chomp;</code>).</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 6271992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd57d19f10aaff1c599b02804ca699c6?s=128&d=identicon&r=PG&f=1", "display_name": "dspicer", "link": "https://stackoverflow.com/users/6271992/dspicer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "closed_date": 1461941691, "answer_count": 1, "score": 0, "last_activity_date": 1461945677, "creation_date": 1461940420, "last_edit_date": 1495542236, "question_id": 36941037, "link": "https://stackoverflow.com/questions/36941037/perl-print-2-variables-overwrites-the-first", "closed_reason": "Duplicate", "title": "Perl print 2 variables overwrites the first", "body": "<p>When I print 2 variables on a single line, the second variable overwrites the first one.  I suspect a \"hidden\" character in one of the strings, as described here <a href=\"https://stackoverflow.com/questions/31070794/concatenateing-string-variables-overwrites-them\">concatenateing string variables overwrites them</a></p>\n\n<p>How do I print \"correctly\"?  And how can I make Perl tell me exactly every single character in a string assigned to the variable?  If it's not a \"hidden\" character, then what's the problem?</p>\n\n<p>Code is ...</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nprint \"\\n\\nstart\\n\\n\";\nopen CFG, \"sw.cfg\"\n        or die \"Unable to open file sw.cfg: $!\";\nmy $a;\nmy $b;\nmy $c;\nwhile (&lt;CFG&gt;) {\n    if (/interface/)  {\n        $a = substr ($_, 10);\n    }\n    if (/description/) {\n        $b = substr ($_, 12);\n        chomp ($a);\n        chomp ($b);\n        # $c = join (\"--\", $a, $b);\n        print \"$a,\\n\";\n        # print \"$c\\n\"     \n    }\n}\n</code></pre>\n\n<p>Some of the input data from the file handle</p>\n\n<pre><code>interface FastEthernet0/1\n spanning-tree portfast\n!\ninterface FastEthernet0/2\n spanning-tree portfast\n!\ninterface FastEthernet0/3\n description AP STM\n spanning-tree portfast\n!\ninterface FastEthernet0/4\n description PORTAGE\n spanning-tree portfast\n    enter code here\n</code></pre>\n\n<p>What my script actually outputs...</p>\n\n<pre><code>    start\n\n,astEthernet0/3\n,astEthernet0/4\n,astEthernet0/5\n,astEthernet0/7\n,astEthernet0/9\n,astEthernet0/11\n</code></pre>\n\n<p>I'd think it should put the comma after it prints \"FastEthernet 0/3\"</p>\n\n<p>This fixed the problem...</p>\n\n<pre><code>while (&lt;CFG&gt;) {\n        **s/\\r\\n\\z//;**\n        if (/interface/)  {\n</code></pre>\n"}, {"tags": ["mysql", "perl", "full-text-search", "dbi"], "comments": [{"owner": {"reputation": 13, "user_id": 5891180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cUf4dTyY41E/AAAAAAAAAAI/AAAAAAAAOY0/hmYr9jZluNc/photo.jpg?sz=128", "display_name": "Tsubasa Kato", "link": "https://stackoverflow.com/users/5891180/tsubasa-kato"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1461935086, "post_id": 36938777, "comment_id": 61437208, "body": "Thanks for the suggestion, I&#39;ve edited the code so that it fits. Is it better now?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5891180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cUf4dTyY41E/AAAAAAAAAAI/AAAAAAAAOY0/hmYr9jZluNc/photo.jpg?sz=128", "display_name": "Tsubasa Kato", "link": "https://stackoverflow.com/users/5891180/tsubasa-kato"}, "edited": false, "score": 1, "creation_date": 1461937649, "post_id": 36939050, "comment_id": 61439049, "body": "Thank you very much, making the limit and offset have placeholder as well as placeholder in BOOLEAN MODE did the trick!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 13, "user_id": 5891180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cUf4dTyY41E/AAAAAAAAAAI/AAAAAAAAOY0/hmYr9jZluNc/photo.jpg?sz=128", "display_name": "Tsubasa Kato", "link": "https://stackoverflow.com/users/5891180/tsubasa-kato"}, "edited": false, "score": 0, "creation_date": 1461939209, "post_id": 36939050, "comment_id": 61440158, "body": "@TsubasaKato glad I could help. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how to accept an answer if it solved your problem :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1461936160, "last_edit_date": 1461936160, "creation_date": 1461934839, "answer_id": 36939050, "question_id": 36938777, "link": "https://stackoverflow.com/questions/36938777/perl-mysql-fulltext-search/36939050#36939050", "title": "Perl MySQL Fulltext Search", "body": "<p><a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow\">DBI's placeholders</a> are the way to go here. It will take care of escaping stuff for you.</p>\n\n<pre><code>my $sql = &lt;&lt;'CURSOR_1';\nselect distinct url, keywords, description, title\nfrom searchdatabase where\nmatch ( searchdatabase.title, searchdatabase.keywords, searchdatabase.description )\nagainst (? IN BOOLEAN MODE)\norder by authority_rank desc, rank desc limit 10 offset $page;\nCURSOR_1\n</code></pre>\n\n<p>You basically put <code>?</code> into the query. When you call it, pass the parameters into <code>execute</code>.</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare( $sql );\n$cursor-&gt;execute( $datasent) ;\n</code></pre>\n\n<p>For <code>$page</code> this will not work because it's not part of the WHERE clause. Instead, you should just make sure that it contains a number in case it comes from outside.</p>\n\n<pre><code>die 'offset needs to be numeric' if $page =~ /\\D/;\n</code></pre>\n\n<hr>\n\n<p>Since you're a new user, here are a few notes about your code:</p>\n\n<ul>\n<li>always <code>use strict</code> and <code>use warnings</code> &ndash; they make your life easier</li>\n<li>then declare your variables with <code>my</code></li>\n<li><code>$ALL_CAPS</code> variables are usually used for globals variables in Perl</li>\n<li>in a DBI context, statement handles are usually named <code>$sth</code></li>\n<li>don't use the ampersand in <code>&amp;foo()</code>, it doesn't do what you think</li>\n<li>you don't need to put single variables into double quotes for interpolation</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5891180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cUf4dTyY41E/AAAAAAAAAAI/AAAAAAAAOY0/hmYr9jZluNc/photo.jpg?sz=128", "display_name": "Tsubasa Kato", "link": "https://stackoverflow.com/users/5891180/tsubasa-kato"}, "edited": false, "score": 0, "creation_date": 1461939797, "post_id": 36940700, "comment_id": 61440579, "body": "Yes, that is what I meant to figure out first. I forgot to add a bit to the $datasent part. I coded <code>$datasent = &quot;\\+$datasent&quot;;</code> in front of the + substitution lines. Is this correct?"}, {"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "reply_to_user": {"reputation": 13, "user_id": 5891180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cUf4dTyY41E/AAAAAAAAAAI/AAAAAAAAOY0/hmYr9jZluNc/photo.jpg?sz=128", "display_name": "Tsubasa Kato", "link": "https://stackoverflow.com/users/5891180/tsubasa-kato"}, "edited": false, "score": 0, "creation_date": 1461940178, "post_id": 36940700, "comment_id": 61440844, "body": "In similar code I have, I first strip out all the &#39;+&#39; and &#39;-&#39; symbols, then re-add them, paying attention to quoted strings. I can update my answer with that info, but can&#39;t get to it right now."}, {"owner": {"reputation": 13, "user_id": 5891180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cUf4dTyY41E/AAAAAAAAAAI/AAAAAAAAOY0/hmYr9jZluNc/photo.jpg?sz=128", "display_name": "Tsubasa Kato", "link": "https://stackoverflow.com/users/5891180/tsubasa-kato"}, "edited": false, "score": 0, "creation_date": 1461961092, "post_id": 36940700, "comment_id": 61452067, "body": "Thank you for the suggestion. I will try to figure out to do like you suggested."}], "tags": [], "owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "is_accepted": false, "score": 1, "last_activity_date": 1461956743, "last_edit_date": 1461956743, "creation_date": 1461939453, "answer_id": 36940700, "question_id": 36938777, "link": "https://stackoverflow.com/questions/36938777/perl-mysql-fulltext-search/36940700#36940700", "title": "Perl MySQL Fulltext Search", "body": "<p>In addition to @simbabque's great suggestions, let me explain the <code>+</code> substitution.</p>\n\n<p>A fulltext search <code>BOOLEAN</code> mode, by default probably does not do what you expect. \"By default (when neither + nor - is specified) the word is optional, but the rows that contain it are rated higher... \" See the <a href=\"https://dev.mysql.com/doc/refman/5.5/en/fulltext-boolean.html\" rel=\"nofollow\">Mysql Docs</a>.</p>\n\n<p>So if your user searches for <code>red apple</code> they will get anything with \"red\" OR \"apple\" in some priority decided by mysql. Which you may decide is likely not what they want. So in the back end, you can replace the user's search with <code>+red +apple</code> which tells mysql to search for \"red AND apple\".</p>\n\n<p>This is what I have</p>\n\n<pre><code>$datasent =~ s/[+\\-&lt;&gt;)(]/ /g;     #These have special meaning in the sql search that people probably don't want.\n$datasent =~ s/(\".*?\"|\\S+)/+$1/g; #Add '+' for the boolean search and pay attention to quotes.\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5891180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cUf4dTyY41E/AAAAAAAAAAI/AAAAAAAAOY0/hmYr9jZluNc/photo.jpg?sz=128", "display_name": "Tsubasa Kato", "link": "https://stackoverflow.com/users/5891180/tsubasa-kato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 36939050, "answer_count": 2, "score": 1, "last_activity_date": 1461956743, "creation_date": 1461934100, "last_edit_date": 1461935039, "question_id": 36938777, "link": "https://stackoverflow.com/questions/36938777/perl-mysql-fulltext-search", "title": "Perl MySQL Fulltext Search", "body": "<p>I'm new to this site. </p>\n\n<p>I have the following code to search against three columns with fulltext index. (searchdatabase.title, searchdatabase.keywords, searchdatabase.description)</p>\n\n<pre><code>$SQL_QUERY=&lt;&lt;__CURSOR_1__;\nselect distinct url, keywords, description, title from searchdatabase \nwhere match ( searchdatabase.title, searchdatabase.keywords, \nsearchdatabase.description ) against ('$datasent' IN BOOLEAN MODE)\norder by authority_rank desc, rank desc limit 10 offset $page;\n__CURSOR_1__\n\n\n$dbh = DBI -&gt; connect ($dns, $username, $password) \nor &amp;Error(\"Can not connect to database.\");\n\n$cursor = $dbh-&gt;prepare( \"$SQL_QUERY\" );\n$cursor-&gt;execute;\n</code></pre>\n\n<p>With my limited knowledge of Perl fulltext search and SQL, I have the following code before the above code to do some SQL injection prevention and make spaces \"+\" in order to search.</p>\n\n<pre><code>$datasent =~ s/ / +/g;\n$datasent =~ s/\u3000/ +/g;\n$datasent =~ s/\\n//g;\n$datasent =~ s/&lt;//g;\n$datasent =~ s/\\x00//g;\n$datasent =~ s/\\r//g;\n$datasent =~ s/\\x1a//g;\n$datasent =~ s/\\;//g; \n$datasent =~ s/\\*//g; \n$datasent =~ s/\\'//g; \n$datasent =~ s/\\\"//g; \n</code></pre>\n\n<p>Is this the right way to do this?\nI have a feeling something's wrong with making spaces into \"+\"... </p>\n"}, {"tags": ["perl", "selenium", "testing", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1461933018, "post_id": 36938374, "comment_id": 61435853, "body": "Very good answer. You can improve it by adding a reference <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver#upload_file\" rel=\"nofollow noreferrer\">to this documentation</a> on how to do it in Perl. :)"}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1461933949, "post_id": 36938374, "comment_id": 61436443, "body": "i don&#39;t have input instead. How can i do differently ?"}, {"owner": {"reputation": 3566, "user_id": 1906391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c4f504b2246ccd8d62d8751f2729d5d?s=128&d=identicon&r=PG&f=1", "display_name": "RemcoW", "link": "https://stackoverflow.com/users/1906391/remcow"}, "reply_to_user": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 1, "creation_date": 1461934083, "post_id": 36938374, "comment_id": 61436523, "body": "@Chaoui05 Any chance you could edit you original question and add the relevant HTML. It&#39;d be easier to help you that way."}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1461934968, "post_id": 36938374, "comment_id": 61437124, "body": "I can only add a screenshot cause my html is a layout and i use Developper Tools from Chrome. Is it ok ?"}, {"owner": {"reputation": 3566, "user_id": 1906391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c4f504b2246ccd8d62d8751f2729d5d?s=128&d=identicon&r=PG&f=1", "display_name": "RemcoW", "link": "https://stackoverflow.com/users/1906391/remcow"}, "reply_to_user": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1461935025, "post_id": 36938374, "comment_id": 61437167, "body": "@Chaoui05 Ofcourse as long as we can see the code it&#39;s fine"}, {"owner": {"reputation": 3566, "user_id": 1906391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c4f504b2246ccd8d62d8751f2729d5d?s=128&d=identicon&r=PG&f=1", "display_name": "RemcoW", "link": "https://stackoverflow.com/users/1906391/remcow"}, "reply_to_user": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1461935099, "post_id": 36938374, "comment_id": 61437216, "body": "@Chaoui05 If you are working on a public website that you can share so we can see the live version it would be even better."}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1461936849, "post_id": 36938374, "comment_id": 61438493, "body": "i&#39;am working in local for the moment . I would appreciate you see my creation. Sorry"}, {"owner": {"reputation": 3566, "user_id": 1906391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c4f504b2246ccd8d62d8751f2729d5d?s=128&d=identicon&r=PG&f=1", "display_name": "RemcoW", "link": "https://stackoverflow.com/users/1906391/remcow"}, "reply_to_user": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1461937891, "post_id": 36938374, "comment_id": 61439252, "body": "@Chaoui05 What are the contents of the div with class dx-fileuploader-files-container? The div you opened is just the button. I&#39;m thinking the input might be in the div under this."}, {"owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "edited": false, "score": 0, "creation_date": 1461939416, "post_id": 36938374, "comment_id": 61440305, "body": "It works right now with this input. I give you more explanations in following edit . Thanks !"}], "tags": [], "owner": {"reputation": 3566, "user_id": 1906391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c4f504b2246ccd8d62d8751f2729d5d?s=128&d=identicon&r=PG&f=1", "display_name": "RemcoW", "link": "https://stackoverflow.com/users/1906391/remcow"}, "is_accepted": false, "score": 2, "last_activity_date": 1461932902, "creation_date": 1461932902, "answer_id": 36938374, "question_id": 36936634, "link": "https://stackoverflow.com/questions/36936634/how-to-upload-a-file-in-a-test-through-open-windows-using-seleniumremotedriv/36938374#36938374", "title": "How to upload a file in a test through Open Windows using Selenium::Remote::Driver Perl package", "body": "<p>Selenium can not deal with OS dialogs. Therefore there is no way to deal with this dialog. This means you need to upload a file without opening it.\nLuckily Selenium allows the user to send the filepath to the file input. This will upload the file.</p>\n\n<p>In order to make it work you first need to find the input element instead of the button. It'll look something like:</p>\n\n<pre><code>&lt;input type='file'&gt;\n</code></pre>\n\n<p>Once you've found this element you can send the filepath to it like you would send any text to a textfield. I'm not sure how to do this in perl, but in Python you can achieve it like this:</p>\n\n<pre><code>element.send_keys('path/to/file')\n</code></pre>\n\n<p>You'll probably know yourself what the perl equivalent is.</p>\n"}, {"tags": [], "owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "is_accepted": false, "score": 0, "last_activity_date": 1461940677, "creation_date": 1461940677, "answer_id": 36941142, "question_id": 36936634, "link": "https://stackoverflow.com/questions/36936634/how-to-upload-a-file-in-a-test-through-open-windows-using-seleniumremotedriv/36941142#36941142", "title": "How to upload a file in a test through Open Windows using Selenium::Remote::Driver Perl package", "body": "<p>In fact, it's more specifical. I have two ways to upload a file in my web application :</p>\n\n<p>First user can use a button 'select file'.</p>\n\n<p>Second you can drop directly file .\nBy second way, and using \"upload_file\" method in Selenium::Remote::Driver package as it was proposed here, it's possible. I do that :</p>\n\n<pre><code>my $fname = \"D:/dev/tests/selenium/phantomjs-2.1.1-windows.zip\";\nmy $remote_fname = $driver-&gt;upload_file( $fname );\n    my $element = $driver-&gt;find_element( '//*[@id=\"file_uploader\"]/div/div/div/div[1]/div[2]/input[@class=\"dx-fileuploader-input\"]' );\n    $element-&gt;send_keys( $remote_fname );\n</code></pre>\n\n<p>But not with my \"button\".</p>\n\n<p>How is it possible ? I'm forwarding you additional screenshots here :</p>\n\n<p><a href=\"http://i.stack.imgur.com/5cfcj.png\" rel=\"nofollow\">In red 'button' and blue 'drop file'</a></p>\n"}], "owner": {"reputation": 268, "user_id": 6172033, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c38e92e816ce57380dbd9adda77fcf0?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoui05", "link": "https://stackoverflow.com/users/6172033/chaoui05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461940677, "creation_date": 1461927757, "last_edit_date": 1461937043, "question_id": 36936634, "link": "https://stackoverflow.com/questions/36936634/how-to-upload-a-file-in-a-test-through-open-windows-using-seleniumremotedriv", "title": "How to upload a file in a test through Open Windows using Selenium::Remote::Driver Perl package", "body": "<p>Below are the additional bullets :\n I can get my \"button\" with following code :</p>\n\n<pre><code> $elem = $driver-&gt;find_element('//*[@id=\"file_uploader\"]/div/div/div/div[1]/div[1]/div/span');\n     $driver-&gt;mouse_move_to_location(element =&gt; $elem); # xoffset =&gt; x, yoffset =&gt; y\n     $driver-&gt;click_ok('LEFT');\n     $driver-&gt;pause(3000);\n</code></pre>\n\n<p>But after that, I can't get anything in Opened Window which appears . How is it possible to upload a file?</p>\n\n<p>PS: Here screenshot of my Developper Tools.</p>\n\n<p><a href=\"http://i.stack.imgur.com/FyaM4.png\" rel=\"nofollow\">In Blue</a></p>\n\n<p>Thanks in advance !</p>\n"}, {"tags": ["perl", "log4perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1461916834, "post_id": 36932639, "comment_id": 61425148, "body": "How do you decide that it is &quot;<i>significant</i>&quot;?  What does &quot;<i>events</i>&quot; mean -- as in event-driven programming, or in the generic sense, just messages (prints etc)?"}, {"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1461917372, "post_id": 36932639, "comment_id": 61425494, "body": "I mean &quot;events&quot; in a very generic sense, just occurrence of something that would be important for the user to know about, e.g., an addition of a new customer. As for how I decide, it depends on the possibilities, something akin to a new level, say &quot;NOTE&quot; and <code>$logger-&gt;note( ... );</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1461920489, "post_id": 36932639, "comment_id": 61427391, "body": "Given that the openness is on the decision side (in the code), perhaps using <a href=\"http://search.cpan.org/~mschilli/Log-Log4perl-1.47/lib/Log/Log4perl.pm#Custom_Filters\" rel=\"nofollow noreferrer\">custom filters</a> may help?  There is a separate class, <a href=\"http://search.cpan.org/~mschilli/Log-Log4perl-1.47/lib/Log/Log4perl/Filter.pm\" rel=\"nofollow noreferrer\">Log::Log4Perl::Filter</a>, for that."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1461929630, "creation_date": 1461929630, "answer_id": 36937303, "question_id": 36932639, "link": "https://stackoverflow.com/questions/36932639/directing-significant-event-messages-to-a-separate-loglog4perl-logger/36937303#36937303", "title": "Directing significant-event messages to a separate Log::Log4perl logger", "body": "<p>You can achieve this by adding <a href=\"https://metacpan.org/pod/Log::Log4perl#Categories\" rel=\"nofollow\">an additional category</a> in your Log4perl. </p>\n\n<blockquote>\n  <p>Categories are also called \"Loggers\" in Log4perl, both refer to the same thing and these terms are used interchangeably</p>\n</blockquote>\n\n<p>You can grab an additional logger like this:</p>\n\n<pre><code>my $important_logger = Log::Log4perl-&gt;get_logger(\"Important\");\n</code></pre>\n\n<p>The category can have its own configuration:</p>\n\n<pre><code>log4perl.logger.Important               = TRACE, ImportantApp\nlog4perl.additivity.Important           = 0\nlog4perl.appender.ImportantApp          = Log::Log4perl::Appender::File\nlog4perl.appender.ImportantApp.filename = important.log\n</code></pre>\n\n<p><code>ImportantApp</code> is the <em>name</em> that's used for the Appender instance, and it is configured in the two bottom lines. The first line basically means:</p>\n\n<blockquote>\n  <p>Send everything with loglevel TRACE or higher to the Appender named <em>ImportantApp</em>.</p>\n</blockquote>\n\n<p><code>Important</code> is the name of the logger, or the <em>Category</em>, that we grabbed above with the <code>get_logger(\"Important\")</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1462283869, "post_id": 36951801, "comment_id": 61564897, "body": "I chose this answer over equally performing <i>&quot;additional category&quot;</i> below, only since I prefer a single logger writing to two files. The little annoying thing with it is that the string that the filter is checking for appears in all entries."}], "tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": true, "score": 2, "last_activity_date": 1461999757, "last_edit_date": 1461999757, "creation_date": 1461999296, "answer_id": 36951801, "question_id": 36932639, "link": "https://stackoverflow.com/questions/36932639/directing-significant-event-messages-to-a-separate-loglog4perl-logger/36951801#36951801", "title": "Directing significant-event messages to a separate Log::Log4perl logger", "body": "<p>You may use a <a href=\"http://metacpan.org/pod/Log::Log4perl::Filter\" rel=\"nofollow\">filters</a>:</p>\n\n<pre><code>log4perl.logger = WARN, Log1, Log2\nlog4perl.filter.Filter1       = sub { ... }\nlog4perl.filter.Filter2       = sub { ... }\nlog4perl.appender.Log1        = Log::Log4perl::Appender::Screen\nlog4perl.appender.Log1.Filter = Filter1\nlog4perl.appender.Log2        = Log::Log4perl::Appender::File\nlog4perl.appender.Log2.Filter = Filter2\n</code></pre>\n\n<p>Or you can write own filter packages inherited from <code>Log::Log4perl::Filter</code>:</p>\n\n<pre><code>log4perl.logger = WARN, Log1, Log2\nlog4perl.filter.Filter1       = MyApp::Log::Filter1\nlog4perl.filter.Filter2       = MyApp::Log::Filter2\nlog4perl.appender.Log1        = Log::Log4perl::Appender::Screen\nlog4perl.appender.Log1.Filter = Filter1\nlog4perl.appender.Log2        = Log::Log4perl::Appender::File\nlog4perl.appender.Log2.Filter = Filter2\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "accepted_answer_id": 36951801, "answer_count": 2, "score": 1, "last_activity_date": 1461999757, "creation_date": 1461916242, "last_edit_date": 1461919875, "question_id": 36932639, "link": "https://stackoverflow.com/questions/36932639/directing-significant-event-messages-to-a-separate-loglog4perl-logger", "title": "Directing significant-event messages to a separate Log::Log4perl logger", "body": "<p>I need to collect significant-event messages to a separate log file. (The regular log is rather bloated, and meant for maintenance, while the user is only interested in very few events.)</p>\n\n<p>The events are not level related, although all ERROR level and up events are considered \"significant\". Many such events are of INFO or WARN levels. Therefore, level thresholds or matching don't seem to be the answer.</p>\n\n<p>Also, events are not limited to a given branch of the hierarchy. These can emanate from all over the application, so \"categories\" don't seem to fit either, or do they?</p>\n\n<p><strong>Edit:</strong>\nCurrently, I have an INFO level general, maintenance logger and a WARN level screen logger</p>\n\n<p>Is there a way to achieve such a logger with Log::Log4perl?</p>\n\n<p>Regards</p>\n\n<p>Meir</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461940529, "post_id": 36932619, "comment_id": 61441092, "body": "<a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><i>Why is XML::Simple &quot;Discouraged&quot;?</i></a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5479792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8730836f5c850bc0b5e4f1f4f8ef370e?s=128&d=identicon&r=PG&f=1", "display_name": "kmmmf", "link": "https://stackoverflow.com/users/5479792/kmmmf"}, "edited": false, "score": 0, "creation_date": 1461927351, "post_id": 36933515, "comment_id": 61432111, "body": "Hi Marty,thank u very much for sharing the code above , I can see the expected output on the console but the xml file is not updated which is needed.Can you pls suggest anything for xml file updation."}, {"owner": {"reputation": 13, "user_id": 5479792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8730836f5c850bc0b5e4f1f4f8ef370e?s=128&d=identicon&r=PG&f=1", "display_name": "kmmmf", "link": "https://stackoverflow.com/users/5479792/kmmmf"}, "edited": false, "score": 0, "creation_date": 1462270303, "post_id": 36933515, "comment_id": 61555457, "body": "Hi Marty,its working..........! xml file updation is working fine and sorry for the late reply"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 0, "last_activity_date": 1461929661, "last_edit_date": 1461929661, "creation_date": 1461919060, "answer_id": 36933515, "question_id": 36932619, "link": "https://stackoverflow.com/questions/36932619/perl-code-to-update-attributes-in-xml-with-out-affecting-the-xml-format/36933515#36933515", "title": "perl code to update attributes in xml with out affecting the xml format", "body": "<p>There are many ways to skin this cat.  One is to use <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>.  Your example would look like this;</p>\n\n<pre><code>use v5.12;\nuse warnings;\nuse XML::LibXML;\n\nmy $filename = '3.xml' ;\nmy $xpath    = '//name[contains(@first, \"Shane\")]' ;\n\nmy $dom = XML::LibXML-&gt;load_xml(\n    location =&gt; $filename\n);\n\nfor my $td ($dom-&gt;findnodes($xpath)) {\n    $td-&gt;setAttribute( \"first\" , \"Shane Bond\" );\n}\n\nsay $dom-&gt;toString();       # print the updated XML\n$dom-&gt;toFile(\"3.xml.new\");  # alterntaively, dump it to a file\n</code></pre>\n\n<p>when ran on the file above, it produces;</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;outer1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;Stonecold&lt;/name&gt;\n    &lt;org&gt;wwf&lt;/org&gt;\n    &lt;profession&gt;\n      &lt;Bowler&gt;hai&lt;/Bowler&gt;\n    &lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name first=\"Shane Bond\"/&gt;\n     &lt;org&gt;newzealand&lt;/org&gt;\n     &lt;profession&gt;Shane Bond&lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name&gt;brain schemidit&lt;/name&gt;\n     &lt;org&gt;Google&lt;/org&gt;\n     &lt;profession&gt;Chairman&lt;/profession&gt;\n  &lt;/inner1&gt;\n&lt;/outer1&gt;\n</code></pre>\n\n<p>Xpath is a query language - in this case the <code>$xpath</code> variable is a request for any nodes in the document with the name <code>name</code> and an attribute called <code>first</code> that contains the string <code>Shane</code>.  An alternative way to do it is to set <code>$xpath</code> to simply <code>//name</code> and the second iteration through the loop would have the correct node.</p>\n\n<p>There is an excellent \"Tutorial by example\" on <code>XML::LibXML</code> by <strong>Grant McLean</strong> <a href=\"http://grantm.github.io/perl-libxml-by-example/index.html\" rel=\"nofollow\">here</a>.  A little reading there should solve any similar problems.</p>\n"}, {"tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": false, "score": 1, "last_activity_date": 1461919541, "creation_date": 1461919541, "answer_id": 36933687, "question_id": 36932619, "link": "https://stackoverflow.com/questions/36932619/perl-code-to-update-attributes-in-xml-with-out-affecting-the-xml-format/36933687#36933687", "title": "perl code to update attributes in xml with out affecting the xml format", "body": "<p>You set <code>NoAttr =&gt; 1</code> for <code>XMLout()</code>. The <a href=\"http://search.cpan.org/perldoc?XML::Simple\" rel=\"nofollow\">XML::Simple documentation</a> says:</p>\n\n<blockquote>\n  <p>NoAttr => 1 # in+out - handy</p>\n  \n  <p>When used with XMLout(), the generated XML will contain no attributes.\n  All hash key/values will be represented as nested elements instead.</p>\n  \n  <p>When used with XMLin(), any attributes in the XML will be ignored.</p>\n</blockquote>\n\n<p>You want an attribute, but turn attributes off?</p>\n\n<p>I tried:\n    print XMLout(\n        XMLin(\"t.xml\", KeepRoot => 1, ForceArray => 1),\n        KeepRoot => 1\n    );</p>\n\n<p>The diff of both files looks ok:</p>\n\n<pre><code>$ diff -bBEup t.xml t2.xml \n--- t.xml   2016-04-29 10:36:28.446578760 +0200\n+++ t2.xml  2016-04-29 10:39:03.450073658 +0200\n@@ -7,7 +7,7 @@\n     &lt;/profession&gt;\n   &lt;/inner1&gt;\n   &lt;inner1&gt;\n-     &lt;name first = \"Shanebond\" /&gt;\n+    &lt;name first=\"Shanebond\" /&gt;\n      &lt;org&gt;newzealand&lt;/org&gt;\n      &lt;profession&gt;Shane Bond&lt;/profession&gt;\n   &lt;/inner1&gt;\n</code></pre>\n\n<p>Everything looks ok without <code>NoAttr</code>:</p>\n\n<pre><code>$x = XMLin(\"t.xml\", KeepRoot =&gt; 1, ForceArray =&gt; 1);\n$x-&gt;{outer1}-&gt;[0]-&gt;{inner1}-&gt;[1]-&gt;{name}-&gt;[0]-&gt;{first} = \"Larry\";\nprint XMLout($x, KeepRoot =&gt; 1);\n\n&lt;outer1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;Stonecold&lt;/name&gt;\n    &lt;org&gt;wwf&lt;/org&gt;\n    &lt;profession&gt;\n      &lt;Bowler&gt;hai&lt;/Bowler&gt;\n    &lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n    &lt;name first=\"Larry\" /&gt;\n    &lt;org&gt;newzealand&lt;/org&gt;\n    &lt;profession&gt;Shane Bond&lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;brain schemidit&lt;/name&gt;\n    &lt;org&gt;Google&lt;/org&gt;\n    &lt;profession&gt;Chairman&lt;/profession&gt;\n  &lt;/inner1&gt;\n&lt;/outer1&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1461934670, "last_edit_date": 1495541263, "creation_date": 1461934670, "answer_id": 36938990, "question_id": 36932619, "link": "https://stackoverflow.com/questions/36932619/perl-code-to-update-attributes-in-xml-with-out-affecting-the-xml-format/36938990#36938990", "title": "perl code to update attributes in xml with out affecting the xml format", "body": "<p><a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;Discouraged&quot;?</a></p>\n\n<p>This is one of the reason <code>XML::Simple</code> is a bad choice. </p>\n\n<p>Something like <code>XML::Twig</code> can do it like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new ( pretty_print =&gt; 'indented_a');\n$twig -&gt; parse ( \\*DATA );\n$twig -&gt; findnodes ( '//inner1/name', 1 ) -&gt; set_att('first', \"Shane Bond\");\n$twig -&gt; print;\n\n__DATA__\n&lt;outer1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;Stonecold&lt;/name&gt;\n    &lt;org&gt;wwf&lt;/org&gt;\n    &lt;profession&gt;\n      &lt;Bowler&gt;hai&lt;/Bowler&gt;\n    &lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name first = \"Shanebond\" /&gt;\n     &lt;org&gt;newzealand&lt;/org&gt;\n     &lt;profession&gt;Shane Bond&lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name&gt;brain schemidit&lt;/name&gt;\n     &lt;org&gt;Google&lt;/org&gt;\n     &lt;profession&gt;Chairman&lt;/profession&gt;\n  &lt;/inner1&gt;\n&lt;/outer1&gt;\n</code></pre>\n\n<p>But actually, I'd suggest that rather than 'ordering' the nodes, you can just use XPATH to find the one you want:</p>\n\n<pre><code>$twig -&gt; findnodes ( '//inner1/name[@first=\"Shanebond\"]', 0 ) -&gt; set_att('first', \"Shane Bond\");\n</code></pre>\n\n<p>This - rather than just selecting the 'second' element, finds the one where the <code>first</code> attribute is incorrect and fixes it. </p>\n\n<p>So making your code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new ( pretty_print =&gt; 'indented_a');\n$twig -&gt; parsefile ( '3.xml' )\n$twig -&gt; findnodes ( '//inner1/name[@first=\"Shanebond\"]', 0 ) -&gt; set_att('first', \"Shane Bond\");\n\nopen ( my $output, '&gt;', '3.new.xml' ) or die $!;\nprint {$output} $twig -&gt; sprint; \nclose ( $output );\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5479792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8730836f5c850bc0b5e4f1f4f8ef370e?s=128&d=identicon&r=PG&f=1", "display_name": "kmmmf", "link": "https://stackoverflow.com/users/5479792/kmmmf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 36933515, "answer_count": 3, "score": 1, "last_activity_date": 1461934670, "creation_date": 1461916188, "question_id": 36932619, "link": "https://stackoverflow.com/questions/36932619/perl-code-to-update-attributes-in-xml-with-out-affecting-the-xml-format", "title": "perl code to update attributes in xml with out affecting the xml format", "body": "<p>I want to update attributes in xml using perl.The problem here is when I am updaing the attributes of xml it is happening but the xml format is being changed.Breaking my head but no use !</p>\n\n<p>Can anyone pls suggest me some perl code to update attributes in xml with out affecting the xml format</p>\n\n<p>I used the perl code as shown below </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Simple;\n\nmy $xml_file = '3.xml';\n\nmy $xml = XMLin(\n$xml_file,\nKeepRoot =&gt; 1,\nForceArray =&gt; 1\n);\n\n$xml-&gt;{outer1}-&gt;[0]-&gt;{inner1}-&gt;[1]-&gt;{name}-&gt;[0]-&gt;{first} = 'Shane Bond';\n\nXMLout(\n  $xml,\nKeepRoot =&gt; 1,\nNoAttr =&gt; 1,\nOutputFile =&gt; $xml_file,\n);\n</code></pre>\n\n<p>Input xml:</p>\n\n<pre><code>&lt;outer1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;Stonecold&lt;/name&gt;\n    &lt;org&gt;wwf&lt;/org&gt;\n    &lt;profession&gt;\n      &lt;Bowler&gt;hai&lt;/Bowler&gt;\n    &lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name first = \"Shanebond\" /&gt;\n     &lt;org&gt;newzealand&lt;/org&gt;\n     &lt;profession&gt;Shane Bond&lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name&gt;brain schemidit&lt;/name&gt;\n     &lt;org&gt;Google&lt;/org&gt;\n     &lt;profession&gt;Chairman&lt;/profession&gt;\n  &lt;/inner1&gt;\n&lt;/outer1&gt;\n</code></pre>\n\n<p>Expected Output xml:</p>\n\n<pre><code>&lt;outer1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;Stonecold&lt;/name&gt;\n    &lt;org&gt;wwf&lt;/org&gt;\n    &lt;profession&gt;\n      &lt;Bowler&gt;hai&lt;/Bowler&gt;\n    &lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name first = \"Shane Bond\" /&gt;\n     &lt;org&gt;newzealand&lt;/org&gt;\n     &lt;profession&gt;Shane Bond&lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n     &lt;name&gt;brain schemidit&lt;/name&gt;\n     &lt;org&gt;Google&lt;/org&gt;\n     &lt;profession&gt;Chairman&lt;/profession&gt;\n  &lt;/inner1&gt;\n&lt;/outer1&gt;\n</code></pre>\n\n<p>Actual Output xml:</p>\n\n<pre><code>&lt;outer1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;Stonecold&lt;/name&gt;\n    &lt;org&gt;wwf&lt;/org&gt;\n    &lt;profession&gt;\n     &lt;Bowler&gt;hai&lt;/Bowler&gt;\n    &lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;\n      &lt;first&gt;Shane Bond&lt;/first&gt;\n    &lt;/name&gt;\n    &lt;org&gt;newzealand&lt;/org&gt;\n    &lt;profession&gt;Shane Bond&lt;/profession&gt;\n  &lt;/inner1&gt;\n  &lt;inner1&gt;\n    &lt;name&gt;brain schemidit&lt;/name&gt;\n    &lt;org&gt;Google&lt;/org&gt;\n    &lt;profession&gt;Chairman&lt;/profession&gt;\n  &lt;/inner1&gt;\n&lt;/outer1&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1665, "user_id": 4665781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vqN2k.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/4665781/jordan"}, "edited": false, "score": 1, "creation_date": 1461905796, "post_id": 36929800, "comment_id": 61419806, "body": "You are amazing. Thank you so much :)"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 1, "creation_date": 1461906041, "post_id": 36929800, "comment_id": 61419895, "body": "Man, you are fast! :-)"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 9, "last_activity_date": 1461906016, "last_edit_date": 1461906016, "creation_date": 1461905522, "answer_id": 36929800, "question_id": 36929485, "link": "https://stackoverflow.com/questions/36929485/perl-phone-number-regex/36929800#36929800", "title": "Perl phone-number regex", "body": "<p>The code roughly says \"you should replace this with <a href=\"https://metacpan.org/pod/Number::Phone\">Number::Phone</a>\".</p>\n\n<p>All joking and good advice aside, first thing to do when figuring out a regex is to expand it with <code>/x</code>. First pass is to break things up by capture group.</p>\n\n<pre><code>/^\n \\+[[:space:]]*[0-9][0-9.[:space:]-]*\n (\\([0-9.[:space:]-]*[0-9][0-9.[:space:]-]*\\))?\n ([0-9.[:space:]-]*[0-9][0-9.[:space:]-]*)?\n ([[:space:]]+ext.[0-9.[:space:]-]*[0-9][0-9.[:space:]-]*)?\n$/xi\n</code></pre>\n\n<p>Then, since this is dominated by character sets, I'd space by character sets.</p>\n\n<pre><code>/^\n \\+ [[:space:]]* [0-9] [0-9.[:space:]-]*\n ( \\( [0-9.[:space:]-]* [0-9] [0-9.[:space:]-]* \\) )?\n ( [0-9.[:space:]-]* [0-9] [0-9.[:space:]-]* )?\n ( [[:space:]]+ ext . [0-9.[:space:]-]* [0-9] [0-9.[:space:]-]* )?\n$/xi\n</code></pre>\n\n<p>Now you can start to see some similar elements.  Try lining those up to see the similarities.</p>\n\n<pre><code>/^\n \\+        [[:space:]]* [0-9] [0-9.[:space:]-]*\n ( \\( [0-9.[:space:]-]* [0-9] [0-9.[:space:]-]* \\) )?\n (    [0-9.[:space:]-]* [0-9] [0-9.[:space:]-]*    )?\n ( [[:space:]]+ \n   ext . \n      [0-9.[:space:]-]* [0-9] [0-9.[:space:]-]* \n )?\n$/xi\n</code></pre>\n\n<p>Then zero in on an element and try figure it out.  This is the important one, <code>[0-9.[:space:]-]*</code> meaning \"Zero or more numbers, spaces, dashes or dots\".  That doesn't make much sense for phone parsing, maybe it will make more sense in context.  Let's look at a line we can guess what it's <em>trying</em> to do.</p>\n\n<pre><code>( \\( [0-9.[:space:]-]* [0-9] [0-9.[:space:]-]* \\) )?\n</code></pre>\n\n<ul>\n<li>Open paren.</li>\n<li>Zero or more numbers, spaces, dashes or dots.</li>\n<li>A number</li>\n<li>Zero or more numbers, spaces, dashes or dots.</li>\n<li>Close paren.</li>\n</ul>\n\n<p>The parens suggest this is trying to parse an area code.  The rest limits it to any number of numbers, spaces, dashes or dots, but the <code>[0-9]</code> ensures there is at least one number.  This is likely the author's way of dealing with the multitude of phone number formats.</p>\n\n<p>Let's give this a name, call it <code>phone_chars</code>, because it's what the author has decided phone numbers are made of.  There's another element, the <code>[0-9.[:space:]-]* [0-9] [0-9.[:space:]-]*</code> which I'll call a \"phone atom\" because it's what the author decided an atom of a phone number can be.  If we put that in its own regex and build the phone regex with it, things become a lot clearer.</p>\n\n<pre><code>my $phone_chars = qr{[0-9.[:space:]-]};\nmy $phone_atom  = qr{$phone_chars* [0-9] $phone_chars*}x;\n\n/^\n \\+ [[:space:]]* [0-9] $phone_chars*\n ( \\( $phone_atom \\) )?\n (    $phone_atom    )?\n ( [[:space:]]+ ext . $phone_atom )?\n$/xi;\n</code></pre>\n\n<p>If you know something about phone numbers, it's like this:</p>\n\n<ol>\n<li>Mandatory country code (which must start with a + and a number)</li>\n<li>Optional area code</li>\n<li>Optional phone number</li>\n<li>Optional extension</li>\n</ol>\n\n<p>This regex doesn't do a very good job validating phone numbers. According to this regex, \"+1\" is a valid phone number, but \"(555) 123-4567\" isn't because it doesn't have a country code.</p>\n\n<p>Phone number validation is hard. Did I mention <a href=\"https://metacpan.org/pod/Number::Phone\">Number::Phone</a>?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nuse Number::Phone;\n\nmy $number = Number::Phone-&gt;new(\"+1(555)456-2398\");\nsay $number-&gt;is_valid;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1665, "user_id": 4665781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vqN2k.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/4665781/jordan"}, "edited": false, "score": 0, "creation_date": 1461905780, "post_id": 36929803, "comment_id": 61419802, "body": "Thank you Marty :)"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 6, "last_activity_date": 1461905530, "creation_date": 1461905530, "answer_id": 36929803, "question_id": 36929485, "link": "https://stackoverflow.com/questions/36929485/perl-phone-number-regex/36929803#36929803", "title": "Perl phone-number regex", "body": "<p>Amazing what extended mode, a little whitespace and a few comments can do ...</p>\n\n<pre><code>if ($value !~  /\n      ^                 # Anchor to start of string\n\n     \\+                 # followed (immediately) by literal '+'\n     [[:space:]]*       # zero or more chars in the POSIX character class 'space'\n     [0-9]              # compolsory digit\n     [0-9.[:space:]-]*  # zero or more digit, full-stop, space or hyphen\n\n     (                  # start capture to $1\n         \\(                   # Literal open parentheses\n         [0-9.[:space:]-]*    # zero or more ... (as above)\n         [0-9]                # compolsory digit\n         [0-9.[:space:]-]*    # zero or more ... (as above)\n         \\)                   # Literal close parentheses\n     )?                 # close capture to $1 - whole thing optional\n\n     (                  # start capture to $2\n         [0-9.[:space:]-]*    # zero or more ... (as above)\n         [0-9]                # compolsory digit\n         [0-9.[:space:]-]*    # zero or more ... (as above)\n     )?                 # close capture to $2 - whole thing optional\n\n     (                  # start capture to $3\n         [[:space:]]+         # at least one space (as definned by POSIX)\n         ext.                 # literal 'ext' followed by any character\n         [0-9.[:space:]-]*    # zero or more ... (as above)\n         [0-9]                # compolsory digit\n         [0-9.[:space:]-]*    # zero or more ... (as above)\n     )?                 # close capture to $3 - whole thing optional\n\n      $                 # Anchor to end of string\n              /ix       # close regex; ignore case, extended mode options\n   )  {\n</code></pre>\n"}], "owner": {"reputation": 1665, "user_id": 4665781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vqN2k.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/4665781/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1726, "favorite_count": 2, "accepted_answer_id": 36929800, "answer_count": 2, "score": 4, "last_activity_date": 1461906016, "creation_date": 1461903691, "question_id": 36929485, "link": "https://stackoverflow.com/questions/36929485/perl-phone-number-regex", "title": "Perl phone-number regex", "body": "<p>Sorry for asking such a simple question, I'm still an inexperienced programmer. I stumbled across a phone-number-matching regex in some old perl code at work, I'd love it if somebody could explain exactly what it means (my regex skills are severely lacking).</p>\n\n<pre><code>if ($value !~ /^\\+[[:space:]]*[0-9][0-9.[:space:]-]*(\\([0-9.[:space:]-]*[0-9][0-9.[:space:]-]*\\))?([0-9.[:space:]-]*[0-9][0-9.[:space:]-]*)?([[:space:]]+ext.[0-9.[:space:]-]*[0-9][0-9.[:space:]-]*)?$/i) {\n    ...\n}\n</code></pre>\n\n<p>Thank you in advance :)</p>\n"}, {"tags": ["windows", "perl", "audio"], "comments": [{"owner": {"reputation": 240678, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 5, "creation_date": 1461899961, "post_id": 36928721, "comment_id": 61418315, "body": "That&#39;s just encoding, though. Similar to dial tones. No encryption involved."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1461937830, "post_id": 36930857, "comment_id": 61439194, "body": "Another example are POTS modem."}], "tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": true, "score": 1, "last_activity_date": 1461910586, "creation_date": 1461910586, "answer_id": 36930857, "question_id": 36928721, "link": "https://stackoverflow.com/questions/36928721/using-sound-to-encrypt-any-file/36930857#36930857", "title": "Using sound to encrypt any file?", "body": "<p>Yes, it's possible and actually being used, for example here: <a href=\"http://arstechnica.com/tech-policy/2015/11/beware-of-ads-that-use-inaudible-sound-to-link-your-phone-tv-tablet-and-pc/\" rel=\"nofollow\">http://arstechnica.com/tech-policy/2015/11/beware-of-ads-that-use-inaudible-sound-to-link-your-phone-tv-tablet-and-pc/</a></p>\n\n<p>A Perl script for this is beyond a single answer, but there are many Sound-related modules on CPAN: <a href=\"http://search.cpan.org/search?query=sound&amp;mode=all\" rel=\"nofollow\">http://search.cpan.org/search?query=sound&amp;mode=all</a> You'll probably need some time for research, but it should be more or less easy to build.</p>\n"}], "owner": {"reputation": 565, "user_id": 4437053, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/hVLEw.jpg?s=128&g=1", "display_name": "Steve Lloyd", "link": "https://stackoverflow.com/users/4437053/steve-lloyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 36930857, "answer_count": 1, "score": 1, "last_activity_date": 1461910586, "creation_date": 1461898082, "question_id": 36928721, "link": "https://stackoverflow.com/questions/36928721/using-sound-to-encrypt-any-file", "title": "Using sound to encrypt any file?", "body": "<p>First Question: Say I have a random Base64 encoded string.  Is it possible to read each character on the string and convert each character to a frequency/sound and then same the string as a sound? </p>\n\n<p>Second Question: Is it possible to do the opposite?  How would I take a sound that was created above and convert back to a base64 string?</p>\n\n<p>If someone clicked no the audio encrypted file it would just be noise.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1461897643, "post_id": 36928653, "comment_id": 61417790, "body": "I guess you&#39;ll need an array."}], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 3, "last_activity_date": 1461902007, "creation_date": 1461902007, "answer_id": 36929258, "question_id": 36928653, "link": "https://stackoverflow.com/questions/36928653/perl-passing-two-argument-through-a-config-file/36929258#36929258", "title": "Perl: passing two argument through a config file", "body": "<p>The simplest way to return several values from a sub is a list: (NOTE - none of the following code has been tested)</p>\n\n<pre><code>return ($db_name, $new_db, $table, $rows)\n...\nmy ($database_name, $database, $table_name, $entry_count) = get_db();\n</code></pre>\n\n<p>but that's easy to mess up - if you have a missmatch between the number of things returned and received something silently becomes undef.  Likewise if the order of returned values is wrong, you are going to introduce a subtle bug.</p>\n\n<p>Slightly better is to return a hashref;</p>\n\n<pre><code>....\nmy $return_values = { NAME =&gt; $db_name ,  DB =&gt; $new_db , TABLE =&gt; $table } ;\n# add the number of rows and return it\n$return_values-&gt;{ COUNT } = $rows ;\nreturn $return_values ;\n...\n...\nmy $db_stuff = get_db();\nfor my $i (1 .. $db_stuff-&gt;{COUNT}) {\n    ...\n</code></pre>\n\n<p>Better again is to learn a little OO and return an object.  <a href=\"https://metacpan.org/pod/Moo\" rel=\"nofollow\">Moo</a> is one of many options - it would look something like this:</p>\n\n<pre><code>Package DBstuff;\n\nhas name,  is =&gt; ro ;\nhas db,    is =&gt; ro ;\nhas table, is =&gt; ro ;\nhas count, is =&gt; rw ;\n\n1;\n\n... in another file ...\n\nmy $db_stuff = DBstuff-&gt;new(\n                  name =&gt; $name ,\n                    db =&gt; $db   ,\n                 table =&gt; $table,\n               );\n# Add rows and return\n$db_stuff-&gt;count( $rows );\nreturn $db_stuff ;\n...\n...\nmy $db_data = get_db();\nfor my $i (1 .. $db_data-&gt;count) {\n    ...\n</code></pre>\n\n<p>There is also a module called Object::Result which would almost certainly be overkill but whether you use it or not, I'd like to recommend the <a href=\"https://metacpan.org/pod/Object::Result#RATIONALE\" rel=\"nofollow\">RATIONAL section</a> of that module's documentation which covers the issue of returning several things from a sub in more depth.</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 3539775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a66074a0512f0fcf3018bb03d9a3d?s=128&d=identicon&r=PG", "display_name": "J Singh", "link": "https://stackoverflow.com/users/3539775/j-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1461943270, "last_edit_date": 1461943270, "creation_date": 1461939099, "answer_id": 36940585, "question_id": 36928653, "link": "https://stackoverflow.com/questions/36928653/perl-passing-two-argument-through-a-config-file/36940585#36940585", "title": "Perl: passing two argument through a config file", "body": "<p>Perl allows to return an array with multiple values, e.g.</p>\n\n<pre><code>sub get_db { return [\"database_name\", \"new_database\"] };\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 3889479, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5abf6d3b79faf81d4bf3613c78144d40?s=128&d=identicon&r=PG&f=1", "display_name": "user3889479", "link": "https://stackoverflow.com/users/3889479/user3889479"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1461943270, "creation_date": 1461897553, "last_edit_date": 1461897600, "question_id": 36928653, "link": "https://stackoverflow.com/questions/36928653/perl-passing-two-argument-through-a-config-file", "title": "Perl: passing two argument through a config file", "body": "<p>What should I do if I have to pass two values for same variable? Does following syntax work ? </p>\n\n<pre><code>sub get_db { return \"database_name\", \"new_database\"};\n</code></pre>\n\n<p>It does not pass both the value</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1461914689, "post_id": 36927897, "comment_id": 61423894, "body": "Do you get any of those prints (&quot;<i>Please notify ...</i>&quot;)?  Any output?  Any errors?"}], "answers": [{"tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": false, "score": 0, "last_activity_date": 1461911368, "creation_date": 1461911368, "answer_id": 36931041, "question_id": 36927897, "link": "https://stackoverflow.com/questions/36927897/deleting-files-from-sub-folders-if-they-exist-in-the-closed-folder/36931041#36931041", "title": "Deleting files from sub-folders if they exist in the closed folder", "body": "<p>You should add error handling to the two unlink lines:</p>\n\n<pre><code>unlink(\"$config{'basepath'}askseller/$form{'ITEM'}.dat\")\n    or die \"Error $! deleting $config{'basepath'}askseller/$form{'ITEM'}.dat\";\nunlink(\"$config{'basepath'}$config{'countdir'}/$form{'ITEM'}.dat\")\n    or die \"Error $! deleting $config{'basepath'}$config{'countdir'}/$form{'ITEM'}.dat\";\n</code></pre>\n\n<p>That will crash your script, but you'll get the exact error message which could led to the final solution.</p>\n\n<p>Here is a start for a cleanup script:</p>\n\n<pre><code>#!/usr/bin/perl -l\nuse strict;\nuse warnings;\n\n# Read the files from the closed directory\n# Quick exit the script if no files could be found\nopendir my $closed_dh,'/path/to/closed' or die \"$! opening closed dir\";\nmy %closed_files =\n    # Use each file ($_) as key with a fixed value of 1\n    (map { $_ =&gt; 1 } readdir($closed_dh)) or exit;\nclosedir $closed_dh;\n\n# Loop through a list of directories\nfor my $dir ('/path/to/other_dir1','..dir2','..dirN') {\n    opendir my $search_dh,$dir or die \"$! opening $dir\";\n    # Loop through all files in one directory\n    for my $file (readdir($search_dh)) {\n        # Remove file if it exists in the list of closed files\n        unlink $dir.'/'.$file or die \"Error $! deleting $dir/$file\"\n            if $closed_files{$file};\n    }\n}\n</code></pre>\n\n<p>Just untested source to start with. All Perl commands are found on <a href=\"http://perldoc.perl.org/\" rel=\"nofollow\">http://perldoc.perl.org/</a>, more information is on <a href=\"http://perlmaven.com\" rel=\"nofollow\">http://perlmaven.com</a> and <a href=\"http://learn.perl.org\" rel=\"nofollow\">http://learn.perl.org</a></p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 5399549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036192233081686/picture?type=large", "display_name": "Kevin Richards", "link": "https://stackoverflow.com/users/5399549/kevin-richards"}, "edited": false, "score": 0, "creation_date": 1461941050, "post_id": 36940978, "comment_id": 61441471, "body": "The categories folder where I&#39;m having the problems has these permissions in filezilla... <a href=\"http://www.mybidsz.com//auction-images/error.png\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 37, "user_id": 5399549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036192233081686/picture?type=large", "display_name": "Kevin Richards", "link": "https://stackoverflow.com/users/5399549/kevin-richards"}, "is_accepted": false, "score": 0, "last_activity_date": 1461940301, "creation_date": 1461940301, "answer_id": 36940978, "question_id": 36927897, "link": "https://stackoverflow.com/questions/36927897/deleting-files-from-sub-folders-if-they-exist-in-the-closed-folder/36940978#36940978", "title": "Deleting files from sub-folders if they exist in the closed folder", "body": "<p>Thank you Sebastian, I created a test file - move1.pl and this is the code inside...</p>\n\n<pre><code>#!/usr/bin/perl -l\nuse strict;\nuse warnings;\n\n# Read the files from the closed directory\n# Quick exit the script if no files could be found\nopendir my $closed_dh,'/home/users/web/b1262/moo.mybidszcom/cgi-bin/1/closed' or die \"$! opening closed dir\";\nmy %closed_files =\n# Use each file ($_) as key with a fixed value of 1\n(map { $_ =&gt; 1 } readdir($closed_dh)) or exit;\nclosedir $closed_dh;\n\n# Loop through a list of directories\nfor my $dir ('/home/users/web/b1262/moo.mybidszcom/cgi-bin/1','..dir2','..dirN') {\nopendir my $search_dh,$dir or die \"$! opening $dir\";\n# Loop through all files in one directory\nfor my $file (readdir($search_dh)) {\n    # Remove file if it exists in the list of closed files\n    unlink $dir.'/'.$file or die \"Error $! deleting $dir/$file\"\n        if $closed_files{$file};\n    }\n}\n</code></pre>\n\n<p>Unfortunately it didn't work and I have this error from the server logs.</p>\n\n<p>0160429T101358: mybidsz.com/cgi-bin/move1.pl \nError Is a directory deleting /home/users/web/b1262/moo.mybidszcom/cgi-bin/1/. at /home/users/web/b1262/moo.mybidszcom/cgi-bin/move1.pl line 19. </p>\n\n<p>Inside if folder 1 is the Antiques18 folder, and inside that folder is a file named 1463148060.dat.</p>\n\n<p>Inside folder 1 is a closed folder, and inside that folder is also a file named 1463148060.dat along with other file names.</p>\n\n<p>My hope is to find a solution and then incorporate it at the end of the buyit.pl code...</p>\n"}], "owner": {"reputation": 37, "user_id": 5399549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036192233081686/picture?type=large", "display_name": "Kevin Richards", "link": "https://stackoverflow.com/users/5399549/kevin-richards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1461940301, "creation_date": 1461891760, "last_edit_date": 1461895664, "question_id": 36927897, "link": "https://stackoverflow.com/questions/36927897/deleting-files-from-sub-folders-if-they-exist-in-the-closed-folder", "title": "Deleting files from sub-folders if they exist in the closed folder", "body": "<p>First off, I'm not a perl programmer, but I know enough to be dangerous...</p>\n\n<p>I purchased an auction script which has problems which the seller of the script refuses to deal with.</p>\n\n<p>There is an auctiondata folder which holds all the category folders including a closed folder when an item sells. When an item is posted it goes into one of the category folders, and when it sells, it IS SUPPOSED to be moved into the closed folder, but instead a copy is moved into the closed folder with the original file left in it's category folder.</p>\n\n<p>This causes software errors until the offending file is deleted from the category folder.</p>\n\n<p>So I was wondering if someone could help me with a script which searches all category folders, and any files which the file name matches a file in the closed folder would be deleted.</p>\n\n<p>I have made attempts on my own and they all have failed.</p>\n\n<p>The code on the buyit.pl page is as follows...</p>\n\n<pre><code>############################################## \n# Sub: Close Auction now \n# This sets an item's status to closed. \n\nsub closebuyit { \n  if ($form{'CATEGORY'},$form{'ITEM'} ne $config{'closedir'}) { \n      if ($config{'closedir'}) {\n          umask(000); # UNIX file permission junk \n          mkdir(\"$config{'basepath'}$config{'closedir'}\", 0777) unless (-d \"$config{'basepath'}$config{'closedir'}\"); \n          print \"Please notify the site admin that this item cannot be copied to the closed directory even though it is closed.\\n\" \n              unless &amp;movefile(\"$config{'basepath'}$form{'CATEGORY'}/$form{'ITEM'}.dat\", \"$config{'basepath'}$config{'closedir'}/$form{'CATEGORY'}$form{'ITEM'}.dat\"); \n\n          unlink(\"$config{'basepath'}askseller/$form{'ITEM'}.dat\");\n          unlink(\"$config{'basepath'}$config{'countdir'}/$form{'ITEM'}.dat\");\n      }\n      else { \n          print \"Please notify the site admin that this item cannot be removed even though it is closed.\\n\" unless unlink(\"$config{'basepath'}$form{'CATEGORY'}/$form{'ITEM'}.dat\"); \n      }\n   }\n}\n\n################################################\n1;\n</code></pre>\n\n<p>This is supposed to move the file from the category folder to the closed folder, but doesn't. The permissions on the folders are 755, but the file created inside is 644.</p>\n\n<p>Thank you for your help in advance!</p>\n"}]