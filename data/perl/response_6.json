[{"tags": ["perl", "catalyst"], "owner": {"reputation": 221, "user_id": 3753125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a160f48f3499a0271ce5305515afa33?s=128&d=identicon&r=PG", "display_name": "Jose Rey", "link": "https://stackoverflow.com/users/3753125/jose-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1424303746, "creation_date": 1424303746, "question_id": 28596277, "link": "https://stackoverflow.com/questions/28596277/catalystcontrollerrest-callback-serializer-not-working", "title": "Catalyst::Controller::Rest callback serializer not working", "body": "<p>I need to return different content types from a REST controller I have the following configuration:</p>\n\n<pre><code>__PACKAGE__-&gt;config(\ndefault =&gt; 'application/json',\n'stash_key' =&gt; 'rest',\nmap =&gt; {\n    'text/html' =&gt; [ 'Callback', { deserialize =&gt; \\&amp;parse_html, serialize =&gt; \\&amp;render_html } ],\n    'text/xml'  =&gt; [ 'Callback', { deserialize =&gt; \\&amp;parse_xml, serialize =&gt; \\&amp;render_xml } ],\n    'text/csv'  =&gt; [ 'Callback', { deserialize =&gt; \\&amp;parse_csv, serialize =&gt; \\&amp;render_csv } ] } );\n</code></pre>\n\n<p>I've made some tests first setting an Accept header from the client:</p>\n\n<pre><code>$ua-&gt;post($url, Accept =&gt; \"text/csv\", Content=&gt;$args)\n</code></pre>\n\n<p>Then I've tried to force it in the server:</p>\n\n<pre><code>$c-&gt;resp-&gt;content_type(\"test/csv\")\n</code></pre>\n\n<p>But either of this returns a 415 unsupported media type, am I missing something here?</p>\n"}, {"tags": ["perl", "merge"], "comments": [{"owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 0, "creation_date": 1424306692, "post_id": 28596210, "comment_id": 45500057, "body": "In a shell, you could simply do: <code>cat 0001_*.txt &gt; 0001.txt</code>. And repeat for your other groups of files. But if you have a lot of groups, then yeah, it&#39;d be best to find a programmatic solution."}, {"owner": {"reputation": 11, "user_id": 4531730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf1a740d518dc920e834f350e1bd27?s=128&d=identicon&r=PG", "display_name": "Rox", "link": "https://stackoverflow.com/users/4531730/rox"}, "reply_to_user": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 0, "creation_date": 1424440079, "post_id": 28596210, "comment_id": 45561007, "body": "Thank you very much. I try the same idea as you. I use TYPE 0001_*.txt &gt; 0001.txt and generate the TYPE command by using EXCEL auto complete. Then past it on the text file saving to .bat file. Very intuitive."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4531730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf1a740d518dc920e834f350e1bd27?s=128&d=identicon&r=PG", "display_name": "Rox", "link": "https://stackoverflow.com/users/4531730/rox"}, "edited": false, "score": 0, "creation_date": 1424441041, "post_id": 28596485, "comment_id": 45561595, "body": "Thank you very much, Jose. Your code solved my problem, too.  I will use  it as a function when I have to include it in my project."}], "tags": [], "owner": {"reputation": 221, "user_id": 3753125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a160f48f3499a0271ce5305515afa33?s=128&d=identicon&r=PG", "display_name": "Jose Rey", "link": "https://stackoverflow.com/users/3753125/jose-rey"}, "is_accepted": false, "score": 0, "last_activity_date": 1424304900, "creation_date": 1424304900, "answer_id": 28596485, "question_id": 28596210, "link": "https://stackoverflow.com/questions/28596210/merge-text-files-by-similar-name/28596485#28596485", "title": "Merge text files by similar name", "body": "<p>The following code will do the trick.</p>\n\n<pre><code>opendir my $dh, $source_dir or die $!\nmy %h;\nwhile ( my $name = readdir($dh) ) {\n   $name ~~ /^(\\d+)_(\\d+).txt$/ or warn \"Bad file name\"\n   $h{$1}{$2} = 1;\n}\nwhile (my ($name, $parts) = each %h) {\n    for my $part ( sort keys %$parts ) {\n        concatfile( \"$name\\_$part.txt\", \"$name.txt\")\n    }\n}\n</code></pre>\n\n<p>You need to write concat file yourself though</p>\n"}], "owner": {"reputation": 11, "user_id": 4531730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaf1a740d518dc920e834f350e1bd27?s=128&d=identicon&r=PG", "display_name": "Rox", "link": "https://stackoverflow.com/users/4531730/rox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1520397681, "creation_date": 1424303391, "last_edit_date": 1520397681, "question_id": 28596210, "link": "https://stackoverflow.com/questions/28596210/merge-text-files-by-similar-name", "title": "Merge text files by similar name", "body": "<p>I am trying to combine/merge the context of thousands of text files in one folder. I am running Windows and could either use perl or shell script. The names are as following. </p>\n\n<p>0001_001.txt\n0001_002.txt\n0001_003.txt</p>\n\n<p>0002_001.txt</p>\n\n<p>0003_001.txt\n0003_002.txt\n0003_003.txt\n0003_004.txt\n........</p>\n\n<p>And I want them to combine as following files. For example, file name start with 0001 will merge as 0001.txt. And all new merge files will save to another folder.</p>\n\n<p>0001.txt\n0002.txt\n0003.txt\n.......</p>\n\n<p>I know how to simply merge files but have no idea to group them by names. Could someone give me some ideas? \nMany Thanks</p>\n"}, {"tags": ["perl", "pdftotext", "pdf-parsing"], "comments": [{"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "edited": false, "score": 0, "creation_date": 1424301320, "post_id": 28595599, "comment_id": 45498212, "body": "Isn&#39;t the <code>getPageText($pagenum)</code> right method to use? And, btw, adding strict&amp;warnings before posting code sample here is not right use of them, it does not help you at all. Your example code does not run."}], "answers": [{"comments": [{"owner": {"reputation": 8537, "user_id": 14783, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7f7ebc731345d37a667c3242cf928703?s=128&d=identicon&r=PG", "display_name": "Chris Dolan", "link": "https://stackoverflow.com/users/14783/chris-dolan"}, "edited": false, "score": 0, "creation_date": 1438371194, "post_id": 28612393, "comment_id": 51441316, "body": "Yep, that&#39;s the right solution. (I&#39;m the author of CAM::PDF)"}, {"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "edited": false, "score": 0, "creation_date": 1586816009, "post_id": 28612393, "comment_id": 108262617, "body": "I get <code>Can&#39;t locate object method &quot;render&quot; via package &quot;CAM::PDF::PageText&quot; at</code>."}], "tags": [], "owner": {"reputation": 387, "user_id": 3842777, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bFxen.jpg?s=128&g=1", "display_name": "JDE876", "link": "https://stackoverflow.com/users/3842777/jde876"}, "is_accepted": false, "score": 4, "last_activity_date": 1424365416, "creation_date": 1424365416, "answer_id": 28612393, "question_id": 28595599, "link": "https://stackoverflow.com/questions/28595599/how-do-i-use-campdf-to-extract-all-pages/28612393#28612393", "title": "How do I use CAM::PDF to extract all pages?", "body": "<p>This works for what I need.</p>\n\n<pre><code>use CAM::PDF;\nuse CAM::PDF::PageText;\n$filename = \"test.pdf\";\n\nmy $pdf = CAM::PDF-&gt;new($filename);\nfor my $page (1..$pdf-&gt;numPages) {\nmy $pageone_tree = $pdf-&gt;getPageContentTree($page);\n$text = CAM::PDF::PageText-&gt;render($pageone_tree);\nprint $text;\n\n}\n</code></pre>\n\n<p>The numPages function grabs the number of pages from the pdf.</p>\n"}], "owner": {"reputation": 387, "user_id": 3842777, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bFxen.jpg?s=128&g=1", "display_name": "JDE876", "link": "https://stackoverflow.com/users/3842777/jde876"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1437, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1438371238, "creation_date": 1424300348, "last_edit_date": 1438371238, "question_id": 28595599, "link": "https://stackoverflow.com/questions/28595599/how-do-i-use-campdf-to-extract-all-pages", "title": "How do I use CAM::PDF to extract all pages?", "body": "<pre><code>#!/perl/bin/perl -w\nuse CAM::PDF;\nuse CAM::PDF::PageText;\n\n$filename = \"test.pdf\";\n\nmy $pdf = CAM::PDF-&gt;new($filename);\nmy $pageone_tree = $pdf-&gt;getPageContentTree(2);\n$text = CAM::PDF::PageText-&gt;render($pageone_tree);\n#$text =~ s/regex/modify/gi;\nprint $text;\n</code></pre>\n\n<p>With the code above I can extract pdf data into a text file, but I can only get one page.  I would like to get every single page within my pdf.</p>\n\n<p>I know it is in the line containing</p>\n\n<pre><code>my $pageone_tree = $pdf-&gt;getPageContentTree(2);\n</code></pre>\n\n<p>I am not to sure how to change it.  I have even tried (1..200) and it only give me the first page.  Is anyone familiar with using CAM::PDF??</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "edited": false, "score": 3, "creation_date": 1424298967, "post_id": 28595277, "comment_id": 45497221, "body": "What does it print? It works for me: <code>perl -e &quot;@a = (1,2,3,4,5,6); print $a[$#a - 1];&quot;</code> prints <code>5</code>"}, {"owner": {"reputation": 3115, "user_id": 325247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/77d35dfcee05f849af85a26461ae93a7?s=128&d=identicon&r=PG", "display_name": "muhmuhten", "link": "https://stackoverflow.com/users/325247/muhmuhten"}, "edited": false, "score": 2, "creation_date": 1424298971, "post_id": 28595277, "comment_id": 45497226, "body": "you&#39;re wrong about something. what does it print?"}, {"owner": {"reputation": 9554, "user_id": 31782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ea4581df89970a5ba17daf4ad93041c?s=128&d=identicon&r=PG", "display_name": "n0rd", "link": "https://stackoverflow.com/users/31782/n0rd"}, "edited": false, "score": 2, "creation_date": 1424299053, "post_id": 28595277, "comment_id": 45497269, "body": "<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "edited": false, "score": 0, "creation_date": 1424299587, "post_id": 28595277, "comment_id": 45497495, "body": "Can you include the line where you set <code>@some_array</code>, please?  Does the &quot;something you cannot make sense of&quot; look like <code>ARRAY(0x012345)</code>"}, {"owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 2, "creation_date": 1424300593, "post_id": 28595277, "comment_id": 45497933, "body": "As others have pointed out, what you have is correct. Alternatively, you can also use negative index positions to access array items relative to the <i>end</i> of the array. For example: <code>print $some_array[-2];</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 3, "last_activity_date": 1424301557, "last_edit_date": 1424301557, "creation_date": 1424300730, "answer_id": 28595680, "question_id": 28595277, "link": "https://stackoverflow.com/questions/28595277/why-does-this-not-give-the-2nd-last-element-of-the-array/28595680#28595680", "title": "Why does this not give the 2nd last element of the array?", "body": "<p>It does print the second to last element in the array: </p>\n\n<pre><code>my @nums = qw(a b c d e);\nprint \"$nums[$#nums-1]\\n\"; # prints 'd'\n</code></pre>\n\n<p>Here, <code>$#nums</code> gives the last index of an array (in this case 4 - arrays are zero-based), and hence <code>$#nums - 1</code> gives array element 3.  </p>\n\n<p>A more common way of writing this would be:</p>\n\n<p><code>$array[-2]</code> </p>\n"}, {"tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": false, "score": 2, "last_activity_date": 1424304692, "creation_date": 1424304692, "answer_id": 28596447, "question_id": 28595277, "link": "https://stackoverflow.com/questions/28595277/why-does-this-not-give-the-2nd-last-element-of-the-array/28596447#28596447", "title": "Why does this not give the 2nd last element of the array?", "body": "<p>The behavior of <code>$some_array[$#some_array - 1]</code> depends on how many elements <code>@some_array</code> has.</p>\n\n<p>If <code>@some_array</code> has 2 or more elements (<code>scalar @array &gt;= 2</code>, or equivalently <code>$#array &gt;= 1</code>), then your statement:</p>\n\n<pre><code>print $some_array[$#some_array - 1];\n</code></pre>\n\n<p>should work correctly. Say the array has 10 elements, then <code>$#some_array == 9</code>, and you'll print <code>$some_array[8]</code>, the second-to-last element.</p>\n\n<p>If <code>@some_array</code> has just one element, then <code>$#some_array == 0</code>, and you'll print the \"<code>-1</code>th\" element. Negative array indices are treated specially: <code>-1</code> gives you the <em>last</em> element of the array, <code>-2</code> the second-to-last, and so forth. And if your goal is to print the second-to-last element of the array, you should be using this feature.</p>\n\n<p>If <code>@some_array</code> is <em>empty</em> (<code>scalar @some_array == 0</code>, <code>$#some_array == -1</code>), then your statement will try to print <code>$some_array[-2]</code>, which doesn't exist, resulting in an error message.</p>\n"}], "owner": {"reputation": 834, "user_id": 3456737, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/9VsY8.jpg?s=128&g=1", "display_name": "igbgotiz", "link": "https://stackoverflow.com/users/3456737/igbgotiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "closed_date": 1424363229, "answer_count": 2, "score": -2, "last_activity_date": 1424304692, "creation_date": 1424298760, "question_id": 28595277, "link": "https://stackoverflow.com/questions/28595277/why-does-this-not-give-the-2nd-last-element-of-the-array", "closed_reason": "Not suitable for this site", "title": "Why does this not give the 2nd last element of the array?", "body": "<pre><code>print $some_array[$#some_array - 1];\n</code></pre>\n\n<p>My intuitive understanding is the above code should print the 2nd last element in @some_array.</p>\n\n<p>However in reality it does not. It prints something I cannot made sense of.</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 673, "user_id": 2535490, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73d4e035398ae94ae8e3c76fc11a025e?s=128&d=identicon&r=PG", "display_name": "previouslyactualname", "link": "https://stackoverflow.com/users/2535490/previouslyactualname"}, "edited": false, "score": 0, "creation_date": 1424293850, "post_id": 28593846, "comment_id": 45494535, "body": "can you try &#39;{&#39; ? like:  &#39;s{&#39;&quot;$1&quot;&#39;}{&#39;&quot;$2&quot;&#39;}g&#39;"}, {"owner": {"reputation": 368, "user_id": 2226028, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee189d87f9cf6fda5118be0fe3ab5fd2?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2226028/michael"}, "reply_to_user": {"reputation": 673, "user_id": 2535490, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73d4e035398ae94ae8e3c76fc11a025e?s=128&d=identicon&r=PG", "display_name": "previouslyactualname", "link": "https://stackoverflow.com/users/2535490/previouslyactualname"}, "edited": false, "score": 0, "creation_date": 1424294629, "post_id": 28593846, "comment_id": 45494951, "body": "I&#39;ve tried this: REPLOLD=&quot;\\$user = \\&#39;${SDBUSER}\\&#39;\\;#&quot;; REPLNEW=&quot;\\$user = \\&#39;${TDBUSER}\\&#39;\\;#&quot;; ssh username@${TARGETSERVER} -i /path/to/ssh-key perl -p -i -e &#39;s{&#39;&quot;$REPLOLD&quot;&#39;}{&#39;&quot;$REPLNEW&quot;&#39;}g&#39;  ${TARGETDIR}/configuration.php  .... but didn&#39;t work :( ==&gt; Substitution pattern not terminated at -e line 1."}, {"owner": {"reputation": 368, "user_id": 2226028, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee189d87f9cf6fda5118be0fe3ab5fd2?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2226028/michael"}, "reply_to_user": {"reputation": 673, "user_id": 2535490, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73d4e035398ae94ae8e3c76fc11a025e?s=128&d=identicon&r=PG", "display_name": "previouslyactualname", "link": "https://stackoverflow.com/users/2535490/previouslyactualname"}, "edited": false, "score": 0, "creation_date": 1424295421, "post_id": 28593846, "comment_id": 45495405, "body": "@SohamA see solution down below, but thanks anyways"}], "answers": [{"tags": [], "owner": {"reputation": 368, "user_id": 2226028, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee189d87f9cf6fda5118be0fe3ab5fd2?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2226028/michael"}, "is_accepted": true, "score": 1, "last_activity_date": 1424295300, "creation_date": 1424295300, "answer_id": 28594377, "question_id": 28593846, "link": "https://stackoverflow.com/questions/28593846/perl-replace-string-over-ssh-from-a-bash-script/28594377#28594377", "title": "perl: replace string over ssh from a bash script", "body": "<p>BINGO - Got it working:</p>\n\n<pre><code>ssh -T username@${TARGETSERVER} -i /path/to/ssh-key &lt;&lt;EOI\n  perl -p -i -e \"s#\\$user = \\'${SDBUSER}\\'\\;#\\$user = \\'${TDBUSER}\\'\\;#g\"  ${TARGETDIR}/configuration.php\n  exit\nEOI\n</code></pre>\n\n<p>From there, I could add several perl commands so I wouldn't have to have the payload of sshing in each time.</p>\n"}], "owner": {"reputation": 368, "user_id": 2226028, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee189d87f9cf6fda5118be0fe3ab5fd2?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2226028/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 28594377, "answer_count": 1, "score": 1, "last_activity_date": 1424295300, "creation_date": 1424293330, "question_id": 28593846, "link": "https://stackoverflow.com/questions/28593846/perl-replace-string-over-ssh-from-a-bash-script", "title": "perl: replace string over ssh from a bash script", "body": "<p>I need to replace a string in a file on a remote server with this:</p>\n\n<pre><code>ssh username@${TARGETSERVER} -i /path/to/ssh-key perl -p -i -e \"s#\\$user = \\'${SDBUSER}\\'\\;#\\$user = \\'${TDBUSER}\\'\\;#g\"  ${TARGETDIR}/configuration.php\n</code></pre>\n\n<p>That would replace the db user on a remote server in a joomla installation, btw. </p>\n\n<p>If I execute that interactively on the remote server with all the variables filled, it IS working.</p>\n\n<p>If I put the above line in a bash script, I get this message and no replacement takes place:</p>\n\n<pre><code>\"Substitution pattern not terminated at -e line 1.\"\n</code></pre>\n\n<p>Any clue how I can make this work? I've already tried several escapes like \\\\' and so forth, but I didn't succeed.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 2, "creation_date": 1424288683, "post_id": 28592359, "comment_id": 45491483, "body": "I think this is an interesting question because of the subtle implication of <i>what</i> this means Perl is doing - and why. However, in general, hash order is &quot;not reliable&quot; so while it may expose an interesting artifact, it is doing so under the general &quot;don&#39;t do that&quot; category - which is likely the cause of downvote(s)."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1424288991, "post_id": 28592359, "comment_id": 45491689, "body": "Reproducible <a href=\"https://ideone.com/IXwgWz\" rel=\"nofollow noreferrer\">ideone.com/IXwgWz</a> (more names added so the different order is more visible more often)"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 1, "creation_date": 1424289213, "post_id": 28592359, "comment_id": 45491820, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2011342/what-decides-the-order-of-keys-when-i-print-a-perl-hash\">What decides the order of keys when I print a Perl hash?</a>"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1424290495, "post_id": 28592359, "comment_id": 45492600, "body": "I do not believe it is a duplicate of that question (of which the answers do cover the &quot;don&#39;t do that&quot; category), for reasons previously stated. This is a <i>specific</i> situation about <i>why the order differs between runs</i> and is tied to a specific implementation detail. This behavior is &quot;relatively new&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 6, "creation_date": 1424291039, "post_id": 28592359, "comment_id": 45492905, "body": "@user2864740, It&#39;s actually quite old. It&#39;s at least 12 years old since env var <code>PERL_HASH_SEED</code> was added in 5.8.1. The only difference is that it now happens more often. It used to be some specific conditions had to happen before a hash would become salted, but now all hashes are salted from the start."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424291383, "post_id": 28592359, "comment_id": 45493123, "body": "@ikegami &quot;relatively new&quot; ;-) given the static [although not necessarily bad] changes since Perl 6 was .. uhh, announced. And yes, this dates me quite a bit.. in any case, a bit of new trivia filed."}], "answers": [{"comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1424288468, "post_id": 28592393, "comment_id": 45491354, "body": "The behavior implies that the (re)hash function used by Perl is itself non-deterministic across processes (which is not in conflict with, but not fully covered by, the quote) and should probably be covered in greater detail."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1424289695, "post_id": 28592393, "comment_id": 45492133, "body": "That passage does not explain why it differs bewteen runs."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1424290450, "post_id": 28592393, "comment_id": 45492573, "body": "@\u0421\u0443\u0445\u043e\u043927, Rather than replacing everything, I have posted my own answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424291667, "post_id": 28592393, "comment_id": 45493281, "body": "Correct documentation link: <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow noreferrer\">Algorithmic Complexity Attacks</a>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424291862, "post_id": 28592393, "comment_id": 45493396, "body": "@ikegami tnx for the link."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1424292044, "post_id": 28592393, "comment_id": 45493508, "body": "Re &quot;in order to&quot;, That quoted passage is true even when no measures are taken to prevent the &quot;algorithmic complexity attacks&quot;."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 3, "last_activity_date": 1424291845, "last_edit_date": 1424291845, "creation_date": 1424288315, "answer_id": 28592393, "question_id": 28592359, "link": "https://stackoverflow.com/questions/28592359/why-is-this-hash-created-from-a-constant-list-in-different-order-each-time-t/28592393#28592393", "title": "Why is this hash, created from a constant list, &quot;in different order&quot; each time the program is run?", "body": "<p>This behavior is described in <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\"><code>perldoc -f keys</code></a></p>\n\n<blockquote>\n  <p>Hash entries are returned in an apparently random order. The actual random order is specific to a given hash; the exact same series of operations on two hashes may result in a different order for each hash. Any insertion into the hash may change the order, as will any deletion, with the exception that the most recent key returned by each or keys may be deleted without changing the order. So long as a given hash is unmodified you may rely on keys, values and each to repeatedly return the same order as each other.</p>\n</blockquote>\n\n<p>.. in order to prevent <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow\"><code>Algorithmic Complexity Attacks</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1424290758, "post_id": 28592957, "comment_id": 45492758, "body": "(The vulnerability mitigated is known as a &quot;Hash [Flood] DoS&quot;.)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1424314011, "post_id": 28592957, "comment_id": 45502002, "body": "Plus ff you <i>need</i> order <i>and</i> you need a &quot;hash&quot; there&#39;s various ways of doing that among which: <a href=\"https://metacpan.org/pod/Hash::Ordered\" rel=\"nofollow noreferrer\"><code>Hash::Ordered</code></a>."}, {"owner": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "edited": false, "score": 0, "creation_date": 1424464101, "post_id": 28592957, "comment_id": 45574842, "body": "@ikegami: What perl version you are using? In my system, perl v5.14.2, the ouput is one time <code>wraxdjyukhgftienvmslcpqbzo</code> and <code>wraxdjyukhgftienvmslpcqbzo</code> two times (or more if I increase the for loop range). Why this happen?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "edited": false, "score": 0, "creation_date": 1424464590, "post_id": 28592957, "comment_id": 45575069, "body": "@cuonglm, You can get different orderings in 5.14 between runs, but some specific conditions have to happen first. The frequency at which you get different orderings changed in 5.18."}, {"owner": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "edited": false, "score": 0, "creation_date": 1424464802, "post_id": 28592957, "comment_id": 45575162, "body": "@ikegami: Can you clarify what are <code>specific conditions</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "edited": false, "score": 0, "creation_date": 1424464900, "post_id": 28592957, "comment_id": 45575200, "body": "@cuonglm, When a hash becomes degenerate (starts looking too much like a linked list), the salt of the hash&#39;s hash algorithm is changed."}, {"owner": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "edited": false, "score": 0, "creation_date": 1424465631, "post_id": 28592957, "comment_id": 45575540, "body": "@ikegami: Ah, of course, I know that. I only mean how I can get the different output for each time like yours. I change to perl 5.20 and get the expected output. And after reading the document again, this semantic is with perl 5.18 and above. Older version need setting <code>PERL_HASH_SEED</code> and <code>PERL_PERTURB_KEYS</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2373, "user_id": 2218718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12e3ba20337c7021f2e115688a681652?s=128&d=identicon&r=PG", "display_name": "cuonglm", "link": "https://stackoverflow.com/users/2218718/cuonglm"}, "edited": false, "score": 0, "creation_date": 1424466462, "post_id": 28592957, "comment_id": 45575990, "body": "@cuonglm, No, old version didn&#39;t need to set <code>PERL_HASH_SEED</code> to enable the salting (it is usually used to <i>disable</i> the salting when debugging hashes), and didn&#39;t have <code>PERL_PERTURB_KEYS</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 12, "last_activity_date": 1424295409, "last_edit_date": 1424295409, "creation_date": 1424290204, "answer_id": 28592957, "question_id": 28592359, "link": "https://stackoverflow.com/questions/28592359/why-is-this-hash-created-from-a-constant-list-in-different-order-each-time-t/28592957#28592957", "title": "Why is this hash, created from a constant list, &quot;in different order&quot; each time the program is run?", "body": "<p>The behaviour is documented in <a href=\"http://perldoc.perl.org/perlsec.html\">perlsec</a>'s <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\">Algorithmic Complexity Attacks</a>.</p>\n\n<hr>\n\n<p>A hash is an array of linked lists. A hashing function converts the key into a number which is used as the index of the array element (\"bucket\") into which to store the value. More than one key can hash to the same index (\"collision\"), a situation handled by the linked lists.</p>\n\n<p>If a malicious user knew the hashing algorithm, he could devise values that would hash to the same index, causing the hash to degenerate into a linked list. This can lead to <em>huge</em> performance drops in some applications, and thus can be used as part of a denial of service (DoS) attack.</p>\n\n<p>Two measures are taken to avoid that. One is to salt the hashing algorithm to randomize the order in which elements are stored, and the other makes it harder to detect the salt by perturbing the order in which the iterator visits the hash elements.</p>\n\n<pre><code>$ perl -E'\n   my @k = \"a\"..\"z\";\n   for (1..3) {\n      my %h = map { $_ =&gt; 1 } @k;\n      say keys %h;\n   }\n'\niocmbygdkranwxfejuqpzvltsh\nbmcoigdywrankujfxezpqlvths\njuexfwarnkgdybmcoihstlvzpq\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 4569149, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-D55EVhSi3Dg/AAAAAAAAAAI/AAAAAAAAXGg/WgAOsaeG-2Y/photo.jpg?sz=128", "display_name": "Ataul Haque", "link": "https://stackoverflow.com/users/4569149/ataul-haque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1424295409, "creation_date": 1424288173, "last_edit_date": 1424291064, "question_id": 28592359, "link": "https://stackoverflow.com/questions/28592359/why-is-this-hash-created-from-a-constant-list-in-different-order-each-time-t", "title": "Why is this hash, created from a constant list, &quot;in different order&quot; each time the program is run?", "body": "<p>Below is the small script in Perl. Every time I run this code I'm getting different output.</p>\n\n<p>Can anyone help me to understand the basics of storage of hash variables, that is how indexing is done for the key value pairs of Perl's hash variable. </p>\n\n<pre><code>#!/usr/bin/perl\n\n%data = ('John Paul' =&gt; 45, 'Lisa' =&gt; 30, 'Kumar' =&gt; 40);\n@names = keys %data;\nprint \"$names[0]\\n\";\nprint \"$names[1]\\n\";\nprint \"$names[2]\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1424304142, "post_id": 28592161, "comment_id": 45499169, "body": "I think it was the strange wording of your first sentence that misled people. It wasn&#39;t until you commented on my answer that we realised you actually want a way of determining the prototype of a subroutine. It&#39;s an odd thing to want to do unless you&#39;re writing an IDE or something similar. Would you explain your reasons for this, as there may well be a much better solution. Standard Perl 5 doesn&#39;t have prototypes in the first place so there&#39;s nothing to fetch. You may well be better off using a different language."}, {"owner": {"reputation": 57, "user_id": 4440881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9565050a270445a95737ae5f9a48d946?s=128&d=identicon&r=PG&f=1", "display_name": "nando", "link": "https://stackoverflow.com/users/4440881/nando"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1424313369, "post_id": 28592161, "comment_id": 45501854, "body": "Thanks, that&#39;s good feedback and I apologize for poorly phrased question.  My use case is to dynamically display required named parameters on a web page after a function has been selected.  The accepted answer of Function::Parameters is exactly what I was looking for."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4440881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9565050a270445a95737ae5f9a48d946?s=128&d=identicon&r=PG&f=1", "display_name": "nando", "link": "https://stackoverflow.com/users/4440881/nando"}, "edited": false, "score": 0, "creation_date": 1424292837, "post_id": 28592468, "comment_id": 45493948, "body": "This seems to get me closer.  To clarify, is there any way to inspect a sub and return a list of desired parameters?   Signatures and parameters seem to be ways of handling parameters I&#39;ve already provided.  It looks like Attribute::Signature (which I found via your answer) allows you &quot;to define a call signature for subroutines&quot;, which I think is what I&#39;m looking for."}, {"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "reply_to_user": {"reputation": 57, "user_id": 4440881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9565050a270445a95737ae5f9a48d946?s=128&d=identicon&r=PG&f=1", "display_name": "nando", "link": "https://stackoverflow.com/users/4440881/nando"}, "edited": false, "score": 0, "creation_date": 1424293639, "post_id": 28592468, "comment_id": 45494412, "body": "@Ben Grimm referred <a href=\"https://metacpan.org/pod/Function::Parameters\" rel=\"nofollow noreferrer\">Function::Parameters</a> may be then solution for inspecting?"}], "tags": [], "owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "is_accepted": false, "score": 6, "last_activity_date": 1424288529, "creation_date": 1424288529, "answer_id": 28592468, "question_id": 28592161, "link": "https://stackoverflow.com/questions/28592161/perl-get-list-of-desired-parameters/28592468#28592468", "title": "perl get list of desired parameters", "body": "<p>Of course, you can build some control mechanism by yourself, depending your needs. But there are some modules to help you with subroutine signatures. I will offer 3 of them:</p>\n\n<ol>\n<li><a href=\"https://metacpan.org/pod/signatures\">signatures</a> , the simplest</li>\n<li><a href=\"https://metacpan.org/pod/Kavorka\">Kavorka</a>, with type checking</li>\n<li><a href=\"https://metacpan.org/pod/Method::Signatures\">Method::Signatures</a> for OO methods</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 4440881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9565050a270445a95737ae5f9a48d946?s=128&d=identicon&r=PG&f=1", "display_name": "nando", "link": "https://stackoverflow.com/users/4440881/nando"}, "edited": false, "score": 0, "creation_date": 1424293943, "post_id": 28593464, "comment_id": 45494575, "body": "This sounds promising.  Will doing something like calling prototype(function) give me the back the named parameters?  If so, that answers my question."}, {"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "edited": false, "score": 0, "creation_date": 1424438986, "post_id": 28593464, "comment_id": 45560356, "body": "These three modules I suggested do not use source filters too, AFAIK."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1424291985, "creation_date": 1424291985, "answer_id": 28593464, "question_id": 28592161, "link": "https://stackoverflow.com/questions/28592161/perl-get-list-of-desired-parameters/28593464#28593464", "title": "perl get list of desired parameters", "body": "<p>In my opinion, the best solution to this question is to use <a href=\"https://metacpan.org/pod/Perl6::Parameters\" rel=\"nofollow\"><code>Perl6::Parameters</code></a> which, as its name suggests, emulates the semantics of Perl 6 <em>without</em> the horror of using a source filter.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 4440881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9565050a270445a95737ae5f9a48d946?s=128&d=identicon&r=PG&f=1", "display_name": "nando", "link": "https://stackoverflow.com/users/4440881/nando"}, "edited": false, "score": 0, "creation_date": 1424293693, "post_id": 28593725, "comment_id": 45494443, "body": "thanks for the pointer. I will try this later. FYI, i searched &quot;perl introspection&quot; and didn&#39;t get great results, but did encounter this which exactly what I was looking to do (but in the wrong language)   &gt;&gt;&gt; def myfunc(arg1, arg2, arg3=&#39;toto&#39;, *args, **kw): pass ...  &gt;&gt;&gt; import inspect  &gt;&gt;&gt; inspect.getargspec(myfunc) ([&#39;arg1&#39;, &#39;arg2&#39;, &#39;arg3&#39;], &#39;args&#39;, &#39;kw&#39;, (&#39;toto&#39;,))"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "reply_to_user": {"reputation": 57, "user_id": 4440881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9565050a270445a95737ae5f9a48d946?s=128&d=identicon&r=PG&f=1", "display_name": "nando", "link": "https://stackoverflow.com/users/4440881/nando"}, "edited": false, "score": 0, "creation_date": 1424294028, "post_id": 28593725, "comment_id": 45494618, "body": "You could also wait for Perl 6, or try Schwern&#39;s <a href=\"http://search.cpan.org/~mschwern/perl5i-v2.13.1/\" rel=\"nofollow noreferrer\">Perl 5i</a>. Perl 5 just doesn&#39;t lend itself to these sorts of OO techniques out of the box -- and that&#39;s okay."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 4, "last_activity_date": 1424293280, "last_edit_date": 1424293280, "creation_date": 1424292870, "answer_id": 28593725, "question_id": 28592161, "link": "https://stackoverflow.com/questions/28592161/perl-get-list-of-desired-parameters/28593725#28593725", "title": "perl get list of desired parameters", "body": "<p>You seem to be asking for <strong>introspection</strong>. There are plenty of OO frameworks which provide it (e.g. <a href=\"https://metacpan.org/pod/Moose\" rel=\"nofollow\">Moose</a>). But, if you want to be able to declare a <em>function</em> and then examine it from within your program, <a href=\"https://metacpan.org/pod/Function::Parameters\" rel=\"nofollow\">Function::Parameters</a> is a reasonable way to go.</p>\n\n<p>From the <a href=\"https://metacpan.org/pod/Function::Parameters::Info\" rel=\"nofollow\">Function::Parameters::Info</a> Synopsis: </p>\n\n<pre><code>  use Function::Parameters;\n\n  fun foo($x, $y, :$hello, :$world = undef) {}\n\n  my $info = Function::Parameters::info \\&amp;foo;\n  my $p0 = $info-&gt;invocant;             # undef\n  my @p1 = $info-&gt;positional_required;  # ('$x', '$y')\n  my @p2 = $info-&gt;positional_optional;  # ()\n  my @p3 = $info-&gt;named_required;       # ('$hello')\n  my @p4 = $info-&gt;named_optional;       # ('$world')\n  my $p5 = $info-&gt;slurpy;               # undef\n  my $min = $info-&gt;args_min;  # 4\n  my $max = $info-&gt;args_max;  # inf\n\n  my $invocant = Function::Parameters::info(method () { 42 })-&gt;invocant;  # '$self'\n\n  my $slurpy = Function::Parameters::info(fun {})-&gt;slurpy;  # '@_'\n</code></pre>\n\n<p>The introspection feature in the ::Info module is actually implemented using Moose. </p>\n"}], "owner": {"reputation": 57, "user_id": 4440881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9565050a270445a95737ae5f9a48d946?s=128&d=identicon&r=PG&f=1", "display_name": "nando", "link": "https://stackoverflow.com/users/4440881/nando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 28593725, "answer_count": 3, "score": 5, "last_activity_date": 1424293280, "creation_date": 1424287537, "question_id": 28592161, "link": "https://stackoverflow.com/questions/28592161/perl-get-list-of-desired-parameters", "title": "perl get list of desired parameters", "body": "<p>Is there a convention to request a list of required parameters for a function?  I'd like to be able to call a subroutine which would tell me that I need to provide $phrase and $times when calling @repeat.  </p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub repeat {\n    my $phrase = shift;\n    my $times = shift;\n    return $phrase x $times;\n    }\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1424285824, "post_id": 28591516, "comment_id": 45489723, "body": "What problem are you actually trying to solve? e.g Why do you need to have single quotes around text?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1424286190, "post_id": 28591516, "comment_id": 45489957, "body": "And the moral of this story is - using daisy chains of scripting language is asking for pain, when using one or other is a perfectly valid and acceptable solution to the problem."}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1424286740, "post_id": 28591516, "comment_id": 45490305, "body": "<a href=\"http://stackoverflow.com/questions/20955609/why-is-the-same-as-argv-in-a-perl-one-liner\" title=\"why is the same as argv in a perl one liner\">stackoverflow.com/questions/20955609/&hellip;</a>"}, {"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424288403, "post_id": 28591516, "comment_id": 45491312, "body": "@Sobrique - edited the question - for the real problem what I&#39;m solving. Could you please be more verbose about the <i>moral of this story</i>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424293716, "post_id": 28591516, "comment_id": 45494456, "body": "<code>use File::Find;</code> and do it all in Perl."}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 3, "last_activity_date": 1424285548, "creation_date": 1424285548, "answer_id": 28591578, "question_id": 28591516, "link": "https://stackoverflow.com/questions/28591516/perl-print-single-quotes-from-command-line-script/28591578#28591578", "title": "Perl print single quotes from command line script", "body": "<p>You can use:</p>\n\n<pre><code>echo text | perl -lnE \"say \\\"word: '\\$_'\\t'\\$_'\\\"\"\nword: 'text'    'text'\n</code></pre>\n\n<p>BASH allows you to include escaped double quote inside a double quote but same doesn't apply for single quoted. However while doing so we need to escape <code>$</code> to avoid escaping from BASH.</p>\n"}, {"comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1424286448, "post_id": 28591641, "comment_id": 45490121, "body": "Please suggest how correct answer can be improved when downvoting."}, {"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 1, "creation_date": 1424286705, "post_id": 28591641, "comment_id": 45490278, "body": "Replace the escapes with a variable is OK for me. Thanx."}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1424286781, "post_id": 28591641, "comment_id": 45490338, "body": "You can do <code>echo text | perl -lnE &#39;say &quot;word: &#39;\\&#39;&#39;$_&#39;\\&#39;&#39;&quot;;&#39;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1424287109, "post_id": 28591641, "comment_id": 45490520, "body": "@chilemagic I&#39;m trying to avoid this form due poor code readability."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1424286045, "last_edit_date": 1424286045, "creation_date": 1424285744, "answer_id": 28591641, "question_id": 28591516, "link": "https://stackoverflow.com/questions/28591516/perl-print-single-quotes-from-command-line-script/28591641#28591641", "title": "Perl print single quotes from command line script", "body": "<p>You can use ASCII code 39  for <code>'</code> to avoid escape hell,</p>\n\n<pre><code>echo text | perl -lnE 'BEGIN{ $q=chr(39) } say \"word: $q$_$q\\t$q$_$q\"'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "edited": false, "score": 1, "creation_date": 1424299312, "post_id": 28594104, "comment_id": 45497392, "body": "Small corrections: You need to add: <code>use Encode qw(decode_utf8);</code> and change to <code>my $newname = unac_string(NFC(decode_utf8($File::Find::name)));</code>, the <code>GetOpt::Std</code> is <code>Getopt::Std</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1424338247, "last_edit_date": 1424338247, "creation_date": 1424294298, "answer_id": 28594104, "question_id": 28591516, "link": "https://stackoverflow.com/questions/28591516/perl-print-single-quotes-from-command-line-script/28594104#28594104", "title": "Perl print single quotes from command line script", "body": "<p>OK, based on the statement of the problem you're having. My suggestion would be - don't pipe find to perl, that's just asking for all kinds of annoyance.</p>\n\n<p>I'm not entirely familiar with the modules, but would suggest you try something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Find;\nuse Text::Unaccent::PurePerl qw ( unac_string ); \nuse Unicode::Normalize qw ( NFC );\nuse Getopt::Std;\nuse File::Copy qw ( move );\nuse Encode qw(decode_utf8);\n\nmy %opts;\n#x to execute, p to specify a path. \n#p mandatory. \ngetopts('xp:',\\%opts);\n\n\n#this sub is called for each file, by the find function.\n#$File::Find::name is the full path to the file.\n#$_ is just the filename.     \nsub rename_unicode_files {\n   #skip if it's not a file. \n   next unless -f $File::Find::name;\n   #convert name with functions from your example. \n   my $newname = unac_string(NFC(decode_utf8($File::Find::name)));\n   $newname =~ s/[{}()\\[\\]\\s\\|]+/_/g;\n\n   #could apply other transforms here, such as regular expressions. \n\n   #if the two names are different, consider moving. \n   unless ( $newname eq $File::Find::Name ) {\n       print \"Would rename: $File::Find::Name to $newname\\n\";\n\n       #actually do it, if '-x' is specified. \n       if ( $opts{x} ) { move ( $File::Find::name, $newname ); };\n   }\n}\n\n#require -p &lt;pathname&gt; or otherwise print how to use. \nunless ( -d $opts{p} ) { \n   print \"Usage: $0 -p &lt;pathname&gt; [-x]\\n\";\n   exit;\n}\n\n#trigger find with callback to subroutine, over the '-p &lt;path&gt;'. \nfind ( \\&amp;rename_unicode_files, $opts{p} );\n</code></pre>\n\n<p>Extend with something like <a href=\"http://perldoc.perl.org/Getopt/Std.html\" rel=\"nofollow\"><code>GetOpt::Std</code></a> to check if you've specified an option - so you run normally, you get 'this is what I would do' and if you specify a particular flag, it actually does it. </p>\n\n<p>And either use the perl builtin <a href=\"http://perldoc.perl.org/functions/rename.html\" rel=\"nofollow\"><code>rename</code></a> or the one available from <a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow\"><code>File::Copy</code></a></p>\n\n<p>This will neatly avoid a lot of the escaping and interpolating problems you're having, and I think leave you with generally more readable and useful code. </p>\n\n<p>Edit: Given a comment suggesting that the above is 'too long' how about:</p>\n\n<pre><code>#!/usr/bin/perl\nuse File::Find; use Text::Unaccent::PurePerl qw ( unac_string ); use Unicode::Normalize qw ( NFC ); find( sub { next unless -f $name; print \"mv \\'$File::Find::Name\\' \\'\",unac_string( NFC($File::Find::name) ).\"\\'\\n\"; }, \".\" );\n</code></pre>\n\n<p>Still not convinced of the values of the approach. Even if it is only run occasionally - that's even more reason to make it as clear as possible. </p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 853018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c938bd96190e3e000cd5e33becc8476b?s=128&d=identicon&r=PG", "display_name": "Tomasz Pala", "link": "https://stackoverflow.com/users/853018/tomasz-pala"}, "is_accepted": false, "score": 0, "last_activity_date": 1580645533, "creation_date": 1580645533, "answer_id": 60025968, "question_id": 28591516, "link": "https://stackoverflow.com/questions/28591516/perl-print-single-quotes-from-command-line-script/60025968#60025968", "title": "Perl print single quotes from command line script", "body": "<p>There is a trivial solution using <code>zsh</code> shell and SQL-like (at least PostgreSQL and Oracle) quoting style:</p>\n\n<pre><code>$ setopt rc_quotes\n$ echo text | perl -lnE 'say \"word: ''$_''\\t''$_''\"'\nword: 'text'    'text'\n</code></pre>\n\n<p>To quote a <code>'</code> you simply double it and use <code>''</code> in this mode.</p>\n"}], "owner": {"reputation": 5666, "user_id": 734304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c64a3cafb1fd129cd2b98951d624f15?s=128&d=identicon&r=PG", "display_name": "kobame", "link": "https://stackoverflow.com/users/734304/kobame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "accepted_answer_id": 28591641, "answer_count": 4, "score": 4, "last_activity_date": 1580645533, "creation_date": 1424285373, "last_edit_date": 1424288291, "question_id": 28591516, "link": "https://stackoverflow.com/questions/28591516/perl-print-single-quotes-from-command-line-script", "title": "Perl print single quotes from command line script", "body": "<p>The following</p>\n\n<pre><code>echo text | perl -lnE 'say \"word: $_\\t$_\"'\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>word: text  text\n</code></pre>\n\n<p>I need</p>\n\n<pre><code>word: 'text'    'text'\n</code></pre>\n\n<p>Tried:</p>\n\n<pre><code>echo text | perl -lnE 'say \"word: \\'$_\\' \\'$_\\'\";' #didn't works\necho text | perl -lnE 'say \"word: '$_' '$_'\";'     #neither\n</code></pre>\n\n<p>How to correctly escape the single quotes for bash?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>want prepare a shell script with a couple of <code>mv</code> lines (for checking, before really renames the files), e.g tried to solve the following:</p>\n\n<pre><code>find . type f -print | \\\nperl \\\n  -MText::Unaccent::PurePerl=unac_string \\\n  -MUnicode::Normalize=NFC -CASD \\\n  -lanE 'BEGIN{$q=chr(39)}$o=$_;$_=unac_string(NFC($_));s/[{}()\\[\\]\\s\\|]+/_/g;say \"mv $q$o$q $_\"' &gt;do_rename\n</code></pre>\n\n<p>e.g. from the filenames like:</p>\n\n<pre><code>Som\u00e9 fil\u00e9nam\u00e9 \u010c\u017d (1980) |Full |Movie| Streaming [360p] some.mp4\n</code></pre>\n\n<p>want get the following output in the file <code>do_rename</code></p>\n\n<pre><code>mv 'Som\u00e9 fil\u00e9nam\u00e9 \u010c\u017d (1980) |Full |Movie| Streaming [360p] some.mp4' Some_filename_CZ_1980_Full_Movie_Streaming_360p_some.mp4\n</code></pre>\n\n<p>and after the manual inspection want run:</p>\n\n<pre><code>bash do_rename\n</code></pre>\n\n<p>for running the actual rename...</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1424286707, "post_id": 28590974, "comment_id": 45490279, "body": "Perl subroutines cannot return an array, only a list. And that isn&#39;t \u201ccasting\u201d, it&#39;s <i>dereferencing</i>."}, {"owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "edited": false, "score": 0, "creation_date": 1424287239, "post_id": 28590974, "comment_id": 45490596, "body": "This works, I used @{$self-&gt;get_field_names}; and it now prints each item in the array - thanks. If I remove the backslash nothing is being printed inside the foreach"}], "tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": 1, "last_activity_date": 1424283574, "creation_date": 1424283574, "answer_id": 28590974, "question_id": 28590882, "link": "https://stackoverflow.com/questions/28590882/perl-oop-method-returns-array-i-cannot-loop/28590974#28590974", "title": "Perl OOP method returns array I cannot loop", "body": "<p><code>get_field_names</code> returns an arrayref, not an array.  Either change its return type by removing the backslash from <code>return \\@names;</code> or \"cast\" its return type to an array by writing:</p>\n\n<pre><code>my @field_names = @{$self-&gt;get_field_names};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "edited": false, "score": 0, "creation_date": 1424287006, "post_id": 28590977, "comment_id": 45490463, "body": "this results in the following &quot;Global symbol &quot;$field_names&quot; requires explicit package name at ../modules/DBObj.pm line 34.&quot; that&#39;s not working out of the box"}, {"owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "reply_to_user": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "edited": false, "score": 1, "creation_date": 1424288534, "post_id": 28590977, "comment_id": 45491399, "body": "Which line of the above is line 34 in your script?  Did you change <code>my @field_names = ...</code> to <code>my $field_names = ...</code>?"}, {"owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "edited": false, "score": 0, "creation_date": 1424289463, "post_id": 28590977, "comment_id": 45491974, "body": "Sorry, I made a mistake when I altered my code. Your example works"}], "tags": [], "owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "is_accepted": true, "score": 7, "last_activity_date": 1424283587, "creation_date": 1424283587, "answer_id": 28590977, "question_id": 28590882, "link": "https://stackoverflow.com/questions/28590882/perl-oop-method-returns-array-i-cannot-loop/28590977#28590977", "title": "Perl OOP method returns array I cannot loop", "body": "<p>You have made <code>get_field_names</code> return a reference to an array, but you are then putting that reference into an array variable.</p>\n\n<p>Try:</p>\n\n<pre><code>my $field_names = $self-&gt;get_field_names;\n\nprint Dumper $field_names;\n\nforeach my $item ( reverse @$field_names ) {\n    print $item;\n}\n</code></pre>\n"}], "owner": {"reputation": 2501, "user_id": 117278, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eaf2025323bb63b0befc35491afa618e?s=128&d=identicon&r=PG", "display_name": "kristian nissen", "link": "https://stackoverflow.com/users/117278/kristian-nissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 28590977, "answer_count": 2, "score": 1, "last_activity_date": 1424287376, "creation_date": 1424283288, "last_edit_date": 1424287376, "question_id": 28590882, "link": "https://stackoverflow.com/questions/28590882/perl-oop-method-returns-array-i-cannot-loop", "title": "Perl OOP method returns array I cannot loop", "body": "<p>Here is what my module looks like:</p>\n\n<pre><code>#!/usr/bin/perl\npackage Page;\n\nuse strict;\nuse warnings;\n\nuse base qw/DBObj/;\n\nour %fields = (\n  id =&gt; undef,\n  title =&gt; '$',\n  content =&gt; '$'\n);\n\nsub get_field_names {\n  my @names = sort keys \\%fields;\n\n  return \\@names;\n}\n\nfor my $field ( keys %fields ) {\n  my $slot = __PACKAGE__ .\"::$field\";\n  no strict \"refs\";\n\n  *$field = sub {\n    my $self = shift;\n    $self-&gt;{$slot} = shift if @_;\n    return $self-&gt;{$slot};\n  }\n}\n\n1;\n</code></pre>\n\n<p>Here the parent module where the strange behaviour occurs</p>\n\n<pre><code>#!/usr/bin/perl\npackage DBObj;\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nuse DBConn;\n\nsub new {\n  my $me = shift;\n  my $class = ref $me || $me;\n\n  my $self = {\n    dbh =&gt; new DBConn-&gt;new(\n        dns =&gt; '/db.sql',\n        user =&gt; '',\n        pass =&gt; '',\n      )\n  };\n\n  return bless $self, $class;\n}\n\nsub save {\n  my $self = shift;\n\n  my @field_names = @{$self-&gt;get_field_names};\n\n  print Dumper @field_names;\n\n  foreach my $item ( reverse @field_names ) {\n    print $item;\n  }\n}\nsub fill {\n  my ( $self, $args ) = @_;\n\n  foreach my $key ( keys $args ) {\n    $self-&gt;$key( $args-&gt;{$key} );\n  }\n}\n\n1;\n</code></pre>\n\n<p>here is what I am experiencing. This snippet</p>\n\n<pre><code>my @field_names = $self-&gt;get_field_names;\n\nprint Dumper @field_names;\n\nforeach my $item ( reverse @field_names ) {\n    print $item;\n}\n</code></pre>\n\n<p>Data::Dumper shows </p>\n\n<pre><code>$VAR1 = [\n          'content',\n          'id',\n          'title'\n        ];\n</code></pre>\n\n<p>But the foreach loop returns</p>\n\n<pre><code>ARRAY(0x7fc750a26470)\n</code></pre>\n\n<p>I have a Test::Simple test case where I perform the following test</p>\n\n<pre><code>ok( shift $page-&gt;get_field_names eq 'content', 'Page has field content');\n</code></pre>\n\n<p>so I can shift off an item from the array, but I cannot loop through it which is a puzzle to me.</p>\n\n<p>And please; before you tell me that I shouldn't be doing this and that there is a ton of modules out there I should pick instead, I want to point out; I am doing this our of pure fun, I have been away from Perl for ~10 years and thought it would be fun to play around with it again.</p>\n"}, {"tags": ["perl", "poe"], "answers": [{"comments": [{"owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "edited": false, "score": 0, "creation_date": 1425069295, "post_id": 28768768, "comment_id": 45825836, "body": "Yes, I usually have both listeners and timers, POE::Kernel-&gt;delay that calls itself, amp queue subscribers and so one. What would be the recommended approach to end up the event loop waiting for certain tasks while ignoring others?"}], "tags": [], "owner": {"reputation": 146, "user_id": 1958373, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1e1231cf3a19f33c4fa375c72e8be414?s=128&d=identicon&r=PG", "display_name": "BIGMOOSE", "link": "https://stackoverflow.com/users/1958373/bigmoose"}, "is_accepted": false, "score": 1, "last_activity_date": 1425051413, "creation_date": 1425051413, "answer_id": 28768768, "question_id": 28587833, "link": "https://stackoverflow.com/questions/28587833/how-to-properly-shut-down-poe-and-poesession/28768768#28768768", "title": "How to properly shut down POE and POE::Session?", "body": "<p>I don't think this is entirely clear.. </p>\n\n<p>the yield, post etc. will empty and ultimately your script will shut down. A 'graceful shut down' is a concept used when, say, you have a socket driven application and you want to make sure all active activities spawned via a socket finish before 'shutting down/closing the socket'.</p>\n\n<p>So maybe the solution isn't something within POE::Kernel, but in your own code?</p>\n"}, {"tags": [], "owner": {"reputation": 481, "user_id": 378352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7e9295107ed4f727b7126db26bcc1218?s=128&d=identicon&r=PG", "display_name": "dudeman", "link": "https://stackoverflow.com/users/378352/dudeman"}, "is_accepted": false, "score": 1, "last_activity_date": 1425419265, "creation_date": 1425419265, "answer_id": 28842575, "question_id": 28587833, "link": "https://stackoverflow.com/questions/28587833/how-to-properly-shut-down-poe-and-poesession/28842575#28842575", "title": "How to properly shut down POE and POE::Session?", "body": "<p>If you create an inline state that removes aliases and any outstanding alarms your session should end gracefully. It will only remain if it's waiting for an event to return or being used by another session. </p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 230891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d4f61dae367905f646713ee2a0b65c5?s=128&d=identicon&r=PG", "display_name": "Rocco Caputo", "link": "https://stackoverflow.com/users/230891/rocco-caputo"}, "is_accepted": true, "score": 1, "last_activity_date": 1428004646, "creation_date": 1428004646, "answer_id": 29421403, "question_id": 28587833, "link": "https://stackoverflow.com/questions/28587833/how-to-properly-shut-down-poe-and-poesession/29421403#29421403", "title": "How to properly shut down POE and POE::Session?", "body": "<blockquote>\n  <p>What would be the recommended approach to end up the event loop waiting for certain tasks while ignoring others?</p>\n</blockquote>\n\n<p>First, wait for the tasks you want to finish.</p>\n\n<p>After they've finished, you have a few options to end the event loop before the remaining tasks are through.</p>\n\n<p>One is to call <code>POE::Kernel-&gt;stop()</code>.  That will stop the event loop, and the main <code>POE::Kernel-&gt;run()</code> call will return.  Usually there's nothing to do after that, but some programs do one-time finalization there.</p>\n\n<p>Another is to kill the process.  <code>kill(TERM =&gt; $$)</code>.  Use a signal that will cause your operating system to terminate the process.  This is pretty harsh, though.</p>\n\n<p>You can soften the blow by registering a SIGTERM handler with the <code>POE::Kernel-&gt;sig()</code> call.  That will let you run some code when SIGTERM arrives, but once again it puts the burden of shutting everything down upon your program.</p>\n\n<p>Other harsh options include <code>exit()</code>, which will at least allow objects to <code>DESTROY</code> and <code>END</code> blocks to run.  If you'd rather they didn't, there's always <code>POSIX::_exit()</code> instead.  There's also <code>die()</code>, of course.</p>\n\n<p>If you'd rather not involve the operating system, the <code>POE::Kernel-&gt;signal(TERM =&gt; $kernel)</code> call can be used to inject a fake SIGTERM.  This is effectively what POE::Kernel does behind the scenes when a real SIGTERM arrives.</p>\n\n<p>You can also use <code>POE::Kernel-&gt;signal()</code> to send signals to individual sessions.  One of the perks of being a simulated signal is that it's not necessarily scoped to the whole program.</p>\n\n<p>In most- to least-recommended order:</p>\n\n<ul>\n<li>Shut everything down with proper intent.</li>\n<li>Using <code>POE::Kernel-&gt;signal()</code> to kill specific recalcitrant sessions.</li>\n<li><code>POE::Kernel-&gt;stop()</code>.</li>\n<li><code>exit()</code> and its ilk.</li>\n</ul>\n"}], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 29421403, "answer_count": 3, "score": 3, "last_activity_date": 1428004646, "creation_date": 1424274719, "last_edit_date": 1425070896, "question_id": 28587833, "link": "https://stackoverflow.com/questions/28587833/how-to-properly-shut-down-poe-and-poesession", "title": "How to properly shut down POE and POE::Session?", "body": "<p>With <a href=\"http://metacpan.org/pod/POE\" rel=\"nofollow\"><code>POE</code></a> calling <code>POE::Kernel-&gt;stop()</code> results in immediately shutdown. How does one request a graceful shutdown, waiting for the yield, post, call FIFO to be empty before shutting down? </p>\n"}, {"tags": ["perl", "timezone", "timezone-offset"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1424271784, "post_id": 28586583, "comment_id": 45480558, "body": "you can&#39;t; you can only get the offset from GMT <i>at a particular time</i>"}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1424272274, "post_id": 28586583, "comment_id": 45480874, "body": "How come ! will the offset from GMT change from moment to moment (based on passed time parameter) ?!"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 2, "creation_date": 1424272471, "post_id": 28586583, "comment_id": 45480982, "body": "In my time zone, the offset is either -4 or -5 depending on the time of year."}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "edited": false, "score": 0, "creation_date": 1424272606, "post_id": 28586583, "comment_id": 45481068, "body": "So lets assume I want to get it based on current moment, i.e. now. How can this be done ?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1424272933, "post_id": 28587102, "comment_id": 45481287, "body": "or just <code>my $offset=DateTime-&gt;now(time_zone=&gt;$tzName)-&gt;offset</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424276504, "post_id": 28587102, "comment_id": 45483837, "body": "The offset can vary based on the date-time (primarily because of Daylight Saving Time). Update answer to make that clear"}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "edited": false, "score": 0, "creation_date": 1424337590, "post_id": 28587102, "comment_id": 45510244, "body": "I think that assuming it is changed every 6 month is not correct. Check for example how the daylight changes in a country like egypt: <a href=\"http://www.timeanddate.com/time/change/egypt/cairo\" rel=\"nofollow noreferrer\">timeanddate.com/time/change/egypt/cairo</a>"}], "tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": false, "score": 8, "last_activity_date": 1424276736, "last_edit_date": 1424276736, "creation_date": 1424272831, "answer_id": 28587102, "question_id": 28586583, "link": "https://stackoverflow.com/questions/28586583/convert-timezone-name-to-gmt-timezone-offset-in-perl/28587102#28587102", "title": "Convert timezone name to GMT timezone offset, in Perl?", "body": "<p>You can get the current offset using DateTime::TimeZone's <a href=\"http://search.cpan.org/dist/DateTime-TimeZone/lib/DateTime/TimeZone.pm#$tz-%3Eoffset_for_datetime(_$dt_)\" rel=\"nofollow\"><code>offset_for_datetime</code></a> method or DateTime's <a href=\"http://search.cpan.org/dist/DateTime/lib/DateTime.pm#$dt-%3Eoffset%28%29\" rel=\"nofollow\"><code>offset</code></a> method. A DateTime object is required because the offset can vary based on the date-time (primarily because of Daylight Saving Time).</p>\n\n<pre><code>my $tz_name = 'Europe/Istanbul';\n\nmy $dt = DateTime-&gt;now( time_zone =&gt; $tz_name );\nfor (1..2) {\n    my $offset = $dt-&gt;offset;\n    printf(\"Offset for %s in %s is %+g\\n\", $dt-&gt;iso8601, $tz_name, $offset / 60 / 60);\n    $dt-&gt;add( months =&gt; 6 );\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Offset for 2015-02-18T18:20:30 in Europe/Istanbul is +2\nOffset for 2015-08-18T18:20:30 in Europe/Istanbul is +3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1424285913, "last_edit_date": 1424285913, "creation_date": 1424285590, "answer_id": 28591595, "question_id": 28586583, "link": "https://stackoverflow.com/questions/28586583/convert-timezone-name-to-gmt-timezone-offset-in-perl/28591595#28591595", "title": "Convert timezone name to GMT timezone offset, in Perl?", "body": "<p>The offset can be obtained using the following:</p>\n\n<pre><code>$dt-&gt;offset\n</code></pre>\n\n<p>The offset of a date-time can vary based on the data-time (primarily due to Daylight Saving Time). As such, an offset is only useful when used in conjunction with the specific date-time for which it was obtained. That means there are very few legitimate uses of an offset other than for formatting a date-time for communication. For this purpose, you might find the <code>%z</code> <code>strftime</code> variable more useful.</p>\n\n<pre><code>$ perl -MDateTime -E'\n   say DateTime-&gt;now( time_zone =&gt; \"local\" )-&gt;strftime(\"%Y-%m-%dT%H:%M:%S%z\")\n'\n2015-02-18T10:52:40-0800\n</code></pre>\n"}], "owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1238, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1424285913, "creation_date": 1424271344, "last_edit_date": 1424272650, "question_id": 28586583, "link": "https://stackoverflow.com/questions/28586583/convert-timezone-name-to-gmt-timezone-offset-in-perl", "title": "Convert timezone name to GMT timezone offset, in Perl?", "body": "<p>I have a timzeone name as input, for example '<code>Europe/Istanbul</code>' as a string. <br>\nHow can I get the current offset from GMT (based on current time), i.e. <code>+2</code> as output ? <br>\nPS, I am using <a href=\"http://search.cpan.org/dist/DateTime-TimeZone/lib/DateTime/TimeZone.pm\" rel=\"nofollow\">DateTime::TimeZone</a> if this may help</p>\n"}, {"tags": ["perl", "wxwidgets", "wxperl"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1424278092, "post_id": 28587659, "comment_id": 45484888, "body": "You are right! I did eventually use <code>cpan</code> and it installed all the way to Wx. Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1424280942, "post_id": 28587659, "comment_id": 45486841, "body": "@MeirG: I&#39;m glad to help. Out of interest, how did you install the <code>wxWidgets</code> DLL? At present I can&#39;t get it to build using Strawberry&#39;s <code>dmake</code>."}, {"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1424282453, "post_id": 28587659, "comment_id": 45487724, "body": "I didn&#39;t, <code>cpan</code> did :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1424284788, "post_id": 28587659, "comment_id": 45489100, "body": "@MeirG: Ah okay. Did you do through the sequence I described above, or did you just do <code>cpan install Alien::wxWidgets</code> or something else?"}, {"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1424288282, "post_id": 28587659, "comment_id": 45491218, "body": "As you said, just <code>cpan install Alien::wxWidgets</code>. I then did &#39;cpan install Wx&#39; and it all unfolded with a few K of console text that IMHO nobody could decipher."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1424274328, "creation_date": 1424274328, "answer_id": 28587659, "question_id": 28584660, "link": "https://stackoverflow.com/questions/28584660/installing-alienwxwidgets-into-a-windows-7-strawberry-perl-box-failed/28587659#28587659", "title": "Installing Alien::wxWidgets into a Windows-7/Strawberry-Perl box failed", "body": "<p>I don't believe <code>cpanm</code> will correctly install <code>Alien-wxWidgets</code>. To install it manually through <code>cpan</code>, do this</p>\n\n<ul>\n<li><p>Set the <code>WXDIR</code> environment variable to the location of your <code>wxWidgets</code> installation</p></li>\n<li><p>Enter <code>cpan</code> to get a <code>cpan&gt;</code> prompt</p></li>\n<li><p>Enter <code>look Alien::wxWidgets</code> to download and unpack the module, and start a subsidiary command line with the directory containing the unpacked module as your working directory</p></li>\n<li><p>Enter the following in order, as described in <a href=\"http://search.cpan.org/dist/Alien-wxWidgets/README.txt\" rel=\"nofollow\">the Alien::wxWidgets README</a></p>\n\n<pre><code>perl Build.PL\nperl Build\nperl Build test\nperl Build install\n</code></pre></li>\n</ul>\n\n<p>If you think you may need some esoteric options, then that same README gives all the details you need.</p>\n"}], "owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424278582, "creation_date": 1424265650, "last_edit_date": 1424266705, "question_id": 28584660, "link": "https://stackoverflow.com/questions/28584660/installing-alienwxwidgets-into-a-windows-7-strawberry-perl-box-failed", "title": "Installing Alien::wxWidgets into a Windows-7/Strawberry-Perl box failed", "body": "<p>I was trying to install <code>Alien::wxWidgets</code> on the way to installing Wx.</p>\n\n<p>It failed at the following stage:</p>\n\n<pre><code>Fetch failed! HTTP response: 403 Forbidden [403 Forbidden] at inc/My/Build/Base.pm line 305.\nFetch failed! HTTP response: 403 [Forbidden] at inc/My/Build/Base.pm line 305.\nGot a '403' from 'prdownloads.sourceforge.net' expected '200' at inc/My/Build/Base.pm line 305.\nUnable to fetch archive at inc/My/Build/Base.pm line 307.\nBuilding Alien-wxWidgets\nFetching wxWidgets...\nfetching from: http://prdownloads.sourceforge.net/wxwindows/wxWidgets-3.0.0.tar.bz2\n</code></pre>\n\n<p>A cpan-testers report was filed. You can get it <a href=\"http://www.cpantesters.org/cpan/report/1c5bd90c-6ce1-1014-b463-28475549c6d3\" rel=\"nofollow\">here</a></p>\n\n<p>looking at the cpanm's <code>work</code> directory, I saw that such named file was created, but of zero length. I was able though to manually download the said file from this very same URL.</p>\n\n<p>So, how can I <em>manually</em> proceed from here?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10419, "user_id": 1151724, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q6fMI.jpg?s=128&g=1", "display_name": "CodeClown42", "link": "https://stackoverflow.com/users/1151724/codeclown42"}, "edited": false, "score": 1, "creation_date": 1424264198, "post_id": 28584893, "comment_id": 45476994, "body": "Use <a href=\"https://metacpan.org/pod/JSON::XS\" rel=\"nofollow noreferrer\">JSON::XS</a>."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1424266430, "post_id": 28584893, "comment_id": 45477081, "body": "where is your code ? what have you tried?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 4, "creation_date": 1424266480, "post_id": 28584893, "comment_id": 45477115, "body": "Decode json, make changes, encode back to json."}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 3, "creation_date": 1424267124, "post_id": 28584893, "comment_id": 45477547, "body": "That is not valid JSON. Do you want to select the part because syntax is broken in the outer parts? If so, provide some more details on or examples showing how the &quot;good&quot; part of the file is defined."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1424278520, "post_id": 28584893, "comment_id": 45485192, "body": "-1. Your input you posted isn&#39;t valid JSON, but I believe your actual input is valid JSON. Your desired output isn&#39;t valid JSON, but I believe you want valid JSON. Fix your sloppiness!"}], "answers": [{"tags": [], "owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "is_accepted": false, "score": 5, "last_activity_date": 1424275413, "last_edit_date": 1424275413, "creation_date": 1424267256, "answer_id": 28585220, "question_id": 28584893, "link": "https://stackoverflow.com/questions/28584893/how-to-remove-the-curly-braces-and-string-from-json-file-using-perl/28585220#28585220", "title": "How to remove the curly braces and string from JSON file using Perl", "body": "<p>Assuming the syntax errors in your JSON file are by accident and fixing it with a comma and an array structure, this works:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse JSON;\n\nmy $json = do {\n  local $/;\n  &lt;DATA&gt;;\n};\nmy $data = decode_json($json);\n\nmy $data2 = $data-&gt;{ticket};\nmy $json2 = encode_json($data2);\nprint $json2, \"\\n\";\n\n__DATA__\n{\n  \"ticket\": [\n    {\n      \"id\":\"01\",\n      \"language\": \"Java\",\n      \"edition\": \"third\",\n      \"author\": \"Herbert Schildt\"\n    },\n    {\n      \"id\":\"07\",\n      \"language\": \"C++\",\n      \"edition\": \"second\",\n      \"author\": \"E.Balagurusamy\"\n    }\n  ],\n  \"edition\": \"third\",\n  \"author\": \"Herbert Schildt\"\n}\n</code></pre>\n\n<p>Prints out:</p>\n\n<pre><code>[{\"language\":\"Java\",\"edition\":\"third\",\"author\":\"Herbert Schildt\",\"id\":\"01\"},{\"language\":\"C++\",\"edition\":\"second\",\"author\":\"E.Balagurusamy\",\"id\":\"07\"}]\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1424266315, "question_id": 185472}, "owner": {"user_type": "does_not_exist", "display_name": "gani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1424275510, "creation_date": 1424262518, "last_edit_date": 1424275510, "question_id": 28584893, "link": "https://stackoverflow.com/questions/28584893/how-to-remove-the-curly-braces-and-string-from-json-file-using-perl", "title": "How to remove the curly braces and string from JSON file using Perl", "body": "<pre><code>{\n    \"ticket\": {\n    {\n       \"id\":\"01\",\n       \"language\": \"Java\",\n       \"edition\": \"third\",\n       \"author\": \"Herbert Schildt\"\n    },\n    {\n       \"id\":\"07\",\n       \"language\": \"C++\",\n       \"edition\": \"second\"\n       \"author\": \"E.Balagurusamy\"\n    }\n}\n,\n  \"edition\": \"third\",\n   \"author\": \"Herbert Schildt\"\n}\n</code></pre>\n\n<p>That's my JSON file. I want to remove from file starting part <code>{\"ticket\":</code></p>\n\n<p>and ending part  <code>,\"edition\": \"third\",  \"author\": \"Herbert Schildt\" }</code>.</p>\n\n<p>Finally output I want like this:</p>\n\n<pre><code> {\n       \"id\":\"01\",\n       \"language\": \"Java\",\n       \"edition\": \"third\",\n       \"author\": \"Herbert Schildt\"\n    },\n    {\n       \"id\":\"07\",\n       \"language\": \"C++\",\n       \"edition\": \"second\"\n       \"author\": \"E.Balagurusamy\"\n    }\n}\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>Don't use regular expression, using only JSON Perl.</p>\n\n<hr>\n\n<p><strong>update</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse JSON;\nuse Data::Dumper;\nuse Getopt::Long;\n\nmy($infile);\nGetOptions('inFile=s' =&gt; \\$infile);\nmy $json;\n{\n  local $/; \n  open my $fh, \"&lt;\", \"$infile\";\n  $json = &lt;$fh&gt;;\n  close $fh;\n}\nmy $text = decode_json($json);\n</code></pre>\n\n<p>I have done this up to decode, but how to remove the starting and ending parts?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1424261716, "post_id": 28583348, "comment_id": 45474350, "body": "<code>my @m = $text =~ &#47;\\[ (\\w+) \\]&#47;xg;</code>"}, {"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 1, "creation_date": 1424267990, "post_id": 28583348, "comment_id": 45478124, "body": "@ION: If the problem is solved for you, please do not just adjust the subject but mark the most relevant answer as accepted. If you needed significant effort on your own post another answer showing how you successfully solved the problem and accept that."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 914244, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/894beb1f5757a655c8c336b09d45f6bf?s=128&d=identicon&r=PG", "display_name": "ION", "link": "https://stackoverflow.com/users/914244/ion"}, "edited": false, "score": 0, "creation_date": 1424267385, "post_id": 28583711, "comment_id": 45477720, "body": "Great thanks for the answer, so when your stating /g why isn&#39;t it possible to print out all results using the $1 operator (guessing it&#39;s cause it only bothers to find the first instance of something)? Why does this only print the first instance of each newline even when /m is defined (multiline). What I expected is only receive the first Instance in the whole string instead of getting one for each line, seems to not make sense anyone know why this happens ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 147, "user_id": 914244, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/894beb1f5757a655c8c336b09d45f6bf?s=128&d=identicon&r=PG", "display_name": "ION", "link": "https://stackoverflow.com/users/914244/ion"}, "edited": false, "score": 0, "creation_date": 1424268072, "post_id": 28583711, "comment_id": 45478179, "body": "<code>$1</code> is the &#39;first capture group&#39;. <code>$2</code> the second. And so forth. It works for <code>g</code> matches, but it doesn&#39;t really work for an arbitrary number of matches."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 147, "user_id": 914244, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/894beb1f5757a655c8c336b09d45f6bf?s=128&d=identicon&r=PG", "display_name": "ION", "link": "https://stackoverflow.com/users/914244/ion"}, "edited": false, "score": 0, "creation_date": 1424268263, "post_id": 28583711, "comment_id": 45478294, "body": "Not sure what&#39;s up with the multiline? Should work (See edit). Are you perhaps getting one per <i>paragraph</i> because that&#39;s what you&#39;re selecting?"}, {"owner": {"reputation": 147, "user_id": 914244, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/894beb1f5757a655c8c336b09d45f6bf?s=128&d=identicon&r=PG", "display_name": "ION", "link": "https://stackoverflow.com/users/914244/ion"}, "edited": false, "score": 0, "creation_date": 1424368696, "post_id": 28583711, "comment_id": 45530425, "body": "Yes was defined as paragraphs even though they were technically just on the next line. Yea no idea why multiline isn&#39;t working but hey it works this way so I&#39;m happy even though multiline would of been alot more useful."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1424268285, "last_edit_date": 1424268285, "creation_date": 1424262550, "answer_id": 28583711, "question_id": 28583348, "link": "https://stackoverflow.com/questions/28583348/perl-match-anything-inside-brackets-placing-each-instance-into-groups/28583711#28583711", "title": "Perl Match anything inside brackets placing each instance into groups", "body": "<p>If you capture part of a regex, and do so with the 'g' flag - as you're doing - the result is an array, not a string. </p>\n\n<p>Like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @matches;\nwhile ( &lt;DATA&gt; ) {\n   push ( @matches, m,\\[(\\w+)\\],g );\n}\n\nprint join (\"\\n\", @matches );\n\n\n__DATA__\nTesting Testing Testing\n[Test]\n[Test][TestTest][PPPP]\n[Test] [TestTest] [PPPP]\nTest]\n</code></pre>\n\n<p>Regarding multi-line strings in comments - this code works, and <em>should</em> work ok with your code. <code>$1</code> is defined each time your run the pattern match, and is the first capture group. You can access others with <code>$2</code> etc. </p>\n\n<p>But this style of matching I think falls down when you're working on an arbitrary number of possible matches, which is where an array would be apt. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $multi_line_str = q{Testing Testing Testing\n[Test]\n[Test][TestTest][PPPP]\n[Test] [TestTest] [PPPP]\nTest]};\n\nprint join (\"\\n\", $multi_line_str =~ m,\\[(\\w+)\\],gmi  );\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 914244, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/894beb1f5757a655c8c336b09d45f6bf?s=128&d=identicon&r=PG", "display_name": "ION", "link": "https://stackoverflow.com/users/914244/ion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 28583711, "answer_count": 1, "score": 1, "last_activity_date": 1459012362, "creation_date": 1424261348, "last_edit_date": 1459012362, "question_id": 28583348, "link": "https://stackoverflow.com/questions/28583348/perl-match-anything-inside-brackets-placing-each-instance-into-groups", "title": "Perl Match anything inside brackets placing each instance into groups", "body": "<p>I am trying to grab anything from inside Brackets (making sure to match only the first closing bracket <code>]</code>)</p>\n\n<p>I am using </p>\n\n<pre><code>$text=~ /\\[(\\w+)]/gmi\n</code></pre>\n\n<p>to find all 7 matches in this file.</p>\n\n<pre><code>Testing Testing Testing\n[Test]\n[Test][TestTest][PPPP]\n[Test] [TestTest] [PPPP]\nTest]\n</code></pre>\n\n<p>It only grabs the first instance of <code>Test</code> in each line even when multiline matching is set <code>/m</code>.<br>\nI am trying to return each string that is inside brackets and nothing else (so for example not picking up <code>Test]</code>). </p>\n\n<p>I tried this RegEx expression inside a regex web parser, <a href=\"https://regex101.com/r/cL1pT8/2\" rel=\"nofollow\">Regex Web Parser</a>. Which says that it should return all 7 matches.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Win32::OLE;\nuse Win32::OLE::Enum;\nuse Win32::OLE qw(in with);\nuse Win32::OLE::Const;\nuse Win32::OLE::Const 'Microsoft Word';\nuse Win32::OLE; $Win32::OLE::Warn = 3;  \n\nmy (@req_array,$document,$paragraphs,$paragraph,$enumerate,$style,$text,$word,$oldfile);\n\n    eval {$word = Win32::OLE-&gt;GetActiveObject('Word.Application')}; \n    die \"Word not installed\" if $@; \n\n    unless (defined $word) { $word = Win32::OLE-&gt;new('Word.Application', \n\n    sub {$_[0]-&gt;Quit;}) or die \"Oops, cannot start Word\"; } \n    $word-&gt;Activate; \n    $word-&gt;{visible} = 1;\n\n    #$oldfile =~ m!^(.+?)/([^/]+)$!;\n    #my $dir = $1 . '/';\n    #my $name = $2;\n    #$word-&gt;ChangeFileOpenDirectory($dir);\n\n    my $doc = $word-&gt;Documents-&gt;Open('C:\\Users\\n\\Desktop\\test.doc');\n\n    print $ARGV[0] . \"\\n\";\n\n    $paragraphs = $doc-&gt;Paragraphs();\n\n    $enumerate = new Win32::OLE::Enum($paragraphs);\n    while(defined($paragraph = $enumerate-&gt;Next()))\n    {\n        $style = $paragraph-&gt;{Style}-&gt;{NameLocal};\n        $text = $paragraph-&gt;{Range}-&gt;{Text};\n        if($text=~ /\\[(\\w+)]/gmi)\n        {\n        print $1 . \"\\n\";\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["perl", "data-structures", "hashtable", "associative-array", "perl-data-structures"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1424260835, "post_id": 28583135, "comment_id": 45473746, "body": "Your first hash is invalid, so y&#39;know, that&#39;s just not going to work."}, {"owner": {"reputation": 17349, "user_id": 1951708, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/uUTYl.jpg?s=128&g=1", "display_name": "Lorenz Meyer", "link": "https://stackoverflow.com/users/1951708/lorenz-meyer"}, "edited": false, "score": 1, "creation_date": 1424261085, "post_id": 28583135, "comment_id": 45473923, "body": "Why is this tagged regex? There&#39;s no relation."}, {"owner": {"reputation": 47, "user_id": 4579401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b41c7d92113fc7a4b4a9411c747b2f79?s=128&d=identicon&r=PG&f=1", "display_name": "idiot on perl", "link": "https://stackoverflow.com/users/4579401/idiot-on-perl"}, "edited": false, "score": 0, "creation_date": 1424261319, "post_id": 28583135, "comment_id": 45474081, "body": "this is just an example can you please tell me the way to convert the hash into hash of array(hash will have same key but different value and i need to form as hahses of array)"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1424273064, "post_id": 28583135, "comment_id": 45481375, "body": "I think this is a useful question and there are some good standard answers here <i>i.e</i> it is a useful question and set of responses. Even if the OP is using &quot;pseudo code&quot; the point of the question gets through."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1424273102, "post_id": 28583135, "comment_id": 45481398, "body": "For a hash key to refer to  multiple values, the values need to be not just a list or array but a anonymous array <code>[ ]</code> or a reference <code>\\@arr</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1434999662, "post_id": 28583396, "comment_id": 50005487, "body": "They must be unique <b><i>or</i></b> there must be some way of dealing with collisions/overlap in the keys so that multiple values can be assigned to each key. From the wording of question I think this is what the OP was looking for."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1424261494, "creation_date": 1424261494, "answer_id": 28583396, "question_id": 28583135, "link": "https://stackoverflow.com/questions/28583135/convert-hash-values-with-same-key-to-hash-of-arrays-in-perl/28583396#28583396", "title": "Convert hash values with same key to hash of arrays in Perl", "body": "<p>You can't have that hash in the first place. A hash in Perl <strong><em>must</em></strong> have <strong>unique</strong> <em>keys</em>.</p>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1434990044, "post_id": 28583505, "comment_id": 50000031, "body": "Simplest and leanest approach ++ .... I expanded my answer to compare it with potential of &quot;new&quot; syntax in 5.22 and the perl6 approach."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1435085959, "post_id": 28583505, "comment_id": 50049311, "body": "Who knows?  I upvoted you for backwards-compatibility :-)"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 3, "last_activity_date": 1424273191, "last_edit_date": 1424273191, "creation_date": 1424261849, "answer_id": 28583505, "question_id": 28583135, "link": "https://stackoverflow.com/questions/28583135/convert-hash-values-with-same-key-to-hash-of-arrays-in-perl/28583505#28583505", "title": "Convert hash values with same key to hash of arrays in Perl", "body": "<p>You're asking for the impossible! Hashes can only have unique keys, so in your example you will produce a hash which takes each unique name as its key, and the last value for each key as its value:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict; \nuse Data::Dumper;\n\nmy %hash = (tinku =&gt;15,tina =&gt;4, rita =&gt;18, \n           tinku =&gt;18, tinku =&gt;17, tinku =&gt;16, rita =&gt;19);\n\nprint Dumper \\%hash;\n</code></pre>\n\n<hr>\n\n<pre><code>$VAR1 = {\n          'rita' =&gt; 19,\n          'tina' =&gt; 4,\n          'tinku' =&gt; 16\n        };\n</code></pre>\n\n<p>To make a hash of arrays you could try something like this:</p>\n\n<pre><code>my %hash;\n\nmy @names = qw(tinku tina rita tinku tinku tinku rita);\nmy @nums = qw(15 4 18 18 17 16 19);\n\n\npush @{ $hash{ $names[$_] } }, $nums[$_] for 0 .. $#names;\n\n\nprint Dumper \\%hash;\n</code></pre>\n\n<hr>\n\n<pre><code>$VAR1 = {\n          'rita' =&gt; [\n                      '18',\n                      '19'\n                    ],\n          'tina' =&gt; [\n                      '4'\n                    ],\n          'tinku' =&gt; [\n                       '15',\n                       '18',\n                       '17',\n                       '16'\n                     ]\n        };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 0, "creation_date": 1424343988, "post_id": 28583801, "comment_id": 45514117, "body": "Some <a href=\"http://perlmonks.org/?node_id=1117094\" rel=\"nofollow noreferrer\">research</a> on the nature of Perl&#39;s native &quot;Odd number of elements in hash assignment&quot; warning."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1434990315, "post_id": 28583801, "comment_id": 50000222, "body": "++ for your approach to failing quickly when the keys and values of a hash add up to something odd (so to speak). I wonder if there&#39;s other ways they might not line up properly.and if some of the new functions in <code>List::Util</code>  could make those easy to detect."}], "tags": [], "owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "is_accepted": false, "score": 5, "last_activity_date": 1424262820, "creation_date": 1424262820, "answer_id": 28583801, "question_id": 28583135, "link": "https://stackoverflow.com/questions/28583135/convert-hash-values-with-same-key-to-hash-of-arrays-in-perl/28583801#28583801", "title": "Convert hash values with same key to hash of arrays in Perl", "body": "<pre><code>my %hash = (tinku =&gt;15,tina =&gt;4, rita =&gt;18, \n    tinku =&gt;18, tinku =&gt;17, tinku =&gt;16, rita =&gt;19);\n</code></pre>\n\n<p>This assignment is going to only keep the last value for each key (i.e. tinku=>16, rita=>19, tina=>4) and dismiss the previous ones. This is done so deliberately to allow overriding values in hash assignments. E.g. </p>\n\n<pre><code>sub some_function {\n     my %args = (%sane_defaults, @_);\n};\n</code></pre>\n\n<p>Also, (foo => (1, 2, 3)) would create hash (foo => 1, 2 => 3) and not what you expect. </p>\n\n<p>A possible solution could be: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy @array = (tinku =&gt;15,tina =&gt;4, rita =&gt;18, tinku =&gt;18, \n     tinku =&gt;17, tinku =&gt;16, rita =&gt;19);\nmy %hash = hash_of_arrays( @array );\nprint Dumper(\\%hash);\n\nsub hash_of_arrays {\n     die \"Odd number of elements in hash (of arrays) assignment\"\n          if @_ % 2;\n     # I never understood why this is a *warning* :-)\n\n     # populate hash by hand\n     my %hash; \n     while (@_) {\n          my $key = shift;\n          my $value = shift;\n          push @{ $hash{$key} }, $value;\n          # here hash values automatically become \n          # empty arrayrefs if not defined, thanks Larry\n     };\n     return %hash; \n     # *tecnically*, this one returns *array* \n     # and converts it back to hash\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 1, "creation_date": 1424266222, "post_id": 28584770, "comment_id": 45476931, "body": "Neat. I thought there might be something in List::Util for that, still did it by hand."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1424309664, "post_id": 28584770, "comment_id": 45500930, "body": "@Sugir_R_Thain ...  <code>pairs()</code> &quot;returns a list of ARRAY references, each containing two items from the given list&quot;.  Because they are array references (<i>i.e.</i> <code>[ ]</code>)  you <b>can</b> have a hash of &quot;lists&quot; as you indicate - just not quite the way your code is written."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 2, "last_activity_date": 1424309243, "last_edit_date": 1424309243, "creation_date": 1424266017, "answer_id": 28584770, "question_id": 28583135, "link": "https://stackoverflow.com/questions/28583135/convert-hash-values-with-same-key-to-hash-of-arrays-in-perl/28584770#28584770", "title": "Convert hash values with same key to hash of arrays in Perl", "body": "<p>Since a hash can only have unique keys, don't assign list to a hash, but process it with <a href=\"https://metacpan.org/pod/List::Util#pairs\" rel=\"nofollow\"><code>pairs()</code></a> from <a href=\"https://metacpan.org/pod/List::Util\" rel=\"nofollow\"><code>List::Util</code></a>,</p>\n\n<pre><code>use List::Util 'pairs';\n\nmy %hash;\npush @{ $hash{$_-&gt;[0]} }, $_-&gt;[1]\n for pairs (tinku =&gt;15,tina =&gt;4, rita =&gt;18, tinku =&gt;18, \n           tinku =&gt;17, tinku =&gt;16, rita =&gt;19);\n\nuse Data::Dumper; print Dumper \\%hash;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = {\n      'tinku' =&gt; [\n                   15,\n                   18,\n                   17,\n                   16\n                 ],\n      'rita' =&gt; [\n                  18,\n                  19\n                ],\n      'tina' =&gt; [\n                  4\n                ]\n    };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5138, "user_id": 280449, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/89f948c00bdba752360909d1cc585e12?s=128&d=identicon&r=PG", "display_name": "Dallaylaen", "link": "https://stackoverflow.com/users/280449/dallaylaen"}, "edited": false, "score": 1, "creation_date": 1424343819, "post_id": 28587025, "comment_id": 45514006, "body": "So here&#39;s the <i>third</i> solution to an <i>impossible</i> problem. Cool."}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 5, "last_activity_date": 1447034293, "last_edit_date": 1495542188, "creation_date": 1424272643, "answer_id": 28587025, "question_id": 28583135, "link": "https://stackoverflow.com/questions/28583135/convert-hash-values-with-same-key-to-hash-of-arrays-in-perl/28587025#28587025", "title": "Convert hash values with same key to hash of arrays in Perl", "body": "<p>The techniques and patterns covered in the other responses here are tried and true idioms that are essential for getting the most out of Perl, for understanding existing code, and for working with the large installed base of older perl compilers. Just <strong><em>for fun</em></strong> I thought I mention a couple of other approaches:</p>\n\n<p>There's a fairly readable new syntax in <code>perl-5.22</code> that is an alternative to the more classic approach take by <a href=\"https://stackoverflow.com/users/2105156/fugu\">@fugu</a>. For something a bit more funky I'll mention <a href=\"https://stackoverflow.com/users/612142/miyagawa\">@miyagawa's</a> <a href=\"https://metacpan.org/pod/Hash::MultiValue\" rel=\"nofollow noreferrer\"><code>Hash::MultiValue</code></a>. Perl 6 also has a nice way to convert lists of key/value pairs with potentially non-unique keys into hashes containing keys with multiple values. </p>\n\n<p>As the other responses here point out, the \"key\" to all of this is:</p>\n\n<blockquote>\n  <p><em>For a hash key to refer to multiple values, the values need to be not just a list or array but a anonymous array <code>[ ]</code> or a reference.</em></p>\n</blockquote>\n\n<hr>\n\n<h2>Using new syntax available with <code>perl-5.22</code></h2>\n\n<p><a href=\"https://stackoverflow.com/a/28583505/2019415\">Fugu's response</a> shows the standard Perl idiom. Iterating through <code>@names</code> using <code>for 0 .. $#names</code>  ensures that overlapping keys are not \"lost\" and instead point at an anonymous array of multiple values. With <code>perl-5.22</code> we can use the <code>pairs()</code> function from <code>List::Util</code> (a core module) and <a href=\"http://perltricks.com/article/68/2014/2/13/Cool-new-Perl-feature--postfix-dereferencing\" rel=\"nofollow noreferrer\">postfix dereferencing</a> to add key/value pairs to a hash and account for overlapping or duplicate keys in a slightly different way:</p>\n\n<pre><code>use experimental qw(postderef);\nuse List::Util qw/pairs/;\n\nmy %hash;    \nmy $a_ref = [ qw/tinku 15 tina 4 rita 18 tinku 18 tinku 17 tinku 16 rita 19/ ];\npush $hash{$_-&gt;key}-&gt;@* , $_-&gt;value for pairs @$a_ref;\n\nuse DDP;\np %hash;\n</code></pre>\n\n<p>As of version 1.39 <code>List::Util::pairs()</code> returns ARRAY references as blessed objects accessible via <code>-&gt;key</code> and <code>-&gt;value</code> methods. The example uses <strong>LEONT</strong>'s <a href=\"https://metacpan.org/pod/experimental\" rel=\"nofollow noreferrer\"><code>experimental.pm</code></a> pragma and <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"nofollow noreferrer\"><code>DDP</code></a> to make things a bit more compact. </p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>{\n    rita    [\n        [0] 18,\n        [1] 19\n    ],\n    tina    [\n        [0] 4\n    ],\n    tinku   [\n        [0] 15,\n        [1] 18,\n        [2] 17,\n        [3] 16\n    ]\n}\n</code></pre>\n\n<p>As to which is more \"readable\": it's hard to beat the easily \"grokable\" standard approach, but with the new syntax available in the latest versions of perl5 we can explore the <em>potential</em> of new idioms. I am really starting to like postfix dereferencing. TIMTOWTDI and beyond!</p>\n\n<hr>\n\n<h2>@miyagawa's <code>Hash::MultiValue</code></h2>\n\n<p>With this module all you can create a <code>Hash::MultiValue</code> object (with lots of methods to access it in various ways) and a plain hash reference to conveniently work with multiple values per key.</p>\n\n<pre><code>#!/usr/bin/env perl -l\nuse Hash::MultiValue;\nuse strict;\nuse warnings;\n\nmy $mvhash = Hash::MultiValue-&gt;new(tinku =&gt;15, tina =&gt;4, rita =&gt;18,\n                tinku =&gt;18, tinku =&gt;17, tinku =&gt;16, rita =&gt;19);\n\nprint \"\\ntinku's values:\\n\", join \" \", $mvhash-&gt;get_all('tinku');\n\nprint \"\\nflattened mvhash:\\n\", join \" \", $mvhash-&gt;flatten ;\n\nprint \"\\n ... using mvhash as a hashref:\" ;\nprint join \" \", $mvhash-&gt;get_all($_) for keys %$mvhash ;\n\nprint \"\\n\", '... as a \"mixed\" hashref with each():';\nmy $mvhash_ref = $mvhash-&gt;mixed ;\n\nwhile ( my ($k, $v) = each $mvhash_ref ) { \n  print \"$k =&gt; \" , ref $v eq \"ARRAY\" ? \"@{$v}\" : \"$v\" ; \n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>tinku's values:\n15 18 17 16\n\nflattened mvhash:\ntinku 15 tina 4 rita 18 tinku 18 tinku 17 tinku 16 rita 19\n\n... using mvhash as a hashref:\n15 18 17 16\n18 19\n4\n\n... as a \"mixed\" hashref with each():\ntinku =&gt; 15 18 17 16\nrita =&gt; 18 19\ntina =&gt; 4\n</code></pre>\n\n<p>Once your hash is available as a <code>Hash::MultiValue</code> object you can manipulate it in various ways to quickly create temporary copies and hash references. Just assign them to a scalar and <code>Dump</code> the (or use <code>DDP</code>) to get an idea of how it works:</p>\n\n<pre><code>use DDP; \nmy $hmulti = $mvhash-&gt;multi; p $hmulti ;\nmy $hmixed = $mvhash-&gt;mixed; p $hmixed \n</code></pre>\n\n<p>There's some restrictions on using regular hash operations with a <code>Hash::MultiValue</code> object (and things like <code>dd \\$mvhash</code> are not going to show you the whole hash - you need to do <code>dd $hash-&gt;multi</code>) however in some situations there is an advantage to working with multi-value hashes in this way (<em>i.e.</em> more readable and/or possibly less code needed for some functions). </p>\n\n<p>You still need to recognize when/where <code>Hash::MultiValue</code> is useful so it's not unambiguously \"easier\" or \"cleaner\" - but it's another useful addition to your box of perl tools.</p>\n\n<hr>\n\n<h2>Perl 6 - just for comparison</h2>\n\n<p>Perl6 can be a bit more compact for grabbing key/value pairs from a list because you can use <a href=\"http://design.perl6.org/S04.html#The_for_statement\" rel=\"nofollow noreferrer\">\"multiple parameters\" in a <code>for</code> statement</a>, traversing a list by groups of elements then using <code>push</code> to arrange them into a hash. You can do  this in a way that \"automagically\" accounts for overlapping keys. <em>cf.</em> this short perl6 snippet:</p>\n\n<pre><code>my %h ;\nfor &lt;tinku 15 tina 4 rita 18 tinku 18 tinku 17 tinku 16 rita 19&gt; -&gt; $k, $v { \n    %h.push($k =&gt; $v) ;\n}\n%h.perl.say ;\n</code></pre>\n\n<p><strong>Edit:</strong>\nThe friendly folks on <code>#perl6</code> suggest an even more succinct \"method\":</p>\n\n<pre><code>my %h.push: &lt;tinku 15 tina 4 rita 18 tinku 18 tinku 17 tinku 16 rita 19&gt;.pairup ;\n%h.perl.say ;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>{:rita([\"18\", \"19\"]), :tina(\"4\"), :tinku([\"15\", \"18\", \"17\", \"16\"])}&lt;&gt;\n</code></pre>\n\n<hr>\n\n<p><em>cf.</em> </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18166156/handling-multiple-file-uploads-with-plack/18166401#18166401\">Miyagawa himself answering a question about <code>Hash::MultiValue</code> usage</a>.</li>\n<li><a href=\"https://stackoverflow.com/a/23797643/2019415\">Another of my own answers that mentions <code>Hash::MultiValue</code></a>.</li>\n<li><a href=\"https://perl6advent.wordpress.com/2010/12/08/different-names-of-different-things/\" rel=\"nofollow noreferrer\">A discussion of some \"new\" perl6 functions (<code>flip/reverse/invert</code>) and how they apply to hashes</a>.</li>\n<li>An example script <a href=\"https://stackoverflow.com/a/33483574/2019415\">using <code>Hash::MultiValue</code> to safely invert a hash</a> </li>\n</ul>\n\n<p>It's not just continued development of <code>perl</code> the compiler that makes it possible to write Perl code in new and interesting ways. Thanks to <a href=\"https://stackoverflow.com/users/612142/miyagawa\">@miygawa</a> and <a href=\"http://leonerds-code.blogspot.ca/2015/06/turning-hard-problem-into-easy-one.html\" rel=\"nofollow noreferrer\">Paul Evans</a> for his stewardship of <a href=\"https://metacpan.org/release/Scalar-List-Utils\" rel=\"nofollow noreferrer\">Scalar-List-Utils</a> you can do cool things with <code>Hash::MultiValue</code> even if your version of <code>perl</code> is as old as version 5.8; and you can try the functions available in latest versions of <code>List::Util</code> even if your <code>perl</code> is barely from this millennium (<code>List::Util</code> works with <code>perl-5.6</code> which ushered in the 21st century in March 2000). </p>\n"}], "owner": {"reputation": 47, "user_id": 4579401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b41c7d92113fc7a4b4a9411c747b2f79?s=128&d=identicon&r=PG&f=1", "display_name": "idiot on perl", "link": "https://stackoverflow.com/users/4579401/idiot-on-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1518, "favorite_count": 1, "answer_count": 5, "score": 1, "last_activity_date": 1447034293, "creation_date": 1424260766, "last_edit_date": 1434991018, "question_id": 28583135, "link": "https://stackoverflow.com/questions/28583135/convert-hash-values-with-same-key-to-hash-of-arrays-in-perl", "title": "Convert hash values with same key to hash of arrays in Perl", "body": "<p>I need to convert the hash into hash of array in perl</p>\n\n<p>I have:</p>\n\n<pre><code>%hash = (\n    tinku =&gt; 15,\n    tina  =&gt; 4,\n    rita  =&gt; 18,\n    tinku =&gt; 18,\n    tinku =&gt; 17,\n    tinku =&gt; 16,\n    rita  =&gt; 19\n);\n</code></pre>\n\n<p>And I want to change it to:</p>\n\n<pre><code>%hash =  ( tinku =&gt; [ 15, 16, 17, 18 ], rita =&gt; [ 18, 19 ], tina =&gt; 4 );\n</code></pre>\n"}, {"tags": ["windows", "perl", "fork"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424256726, "post_id": 28581600, "comment_id": 45471459, "body": "What are you passing <i>in</i> to your subroutine?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1424256765, "post_id": 28581600, "comment_id": 45471486, "body": "Try upgrading your perl to a newer version."}, {"owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "edited": false, "score": 0, "creation_date": 1424258100, "post_id": 28581600, "comment_id": 45472227, "body": "My perl version is 5.14."}, {"owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "edited": false, "score": 0, "creation_date": 1424258133, "post_id": 28581600, "comment_id": 45472238, "body": "I am passing this:  my $coderef1 \t= sub { $Excel-&gt;Run(&#39;login&#39;) };"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1424258785, "post_id": 28581600, "comment_id": 45472588, "body": "Are you using Windows? Because using fork on Windows will not work as expected."}, {"owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "edited": false, "score": 0, "creation_date": 1424258924, "post_id": 28581600, "comment_id": 45472675, "body": "Yes, I am using Win7. Is there any other way by which this can be achieved?"}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1424259618, "last_edit_date": 1424259618, "creation_date": 1424259001, "answer_id": 28582524, "question_id": 28581600, "link": "https://stackoverflow.com/questions/28581600/free-to-wrong-pool-2608aa8-not-6d3fe8-at-test-pl/28582524#28582524", "title": "Free to wrong pool 2608aa8 not 6d3fe8 at test.pl", "body": "<p><a href=\"http://perldoc.perl.org/perlfork.html\" rel=\"nofollow\">perlfork</a> says </p>\n\n<blockquote>\n  <p>On Windows fork() system call is not available</p>\n</blockquote>\n\n<p>That's why it's not working as expected for you. Try using <code>Win32::Process::Create</code>. </p>\n\n<p>See: </p>\n\n<ul>\n<li><a href=\"http://www.perlmonks.org/?node_id=588994\" rel=\"nofollow\">What is the difference between Windows fork and Unix fork?</a></li>\n<li><a href=\"http://cpansearch.perl.org/src/MOB/Forks-Super-0.63/README.windows\" rel=\"nofollow\">A Great little summary of issues with fork on Windows</a></li>\n<li><a href=\"http://users.telenet.be/bartl/classicperl/fork/all.html\" rel=\"nofollow\">Mr. Peabody Explains fork()</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1424278816, "creation_date": 1424278816, "answer_id": 28589351, "question_id": 28581600, "link": "https://stackoverflow.com/questions/28581600/free-to-wrong-pool-2608aa8-not-6d3fe8-at-test-pl/28589351#28589351", "title": "Free to wrong pool 2608aa8 not 6d3fe8 at test.pl", "body": "<p>That message means a scalar (or array or ...) allocated by one thread (or interpreter?) was freed by another. <code>fork</code> creates threads, not processes on Windows. It's probably because the object in <code>$Excel</code> is not safe to pass between threads. Create <code>$Excel</code> in the thread in which you are going to use it.</p>\n"}], "owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1424278816, "creation_date": 1424256200, "last_edit_date": 1424259106, "question_id": 28581600, "link": "https://stackoverflow.com/questions/28581600/free-to-wrong-pool-2608aa8-not-6d3fe8-at-test-pl", "title": "Free to wrong pool 2608aa8 not 6d3fe8 at test.pl", "body": "<p>Following is my code:</p>\n\n<pre><code>sub test_ms {\n\n    my $coderef1 = shift;\n    my $coderef2 = shift;\n\n    if (fork() == 0) {\n        &amp;$coderef1;\n        exit;\n    }\n    &amp;$coderef2;\n}\n</code></pre>\n\n<p>When I am running this, I am getting the error as </p>\n\n<blockquote>\n  <p><em>Free to wrong pool 2608aa8 not 6d3fe8 at test.pl</em></p>\n</blockquote>\n\n<p>Why am I getting this error? </p>\n"}, {"tags": ["perl", "tcp", "server", "hotdeploy"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1424276722, "post_id": 28582346, "comment_id": 45483994, "body": "No. Admittedly I missed this, so thanks for pointing it out. I will try this solution and get back as soon as it works"}, {"owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "edited": false, "score": 0, "creation_date": 1424347233, "post_id": 28582346, "comment_id": 45515989, "body": "I have added <code>leave_children_open_on_hup</code> to the configuration and it basically does the trick. However, requests in progress stall. strace shows they get stuck on a read syscall. Anyway, I have accepted your solution, but am left with some digging as to why the read times out."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": true, "score": 1, "last_activity_date": 1424258430, "creation_date": 1424258430, "answer_id": 28582346, "question_id": 28581589, "link": "https://stackoverflow.com/questions/28581589/perl-netserver-hot-deployment/28582346#28582346", "title": "Perl Net::Server hot deployment", "body": "<p>Have you tried to use <code>leave_children_open_on_hup</code> configuration option and restart server using <code>HUP</code> signal? [recipe for linux/unix]<br>\nIt should work according to documentation.</p>\n\n<p><a href=\"http://search.cpan.org/~rhandom/Net-Server-2.008/lib/Net/Server.pod#RESTARTING\" rel=\"nofollow\">Net::Server Restarting</a>  </p>\n"}], "owner": {"reputation": 315, "user_id": 1694211, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f0d96d93667ec78bccb8ea1492837a25?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1694211/marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 28582346, "answer_count": 1, "score": 2, "last_activity_date": 1429194214, "creation_date": 1424256154, "last_edit_date": 1429194214, "question_id": 28581589, "link": "https://stackoverflow.com/questions/28581589/perl-netserver-hot-deployment", "title": "Perl Net::Server hot deployment", "body": "<p>I am using Net::Server::Prefork to launch a TCP server. The startup routine looks like this:</p>\n\n<pre><code>use 5.10.1;\nuse strict;\nuse warnings;\nuse parent 'Net::Server::Fork';\n\n        Dispatcher-&gt;run(\n            'host'            =&gt; $host                                   || '*',\n            'port'            =&gt; $port                                   || 7000,\n            'ipv'             =&gt; '*',\n            'log_level'       =&gt; $main::config{'backend.loglevel'}       || 0,\n            'log_file'        =&gt; $main::config{'backend.logfile'}        || undef,\n            'pid_file'        =&gt; $main::config{'backend.pidfile'}        || undef,\n            'user'            =&gt; $main::config{'backend.user'}           || 'nobody',\n            'group'           =&gt; $main::config{'backend.group'}          || 'nogroup',\n            'max_servers'     =&gt; $main::config{'backend.maxconnections'} || 3,\n            'background'      =&gt; !$main::config{'backend.foreground'}    || undef,\n            'allow'           =&gt; $main::config{'ip'}                     || '.*',\n            'reverse_lookups' =&gt; 1,\n        );\n</code></pre>\n\n<p>Dispatcher uses this function to process requests:</p>\n\n<pre><code>sub process_request {\n    eval {\n        local $SIG{'ALRM'} = sub { die \"Timed Out!\\n\" };\n        my $previous_alarm = alarm($timeout);\n        my @args;\n        {\n            my $command =  &lt;STDIN&gt;;\n            @args = split /\\s+/, $command;\n            alarm($timeout);\n        }\n\n        alarm(($main::config{'timeout'} + 5) || 185);\n        {\n            Dispatcher::main(@args);\n        }\n        alarm($previous_alarm);\n    };\n};\n</code></pre>\n\n<p>Now this is all good and well. However, when updating the server, I currently have the problem that in order not to kill requests that are in the midst of being processed, I have to check for active processes and wait until they are finished with the additional problem that while waiting new clients could connect.\nSo - is there a chance to 'phase out' running child processes, i.e. terminate idle preforked processes, replace them with new version, and replace each running (old) process with a new version once the old process finishes?</p>\n\n<p>Alternatively, can I block incoming connections until all old child processes are finished and then restart the server as a whole? I was thinking about doing this with temporary firewall rules, but would really prefer having perl handle this.</p>\n\n<p>Any ideas are appreciated!</p>\n"}, {"tags": ["perl", "hash", "key"], "comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 2, "creation_date": 1424247894, "post_id": 28578727, "comment_id": 45466308, "body": "Unrelated to the actual question, but note that <code>$dat{...}</code> accesses the variable <code>%dat</code>, <i>not</i> <code>$dat</code>. <code>my $dat</code> should, therefore, be <code>my %dat</code> instead. (If you had <code>use strict</code> enabled, it would have caught that for you.) Aside from that, I am not able to reproduce your output - I get <code>11111</code>."}, {"owner": {"reputation": 105, "user_id": 4394849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/700013763/picture?type=large", "display_name": "xvi_16", "link": "https://stackoverflow.com/users/4394849/xvi-16"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1424248653, "post_id": 28578727, "comment_id": 45466639, "body": "that my mistake but still i think should can produce 11111 but i not sure y it print something weird"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 5, "last_activity_date": 1424248649, "last_edit_date": 1424248649, "creation_date": 1424247800, "answer_id": 28578984, "question_id": 28578727, "link": "https://stackoverflow.com/questions/28578727/perl-weird-result-when-printing-hash-key/28578984#28578984", "title": "Perl weird result when printing hash key", "body": "<p>You may want to check <a href=\"http://perldoc.perl.org/perlvar.html#%24%3b\" rel=\"nofollow\"><code>perlvar</code></a></p>\n\n<blockquote>\n  <p>$;\n  The subscript separator for multidimensional array emulation. If you refer to a hash element as</p>\n\n<pre><code>$foo{$a,$b,$c}\n</code></pre>\n  \n  <p>it really means</p>\n\n<pre><code>$foo{join($;, $a, $b, $c)}\n</code></pre>\n</blockquote>\n\n<p>Default is <code>\\034</code>, the same as SUBSEP in awk. If your keys contain binary data there might not be any safe value for <code>$;</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %dat;\n$dat{\"1\",\"1\",\"1\",\"1\",\"1\"}{'CR'} = \"2\";\n# which is equivalent to\n# my $k = join($;, \"1\",\"1\",\"1\",\"1\",\"1\");\n# $dat{$k}{'CR'} = \"2\";\n\nforeach my $k1 (keys %dat){\n    print \"$_\\n\" for map { $_ eq $; ? '$;' : $_ } split //, $k1;\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>1\n$;\n1\n$;\n1\n$;\n1\n$;\n1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 2, "last_activity_date": 1424248513, "creation_date": 1424248513, "answer_id": 28579137, "question_id": 28578727, "link": "https://stackoverflow.com/questions/28578727/perl-weird-result-when-printing-hash-key/28579137#28579137", "title": "Perl weird result when printing hash key", "body": "<p>Your hash does not contain what you think it contains.  Specifically, it has only a single key:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\n\nmy %dat;\n$dat{\"1\",\"1\",\"1\",\"1\",\"1\"}{'CR'} = \"2\";\n\nuse Data::Dumper; \nprint Dumper \\%dat\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          '11111' =&gt; {\n                           'CR' =&gt; '2'\n                         }\n        };\n</code></pre>\n\n<p>As suggested by \u0421\u0443\u0445\u043e\u043927, the <code>1</code>s in the key are concatenated using the value of <code>$;</code> as a separator:</p>\n\n<pre><code>#!/usr/bin/env perl    \n\nuse strict;\nuse warnings;\n\n$; = '---';\n\nmy %dat;\n$dat{\"1\",\"1\",\"1\",\"1\",\"1\"}{'CR'} = \"2\";\n\nuse Data::Dumper; \nprint Dumper \\%dat\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          '1---1---1---1---1' =&gt; {\n                                   'CR' =&gt; '2'\n                                 }\n        };\n</code></pre>\n\n<p>Change <code>$;</code> to an empty string, and you'll get <code>11111</code> as output, as I assume you're expecting.</p>\n"}], "owner": {"reputation": 105, "user_id": 4394849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/700013763/picture?type=large", "display_name": "xvi_16", "link": "https://stackoverflow.com/users/4394849/xvi-16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 28578984, "answer_count": 2, "score": 0, "last_activity_date": 1424248649, "creation_date": 1424246548, "question_id": 28578727, "link": "https://stackoverflow.com/questions/28578727/perl-weird-result-when-printing-hash-key", "title": "Perl weird result when printing hash key", "body": "<pre><code>my $dat;\n$dat{\"1\",\"1\",\"1\",\"1\",\"1\"}{'CR'} = \"2\";\n\nforeach my $k1 (keys %dat){\n    print $k1;\n}\n</code></pre>\n\n<p>This is my code and it should be no problem and can execute in other computer but my laptop show this result <br>\n<img src=\"https://i.stack.imgur.com/QOisJ.png\" alt=\"enter image description here\"></p>\n\n<p>It compile with no error..... can somone tell me what happen?  Is it less certain module?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1424245245, "post_id": 28578204, "comment_id": 45465194, "body": "What platform? What value is <code>$FormattedPath</code>? What error do you get with <code>strict</code> and <code>warnings</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1424245846, "post_id": 28578204, "comment_id": 45465427, "body": "What platform are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "edited": false, "score": 0, "creation_date": 1534523352, "post_id": 28580803, "comment_id": 90750090, "body": "Thanks for the answer"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1424255833, "last_edit_date": 1424255833, "creation_date": 1424253984, "answer_id": 28580803, "question_id": 28578204, "link": "https://stackoverflow.com/questions/28578204/filepathmake-path-doesnt-work-on-windows-with-unicode-strings/28580803#28580803", "title": "File::Path::make_path doesn&#39;t work on Windows with Unicode strings", "body": "<p>Perl has <code>mkdir</code> but no core <code>make_path</code>. I assume you mean the function provided by the <a href=\"https://metacpan.org/module/File::Path\" rel=\"nofollow\"><code>File::Path</code></a> module?</p>\n\n<p>Are you are using Windows? <code>File::Path::make_path</code> uses Perl's <code>mkdir</code> operator, which in turn uses the (deprecated) Windows POSIX <code>mkdir</code> call which doesn't support wide characters.</p>\n\n<p>I recommend that you install the <a href=\"https://metacpan.org/module/Win32::Unicode::Dir\" rel=\"nofollow\"><code>Win32::Unicode::Dir</code></a> and use <code>mkpathW</code> which <em>does</em> support wide characters. There are some small issues with the installation tests, but it seems to work fine.</p>\n\n<p>You should pass a simple string that uses Perl encoding. You don't need to <code>decode</code> anything, and <code>encode</code> is necessary only if you are reading data from a non-UTF-8 source. You also shouldn't be appending a trailing NUL character. You are writing in Perl, not in C.</p>\n\n<p>Here is an example</p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings;\n\nuse Win32::Unicode::Dir 'mkpathW';\n\nmkpathW './\u0915\u093e\u0930\u094d\u0924\u093f\u0915' or die $!;\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 28580803, "answer_count": 1, "score": 0, "last_activity_date": 1424255833, "creation_date": 1424244433, "last_edit_date": 1424254019, "question_id": 28578204, "link": "https://stackoverflow.com/questions/28578204/filepathmake-path-doesnt-work-on-windows-with-unicode-strings", "title": "File::Path::make_path doesn&#39;t work on Windows with Unicode strings", "body": "<p>I tried to use the <code>make_path</code> to create the directory name which is UNICODE then in that case its giving error , but it works fine if the directory name is not unicode.</p>\n\n<pre><code>my $UTF16_dirname = encode(\"UTF-16LE\", \"$FormattedPath\\0\"); \n\nmake_path($UTF16_dirname); \n</code></pre>\n"}, {"tags": ["perl", "function", "sockets"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1424237959, "post_id": 28576442, "comment_id": 45462458, "body": "This is probably because your socket is closed."}], "answers": [{"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1424272019, "creation_date": 1424272019, "answer_id": 28586821, "question_id": 28576442, "link": "https://stackoverflow.com/questions/28576442/perl-function-getpeername/28586821#28586821", "title": "Perl Function getpeername()", "body": "<p>As per the comment above, it sounds like you're suffering that the socket is closed. The <code>peername</code> method itself just returns a raw packed socket address, so in your program you'd likely be wrapping it with a call to <code>unpack_sockaddr_in</code> or somesuch. Hard to say with much detail here because you didn't post your source code.</p>\n"}], "owner": {"reputation": 25, "user_id": 3125224, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7c5233c11c4abede410f774bf8fbc1a?s=128&d=identicon&r=PG&f=1", "display_name": "alakamale", "link": "https://stackoverflow.com/users/3125224/alakamale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424272019, "creation_date": 1424236431, "last_edit_date": 1424237587, "question_id": 28576442, "link": "https://stackoverflow.com/questions/28576442/perl-function-getpeername", "title": "Perl Function getpeername()", "body": "<p>I use <code>getpeername()</code> multiple times in my 'Client' file,but after few times it fails saying </p>\n\n<pre><code>\"Bad arg length for Socket::unpack_sockaddr_in, length is 0,\n should be 16 at /usr/opt/perl5/lib/5.8.8/aix-thread-multi/Socket.pm line 370.\" \n</code></pre>\n\n<p>How should i avoid it, what are its possible causes?</p>\n\n<p>Is there any other alternative for<code>getpeername()</code>.           </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1424232114, "post_id": 28575664, "comment_id": 45460733, "body": "If you treat a reference as a scalar, you&#39;ll get the address e.g. <code>perl -e &#39;print [],{},\\&quot;&quot;&#39;</code>"}, {"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "reply_to_user": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1424240815, "post_id": 28575664, "comment_id": 45463406, "body": "Actually, I thought Ben&#39;s suggestion would work, but noting the &quot;CONTEXT&quot; above, it actually does not work with a stringified object.  So it appears my question is actually harder than I thought, because this simple answer will not do what I want. Again, I have a class defined with stringification, meaning when I print the object, I get something nicer looking, as I want; however, I really want and need that numeric address bit.  I thought $x + 0 would work, but it does not work anymore once the thing is &quot;blessed.&quot;"}, {"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "edited": false, "score": 0, "creation_date": 1424241496, "post_id": 28575664, "comment_id": 45463643, "body": "I&#39;m not picky if it&#39;s hex or not hex.  I can convert it after all.  I just want anything that works at this point to get me this numeric address."}], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "edited": false, "score": 0, "creation_date": 1424242724, "post_id": 28577497, "comment_id": 45464098, "body": "I have my own object instance, of my own class/package, and it has stringification so it no longer emits output like &quot;MyClass=HASH(0x1c11ef0).&quot;  It emits something like &quot;MyClass with 14 states.&quot;  And CGI-&gt;new generates a blessed hashref but the CGI class does not possess stringification."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "edited": false, "score": 0, "creation_date": 1424243873, "post_id": 28577497, "comment_id": 45464596, "body": "@user62177541 if you&#39;re using overloading in your class, check update."}, {"owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "edited": false, "score": 2, "creation_date": 1424244276, "post_id": 28577497, "comment_id": 45464772, "body": "Eureka, yes, I believe Scalar::Util refaddr is exactly what I was looking for.  I have been testing these with the actual code and this is the first one that works.  That hexaddr bit above though I&#39;m not using."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1424244448, "last_edit_date": 1424244448, "creation_date": 1424241579, "answer_id": 28577497, "question_id": 28575664, "link": "https://stackoverflow.com/questions/28575664/how-do-i-retrieve-the-numeric-address-of-an-object-with-overloaded-stringificati/28577497#28577497", "title": "How do I retrieve the numeric address of an object with overloaded stringification", "body": "<p>You might want to use <a href=\"http://perldoc.perl.org/Scalar/Util.html\" rel=\"nofollow\"><code>Scalar::Util</code></a>, where <code>refaddr()</code> returns memory address as integer,</p>\n\n<pre><code>use Scalar::Util 'refaddr';\n\nuse CGI;\nprint \"$_\\n\" for map refaddr($_), ([], {}, \\1, CGI-&gt;new);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>158548440\n158551464\n158619528\n158551512\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1424713195, "creation_date": 1424713195, "answer_id": 28679870, "question_id": 28575664, "link": "https://stackoverflow.com/questions/28575664/how-do-i-retrieve-the-numeric-address-of-an-object-with-overloaded-stringificati/28679870#28679870", "title": "How do I retrieve the numeric address of an object with overloaded stringification", "body": "<p>Overloaded operators can be disabled within a lexical scope using the <a href=\"https://metacpan.org/pod/overloading\" rel=\"nofollow\"><code>no overloading</code></a> pragma: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse DateTime;\n\nmy $now = DateTime-&gt;now;\n{\n   no overloading;\n   printf \"refaddr: %d  scalar: %s\\n\", ~~$_, $_ for [],{},\\0,$now;\n}\nprint $now,\"\\n\";\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>refaddr: 22987080  scalar: ARRAY(0x15ec148)\nrefaddr: 30100856  scalar: HASH(0x1cb4d78)\nrefaddr: 23314768  scalar: SCALAR(0x163c150)\nrefaddr: 30100688  scalar: DateTime=HASH(0x1cb4cd0)\n2015-02-23T17:33:44\n</code></pre>\n"}], "owner": {"reputation": 188, "user_id": 3938923, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7869e47ef194829636a91d5832b3d36b?s=128&d=identicon&r=PG&f=1", "display_name": "user62177541", "link": "https://stackoverflow.com/users/3938923/user62177541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 28577497, "answer_count": 2, "score": 3, "last_activity_date": 1424713195, "creation_date": 1424231533, "last_edit_date": 1424316397, "question_id": 28575664, "link": "https://stackoverflow.com/questions/28575664/how-do-i-retrieve-the-numeric-address-of-an-object-with-overloaded-stringificati", "title": "How do I retrieve the numeric address of an object with overloaded stringification", "body": "<p>Here's an easy one I think, but I don't see anywhere else that this has been asked:</p>\n\n<p>When you are in the debugger, you can see both the type as well as the hex \"numeric address\" of an arrayref or hashref by just printing the variable:</p>\n\n<pre><code>    DB&lt;1&gt; $x = [ qw(1 2 3) ]\n    DB&lt;2&gt; p $x\n    ARRAY(0x1c11ef0)\n</code></pre>\n\n<p>The class part I can get using ref($x), but how can I reliably get just the numeric address, even when I have a hashref whose class uses stringification?  </p>\n\n<p>CONTEXT: I'm asking because I have classes where I have a custom \"stringify\", and this hex address is something that can help me debug duplicate copies and such issues, which it so happens I care about, so I'd like to include this numeric address in the stringified output.</p>\n\n<p>RESEARCH: I looked at perldoc perlref and it only talked about how you can get the ref() part, not the numeric address part.</p>\n"}, {"tags": ["regex", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 1562, "user_id": 4098326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a222a6f6508bea1c3b2f97cb0234be0?s=128&d=identicon&r=PG", "display_name": "user4098326", "link": "https://stackoverflow.com/users/4098326/user4098326"}, "edited": false, "score": 0, "creation_date": 1424224935, "post_id": 28574707, "comment_id": 45458768, "body": "How about using sed?"}, {"owner": {"reputation": 4536, "user_id": 3439894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGRfR.png?s=128&g=1", "display_name": "user3439894", "link": "https://stackoverflow.com/users/3439894/user3439894"}, "edited": false, "score": 0, "creation_date": 1424225240, "post_id": 28574707, "comment_id": 45458862, "body": "Is there more then one occurrence of <code>?idsite=</code> and can you provide the <code>URL</code> so we can see the full page?"}, {"owner": {"reputation": 1, "user_id": 3738037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66272966f9f14d11085d4d5bb91f9761?s=128&d=identicon&r=PG&f=1", "display_name": "user3738037", "link": "https://stackoverflow.com/users/3738037/user3738037"}, "edited": false, "score": 0, "creation_date": 1424225572, "post_id": 28574707, "comment_id": 45458963, "body": "the string is just one time in the html file. my file is under a .htaccess protection but you can see a snippet of the code on the piwik website: <a href=\"http://piwik.org/docs/tracking-api/\" rel=\"nofollow noreferrer\">piwik.org/docs/tracking-api</a> under &#39;image tracker code&#39;"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1424227971, "post_id": 28574707, "comment_id": 45459545, "body": "Putting the snippet from the page you reference in a file called <code>idsite.html</code> and substituting <code>44</code> for for the <code>[$IDSITE]</code> in the parameter, this bit of perl will extract the &quot;44&quot;:  <code>perl -nE &#39;say &#47;.*idsite=(..).*$\\&quot;&#47; if &#47;idsite&#47; &#39; idsite.html</code>"}, {"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 0, "creation_date": 1424245278, "post_id": 28574707, "comment_id": 45465211, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/4464170/sed-command-to-extract-text-from-html\">sed command to extract text from HTML</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3738037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66272966f9f14d11085d4d5bb91f9761?s=128&d=identicon&r=PG&f=1", "display_name": "user3738037", "link": "https://stackoverflow.com/users/3738037/user3738037"}, "edited": false, "score": 0, "creation_date": 1424227090, "post_id": 28575002, "comment_id": 45459355, "body": "ok this works perfect if the characters are 2 digits and the html is minified. but i tried this one on a non-minified html, and it doesnt work on this."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 1, "user_id": 3738037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66272966f9f14d11085d4d5bb91f9761?s=128&d=identicon&r=PG&f=1", "display_name": "user3738037", "link": "https://stackoverflow.com/users/3738037/user3738037"}, "edited": false, "score": 0, "creation_date": 1424228407, "post_id": 28575002, "comment_id": 45459658, "body": "If the HTML is not minified and <code>idsite=44</code> is followed by other characters or parameters you could try to simply match 2 characters <code>(..)</code>. You could probably filter the lines a bit: <code>perl -nE &#39;say &#47;.*idsite=(..)&#47; if &#47;idsite&#47; &#39; index.html</code> might work. A bit of a quick hack though. I guess if you&#39;re going to use perl you might as well use a module to parse the tags .. sorry :-D"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1424228788, "last_edit_date": 1424228788, "creation_date": 1424226801, "answer_id": 28575002, "question_id": 28574707, "link": "https://stackoverflow.com/questions/28574707/extracting-string-from-html-file-or-curl-output/28575002#28575002", "title": "Extracting string from html file or curl output", "body": "<p>With <code>perl</code> it could be something like:</p>\n\n<pre><code> echo \"Whole bunch of stuff  \\                                        \n  img src=\\\"stats.domains.com/piwik.php?idsite=44\\\" \" \\\n  | perl -nE 'say /.*idsite=(..)\\\"/ '\n</code></pre>\n\n<p>(assumes that <code>idsite</code> is always two characters ! <strong>:-)</strong>.  Your regex will need to be more sophisticated than this most likely).</p>\n\n<p>Putting the snippet <a href=\"http://piwik.org/docs/tracking-api/\" rel=\"nofollow\">from the page you reference above</a> in an HTML file (non-minified) and subsituting <code>44</code> for the parameter variable, this bit of perl will extract the \"44\": </p>\n\n<pre><code> perl -nE 'say /.*idsite=(..)/ if /idsite/ ' idsite.html\n</code></pre>\n\n<p>Translating the one liner to a <code>sed</code> command line would be similar:</p>\n\n<pre><code>echo \"Whole bunch of stuff  \\                                        \n img src=\\\"stats.domains.com/piwik.php?idsite=44\\\" \" \\\n | sed -En \"s/^.*idsite=(..)\\\"/\\1/p\"\n</code></pre>\n\n<p>This is <a href=\"https://www.freebsd.org/cgi/man.cgi?query=sed\" rel=\"nofollow\">POSIX<code>sed</code></a> from FreeBSD (should work on OSX) the <code>-E</code> switch is to add \"modern\" regexes.</p>\n\n<p>Doing it in <code>awk</code> is left as an exercise for another community member :-)</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "is_accepted": false, "score": 0, "last_activity_date": 1424235081, "last_edit_date": 1424235081, "creation_date": 1424232376, "answer_id": 28575789, "question_id": 28574707, "link": "https://stackoverflow.com/questions/28574707/extracting-string-from-html-file-or-curl-output/28575789#28575789", "title": "Extracting string from html file or curl output", "body": "<p>Here is a perl way to extract only the trailing digits of strings like src=\"//stats.domains.com/piwik.php?idsite=44\" and run on a bash command line:</p>\n\n<pre><code>echo $src|perl -ne '$_ =~m /(\\d+$)/; print $1'\n</code></pre>\n\n<p>Here is a python way to do the same thing:</p>\n\n<pre><code>import re\nprint ', '.join( re.findall(r'\\d+$', src))\n</code></pre>\n\n<p>If there will be a lot of src strings to process, it would be best to compile the regex when using Python as follows:</p>\n\n<pre><code>import re\np = re.compile('\\d+$')\nprint ', '.join(p.findall(src))\n</code></pre>\n\n<p>The import and the compilation only have to be done once. </p>\n\n<p>Here is a Ruby way to do it:</p>\n\n<pre><code>puts src.scan( /\\d+$/ ).first\n</code></pre>\n\n<p>In all cases the regexes end with \"$\" which matches the end of the string. That is why they match and extract only digits (\\d+) at the end of the string.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1424241340, "creation_date": 1424241340, "answer_id": 28577444, "question_id": 28574707, "link": "https://stackoverflow.com/questions/28574707/extracting-string-from-html-file-or-curl-output/28577444#28577444", "title": "Extracting string from html file or curl output", "body": "<p>If you don't need to check whether the <code>idsite</code> is in the value of a <code>src</code> attribute, then all you need is</p>\n\n<pre><code>perl -nE'say $1 if /\\bidsite=(\\d+)' myfile.html\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 678, "user_id": 2855955, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4eec321d4316e16f3cbb269410e2357b?s=128&d=identicon&r=PG", "display_name": "Fernando Basso", "link": "https://stackoverflow.com/users/2855955/fernando-basso"}, "is_accepted": false, "score": 0, "last_activity_date": 1424281779, "creation_date": 1424281779, "answer_id": 28590385, "question_id": 28574707, "link": "https://stackoverflow.com/questions/28574707/extracting-string-from-html-file-or-curl-output/28590385#28590385", "title": "Extracting string from html file or curl output", "body": "<pre><code>$ cat site.html\nlorem ipsum idsite='4934' fasdf a\nother line\n\n$ sed -n  '/idsite/ { s/.*idsite=\\([0-9]\\+\\).*$/\\1/; p }' &lt; site.html\n4934\n</code></pre>\n\n<p>Let me know in case you need an explanation of what is going on.</p>\n"}], "owner": {"reputation": 1, "user_id": 3738037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66272966f9f14d11085d4d5bb91f9761?s=128&d=identicon&r=PG&f=1", "display_name": "user3738037", "link": "https://stackoverflow.com/users/3738037/user3738037"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1424281779, "creation_date": 1424224759, "last_edit_date": 1424229158, "question_id": 28574707, "link": "https://stackoverflow.com/questions/28574707/extracting-string-from-html-file-or-curl-output", "title": "Extracting string from html file or curl output", "body": "<p>I have a html file where some of them are \"minified\", this means that a whole website can be in just one line. </p>\n\n<p>I want to filter the value of <code>?idsite=</code> which contains numbers. So a html contains something like this: <code>img src=\"//stats.domains.com/piwik.php?idsite=44</code>. </p>\n\n<p>So the plain output should be \"44\". </p>\n\n<p>I tried grep but it echos the whole line and just highlights the value.</p>\n"}, {"tags": ["c", "perl", "xs"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1424213369, "post_id": 28572624, "comment_id": 45455009, "body": "How does it crash? Error messages, and if possible, gdb backtrace would help."}], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 7, "last_activity_date": 1424213933, "creation_date": 1424213933, "answer_id": 28572811, "question_id": 28572624, "link": "https://stackoverflow.com/questions/28572624/c-program-keeps-crashing-when-calling-perl-function-newsvpv/28572811#28572811", "title": "C program keeps crashing when calling perl function newSVpv()", "body": "<p>I'm usually calling C from Perl, rather than Perl from C, but I'm pretty sure that your problem is that you haven't copied the <code>PERL_SYS_INIT3</code>, <code>perl_alloc</code>, and <code>perl_construct</code> bits from the <a href=\"http://search.cpan.org/~shay/perl-5.20.2/pod/perlembed.pod#Adding_a_Perl_interpreter_to_your_C_program\">perlembed example</a> and so you don't actually have a perl interpreter structure to work with. <code>newSVpv</code> is bombing out when it tries to access something through the nonexistent interpreter pointer.</p>\n\n<p>The last three lines of that example (<code>perl_destruct</code>, <code>perl_free</code>, and <code>PERL_SYS_TERM</code>) should also be called at the end of your program as a matter of good practice.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 28572811, "answer_count": 1, "score": 4, "last_activity_date": 1424213933, "creation_date": 1424213208, "last_edit_date": 1424213557, "question_id": 28572624, "link": "https://stackoverflow.com/questions/28572624/c-program-keeps-crashing-when-calling-perl-function-newsvpv", "title": "C program keeps crashing when calling perl function newSVpv()", "body": "<p>Trying to use perl data structure (partially as a way to support associative array in C), but the following program keep crashing.  It compiles fine but will crash on the line with newSVpv().  Not sure why.</p>\n\n<pre><code>#include &lt;EXTERN.h&gt;               /* from the Perl distribution     */\n#include &lt;perl.h&gt;                 /* from the Perl distribution     */\nstatic PerlInterpreter *my_perl;  /***    The Perl interpreter    ***/\nint main(int argc, char **argv, char **env) {\n    char *proto = \"http\";\n    SV* ret = newSVpv(\"http\", 4);\n    sv_catpvn(ret, \"://\", 3);\n    STRLEN len = 1;\n    char *result = SvPV(ret, len);\n    printf(\"result: %p %d\\n\", result, len);\n    return 0;\n}\n</code></pre>\n\n<p>The line to compile it is</p>\n\n<pre><code>gcc -g -o interp te1.c `perl -MExtUtils::Embed -e ccopts -e ldopts`\n</code></pre>\n\n<p>The perl I have is 5.14.2 running on Ubuntu 12.04.4 LTS.</p>\n\n<p>Thanks for any tips!</p>\n\n<p>UPDATE: Added the gdb trace. Thanks for asking.\ngdb trace:</p>\n\n<pre><code>Program received signal SIGSEGV, Segmentation fault.\n0x00007ffff7b235a6 in Perl_newSVpv () from /usr/lib/libperl.so.5.14\n(gdb) bt\n#0  0x00007ffff7b235a6 in Perl_newSVpv () from /usr/lib/libperl.so.5.14\n#1  0x0000000000400927 in main (argc=1, argv=0x7fffffffe1e8, \n    env=0x7fffffffe1f8) at te1.c:7\n(gdb) \n</code></pre>\n"}, {"tags": ["regex", "perl", "hash", "replace", "file-handling"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1424213848, "post_id": 28572487, "comment_id": 45455192, "body": "Where does <code>$EmergInfo</code> come from? Your data looks better suited for a hash (or hashes), so if you have control over the creation of <code>$EmergInfo</code>, I would do something more like: <code>my %info = ( location =&gt; &#39;foo&#39;, home_phone =&gt; &#39;bar&#39; ); my %mapping = ( &#39;#Location&#39; =&gt; &#39;location&#39;, &#39;#HPHONE1&#39; =&gt; &#39;home_phone&#39;); foreach my $placeholder (keys %info) { $line =~ s&#47;$placeholder&#47;$mapping{$placeholder}&#47;g; }</code>"}, {"owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1424214054, "post_id": 28572487, "comment_id": 45455286, "body": "EmergInfo is information inputted via online form. How would you get the lines its reading assigned to $line?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "edited": false, "score": 0, "creation_date": 1424367465, "post_id": 28572843, "comment_id": 45529702, "body": "It worked and worked well, a few questions though. What does joining the keys do? I thought $1 wasn&#39;t good to use because of the many issues it has with it. Also from $regexp what does this variable do and why do i need it? Thanks a bunch for the help EDIT: also why the literal pipe?"}], "tags": [], "owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "is_accepted": true, "score": 5, "last_activity_date": 1424214411, "last_edit_date": 1424214411, "creation_date": 1424214057, "answer_id": 28572843, "question_id": 28572487, "link": "https://stackoverflow.com/questions/28572487/how-to-iterate-multiple-regexs/28572843#28572843", "title": "How to iterate multiple regex&#39;s?", "body": "<p>If you organize your EmergInfo data in a hash instead of an array, you will be able to search and replace all fields at once.</p>\n\n<pre><code>my %EmergInfo = (\n  Location =&gt; 'New York',\n  LastUpdate =&gt; 'Feb 17, 2015',\n  OPHONE1 =&gt; '800-555-1212',\n  etc =&gt; '...',\n);\n\nmy $joined_keys = join('|', keys %EmergInfo);\nmy $regexp = qr/#($joined_keys)/;\n\nwhile (&lt;DATA&gt;) {\n  s/$regexp/$EmergInfo{$1}/g;\n  print;\n}\n\n__DATA__\n#Location\n#LastUpdate\n#AddInfo\n#SpecInst\n#OPHONE1\n</code></pre>\n\n<p>EDIT: note that I'm creating the compiled regular expression once outside the while loop so that it doesn't have to be created for each iteration within the loop.</p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 1051166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m5TS3.jpg?s=128&g=1", "display_name": "lovedatsnow", "link": "https://stackoverflow.com/users/1051166/lovedatsnow"}, "is_accepted": false, "score": 1, "last_activity_date": 1424214112, "creation_date": 1424214112, "answer_id": 28572858, "question_id": 28572487, "link": "https://stackoverflow.com/questions/28572487/how-to-iterate-multiple-regexs/28572858#28572858", "title": "How to iterate multiple regex&#39;s?", "body": "<p>Here is an example that will walk you through it. You want to seed a hash with the key values and then walk through each making the substitution. You should be able to modify this code to fit your needs.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %info;\n\nsub Regexin {\n    open (my $in, \"&lt;\", \"regexin.txt\") or die \"cannot open: $!\";\n    open (my $out, \"&gt;\", \"regexin1.txt\") or die \"cannot open: $!\";\n    while (&lt;$in&gt;)\n    {\n    for my $k (keys %info) {\n        s/#$k/$info{$k}/g;\n    }\n    print $out $_;\n    }\n    close $in;\n    close $out;\n    #unlink('regexin.txt') or die \"error deleting regexin.txt\\n\";\n}\n\nmy @EmergInfo=('Home', 'Today');\n\n%info=('Location'=&gt;$EmergInfo[0],\n      'LastUpdate'=&gt;$EmergInfo[1]);\n\nRegexin();\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4430548, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bdecbfa9aa61963a8fdf5fc51ae71d7e?s=128&d=identicon&r=PG&f=1", "display_name": "keyboardwarrior", "link": "https://stackoverflow.com/users/4430548/keyboardwarrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 28572843, "answer_count": 2, "score": 1, "last_activity_date": 1424231769, "creation_date": 1424212573, "question_id": 28572487, "link": "https://stackoverflow.com/questions/28572487/how-to-iterate-multiple-regexs", "title": "How to iterate multiple regex&#39;s?", "body": "<p>So to start out I'm having trouble with making my code cleaner, I know logically it's a mess but I'm relatively new. Anyways heres what we're working with: </p>\n\n<pre><code> sub Regexin    {\n\n        open (my $in, \"&lt;\", \"regexin.txt\") or die \"cannot open: $!\";\n        open (my $out, \"&gt;\", \"regexin1.txt\") or die \"cannot open: $!\";\n        while (&lt;$in&gt;)\n        {\n        s/#Location/$EmergInfo[0]/g;\n        s/#LastUpdate/$EmergInfo[1]/g;\n        s/#AddInfo/$EmergInfo[2]/g;\n        s/#SpecInst/$EmergInfo[3]/g;\n        s/#MsdsLoc/$EmergInfo[4]/g;\n        s/#SpillLoc/$EmergInfo[5]/g;\n        s/#CONTACT1/$EmergInfo[6]/g;\n        s/#CONTACT2/$EmergInfo[7]/g;\n        s/#DEPARTMENT1/$EmergInfo[8]/g;\n        s/#DEPARTMENT2/$EmergInfo[9]/g;\n        s/#OFFICE1/$EmergInfo[10]/g;\n        s/#OFFICE2/$EmergInfo[11]/g;\n        s/#OPHONE1/$EmergInfo[12]/g;\n        s/#OPHONE2/$EmergInfo[13]/g;\n        s/#HPHONE1/$EmergInfo[14]/g;\n        s/#HPHONE2/$EmergInfo[15]/g;\nprint $out $_;\n        }\n        close $in;\n        close $out;\n        unlink('regexin.txt') or die \"error deleting regexin.txt\\n\";\n                }\n</code></pre>\n\n<p>All of those regexes are obviously really gross looking and I've experimented with using foreach and each with hashes and multiple ways using arrays but haven't come to a nice one line.\nMy goal is to get something like this:</p>\n\n<pre><code>s/$keys/$values/g;\n</code></pre>\n\n<p>Just that and it iterates but regex's are weird. Also the variable $EmergInfo just holds text (stuff like phone numbers and names). I've really scoured the internet (perldoc included) but definitely could've missed a few things. Any help is appreciated, thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1424225002, "creation_date": 1424225002, "answer_id": 28574741, "question_id": 28572474, "link": "https://stackoverflow.com/questions/28572474/filesyssmbclientparser-get/28574741#28574741", "title": "Filesys::SmbClientParser get", "body": "<p>You are describing  the expected  behavior  - <code>get</code> mimics the command of the same name available  in the <code>smbclient</code> interface (which mimics olde fashioned <code>ftp</code> ). If you give a name to <code>$target</code> the file will be stored there, otherwise the default target is a file of the same name which will be written  to your <code>$CWD</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 1475463, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3edf1382620f621bedd14f435cf018c3?s=128&d=identicon&r=PG", "display_name": "user1475463", "link": "https://stackoverflow.com/users/1475463/user1475463"}, "is_accepted": false, "score": 0, "last_activity_date": 1424274256, "creation_date": 1424274256, "answer_id": 28587626, "question_id": 28572474, "link": "https://stackoverflow.com/questions/28572474/filesyssmbclientparser-get/28587626#28587626", "title": "Filesys::SmbClientParser get", "body": "<p>I was able to get it to work, but the target must contain a file name, it just can't contain the path of the directory you want to place it.</p>\n\n<p>$smb->get($report,\"$pathto/$report\");</p>\n"}], "owner": {"reputation": 15, "user_id": 1475463, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3edf1382620f621bedd14f435cf018c3?s=128&d=identicon&r=PG", "display_name": "user1475463", "link": "https://stackoverflow.com/users/1475463/user1475463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1424274256, "creation_date": 1424212528, "last_edit_date": 1424224398, "question_id": 28572474, "link": "https://stackoverflow.com/questions/28572474/filesyssmbclientparser-get", "title": "Filesys::SmbClientParser get", "body": "<p>I'm able to use the <a href=\"https://metacpan.org/release/Filesys-SmbClientParser\" rel=\"nofollow\"><code>Filesys::SmbClientParser</code></a> module to put and get to a sharepoint, but I can't seem to <code>get</code> to a local directory.  The manual page says:</p>\n\n<pre><code>get($file, $target, [$dir])\n</code></pre>\n\n<p>What is <code>'$target'</code>?  If I don't specify the target and just the file and dir, it does get the file, but places it in the directory I'm running the script from.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 4, "creation_date": 1424211589, "post_id": 28572190, "comment_id": 45454160, "body": "yes, those arrays will have the same <i>contents</i> but their memory addresses will be different"}, {"owner": {"reputation": 51415, "user_id": 697449, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0d825a4fb8f4417045815f4c921aa0cc?s=128&d=identicon&r=PG", "display_name": "Paul Bellora", "link": "https://stackoverflow.com/users/697449/paul-bellora"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1424212012, "post_id": 28572190, "comment_id": 45454374, "body": "@HunterMcMillen sounds like a good answer"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424212905, "post_id": 28572412, "comment_id": 45454817, "body": "He specifically asked for differences other than the one you mentioned."}], "tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": false, "score": 2, "last_activity_date": 1424212306, "creation_date": 1424212306, "answer_id": 28572412, "question_id": 28572190, "link": "https://stackoverflow.com/questions/28572190/is-myarray-equivalent-to-myarray-in-perl-if-im-not-mutating-the-values/28572412#28572412", "title": "Is [@{$myArray}] equivalent to $myArray in Perl if I&#39;m not mutating the values?", "body": "<p>It would create a different reference to an array with the same content. This would be functionally equivalent in the case where the array is never changed, but if someone comes along later and does something like this:</p>\n\n<pre><code>push @{ $p-&gt;{key} }, \"foo\";\n</code></pre>\n\n<p>Then in the former case, it would leave <code>$myArray</code> untouched. In the latter, it would change the values everywhere else <code>$myArray</code> is used. If you absolutely don't want the original to be mutated by any future changes, then your proposed refactoring may be detrimental.</p>\n"}, {"comments": [{"owner": {"reputation": 5676, "user_id": 5377, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d7cd2f1a2616bb166c30f43866415cdd?s=128&d=identicon&r=PG", "display_name": "aaronstacy", "link": "https://stackoverflow.com/users/5377/aaronstacy"}, "edited": false, "score": 0, "creation_date": 1424214259, "post_id": 28572478, "comment_id": 45455360, "body": "this is also unsafe if i don&#39;t control <code>$data</code>, correct?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 5676, "user_id": 5377, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d7cd2f1a2616bb166c30f43866415cdd?s=128&d=identicon&r=PG", "display_name": "aaronstacy", "link": "https://stackoverflow.com/users/5377/aaronstacy"}, "edited": false, "score": 0, "creation_date": 1424214407, "post_id": 28572478, "comment_id": 45455423, "body": "@aaronstacy Yes.  You stated that you do so I didn&#39;t cover it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1424244901, "post_id": 28572478, "comment_id": 45465043, "body": "I&#39;m unclear what you mean by <i>\u201cEven if <code>key</code> is never altered\u201d</i>. Hash keys cannot be altered."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1424282815, "post_id": 28572478, "comment_id": 45487946, "body": "@Borodin I used the OP&#39;s terminology.  So long as the array referenced by <code>$data-&gt;{key}</code> is not changed."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 4, "last_activity_date": 1424282834, "last_edit_date": 1424282834, "creation_date": 1424212545, "answer_id": 28572478, "question_id": 28572190, "link": "https://stackoverflow.com/questions/28572190/is-myarray-equivalent-to-myarray-in-perl-if-im-not-mutating-the-values/28572478#28572478", "title": "Is [@{$myArray}] equivalent to $myArray in Perl if I&#39;m not mutating the values?", "body": "<p>No, they are not.  Even if the array referenced by <code>$data-&gt;{key}</code> is never altered.</p>\n\n<p><code>$myArray</code> is a reference to the array.  <code>[@{$myArray}]</code> makes a copy of the array referenced by $myArray and then takes a reference to that.  Copying the array works both ways.  It shields <code>$myArray</code> from changes made by <code>$data</code> but it also shields <code>$data</code> from changes in <code>$myArray</code>.\nEven if you don't mutate <code>$data-&gt;{key}</code> they still have semantic differences.  For example...</p>\n\n<pre><code>my $myArray = [\"a\", \"b\", \"c\"];\n$data-&gt;{key1} = $myArray;\n$data-&gt;{key2} = [@{$myArray}];\n$myArray-&gt;[1] = \"q\";\n\nprint $data-&gt;{key1}[1];  # q\nprint $data-&gt;{key2}[1];  # b\n</code></pre>\n\n<p>Unless you fully control <code>$myArray</code> and <code>$data</code>, that refactoring is unsafe.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1424214175, "post_id": 28572645, "comment_id": 45455335, "body": "Good point about magic.  It would also affect tied and overloaded objects."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1424214219, "post_id": 28572645, "comment_id": 45455352, "body": "@Schwern, Only the few overloaded objects that overload <code>=</code>. Copying doesn&#39;t stringify."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1424214290, "post_id": 28572645, "comment_id": 45455373, "body": "I was thinking of <code>@{}</code> if I&#39;m not mistaken."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1424214314, "post_id": 28572645, "comment_id": 45455385, "body": "@Schwern, Ah yes, that too. I&#39;ll add it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1424214359, "last_edit_date": 1424214359, "creation_date": 1424213278, "answer_id": 28572645, "question_id": 28572190, "link": "https://stackoverflow.com/questions/28572190/is-myarray-equivalent-to-myarray-in-perl-if-im-not-mutating-the-values/28572645#28572645", "title": "Is [@{$myArray}] equivalent to $myArray in Perl if I&#39;m not mutating the values?", "body": "<p>They behave differently when</p>\n\n<ol>\n<li><p><code>@{ $h-&gt;{key} }</code> is changed. (The difference you mentioned)</p></li>\n<li><p><code>@$array</code> is changed.</p></li>\n<li><p><code>$array</code> isn't dereferenceable as an array (e.g. <code>$array</code> is a string).</p></li>\n<li><p><code>$array</code> is an object that overloads <code>@{}</code>.</p></li>\n<li><p>the elements of <code>@$array</code> are large or magical.</p>\n\n<p>The first snippet makes a copy of the elements when the hash is created, so it will be slower, and it will use more memory. Any magical aspects of the array or elements (e.g. if the array is a <code>:shared</code> array, or an array tied to <code>Tie::File</code>) will not be copied by the second snippet.</p></li>\n</ol>\n"}], "owner": {"reputation": 5676, "user_id": 5377, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d7cd2f1a2616bb166c30f43866415cdd?s=128&d=identicon&r=PG", "display_name": "aaronstacy", "link": "https://stackoverflow.com/users/5377/aaronstacy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 28572645, "answer_count": 3, "score": 7, "last_activity_date": 1424282834, "creation_date": 1424211490, "question_id": 28572190, "link": "https://stackoverflow.com/questions/28572190/is-myarray-equivalent-to-myarray-in-perl-if-im-not-mutating-the-values", "title": "Is [@{$myArray}] equivalent to $myArray in Perl if I&#39;m not mutating the values?", "body": "<p>I've got some Perl code:</p>\n\n<pre><code>{\n  key =&gt; [@{$myArray}]\n}\n</code></pre>\n\n<p>And I'd like to refactor that to:</p>\n\n<pre><code>{\n  key =&gt; $myArray\n}\n</code></pre>\n\n<p>Are the two semantically equivalent if I'm not mutating the value pointed to by <code>key</code>?</p>\n"}, {"tags": ["xml", "linux", "perl", "xpath"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424204278, "post_id": 28569997, "comment_id": 45450538, "body": "I&#39;m not sure what&#39;s the question. Are you asking if there&#39;s a distro with XML::XPath&#39;s interface that uses XML::LibXML? I doubt it, but that&#39;s easy to answer: Search cpan for the name of the methods in XML::XPath."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424205401, "post_id": 28569997, "comment_id": 45451137, "body": "Above code is working fine with perl module XML::XPath, but i cannot use this perl module as my company does not allow to use. They want me to use XML:LibXML perl module. So my question is how can i make that replacement in my above code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424206279, "post_id": 28569997, "comment_id": 45451582, "body": "I guess I misunderstood because I thought you said you knew how to do that and that you didn&#39;t want to do that."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1424206376, "last_edit_date": 1424206376, "creation_date": 1424206036, "answer_id": 28570820, "question_id": 28569997, "link": "https://stackoverflow.com/questions/28569997/changing-code-from-using-xmlxpath-to-xmllibxml/28570820#28570820", "title": "Changing code from using XML::XPath to XML::LibXML", "body": "<p>This gets the first like your code:</p>\n\n<pre><code>use XML::LibXML qw( );\nmy $dom = XML::LibXML-&gt;new-&gt;parse_file('data.xml');\nmy ($file_name_node) = $dom-&gt;findnodes('//FileName');\nmy $file_name = $file_name_node ? $file_name_node-&gt;textContent() : '';\n</code></pre>\n\n<p>Or if there can only be one,</p>\n\n<pre><code>use XML::LibXML qw( );\nmy $dom = XML::LibXML-&gt;new-&gt;parse_file('data.xml');\nmy $file_name = $dom-&gt;findvalue('//FileName/text()');\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 28570820, "answer_count": 1, "score": 3, "last_activity_date": 1424206376, "creation_date": 1424202886, "question_id": 28569997, "link": "https://stackoverflow.com/questions/28569997/changing-code-from-using-xmlxpath-to-xmllibxml", "title": "Changing code from using XML::XPath to XML::LibXML", "body": "<p>I have a perl script working fine. Script is taking an xml file as input and returning a JSON format of same and also value of a specific element within XML file.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse JSON;\nuse XML::Simple;\nuse XML::XPath;\n\nmy $xmlFileName = \"jsonconversion.xml\";\nmy $fileNameElement = \"//FileName\";\n\n# Create the object of XML Simple\n$xmlSimple = new XML::Simple(KeepRoot   =&gt; 1);\n\n# Load the xml file in object\n$dataXML = $xmlSimple-&gt;XMLin($xmlFileName);\n\n#Searching value using xpath\nmy $xp = XML::XPath-&gt;new(filename =&gt; $xmlFileName);\nmy $filename = $xp-&gt;find($fileNameElement);\n\nmy $ElementValue = \"\";\n\n#Fetching value of 'FileName' in 'fileNameValue' variable\nif( length $filename ) {\n   foreach my $node ($filename-&gt;get_nodelist) {\n     $fileNameValue = $node-&gt;string_value;\n     last;\n }\n}\n\n# use encode json function to convert xml object in json.\nmy $jsonString = encode_json($dataXML);\n\n#Printing fileNameValue\nprint \"\\n\\nFile Name is: \".$fileNameValue;\n</code></pre>\n\n<p>Due to certain restrictions in company i am not allowed to use XML::Xpath perl module, I can use XML:LibXML. \ni tried understanding how i can make my current code still work by replacing XML::Xpath with XML:LibXML perl module. I refer perl documentations and old post on stackoverflow as well. </p>\n\n<p>here is one sample solution:</p>\n\n<pre><code>my $dom = XML::LibXML-&gt;new-&gt;parse_file('data.xml');\nfor my $node ($dom-&gt;findnodes('/category/event/@name')) {\n   my value = $node-&gt;toString;\n}\n</code></pre>\n\n<p>but this code involves change my original code completely. </p>\n\n<p>My question here is how can i make use of XML:LibXML perl module replacing perl module XML:XPath with minimal changes. I don't want to re write the whole code again just for sake of using an existing library.</p>\n\n<p>Sample xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt;\n&lt;Person SchemaVersion=\"1.0.8\"&gt;\n\n   &lt;ID&gt;0&lt;/ID&gt;\n\n  &lt;Home ID=\"ABC-XYZ\" State=\"Unknown\"&gt;\n     &lt;Location&gt;\n\n      &lt;SiteName&gt;&lt;/SiteName&gt;\n      &lt;Number&gt;62&lt;/Number&gt;\n      &lt;MaxSize&gt;0&lt;/MaxSize&gt;\n      &lt;Comment&gt;&lt;/Comment&gt;\n     &lt;/Location&gt;\n\n   &lt;Laptop&gt;\n      &lt;FileName&gt;/usr/temp/RPM_020515_.tar.gz&lt;/FileName&gt;\n   &lt;/Laptop&gt;\n   &lt;/Home&gt;\n  &lt;/Person&gt;\n</code></pre>\n\n<p>Let me know if any suggestions.</p>\n\n<p>Thanks</p>\n\n<p>NOTE: I got lot of help from folks in stack overflow for writing current perl module and understanding the functionality.</p>\n"}, {"tags": ["bash", "perl", "slurm"], "comments": [{"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 5, "creation_date": 1424195847, "post_id": 28567897, "comment_id": 45445987, "body": "What is your <code>$SHELL</code> environment variable set to? Also, #&#39;s are comments... why are you executing those?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1424196461, "post_id": 28567897, "comment_id": 45446315, "body": "Are <code>module</code> and <code>srun</code> binaries/commands or shell functions/etc.?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1424196498, "post_id": 28567897, "comment_id": 45446337, "body": "Also calling this a &quot;conversion&quot; is a bit of a strong term. Are you planning to do something else with this perl script such that doing this &quot;conversion&quot; has a purpose?"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "reply_to_user": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "edited": false, "score": 2, "creation_date": 1424196782, "post_id": 28567897, "comment_id": 45446516, "body": "@RyanJ, <code>system</code> just uses <code>&#47;bin&#47;sh</code> on Unix systems, not the user&#39;s shell."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1424196908, "post_id": 28567897, "comment_id": 45446603, "body": "Calling <code>system &#39;module&#39;, &#39;add&#39;, &#39;xxx&#39;</code> or <code>system qw(module add xxx)</code> will be more efficient than calling system() with a single string. Passing a list of words instead of a single string means that perl does not have to parse the string and decide whether pass it to  /bin/sh instead of invoking the command directly."}, {"owner": {"reputation": 7880, "user_id": 3006544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73a1c6d75a879f829ec8aacd1859e61?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan J", "link": "https://stackoverflow.com/users/3006544/ryan-j"}, "reply_to_user": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1424196952, "post_id": 28567897, "comment_id": 45446632, "body": "@glennjackman yes, correct. From documentation: &quot;If there is only one scalar argument, the argument is checked for shell metacharacters, and if there are any, the entire argument is passed to the system&#39;s command shell for parsing (this is /bin/sh -c on Unix platforms, but varies on other platforms)&quot;"}, {"owner": {"reputation": 491, "user_id": 706641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a6259f940121e22da8709ef592ba4e?s=128&d=identicon&r=PG", "display_name": "Ciclamino", "link": "https://stackoverflow.com/users/706641/ciclamino"}, "edited": false, "score": 6, "creation_date": 1424197602, "post_id": 28567897, "comment_id": 45446985, "body": "It appears that your script is for job submission to SLURM (or some other batch processing system that uses sbatch).  The #SBATCH lines aren&#39;t commands that are run by the shell or can be executed by system().  They are options that are parsed by sbatch.  You should be able to leave them as regular comments and sbatch will do the right thing.  However, you&#39;re still not going to get what you want.  The module command is a cluster command that is for setting up shell environment variables -- it&#39;s not going to do the right thing for perl."}, {"owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 0, "creation_date": 1424200014, "post_id": 28567897, "comment_id": 45448274, "body": "Yes. My script is for job submission to SLURM on cluster. I have to use #SBATCH lines because they are for jobtime, the number of cores, project name... And I will run a lot of job using this script on cluster.  Unfortunately I couldnt find any useful thing about running perl script to SLURM on internet. That is very strange."}, {"owner": {"reputation": 758, "user_id": 4086509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmXxF.png?s=128&g=1", "display_name": "Sue D. Nymme", "link": "https://stackoverflow.com/users/4086509/sue-d-nymme"}, "edited": false, "score": 0, "creation_date": 1424205652, "post_id": 28567897, "comment_id": 45451269, "body": "&quot;It doesn&#39;t work&quot; is not helpful. What happened that you did not expect? What did you expect to happen, but didn&#39;t?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1424207504, "post_id": 28567897, "comment_id": 45452260, "body": "Not sure about <code>srun</code>, but the Perl module <a href=\"https://metacpan.org/pod/Env::Modulecmd\" rel=\"nofollow noreferrer\"><code>Env::Modulecmd</code></a> will let you load <a href=\"http://modules.sourceforge.net/\" rel=\"nofollow noreferrer\">Environment Modules</a>: the shell command <code>module load foo&#47;1.0</code> becomes <code>use Env::Modulecmd { load =&gt; &#39;foo&#47;1.0&#39; };</code> in Perl."}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "edited": false, "score": 2, "creation_date": 1424208099, "post_id": 28570956, "comment_id": 45452510, "body": "You&#39;ve not made it clear what you&#39;re trying to accomplish with this Perl &quot;conversion&quot;, but my advice is to understand <i>completely</i> what your shell script is doing, how it is being done, and exactly what part SLURM is playing in it.  Only then will you, or anyone, be able to formulate a plan that works around abandoning this script&#39;s single shell architecture."}], "tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 3, "last_activity_date": 1424295182, "last_edit_date": 1424295182, "creation_date": 1424206656, "answer_id": 28570956, "question_id": 28567897, "link": "https://stackoverflow.com/questions/28567897/how-can-i-convert-my-script-for-submitting-slurm-jobs-from-bash-to-perl/28570956#28570956", "title": "How can I convert my script for submitting SLURM jobs from Bash to Perl?", "body": "<p>Each of your <code>system</code> calls creates a child process to run the program in question and returns when the child process dies.</p>\n\n<p>The whole point of <code>module</code> is to configure the current shell by, among other things, modifying it's environment.  When this process completes (dies) say goodbye to those changes.  The call to <code>srun</code>, in it's shinny new process with a shinny new environment, hasn't got a chance.</p>\n\n<p>Steps forward:</p>\n\n<ul>\n<li>Understand SLURM &amp; bash and <em>exactly</em> why <code>system(\"#SBATCH whatever\");</code> might not be of <em>any</em> value.  Hint: <code>#</code> marks the beginning of a comment in both Bash &amp; Perl.</li>\n<li>Understand what <code>module add</code> is doing with <code>xxx</code> and how you might replicate what it's doing inside the shell within the Perl interpreter.  ThisSuitIsBlackNot recommends <code>use Env::Modulecmd { load =&gt; 'foo/1.0' };</code> to replicate this functionality.</li>\n<li>Barring any understanding of <code>module add</code>, <code>system ('module add xxx; srun resp.com')</code> would put those two commands in the same shell process, but at this point you need to ask yourself what you've gained by adding a Perl interpreter to the mix.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 38949, "user_id": 1763614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3nhVJ.jpg?s=128&g=1", "display_name": "damienfrancois", "link": "https://stackoverflow.com/users/1763614/damienfrancois"}, "is_accepted": false, "score": 2, "last_activity_date": 1427189476, "creation_date": 1427189476, "answer_id": 29229056, "question_id": 28567897, "link": "https://stackoverflow.com/questions/28567897/how-can-i-convert-my-script-for-submitting-slurm-jobs-from-bash-to-perl/29229056#29229056", "title": "How can I convert my script for submitting SLURM jobs from Bash to Perl?", "body": "<p>What you need to do is write</p>\n\n<pre><code>#!/usr/bin/perl \n\n#SBATCH -A 1234\n#SBATCH -t 2-00:00\n#SBATCH -n 24\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nsystem (\"module add xxx &amp;&amp; srun resp.com \");\n</code></pre>\n\n<p>and then submit it with </p>\n\n<pre><code>sbatch my_perl_script.pl\n</code></pre>\n\n<p>The <code>#SBATCH</code> lines are comments destined to be parsed by the <code>sbatch</code> command. They must be comments in the submission script.</p>\n\n<p>The <code>module</code> command modifies the environment, but that environment is lost as soon as it is called if you invoke it with <code>system</code> on its own as <code>system</code> creates a subshell. You need to either invoke it on the same subshell as <code>srun</code>, as shown above, or use Perl tools to load the module in the environment of the Perl script so that it is available to <code>srun</code>, using <code>use Env::Modulecmd { load =&gt; 'foo/1.0' };</code> as mentioned elsewhere.</p>\n"}], "owner": {"reputation": 89, "user_id": 4375467, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/75d5400e51dc7c2ed2ab8b66567920ee?s=128&d=identicon&r=PG&f=1", "display_name": "selami", "link": "https://stackoverflow.com/users/4375467/selami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1427189476, "creation_date": 1424195699, "last_edit_date": 1424211662, "question_id": 28567897, "link": "https://stackoverflow.com/questions/28567897/how-can-i-convert-my-script-for-submitting-slurm-jobs-from-bash-to-perl", "title": "How can I convert my script for submitting SLURM jobs from Bash to Perl?", "body": "<p>I have the following Bash script for job submission to <a href=\"https://computing.llnl.gov/linux/slurm/\" rel=\"nofollow\">SLURM</a> on a cluster:</p>\n\n<pre><code>#!/bin/bash\n#SBATCH -A 1234\n#SBATCH -t 2-00:00 \n#SBATCH -n 24\n\nmodule add xxx\nsrun resp.com\n</code></pre>\n\n<p>The <code>#SBATCH</code> lines are SLURM commands:</p>\n\n<ul>\n<li><code>#SBATCH -A 1234</code> is the project number (1234)</li>\n<li><code>#SBATCH -t 2-00:00</code> is the job time</li>\n<li><code>#SBATCH -n 24</code> is the number of cores</li>\n</ul>\n\n<p><code>module add xxx</code> loads the <a href=\"http://modules.sourceforge.net/\" rel=\"nofollow\">Environment Module</a> <code>xxx</code> (in this case I'm actually using <code>module add gaussian</code>, where <code>gaussian</code> is a computational quantum-chemistry program).</p>\n\n<p><code>srun</code> is the SLURM command to launch a job. <code>resp.com</code> includes commands for gaussian and atom coordinates.</p>\n\n<p>I tried converting the Bash script to the following Perl script, but it didn't work. How can I do this in Perl?</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nsystem (\"#SBATCH -A 1234\");\nsystem (\"#SBATCH -t 2-00:00\");\nsystem (\"#SBATCH -n 24\");\n\nsystem (\"module add xxx\");\nsystem (\"srun resp.com \");\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1424203870, "last_edit_date": 1424203870, "creation_date": 1424197516, "answer_id": 28568472, "question_id": 28567872, "link": "https://stackoverflow.com/questions/28567872/perl-threadsshared-for-nested-data-structure/28568472#28568472", "title": "Perl threads::shared for nested data structure", "body": "<p>Autovivification makes</p>\n\n<pre><code>$counts{build}{$state} = 0;\n</code></pre>\n\n<p>behave like</p>\n\n<pre><code>( $counts{build} //= {} )-&gt;{$state} = 0;\n</code></pre>\n\n<p>For readability, let's make it two lines</p>\n\n<pre><code>$counts{build} //= {};\n$counts{build}{$state} = 0;\n</code></pre>\n\n<p>But like you said, we need a shared hash.</p>\n\n<pre><code>$counts{build} //= &amp;share({});\n$counts{build}{$state} = 0;\n</code></pre>\n\n<p>You could add the following to make sure you don't accidentally vivify an unshared variable:</p>\n\n<pre><code>no autovivification qw( fetch store exists delete );\n</code></pre>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 1, "accepted_answer_id": 28568472, "answer_count": 1, "score": 5, "last_activity_date": 1424203870, "creation_date": 1424195605, "last_edit_date": 1424198221, "question_id": 28567872, "link": "https://stackoverflow.com/questions/28567872/perl-threadsshared-for-nested-data-structure", "title": "Perl threads::shared for nested data structure", "body": "<pre><code># thread::shared only allws a single level of shared structure\n# needs a explicit hash creation for nested data structures\nmy %counts     : shared = ();\n\nforeach my $state (%known_states) {\n    # COUNTS\n    unless (exists $counts{build}) {\n        my %cb : shared;\n        $counts{build} = \\%cb;\n    }\n    $counts{build}{$state} = 0;\n\n}\n</code></pre>\n\n<p>Right now, I have to do something like the above where I have to explicitly create a hash reference for each sub-level hash.</p>\n\n<p>Is there a better way of doing it? </p>\n\n<p>P.S. if I don't create a hash ref then I get an \"Invalid value for shared scalar\" error since I am trying to use it as a hash.</p>\n"}, {"tags": ["perl", "hash", "raku"], "answers": [{"comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1424192032, "post_id": 28566241, "comment_id": 45443579, "body": "That is exactly what I was trying to remember: <code>.perl</code>. Thanks!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 7, "last_activity_date": 1424190690, "creation_date": 1424190690, "answer_id": 28566241, "question_id": 28565374, "link": "https://stackoverflow.com/questions/28565374/how-can-i-view-the-contents-of-a-hash-in-perl6-in-a-fashion-similar-to-the-perl/28566241#28566241", "title": "How can I view the contents of a hash in Perl6 (in a fashion similar to the Perl 5 modules Data::Dump or Data::Show)?", "body": "<p><a href=\"http://doc.perl6.org/language/5to6#Data%3A%3ADumper\">Perl6 docs</a> seem to recommend using <code>.perl</code> on the data structure, but it looks like pretty-printing requires extra work:</p>\n\n<blockquote>\n  <h3>Given:</h3>\n\n<pre><code>my @array_of_hashes = (\n    { NAME =&gt; 'apple',   type =&gt; 'fruit' },\n    { NAME =&gt; 'cabbage', type =&gt; 'no, please no' },\n);\n</code></pre>\n  \n  <h3>Perl 5</h3>\n\n<pre><code>use Data::Dumper;\n$Data::Dumper::Useqq = 1;\nprint Dumper \\@array_of_hashes; # Note the backslash.\n</code></pre>\n  \n  <h3>Perl 6</h3>\n\n<pre><code>say @array_of_hashes.perl; # .perl on the array, not on its reference.\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 3, "last_activity_date": 1499087893, "creation_date": 1499087893, "answer_id": 44886622, "question_id": 28565374, "link": "https://stackoverflow.com/questions/28565374/how-can-i-view-the-contents-of-a-hash-in-perl6-in-a-fashion-similar-to-the-perl/44886622#44886622", "title": "How can I view the contents of a hash in Perl6 (in a fashion similar to the Perl 5 modules Data::Dump or Data::Show)?", "body": "<p>I have since made a <a href=\"https://github.com/briandfoy/perl6-PrettyDump\" rel=\"nofollow noreferrer\">PrettyDump</a> module that might be handy:</p>\n\n<pre><code>use v6;\nuse PrettyDump;\n\nmy %title_for = (\n  \"Book 1\" =&gt; { \"Chapter 1\" =&gt; \"Introduction\", \"Chapter 2\" =&gt; \"Conclusion\" },\n  \"Book 2\" =&gt; {\n                \"Chapter 1\" =&gt; \"Intro\",\n                \"Chapter 2\" =&gt; \"Interesting stuff\",\n                \"Chapter 3\" =&gt; \"Final words\",\n              },\n);\n\nsay PrettyDump.new.dump: %title_for;\n</code></pre>\n\n<p>With output:</p>\n\n<pre><code>Hash={\n    :Book 1(Hash={\n        :Chapter 1(\"Introduction\"),\n        :Chapter 2(\"Conclusion\")\n    }),\n    :Book 2(Hash={\n        :Chapter 1(\"Intro\"),\n        :Chapter 2(\"Interesting stuff\"),\n        :Chapter 3(\"Final words\")\n    })\n}\n</code></pre>\n\n<p>There are some formatting options you can give to <code>PrettyDump</code> too.</p>\n"}, {"tags": [], "owner": {"reputation": 2925, "user_id": 2544873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1B6wh.png?s=128&g=1", "display_name": "Tinmarino", "link": "https://stackoverflow.com/users/2544873/tinmarino"}, "is_accepted": false, "score": 2, "last_activity_date": 1584369639, "creation_date": 1584369639, "answer_id": 60707981, "question_id": 28565374, "link": "https://stackoverflow.com/questions/28565374/how-can-i-view-the-contents-of-a-hash-in-perl6-in-a-fashion-similar-to-the-perl/60707981#60707981", "title": "How can I view the contents of a hash in Perl6 (in a fashion similar to the Perl 5 modules Data::Dump or Data::Show)?", "body": "<p><a href=\"https://docs.perl6.org/programs/01-debugging#Dumper_function_dd\" rel=\"nofollow noreferrer\">dd</a> for Data Dump in rakudo.</p>\n\n<pre><code>my @array_of_hashes = (\n    { NAME =&gt; 'apple',   type =&gt; 'fruit' },\n    { NAME =&gt; 'cabbage', type =&gt; 'no, please no' },\n);\ndd @array_of_hashes;\n</code></pre>\n"}], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 28566241, "answer_count": 3, "score": 10, "last_activity_date": 1584369639, "creation_date": 1424188095, "last_edit_date": 1541444045, "question_id": 28565374, "link": "https://stackoverflow.com/questions/28565374/how-can-i-view-the-contents-of-a-hash-in-perl6-in-a-fashion-similar-to-the-perl", "title": "How can I view the contents of a hash in Perl6 (in a fashion similar to the Perl 5 modules Data::Dump or Data::Show)?", "body": "<p>In Perl 5, if I want to see the contents of a hash, I can use <a href=\"https://metacpan.org/pod/Data::Show\"><code>Data::Show</code></a>, <a href=\"https://metacpan.org/pod/Data::Dump\"><code>Data::Dump</code></a>, or <a href=\"https://metacpan.org/pod/Data::Dumper\"><code>Data::Dumper</code></a>.</p>\n\n<p>For example:</p>\n\n<pre><code>use Data::Show;\n\nmy %title_for = (\n    'Book 1' =&gt; {\n        'Chapter 1' =&gt; 'Introduction',\n        'Chapter 2' =&gt; 'Conclusion',\n    },\n    'Book 2' =&gt; {\n        'Chapter 1' =&gt; 'Intro',\n        'Chapter 2' =&gt; 'Interesting stuff',\n        'Chapter 3' =&gt; 'Final words',\n   }\n);\n\nshow(%title_for);\n</code></pre>\n\n<p>Which outputs: </p>\n\n<pre><code>======(  %title_for  )======================[ 'temp.pl', line 15 ]======\n\n    {\n      \"Book 1\" =&gt; { \"Chapter 1\" =&gt; \"Introduction\", \"Chapter 2\" =&gt; \"Conclusion\" },\n      \"Book 2\" =&gt; {\n                    \"Chapter 1\" =&gt; \"Intro\",\n                    \"Chapter 2\" =&gt; \"Interesting stuff\",\n                    \"Chapter 3\" =&gt; \"Final words\",\n                  },\n    }\n</code></pre>\n\n<p>Is there anything equivalent in Perl 6? I thought I remember Damian Conway discussing this feature at YAPC 2010, but I have since lost my notes and Googling hasn't helped.</p>\n\n<pre><code>use v6;\n\nmy %title_for = (\n  \"Book 1\" =&gt; { \"Chapter 1\" =&gt; \"Introduction\", \"Chapter 2\" =&gt; \"Conclusion\" },\n  \"Book 2\" =&gt; {\n                \"Chapter 1\" =&gt; \"Intro\",\n                \"Chapter 2\" =&gt; \"Interesting stuff\",\n                \"Chapter 3\" =&gt; \"Final words\",\n              },\n);\n\n%title_for.say;\n</code></pre>\n\n<p>The closest thing that I found to working is <code>%title_for.say</code>. However, it seems messy for nested hashes:</p>\n\n<pre><code>Book 1 =&gt; Chapter 1 =&gt; Introduction, Chapter 2 =&gt; Conclusion, Book 2 =&gt; Chapter 1 =&gt; Intro, Chapter 2 =&gt; Interesting stuff, Chapter 3 =&gt; Final words\n</code></pre>\n\n<p>I'm using Perl6 running on <a href=\"http://www.moarvm.com\">MoarVM</a> from the <a href=\"http://rakudo.org/downloads/star/\">January 2015 release of Rakudo Star</a>.</p>\n"}, {"tags": ["perl", "html-formhandler"], "answers": [{"comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1424188391, "post_id": 28565428, "comment_id": 45441270, "body": "Thanks, will accept asap. Somehow I found the do_label in the docs and stopped looking further, guess I should have known it is somewhere out there :/"}], "tags": [], "owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "is_accepted": true, "score": 3, "last_activity_date": 1424188232, "creation_date": 1424188232, "answer_id": 28565428, "question_id": 28565341, "link": "https://stackoverflow.com/questions/28565341/htmlformhandler-submit-button/28565428#28565428", "title": "HTML::FormHandler submit button", "body": "<p>For submit fields, you need to use <code>value</code> and not <code>label</code></p>\n\n<p>Try:</p>\n\n<pre><code>has_field submit =&gt; ( type =&gt; 'Submit', value =&gt; 'Create',\n    element_class =&gt; 'button' );\n</code></pre>\n\n<p>Source:\n  <a href=\"https://metacpan.org/pod/HTML::FormHandler::Field::Submit\" rel=\"nofollow\">https://metacpan.org/pod/HTML::FormHandler::Field::Submit</a></p>\n"}], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 28565428, "answer_count": 1, "score": 1, "last_activity_date": 1424188232, "creation_date": 1424187984, "question_id": 28565341, "link": "https://stackoverflow.com/questions/28565341/htmlformhandler-submit-button", "title": "HTML::FormHandler submit button", "body": "<p>I have several HTML::FormHandler forms working nicely,<br>\nthe only issue is the submit button, which does not change its text/label.</p>\n\n<p>Here is (part of) my form, the labels for the other fields all work as expected.</p>\n\n<pre><code>    has_field username =&gt; ( type =&gt; 'Text', label =&gt; 'Username', required =&gt; 1);\n    has_field name =&gt; ( type =&gt; 'Text', label =&gt; 'Name', required =&gt; 1);\n\n    has_field submit =&gt; ( type =&gt; 'Submit', label =&gt; 'Create',do_label =&gt; 1, \nelement_class =&gt; 'button' );\n</code></pre>\n\n<p>Now the element class is set and works, but the button shows 'save', not 'create'.</p>\n\n<p>According to the docs, labels are not rendered for submit buttons unless<br>do_label is set, but for me, it makes no difference.</p>\n\n<p>I have also tried giving a build_label method, also to no effect.</p>\n\n<p>I'd be glad for any pointers on how I can achieve this using HTML::FormHandler methods, as I am using these forms quite extensively and would not like to put them in by hand.</p>\n"}, {"tags": ["perl", "user-interface", "menu", "conditional-statements", "submenu"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1424188516, "post_id": 28565430, "comment_id": 45441340, "body": "Welcome to Stack Overflow! Since you&#39;re new, here is some constructive feedback. This is a pretty good answer. You tried hard to solve the OPs problem. That&#39;s cool and nice and awesome. However, it would be better if you&#39;d just show the relevant piece of code, because right now it is very hard to see what you changed (I only spotted it because you forgot to indent it). It&#39;s visually cluttered. Just show an excerpt of the relevant part of code, and put a comment on the stuff you added. Don&#39;t do the whole work for other people, but instead help them to solve their own problem so they learn. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1424188536, "post_id": 28565430, "comment_id": 45441350, "body": "Also you forgot <code>package main;</code>. ;)"}], "tags": [], "owner": {"reputation": 59, "user_id": 1051166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m5TS3.jpg?s=128&g=1", "display_name": "lovedatsnow", "link": "https://stackoverflow.com/users/1051166/lovedatsnow"}, "is_accepted": false, "score": 2, "last_activity_date": 1424188231, "creation_date": 1424188231, "answer_id": 28565430, "question_id": 28564783, "link": "https://stackoverflow.com/questions/28564783/conditionally-excluding-menu-choices-from-a-menu/28565430#28565430", "title": "Conditionally Excluding Menu Choices From a Menu", "body": "<p>You could create a MenuItem package and then just set a flag in the choice to decide if it should be included or not. Below is a complete code set using the new package when creating the menu choices. To demonstrate it the 'disabled' flag is set for the 2nd choice in the first Menu.</p>\n\n<p>Note there was some additional code added to the 'print' sub routine to deal with disabled choices when calculating the user's response.</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage MenuItem;\n\nuse strict;\nuse warnings;\n\nsub new {\n    # Unpack input arguments\n    my $class       = shift;\n    my (%args)      = @_;\n    my $text        = $args{text};\n    my $code        = $args{code};\n    my $disabled        = $args{disabled};\n\n    # Bless the menu object\n    my $self = bless {\n        text   =&gt; $text,\n        code   =&gt; $code,\n        disabled =&gt; $disabled,\n    }, $class;\n\n    return $self;\n}\n\n1;\n\npackage Menu;\n\nuse strict;\nuse warnings;\n\n# Menu constructor\nsub new {\n\n    # Unpack input arguments\n    my $class       = shift;\n    my (%args)      = @_;\n    my $title       = $args{title};\n    my $choices_ref = $args{choices};\n    my $noexit      = $args{noexit};\n\n    # Bless the menu object\n    my $self = bless {\n        title   =&gt; $title,\n        choices =&gt; $choices_ref,\n        noexit  =&gt; $noexit,\n    }, $class;\n\n    return $self;\n}\n\n# Print the menu\nsub print {\n\n    # Unpack input arguments\n    my $self    = shift;\n    my $title   =   $self-&gt;{title  };\n    my @choices = @{$self-&gt;{choices}};\n    my $noexit  =   $self-&gt;{noexit };\n\n    # Print menu\n    for (;;) {\n\n        # Clear the screen\n        system 'cls';\n\n        # Print menu title\n        print \"========================================\\n\";\n        print \"    $title\\n\";\n        print \"========================================\\n\";\n\n        # Print menu options\n        my $index = 0;\n    my @items;\n        for my $choice(@choices) {\n        if ( ! $choice-&gt;{disabled} ) {\n        $items[$index]=$choice;\n        printf \"%2d. %s\\n\", ++$index, $choice-&gt;{text};\n        }\n        }\n        printf \"%2d. %s\\n\", '0', 'Exit' unless $noexit;\n\n        print \"\\n?: \";\n\n        # Get user input\n        chomp (my $input = &lt;STDIN&gt;);\n\n        print \"\\n\";\n\n        # Process input\n        if ($input =~ m/\\d+/ &amp;&amp; $input &gt;= 1 &amp;&amp; $input &lt;= $index) {\n            return $items[$input - 1]-&gt;{code}-&gt;();\n        } elsif ($input =~ m/\\d+/ &amp;&amp; !$input &amp;&amp; !$noexit) {\n            print \"Exiting . . .\\n\";\n            exit 0;\n        } else {\n            print \"Invalid input.\\n\\n\";\n            system 'pause';\n        }\n    }\n}\n\n1;\n\nuse strict;\nuse warnings;\n\n#use Menu;\n\nmy $menu1;\nmy $menu2;\n\n# define menu1 choices\nmy @menu1_choices = (\n    MenuItem-&gt;new(text =&gt; 'Choice1',\n          code =&gt; sub { print \"I did something!\\n\"; }),\n    MenuItem-&gt;new(text =&gt; 'Choice2',\n          code =&gt; sub { print \"I did something else!\\n\"; },\n          disabled =&gt; 1),\n    MenuItem-&gt;new(text =&gt; 'Go to Menu2',\n          code =&gt; sub { $menu2-&gt;print(); }),\n);\n\n# define menu2 choices\nmy @menu2_choices = (\n    MenuItem-&gt;new(text =&gt; 'Choice1',\n          code =&gt; sub { print \"I did something in menu 2!\\n\"; }),\n    MenuItem-&gt;new(text =&gt; 'Choice2',\n          code =&gt; sub { print \"I did something else in menu 2!\\n\"; }),\n    MenuItem-&gt;new(text =&gt; 'Go to Menu1',\n          code =&gt; sub { $menu1-&gt;print(); }),\n);\n\n# Build menu1\n$menu1 = Menu-&gt;new(\n    title   =&gt; 'Menu1',\n    choices =&gt; \\@menu1_choices,\n);\n\n# Build menu2\n$menu2 = Menu-&gt;new(\n    title   =&gt; 'Menu2',\n    choices =&gt; \\@menu2_choices,\n);\n\n# Print menu1\n$menu1-&gt;print();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1424188245, "creation_date": 1424188245, "answer_id": 28565434, "question_id": 28564783, "link": "https://stackoverflow.com/questions/28564783/conditionally-excluding-menu-choices-from-a-menu/28565434#28565434", "title": "Conditionally Excluding Menu Choices From a Menu", "body": "<p>It is not entirely clear to me what you are asking. I think you are asking \"Given that I have an array of hashes, how can I ignore some of those hashes that contain a particular key?\" </p>\n\n<p>You can do that pretty easily with a <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\"><code>grep</code></a> statement when you create your Menu object: </p>\n\n<pre><code>my $menu2 = Menu-&gt;new(\n    title   =&gt; 'Menu2',\n    choices =&gt; [grep { $_-&gt;{text} ne 'Choice2' } @menu2_choices],\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1424188346, "creation_date": 1424188346, "answer_id": 28565474, "question_id": 28564783, "link": "https://stackoverflow.com/questions/28564783/conditionally-excluding-menu-choices-from-a-menu/28565474#28565474", "title": "Conditionally Excluding Menu Choices From a Menu", "body": "<p>Let's assume there is a blacklist as a parameter. Of course you can put that somewhere else, e.g. as an attribute of the object.</p>\n\n<p>Simply check each of those for the blacklist. Or delete them directly from the choice array.</p>\n\n<pre><code>sub print {\n  my ($self, @blacklist) = @_;\n    for my $choice (@choices) {\n       printf \"%2d. %s\\n\", ++$index, $choice-&gt;{text}\n         unless grep { $_ eq $choice-&gt;{text} } @blacklist;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": true, "score": 0, "last_activity_date": 1424709501, "creation_date": 1424709501, "answer_id": 28678631, "question_id": 28564783, "link": "https://stackoverflow.com/questions/28564783/conditionally-excluding-menu-choices-from-a-menu/28678631#28678631", "title": "Conditionally Excluding Menu Choices From a Menu", "body": "<p>Thanks lovedatsnow for the idea to make the items their own object!  I basically took your answer and revamped it to make the interface for creating a menu look much cleaner than it did before.</p>\n\n<p>Here is my new code:</p>\n\n<pre><code># test.pl\n\n#!/usr/bin/perl\n\n# Always use these\nuse strict;\nuse warnings;\n\n# Other use statements\nuse Menu;\n\n# Create a menu object\nmy $menu = Menu-&gt;new();\n\n# Add a menu item\n$menu-&gt;add(\n    'Test'  =&gt; sub { print \"This is a test\\n\";  system 'pause'; },\n    'Test2' =&gt; sub { print \"This is a test2\\n\"; system 'pause'; },\n    'Test3' =&gt; sub { print \"This is a test3\\n\"; system 'pause'; },\n);\n\n# Disable a menu item\n$menu-&gt;disable('Test2');\n$menu-&gt;print();\n\n# Enable a menu item\n$menu-&gt;enable('Test2');\n$menu-&gt;print();\n</code></pre>\n\n<p>I created a menu class with a few useful functions that allow you to act directly on the menu items.  This allows you to enable/disable them easily.</p>\n\n<pre><code># Menu.pm\n\n#!/usr/bin/perl\n\npackage Menu;\n\n# Always use these\nuse strict;\nuse warnings;\n\n# Other use statements\nuse Carp;\nuse Menu::Item;\n\n# Menu constructor\nsub new {\n\n    # Unpack input arguments\n    my ($class, $title) = @_;\n\n    # Define a default title\n    if (!defined $title) {\n        $title = 'MENU';\n    }\n\n    # Bless the Menu object\n    my $self = bless {\n        _title =&gt; $title,\n        _items =&gt; [],\n    }, $class;\n\n    return $self;\n}\n\n# Title accessor method\nsub title {\n    my ($self, $title) = @_;\n    $self-&gt;{_title} = $title if defined $title;\n    return $self-&gt;{_title};\n}\n\n# Items accessor method\nsub items {\n    my ($self, $items) = @_;\n    $self-&gt;{_items} = $items if defined $items;\n    return $self-&gt;{_items};\n}\n\n# Add item(s) to the menu\nsub add {\n\n    # Unpack input arguments\n    my ($self, @add) = @_;\n    croak 'add() requires name-action pairs' unless @add % 2 == 0;\n\n    # Add new items\n    while (@add) {\n        my ($name, $action) = splice @add, 0, 2;\n\n        # If the item already exists, remove it\n        for my $index(0 .. $#{$self-&gt;{_items}}) {\n            if ($name eq $self-&gt;{_items}-&gt;[$index]-&gt;name()) {\n                splice @{$self-&gt;{_items}}, $index, 1;\n            }\n        }\n\n        # Add the item to the end of the menu\n        my $item = Menu::Item-&gt;new($name, $action);\n        push @{$self-&gt;{_items}}, $item;\n    }\n\n    return 0;\n}\n\n# Remove item(s) from the menu\nsub remove {\n\n    # Unpack input arguments\n    my ($self, @remove) = @_;\n\n    # Remove items\n    for my $name(@remove) {\n\n        # If the item exists, remove it\n        for my $index(0 .. $#{$self-&gt;{_items}}) {\n            if ($name eq $self-&gt;{_items}-&gt;[$index]-&gt;name()) {\n                splice @{$self-&gt;{_items}}, $index, 1;\n            }\n        }\n    }\n\n    return 0;\n}\n\n# Disable item(s)\nsub disable {\n\n    # Unpack input arguments\n    my ($self, @disable) = @_;\n\n    # Disable items\n    for my $name(@disable) {\n\n        # If the item exists, disable it\n        for my $index(0 .. $#{$self-&gt;{_items}}) {\n            if ($name eq $self-&gt;{_items}-&gt;[$index]-&gt;name()) {\n                $self-&gt;{_items}-&gt;[$index]-&gt;active(0);\n            }\n        }\n    }\n\n    return 0;\n}\n\n# Enable item(s)\nsub enable {\n\n    # Unpack input arguments\n    my ($self, @enable) = @_;\n\n    # Disable items\n    for my $name(@enable) {\n\n        # If the item exists, enable it\n        for my $index(0 .. $#{$self-&gt;{_items}}) {\n            if ($name eq $self-&gt;{_items}-&gt;[$index]-&gt;name()) {\n                $self-&gt;{_items}-&gt;[$index]-&gt;active(1);\n            }\n        }\n    }\n}\n\n# Print the menu\nsub print {\n\n    # Unpack input arguments\n    my ($self) = @_;\n\n    # Print the menu\n    for (;;) {\n        system 'cls';\n\n        # Print the title\n        print \"========================================\\n\";\n        print \"    $self-&gt;{_title}\\n\";\n        print \"========================================\\n\";\n\n        # Print menu items\n        for my $index(0 .. $#{$self-&gt;{_items}}) {\n            my $name   = $self-&gt;{_items}-&gt;[$index]-&gt;name();\n            my $active = $self-&gt;{_items}-&gt;[$index]-&gt;active();\n            if ($active) {\n                printf \"%2d. %s\\n\", $index + 1, $name;\n            } else {\n                print \"\\n\";\n            }\n        }\n        printf \"%2d. %s\\n\", 0, 'Exit';\n\n        # Get user input\n        print \"\\n?: \";\n        chomp (my $input = &lt;STDIN&gt;);\n\n        # Process user input\n        if ($input =~ m/\\d+/ &amp;&amp; $input &gt; 0 &amp;&amp; $input &lt;= scalar @{$self-&gt;{_items}}) {\n            my $action = $self-&gt;{_items}-&gt;[$input - 1]-&gt;action();\n            my $active = $self-&gt;{_items}-&gt;[$input - 1]-&gt;active();\n            if ($active) {\n                print \"\\n\";\n                return $action-&gt;();\n            }\n        } elsif ($input =~ m/\\d+/ &amp;&amp; $input == 0) {\n            return 0;\n        }\n\n        # Deal with invalid input\n        print \"\\nInvalid input.\\n\\n\";\n        system 'pause';\n    }\n}\n\n1;\n</code></pre>\n\n<p>Lastly I created the Menu::Item class that allows you to create individual items and stores the necessary information for each item. (Note that this is stored in a folder named \"Menu\" in order for the reference to work properly).</p>\n\n<pre><code># Item.pm\n\n#!/usr/bin/perl\n\npackage Menu::Item;\n\n# Always use these\nuse strict;\nuse warnings;\n\n# Menu::Item constructor\nsub new {\n\n    # Unpack input arguments\n    my ($class, $name, $action) = @_;\n\n    # Bless the Menu::Item object\n    my $self = bless {\n        _name   =&gt; $name,\n        _action =&gt; $action,\n        _active =&gt; 1,\n    }, $class;\n\n    return $self;\n}\n\n# Name accessor method\nsub name {\n    my ($self, $name) = @_;\n    $self-&gt;{_name} = $name if defined $name;\n    return $self-&gt;{_name};\n}\n\n# Action accessor method\nsub action {\n    my ($self, $action) = @_;\n    $self-&gt;{_action} = $action if defined $action;\n    return $self-&gt;{_action};\n}\n\n# Active accessor method\nsub active {\n    my ($self, $active) = @_;\n    $self-&gt;{_active} = $active if defined $active;\n    return $self-&gt;{_active};\n}\n\n1;\n</code></pre>\n\n<p>This creates a very elegant interface for building and using menus!</p>\n\n<p>No more ugly arrays of hashes. :)</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 28678631, "answer_count": 4, "score": 4, "last_activity_date": 1424709501, "creation_date": 1424186421, "last_edit_date": 1495535049, "question_id": 28564783, "link": "https://stackoverflow.com/questions/28564783/conditionally-excluding-menu-choices-from-a-menu", "title": "Conditionally Excluding Menu Choices From a Menu", "body": "<p>I wrote a Perl module that can build simple menus and manage them, but now I need to figure out how to conditionally hide menu choices when I don't want them to be available.</p>\n\n<p>For example how could I make it hide <code>\"Choice2\"</code> in <code>$menu1</code> if a specific condition is met? </p>\n\n<p>This question is somewhat of a continuation off of one of my other questions:\n<a href=\"https://stackoverflow.com/questions/25438475/how-can-i-build-a-simple-menu-in-perl\">How can I build a simple menu in Perl?</a></p>\n\n<p>I've made quite a bit of progress since I've started this, but I seem to have hit a roadblock.</p>\n\n<p>The Menu module looks like this:</p>\n\n<pre><code># Menu.pm\n\n#!/usr/bin/perl\n\npackage Menu;\n\nuse strict;\nuse warnings;\n\n# Menu constructor\nsub new {\n\n    # Unpack input arguments\n    my $class       = shift;\n    my (%args)      = @_;\n    my $title       = $args{title};\n    my $choices_ref = $args{choices};\n    my $noexit      = $args{noexit};\n\n    # Bless the menu object\n    my $self = bless {\n        title   =&gt; $title,\n        choices =&gt; $choices_ref,\n        noexit  =&gt; $noexit,\n    }, $class;\n\n    return $self;\n}\n\n# Print the menu\nsub print {\n\n    # Unpack input arguments\n    my $self    = shift;\n    my $title   =   $self-&gt;{title  };\n    my @choices = @{$self-&gt;{choices}};\n    my $noexit  =   $self-&gt;{noexit };\n\n    # Print menu\n    for (;;) {\n\n        # Clear the screen\n        system 'cls';\n\n        # Print menu title\n        print \"========================================\\n\";\n        print \"    $title\\n\";\n        print \"========================================\\n\";\n\n        # Print menu options\n        my $index = 0;\n        for my $choice(@choices) {\n            printf \"%2d. %s\\n\", ++$index, $choice-&gt;{text};\n        }\n        printf \"%2d. %s\\n\", '0', 'Exit' unless $noexit;\n\n        print \"\\n?: \";\n\n        # Get user input\n        chomp (my $input = &lt;STDIN&gt;);\n\n        print \"\\n\";\n\n        # Process input\n        if ($input =~ m/\\d+/ &amp;&amp; $input &gt;= 1 &amp;&amp; $input &lt;= $index) {\n            return $choices[$input - 1]{code}-&gt;();\n        } elsif ($input =~ m/\\d+/ &amp;&amp; !$input &amp;&amp; !$noexit) {\n            print \"Exiting . . .\\n\";\n            exit 0;\n        } else {\n            print \"Invalid input.\\n\\n\";\n            system 'pause';\n        }\n    }\n}\n\n1;\n</code></pre>\n\n<p>Here is an example of how the module is used:</p>\n\n<pre><code># test.pl\n\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Menu;\n\nmy $menu1;\nmy $menu2;\n\n# define menu1 choices\nmy @menu1_choices = (\n    { text =&gt; 'Choice1',\n      code =&gt; sub { print \"I did something!\\n\"; }},\n    { text =&gt; 'Choice2',\n      code =&gt; sub { print \"I did something else!\\n\"; }},\n    { text =&gt; 'Go to Menu2',\n      code =&gt; sub { $menu2-&gt;print(); }},\n);\n\n# define menu2 choices\nmy @menu2_choices = (\n    { text =&gt; 'Choice1',\n      code =&gt; sub { print \"I did something in menu 2!\\n\"; }},\n    { text =&gt; 'Choice2',\n      code =&gt; sub { print \"I did something else in menu 2!\\n\"; }},\n    { text =&gt; 'Go to Menu1',\n      code =&gt; sub { $menu1-&gt;print(); }},\n);\n\n# Build menu1\n$menu1 = Menu-&gt;new(\n    title   =&gt; 'Menu1',\n    choices =&gt; \\@menu1_choices,\n);\n\n# Build menu2\n$menu2 = Menu-&gt;new(\n    title   =&gt; 'Menu2',\n    choices =&gt; \\@menu2_choices,\n);\n\n# Print menu1\n$menu1-&gt;print();\n</code></pre>\n\n<p>Since the menus choices are defined as an array of hashes, I'm not sure how I can conditionally exclude specific options if I don't want them to be shown.</p>\n\n<p>Is there an easy way to do this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1424184415, "post_id": 28564043, "comment_id": 45438564, "body": "Which is which? Just looks like a bunch of numbers to me."}, {"owner": {"reputation": 41, "user_id": 4575831, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153585458002388/picture?type=large", "display_name": "Shivani Kapadia", "link": "https://stackoverflow.com/users/4575831/shivani-kapadia"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1424184727, "post_id": 28564043, "comment_id": 45438789, "body": "Its - at time 500 distance is 3.6673656 and so on."}, {"owner": {"reputation": 41, "user_id": 4575831, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153585458002388/picture?type=large", "display_name": "Shivani Kapadia", "link": "https://stackoverflow.com/users/4575831/shivani-kapadia"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1424184803, "post_id": 28564043, "comment_id": 45438849, "body": "time and distance are separated by a single space."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1424185569, "post_id": 28564043, "comment_id": 45439383, "body": "Why are you checking if the line contains an <code>@</code> character? Are the <code>----------</code> lines part of the data?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1424185775, "post_id": 28564043, "comment_id": 45439519, "body": "Btw, for a first question this is pretty good. Welcome to Stack Overflow! :)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1424186135, "post_id": 28564043, "comment_id": 45439722, "body": "Why not use <code>my ($time, $distance) = split; push @times, $time; push @distance, $distance;</code>? If you actually do need them in different arrays. Question is how you intend to use the data afterwards."}], "answers": [{"tags": [], "owner": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "is_accepted": false, "score": 1, "last_activity_date": 1424186011, "last_edit_date": 1424186011, "creation_date": 1424185629, "answer_id": 28564506, "question_id": 28564043, "link": "https://stackoverflow.com/questions/28564043/to-split-at-whitespace-in-perl/28564506#28564506", "title": "To split at whitespace in Perl", "body": "<p>Please, take a look at this example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $str=&lt;&lt;EOF;\n500 3.6673656\n1000 3.2707536\n1500 3.2356145\n2000 3.0495141\n2500 3.016674\nEOF\n\nmy @arr= split /\\n/, $str;\nmy @arr1;\nmy @arr2;\n\nforeach (@arr) {\n    chomp;\n    my $line = $_;\n    next if ($line=~/^\\s*$/);\n    my ($val1,$val2) = $line=~/(\\S+)\\s+(\\S+)/;\n    push @arr1,$val1;\n    push @arr2, $val2;\n}\n\nprint Dumper (\\@arr1);\nprint Dumper (\\@arr2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 4, "last_activity_date": 1424185681, "creation_date": 1424185681, "answer_id": 28564531, "question_id": 28564043, "link": "https://stackoverflow.com/questions/28564043/to-split-at-whitespace-in-perl/28564531#28564531", "title": "To split at whitespace in Perl", "body": "<p>You could do:</p>\n\n<pre><code>my (@times, @dists);\nforeach (@array) { \n    if (/[@]/) {\n        # do nothing, it's a comment or formatting line\n    } \n    else  {\n        my ($time, $dist) = split( /\\s+/, $_);\n        push @times, $time;\n        push @dists, $dist;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1424185712, "creation_date": 1424185712, "answer_id": 28564541, "question_id": 28564043, "link": "https://stackoverflow.com/questions/28564043/to-split-at-whitespace-in-perl/28564541#28564541", "title": "To split at whitespace in Perl", "body": "<p>You can use the <code>split</code> command you had alright. Just save the result in two variables and <code>push</code> it into two different arrays.</p>\n\n<pre><code>my (@times, @distances);\nforeach my $line (@array) {\n  next if $line eq '----------'; # skip lines with lines (no pun intended)\n  my ($t, $d) = split /\\s/, $line;\n  push @times, $t;\n  push @distances, $d;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 5, "last_activity_date": 1424185936, "creation_date": 1424185936, "answer_id": 28564617, "question_id": 28564043, "link": "https://stackoverflow.com/questions/28564043/to-split-at-whitespace-in-perl/28564617#28564617", "title": "To split at whitespace in Perl", "body": "<p>Splitting lines and storing the data is trivial. How you want to store it for use later is the question. You can split the line on spaces and store it with: </p>\n\n<pre><code>my @data =  map { [ split ] } @lines;\n</code></pre>\n\n<p>The default call to <code>split</code>, <em>splits</em> <code>$_</code> on spaces. </p>\n\n<p>Next, you can omit those lines with <code>'@'</code> with a grep: </p>\n\n<pre><code>my @data = map { [ split ] } grep { index( $_, '@' ) == -1 } @lines;\n</code></pre>\n\n<p>And here is just the simplest storage structure: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse constant TIME     =&gt; 0;\nuse constant DISTANCE =&gt; 1;\n\nmy @data = map { [ split ] } grep { index( $_, '@' ) == -1 } @lines;\n</code></pre>\n\n<p>Then you can address the different fields by their slot names. </p>\n\n<pre><code>foreach my $row ( @data ) {\n    printf \"At time : %d, distance was %f\\n\", $row-&gt;[TIME], $row-&gt;[DISTANCE];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 4575831, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153585458002388/picture?type=large", "display_name": "Shivani Kapadia", "link": "https://stackoverflow.com/users/4575831/shivani-kapadia"}, "edited": false, "score": 0, "creation_date": 1424187206, "post_id": 28564705, "comment_id": 45440406, "body": "I thought of storing them in hash at first but couldn&#39;t split it properly."}, {"owner": {"reputation": 41, "user_id": 4575831, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153585458002388/picture?type=large", "display_name": "Shivani Kapadia", "link": "https://stackoverflow.com/users/4575831/shivani-kapadia"}, "edited": false, "score": 0, "creation_date": 1424187225, "post_id": 28564705, "comment_id": 45440426, "body": "Thank you. I will try it out."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1424186178, "creation_date": 1424186178, "answer_id": 28564705, "question_id": 28564043, "link": "https://stackoverflow.com/questions/28564043/to-split-at-whitespace-in-perl/28564705#28564705", "title": "To split at whitespace in Perl", "body": "<p>Doing what you think you want to do is easy.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy (@distance, @time);\n\nwhile (&lt;DATA&gt;) {\n  next if /----/;\n  chomp;\n\n  my ($t, $d) = split; # Splits on whitespace by default\n  push @distance, $d;\n  push @time, $t;\n}\n\nsay \"@distance\";\nsay \"@time\";\n\n__DATA__\n500 3.6673656 \n----------\n1000 3.2707536\n----------\n1500 3.2356145\n----------\n2000 3.0495141\n----------\n2500 3.016674\n</code></pre>\n\n<p>However, it's a really bad idea. The distance and time on each row of your input are obviously associated with each other. It's therefore a bad idea to store them in separate variables where the relationship between the two values is represented by the fact that they both have the same index in different arrays.</p>\n\n<p>A far better approach would be to store the two values together (perhaps in a hash) and store those hashes (or, more accurately, references to those hashes in an array.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\n\nmy (@data);\n\nwhile (&lt;DATA&gt;) {\n  next if /----/;\n  chomp;\n\n  my %row;\n\n  @row{qw[time distance]} = split; # Splits on whitespace by default\n  push @data, \\%row;\n}\n\nsay Dumper \\@data;\n\n__DATA__\n500 3.6673656 \n----------\n1000 3.2707536\n----------\n1500 3.2356145\n----------\n2000 3.0495141\n----------\n2500 3.016674\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 6, "last_activity_date": 1424188653, "creation_date": 1424188653, "answer_id": 28565571, "question_id": 28564043, "link": "https://stackoverflow.com/questions/28564043/to-split-at-whitespace-in-perl/28565571#28565571", "title": "To split at whitespace in Perl", "body": "<p>Let's get all fancy pants:</p>\n\n<pre><code>#! /usr/bin/env perl\n#\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\nmy @array;\nwhile ( my $line = &lt;DATA&gt; ) {\n    chomp $line;\n    push @array, $line;\n}\n\n#\n# As two separate arrays (Not so good)\n#\nmy @times;\nmy @distances;\nfor my $entry ( @array ) {\n    chomp $entry;               # Not needed, but never hurts\n    next if $entry =~ /--+$/;   # Next if all dashes\n    my ( $distance, $time ) = split /\\s+/, $entry;\n    push @times, $time;\n    push @distances, $distance;\n}\nsay \"The first entry as two distinct arrays\";\nsay \"Distance: $distances[0]\";\nsay \"Time: $times[0]\";\n\n#\n# As two entries in a single array\n#\nmy @velocities;\nfor my $entry ( @array ) {\n    chomp $entry;               # Not needed, but never hurts\n    next if $entry =~ /--+$/;   # Next if all dashes\n    my @velocity = split /\\s+/, $entry;\n    push @velocities, \\@velocity;\n}\nsay \"The first entry as an array of arrays\";\nsay \"Distance: \" . $velocities[0]-&gt;[0];\nsay \"Time: \" . $velocities[0]-&gt;[1];\n#\n# As a hash in an array (Better Still)\n# Note: Using regular expression to split\n#\nmy @velocities2;\nfor my $entry ( @array ) {\n    chomp $entry;               # Not needed, but never hurts\n    next unless $entry =~ /\\s*(\\S+)\\s+(\\S+)/;\n    my %velocity;\n    $velocity{DISTANCE} = $1;\n    $velocity{TIME} = $2;\n    push @velocities2, \\%velocity;\n}\nsay \"The first entry as an array of hashes\";\nsay \"Distance: \" . $velocities2[0]-&gt;{DISTANCE};\nsay \"Time: \" . $velocities2[0]-&gt;{TIME};\n#\n# As objects (The best!)\n#\nmy @velocities3;\nfor my $entry ( @array ) {\n    chomp $entry;               # Not needed, but never hurts\n    next unless $entry =~ /\\s*(\\S+)\\s+(\\S+)/;\n    my $distance = $1;\n    my $time = $2;\n    my $velocity = Local::Velocity-&gt;new( $distance, $time );\n    push @velocities3, $velocity;\n}\nsay \"The first entry as an object\";\nsay \"Distance: \" . $velocities3[0]-&gt;distance;\nsay \"Time: \" . $velocities3[0]-&gt;time;\n\npackage Local::Velocity;\n\nsub new {\n    my $class    = shift;\n    my $distance = shift;\n    my $time     = shift;\n\n    my $self = {};\n    bless $self, $class;\n    $self-&gt;distance( $distance );\n    $self-&gt;time( $time );\n    return $self;\n}\n\nsub distance {\n    my $self     = shift;\n    my $distance = shift;\n\n    if ( defined $distance ) {\n        $self-&gt;{DISTANCE} = $distance;\n    }\n    return $self-&gt;{DISTANCE};\n}\n\nsub time {\n    my $self    = shift;\n    my $time    = shift;\n\n    if ( defined $time ) {\n        $self-&gt;{TIME} = $time;\n    }\n    return $self-&gt;{TIME};\n}\n\npackage main;\n__DATA__\n500 3.6673656 \n----------\n1000 3.2707536\n----------\n1500 3.2356145\n----------\n2000 3.0495141\n----------\n2500 3.016674\n</code></pre>\n\n<p>The first way is what you asked: Two parallel arrays. The problem with this method is that you are now forced to keep two separate data structures in order. If you pass a time and distance, you have to pass two separate data elements. If you modify one, you have to modify the other. If you <code>push</code> or <code>pop</code> from one, you have to do it to the other.</p>\n\n<p>Not too bad with just two, but imagine having to do this with a dozen or more.</p>\n\n<p>The second way uses <a href=\"http://perldoc.perl.org/perlreftut.html\">References</a>. References allow you to do more complex data structures. This keeps the two entries in a single array together. Now, you have one array that contains both entries. <code>push</code> one, and you <code>push</code> the other. <code>pop</code> one, and you <code>pop</code> the other. If you pass your time and distance to a subroutine, you only need to pass a single entry.</p>\n\n<p>The third way takes the concept of references up a notch. Instead of using an array to store your two values, you use a hash. The advantage is that each element in the hash has a name. Is the first entry or second entry the distance? It doesn't matter, it's the entry labeled <code>DISTANCE</code>. Same advantages with an array or arrays, but now, you labeled which is which. Imagine a person with names, phones, addresses, etc., and you can see the advantage.</p>\n\n<p>The final way is using <a href=\"http://perldoc.perl.org/perlootut.html\">objects</a>. Which as you can see are very similar to using hashes. You don't have a hash or array. You have a <code>Local::Velocity</code> object that contains a time and distance.</p>\n\n<p>It seems a bit more complex, but objects have a lot of advantages:</p>\n\n<ul>\n<li>There's no issue whether an entry is <code>DISTANCE</code>, <code>Distance</code>, or <code>distance</code>, and there's no issue of misspelling <code>distanse</code>. You have a <em>method</em> called <code>distance</code>. Mess up the name, and your program dutifully crashes instead of continuing with bad data.</li>\n<li>You can modify your object without affecting your program. For example, maybe a subroutine called <code>velocity</code> that takes your object and returns the velocity. Or maybe you might want to add a direction to your velocity. Modifying the object won't affect your program.</li>\n</ul>\n\n<p>Object oriented Perl allows you to create extremely complex data types without having to remember how you structured them. It's why most new modules are object oriented.</p>\n"}], "owner": {"reputation": 41, "user_id": 4575831, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153585458002388/picture?type=large", "display_name": "Shivani Kapadia", "link": "https://stackoverflow.com/users/4575831/shivani-kapadia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1277, "favorite_count": 1, "answer_count": 6, "score": 4, "last_activity_date": 1424221967, "creation_date": 1424184353, "last_edit_date": 1424221967, "question_id": 28564043, "link": "https://stackoverflow.com/questions/28564043/to-split-at-whitespace-in-perl", "title": "To split at whitespace in Perl", "body": "<p>I have a data of type - </p>\n\n<pre><code>500 3.6673656 \n----------\n1000 3.2707536\n----------\n1500 3.2356145\n----------\n2000 3.0495141\n----------\n2500 3.016674\n</code></pre>\n\n<p>i.e. time and the distance. \nI need to split time in one array and distance in an other. \nby using <code>my @line = split( /\\s+/, $_);</code> i could store the distance in one array, but can't store time. \nIs there any other way to separately store each of them in different array?</p>\n\n<p>input is taken from a file and contents are stored in <code>@array</code>.</p>\n\n<p>my script:</p>\n\n<pre><code>    foreach $_ (@array){ \n    if($_ =~ /[@]/) {# do nothing, it's a comment or formatting line} \n    else  {my @line = split( /\\s+/, $_);\n    print \"@line\\n\";}\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "otrs"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1424174959, "creation_date": 1424174959, "answer_id": 28561130, "question_id": 28560732, "link": "https://stackoverflow.com/questions/28560732/otrs-bug-parsing-zeroes-on-email/28561130#28561130", "title": "OTRS Bug parsing zeroes on email", "body": "<p>Without seeing some code, I'm left with guessing. My guess would be there's some logic:</p>\n\n<pre><code>if ( $variable ) { # do something };\n</code></pre>\n\n<p>Which means when the variable is present, but <code>0</code> it's evaluating as false when it shouldn't be. This can be easily fixed by tracking down the offending line and changing it to:</p>\n\n<pre><code>if ( defined $variable ) { #do something }; \n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 1360859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d05ed78242418c1c20ca74029b77ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "NublaII", "link": "https://stackoverflow.com/users/1360859/nublaii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424174959, "creation_date": 1424171812, "question_id": 28560732, "link": "https://stackoverflow.com/questions/28560732/otrs-bug-parsing-zeroes-on-email", "title": "OTRS Bug parsing zeroes on email", "body": "<p>I have just setup my first installation of OTRS and I was setting up my first filtering when I found a 'possible' bug:</p>\n\n<p>When the regex matches a zero (as in '0') and I try to assign it to a DynamicField (type text) using '[***]' I get an empty value (maybe it believes it's NULL??)</p>\n\n<p>The actual regex works:</p>\n\n<pre><code>Node users: (.*?)\\,\n</code></pre>\n\n<p>And what I'm parsing on the body:If I have a '1' it works fine</p>\n\n<pre><code>\"...3.250. Node users: 1,  Backend use...\"\n</code></pre>\n\n<p>log:</p>\n\n<pre><code>Filter: 'variable name 4' Set param 'X-OTRS-DynamicField-variable4' to '1'\n</code></pre>\n\n<p>If I have a '0' OTRS doesn't see a value</p>\n\n<pre><code>\"...3.250. Node users: 0,  Backend use...\"\n</code></pre>\n\n<p>log:</p>\n\n<pre><code>Filter: 'variable name 4' Set param 'X-OTRS-DynamicField-variable4' to ''\n</code></pre>\n\n<p>Any ideas? I'm no perl expert, but it looks like it's both successfully matching and unsuccessfully inserting in DB.</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424180861, "post_id": 28561044, "comment_id": 45436332, "body": "Can you please scribble the code...I mean re-write section of my code...in a way to implement your idea..I am slightly baffled.."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424182981, "post_id": 28561044, "comment_id": 45437527, "body": "Not easily. It&#39;s a significant change to how your thing works - you&#39;re iterating the XML post parse. To purge, you need to parse and purge as you go."}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424183805, "post_id": 28561044, "comment_id": 45438079, "body": "no...not always...sequence is not sure...But only those stocks need to be kept which have highest value for &#39;version&#39; attribute  for the same ref values...In case if two &lt;STOCK&gt; have same highest value of version attribute for given ref....then both need to be kept..as they both are legitimate trades...."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424184399, "post_id": 28561044, "comment_id": 45438550, "body": "OK, I&#39;ve updated with an example of how it <i>could</i> go. You&#39;re still, unfortunately, retaining quite a bit in memory. So perhaps parsing it twice actually is necessary - first pass to determine highest version numbers, second pass to parse and discard. Not very efficient, but may be unavoidable, given you want to keep memory footprint down."}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424184984, "post_id": 28561044, "comment_id": 45438975, "body": "@sobrique-your idea sounds great....but since I have started perl recently...can you please scribble the code for me..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424186006, "post_id": 28561044, "comment_id": 45439655, "body": "OK, edited again. Not sure that&#39;s the most efficient approach, but it might do the trick?"}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424190232, "post_id": 28561044, "comment_id": 45442434, "body": "@sobrique....Thanx a ton ...bro...I am gonna work on it....But I guess...I understood the idea...."}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424263174, "post_id": 28561044, "comment_id": 45475152, "body": "Hi bro...the performance has got degraded....Earlier for 500 mb file it was taking 13 minutes whereas now it&#39;s 24 mins (almost double)...Good thing is memory consumption is amazingly low....can this trade-off be averted??"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424263617, "post_id": 28561044, "comment_id": 45475413, "body": "It would be double, because it&#39;s doing it twice. This is a classic memory vs. processor tradeoff. With the problem as you&#39;ve outlined it - I don&#39;t think there&#39;s a solution. You might be able to do something similar to my first example - that parses once, and partially discards as it goes. (e.g. retains <code>%best_version_of</code>). You&#39;ll need to modify it slightly to handle duplicates though, because as it stands two trades with the same ref and version will clobber each other."}, {"owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424263787, "post_id": 28561044, "comment_id": 45475488, "body": "some scribbling of code on your part will help..But can&#39;t ask for more...Bro..You have really helped a lot....Thanx...Best wishes"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424264657, "post_id": 28561044, "comment_id": 45475990, "body": "OK, given it a go. Not sure how much it&#39;ll help though - very much depends how many lines you discard vs. retain."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1424264774, "post_id": 28561044, "comment_id": 45476065, "body": "I&#39;d also strongly recommend that you validate the results of these scripts. &#39;some guy on the internet&#39; isn&#39;t a strong assertion of code quality :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1424264836, "last_edit_date": 1424264836, "creation_date": 1424174629, "answer_id": 28561044, "question_id": 28560370, "link": "https://stackoverflow.com/questions/28560370/performance-tuning-and-optimization-of-xmltwig-in-perl/28561044#28561044", "title": "Performance tuning and optimization of XML::Twig in Perl", "body": "<p>If you're worried about the memory footprint, you really want to be using flush/purge in a twig handler.\nThat way it's called as the file is being parsed. </p>\n\n<p>Your calls to purge are being made <em>after</em> your parsefile, which means - it has to load and parse the whole thing first. </p>\n\n<p>You might be able to build part of that into your <code>trade_handler</code> - e.g. you test for a max version, and then compare it in your iteration loop later. So you could <em>probably</em> test that condition during the handler:</p>\n\n<pre><code>if ( $max_version{$ref} &gt; $version ) { $trade -&gt; purge; }\n</code></pre>\n\n<p>But bear in mind if you did this, you'd need to rethink your post-parse <code>foreach</code> loop, because you'd be discarding as you went. </p>\n\n<p>I'm not entirely sure what your <code>grep</code> is for though. You could possibly also implement that logic in your trade_handler too, but I can't say for sure. (e.g. negative test, purge if this element isn't required). </p>\n\n<p>I think - pretty fundamentally - you should be able to use a handler for your 'for' loop, and process and purge as you go. I can't tell for sure - you might need a two-pass approach, because of needing to look ahead for version numbers. </p>\n\n<p>Edit: This doesn't quite do what you want, but hopefully illustrates what I'd be suggesting: </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nopen( my $out, '&gt;:utf8', 'out.xml' )\n    or die \"cannot create output file  out.xml: $!\";\nmy $twig = new XML::Twig(\n    twig_roots =&gt; {\n        '/STOCKEXT/STOCK/STOCK'              =&gt; sub { $_-&gt;delete() },\n        '/STOCKEXT/STOCK[@origin != \"ASIA\"]' =&gt; sub { $_-&gt;delete; },\n        '/STOCKEXT/STOCK' =&gt; \\&amp;trade_handler\n    },\n    att_accessors =&gt; [qw/ ref version /],\n    pretty_print  =&gt; 'indented',\n);\n\nmy %max_version;\nmy %best_version_of;\n\nlocal $/;\n$twig-&gt;parse(&lt;DATA&gt;);\n\nforeach my $ref ( keys %best_version_of ) {\n  $best_version_of{$ref} -&gt; print;\n}\n#$twig-&gt;parsefile('1513.xml');\n\n\nsub trade_handler {\n    my ( $twig, $trade ) = @_;\n    my ( $ref, $version ) = ( $trade-&gt;ref, $trade-&gt;version );\n\n    if ( not exists $max_version{$ref}\n        or $max_version{$ref} &lt; $version )\n    {\n        ###something here that replicates your grep test, as I'm not sure I've got it right. \n        $max_version{$ref}     = $version;\n        $best_version_of{$ref} = $trade;\n    }   \n  $trade -&gt; purge;\n}\n\n\n__DATA__\n\n&lt;STOCKEXT&gt;\n  &lt;STOCK origin = \"ASIA\" ref=\"12\" version=\"1\" &gt;\n    &lt;event eventtype=\"ghi\"&gt;\n      &lt;subevent code = \"abc\" narattive = \"def\" /&gt; \n    &lt;/event&gt;\n  &lt;/STOCK&gt;\n  &lt;STOCK origin = \"ASIA\" ref=\"12\" version=\"2\" &gt;\n    &lt;event eventtype=\"ghi\"&gt;\n      &lt;subevent code = \"abc\" narattive = \"def\" /&gt; \n    &lt;/event&gt;\n  &lt;/STOCK&gt;\n  &lt;STOCK origin = \"ASI\" ref=\"13\" version=\"1\" &gt;\n    &lt;event eventtype=\"ghi\"&gt;\n      &lt;subevent code = \"abc\" narattive = \"def\" /&gt; \n    &lt;/event&gt;\n  &lt;/STOCK&gt; \n&lt;/STOCKEXT&gt;\n</code></pre>\n\n<p>As said, this doesn't quite do what you want - it'll 'save memory' only as long as you're able to discard a lot of the XML by purging it as you go along... but because you don't know which version is the highest until you get to the end, a memory footprint is inevitable, because you'll never entirely know what you can safely discard until you get there. </p>\n\n<p>So perhaps you need a two-pass approach, where you parse first to extract 'highest version numbers' - much like you're doing, but purging as you go... and then start over once you know them, because then you know what you can purge or flush as you're going. </p>\n\n<p>The reason you're having this problem is that you can't know if you've got the latest version until you hit the end of the file. </p>\n\n<p>So you might need to do something like this instead?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nopen( my $out, '&gt;:utf8', 'out.xml' )\n    or die \"cannot create output file  out.xml: $!\";\n\nmy $first_pass = new XML::Twig(\n    twig_roots =&gt; {\n        '/STOCKEXT/STOCK/STOCK'              =&gt; sub { $_-&gt;delete() },\n        '/STOCKEXT/STOCK[@origin != \"ASIA\"]' =&gt; sub { $_-&gt;delete; },\n        '/STOCKEXT/STOCK' =&gt; \\&amp;extract_highest_version,\n    },\n    att_accessors =&gt; [qw/ ref version /],\n    pretty_print  =&gt; 'indented',\n);\n\nmy $main_parse = new XML::Twig(\n    twig_roots =&gt; {\n        '/STOCKEXT/STOCK/STOCK'              =&gt; sub { $_-&gt;delete() },\n        '/STOCKEXT/STOCK[@origin != \"ASIA\"]' =&gt; sub { $_-&gt;delete; },\n        '/STOCKEXT/STOCK' =&gt; \\&amp;trade_handler\n    },\n    att_accessors =&gt; [qw/ ref version /],\n    pretty_print  =&gt; 'indented',\n);\n\nmy %max_version_of;\n\n$first_pass-&gt;parsefile('1513.xml');\n$main_parse-&gt;parsefile('1513.xml');\n\nsub extract_highest_version {\n    my ( $twig, $trade ) = @_;\n    my ( $ref, $version ) = ( $trade-&gt;ref, $trade-&gt;version );\n\n    if ( not exists $max_version_of{$ref}\n        or $max_version_of{$ref} &lt; $version )\n    {\n        $max_version_of{$ref} = $version;\n    }\n    $trade-&gt;purge;\n}\n\nsub trade_handler {\n    my ( $twig, $trade ) = @_;\n    my ( $ref, $version ) = ( $trade-&gt;ref, $trade-&gt;version );\n    if ( $version &gt;= $max_version_of{$ref}\n        and ( $trade-&gt;first_child('event')-&gt;att('eventtype')                           eq 'ghi' )\n        and ( $trade-&gt;first_child('event')-&gt;first_child('subevent')-&gt;att('code')       eq 'abc' )\n        and ( $trade-&gt;first_child('event')-&gt;first_child('subevent') -&gt;att('narattive') eq 'def' )\n        )\n    {\n        $trade-&gt;flush;\n    }\n    else {\n        $trade-&gt;purge;\n    }\n}\n</code></pre>\n\n<p>Can probably be a bit tidier, but the point is - you run through it once - and <code>purge</code> as you go, so you only have a single <code>&lt;STOCK&gt;</code> in memory at a given time. Then you have a relationship between 'ref' and 'highest version.</p>\n\n<p>So then you parse a second time, and because you know what the highest version is, you can purge/flush as you go - you don't have to read the future. </p>\n\n<p>Now as noted in the comments - your first approach reads the whole file into memory, because it needs to know the 'highest version'. It's single pass though, which makes it faster.</p>\n\n<p>The other approach is two pass - reading the file twice. Slower, but not retaining very much in memory at all. </p>\n\n<p>A halfway house might be:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nopen( my $out, '&gt;:utf8', 'out.xml' )\n    or die \"cannot create output file  out.xml: $!\";\nmy $twig = new XML::Twig(\n    twig_roots =&gt; {\n        '/STOCKEXT/STOCK/STOCK'              =&gt; sub { $_-&gt;delete() },\n        '/STOCKEXT/STOCK[@origin != \"ASIA\"]' =&gt; sub { $_-&gt;delete; },\n        '/STOCKEXT/STOCK' =&gt; \\&amp;trade_handler\n    },\n    att_accessors =&gt; [qw/ ref version /],\n    pretty_print  =&gt; 'indented',\n);\n\nmy %max_version_of;\nmy %best_version_of;\n\n$twig-&gt;parsefile('1513.xml');\n\nprint {$out} \"&lt;STOCKEXT&gt;\\n\";\nforeach my $ref ( keys %best_version_of ) {\n    foreach my $trade ( @{ $best_version_of{$ref} } ) {\n        $trade-&gt;print($out);\n    }\n}\nprint {$out} \"&lt;/STOCKEXT&gt;\\n\";\n\nsub trade_handler {\n    my ( $twig, $trade ) = @_;\n    my ( $ref, $version ) = ( $trade-&gt;ref, $trade-&gt;version );\n\n    if ((   not defined $max_version_of{$ref}\n            or $version &gt;= $max_version_of{$ref}\n        )\n        and ( $trade-&gt;first_child('event')-&gt;att('eventtype') eq 'ghi' )\n        and\n        ( $trade-&gt;first_child('event')-&gt;first_child('subevent')-&gt;att('code')\n            eq 'abc' )\n        and ( $trade-&gt;first_child('event')-&gt;first_child('subevent')\n            -&gt;att('narattive') eq 'def' )\n        )\n    {\n        if ( not defined $max_version_of{$ref}\n            or $version &gt;= $max_version_of{$ref} )\n        {\n           #this version is higher, so anything lower is redundant - remove it\n            @{ $best_version_of{$ref} } = ();\n        }\n        push( @{ $best_version_of{$ref} }, $trade );\n        $max_version_of{$ref} = $version;\n    }\n    $trade-&gt;purge;\n    #can omit this, it'll just print how 'big' the hash is getting. \n    print \"Hash size: \". %best_version_of.\"\\n\";\n}\n</code></pre>\n\n<p>What this does is still purge as it goes, but slowly fills up <code>%best_version_of</code>. It might still have a big memory footprint though - it depends rather a lot on the ratio of 'keep' vs. 'discard'. </p>\n\n<p>I'm afraid there's just no optimal solution - to figure out which version is 'newest' you have to run through the file twice, and either you do that at expense of memory consumption, or you do so at the expense of disk IO. </p>\n\n<p>(And I think I have to offer a caveat - this won't produce 'valid' XML, because the root node <code>&lt;STOCKEXT&gt;</code> will be discarded. Putting that at the start of <code>$out</code> and <code>&lt;/STOCKEXT&gt;</code> at the end will solve that though). </p>\n"}], "owner": {"reputation": 127, "user_id": 3668116, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fbe2cbf51ac91e9372387c21e35964d1?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/3668116/vikas-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 2, "accepted_answer_id": 28561044, "answer_count": 1, "score": 2, "last_activity_date": 1424264836, "creation_date": 1424170627, "last_edit_date": 1424179761, "question_id": 28560370, "link": "https://stackoverflow.com/questions/28560370/performance-tuning-and-optimization-of-xmltwig-in-perl", "title": "Performance tuning and optimization of XML::Twig in Perl", "body": "<p>Following is the code I have scribbled in order to filter my 3 to 5 GB XML file based on four conditions:</p>\n\n<p>Following are the conditions:</p>\n\n<p>1) All sub-stocks should be filtered.</p>\n\n<p>2) Stocks having certain origin should persist. Else all should be filtered.</p>\n\n<p>3) Inside the stock trade, there is an <code>&lt;event&gt;</code> tag which subsequently has a <code>&lt;subevent&gt;</code> tag. For the <code>&lt;event&gt;</code> tag attribute 'code' should have value 'abc' and the <code>&lt;subevent&gt;</code> tag should have certain values for their attributes as can be seen in code.</p>\n\n<p>4) Only the highest version (attribute of stock) for a given ref (another attribute of stock) should be persisted with. The rest should all be deleted (This one is the most complicated condition)</p>\n\n<p>My code is:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nopen( my $out, '&gt;:utf8', 'out.xml') or die \"cannot create output file  out.xml: $!\";\nmy $twig = new XML::Twig(\n    twig_roots =&gt; {  '/STOCKEXT/STOCK/STOCK'=&gt; sub { $_-&gt;delete() },\n                     '/STOCKEXT/STOCK[@origin != \"ASIA\"]' =&gt; sub  { $_-&gt;delete; },\n                     '/STOCKEXT/STOCK' =&gt; \\&amp;trade_handler\n                  },\n    att_accessors =&gt; [ qw/ ref version / ],\n    pretty_print  =&gt; 'indented',\n);\n\nmy %max_version;\n$twig-&gt;parsefile('1513.xml');\nfor my $stock ($twig-&gt;root-&gt;children('STOCK'))\n{\n   my ($ref, $version) = ($trade-&gt;ref, $trade-&gt;version);\n\n   if ($version  eq  $max_version{$ref} &amp;&amp;\n   grep {grep {$_-&gt;att('code') eq 'abc' and $_-&gt;att('narrative') eq 'def'}\n   $_-&gt;children('subevent')} $trade-&gt;children('event[@eventtype=\"ghi\"]'))\n\n   {\n        $trade-&gt;flush($out);\n   }\n\n   else\n   {\n    $trade-&gt;purge;\n\n   }\n}\n\nsub trade_handler\n{\n  my ($twig, $trade) = @_;\n  {\n    my ($ref, $version) = ($trade-&gt;ref, $trade-&gt;version);\n\n    unless (exists $max_version{$ref} and $max_version{$ref} &gt;= $version)\n    {\n      $max_version{$ref} = $version;\n    }\n}\n\n 1;\n}\n</code></pre>\n\n<p>Sample XML</p>\n\n<pre><code>&lt;STOCKEXT&gt;\n  &lt;STOCK origin = \"ASIA\" ref=\"12\" version=\"1\" &gt;(Filtered out, lower version ref)\n    &lt;event eventtype=\"ghi\"&gt;\n      &lt;subevent code = \"abc\" narattive = \"def\" /&gt; \n    &lt;/event&gt;\n  &lt;/STOCK&gt;\n  &lt;STOCK origin = \"ASIA\" ref=\"12\" version=\"2\" &gt;(highest version=2  for ref=12)\n    &lt;event eventtype=\"ghi\"&gt;\n      &lt;subevent code = \"abc\" narattive = \"def\" /&gt; \n    &lt;/event&gt;\n  &lt;/STOCK&gt;\n  &lt;STOCK origin = \"ASI\" ref=\"13\" version=\"1\" &gt;(Fileterd out \"ASI\" val wrong)   \n    &lt;event eventtype=\"ghi\"&gt;\n      &lt;subevent code = \"abc\" narattive = \"def\" /&gt; \n    &lt;/event&gt;\n  &lt;/STOCK&gt; \n</code></pre>\n\n<p>Code is working absolutely fine and providing requisite output. But it's consuming a hell of a lot of memory, even though I have tried to implement \"FLUSH\" &amp; \"PURGE\". Can anybody please help with some optimization tips. </p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 0, "last_activity_date": 1424163181, "last_edit_date": 1424163181, "creation_date": 1424155671, "answer_id": 28556205, "question_id": 28556162, "link": "https://stackoverflow.com/questions/28556162/perl-one-liner-to-add-a-double-quote-on-a-regex-match/28556205#28556205", "title": "perl one-liner to add a double quote on a regex match", "body": "<pre><code>(?&lt;=\"DNR for )[^-]*(-[^,]*)\n</code></pre>\n\n<p>Try this.Replace by <code>JRE$1\"</code>or <code>JRE\\1\"</code>.See demo.</p>\n\n<p><a href=\"https://www.regex101.com/r/rK5lU1/42\" rel=\"nofollow\">https://www.regex101.com/r/rK5lU1/42</a></p>\n\n<p>or\n     You can use <code>\\K</code> feature of perl</p>\n\n<pre><code>\"DNR for \\K[^-]*(-[^,]*)\n</code></pre>\n\n<p>See demo.</p>\n\n<p><a href=\"https://www.regex101.com/r/rK5lU1/43\" rel=\"nofollow\">https://www.regex101.com/r/rK5lU1/43</a></p>\n"}, {"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1424155995, "last_edit_date": 1424155995, "creation_date": 1424155684, "answer_id": 28556208, "question_id": 28556162, "link": "https://stackoverflow.com/questions/28556162/perl-one-liner-to-add-a-double-quote-on-a-regex-match/28556208#28556208", "title": "perl one-liner to add a double quote on a regex match", "body": "<p>You need to use capturing group or <code>\\K</code></p>\n\n<pre><code>$ perl -pe 's/(,\"DNR for ABC-FUL[^\"]*),/\\1\",/g' file\n(NULL,137,\"DNR for ABC-FUL11002,576\",\"Crane, IN\",207,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11003,577\",\"Crane, IN\",208,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11004,578\",\"Crane, IN\",209,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11005,579\",\"Crane, IN\",210,NOW(),1,1),\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>$ perl -pe 's/,\"DNR for ABC-FUL[^\"]*\\K,/\",/g' file\n(NULL,137,\"DNR for ABC-FUL11002,576\",\"Crane, IN\",207,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11003,577\",\"Crane, IN\",208,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11004,578\",\"Crane, IN\",209,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11005,579\",\"Crane, IN\",210,NOW(),1,1),\n</code></pre>\n"}], "owner": {"reputation": 1247, "user_id": 2045872, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/443295a53466b8ace4d5ea908ac58ce2?s=128&d=identicon&r=PG", "display_name": "noober", "link": "https://stackoverflow.com/users/2045872/noober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "closed_date": 1424279260, "answer_count": 2, "score": -1, "last_activity_date": 1424163181, "creation_date": 1424155482, "question_id": 28556162, "link": "https://stackoverflow.com/questions/28556162/perl-one-liner-to-add-a-double-quote-on-a-regex-match", "closed_reason": "Not suitable for this site", "title": "perl one-liner to add a double quote on a regex match", "body": "<p>Is there a way to come up with a a perl one liner for doing the following?\nAdd the missing double quote <code>\"</code> for all the strings that match </p>\n\n<pre><code>\"DNR for ABC-FULL*\"\n</code></pre>\n\n<p>From:</p>\n\n<pre><code>(NULL,137,\"DNR for ABC-FUL11002,576,\"Crane, IN\",207,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11003,577,\"Crane, IN\",208,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11004,578,\"Crane, IN\",209,NOW(),1,1),\n(NULL,137,\"DNR for ABC-FUL11005,579,\"Crane, IN\",210,NOW(),1,1),\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>(NULL,137,\"DNR for JRE-FUL11002,576\",\"Crane, IN\",207,NOW(),1,1),\n(NULL,137,\"DNR for JRE-FUL11003,577\",\"Crane, IN\",208,NOW(),1,1),\n(NULL,137,\"DNR for JRE-FUL11004,578\",\"Crane, IN\",209,NOW(),1,1),\n(NULL,137,\"DNR for JRE-FUL11005,579\",\"Crane, IN\",210,NOW(),1,1),\n</code></pre>\n"}, {"tags": ["regex", "perl", "escaping"], "comments": [{"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 0, "creation_date": 1424149921, "post_id": 28555040, "comment_id": 45422716, "body": "Remove the ending word boundary and use it inside the group. <code>\\b([a-g])(#|b\\b)</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1424176287, "post_id": 28555040, "comment_id": 45433954, "body": "my ($scale, $mod) = /([a-g]+)([${sharp}b]*)/i;"}], "answers": [{"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 1, "last_activity_date": 1424150011, "creation_date": 1424150011, "answer_id": 28555089, "question_id": 28555040, "link": "https://stackoverflow.com/questions/28555040/finding-hash-marks-using-perl-regex/28555089#28555089", "title": "Finding hash marks (#) using perl regex", "body": "<pre><code>\\b([a-g])(\\#|b|)\\b\n\n                ^^\n</code></pre>\n\n<p>Your <code>\\b</code> at the end is the culprit.After matching <code>a#</code> it looks for <code>\\b</code> which is not there as <code>\\b assert position at a word boundary (^\\w|\\w$|\\W\\w|\\w\\W)</code>.So <code>\\b</code> cannot be found (because <code>#</code> is not a part of <code>\\w</code> so <code>$</code> after <code>#</code> is not a <code>word boundary</code>) and it fails.Remove the last <code>\\b</code> and it works.Or </p>\n\n<p>use</p>\n\n<pre><code>\\b([a-g])(#|b\\b)\n</code></pre>\n\n<p><a href=\"https://www.regex101.com/r/rK5lU1/39\" rel=\"nofollow\">https://www.regex101.com/r/rK5lU1/39</a></p>\n\n<p><code>n</code> was getting matched as <code>n$</code> forms a word boundary and so <code>\\b</code> was getting a match.</p>\n"}, {"tags": [], "owner": {"reputation": 376, "user_id": 995994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c27547c34acef67ce46c577dee734964?s=128&d=identicon&r=PG", "display_name": "jbiz", "link": "https://stackoverflow.com/users/995994/jbiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1424151004, "creation_date": 1424151004, "answer_id": 28555297, "question_id": 28555040, "link": "https://stackoverflow.com/questions/28555040/finding-hash-marks-using-perl-regex/28555297#28555297", "title": "Finding hash marks (#) using perl regex", "body": "<p>This is from <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow\">http://www.regular-expressions.info/wordboundaries.html</a>.</p>\n\n<blockquote>\n  <p>There are three different positions that qualify as word boundaries:</p>\n  \n  <ol>\n  <li>Before the first character in the string, if the first character is\n  a word character.</li>\n  <li>After the last character in the string, if the last character is a word character.</li>\n  <li>Between two characters in the string, where one is a word character\n  and the other is not a word character.</li>\n  </ol>\n</blockquote>\n\n<p>Basically, a # sign is not a word character.</p>\n\n<p>Wihout knowing what your data looks like, the following is only a guess:</p>\n\n<pre><code>([a-gA-G])([#b])(m)?\n</code></pre>\n"}], "owner": {"reputation": 324, "user_id": 4455114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed1156913a76abe510d9d8809279f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron McCluskie", "link": "https://stackoverflow.com/users/4455114/cameron-mccluskie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1424155508, "creation_date": 1424149721, "last_edit_date": 1424155508, "question_id": 28555040, "link": "https://stackoverflow.com/questions/28555040/finding-hash-marks-using-perl-regex", "title": "Finding hash marks (#) using perl regex", "body": "<p>I'm using perl regular expressions to parse a musical chord name, such as <code>E#m</code>. I can't seem to get perl to recognize the <code>#</code>. It also won't work when stored in a string, despite the fact that other characters work fine from the string. I have also tried escaping it with a backslash.</p>\n\n<p>To reiterate:</p>\n\n\n\n<pre><code>my ($scale, $mod, $chord)  = /\\b([a-g])(\\#|b|)\\b/i ;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $sharp = \"#\";\nmy ($scale, $mod, $chord)  = /\\b([a-g])($sharp|b|)\\b/i ;\n</code></pre>\n\n<p>don't work, but</p>\n\n<pre><code>my $sharp = \"n\";\nmy ($scale, $mod, $chord)  = /\\b([a-g])($sharp|b|)\\b/i ;\n</code></pre>\n\n<p>detects <code>n</code></p>\n"}, {"tags": ["perl", "imagemagick"], "answers": [{"comments": [{"owner": {"reputation": 252, "user_id": 3942518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7f88365bd2f2b46d2c308f10969155f0?s=128&d=identicon&r=PG&f=1", "display_name": "Number1", "link": "https://stackoverflow.com/users/3942518/number1"}, "edited": false, "score": 0, "creation_date": 1424202192, "post_id": 28560660, "comment_id": 45449467, "body": "Thank you. I believe that works if you are using the system perl only."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1424171539, "creation_date": 1424171539, "answer_id": 28560660, "question_id": 28554513, "link": "https://stackoverflow.com/questions/28554513/install-perl-imagemagick-on-fedora/28560660#28560660", "title": "Install Perl Image::Magick on Fedora", "body": "<p>The problem is that CPAN doesn't know about non-Perl dependencies.</p>\n\n<p>The Perl Image::Magick module is just a wrapper around a C library. You'll need that library installed before you can build the Perl module.</p>\n\n<pre><code>$ sudo yum install ImageMagick\n</code></pre>\n\n<p>It also probably need ImageMagick's development package.</p>\n\n<pre><code>$ sudo yum install ImageMagick-devel\n</code></pre>\n\n<p>But it's probably easier to just install the RPM version that has already been packaged for Fedora (that will automatically pull in any other requirements).</p>\n\n<pre><code>$ sudo yum install ImageMagick-perl\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 5707644, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/bf67537e2d31983ff816bd14f0d1c8f2?s=128&d=identicon&r=PG", "display_name": "A.T.", "link": "https://stackoverflow.com/users/5707644/a-t"}, "is_accepted": true, "score": 2, "last_activity_date": 1450794807, "creation_date": 1450794807, "answer_id": 34418205, "question_id": 28554513, "link": "https://stackoverflow.com/questions/28554513/install-perl-imagemagick-on-fedora/34418205#34418205", "title": "Install Perl Image::Magick on Fedora", "body": "<p>In Fedora, CentOS, Ubuntu and more there have been this type of challenge in geting Image::Magick to install via the cpan program, and there have been sensitivities about the install-script for Image::Magick for a couple of years, it seems (if one searches around). This is so both for on desktop Linux and, even more so, via Apache cpanel. There are recipies but at least at Ubuntu, they have not been solving all issues. Sometimes, to get it right, one must first do removal of relevant libraries using ImageMagick to reset the links. All the proposed solutions center around installing other things before using 'cpan'. However, the best approach, I find, isn't at all to compile from source but to install the binary ImageMagick application when that is available, and relevant libraries before and after cpan, like this--in Ubuntu, but adapted for Fedora it should be similar or much the same:</p>\n\n<pre><code>sudo apt-get install perlmagick\nsudo apt-get install ImageMagick\nsudo cpan install Image::Magick\nsudo apt-get install libperl-dev\n</code></pre>\n\n<p>For the sake of completeness, if one cannot find the right binary, one must take care to preinstall all relevant libraries as indicated on <a href=\"http://www.imagemagick.org\" rel=\"nofollow\">http://www.imagemagick.org</a> and then this set of commands will replace the line#2 above, when performed after 'sudo -i' (in Ubuntu) or equivalent in Fedora, inside a temporary folder:</p>\n\n<pre><code>wget http://www.imagemagick.org/download/ImageMagick.tar.gz\ntar xvfz ImageMagick.tar.gz\ncd Imag*\n./configure --with-perl\nmake\nmake install\n</code></pre>\n\n<p>When this installation is complete, proceed with line#3 above. Adapt the beginning of the command to the form that fits with other forms of linuxes. After this, a perl program having  <strong>use Image::Magick;</strong>  in its start should be able to do such as resizing of jpg images etc flawlessly.</p>\n"}], "owner": {"reputation": 252, "user_id": 3942518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7f88365bd2f2b46d2c308f10969155f0?s=128&d=identicon&r=PG&f=1", "display_name": "Number1", "link": "https://stackoverflow.com/users/3942518/number1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "accepted_answer_id": 34418205, "answer_count": 2, "score": 1, "last_activity_date": 1450794807, "creation_date": 1424146382, "question_id": 28554513, "link": "https://stackoverflow.com/questions/28554513/install-perl-imagemagick-on-fedora", "title": "Install Perl Image::Magick on Fedora", "body": "<p>I'm installing Image::Magick via cpan and I keep getting this error. I've tried with and without forcing it. I've trimmed the install log. I've read something about missing an ImageMagick.h file but don't exactly know anything other then that. Apparently this has been a common problem since 2007.....</p>\n\n<pre><code>[gandalf@Durmstrang ~]$ cpan -if Image::Magick\n\n\"/usr/bin/perl\" \"/usr/share/perl5/vendor_perl/ExtUtils/xsubpp\"  -typemap \"/usr/share/perl5/ExtUtils/typemap\" -typemap \"typemap\"  Magick.xs &gt; Magick.xsc &amp;&amp; mv Magick.xsc Magick.c\ngcc -c  -I/usr/local/include/ImageMagick-6 -DMAGICKCORE_HDRI_ENABLE=0 -DMAGICKCORE_QUANTUM_DEPTH=16 -I/usr/include/libxml2 -I\"/usr/include/ImageMagick-6\" -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/freetype2 -g -O2 -Wall -pthread -DMAGICKCORE_HDRI_ENABLE=0 -DMAGICKCORE_QUANTUM_DEPTH=16 -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic   -DVERSION=\\\"6.89\\\" -DXS_VERSION=\\\"6.89\\\" -fPIC \"-I/usr/lib64/perl5/CORE\"  -D_LARGE_FILES=1 -DHAVE_CONFIG_H Magick.c\nMagick.xs: In function \u2018XS_Image__Magick_ComplexImages\u2019:\nMagick.xs:3475:5: error: unknown type name \u2018ComplexOperator\u2019\n     ComplexOperator\n     ^\nMagick.xs:3510:8: error: \u2018UndefinedComplexOperator\u2019 undeclared (first use in this function)\n     op=UndefinedComplexOperator;\n        ^\nMagick.xs:3510:8: note: each undeclared identifier is reported only once for each function it appears in\nMagick.xs:3516:31: error: \u2018MagickComplexOptions\u2019 undeclared (first use in this function)\n         in=ParseCommandOption(MagickComplexOptions,MagickFalse,(char *)\n                               ^\nMagick.xs:3524:13: error: \u2018ComplexOperator\u2019 undeclared (first use in this function)\n         op=(ComplexOperator) in;\n             ^\nMagick.xs:3524:30: error: expected \u2018;\u2019 before \u2018in\u2019\n         op=(ComplexOperator) in;\n                              ^\nMagick.xs:3548:38: error: expected \u2018;\u2019 before \u2018in\u2019\n                 op=(ComplexOperator) in;\n                                      ^\nMagick.xs:3563:5: warning: implicit declaration of function \u2018ComplexImages\u2019 [-Wimplicit-function-declaration]\n     image=ComplexImages(image,op,exception);\n     ^\nMagick.xs:3563:10: warning: assignment makes pointer from integer without a cast [enabled by default]\n     image=ComplexImages(image,op,exception);\n          ^\nMagick.xs: In function \u2018XS_Image__Magick_Mogrify\u2019:\nMagick.xs:9824:11: warning: implicit declaration of function \u2018RotationalBlurImageChannel\u2019 [-Wimplicit-function-declaration]\n           image=RotationalBlurImageChannel(image,channel,geometry_info.rho,\n           ^\nMagick.xs:9824:16: warning: assignment makes pointer from integer without a cast [enabled by default]\n           image=RotationalBlurImageChannel(image,channel,geometry_info.rho,\n                ^\nMagick.xs:10895:11: warning: implicit declaration of function \u2018CannyEdgeImage\u2019 [-Wimplicit-function-declaration]\n           image=CannyEdgeImage(image,geometry_info.rho,geometry_info.sigma,\n           ^\nMagick.xs:10895:16: warning: assignment makes pointer from integer without a cast [enabled by default]\n           image=CannyEdgeImage(image,geometry_info.rho,geometry_info.sigma,\n                ^\nMagick.xs:10916:11: warning: implicit declaration of function \u2018HoughLineImage\u2019 [-Wimplicit-function-declaration]\n           image=HoughLineImage(image,(size_t) geometry_info.rho,(size_t)\n           ^\nMagick.xs:10916:16: warning: assignment makes pointer from integer without a cast [enabled by default]\n           image=HoughLineImage(image,(size_t) geometry_info.rho,(size_t)\n                ^\nMagick.xs:10939:11: warning: implicit declaration of function \u2018MeanShiftImage\u2019 [-Wimplicit-function-declaration]\n           image=MeanShiftImage(image,(size_t) geometry_info.rho,(size_t)\n           ^\nMagick.xs:10939:16: warning: assignment makes pointer from integer without a cast [enabled by default]\n           image=MeanShiftImage(image,(size_t) geometry_info.rho,(size_t)\n                ^\nmake: *** [Magick.o] Error 1\n  JCRISTY/PerlMagick-6.89-1.tar.gz\n  /usr/bin/make -- NOT OK\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\n</code></pre>\n"}, {"tags": ["perl", "tk", "vmd"], "answers": [{"tags": [], "owner": {"reputation": 446, "user_id": 1651481, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/cMu22.jpg?s=128&g=1", "display_name": "XuMuK", "link": "https://stackoverflow.com/users/1651481/xumuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1431026862, "creation_date": 1431026862, "answer_id": 30109997, "question_id": 28552225, "link": "https://stackoverflow.com/questions/28552225/using-perl-to-run-vmd-tk-console/30109997#30109997", "title": "Using perl to run vmd tk console", "body": "<p>So, you are trying to do analysis of each trajectory (DCD) file?\nMaybe it is not the best idea, but to separately each frame as PDB and make analysis of every PDB file? \nIt won't require too powerful PC.\nSo, if supercomputer can run VMD (it has to run it for DCD file analysis), so it will be possible to run TCL scripts.</p>\n\n<blockquote>\n  <p>MD provides embedded scripting languages (Python and Tcl) for the purpose of user extensibility.</p>\n</blockquote>\n\n<p><a href=\"http://www.ks.uiuc.edu/Training/Tutorials/vmd/tutorial-html/node4.html\" rel=\"nofollow\">Source</a></p>\n"}], "owner": {"reputation": 49, "user_id": 2931936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b6f500aaa9ab78e0beaa477be3b676?s=128&d=identicon&r=PG&f=1", "display_name": "Heather Lynn", "link": "https://stackoverflow.com/users/2931936/heather-lynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1431026862, "creation_date": 1424129692, "question_id": 28552225, "link": "https://stackoverflow.com/questions/28552225/using-perl-to-run-vmd-tk-console", "title": "Using perl to run vmd tk console", "body": "<p>Hey all for a program I am working on it uses pdb (protein data bank) files and computes the distance between all atoms from one another. I have a code that does this, however my personal and work computers don't have enough computing power to fully execute the program without crashing the program I run it in (VMD- Visual Molecular Dynamics). I do however have access to a supercomputer, but it only runs perl scripts. The code is written for the VMD extension TK console. Is there a way that I can use perl to execute my tk console code? below is the code:</p>\n\n<pre><code>set seg1 [atomselect top \"segname LA0 and name CA\"]\nset seg2 [atomselect top \"segname RA0 and name CA\"]\n\nset file [open \"Contact_map27.dat\" w]\n\nset list1 [$seg1 get index]\nset list2 [$seg2 get index]\n\nforeach atom1 $list1 {\n       foreach atom2 $list2 {\n            set index1 [atomselect top \"index $atom1\"]\n            set index2 [atomselect top \"index $atom2\"]\n            set resid1 [[atomselect top \"index $atom1\"] get resid]\n            set resid2 [[atomselect top \"index $atom2\"] get resid]\n            set resnm1 [[atomselect top \"index $atom1\"] get resname]\n            set resnm2 [[atomselect top \"index $atom2\"] get resname]\n puts $file \"$resnm1 $resid1 $resnm2 $resid2 [veclength [vecsub [measure center $index1] [measure center $index2]]]\"\n            $index1 delete\n            $index2 delete\n    }\n}\n\nclose $file\n</code></pre>\n\n<p>This does the computation on the pdb file that is loaded into VMD. Any help or suggestions would be much appreciated. </p>\n"}, {"tags": ["perl", "hash"], "answers": [{"tags": [], "owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "is_accepted": false, "score": 2, "last_activity_date": 1424129422, "creation_date": 1424129422, "answer_id": 28552170, "question_id": 28552042, "link": "https://stackoverflow.com/questions/28552042/sort-in-an-object/28552170#28552170", "title": "Sort in an object", "body": "<p>You're not actually using <code>$self-&gt;point_sort</code> as a comparison function here.  It's being <em>called</em> immediately (with no arguments and before <code>$a</code> and <code>$b</code> are set, hence the error), and its return value (if it got that far) would then be used as the comparator.</p>\n\n<p>The easiest fix is to pass <code>$a</code> and <code>$b</code> explicitly:</p>\n\n<pre><code>my @slist = sort { $self-&gt;point_sort($a, $b) } @{$self-&gt;{list}};\n</code></pre>\n\n<p>Then receive them as regular arguments in <code>point_sort</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1424129896, "creation_date": 1424129896, "answer_id": 28552262, "question_id": 28552042, "link": "https://stackoverflow.com/questions/28552042/sort-in-an-object/28552262#28552262", "title": "Sort in an object", "body": "<p>The syntax of <code>sort</code> are:</p>\n\n<pre><code>sort SUBNAME LIST   # Sort the list using named function as the comparison function\nsort BLOCK LIST     # Sort the list using the block as the comparison function\nsort LIST           # Sort the list using the default comparison function.\n</code></pre>\n\n<p>You want <code>$self-&gt;point_sort</code> to be used as the comparison function, but you used the third syntax rather than one of the two that allows you to specify a comparison function.</p>\n\n<p>Perhaps you want</p>\n\n<pre><code>sort { $self-&gt;point_sort($a, $b) } @{ $self-&gt;{list} }\n</code></pre>\n\n<p>is clear n</p>\n"}], "owner": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1424157343, "creation_date": 1424128659, "last_edit_date": 1424157343, "question_id": 28552042, "link": "https://stackoverflow.com/questions/28552042/sort-in-an-object", "title": "Sort in an object", "body": "<p>I have an object ($p), and in the initialization I have <code>$this-&gt;{list} = [];</code></p>\n\n<p>Later, I fill up the array with objects of another class (q), and can access them as <code>@{$self{list}}</code> in another subroutine in class [p]. I am trying to sort this array, as</p>\n\n<pre><code>my @slist = sort $self-&gt;point_sort, @{$self-&gt;{list}};\n</code></pre>\n\n<p><code>point_sort</code> is defined as a subroutine in class p, and I am getting</p>\n\n<pre><code>Can't call method \"getQval\" on an undefined value at p.pm line 64\n</code></pre>\n\n<p><code>getQval</code> is a subroutine defined in object q, instances of which populate the <code>{list}</code>. I am trying to do</p>\n\n<pre><code>my $v1 = $a-&gt;getQval;\nmy $v2 = $b-&gt;getQval;\n</code></pre>\n\n<p>in the subroutine <code>point_sort</code>. Any suggestions? TIA.</p>\n\n<p>Edit:\nChanged the call to</p>\n\n<pre><code>my @slist = sort { $self-&gt;point_sort ($a,$b) } @{$self-&gt;{list}};\n</code></pre>\n\n<p>In point_sort, I have now</p>\n\n<pre><code>my ($c, $d) = @_;\nmy $val1 = $c-&gt;getVarVal;\n</code></pre>\n\n<p>The error: </p>\n\n<pre><code>Can't locate object method \"getVarVal\" via package \"packageP\" at ...\n</code></pre>\n\n<p>I think it has something to do with packages, not sure what it is. It is looking in package p, whereas I want it to look at package q.</p>\n\n<p>Edit:\nI did a <code>print</code> on <code>$c</code> above - perl thinks it is an object of class p - a hashtable</p>\n"}, {"tags": ["regex", "perl", "unix", "awk", "sed"], "comments": [{"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 0, "creation_date": 1424160043, "post_id": 28551617, "comment_id": 45426319, "body": "can we assume that there is no <code>|</code> in content or there are maybe escaped or we should take internal pipe into account and in this case or are they presented ?"}, {"owner": {"reputation": 10152, "user_id": 2229272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oisED.png?s=128&g=1", "display_name": "jas", "link": "https://stackoverflow.com/users/2229272/jas"}, "edited": false, "score": 0, "creation_date": 1424164151, "post_id": 28551617, "comment_id": 45428284, "body": "I&#39;m not sure you really need to do anything. If you open such a file in Excel and say it&#39;s delimited, checking the &quot;other&quot; option in the list of possible delimiters and setting the value to the | character, it shouldn&#39;t matter that there are commas."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4573391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T5lK6.jpg?s=128&g=1", "display_name": "longhorndkr", "link": "https://stackoverflow.com/users/4573391/longhorndkr"}, "edited": false, "score": 0, "creation_date": 1424198113, "post_id": 28551937, "comment_id": 45447250, "body": "Thanks Toby (just would prefer one liner for my bad memory...)."}], "tags": [], "owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "is_accepted": false, "score": 2, "last_activity_date": 1424133526, "last_edit_date": 1424133526, "creation_date": 1424128152, "answer_id": 28551937, "question_id": 28551617, "link": "https://stackoverflow.com/questions/28551617/awk-sed-help-how-do-i-find-columns-that-contain-a-comma-and-then-double-quote/28551937#28551937", "title": "awk/sed help - how do I find columns that contain a comma and then double-quote them?", "body": "<p>The following Perl script will do it, just save the script, and then pipe the file into it:</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nwhile (my $line = &lt;STDIN&gt;) {\n    chomp $line;\n    my @out;\n    foreach (split /\\|/, $line) {\n        $_ = qq(\"$_\") if (/,/);\n        push @out, $_;\n    }\n    print join \"|\", @out, \"\\n\";\n}\n</code></pre>\n\n<p>You could probably make this into a single line of Perl, but it's much easier to read this way.</p>\n"}, {"comments": [{"owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "edited": false, "score": 0, "creation_date": 1424153167, "post_id": 28552386, "comment_id": 45423680, "body": "Use <code>-r</code> in <code>sed</code> so you do not need to escape all the <code>()</code>"}, {"owner": {"reputation": 21, "user_id": 4573391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T5lK6.jpg?s=128&g=1", "display_name": "longhorndkr", "link": "https://stackoverflow.com/users/4573391/longhorndkr"}, "edited": false, "score": 0, "creation_date": 1424197954, "post_id": 28552386, "comment_id": 45447159, "body": "Thank you Xorg!!  FYI, the awk works but the sed looks like has one misprint, places the quote outside the 2nd &#39;|&#39; :  |915|5557683||&quot;DOE, JOHN|&quot;|2014-01-13|"}, {"owner": {"reputation": 7503, "user_id": 3874768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/nmQTg.jpg?s=128&g=1", "display_name": "repzero", "link": "https://stackoverflow.com/users/3874768/repzero"}, "edited": false, "score": 0, "creation_date": 1424206867, "post_id": 28552386, "comment_id": 45451928, "body": "Answer edited to fix a small change....the sed command should work as expected now"}], "tags": [], "owner": {"reputation": 7503, "user_id": 3874768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/nmQTg.jpg?s=128&g=1", "display_name": "repzero", "link": "https://stackoverflow.com/users/3874768/repzero"}, "is_accepted": false, "score": 3, "last_activity_date": 1424206809, "last_edit_date": 1424206809, "creation_date": 1424130738, "answer_id": 28552386, "question_id": 28551617, "link": "https://stackoverflow.com/questions/28551617/awk-sed-help-how-do-i-find-columns-that-contain-a-comma-and-then-double-quote/28552386#28552386", "title": "awk/sed help - how do I find columns that contain a comma and then double-quote them?", "body": "<p><strong>Using awk</strong>    </p>\n\n<pre><code>awk -F '|' -v OFS='|' '{for(i=1;i&lt;=NF;++i){if($i~/,/){$i=\"\\\"\"$i\"\\\"\"}};print}' file\n</code></pre>\n\n<p>example</p>\n\n<pre><code>echo \"MSH|^~\\&amp;|IMT7||EXSCH|384^SCH|20150202082830||MFN^M02|RYAN, NOLAN|P|2.2|Last|First|DOE, JOHN|...\"|awk -F '|' -v OFS='|' '{for(i=1;i&lt;=NF;++i){if($i~/,/){$i=\"\\\"\"$i\"\\\"\"}};print}'\n</code></pre>\n\n<p>results</p>\n\n<pre><code>MSH|^~\\&amp;|IMT7||EXSCH|384^SCH|20150202082830||MFN^M02|\"RYAN, NOLAN\"|P|2.2|Last|First|\"DOE, JOHN\"|...\n</code></pre>\n\n<p><strong>using a sed approach</strong></p>\n\n<pre><code>sed  's/|\\([^|]\\+,[^|]\\+\\)|/|\"\\1\"|/g' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4573391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T5lK6.jpg?s=128&g=1", "display_name": "longhorndkr", "link": "https://stackoverflow.com/users/4573391/longhorndkr"}, "edited": false, "score": 0, "creation_date": 1424198017, "post_id": 28554768, "comment_id": 45447194, "body": "A.M.D., the sed -r is a thing of beauty, thank you for that as well as the explanation!"}, {"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "edited": false, "score": 0, "creation_date": 1424219974, "post_id": 28554768, "comment_id": 45457309, "body": "There is no need for the parens as you are already using <code>&amp;</code>. Also following the <code>,</code> any character other than a <code>|</code> is permissible."}], "tags": [], "owner": {"reputation": 5027, "user_id": 2290847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XjQRo.jpg?s=128&g=1", "display_name": "Arjun Mathew Dan", "link": "https://stackoverflow.com/users/2290847/arjun-mathew-dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1424148229, "creation_date": 1424148229, "answer_id": 28554768, "question_id": 28551617, "link": "https://stackoverflow.com/questions/28551617/awk-sed-help-how-do-i-find-columns-that-contain-a-comma-and-then-double-quote/28554768#28554768", "title": "awk/sed help - how do I find columns that contain a comma and then double-quote them?", "body": "<p>With <strong>sed</strong>:</p>\n\n<pre><code>sed 's/\\([^,|]*,[^,|]*\\)/\"&amp;\"/g' File\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sed -r 's/([^,|]*,[^,|]*)/\"&amp;\"/g' File\n</code></pre>\n\n<p>Surround every pattern matching the criteria (<code>sequence of non-, &amp; non-| characters followed by , followed by sequence of non-, &amp; non-| characters</code>) with <code>\"</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4573391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T5lK6.jpg?s=128&g=1", "display_name": "longhorndkr", "link": "https://stackoverflow.com/users/4573391/longhorndkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1424206809, "creation_date": 1424126328, "last_edit_date": 1424130340, "question_id": 28551617, "link": "https://stackoverflow.com/questions/28551617/awk-sed-help-how-do-i-find-columns-that-contain-a-comma-and-then-double-quote", "title": "awk/sed help - how do I find columns that contain a comma and then double-quote them?", "body": "<p>I've searched the archives but cannot find this particular question and am having trouble piecing together awk parts to come up with an answer.  I have a Unix file with about a dozen columns delimited by pipes. I would like to take this delimited file, convert it to .csv and automate mailing it to staff to open in Excel.  My problem is that some of the columns have commas inside them (Ex: |RYAN, NOLAN| which makes conversion to .csv problematic.  </p>\n\n<p>Does anyone know a way in awk/sed/perl that will find the columns in which a comma exists (there could be multiple instances within a single row) and enclose each of those columns with double-quotes, which will allow Excel to properly open just a single column?</p>\n\n<p>Ex dataset:</p>\n\n<pre><code>MSH|^~\\&amp;|IMT7||EXSCH|384^SCH|20150202082830||MFN^M02|RYAN, NOLAN|P|2.2|Last|First|DOE, JOHN|...\n</code></pre>\n\n<p>I would like the above to become:</p>\n\n<pre><code>MSH|^~\\&amp;|IMT7||EXSCH|384^SCH|20150202082830||MFN^M02|\"RYAN, NOLAN\"|P|2.2|Last|First|\"DOE, JOHN\"|...\n</code></pre>\n\n<p>Thank you gurus in advance!\nDave</p>\n"}, {"tags": ["perl", "scope"], "answers": [{"comments": [{"owner": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "edited": false, "score": 0, "creation_date": 1424121827, "post_id": 28550562, "comment_id": 45414243, "body": "So the variables are redefined repeatedly and subroutines are not compiled repeatedly. This is not a coherent behavior, but surely it explains the phenomena. Thanks."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "edited": false, "score": 0, "creation_date": 1424122011, "post_id": 28550562, "comment_id": 45414318, "body": "It is very coherent behavior when you realize <code>perl</code> goes through <a href=\"http://modernperlbooks.com/mt/2009/08/how-a-perl-5-program-works.html\" rel=\"nofollow noreferrer\">a compile stage, and a run time stage</a>. <code>%seen</code> is a lexical variable. Also, variables are not <i>re-defined</i> repeatedly. Everything is compiled once."}, {"owner": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "edited": false, "score": 0, "creation_date": 1424122383, "post_id": 28550562, "comment_id": 45414502, "body": "Thanks a lot for posting the correct solution and not only explaining the problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "edited": false, "score": 1, "creation_date": 1424123087, "post_id": 28550562, "comment_id": 45414836, "body": "@jutky: The distinction is not between definitions, but <i>declarations</i>. <code>%seen</code> is local to the enclosing block, but <code>testUnique</code> (which should properly be called <code>test_unique</code>) is global, in common with most languages, and it is misleading to define it within a subsidiary block. Sinan has shown how to redefine a subroutine within a block if that is what you want to do."}, {"owner": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1424123365, "post_id": 28550562, "comment_id": 45414961, "body": "@Borodin but I can&#39;t call <code>testUnique</code> outside of the loop, so it is not quite global. (I came from Java, hence the naming convention ;) )"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "edited": false, "score": 0, "creation_date": 1424123446, "post_id": 28550562, "comment_id": 45414992, "body": "@jutky: Yes, you can. Try it. And Perl is no more Java than it is Lua."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "reply_to_user": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "edited": false, "score": 0, "creation_date": 1424124917, "post_id": 28550562, "comment_id": 45415679, "body": "@jutky I can confirm what Borodin is saying. Calling it from anywhere in the file works fine. If you&#39;re not getting the output you expect, it may be because of some typo near the call."}, {"owner": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1424126130, "post_id": 28550562, "comment_id": 45416172, "body": "@AKHolland Hm, in my example, if I call to <code>testUnique</code> after the loop, I always get false. But when I change it&#39;s body to <code>my $x = shift; return !$seen{$x}++;</code> it works correctly."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 4, "last_activity_date": 1424122183, "last_edit_date": 1424122183, "creation_date": 1424121672, "answer_id": 28550562, "question_id": 28550513, "link": "https://stackoverflow.com/questions/28550513/perl-variables-scoping/28550562#28550562", "title": "Perl variables scoping", "body": "<p>Your <code>testUnique</code> sub closes over the first instance of <code>%seen</code>. Even though it is inside the <code>for</code> loop, the subroutine does not get compiled repeatedly.</p>\n\n<p>Your code is compiled once, including the part that says <em>initialize a lexically scoped variable <code>%hash</code> right at the top of the <code>for</code> loop</em>.</p>\n\n<p>The following will produce the output you want, but I am not sure I see are going down this path:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nfor (0..1){\n    my %seen;\n    my $tester = sub {\n        return !$seen{shift}++;\n    };\n\n    print $tester-&gt;(1) ? \"unique\\n\" : \"not unique\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 2, "creation_date": 1424122301, "post_id": 28550644, "comment_id": 45414464, "body": "This answer is best. It demonstrates the closure created by the <code>for</code> loop nicely."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1429624875, "post_id": 28550644, "comment_id": 47679171, "body": "++ For further homework this can be compared with<code>my $test_unique = sub { print &quot;Testing &quot; . \\%seen . &quot;\\n&quot;; return ! $seen{shift()} ++;}</code>; and <code>if ( $test_unique-&gt;($num) ) {say &quot;you neat&quot;}</code> <i>etc.</i> to further explain difference with anonymous subroutines."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1429624879, "post_id": 28550644, "comment_id": 47679173, "body": "On <code>CODE</code> refs see: <a href=\"http://stackoverflow.com/q/834590/2019415\">Why would I use Perl anonymous subroutines instead of a named one?</a>"}], "tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": false, "score": 3, "last_activity_date": 1424121988, "creation_date": 1424121988, "answer_id": 28550644, "question_id": 28550513, "link": "https://stackoverflow.com/questions/28550513/perl-variables-scoping/28550644#28550644", "title": "Perl variables scoping", "body": "<p>The subroutine can only be defined once, and isn't re-created for each iteration of the loop. As a result, it only holds a reference to the initial <code>%seen</code> hash. Adding some output helps to clarify this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nfor(0 .. 1) {\n    my %seen = ();\n    print \"Just created \" . \\%seen . \"\\n\";\n\n    sub testUnique {\n        print \"Testing \" . \\%seen . \"\\n\";\n        return ! $seen{shift} ++;\n    }\n\n    if(testUnique(1)) {\n        print \"unique\\n\";\n    }\n    else {\n        print \"non-unique\\n\";\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Just created HASH(0x994fc18)\nTesting HASH(0x994fc18)\nunique\nJust created HASH(0x993f048)\nTesting HASH(0x994fc18)\nnon-unique\n</code></pre>\n\n<p>Here it can be seen that the initial hash is the only one tested.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1424213864, "last_edit_date": 1424213864, "creation_date": 1424129062, "answer_id": 28552112, "question_id": 28550513, "link": "https://stackoverflow.com/questions/28550513/perl-variables-scoping/28552112#28552112", "title": "Perl variables scoping", "body": "<p>Welcome to the world of closures.</p>\n\n<pre><code>sub make_closure {\n    my $counter = 0;\n    return sub { return ++$counter };\n}\n\nmy $counter1 = make_closure();\nmy $counter2 = make_closure();\n\nsay $counter1-&gt;();  # 1\nsay $counter1-&gt;();  # 2\nsay $counter1-&gt;();  # 3\nsay $counter2-&gt;();  # 1\nsay $counter2-&gt;();  # 2\nsay $counter1-&gt;();  # 4\n</code></pre>\n\n<p><code>sub { }</code> captures lexical variables that are in scope, giving the sub access to them even when the scope in which they exist is gone.</p>\n\n<p>You use this ability every day without knowing it.</p>\n\n<pre><code> my $foo = ...;\n sub print_foo { print \"$foo\\n\"; }\n</code></pre>\n\n<p>If subs didn't capture, the above wouldn't work in a module since the file's lexical scope is normally exited before any of the functions in the module are called.</p>\n\n<p>Not only does <code>print_foo</code> need to capture <code>$foo</code> for the above to work, it must do so when it's compiled.</p>\n\n<pre><code>sub testUnique {\n    return !$seen{shift}++;\n}\n</code></pre>\n\n<p>is basically the same thing</p>\n\n<pre><code>BEGIN {\n    *testUnique = sub {\n        return !$seen{shift}++;\n    };\n}\n</code></pre>\n\n<p>which means that <code>sub { }</code> is executed at compile time, which means it captures <code>%seen</code> that existed <em>at compile time</em>, meaning before the loop has even started.</p>\n\n<p>The first pass of the loop will use that same <code>%seen</code>, but a new <code>%seen</code> will be created for each subsequent pass to allow things like</p>\n\n<pre><code>my @outer;\nfor (...) {\n   my @inner = ...;\n   push @outer, \\@inner;\n}\n</code></pre>\n\n<p>If you executed the <code>sub { }</code> at run-time, there'd be no problem.</p>\n\n<pre><code>for (0..1){\n    my %seen;\n    local *testUnique = sub {\n        return !$seen{shift}++;\n    };\n\n    my $res = testUnique(1);\n\n    if($res){\n        print \"unique\\n\";\n    }else{\n        print \"non-unique\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3736, "user_id": 188264, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c59f9b050c7f083bc492556ce1d58498?s=128&d=identicon&r=PG", "display_name": "jutky", "link": "https://stackoverflow.com/users/188264/jutky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 28550562, "answer_count": 3, "score": 2, "last_activity_date": 1476126693, "creation_date": 1424121492, "last_edit_date": 1495541963, "question_id": 28550513, "link": "https://stackoverflow.com/questions/28550513/perl-variables-scoping", "title": "Perl variables scoping", "body": "<p>I wanted to remove duplicate values from an array with <a href=\"https://stackoverflow.com/a/4004912/188264\">this</a> approach. The duplicates removal have to be executed inside a loop.\nHere is a minimal example that demonstrates the problem that I encountered:</p>\n\n<pre><code>use strict;\n\nfor (0..1){\n    my %seen;\n    sub testUnique{\n        return !$seen{shift}++;\n    }\n\n    my $res = testUnique(1);\n\n    if($res){\n        print \"unique\\n\";\n    }else{\n        print \"non-unique\\n\";\n    }\n}\n</code></pre>\n\n<p>I define the <code>%seen</code> hash inside a loop, so I would expect it to be defined only during a single iteration of the loop.\nThe result of the above code is however:</p>\n\n<pre><code>unique\nnon-unique\n</code></pre>\n\n<p>With some debug prints, I found out that the value of <code>%seen</code> is preserved from one iteration to another.</p>\n\n<p>I tried a trivial</p>\n\n<pre><code>for (0..1){\n    my %seen;\n    $seen{1}++;\n    print \"$seen{1}\\n\";\n}\n</code></pre>\n\n<p>And this one worked as expected. It printed:</p>\n\n<pre><code>1\n1\n</code></pre>\n\n<p>So, I guess the problem is with inner function <code>testUnique</code>.\nCan somebody explain me what is going on here?</p>\n"}, {"tags": ["xml", "perl"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3837008, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000363476591/picture?type=large", "display_name": "Slim Baccar", "link": "https://stackoverflow.com/users/3837008/slim-baccar"}, "edited": false, "score": 0, "creation_date": 1424161272, "post_id": 28550791, "comment_id": 45426896, "body": "I test your code normolly i got OK in output but i got nothing"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21, "user_id": 3837008, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000363476591/picture?type=large", "display_name": "Slim Baccar", "link": "https://stackoverflow.com/users/3837008/slim-baccar"}, "edited": false, "score": 0, "creation_date": 1424162091, "post_id": 28550791, "comment_id": 45427289, "body": "I did test and run the code I gave. It works with the sample input, printing &quot;SendUnitaryResponse&quot;"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1424124335, "last_edit_date": 1424124335, "creation_date": 1424122679, "answer_id": 28550791, "question_id": 28550363, "link": "https://stackoverflow.com/questions/28550363/perl-script-to-parse-xml-using-xmlsimple/28550791#28550791", "title": "Perl script to parse XML using XML::Simple", "body": "<p><code>XML::Simple</code> - isn't. It's for simple XML. </p>\n\n<p>In it's documentation it says:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces.</p>\n</blockquote>\n\n<p>Instead, I like <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> (other options exist):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig; \n\nmy $xml = q{&lt;response&gt;\n  &lt;response-name&gt;SendUnitaryResponse&lt;/response-name&gt;\n    &lt;params&gt;\n        &lt;request-status&gt;OK&lt;/request-status&gt;\n        &lt;unitary-request-id&gt;B4004A3E&lt;/unitary-request-id&gt;\n    &lt;/params&gt;\n&lt;/response&gt;};\n\nmy $twig_parser = XML::Twig -&gt; new -&gt; parse ( $xml );\n#in XML::Twig - root is the 'top' node, e.g. &lt;response&gt; in this case. \nprint $twig_parser -&gt; root -&gt; first_child_text('response-name');\n</code></pre>\n\n<p>This also works if you give it a filename:</p>\n\n<pre><code>my $twig_parser = XML::Twig -&gt; new -&gt; parsefile ( 'C:\\Users\\myuser\\Documents\\test.xml' );\nprint $twig_parser -&gt; root -&gt; first_child_text('response-name');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "is_accepted": false, "score": 3, "last_activity_date": 1424124326, "creation_date": 1424124326, "answer_id": 28551174, "question_id": 28550363, "link": "https://stackoverflow.com/questions/28550363/perl-script-to-parse-xml-using-xmlsimple/28551174#28551174", "title": "Perl script to parse XML using XML::Simple", "body": "<p>As Sobrique points out, XML::Simple isn't that simple.  In this case, it removes the root element (<code>&lt;response&gt;</code>), which is why your print statement fails.  You can either change your print:</p>\n\n<pre><code>print $access-&gt;{response-name};\n</code></pre>\n\n<p>...or tell XML::Simple to keep the root element:</p>\n\n<pre><code>my $access = XMLin('C:/Users/s.baccar/Desktop/access.log', KeepRoot =&gt; 1);\n</code></pre>\n\n<p>...or best of all, use a different module.</p>\n"}, {"tags": [], "owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "is_accepted": false, "score": 1, "last_activity_date": 1424139631, "creation_date": 1424139631, "answer_id": 28553652, "question_id": 28550363, "link": "https://stackoverflow.com/questions/28550363/perl-script-to-parse-xml-using-xmlsimple/28553652#28553652", "title": "Perl script to parse XML using XML::Simple", "body": "<p>In addition to what other people have said, please <code>use strict;</code> ( and <code>use warnings;</code> )</p>\n\n<p>If I add those to your script, I get:</p>\n\n<pre><code>Bareword \"response\" not allowed while \"strict subs\" in use at x.pl line 8.\nBareword \"name\" not allowed while \"strict subs\" in use at x.pl line 8.\n</code></pre>\n\n<p>( Note that line 8 is <code>print $access-&gt;{response}-&gt;{response-name};</code> )</p>\n\n<p>That line is effectively being turned into <code>print $access-&gt;{response}-&gt;{0};</code></p>\n\n<p>You need to use <code>'response-name'</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 3837008, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000363476591/picture?type=large", "display_name": "Slim Baccar", "link": "https://stackoverflow.com/users/3837008/slim-baccar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1424139631, "creation_date": 1424120891, "last_edit_date": 1424126405, "question_id": 28550363, "link": "https://stackoverflow.com/questions/28550363/perl-script-to-parse-xml-using-xmlsimple", "title": "Perl script to parse XML using XML::Simple", "body": "<p>I am trying to parse the following XML. The problem is I get nothing in the output:</p>\n\n<p>XML file:</p>\n\n<pre><code>&lt;response&gt;\n  &lt;response-name&gt;SendUnitaryResponse&lt;/response-name&gt;\n    &lt;params&gt;\n        &lt;request-status&gt;OK&lt;/request-status&gt;\n        &lt;unitary-request-id&gt;B4004A3E&lt;/unitary-request-id&gt;\n    &lt;/params&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>use XML::Simple;\nuse Data::Dumper;\nmy $access = XMLin('C:\\Users\\s.baccar\\Desktop\\access.log');\nprint $access-&gt;{response}-&gt;{response-name};\n</code></pre>\n"}, {"tags": ["perl", "cgi", "lighttpd"], "comments": [{"owner": {"reputation": 597, "user_id": 3329922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5a259202daf0fdbe0defbcf192771f38?s=128&d=identicon&r=PG&f=1", "display_name": "Tony B", "link": "https://stackoverflow.com/users/3329922/tony-b"}, "edited": false, "score": 0, "creation_date": 1544040858, "post_id": 28549684, "comment_id": 94139514, "body": "you ever solve this?"}], "owner": {"reputation": 31, "user_id": 3264150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d10fa59d494e630ce3a005e124a04e?s=128&d=identicon&r=PG&f=1", "display_name": "user3264150", "link": "https://stackoverflow.com/users/3264150/user3264150"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1424155572, "creation_date": 1424118094, "last_edit_date": 1424155572, "question_id": 28549684, "link": "https://stackoverflow.com/questions/28549684/unable-to-establish-connection-from-cgi-using-emailsendertransportsmtp", "title": "unable to establish connection from cgi using Email::Sender::Transport::SMTP", "body": "<p>I've tried to send message via <code>Email::Sender::Transport::SMTP</code>. Everything ok when I do it with a standalone script like this:</p>\n\n<pre><code>my $transport = Email::Sender::Transport::SMTP-&gt;new({\n  host =&gt; ...,\n  ssl =&gt;1,\n  port =&gt; 465,\n  localport =&gt; 10000,\n  sasl_username =&gt; '...',\n  sasl_password =&gt; '...',\n});\n\nmy $email = Email::Simple-&gt;create(\n  header =&gt; [\n    To      =&gt; '...',\n    From    =&gt; '...',\n    Subject =&gt; '...',\n  ],\n  body =&gt; \"message\",\n);\n\neval {sendmail($email, { transport =&gt; $transport })};\n</code></pre>\n\n<p>But when I try to execute it as cgi (on lighttpd server), I receive the error <code>unable to establish SMTP connection</code>.. Is this trouble of lighttpd? Any ideas are very welcome! Thanks in advance, people!</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 1, "creation_date": 1424117976, "post_id": 28549472, "comment_id": 45412304, "body": "Using <code>cpanm -v ...</code> may provide some clues"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1424118769, "post_id": 28549472, "comment_id": 45412669, "body": "Please show the full output of the installation (as <code>cpan Data::Show</code> would do). Presumably nothing was changed was for some reason"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1424118859, "post_id": 28549472, "comment_id": 45412726, "body": "Also, <code>perl -E&#39;use Data::Show; say &quot;&lt;$Data::Show::VERSION&gt;&quot;&#39;</code>?"}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 2, "creation_date": 1424119065, "post_id": 28549472, "comment_id": 45412833, "body": "What I&#39;d hoped for was the result of <code>cpanm -v Data::Show</code>. And since you&#39;re using <code>perlbrew</code> can you confirm that you are using <code>cpanm</code> from within <i>that</i> install (e.g. <code>which cpanm</code>). If not, <code>cpan -i App::cpanminus</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1424130197, "post_id": 28549472, "comment_id": 45417555, "body": "Or you know, just use <code>cpan</code>. Hard to forget to install that one since it comes with Perl, and it doesn&#39;t hide relevant diagnostics."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1424177943, "post_id": 28549472, "comment_id": 45434889, "body": "@BenGrimm Thanks so much for your great troubleshooting ideas!"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424177963, "post_id": 28549472, "comment_id": 45434902, "body": "@ikegami Thanks so much for your great troubleshooting ideas!"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1424194293, "post_id": 28562034, "comment_id": 45445089, "body": "Sounds like something is telling <code>cpanm</code> or Module::Build to install into the wrong location. Looks like this <code>cpanm</code> can&#39;t be configured, so maybe one of Module::Build&#39;s env var: <code>PERL_MB_OPT</code> and <code>MODULEBUILDRC</code>."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1424195482, "post_id": 28562034, "comment_id": 45445785, "body": "@ikegami That&#39;s it. Could you please post that as an answer so that I can accept it? Thanks!"}], "tags": [], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "is_accepted": false, "score": 1, "last_activity_date": 1424714371, "last_edit_date": 1424714371, "creation_date": 1424177736, "answer_id": 28562034, "question_id": 28549472, "link": "https://stackoverflow.com/questions/28549472/with-cpan-and-cpanm-why-are-some-modules-recognized-as-already-up-to-date-but/28562034#28562034", "title": "With cpan and cpanm, why are some modules recognized as already up-to-date, but others are re-installed every time despite being up-to-date?", "body": "<p>It looks like my problem was that Build.PL files are not working for some reason. When I saw that <code>Data::Show</code> comes with both a <code>Build.PL</code> file and a <code>Makefile.PL</code>, I tried installing it manually using the Makefile and then it installed:</p>\n\n<pre><code>perl Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for Data::Show\nWriting MYMETA.yml and MYMETA.json\n$ make\ncp lib/Data/Show.pm blib/lib/Data/Show.pm\nManifying blib/man3/Data::Show.3\n$ make install\nInstalling /home/username/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Data/Show.pm\nInstalling /home/username/perl5/perlbrew/perls/perl-5.20.1/man/man3/Data::Show.3\nAppending installation info to /home/username/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/x86_64-linux/perllocal.pod\n$ cpanm Data::Show\nData::Show is up to date. (0.002002)\n</code></pre>\n"}], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1424714624, "creation_date": 1424117218, "last_edit_date": 1424714624, "question_id": 28549472, "link": "https://stackoverflow.com/questions/28549472/with-cpan-and-cpanm-why-are-some-modules-recognized-as-already-up-to-date-but", "title": "With cpan and cpanm, why are some modules recognized as already up-to-date, but others are re-installed every time despite being up-to-date?", "body": "<p>UPDATE:</p>\n\n<p>One difference I found was that Data::Show uses Module::Build, while Data::Dumper uses a Build file (using vimdiff):</p>\n\n<p><img src=\"https://i.stack.imgur.com/jtkOM.png\" alt=\"vimdiff shows that Data::Dumper uses a Makefile, while Data::Show uses a Build file.\"></p>\n\n<hr>\n\n<p>I've noticed that with cpan and cpanm, some modules are not reinstalled when there isn't a newer version, but others are reinstalled every time. I don't have anything in my <code>PERL5LIB</code> variable and my <code>@INC</code> includes all the right paths. I am using perlbrew, but I think that I had similar problems using a custom-built perl:</p>\n\n<pre><code>  %ENV:\n    PERLBREW_BASHRC_VERSION=\"0.73\"\n    PERLBREW_HOME=\"/home/username/.perlbrew\"\n    PERLBREW_MANPATH=\"/home/username/perl5/perlbrew/perls/perl-5.20.1/man\"\n    PERLBREW_PATH=\"/home/username/perl5/perlbrew/bin:/home/user/perl5/perlbrew/perls/perl-5.20.1/bin\"\n    PERLBREW_PERL=\"perl-5.20.1\"\n    PERLBREW_ROOT=\"/home/username/perl5/perlbrew\"\n    PERLBREW_VERSION=\"0.73\"\n    PERLDEV=\"/share/data/username/Perl5\"\n  @INC:\n    /home/username/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/x86_64-linux\n    /home/username/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1\n    /home/username/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/x86_64-linux\n    /home/username/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1\n</code></pre>\n\n<p><code>Data::Dumper</code> doesn't get reinstalled when there isn't a newer version:</p>\n\n<pre><code>cpanm Data::Dumper\nData::Dumper is up to date. (2.154)\n</code></pre>\n\n<p>However, <code>Data::Show</code> gets reinstalled every time:</p>\n\n<pre><code>$ cpanm Data::Show\n--&gt; Working on Data::Show\nFetching http://www.cpan.org/authors/id/D/DC/DCONWAY/Data-Show-0.002002.tar.gz ... OK\nConfiguring Data-Show-0.002002 ... OK\nBuilding and testing Data-Show-0.002002 ... OK\nSuccessfully installed Data-Show-0.002002\n1 distribution installed\n\n$ cpanm Data::Show\n--&gt; Working on Data::Show\nFetching http://www.cpan.org/authors/id/D/DC/DCONWAY/Data-Show-0.002002.tar.gz ... OK\nConfiguring Data-Show-0.002002 ... OK\nBuilding and testing Data-Show-0.002002 ... OK\nSuccessfully installed Data-Show-0.002002\n1 distribution installed\n</code></pre>\n\n<p>Results of cpanm -v Data::Show</p>\n\n<pre><code>cpanm (App::cpanminus) 1.7027 on perl 5.020001 built for x86_64-linux\nWork directory is /home/username/.cpanm/work/1424150236.20375\nYou have make /usr/bin/make\nYou have LWP 6.13\nYou have /bin/tar: tar (GNU tar) 1.23\nCopyright (C) 2010 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nWritten by John Gilmore and Jay Fenlason.\nYou have /usr/bin/unzip\nSearching Data::Show on cpanmetadb ...\n--&gt; Working on Data::Show\nFetching http://www.cpan.org/authors/id/D/DC/DCONWAY/Data-Show-0.002002.tar.gz ... OK\nUnpacking Data-Show-0.002002.tar.gz\nData-Show-0.002002/\nData-Show-0.002002/Build.PL\nData-Show-0.002002/Changes\nData-Show-0.002002/lib/\nData-Show-0.002002/Makefile.PL\nData-Show-0.002002/MANIFEST\nData-Show-0.002002/META.yml\nData-Show-0.002002/README\nData-Show-0.002002/t/\nData-Show-0.002002/t/00.load.t\nData-Show-0.002002/t/pod.t\nData-Show-0.002002/t/show.t\nData-Show-0.002002/lib/Data/\nData-Show-0.002002/lib/Data/Show.pm\nEntering Data-Show-0.002002\nChecking configure dependencies from META.yml\nChecking if you have ExtUtils::MakeMaker 0 ... Yes (6.98)\nRunning Build.PL\nConfiguring Data-Show-0.002002 ... Module::Build will be removed from the Perl core distribution in the next major release. Please install it from CPAN. It is being used at Build.PL, line 3.\nCreated MYMETA.yml and MYMETA.json\nCreating new 'Build' script for 'Data-Show' version '0.002002'\nOK\nChecking dependencies from MYMETA.json ...\nChecking if you have version 0 ... Yes (0.9909)\nChecking if you have Data::Dump 1.17 ... Yes (1.22)\nChecking if you have Test::More 0 ... Yes (1.001014)\nBuilding and testing Data-Show-0.002002 ... Module::Build will be removed from the Perl core distribution in the next major release. Please install it from CPAN. It is being used at ./Build, line 40.\nBuilding Data-Show\nModule::Build will be removed from the Perl core distribution in the next major release. Please install it from CPAN. It is being used at ./Build, line 40.\nt/00.load.t .. 1/1 # Testing Data::Show 0.002002\nt/00.load.t .. ok\nt/pod.t ...... skipped: Test::Pod 1.14 required for testing POD\nt/show.t ..... Smartmatch is experimental at t/show.t line 28.\nt/show.t ..... ok\nAll tests successful.\nFiles=3, Tests=64,  1 wallclock secs ( 0.06 usr  0.02 sys +  0.12 cusr  0.03 csys =  0.23 CPU)\nResult: PASS\nModule::Build will be removed from the Perl core distribution in the next major release. Please install it from CPAN. It is being used at ./Build, line 40.\nBuilding Data-Show\nOK\nSuccessfully installed Data-Show-0.002002\nInstalling /home/username/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/x86_64-linux/.meta/Data-Show-0.002002/install.json\n1 distribution installed\n</code></pre>\n\n<p>Very interestingly, they are not both installing to a place that perldoc can see: </p>\n\n<pre><code>$ perldoc -l Data::Dump\n/home/username/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/Data/Dump.pm\n$ perldoc -l Data::Show\nNo documentation found for \"Data::Show\".\n</code></pre>\n"}, {"tags": ["perl", "formatting"], "comments": [{"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 1, "creation_date": 1424118545, "post_id": 28548901, "comment_id": 45412542, "body": "As it is written, <code>$count</code> will only change at the end of each loop -- corresponding with <code>$value</code> -- is that really what you want? For your desired output format, it would seem that you need a separate loop within, no? And why are you still forking to <code>curl</code> when there are so many ways to do it with cpan modules?"}], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 1, "last_activity_date": 1424119963, "creation_date": 1424119963, "answer_id": 28550138, "question_id": 28548901, "link": "https://stackoverflow.com/questions/28548901/perl-format-table-with-curl-outputs/28550138#28550138", "title": "Perl: Format table with curl outputs", "body": "<p>Your requirement is a bit confusing, but this will give you the output you're seeking: </p>\n\n<pre><code>my @sites = qw( SITE2 SITE3 SITE4 );\nforeach my $value ('1'..'5') {\n    print \"\\nValue: $value\\n\";\n    my $start = `curl -m 10 -s \"http://SITE/?value=$value\" -c cookie.txt`;        \n    for my $site (@sites) { \n       print \"\\t$site \";\n       for (1..5) { # assuming you want to fetch each url 5x\n          my $end = `curl -m 10 -s \"http://$site\" -b cookie.txt`;\n          print $end eq '' ? '. ' : $_.' '; \n       }\n       print \"\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 1, "creation_date": 1424126700, "post_id": 28551076, "comment_id": 45416373, "body": "I&#39;m sure his <i>real</i> code is different, else he&#39;d never have seen &#39;2&#39; for <code>$value</code>. The <code>...</code> is a placeholder in the same way that SITE and SITE2 are."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1424137529, "post_id": 28551076, "comment_id": 45419565, "body": "@BenGrimm is correct. This is a simple example I put together. My actual code would be too cibfusing"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424156497, "post_id": 28551076, "comment_id": 45424807, "body": "I would have to question the answerability of code examples that simply don&#39;t work."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1424123929, "creation_date": 1424123929, "answer_id": 28551076, "question_id": 28548901, "link": "https://stackoverflow.com/questions/28548901/perl-format-table-with-curl-outputs/28551076#28551076", "title": "Perl: Format table with curl outputs", "body": "<p>Please turn on <code>use strict;</code> and <code>use warnings</code>. \nIf you did, you'd find:</p>\n\n<pre><code>foreach my $value ('1', ..., '5') {\n    print $value,\"\\n\";\n}\n</code></pre>\n\n<p>Is a syntax error. Which is not a good start. Perhaps you want:</p>\n\n<pre><code>foreach my $value ( 1..5) {\n    print $value,\"\\n\";\n}\n</code></pre>\n\n<p>Likewise you've to a <code>$count</code> variable that you never change, because you scope it locally within your loop (via <code>my</code>) and set it to 1 each iteration. And then increment it right at the end, just before it drifts out of scope. </p>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 28550138, "answer_count": 2, "score": 2, "last_activity_date": 1424123929, "creation_date": 1424114862, "question_id": 28548901, "link": "https://stackoverflow.com/questions/28548901/perl-format-table-with-curl-outputs", "title": "Perl: Format table with curl outputs", "body": "<p>I have something like the following curl code:</p>\n\n<pre><code>foreach my $value ('1', ..., '5') {\n    my $count = 1;\n    print \"\\nValue: $value\\n\\t\";\n    my $start = `curl -m 10 -s \"http://SITE/?value=$value\" -c cookie.txt`;\n    my $end1 = `curl -m 10 -s \"http://SITE2\" -b cookie.txt`;\n    if($end1 ne \"\") {print \". \"}; else print \"$count \";\n    my $end2 = `curl -m 10 -s \"http://SITE3\" -b cookie.txt`;\n    if($end2 ne \"\") {print \". \"}; else print \"$count \";\n    my $end3 = `curl -m 10 -s \"http://SITE4\" -b cookie.txt`;\n    if($end3 ne \"\") {print \". \"}; else print \"$count \";\n    $count++;\n}\n</code></pre>\n\n<p>So from value <code>1</code> to <code>5</code>, it visits a website and stores the cookie value in cookie.txt. Then it visits 3 different websites using the stored cookies in cookie.txt. Once it visits these sites, it prints current count (or <code>.</code> if the request timed out after 10 seconds).</p>\n\n<p>An example output for this would be:</p>\n\n<pre><code>Value: 1\n    1 1 1 2 . 2 3 3 3 4 . . . 5 5\nValue: 2\n    . . 1 2 2 2 3 3 3 4 . 4 5 5 .\n</code></pre>\n\n<p>Would it be possible to format the output to look like:</p>\n\n<pre><code>Value: 1\n    Site2: 1 2 3 4 .\n    Site3: 1 . 3 . 5\n    Site4: 1 2 3 . 5\nValue: 2\n    Site2: . 2 3 4 5\n    Site3: . 2 3 . 5\n    Site4: 1 2 3 4 .\n</code></pre>\n\n<p>The issue I have is that in the loop, I would only like to run <code>$start</code> once per loop. With the way I want it formatted, it would have to be run once per site (3 times).</p>\n"}, {"tags": ["perl", "irc", "irssi"], "comments": [{"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 1, "creation_date": 1424108557, "post_id": 28547180, "comment_id": 45407487, "body": "What is in <code>$_</code>? Where are you getting it? Obviously it&#39;s not a <code>Channel</code> object instance as you&#39;re expecting."}, {"owner": {"reputation": 929, "user_id": 1533419, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a1f1c20ccbb59ba805744feef497f52?s=128&d=identicon&r=PG", "display_name": "Mattigins", "link": "https://stackoverflow.com/users/1533419/mattigins"}, "edited": false, "score": 0, "creation_date": 1424108937, "post_id": 28547180, "comment_id": 45407685, "body": "Sorry, yeah it was supposed to be @_ which also does the same thing"}], "answers": [{"comments": [{"owner": {"reputation": 929, "user_id": 1533419, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a1f1c20ccbb59ba805744feef497f52?s=128&d=identicon&r=PG", "display_name": "Mattigins", "link": "https://stackoverflow.com/users/1533419/mattigins"}, "edited": false, "score": 0, "creation_date": 1424143677, "post_id": 28547967, "comment_id": 45421048, "body": "Thanks for the advise. I tried putting the () around the $channel but now i get this error <code>Can&#39;t locate object method &quot;nicks&quot; via package &quot;Irssi::Irc::Server&quot; at &#47;root&#47;.irssi&#47;scripts&#47;test.pl line 64.</code>"}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 2, "last_activity_date": 1424111197, "last_edit_date": 1495540739, "creation_date": 1424111197, "answer_id": 28547967, "question_id": 28547180, "link": "https://stackoverflow.com/questions/28547180/irssi-loop-through-users-in-channel/28547967#28547967", "title": "Irssi Loop Through Users in Channel", "body": "<p>Since the left hand side (LHS) of <code>my $channel = @_;</code> is a scalar it imposes scalar context on the <code>@_</code> array. This means that the length of the array gets assigned to <code>$channel</code>. You want to assign with <code>my ($channel) = @_;</code> so that the LHS is in list context and that the first element in the <code>@_</code> array gets assigned to your scalar.</p>\n\n<p>Ref:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/376921/what-is-the-difference-between-the-scalar-and-list-contexts-in-perl\">What is the difference between the scalar and list contexts in Perl?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4802541/scalar-and-list-context-in-perl\">Scalar and List context in Perl</a></p>\n"}, {"tags": [], "owner": {"reputation": 929, "user_id": 1533419, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a1f1c20ccbb59ba805744feef497f52?s=128&d=identicon&r=PG", "display_name": "Mattigins", "link": "https://stackoverflow.com/users/1533419/mattigins"}, "is_accepted": false, "score": 1, "last_activity_date": 1424146230, "creation_date": 1424146230, "answer_id": 28554491, "question_id": 28547180, "link": "https://stackoverflow.com/questions/28547180/irssi-loop-through-users-in-channel/28554491#28554491", "title": "Irssi Loop Through Users in Channel", "body": "<p>I figured out how to do it.</p>\n\n<pre><code>$chan = $server-&gt;channel_find('#channel');\nforeach my $nick ($chan-&gt;nicks()) {\n    $nickname = $nick-&gt;{nick};\n}\n</code></pre>\n"}], "owner": {"reputation": 929, "user_id": 1533419, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/7a1f1c20ccbb59ba805744feef497f52?s=128&d=identicon&r=PG", "display_name": "Mattigins", "link": "https://stackoverflow.com/users/1533419/mattigins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1424146230, "creation_date": 1424108281, "last_edit_date": 1424144038, "question_id": 28547180, "link": "https://stackoverflow.com/questions/28547180/irssi-loop-through-users-in-channel", "title": "Irssi Loop Through Users in Channel", "body": "<p>I am trying to piece together other scripts i have seen to be able to loop through a list of users on the channel.</p>\n\n<p>Here is what i have come up with</p>\n\n<pre><code>my $channel = @_;\nforeach my $nick ($channel-&gt;nicks()) {\n    $server-&gt;command(\"msg $chatchannel $nick-&gt;{nick}\");\n}\n</code></pre>\n\n<p>But all i get from that is </p>\n\n<blockquote>\n  <p>Can't call method \"nicks\" without a package or object reference at\n  /root/.irssi/scripts/test.pl line 64.</p>\n</blockquote>\n\n<p>which is referring to </p>\n\n<pre><code>$channel-&gt;nicks()\n</code></pre>\n\n<p>Am i going about this the wrong way? or should this be working? I have seen many other scripts using $channel->nicks() so i know it must work?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I should also mention that this is already define further up in the code</p>\n\n<pre><code>my ($server, $msg, $target, $channel, $chatnet) = @_;\n</code></pre>\n\n<p>But when i try it with that $channel variable i get</p>\n\n<blockquote>\n  <p>Can't locate object method \"nicks\" via package\n  \"mattigins@mattigins.tmi.twitch.tv\" (perhaps you forgot to load\n  \"mattigins@mattigins.tmi.twitch.tv\"?) at /root/.irssi/scripts/test.pl\n  line 64.</p>\n</blockquote>\n"}, {"tags": ["perl", "unicode", "printf"], "answers": [{"tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": false, "score": 4, "last_activity_date": 1424106958, "creation_date": 1424106958, "answer_id": 28546841, "question_id": 28546387, "link": "https://stackoverflow.com/questions/28546387/is-there-any-way-to-make-printf-sprintf-handle-combining-characters-correctly/28546841#28546841", "title": "Is there any way to make printf/sprintf handle combining characters correctly?", "body": "<p>It looks like the answer is to use <a href=\"https://metacpan.org/pod/Unicode::GCString\" rel=\"nofollow\"><code>Unicode::GCString</code></a></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Unicode::GCString;\n\nbinmode STDOUT, \":utf8\";\n\nfor my $s (\"\\x{e9}\", \"e\\x{301}\", \"e\\x{301}\\x{302}\") {\n        printf \"[%s]\\n\", pad($s, 5);\n}\n\nsub pad {\n        my ($s, $length) = @_;\n        my $gcs = Unicode::GCString-&gt;new($s);\n        return((\" \" x ($length - $gcs-&gt;columns)) . $s);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 2, "last_activity_date": 1424119990, "last_edit_date": 1424119990, "creation_date": 1424114896, "answer_id": 28548916, "question_id": 28546387, "link": "https://stackoverflow.com/questions/28546387/is-there-any-way-to-make-printf-sprintf-handle-combining-characters-correctly/28548916#28548916", "title": "Is there any way to make printf/sprintf handle combining characters correctly?", "body": "<p>You should probably be aware of the <a href=\"http://www.perl.com/pub/2012/04/perlunicook-standard-preamble.html\" rel=\"nofollow\">Perl Unicode Cookbook</a>.  In particular <a href=\"http://www.perl.com/pub/2012/05/perlunicook-unicode-column-width-for-printing.html\" rel=\"nofollow\">\u211e #34</a>, which deals with this very issue.  As a bonus, Perl v5.20.2 has it available as <code>perldoc unicook</code>.</p>\n\n<p>In any case:  The code included in that article is as follows:</p>\n\n<pre><code>use Unicode::GCString;\nuse Unicode::Normalize;\n\nmy @words = qw/cr\u00e8me br\u00fbl\u00e9e/;\n@words    = map { NFC($_), NFD($_) } @words;\n\nfor my $str (@words) {\n    my $gcs  = Unicode::GCString-&gt;new($str);\n    my $cols = $gcs-&gt;columns;\n    my $pad  = \" \" x (10 - $cols);\n    say str, $pad, \" |\";\n}\n</code></pre>\n"}], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1424119990, "creation_date": 1424105473, "question_id": 28546387, "link": "https://stackoverflow.com/questions/28546387/is-there-any-way-to-make-printf-sprintf-handle-combining-characters-correctly", "title": "Is there any way to make printf/sprintf handle combining characters correctly?", "body": "<p>Combining characters appear to count as whole characters in <code>printf</code> and <code>sprintf</code>'s calculations:</p>\n\n<pre><code>[    \u00e9]\n[   e\u0301]\n</code></pre>\n\n<p>The text above was created by the following code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nbinmode STDOUT, \":utf8\";\n\nfor my $s (\"\\x{e9}\", \"e\\x{301}\") {\n        printf \"[%5s]\\n\", $s; \n}\n</code></pre>\n\n<p>I expected the code to print:</p>\n\n<pre><code>[    \u00e9]\n[    e\u0301]\n</code></pre>\n\n<p>I don't see any discussion of Unicode, let alone combining characters, in the function descriptions.  Are <code>printf</code> and <code>sprintf</code> useless in the face of Unicode?  Is this just a bug in Perl 5.20.1 that could be fixed? Is there a replacement someone has written?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9, "user_id": 4572001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1a79052907fc95e8b604d3b9ce78c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed_91", "link": "https://stackoverflow.com/users/4572001/ahmed-91"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424095298, "post_id": 28542999, "comment_id": 45399647, "body": "at ligne 15 , not at 12 , please help !!"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4572001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1a79052907fc95e8b604d3b9ce78c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed_91", "link": "https://stackoverflow.com/users/4572001/ahmed-91"}, "edited": false, "score": 0, "creation_date": 1424095634, "post_id": 28543177, "comment_id": 45399842, "body": "mon probleme c&#39;est  de se Connecter un commutateur non et recuperer sa liste de vlan"}, {"owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "edited": false, "score": 0, "creation_date": 1424098733, "post_id": 28543177, "comment_id": 45401677, "body": "Ahmed: Please reply to comments in English. Machine translation of above: &quot;My problem is to connect a switch and not recover s&#225; list vlan&quot;"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 4, "last_activity_date": 1424095387, "creation_date": 1424095387, "answer_id": 28543177, "question_id": 28542999, "link": "https://stackoverflow.com/questions/28542999/use-of-uninitialized-value-stdout1-at-line-15/28543177#28543177", "title": "Use of uninitialized value $stdout1 at line 15", "body": "<p>Rule 1 of writing perl. <code>use strict;</code> <code>use warnings;</code>. </p>\n\n<p>Turning it off again with <code>no strict</code> doesn't count!</p>\n\n<p>But even with <code>strict</code> turned on - I can't replicate your problem. All I can think of is that the <code>Net::SSH::Perl</code> <code>cmd</code> function isn't returning a result.</p>\n\n<p>You may want to check it more explicitly: </p>\n\n<pre><code>my ($result, $errors, $exitcode ) = $ssh-&gt;cmd(\"show vlan\");\nprint \"$exitcode $errors\\n\";\nprint \"$result\\n\";\n</code></pre>\n\n<p>I'm guessing that something's going wrong with your connection (invalid password maybe?)</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4572001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1a79052907fc95e8b604d3b9ce78c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed_91", "link": "https://stackoverflow.com/users/4572001/ahmed-91"}, "edited": false, "score": 0, "creation_date": 1424100119, "post_id": 28544049, "comment_id": 45402483, "body": "thank you for your help, but when I execute the script to me it shows &quot;  use of uninitialized value $stdout  at line 28"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1424101332, "post_id": 28544049, "comment_id": 45403278, "body": "@ysth It took me a while, but yes it was. Thanks."}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 2, "last_activity_date": 1424101302, "last_edit_date": 1424101302, "creation_date": 1424098220, "answer_id": 28544049, "question_id": 28542999, "link": "https://stackoverflow.com/questions/28542999/use-of-uninitialized-value-stdout1-at-line-15/28544049#28544049", "title": "Use of uninitialized value $stdout1 at line 15", "body": "<p>You turned off <code>strict</code>? Why? If you were having problems, solve the problem, and don't ignore it.</p>\n\n<ul>\n<li>You need to check the return values of your various commands. Did <code>ssh-&gt;login</code> work? Did <code>Net::SSH::Perl-&gt;new</code>? Use <code>or die</code> to verify they actually returned something.</li>\n<li>Read the documentation. <code>ssh-cmd</code> returns a three member array:\n<ul>\n<li><code>STDOUT</code>.</li>\n<li><code>STDERR</code>.</li>\n<li>The exit status.</li>\n</ul></li>\n</ul>\n\n<p>Notice in this program, I check the return of each method to the <code>Net::SSH::Perl</code> class.</p>\n\n<pre><code>#! /usr/bin/env perl \nuse strict;\nuse warnings;\nuse feature qw(say);   # Replaces 'print' with 'say'\n\nuse Net::SSH::Perl;\n\nuse constant {\n    HOST        =&gt; '10.220.15.24',\n    USER        =&gt; 'admin',\n    PASSWORD    =&gt; 'admin',\n};\n\nmy $ssh  = Net::SSH::Perl-&gt;new( HOST ) \n    or die qq(Can't SSH to host.);\n\n$ssh-&gt;login( USER, PASSWORD );\n    or die qq(Can't log into host.);\n\nsay \"check the version of the build\";\nsay \"enter the config mode\";\nsay \" ahmed \";\nmy ( $stdout, $stderr, $exit_code ) = $ssh-&gt;cmd(\"show vlan\")\n    or die qq(Can't execute command.);\nif ( $exit_code ) {\n    say \"Command returned an exit code of $exit_code\"\n}\nsay $stdout;\n</code></pre>\n\n<p>You can also pass the <code>debug</code> option when you create your <code>$ssh</code> object:</p>\n\n<pre><code>my $ssh = Net::SSH::Perl-&gt;new( HOST, { debug =&gt; 1 } );\n</code></pre>\n\n<p>This may give you a few more clues to what is going on.</p>\n"}], "owner": {"reputation": 9, "user_id": 4572001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1a79052907fc95e8b604d3b9ce78c1?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed_91", "link": "https://stackoverflow.com/users/4572001/ahmed-91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1424101302, "creation_date": 1424094818, "last_edit_date": 1424095540, "question_id": 28542999, "link": "https://stackoverflow.com/questions/28542999/use-of-uninitialized-value-stdout1-at-line-15", "title": "Use of uninitialized value $stdout1 at line 15", "body": "<p>This script is used to connect to a switch and print its list of vlan, but the output is:</p>\n\n<p><code>Use of uninitialized value $stdout1 at line 15\n</code></p>\n\n<pre><code>#! /usr/bin/perl \nuse strict;\nuse warnings;\nuse Net::SSH::Perl;\nno strict;\nmy $host     = \"10.220.15.24\";\nmy $user     = \"admin\";\nmy $password = \"admin\";\nmy $ssh      = Net::SSH::Perl-&gt;new($host);\n$ssh-&gt;login( $user, $password );\nprint \"check the version of the build \\n\";\nprint \"enter the config mode \\n\";\nprint \" ahmed \";\nmy ($stdout1) = $ssh-&gt;cmd(\"show vlan\");\nprint $stdout1 ;\n</code></pre>\n"}, {"tags": ["perl", "dns", "perl-module", "gentoo"], "comments": [{"owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1424087272, "post_id": 28538858, "comment_id": 45395043, "body": "Did you read the documentation for 0.74? It requires <a href=\"https://metacpan.org/pod/release/NLNETLABS/Net-DNS-0.74/lib/Net/DNS/RR/TSIG.pm#Configuring-BIND-Nameserver\" rel=\"nofollow noreferrer\">some additional setup</a>"}, {"owner": {"reputation": 179, "user_id": 1932773, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MfgpO.jpg?s=128&g=1", "display_name": "Nico Rittner", "link": "https://stackoverflow.com/users/1932773/nico-rittner"}, "reply_to_user": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "edited": false, "score": 0, "creation_date": 1424091307, "post_id": 28538858, "comment_id": 45397146, "body": "Yes, i did. These config lines were and are present. Without them <i>named</i> would not be able to understand TSIG queries/updates at all (BADKEY errors) - also from clients with Net::DNS versions below 0.74 (which still work with this setup)"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1424107659, "post_id": 28538858, "comment_id": 45407059, "body": "See <a href=\"https://www.mail-archive.com/gentoo-commits@lists.gentoo.org/msg88330.html\" rel=\"nofollow noreferrer\">mail-archive.com/gentoo-commits@lists.gentoo.org/msg88330.ht&zwnj;&#8203;ml</a> for a similar problem which was resolved by using a newer version of Net::DNS"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 1932773, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MfgpO.jpg?s=128&g=1", "display_name": "Nico Rittner", "link": "https://stackoverflow.com/users/1932773/nico-rittner"}, "edited": false, "score": 0, "creation_date": 1424095174, "post_id": 28541907, "comment_id": 45399577, "body": "ok, version 0.82 works. i already changed the code before to match the docs of 0.74. after upgrading to 0.82 the code started working without any further changes. also some features/behaviour that should work in 0.74 according to the docs of 0.74 is&#39;nt part of the docs of 0.82 anymore. i relied on 0.74 to be stable enough, because it is in the stable branch of gentoo now. thanks a lot !"}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 2, "last_activity_date": 1424091386, "creation_date": 1424091386, "answer_id": 28541907, "question_id": 28538858, "link": "https://stackoverflow.com/questions/28538858/perl-module-netdns-calling-tsig-method-on-resolver-object-results-in-error/28541907#28541907", "title": "Perl Module Net::DNS - calling &quot;tsig&quot; method on resolver object results in error", "body": "<p>The TSIG functionality in Net::DNS had a complete rewrite around 0.74, and most releases since then have had bugfixes for some aspect of TSIG. I'd suggest that you try to forget how it used to work, re-read all the relevant documentation and then change your own code as needed.</p>\n\n<p>Also, 0.74 is (in this context) pretty old. It would probably be a good idea to upgrade to something closer to current (which is 0.82 when I write this).</p>\n"}], "owner": {"reputation": 179, "user_id": 1932773, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MfgpO.jpg?s=128&g=1", "display_name": "Nico Rittner", "link": "https://stackoverflow.com/users/1932773/nico-rittner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1424091386, "creation_date": 1424081072, "question_id": 28538858, "link": "https://stackoverflow.com/questions/28538858/perl-module-netdns-calling-tsig-method-on-resolver-object-results-in-error", "title": "Perl Module Net::DNS - calling &quot;tsig&quot; method on resolver object results in error", "body": "<p>recently the linux-distribution i use (recent gentoo)\nupgraded the net-dns package to version 0.74 (from 0.66).\nfrom this time using TSIG on queries and updates\ndoes not work anymore.\nformer i used:</p>\n\n<pre><code>$resolver = Net::DNS::Resolver-&gt;new(...);\n\n$resolver-&gt;tsig( $keyname, $key );\n# ($key as base64 representation)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$resolver-&gt;tsig( Net::DNS::RR-&gt;new( \"$keyname TSIG $key\" ) );\n</code></pre>\n\n<p>calling tsig now results in an expeption:</p>\n\n<pre><code>\"zone file representation not defined for TSIG at /usr/lib/perl5/vendor_perl/5.18.2/i686-linux/Net/DNS/RR.pm line 683.\"\n</code></pre>\n\n<p>according to <a href=\"http://search.cpan.org/~nlnetlabs/Net-DNS-0.74/lib/Net/DNS/Resolver.pm#tsig\" rel=\"nofollow\">http://search.cpan.org/~nlnetlabs/Net-DNS-0.74/lib/Net/DNS/Resolver.pm#tsig</a></p>\n\n<pre><code>tsig() - Get or set the TSIG record used to automatically sign outgoing queries and updates.\n</code></pre>\n\n<p>my usage of tsig() should be correct.</p>\n\n<p>using another way of pre-creating the tsig RR-Object with:</p>\n\n<pre><code>my $tsig = Net::DNS::RR-&gt;new( type =&gt; \"TSIG\", name =&gt; \"KEYNAME\", key =&gt; \"KEY\" );\n$resolver-&gt;tsig($tsig);\n</code></pre>\n\n<p>results in \"tsig verify failure (BADSIG)\" Errors in BIND at server side.</p>\n\n<p>using $tsig for update packets only:</p>\n\n<pre><code>my $update = Net::DNS::Update-&gt;new( ... );\n$update-&gt;sign_tsig($tsig);\n</code></pre>\n\n<p>also does not work (BADSIG); the 'simpler' way</p>\n\n<pre><code>$update-&gt;sign_tsig($keyname, $key);\n</code></pre>\n\n<p>does work.</p>\n\n<p>What is the correct way to use TSIG for <em>both</em> query and update packets with the resolver object in Net::DNS >= V0.74 ?</p>\n\n<p>Perl Version is 5.18.2 .</p>\n\n<p>what am i doing wrong ? - thanks a lot for your hints.</p>\n"}, {"tags": ["perl", "excel", "office-automation", "win32ole", "vba"], "comments": [{"owner": {"reputation": 28153, "user_id": 2521004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/U6sn4.png?s=128&g=1", "display_name": "Automate This", "link": "https://stackoverflow.com/users/2521004/automate-this"}, "edited": false, "score": 0, "creation_date": 1442620042, "post_id": 28538077, "comment_id": 53171492, "body": "1) Try &quot;E2&quot; not &quot;E2:E2&quot;.   2) One way is to modify the form to load optional values when passed in and then call the macro with the optional values as arguments."}], "owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1424229207, "creation_date": 1424078423, "last_edit_date": 1531161705, "question_id": 28538077, "link": "https://stackoverflow.com/questions/28538077/win32ole-cannot-capture-vb-form-elements-in-excel", "title": "Win32::OLE Cannot capture VB form elements in excel", "body": "<p>The excel file I am trying to automate using Win32::OLE has some macros\nQuestion:</p>\n\n<ol>\n<li><p>There is a button at E2, I am trying to get it using\n<code>my $array = $Sheet-&gt;Range(\"E2:E2\")-&gt;{'Value'};</code> , but I get undef. How do I simulate this button click?</p></li>\n<li><p>This click calls a macro \"someAction\" , if i run this macro like: \n<code>$Excel-&gt;Run(\"someAction\");</code> a form opens up, which has 2 text boxes, is there a way to fill in values for those input fields?</p></li>\n</ol>\n"}, {"tags": ["perl", "replace"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1424083699, "post_id": 28537967, "comment_id": 45393197, "body": "It seems somehow dirty to be using a <code>system</code> call to exec perl within perl."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1424151900, "post_id": 28546085, "comment_id": 45423321, "body": "Hi collapsar..Thanks...But this code is not working, neither on Linux or Windows. My rough.sp actually contain 100 line program. Anyway I need to ask that variable $curline_1 is getting what values? Is it getting through while loop?"}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1424158067, "post_id": 28546085, "comment_id": 45425446, "body": "I&#39;ve tested it on windows and it works like charm - do you get any error messages? What does the output file look like? Wrt your question: the idiom <code>while &lt;file1&gt; {...}</code> reads a file line by line , assigning each line to the variable <code>$_</code> as you go. Ps: there was a typo in &#39;use strict;&#39; - I corrected it, does it work now?"}, {"owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1424163664, "post_id": 28546085, "comment_id": 45428043, "body": "Yaa its working now. Thanks. What is chomp doing here. Is it removing white spaces in my address0.txt or splitting. Please suggest what if I want multilple replacements. Then my address file would be like array. Then do i need to put multiple scalar variables like $curline_3 $curline_4 and so on..."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1424166569, "post_id": 28546085, "comment_id": 45429602, "body": "<code>chomp</code> removes the trailing newline ( to be precise, it removes the &#39;current record separator&#39; which resides in perl variable <code>$&#47;</code>, which in this case just happens to be the &#39;trailing newline&#39;. nb: by resetting <code>$&#47;</code>,you could cater for other kinds of  line terminators). For the skeletal code for multiple replacements, see the addendum in the answer."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "edited": false, "score": 0, "creation_date": 1424166953, "post_id": 28546085, "comment_id": 45429849, "body": "Btw, no offence intended, but mastering perl comes much easier by consulting <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">the official docs</a> on a regular basis - they have reference sections for the language and the core module and several tutorials covering important topics like oo or regexen at different levels of detail. The site also differentiates by perl version."}], "tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1424166769, "last_edit_date": 1424166769, "creation_date": 1424104469, "answer_id": 28546085, "question_id": 28537967, "link": "https://stackoverflow.com/questions/28537967/need-to-replace-value-from-one-file-to-another-file-using-perl/28546085#28546085", "title": "Need to replace value from one file to another file using perl", "body": "<p>Assuming that there is a 1:1 relationship between lines in adress0.txt and rough.sp, you can proceed like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($curline_1,$curline_2);\nopen(file1, \"address0.txt\") or die \"Cannot open file.\\n\";\nopen(file2, \"rough.sp\") or die \"Cannot open file.\\n\";\nopen(file3, \"&gt;out.sp\") or die \"Cannot open file.\\n\";\n\nwhile (&lt;file1&gt;) {\n    $curline_1 = $_;\n    chomp($curline_1);\n    $curline_2 = &lt;file2&gt;;\n    $curline_2 =~ s/ add/ $curline_1/;\n    print file3 $curline_2;\n}\nclose(file1);\nclose(file2);\nclose(file3);\nexit(0);\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>The code iterates through the lines of your input files in parallel. Note that the lines read include the line terminator. Line contents from the 'address' file are taken as replacement values fpr the <code>add</code> literal in your .sp file. Line terminators from the 'address' file are eliminated to avoid introducing additional newlines.</p>\n\n<p>Addendum:</p>\n\n<p>An extension for multi-replacements might look like this:</p>\n\n<pre><code>    $curline_1 = $_;\n    chomp($curline_1);\n\n    my @parts = split(/ +/, $curline_1); # splits the line from address0.txt into an array of strings made up of contiguous non-whitespace chars\n\n    $curline_2 = &lt;file2&gt;;\n    $curline_2 =~ s/ add/ $parts[0]/;\n    $curline_2 =~ s/ sub/ $parts[1]/;\n    # ...\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4553585, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/693788c3bbe88df27f53fdd7343ba033?s=128&d=identicon&r=PG&f=1", "display_name": "Suhan", "link": "https://stackoverflow.com/users/4553585/suhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 893, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424166769, "creation_date": 1424078011, "question_id": 28537967, "link": "https://stackoverflow.com/questions/28537967/need-to-replace-value-from-one-file-to-another-file-using-perl", "title": "Need to replace value from one file to another file using perl", "body": "<p>I am writing a program using perl which read a value from one file and replace this value in other file. Program runs successfully, but value didn't get replaced. Please suggest me where is the error.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(file1,\"address0.txt\") or die \"Cannot open file.\\n\";\nmy $value;\n$value=&lt;file1&gt;;\nsystem(\"perl -p -i.bak -e 's/add/$value/ig' rough.sp\");\n</code></pre>\n\n<p>Here the value which I want to replace exists in address0.txt file. It is a single value 1. I want to place this value in place of add in other file rough.sp.</p>\n\n<p>My rough.sp looks like </p>\n\n<pre><code>Vdd 1 0 add\n</code></pre>\n\n<p>My address0.txt looks like</p>\n\n<pre><code>1\n</code></pre>\n\n<p>So output should be like </p>\n\n<pre><code>Vdd 1 0 1\n</code></pre>\n\n<p>Please help me out. Thanks in advance</p>\n"}, {"tags": ["windows", "perl", "winapi"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1424070772, "post_id": 28536115, "comment_id": 45386590, "body": "Always use <code>use strict</code> and <code>use warnings</code>."}, {"owner": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1424071959, "post_id": 28536115, "comment_id": 45387076, "body": "added the strict and warnings, after that i got error in the below statement  $cd = Win32::API-&gt;new( &#39;kernel32&#39;, &#39;CreateDirectoryW&#39;, &#39;PP&#39;, &#39;N&#39; );  Error - Global symbol &quot;$cd&quot; requires explict package name"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1424072118, "post_id": 28536115, "comment_id": 45387140, "body": "Yes, you should declare <code>$cd</code> with <code>my</code> keyword because you are using <code>strict</code>."}, {"owner": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "edited": false, "score": 0, "creation_date": 1424073827, "post_id": 28536115, "comment_id": 45387845, "body": "Your code works fine for me. I think you need show us more code (lines with $dirname initialization)"}, {"owner": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "edited": false, "score": 0, "creation_date": 1424074005, "post_id": 28536115, "comment_id": 45387913, "body": "Below is the functions used   sub create_long_path($)  {  \tmy $path = shift;  \tmy ( $root, $subdirs ) = $path =~ /^(\\w:\\\\\\w+)(.*)$/;\t      $p = &#39;\\\\\\\\?\\\\&#39; . $root;      # $p =  $root;    \tlong_mkdir($p);  \tmy @T_subdirs = split /\\\\/, $subdirs;  \tfor my $subdir (@T_subdirs)  {  \t\tif ( $subdir ne &quot;&quot; )                   { \t\t\t$p .= &#39;\\\\&#39; . $subdir;  \t\t\tlong_mkdir($p);  \t\t} \t} } ...  .....  .... sub long_mkdir($) { \tmy $dirname = shift; \t      \t# produce UTF-16LE string \tmy $UTF16_dirname = encode( &quot;UTF-16LE&quot;, &quot;$dirname\\0&quot; ); \tmy $res = $cd-&gt;Call( $UTF16_dirname, 0 ) ;                \treturn $res; }"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1424088816, "post_id": 28537728, "comment_id": 45395819, "body": "When I worked on that question, there was no <a href=\"https://metacpan.org/pod/Win32::LongPath\" rel=\"nofollow noreferrer\">Win32::LongPath</a>: It is an excellent module. See also <a href=\"http://stackoverflow.com/a/28378292/100754\">Creating a file using Perl on Windows in a directory the length of whose name exceeds 220 characters</a>."}, {"owner": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "edited": false, "score": 0, "creation_date": 1424156949, "post_id": 28537728, "comment_id": 45425004, "body": "The perl script runs fine in my environment and when i try to run in another perl environment then it fails.   Got the error below ,  CreateFile: The system cannot find the path specified  I have installed the Active perl 5.12.4 in all the environments , is there anything missing?"}, {"owner": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "edited": false, "score": 0, "creation_date": 1424165975, "post_id": 28537728, "comment_id": 45429238, "body": "I have created the perl exe in 64 bit machine using perl2exe and try to run the exe in 32 bit machine the CreateDirectoryW doesn&#39;t work in 32 bit but it works in 64 bit.  ANy reasons?"}, {"owner": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "reply_to_user": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "edited": false, "score": 0, "creation_date": 1424168872, "post_id": 28537728, "comment_id": 45431140, "body": "@Karthik SV : please check what is happening with procmon"}], "tags": [], "owner": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "is_accepted": true, "score": 1, "last_activity_date": 1424077152, "last_edit_date": 1495539824, "creation_date": 1424077152, "answer_id": 28537728, "question_id": 28536115, "link": "https://stackoverflow.com/questions/28536115/why-does-windows-api-function-createdirectoryw-fail-when-used-from-a-perl-script/28537728#28537728", "title": "Why does Windows API function createDirectoryW fail when used from a Perl script?", "body": "<p>Take a look at this example, it works fine for me:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Win32::API;\n\nuse Carp;\nuse Encode qw( encode );\n\nWin32::API-&gt;Import(\n    Kernel32 =&gt; qq{BOOL CreateDirectoryW(LPWSTR lpPathNameW, VOID *p)}\n);\n\nmy $path = '\\\\\\\\?\\\\c:';\n\nmy $counter=255;\n\nwhile ($counter)\n{\n    my $nextDir=\"\\\\testdir\".$counter;\n\n    $path.=$nextDir;\n\n    mk_long_dir($path);\n\n    $counter--;\n}\n\nsub mk_long_dir {\n    my $path = shift;\n\n    my $ucs_path = encode('UCS-2le', \"$path\\0\");\n        CreateDirectoryW($ucs_path, undef)\n            or croak \"Failed to create directory: '$path': $^E\";\n\n    return $path;\n}\n</code></pre>\n\n<p>And thank to Sinan \u00dcn\u00fcr (<a href=\"https://stackoverflow.com/questions/1721807/how-do-i-create-then-use-long-windows-paths-from-perl\">How do I create then use long Windows paths from Perl?</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1432114449, "last_edit_date": 1432114449, "creation_date": 1424089395, "answer_id": 28541374, "question_id": 28536115, "link": "https://stackoverflow.com/questions/28536115/why-does-windows-api-function-createdirectoryw-fail-when-used-from-a-perl-script/28541374#28541374", "title": "Why does Windows API function createDirectoryW fail when used from a Perl script?", "body": "<p>There is now an excellent module <a href=\"https://metacpan.org/pod/Win32::LongPath\" rel=\"nofollow\">Win32::LongPath</a> which makes it unnecessary to monkey around with (the otherwise excellent and invaluable) <code>Win32::API</code>.</p>\n\n<p>So, use <code>Win32::LongPath::mkdirL</code>. If you need to pass paths to external programs, use the one obtained from <code>Win32::LongPath::shortpathL</code>.</p>\n"}], "owner": {"reputation": 101, "user_id": 4205057, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/360e2a43408470a21efce5cbeca9f377?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik SV", "link": "https://stackoverflow.com/users/4205057/karthik-sv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "accepted_answer_id": 28537728, "answer_count": 2, "score": 0, "last_activity_date": 1432114449, "creation_date": 1424070301, "last_edit_date": 1424089087, "question_id": 28536115, "link": "https://stackoverflow.com/questions/28536115/why-does-windows-api-function-createdirectoryw-fail-when-used-from-a-perl-script", "title": "Why does Windows API function createDirectoryW fail when used from a Perl script?", "body": "<p>I am using <code>perl</code> to do some processing of files. We copy the files from particular location and we do some processing on each file and then we copy the files to the processed location. If in the source destination if we have the folders then we will create the same structure in the destination folder as well. In the <code>perl</code> script we use <code>createDirectoryw</code> to create the folder structure.</p>\n\n<pre><code>use Win32::API;\nuse Encode qw(decode encode);\n\nuse Encode::Unicode;       # GBR\n\nuse Symbol qw( gensym );\nuse Win32API::File qw(CreateFileW OsFHandleOpen CREATE_ALWAYS GENERIC_WRITE);\n\n$cd = Win32::API-&gt;new( 'kernel32', 'CreateDirectoryW', 'PP', 'N' );\n\n\n...\n\n..\n\n..\nmy $UTF16_dirname = encode( \"UTF-16LE\", \"$dirname\\0\" );\nmy $res = $cd-&gt;Call( $UTF16_dirname, 0 ) ;\n</code></pre>\n\n<p>I got the <code>$res as 0</code>, it didn't create the folder.</p>\n"}, {"tags": ["perl", "ncurses", "curses"], "answers": [{"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1424179770, "post_id": 28550636, "comment_id": 45435849, "body": "Thanks. it works but also i had to write blank lines until $max_row (not just $mat_col) as well to erase those."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1424181475, "post_id": 28550636, "comment_id": 45436653, "body": "Right, but that is the beauty of curses - it makes it easy to update a portion of the screen without clearing the rest. Glad I got you in the right direction."}], "tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 1, "last_activity_date": 1424193799, "last_edit_date": 1424193799, "creation_date": 1424121953, "answer_id": 28550636, "question_id": 28535551, "link": "https://stackoverflow.com/questions/28535551/perl-curses-refresh-doesnt-delete-lines/28550636#28550636", "title": "Perl curses: refresh() doesnt delete lines", "body": "<p><code>addstr()</code> will only write through to the length of the string passed to it. In order to avoid remnants, you need to ensure that the string is padded to the width of the window. I would suggest padding the string with spaces in the step where you truncate to <code>$max_col</code>:</p>\n\n<pre><code>$line = substr( $line . \" \" x $max_col, 0, $max_col );\n</code></pre>\n\n<p>Or factor it out: </p>\n\n<pre><code>sub addstr_pad { \n    my ( $row, $str, $width ) = @_;\n    addstr( $row, 0, substr( $str . \" \" x $width, 0, $width ) ); \n}\n...\naddstr_pad( $row++, $line, $max_col );\n</code></pre>\n\n<p>To ensure that you're clearing any rows that may have had text from the last iteration, include this after iterating over <code>@data</code>:</p>\n\n<pre><code>while( $row &lt;= $max_row ) { \n    addstr( $row++, 0, \" \" x $max_col )); \n}\n</code></pre>\n\n<p>You wouldn't necessarily need to clear through <code>$max_row</code> if the length of <code>@data</code> were retained from the previous run. </p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 28550636, "answer_count": 1, "score": 2, "last_activity_date": 1424193799, "creation_date": 1424067433, "last_edit_date": 1424070479, "question_id": 28535551, "link": "https://stackoverflow.com/questions/28535551/perl-curses-refresh-doesnt-delete-lines", "title": "Perl curses: refresh() doesnt delete lines", "body": "<pre><code>sub display {\n    my @data = @_;\n    my $max_row = 0;\n    my $max_col = 0;\n    getmaxyx($max_row, $max_col);\n    clear();                        &lt;------ i dont want to clear everytime\n\n    if ($start_display) {\n        my $row   = 0;\n        my $color = COLOR_PAIR(1);\n        attron($color);\n\n        attroff($color);\n        foreach my $line (@data) {\n            $color = COLOR_PAIR(1);\n            $color = COLOR_PAIR(2) if ($line =~ /waiting/);\n            attron($color);\n            $line = substr($line, 0, $max_col);\n            addstr($row++, 0, $line);\n            attroff($color);\n            last if ($row &gt;= $max_row - 1);\n        }\n        $color = COLOR_PAIR(1);\n        attron($color);\n        attroff($color);\n    } else {\n        my $dots = '.';\n        $dots = $dots x $dot_cnt;\n        addstr(\"Program is starting...$dots\");\n        $dot_cnt++;\n        sleep 1;\n    }\n\n    my $color = COLOR_PAIR(1);\n    attron($color);\n    addstr($max_row-1, 0, $usage);\n    attroff($color);\n\n    refresh();     &lt;------ refreshes but doesnt clear \n} ## end sub display\n</code></pre>\n\n<p>Right now, i am clearing the screen everytime but this is making the screen very choppy. If i get rid of <code>clear()</code> the chopiness goes away but <code>refresh()</code> does not update correctly (i.e. leaves the previously displayed lines as is when some should get deleted)</p>\n\n<p>How do I update the screen properly so that only the changed lines get updated and delete the lines from the screen properly?</p>\n"}, {"tags": ["perl", "win32ole"], "comments": [{"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 0, "creation_date": 1424066796, "post_id": 28534902, "comment_id": 45385104, "body": "If you want to parse excel try this module Spreadsheet::ParseXLSX and when you are  trying to write something onto excel try this module Spreadsheet::WriteExcel and for reading try this module Spreadsheet::Read"}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1424074070, "post_id": 28534902, "comment_id": 45387932, "body": "You could also resort to vb script/vba called through the scripting host (cscript.exe). Create an excel application object and use that as the entry point to the excel object model."}], "answers": [{"comments": [{"owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "edited": false, "score": 0, "creation_date": 1424069035, "post_id": 28535814, "comment_id": 45385862, "body": "I need to automate actions, the way win32::OLE does, I don&#39;t think Spreadsheet::ParseExcel does that."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "edited": false, "score": 0, "creation_date": 1424069595, "post_id": 28535814, "comment_id": 45386122, "body": "I never used <code>Win32::OLE</code>, so don&#39;t have idea about this."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1424068853, "creation_date": 1424068853, "answer_id": 28535814, "question_id": 28534902, "link": "https://stackoverflow.com/questions/28534902/automate-excel-tasks-using-perl/28535814#28535814", "title": "Automate Excel tasks using perl", "body": "<p>Cpan module <code>Spreadsheet::ParseExcel</code> is a tool to <code>read information from an Excel file</code>. An example is here :</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Spreadsheet::ParseExcel;\n\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse('Book1.xls');\n\nif ( !defined $workbook ) {\n    die $parser-&gt;error(), \".\\n\";\n}\n\nfor my $worksheet ( $workbook-&gt;worksheets() ) {\n\n    my ( $row_min, $row_max ) = $worksheet-&gt;row_range();\n    my ( $col_min, $col_max ) = $worksheet-&gt;col_range();\n\n    for my $row ( $row_min .. $row_max ) {\n        for my $col ( $col_min .. $col_max ) {\n\n            my $cell = $worksheet-&gt;get_cell( $row, $col );\n            next unless $cell;\n\n            print \"Row, Col    = ($row, $col)\\n\";\n            print \"Value       = \", $cell-&gt;value(),       \"\\n\";\n            print \"Unformatted = \", $cell-&gt;unformatted(), \"\\n\";\n            print \"\\n\";\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 2002782, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/Fo6NE.jpg?s=128&g=1", "display_name": "Mayank", "link": "https://stackoverflow.com/users/2002782/mayank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424068853, "creation_date": 1424063399, "question_id": 28534902, "link": "https://stackoverflow.com/questions/28534902/automate-excel-tasks-using-perl", "title": "Automate Excel tasks using perl", "body": "<p>I have to automate an excel file, I have already checked <a href=\"https://metacpan.org/pod/Win32::OLE\" rel=\"nofollow\">Win32:OLE</a>, just wanted to check if there are some other ways apart from that to achieve similar functionality.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "regex", "bash", "perl", "grep"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424061982, "post_id": 28534666, "comment_id": 45383840, "body": "could you explain this ` the output should print two matching lines (3 and 4)` ?"}, {"owner": {"reputation": 546, "user_id": 3219193, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a0e6b554acaa9ccd450bba461976b63?s=128&d=identicon&r=PG&f=1", "display_name": "Doonyx", "link": "https://stackoverflow.com/users/3219193/doonyx"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424062170, "post_id": 28534666, "comment_id": 45383884, "body": "@Avinash Raj  This &#39;grep&#39; should first search word &#39;little&#39; then in the immediate line there should be a word &#39;fleece&#39;. If there are such line combinations, then such combination should be printed. Thus line 3 and 4.   Moreover all the lines from 5 to 8 should also be printed."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424062278, "post_id": 28534666, "comment_id": 45383914, "body": "but there isn&#39;t strings like <code>fleece</code> and <code>little</code> on the same line."}, {"owner": {"reputation": 546, "user_id": 3219193, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a0e6b554acaa9ccd450bba461976b63?s=128&d=identicon&r=PG&f=1", "display_name": "Doonyx", "link": "https://stackoverflow.com/users/3219193/doonyx"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424062435, "post_id": 28534666, "comment_id": 45383945, "body": "@Avinash Raj Yes. That is the problem. I&#39;d say it again. First it should search for word &#39;little&#39; once such line found, then in immediate line there should be a word &#39;fleece&#39;. But not in the same line. This has been explained in <a href=\"http://stackoverflow.com/questions/2686147/how-to-find-patterns-across-multiple-lines-using-grep\" title=\"how to find patterns across multiple lines using grep\">stackoverflow.com/questions/2686147/&hellip;</a> but my problem is how to get N number lines after last mach."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424062505, "post_id": 28534666, "comment_id": 45383967, "body": "did you wanna grep solution?"}, {"owner": {"reputation": 546, "user_id": 3219193, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a0e6b554acaa9ccd450bba461976b63?s=128&d=identicon&r=PG&f=1", "display_name": "Doonyx", "link": "https://stackoverflow.com/users/3219193/doonyx"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424062600, "post_id": 28534666, "comment_id": 45383991, "body": "@Avinash Raj Whatever solution, it could run in bash shell (we can assume we have perl and python)"}, {"owner": {"reputation": 546, "user_id": 3219193, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a0e6b554acaa9ccd450bba461976b63?s=128&d=identicon&r=PG&f=1", "display_name": "Doonyx", "link": "https://stackoverflow.com/users/3219193/doonyx"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424062849, "post_id": 28534666, "comment_id": 45384057, "body": "For the person who down voted to my question. If you feel &quot;this question does not show any research effort. it is unclear or not useful&quot;. Please elaborate."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1424072163, "post_id": 28534666, "comment_id": 45387158, "body": "I&#39;m not the downvoter, but showing what you attempted and how it failed would usually be good form."}], "answers": [{"comments": [{"owner": {"reputation": 546, "user_id": 3219193, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a0e6b554acaa9ccd450bba461976b63?s=128&d=identicon&r=PG&f=1", "display_name": "Doonyx", "link": "https://stackoverflow.com/users/3219193/doonyx"}, "edited": false, "score": 0, "creation_date": 1424063147, "post_id": 28534835, "comment_id": 45384127, "body": "Thanks a lot. You saved my day."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1424062984, "creation_date": 1424062984, "answer_id": 28534835, "question_id": 28534666, "link": "https://stackoverflow.com/questions/28534666/how-to-grep-in-multiple-line-and-use-a-option/28534835#28534835", "title": "How to grep in multiple line and use -A option", "body": "<p>Through grep,</p>\n\n<pre><code>$ grep -oPz '(?s)[^\\n]*\\blittle\\b(?:(?!\\blittle\\b|\\bfleece\\b).)*fleece[^\\n]*(?:\\n[^\\n]*){4}' file\n3.Mary had a little lamb,\n4.Its fleece was white as snow\n5.And everywhere that Mary went,\n6.Mary went, Mary went,\n7.Everywhere that Mary went\n8.The lamb was sure to go\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/gV2vF1/2\" rel=\"nofollow\">REGEX DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 1, "last_activity_date": 1424072675, "creation_date": 1424072675, "answer_id": 28536670, "question_id": 28534666, "link": "https://stackoverflow.com/questions/28534666/how-to-grep-in-multiple-line-and-use-a-option/28536670#28536670", "title": "How to grep in multiple line and use -A option", "body": "<p>Somewhat less befuddlingly, here is a simple Awk script.</p>\n\n<pre><code>awk '/little/ { find_fleece=1; kept=$0; next }\n    find_fleece { find_fleece=0; if ($0 ~ /fleece/) {\n        print kept; print; tail=4; } else { tail=0 }; next }\n    tail-- &gt; 0' file\n</code></pre>\n"}], "owner": {"reputation": 546, "user_id": 3219193, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8a0e6b554acaa9ccd450bba461976b63?s=128&d=identicon&r=PG&f=1", "display_name": "Doonyx", "link": "https://stackoverflow.com/users/3219193/doonyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 28534835, "answer_count": 2, "score": 0, "last_activity_date": 1424072675, "creation_date": 1424061888, "last_edit_date": 1424071866, "question_id": 28534666, "link": "https://stackoverflow.com/questions/28534666/how-to-grep-in-multiple-line-and-use-a-option", "title": "How to grep in multiple line and use -A option", "body": "<p>If anybody can help me to find out and answer for following case, it would be much appreciated. I need a solution which should be able to execute in <code>bash shell</code>. </p>\n\n<p>Suppose I have file like this,</p>\n\n<pre><code>1.Mary had a little lamb,\n2.Little lamb, little lamb,\n3.Mary had a little lamb,\n4.Its fleece was white as snow\n5.And everywhere that Mary went,\n6.Mary went, Mary went,\n7.Everywhere that Mary went\n8.The lamb was sure to go\n9.It followed her to school one day\n10.School one day, school one day\n11.It followed her to school one day\n12.Which was against the rules.\n</code></pre>\n\n<p>My search criteria is like this,</p>\n\n<p>It should first search for word <code>little</code> (i.e. line 1 2 and 3) and in the next row there should be a word <code>fleece</code> (i.e. line 4 only) the output should print two matching lines (3 and 4) plus four lines after last searched line which is by <code>fleece</code> at line number 4. So final output should be <code>lines 3,4,5,6,7,8</code></p>\n\n<p>Solution could be a bash shell script, perl or python. </p>\n\n<p>Please share your ideas. </p>\n"}, {"tags": ["python", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 4, "creation_date": 1424060913, "post_id": 28534530, "comment_id": 45383603, "body": "Welcome to Stack Overflow! It looks like you want us to write some code for you. While many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on their own. A good way to demonstrate this effort is to include the code you&#39;ve written so far, example input (if there is any), the expected output, and the output you actually get (console output, stack traces, compiler errors - whatever is applicable). The more detail you provide, the more answers you are likely to receive."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 3, "creation_date": 1424060965, "post_id": 28534530, "comment_id": 45383610, "body": "Hi, and welcome to Stack Overflow. we&#39;re not going to write your code for you, but if you show us your awk scripts, we can help you to figure out what to do to make them work."}, {"owner": {"reputation": 23, "user_id": 4570460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0abaf67edeff9d1d71671f9a5adbb3?s=128&d=identicon&r=PG&f=1", "display_name": "nevegav", "link": "https://stackoverflow.com/users/4570460/nevegav"}, "edited": false, "score": 0, "creation_date": 1424065380, "post_id": 28534530, "comment_id": 45384682, "body": "Sure... with awk I tried but I couldn&#39;t (I&#39;would like that)... then I tried this...  while read col1 col2; do cat file2.txt | sed -i s/$col1/$col2/g file2.txt ; done &lt; file1.txt... but I can not &quot;collapse&quot;... and I think there are a lot of ways for doing this... Any help appreciated"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424065514, "post_id": 28534530, "comment_id": 45384719, "body": "add the above comment to your question."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4570460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0abaf67edeff9d1d71671f9a5adbb3?s=128&d=identicon&r=PG&f=1", "display_name": "nevegav", "link": "https://stackoverflow.com/users/4570460/nevegav"}, "edited": false, "score": 0, "creation_date": 1424066769, "post_id": 28535234, "comment_id": 45385093, "body": "Thanks Avinash Raj... so, how could I &quot;collapse&quot; each line to get unique ITEMs... for example something like this... ID200000000419  ITEM1;ITEM2;ITEM3;ITEM4;ID100000394921"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 23, "user_id": 4570460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0abaf67edeff9d1d71671f9a5adbb3?s=128&d=identicon&r=PG&f=1", "display_name": "nevegav", "link": "https://stackoverflow.com/users/4570460/nevegav"}, "edited": false, "score": 0, "creation_date": 1424069730, "post_id": 28535234, "comment_id": 45386180, "body": "it&#39;s better to ask this as a new question since i already answered the question you asked."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 23, "user_id": 4570460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0abaf67edeff9d1d71671f9a5adbb3?s=128&d=identicon&r=PG&f=1", "display_name": "nevegav", "link": "https://stackoverflow.com/users/4570460/nevegav"}, "edited": false, "score": 0, "creation_date": 1424069789, "post_id": 28535234, "comment_id": 45386205, "body": "Because you&#39;re new to StackOverflow, i suggest you to read <a href=\"http://stackoverflow.com/help/accepted-answer\">this</a>"}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1424065699, "creation_date": 1424065699, "answer_id": 28535234, "question_id": 28534530, "link": "https://stackoverflow.com/questions/28534530/if-the-first-column-of-file1-matches-any-string-in-file2-then-replace-it-with-t/28535234#28535234", "title": "If the first column of file1 matches any string in file2, then replace it with the second column of file1", "body": "<p>Through python3.</p>\n\n<pre><code>#!/usr/bin/python3\nwith open('file1.txt') as f, open('file2.txt') as r:\n    d = {}\n    m = f.read()\n    for line in m.split('\\n'):\n        try:\n            d.update(dict([tuple(line.split())]))\n        except:\n            pass\n    j = r.read()\n    for k in d:\n        j = j.replace(k, d[k])\n    print(j)    \n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>ID200000000419  ITEM1;ITEM3;ITEM1;ITEM2;ITEM1;ITEM4;ID100000394921\nID200000000938 ITEM5;ITEM2;ITEM3;ITEM1;ITEM7;ID100000363117;ITEM8;ITEM1  \nID200000001036  ITEM1;ITEM2;ITEM3;ITEM9;ID100000398119 \n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "edited": false, "score": 1, "creation_date": 1424077233, "post_id": 28535782, "comment_id": 45389438, "body": "For the initial uncompressed it would be easier to just use gsub <code>awk &#39;FNR==NR{a[$1]=$2;next}{for(i in a)gsub(i,a[i])...</code>"}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 1, "last_activity_date": 1424069156, "last_edit_date": 1424069156, "creation_date": 1424068659, "answer_id": 28535782, "question_id": 28534530, "link": "https://stackoverflow.com/questions/28534530/if-the-first-column-of-file1-matches-any-string-in-file2-then-replace-it-with-t/28535782#28535782", "title": "If the first column of file1 matches any string in file2, then replace it with the second column of file1", "body": "<p>This produces the collapsed output:</p>\n\n<pre><code>$ awk 'FNR==NR{a[$1]=$2;next} {c=\"\";delete d;delete e;split($2, b, /;/);for (i in b)c=c\";\"(a[b[i]]?a[b[i]]:b[i]);split(substr(c,2),d,/;/); for(i in d)e[d[i]]=1; c=\"\"; for (i in e){c=c\";\"i}; print $1,substr(c,2)}' file1.txt file2.txt\nID200000000419 ID100000394921;ITEM1;ITEM2;ITEM3;ITEM4\nID200000000938 ITEM1;ITEM2;ITEM3;ID100000363117;ITEM5;ITEM7;ITEM8\nID200000001036 ITEM1;ITEM2;ITEM3;ID100000398119;ITEM9\n</code></pre>\n\n<h3>How it works</h3>\n\n<ul>\n<li><p><code>FNR==NR{a[$1]=$2;next}</code></p>\n\n<p>While we are reading the first file, this creates an associative array <code>a</code> which associates the first field as a key with the second as a value.  Thus, the value of <code>a[ID100000360640]</code> is <code>ITEM1;ITEM2</code>.  This is done for all lines of <code>file1.txt</code>.  The <code>next</code> statement causes all the remaining commands to be skipped and jumps to the next line.</p></li>\n<li><p><code>c=\"\";delete d;delete e</code></p>\n\n<p>If we have gotten here, that means that we are working on the second file, <code>file2.txt</code>.  These three commands initialize variable <code>c</code> and arrays <code>d</code> and <code>e</code> for the new line.</p></li>\n<li><p><code>split($2, b, /;/)</code></p>\n\n<p>This splits the second field on semicolons and assigns the result to array <code>b</code>.  </p></li>\n<li><p><code>for (i in b)c=c\";\"(a[b[i]]?a[b[i]]:b[i])</code></p>\n\n<p>This creates the uncompressed output.</p></li>\n<li><p><code>split(substr(c,2),d,/;/); for(i in d)e[d[i]]=1</code></p>\n\n<p>This creates a associative array <code>e</code> whose keys are each of the fields in the uncompressed output.  </p></li>\n<li><p><code>c=\"\"</code></p>\n\n<p>This initializes <code>c</code> again to an empty line before we add to it the compressed output.</p></li>\n<li><p><code>for (i in e)c=c\";\"i</code></p>\n\n<p>For each key in array <code>e</code>, we add the key to string <code>c</code>.  This creates the compressed output.</p></li>\n<li><p><code>print $1,substr(c,2)</code></p>\n\n<p>This prints the complete compressed line.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "is_accepted": false, "score": 1, "last_activity_date": 1424079727, "last_edit_date": 1592644375, "creation_date": 1424079727, "answer_id": 28538444, "question_id": 28534530, "link": "https://stackoverflow.com/questions/28534530/if-the-first-column-of-file1-matches-any-string-in-file2-then-replace-it-with-t/28538444#28538444", "title": "If the first column of file1 matches any string in file2, then replace it with the second column of file1", "body": "<p>Reasonably short awk way</p>\n<pre><code>awk 'FNR==NR{a[$1]=$2;next}\n     {for(i in a)gsub(i,a[i])\n      x=split($2,b,&quot;;&quot;)\n      for(i=1;i&lt;=x;i++)y!~b[i]&quot;;&quot;&amp;&amp;y=y?y&quot;;&quot;b[i]:b[i];$2=y;y=&quot;&quot;}1' file file2\n</code></pre>\n<hr />\n<h3>Output</h3>\n<pre><code>ID200000000419 ITEM1;ITEM3;ITEM2;ITEM4;ID100000394921\nID200000000938 ITEM5;ITEM2;ITEM3;ITEM1;ITEM7;ID100000363117;ITEM8\nID200000001036 ITEM1;ITEM2;ITEM3;ITEM9;ID100000398119\n</code></pre>\n<hr />\n<h3>How it works</h3>\n<pre><code>FNR==NR{a[$1]=$2;next}\n</code></pre>\n<p>When the File Record Number matches total Record Number(effectively means whilst reading the first file) assign the second field to an array using the first field as a key.<code>Next</code> means skip all further instructions and go to the next record.</p>\n<pre><code>for(i in a)gsub(i,a[i])\n</code></pre>\n<p>Now we are in the second file as FNR!=NR anymore.<br />\nFor each element in the array <code>gsub</code> swaps everything that matches the key with what is contained in the array.</p>\n<pre><code>x=split($2,b,&quot;;&quot;)\n</code></pre>\n<p>Split the second field into array b separated by a <code>;</code>.<br />\nAssign the size of the array to x.</p>\n<pre><code>for(i=1;i&lt;=x;i++)\n</code></pre>\n<p>Loop from to the size of the array.</p>\n<pre><code>y!~b[i]&quot;;&quot;&amp;&amp;  \n</code></pre>\n<p>if variable y already contains the split value in b then don't continue.</p>\n<pre><code>y=y?y&quot;;&quot;b[i]:b[i] \n</code></pre>\n<p>if y exists add the value in b[i] to the end or else just set y to b[i].</p>\n<pre><code>$2=y;y=&quot;&quot;\n</code></pre>\n<p>Set second field to value in y(our new string) and reset y to nothing.</p>\n<hr />\n<h3>Resources</h3>\n<p><a href=\"https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html\" rel=\"nofollow noreferrer\">https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 4570460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0abaf67edeff9d1d71671f9a5adbb3?s=128&d=identicon&r=PG&f=1", "display_name": "nevegav", "link": "https://stackoverflow.com/users/4570460/nevegav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 28535782, "answer_count": 3, "score": 2, "last_activity_date": 1424079727, "creation_date": 1424060862, "last_edit_date": 1424060970, "question_id": 28534530, "link": "https://stackoverflow.com/questions/28534530/if-the-first-column-of-file1-matches-any-string-in-file2-then-replace-it-with-t", "title": "If the first column of file1 matches any string in file2, then replace it with the second column of file1", "body": "<p>I have this problem and I haven't solved it... I would like to manipulate this files.. if the first column of file1 matches any string in file2, then replace it with the second column of file1... then collapse it (I mean,I need just unique values per field or \"cell\" in second column of the output_file)..<br>\nIt doesn't matter which language solves this (awk, perl, python)... files contains 100000 lines or more... I've been trying one-line awk scripts, but nothing...  </p>\n\n<p>Any help appreciated.<br>\nRegards</p>\n\n<p>file1.txt  </p>\n\n<pre><code>ID100000360640  ITEM1;ITEM2  \nID100000360638  ITEM1;ITEM3  \nID100000360644  ITEM1;ITEM4  \nID100000363115  ITEM5;ITEM2;ITEM3  \nID100000363116  ITEM1;ITEM7  \nID100000382126  ITEM8;ITEM1  \nID100000002165  ITEM1;ITEM2;ITEM3;ITEM9  \nID100000002596  ITEM1;ITEM10  \nID100000003084  ITEM1  \n</code></pre>\n\n<p>file2.txt  </p>\n\n<pre><code>ID200000000419  ID100000360638;ID100000360640;ID100000360644;ID100000394921\nID200000000938 ID100000363115;ID100000363116;ID100000363117;ID100000382126  \nID200000001036  ID100000002165;ID100000398119 \n</code></pre>\n\n<p>output_expected.txt  </p>\n\n<pre><code>ID200000000419  ITEM1;ITEM3;ITEM1;ITEM2;ITEM1;ITEM4;ID100000394921  \nID200000000938  ITEM5;ITEM2;ITEM3;ITEM1;ITEM7;ID100000363117;ITEM8;ITEM1;  \nID200000001036  ITEM1;ITEM2;ITEM3;ITEM9;ID100000398119  \n</code></pre>\n\n<p>processed_output.txt  </p>\n\n<pre><code>ID200000000419  ITEM1;ITEM2;ITEM3;ITEM4;ID100000394921  \nID200000000938  ITEM1;ITEM2;ITEM3;ITEM5;ITEM7;ITEM8;ID100000363117;  \nID200000001036  ITEM1;ITEM2;ITEM3;ITEM9;ID100000398119 \n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "ssh"], "answers": [{"tags": [], "owner": {"reputation": 870, "user_id": 604464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c71612818ca9b86bc9906d47afd0e2f?s=128&d=identicon&r=PG", "display_name": "ratsbane", "link": "https://stackoverflow.com/users/604464/ratsbane"}, "is_accepted": true, "score": 1, "last_activity_date": 1424099964, "last_edit_date": 1424099964, "creation_date": 1424060830, "answer_id": 28534521, "question_id": 28533538, "link": "https://stackoverflow.com/questions/28533538/perl-loop-ssh-command-with-line-by-line-variable/28534521#28534521", "title": "Perl - Loop SSH command with line by line variable", "body": "<p>Try this:</p>\n\n<pre><code>#-- creating a channel\nmy $channel = $ssh-&gt;channel();\n$channel-&gt;shell();\n\nopen my $enable, '&lt;', 'x1';\n\nwhile (my $command = &lt;$enable&gt;) {\n  $channel-&gt;write( $command );\n  }\n\n$channel-&gt;write( $final_command );\n</code></pre>\n\n<p>Also note that you need a newline after each command so I left out the chomp.</p>\n\n<p>From the <a href=\"https://metacpan.org/pod/Net::SSH2::Channel#exec-command\" rel=\"nofollow\"><code>Net::SSH2</code> documentation </a>:</p>\n\n<p>\"Note that only one of these requests can succeed per channel (cp. \"exec\" in perlfunc); if you want to run a series of commands, consider using shell instead.\"</p>\n\n<p>I hope that helps.</p>\n"}], "owner": {"reputation": 121, "user_id": 4570271, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/98f31fd3c97f32a5bf23a4e026311664?s=128&d=identicon&r=PG&f=1", "display_name": "Rdang", "link": "https://stackoverflow.com/users/4570271/rdang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 1, "accepted_answer_id": 28534521, "answer_count": 1, "score": 2, "last_activity_date": 1424099964, "creation_date": 1424052164, "last_edit_date": 1424072360, "question_id": 28533538, "link": "https://stackoverflow.com/questions/28533538/perl-loop-ssh-command-with-line-by-line-variable", "title": "Perl - Loop SSH command with line by line variable", "body": "<p>I want to run a command over SSH and make it loop until my variable has read all the lines from a file .</p>\n\n<p>I have this : </p>\n\n<pre><code>$channel = $ssh-&gt;channel();\n$channel-&gt;exec('echo -n \"$command\"') \n$channel-&gt;exec('rest of commands')\n</code></pre>\n\n<p>What I need to do is to run that <code>echo</code> command with the variable being each line from my local file <code>/home/variables</code> in a loop.</p>\n\n<p>It should keep looping the <code>echo</code> command until all the lines from my file are finished before it moves to the rest of the script.</p>\n\n<p>I thought I should use something like :</p>\n\n<pre><code>open my $enable, '&lt;', '/home/variables';\n\nwhile (my $command = &lt;$enable&gt;) {\nchomp $command;\n$channel-&gt;exec(\"echo -n $command\");\nlast;\n$channel-&gt;exec('next command');\n</code></pre>\n\n<p>It's not really looping though .</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "cgi.pm"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1424051905, "creation_date": 1424051905, "answer_id": 28533499, "question_id": 28533436, "link": "https://stackoverflow.com/questions/28533436/perl-cgi-pm-lists-vs-strings-to-build-pages/28533499#28533499", "title": "perl CGI.pm: lists vs strings to build pages", "body": "<p>Unless you change the default value of <code>$,</code>,</p>\n\n<pre><code>print EXPR1, EXPR2;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>print EXPR1 . EXPR2;\n</code></pre>\n\n<p>produce the same result if the expressions aren't context-specific. The functions in question always return an HTML string, so you're good.</p>\n"}, {"comments": [{"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 1, "creation_date": 1424103320, "post_id": 28539623, "comment_id": 45404507, "body": "great advice.  this is a new project, and I primarily wanted to move to what the &quot;standard&quot; is.  learning and moving to deprecated is not my plan."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1424083491, "last_edit_date": 1495541560, "creation_date": 1424083491, "answer_id": 28539623, "question_id": 28533436, "link": "https://stackoverflow.com/questions/28533436/perl-cgi-pm-lists-vs-strings-to-build-pages/28539623#28539623", "title": "perl CGI.pm: lists vs strings to build pages", "body": "<p>You're right that the two examples have the same effect (well, <a href=\"https://stackoverflow.com/a/28533499/7231\">as ikegami says</a>, unless you have changed <code>$,</code>). The only difference is, of course, that in the first example, <code>print</code> is passed one string and in the second example, it gets two.</p>\n\n<p>But have you read the <a href=\"https://metacpan.org/pod/CGI#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow noreferrer\">comments about the HTML generation functions</a> in recent versions of the CGI.pm documentation?</p>\n\n<blockquote>\n  <p>All HTML generation functions within CGI.pm are no longer being\n  maintained. Any issues, bugs, or patches will be rejected unless they\n  relate to fundamentally broken page rendering.</p>\n  \n  <p>The rationale for this is that the HTML generation functions of CGI.pm\n  are an obfuscation at best and a maintenance nightmare at worst. You\n  should be using a template engine for better separation of concerns.\n  See CGI::Alternatives for an example of using CGI.pm with the\n  Template::Toolkit module.</p>\n  \n  <p>These functions, and perldoc for them, will continue to exist in the\n  v4 releases of CGI.pm but may be deprecated (soft) in v5 and beyond.</p>\n</blockquote>\n\n<p>I would seriously consider moving way from these functions (and, indeed, CGI.pm itself) for new work.</p>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1424083491, "creation_date": 1424051374, "question_id": 28533436, "link": "https://stackoverflow.com/questions/28533436/perl-cgi-pm-lists-vs-strings-to-build-pages", "title": "perl CGI.pm: lists vs strings to build pages", "body": "<p>Is there a reason why CGI.pm examples rely on list concatenation rather than on string concatenation?  are the two interchangeable?  think</p>\n\n<pre><code>print q-&gt;hidden(-name =&gt;'rm', -value =&gt; $var).\n      q-&gt;submit(-name =&gt;\"rm$var\");\n</code></pre>\n\n<p>vs.</p>\n\n<pre><code>print q-&gt;hidden(-name =&gt;'rm', -value =&gt; $var),\n      q-&gt;submit(-name =&gt;\"rm$var\");\n</code></pre>\n\n<p>I have a specific reason for asking.  it is very convenient to build up a page from strings.  after all, perl understands scalar strings as basic types.</p>\n\n<p>however, I am completely perplexed by some odd behavior in the string concat context.  Specifically, I have encountered occasional cases in which the $var in the hidden is not the same as the one in the submit button.  I could work around this, but I would rather understand CGI.pm .</p>\n\n<p>could someone please explain whether string concat should work?</p>\n"}, {"tags": ["perl", "nlp", "treetagger"], "comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1424047195, "post_id": 28532907, "comment_id": 45380788, "body": "have you followed the instructions? where are your problems? You just call it like any other command line program. From within the installation directory, you do <code>cmd&#47;tree-tagger-\u2039your language\u203a-utf8 &lt; \u2039your text file\u203a</code>."}, {"owner": {"reputation": 31, "user_id": 4570127, "user_type": "registered", "profile_image": "https://graph.facebook.com/757942167629271/picture?type=large", "display_name": "Mar&#237;a Calzada", "link": "https://stackoverflow.com/users/4570127/mar%c3%ada-calzada"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1425382250, "post_id": 28532907, "comment_id": 45931211, "body": "Thanks Patrick. Your answer got me on the right track."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1441356693, "post_id": 28532907, "comment_id": 52656409, "body": "I think this could be closed or something. rtfm, but it is still in unanswered questions."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4550708, "user_type": "registered", "profile_image": "https://graph.facebook.com/1410718859222971/picture?type=large", "display_name": "Aris Xanthos", "link": "https://stackoverflow.com/users/4550708/aris-xanthos"}, "is_accepted": false, "score": 0, "last_activity_date": 1446801946, "creation_date": 1446801946, "answer_id": 33563407, "question_id": 28532907, "link": "https://stackoverflow.com/questions/28532907/on-using-lingua-treetagger-0-06/33563407#33563407", "title": "On using Lingua-TreeTagger-0.06", "body": "<p>Lingua::TreeTagger is a Perl module that is useful only if you want to use TreeTagger from within a Perl script. Examples of how to do so are given in <a href=\"http://search.cpan.org/dist/Lingua-TreeTagger/lib/Lingua/TreeTagger.pm\" rel=\"nofollow\">the module's online documentation</a>. Otherwise you should call the tree-tagger application from the terminal as commented by Patrick J.S. above (unless you are on Windows, where <a href=\"http://www.smo.uhi.ac.uk/~oduibhin/oideasra/interfaces/winttinterface.htm\" rel=\"nofollow\">a user-friendly graphical interface</a> is available). </p>\n"}], "owner": {"reputation": 31, "user_id": 4570127, "user_type": "registered", "profile_image": "https://graph.facebook.com/757942167629271/picture?type=large", "display_name": "Mar&#237;a Calzada", "link": "https://stackoverflow.com/users/4570127/mar%c3%ada-calzada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1469353283, "creation_date": 1424046463, "last_edit_date": 1469353283, "question_id": 28532907, "link": "https://stackoverflow.com/questions/28532907/on-using-lingua-treetagger-0-06", "title": "On using Lingua-TreeTagger-0.06", "body": "<p>I am very, very new to NLP and the like. Therefore, I have a very basic question. I want to POS-tag an corpus of files with TreeTagger using a <code>Mac OSX 10.6.8</code>. I have installed <code>TreeTagger</code> by using the instructions provided at <a href=\"http://www.cis.uni-muenchen.de/~schmid/tools/TreeTagger/\" rel=\"nofollow\">http://www.cis.uni-muenchen.de/~schmid/tools/TreeTagger/</a></p>\n\n<p>[<em>I installed it in /Applications</em>]</p>\n\n<p>Then I have installed <code>Lingua-TreeTagger-0.06</code> for '<em>for calling the TreeTagger and manipulating its output</em>'. This took a lot of effort to do. </p>\n\n<p>[<em>I installed it in /Applications</em>]</p>\n\n<p>I think I have succeeded in the previous steps. Now what? I mean how do I call Tree-Tagger? </p>\n\n<p>Thanks to anybody who could help me? </p>\n\n<p>mc</p>\n"}, {"tags": ["python", "c++", "perl", "swig"], "answers": [{"tags": [], "owner": {"reputation": 1040, "user_id": 1858132, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9a515b52cf68881faab67b2400f37a96?s=128&d=identicon&r=PG", "display_name": "Oleg Titov", "link": "https://stackoverflow.com/users/1858132/oleg-titov"}, "is_accepted": false, "score": 1, "last_activity_date": 1424262894, "creation_date": 1424262894, "answer_id": 28583825, "question_id": 28532168, "link": "https://stackoverflow.com/questions/28532168/make-bindings-aware-of-ancestor-bindings/28583825#28583825", "title": "Make bindings aware of ancestor bindings", "body": "<p>Finally, I've found the solution.</p>\n\n<p>It's as simple as adding <code>%import \"LargeLibrary.i\"</code> in the interface file.</p>\n"}], "owner": {"reputation": 1040, "user_id": 1858132, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9a515b52cf68881faab67b2400f37a96?s=128&d=identicon&r=PG", "display_name": "Oleg Titov", "link": "https://stackoverflow.com/users/1858132/oleg-titov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424262894, "creation_date": 1424040513, "last_edit_date": 1424161138, "question_id": 28532168, "link": "https://stackoverflow.com/questions/28532168/make-bindings-aware-of-ancestor-bindings", "title": "Make bindings aware of ancestor bindings", "body": "<p>I have a C++ class derived from a library class. </p>\n\n<pre><code>class Derived : public LargeLibrary::ParentWithHugeInterface\n{\n  // add some methods\n  // override some other methods\n};\n</code></pre>\n\n<p>This library has its own Python and Perl bindings (created with SWIG). Now I want to create similar bindings for my own class. Can I make my bindings aware of <code>LargeLibrary</code>'s legacy to get to use <code>Derived</code> with <code>LargeLibrary</code>'s methods and get its parent's interface?</p>\n\n<p>Update:\nI have found Python's <code>PyTypeObject* PyTypeObject.tp_base</code> slot, however I still cannnot understand how to make use of it. </p>\n"}, {"tags": ["c++", "perl", "swig"], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 1858132, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9a515b52cf68881faab67b2400f37a96?s=128&d=identicon&r=PG", "display_name": "Oleg Titov", "link": "https://stackoverflow.com/users/1858132/oleg-titov"}, "edited": false, "score": 0, "creation_date": 1424097792, "post_id": 28542062, "comment_id": 45401104, "body": "Making this <code>to_string</code> method is trivial: <code>std::ostringstream strm; printMe(strm); return strm.str();</code> The problem is I cannot find what exactly should I overload so perl could understand the <code>print $v;</code> construct."}, {"owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "reply_to_user": {"reputation": 1040, "user_id": 1858132, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9a515b52cf68881faab67b2400f37a96?s=128&d=identicon&r=PG", "display_name": "Oleg Titov", "link": "https://stackoverflow.com/users/1858132/oleg-titov"}, "edited": false, "score": 0, "creation_date": 1424163248, "post_id": 28542062, "comment_id": 45427841, "body": "The stringification operator. Something like <code>use overload &#39;&quot;&quot;&#39; =&gt; \\&amp;to_string;</code>"}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": false, "score": 0, "last_activity_date": 1424091881, "creation_date": 1424091881, "answer_id": 28542062, "question_id": 28532030, "link": "https://stackoverflow.com/questions/28532030/swig-make-c-objects-printable-in-perl/28542062#28542062", "title": "swig: make c++ objects printable in perl?", "body": "<p>From what you write here, probably not. It looks like the <code>printMe()</code> method actually sends the formatted string to an output stream, which is not so useful. What you'd need is a method that creates the string and then returns it, so it can be passed up to the Perl level and later given as an argument to Perl's <code>print</code> builtin.</p>\n\n<p>If there is a C++ method that returns a suitable string form, you'll want to read <code>perldoc overload</code> to learn how to make using it more convenient.</p>\n"}], "owner": {"reputation": 1040, "user_id": 1858132, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9a515b52cf68881faab67b2400f37a96?s=128&d=identicon&r=PG", "display_name": "Oleg Titov", "link": "https://stackoverflow.com/users/1858132/oleg-titov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1424091881, "creation_date": 1424039640, "last_edit_date": 1424040834, "question_id": 28532030, "link": "https://stackoverflow.com/questions/28532030/swig-make-c-objects-printable-in-perl", "title": "swig: make c++ objects printable in perl?", "body": "<p>I'm creating perl bindings for my c++ classes with SWIG. Each class has a <code>printMe(std::ostream&amp;)</code> method in C++ for nice output. Can I make my classes printable in Perl so the following code would produce this nice output?</p>\n\n<pre><code>my $v = new MyVector();\nprint $v;\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 4, "creation_date": 1424029959, "post_id": 28530123, "comment_id": 45375775, "body": "When you accepted my previous answer (<a href=\"http://stackoverflow.com/a/28503335/725418\">stackoverflow.com/a/28503335/725418</a>) about the same code, I assumed that you understood my comments about the code (which, by the way makes this question redundant). When reading your code now, I see that you did not use <i>anything</i> of what I said, not even to use strict and warnings. Was there something you did not understand?"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 2783903, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ecd8d52090a933ee3362bd05b95e8e6c?s=128&d=identicon&r=PG&f=1", "display_name": "JonB", "link": "https://stackoverflow.com/users/2783903/jonb"}, "is_accepted": false, "score": 0, "last_activity_date": 1424028693, "creation_date": 1424028693, "answer_id": 28530202, "question_id": 28530123, "link": "https://stackoverflow.com/questions/28530123/how-to-combine-directory-path-in-perl/28530202#28530202", "title": "how to combine directory path in perl", "body": "<p>This will add the trailing slash if not there:</p>\n\n<pre><code>$dirPath =~ s!/*$!/!;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 6, "last_activity_date": 1424028716, "creation_date": 1424028716, "answer_id": 28530207, "question_id": 28530123, "link": "https://stackoverflow.com/questions/28530123/how-to-combine-directory-path-in-perl/28530207#28530207", "title": "how to combine directory path in perl", "body": "<p>The answer is in the documentation for <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"noreferrer\">File::Spec</a>, e.g., catfile:</p>\n\n<pre><code> $path = File::Spec-&gt;catfile( @directories, $filename );\n</code></pre>\n\n<p>or catpath:</p>\n\n<pre><code> $full_path = File::Spec-&gt;catpath( $volume, $directory, $file );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1424041864, "post_id": 28531105, "comment_id": 45379598, "body": "yes i did took the advice given to me in previous posts. Reason i did not included libraries is because was trying to show only the area of code which needed answer (but from now on i will make sure warning/strict) libraries are always included) . My actual script is bigger and more complicated then what i have shown above. Sorry for confusion. Yes i got the answer and it worked fine using catfile. Thanks for helping"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1424042681, "post_id": 28531105, "comment_id": 45379794, "body": "@user1188611: It is strange to leave out <code>use strict</code> but include <code>#!&#47;usr&#47;bin&#47;perl</code>! I&#39;m glad you found your answer."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 10, "last_activity_date": 1424034021, "creation_date": 1424034021, "answer_id": 28531105, "question_id": 28530123, "link": "https://stackoverflow.com/questions/28530123/how-to-combine-directory-path-in-perl/28531105#28531105", "title": "how to combine directory path in perl", "body": "<p><em>Please</em> take heed of the advice you are given. It is ridiculous to keep asking questions when comments and answers to previous posts are being ignored.</p>\n\n<p>You <em>must always</em> <code>use strict</code> and <code>use warnings</code> at the top of <em>every</em> Perl program you write, and declare every variable using <code>my</code>. It isn't hard to do, and you will be reprimanded if you post code that doesn't have these measures in place.</p>\n\n<p>You <code>use</code> the <code>File::Spec</code> module in your program but never make use of it. It is often easier to use <a href=\"https://metacpan.org/module/File::Spec::Functions\" rel=\"noreferrer\"><code>File::Spec::Functions</code></a> instead, which exports the methods provided by <code>File::Spec</code> so that there is no need to use the object-oriented call style.</p>\n\n<p><code>catfile</code> will correctly join a file (or directory) name to a path, doing the right thing if path separators are incorrect. This rewrite of your program works fine.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Spec::Functions 'catfile';\n\nif (@ARGV != 1) {\n   print \"\\nUsage: $0 &lt;input directory&gt;\\n\";\n   exit;\n}\n\nmy ($dir_path) = @ARGV;\nmy $xml_pattern = catfile($dir_path, '*.xml');\n\nwhile ( my $xml_file = glob($xml_pattern) ) {\n   print \"Absolute path is $xml_file\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7626, "favorite_count": 0, "accepted_answer_id": 28531105, "answer_count": 3, "score": 9, "last_activity_date": 1424034021, "creation_date": 1424028186, "last_edit_date": 1424030663, "question_id": 28530123, "link": "https://stackoverflow.com/questions/28530123/how-to-combine-directory-path-in-perl", "title": "how to combine directory path in perl", "body": "<p>I am having a perl script in which i am giving path to directory as input.\nDirectory has xml files inside it.</p>\n\n<p>In my code i am iterating through all the xml files and creating absolute path for all xml files. Code is working fine. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse File::Spec;\n\n$num_args = $#ARGV + 1;\nif ($num_args != 1) {\n   print \"\\nUsage: $0 &lt;input directory&gt;\\n\";\n   exit;\n}\n\nmy $dirPath = $ARGV[0];\n\nopendir(DIR, $dirPath);\nmy @docs = grep(/\\.xml$/,readdir(DIR));\n\nforeach my $file (@docs) \n{\n   my $abs_path = join(\"\",$dir,$file);\n\n   print \"absolute path is $abs_path\";\n}\n</code></pre>\n\n<p>Question i have here is, \njoining $dirPath and $file with no separator which means that $dirPath must end in a \"/\". So is there any way or built in function in perl which take cares of this condition and replaces the join method.</p>\n\n<p>All i want is not to worry about the separator \"/\". Even if script is called with path as \"/test/dir_to_process\" or \"/test/dir_to_process/\", i should be able to produce the correct absolute path to all xml files present without worrying about the separator.</p>\n\n<p>Let me know if anyone has any suggestions.</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1424025296, "post_id": 28529592, "comment_id": 45374323, "body": "Still waiting for the punchline."}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "reply_to_user": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1424025356, "post_id": 28529592, "comment_id": 45374342, "body": "they both work the same. The question is &quot;what is the added value of the m?&quot;. Why most examples use m/ /, while just / / makes the job?"}, {"owner": {"reputation": 4329, "user_id": 3917091, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/04c742a0661e8f6dd68e8a1ce4345fa0?s=128&d=identicon&r=PG&f=1", "display_name": "Regular Jo", "link": "https://stackoverflow.com/users/3917091/regular-jo"}, "edited": false, "score": 0, "creation_date": 1424025557, "post_id": 28529592, "comment_id": 45374398, "body": "<a href=\"http://www.regular-expressions.info/perl.html\" rel=\"nofollow noreferrer\">regular-expressions.info/perl.html</a> from a google search for <code>perl if m</code>"}, {"owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "edited": false, "score": 0, "creation_date": 1424025822, "post_id": 28529592, "comment_id": 45374466, "body": "I know this page. It doesn&#39;t explain anything about // (without m). If m/ / compares regular expressions, how is it possible that this comparison is done even without writing the &#39;m&#39;?"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 3, "creation_date": 1424049161, "post_id": 28529592, "comment_id": 45381184, "body": "This is a good question for a beginner. I know many beginners who are confused by this and wonder if there is a difference."}], "answers": [{"tags": [], "owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "is_accepted": true, "score": 5, "last_activity_date": 1424026262, "creation_date": 1424026262, "answer_id": 28529800, "question_id": 28529592, "link": "https://stackoverflow.com/questions/28529592/perl-strings-comparison-and-regex/28529800#28529800", "title": "perl - strings comparison and regex", "body": "<p><code>m</code> is indicator that you're about to use matching regexp, as opposed to replacing, using transliteration or other operators that can be used with <code>/</code>. If you use <code>/</code> as separator, then <code>m</code> is optional. Standalone <code>/</code> assumes <code>m</code>. <code>m</code> is mandatory if you want to use other symbols as quotes around regexp like <code>$str =~ m|$regexp|</code>. This is useful for writing more readable code if you regexp contains lots of <code>/</code> inside so you don't have to quote them.</p>\n\n<p>Additionally, some other separators that can be specified with <code>m</code> will process quoted string differently.\n<a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"noreferrer\">http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators</a></p>\n\n<blockquote>\n  <p>With the m you can use any pair of non-whitespace (ASCII) characters\n  as delimiters. This is particularly useful for matching path names\n  that contain \"/\", to avoid LTS (leaning toothpick syndrome). If \"?\" is\n  the delimiter, then a match-only-once rule applies, described in\n  m?PATTERN? below. If \"'\" (single quote) is the delimiter, no\n  interpolation is performed on the PATTERN. When using a character\n  valid in an identifier, whitespace is required after the m.</p>\n</blockquote>\n"}], "owner": {"reputation": 179, "user_id": 3189985, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ab41adec68de3485636a7cf1e857654a?s=128&d=identicon&r=PG&f=1", "display_name": "user3189985", "link": "https://stackoverflow.com/users/3189985/user3189985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1366, "favorite_count": 0, "accepted_answer_id": 28529800, "answer_count": 1, "score": 1, "last_activity_date": 1424030339, "creation_date": 1424025186, "last_edit_date": 1424030339, "question_id": 28529592, "link": "https://stackoverflow.com/questions/28529592/perl-strings-comparison-and-regex", "title": "perl - strings comparison and regex", "body": "<p>What is the difference between the two lines? </p>\n\n<pre><code>if ($data =~ m/$str/) {\n       ####  ^--- HERE\n    print \"OK\"; \n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>if ($data =~ /$str/) {\n    print \"OK\"; \n}\n</code></pre>\n\n<p>The whole difference is just an 'm'.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 25391, "user_id": 454252, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/d7RlD.png?s=128&g=1", "display_name": "allenhwkim", "link": "https://stackoverflow.com/users/454252/allenhwkim"}, "edited": false, "score": 1, "creation_date": 1424019659, "post_id": 28528545, "comment_id": 45372407, "body": "Thanks, I need to learn what slurp mode is. learning never ends :)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1424021277, "post_id": 28528545, "comment_id": 45372939, "body": "<code>-00</code> is paragraph mode, it just works by coincidence because the input does not have two consecutive newlines. See <code>perldoc -v &quot;$&#47;&quot;</code> for more info."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1424021379, "post_id": 28528545, "comment_id": 45372982, "body": "yep, that&#39;s what i said. Perl splits the input according to two newline characters. I think the term slurp is wrong here. So that i added <code>-0777pe</code>"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1424030270, "post_id": 28528545, "comment_id": 45375886, "body": "@AvinashRaj Well, using <code>-00</code> is wrong, no matter what you call it. Using <code>-0777</code> is correct."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 4, "last_activity_date": 1424021130, "last_edit_date": 1424021130, "creation_date": 1424019355, "answer_id": 28528545, "question_id": 28528483, "link": "https://stackoverflow.com/questions/28528483/perl-replace-not-working-as-expected/28528545#28528545", "title": "Perl replace not working as expected", "body": "<p>By default Perl processes the input line by line. Since you're working with multiple lines, you need to enable paragraph  mode.</p>\n\n<pre><code>perl -00pe 's~&lt;!-- build:js ([^ ]+) --&gt;[^\\!]+&lt;!-- endbuild:js --&gt;~&lt;script src=\"$1\"&gt;&lt;/script&gt;~gm'\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>perl -0777pe 's~&lt;!-- build:js ([^ ]+) --&gt;[^\\!]+&lt;!-- endbuild:js --&gt;~&lt;script src=\"$1\"&gt;&lt;/script&gt;~gm'\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>$ echo '&lt;!doctype html&gt;\n&gt;     &lt;html&gt;\n&gt;     &lt;head&gt;\n&gt;       &lt;script src=\"lib/angular.js\"&gt;&lt;/script&gt;\n&gt;       &lt;!-- build:js ../ute.min.js --&gt;\n&gt;       &lt;script src=\"app/app.js\"&gt;&lt;/script&gt;\n&gt;       &lt;script src=\"app/services/uteEndpoint.js\"&gt;&lt;/script&gt;\n&gt;       &lt;!-- endbuild:js --&gt;' |  perl -0777pe 's/&lt;!-- build:js ([^ ]+) --&gt;[^\\!]+&lt;!-- endbuild:js --&gt;/&lt;script src=\"$1\"&gt;&lt;\\/script&gt;/gm'\n&lt;!doctype html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n      &lt;script src=\"lib/angular.js\"&gt;&lt;/script&gt;\n      &lt;script src=\"../ute.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 25391, "user_id": 454252, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/d7RlD.png?s=128&g=1", "display_name": "allenhwkim", "link": "https://stackoverflow.com/users/454252/allenhwkim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 28528545, "answer_count": 1, "score": 1, "last_activity_date": 1424021130, "creation_date": 1424019023, "question_id": 28528483, "link": "https://stackoverflow.com/questions/28528483/perl-replace-not-working-as-expected", "title": "Perl replace not working as expected", "body": "<p>I want to replace the multiple js file block to a minified version using perl command.</p>\n\n<p>When I tested it on online website, it works\nbut when I run in command line, it does not.</p>\n\n<pre><code>echo '&lt;!doctype html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n      &lt;script src=\"lib/angular.js\"&gt;&lt;/script&gt;\n      &lt;!-- build:js ../ute.min.js --&gt;\n      &lt;script src=\"app/app.js\"&gt;&lt;/script&gt;\n      &lt;script src=\"app/services/uteEndpoint.js\"&gt;&lt;/script&gt;\n      &lt;!-- endbuild:js --&gt;' |  perl -pe 's/&lt;!-- build:js ([^ ]+) --&gt;[^\\!]+&lt;!-- endbuild:js --&gt;/&lt;script src=\"$1\"&gt;&lt;\\/script&gt;/gm'\n</code></pre>\n\n<p>What am I doing wrong in command line?</p>\n\n<p>I have tested here, <a href=\"http://www.regexe.com/\" rel=\"nofollow\">http://www.regexe.com/</a>, and my expected output is </p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;script src=\"lib/angular.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"../ute.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1424013754, "post_id": 28527527, "comment_id": 45370613, "body": "<code>($_)[1]</code> .... ? Why would that work when you loop over a list of scalar values?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1424021295, "post_id": 28527527, "comment_id": 45372952, "body": "<a href=\"https://metacpan.org/pod/PerlPowerTools\" rel=\"nofollow noreferrer\">metacpan.org/pod/PerlPowerTools</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33858, "user_id": 773159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcd72af6d7d5fdd28fc45289da3792a?s=128&d=identicon&r=PG", "display_name": "Birei", "link": "https://stackoverflow.com/users/773159/birei"}, "is_accepted": false, "score": 2, "last_activity_date": 1424013826, "creation_date": 1424013826, "answer_id": 28527649, "question_id": 28527527, "link": "https://stackoverflow.com/questions/28527527/how-to-replicate-cat-sort-uniq-in-native-perl-code/28527649#28527649", "title": "How to replicate cat/sort/uniq in native Perl code?", "body": "<p>You can achieve it with a one-liner, and use the <code>END</code> block to do sorting, like:</p>\n\n<pre><code>perl -ne '$h{ $_ } = 1; END { print sort keys %h }' $TMPDIR/files.*\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "edited": false, "score": 1, "creation_date": 1425829200, "post_id": 28527727, "comment_id": 46112402, "body": "Thanks TLP. Nice information but I ultimately used the other."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": false, "score": 2, "last_activity_date": 1424014338, "creation_date": 1424014338, "answer_id": 28527727, "question_id": 28527527, "link": "https://stackoverflow.com/questions/28527527/how-to-replicate-cat-sort-uniq-in-native-perl-code/28527727#28527727", "title": "How to replicate cat/sort/uniq in native Perl code?", "body": "<p><a href=\"https://metacpan.org/pod/List::MoreUtils#uniq-LIST\" rel=\"nofollow\"><code>List::MoreUtils::uniq</code></a> can do the work of the function with the same name. For <code>cat</code>, I would simply use <code>&lt;&gt;</code>. Though of course, you should know that that is a \"useless use of cat\" you have there. Sort is <code>sort</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::MoreUtils qw(uniq);\n\nmy @list = uniq(&lt;&gt;);\nmy @sorted = sort @list;\n\nprint @sorted;\n</code></pre>\n\n<p>Note that you do not have to add newline to the lines, because they already have one.</p>\n\n<p>If you do not wish to use the module, the code for <code>uniq</code> is fairly simple and can just be copy/pasted.</p>\n\n<pre><code>sub uniq {\n    my %seen;\n    grep { not $seen{$_}++ } @_;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "edited": false, "score": 0, "creation_date": 1425828826, "post_id": 28527893, "comment_id": 46112282, "body": "Thanks, Borodin. This worked, but been too busy to revisit this forum. You detailed comments have been most helpful as I&#39;ve worked through this cross-platform update."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1424015960, "last_edit_date": 1424015960, "creation_date": 1424015341, "answer_id": 28527893, "question_id": 28527527, "link": "https://stackoverflow.com/questions/28527527/how-to-replicate-cat-sort-uniq-in-native-perl-code/28527893#28527893", "title": "How to replicate cat/sort/uniq in native Perl code?", "body": "<p>There are a couple of problems with your code</p>\n\n<ul>\n<li><p>I assume you have extrapolated the expression <code>++$lines{ ($_)[1] }</code> from something like <code>++$lines{ (split)[1] }</code>. But there is a difference because <code>split</code> returns a <em>list</em> of fields. <code>($_)[1]</code> is attempting to extract the second element from a one-element list. You want simply <code>++$lines{$_}</code></p></li>\n<li><p>in <code>print OUT $lines{$key}</code> you are printing the <em>values</em> of the hash <code>%lines</code>. But it is being used simply as a device to create a unique list, and the values are just the count of the times each line appears in the files. You want the <em>keys</em> instead, so <code>print OUT $key, \"\\n\"</code> is correct</p></li>\n</ul>\n\n<p>There are also a few instances of bad practice which don't stop your program working but should be fixed anyway.</p>\n\n<ul>\n<li><p>Local variables should use only lower case letters, numbers, and underscores. Capital letters are reserved for global identifiers</p></li>\n<li><p>You should use <em>lexical</em> file handles, such as <code>open my $in_fh, ...</code> instead of <code>open IN, ...</code>. Global variables are a bad idea in general, and it also obviates the need to <code>close</code> a file handle at the end of its scope as it will happen automatically</p></li>\n<li><p>You should <em>always</em> put <code>$!</code> into the <code>die</code> string when an I/O operation has failed. It is often adequate to use just <code>die $!</code>, as the output includes the source file name and line number</p></li>\n<li><p>It is best to use <code>catfile</code> from <a href=\"https://metacpan.org/module/File::Spec::Functions\" rel=\"nofollow\"><code>File::Spec::Functions</code></a> rather than just using string concatenation. It handles things like multiple path separators properly and is also clearer to read</p></li>\n<li><p>You shouldn't put quotes around a bare variable. So, for instance, <code>open(IN, \"&lt;\", \"$glob\")</code> should be <code>open(IN, \"&lt;\", $glob)</code>. Adding quotes will make no difference at best, and at worst it will provide you with a completely different string</p></li>\n</ul>\n\n<p>This is how I would refactor your program</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Spec::Functions 'catfile';\n\nmy $temp_dir = '.';\n\nmy $glob_pat = catfile($temp_dir, 'parts.*');\nmy $out_file = catfile($temp_dir, 'out.txt');\n\nmy %lines;\n\nwhile ( my $parts_file = glob($glob_pat) ) {\n    open my $in_fh, '&lt;', $parts_file or die qq{Can't read \"$parts_file\": $!};\n    ++$lines{$_} while &lt;$in_fh&gt;;\n}\n\nopen my $out_fh, '&gt;', $out_file or die qq{ERROR: Can't write to \"$out_file\": $!};\nfor my $line (sort keys %lines) {\n    print $out_fh $line, \"\\n\";\n}\n\nclose $out_fh;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1424351983, "creation_date": 1424351983, "answer_id": 28607480, "question_id": 28527527, "link": "https://stackoverflow.com/questions/28527527/how-to-replicate-cat-sort-uniq-in-native-perl-code/28607480#28607480", "title": "How to replicate cat/sort/uniq in native Perl code?", "body": "<p>You can use <code>glob</code> in this way also:</p>\n\n<pre><code>my @files = glob(\"$TMPDIR/parts.*\");\nforeach my $file (@files)\n{\n    open my $fh, \"&lt;\", $file or die \"couldn't open '$file': $!\";\n    while (&lt;$fh&gt;)\n    {\n        #do whatever you want to do;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 590225, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6975b22f062227b591c74c86d7404f27?s=128&d=identicon&r=PG", "display_name": "tahoar", "link": "https://stackoverflow.com/users/590225/tahoar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 28527893, "answer_count": 4, "score": 2, "last_activity_date": 1424351983, "creation_date": 1424013225, "last_edit_date": 1495541603, "question_id": 28527527, "link": "https://stackoverflow.com/questions/28527527/how-to-replicate-cat-sort-uniq-in-native-perl-code", "title": "How to replicate cat/sort/uniq in native Perl code?", "body": "<p>I'm building on the knowledge shared in a previous question: <a href=\"https://stackoverflow.com/questions/28446016/what-native-perl-code-replaces-cut/\">What native Perl code replaces `cut`?</a></p>\n\n<p>A Perl script uses this code:</p>\n\n<pre><code>my $cmd = \"cat $TMPDIR/files.* | sort | uniq &gt; $File\"\n`$cmd`\n</code></pre>\n\n<p>I'm trying to rebuild the above function with native Perl to run on MS Windows. I have this so far, but it's not quite working:</p>\n\n<pre><code>my $globPat = \"$TMPDIR/parts.*\"\nmy $outFile = \"$TMPDIR/out.txt\"\nmy %lines;\n\n# 1) glob all files\nwhile (my $glob = glob($globPat)) {\n    open(IN, \"&lt;\", \"$glob\") or die(\"Can't read $glob\");\n    # collect lines as unique keys in a hash\n    ++$lines{ ($_)[1] } while &lt;IN&gt;;\n    close(IN);\n}\n\n# sort the key and save values to $glueFile\nopen(OUT, \"&gt;\", \"$outFile\") or die(\"ERROR: Can't write $outFile\");\nforeach my $key (sort keys %lines) {\n    print OUT $lines{$key} . \"\\n\";\n}\nclose(OUT)\n</code></pre>\n\n<p>I'm getting a variety of errors that bounce around (line numbers) as I try to troubleshoot. Can someone help sort out 1) how to properly use glob, 2) how to add lines read from the various files to one hash key and 3) sort the hash's keys (lines) and print them to the new output file.</p>\n"}, {"tags": ["perl", "package", "global", "symbols"], "comments": [{"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1424010815, "post_id": 28527118, "comment_id": 45369789, "body": "show us the previous lines of code, $x and $y should be declared with &quot;my&quot;"}, {"owner": {"reputation": 29, "user_id": 4171128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de95f769d7afc3199576ee5212f051a6?s=128&d=identicon&r=PG&f=1", "display_name": "Lekeau", "link": "https://stackoverflow.com/users/4171128/lekeau"}, "reply_to_user": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1424010990, "post_id": 28527118, "comment_id": 45369841, "body": "Sorry I forgot to tell you that there is no $x and $y declared before, is that the reason of the error ? And if it&#39;s the reason, how can I declare if I don&#39;t want to set only one value ?"}, {"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1424011148, "post_id": 28527118, "comment_id": 45369897, "body": "yes, you need to declare those variables (because of <code>use strict;</code>). <code>my ($x, $y) = (10, 20);</code> for example"}, {"owner": {"reputation": 29, "user_id": 4171128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de95f769d7afc3199576ee5212f051a6?s=128&d=identicon&r=PG&f=1", "display_name": "Lekeau", "link": "https://stackoverflow.com/users/4171128/lekeau"}, "reply_to_user": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1424011209, "post_id": 28527118, "comment_id": 45369912, "body": "ok thank you, I will try to change this :)"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1424011276, "post_id": 28527118, "comment_id": 45369933, "body": "More exactly, the shorthand for <code>$x</code> is disabled when you <code>use strict</code>, which is a good thing to use. You can use <code>$main::x</code>, or you can declare a lexical variable with <code>my</code>, e.g. <code>my $x;</code> This needs to be before all the uses of <code>$x</code>, naturally."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1424014207, "post_id": 28527118, "comment_id": 45370764, "body": "That is a horrible way of writing <code>my $max = $x &lt; $y ? $y : $x</code>. But it&#39;s probably better to <code>use List::Util &#39;max&#39;</code> and then <code>my $max = max($x, $y)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1424017145, "creation_date": 1424017145, "answer_id": 28528184, "question_id": 28527118, "link": "https://stackoverflow.com/questions/28527118/create-my-own-max-and-explicit-package-name-requires-in-perl/28528184#28528184", "title": "create my own max and explicit package name requires in perl", "body": "<p>That can be re-written as a function</p>\n\n<pre><code>my $max = sub { $_[ $_[0] &lt; $_[1] ] };\n</code></pre>\n\n<p>which can then be invoked as</p>\n\n<pre><code>print $max-&gt;(3,5), \"\\n\";\nprint $max-&gt;(5,3), \"\\n\";\n</code></pre>\n\n<p>At least, that's what I understand by \"define my own <code>max</code>\" and \"<em>function</em> <code>max</code>\".</p>\n\n<p>Or, you can just use <a href=\"https://metacpan.org/pod/List::Util#max\" rel=\"nofollow\">List::Util::max</a>.</p>\n"}], "owner": {"reputation": 29, "user_id": 4171128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de95f769d7afc3199576ee5212f051a6?s=128&d=identicon&r=PG&f=1", "display_name": "Lekeau", "link": "https://stackoverflow.com/users/4171128/lekeau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424017145, "creation_date": 1424010694, "question_id": 28527118, "link": "https://stackoverflow.com/questions/28527118/create-my-own-max-and-explicit-package-name-requires-in-perl", "title": "create my own max and explicit package name requires in perl", "body": "<p>I'm not use to coding in perl (it's the first time) but I have to work on a small part of code who someone send me, but I have this error which seem to be a common error for newbie : </p>\n\n<p><code>Global symbol \"$x\" requires explicit package name at globalAlgt.pl line 30.</code></p>\n\n<p><code>Global symbol \"$y\" requires explicit package name at globalAlgt.pl line 30.</code></p>\n\n<p>On the line 30 I have this :</p>\n\n<p><code>my $max = ($x, $y)[$x &lt; $y];</code> </p>\n\n<p>which seem to be a function max created. I think it's because there is <code>use strict;</code> in the code. </p>\n\n<p>Can you explain me this error ? \nThank you ! </p>\n"}, {"tags": ["perl", "google-chrome", "defined"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1424008417, "post_id": 28526485, "comment_id": 45369178, "body": "You will have to show your HTML / JavaScript for us to guess. Out of interest, what is this Perl search tool?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424027608, "post_id": 28526485, "comment_id": 45375020, "body": "Please expand on what your code is doing. As it stands, this question is unanswerable. I would <i>guess</i> that you&#39;ve got &#39;script defined in html header&#39; - which I&#39;m not sure will work, because Chrome doesn&#39;t have a perl parser built in."}, {"owner": {"reputation": 53, "user_id": 1210923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c45f9aded33fda66bf19355bbccf81?s=128&d=identicon&r=PG", "display_name": "user1210923", "link": "https://stackoverflow.com/users/1210923/user1210923"}, "edited": false, "score": 0, "creation_date": 1501861915, "post_id": 28526485, "comment_id": 77982965, "body": "It&#39;s really quite simple. Searching both for files and for strings in files is so much faster with Perl - Windows never seems to even complete its search - and even indexed is soo much slower. As what I search for is usually the consequence of changes to code I&#39;ve installed the tool on the server instead. If anyone wants the code I&#39;ll either post or mail it"}], "answers": [{"tags": [], "owner": {"reputation": 8410, "user_id": 202553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Clpiv.jpg?s=128&g=1", "display_name": "knb", "link": "https://stackoverflow.com/users/202553/knb"}, "is_accepted": false, "score": 6, "last_activity_date": 1424029479, "last_edit_date": 1490004260, "creation_date": 1424029479, "answer_id": 28530333, "question_id": 28526485, "link": "https://stackoverflow.com/questions/28526485/chrome-refuses-to-find-a-defined-perl-script/28530333#28530333", "title": "Chrome refuses to find a defined perl script", "body": "<p>Your script will <em>only</em> work with Internet Explorer, and not with any other browser, because only  IE can interact with a part of the Windows operating system, called the \"Windows Script Host\" (WSH). WSH can run any script file in any scripting language, as long as that language interpreter follows a certain specification (the ActiveX Scripting Engine must be a COM component implementing the <em>IActiveScriptParse</em> Interface) </p>\n\n<p>And it only works, because you (or someone else) has configured your machine to link IE with the perl interpreter.</p>\n\n<p>I think when you install ActiveState Perl, its installation wizard asks you to create that IE/WSH/Perl Link. (It is optional)</p>\n\n<p>You can check IEs  \"internet options\", there is a configuration option where you can enable/disable that link (because it can potentially harm your computer). </p>\n\n<p>If it is disabled, you'd get an error message similar to <a href=\"https://superuser.com/questions/805961/i-get-a-windows-script-host-error-message-when-i-download-a-standardlegit-js\">this one</a>.</p>\n"}], "owner": {"reputation": 53, "user_id": 1210923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c45f9aded33fda66bf19355bbccf81?s=128&d=identicon&r=PG", "display_name": "user1210923", "link": "https://stackoverflow.com/users/1210923/user1210923"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424074402, "creation_date": 1424006392, "last_edit_date": 1424074402, "question_id": 28526485, "link": "https://stackoverflow.com/questions/28526485/chrome-refuses-to-find-a-defined-perl-script", "title": "Chrome refuses to find a defined perl script", "body": "<p>I have a perl search tool that is so much faster than windows search.\nI thought I'd give it a graphic interface and the simplest was to use html.</p>\n\n<p><code>IE</code> has no problem with it and it runs fine - but I don't use <code>IE</code> any more as <code>chrome</code> is so much better.</p>\n\n<p>But in <code>Chrome</code> I get the following error:</p>\n\n<pre><code>Uncaught ReferenceError: getFiles is not defined\n</code></pre>\n\n<p>the script is defined in the html header as:</p>\n\n<pre><code>&lt;script language=\"PerlScript\" type=\"text/PerlScript\"&gt;\nsub getFiles\n{\n...\n}\n</code></pre>\n\n<p>This is client-side - not on any server.</p>\n\n<p>Any ideas as to why this should happen?</p>\n\n<p>Firexox gives the same result. </p>\n"}, {"tags": ["perl", "oop"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1424006053, "post_id": 28526186, "comment_id": 45368434, "body": "This is why it was important for you to understand the correction I made to your non-Method-Signatures code in my <a href=\"http://stackoverflow.com/a/28521819/100754\">previous answer</a>."}, {"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1424006983, "post_id": 28526186, "comment_id": 45368728, "body": "That I understand, but I don&#39;t understand the Method::Signatures way. I&#39;m returning $obj and creating references using $obj i.e: $obj-&gt;{parent}, why cant I use $obj to call other methods and access those references within the package? But I can while calling new()?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1424007707, "post_id": 28526186, "comment_id": 45368940, "body": "&quot;why cant I use $obj to call other methods ... But I can while calling new()?&quot; ... Because, you do not understand the lexical scope created by a subroutine definition. The lexical variable <code>$obj</code> in <code>new</code> and the global variable <code>$new</code> you attempted to use in <code>testScript</code> have nothing to do with each other."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1424013986, "post_id": 28526186, "comment_id": 45370692, "body": "@Sinan&#220;n&#252;r: I think you mean <code>the global variable $obj</code>"}], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1424005960, "post_id": 28526325, "comment_id": 45368406, "body": "What if I want to access a method in another package(the parent)? Do I use $self or $obj? Like for example: <code>$obj-&gt;{parent}-&gt;testThree();</code>"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 1, "creation_date": 1424006075, "post_id": 28526325, "comment_id": 45368441, "body": "IFAIK, allways use <code>$self</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424010932, "post_id": 28526325, "comment_id": 45369819, "body": "<code>$self</code> is what <code>Method::Signatures</code> automatically provides instead of having to do it by hand."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 4, "last_activity_date": 1424005404, "creation_date": 1424005404, "answer_id": 28526325, "question_id": 28526186, "link": "https://stackoverflow.com/questions/28526186/using-perls-methodsignatures-why-cant-i-invoke-methods-on-an-object-instanc/28526325#28526325", "title": "Using Perl&#39;s Method::Signatures, why can&#39;t I invoke methods on an object instance?", "body": "<p>Use this instead:</p>\n\n<pre><code>method testScript {\n       $self-&gt;testScriptTwo();\n}\n</code></pre>\n\n<p>The first argument is in the variable <code>$self</code>, not <code>$obj</code></p>\n"}, {"comments": [{"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1424007375, "post_id": 28526544, "comment_id": 45368843, "body": "Like I said, I understand the non Method::Signatures way, Method::Signatures is something new to me and I&#39;m having a bit of a tough time understaning how to use oo in it."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1424007534, "post_id": 28526544, "comment_id": 45368881, "body": "<a href=\"http://stackoverflow.com/questions/28521717/\">Your code here</a> demonstrated that you do not really understand the non <code>Method::Signatures</code> way. Also, if you understood scoping, you wouldn&#39;t think you would have to the instance variable as <code>$obj</code> in <code>testScript</code> just because you called it <code>$obj</code> in <code>new</code>. There is no shame in not understanding something. Indeed, Understanding what you don&#39;t understand is one of the most important factors determining whether you can learn something."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 4, "last_activity_date": 1424007210, "last_edit_date": 1424007210, "creation_date": 1424006841, "answer_id": 28526544, "question_id": 28526186, "link": "https://stackoverflow.com/questions/28526186/using-perls-methodsignatures-why-cant-i-invoke-methods-on-an-object-instanc/28526544#28526544", "title": "Using Perl&#39;s Method::Signatures, why can&#39;t I invoke methods on an object instance?", "body": "<p>Your questions seem to indicate you do not understand the basics of scope, and how plain Perl objects work.</p>\n\n<p>In Perl, when you use the <code>-&gt;method</code> syntax on a package name or blessed reference, the subroutine <code>method</code> in that package is invoked. The first argument to the subroutine is the thing on which you invoked <code>method</code>.</p>\n\n<p>So, if you do</p>\n\n<pre><code>My::Friend-&gt;new('Alfred');\n</code></pre>\n\n<p>the <code>new</code> subroutine in the package <code>My::Friend</code> receives two arguments. <code>My::Friend</code> and <code>Alfred</code>.</p>\n\n<p>In a new method, it is customary to refer to the first argument as <code>$class</code>, but that is completely up to you. You could use <code>$basket_case</code> if you were so inclined:</p>\n\n<pre><code>sub new {\n   my $basket_case = shift;\n   my $basket = shift;\n   my $obj = bless { name =&gt; $basket } =&gt; $basket_case;\n   return $obj;\n}\n</code></pre>\n\n<p>If you then invoke a method on the returned reference, that method will receive said reference as its first argument, allowing you to access data stored in that reference:</p>\n\n<pre><code>sub blurb {\n    my $schmorp = shift;\n    print $schmorp-&gt;{name}, \"\\n\";\n    return;\n}\n</code></pre>\n\n<p>Putting it all together:</p>\n\n<pre><code>#!/usr/bin/env perl\n\npackage My::Package;\n\nuse strict;\nuse warnings;\n\nsub new {\n    my $basket_case = shift;\n    my $basket = shift;\n    my $obj = bless { name =&gt; $basket } =&gt; $basket_case;\n    return $obj;\n}\n\nsub blurb {\n    my $schmorp = shift;\n    print $schmorp-&gt;{name}, \"\\n\";\n    return;\n}\n\nsub derp {\n    my $herp = shift;\n    printf \"%s derp derp\\n\", $herp-&gt;{name};\n    return;\n}\n\npackage main;\n\nmy $x = My::Package-&gt;new('Alfred');\n\n$x-&gt;blurb;\n$x-&gt;derp;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>Alfred\nAlfred derp derp</pre>\n\n<p>You need to understand these basics. Trying to put another layer of abstraction on top of the basics before understanding what is underneath will not make things any easier.</p>\n\n<p>Now, if you are using <code>Method::Signatures</code>, it, by convention, puts that implicit first argument in a <a href=\"http://perl.plover.com/FAQs/Namespaces.html\" rel=\"nofollow\">lexically scoped</a> variable which, by default, it calls <code>$self</code>.</p>\n\n<p>You can override that name in specific methods, and doing so in <code>new</code> might be a good idea to convey the fact that it doesn't expect an object instance; instead it returns a new instance.</p>\n\n<p>Whatever you called that lexically scoped instance variable in one sub does not affect what it is called in another sub. For example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nsub a_number {\n    my $number = int(rand(10));\n    return $number;\n}\n\nsub square_that_number {\n    my $x = shift;\n    return $x * $x;\n}\n\nmy $bzzzt = a_number();\nmy $trrrp = square_that_number($bzzzt);\n\nprint $trrrp, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$ ./zt.pl\n36</pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1424010806, "last_edit_date": 1424010806, "creation_date": 1424009649, "answer_id": 28526950, "question_id": 28526186, "link": "https://stackoverflow.com/questions/28526186/using-perls-methodsignatures-why-cant-i-invoke-methods-on-an-object-instanc/28526950#28526950", "title": "Using Perl&#39;s Method::Signatures, why can&#39;t I invoke methods on an object instance?", "body": "<p>OK, you need to backtrack a bit - you're <code>new</code> method is broken in the first place, which indicates that you don't really understand what's going on with OO perl. </p>\n\n<p>A very simple object looks like this:</p>\n\n<pre><code>package Foo;\n\nsub new {\n    #when Foo -&gt; new is called, then 'Foo' is passed in as the class name\n    my ( $class ) = @_;\n    #create an empty hash reference - can be anything, but $self is the convention\n    my $self = {};\n    #tell perl that $self is a 'Foo' object \n    bless ( $self, $class );\n    #return the reference to your `Foo` object\n    return $self;  \n}\n\nsub set_name {\n   my ( $self, $new_name ) = @_;\n   $self -&gt; {name} = $new_name;\n}\n\nsub get_name {\n   my ( $self ) = @_;\n   return $self -&gt; {name}; \n}\n</code></pre>\n\n<p>When you call this in your code:</p>\n\n<pre><code>use Foo;\n\nmy $new_instance = Foo -&gt; new();\n</code></pre>\n\n<p>The class is passed into the <code>new</code> method, which you then use <code>bless</code> to create an instantiated object. </p>\n\n<p>Then you can 'do stuff' with it - when you 'call' a method using <code>-&gt;</code> then the <em>first</em> argument into the subroutine is the object reference. </p>\n\n<p>So</p>\n\n<pre><code>$new_instance -&gt; set_name ( \"myname\" ); \nprint $new_instance -&gt; get_name();\n</code></pre>\n\n<p>Is equivalent to:</p>\n\n<pre><code>Foo::set_name($new_instance, \"myname\" );\nprint Foo::get_name($new_instance);\n</code></pre>\n\n<p>You act on <code>$new_instance</code> which is a sort of magic hash that allows you to include code. </p>\n\n<p><code>Method::Signatures</code> is largely irrelevant until you understand the basics of OO. But what <em>that</em> does is 'simply' expand the functions within a module, such that you don't have to extract self/class etc.</p>\n\n<p>By default, a method defined as <code>method</code> provides <code>$self</code> automatically. <em>no</em> <code>$obj</code> like you're using. That's a variable that's local to you <code>new</code> method, and simply doesn't exist outside that. </p>\n"}], "owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 28526325, "answer_count": 3, "score": -1, "last_activity_date": 1424010806, "creation_date": 1424004472, "last_edit_date": 1495541558, "question_id": 28526186, "link": "https://stackoverflow.com/questions/28526186/using-perls-methodsignatures-why-cant-i-invoke-methods-on-an-object-instanc", "title": "Using Perl&#39;s Method::Signatures, why can&#39;t I invoke methods on an object instance?", "body": "<p>I followed what <a href=\"https://stackoverflow.com/questions/28521717/perl-cant-call-new-method\">friedo said here</a>.</p>\n\n<p>Now, when I try to call the method <code>testScript</code> I get the error <code>global symbol $obj requires explicit package name</code> and it fails to call <code>testScriptTwo</code>. </p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage Test;\n\nuse Method::Signatures;\n\nmethod new {\n    my $obj = bless {}, $self;\n    return $obj;\n}\n\nmethod testScript {\n       $obj-&gt;testScriptTwo(); # Error happens here\n}\n\nmethod testScriptTwo { ... }\n</code></pre>\n\n<p>Test script:</p>\n\n<pre><code>use Test;\n\nmy $class = Test-&gt;new();\n$class-&gt;testScript();\n</code></pre>\n\n<p>How do I make use of $obj to call methods within the package itself?</p>\n"}, {"tags": ["perl", "telnet"], "owner": {"reputation": 25, "user_id": 4568178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e30e466efe5381466c0848605e76ba9c?s=128&d=identicon&r=PG&f=1", "display_name": "Live Node", "link": "https://stackoverflow.com/users/4568178/live-node"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1423984482, "creation_date": 1423981786, "question_id": 28523614, "link": "https://stackoverflow.com/questions/28523614/perl-nettelnet-different-credential", "title": "Perl Net::Telnet different credential", "body": "<p>I am trying a script to login to multiple devices. Few device accept some other credential and few others accept something else.</p>\n\n<p>Prepared script to tell if first credential not accepted than tried other one.</p>\n\n<p>Here is code:</p>\n\n<pre><code>use Net::Telnet;\nuse warnings;\n\nmy @op=\"\";\n\nmy $session = new Net::Telnet (Timeout =&gt; 10,Input_log =&gt;\\*STDOUT,Errmode=&gt;   'return');\n$session-&gt;open('172.16.76.159');\n\n\nmy $code1 = q/\n$session-&gt;login('gmahesh','abcd');\n/;\n\nmy $result1 = eval($code1);\n\n\nunless ($result1){\n\nmy $code2 = q/\n$session-&gt;login('rjil','xyz');\n\n/;\n}\n\n$session-&gt;cmd('term len 0');\n@op=$session-&gt;cmd('sh isis neighbor');\n</code></pre>\n\n<p>Now the router (172.16.76.159) is configured with second credential (rjil one) but output of login not even trying this credential.</p>\n\n<p>User Access Verification</p>\n\n<pre><code> Username: gmahesh\n Password:\n\n % Authentication failed\n\n Username: term len 0   &lt;&lt;&lt; It is not trying rjil username\n Password:\n</code></pre>\n"}, {"tags": ["xml", "linux", "perl", "validation"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1424003281, "post_id": 28524731, "comment_id": 45367757, "body": "<code>die $!</code> will do a lot of the handling of different conditions. E.g. if you&#39;re doing an <code>open</code> it&#39;ll report the OS error - permission denied, file not found, etc. So you don&#39;t really need to test each case. You just need &#39;did it work&#39;."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 3, "last_activity_date": 1423992549, "creation_date": 1423992549, "answer_id": 28524731, "question_id": 28523387, "link": "https://stackoverflow.com/questions/28523387/how-to-validation-in-perl/28524731#28524731", "title": "How to validation in perl", "body": "<p>1) <code>opendir(my $dir, $dirPath) or die \"Failed to open $dirPath: $!\"</code></p>\n\n<p>2) <code>die \"$file not readable\" unless -r $file</code></p>\n\n<p>You can also use <code>die \"$file does not exist\" unless -e $file</code> if you want to distinguish between \"file does not exist\" and \"file exists, but is not readable\", but <code>-r</code> will catch both, since a nonexistent file is also unreadable.</p>\n\n<p>3) Your XML parser should already handle those conditions.  Indeed, I'm not sure how you'd determine that the XML is corrupt other than by parsing it.</p>\n\n<p>4) <code>unless (defined $dataXML) { ... die or do whatever else you want to do when its undef ... }</code></p>\n\n<p>None of these things strike me as clear cases for use of <code>eval</code> - <code>eval</code> prevents code from dying so you can try to recover, but, in most of these cases, any error would be unrecoverable, unless you mean to just skip over the bad file.  If that's what you wanted, then just replace <code>die</code> with <code>next</code> or something like</p>\n\n<pre><code>unless (-r $file) {\n  warn \"$file not readable\";\n  next;\n}\n</code></pre>\n\n<p>to provide a report of the error in addition to skipping over it.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1424003183, "creation_date": 1424003183, "answer_id": 28526027, "question_id": 28523387, "link": "https://stackoverflow.com/questions/28523387/how-to-validation-in-perl/28526027#28526027", "title": "How to validation in perl", "body": "<p>I'd suggest a slightly different approach - validation is less necessary if you trap return codes. </p>\n\n<p>Perl has a useful pragma for doing this - <code>autodie</code>.</p>\n\n<p>Switch on <code>use autodie;</code> and every file open, close and a few others becomes a fatal error. </p>\n\n<p>I would also suggest - don't use <a href=\"http://search.cpan.org/~grantm/XML-Simple-2.20/lib/XML/Simple.pm\" rel=\"nofollow\">XML::Simple</a>. From the docs:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged.</p>\n</blockquote>\n\n<p><code>XML::Simple</code> is for simple XML. I would suggest looking <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> as a better alternative.</p>\n\n<p>Anyway, for your specific queries:</p>\n\n<p>1/ <code>opendir</code> or <code>die $!</code>. Or <code>use autodie;</code> Or - in my opinion, better yet - don't use <code>opendir</code> and <code>grep</code> but instead use <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a></p>\n\n<pre><code>foreach my $file ( &lt;$dirpath/*.xml&gt; ) {\n\n}\n</code></pre>\n\n<p>If there's nothing appropriate, then this will be a null loop. </p>\n\n<p>Given you already test for <code>$ARGV[0]</code> I would suggest it's bad practice to 'default' to a different path if that's invalid. That means your script might do something unexpected, and that's bad style. If I give you an invalid path, you should bomb out and tell me, not do something else entirely. </p>\n\n<p>2/ <code>open</code> will autodie. <code>XML::Twig</code> <code>parsefile</code> will also die on failures. (invalid xml, unreadable etc.)</p>\n\n<p>3/ Irrelevant - either XML is valid and can be parsed, or it's fatal. XML parsers will simply die. </p>\n\n<p>4/ It won't be, because your parser will have already triggered a <code>die</code> condition.</p>\n\n<p>Now, all this talk of <code>die</code> calls might seem like it's drastic. It's not as bad as it sounds - for starters, the XML spec <em>requires</em> that invalid XML is a fatal error - it's not allowed to try and 'figure it out' (like your browser would with shoddy HTML). </p>\n\n<p>You can use <code>eval</code> to trap <code>die</code> if you need to. From: <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/eval.html</a></p>\n\n<pre><code># make divide-by-zero nonfatal\neval { $answer = $a / $b; }; warn $@ if $@;\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1424077618, "creation_date": 1423979164, "last_edit_date": 1424077618, "question_id": 28523387, "link": "https://stackoverflow.com/questions/28523387/how-to-validation-in-perl", "title": "How to validation in perl", "body": "<p>I am working on a perl script which takes as input path to directory in linux.\nDirectory has xml files in it. Perl script iterates through all the xml files and convert each xml file into json format.</p>\n\n<p>I have my code written and working properly but i am stuck at validation conditions in perl.</p>\n\n<pre><code>#!/usr/bin/perl\nuse JSON;\nuse XML::Simple;\nuse File::Spec;\n\n$num_args = $#ARGV + 1;\nif ($num_args != 1) {\n    print \"\\nUsage: $0 &lt;input directory&gt;\\n\";\nexit;\n}\n\nmy $dirPath = $ARGV[0];\nif (not -e $dirPath)\n{\n    $dirPath = \"/opt/poll/\";\n}        \n\nopendir(DIR, $dirPath);\nmy @docs = grep(/\\.xml$/,readdir(DIR));\n\nforeach my $file (@docs) \n{\n    my $abs_path = join(\"\",$dir,$file);\n    my $json_object = xml2json($abs_path);\n    print_json($json_object);\n}\n\nsub print_json\n{\n   my $json_object = $_[0];\n   print $json_object;\n }\n\n sub xml2json\n{\n   my $filename = $_[0];\n   #print $filename;:q!\n   #print \"\\n\";\n   # Create the object of XML Simple\n   my $xmlSimple = new XML::Simple(KeepRoot   =&gt; 1);\n\n   # Load the xml file in object\n   my $dataXML = $xmlSimple-&gt;XMLin($filename);\n\n   # use encode json function to convert xml object in json.\n   my $jsonString = encode_json($dataXML);\n\n   #print $jsonString;\n   return $jsonString;\n  }\n</code></pre>\n\n<p>few validation i am planning to test the corner cases:</p>\n\n<p>1> <code>opendir(DIR, $dirPath);</code>   :  if <code>opendir</code> fails to open the directory how to handle this case?</p>\n\n<p>2>  How to check that the <code>xml</code> files exists and can be read first. Otheriwse the <code>XMLSimple</code> constructor could throw an unhandled exception. </p>\n\n<p>3> How to handle condition when input <code>xml</code> file is empty or input <code>xml</code> file is corrupt.</p>\n\n<p>4> What if <code>$dataXML</code> is undef?</p>\n\n<p>I am new to perl so having troubles reading through its documentation and get the solution. Though i was able to wrote the whole script.</p>\n\n<p>Let me know if any suggestions.\nI tried using <code>eval</code> here in above cases but not sure how to use it. </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 67328, "user_id": 970195, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34597f9d2e0d17b890f0ef968bd61e6b?s=128&d=identicon&r=PG", "display_name": "jaypal singh", "link": "https://stackoverflow.com/users/970195/jaypal-singh"}, "edited": false, "score": 1, "creation_date": 1423961936, "post_id": 28521841, "comment_id": 45360688, "body": "You need to show what your actual file looks like."}, {"owner": {"reputation": 1339, "user_id": 2597174, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/nviLD.png?s=128&g=1", "display_name": "c4f4t0r", "link": "https://stackoverflow.com/users/2597174/c4f4t0r"}, "edited": false, "score": 0, "creation_date": 1423964248, "post_id": 28521841, "comment_id": 45361137, "body": "use a variable and increment the variable in while body"}], "answers": [{"tags": [], "owner": {"reputation": 1339, "user_id": 2597174, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/nviLD.png?s=128&g=1", "display_name": "c4f4t0r", "link": "https://stackoverflow.com/users/2597174/c4f4t0r"}, "is_accepted": true, "score": 1, "last_activity_date": 1423965056, "last_edit_date": 1423965056, "creation_date": 1423964557, "answer_id": 28522246, "question_id": 28521841, "link": "https://stackoverflow.com/questions/28521841/need-help-automating-ip-list-into-file/28522246#28522246", "title": "Need help automating IP list into file", "body": "<p>I edited your code as follow</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $n = 1;\n\nopen (my $tmph,\"&lt;\", $ARGV[0]) or die \"Error open file $ARGV[0]\";\n\nwhile (&lt;$tmph&gt;)\n{\n    chomp;\n    my $line=$_;\n\n if ($line=~/\\d+\\.\\d+\\.\\d+\\.\\d+/)\n    {\n         print (\"acl ip$n myip $line\\n\");\n         print (\"tcp_outgoing_address $line ip$n\\n\\n\");\n         $n++;\n    }\n}\n\nclose ($tmph);\n</code></pre>\n\n<p>script output</p>\n\n<pre><code>perl do.pl ip.txt \nacl ip1 myip 1.2.3.4\ntcp_outgoing_address 1.2.3.4 ip1\n\nacl ip2 myip 10.0.0.10\ntcp_outgoing_address 10.0.0.10 ip2\n\nacl ip3 myip 192.168.0.10\ntcp_outgoing_address 192.168.0.10 ip3\n\nacl ip4 myip 10.0.0.30\ntcp_outgoing_address 10.0.0.30 ip4\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 4142750, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/51d15a379e8cf765570487fe5814be8b?s=128&d=identicon&r=PG&f=1", "display_name": "masterq", "link": "https://stackoverflow.com/users/4142750/masterq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 28522246, "answer_count": 1, "score": 1, "last_activity_date": 1423965056, "creation_date": 1423960282, "question_id": 28521841, "link": "https://stackoverflow.com/questions/28521841/need-help-automating-ip-list-into-file", "title": "Need help automating IP list into file", "body": "<p>I have a config file that needs to import a list of IPs and display them like this</p>\n\n<pre><code>acl ip_1 myip 1.1.1.1\ntcp_outgoing_address 1.1.1.1 ip_1\n\ncl ip_2 myip 1.1.1.2\ntcp_outgoing_address 1.1.1.2 ip_2\n\ncl ip_2 myip 1.1.1.3\ntcp_outgoing_address 1.1.1.3 ip_3\n</code></pre>\n\n<p>and so on.</p>\n\n<p>I found this script but the problem with it is that it will only do ip_1 and ip_2. I have hundreds of IPs to import.</p>\n\n<pre><code>se strict;\nuse warnings;\n\n\nopen (my $tmph,\"&lt;\", $ARGV[0]) or die \"Error open file $ARGV[0]\";\n\nwhile (&lt;$tmph&gt;)\n{\n    chomp;\n    my $line=$_;\n\n if ($line=~/\\d+\\.\\d+\\.\\d+\\.\\d+/)\n    {\n print (\"acl ip1 myip $line\\n\");\n print (\"tcp_outgoing_address $line ip1\\n\\n\");\n\n print (\"acl ip2 myip $line\\n\");\n print (\"tcp_outgoing_address $line ip2\\n\\n\");\n    }\n}\n\nclose ($tmph);\n</code></pre>\n\n<p>Any help will be greatly appreciated.</p>\n"}, {"tags": ["perl", "oop"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1423960112, "creation_date": 1423960112, "answer_id": 28521819, "question_id": 28521717, "link": "https://stackoverflow.com/questions/28521717/perl-cant-call-new-method/28521819#28521819", "title": "Perl - Can&#39;t Call new Method", "body": "<pre><code>method new($parent) {\n   my $instance = bless {} =&gt; $self;\n   $instance-&gt;{parent} = $parent;\n   return $instance;\n }\n</code></pre>\n\n<p>In this case, <code>$self</code> in your <code>new</code> method will the package name. You then bless an empty anonymous hash into that package which gives you your instantiated object.</p>\n\n<p>Incidentally, you should re-write your plain <code>new</code> method:</p>\n\n<pre><code>sub new {\n    my $class = shift;\n    my $self = bless {} =&gt; $class;\n    $self-&gt;{parent} = shift;\n    return $self;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 4, "creation_date": 1423960978, "post_id": 28521839, "comment_id": 45360495, "body": "<a href=\"https://metacpan.org/pod/Method::Signatures#Invocant-parameter\" rel=\"nofollow noreferrer\">You can change the variable name of the invocant</a> (ie. $self) with <code>method new($class: $parent)</code>, makes it easier to read."}, {"owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "edited": false, "score": 0, "creation_date": 1423965561, "post_id": 28521839, "comment_id": 45361352, "body": "I think this is a very well explained answer.  I think the OP should accept this as the answer."}, {"owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "edited": false, "score": 0, "creation_date": 1423980062, "post_id": 28521839, "comment_id": 45363425, "body": "Very well explained! Thank you :)"}], "tags": [], "owner": {"reputation": 62484, "user_id": 20745, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc5d9e7efea07afc78d5408680438507?s=128&d=identicon&r=PG", "display_name": "friedo", "link": "https://stackoverflow.com/users/20745/friedo"}, "is_accepted": true, "score": 6, "last_activity_date": 1423960264, "creation_date": 1423960264, "answer_id": 28521839, "question_id": 28521717, "link": "https://stackoverflow.com/questions/28521717/perl-cant-call-new-method/28521839#28521839", "title": "Perl - Can&#39;t Call new Method", "body": "<p>Method::Signatures automatically shifts the first argument off the argument list and puts it in <code>$self</code> for you. When you call an object method like <code>$obj-&gt;foo</code>, then <code>$self</code> is just <code>$obj</code>. But when you call a class method like <code>Class-&gt;method</code>, then <code>$self</code> will be the string <code>Class</code>. </p>\n\n<p>Your <code>$self</code> contains the string <code>PackageName</code>, as it should since you're using <code>new</code> as a class method. Then you use <code>PackageName</code> as an argument to <code>bless</code>, but <em>throw away the result!</em></p>\n\n<pre><code>bless {}, $self;\n</code></pre>\n\n<p>This blesses a new empty hashref (the <code>{ }</code> ) into the package name contained in <code>$self</code> and then throws the result away. You're then trying to use <code>$self</code> as a hashref when it's just a string, which is causing the error. So try this:</p>\n\n<pre><code>method new($parent) {\n   my $obj = bless {}, $self;\n   $obj-&gt;{parent} = $parent;\n   return $obj;\n}\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 2524169, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1304c798c6cfeef204c962d90f76f5a?s=128&d=identicon&r=PG", "display_name": "user2524169", "link": "https://stackoverflow.com/users/2524169/user2524169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 28521839, "answer_count": 2, "score": 2, "last_activity_date": 1423960360, "creation_date": 1423959013, "last_edit_date": 1423960360, "question_id": 28521717, "link": "https://stackoverflow.com/questions/28521717/perl-cant-call-new-method", "title": "Perl - Can&#39;t Call new Method", "body": "<p>I have been working on a small project and I decided to try and use <a href=\"https://metacpan.org/pod/Method::Signatures\" rel=\"nofollow\">Method::Signatures</a> because I find it neater.</p>\n\n<p>This is without using <code>Method::Signatures</code> and it works, I'm able to use the package and call methods.</p>\n\n<pre><code>sub new {\n    my $self = {};\n    bless($self);\n    shift;\n    $self-&gt;{parent} = shift;\n    return $self;\n}\n</code></pre>\n\n<p>But when I try this, it doesn't work:</p>\n\n<pre><code> method new($parent) {\n   bless {}, $self;\n   $self-&gt;{parent} = $parent;\n   return $self;\n }\n</code></pre>\n\n<p>I get an error saying: \"Can't use string (\"PackageName\") as hashref while strict refs in use\".</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1423949600, "post_id": 28519554, "comment_id": 45357863, "body": "I would only add to the question, can <code>close()</code> succeed if some of the <code>print()</code> failed before that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1423955989, "post_id": 28519554, "comment_id": 45359442, "body": "The problem is that the print operator has a syntax that subs can&#39;t replicate. It is possible, but much harder."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423956733, "post_id": 28519554, "comment_id": 45359620, "body": "I think close can succeed where print failed - aside from the example I linked, I think &#39;disk full&#39; would allow you to open/close a zero length file, but not successfully print to it. Or maybe just making an error, and opening a file for reading rather than writing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1423969337, "post_id": 28519554, "comment_id": 45361955, "body": "I wouldn&#39;t be so sure about your disk example"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1423976772, "post_id": 28519554, "comment_id": 45362954, "body": "testing with <code>use autodie; open my $fh, &quot;&gt;&quot;, &quot;&#47;dev&#47;full&quot;; select $h; $|=1; print &quot;x&quot; or warn &quot;print failed with $! (&quot;.($!+0).&quot;)&quot;; close $fh</code>, both the print and close fail (and with buffering, just the close fails)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1423983536, "post_id": 28519554, "comment_id": 45363877, "body": "err, that should have been <code>select $fh</code>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1423956675, "post_id": 28520506, "comment_id": 45359605, "body": "My problem is - if I want file IO to &#39;bomb out&#39; - I want that applying to everything - open, print, close. Print <i>can</i> fail despite open/close working. (Disk full, broken mount, etc.). You <i>should</i> therefore be testing print, if you&#39;re doing this, to avoid file corruption. (or at least, you can tell if your successfully &#39;wrote&#39; your output)."}], "tags": [], "owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "is_accepted": false, "score": -4, "last_activity_date": 1423949177, "creation_date": 1423949177, "answer_id": 28520506, "question_id": 28519554, "link": "https://stackoverflow.com/questions/28519554/why-does-perls-autodie-feature-not-include-print-and-is-there-a-workaround/28520506#28520506", "title": "Why does perl&#39;s autodie feature not include &quot;print&quot;? (And is there a workaround?)", "body": "<p>Seems to me, you have answer by yourself: </p>\n\n<blockquote>\n  <p>because it [autodie] makes a variety of calls that should probably be\n  fatal, actually fatal.</p>\n</blockquote>\n\n<p><code>print</code> mostly should not be fatal, as far I understand, so your offered workaround <code>print_or_die</code> seems solution too. </p>\n"}], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1423949177, "creation_date": 1423943147, "last_edit_date": 1495541142, "question_id": 28519554, "link": "https://stackoverflow.com/questions/28519554/why-does-perls-autodie-feature-not-include-print-and-is-there-a-workaround", "title": "Why does perl&#39;s autodie feature not include &quot;print&quot;? (And is there a workaround?)", "body": "<p>Having had a bit of a look for another question ( <a href=\"https://stackoverflow.com/questions/28487318/print-or-die-how-to-check-if-a-gpfs-network-mounted-file-is-available/28488504#28488504\">Print or die: how to check if a GPFS network mounted file is available</a> ) <code>autodie</code> is quite a useful pragma, because it makes a variety of calls that should <em>probably</em> be fatal, actually fatal.</p>\n\n<p>Things like <code>open</code> - it's quite common to write <code>open or die</code>. </p>\n\n<p>But the problem with autodie is:</p>\n\n<blockquote>\n  <p>print</p>\n  \n  <p>The autodie pragma <strong>does not check calls to print.</strong></p>\n</blockquote>\n\n<p>You can't force it to either:</p>\n\n<pre><code>Cannot make the non-overridable builtin print fatal\n</code></pre>\n\n<p>So short of writing my own 'print_or_die' sub, is there a way to replicate something similar to the <code>autodie</code> pragma, that also traps <code>print</code> return codes? </p>\n\n<p>(For a scenario where this might be relevant - see the above link. NFS soft mounts error on writes, they don't block)</p>\n"}, {"tags": ["perl", "sqlite"], "comments": [{"owner": {"reputation": 173, "user_id": 732202, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6a09ec2b70e0b470c1318e282481a9db?s=128&d=identicon&r=PG", "display_name": "tonybaldwin", "link": "https://stackoverflow.com/users/732202/tonybaldwin"}, "edited": false, "score": 0, "creation_date": 1423940932, "post_id": 28518840, "comment_id": 45355322, "body": "I&#39;ve determined that it works like this:      my $entry = qq(INSERT INTO address (&#39;$dbits[0]&#39;,&#39;$dbits[1]&#39;,&#39;$dbits[2]&#39;,&#39;$dbits[3]&#39;,&#39;$dbits[4]&#39;&zwnj;&#8203;,&#39;$dbits[5]&#39;,&#39;$dbits&zwnj;&#8203;[6]&#39;,&#39;$dbits[7]&#39;,&#39;$d&zwnj;&#8203;bits[8]&#39;,&#39;$dbits[9]&#39;&zwnj;&#8203;,&#39;$dbits[10]&#39;,&#39;$dbit&zwnj;&#8203;s[11]&#39;,&#39;$dbits[12]&#39;,&zwnj;&#8203;&#39;$dbits[13]&#39;,&#39;$dbits&zwnj;&#8203;[14]&#39;,&#39;$dbits[15]&#39;,&#39;&zwnj;&#8203;$dbits[16]&#39;,&#39;$dbits[&zwnj;&#8203;17]&#39;) VALUES(&#39;$nubits[0]&#39;,&#39;$nubits[1]&#39;,&#39;$nubits[2]&#39;,&#39;$nubits[3]&#39;,&#39;&zwnj;&#8203;$nubits[4]&#39;,&#39;$nubits&zwnj;&#8203;[5]&#39;,&#39;$nubits[6]&#39;,&#39;$&zwnj;&#8203;nubits[7]&#39;,&#39;$nubits[&zwnj;&#8203;8]&#39;,&#39;$nubits[9]&#39;,&#39;$n&zwnj;&#8203;ubits[10]&#39;,&#39;$nubits[&zwnj;&#8203;11]&#39;,&#39;$nubits[12]&#39;,&#39;&zwnj;&#8203;$nubits[13]&#39;,&#39;$nubit&zwnj;&#8203;s[14]&#39;,&#39;$nubits[15]&#39;&zwnj;&#8203;,&#39;$nubits[16]&#39;,&#39;$nub&zwnj;&#8203;its[17]&#39;);); it works."}, {"owner": {"reputation": 173, "user_id": 732202, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6a09ec2b70e0b470c1318e282481a9db?s=128&d=identicon&r=PG", "display_name": "tonybaldwin", "link": "https://stackoverflow.com/users/732202/tonybaldwin"}, "edited": false, "score": 0, "creation_date": 1423941161, "post_id": 28518840, "comment_id": 45355391, "body": "or my $entry = qq(INSERT INTO address (&#39;LASTNAME&#39;,&#39;FIRSTNAME&#39;,&#39;COMPANY&#39;,&#39;STREET&#39;,&#39;CITY&#39;,&#39;STATE&#39;,&#39;C&zwnj;&#8203;OUNTRY&#39;,&#39;ZIPCODE&#39;,&#39;M&zwnj;&#8203;OBILE&#39;,&#39;OTHERPHONE&#39;,&zwnj;&#8203;&#39;FAX&#39;,&#39;EMAIL&#39;,&#39;EMAIL&zwnj;&#8203;2&#39;,&#39;WEBSITE&#39;,&#39;WEBSIT&zwnj;&#8203;E2&#39;,&#39;DOB&#39;,&#39;NOTES&#39;,&#39;T&zwnj;&#8203;AGS&#39;) VALUES(&#39;$nubits[0]&#39;,&#39;$nubits[1]&#39;,&#39;$nubits[2]&#39;,&#39;$nubits[3]&#39;,&#39;&zwnj;&#8203;$nubits[4]&#39;,&#39;$nubits&zwnj;&#8203;[5]&#39;,&#39;$nubits[6]&#39;,&#39;$&zwnj;&#8203;nubits[7]&#39;,&#39;$nubits[&zwnj;&#8203;8]&#39;,&#39;$nubits[9]&#39;,&#39;$n&zwnj;&#8203;ubits[10]&#39;,&#39;$nubits[&zwnj;&#8203;11]&#39;,&#39;$nubits[12]&#39;,&#39;&zwnj;&#8203;$nubits[13]&#39;,&#39;$nubit&zwnj;&#8203;s[14]&#39;,&#39;$nubits[15]&#39;&zwnj;&#8203;,&#39;$nubits[16]&#39;,&#39;$nub&zwnj;&#8203;its[17]&#39;);); of course"}], "answers": [{"comments": [{"owner": {"reputation": 1442, "user_id": 4115522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/KR2bz.jpg?s=128&g=1", "display_name": "Reenactor Rob", "link": "https://stackoverflow.com/users/4115522/reenactor-rob"}, "reply_to_user": {"reputation": 173, "user_id": 732202, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6a09ec2b70e0b470c1318e282481a9db?s=128&d=identicon&r=PG", "display_name": "tonybaldwin", "link": "https://stackoverflow.com/users/732202/tonybaldwin"}, "edited": false, "score": 0, "creation_date": 1423941324, "post_id": 28518923, "comment_id": 45355447, "body": "if you are writing the code for work, yes use names and values for documenting/readability.  Quick and dirty, I just use values and null."}, {"owner": {"reputation": 173, "user_id": 732202, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6a09ec2b70e0b470c1318e282481a9db?s=128&d=identicon&r=PG", "display_name": "tonybaldwin", "link": "https://stackoverflow.com/users/732202/tonybaldwin"}, "edited": false, "score": 0, "creation_date": 1423961177, "post_id": 28518923, "comment_id": 45360535, "body": "I should think the quality of my perl hackery (or lack thereof) should make it obvious nobody&#39;s paying me to do it (yet). Rather, I&#39;m just playing with stuff to try and learn. What I&#39;m doing here in perl/sqlite, I&#39;ve already done with tcl/sqlite, and with php/mariadb; just now trying to &quot;translate&quot; knowledge from one language to another (what my &quot;real job&quot; is, but that&#39;s all Spanish, French, Portuguese and English, not perl, tcl, bash, php, python, etc....the hackery is hobby stuff)."}], "tags": [], "owner": {"reputation": 1442, "user_id": 4115522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/KR2bz.jpg?s=128&g=1", "display_name": "Reenactor Rob", "link": "https://stackoverflow.com/users/4115522/reenactor-rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1423939321, "creation_date": 1423939321, "answer_id": 28518923, "question_id": 28518840, "link": "https://stackoverflow.com/questions/28518840/why-autoincrement-primary-key-column-not-autoincrementing-in-sqlite3/28518923#28518923", "title": "why autoincrement primary key column not autoincrementing in sqlite3", "body": "<p>Try using null in the insert like this:</p>\n\n<pre><code>my $entry = qq(INSERT INTO address VALUES(null,'$nubits[0]','$nubits[1]',...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1423939673, "last_edit_date": 1495541142, "creation_date": 1423939673, "answer_id": 28518986, "question_id": 28518840, "link": "https://stackoverflow.com/questions/28518840/why-autoincrement-primary-key-column-not-autoincrementing-in-sqlite3/28518986#28518986", "title": "why autoincrement primary key column not autoincrementing in sqlite3", "body": "<p>It's not auto incrementing because you're already giving it an id, <code>$nubits[0]</code>.</p>\n\n<p>With no column list, <code>INSERT INTO address VALUES (...)</code> inserts all columns in the table.  You <a href=\"https://stackoverflow.com/a/28518923/14660\">could use <code>NULL</code> as @ReenactorRob suggests</a>, but that just hides another problem with that query.</p>\n\n<p><code>INSERT INTO address VALUES (...)</code> requires knowledge of the order in which <code>address</code> was created to know that element 5 is street.  If anything changes the ordering in the table, your INSERT breaks.  If a column is added, your query breaks.  If you put a value in the wrong slot (as you did) its difficult to tell that.  You're much better off using an explicit column list.</p>\n\n<pre><code>INSERT INTO address\n    (lastname, firstname, company, street, ...)\nVALUES\n    (...)\n</code></pre>\n\n<p>Now your ID will increment <em>and</em> you're protected from future table changes.  If that seems like a lot of work, make it a function that takes a hash of values to build a query.  It'll be much more readable than remembering what <code>$nubits[12]</code> is.  But before you do that, look at <a href=\"http://metacpan.org/pod/DBIx::Class\" rel=\"nofollow noreferrer\">DBIx::Class</a> which has already done this for you.</p>\n\n<p>I would be remiss if I didn't mention <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow noreferrer\">bind parameters</a>.  These are faster, allowing you to use prepared statements, and they protect you against <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">SQL injection attacks</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1424032927, "last_edit_date": 1424032927, "creation_date": 1423944405, "answer_id": 28519758, "question_id": 28518840, "link": "https://stackoverflow.com/questions/28518840/why-autoincrement-primary-key-column-not-autoincrementing-in-sqlite3/28519758#28519758", "title": "why autoincrement primary key column not autoincrementing in sqlite3", "body": "<p>As has been explained, the problem is that the items in the <code>VALUES</code> section of the <code>INSERT</code> are assigned one-for-one to the table's columns in the order they were first created. If you need to provide values for only a subset of the columns then you also need to provide a list of the column names that should receive the values.</p>\n\n<p>Without the column names the values will be assigned to columns in the order that they were created, so it is the columns at the end that will not receive a value. In this case the database will allocate the value for the <code>LASTNAME</code> column to <code>ID</code>, and it is the <code>TAGS</code> element at the end that doesn't have a value.</p>\n\n<p>It is also much better to use <em>placeholders</em> for the values in your SQL statement, and use <code>prepare</code> and <code>execute</code> instead of just <code>do</code>. That way the <code>DBI</code> module will quote and escape the actual values appropriately according to their data type.</p>\n\n<p>This program shows how to do that</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse DBI;\nuse DBD::SQLite;\n\nSTDOUT-&gt;autoflush;\n\nmy ($driver, $dbname) = qw/ SQLite myaddress.db /;\nmy $dsn = \"DBI:$driver:dbname=$dbname\";\n\nprint 'Please enter a DB username: ';\nmy $username = &lt;STDIN&gt;;\nchomp($username);\n\nprint 'Please enter a DB password: ';\nmy $password = &lt;STDIN&gt;;\nchomp($password);\n\nmy $dbh = DBI-&gt;connect($dsn, $username, $password, { RaiseError =&gt; 1 });\nprint \"Successful DB connection\\n\";\n\nprint \"Creating new address book entry...\\n\";\nprint \"-----\\n\";\n\nmy @dbits = qw/\n  LASTNAME    FIRSTNAME   COMPANY     STREET\n  CITY        STATE       COUNTRY     ZIPCODE\n  MOBILE      OTHERPHONE  FAX         EMAIL\n  EMAIL2      WEBSITE     WEBSITE2    DOB\n  NOTES       TAGS\n/;\n\nmy @nubits;\nfor my $databit (@dbits) {\n\n  print \"Enter $databit: \";\n  my $nubit = &lt;STDIN&gt;;\n  chomp($nubit);\n\n  push @nubits, $nubit;\n  print \"$databit = $nubits[-1]\\n\";\n  print scalar @nubits, \"\\n\";\n}\n\nmy $columns       = join ', ', @dbits;\nmy $placeholders  = join ', ', ('?') x @dbits;\n\nmy $insert = &lt;&lt;\"__END__SQL__\";\nINSERT INTO address (\n  $columns\n)\nVALUES (\n  $placeholders\n)\n__END__SQL__\n\n$insert = $dbh-&gt;prepare($insert);\n$insert-&gt;execute(@nubits);\nprint \"Entry created successfully\\n\";\n\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>This creates an SQL statement in <code>$insert</code> that looks like this</p>\n\n<pre><code>INSERT INTO address (\n  LASTNAME, FIRSTNAME, COMPANY, STREET, CITY, STATE, COUNTRY, ZIPCODE, MOBILE, OTHERPHONE, FAX, EMAIL, EMAIL2, WEBSITE, WEBSITE2, DOB, NOTES, TAGS\n)\nVALUES (\n  ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?\n)\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 732202, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6a09ec2b70e0b470c1318e282481a9db?s=128&d=identicon&r=PG", "display_name": "tonybaldwin", "link": "https://stackoverflow.com/users/732202/tonybaldwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 28518986, "answer_count": 3, "score": 2, "last_activity_date": 1424032927, "creation_date": 1423938792, "question_id": 28518840, "link": "https://stackoverflow.com/questions/28518840/why-autoincrement-primary-key-column-not-autoincrementing-in-sqlite3", "title": "why autoincrement primary key column not autoincrementing in sqlite3", "body": "<p>I have an sqlite3 db for an address book, and I created the address table with</p>\n\n<pre><code> my $dbcreate = qq(CREATE TABLE IF NOT EXISTS address\n   (ID INTEGER PRIMARY KEY  AUTOINCREMENT,\n   LASTNAME TEXT    NOT NULL,\n   FIRSTNAME    TEXT    NOT NULL,\n   COMPANY  TEXT,\n   STREET   TEXT,\n   CITY     TEXT,\n   STATE    TEXT,\n   COUNTRY  TEXT,\n   ZIPCODE  TEXT,\n   MOBILE   TEXT,\n   OTHERPHONE   TEXT,\n   FAX          TEXT,\n   EMAIL    TEXT,\n   EMAIL2   TEXT,\n   WEBSITE      TEXT,\n   WEBSITE2     TEXT,\n   DOB      DATE,\n   NOTES    TEXT,\n   TAGS         TEXT););\n</code></pre>\n\n<p>So the first column SHOULD, as I understand it, be an autoincrementing primary ID, only, it's not autoincrementing. My understanding from reading sqlite tutorials is that I should only have to enter the other 18 values, and that column should autoincrement, but if I insert 18 values, I'm told I'm missing one.\nI've only been able to insert rows if I manually set the ROWID.\nWhat gives?</p>\n\n<p>Here's how I'm adding rows (unsuccessfully)</p>\n\n<pre><code>    #!/usr/bin/perl -w\n\n# script to enter a new addressbook entry\n\nuse DBI;\nuse strict;\nuse warnings;\n\nprint \"Please enter a DB username? \\n\";\nmy $userid=&lt;STDIN&gt;;\nchomp($userid);\n\nprint \"Please enter a DB password? \\n\";\nmy $password=&lt;STDIN&gt;;\nchomp($password);\n\nmy $driver   = \"SQLite\";\nmy $database = \"myaddress.db\";\nmy $dsn = \"DBI:$driver:dbname=$database\";\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password, { RaiseError =&gt; 1 })\n                      or die $DBI::errstr;\nprint \"Successfull DB connection\\n\";\n\nprint \"Creating new address book entry\\n\";\nmy $arval = 0;\nmy @dbits = ('LASTNAME','FIRSTNAME','COMPANY','STREET','CITY','STATE','COUNTRY','ZIPCODE','MOBILE','OTHERPHONE','FAX','EMAIL','EMAIL2','WEBSITE','WEBSITE2','DOB','NOTES','TAGS');\n# print \"@dbits\";\n# for $b (0 .. 17) {\n    # print \"\\'$dbits[$b]\\', \";\n# }\nprint \"-----\\n\";\nmy @nubits = ();\nforeach my $databit(@dbits) {\n    print \"Enter $databit: \\n\";\n    my $nubit = &lt;STDIN&gt;;\n    chomp($nubit);\n    print \"$databit = $nubit\\n\\n\";\n    push(@nubits,$nubit);\n    print \"$databit = $nubits[$arval]\\n\";\n    my $arval = (++$arval);\n    print \"$arval\\n\";\n}\n\n# print \"new entry will be:\\n\";\n# for $b (0 .. 17) {\n    # print \"$nubits[$b] | \";\n# }\n\nmy $entry = qq(INSERT INTO address VALUES('$nubits[0]','$nubits[1]','$nubits[2]','$nubits[3]','$nubits[4]','$nubits[5]','$nubits[6]','$nubits[7]','$nubits[8]','$nubits[9]','$nubits[10]','$nubits[11]','$nubits[12]','$nubits[13]','$nubits[14]','$nubits[15]','$nubits[16]','$nubits[17]'););\n\n\nmy $retval = $dbh-&gt;do($entry);\nif($retval &lt; 0){\n   print $DBI::errstr;\n} else {\n   print \"entry created successfully\\n\";\n}\n\nmy $query = qq(select * from address);\nprint $query;\n\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>I can manually use sqlite3 from the cli to enter rows, but, as mentioned, I have to manually set the ROWID/Primary ID.</p>\n\n<p>In the past, I've only used sqlite with tcl/tk, never perl, but even though I'm a complete perl n00b, I don't think perl is my problem. sqlite3 is not behaving as expected (unless I've completely misread about a dozen tutorials that state that a primary key id set to autoincrement should, well, autoincrement).</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423936259, "post_id": 28518214, "comment_id": 45353862, "body": "What is your regex for starters?"}, {"owner": {"reputation": 105, "user_id": 4394849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/700013763/picture?type=large", "display_name": "xvi_16", "link": "https://stackoverflow.com/users/4394849/xvi-16"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423936434, "post_id": 28518214, "comment_id": 45353910, "body": "what is the meaning of regex starter?"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4394849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/700013763/picture?type=large", "display_name": "xvi_16", "link": "https://stackoverflow.com/users/4394849/xvi-16"}, "edited": false, "score": 0, "creation_date": 1423936633, "post_id": 28518459, "comment_id": 45353965, "body": "Actually there are leading space too and i dont think wanna hard code the white space number as i am not very sure it is consistent all the way"}, {"owner": {"reputation": 887, "user_id": 2406895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c9c07b73c24a9888ce027ca3715718?s=128&d=identicon&r=PG", "display_name": "Steve Sanbeg", "link": "https://stackoverflow.com/users/2406895/steve-sanbeg"}, "reply_to_user": {"reputation": 105, "user_id": 4394849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/700013763/picture?type=large", "display_name": "xvi_16", "link": "https://stackoverflow.com/users/4394849/xvi-16"}, "edited": false, "score": 0, "creation_date": 1423937266, "post_id": 28518459, "comment_id": 45354167, "body": "that may be difficult to do with the .. operator.  Probably easier to just count braces; i.e. while(&lt;&gt;){ $brace++ if m/{/; $brace-- if m/}/; $text .= $_; last if $brace == 0}"}], "tags": [], "owner": {"reputation": 887, "user_id": 2406895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c9c07b73c24a9888ce027ca3715718?s=128&d=identicon&r=PG", "display_name": "Steve Sanbeg", "link": "https://stackoverflow.com/users/2406895/steve-sanbeg"}, "is_accepted": false, "score": 0, "last_activity_date": 1423936471, "creation_date": 1423936471, "answer_id": 28518459, "question_id": 28518214, "link": "https://stackoverflow.com/questions/28518214/regular-expression-perl-grab-block-of-text/28518459#28518459", "title": "Regular expression perl grab block of text", "body": "<p>It looks like you only want lines with no leading space, i.e.</p>\n\n<pre><code>/^Something {/ .. /^}/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 4394849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/700013763/picture?type=large", "display_name": "xvi_16", "link": "https://stackoverflow.com/users/4394849/xvi-16"}, "edited": false, "score": 0, "creation_date": 1423937706, "post_id": 28518495, "comment_id": 45354311, "body": "what is escaped curly bracket? I put Something () then the regex break"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1423936670, "creation_date": 1423936670, "answer_id": 28518495, "question_id": 28518214, "link": "https://stackoverflow.com/questions/28518214/regular-expression-perl-grab-block-of-text/28518495#28518495", "title": "Regular expression perl grab block of text", "body": "<p>You can use recursive subpattern for this:</p>\n\n<pre><code>/Something \\s* ( { (?: [^{}]* | (?-1) )* } )/x\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/dF3fP4/1\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p>However keep in mind it won't work for escaped curly brackets and will break if you have unbalanced brackets.</p>\n"}, {"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 3, "last_activity_date": 1423937363, "creation_date": 1423937363, "answer_id": 28518613, "question_id": 28518214, "link": "https://stackoverflow.com/questions/28518214/regular-expression-perl-grab-block-of-text/28518613#28518613", "title": "Regular expression perl grab block of text", "body": "<p>There is <a href=\"https://metacpan.org/pod/Regexp::Common\" rel=\"nofollow\"><code>Regexp::Common</code></a> which can match balanced parentheses,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Regexp::Common;\n\nmy $re = $RE{balanced}{-parens=&gt;'{}'};\nmy $s = q[\nSomething {\n  X {\n    block of text\n  }\n  Y{\n    block of text\n  }\n  Z{\n     block of text\n  }\n}\n];\nprint \"$1\\n\" if $s =~ /(Something\\s+$re)/;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>Something {\n  X {\n    block of text\n  }\n  Y{\n    block of text\n  }\n  Z{\n     block of text\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4394849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/700013763/picture?type=large", "display_name": "xvi_16", "link": "https://stackoverflow.com/users/4394849/xvi-16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1423937304, "accepted_answer_id": 28518613, "answer_count": 3, "score": 2, "last_activity_date": 1423937502, "creation_date": 1423934983, "last_edit_date": 1423937502, "question_id": 28518214, "link": "https://stackoverflow.com/questions/28518214/regular-expression-perl-grab-block-of-text", "closed_reason": "Duplicate", "title": "Regular expression perl grab block of text", "body": "<pre><code>Something () {\n  X {\n    block of text\n  }\n  Y{\n    block of text\n  }\n  Z{\n     block of text\n  }\n}\n</code></pre>\n\n<p>I am reading line by line and I wan to get the block of text from 'Something' to the last '{'</p>\n\n<p>I am using the regex like below</p>\n\n<p><strong>/Something {/../}/</strong></p>\n\n<p>But it will get until this:</p>\n\n<pre><code>Something {\n  X {\n    block of text\n  }\n</code></pre>\n\n<p>Can some one help me to grab the whole block of text with regex?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "edited": false, "score": 0, "creation_date": 1423935086, "post_id": 28518110, "comment_id": 45353512, "body": "What exact error message do you get when you run this script?"}, {"owner": {"reputation": 71, "user_id": 4432758, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0da5289ad37b75aa390725a32792f49?s=128&d=identicon&r=PG&f=1", "display_name": "pierrefelipe", "link": "https://stackoverflow.com/users/4432758/pierrefelipe"}, "reply_to_user": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "edited": false, "score": 0, "creation_date": 1423935361, "post_id": 28518110, "comment_id": 45353612, "body": "<a href=\"http://puu.sh/fUBcn/56dd545dca.png\" rel=\"nofollow noreferrer\">puu.sh/fUBcn/56dd545dca.png</a>"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 2, "creation_date": 1423935812, "post_id": 28518110, "comment_id": 45353729, "body": "Please copy/paste the error message as text instead. Picture links are annoying."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1423937087, "post_id": 28518110, "comment_id": 45354099, "body": "Parsing HTML with regular expressions is a losing game. A small change in formatting can break your code, which is what happened here. What you really want is an HTML parser and to use XPath to find the elements you want by their ID (here it&#39;s #SalesRank). That&#39;s <a href=\"http://stackoverflow.com/a/4598384/14660\">another question which has already been answered</a>. Better yet, rather than scraping the page, which is slow and prone to change, you should use an API if available."}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1423983877, "post_id": 28518345, "comment_id": 45363928, "body": "@Sinan&#220;n&#252;r Could you please offer a rationale for your edit? I wasn&#39;t very happy with the wording of that passage but I&#39;m not sure removing it entirely is the right solution."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1423992853, "post_id": 28518345, "comment_id": 45365449, "body": "Just my mobile phone&#39;s browser. I guess it doesn&#39;t support this patricular redirect. Thanks for the explanation."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 4, "last_activity_date": 1423945980, "last_edit_date": 1423945980, "creation_date": 1423935760, "answer_id": 28518345, "question_id": 28518110, "link": "https://stackoverflow.com/questions/28518110/lwp-not-working/28518345#28518345", "title": "LWP not working", "body": "<p>The <code>die</code> happens when the downloaded content does not contain any text which matches the regex. There's nothing wrong with LWP or with the code itself, other than the assumption that the download will match. (The <code>die</code> statement had better contain an explanation of what went wrong, though.)</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1424018730, "creation_date": 1424018730, "answer_id": 28528445, "question_id": 28518110, "link": "https://stackoverflow.com/questions/28518110/lwp-not-working/28528445#28528445", "title": "LWP not working", "body": "<p>Looks like the Amazon HTML has changed since that example was written. The page no longer contains the string \"Amazon.com Sales Rank\". Instead, it now says \"Amazon Best Sellers Rank:\".</p>\n\n<p>But you'll need to look at the HTML source for the page. For some reason, Amazon insert over thirty blank lines between that label and the line containing the actual sales rank.</p>\n\n<p>Which is, all in all, a nice example of why screen-scraping is a bad idea. You'd be much better advised to use Amazon's product API.</p>\n"}], "owner": {"reputation": 71, "user_id": 4432758, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0da5289ad37b75aa390725a32792f49?s=128&d=identicon&r=PG&f=1", "display_name": "pierrefelipe", "link": "https://stackoverflow.com/users/4432758/pierrefelipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1424018730, "creation_date": 1423934272, "question_id": 28518110, "link": "https://stackoverflow.com/questions/28518110/lwp-not-working", "title": "LWP not working", "body": "<p>Have tried it with my own expression to get it to work with my project. But after several hours of looking at the internet, I still don't get it to work.\nTrying the code below (not mine) but it does only produce the \"die\" statement. My own code (another question on here) only returns \"Press any key..\" What am I doing wrong?</p>\n\n<pre><code>#!/usr/bin/perl -w\n# cookbook-rank - find rank of Perl Cookbook on Amazon\n\nuse LWP::Simple;\n\nmy $html = get(\"http://www.amazon.com/exec/obidos/ASIN/1565922433\")\n  or die \"Couldn't fetch the Perl Cookbook's page.\";\n$html =~ m{Amazon\\.com Sales Rank: &lt;/b&gt; ([\\d,]+) &lt;/font&gt;&lt;br&gt;} || die;\nmy $sales_rank = $1;\n$sales_rank =~ tr[,][]d;    # 4,070 becomes 4070\nprint \"$sales_rank\\n\";\n</code></pre>\n"}, {"tags": ["perl", "csv", "utf-8", "character-encoding"], "answers": [{"comments": [{"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 3, "creation_date": 1423952512, "post_id": 28519477, "comment_id": 45358593, "body": "Worth mentioning that neither this nor any other method can be 100% successful finding the correct encoding."}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 2, "last_activity_date": 1424015667, "last_edit_date": 1424015667, "creation_date": 1423942708, "answer_id": 28519477, "question_id": 28517966, "link": "https://stackoverflow.com/questions/28517966/how-to-recognise-encoding-of-the-input-stream-automatically-csv-files/28519477#28519477", "title": "How to recognise encoding of the input stream automatically [csv files]", "body": "<p>You could try <a href=\"https://metacpan.org/pod/Encode::Detective\" rel=\"nofollow\"><code>Encode::Detective</code></a>.  It can be used as follows in a one-liner:</p>\n\n<pre><code>perl -00 -MEncode::Detective=detect -E'open my $fh, \"&lt;\", \"file.csv\" ; \n my $content = &lt;$fh&gt;; $enc = detect ($content); say $enc'\n</code></pre>\n\n<p>It should not be too difficult to fit that into your script.</p>\n"}], "owner": {"reputation": 267, "user_id": 3646877, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b01ed366dcb7033e2d0448ab3c4003af?s=128&d=identicon&r=PG&f=1", "display_name": "Jasio", "link": "https://stackoverflow.com/users/3646877/jasio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1424015667, "creation_date": 1423933329, "last_edit_date": 1423946182, "question_id": 28517966, "link": "https://stackoverflow.com/questions/28517966/how-to-recognise-encoding-of-the-input-stream-automatically-csv-files", "title": "How to recognise encoding of the input stream automatically [csv files]", "body": "<p>I have an old set of CSV files which were created using incompatible encodings, including utf-8 and iso 8859-2. Now I am importing them to the database, and of course I would like to make, say \"krzes\u0142o\" recognised as such regardless of the original encoding. If they all were utf files, it would be straightforward: I've already found Text::CSV and Text::CSV::Encoded modules, and for utf files it all worked like a snap. </p>\n\n<p>The issue is, some files are encoded in 8859-2 8-bit encoding, and if I try to blindly replace the characters with their utf representation, I may spoil the utf encoding, if the line was already encoded in utf. </p>\n\n<p>I thought about identifying encoding on file level and converting the files prior to importing them, but the files are not mine, I still receive the new data and I am not sure if it's guaranteed that the future files are all utf encoded. </p>\n\n<p>A general algorithm of my program is as follows:</p>\n\n<pre><code>use utf8;\nuse Encode qw(encode decode);\nuse open ':std', ':encoding(UTF-8)';\n\nmy $csv = Text::CSV::Encoded-&gt;new ( \n{ \n  encoding_in      =&gt; \"utf8\", \n  encoding_out     =&gt; \"utf8\",  \n  binary        =&gt; 0,\n  sep_char      =&gt; ';',\n  eol       =&gt; $/ \n} )  # should set binary attribute.\n            or die \"Cannot use CSV: \".Text::CSV-&gt;error_diag ();\n\nwhile (&lt;&gt;) {\n  if ($_ not in utf) { convert $_ to utf }\n  if ($csv-&gt;parse($_)) {\n    #\n    # further field-level processing\n    #\n  }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "go"], "answers": [{"comments": [{"owner": {"reputation": 13460, "user_id": 1349754, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/QoNQ4.jpg?s=128&g=1", "display_name": "Timur Fayzrakhmanov", "link": "https://stackoverflow.com/users/1349754/timur-fayzrakhmanov"}, "edited": false, "score": 0, "creation_date": 1423933656, "post_id": 28517871, "comment_id": 45353105, "body": "Good! Big thanks you! Answer was very close)) could you tell me why everywhere there is Perl word. How Perl is related to regexp?"}, {"owner": {"reputation": 15641, "user_id": 1567738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1065193e064ef75f6278754f7f02abb6?s=128&d=identicon&r=PG", "display_name": "Intermernet", "link": "https://stackoverflow.com/users/1567738/intermernet"}, "reply_to_user": {"reputation": 13460, "user_id": 1349754, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/QoNQ4.jpg?s=128&g=1", "display_name": "Timur Fayzrakhmanov", "link": "https://stackoverflow.com/users/1349754/timur-fayzrakhmanov"}, "edited": false, "score": 1, "creation_date": 1423980143, "post_id": 28517871, "comment_id": 45363437, "body": "@TimurFayzrakhmanov &quot;Perl Compatible Regular Expressions (PCRE) is a regular expression C library inspired by the regular expression capabilities in the Perl programming language, written by Philip Hazel, starting in summer 1997.[1] PCRE&#39;s syntax is much more powerful and flexible than either of the POSIX regular expression flavors and many classic regular expression libraries. The name is misleading, because PCRE and Perl each have capabilities not shared by the other.&quot; From <a href=\"http://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions</a>"}, {"owner": {"reputation": 13460, "user_id": 1349754, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/QoNQ4.jpg?s=128&g=1", "display_name": "Timur Fayzrakhmanov", "link": "https://stackoverflow.com/users/1349754/timur-fayzrakhmanov"}, "edited": false, "score": 0, "creation_date": 1423988216, "post_id": 28517871, "comment_id": 45364531, "body": "Great!) Very good answer, thank you)"}, {"owner": {"reputation": 1518, "user_id": 3523627, "user_type": "registered", "profile_image": "https://graph.facebook.com/22415571/picture?type=large", "display_name": "Palu Macil", "link": "https://stackoverflow.com/users/3523627/palu-macil"}, "edited": false, "score": 0, "creation_date": 1478003740, "post_id": 28517871, "comment_id": 67973490, "body": "Of note, Go does NOT use PCRE. They prefer to promise better performance in exchange for no backtracking. You can use PCRE packages, but not from the standard library."}], "tags": [], "owner": {"reputation": 1458, "user_id": 1394885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1bd0f98dad76d9b2f7efc49a984f69aa?s=128&d=identicon&r=PG", "display_name": "Logiraptor", "link": "https://stackoverflow.com/users/1394885/logiraptor"}, "is_accepted": true, "score": 2, "last_activity_date": 1423934069, "last_edit_date": 1423934069, "creation_date": 1423932759, "answer_id": 28517871, "question_id": 28517788, "link": "https://stackoverflow.com/questions/28517788/where-can-i-find-all-golang-regexp-specifications/28517871#28517871", "title": "Where can I find all Golang regexp specifications?", "body": "<p>The official documentation is <a href=\"http://golang.org/pkg/regexp/syntax/\" rel=\"nofollow\">http://golang.org/pkg/regexp/syntax/</a></p>\n\n<p>Perl in particular is a programming language. From the Wikipedia entry on Perl: </p>\n\n<blockquote>\n  <p>Perl 5 gained widespread popularity in the late 1990s as a\u00a0CGI scripting\u00a0language, in part due to its unsurpassed\u00a0regular expression\u00a0and\u00a0string\u00a0parsing\u00a0abilities.</p>\n</blockquote>\n"}], "owner": {"reputation": 13460, "user_id": 1349754, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/QoNQ4.jpg?s=128&g=1", "display_name": "Timur Fayzrakhmanov", "link": "https://stackoverflow.com/users/1349754/timur-fayzrakhmanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "closed_date": 1423932692, "accepted_answer_id": 28517871, "answer_count": 1, "score": 0, "last_activity_date": 1423934069, "creation_date": 1423932224, "question_id": 28517788, "link": "https://stackoverflow.com/questions/28517788/where-can-i-find-all-golang-regexp-specifications", "closed_reason": "Duplicate", "title": "Where can I find all Golang regexp specifications?", "body": "<p>I try to find all in one golang regexp rules/specification/accepted syntax. However as it turned out - it's not simple task. There is some resource I've found:</p>\n\n<ul>\n<li><a href=\"https://code.google.com/p/re2/wiki/Syntax\" rel=\"nofollow\">https://code.google.com/p/re2/wiki/Syntax</a> (link from regexp package)</li>\n<li><a href=\"https://regex-golang.appspot.com/assets/html/index.html\" rel=\"nofollow\">https://regex-golang.appspot.com/assets/html/index.html</a></li>\n<li><a href=\"https://github.com/StefanSchroeder/Golang-Regex-Tutorial/blob/master/01-chapter1.markdown\" rel=\"nofollow\">https://github.com/StefanSchroeder/Golang-Regex-Tutorial/blob/master/01-chapter1.markdown</a></li>\n</ul>\n\n<p>There first one it is almost what I need, but there is so many complicated moments where I just doesn't understand what's going on (no legenda and no explanations - only for those who already know something). See some examples below:</p>\n\n<pre><code>\\d  Perl character class #what does it have with Perl?\n[[:name:]]  named ASCII class inside character class (\u2261 [:name:])\n</code></pre>\n\n<p>Could anybody help me?</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1423928538, "post_id": 28517196, "comment_id": 45351616, "body": "If <code>$hash{$string}{$anotherString}</code> is an integer, then <code>$hash{$string}{$anotherString}++</code> increments it.  What&#39;s the question?"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1423928618, "post_id": 28517196, "comment_id": 45351635, "body": "Your output is reasonable.  <code>$hash{$string}</code> is a hash.  It&#39;s value at the index <code>$anotherString</code> is an integer, and this line of code is incrementing it."}, {"owner": {"reputation": 128, "user_id": 1917026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f3aef788df6e4b09855c4c9c4de8914e?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Jafri", "link": "https://stackoverflow.com/users/1917026/syed-jafri"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1423928812, "post_id": 28517196, "comment_id": 45351698, "body": "So this is just another way of writing the key value pair?"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 1, "creation_date": 1423929150, "post_id": 28517196, "comment_id": 45351790, "body": "Perhaps the code would be clearer if written <code>$hash_of_hash{$string}{$another_string}</code>.  This is explained fairly well in the documentation: <code>perldoc perllol</code>"}, {"owner": {"reputation": 128, "user_id": 1917026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f3aef788df6e4b09855c4c9c4de8914e?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Jafri", "link": "https://stackoverflow.com/users/1917026/syed-jafri"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1423929554, "post_id": 28517196, "comment_id": 45351892, "body": "Thanks this has me going on the right path now."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1423929591, "creation_date": 1423929591, "answer_id": 28517385, "question_id": 28517196, "link": "https://stackoverflow.com/questions/28517196/what-does-it-mean-to-have-a-perl-hash/28517385#28517385", "title": "What does it mean to have a perl hash{}{}", "body": "<pre><code>$hash{string1}{string2}\n</code></pre>\n\n<p>is a shorter equivalent of</p>\n\n<pre><code>$hash{string1}-&gt;{string2}\n</code></pre>\n\n<p>i.e. it returns a value from a hash of hashes.</p>\n\n<p>By applying the <code>++</code> operator, the value in the inner hash is incremented.</p>\n"}, {"tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 4, "last_activity_date": 1423930965, "creation_date": 1423930965, "answer_id": 28517592, "question_id": 28517196, "link": "https://stackoverflow.com/questions/28517196/what-does-it-mean-to-have-a-perl-hash/28517592#28517592", "title": "What does it mean to have a perl hash{}{}", "body": "<p>That is a two-dimensional hash, a hash of hashes. It is easy to keep track of structures in Perl once you realize that any single value is in fact a scalar. In the case of multidimensional structures, the scalar value is a reference. For example:</p>\n\n<pre><code>my %outer = ( \"foo\" =&gt; { \"bar\" =&gt; 1 } );\n</code></pre>\n\n<p>The inner part <code>{ \"bar\" =&gt; 1 }</code> is a hash reference. The use of <code>{ }</code> in assignment denotes an anonymous hash. This is similar to:</p>\n\n<pre><code>my %inner = ( \"bar\" =&gt; 1 );\nmy %outer = ( \"foo\" =&gt; \\%inner );\n</code></pre>\n\n<p>Now when you want to reference a value in <code>%inner</code>, you use the first key to access the hash reference, and the second key to access the value in <code>%inner</code>:</p>\n\n<pre><code>print $outer{\"foo\"}{\"bar\"};  # prints 1\n</code></pre>\n\n<p>And when you use the <a href=\"http://perldoc.perl.org/perlop.html#Auto-increment-and-Auto-decrement\" rel=\"nofollow\">increment operator <code>++</code></a> on a value, it is incremented:</p>\n\n<pre><code>$outer{\"foo\"}{\"bar\"}++;      # the value is now 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1423965021, "last_edit_date": 1423965021, "creation_date": 1423951597, "answer_id": 28520839, "question_id": 28517196, "link": "https://stackoverflow.com/questions/28517196/what-does-it-mean-to-have-a-perl-hash/28520839#28520839", "title": "What does it mean to have a perl hash{}{}", "body": "<blockquote>\n  <p>My output is \"key\": HASH(0xbe0200)</p>\n</blockquote>\n\n<p>That strange output means that what you are trying to print is actually a <em>hash reference</em>:</p>\n\n<pre><code>use strict; \nuse warnings; \nuse 5.016;  #allows you to use say(), which is equivalent to print() \n            #plus a newline at the end\n\nmy $href = {\n    a =&gt; 1,\n    b =&gt; 2,\n};\n\nsay $href;\n\n--output:--\nHASH(0x100826698)\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>my %hash = (\n    a =&gt; 1,\n    b =&gt; 2,\n);\n\nsay \\%hash;\n\n--output:--\nHASH(0x1008270a0)\n</code></pre>\n\n<p>The <code>\\</code> operator gets the <em>reference</em> for the thing on its right hand side.</p>\n\n<p>The easiest way to print the actual hash is using Data::Dumper, which is something you can and will use all the time:</p>\n\n<pre><code>use strict; \nuse warnings; \nuse 5.016;\nuse Data::Dumper;\n\nmy $href = {\n    a =&gt; 1,\n    b =&gt; 2,\n};\n\n\nsay Dumper($href);\n\n$VAR1 = {\n          'a' =&gt; 1,\n          'b' =&gt; 2\n        };\n</code></pre>\n\n<p>Like <code>use warnings;</code>, I consider <code>use Data::Dumper;</code> mandatory for every program.</p>\n\n<p>So, when you see strange output, like <code>HASH(0xbe0200)</code>, use Data::Dumper on the value:</p>\n\n<pre><code>my %hash = (\n    a =&gt; 1,\n    b =&gt; { hello =&gt; 2, goodbye =&gt; 3},\n);\n\nwhile( my( $key, $value ) = each %hash ){\n    say $key;\n    say Dumper($value);\n    say '-' x 10;\n}\n\n--output:--\na\n$VAR1 = 1;\n\n----------\nb\n$VAR1 = {\n          'hello' =&gt; 2,\n          'goodbye' =&gt; 3\n        };\n\n----------\n</code></pre>\n\n<p>Or, alternatively just use Data::Dumper on the whole structure:</p>\n\n<pre><code>my %hash = (\n    a =&gt; 1,\n    b =&gt; { hello =&gt; 2, goodbye =&gt; 3},\n);\n\n\nsay Dumper(\\%hash);\n\n--output:--\n$VAR1 = {\n          'a' =&gt; 1,\n          'b' =&gt; {\n                   'hello' =&gt; 2,\n                   'goodbye' =&gt; 3\n                 }\n        };\n</code></pre>\n\n<p>Note that Dumper() is used to show the contents of a hash reference(or any other reference), so if your variable is not a reference, e.g. <code>%hash</code>, then you must turn it into a reference using the <code>\\</code> operator, e.g. <code>\\%hash</code>.</p>\n\n<p>Now, if you have this hash:</p>\n\n<pre><code>my %hash = (\n    a =&gt; 1,\n    b =&gt; { hello =&gt; 2, goodbye =&gt; 3},\n);\n</code></pre>\n\n<p>...to retrieve the value corresponding to 'goodbye', you can write:</p>\n\n<pre><code>say $hash{b}{goodbye};  #=&gt;3\n</code></pre>\n\n<p><code>$hash{b}</code> returns the hash (reference) <code>{ hello =&gt; 2, goodbye =&gt; 3}</code>, and you can retrieve values from that hash by using the subscripts <code>{hello}</code> or <code>{goodbye}</code>.</p>\n\n<p>Alternatively, you can write this:</p>\n\n<pre><code>my %hash = (\n    a =&gt; 1,\n    b =&gt; { hello =&gt; 2, goodbye =&gt; 3},\n);\n\nmy $string = 'b';\nmy $anotherString = 'goodbye';\n\nsay $hash{$string}{$anotherString};  #=&gt;3\n</code></pre>\n\n<p>And to increment the value 3 in the hash, you can write:</p>\n\n<pre><code>my $result = $hash{$string}{$anotherString}++;\nsay $result;  #=&gt;3\nsay $hash{$string}{$anotherString};  #=&gt;4\n</code></pre>\n\n<p>The <code>postfix ++</code> operator actually increments the value <em>after</em> the current operation, so $result is 3, then the value in the hash is incremented to 4, something like this:</p>\n\n<pre><code>my $temp = $hash{$string}{$anotherString};\n$hash{$string}{$anotherString} = $hash{$string}{$anotherString} + 1;\nmy $result = $temp;\n</code></pre>\n\n<p>If you want the increment to happen <em>before</em> the current operation, then you can use the <code>prefix ++</code> operator:</p>\n\n<pre><code>my $result = ++$hash{$string}{$anotherString};\nsay $result;  #=&gt;4\nsay $hash{$string}{$anotherString}; #=&gt;4\n</code></pre>\n\n<p>Finally, if the value at <code>$hash{$string}{$anotherString}</code> is not a number, e.g. 'green', you will get something strange:</p>\n\n<pre><code>my %hash = (\n    a =&gt; 1,\n    b =&gt; { hello =&gt; 2, goodbye =&gt; 'green'},\n);\n\nmy $string = 'b';\nmy $anotherString = 'goodbye';\n\nmy $result = $hash{$string}{$anotherString}++;\nsay $hash{$string}{$anotherString};\n\n--output:--\ngreeo\n</code></pre>\n\n<p>perl has a notion that the string that comes after the string 'green' is the string 'greeo' because the letter 'o' comes after the letter 'n' in the alphabet.  And if the string you incremented were 'greez' the output would be:</p>\n\n<pre><code>  greez  original\n  grefa  output\n</code></pre>\n\n<p>The next letter after 'z' is to start over with 'a', but just like when you increment 9 by 1 and get 10, the increment for 'z' carries over to the column on the left, incrementing that letter by 1, producing the 'f'. Ha!</p>\n"}], "owner": {"reputation": 128, "user_id": 1917026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f3aef788df6e4b09855c4c9c4de8914e?s=128&d=identicon&r=PG&f=1", "display_name": "Syed Jafri", "link": "https://stackoverflow.com/users/1917026/syed-jafri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 28517592, "answer_count": 3, "score": 2, "last_activity_date": 1423965021, "creation_date": 1423928226, "last_edit_date": 1423928555, "question_id": 28517196, "link": "https://stackoverflow.com/questions/28517196/what-does-it-mean-to-have-a-perl-hash", "title": "What does it mean to have a perl hash{}{}", "body": "<p>My professor has some syntax on a slide that I do not understand.</p>\n\n<p>In perl there is:</p>\n\n<pre><code>$hash{$string}{$anotherString}++;\n</code></pre>\n\n<p>What does this syntax mean? If it were:</p>\n\n<pre><code>$hash{$string}{$int}++;\n</code></pre>\n\n<p>Would it be increment the value?\nWhen I print using</p>\n\n<pre><code>while( my( $key, $value ) = each %hash ){print \"$key: $value\\n\";}\n</code></pre>\n\n<p>My output is \n    \"key\": HASH(0xbe0200)</p>\n"}, {"tags": ["perl", "list"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1423921856, "post_id": 28516243, "comment_id": 45349813, "body": "What&#39;s GI? What&#39;s Tax ID?"}, {"owner": {"reputation": 11, "user_id": 4205336, "user_type": "registered", "profile_image": "https://graph.facebook.com/500040922/picture?type=large", "display_name": "Patrick Choi", "link": "https://stackoverflow.com/users/4205336/patrick-choi"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423923241, "post_id": 28516243, "comment_id": 45350175, "body": "A GI is just a set of numbers referring to a sequence of proteins. I have a list of GI numbers, and I want to be able to call up each set of numbers, put them into a variable and run a sub routine on each set of numbers."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423923790, "post_id": 28516243, "comment_id": 45350322, "body": "Please provide a short sample input."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423943037, "post_id": 28516243, "comment_id": 45355953, "body": "Sample input, sample code - these things go a long way to eliciting useful answers on stack overflow."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 0, "creation_date": 1423957253, "post_id": 28516243, "comment_id": 45359748, "body": "<i>A GI is just a set of numbers</i> --So a single GI is a set of numbers.  Now, what&#39;s a &#39;set of numbers&#39;?"}], "answers": [{"tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 1, "last_activity_date": 1423972377, "last_edit_date": 1423972377, "creation_date": 1423949332, "answer_id": 28520523, "question_id": 28516243, "link": "https://stackoverflow.com/questions/28516243/load-data-from-a-list-of-lines-in-perl/28520523#28520523", "title": "load data from a list of lines in PERL", "body": "<blockquote>\n  <p>Each GI is on a separate line...The subroutine will look up the Tax ID for each of the GI and then\n  print them out, separated by a tab.</p>\n</blockquote>\n\n<p>data.txt:</p>\n\n<pre><code>100\n200\n300\n</code></pre>\n\n<p>...</p>\n\n<pre><code>use strict; \nuse warnings; \nuse 5.016;\nuse Data::Dumper;\n\nsub get_tax_id {\n    my $gi = shift;\n\n    #get tax id somehow(you might want to check out bioperl):\n    my $tax_id = substr $gi, 0, 1;\n\n    return $tax_id;\n}\n\n\nmy @tax_ids;\nmy $fname = 'data.txt';\n\nopen my $INFILE, '&lt;', $fname\n    or die \"Couldn't open $fname for reading: $!\";\n\nwhile (my $line = &lt;$INFILE&gt;) {\n    chomp $line;\n    push @tax_ids, get_tax_id($line);\n}\n\nclose $INFILE;\n\n{\n    local $\" = \"\\t\";  \n    say \"@tax_ids\";\n}\n\n--output:--\n1   2   3\n</code></pre>\n\n<p><code>$\"</code> -- When an array is interpolated into a double quoted string, the \n       value of <code>$\"</code> is used between elements. By default, <code>$\"</code> is equal to \n       a space.</p>\n\n<p><code>local</code> -- the previous value for the variable is restored when the enclosing scope is exited.  The enclosing scope is marked by the braces.</p>\n"}], "owner": {"reputation": 11, "user_id": 4205336, "user_type": "registered", "profile_image": "https://graph.facebook.com/500040922/picture?type=large", "display_name": "Patrick Choi", "link": "https://stackoverflow.com/users/4205336/patrick-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1424203439, "answer_count": 1, "score": 0, "last_activity_date": 1423972377, "creation_date": 1423921515, "question_id": 28516243, "link": "https://stackoverflow.com/questions/28516243/load-data-from-a-list-of-lines-in-perl", "closed_reason": "Needs details or clarity", "title": "load data from a list of lines in PERL", "body": "<p>I have a file with a GI list. Each GI is on a separate line. I am trying to call up each line so that I can create another subroutine for the GI on each line. The subroutine will look up the Tax ID for each of the GI and then print them out, separated by a tab.  How would I call up each GI separately so that my subroutine can look it up?\nThank you </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 6, "creation_date": 1423913518, "post_id": 28515172, "comment_id": 45347778, "body": "Where is the regex delimiter? <code>$content ~ &#47;(\\d{1}.+\\&#47;-\\&#47;.+).*?([\\&#47;1X2\\&#47;]{1})&#47;;</code>"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1423913741, "post_id": 28515172, "comment_id": 45347832, "body": "$content =~ /(\\d{1}.+/-/.+).*?([/1X2/]{1})/;"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1423916822, "post_id": 28515172, "comment_id": 45348559, "body": "<code>it works splendid.</code> Are you sure? What do you want to match?"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4432758, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0da5289ad37b75aa390725a32792f49?s=128&d=identicon&r=PG&f=1", "display_name": "pierrefelipe", "link": "https://stackoverflow.com/users/4432758/pierrefelipe"}, "edited": false, "score": 0, "creation_date": 1423929211, "post_id": 28516523, "comment_id": 45351807, "body": "Thank you for your input. When using your code it returns blank: This is my code, do you see the problem? Is it obvious?  #!/usr/bin/perl  use LWP::Simple; my $url = &quot;<a href=\"https://svenskaspel.se/?pageid=/resultat/topptipset\" rel=\"nofollow noreferrer\">svenskaspel.se/?pageid=/resultat/topptipset</a>&quot;; my $content = get($url);  $content =~ /(\\d+.+)[ ]+([1X2])[ ]+\\d+\\s*[-]*\\d+/; print ($1, $2, $3, $4, $5, $6);"}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 71, "user_id": 4432758, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0da5289ad37b75aa390725a32792f49?s=128&d=identicon&r=PG&f=1", "display_name": "pierrefelipe", "link": "https://stackoverflow.com/users/4432758/pierrefelipe"}, "edited": false, "score": 0, "creation_date": 1423959004, "post_id": 28516523, "comment_id": 45360134, "body": "You need the web page in pplain text representation without the html markup"}], "tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": false, "score": 1, "last_activity_date": 1423932329, "last_edit_date": 1423932329, "creation_date": 1423923652, "answer_id": 28516523, "question_id": 28515172, "link": "https://stackoverflow.com/questions/28515172/regex-working-but-still-not-working/28516523#28516523", "title": "Regex working, but still not working", "body": "<p>After inspecting the provided link i suspect you want this one:</p>\n\n<pre><code># sample line     4 AZ Alkmaar - PSV Eindhoven        2  2 - 4\n#                  |\\_________________________/\\______/|\\/\\___/\n#                  |              |               |    / \\   |\n#                  |              |               |   /   \\  |\n#                 (1)            (2)             (3) (4) (5)(6)\n\n     $content =~ /(\\d+.+)[ ]+([1X2])[ ]+\\d+\\s*[-]\\*\\d+/;\n\n# explanation     ^   ^  ^    ^     ^   ^\n#                (1) (2)(3)  (4)   (5) (6)\n#                 |   |  |    |     |   +---- context: matching this portion together with (3)-(5) limits the greedy match of the team names.\n#                 |   |  |    |     +-------- context\n#                 |   |  |    +-------------- result code\n#                 |   |  +------------------- context (no trailing spaces in the capture group representing teams)\n#                 |   +---------------------- teams w/o leading and trailing spaces\n#                 +-------------------------- id of the tournament match\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4432758, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b0da5289ad37b75aa390725a32792f49?s=128&d=identicon&r=PG&f=1", "display_name": "pierrefelipe", "link": "https://stackoverflow.com/users/4432758/pierrefelipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423932329, "creation_date": 1423913408, "last_edit_date": 1423919260, "question_id": 28515172, "link": "https://stackoverflow.com/questions/28515172/regex-working-but-still-not-working", "title": "Regex working, but still not working", "body": "<p>In order to save time I made this little script to check sport results for me:\nHowever Padre complains about <code>syntax error at line 7 near \"+&gt;\"</code></p>\n\n<p>When testing it on various regex-sites it works splendid.\nWhat am I missing?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse LWP::Simple;\nmy $url = \"https://svenskaspel.se/?pageid=/resultat/topptipset\";\nmy $content = get($url);\n\n$content = (\\d{1}.+/-/.+).*?([/1X2/]{1});\nprint (\"Match $1        Resultat: $2\");\n</code></pre>\n\n<p>Cheers</p>\n"}, {"tags": ["c#", "python", "perl", "powershell", "dictionary"], "comments": [{"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423901169, "post_id": 28513700, "comment_id": 45345431, "body": "This is really too broad. In Python there is the <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\"><code>collections.defaultdict()</code> object</a>; <code>sums = defaultdict(int)</code>, then just use <code>sums[key] += val</code> and it&#39;ll auto-insert <code>0</code> for you if the key is missing."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "reply_to_user": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423901286, "post_id": 28513700, "comment_id": 45345450, "body": "Yeah it is broad, but should I have made 4 questions out of it :)?"}, {"owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423901289, "post_id": 28513700, "comment_id": 45345451, "body": "@MartijnPieters: It&#39;s <i>sort</i> of too broad - but at the same time I think there are useful answers that can be written, IMO. I wonder if we can fix the question into something more obviously useful."}, {"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1423901396, "post_id": 28513700, "comment_id": 45345474, "body": "@JonSkeet: if this was focused on <b>one</b> language we can avoid the <i>and here is how you do it in language X!</i> list of answers this post is going to attract."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 0, "creation_date": 1423901425, "post_id": 28513700, "comment_id": 45345481, "body": "So four questions apparently... Anyway, I have two answers, that was probably worth the 2 drop in reputation."}, {"owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423901446, "post_id": 28513700, "comment_id": 45345482, "body": "@MartijnPieters: Yes, that&#39;s definitely the problem - but the &quot;What sort of approach can I use to avoid repeating this code&quot; is a more tractable question."}, {"owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1423901468, "post_id": 28513700, "comment_id": 45345486, "body": "@MikeWise: Well, maybe 3 - you should be able to use the same approach for both C# and PowerShell."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 0, "creation_date": 1423901548, "post_id": 28513700, "comment_id": 45345500, "body": "R could be solved by extending the hash library I suppose."}, {"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1423901626, "post_id": 28513700, "comment_id": 45345513, "body": "@JonSkeet: besides, for each of these languages, there are probably duplicates."}, {"owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423901667, "post_id": 28513700, "comment_id": 45345523, "body": "@MartijnPieters: Possibly, possibly."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 0, "creation_date": 1423901714, "post_id": 28513700, "comment_id": 45345529, "body": "I was actually interested if any language out there actually addresses this issue directly. I suppose I need another forum for that."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1423922470, "post_id": 28513700, "comment_id": 45349966, "body": "@MikeWise:  you could even do this in Bash (v4 or later) with Associative Arrays.  An non-existing key does not give an error, but an empty string."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "reply_to_user": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1423927410, "post_id": 28513700, "comment_id": 45351335, "body": "@Jon Skeet - turns out PowerShell has a better answer than C# (see mjlinor&#39;s answer below."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "reply_to_user": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423927446, "post_id": 28513700, "comment_id": 45351346, "body": "@Martijn Pieters - if this is such a terrible question, how come it is getting so much attention?"}, {"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423927527, "post_id": 28513700, "comment_id": 45351365, "body": "@MikeWise: weekend slump? Famous user answering because there are no better questions?"}, {"owner": {"reputation": 881839, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1423927566, "post_id": 28513700, "comment_id": 45351376, "body": "@MikeWise: and don&#39;t confuse popularity with <i>on topic</i>. As stated, this is too broad, which is why it is getting so many answers. There is no end to the number of ways you can answer this."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 0, "creation_date": 1424022211, "post_id": 28513700, "comment_id": 45373284, "body": "Hmm, you haven&#39;t answered my question about where I should have asked this then."}], "answers": [{"tags": [], "owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 5, "last_activity_date": 1423901202, "creation_date": 1423901202, "answer_id": 28513721, "question_id": 28513700, "link": "https://stackoverflow.com/questions/28513700/seeking-better-dictionary-initialization/28513721#28513721", "title": "Seeking better dictionary initialization", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/dd287191(v=vs.110).aspx\" rel=\"noreferrer\"><code>ConcurrentDictionary</code></a> in .NET will allow you to do that, yes:</p>\n\n<pre><code>sums.AddOrUpdate(key, value, (k, v) =&gt; v + value);\n</code></pre>\n\n<p>You should be able to use that (with syntax changes, obviously) in PowerShell, too.</p>\n\n<p>Alternatively, if you want to do this for plain <code>Dictionary</code> in .NET, you could add an extension method:</p>\n\n<pre><code>public static void AddOrUpdate&lt;TKey, TValue&gt;(\n    this Dictionary&lt;TKey, TValue&gt; dictionary,\n    TKey key,\n    TValue addValue,\n    Func&lt;TKey, TValue, TValue&gt; updateValueFactory)\n{\n    TValue existing;\n    if (dictionary.TryGetValue(key, out existing))\n    {\n        dictionary[key] = updateValueFactory(key, existing);\n    }\n    else\n    {\n        dictionary[key] = addValue;\n    }\n}\n</code></pre>\n\n<p>This is written to have the same effective signature as the <code>ConcurrentDictionary</code> method; if you only ever need a <code>Func&lt;TValue, TValue&gt;</code> for the update factory, you could change it accordingly.</p>\n\n<p>I would imagine you could take the same approach in Python with a helper method - I don't know enough about Python to say whether you could do something like the extension method.</p>\n"}, {"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 1, "last_activity_date": 1423901943, "last_edit_date": 1423901943, "creation_date": 1423901286, "answer_id": 28513726, "question_id": 28513700, "link": "https://stackoverflow.com/questions/28513700/seeking-better-dictionary-initialization/28513726#28513726", "title": "Seeking better dictionary initialization", "body": "<p>Python (I am using Python 3 in these), there is <a href=\"https://docs.python.org/3/library/collections.html#collections.defaultdict\" rel=\"nofollow\"><code>collections.defaultdict</code></a> whose constructor takes a factory method, that is used to create default values for missing keys. <code>int()</code> returns 0, thus it is good for counting.</p>\n\n<pre><code>&gt;&gt;&gt; import collections\n&gt;&gt;&gt; sums = collections.defaultdict(int)\n&gt;&gt;&gt; sums['a'] += 23\n&gt;&gt;&gt; sums['a'] += 12\n&gt;&gt;&gt; sums\ndefaultdict(&lt;class 'int'&gt;, {'a': 35})\n</code></pre>\n\n<p>Or if you have an iterable of things, you can use <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow\"><code>collections.Counter</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; sums = collections.Counter(['a', 'b']) \n&gt;&gt;&gt; sums['b'] += 2\n&gt;&gt;&gt; sums.update(['c', 'd', 'e'])\n&gt;&gt;&gt; sums\nCounter({'b': 3, 'c': 1, 'a': 1, 'e': 1, 'd': 1})\n</code></pre>\n\n<p>Say you have a function that asks for input:</p>\n\n<pre><code>&gt;&gt;&gt; def input_skey():\n...    return input(\"Give a next skey, empty line ends&gt; \")\n...\n&gt;&gt;&gt; sums = collections.Counter(iter(input_skey, ''))\nGive a next skey, empty line ends&gt; foo\nGive a next skey, empty line ends&gt; bar\nGive a next skey, empty line ends&gt; baz\nGive a next skey, empty line ends&gt; baz\nGive a next skey, empty line ends&gt; bar\nGive a next skey, empty line ends&gt; foo\nGive a next skey, empty line ends&gt; baz\nGive a next skey, empty line ends&gt; 42\nGive a next skey, empty line ends&gt; \n&gt;&gt;&gt; sums\nCounter({'baz': 3, 'bar': 2, 'foo': 2, '42': 1})\n</code></pre>\n\n<p>(the <code>iter(function, sentinel)</code> makes an iterator of repeated calls to <code>function</code> until the function returns a value that equals to <code>sentinel</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 0, "creation_date": 1423903856, "post_id": 28513971, "comment_id": 45345850, "body": "Yes, thank you. Because I used Perl a lot, but 15 years ago, I probably had this in the back of my head. Very cool."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "reply_to_user": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 1, "creation_date": 1423903985, "post_id": 28513971, "comment_id": 45345872, "body": "@Mike Wise: If you used it 15 years ago then you might be interested in Googling &quot;Modern Perl&quot; - Perl has improved a lot.  Don&#39;t forget to <code>use strict;</code> and <code>use warnings;</code>."}, {"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 0, "creation_date": 1423904403, "post_id": 28513971, "comment_id": 45345965, "body": "I changed the R tag to Perl, because I think that is more relevant."}], "tags": [], "owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "is_accepted": false, "score": 2, "last_activity_date": 1423903703, "creation_date": 1423903703, "answer_id": 28513971, "question_id": 28513700, "link": "https://stackoverflow.com/questions/28513700/seeking-better-dictionary-initialization/28513971#28513971", "title": "Seeking better dictionary initialization", "body": "<p>In Perl (you did ask \"a language\"), you just add it:</p>\n\n<pre><code>my %sums;\n\n$sums{$skey} += $sval;\n</code></pre>\n\n<p>If the key does not exist it will create it with a value of <code>undef</code>, which numerically equates to zero, and <code>$sval</code> is then added to it.  If the key does exist then the operation is as you would expect.</p>\n"}, {"comments": [{"owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "edited": false, "score": 0, "creation_date": 1423927318, "post_id": 28514848, "comment_id": 45351307, "body": "I did not know this. And I am a little bit embarrassed that I didn&#39;t try it out. Thanks."}, {"owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1423929571, "post_id": 28514848, "comment_id": 45351900, "body": "Is that using a normal .NET type under the covers, or a PowerShell-specific one?"}, {"owner": {"reputation": 59244, "user_id": 574168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910c18a04cbfb618b04e8041bb20de43?s=128&d=identicon&r=PG", "display_name": "mjolinor", "link": "https://stackoverflow.com/users/574168/mjolinor"}, "reply_to_user": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1423929947, "post_id": 28514848, "comment_id": 45352017, "body": "@Jon Skeet: It&#39;s a normal .NET type.  You can verify that with (@{}).psobject.TypeNames.  The behavior seems to be implemented in the operator."}, {"owner": {"reputation": 1253964, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1423931678, "post_id": 28514848, "comment_id": 45352506, "body": "@mjolinor: Right - interesting. So presumably that works on <i>any</i> <code>IDictionary&lt;,&gt;</code>? Really must learn PowerShell some time."}], "tags": [], "owner": {"reputation": 59244, "user_id": 574168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910c18a04cbfb618b04e8041bb20de43?s=128&d=identicon&r=PG", "display_name": "mjolinor", "link": "https://stackoverflow.com/users/574168/mjolinor"}, "is_accepted": false, "score": 3, "last_activity_date": 1423911519, "last_edit_date": 1423911519, "creation_date": 1423911170, "answer_id": 28514848, "question_id": 28513700, "link": "https://stackoverflow.com/questions/28513700/seeking-better-dictionary-initialization/28514848#28514848", "title": "Seeking better dictionary initialization", "body": "<p>You can do that in one line in Powershell:</p>\n\n<pre><code>$sums[$skey] += $sval\n</code></pre>\n\n<p>If $skey doesn't exist as a key in $sums, it will be added, with a value of $sval.</p>\n\n<p>If it does exist, the current value will be updated according to the rules for using the += operator on the type of the existing value.  If it's a number, it will do a mathematical addition, if it's a string it will concatenate, and if it's an array or collection it will add it as a new element.</p>\n"}], "owner": {"reputation": 18677, "user_id": 3458744, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/t3fM8.jpg?s=128&g=1", "display_name": "Mike Wise", "link": "https://stackoverflow.com/users/3458744/mike-wise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "closed_date": 1423927643, "accepted_answer_id": 28513721, "answer_count": 4, "score": -2, "last_activity_date": 1423927540, "creation_date": 1423900933, "last_edit_date": 1423927540, "question_id": 28513700, "link": "https://stackoverflow.com/questions/28513700/seeking-better-dictionary-initialization", "closed_reason": "Needs more focus", "title": "Seeking better dictionary initialization", "body": "<p>I recently answered a question here with a PowerShell dictionary that used \"ContainsKey\" to decide whether to define a key value or add to it if necessary. I do that a lot - usually in C#, Python, R, or PowerShell these days, and I tire of it.</p>\n\n<p>Is there a language - or even a library - that could do the following PowerShell code block in a single line?</p>\n\n<pre><code>  if ($sums.ContainsKey($skey))\n  {\n        $sums[$skey] += $sval \n  }\n  else\n  {\n        $sums[$skey] = $sval \n  }\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1423894570, "post_id": 28512429, "comment_id": 45344312, "body": "<a href=\"http://weblog.bulknews.net/post/58079418600/plenv-alternative-for-perlbrew\" rel=\"nofollow noreferrer\">weblog.bulknews.net/post/58079418600/&hellip;</a>"}, {"owner": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "edited": false, "score": 1, "creation_date": 1423904659, "post_id": 28512429, "comment_id": 45346006, "body": "I\u2019m just commenting since I have no code for you. <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> is a core module and you could do your 1000 * op after you convert a date (probably with <code>strptime</code>) to <code>-&gt;epoch</code>."}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "reply_to_user": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "edited": false, "score": 1, "creation_date": 1423909262, "post_id": 28512429, "comment_id": 45346833, "body": "@Ashley Time::Piece is in the module core as of perl 5.9.5;"}], "answers": [{"comments": [{"owner": {"reputation": 3955, "user_id": 1005416, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5715b095c157bf08a7c1b023e3e353a3?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1005416/gary"}, "edited": false, "score": 0, "creation_date": 1423888803, "post_id": 28512457, "comment_id": 45343374, "body": "Thanks Tom. But, unfortunately,   I got &quot;Can&#39;t locate DateTime.pm in @INC&quot; when I ran your code. My server is a prod server I can&#39;t install anything on it."}, {"owner": {"reputation": 6928, "user_id": 1015385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc84a03227c566697c4a16b2e9f8782?s=128&d=identicon&r=PG", "display_name": "JRFerguson", "link": "https://stackoverflow.com/users/1015385/jrferguson"}, "edited": false, "score": 0, "creation_date": 1423920873, "post_id": 28512457, "comment_id": 45349553, "body": "Consider installing (in your HOME directory) <a href=\"https://metacpan.org/pod/App::perlbrew\" rel=\"nofollow noreferrer\">prelbrew</a>.  It provides an isolated environment from the system-installed Perl into which you can safely add your own modules."}, {"owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "reply_to_user": {"reputation": 3955, "user_id": 1005416, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5715b095c157bf08a7c1b023e3e353a3?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1005416/gary"}, "edited": false, "score": 2, "creation_date": 1423948721, "post_id": 28512457, "comment_id": 45357623, "body": "@Gary If your server doesn&#39;t have basic libraries such as DateTime, consider switching to a different provider... Alternatively, just unpackage the modules in some folder and then <code>use lib &quot;&#47;path&#47;to&#47;folder&quot;;</code> which will allow you to use the libraries in that folder."}], "tags": [], "owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "is_accepted": false, "score": 3, "last_activity_date": 1423888407, "creation_date": 1423888407, "answer_id": 28512457, "question_id": 28512429, "link": "https://stackoverflow.com/questions/28512429/how-to-convert-any-date-time-to-microseconds-in-perl/28512457#28512457", "title": "How to convert any date time to microseconds in perl", "body": "<p><code>DateTime</code> can do that easily:</p>\n\n<pre><code>my $dt = DateTime-&gt;new( year =&gt; 2012, nanosecond =&gt; 4 );\nprint $dt-&gt;hires_epoch();\n</code></pre>\n\n<p>For more examples see <a href=\"http://search.cpan.org/~drolsky/DateTime/lib/DateTime.pm\" rel=\"nofollow\">the docs on cpan</a></p>\n"}, {"tags": [], "owner": {"reputation": 3955, "user_id": 1005416, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5715b095c157bf08a7c1b023e3e353a3?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1005416/gary"}, "is_accepted": false, "score": 0, "last_activity_date": 1424139660, "creation_date": 1424139660, "answer_id": 28553655, "question_id": 28512429, "link": "https://stackoverflow.com/questions/28512429/how-to-convert-any-date-time-to-microseconds-in-perl/28553655#28553655", "title": "How to convert any date time to microseconds in perl", "body": "<p>I finally found a way to convert any given date to microseconds. That is, using system date function like below code snippet .\nsuppose I want to convert a date of 100 days ago to microseconds.</p>\n\n<pre><code>my $anydate = strftime \"%Y%m%d\", localtime( time -  100 * 24 * 60 * 60 ); # a date of 100 days ago;\nmy $microsecs = `date -d \"$anydate\"  +%s%N | cut -b1-13`;\nprint \"$microsecs\\n\";\n</code></pre>\n\n<p>This really works in any perl version without installing any module. </p>\n"}], "owner": {"reputation": 3955, "user_id": 1005416, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5715b095c157bf08a7c1b023e3e353a3?s=128&d=identicon&r=PG", "display_name": "Gary", "link": "https://stackoverflow.com/users/1005416/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1552584313, "creation_date": 1423888111, "last_edit_date": 1552584313, "question_id": 28512429, "link": "https://stackoverflow.com/questions/28512429/how-to-convert-any-date-time-to-microseconds-in-perl", "title": "How to convert any date time to microseconds in perl", "body": "<p>I need convert any given date or datetime to microseconds using perl. I tried  the following code it works only for the current time you run it.</p>\n\n<pre><code>use Time::HiRes qw(gettimeofday);\n\nmy $timestamp = int (gettimeofday * 1000);\nprint STDOUT \"timestamp = $timestamp\\n\";\n</code></pre>\n\n<p>I am wondering if there a way to convert any given date or datetime into microseconds in perl, how? \nbtw, I don't have Parse module installed. my perl version is v5.8.8 built for i386-linux-thread-multi.</p>\n"}, {"tags": ["perl", "variables", "runtime-error", "warnings"], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1423883375, "post_id": 28511849, "comment_id": 45342598, "body": "To answer your question, my code reads in a line of values, computes certain statistics and writes them into an output file; then takes the next line from data file, reads it, etc.. I&#39;m a little confused by what would &#39;flushing&#39; do to my code: is it supposed to add the error message to my output file or is it supposed to print the line of data that causes the error on the screen while the program reads through the data file?"}, {"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1423934433, "post_id": 28511849, "comment_id": 45353325, "body": "I have learned a great deal from you answer; I will now try to implement it into my code!"}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 4, "last_activity_date": 1423918647, "last_edit_date": 1423918647, "creation_date": 1423881693, "answer_id": 28511849, "question_id": 28511722, "link": "https://stackoverflow.com/questions/28511722/find-data-point-generating-error-in-perl-code/28511849#28511849", "title": "Find data point generating Error in Perl code", "body": "<p>If your script prints one line for each input line, it would be simpler to see when the error occurs by flushing the standard error along with the output (making the message appear at the \"right\" point):</p>\n\n<pre><code>$| = 1;\n</code></pre>\n\n<p>That is, turn on the perl autoflush feature, as discussed in <a href=\"http://www.perlmonks.org/?node_id=20590\" rel=\"nofollow\">How to flush output to the console?</a></p>\n\n<p>What (auto)flushing does:</p>\n\n<ul>\n<li>error messages are written to the predefined STDERR stream, normal printf's go to the (default) predefined STDOUT.</li>\n<li>data written on these streams is saved up by the system (under Perl's control) to write out in chunks (called \"buffers\") to improve efficiency.</li>\n<li>STDERR and STDOUT buffers are independent, and could be written line-by-line or by buffers (many characters, not necessarily lines).</li>\n<li>using autoflush tells Perl to modify its scheme for writing buffers so that their content is written via the operating system at the end of a print/printf call.</li>\n<li>normally STDERR is written line-by-line.  The command tells Perl to enable this feature for the current/default stream, i.e., STDOUT.</li>\n<li>doing that makes both of them write line-by-line, so that messages sent <em>close</em> in time via either appears <em>close</em> together in the output of your script.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1423937179, "post_id": 28518545, "comment_id": 45354130, "body": "But, doesn&#39;t this tell me the line in the code? I would like to know which line in the data set generates the error..."}, {"owner": {"reputation": 887, "user_id": 2406895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c9c07b73c24a9888ce027ca3715718?s=128&d=identicon&r=PG", "display_name": "Steve Sanbeg", "link": "https://stackoverflow.com/users/2406895/steve-sanbeg"}, "reply_to_user": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1423937473, "post_id": 28518545, "comment_id": 45354234, "body": "It should tell you both.  Notice my code produced 2 warns.  The first happened at compile time, so it only gave the line in the script (-e).  The second gave both the script ( -e line 1) and the file handle (&lt;&gt; line 1) since it happened while the &lt;&gt; was open and being read from."}, {"owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "edited": false, "score": 0, "creation_date": 1426623141, "post_id": 28518545, "comment_id": 46447097, "body": "I have not yet figured out why, in my case Perl only tells me the line of the code and not the one in the data set that generates the error: do you have any ideas/suggestions?"}], "tags": [], "owner": {"reputation": 887, "user_id": 2406895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c9c07b73c24a9888ce027ca3715718?s=128&d=identicon&r=PG", "display_name": "Steve Sanbeg", "link": "https://stackoverflow.com/users/2406895/steve-sanbeg"}, "is_accepted": false, "score": 2, "last_activity_date": 1423936979, "creation_date": 1423936979, "answer_id": 28518545, "question_id": 28511722, "link": "https://stackoverflow.com/questions/28511722/find-data-point-generating-error-in-perl-code/28518545#28518545", "title": "Find data point generating Error in Perl code", "body": "<p>Perl usually includes the file handle and line number in warnings by default; i.e.</p>\n\n<pre><code>&gt;echo hello | perl -lnwe 'print $x'\nName \"main::x\" used only once: possible typo at -e line 1.\nUse of uninitialized value $x in print at -e line 1, &lt;&gt; line 1.\n</code></pre>\n\n<p>So if you're doing the computation while reading, you get the appropriate warning.</p>\n"}], "owner": {"reputation": 553, "user_id": 2788553, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6388990dd2d4301ce2c4652e8ffde738?s=128&d=identicon&r=PG&f=1", "display_name": "g_puffo", "link": "https://stackoverflow.com/users/2788553/g-puffo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1423936979, "creation_date": 1423879896, "last_edit_date": 1423880284, "question_id": 28511722, "link": "https://stackoverflow.com/questions/28511722/find-data-point-generating-error-in-perl-code", "title": "Find data point generating Error in Perl code", "body": "<p>I have a program in Perl that reads one line at a time from a data file and computes certain statistics for each line of data. Every now and then, while the program reads through my dataset, I get a warning about an <code>...uninitialized value...</code> and I would like to know which line of data generates this warning. \nIs there any way I can tell Perl to print (to screen or file) the data point that is generating the error?</p>\n"}, {"tags": ["regex", "perl", "hashtable", "lookup", "substitution"], "answers": [{"tags": [], "owner": {"reputation": 1857, "user_id": 1473653, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/16b3d9fce3747c5766f39e647167dcf7?s=128&d=identicon&r=PG", "display_name": "ahjohnston25", "link": "https://stackoverflow.com/users/1473653/ahjohnston25"}, "is_accepted": false, "score": 1, "last_activity_date": 1423880207, "creation_date": 1423880207, "answer_id": 28511737, "question_id": 28511656, "link": "https://stackoverflow.com/questions/28511656/perl-substitution-lookup-table-issue/28511737#28511737", "title": "Perl substitution - lookup table issue", "body": "<p>The core of this program uses Perl's regular expressions. The problem is that to Perl <code>kml1</code> as a search string (the first part of your <code>s///</code> expression) matches <code>kml123</code>. If you change your search/replace to the following:</p>\n\n<pre><code>s/\"$key\"&gt;$/\"$repl{$key}\"/; \n</code></pre>\n\n<p>It will work as it will only match if the exact pattern is surrounded in quotation marks. </p>\n\n<p>It's a bit think, but reading <a href=\"http://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow\">this page</a> on regular expressions will make you a master at them. Playing games like <a href=\"https://regex.alf.nu/\" rel=\"nofollow\">regex golf</a> will also help you improve your skills and solve this problems more efficiently. </p>\n"}, {"tags": [], "owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "is_accepted": true, "score": 4, "last_activity_date": 1423881546, "creation_date": 1423881546, "answer_id": 28511832, "question_id": 28511656, "link": "https://stackoverflow.com/questions/28511656/perl-substitution-lookup-table-issue/28511832#28511832", "title": "Perl substitution - lookup table issue", "body": "<p>Main problem was mentioned already in @ahjohnston25's answer, but you took over so ugly code with evaling and fuzzy stuff, so I made it a bit simpler and cleaner:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict; use warnings; use autodie;\n\nmy %repl = (\n  \"kml1\" =&gt; \"Area A\",\n  \"kml12\" =&gt; \"Area B\",\n  \"kml123\" =&gt; \"Area C\",\n  \"kml69\" =&gt; \"Area D\",\n  \"kml4458\" =&gt; \"Area E\",\n);\n\nopen( my $F, '&lt;', \"input.txt\" );\nopen( my $OUTPUT, '&gt;', \"output.txt\" );\n\nwhile ( &lt;$F&gt; ) {\n  foreach my $key ( sort keys %repl ) {\n     s/\\b$key\\b/$repl{$key}/g;\n  }\n  print $OUTPUT $_; \n}\n\nclose( $F );\nclose( $OUTPUT );\n</code></pre>\n\n<p>I hope in this form it is much easier to understand what is going on.</p>\n"}], "owner": {"reputation": 33, "user_id": 4565561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22508eec8e6f12222be1005faaf8ac48?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4565561/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 28511832, "answer_count": 2, "score": 3, "last_activity_date": 1423881546, "creation_date": 1423879333, "last_edit_date": 1495539813, "question_id": 28511656, "link": "https://stackoverflow.com/questions/28511656/perl-substitution-lookup-table-issue", "title": "Perl substitution - lookup table issue", "body": "<p>I have a ~35MB KML file where all the placemarks are named \"kml1234\" and the like. I want to replace the name with a readable string like \"Area 9987\" and I have the lookup table. I found a snippet of perl here (<a href=\"https://stackoverflow.com/a/6435950\">https://stackoverflow.com/a/6435950</a>) and it worked for the majority of the placemarks. However, I found that it failed in specific cases. Here is the code.</p>\n\n<pre><code>$repl{kml1} = \"Area A\";\n$repl{kml12} = \"Area B\";\n$repl{kml123} = \"Area C\";\n$repl{kml69} = \"Area D\";\n$repl{kml4458} = \"Area E\";\n\n$s = &lt;&lt;HEADER;\n\\$start = time;\nopen(F, \"input.txt\");\nopen(OUTPUT, \"&gt;output.txt\");\nwhile (&lt;F&gt;) {\nHEADER\n\nforeach $key (keys %repl) {\n   $s .= \"s/$key/$repl{$key}\\/;\\n\"\n}\n\n$s .= &lt;&lt;FOOTER;\nprint \\$_;\n}\nclose(F);\nclose(OUTPUT);\nprint \"Elapsed time (eval.pl): \" . (time - \\$start) . \"\\r\\n\";\nFOOTER\n\neval $s;\n</code></pre>\n\n<p>I've tested this in isolation using a test string (put into input.txt):</p>\n\n<pre><code>&lt;Placemark id=\"kml123\"&gt;\n</code></pre>\n\n<p>The expected result from this is:</p>\n\n<pre><code>&lt;Placemark id=\"Area C\"&gt;\n</code></pre>\n\n<p>However, if I run the script again with the same input (kml123), I get any one of the 3 results below:</p>\n\n<pre><code>&lt;Placemark id=\"Area A23\"&gt;\n&lt;Placemark id=\"Area B3\"&gt;\n&lt;Placemark id=\"Area C\"&gt;\n</code></pre>\n\n<p>It seems that the subsititution is somehow truncating $key to only kml1 or kml12 sometimes? I notice that I never get \"Area D\" or \"Area E\" which is expected, and I suspect that it is because they do are not similar enough to kml123, just the first 3. Any clues?</p>\n"}, {"tags": ["perl", "html-table", "html-tableextract"], "comments": [{"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "edited": false, "score": 0, "creation_date": 1423881889, "post_id": 28511438, "comment_id": 45342390, "body": "What is your exact problem? Do you get any errors? Or is output different of your expected result? Show input and output and desired outcome too, then is there much more hope to help you."}, {"owner": {"reputation": 21, "user_id": 4565500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acaafca823b8db1dcb1a2f3a16857dee?s=128&d=identicon&r=PG&f=1", "display_name": "alphasugar", "link": "https://stackoverflow.com/users/4565500/alphasugar"}, "reply_to_user": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "edited": false, "score": 0, "creation_date": 1423882445, "post_id": 28511438, "comment_id": 45342471, "body": "When I run my code I get the following error: Use of uninitialized value in join or string at ./table_parser.pl line 39. Also, when something is outputted by the program it is in a very raw form and I cant really discern the table. So in other words, how can I get rid of that error and make the output more similar to a table format?"}, {"owner": {"reputation": 1442, "user_id": 4115522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/KR2bz.jpg?s=128&g=1", "display_name": "Reenactor Rob", "link": "https://stackoverflow.com/users/4115522/reenactor-rob"}, "edited": false, "score": 0, "creation_date": 1423885967, "post_id": 28511438, "comment_id": 45342972, "body": "which join is on line 39?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423914919, "post_id": 28511438, "comment_id": 45348089, "body": "reflowed your script. But it&#39;s not 39 lines long. (Would recommend getting hold of perltidy. It makes formatting your code nicely much easier)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423915936, "post_id": 28511438, "comment_id": 45348326, "body": "Can you also give an example of your source data? It makes it easier to grok."}, {"owner": {"reputation": 2354, "user_id": 2203144, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c7fa1dd3aa4baa131c45c7e6cbd82d?s=128&d=identicon&r=PG", "display_name": "mareoraft", "link": "https://stackoverflow.com/users/2203144/mareoraft"}, "edited": false, "score": 0, "creation_date": 1423968018, "post_id": 28511438, "comment_id": 45361783, "body": "Is table_parser.pl <i>your</i> file, or is it a file from HTML/TableExtract/ ?  I see something very fishy: <code>if( $ts =~ &#47;kcat&#47;i )</code>.  If <code>$ts</code> is an object, it makes no sense to run it against a regular expression.  Regular expressions are for strings, not objects.  (unless if <code>=~</code> is somehow overloaded, but i can&#39;t find anything about that in the documentation for HTML::TableExtract)."}, {"owner": {"reputation": 21, "user_id": 4565500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acaafca823b8db1dcb1a2f3a16857dee?s=128&d=identicon&r=PG&f=1", "display_name": "alphasugar", "link": "https://stackoverflow.com/users/4565500/alphasugar"}, "edited": false, "score": 0, "creation_date": 1424016727, "post_id": 28511438, "comment_id": 45371543, "body": "Yes, table_parser.pl is my file. I copied my code here and deleted my comments so sorry for the line 39 thing, but the join on line 39 is the following: <code>print join( &#39;,&#39;, @$row ), &quot;\\n&quot;;</code>. Here is a sample source data: <a href=\"http://pastebin.com/bLauAYK3\" rel=\"nofollow noreferrer\">pastebin.com/bLauAYK3</a>. Regarding mareoraft, I agree with you that I cant use regex on objects but how do I fix the code so that $ts holds the raw HTML code for the tables. Again, is there also a way for me to format the output in table format? If not, would I be able to simply open the file using a web browser which automatically renders the code?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4565500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acaafca823b8db1dcb1a2f3a16857dee?s=128&d=identicon&r=PG&f=1", "display_name": "alphasugar", "link": "https://stackoverflow.com/users/4565500/alphasugar"}, "edited": false, "score": 0, "creation_date": 1424110320, "post_id": 28546180, "comment_id": 45408370, "body": "I have imported the following to my program: <code>use HTML::TreeBuilder; use HTML::ElementTable; use HTML::TableExtract &#39;tree&#39;;</code> My while loop is the same as yours except I have added: <code>my $tree = HTML::ElementTable-&gt;new();</code>. If I dont include this previous line then the program gives me the following error: Global symbol &quot;$tree&quot; requires explicit package name. If I do include this line then I got the following error: Can&#39;t locate object method &quot;ElementTable=HASH(0x1aebc70)&quot; via package &quot;HTML&quot; (it is talking about this line <code>$tree = $ts-&gt;$tree or die $!;</code>. What is wrong?"}, {"owner": {"reputation": 21, "user_id": 4565500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acaafca823b8db1dcb1a2f3a16857dee?s=128&d=identicon&r=PG&f=1", "display_name": "alphasugar", "link": "https://stackoverflow.com/users/4565500/alphasugar"}, "edited": false, "score": 0, "creation_date": 1424219051, "post_id": 28546180, "comment_id": 45457035, "body": "Sorry. It actually did work! Thank you! Do you know of any way I can print it out in a nicer format (like in table format)? Currently, it is just a block of text."}, {"owner": {"reputation": 79, "user_id": 3350881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2653250de34d8b1366be430cb4a59684?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3350881/tom"}, "reply_to_user": {"reputation": 21, "user_id": 4565500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acaafca823b8db1dcb1a2f3a16857dee?s=128&d=identicon&r=PG&f=1", "display_name": "alphasugar", "link": "https://stackoverflow.com/users/4565500/alphasugar"}, "edited": false, "score": 0, "creation_date": 1424252551, "post_id": 28546180, "comment_id": 45468733, "body": "I updated the sample code in my answer above, it prints it out as a table on the console."}, {"owner": {"reputation": 21, "user_id": 4565500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acaafca823b8db1dcb1a2f3a16857dee?s=128&d=identicon&r=PG&f=1", "display_name": "alphasugar", "link": "https://stackoverflow.com/users/4565500/alphasugar"}, "edited": false, "score": 0, "creation_date": 1424302417, "post_id": 28546180, "comment_id": 45498612, "body": "I made the change but got the following error: Can&#39;t call method &quot;as_text&quot; on unblessed reference at ./table_parser.pl line 34. Line 34 is referring to <code>print join &#39; | &#39;, map {sprintf &quot;%22s&quot;, $_-&gt;as_text} @{$row};</code> Any ideas? Thanks for all your help!"}], "tags": [], "owner": {"reputation": 79, "user_id": 3350881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2653250de34d8b1366be430cb4a59684?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3350881/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1424252453, "last_edit_date": 1424252453, "creation_date": 1424104737, "answer_id": 28546180, "question_id": 28511438, "link": "https://stackoverflow.com/questions/28511438/printing-all-html-tables-with-certain-string-for-multiple-files-perl/28546180#28546180", "title": "Printing all HTML Tables with certain string for multiple files (perl)", "body": "<p>You cannot apply a regex to an object, as you do in:</p>\n\n<pre><code>if ( $ts =~ /kcat/i ) {\n</code></pre>\n\n<p>I'd suggest, parsing the tables in 'tree' mode. For this, you'd have to install two additional perl modules: HTML::TreeBuilder and HTML::ElementTable. Enable it like this:</p>\n\n<pre><code>use HTML::TableExtract 'tree';\n</code></pre>\n\n<p>Here's the fixed while loop:</p>\n\n<pre><code>while ( my $file = $it-&gt;() ) {\n  $xml = read_file($file);\n  my $te = HTML::TableExtract-&gt;new();\n  $te-&gt;parse($xml);\n  foreach my $ts ( $te-&gt;tables ) {\n    my $tree = $ts-&gt;tree or die $!;\n    if ( $tree-&gt;as_text =~ /kcat/i ) {\n      print \"Table (\", join( ',', $ts-&gt;coords ), \"):\\n\";\n      # update 18.2.2015: pretty print the table\n      foreach my $row ($ts-&gt;rows) {\n        print join ' | ', map {sprintf \"%22s\", $_-&gt;as_text} @{$row};\n        print \"\\n\";\n        # which is the same as\n        # foreach my $cell (@${$row}) { do something with $cell-&gt;as_text }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>$tree is an HTML::ElementTable object. The code above works with your sample.</p>\n"}], "owner": {"reputation": 21, "user_id": 4565500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acaafca823b8db1dcb1a2f3a16857dee?s=128&d=identicon&r=PG&f=1", "display_name": "alphasugar", "link": "https://stackoverflow.com/users/4565500/alphasugar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1424252453, "creation_date": 1423877245, "last_edit_date": 1423914945, "question_id": 28511438, "link": "https://stackoverflow.com/questions/28511438/printing-all-html-tables-with-certain-string-for-multiple-files-perl", "title": "Printing all HTML Tables with certain string for multiple files (perl)", "body": "<p>I am trying to print all the HTML tables containing the string \"kcat\" for each xml file in a directory but I am having some trouble. Note that each file in the directory (named kcat_tables) has at least one HTML table with kcat in it. I am running this program on an ubuntu virtual machine. Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse File::Slurp;\nuse Path::Iterator::Rule;\nuse HTML::TableExtract;\nuse utf8::all;\nmy @papers_dir_path = qw(/home/bob/kinase/kcat_tables);\n\nmy $rule = Path::Iterator::Rule-&gt;new;\n$rule-&gt;name(\"*.nxml\");\n$rule-&gt;skip_dirs(\".\");\n\nmy $xml;\nmy $it = $rule-&gt;iter(@papers_dir_path);\n\nwhile ( my $file = $it-&gt;() ) {\n    $xml = read_file($file);\n    my $te = HTML::TableExtract-&gt;new();\n    $te-&gt;parse($xml);\n    foreach my $ts ( $te-&gt;tables ) {\n        if ( $ts =~ /kcat/i ) {\n            print \"Table (\", join( ',', $ts-&gt;coords ), \"):\\n\";\n            foreach my $row ( $ts-&gt;rows ) {\n                print join( ',', @$row ), \"\\n\";\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Any ideas on how I should fix this? Thanks in advance! Also, I am fairly new to the PERL language so a simple, comprehensible answer would be very much appreciated.</p>\n"}, {"tags": ["c", "xml", "perl", "ms-access"], "answers": [{"tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 1, "last_activity_date": 1423886104, "creation_date": 1423886104, "answer_id": 28512255, "question_id": 28510534, "link": "https://stackoverflow.com/questions/28510534/issues-with-importing-xml-data-into-access/28512255#28512255", "title": "Issues with importing XML Data into Access", "body": "<p>XML data is a free-form data type where nodes or elements, attributes, tags can be positioned in any format. As long as markup rules are followed, the design types is limited to only the designer's imagination. Because of this nature, complex XML data must be transformed to fit database's two dimension structure. </p>\n\n<p>Access tables, Excel spreadsheets, CSV files, R data frames, SAS datasets require a tabular format of rows and columns: </p>\n\n<pre><code>      Field1 Field2 Field3\nrow1   data   data   data\nrow2   data   data   data\n</code></pre>\n\n<p>In XML this equates to:</p>\n\n<pre><code>&lt;row1&gt;\n   &lt;field1&gt;data&lt;/field1&gt;\n   &lt;field2&gt;data&lt;/field2&gt;\n   &lt;field3&gt;data&lt;/field3&gt;\n&lt;/row1&gt;\n\n&lt;row2&gt;\n   &lt;field1&gt;data&lt;/field1&gt;\n   &lt;field2&gt;data&lt;/field2&gt;\n   &lt;field3&gt;data&lt;/field3&gt;\n&lt;/row2&gt;\n</code></pre>\n\n<p>This is very similar to html tables:</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Header1&lt;/th&gt;\n        &lt;th&gt;Header2&lt;/th&gt;\n        &lt;th&gt;Header3&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Data1&lt;/td&gt;\n        &lt;td&gt;Data2&lt;/td&gt;\n        &lt;td&gt;Data3&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>The reason you see blank tables after importing is because the structure of your XML does not adequately align to the two dimensional row and column structure OR XML data resides in attributes and not elements. You may have multiple nested tree structure. Data laid out in elements: <code>&lt;item&gt;data&lt;/item&gt;</code> and in attributes: <code>&lt;item attribute=\"data\"&gt;&lt;/item&gt;</code>. And still more nuances. NOTE: Access can only import <a href=\"http://support.microsoft.com/kb/285329\" rel=\"nofollow\">element-centric</a> not attribute-centric xml.</p>\n\n<p>Nearly every programming language (Python, R, PHP, C, C++, C#, Java, Ruby, even Perl and VBA) has a package, module, library, etc. to parse and transform xml files, iterate across nodes to extract data, or other data handler. What you essentially need to do is: </p>\n\n<ol>\n<li>Dissect the XML files to assess their overall structure or the\nparts you need</li>\n<li>Code a transform/parser solution to obtain\n    the tabular format of your xml data. I prefer the <a href=\"http://www.w3schools.com/xsl/xsl_editxml.asp\" rel=\"nofollow\">xsl transformation</a></li>\n<li>Convert to raw xml to transform xml or csv/txt/xlsx and import into\nAccess. In Access VBA you can use:\n<a href=\"https://msdn.microsoft.com/en-us/library/office/ff823157.aspx\" rel=\"nofollow\">Application.ImportXML</a> and\n<a href=\"https://msdn.microsoft.com/en-us/library/office/ff844810%28v=office.14%29.aspx\" rel=\"nofollow\">Application.TransformXML</a> and VBA's general <a href=\"https://msdn.microsoft.com/en-us/library/bb384609.aspx\" rel=\"nofollow\">Load XML</a>.</li>\n</ol>\n\n<p>I hope this helps. Good luck!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1781966"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3181, "favorite_count": 1, "accepted_answer_id": 28512255, "answer_count": 1, "score": 0, "last_activity_date": 1423886104, "creation_date": 1423870404, "question_id": 28510534, "link": "https://stackoverflow.com/questions/28510534/issues-with-importing-xml-data-into-access", "title": "Issues with importing XML Data into Access", "body": "<p>I'm looking for a way to get XML Data into an Access database. Currently I'm trying to import the files via the XML import tab in Access, but unfortunately this just returns 3 blank tables. This is my first experience with XML, so i'm not too savvy on the standard procedures for getting this type of data into a database. I've read that the files need to go through a \"process\" before they can be inserted into any database, and this typically requires some programming skills in order to do so. When I've Googled this in the past, I get a lot of articles talking about using Perl to parse the file, but haven't found a lot of concrete examples showing me how to do this.</p>\n\n<p>I guess my questions is, what do I need to do? is there a standard chunk of code I need to create in order to make the files \"Access acceptable\"? I'm really willing to do anything at this point. </p>\n"}, {"tags": ["perl", "redirect", "www-mechanize"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1423865867, "post_id": 28508971, "comment_id": 45338432, "body": "It is impolite of you to present code in such a mess and ask for help with it. It wouldn&#39;t hurt you to indent it properly so that it was at least readable. As it stands it&#39;s a mess."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423869689, "post_id": 28508971, "comment_id": 45339821, "body": "The <i>Wellesley College</i> site doesn&#39;t appear to like the sequence ID <code>&gt;RyhB</code> in the RNA sequence field. It would help if you posted the <i>actual</i> code that you&#39;re having problems with."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1423870254, "post_id": 28509415, "comment_id": 45339977, "body": "Please <i>always</i> <code>use strict</code> and <code>use warnings</code> at the start of <i>every</i> Perl program. There is very little point in declaring variables with <code>my</code> without <code>use strict</code> in place."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 3, "last_activity_date": 1423864452, "creation_date": 1423864452, "answer_id": 28509415, "question_id": 28508971, "link": "https://stackoverflow.com/questions/28508971/wwwmechanize-follows-a-second-redirect-after-six-seconds/28509415#28509415", "title": "WWW::Mechanize follows a second redirect after six seconds", "body": "<p>What you need to do is extract the redirect URL and ran it manually:</p>\n\n<p>Try this:</p>\n\n<pre><code>use WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new( autocheck =&gt; 1 );\n\n$mech-&gt;get( \"http://tempest.wellesley.edu/~btjaden/TargetRNA2/index.html\");\n\n$result = $mech-&gt;submit_form(\n    form_number =&gt; 1, \n    fields      =&gt; \n    {\n        text        =&gt; 'Escherichia coli str. K-12 substr. MG1655', \n        sequence    =&gt; '&gt;RyhB GCGATCAGGAAGACCCTCGCGGAGAACCTGAAAGCACGACATTGCTCACATTGCTTCCAGTATTACTTAGCCAGCCGGGTGCTGGCTTTT',\n    }\n);\n\nmy $content =  $mech-&gt;content;\nmy $url1 = 'http://tempest.wellesley.edu/~btjaden/cgi-bin/';\nmy ($url2) = $content =~ /URL=(targetRNA2\\.cgi?.+)?\"&gt;/;\n\n$mech-&gt;get($url1.$url2);\n\n$mech-&gt;save_content(result);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 2, "creation_date": 1423866507, "post_id": 28509745, "comment_id": 45338706, "body": "This is rather like a link-only answer. Might want to add some of the details from these links into your post."}, {"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1423870948, "post_id": 28509745, "comment_id": 45340161, "body": "It is not cost effective without knowing which &quot;delayed redirection&quot; method is used by the page e.g. I have seen redirections based on javascript only,"}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1423871321, "last_edit_date": 1423871321, "creation_date": 1423866111, "answer_id": 28509745, "question_id": 28508971, "link": "https://stackoverflow.com/questions/28508971/wwwmechanize-follows-a-second-redirect-after-six-seconds/28509745#28509745", "title": "WWW::Mechanize follows a second redirect after six seconds", "body": "<h2>WWW::Mechanize and meta refresh</h2>\n\n<p>Does the \"6 seconds\" contain something line the line below?  [You may use <code>save_content</code> method of WWW::Machenize to save page to file]</p>\n\n<pre><code>&lt;meta http-equiv=\"refresh\" content=\"5; url=http://example.com/\"&gt;\n</code></pre>\n\n<p>YES=>  </p>\n\n<p>Take a look at sources of <a href=\"http://search.cpan.org/~ryochin/WWW-Mechanize-Plugin-FollowMetaRedirect-0.03/lib/WWW/Mechanize/Plugin/FollowMetaRedirect.pm\" rel=\"nofollow\">WWW::Mechanize::Plugin::FollowMetaRedirect</a>.<br>\nIt shows how WWW::Mechanize may follow <a href=\"https://en.wikipedia.org/wiki/Meta_refresh\" rel=\"nofollow\">meta refresh with redirect</a>.<br>\nIt may quite likely solve your problem. </p>\n"}], "owner": {"reputation": 41, "user_id": 3353029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f29ab6cc1d414a0036375432f045f45?s=128&d=identicon&r=PG&f=1", "display_name": "user3353029", "link": "https://stackoverflow.com/users/3353029/user3353029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1432824375, "creation_date": 1423862604, "last_edit_date": 1432824375, "question_id": 28508971, "link": "https://stackoverflow.com/questions/28508971/wwwmechanize-follows-a-second-redirect-after-six-seconds", "title": "WWW::Mechanize follows a second redirect after six seconds", "body": "<p>I am using Perl with the <a href=\"https://metacpan.org/module/WWW::Mechanize\" rel=\"nofollow\"><code>WWW::Mechanize</code></a> module to submit a form to a webpage and save the result to a file. I know how to submit forms and save the data, but I can't save data after this six-second redirection.</p>\n\n<p>After the form is submitted, the page is redirected to a page that says</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Results should appear in this window in approximately 6 seconds...\n</code></pre>\n\n<p>and it is redirected again to the page with the result I want. My script can follow the first redirection, but not the second, and there is no link says something like <em>\"click here if not redirected\"</em>.</p>\n\n<p>Here is my script</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new(autocheck =&gt; 1);\n\n$mech-&gt;get( \"http://tempest.wellesley.edu/~btjaden/TargetRNA2/index.html\");\n\n$result = $mech-&gt;submit_form(\n    form_number =&gt;  1,\n    fields      =&gt;  {\n        text    =&gt; 'Escherichia coli str. K-12 substr. MG1655',\n        sequence    =&gt; '&gt;RyhB' . \"\\n\" .\n                        'GCGATCAGGAAGACCCTCGCGGAGAACCTGAAAGCACGACATTGCTCACATTGCTTCCAGTATTACTTAGCCAGCCGGGTGCTGGCTTTT',\n    }    \n);\n$mech-&gt;save_content(result);\n</code></pre>\n"}, {"tags": ["linux", "perl", "io-redirection"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1423860683, "post_id": 28508461, "comment_id": 45336060, "body": "I would take a look at <a href=\"https://metacpan.org/pod/Capture::Tiny#USAGE\" rel=\"nofollow noreferrer\"><code>Capture::Tiny</code></a>"}, {"owner": {"reputation": 559, "user_id": 2662339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/83595184754ff4fa807b31e72a4b7266?s=128&d=identicon&r=PG", "display_name": "user20408", "link": "https://stackoverflow.com/users/2662339/user20408"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1423860706, "post_id": 28508461, "comment_id": 45336077, "body": "Someone want to explain the down-vote?"}, {"owner": {"reputation": 85503, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1423865476, "post_id": 28508461, "comment_id": 45338298, "body": "@user20408: SO is a mean place, you can get downvote-and-run here... Anyway, while your question is not quite a dupe, maybe it&#39;s a dupe when you consider the answers to the pseudo-dupe. Am casting a reopen vote but please have a look at them."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1423868208, "post_id": 28508461, "comment_id": 45339366, "body": "You&#39;re most of the way there. You&#39;ve successfully redirected <code>STDERR</code> to <code>STDOUT</code>; the only thing left is to also send <code>STDERR</code> to a file. The first answer in the linked duplicate shows you how to make a filehandle write to more than one file at a time, which is exactly what you want to do: <code>*STDERR-&gt;autoflush; *STDERR-&gt;push_layer(tee =&gt; &#39;&gt;&gt;file2&#39;);</code>"}, {"owner": {"reputation": 559, "user_id": 2662339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/83595184754ff4fa807b31e72a4b7266?s=128&d=identicon&r=PG", "display_name": "user20408", "link": "https://stackoverflow.com/users/2662339/user20408"}, "edited": false, "score": 0, "creation_date": 1424982917, "post_id": 28508461, "comment_id": 45786455, "body": "ThisSuit, thanks for the suggestion. The only problem is that I&#39;m using perl on a cloud server, and have no access to the system. I&#39;m getting the error: &quot;Can&#39;t locate PerlIO/Util.pm in @INC,&quot; which I&#39;m assuming means I don&#39;t have that module. Can you think of anything else that might work? Either way, I really appreciate it."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1425329768, "post_id": 28508461, "comment_id": 45910318, "body": "@user20408 (FYI, you can use <code>@username</code> to notify users that you&#39;re replying to them.) I&#39;m not sure what you mean by &quot;have no access to the system.&quot; If that&#39;s the case, how are you running your script? If you mean &quot;I don&#39;t have admin rights,&quot; you should still be able to <a href=\"http://stackoverflow.com/questions/3735836/how-can-i-install-perl-modules-without-root-privileges\">install modules with <code>local::lib</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 559, "user_id": 2662339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/83595184754ff4fa807b31e72a4b7266?s=128&d=identicon&r=PG", "display_name": "user20408", "link": "https://stackoverflow.com/users/2662339/user20408"}, "edited": false, "score": 0, "creation_date": 1423861769, "post_id": 28508576, "comment_id": 45336614, "body": "I saw tee everywhere when I was doing my search, so I did look into it. I still couldn&#39;t figure out how to redirect stderr to both stdout (and then send those to file1), and file2. I could only find out how to redirect stderr and stdout to the same file, or redirect stdout to both the console and a file. I&#39;ve been looking for a while now, and it&#39;s just not clear to me. Thanks."}], "tags": [], "owner": {"reputation": 6761, "user_id": 64217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f3aa9e8bfc46f7253b16d165250bcecd?s=128&d=identicon&r=PG", "display_name": "Gene Gotimer", "link": "https://stackoverflow.com/users/64217/gene-gotimer"}, "is_accepted": false, "score": 3, "last_activity_date": 1423860930, "creation_date": 1423860930, "answer_id": 28508576, "question_id": 28508461, "link": "https://stackoverflow.com/questions/28508461/redirect-stderr-to-stdout-and-a-separate-file-perl-linux/28508576#28508576", "title": "redirect stderr to stdout AND a separate file?- perl, linux", "body": "<p>You could try the Perl Module <a href=\"https://metacpan.org/pod/IO::Tee\" rel=\"nofollow\">IO::Tee</a> which allows you to redirect output to more than one output handle.</p>\n"}], "owner": {"reputation": 559, "user_id": 2662339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/83595184754ff4fa807b31e72a4b7266?s=128&d=identicon&r=PG", "display_name": "user20408", "link": "https://stackoverflow.com/users/2662339/user20408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 0, "closed_date": 1423862191, "answer_count": 1, "score": 1, "last_activity_date": 1423865543, "creation_date": 1423860419, "last_edit_date": 1495539813, "question_id": 28508461, "link": "https://stackoverflow.com/questions/28508461/redirect-stderr-to-stdout-and-a-separate-file-perl-linux", "closed_reason": "Duplicate", "title": "redirect stderr to stdout AND a separate file?- perl, linux", "body": "<p>I would like to redirect both stdout and stderr to file1, but also redirect only stderr to file2. Is this possible? I have a working script for part 1, but can't figure out how to additionally write stderr to file2, without overwriting the redirection to file1 (in actuality, the first stderr redirect is going to stdout which then goes to file1). I'm trying to do this so file1 can contain print statements and errors as it would if I were running in a console, and file2 will just log the errors. </p>\n\n<p>Any idea on the best way to achieve this without straying too much from what I already have?</p>\n\n<pre><code>open STDOUT, '&gt;', \"$file1\" or die $!; # redirect stdout to file\nopen STDERR, '&gt;&amp;STDOUT' or die $!; # redirect standard error to stdout\n# now how to *also* redirect STDERR to $file2?\n</code></pre>\n\n<p>Thanks</p>\n\n<p><strong>Edit</strong>: I do not believe this is a duplicate of <a href=\"https://stackoverflow.com/q/5323268/1593077\">this question</a>; it it is,  I'm missing it. They wanted to get the output to the screen and into a logfile, I want my stdout/stderr to go to the same file in addition to only stderr going to another file of its own. I don't want (or can't see) any output on the screen. This is like my 3rd time writing in perl so it's pretty new to me. I've been looking at this for hours (including already looking at the 'duplicate' post you linked), and can't find a reasonable solution to my problem.</p>\n"}, {"tags": ["regex", "perl", "unix", "sed"], "comments": [{"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1423858696, "post_id": 28508047, "comment_id": 45335061, "body": "Look at the <code>&#47;s</code> and <code>&#47;m</code> regex modifiers in the Perl documentation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 0, "creation_date": 1423858801, "post_id": 28508047, "comment_id": 45335105, "body": "@Andy Lester, I don&#39;t see the use of either in solving this problem."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4095843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eRydN3RWSb8/AAAAAAAAAAI/AAAAAAAAABY/0Sr6tyP2DXg/photo.jpg?sz=128", "display_name": "Tim Finkel", "link": "https://stackoverflow.com/users/4095843/tim-finkel"}, "edited": false, "score": 0, "creation_date": 1423860652, "post_id": 28508081, "comment_id": 45336041, "body": "Thanks for the info, although it&#39;s still not working for me from the command line when I run like so - <code>cat temp.sql | perl -pe &#39;s&#47;,(?=\\s*\\);)&#47;&#47;g;&#39;</code>"}, {"owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "edited": false, "score": 0, "creation_date": 1423860885, "post_id": 28508081, "comment_id": 45336174, "body": "<code>perl -pe</code> runs each line through the statement a line at a time and prints the result. The regex that @ikegami provided requires being run on the entire string at once."}, {"owner": {"reputation": 11, "user_id": 4095843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eRydN3RWSb8/AAAAAAAAAAI/AAAAAAAAABY/0Sr6tyP2DXg/photo.jpg?sz=128", "display_name": "Tim Finkel", "link": "https://stackoverflow.com/users/4095843/tim-finkel"}, "edited": false, "score": 0, "creation_date": 1423861302, "post_id": 28508081, "comment_id": 45336413, "body": "Makes sense, thanks! I solved by doing the following <code>cat temp.sql | perl -pe &#39;s&#47;[\\r\\n]+&#47;&#47;g;&#39; | perl -pe &#39;s&#47;,(?=\\s*\\);)&#47;&#47;g;&#39;</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 11, "user_id": 4095843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eRydN3RWSb8/AAAAAAAAAAI/AAAAAAAAABY/0Sr6tyP2DXg/photo.jpg?sz=128", "display_name": "Tim Finkel", "link": "https://stackoverflow.com/users/4095843/tim-finkel"}, "edited": false, "score": 1, "creation_date": 1423861678, "post_id": 28508081, "comment_id": 45336577, "body": "@TimFinkel FYI, you don&#39;t need <code>cat</code>: <code>perl -pe &#39;s&#47;foo&#47;bar&#47;g&#39; &#47;path&#47;to&#47;file</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423862106, "post_id": 28508081, "comment_id": 45336757, "body": "That&#39;s because <code>$_</code> doesn&#39;t contain the text you posted in your question, but just one line of it (at a time). Quick fix: Tell Perl to treat the whole file as one line. <code>perl -0777pe&#39;s&#47;,(?=\\s*\\);)&#47;&#47;g&#39; temp.sql</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1423883843, "last_edit_date": 1423883843, "creation_date": 1423858759, "answer_id": 28508081, "question_id": 28508047, "link": "https://stackoverflow.com/questions/28508047/multiple-line-regular-expression-in-sed-perl-etc/28508081#28508081", "title": "Multiple Line Regular Expression in sed, perl, etc", "body": "<p>If you want <code>.</code> to match a newline, you need <code>/s</code>. But you don't want that anyway. <code>\\s</code> will match newlines (and so will <code>\\n</code>).</p>\n\n<pre><code>my $text = &lt;&lt;'__EOI__';\ncreate table \"my_table\" (\n  \"id\" integer,\n  \"field_1\" integer,\n);\n__EOI__\n\n$text =~ s/,(?=\\s*\\);)//g;\n\nprint($text);\n</code></pre>\n\n<p>The above delete commas followed by optional whitespace, <code>)</code> and <code>;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1424049482, "post_id": 28513333, "comment_id": 45381251, "body": "+1 and if you use <code>RS=&#39;^$&#39;</code> instead of <code>RS=</code> it can be enhanced to work even if there are blank lines between the <code>,</code> and the <code>);</code> and it won&#39;t compress multiple chains of blank lines into a single blank line elsewhere in the file."}], "tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": false, "score": 1, "last_activity_date": 1424068682, "last_edit_date": 1424068682, "creation_date": 1423897272, "answer_id": 28513333, "question_id": 28508047, "link": "https://stackoverflow.com/questions/28508047/multiple-line-regular-expression-in-sed-perl-etc/28513333#28513333", "title": "Multiple Line Regular Expression in sed, perl, etc", "body": "<p>This <code>gnu awk</code> should do:</p>\n\n<pre><code>awk -v RS='^$' '{gsub(/,\\n);/,\"\\n);\")}1' file\ncreate table \"my_table\" (\n  \"id\" integer,\n  \"field_1\" integer\n);\n</code></pre>\n\n<p>It replaces <code>,&lt;new line&gt;);</code> with <code>&lt;new line&gt;);</code></p>\n\n<p>Updated, thanks Ed</p>\n"}], "owner": {"reputation": 11, "user_id": 4095843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eRydN3RWSb8/AAAAAAAAAAI/AAAAAAAAABY/0Sr6tyP2DXg/photo.jpg?sz=128", "display_name": "Tim Finkel", "link": "https://stackoverflow.com/users/4095843/tim-finkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 28508081, "answer_count": 2, "score": -1, "last_activity_date": 1424068682, "creation_date": 1423858647, "question_id": 28508047, "link": "https://stackoverflow.com/questions/28508047/multiple-line-regular-expression-in-sed-perl-etc", "title": "Multiple Line Regular Expression in sed, perl, etc", "body": "<p>I need help with a multi-line regular expression (unix-compatible) to replace the following -</p>\n\n<pre><code>create table \"my_table\" (\n  \"id\" integer,\n  \"field_1\" integer,\n);\n</code></pre>\n\n<p>With -</p>\n\n<pre><code>create table \"my_table\" (\n  \"id\" integer,\n  \"field_1\" integer\n);\n</code></pre>\n\n<p>Essentially, what I'm looking for is a comma, followed by a close parenthesis and then a semicolon. I would like to replace this with only the close parenthesis and semicolon.</p>\n\n<p>I've dug through several other questions, but I believe the challenge is around newlines.</p>\n\n<p>Would like to be able to run using stdin and stdout.</p>\n"}, {"tags": ["perl", "xinetd"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423855918, "post_id": 28506723, "comment_id": 45333677, "body": "SIGHUP&#39;s default action is to kill the process, so you wouldn&#39;t have to set a signal handler. Do you otherwise play with signals?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423856518, "post_id": 28506723, "comment_id": 45333981, "body": "I can&#39;t find anything about xinetd sending a SIGHUP when a client disconnects, and I don&#39;t know of any mechanism by which it could do that without reading from the client, and that would steal the data from the process which is suppose to be reading from the client. You should probably be using IO::Select instead of blocking IO, and you should include the client socket in the select. (If the select says data is available on the client socket and a sysread returns 0, the connection was closed.)"}, {"owner": {"reputation": 487, "user_id": 447876, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ba0b13f80f0d84d4e144b07ea42e7154?s=128&d=identicon&r=PG", "display_name": "sebastian nielsen", "link": "https://stackoverflow.com/users/447876/sebastian-nielsen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1423861188, "post_id": 28506723, "comment_id": 45336350, "body": "The process is not killed when client disconnects or timeouts. Can this be a problem in xinetd config? What do you mean with including the client socket? xinetd pipes data to STDIN and reads from STDOUT, so you do not get access to the raw socket."}], "owner": {"reputation": 487, "user_id": 447876, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ba0b13f80f0d84d4e144b07ea42e7154?s=128&d=identicon&r=PG", "display_name": "sebastian nielsen", "link": "https://stackoverflow.com/users/447876/sebastian-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1423853847, "creation_date": 1423853847, "question_id": 28506723, "link": "https://stackoverflow.com/questions/28506723/how-make-a-perl-script-quit-or-end-when-the-client-connection-to-xinetd-terminat", "title": "How make a perl script quit or end when the client connection to xinetd terminates?", "body": "<p>I have a perl script which uses blocking IO (sysread and syswrite).</p>\n\n<p>This script is connected to a xinetd server listening on a TCP port.\nI Heard that xinetd puts a SIGHUP when client disconnects, so I tried with:</p>\n\n<pre><code>$SIG{HUP} = sub { die; };\n</code></pre>\n\n<p>but didnt work, theres a lot of lingering processes when running ps -A.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["string", "perl", "concatenation"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1423852505, "post_id": 28506301, "comment_id": 45331836, "body": "Please show your code."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1423857489, "post_id": 28506301, "comment_id": 45334458, "body": "More code needed as an example. Joining the contents of a file into a string is relatively easy, but depends a bit on exactly what you&#39;re trying to accomplish."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 5, "last_activity_date": 1423856115, "last_edit_date": 1495542118, "creation_date": 1423852470, "answer_id": 28506350, "question_id": 28506301, "link": "https://stackoverflow.com/questions/28506301/perl-concatenating-a-undefined-number-of-strings-into-one-string/28506350#28506350", "title": "Perl - concatenating a undefined number of strings into one string", "body": "<p>As <a href=\"https://stackoverflow.com/questions/1829922/concatenating-variable-names-in-c/1829927#1829927\">I have mentioned elsewhere</a>:</p>\n\n<blockquote>\n  <p>When you find yourself adding an integer suffix to variable names, think \"<strong><em>I should have used an array</em></strong>\".</p>\n</blockquote>\n\n<p>Then you can use <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\"><code>join('', @strings)</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1423857599, "creation_date": 1423857599, "answer_id": 28507796, "question_id": 28506301, "link": "https://stackoverflow.com/questions/28506301/perl-concatenating-a-undefined-number-of-strings-into-one-string/28507796#28507796", "title": "Perl - concatenating a undefined number of strings into one string", "body": "<p>I'm guessing a bit, because you don't have much example code. </p>\n\n<p>But have you considered something like this:</p>\n\n<pre><code>open ( my $input_fh, \"&lt;\", \"filename\" ) or die $!;\nmy $concatenated_string;\nwhile ( my $line = &lt;$input_fh&gt; ) {\n    chomp ( $line ); #if you want to remove the linefeeds.\n    $concatenated_string .= $line; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 3329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddb83927a51446f8511dac1ed4be63f?s=128&d=identicon&r=PG", "display_name": "lnrdo", "link": "https://stackoverflow.com/users/3329333/lnrdo"}, "is_accepted": false, "score": 1, "last_activity_date": 1423858454, "creation_date": 1423858454, "answer_id": 28507998, "question_id": 28506301, "link": "https://stackoverflow.com/questions/28506301/perl-concatenating-a-undefined-number-of-strings-into-one-string/28507998#28507998", "title": "Perl - concatenating a undefined number of strings into one string", "body": "<pre><code>#!/usr/bin/env perl\n\n# Modern Perl is a book every one should read\nuse Modern::Perl '2013';\n\n# Declaring array to store input\nmy @info;\n\n# Using a loop control to store unknow number of entries\nwhile (&lt;STDIN&gt;) {    # Reading an undefined number of strings from STDIN\n\n  # Removing the \\n\n  chomp;\n\n  # Stacking input value into array\n  push(@info, $_);\n}\n\n# printing all entries separated by \",\"\nsay join(', ', @info);\n\n# exit program indicating success (no problem)\nexit 0;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>my $stream;\n$stream .= $_ while &lt;STDIN&gt;;\nprint $stream;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4248456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb48c8486c887b031266003761ad11b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Howes", "link": "https://stackoverflow.com/users/4248456/matt-howes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1423858454, "creation_date": 1423852309, "last_edit_date": 1423852464, "question_id": 28506301, "link": "https://stackoverflow.com/questions/28506301/perl-concatenating-a-undefined-number-of-strings-into-one-string", "title": "Perl - concatenating a undefined number of strings into one string", "body": "<p>I need to concatenate an undefined number of strings with Perl to create one larger string.</p>\n\n<p><code>$concatenated_string = $string1 . $string2 . $string3</code>  #..and so on for all strings provided in the file which was opened earlier in the program.</p>\n\n<p>I am just a beginner, but I could not find any question on here relating to it. Any help is much appreciated.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1423859484, "post_id": 28505867, "comment_id": 45335473, "body": "<code>$thing{special}</code> means the element with key <code>special</code> of hash <code>%thing</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "is_accepted": true, "score": 5, "last_activity_date": 1423850763, "creation_date": 1423850763, "answer_id": 28505887, "question_id": 28505867, "link": "https://stackoverflow.com/questions/28505867/perl-iterating-through-an-array-of-hashes-issue/28505887#28505887", "title": "Perl - Iterating through an array of hashes issue", "body": "<p>You have an array of <em>hashrefs</em>, not of hashes. You need to use <code>$thing-&gt;{special}</code> when when working with hashrefs.</p>\n"}], "owner": {"reputation": 1031, "user_id": 397035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce0b200711c110e539d3364907031cf2?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/397035/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 28505887, "answer_count": 1, "score": 1, "last_activity_date": 1423859921, "creation_date": 1423850656, "question_id": 28505867, "link": "https://stackoverflow.com/questions/28505867/perl-iterating-through-an-array-of-hashes-issue", "title": "Perl - Iterating through an array of hashes issue", "body": "<p>Newcomer to Perl so I suspect there is a simple solution to this but I cannot see it despite extensive Googling. </p>\n\n<pre><code>my @special_things = get_special_things(\\@allThings);\n\nsub get_special_things {\n    my $things = shift;\n    my @specialThings;\n\n    foreach my $thing (@$things) {\n        if ($thing{special} == 1) {\n            push(@specialThings, $things);\n        } \n    }\n    return @specialThings;\n}\n</code></pre>\n\n<p>The array of allThings being passed in is an array of hashes. I am getting an error on the foreach line telling me that 'Global symbol \"%thing\" requires explicit package name'.</p>\n\n<p>I know this has something to do with referencing the hash value or key but I am at a loss at the minute. Any help is much appreciated.</p>\n"}, {"tags": ["perl", "date", "unix", "cron", "solaris"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1423849723, "post_id": 28505449, "comment_id": 45330369, "body": "I&#39;m confused exactly what you&#39;re trying to do. Since you couldn&#39;t possibly be trying to go back in time to run a cron job yesterday, you must be trying to print yesterday&#39;s date from a cron job running today. Is that correct?"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1423850518, "creation_date": 1423850518, "answer_id": 28505832, "question_id": 28505449, "link": "https://stackoverflow.com/questions/28505449/how-can-i-set-a-cron-job-with-yesterdays-date-in-solaris/28505832#28505832", "title": "How can I set a cron job with yesterday&#39;s date in Solaris?", "body": "<p><code>cron</code> expects a command to run, not a line a shell can parse. You can run the shell as the command, though, and give it the line as the argument:</p>\n\n<pre><code>bash -c 'TZ=CST+24 date +%Y%m%d'\n</code></pre>\n\n<p>Specifying full path to <code>bash</code> might be needed, too.</p>\n"}, {"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1423865037, "creation_date": 1423865037, "answer_id": 28509537, "question_id": 28505449, "link": "https://stackoverflow.com/questions/28505449/how-can-i-set-a-cron-job-with-yesterdays-date-in-solaris/28509537#28509537", "title": "How can I set a cron job with yesterday&#39;s date in Solaris?", "body": "<p>Try to keep the lines in the cron easy to understand. Something like</p>\n\n<pre><code>5 * * * * /mypath/rotate.sh\n</code></pre>\n\n<p>The script should have the logic for making a variabele with the date.      </p>\n\n<p>You already found manipulating the Timezone for changing the clock some hours. An extra complexity is the Daylight Saving Time. Due to the daylight saving time, 24 hours ago can be today or the day before yesterday.</p>\n\n<p>You are sure that yesterday is 20 or 30 hours ago. Which one? Well, the most recent one that is not today.</p>\n\n<pre><code>echo \"$(TZ=GMT+30 date +%Y-%m-%d)\\n$(TZ=GMT+20 date +%Y-%m-%d)\" | grep -v $(date +%Y-%m-%d) | tail -1\n</code></pre>\n\n<p>Above command is for ksh. When you use bash, you want echo -e:</p>\n\n<pre><code>echo -e \"$(TZ=GMT+30 date +%Y-%m-%d)\\n$(TZ=GMT+20 date +%Y-%m-%d)\" | grep -v $(date +%Y-%m-%d) | tail -1\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3637206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd14bfafb82080be6ea0cdf03bae8e63?s=128&d=identicon&r=PG&f=1", "display_name": "user3637206", "link": "https://stackoverflow.com/users/3637206/user3637206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1423865037, "creation_date": 1423849245, "last_edit_date": 1423849498, "question_id": 28505449, "link": "https://stackoverflow.com/questions/28505449/how-can-i-set-a-cron-job-with-yesterdays-date-in-solaris", "title": "How can I set a cron job with yesterday&#39;s date in Solaris?", "body": "<p>I want to set a cron job with yesterday's date on a Unix server (Solaris). I tried:</p>\n\n<pre><code>TZ=CST+24 date +%Y%m%d\n</code></pre>\n\n<p>but got</p>\n\n<pre><code>had TZ=CST+24: not found\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code>`perl -mPOSIX -e 'print POSIX::strftime(\"%Y%m%d\",localtime(time() - 86400)) '`\n</code></pre>\n\n<p>This works but I\u2019m not sure that all the clients have Perl on their machines.</p>\n\n<p><code>date -v</code> and <code>date -d</code> don't work; only the <code>-u</code> and <code>-a</code> options work with date in Unix:</p>\n\n<pre><code>date: illegal option -- d\nusage: date [-u] mmddHHMM[[cc]yy][.SS]\ndate [-u] [+format]\ndate -a [-]sss[.fff]\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["perl", "security", "owasp"], "comments": [{"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1423846484, "post_id": 28504645, "comment_id": 45328384, "body": "Data is just bytes. If you can get the language to execute those bytes, that&#39;s another story, but at that point you&#39;re subverting the intended action of the language through some exploit."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1423846523, "post_id": 28504645, "comment_id": 45328407, "body": "Sure it can! See the OWASP page on <a href=\"https://www.owasp.org/index.php/Unrestricted_File_Upload\" rel=\"nofollow noreferrer\">Unrestricted File Upload</a>, the InfoSec page on <a href=\"http://resources.infosecinstitute.com/file-upload-vulnerabilities/\" rel=\"nofollow noreferrer\">Complete File Upload Vulnerabilities</a>, the CWE page on <a href=\"http://cwe.mitre.org/data/definitions/434.html\" rel=\"nofollow noreferrer\">Unrestricted Upload of File with Dangerous Type</a>, and the SANS recommendations for <a href=\"http://software-security.sans.org/blog/2009/12/28/8-basic-rules-to-implement-secure-file-uploads\" rel=\"nofollow noreferrer\">8 Basic Rules to Implement Secure File Uploads</a> for details."}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1423846563, "post_id": 28504645, "comment_id": 45328444, "body": "One other note - this is partially a user-education issue. The users that are downloading the file are the ones at risk, and need to be trained to understand that the source of the files could be in question."}, {"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 1, "creation_date": 1423846566, "post_id": 28504645, "comment_id": 45328446, "body": "If the data is parsed in any way (e.g. if it has an XML extension you decide to parse it), then you can also be vulnerable to exploits via the parser. Same for handling file names perhaps inserted to db."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 2, "creation_date": 1423846956, "post_id": 28504645, "comment_id": 45328708, "body": "I&#39;m voting to close this question as off-topic because is belongs on a security stackexchange."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1423847158, "post_id": 28504645, "comment_id": 45328848, "body": "It&#39;s less likely to be dangerous, but not 100% safe. Especially in the middle ground where the line between &#39;content rendering&#39; and &#39;scripting language&#39; gets increasingly thin."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1423859645, "post_id": 28504645, "comment_id": 45335551, "body": "Simple version: Yes, because you could end up executing it without intending to. It could be from the reading itself (buffer overflow), or from what you do with what you read."}, {"owner": {"reputation": 2078, "user_id": 228703, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Uod9I.jpg?s=128&g=1", "display_name": "ianbeks", "link": "https://stackoverflow.com/users/228703/ianbeks"}, "edited": false, "score": 0, "creation_date": 1424091824, "post_id": 28504645, "comment_id": 45397453, "body": "Appreciate the answers and comments and that this may be off topic but it was directed principally at the reading of the file using perl&#39;s open/read. Seems that preventing the file from being uploaded in the first place is where the effort should be spent."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1424107771, "post_id": 28504645, "comment_id": 45407118, "body": "@ianbeks Reading the file is safe (Unicode encoding people might have something to add about that) but once you&#39;ve read it who knows what you&#39;ll do with that data. Who knows what the functions you pass your data into will do with it.  This is why <a href=\"http://perldoc.perl.org/perlsec.html\" rel=\"nofollow noreferrer\">taint mode exists</a> although its extremely global nature makes it difficult to implement in production."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 8, "last_activity_date": 1423852982, "creation_date": 1423852982, "answer_id": 28506492, "question_id": 28504645, "link": "https://stackoverflow.com/questions/28504645/can-reading-a-file-be-as-dangerous-as-executing-it/28506492#28506492", "title": "Can reading a file be as dangerous as executing it", "body": "<p>I'll reiterate @ThisSuitIsBlackNot's links to file upload security considerations...</p>\n\n<ul>\n<li><a href=\"https://www.owasp.org/index.php/Unrestricted_File_Upload\">Unrestricted File Upload Vulnerabilities</a></li>\n<li><a href=\"http://resources.infosecinstitute.com/file-upload-vulnerabilities/\">Complete File Upload Vulnerabilities</a> which is not complete at all but includes some good examples.</li>\n<li><a href=\"http://cwe.mitre.org/data/definitions/434.html\">CWE-434: Unrestricted Upload of File with Dangerous Type</a></li>\n<li><a href=\"http://software-security.sans.org/blog/2009/12/28/8-basic-rules-to-implement-secure-file-uploads\">8 Basic Rules to Implement Secure File Uploads</a></li>\n</ul>\n\n<p>These can be boiled down to...</p>\n\n<ul>\n<li>Dangers to your server\n<ul>\n<li>Injecting a special file or file extension which the server will execute.\n<ul>\n<li>.htaccess (per-directory Apache configuration file)</li>\n<li>.php, .asp, .cgi, etc...</li>\n</ul></li>\n<li>Injecting a system file outside the download directory.\n<ul>\n<li>/etc/passwd or ../../../../etc/passwd</li>\n</ul></li>\n<li>Exploiting a flaw in a processing library\n<ul>\n<li>Image resize</li>\n<li>XML/JSON parsing</li>\n</ul></li>\n<li>SQL injection attack\n<ul>\n<li>Filename</li>\n<li>File metadata</li>\n</ul></li>\n<li>Shell injection attack\n<ul>\n<li>Filename</li>\n</ul></li>\n<li>Buffer overflow\n<ul>\n<li>File size</li>\n<li>HTTP upload size</li>\n<li>Filename size</li>\n<li>Directory depth</li>\n</ul></li>\n<li>Denial Of Service by filling the disk</li>\n</ul></li>\n<li>Dangers to others\n<ul>\n<li>Phishing attack\n<ul>\n<li>Upload a malicious .html file making it appear the URL is coming from your (trusted) host.</li>\n<li>Upload a malicious .js file and refer to it from elsewhere in your domain (perhaps a forum post) to circumvent XSS attack defenses.</li>\n</ul></li>\n<li>Using your service as an anonymous attack vector\n<ul>\n<li>BOTnet control files</li>\n<li>Pirated files including torrents</li>\n<li>Personal data for blackmail or harassment purposes</li>\n<li>Trojan/virus files</li>\n</ul></li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 2078, "user_id": 228703, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Uod9I.jpg?s=128&g=1", "display_name": "ianbeks", "link": "https://stackoverflow.com/users/228703/ianbeks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 1, "accepted_answer_id": 28506492, "answer_count": 1, "score": 3, "last_activity_date": 1423852982, "creation_date": 1423846329, "question_id": 28504645, "link": "https://stackoverflow.com/questions/28504645/can-reading-a-file-be-as-dangerous-as-executing-it", "title": "Can reading a file be as dangerous as executing it", "body": "<p>In Perl, if any file type is allowed to be uploaded to a server (not in web root) and consequently downloaded, can this be dangerous? It's not being executed as such but read as binary.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4563582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874306a22bf4095fc33ac95bec906994?s=128&d=identicon&r=PG&f=1", "display_name": "Anu", "link": "https://stackoverflow.com/users/4563582/anu"}, "edited": false, "score": 0, "creation_date": 1423903238, "post_id": 28504638, "comment_id": 45345757, "body": "Thanks for the help tried solution 2 and it worked. I have one more question I want to change the content in the same xml file. Is there a way to do that? As of now I am using print $xmldoc-&gt;toString; and redirecting the output to another xml file. But I don&#39;t like doing this way."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 47, "user_id": 4563582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874306a22bf4095fc33ac95bec906994?s=128&d=identicon&r=PG&f=1", "display_name": "Anu", "link": "https://stackoverflow.com/users/4563582/anu"}, "edited": false, "score": 0, "creation_date": 1423931673, "post_id": 28504638, "comment_id": 45352503, "body": "Nothing&#39;s stopping you from saving to the same file. And there&#39;s a method named <code>toFile</code> which will save you some work"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1423847794, "last_edit_date": 1423847794, "creation_date": 1423846315, "answer_id": 28504638, "question_id": 28504519, "link": "https://stackoverflow.com/questions/28504519/xmllibxml-replace-value/28504638#28504638", "title": "XML::LibXML replace value", "body": "<pre><code>for my $default_author_node ($xmldoc-&gt;findnodes(\n   '/library/book[@name=\"abc\"]/author[@name=\"john\"]/default'\n)) {\n   $default_author_node-&gt;setAttribute('value', 'true');\n}\n</code></pre>\n\n<p>But you probably want the names to be variable.</p>\n\n<p>Solution 1: Dynamically build the above XPath.</p>\n\n<pre><code>sub text_to_xpath {\n   my ($s) = @_;\n   return qq{\"$s\"} if $s !~ tr/\"//;\n   return qq{'$s'} if $s !~ tr/'//;\n   $s = s/\"/\", '\"', \"/g;\n   return qq{concat(\"$s\")};\n}\n\nmy $target_book_xp   = text_to_xpath($target_book);\nmy $target_author_xp = text_to_xpath($target_author);\n\nfor my $default_author_node ($xmldoc-&gt;findnodes(\n   \"/library/book[\\@name=$target_book_xp]/author[\\@name=$target_author_xp]/default\"\n)) {\n   $default_author_node-&gt;setAttribute('value', 'true');\n}\n</code></pre>\n\n<p>Solution 2: Do the checking yourself.</p>\n\n<p>This is what you were attempting, but XPath <code>/@name</code> gets the child attributes (<code>@</code>) named <code>name</code> at the root of the document (<code>/</code>), but the only node there is the root element (<code>library</code>). Just like in directory paths, don't use a leading <code>/</code> if you want to search relative to the context.</p>\n\n<pre><code>for my $book_node ($xmldoc-&gt;findnodes('/library/book')) {\n   my $name = $book_node-&gt;getAttribute('name');\n   next if !defined($name) || $name ne $target_book;\n\n   for my $author_node ($book_node-&gt;findnodes('author')) {\n      my $name = $book_node-&gt;getAttribute('name');\n      next if !defined($name) || $name ne $target_author;\n\n      for my $default_author_node ($author_node-&gt;findnodes('default')) {\n         $default_author_node-&gt;setAttribute('value', 'true');\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4563582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874306a22bf4095fc33ac95bec906994?s=128&d=identicon&r=PG&f=1", "display_name": "Anu", "link": "https://stackoverflow.com/users/4563582/anu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1423847794, "creation_date": 1423845949, "last_edit_date": 1423846333, "question_id": 28504519, "link": "https://stackoverflow.com/questions/28504519/xmllibxml-replace-value", "title": "XML::LibXML replace value", "body": "<p>I have the below xml file and in this I want to write  a perl script so that I can grep on first book name and then author name and if both of them matches change the field \"value\" from false to true. For ex if book name is abc and author name is john, change the value from false to true.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse XML::LibXML;\nmy $parser = XML::LibXML-&gt;new();\nmy $xmldoc = $parser-&gt;parse_file('b.xml');\nfor my $book ($xmldoc-&gt;findnodes('/library/book')) {\n    my $name = $book-&gt;findvalue('/@name');\n    if($name eq \"abc\")\n    {\n        print \"yes\" ;\n    }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>&lt;library&gt;\n  &lt;book name=\"abc\" id=\"3\"&gt;\n    &lt;key name=\"history\"&gt;\n      &lt;default label=\"base\" value=\"1\"/&gt;\n    &lt;/key&gt;\n    &lt;author name=\"john\"&gt;\n      &lt;default label=\"base\" value=\"false\"/&gt;\n    &lt;/author&gt;\n  &lt;/book&gt;\n  &lt;book name=\"xyz\" id=\"4\"&gt;\n    &lt;key name=\"science\"&gt;\n      &lt;default label=\"base\" value=\"1\"/&gt;\n    &lt;/key&gt;\n    &lt;author name=\"nik\"&gt;\n      &lt;default label=\"base\" value=\"false\"/&gt;\n    &lt;/author&gt;\n  &lt;/book&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am new to perl, can someone help me here? I have written some code to reach to first point to check the author name but that itself is not working.   </p>\n"}, {"tags": ["linux", "perl", "shell"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 1, "creation_date": 1423841647, "post_id": 28502872, "comment_id": 45325188, "body": "<a href=\"http://stackoverflow.com/q/8023959/725418\">You should always use <code>use strict; use warnings;</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 841, "user_id": 1408148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb10ae68d41c8ee347732eb7faa38090?s=128&d=identicon&r=PG", "display_name": "Kostia Shiian", "link": "https://stackoverflow.com/users/1408148/kostia-shiian"}, "is_accepted": false, "score": 1, "last_activity_date": 1423842202, "last_edit_date": 1423842202, "creation_date": 1423841485, "answer_id": 28503033, "question_id": 28502872, "link": "https://stackoverflow.com/questions/28502872/accessing-default-directory-in-perl/28503033#28503033", "title": "Accessing Default directory in perl", "body": "<p>Before <code>opendir(DIR, $dir) or die \"cannot open directory\";</code> check if directory exists and if not assign <code>$dir</code> variable default value:</p>\n\n<pre><code>$default_dir = \"....\";\n\nif (!-e $dir)\n{\n    $dir = $default_dir;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 1, "creation_date": 1423853931, "post_id": 28503335, "comment_id": 45332591, "body": "yes i will make sure i will use use strict; use warnings; , in my perl scripts. This was first time i have been working on perl so did not knew much about the good perl programming practices."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 5, "last_activity_date": 1423842420, "creation_date": 1423842420, "answer_id": 28503335, "question_id": 28502872, "link": "https://stackoverflow.com/questions/28502872/accessing-default-directory-in-perl/28503335#28503335", "title": "Accessing Default directory in perl", "body": "<p>The first and most critical mistake you have made is to not use</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>These two pragmas provide more help than any other two lines of code you could possibly add. Never write Perl code without them.</p>\n\n<pre><code>use JSON;   \nuse XML::Simple;\nuse File::Spec;\n</code></pre>\n\n<p>You do not use either of these modules, so for this code, they are redundant.</p>\n\n<pre><code>$num_args = $#ARGV + 1;\nif ($num_args != 1) {\n    print \"\\nUsage: $0 &lt;input directory&gt;\\n\";\n    exit;\n}\n</code></pre>\n\n<p>This can be written</p>\n\n<pre><code>if (@ARGV != 1) {\n    print ...\n    exit;\n}\n</code></pre>\n\n<p>Because an array in scalar context returns its size.</p>\n\n<pre><code>opendir(DIR, $dir) or die \"cannot open directory\";\n@docs = grep(/\\.xml$/,readdir(DIR));\nforeach $file (@docs) {\n    my $abs_path = join(\"\",$dir,$file);\n</code></pre>\n\n<p>Unless you really need the precision of <code>readdir</code>, what you most often want is <code>glob()</code>. This code will replace the above code:</p>\n\n<pre><code>my @docs = glob \"$dir/*.xml\";\n</code></pre>\n\n<p>It will return the relative path (not the absolute path, as your variable name implies -- unless the path argument is absolute). For example: <code>examples/foo.xml</code>.</p>\n\n<pre><code>sub print_output {\n    my $output_object = $_[0];\n    print $output_object;\n}\n</code></pre>\n\n<p>I assume this sub is just an example, because it does nothing, and can be reduced to a simple <code>print</code>.</p>\n\n<p>As to your question about default directory to read from, that to me is at odds with the requirement of an argument (where you check <code>@ARGV</code>). But you can do a simple check for existence: </p>\n\n<pre><code>if (not -e $dir) {\n    $dir = \"default\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "is_accepted": false, "score": 2, "last_activity_date": 1423846566, "creation_date": 1423846566, "answer_id": 28504711, "question_id": 28502872, "link": "https://stackoverflow.com/questions/28502872/accessing-default-directory-in-perl/28504711#28504711", "title": "Accessing Default directory in perl", "body": "<p>The <a href=\"http://perldoc.perl.org/constant.html\" rel=\"nofollow\"><code>constant</code> pragma</a> and a conditional <a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow\">statement modifier</a> would make your default logic rather readable:</p>\n\n<pre><code>....\nuse constant DEFAULT_DIR =&gt; '/path/to/default/dir';\n....\n\nmy $dir = $ARGV[0];\n$dir = DEFAULT_DIR unless -e $dir;\n....\n</code></pre>\n\n<p>(And, yes, do take notice of others' suggestions:  strict, warnings, lexical dirhandles, pruning unneeded modules, avoiding <code>$#array</code>, etc.)</p>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 28503335, "answer_count": 3, "score": 1, "last_activity_date": 1423846566, "creation_date": 1423841032, "question_id": 28502872, "link": "https://stackoverflow.com/questions/28502872/accessing-default-directory-in-perl", "title": "Accessing Default directory in perl", "body": "<p>I am having a perl script which is taking a directory path as input and then script iterates through all the files present in that directory. For each file it calls some other function.</p>\n\n<p>Here is the script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse JSON;   \nuse XML::Simple;\nuse File::Spec;\n\n$num_args = $#ARGV + 1;\nif ($num_args != 1) {\n    print \"\\nUsage: $0 &lt;input directory&gt;\\n\";\n    exit;\n}\n\nmy $dir = $ARGV[0];\n\nopendir(DIR, $dir) or die \"cannot open directory\";\n\n@docs = grep(/\\.xml$/,readdir(DIR));\n\nforeach $file (@docs) \n{\n    my $abs_path = join(\"\",$dir,$file);\n    #print $abs_path;\n    my $return_object = some_function_call($abs_path);\n    print_output($return_object);\n }\n\n sub print_output\n {\n    my $output_object = $_[0];\n    print $output_object;\n }\n</code></pre>\n\n<p>My question here is when i am reading input directory, in case if does not exists how can make above script read from  \"Some Default Directory location\". I tried adding some logic but did not work for me. This is my first perl script so please excuse me if this is too basic to ask.</p>\n\n<p>I am working in LINUX environment.</p>\n"}, {"tags": ["perl", "match", "lookup"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1423840590, "post_id": 28502626, "comment_id": 45324522, "body": "Without an input sample, we can&#39;t try anything."}, {"owner": {"reputation": 320, "user_id": 3482899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26c837b875aac639511902f9c60037e8?s=128&d=identicon&r=PG&f=1", "display_name": "user3482899", "link": "https://stackoverflow.com/users/3482899/user3482899"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1423841273, "post_id": 28502626, "comment_id": 45324956, "body": "Thanks, I added examples of both input files to my question."}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 3482899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26c837b875aac639511902f9c60037e8?s=128&d=identicon&r=PG&f=1", "display_name": "user3482899", "link": "https://stackoverflow.com/users/3482899/user3482899"}, "edited": false, "score": 0, "creation_date": 1423843711, "post_id": 28503222, "comment_id": 45326521, "body": "Hm, it kind of worked. &quot;inLocus&quot; only appears once now, but any marker that is not in the locus runs together on the same line instead of being its own line. Is there a way to change the blanks to &quot;notLocus&quot;? Maybe then every marker still gets its own line and its status is more definitive than a blank."}, {"owner": {"reputation": 320, "user_id": 3482899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26c837b875aac639511902f9c60037e8?s=128&d=identicon&r=PG&f=1", "display_name": "user3482899", "link": "https://stackoverflow.com/users/3482899/user3482899"}, "edited": false, "score": 0, "creation_date": 1423848103, "post_id": 28503222, "comment_id": 45329448, "body": "That did the trick! Clever use of true false too. And thanks for the Perl better practices tips."}, {"owner": {"reputation": 320, "user_id": 3482899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26c837b875aac639511902f9c60037e8?s=128&d=identicon&r=PG&f=1", "display_name": "user3482899", "link": "https://stackoverflow.com/users/3482899/user3482899"}, "edited": false, "score": 0, "creation_date": 1423939205, "post_id": 28503222, "comment_id": 45354815, "body": "I wish I could, but it says I need a 15 reputation to upvote, and I have 14 :("}], "tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": true, "score": 5, "last_activity_date": 1423864913, "last_edit_date": 1423864913, "creation_date": 1423842070, "answer_id": 28503222, "question_id": 28502626, "link": "https://stackoverflow.com/questions/28502626/perl-outputs-too-many-columns/28503222#28503222", "title": "Perl outputs too many columns", "body": "<p>Test with your sample data seemed to be good..</p>\n\n<p>A little code review:</p>\n\n<ol>\n<li>Declare variables as you need them. Globals can get confusing.</li>\n<li>Use lexically scoped variables as file handles</li>\n<li>Use three param open</li>\n<li>Trying to close a filehandle inside the loop probably isn't what you wanted to do. I moved it out a few scopes</li>\n<li><code>last LINE</code> will break you out of the DiseaseMarkers file</li>\n<li><code>@foo[0]</code> should be <code>$foo[0]</code></li>\n</ol>\n\n<p>Nice to see you're not using <code>chop</code>/<code>chomp</code>! I fixed up your line-ending regexes to be even more portable..</p>\n\n<p>Anyway, this should fix it:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $data_file1 = \"/Users/Me/AssociatedMarkers.txt\";\nmy $data_file2 = \"/Users/Me/DiseaseMarkers.txt\";\n\n#Open data file and create file handle\nopen(my $mainfh, '&lt;', $data_file1) or die \"Could not open file! $!\";\n\n#define variables and constants\n#Generate output files\nopen(my $resultfh, '&gt;', \"AssociatedMarkersInLocus.txt\") or die \"Could not open file for write! $!\";\nprint $resultfh \"SNP\\tinLocus?\\n\";\n\nforeach my $Line (&lt;$mainfh&gt;) {\n    #remove new line character\n    open(my $dmfh, '&lt;', $data_file2) or die(\"Could not open file! $!\");\n    $Line =~ s/[\\f\\n\\r]*$//g;\n    my @main = split(/\\t/, $Line);\n    print $resultfh \"$main[0]\";\n\n    my $has_locus = 0;\n\n    LINE: foreach my $Line1 (&lt;$dmfh&gt;) {\n        $Line1 =~ s/[\\f\\n\\r]*$//g;\n        my @loci = split(/\\t/,$Line1);\n\n        if (($main[9]  eq $loci[0])\n            &amp;&amp; ($main[11] &gt;= $loci[7])\n            &amp;&amp; ($main[11]&lt;$loci[8])) {\n\n            $has_locus = 1;\n            print $resultfh \"\\tinlocus\";\n            last LINE;\n        }\n    }\n\n    if ($has_locus == 0) {\n        print $resultfh \"\\tnolocus\";\n    }\n\n    print $resultfh \"\\n\";\n    close($dmfh);\n}\n\nclose($resultfh);\nclose($mainfh);\n\n#Report completion\nprint \"Program AssociatedMarkers finished.\\n\";\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 3482899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26c837b875aac639511902f9c60037e8?s=128&d=identicon&r=PG&f=1", "display_name": "user3482899", "link": "https://stackoverflow.com/users/3482899/user3482899"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 28503222, "answer_count": 1, "score": 2, "last_activity_date": 1429713329, "creation_date": 1423840355, "last_edit_date": 1423841446, "question_id": 28502626, "link": "https://stackoverflow.com/questions/28502626/perl-outputs-too-many-columns", "title": "Perl outputs too many columns", "body": "<p>I have one table of associated marker results and one table of disease markers. Both files have headers. </p>\n\n<p>This is what the associated marker table looks like:</p>\n\n<pre><code>  snps_BCG24 gene_BCG24 statistic_BCG24 pvalue_BCG24    FDR_BCG24 beta_BCG24                 pair SharedOrUnique_BCG24 PercentileRank_BCG24 chr       cM   hg19pos    Diseasegene\nrs11203184  C21orf128       -9.425704 4.008530e-12 2.501741e-05 -0.9199033 rs11203184_C21orf128      SharedSignalMO7         1.484874e-06  21  63.4452  43526430 notDiseasegene\nrs11203184      C2CD2        2.290434 2.684575e-02 8.559484e-01  0.3114964     rs11203184_C2CD2    UniqueSignalBCG24         2.906046e-01  21  63.4452  43526430 notDiseasegene\n</code></pre>\n\n<p>This is what the disease marker table looks like:</p>\n\n<pre><code>Chr  hg19Pos  hg18Pos       rsID           SNPname               hg19UCSC               hg18UCSC startLoc   endLoc\n1  1247494  1237357    rs12103  var_chr1_1247494   chr1:1247494-1247494   chr1:1237357-1237357  1147494  1347494\n1  2502780  2492640  rs6667605  var_chr1_2502780   chr1:2502780-2502780   \n</code></pre>\n\n<p>If the associated markers and the disease markers are on the same chromosome (associated column 9 == disease column 0, respectively) , I then want to check if the position of my associated marker (column 11 in associated table) falls within the start and end position of the disease markers (columns 7 and 8 in disease table). </p>\n\n<p>If my associated markers are within that distance, I want to label that associated marker <code>\"inLocus\"</code>, otherwise, leave blank. The result output would be a file with two tab-delimited columns: 1) the name of every associated marker in the same order as the associated Marker table 2) <code>inLocus</code> or blank status for every marker in the associated marker table. </p>\n\n<p>I wrote a perl script for this, but instead of outputting two columns (one for associated marker name and one for locus status), it outputs one column with marker name and a varying number of columns for the <code>\"inLocus\"</code> part--and not always the same number of columns. I don't know which marker is really <code>\"inLocus\"</code>, because each output column sometimes has a different status. What do I need to change in my code so that every marker in my list gets a definitive <code>inLocus</code> label? Would changing blank to print <code>\"notLocus\"</code> make a difference? Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $data_file1=\"/Users/Me/AssociatedMarkers.txt\";\nmy $data_file2=\"/Users/Me/DiseaseMarkers.txt\";\nopen(Main, $data_file1) || die(\"Could not open file!\");\n\nmy $Line = 0;\nmy $Line1 = 0;\nmy @main = 0;\nmy @loci = 0;\n\n#Generate output files\nopen(Result, \"&gt;AssociatedMarkersInLocus.txt\");\n print Result \"SNP\\tinLocus?\\n\";\nforeach $Line (&lt;Main&gt;) {\n    #remove new line character\n    open(DiseaseMarkers, $data_file2) || die(\"Could not open file!\");\n    $Line =~ s/[\\n\\r]//g;\n    @main = split(/\\t/,$Line);\n    print Result \"@main[0]\";\n    foreach $Line1 (&lt; DiseaseMarkers &gt;) {\n        $Line1 =~ s/[\\n\\r]//g;\n        @loci = split(/\\t/,$Line1);\n        if ((@main[9] eq @loci[0])&amp;&amp;(@main[11]&gt;=@loci[7])&amp;&amp;(@main[11]&lt;@loci[8])){\n            print Result \"\\tinlocus\";\n            close(DiseaseMarkers);\n        }\n    }\nprint Result \"\\n\";\n}\nclose(Result);  \n#Report completion\nprint \"Program AssociatedMarkers finished. \\n\";\n</code></pre>\n\n<p>Here are the results I'm getting:</p>\n\n<pre><code>SNP inLocus?                \nMarkerNameHeader \nMarkerName1 inLocus     inLocus     inLocus\nMarkerName2\nMarkerName3             inLocus\nMarkerName4 inLocus     inLocus     inLocus\nMarkerName5 inLocus\n</code></pre>\n\n<p>Here is the results format I actually need:</p>\n\n<pre><code>MarkerName1 inLocus\nMarkerName2\nMarkerName3\nMarkerName4 inLocus\n</code></pre>\n\n<p>Alternatively, if someone knows how to append inLocus information to my existing AssociatedMarkers file directly, that would be even better!</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 1729519, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000350419326/picture?type=large", "display_name": "Robbie Macdonald", "link": "https://stackoverflow.com/users/1729519/robbie-macdonald"}, "edited": false, "score": 0, "creation_date": 1424283332, "post_id": 28501701, "comment_id": 45488262, "body": "There was no point posting code as I didn&#39;t have an example that would work, and assumed the statement of where I was struggling was self explanatory and someone like yourself would probably come back with an example of what would work.  But I can see what I need to do. I am pretty apt with perl, but this had me head scratching. But thanks for your input, much appreciated."}], "tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1423850062, "last_edit_date": 1423850062, "creation_date": 1423837412, "answer_id": 28501701, "question_id": 28498770, "link": "https://stackoverflow.com/questions/28498770/perl-mysql-dbi-update-and-get-last-value/28501701#28501701", "title": "Perl MySQL DBI - update and get last value", "body": "<p>A snippet to show what you're actually doing in perl, and your result would help diagnose what is going on in your script.</p>\n\n<p>I tried this trivial example:</p>\n\n<p>The DB:</p>\n\n<pre><code>CREATE DATABASE TEST;\n\nCREATE TABLE foo (\n    id  int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    val int(11) NOT NULL\n);\n\nINSERT INTO foo (val) VALUES (1);\n</code></pre>\n\n<p>And the Perl</p>\n\n<pre><code>#!/bin/env perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect('DBI:mysql:database=test', 'dbuser', 'dbpass');\n\nmy $select = $dbh-&gt;prepare('SELECT * FROM foo WHERE id=?');\nmy $select_old_val = $dbh-&gt;prepare('SELECT @old_val');\nmy $update = $dbh-&gt;prepare('UPDATE foo SET val=(@old_val := val) + 1 WHERE id=?');\n\n$update-&gt;execute(1);\n$select_old_val-&gt;execute();\n$select-&gt;execute(1);\n\nwhile (my $row = $select_old_val-&gt;fetchrow_hashref) {\n    print Dumper $row;\n}\n\n\nwhile (my $row = $select-&gt;fetchrow_hashref) {\n    print Dumper $row;\n}\n</code></pre>\n\n<p>And after a few goes:</p>\n\n<pre><code>$ perl select_and_update.pl \n$VAR1 = {\n          '@old_val' =&gt; '10'\n        };\n$VAR1 = {\n          'id' =&gt; '1',\n          'val' =&gt; '11'\n        };\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1729519, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000350419326/picture?type=large", "display_name": "Robbie Macdonald", "link": "https://stackoverflow.com/users/1729519/robbie-macdonald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423850062, "creation_date": 1423827585, "question_id": 28498770, "link": "https://stackoverflow.com/questions/28498770/perl-mysql-dbi-update-and-get-last-value", "title": "Perl MySQL DBI - update and get last value", "body": "<p>I am using the Perl DBI module with MySQL and trying to get the initial value before adding 1 to it when updating a row.</p>\n\n<p>If the current value was 1000 I need to return the value of 1000 and then add 1 to the value.</p>\n\n<p>I use this statement in perl to use one transaction...</p>\n\n<pre><code>update TABLE_NAME set ID = (\\@cur_value := ID) + 1\n</code></pre>\n\n<p>I know I can do a select then an update as two statements or lock the tables manually but transactions happen so fast on our platform that it may cause inconsistencies and this is the fastest way to do it.</p>\n\n<p>However I simply cannot find a way to return the original value before the increment using this statement.</p>\n\n<p>It works fine in ASP as below:</p>\n\n<pre><code>qry = \"update V15_TRACKING set TRACKING_ID = (@cur_value := TRACKING_ID) + 1 where TRACKING_TYPE='ABC'\"\nSet oRS = oConn.Execute(qry)\nqry = \"select @cur_value\"\nif not oRS.EOF then\n        while not oRS.EOF\n            CurrTrackingID = oRs.Fields(\"@cur_value\")\n            oRS.movenext\n        wend\n    oRS.close\n    end if\n</code></pre>\n\n<p>Please can someone advise me what I need to do to return the original value in Perl as I have searched everywhere and tried all sorts of solutions.</p>\n"}]