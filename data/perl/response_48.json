[{"tags": ["perl"], "comments": [{"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1449708431, "post_id": 34191032, "comment_id": 56129980, "body": "Well you can get a little closer: <code>$main::var1</code> can also be referred to as <code>$::var1</code>."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1449735781, "post_id": 34192321, "comment_id": 56139238, "body": "It would be interesting to know why it is necessary to define it from another namespace.. if I do it in <code>main</code> I have to use <code>our</code> but if I do it from another it is not necessary to predeclare it with <code>our</code> in <code>main</code>. How does this make sense?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1449736344, "post_id": 34192321, "comment_id": 56139520, "body": "Also I would like the global variables not to be aliases into the hash. So if I later change <code>$var1 = 4</code> in main, <code>$var1</code> should not also change in another package at the same time.. that is why I used the <code>my $temp = $test_vars{$name}</code> to create a new variable in each name space. If I use <code>*$name = \\( $test_vars{$name} );</code> as you propose, I would get an alias, right?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1449747585, "post_id": 34192321, "comment_id": 56146576, "body": "It makes sense. Otherwise, <code>use Config qw( %Config );</code> would create a hash you couldn&#39;t use"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1449748105, "post_id": 34192321, "comment_id": 56146897, "body": "Re &quot;<code>$var1</code> should not also change in another package at the same time&quot;, I don&#39;t know what you mean. The variable is only placed into one package. /// If you plan to modify the code to export the vars into multiple packages, I can&#39;t help but feel you&#39;d have a bad design."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1449748693, "post_id": 34192321, "comment_id": 56147296, "body": "Sorry, the question was not very clear.. I also have a the feeling this is not an ideal design.. I was thinking of having <code>%test_vars</code> as a fixed hash and populate it into both <code>main</code> and another package created at runtime for testing.. maybe it will be easier to just create a the whole package in temp directory and then <code>require</code> it from there at run time?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1449748504, "last_edit_date": 1449748504, "creation_date": 1449711929, "answer_id": 34192321, "question_id": 34191032, "link": "https://stackoverflow.com/questions/34191032/how-to-import-variables-from-a-hash-as-global-variables/34192321#34192321", "title": "How to import variables from a hash as global variables?", "body": "<pre><code>use NAME LIST\n</code></pre>\n\n<p>is virtually the same as</p>\n\n<pre><code>BEGIN {\n   require NAME;\n   import NAME LIST;\n}\n</code></pre>\n\n<p>and BEGIN blocks are executed as soon as they are compiled. As such, you're passing an empty list to vars.pm's <code>import</code>.</p>\n\n<pre><code>$ perl -E'\n   BEGIN {\n      say \"Outer BEGIN\";\n      my @names = \"abc\";\n      BEGIN { say \"Inner BEGIN &lt;&lt;@names&gt;&gt;\"; }\n   }\n'\nInner BEGIN &lt;&lt;&gt;&gt;\nOuter BEGIN\n</code></pre>\n\n<p>Fix:</p>\n\n<pre><code>use vars qw( );\n\nBEGIN {\n   my %test_vars = ( var1 =&gt; 3, var2 =&gt; 1 );\n\n   for my $name (keys(%test_vars)) {\n      no strict qw( refs );\n      *$name = \\( $test_vars{$name} );\n   }\n\n   vars-&gt;import(map \"\\$$_\", keys(%test_vars));\n}\n</code></pre>\n\n<p>This could also be written as follows:</p>\n\n<pre><code>BEGIN {\n   package AppVars;\n\n   use Export qw( import );\n\n   my %test_vars = ( var1 =&gt; 3, var2 =&gt; 1 );\n\n   our @EXPORT = map \"\\$$_\", keys(%test_vars);\n\n   for my $name (keys(%test_vars)) {\n      no strict qw( refs );\n      *$name = \\( $test_vars{$name} );\n   }\n\n   $INC{\"AppVars.pm\"} = 1;\n}\n\nuse AppVars;\n</code></pre>\n\n<p>The key to declaring a variable is to create it in a different namespace than the one from which it will be accessed. As such, you could also use the following:</p>\n\n<pre><code>BEGIN {\n   package initialized_vars;\n\n   sub import {\n      shift;\n      my %hash = @_;\n      my $pkg = caller;\n\n      for my $name (keys(%hash)) {\n         no strict qw( refs );\n         *{$pkg.'::'.$name} = \\( $hash{$name} );\n      }\n   }\n\n   $INC{\"initialized_vars.pm\"} = 1;\n}\n\nuse initialized_vars ( var1 =&gt; 3, var2 =&gt; 1 );\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 34192321, "answer_count": 1, "score": 1, "last_activity_date": 1449748504, "creation_date": 1449703926, "last_edit_date": 1449712982, "question_id": 34191032, "link": "https://stackoverflow.com/questions/34191032/how-to-import-variables-from-a-hash-as-global-variables", "title": "How to import variables from a hash as global variables?", "body": "<p>In connection with some unit tests I found that it would be nice to\nbe able to import a set of global variables into the current package from a predeclared hash. After being imported, they should not have to be qualified by the package name like <code>$main::var1</code>, but instead simply as <code>$var1</code>.</p>\n\n<p>I found that they then had to be predeclared with <code>our</code>, but that was not possible to do programmatically for example using <code>eval '$::var1=3; our $var1'</code> will only declare <code>$var1</code> in the scope of <code>eval</code>.. </p>\n\n<p>eventually I found that I could use the <code>vars</code> pragma:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nBEGIN {\n    my %test_vars = ( var1 =&gt; 3, var2 =&gt; 1 );\n    my @names;\n    for my $key (keys %test_vars) {\n        my $temp = $test_vars{$key};\n        no strict 'refs';\n        *{\"main\\::$key\"} = \\$temp;\n        push @names, \"\\$$key\";\n    }\n    use vars @names;\n}\n\n#our $var1;\nsay $var1;\n</code></pre>\n\n<p>but this gives error:</p>\n\n<pre><code>Variable \"$var1\" is not imported at ./p.pl line 22.\nGlobal symbol \"$var1\" requires explicit package name at ./p.pl line 22.\nExecution of ./p.pl aborted due to compilation errors.\n</code></pre>\n\n<p>If I instead replace <code>use vars @names;</code> with the hardcoded names <code>use vars qw($var1 $var2);</code> it works fine..</p>\n"}, {"tags": ["perl", "pattern-matching"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 1, "creation_date": 1449702752, "post_id": 34190735, "comment_id": 56127968, "body": "What is the expected output ?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449703255, "post_id": 34190735, "comment_id": 56128170, "body": "Not just output, but how do you intend to use this data once you&#39;ve separated it?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1449703465, "post_id": 34190735, "comment_id": 56128236, "body": "Are the entries always separated by empty lines?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1449732515, "post_id": 34190735, "comment_id": 56137619, "body": "$/ is your friend here."}], "answers": [{"tags": [], "owner": {"reputation": 2580, "user_id": 988525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/487zi.jpg?s=128&g=1", "display_name": "Ian McGowan", "link": "https://stackoverflow.com/users/988525/ian-mcgowan"}, "is_accepted": true, "score": 0, "last_activity_date": 1449713724, "creation_date": 1449713724, "answer_id": 34192602, "question_id": 34190735, "link": "https://stackoverflow.com/questions/34190735/retrieve-lines-between-patterns-using-perl/34192602#34192602", "title": "retrieve lines between patterns using perl", "body": "<p>I would create a <a href=\"http://perlmaven.com/multi-dimensional-hashes\" rel=\"nofollow\">hash-of-hashes</a>  (since you don't know what attributes may be encountered in the file).  The key to the main hash is ID, and the contents of each entry are another sub-hash.  That sub-hash has the attribute name as the key. </p>\n\n<p>This is not idiomatic perl at all, but works in my testing...</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Data::Dumper;\nmy %master;\nmy %tmphash;\nmy $oldid=\"\";\nmy $id;\n\n# Create a hash-of-hashes\nwhile (&lt;&gt;) {\n  if (/^ID: (.*)/) {\n    $id=$1;\n    # We need to skip the first one to \"prime the pump\"\n    if ($oldid ne \"\") {\n      $master{$oldid}={%tmphash};\n    }\n    $oldid=$id;\n    %tmphash=();\n  } else {\n    # Until we get to the next ID: add anything we find to tmphash\n    if (/^(.*): (.*)/) {\n      $tmphash{$1}=$2;\n    }\n  }\n}\n# Don't forget the last one...\n$master{$oldid}={%tmphash};\n\nprint Dumper(\\%master);\n\nforeach my $id (sort keys %master) {\n    foreach my $attr (keys %{ $master{$id} }) {\n        print \"$id, $attr: $master{$id}{$attr}\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1449723194, "creation_date": 1449723194, "answer_id": 34193934, "question_id": 34190735, "link": "https://stackoverflow.com/questions/34190735/retrieve-lines-between-patterns-using-perl/34193934#34193934", "title": "retrieve lines between patterns using perl", "body": "<p>It's hard to provide a decent answer without knowing your expected output format or how you intend to use this data, but this will get you 90% of the way there:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %data;\nmy $id;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    next unless /\\S/;\n    my ($key, $value) = split(/\\s*:\\s*/);\n\n    if ($key eq 'ID') {\n        $id = $value;\n        next;\n    }\n\n    $data{$id}{$key} = $value;\n}\n\nprint \"$data{ID_B}{attr2}\\n\";  # prints name2\n\n__DATA__\nID: ID_A\nattr1: attribute\nattr2: name\nattr3: city\n\nID: ID_B\nattr1: attribute2\nattr2: name2\nattr3: city3\nattr4: country\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1449743867, "post_id": 34196400, "comment_id": 56144257, "body": "Setting <code>$&#47;</code> to an empty string would have the same effect. And would also work if (for some reason) there were multiple blank lines between the records."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1449744168, "last_edit_date": 1495535278, "creation_date": 1449733978, "answer_id": 34196400, "question_id": 34190735, "link": "https://stackoverflow.com/questions/34190735/retrieve-lines-between-patterns-using-perl/34196400#34196400", "title": "retrieve lines between patterns using perl", "body": "<p>This is much easier if you make use of <code>$/</code> - the record seperator. And set it to <code>\"\\n\\n\"</code>. </p>\n\n<p>But as noted in the comments by <a href=\"https://stackoverflow.com/users/7231/dave-cross\">Dave Cross</a> - it would probably be better still to set it to <code>''</code> because then <code>perl</code> will skip multiple blank lines, whilst otherwise accomplishing the same result. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\n#set record separator to (one or more) blank lines\nlocal $/ = '';\n\n#iterate each chunk of data \nwhile ( &lt;DATA&gt; ) {\n    #g matches repeatedly, and so this'll get alternating values\n    #this conveniently is what you need to assign straight to a hash \n    my %record = m/(\\w+): (.*)/g; \n    print Dumper \\%record;\n}\n\n__DATA__\nID: ID_A\nattr1: attribute\nattr2: name\nattr3: city\n\nID: ID_B\nattr1: attribute2\nattr2: name2\nattr3: city3\nattr4: country\n</code></pre>\n\n<p>Once you've pulled your record/fields, you can either push them into an array of records:</p>\n\n<pre><code>push ( @all_records, \\%record ); \n</code></pre>\n\n<p>Giving:</p>\n\n<pre><code>$VAR1 = [\n          {\n            'attr2' =&gt; 'name',\n            'ID' =&gt; 'ID_A',\n            'attr1' =&gt; 'attribute',\n            'attr3' =&gt; 'city'\n          },\n          {\n            'attr2' =&gt; 'name2',\n            'ID' =&gt; 'ID_B',\n            'attr4' =&gt; 'country',\n            'attr1' =&gt; 'attribute2',\n            'attr3' =&gt; 'city3'\n          }\n        ];\n</code></pre>\n\n<p>Or put it into a hash-of-hashes, keyed on ID number:</p>\n\n<pre><code>$all_records{$record{ID}} = \\%record; \n</code></pre>\n\n<p>Giving:</p>\n\n<pre><code>$VAR1 = {\n          'ID_A' =&gt; {\n                      'ID' =&gt; 'ID_A',\n                      'attr3' =&gt; 'city',\n                      'attr1' =&gt; 'attribute',\n                      'attr2' =&gt; 'name'\n                    },\n          'ID_B' =&gt; {\n                      'attr2' =&gt; 'name2',\n                      'attr3' =&gt; 'city3',\n                      'attr1' =&gt; 'attribute2',\n                      'attr4' =&gt; 'country',\n                      'ID' =&gt; 'ID_B'\n                    }\n        };\n</code></pre>\n\n<p>Depends a bit what you're doing with the records - you may not need to 'hold' them at all if you're just processing and discarding, and if you've got duplicate IDs, then you probably don't want to be using the hash of hashes approach (ID must be unique for that to work). </p>\n"}], "owner": {"reputation": 61, "user_id": 5266232, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/63b7185ca942a76ce4afed9ece70f86f?s=128&d=identicon&r=PG&f=1", "display_name": "John Squarry", "link": "https://stackoverflow.com/users/5266232/john-squarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 34192602, "answer_count": 3, "score": 0, "last_activity_date": 1449744168, "creation_date": 1449702409, "last_edit_date": 1449702660, "question_id": 34190735, "link": "https://stackoverflow.com/questions/34190735/retrieve-lines-between-patterns-using-perl", "title": "retrieve lines between patterns using perl", "body": "<p>I have a file that contains a list like below:</p>\n\n<pre><code>ID: ID_A\nattr1: attribute\nattr2: name\nattr3: city\n\n\nID: ID_B\nattr1: attribute2\nattr2: name2\nattr3: city3\nattr4: country\n</code></pre>\n\n<p>the file contains about 60k entries of this sort. The unique identifier is always on the ID line. Once I hit a new ID, I need to be able to retrieve all the attributes for that ID.</p>\n\n<p>I am trying to do the following:</p>\n\n<pre><code>if($line=/ID/../ID)\n{\n    $job[0]=$line\n}\n</code></pre>\n\n<p>but this doesn't work and I also have to create an array that's large enough or small enough every time. Any tips on how to proceed will help very much.</p>\n\n<p>thank you.\nJS</p>\n"}, {"tags": ["regex", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "edited": false, "score": 0, "creation_date": 1449701274, "post_id": 34190307, "comment_id": 56127345, "body": "Matt, that doesn&#39;t work either I tried it earlier. I&#39;m using Kali Linux if that makes any difference."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1449701393, "post_id": 34190307, "comment_id": 56127400, "body": "I just tested on <a href=\"http://ideone.com/wduhGO\" rel=\"nofollow noreferrer\">IDEONE and your regex works</a>."}, {"owner": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1449701673, "post_id": 34190307, "comment_id": 56127510, "body": "stribizhev What I want to achieve is the date and time, not just the date."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1449701830, "post_id": 34190307, "comment_id": 56127574, "body": "<a href=\"http://ideone.com/9QlJ23\" rel=\"nofollow noreferrer\">Like that</a>?"}, {"owner": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1449701979, "post_id": 34190307, "comment_id": 56127649, "body": "Yes like that, thank you."}, {"owner": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1449702204, "post_id": 34190307, "comment_id": 56127734, "body": "I&#39;m struggling to understand how this resolved my issue though? I&#39;m not sure I understand your solution, perhaps you could explain?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1449714359, "post_id": 34190307, "comment_id": 56131651, "body": "I voted to close this question as to you&#39;re <i>Unclear</i> as to what you&#39;re asking. If you care to update your post with what exactly you are trying to capture, I will change the close part. But, waiting for someone to make guesses, then selecting one of those guesses is not usually good form on SO."}, {"owner": {"reputation": 31843, "user_id": 1337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72de240484e389dbedb6a3e428b9f0c1?s=128&d=identicon&r=PG", "display_name": "Brad Gilbert", "link": "https://stackoverflow.com/users/1337/brad-gilbert"}, "edited": false, "score": 0, "creation_date": 1450024129, "post_id": 34190307, "comment_id": 56248263, "body": "<code>m&#47;( [A-z]+ \\s{2} \\d{1,} \\s (?: \\d{2} [:] ){2} \\d{2} )&#47;x</code>"}], "answers": [{"comments": [{"owner": {"reputation": 77715, "user_id": 396458, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/16961c15df3fee8c4b3056ff83d1938b?s=128&d=identicon&r=PG", "display_name": "NullUserException", "link": "https://stackoverflow.com/users/396458/nulluserexception"}, "edited": false, "score": 0, "creation_date": 1449701437, "post_id": 34190457, "comment_id": 56127410, "body": "Can&#39;t you just put a group around the whole regex? It doesn&#39;t look like the OP is interested in separating the date from the time"}, {"owner": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "edited": false, "score": 0, "creation_date": 1449701748, "post_id": 34190457, "comment_id": 56127539, "body": "This does in fact work, however I would like to store the date and time as one."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1449713523, "post_id": 34190457, "comment_id": 56131416, "body": "I guess I&#39;m just without words."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1449701209, "creation_date": 1449701209, "answer_id": 34190457, "question_id": 34190307, "link": "https://stackoverflow.com/questions/34190307/regex-not-fully-matching-the-string/34190457#34190457", "title": "Regex not fully matching the string", "body": "<p>You have to put a group around the date -  </p>\n\n<p><code>/(?i)([a-z]+\\s{2}\\d{1,})\\s((?:\\d{2}:){2}\\d{2})/</code> </p>\n\n<p>Formatted:  </p>\n\n<pre><code> (?i)\n ( [a-z]+ \\s{2} \\d{1,} )       # (1), Date\n \\s \n (                             # (2 start), Time\n      (?: \\d{2} : ){2}\n      \\d{2} \n )                             # (2 end)\n</code></pre>\n\n<p>And, add another variable to the list.  </p>\n\n<p><code>if (($date, $time) = $line =~  /([A-z]+\\s{2}\\d{1,})\\s((?:\\d{2}:){2}\\d{2})/)</code></p>\n"}, {"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1449702698, "post_id": 34190675, "comment_id": 56127945, "body": "Glad it worked for you. Please also consider upvoting if my answer proved helpful to you (see <a href=\"http://meta.stackexchange.com/questions/173399/how-to-upvote-on-stack-overflow\">How to upvote on Stack Overflow?</a>) since now you have the privilege."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1449702503, "last_edit_date": 1495535241, "creation_date": 1449702135, "answer_id": 34190675, "question_id": 34190307, "link": "https://stackoverflow.com/questions/34190307/regex-not-fully-matching-the-string/34190675#34190675", "title": "Regex not fully matching the string", "body": "<p>You may just use the capturing group around the whole pattern.</p>\n\n<pre><code>if ((my $date) = $line =~  m/([A-Z]+\\s{2}\\d+\\s(?:\\d{2}:){2}\\d{2})/i)\n                             ^                                  ^\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/9QlJ23\" rel=\"nofollow noreferrer\">IDEONE demo</a></p>\n\n<p>When you use <code>(my $date)</code> you tell the engine to put the contents matched by the first capturing group to the <code>$date</code> variable. So, all you need is to use a pair of unescaped parentheses around that part of pattern that will match the necessary string of text in the input string.</p>\n\n<p>Note that <code>[A-z]</code> is ambiguous (see <a href=\"https://stackoverflow.com/questions/4923380/difference-between-regex-a-z-and-a-za-z\">[A-z] and [a-zA-Z] difference</a>) and is better re-written as <code>[A-Za-z]</code> or <code>[A-Z]</code> with an <code>/i</code> modifier (as I suggested above).</p>\n\n<p>Also, <code>\\d{1,}</code> is equal to <code>\\d+</code> (<code>+</code> quantifier means <em>1 or more occurrences</em>, same as <code>{1,0}</code>). You can use this latter variant since it is concise and more readable.</p>\n\n<p>There is no point in placing <code>:</code> into a character class <code>[:]</code>, a colon does not have to be escaped in a regex pattern (unless it is a regex delimiter, and here it is not).</p>\n"}], "owner": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 34190675, "answer_count": 2, "score": 0, "last_activity_date": 1449702503, "creation_date": 1449700494, "question_id": 34190307, "link": "https://stackoverflow.com/questions/34190307/regex-not-fully-matching-the-string", "title": "Regex not fully matching the string", "body": "<p>I have used <a href=\"http://www.regexe.com/\" rel=\"nofollow\">http://www.regexe.com/</a> to test a regex I've create in order to extract the date and time from <code>syslog</code>and it's showing me that the regex is in fact correct, highlighting the date and time. However when I try this in Perl I'm returned with just the time, not the date. </p>\n\n<p>so for example from the string <code>Dec  9 12:45:36 osboxes NetworkManager[739]: &lt;info&gt;   address 192.168.10.129</code>\nI would be returned <code>12:45:36</code></p>\n\n<p>Here's my script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $keywords = 'keywords.txt';\nopen(my $kw, '&lt;:encoding(UTF-8)', $keywords)\nor die \"Could not open file '$keywords' $!\";    # Open the file, throw an exception if the file cannot be opened. \nchomp (my @keywordsarray = &lt;$kw&gt;); # Remove whitespace, and read it into an array \nclose($kw);# Close the file \n\nmy $syslog = 'syslog';\nopen(my $sl, '&lt;:encoding(UTF-8)', $syslog)\nor die \"Could not open file '$keywords' $!\";    # Open the file, throw an exception if the file cannot be opened. \nchomp (my @syslogarray = &lt;$sl&gt;); # Remove whitespace, and read it into an array \nclose($sl);# Close the file  \n\nforeach my $line (@syslogarray) \n{\nforeach my $keyword (@keywordsarray)\n{\n    if ($line =~ m/\\Q$keyword\\E/)\n    {\n        if ((my $date) = $line =~  m/[A-z]+\\s{2}\\d{1,}\\s((\\d{2}[:]){2}\\d{2})/)\n        {   \n            print \"**\". $keyword. \"**\". $date. \"\\n\";\n        }\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1449693873, "post_id": 34188538, "comment_id": 56123575, "body": "<code>ObjB::new</code> looks suspicious"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4424696, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7ZXsl.jpg?s=128&g=1", "display_name": "Parselmouth in training", "link": "https://stackoverflow.com/users/4424696/parselmouth-in-training"}, "edited": false, "score": 0, "creation_date": 1449694995, "post_id": 34188638, "comment_id": 56124159, "body": "Ok, thank you, it worked fine !! (But I still don&#39;t understand the subtlety : I used ObjA::new() in the main file of the project and no error was raised... Is it a difference of context main vs. class ?)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 71, "user_id": 4424696, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7ZXsl.jpg?s=128&g=1", "display_name": "Parselmouth in training", "link": "https://stackoverflow.com/users/4424696/parselmouth-in-training"}, "edited": false, "score": 3, "creation_date": 1449696900, "post_id": 34188638, "comment_id": 56125169, "body": "A couple of errors combined to happen to give the right result. <code>ObjA::new()</code> is wrong, but since you didn&#39;t pass any arguments, <code>$class</code> ended up <code>undef</code>, and <code>bless</code> took that to mean you meant the current package (<code>ObjA</code>). In other words, <code>ObjA::new()</code> happend to be equivalent to <code>ObjA::new(&#39;ObjA&#39;)</code>, which happened to be equivalent to <code>ObjA-&gt;new()</code>. But that&#39;s not always the case; you just got &quot;lucky&quot;."}, {"owner": {"reputation": 71, "user_id": 4424696, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7ZXsl.jpg?s=128&g=1", "display_name": "Parselmouth in training", "link": "https://stackoverflow.com/users/4424696/parselmouth-in-training"}, "edited": false, "score": 1, "creation_date": 1449697331, "post_id": 34188638, "comment_id": 56125390, "body": "Thank you, it is nice to have the explanation with the solution, I get it now!! (That&#39;s all me : short-term lucky...)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1449700539, "post_id": 34188638, "comment_id": 56127014, "body": "@ikegami, is this the same as &quot;indirect object notation&quot;? I&#39;m not in a position to test right now and don&#39;t want to forget to find out. If so, OP should google that phrase. If not, it&#39;s worth reading about anyhow."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1449701579, "post_id": 34188638, "comment_id": 56127468, "body": "@stevieb No, <code>ObjB::new</code> is just a regular subroutine call. <code>new ObjB</code> is <a href=\"http://perldoc.perl.org/perlobj.html#Indirect-Object-Syntax\" rel=\"nofollow noreferrer\">indirect object notation</a>."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449705397, "post_id": 34188638, "comment_id": 56128975, "body": "@ThisSuitIsBlackNot,  I thought so. Thanks for the clarification."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1449711467, "post_id": 34188638, "comment_id": 56130866, "body": "@stevieb, Indirect object notation is an alternate syntax (you should avoid) for method calls. <code>method $i @args</code> is the indirect version of <code>$i-&gt;method(@args)</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1449693990, "creation_date": 1449693990, "answer_id": 34188638, "question_id": 34188538, "link": "https://stackoverflow.com/questions/34188538/cant-locate-object-method-xx-via-package-1/34188638#34188638", "title": "Can&#39;t locate object method XX via package &quot;1&quot;", "body": "<p><code>Obj::new</code> is a method, but you call it as a subroutine.</p>\n\n<pre><code>ObjB::new(split(\"\\t\",$line));\n</code></pre>\n\n<p>This results in the value of first field of the line being used as the class, and that value is probably <code>1</code>. You probably meant to use</p>\n\n<pre><code>ObjB-&gt;new(split(\"\\t\",$line));\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4424696, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7ZXsl.jpg?s=128&g=1", "display_name": "Parselmouth in training", "link": "https://stackoverflow.com/users/4424696/parselmouth-in-training"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 34188638, "answer_count": 1, "score": 0, "last_activity_date": 1449694153, "creation_date": 1449693538, "last_edit_date": 1449694153, "question_id": 34188538, "link": "https://stackoverflow.com/questions/34188538/cant-locate-object-method-xx-via-package-1", "title": "Can&#39;t locate object method XX via package &quot;1&quot;", "body": "<p>I am well aware that there are several questions on a similar subjects but I fail to see how to apply the answers to my problem :\n&lt; Can't locate object method \"idx\" via package \"1\" ></p>\n\n<p>What I don't understand is that I am using the same architecture in two packages and that it is OK in the first one... Where is the package \"1\" coming from ?</p>\n\n<p>Here is the package that works fine :</p>\n\n<pre><code>package ObjA;\nuse warnings;\nuse strict;\nuse Data::Dumper;\nuse Carp;\nuse ObjB;\n\n#CONSTRUCTOR AND INITIALISATION\nsub new {\n    my $class = shift;\n    my $self = {@_};\n    bless($self,$class);\n    $self-&gt;language();\n    return $self;\n}\nsub load {\n    my $self = shift;\n    open (my $stream,\"&lt;\",$self -&gt;{name});\n    my @glob_xs=();\n    my $i = 0;\n    while (&lt;$stream&gt;){\n        $i += 1;\n        my @x = extract($stream,());\n        @glob_xs=(@glob_tokens,@x);\n    }\n    $self-&gt;tokens(\\@glob_xs);\n}\n\nsub extract{\n    my ($stream,@x) = @_;\n    my $line = &lt;$stream&gt;;\n    chomp $line;\n    if ($line =~ /^\\s*$/){\n        return @x;\n    }\n    print join(\"/\",split(\"\\t\",$line));\n    my $b = ObjB::new(split(\"\\t\",$line));\n    push @x,$b-&gt;form;\n    extract_sentence($stream,@x);\n}\n\n# OBJECT ACCESSOR METHODS\nsub language {$_[0]-&gt;{language}=$_[1] if defined $_[1] ; $_[0]-&gt;{language}} \n\n1;\n</code></pre>\n\n<p>And here is the one that produces the error :</p>\n\n<pre><code>package ObjB;\nuse warnings;\nuse strict;\nuse Data::Dumper;\nuse Carp;\n\n# CONSTRUCTOR AND INITIALISATION\nsub new {\n    my $class = shift;\n    my $self = {@_};\n    bless($self,$class);\n    $self-&gt;idx();              # Dies here.\n    return $self;\n}\n\n# OBJECT ACCESSOR METHODS\nsub idx {$_[0]-&gt;{idx}=$_[1] if defined $_[1] ; $_[0]-&gt;{idx}}\n1;\n</code></pre>\n\n<p>Would it be because ObjB is called inside ObjA ? Or because they are declared in two different files ?</p>\n\n<p>I truly hope someone will have an answer because I have been running in circles ...</p>\n\n<p>Thank you !!</p>\n"}, {"tags": ["perl", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "edited": false, "score": 0, "creation_date": 1449693529, "post_id": 34188083, "comment_id": 56123378, "body": "If you go with this approach, you should consider pre-compiling your regular expression ahead of time as @ikegami suggests below"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449693581, "post_id": 34188083, "comment_id": 56123417, "body": "Note that this will consider the line &quot;abandoned&quot; to include the keyword &quot;band&quot;. That&#39;s why I used <code>\\b</code>"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 2, "last_activity_date": 1449694018, "last_edit_date": 1449694018, "creation_date": 1449691834, "answer_id": 34188083, "question_id": 34188032, "link": "https://stackoverflow.com/questions/34188032/how-can-i-determine-whether-a-string-is-in-a-variable-using-an-if-statement/34188083#34188083", "title": "How can I determine whether a string is in a variable using an if statement?", "body": "<p>I think you mean </p>\n\n<pre><code>...\nif ( $line =~ m/\\Q$keyword\\E/ ) { \n   ... \n}\n...\n</code></pre>\n\n<p>this would the be <em>a</em> correct check to determine if the text inside of the variable <code>$keyword</code> occurs somewhere in <code>$line</code>;</p>\n\n<p>The <code>\\Q</code> and <code>\\E</code> flags indicate that no special characters that occur within the text of <code>$keyword</code> should be interpreted. You can read more about Perl regular expression flags in <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\"><code>perldoc perlre</code></a></p>\n\n<p>EDIT: as @ikegami points out, without using <code>\\b</code> to indicate a word break the pattern above can give false positives.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1449694260, "last_edit_date": 1449694260, "creation_date": 1449693027, "answer_id": 34188392, "question_id": 34188032, "link": "https://stackoverflow.com/questions/34188032/how-can-i-determine-whether-a-string-is-in-a-variable-using-an-if-statement/34188392#34188392", "title": "How can I determine whether a string is in a variable using an if statement?", "body": "<p>You want</p>\n\n<pre><code>while (my $line = &lt;$sl&gt;) {\n   for my $keyword (@keywordsarray) {\n      if ( $line =~ /\\b\\Q$keyword\\E\\b/ ) {\n         print \"**$keyword** $line\";\n      }\n   }\n}\n</code></pre>\n\n<p>I used <code>\\b</code> so that the line <code>abandoned</code> isn't considered to include the keyword <code>band</code>. Note that my use of <code>\\b</code> assumes your keywords all start and end with a word character. Something else needs to be used if that that's not the case.</p>\n\n<p>But that's super slow. You're compiling number_of_lines * number_of_keywords regular expressions. The following only compiles one. It also greatly reduces the number of matches performed.</p>\n\n<pre><code>my $pat = join '|', map quotemeta, @keywordsarray;\nmy $re = qr/\\b($pat)\\b/;\n\nwhile (my $line = &lt;$sl&gt;) {\n   while ($line =~ /$re/g) {\n      print \"**$1** $line\";\n   }\n}\n</code></pre>\n\n<p>If you just need to know whether a line matched or not, then you simple need</p>\n\n<pre><code>my $pat = join '|', map quotemeta, @keywordsarray;\nmy $re = qr/\\b(?:$pat)\\b/;\n\nwhile (&lt;$sl&gt;) {\n   print if /$re/;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5660984, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H3K9wvYSueA/AAAAAAAAAAI/AAAAAAAAAEg/Khq7pPOKzY8/photo.jpg?sz=128", "display_name": "Simon", "link": "https://stackoverflow.com/users/5660984/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 34188392, "answer_count": 2, "score": 0, "last_activity_date": 1449694260, "creation_date": 1449691614, "last_edit_date": 1449691809, "question_id": 34188032, "link": "https://stackoverflow.com/questions/34188032/how-can-i-determine-whether-a-string-is-in-a-variable-using-an-if-statement", "title": "How can I determine whether a string is in a variable using an if statement?", "body": "<p>I'm currently learning Perl and I'm trying to figure out how to do an \n<code>if string in variable { do stuff</code>\n}</p>\n\n<p>I've tried many different ways such as using the eq, and =~ but it returns all the keywords within keywords.txt in oppose to the specific keyword that's found in $line</p>\n\n<p>Here's my script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $keywords = 'keywords.txt';\nopen( my $kw, '&lt;:encoding(UTF-8)', $keywords )\n   or die \"Could not open file '$keywords' $!\"\n   ;    # Open the file, throw an exception if the file cannot be opened.\nchomp( my @keywordsarray = &lt;$kw&gt; )\n   ;           # Remove whitespace, and read it into an array\nclose($kw);    # Close the file\n\nmy $syslog = 'syslog';\nopen( my $sl, '&lt;:encoding(UTF-8)', $syslog )\n   or die \"Could not open file '$keywords' $!\"\n   ;           # Open the file, throw an exception if the file cannot be opened.\nchomp( my @syslogarray = &lt;$sl&gt; ); # Remove whitespace, and read it into an array\nclose($sl);                       # Close the file\n\nforeach my $line (@syslogarray) {\n   foreach my $keyword (@keywordsarray) {\n      if ( $keyword =~ $line ) {\n         print \"**\" . $keyword . \"**\" . \"\\n\";\n      }\n   }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "match"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1449690981, "post_id": 34187313, "comment_id": 56121896, "body": "You only care about the lines that have matching (reversed) pairs ? Also, how do you enforce a strict amount of values after splits? And of course, what&#39;s this for ?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449691140, "post_id": 34187313, "comment_id": 56122002, "body": "It doesn&#39;t seem like you&#39;ve tried very hard to solve this on your own. Pseudocode is a start, but how about an actual effort?"}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1449693744, "post_id": 34187313, "comment_id": 56123518, "body": "@sln Yes, I only care about those lines, but all of them should have a matching reversed pair. I was trying to avoid producing a file with the following output for each match: pair        val1     val2       pair        val1   val2 GAT_1 GAT_2     0.2     4.5    GAT_2 GAT_1     1.2     2.1 GAT_2 GAT_1     1.2     2.1    GAT_1 GAT_2     0.2     4.5 But I don&#39;t know how to enforce a strict amount of values after splits. This is to eliminate redundancy in the file, as pairs are being treated as different entities, but they are actually the same."}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449693823, "post_id": 34187313, "comment_id": 56123546, "body": "@Matt Jacob I really could not figure out an algorithm to tackle this, the question should have been &quot;is this possible at all?&quot;"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449694153, "post_id": 34187313, "comment_id": 56123713, "body": "This is programming---anything is possible! ;-) Look into hashes specifically. How big is your input file?"}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1449694723, "post_id": 34187313, "comment_id": 56124020, "body": "I thought about hashes, but the only thing linking the lines I want to match isn&#39;t exactly the same (because its reversed), so it could not work as the key. The input file is about 100000 lines long."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449694958, "post_id": 34187313, "comment_id": 56124144, "body": "What if you reversed it and then checked, or just stored everything in a normalized form?"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449696179, "post_id": 34187313, "comment_id": 56124757, "body": "Yes, get everything into the same form first, then sort. Are you working under Windows or Unix/linux?"}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1449696811, "post_id": 34187313, "comment_id": 56125128, "body": "How can I reverse just half of it? Because if I reverse everything I&#39;ll be exactly where I am right now. What do you mean by &quot;normalized form&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1449701104, "post_id": 34189380, "comment_id": 56127264, "body": "I see what you mean by &quot;normalize&quot; now. It was &quot;splice&quot; I could not figure out on my own. Thanks. Why do you need &quot;next unless /^\\S/;&quot;?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1449701820, "post_id": 34189380, "comment_id": 56127570, "body": "The <code>next unless ...</code> line skips lines that have leading whitespace, which ignores the header row. You could also do <code>next if $. == 1</code> to explicitly skip the first line."}, {"owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "edited": false, "score": 0, "creation_date": 1449703122, "post_id": 34189380, "comment_id": 56128123, "body": "Thanks for explaining."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1449696690, "last_edit_date": 1495542619, "creation_date": 1449696690, "answer_id": 34189380, "question_id": 34187313, "link": "https://stackoverflow.com/questions/34187313/matching-strings-in-reverse-order-in-perl/34189380#34189380", "title": "Matching strings in reverse order in Perl", "body": "<p>Here's one way to approach this problem, and it'll work for an arbitrary number of columns of values. The basic approach is what I suggested in my <a href=\"https://stackoverflow.com/questions/34187313/matching-strings-in-reverse-order-in-perl#comment56124144_34187313\">comment</a>, which is to normalize the key and then push any values we find onto an array.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %unique;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    next unless /^\\S/;\n    my @fields = split;\n\n    my $key = join(' ', sort(splice(@fields, 0, 2)));\n    push(@{$unique{$key}}, @fields);\n}\n\nfor my $key (keys(%unique)) {\n    print join(\"\\t\", $key, @{$unique{$key}});\n    print \"\\n\";\n}\n\n__DATA__\n   pair         val1    val2\nGAT_1 GAT_2     0.2     4.5\nGAT_1 GAT_3     0.1     0.2\nGAT_4 GAT_5     0.9     7.5\nGAT_5 GAT_4     0.5     8.3\nBLAC BABA       8.3     1.3\nBABA BLAC       8.9     1.1\nGAT_2 GAT_1     1.2     2.1\nGAT_3 GAT_1     3.4     4.3\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>GAT_4 GAT_5     0.9     7.5     0.5     8.3\nGAT_1 GAT_2     0.2     4.5     1.2     2.1\nBABA BLAC       8.3     1.3     8.9     1.1\nGAT_1 GAT_3     0.1     0.2     3.4     4.3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2853, "user_id": 103780, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/452b70ed3dc461e5294fdfd7c925a568?s=128&d=identicon&r=PG", "display_name": "aartist", "link": "https://stackoverflow.com/users/103780/aartist"}, "is_accepted": false, "score": -2, "last_activity_date": 1449697879, "last_edit_date": 1495535234, "creation_date": 1449697879, "answer_id": 34189684, "question_id": 34187313, "link": "https://stackoverflow.com/questions/34187313/matching-strings-in-reverse-order-in-perl/34189684#34189684", "title": "Matching strings in reverse order in Perl", "body": "<p>Little change in <a href=\"https://stackoverflow.com/a/34189380/103780\">https://stackoverflow.com/a/34189380/103780</a> will give you what you want:\n(Untested):\n<code>\nmy @keys = splice(@fields, 0, 2);\nmy $key = join(' ', @keys);\nmy $skey = join (' ', sort @keys);\npush(@{$unique{$skey}{$key}}, @fields);\n</code></p>\n\n<p><code>\nfor my $skey (keys(%unique)) {\n    for my $key (keys(%unique{$skey})) {\n       print join(\"\\t\", $key, @{$unique{$skey}{$key}});\n       print \"\\t\";\n    }\n    print \"\\n\";\n}\n</code></p>\n"}], "owner": {"reputation": 21, "user_id": 5183625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3568ea2b76a30bb701e3a49eace2768?s=128&d=identicon&r=PG&f=1", "display_name": "cmvdi01", "link": "https://stackoverflow.com/users/5183625/cmvdi01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 34189380, "answer_count": 2, "score": 1, "last_activity_date": 1449697879, "creation_date": 1449689073, "question_id": 34187313, "link": "https://stackoverflow.com/questions/34187313/matching-strings-in-reverse-order-in-perl", "title": "Matching strings in reverse order in Perl", "body": "<p>I have this file with pairs of strings separated by white space in the first column and two more columns with values.\nI'd like to create a new file where the pairs of strings are matched in the same line, regardless of their order.\nFor example, print the line that contains pair \"GAT_1 GAT_2\", and the line that contains \"GAT_2 GAT_1\" next to it.\nAfter assigning each of the strings to a variable for a given pair, how can I compare them for different lines without repetition?</p>\n\n<pre><code># discard headers\n\nforeach $line (@file) {\n  @columns = split (/\\t/, $line);\n  @strings = split (/\\s/, $columns[0]);\n    # pseudocode:\nforeach line that has pair \"$strings[0] $strings[1]\" {\n    print $line,\"\\t\", and $line where pair is \"$strings[1] $strings[0]\"\n\nInput:\n   pair         val1    val2\nGAT_1 GAT_2     0.2     4.5\nGAT_1 GAT_3     0.1     0.2\nGAT_4 GAT_5     0.9     7.5\nGAT_5 GAT_4     0.5     8.3\nBLAC BABA       8.3     1.3\nBABA BLAC       8.9     1.1\nGAT_2 GAT_1     1.2     2.1\nGAT_3 GAT_1     3.4     4.3\n\n\nOuput:\n   pair        val1     val2       pair        val1   val2\nGAT_1 GAT_2     0.2     4.5    GAT_2 GAT_1     1.2     2.1\nGAT_1 GAT_3     0.1     0.2    GAT_3 GAT_1     3.4     4.3\nGAT_4 GAT_5     0.9     7.5    GAT_5 GAT_4     0.5     8.3\nBLAC BABA       8.3     1.3    BABA BLAC       8.9     1.1\n</code></pre>\n"}, {"tags": ["perl", "oop", "packages"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1449689779, "creation_date": 1449689779, "answer_id": 34187521, "question_id": 34187071, "link": "https://stackoverflow.com/questions/34187071/how-can-i-call-a-package-in-the-same-perl-file-as-in-so-q-2621225/34187521#34187521", "title": "How can I call a package in the same Perl file as in SO q 2621225", "body": "<p>The only way that method can exit without executing the <code>print</code> statement is through the line</p>\n\n<pre><code>open my $fh, \"&lt; $file\" or return;\n</code></pre>\n\n<p>So I imagine the <code>open</code> is failing for some reason. Replace that line with</p>\n\n<pre><code>open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n</code></pre>\n\n<p>and you will see the reason for the failure</p>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 34187521, "answer_count": 1, "score": 0, "last_activity_date": 1449729655, "creation_date": 1449688309, "last_edit_date": 1495541243, "question_id": 34187071, "link": "https://stackoverflow.com/questions/34187071/how-can-i-call-a-package-in-the-same-perl-file-as-in-so-q-2621225", "title": "How can I call a package in the same Perl file as in SO q 2621225", "body": "<p>I'm working my way through <em>Higher Order Perl</em>, and want to try to execute some of its code, in this case <code>FlatDB.pm</code>.</p>\n\n<p>I tried to simulate the calling method outlined in the answers to <a href=\"https://stackoverflow.com/questions/2621225/how-can-i-call-a-perl-package-i-define-in-the-same-file\">this question (2621225)</a>, but it's not working for me. To wit:</p>\n\n<pre><code>## HOP Chapter 4 section 3.4, p.140\nmy $FIELDSEP = qr/:/; \n\npackage FlatDB; \n\nsub new {\n  my $class = shift;\n  my $file = shift;\n  open my $fh, \"&lt; $file\" or return;\n  chomp(my $schema = &lt;$fh&gt;);\n  my @field = split $FIELDSEP, $schema;\n  my %fieldnum = map { uc $field[$_] =&gt; $_ } (0..$#field);\n  print \"\\nfieldnum=\",%fieldnum;\n  bless { FH =&gt; $fh, FIELDS =&gt; \\@field, FIELDNUM =&gt; \\%fieldnum,\n      FIELDSEP =&gt; $FIELDSEP }   =&gt; $class;\n}\n# More subs here - snipped\n</code></pre>\n\n<p>What I added to try to run the package:</p>\n\n<pre><code>package main;\nprint \"\\nat 89\";\n$obj= FlatDB-&gt;new(\"FlatDB\",\"SampleDB.txt\"); \nprint \"\\nat 91\"; \n</code></pre>\n\n<p>The prints at 89 &amp; 91 are executed, but the print in the 'new' subroutine is not. The 'new' subroutine works if I pull it out of the package, so the problem must be in how I'm trying to call it.</p>\n\n<p>I'm afraid it's something very simple, but I don't see it.</p>\n"}, {"tags": ["regex", "perl", "removing-whitespace"], "comments": [{"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "edited": false, "score": 0, "creation_date": 1449688428, "post_id": 34187022, "comment_id": 56120490, "body": "Complete working examples please."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1449689153, "post_id": 34187022, "comment_id": 56120864, "body": "I see 5 spaces between words, but it could be SO translates tabs to 4 spaces, giving 5 if you had the extra."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 2, "creation_date": 1449689261, "post_id": 34187022, "comment_id": 56120941, "body": "I would print single quotes around the data, ie. <code>print &quot;&#39;\\t&#39;$_&#39;&quot;</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1449690932, "post_id": 34187022, "comment_id": 56121870, "body": "Where is the data coming from?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449691620, "post_id": 34187022, "comment_id": 56122270, "body": "There&#39;s no whitespace before &quot;cat&quot;...was that just a copy-paste error?"}], "answers": [{"comments": [{"owner": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "edited": false, "score": 0, "creation_date": 1449845668, "post_id": 34187807, "comment_id": 56196516, "body": "Thank you for exposing me to the printf() function; I had never heard of it before now have some reading to do. What is the meaning of those numbers in the output? I&#39;ve looked over two pages describing printf that make no mention of such an output..."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "edited": false, "score": 0, "creation_date": 1449861612, "post_id": 34187807, "comment_id": 56205619, "body": "@Slavatron The numbers are the hex character codes for each character in the string."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1449690813, "creation_date": 1449690813, "answer_id": 34187807, "question_id": 34187022, "link": "https://stackoverflow.com/questions/34187022/perl-unwanted-whitespace-characters-inserted/34187807#34187807", "title": "Perl - unwanted whitespace characters inserted", "body": "<p>It's impossible to know for sure what the problem is without seeing how you're getting the input data in the first place, but this will show you exactly what each string contains and might help you figure out what's going on:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @g = qw(cat dog hat chair pen);\n\nfor (@g) {\n    printf(\"[%s] %vX\\n\", $_, $_);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[cat] 63.61.74\n[dog] 64.6F.67\n[hat] 68.61.74\n[chair] 63.68.61.69.72\n[pen] 70.65.6E\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449694033, "post_id": 34188558, "comment_id": 56123653, "body": "Better: <code>use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper \\@g;</code> (represent whitespace other than spaces as escape sequences, so it&#39;s easy to distinguish between a tab and a series of spaces)."}], "tags": [], "owner": {"reputation": 432, "user_id": 2912207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec44ab33b442ccf0ab7eae18fa9b80a?s=128&d=identicon&r=PG&f=1", "display_name": "Happy Gene", "link": "https://stackoverflow.com/users/2912207/happy-gene"}, "is_accepted": false, "score": 1, "last_activity_date": 1449693660, "creation_date": 1449693660, "answer_id": 34188558, "question_id": 34187022, "link": "https://stackoverflow.com/questions/34187022/perl-unwanted-whitespace-characters-inserted/34188558#34188558", "title": "Perl - unwanted whitespace characters inserted", "body": "<p>Here is an easy way to dump any variable to see what's in it. In your case, maybe some hidden characters, like escape sequences. (<a href=\"https://www.gnu.org/software/gawk/manual/html_node/Escape-Sequences.html\" rel=\"nofollow\">https://www.gnu.org/software/gawk/manual/html_node/Escape-Sequences.html</a>)</p>\n\n<pre><code>$ perl -e 'use Data::Dumper; my @g=[\"cat\\t\", \"dog\\b\"]; print Dumper(@g);'\n\n$VAR1 = [\n         'cat   ',\n          'do'\n        ];\n</code></pre>\n"}], "owner": {"reputation": 1926, "user_id": 2396037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fff799fabee7a56dd5c44abdbff815d3?s=128&d=identicon&r=PG", "display_name": "Slavatron", "link": "https://stackoverflow.com/users/2396037/slavatron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449868763, "creation_date": 1449688116, "last_edit_date": 1449868763, "question_id": 34187022, "link": "https://stackoverflow.com/questions/34187022/perl-unwanted-whitespace-characters-inserted", "title": "Perl - unwanted whitespace characters inserted", "body": "<p>I am experiencing a strange problem that I cannot make sense of: Perl is adding a space after tab character that I print. The data is being read from a tab-delimited file supplied to me by a collaborator. The data is being read and processed by the following code: </p>\n\n<pre><code>my $file = shift @ARGV;\nmy @g;\nopen (FILE, $file);\nwhile (&lt;FILE&gt;) {\n    my $line = $_;\n    chomp $line;\n    my @fields = split(\"\\t\", $line);\n    push(@g, $fields[2]);\n    push(@g, $fields[5]);\n    push(@g, $fields[7]);\n    ...\n}\n</code></pre>\n\n<p>My first thought was that I might have a hidden whitespace character at the start of my variables so I tried several methods of removing using Regex to no noticeable effect. The code snippets below have behaved the same way regardless of how I modified the code that acts upon the contents of @g:</p>\n\n<pre><code># DEBUGGING\nforeach (@g) { print \"$_\"; }\nexit;\n</code></pre>\n\n<p>which printed:</p>\n\n<pre><code>catdoghatchairpen\n</code></pre>\n\n<p>But the normal code:</p>\n\n<pre><code># PRINT HEADER\nprint \"Sample ID\";\nforeach(@g) { print \"\\t$_\";}\nprint \"\\n\";\n</code></pre>\n\n<p>printed:</p>\n\n<pre><code>cat*\\t* dog*\\t*     hat*\\t* chair*\\t* pen\n</code></pre>\n\n<p>with tab character followed by a space character between each word. </p>\n\n<p>Any idea why this is happening or how to fix it?</p>\n"}, {"tags": ["xml", "perl", "special-characters", "saxparser"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1449683628, "creation_date": 1449683628, "answer_id": 34185686, "question_id": 34184946, "link": "https://stackoverflow.com/questions/34184946/how-o-skip-characters-in-the-sax-parser-perl/34185686#34185686", "title": "how o skip characters in the sax parser perl", "body": "<p>If you're trying to fix the file, I'm not sure why an XML parser is even needed here.</p>\n\n<pre><code>perl -i~ -pe's/\\xC3\\xAF\\xC2\\xBF\\xC2\\xBD//g' file.xml\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 0, "last_activity_date": 1449694903, "creation_date": 1449694903, "answer_id": 34188905, "question_id": 34184946, "link": "https://stackoverflow.com/questions/34184946/how-o-skip-characters-in-the-sax-parser-perl/34188905#34188905", "title": "how o skip characters in the sax parser perl", "body": "<p>How would you define  \"special characters\"? One definition might be: non-ASCII characters. ASCII characters are in the range 0x00 - 0x7f (although not all are valid in XML).  So you could discard every character that is <strong>not</strong> in that range with something like:</p>\n\n<pre><code>$data =~ s/[^\\x00-\\x7f]//g;\n</code></pre>\n\n<p>But that is potentially going to throw away a lot of perfectly good data.  All accented characters will be discarded (eg: the \"\u00fc\" in \"Z\u00fcrich\" - leaving \"Zrich\").  Currency symbols like \u20ac, \u00a3 or \u00a5 (or even \u00a2) will be lost.  You'll also lose otherwise harmless characters like \u2013,\u2014, \u201c, \u201d, or \u2022 and invisible characters like non-breaking spaces.</p>\n\n<p>So the question is why do you want to discard these characters?  At what point are they becoming a problem?  I notice you've tagged the question 'mysql' - do you get a problem when you try to insert the data in a database?  Have you declared the encoding of the database correctly?  Have you enabled <a href=\"https://metacpan.org/pod/DBD::mysql#mysql_enable_utf8\" rel=\"nofollow\">mysql_enable_utf8</a> on your database connection?  Maybe you could do your insert in an <code>eval</code> block and only apply the regex above if the insert fails.</p>\n\n<p>Another option may be to pass the data through <a href=\"https://metacpan.org/pod/Encoding::FixLatin\" rel=\"nofollow\">Encoding::FixLatin</a>.  Which should make the string safe to insert into a UTF-8 database, even if the resulting characters aren't exactly what was originally intended.</p>\n\n<p>By the way, I think in the specific instance above, the data originally said:</p>\n\n<pre><code>Hotel Bringue features a 1000 m\u00b2 garden\n</code></pre>\n\n<p>The <a href=\"http://www.mclean.net.nz/ucf/?c=U+00B2\" rel=\"nofollow\">SUPERSCRIPT TWO</a> character is Unicode U+00B2 and in UTF-8 that would be encoded as two bytes: C2 B2.  Somewhere along the line a process may have read those bytes but decoded them as Latin-1 rather than UTF-8 and each byte got turned into a character.  This double encoding can happen over and over when data has the wrong encoding declaration or people fail to understand how to work with Unicode characters - causing one character to turn into many characters of garbage.</p>\n"}], "owner": {"reputation": 332, "user_id": 1767780, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/OshKM.jpg?s=128&g=1", "display_name": "M Muneer", "link": "https://stackoverflow.com/users/1767780/m-muneer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 34185686, "answer_count": 2, "score": -1, "last_activity_date": 1449694903, "creation_date": 1449681365, "last_edit_date": 1449694338, "question_id": 34184946, "link": "https://stackoverflow.com/questions/34184946/how-o-skip-characters-in-the-sax-parser-perl", "title": "how o skip characters in the sax parser perl", "body": "<p>I have a problem in reading special characters in perl. I have the following xml file and Iam using a sax parser which loop on each hotel and take the values but when it read HotelInfo it we skip the text because we have a special charterers in the 1000 m\u00ef\u00bf\u00bd</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;XMLResponse&gt;\n    &lt;ResponseType&gt;HotelListResponse&lt;/ResponseType&gt;\n    &lt;RequestInfo&gt;\n        &lt;AffiliateCode&gt;NI9373&lt;/AffiliateCode&gt;\n        &lt;AffRequestId&gt;2&lt;/AffRequestId&gt;\n        &lt;AffRequestTime&gt;2015-10-29T15:52:05&lt;/AffRequestTime&gt;\n    &lt;/RequestInfo&gt;\n    &lt;TotalNumber&gt;264234&lt;/TotalNumber&gt;\n    &lt;Hotels&gt;\n        &lt;Hotel&gt;\n            &lt;HotelCode&gt;AD0BFU&lt;/HotelCode&gt;\n            &lt;OldHotelId&gt;0&lt;/OldHotelId&gt;\n            &lt;HotelLocation/&gt;\n            &lt;HotelInfo&gt;Renovated in 2001, Hotel Bringue features a 1000 m\u00ef\u00bf\u00bd garden and comprises 5 floors with 105 double rooms, 2 suites and 7 single rooms. Hotel Bringue is situated in the picturesque village El Serrat, boasting the most amazing mountain views in the region and just a short drive to the main ski resort of Vallnord.After an exhausting day, you can go for a relaxing swim in the pool, re-energise your body in the jacuzzi or pamper yourself in the sauna. The rooms are beautifully appointed and come with an array of modern amenities for a pleasant stay.&lt;/HotelInfo&gt;\n            &lt;HotelTheme&gt;Ski Hotels&lt;/HotelTheme&gt;\n        &lt;/Hotel&gt;\n    &lt;/Hotels&gt;\n&lt;/XMLResponse&gt;  \n</code></pre>\n\n<p>How I can skip like there characters in the sax parser.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1449679806, "post_id": 34184290, "comment_id": 56115041, "body": "Not for the faint of heart, but <code>use re &#39;debug&#39;;</code> can show you exactly what the regex engine is doing: <code>perl -Mre=debug -e&#39;$_=&quot;ATCGTTGAA&quot;;&#47;(\\w\\w\\w)*?TGA&#47;g&#39;</code> See <a href=\"http://perldoc.perl.org/perldebguts.html#Debugging-Regular-Expressions\" rel=\"nofollow noreferrer\">Debugging Regular Expressions</a> in <code>perldoc perldebguts</code> for details about what the output means."}, {"owner": {"reputation": 294945, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 4, "creation_date": 1449679992, "post_id": 34184290, "comment_id": 56115170, "body": "A bit more user-friendly: <a href=\"https://regex101.com/r/cX1vY9/1\" rel=\"nofollow noreferrer\">regex101.com/r/cX1vY9/1</a> (click on &quot;Regex debugger&quot;)."}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449701227, "post_id": 34185410, "comment_id": 56127318, "body": "On the second string, what happens after the first match? Is going to continue from here?"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449724668, "post_id": 34185410, "comment_id": 56134413, "body": "@BlueStarry  on the second string after the first match is consumed,apply the same to rest of the string.Because the <code>(\\w\\w\\w)</code> is optional ,the regex engine direclty finds <code>TGA</code> over there as the group <code>(\\w\\w\\w)</code> cannot be found there"}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449739642, "post_id": 34185410, "comment_id": 56141473, "body": "What do you mean the group (\\w\\w\\w) cannot be found here? Of course is a  CAT"}, {"owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449739894, "post_id": 34185410, "comment_id": 56141648, "body": "@BlueStarry yes <code>CAT</code> is there but after it there is no <code>TGA</code>.So regex will leave <code>C</code> start with <code>A</code>.On the same lines in the end it will find <code>TGA</code> without the <code>optional group</code>"}], "tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": true, "score": 2, "last_activity_date": 1449682826, "creation_date": 1449682826, "answer_id": 34185410, "question_id": 34184290, "link": "https://stackoverflow.com/questions/34184290/understanding-a-particular-perl-regex-from-the-perl-tutorial/34185410#34185410", "title": "Understanding a particular perl Regex from the perl tutorial", "body": "<p>It is very simple.You need to just analyse in steps.</p>\n\n<p>1)Capture <code>3</code> alphanumerics</p>\n\n<p>2)Keep capturing groups of 3 untill you get <code>TGA</code>.<code>non greedy</code>.</p>\n\n<p>So in <code>ATCGTTGAA</code> you have </p>\n\n<p>1)ATC -- GTT --GAA (couldnt find <code>TGA</code> so skip first then start searching again)</p>\n\n<p>2)TCG -- TTG -- AA (couldnt find <code>TGA</code> so skip second then start searching again)</p>\n\n<p>3)CGT -- <code>TGA</code> (<a href=\"https://regex101.com/r/hE4jH0/45\" rel=\"nofollow\">Found</a>)</p>\n\n<p>Apply the same to second example as well.</p>\n"}], "owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 34185410, "answer_count": 1, "score": 2, "last_activity_date": 1449682826, "creation_date": 1449679537, "last_edit_date": 1449681652, "question_id": 34184290, "link": "https://stackoverflow.com/questions/34184290/understanding-a-particular-perl-regex-from-the-perl-tutorial", "title": "Understanding a particular perl Regex from the perl tutorial", "body": "<p><a href=\"http://www.perlmonks.org/?node_id=1149753\" rel=\"nofollow\">Crossposted on perlmonks</a>.</p>\n\n<p>Hi,\nconsidering this simple regexp:</p>\n\n<pre><code>/(\\w\\w\\w)*?TGA/g\n</code></pre>\n\n<p>and this two strings:</p>\n\n<p>ATCGTTGAA</p>\n\n<p>ATCGTTGAATGCAAATGACATGAC</p>\n\n<p>I am trying to understand step by step what the regexp engine is searching for i.e:</p>\n\n<p>Step 1: trying to match (\\w\\w\\w) 0 times, success, trying to match TGA after it, fail (what happens there? backtrack?)</p>\n\n<p>Step 2: ...???</p>\n\n<p>Thanks everyone.</p>\n"}, {"tags": ["linux", "perl", "ldap"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 4560766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c06d8efa9fe8d5412bda531c99a1b4?s=128&d=identicon&r=PG", "display_name": "pacmanwa", "link": "https://stackoverflow.com/users/4560766/pacmanwa"}, "edited": false, "score": 0, "creation_date": 1449678833, "post_id": 34183992, "comment_id": 56114337, "body": "That is what I was trying to avoid as I keep reading everywhere it is poor practice to read the file instead of using provided mechanisms. Thanks though, my suspicions have been confirmed."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 113, "user_id": 4560766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c06d8efa9fe8d5412bda531c99a1b4?s=128&d=identicon&r=PG", "display_name": "pacmanwa", "link": "https://stackoverflow.com/users/4560766/pacmanwa"}, "edited": false, "score": 0, "creation_date": 1449685009, "post_id": 34183992, "comment_id": 56118459, "body": "It is bad practice generally - you should use the os mechanisms when you can, because you don&#39;t (shouldn&#39;t) care about auth source. But a more important question is - <i>why</i> is your stuff failing without a local group.  It should be using the exact same mechanisms."}, {"owner": {"reputation": 113, "user_id": 4560766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c06d8efa9fe8d5412bda531c99a1b4?s=128&d=identicon&r=PG", "display_name": "pacmanwa", "link": "https://stackoverflow.com/users/4560766/pacmanwa"}, "edited": false, "score": 0, "creation_date": 1449690218, "post_id": 34183992, "comment_id": 56121474, "body": "The script checks for the existence of local users and groups and creates them if they are not found, if they are found set them to the group/user ID numbers provided by the input xml file. Problem is when using LDAP as an authentication source the os mechanisms will return LDAP results when there is an identical ldap group name. Trust me I wouldn&#39;t be doing it this way if I didn&#39;t have to, but its what happens when you inherit a code base and there is no budget for fixing the underlying issue... just add it to the &quot;we need budget for...&quot; list and keep on trucking."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 113, "user_id": 4560766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c06d8efa9fe8d5412bda531c99a1b4?s=128&d=identicon&r=PG", "display_name": "pacmanwa", "link": "https://stackoverflow.com/users/4560766/pacmanwa"}, "edited": false, "score": 0, "creation_date": 1449690797, "post_id": 34183992, "comment_id": 56121789, "body": "Yeah, that&#39;s fine. Real world makes a mess of &quot;good practice&quot; - you just need to know why you&#39;re going against it when you are :)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1449678635, "creation_date": 1449678635, "answer_id": 34183992, "question_id": 34183843, "link": "https://stackoverflow.com/questions/34183843/use-getgrnam-to-only-query-local-groups/34183992#34183992", "title": "Use getgrnam() to only query local groups", "body": "<p>Short answer is no - the purpose of those function calls is to make the authentication mechanisms transparent. There's a variety of things you <em>could</em> be using, and no one wants to hand roll their own local files/ldap/yp/nis+/arbitrary PAM authentication mechanism. </p>\n\n<p>If you're <em>specifically</em> interested in the contents of the local <code>passwd</code> and <code>group</code> files, I'd suggest the answer is - read those directly. </p>\n"}], "owner": {"reputation": 113, "user_id": 4560766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c06d8efa9fe8d5412bda531c99a1b4?s=128&d=identicon&r=PG", "display_name": "pacmanwa", "link": "https://stackoverflow.com/users/4560766/pacmanwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 34183992, "answer_count": 1, "score": 1, "last_activity_date": 1449678635, "creation_date": 1449678232, "question_id": 34183843, "link": "https://stackoverflow.com/questions/34183843/use-getgrnam-to-only-query-local-groups", "title": "Use getgrnam() to only query local groups", "body": "<p>I am attempting to integrate a standalone product into an LDAP environment.</p>\n\n<p>I have a RHEL 6.7 system that is configured for ldap authentication (via sss) that I need to programmatically add local users and groups to.</p>\n\n<p>The input xml file has a list of users and groups with their group membership, login shell, user id and group id that should be used.</p>\n\n<p>Now comes the problem, I have a Perl script that uses the XML file to configure the users and groups, it uses the getgrnam and getpwnam to query for users and groups then makes a system call to groupmod/groupadd and usermod/useradd if the user exists or not. I found that if LDAP has a group the same name as the group I am trying to create my script will see the group as existing and jump to the groupmod instead of groupadd. Then group binaries will only perform operations on local groups, and fail because the group doesn't exist locally. NSS is setup to check files then sss, which make sense why getgrnam returns the ldap group.</p>\n\n<p>Is there a way to have getgrnam and getpwnam only query the local system without having to reconfigure nsswitch.conf and possibly stop/start SSSD when I run the script?</p>\n\n<p>Is there another perl function I can use to query only local users/groups?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "edited": false, "score": 0, "creation_date": 1449675323, "post_id": 34182690, "comment_id": 56111703, "body": "foreach line in ouputfile6 you are reading eachline in outputfile7.. is this right? so if out6 have 10 lines and out7 has 10 lines you get 100 compares"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "reply_to_user": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "edited": false, "score": 0, "creation_date": 1449675405, "post_id": 34182690, "comment_id": 56111768, "body": "yes lordkain correct"}, {"owner": {"reputation": 2873, "user_id": 1719755, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EGRbw.jpg?s=128&g=1", "display_name": "lordkain", "link": "https://stackoverflow.com/users/1719755/lordkain"}, "edited": false, "score": 0, "creation_date": 1449675508, "post_id": 34182690, "comment_id": 56111852, "body": "can you print  $split[9] and $split1[9]  to see if you ha a mach somewhere/... before the if check"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 3, "creation_date": 1449675826, "post_id": 34182690, "comment_id": 56112101, "body": "So you have variables named <code>outputfiles</code> for files you are reading from?"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1449675870, "post_id": 34182690, "comment_id": 56112164, "body": "Are you sure the two files are exactly identical? What does <code>diff active_jobs_all_fields.txt hung_jobs_old.txt</code> say?"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449675879, "post_id": 34182690, "comment_id": 56112171, "body": "yes jcaron this is true. Please help I am very new to Perl."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1449675899, "post_id": 34182690, "comment_id": 56112185, "body": "Does the 10th column actually contain only numbers?"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 3, "creation_date": 1449675936, "post_id": 34182690, "comment_id": 56112214, "body": "Perl or no perl, if they&#39;re input files, call them input files, not output files!"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1449675970, "post_id": 34182690, "comment_id": 56112242, "body": "Are fields actually separated by spaces in both files?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449675970, "post_id": 34182690, "comment_id": 56112243, "body": "Have you printed the number of row in each of <code>@arr</code> and <code>@arr1</code> \u2014 or, equivalently, have you checked that the files are non-empty?  What is the last <code>print</code> meant to be doing?  You don&#39;t show <code>$outputfile5</code> being opened.  Have you printed the <code>$split[9]</code> and <code>$split1[9]</code> values before you compare them?  Are they what you expect?  Are they numeric columns?  (Perl&#39;s <code>==</code> is for numbers; <code>eq</code> is for strings.  This probably isn&#39;t the issue.)"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449675972, "post_id": 34182690, "comment_id": 56112245, "body": "The files are same                                                                             [ec2-user@testing]$ diff hung_jobs_old.txt active_jobs_all_fields.txt [ec2-user@testing]$ ls -lrt hung_jobs_old.txt active_jobs_all_fields.txt -rw-rw-r--. 1 ec2-user ec2-user 1267 Dec  9 10:41 hung_jobs_old.txt -rw-rw-r--. 1 ec2-user ec2-user 1267 Dec  9 10:41 active_jobs_all_fields.txt"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 3, "creation_date": 1449676065, "post_id": 34182690, "comment_id": 56112308, "body": "Not sure what you&#39;re trying to achieve with <code>print $outputfile5 $outputfile2;</code> This would print the file handle <code>$outputfile2</code> to <code>$outputfile5</code>"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449676094, "post_id": 34182690, "comment_id": 56112326, "body": "The delimiter is space in both the files. yes 10th column is a number"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449676101, "post_id": 34182690, "comment_id": 56112330, "body": "There&#39;s also no <code>$outputfile5</code> defined."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449676176, "post_id": 34182690, "comment_id": 56112386, "body": "You should show us sample data \u2014 say 5 lines from each file, where some of those lines should be paired and some should not."}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449676195, "post_id": 34182690, "comment_id": 56112402, "body": "The script is big . Apologies I forgot to mention that $outputfile5 is already defined.  open my $outputfile5, &quot;&gt;&quot;, &quot;hung_jobs_old.txt&quot; or die $!;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1449676200, "post_id": 34182690, "comment_id": 56112408, "body": "OMG! The lines from handle <code>$outputfile7</code> are placed in <code>@arr1</code>, and then in <code>$line3</code>. What&#39;s with the inconsistencies in the numbers?!?!?!"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1449676327, "post_id": 34182690, "comment_id": 56112495, "body": "<code>open my $outputfile5, &quot;&gt;&quot;, &quot;hung_jobs_old.txt&quot; or die $!;</code>? So you&#39;re truncating hung_jobs_old.txt while trying to read from it?"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449676351, "post_id": 34182690, "comment_id": 56112515, "body": "[ec2-user@testing]$ cat hung_jobs_old.txt | awk &#39;{print $10}&#39; 66431488 100677632 128579072 130149376 201490176 141490688 160213504 163885312 168801536 151044608 121175552 688414976 561467392 [ec2-user@testing]$ cat active_jobs_all_fields.txt | awk &#39;{print $10}&#39; 66431488 100677632 128579072 130149376 201490176 141490688 160213504 163885312 168801536 151044608 121175552 688414976 561467392 [ec2-user@testing]$"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449676472, "post_id": 34182690, "comment_id": 56112611, "body": "@ikegami This is my second day of learning PERL. Please forgive me in case i made  silly mistakes"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1449676611, "post_id": 34182690, "comment_id": 56112724, "body": "Make sure your script has <code>use warnings &#39;all&#39;; use strict;</code>, and let us know of any warnings or errors it produces."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449677095, "post_id": 34182690, "comment_id": 56113084, "body": "The language&#39;s name is &quot;Perl&quot;, and that mistake had nothing to do with Perl."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1449678264, "post_id": 34182690, "comment_id": 56113869, "body": "Since you are new to <a href=\"https://stackoverflow.com\">Stack Overflow</a> in addition to Perl, please take a moment to <a href=\"https://stackoverflow.com/tour\">tour</a> the site, learn about how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and learn about <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> a good question."}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449678692, "post_id": 34182690, "comment_id": 56114221, "body": "Sure Matt. I will go through the site."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1449680220, "post_id": 34182690, "comment_id": 56115315, "body": "@RahulM: Please state your question in the title! It is not clear what the problem is. This makes this question useless to other SO visitors."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449677577, "post_id": 34183340, "comment_id": 56113396, "body": "Thanks a lot ikegami. I will keep this thing in mind going forward. I will try this version as well."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1449677148, "last_edit_date": 1449677148, "creation_date": 1449676805, "answer_id": 34183340, "question_id": 34182690, "link": "https://stackoverflow.com/questions/34182690/issue-with-the-conditions-in-a-for-loop/34183340#34183340", "title": "Issue with the conditions in a for loop", "body": "<p>You didn't provide enough to demonstrate your problem, so I'm not sure what the problem is.</p>\n\n<p>But I'd like to point out the approach is awful. If you have 1,000 lines in both files, you'll end up executing the loop body 1,000,000 times. In that same scenario, the following only executes each loop body 1000 times:</p>\n\n<pre><code>my %active_jobs;\n{\n   open(my $fh, \"&lt;\", \"active_jobs_all_fields.txt\")\n      or die $!;\n\n   while (&lt;$fh&gt;) {\n      my @fields = split;\n      $active_jobs{$fields[9]} = \"$fields[0] $fields[3] $fields[5] $fields[6]\\n\";\n   }\n}\n\n{\n   open(my $in_fh, \"&lt;\", \"hung_jobs_old.txt\")\n      or die $!;\n   open(my $out_fh, \"&gt;\", \"hung_jobs.txt\")\n      or die $!;\n\n   while (&lt;$in_fh&gt;) {\n      my $key = (split)[9];\n      print($out_fh $active_jobs{$key}) if $active_jobs{$key};\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449677513, "post_id": 34183398, "comment_id": 56113355, "body": "Hello Jonathan. When I ran your script , I got the desired data in the Output file : hung_jobs.txt. Thanks a lot for your help. Can you please help me identify the problem which was there in the script previously."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 1, "creation_date": 1449677753, "post_id": 34183398, "comment_id": 56113513, "body": "No \u2014 because I can&#39;t work out what you are doing wrong. I added the shebang and <code>use</code> lines; set <code>$, = &quot; &quot;;</code> so the array printing is spaced. I added the print statements in the loops; I added a print statement to standard output when the <code>if</code> is taken. I didn&#39;t try writing to <code>$outputfile5</code>. The <code>-l</code> option isn&#39;t crucial; it makes the output better formatted (your outputs don&#39;t include newlines). Otherwise, the code is verbatim what you wrote. Only the strictest reading of the commented out <code>print</code> line prevents the code you posted from running as is. I think you need to look at your files."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": -1, "last_activity_date": 1449676997, "creation_date": 1449676997, "answer_id": 34183398, "question_id": 34182690, "link": "https://stackoverflow.com/questions/34182690/issue-with-the-conditions-in-a-for-loop/34183398#34183398", "title": "Issue with the conditions in a for loop", "body": "<p>It is not clear what the problem is.  When I take your script and add some diagnostic printing, like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n$, = \" \";\nopen my $outputfile2, \"&gt;\", \"hung_jobs.txt\"              or die $!;\nopen my $outputfile6, \"&lt;\", \"active_jobs_all_fields.txt\" or die $!;\nopen my $outputfile7, \"&lt;\", \"hung_jobs_old.txt\"          or die $!;\nmy @arr  = &lt;$outputfile6&gt;;\nmy @arr1 = &lt;$outputfile7&gt;;\nprint \"arr = \", scalar(@arr), \", arr1 = \", scalar(@arr1), \"\\n\";\nforeach my $line2 (@arr) {\n   chomp $line2;\n   my @split = split( ' ', $line2 );\n   print \"S0:\", @split;\n   foreach my $line3 (@arr1) {\n      chomp $line3;\n      my @split1 = split( ' ', $line3 );\n      print \"S1:\", @split1;\n      if ( $split[9] == $split1[9] ) {\n         print $outputfile2 \"Hello\";\n         print $outputfile2 \"$split[0] $split[3] $split[5] $split[6] \\n\";\n         print \"$split[0] $split[3] $split[5] $split[6]\\n\";\n      }\n      #print $outputfile5 $outputfile2;\n   }\n}\n</code></pre>\n\n<p>and when I create the two data files:</p>\n\n<pre><code>$ cat active_jobs_all_fields.txt\nf1 f2 f3 f4 f5 f6 f7 f8 f9 10\n$ cat hung_jobs_old.txt\ng1 g2 g3 g4 g5 g6 g7 g8 g9 10\n$\n</code></pre>\n\n<p>then when I run it, I get to see:</p>\n\n<pre><code>$ perl -l x37.pl\narr =  1 , arr1 =  1 \n\nS0: f1 f2 f3 f4 f5 f6 f7 f8 f9 10\nS1: g1 g2 g3 g4 g5 g6 g7 g8 g9 10\nf1 f4 f6 f7\n\n$ cat hung_jobs.txt\nHello\nf1 f4 f6 f7 \n\n$\n</code></pre>\n\n<p>This seems to correspond to what you want.  So it is not clear what your problem is.</p>\n\n<p>The stray blank lines can be attributed to the <code>-l</code> option.  Tested with Perl 5.22.0 on Mac OS X 10.11.2 (built on an earlier version).</p>\n"}], "owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 34183398, "answer_count": 2, "score": -4, "last_activity_date": 1449677148, "creation_date": 1449675108, "last_edit_date": 1449676890, "question_id": 34182690, "link": "https://stackoverflow.com/questions/34182690/issue-with-the-conditions-in-a-for-loop", "title": "Issue with the conditions in a for loop", "body": "<p>I have two files represented by <code>$outputfile6</code> and <code>$outputfile7</code> in my script. Both files have the same contents (all the fields are same) and a total of 10 fields in this scenario. Although both the files are the same I am not getting any contents in the file : <code>$outputfile2</code> . Below is the code.</p>\n\n<pre><code>open my $outputfile2, \"&gt;\", \"hung_jobs.txt\"              or die $!;\n\nopen my $outputfile6, \"&lt;\", \"active_jobs_all_fields.txt\" or die $!;\nopen my $outputfile7, \"&lt;\", \"hung_jobs_old.txt\"          or die $!;\n\nmy @arr  = &lt;$outputfile6&gt;;\nmy @arr1 = &lt;$outputfile7&gt;;\n\nforeach my $line2 (@arr) {\n   chomp $line2;\n   my @split = split( ' ', $line2 );\n\n   foreach my $line3 (@arr1) {\n      chomp $line3;\n      my @split1 = split( ' ', $line3 );\n\n      if ( $split[9] == $split1[9] ) {\n         print $outputfile2 \"Hello\";\n         print $outputfile2 \"$split[0] $split[3] $split[5] $split[6] \\n\";\n      }\n\n      print $outputfile5 $outputfile2;\n   }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1449679754, "post_id": 34180613, "comment_id": 56115009, "body": "What is it that you think <code>if (! -f $outputfile3)</code> is doing?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1449720661, "post_id": 34180613, "comment_id": 56133188, "body": "<a href=\"http://www.learning-perl.com\" rel=\"nofollow noreferrer\">Learning Perl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449670103, "post_id": 34180668, "comment_id": 56107735, "body": "Thanks. Also I am getting following error :                                                                             No such file or directory at Job_Monitoring.pl line 9. I wanted to create file : $outputfile3 if it doesn&#39;t exists from $fh based on the conditions mentioned in the script however this didn&#39;t worked. Please help I am very new to PERL."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449670517, "post_id": 34180668, "comment_id": 56108085, "body": "You can&#39;t read from a file that doesn&#39;t exist. If you want to create a new file, you need to open it for writing."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 1, "creation_date": 1449670548, "post_id": 34180668, "comment_id": 56108105, "body": "@RahulM Files only get created in clobber and append mode. perldoc is your friend here: <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">perldoc open</a>"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449670634, "post_id": 34180668, "comment_id": 56108177, "body": "Thanks a lot for your help."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1449669607, "creation_date": 1449669607, "answer_id": 34180668, "question_id": 34180613, "link": "https://stackoverflow.com/questions/34180613/perl-error-global-symbol-requires-explicit-package-name/34180668#34180668", "title": "Perl : Error Global symbol requires explicit package name", "body": "<p>Under <a href=\"http://p3rl.org/strict\" rel=\"nofollow\">strict</a>, you have to declare each variable used, even the loop variables:</p>\n\n<pre><code>foreach my $line2 (@arr)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1449720629, "creation_date": 1449669465, "last_edit_date": 1449720629, "question_id": 34180613, "link": "https://stackoverflow.com/questions/34180613/perl-error-global-symbol-requires-explicit-package-name", "title": "Perl : Error Global symbol requires explicit package name", "body": "<p>Hello I am executing the below script but facing following error :</p>\n\n<pre><code>Global symbol \"$line2\" requires explicit package name at Job_Monitoring.pl line 40.\nGlobal symbol \"$line2\" requires explicit package name at Job_Monitoring.pl line 42.\nGlobal symbol \"$line3\" requires explicit package name at Job_Monitoring.pl line 43.\nGlobal symbol \"$line3\" requires explicit package name at Job_Monitoring.pl line 45.\nExecution of Job_Monitoring.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Below is the code.I am getting errors where I am trying to compare 10th field of two files and if it matches then print the entire line :</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $fh, \"&lt;\", \"backup_report.txt\" or die $!;\nopen my $outputfile, \"&gt;\", \"long_running_jobs.txt\" or die $!;\nopen my $outputfile1, \"&gt;\", \"active_jobs.txt\" or die $!;\nopen my $outputfile2, \"&gt;\", \"hung_jobs.txt\" or die $!;\nopen my $outputfile3, \"&lt;\", \"hung_jobs_old.txt\" or die $!;\nopen my $outputfile4, \"&gt;\", \"active_jobs_all_fields.txt\" or die $!;\nopen my $outputfile5, \"&gt;\", \"hung_jobs_old.txt\" or die $!;\nprint $outputfile1 \"################Active Jobs################\\n\\n\";\nprint $outputfile \"################Long Running Jobs################\\n\\n\";\nprint $outputfile2 \"################Hung Jobs################\\n\\n\";\nwhile (my $line = &lt;$fh&gt;)\n{\nno warnings 'numeric';\nchomp $line;\nmy @data = split (' ', $line);\nif ($data[1] == 0 and $data[2] == 1)\n{\n    if (! -f $outputfile3)\n    {\n    print $outputfile3 \"$line\";\n    }\n    print $outputfile4 \"$line\";\n    my $acttime=scalar(localtime($data[6]));\n    print $outputfile1 \"$data[0] $data[3] $data[5] $acttime \\n\";\n    my $currt = time;\n    my $efft=($currt-$data[6])/3600;\n    if ($efft &gt; 48)\n      {\n    my $longtime=scalar(localtime($data[6]));\n    print $outputfile \"$data[0] $data[3] $data[5] $longtime \\n\";\n      }\n}\n}\nmy @arr=&lt;$outputfile1&gt;;\nmy @arr1=&lt;$outputfile3&gt;;\nforeach $line2(@arr)\n{\nmy @split=split(' ',$line2);\nforeach $line3(@arr1)\n{\nmy @split1=split(' ',$line3);\nif($split[9] eq $split1[9])\n    {\n    print $outputfile2 \"$split[0] $split[3] $split[5] $split[6] \\n\";\n    }\nprint $outputfile5 $outputfile2;\n}\n}\nclose $fh;\nclose $outputfile;\nclose $outputfile1;\nclose $outputfile2;\nclose $outputfile3;\nclose $outputfile4;\nclose $outputfile5;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "catalyst", "dbix-class"], "comments": [{"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 2, "creation_date": 1449670513, "post_id": 34179927, "comment_id": 56108083, "body": "So, what you want is to retrieve the data and make it so that the DB itself changes the values that you get depending on your parameters. I think this is not a good practice, maybe you should consider storing the timezone along with the times and retrieving both fields, or maybe retrieving a date diff where you actually sum the timezone adjustment to the actuale date."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1449670833, "post_id": 34179927, "comment_id": 56108320, "body": "I understood that you have datetimes in your DB and you want to present them to the user in the user&#39;s local time zone, which is different for each individual user. That&#39;s something that should be done in the view. You can make DBIC convert <code>TIMESTAMP</code> fields to DateTime objects and work with those. Maybe introduce an automatic filter in your View class that always gets applied to those, and have DateTime handle the conversion."}, {"owner": {"reputation": 45, "user_id": 2699964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deaeb47abe12a76956613965353f80c7?s=128&d=identicon&r=PG&f=1", "display_name": "Runar Buvik", "link": "https://stackoverflow.com/users/2699964/runar-buvik"}, "edited": false, "score": 0, "creation_date": 1449672068, "post_id": 34179927, "comment_id": 56109260, "body": "Yes, ideally I would like to set the timezone ones and magically have added support for local time zones for my users. If not I guess I will have to add a function in the schema result or view. It is not that that is so hard to do, but it requires multiple changes in a big and complex codebase."}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1449675194, "post_id": 34179927, "comment_id": 56111613, "body": "Note that &#39;DBIC&#39; is the abbreviation of DBIx::Class, DBIx is the whole DBI eXtenstion namespace."}], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": true, "score": 2, "last_activity_date": 1449675567, "last_edit_date": 1495542169, "creation_date": 1449675567, "answer_id": 34182865, "question_id": 34179927, "link": "https://stackoverflow.com/questions/34179927/setting-mysql-time-zone-at-runtime-with-perl-dbix/34182865#34182865", "title": "Setting MySQL time zone at runtime with Perl DBIx", "body": "<p>My general advise is to set the datetime in your application, not rely on the datetime of the database server. If you don't need to know which timezone a datetime had when it was set you should store it in UTC. If you need to know the timezone later you need to use a database datatype which supports this like 'timestamp with timezone' in Oracle.</p>\n\n<p>See my answer for <a href=\"https://stackoverflow.com/questions/14508641/formatting-timestamp-field-for-output-in-templatetoolkit/14511850#14511850\">Formatting timestamp field for output in TemplateToolkit</a> which seems to be what you're asking.</p>\n"}], "owner": {"reputation": 45, "user_id": 2699964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deaeb47abe12a76956613965353f80c7?s=128&d=identicon&r=PG&f=1", "display_name": "Runar Buvik", "link": "https://stackoverflow.com/users/2699964/runar-buvik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 34182865, "answer_count": 1, "score": 1, "last_activity_date": 1449675567, "creation_date": 1449667387, "last_edit_date": 1449669476, "question_id": 34179927, "link": "https://stackoverflow.com/questions/34179927/setting-mysql-time-zone-at-runtime-with-perl-dbix", "title": "Setting MySQL time zone at runtime with Perl DBIx", "body": "<p>I have a Perl Catalyst app that store some times in a MySQL database. The times are of type TIMESTAMP and initialized with NOW().</p>\n\n<p>When reading back the times they appear to be in the databases default time zone. However when using the mysql shell I can easily set the time zone by <strong>SET time_zone = '+03:00';</strong> and get the correct local time for my time zone.</p>\n\n<p>Is there a way to set the time one like this in Catalyst or DBIx at run time?</p>\n\n<p>I want to be able to support different time zones, for different users, so just changing the default time zone for the database is not enough. I am also aware that I can format the time in Perl after I get the data from MySQL, but there is so much automation going on with Catalyst, DBIx and Template Toolkit so getting the data correctly from the database to start with would be so much more convenient.</p>\n"}, {"tags": ["php", "perl", "unicode", "escaping", "encode"], "comments": [{"owner": {"reputation": 16151, "user_id": 3739901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h91ta.png?s=128&g=1", "display_name": "Moppo", "link": "https://stackoverflow.com/users/3739901/moppo"}, "edited": false, "score": 0, "creation_date": 1449663586, "post_id": 34178638, "comment_id": 56103613, "body": "have you tried <code>utf8_encode()</code> ?"}, {"owner": {"reputation": 2875, "user_id": 1341771, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWETX.jpg?s=128&g=1", "display_name": "Daniel Dudas", "link": "https://stackoverflow.com/users/1341771/daniel-dudas"}, "reply_to_user": {"reputation": 16151, "user_id": 3739901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h91ta.png?s=128&g=1", "display_name": "Moppo", "link": "https://stackoverflow.com/users/3739901/moppo"}, "edited": false, "score": 0, "creation_date": 1449669120, "post_id": 34178638, "comment_id": 56107073, "body": "@Moppo I have tried with this code: $encoded_string = utf8_encode($not_latin_string); $escaped_string = mb_convert_encoding($encoded_string, &#39;UTF-16LE&#39;, &#39;UTF-8&#39;);  But the final result is not the same."}], "answers": [{"tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": false, "score": 0, "last_activity_date": 1449673227, "creation_date": 1449673227, "answer_id": 34182004, "question_id": 34178638, "link": "https://stackoverflow.com/questions/34178638/perl-to-php-similar-functions-for-escape-and-encode/34182004#34182004", "title": "Perl to php similar functions for escape and encode", "body": "<p>Escape unicode character:</p>\n\n<pre><code>&lt;?php\n\nfunction unicode_escape($str) {\n    $str_utf16_be = mb_convert_encoding($str, \"UTF-16BE\");\n    $chunks = str_split(bin2hex($str_utf16_be), 4);\n    return implode(\"\", preg_filter(\"/^/\", \"\\\\u\", $chunks));\n}\n\n$not_latin_string = '\ud842\udfb7\u91ce\u5c4b\u306e\u725b\u4e3c\u98df\u3079\u305f\u3044';\necho unicode_escape($not_latin_string);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>\\ud842\\udfb7\\u91ce\\u5c4b\\u306e\\u725b\\u4e3c\\u98df\\u3079\\u305f\\u3044\n</code></pre>\n\n<p>Do you really need this function?  Have you tried <code>json_encode</code>?</p>\n"}], "owner": {"reputation": 2875, "user_id": 1341771, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWETX.jpg?s=128&g=1", "display_name": "Daniel Dudas", "link": "https://stackoverflow.com/users/1341771/daniel-dudas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449673227, "creation_date": 1449663508, "question_id": 34178638, "link": "https://stackoverflow.com/questions/34178638/perl-to-php-similar-functions-for-escape-and-encode", "title": "Perl to php similar functions for escape and encode", "body": "<p>I have this part of perl code and I want to find a similar code in PHP. \n(I don't know perl, only php)</p>\n\n<pre><code>my $encoded_string = encode( 'UTF8', $not_latin_string );\nmy $escaped_string = Unicode::Escape::escape($encoded_string);\n</code></pre>\n\n<p>The result will then be bcrypt and store as password.</p>\n\n<p>I tried different methods but are not working correctly. So if someone knows perl and php and can help me I will be thankful.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "edited": false, "score": 0, "creation_date": 1449663047, "post_id": 34178392, "comment_id": 56103291, "body": "What does <code>perl -v</code> say?"}, {"owner": {"reputation": 195, "user_id": 4417286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3dcwY.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4417286/raj"}, "reply_to_user": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "edited": false, "score": 0, "creation_date": 1449663104, "post_id": 34178392, "comment_id": 56103328, "body": "I didn&#39;t write the use 5.010. Mine is 5.18.2."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 7, "creation_date": 1449663179, "post_id": 34178392, "comment_id": 56103370, "body": "@Raj \u2014 &quot;I didn&#39;t write the use 5.010&quot; \u2014 So the code you have put in the question is not the same code as that which gives the error message? You removed that use statement?"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 4417286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3dcwY.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4417286/raj"}, "edited": false, "score": 1, "creation_date": 1449663389, "post_id": 34178561, "comment_id": 56103496, "body": "but if we are using the higher version 5.18.2 then do we need to write 5.010?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 195, "user_id": 4417286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3dcwY.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4417286/raj"}, "edited": false, "score": 3, "creation_date": 1449663569, "post_id": 34178561, "comment_id": 56103603, "body": "@Raj \u2014 <code>use 5.010</code> means &quot;Turn on all the features that were considered stable in 5.10&quot; (personally I prefer the syntax <code>use v5.10</code>) not &quot;Only work for Perl 5.10 and nothing newer&quot;."}], "tags": [], "owner": {"reputation": 95982, "user_id": 17279, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a08771c878da3724492f3056d5eca168?s=128&d=identicon&r=PG", "display_name": "zoul", "link": "https://stackoverflow.com/users/17279/zoul"}, "is_accepted": true, "score": 8, "last_activity_date": 1449663230, "creation_date": 1449663230, "answer_id": 34178561, "question_id": 34178392, "link": "https://stackoverflow.com/questions/34178392/can-t-call-method-state-on-an-undefined-value/34178561#34178561", "title": "\u201cCan\u2019t call method \u2018state\u2019 on an undefined value\u201d?", "body": "<p>Maybe the <code>state</code> feature is not enabled? Quoting <a href=\"http://perldoc.perl.org/functions/state.html\">the docs</a>:</p>\n\n<blockquote>\n  <p>state variables are enabled only when the use feature \"state\" pragma is in effect, unless the keyword is written as CORE::state . See also feature. Alternately, include a use v5.10 or later to the current scope.</p>\n</blockquote>\n\n<p>And as I read in the comments, you didn\u2019t include the <code>use 5.010</code> pragma. I\u00a0think that\u2019s the problem. Without it, my Perl (5.18.2, same as yours) complains of the same error.</p>\n"}], "owner": {"reputation": 195, "user_id": 4417286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3dcwY.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/4417286/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "accepted_answer_id": 34178561, "answer_count": 1, "score": 0, "last_activity_date": 1449663250, "creation_date": 1449662638, "last_edit_date": 1449663006, "question_id": 34178392, "link": "https://stackoverflow.com/questions/34178392/can-t-call-method-state-on-an-undefined-value", "title": "\u201cCan\u2019t call method \u2018state\u2019 on an undefined value\u201d?", "body": "<p>I am new at perl. I am learning from a book, in that one example is there. I am not able to find the problem in that. </p>\n\n<pre><code>use 5.010;\ngreet( 'Fred' );\ngreet( 'Barney' );\nsub greet {\n    state $last_person;\n    my $name = shift;\n    print \"Hi $name! \";\n    # This is the error line:\n    if( defined $last_person ) {   \n       print \"$last_person is also here!\\n\";\n    } else {\n       print \"You are the first one here!\\n\"\n    }\n    $last_person = $name;\n}\n</code></pre>\n\n<p>It gives error like \"Can't call method \"state\" on an undefined value at ch4_3.pl.\"</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1449661548, "post_id": 34177516, "comment_id": 56102405, "body": "You should also encourage the OP to check the status of every <code>open</code>, <code>chmod</code>, and possibly <code>close</code>"}, {"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1449669855, "post_id": 34177516, "comment_id": 56107564, "body": "@simbabque: as u suggested i tried to run the perl script in user mode. and added die $!... now its showing permission denied. how to solve this? i tried changing the mode of user by chmod 755 /home/user1"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 1, "creation_date": 1449670072, "post_id": 34177516, "comment_id": 56107709, "body": "@geek is the <i>permission denied</i> because you cannot run the script, or because the <code>open</code> inside the script fails?"}, {"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1449671078, "post_id": 34177516, "comment_id": 56108481, "body": "@simbabque: it is becuase of open... when i run it without open it works fine"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 1, "creation_date": 1449671492, "post_id": 34177516, "comment_id": 56108782, "body": "@geek so the problem is you are trying to write into <code>&#47;root&#47;</code>. <b>Don&#39;t do that.</b> Your web server is not intended to go there. End of story. :)"}, {"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 1, "creation_date": 1449673834, "post_id": 34177516, "comment_id": 56110599, "body": "worked :) :) i was so dumb.. i was trying it widout adding the user path :p sorry.. and thanku :)"}, {"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1449725630, "post_id": 34177516, "comment_id": 56134749, "body": "@simbabque: it works with the terminal on the user profile.. but not from firefox browser. i have copied the html file to the user account and changed permission. creating the file in /home/user1/ on the browser i am getting permission denied."}, {"owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 0, "creation_date": 1449728831, "post_id": 34177516, "comment_id": 56135993, "body": "is there anything regarding firefox settings??"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "edited": false, "score": 1, "creation_date": 1449735492, "post_id": 34177516, "comment_id": 56139091, "body": "@geek This has nothing to do with firefox in particular. The browser just displays whatever the webserver sends. If there are permission problems then it&#39;s in your program or between your program and the webserver. Unless you are seeing a 403 FORBIDDEN status code. Please create a new question explaining the current situation and someone might be able to help."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1449665749, "last_edit_date": 1449665749, "creation_date": 1449659981, "answer_id": 34177516, "question_id": 34177339, "link": "https://stackoverflow.com/questions/34177339/open-a-file-in-perl-run-perl-using-html/34177516#34177516", "title": "open a file in perl run perl using html", "body": "<p>Your web server does not run as the <em>root</em> user. That is correct. It should not do that. Since your file is in root's home directory, the web server user cannot access it. The <code>chmod</code> command will fail as well as the <code>open</code>.</p>\n\n<p>Put your output file in a directory that the web server can access (and should access, unlike root's stuff) and it will work.</p>\n\n<hr>\n\n<p>Note that you have a mix of lexical and global filehandles there. Decide which one you want. (You want <code>$fh</code>!) Also you are opening the file for reading with <code>&lt;</code> and then you try printing to it. That will also not work.</p>\n\n<p>You should check the return value of the <code>open</code> call. For example, you can say:</p>\n\n<pre><code>open my $fh, '&lt;', $filename or die $!;\n</code></pre>\n\n<p>Check your web server's log file to see the errors. You are using <code>strict</code> and <code>warnings</code>, which is good, but you do not profit from the error messages if you do not look at them. It's probably saying <em>500 Internal Server Error</em>. Your web server log has more information.</p>\n\n<p>As <a href=\"https://metacpan.org/pod/CGI::Carp\" rel=\"nofollow\">an alternative</a>, <code>use CGI::Carp qw(fatalsToBrowser);</code> will redirect them to the browser. Do not use this in production though. </p>\n\n<p>Finally, note that CGI has been removed from the Perl core recently and that in recent releases of the CGI module on CPAN the HTML creation functions have been deprecated. They should not be used in new code.</p>\n"}], "owner": {"reputation": 740, "user_id": 1838961, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cLVd8.jpg?s=128&g=1", "display_name": "geek", "link": "https://stackoverflow.com/users/1838961/geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "accepted_answer_id": 34177516, "answer_count": 1, "score": 0, "last_activity_date": 1449670214, "creation_date": 1449659461, "last_edit_date": 1449670214, "question_id": 34177339, "link": "https://stackoverflow.com/questions/34177339/open-a-file-in-perl-run-perl-using-html", "title": "open a file in perl run perl using html", "body": "<p>I have an HTML page in which I run a Perl script to get the value from HTML and writing it onto a file.<br>\nThe problem I'm facing is that whenever I run the Perl script from the terminal as a root, the HTML page gets updated and runs fine, however if I try the same thing from HTML (using the Firefox browser) it fails. Perhaps because of a permission issue.<br></p>\n\n<p>The following is an extract from my HTML page:</p>\n\n<pre><code>&lt;div&gt;  \n    &lt;form id=\"QA1_Insert\" action=\"http://localhost/cgi-bin/person.pl\" METHOD=\"POST\" &gt;    \n                    &lt;table&gt;\n                        &lt;tr&gt;\n                             &lt;td class=\"columnLabel\"&gt; Name&lt;/td&gt;\n                             &lt;td&gt;&lt;input type=\"text\" name=\"Name\"&gt;&lt;/td&gt;\n                            &lt;td class=\"columnLabel\"&gt;Address:&lt;/td&gt;\n                            &lt;td&gt;&lt;input type=\"text\" name=\"Description\"&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;\n&lt;input type=\"submit\" value=\"submit\"&gt;&lt;/form&gt; \n      &lt;/div&gt;\n</code></pre>\n\n<p>And here is my person.pl:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse CGI ':standard';\nuse warnings;\nuse IPC::System::Simple qw(system capture);\nuse DBI;\nuse Cwd qw(chdir);\nuse FileHandle;\nuse Fcntl;\n\n\n#sysopen (FILE ,\"/root/info/person.txt\",O_RDWR|O_CREAT,0755);\nopen (my $file,\"&lt;\",\"/root/info/person.txt\");\n\nchmod 755,$file;\nprint FILE \"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;sakshi&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\";\n\nclose (FILE);\n\nprint \nheader(),\nstart_html(\n    -title   =&gt; 'Command',\n  -text    =&gt; '#520063'\n);\nprint \"Hello \";\nprint  end_html();\n</code></pre>\n\n<p>I have tried creating it with sysopen, which doesn't work due to permission errors. I've also tried chmod. However, neither are working. Any suggestions on how to solve it would be appreciated.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1449660272, "post_id": 34177162, "comment_id": 56101660, "body": "What do you mean by <i>you receive</i>? Does some code you cannot control call your code with  <code>&#39;\\t&#39;</code> as an argument? Please explain this a bit more detailed."}], "answers": [{"tags": [], "owner": {"reputation": 2489, "user_id": 4486699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3c3fb9b12949207213b6acd38b9be13?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Masson", "link": "https://stackoverflow.com/users/4486699/neil-masson"}, "is_accepted": false, "score": 5, "last_activity_date": 1449660432, "creation_date": 1449660432, "answer_id": 34177681, "question_id": 34177162, "link": "https://stackoverflow.com/questions/34177162/perl-join-on-t-in-single-quotes/34177681#34177681", "title": "Perl - Join on &#39;\\t&#39; in single quotes", "body": "<p>How do you \"receive\" the delimiter?  If <code>\\t</code> is somehow being passed to your perl program as a string, then no quoting inside your perl program will convert it to a tab character.  Instead you would have to detect the string containing <code>\\t</code> and convert it to a tab character.</p>\n\n<pre><code>$del =~ s/\\\\t/\\t/;\n</code></pre>\n\n<p>In this substitution, the match is for an actual backslash followed by a <code>t</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1449660962, "last_edit_date": 1495540319, "creation_date": 1449660962, "answer_id": 34177847, "question_id": 34177162, "link": "https://stackoverflow.com/questions/34177162/perl-join-on-t-in-single-quotes/34177847#34177847", "title": "Perl - Join on &#39;\\t&#39; in single quotes", "body": "<p><strong>This answer is based on an assumption</strong> until the question is a bit more clear.</p>\n\n<p>In case you are exposing a function, and someone is calling it passing the delimiter as <code>'\\t'</code>, there are several ways you can deal with it. I have sorted them from worst to best solution.</p>\n\n<ul>\n<li><p>string-<code>eval</code> it. This is <strong>dangerous</strong> because you don't know what kind of code could be passed in.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nsub my_join {\n    my ($del, @stuff) = @_;\n\n    return unless $del;\n    return if length $del &gt; 2;\n    $del = eval qq{\"$del\"};\n\n    say join $del, @stuff;\n}\n\nmy_join( '\\t', qw(My name Is Dave) );\n</code></pre>\n\n<p>This will give the right output, but it's not save because you cannot control the input. Someone might do bad stuff. That's why there is the <code>length</code> check. Of course then a delimiter like <code>...</code> is not possible any more. That might be something you want.</p>\n\n<p><strong>Please don't use the <code>eval</code>,</strong> I just put it here for a complete answer.</p></li>\n<li><p>Use a lookup table.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nsub my_join {\n    my ($del, @stuff) = @_;\n\n    my %lookup = (\n       '\\t' =&gt; \"\\t\",\n       '\\n' =&gt; \"\\n\",\n    );\n\n    $del = $lookup{$del} if exists $lookup{$del};\n\n    say join $del, @stuff;\n}\n\nmy_join( '\\t', qw(My name Is Dave) );\n</code></pre>\n\n<p>With this solution, you can exactly control which delimiters you want to convert. All others will be used <em>as is</em>. Or you could just not allow them if they don't exist in your lookup hash.</p></li>\n<li><p>See <a href=\"https://stackoverflow.com/a/34177681/1331451\">Neil Massons's answer</a> for the best approach, the short regular expression substitution. I prefer it.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1449687983, "last_edit_date": 1449687983, "creation_date": 1449687601, "answer_id": 34186869, "question_id": 34177162, "link": "https://stackoverflow.com/questions/34177162/perl-join-on-t-in-single-quotes/34186869#34186869", "title": "Perl - Join on &#39;\\t&#39; in single quotes", "body": "<p>The code <code>'\\t'</code> produces the two-character string <code>\\t</code>.<br>\nThe code <code>\"\\t\"</code> produces the single character string Tab.</p>\n\n<p>Perhaps you want the following:</p>\n\n<pre><code>$del = \"\\t\" if $del eq '\\t';\n</code></pre>\n\n<p>But that begs the question... What if you wanted the separator to be the two characters <code>\\</code> and <code>t</code>? The following is a solution to provide a generic escaping mechanism similar to the one used by double-quote string literals:</p>\n\n<pre><code>my %tr = (\n   n =&gt; \"\\n\",\n   r =&gt; \"\\r\",\n   t =&gt; \"\\t\",\n   # ...\n);\n\n$str =~ s{\\\\(?:(\\W)|(.))}{\n   defined($1) ? $1 :\n   defined($tr{$2}) ? $tr{$2} :\n   do { warn(\"Unrecognized escapes \\\\$2\"); \"\\\\$2\" }\n}seg;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5351080, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b9f3924696bfefdb69ccf0f5720fc707?s=128&d=identicon&r=PG&f=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/5351080/imran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 34177847, "answer_count": 3, "score": 1, "last_activity_date": 1449997557, "creation_date": 1449658975, "last_edit_date": 1449997557, "question_id": 34177162, "link": "https://stackoverflow.com/questions/34177162/perl-join-on-t-in-single-quotes", "title": "Perl - Join on &#39;\\t&#39; in single quotes", "body": "<p>In my back end Perl code I receive delimiter in single quotes like</p>\n\n<pre><code>'\\t'\n</code></pre>\n\n<p>when i try to use <code>JOIN</code> function on it like this</p>\n\n<pre><code>my $string = join ( $del, @aArray );\n</code></pre>\n\n<p>I get output with hardcoded <code>\\t</code> between array values</p>\n\n<pre><code>My\\tName\\tIs\\tDave\n</code></pre>\n\n<p>I tried to change the quotes to double quotes of <code>$del</code>  because <code>\"\\t\"</code> works. So i tried to convert</p>\n\n<pre><code>qq{\"$del\"}\n</code></pre>\n\n<p>but it didnt work. When i do print on it, I get</p>\n\n<pre><code>'\"\\t\"'\n</code></pre>\n\n<p>I also tried regex to no avail</p>\n\n<pre><code>$del =~ s/'/\"/g;\n</code></pre>\n\n<p>Can anyone please tell me how to replace single quote with double?</p>\n"}, {"tags": ["windows", "perl", "ssl", "lwp"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1449661664, "post_id": 34176433, "comment_id": 56102478, "body": "This is a handshake error and can not be fixed by disabling certificate validation. I would be helpful if you provide the real target hostname and also the version of IO::Socket::SSL and the underlying openssl you are using."}, {"owner": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1449671227, "post_id": 34176433, "comment_id": 56108581, "body": "The actual site is www.firstcard.fi And package IO::Socket::SSL; - our $VERSION = &#39;1.962&#39;; I&#39;ll have to check that openssl -version later"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "edited": false, "score": 0, "creation_date": 1449734495, "post_id": 34183265, "comment_id": 56138606, "body": "Hi. This seems to work. Thank you very much !! How did you find out that right cipher?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "edited": false, "score": 0, "creation_date": 1449735150, "post_id": 34183265, "comment_id": 56138895, "body": "This can be seen from the SSLLabs report I have linked to. But at the end I have various tools to test sites (openssl s_client, <a href=\"https://github.com/noxxi/p5-ssl-tools/blob/master/analyze-ssl.pl\" rel=\"nofollow noreferrer\">github.com/noxxi/p5-ssl-tools/blob/master/analyze-ssl.pl</a>) and I have experiences with other broken sites."}, {"owner": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "edited": false, "score": 0, "creation_date": 1449743953, "post_id": 34183265, "comment_id": 56144311, "body": "Thank you one more time."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 1, "last_activity_date": 1449676593, "creation_date": 1449676593, "answer_id": 34183265, "question_id": 34176433, "link": "https://stackoverflow.com/questions/34176433/lwp-iosocketssl-fails-with-ssl3-get-server-hellowrong-cipher-returned/34183265#34183265", "title": "LWP / IO::Socket::SSL fails with SSL3_GET_SERVER_HELLO:wrong cipher returned", "body": "<blockquote>\n  <p>The actual site is www.firstcard.fi </p>\n</blockquote>\n\n<p>The server is heavily broken as can also be seen from the <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=firstcard.fi&amp;s=62.13.0.65&amp;latest\" rel=\"nofollow\">report by SSLLabs</a>. To get a connection to the server one must work around these problems by only using the single good cipher the server offers:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;ssl_opts(SSL_cipher_list =&gt; 'DES-CBC3-SHA');\n</code></pre>\n\n<p>Interestingly, this cipher is included in the cipher list used by default in IO::Socket::SSL but the server is too broken to properly deal with the correct ClientHello.</p>\n"}], "owner": {"reputation": 23, "user_id": 5656295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oR0kn.jpg?s=128&g=1", "display_name": "tommi", "link": "https://stackoverflow.com/users/5656295/tommi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2269, "favorite_count": 0, "accepted_answer_id": 34183265, "answer_count": 1, "score": 0, "last_activity_date": 1449676593, "creation_date": 1449656849, "last_edit_date": 1449663772, "question_id": 34176433, "link": "https://stackoverflow.com/questions/34176433/lwp-iosocketssl-fails-with-ssl3-get-server-hellowrong-cipher-returned", "title": "LWP / IO::Socket::SSL fails with SSL3_GET_SERVER_HELLO:wrong cipher returned", "body": "<p>I found many questions quite similiar to my problem, but they didn't solve it, so here I am asking for your help.</p>\n\n<p>I am trying to get data from web page with Perl LWP using https.\nI can get data from almost every site I have tried, except the one I really need to use.\nI am using Perl version v5.18.2 under Windows x64.\nThis is my basic dummy example:</p>\n\n<pre><code>use strict;\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse IO::Socket::SSL qw(debug3);\nmy $ua = LWP::UserAgent-&gt;new;\nmy $url = 'https://www.domainx.com:443';\nmy $req = HTTP::Request-&gt;new( GET =&gt; $url);\nmy $response = $ua-&gt;request($req);\nprint $response-&gt;status_line . \"\\n\";\n</code></pre>\n\n<p>And result for the response->status_line:\n<code>500 Can't connect to www.domainx.com:443</code></p>\n\n<p>Debug for SSL:</p>\n\n<pre><code>DEBUG: .../IO/Socket/SSL.pm:1890: new ctx 48125200\nDEBUG: .../IO/Socket/SSL.pm:393: socket not yet connected\nDEBUG: .../IO/Socket/SSL.pm:395: socket connected\nDEBUG: .../IO/Socket/SSL.pm:413: ssl handshake not started\nDEBUG: .../IO/Socket/SSL.pm:443: using SNI with hostname www.domainx.com\nDEBUG: .../IO/Socket/SSL.pm:466: set socket to non-blocking to enforce     timeout=180\nDEBUG: .../IO/Socket/SSL.pm:479: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:489: ssl handshake in progress\nDEBUG: .../IO/Socket/SSL.pm:499: waiting for fd to become ready: SSL wants a read first\nDEBUG: .../IO/Socket/SSL.pm:519: socket ready, retrying connect\nDEBUG: .../IO/Socket/SSL.pm:479: Net::SSLeay::connect -&gt; -1\nDEBUG: .../IO/Socket/SSL.pm:1359: SSL connect attempt failed with unknown error\nDEBUG: .../IO/Socket/SSL.pm:485: fatal SSL error: SSL connect attempt failed with unknown error error:14092105:SSL routines:SSL3_GET_SERVER_HELLO:wrong cipher returned\nDEBUG: .../IO/Socket/SSL.pm:1924: free ctx 48125200 open=48125200\nDEBUG: .../IO/Socket/SSL.pm:1932: OK free ctx 48125200\n</code></pre>\n\n<p>From checking the previous posts I tried to apply: ssl_opts => { verify_hostname => 0 }, but that didn\u2019t help.\nIf I try to connect to that same site with browser (IE or Chrome) it works just fine.</p>\n\n<p>Is this some certificate based error or what is going wrong here?</p>\n"}, {"tags": ["python", "perl", "exit-code"], "answers": [{"tags": [], "owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "is_accepted": true, "score": 1, "last_activity_date": 1449652851, "creation_date": 1449652851, "answer_id": 34174942, "question_id": 34174895, "link": "https://stackoverflow.com/questions/34174895/how-to-read-the-value-returned-by-sys-exit-and-store-it-in-a-variable/34174942#34174942", "title": "how to read the value returned by sys.exit() and store it in a variable", "body": "<p>If you run your python code in a normal shell you have the <code>$?</code> variable:</p>\n\n<pre><code>   $ python yourscript.py\n   $ echo $?  # this will echo the sys.exit value\n</code></pre>\n\n<p>This is also valid inside your perl script:</p>\n\n<pre><code> system(\"python yourscript.py\");\n\n if ($? == -1) {\n        print \"failed to execute: $!\\n\";\n    }\n    elsif ($? &amp; 127) {\n        printf \"child died with signal %d, %s coredump\\n\",\n        ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without';\n    }\n    else {\n        printf \"child exited with value %d\\n\", $? &gt;&gt; 8;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3970, "user_id": 1259136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e625127e670ba14c02082c8fde59dab?s=128&d=identicon&r=PG", "display_name": "venpa", "link": "https://stackoverflow.com/users/1259136/venpa"}, "is_accepted": false, "score": 1, "last_activity_date": 1449653117, "creation_date": 1449653117, "answer_id": 34175029, "question_id": 34174895, "link": "https://stackoverflow.com/questions/34174895/how-to-read-the-value-returned-by-sys-exit-and-store-it-in-a-variable/34175029#34175029", "title": "how to read the value returned by sys.exit() and store it in a variable", "body": "<p>If you are in windows use <code>%ERRORLEVEL%</code>:</p>\n\n<pre><code>CMDPROMPT&gt;python\nPython 2.7.3 (default, Apr 10 2012, 23:24:47) [MSC v.1500 64 bit (AMD64)] on win 32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.exit(-1)\nCMDPROMPT&gt;echo %ERRORLEVEL%\n-1\nCMDPROMPT&gt;python\nPython 2.7.3 (default, Apr 10 2012, 23:24:47) [MSC v.1500 64 bit (AMD64)]     on win 32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.exit(0)\nCMDPROMPT&gt;echo %ERRORLEVEL%\n0\nCMDPROMPT&gt;\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2524261, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a11298c94c626fe04978f12bd913655b?s=128&d=identicon&r=PG", "display_name": "user2524261", "link": "https://stackoverflow.com/users/2524261/user2524261"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1017, "favorite_count": 0, "accepted_answer_id": 34174942, "answer_count": 2, "score": 1, "last_activity_date": 1547667166, "creation_date": 1449652745, "last_edit_date": 1547667166, "question_id": 34174895, "link": "https://stackoverflow.com/questions/34174895/how-to-read-the-value-returned-by-sys-exit-and-store-it-in-a-variable", "title": "how to read the value returned by sys.exit() and store it in a variable", "body": "<p>I have a python script with <code>sys.exit(0)</code> or <code>sys.exit(-1)</code> in the end (0 or 1 depending on whether an error has occurred). How do I store this 0 or 1 in a variable? For example, in an environment variable or in a variable used by a perl script</p>\n"}, {"tags": ["mysql", "perl", "utf-8"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 2, "creation_date": 1449646451, "post_id": 34172925, "comment_id": 56092981, "body": "Print out the contents of the first couple of data items that are not matching and look at them.  Make sure you put something around it so you can see whitespace.  Then add this sample data to your question if you don&#39;t see the answer just by looking at it.  We can&#39;t answer this without the data."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 6, "last_activity_date": 1449653773, "creation_date": 1449653773, "answer_id": 34175283, "question_id": 34172925, "link": "https://stackoverflow.com/questions/34172925/how-to-compare-utf-8-data-against-the-same-data-saved-in-a-latin1-mysql-database/34175283#34175283", "title": "How to compare UTF-8 data against the same data saved in a Latin1 MySQL database table", "body": "<p>It seems to me that your data has been corrupted through double encoding.  Let's work through an example to understand what I mean.</p>\n\n<p>The Unicode character for the dash character '\u2013' (<a href=\"http://www.mclean.net.nz/ucf/?c=U+2013\" rel=\"noreferrer\">EN DASH</a>) is U+2013.  So in a Perl you could represent the character as <code>\"\\x{2013}\"</code>.  However in UTF-8, that character is represented as three bytes: E2 80 93.  Which we can see with a hex dump utility:</p>\n\n<pre><code>~$ perl -CO -E 'say \"\\x{2013}\"' | xxd\n0000000: e280 930a                                ....\n</code></pre>\n\n<p>So it's three bytes which together represent a single character.</p>\n\n<p>Now let's imagine, some process reads in those three bytes but doesn't decode the UTF-8.  Instead, the process interprets each byte as a Latin-1 character:</p>\n\n<ul>\n<li>E2 in Latin-1 is \u00e2 (SMALL LETTER A WITH CIRCUMFLEX)</li>\n<li>80 in Latin-1 is an unprintable control character (PADDING CHARACTER)</li>\n<li>93 in Latin-1 is an unprintable control character (SET TRANSMIT STATE)</li>\n</ul>\n\n<p>Now those three characters are obviously gibberish, but bear with me.  Let's say we encode each of those characters in UTF8:</p>\n\n<ul>\n<li>U+00E2 becomes C3 A2</li>\n<li>U+0080 becomes C2 80</li>\n<li>U+0093 becomes C2 93</li>\n</ul>\n\n<p>So one character \"\u2013\" has becomes 6 bytes: C3 A2 C2 80 C2 93</p>\n\n<p>Now if we make the same mistake again, and read those 6 bytes without decoding the UTF-8 to 3 characters, instead we end up with 6 Latin-1 characters. This time instead of using real Latin-1 we'll use Win-Latin-1 (CP1252) to interpret each byte the difference is that the unprintable control characters are replaced with printable characters like smart quotes:</p>\n\n<ul>\n<li>C3 is \u00c3</li>\n<li>A2 is \u00a2</li>\n<li>C2 is \u00c2 </li>\n<li>80 is \u20ac</li>\n<li>C2 is \u00c2</li>\n<li>93 is \u201c</li>\n</ul>\n\n<p>Those six characters together are: \u00c3\u00a2\u00c2\u20ac\u00c2\u201c \u2013 which you may recognise from your sample data.</p>\n\n<p>So in summary somewhere along the line it looks like you've taken a string of UTF-8 bytes and not decoded that into a Perl character string (it should happen automatically when mysql_enable_utf8 is enabled on the DBI connection). Then you've converted something which was already UTF-8 into UTF-8 but in the process corrupted the data.  Whether that was then repeated of whether pasting in here gave the second level of corruption is unclear.</p>\n\n<p>Unwinding double encoding is probably best avoided - go back to the original source data and try again.</p>\n"}, {"tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1449711980, "creation_date": 1449711980, "answer_id": 34192333, "question_id": 34172925, "link": "https://stackoverflow.com/questions/34172925/how-to-compare-utf-8-data-against-the-same-data-saved-in-a-latin1-mysql-database/34192333#34192333", "title": "How to compare UTF-8 data against the same data saved in a Latin1 MySQL database table", "body": "<p>The <strong>2-step ALTER</strong> should be used only when you</p>\n\n<ul>\n<li>wrote utf8 bytes</li>\n<li>with <code>SET NAMES latin1</code> in effect</li>\n<li>to a <code>CHARACTER SET latin1</code> column.</li>\n</ul>\n\n<p><strong>Comparing</strong> - Since <code>SET NAMES</code> (or equivalent) controls the conversion between the client and the server (and specifies the encoding for the client), you can read both tables (one utf8, one latin1) with the same <code>SET NAMES</code> and expect to get the <em>same</em> bytes/characters in the client.  At that point, virtually any <em>client</em> \"==\" will do the test you need for comparing.</p>\n\n<p>Comparing in the client is possibly 'safer', on the assumption that the client's view of the text is what you really need to check.</p>\n\n<p>Checking in SQL probably involves <code>CONVERT( ... USING ...)</code>, but I hesitate to say without testing.</p>\n\n<p><strong>Checking data</strong></p>\n\n<p>To see what is <em>really</em> stored, do something like</p>\n\n<pre><code>SELECT col, hex(col) FROM tbl WHERE ...\n</code></pre>\n\n<p>latin1 encodings will be 1 byte (2 hex characters); utf8 encodings (for at least Western European accented characters) will be 2 bytes (4 hex).  If you bet 4 bytes (8 hex), you have a different situation - \"double encoding\".</p>\n"}], "owner": {"reputation": 344, "user_id": 1254174, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/2416cff2f4d8dd65a5bf52228d86208a?s=128&d=identicon&r=PG", "display_name": "Ash_and_Perl", "link": "https://stackoverflow.com/users/1254174/ash-and-perl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1449711980, "creation_date": 1449645781, "last_edit_date": 1449675962, "question_id": 34172925, "link": "https://stackoverflow.com/questions/34172925/how-to-compare-utf-8-data-against-the-same-data-saved-in-a-latin1-mysql-database", "title": "How to compare UTF-8 data against the same data saved in a Latin1 MySQL database table", "body": "<p>I have the tedious task of converting a MySQL table which contains data in a Latin1 encoding.</p>\n\n<pre><code>CREATE TABLE q_data (\n    q_id int(11) NOT NULL DEFAULT '0',\n    label varchar(8) NOT NULL DEFAULT '',\n    text text NOT NULL,\n    points decimal(8,3) NOT NULL DEFAULT '0.000',\n    date_updated timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    KEY q_id (q_id)\n) ENGINE=InnoDB DEFAULT CHARSET = latin1\n</code></pre>\n\n<p>This is the <code>ALTER TABLE</code> command which I have executed on my table.</p>\n\n<pre><code>SET NAMES utf8;\nALTER TABLE q_data change text text blob;\nALTER TABLE q_data CONVERT TO CHARACTER SET utf8, change text text text;\n</code></pre>\n\n<p>Now I need to verify if all my data is converted correctly.\nSo I tried writing a small Perl code to fetch the data and compare it. But I am getting mismatch error. I am not sure what I am doing wrong here.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse FindBin;\nuse lib File::Spec-&gt;catdir( $FindBin::RealBin, File::Spec-&gt;updir, 'lib' );\nuse DBI qw(:utils);\n\n# DB Handle for the new DB where I have altered the table\nmy $dbh_utf8 = DBI-&gt;connect(\"DBI:mysql:database=data;host=xx-dev-1.xxxxx.com;port=3209\",\"aaaa\",\"xxxxxxx\",{PrintError =&gt; 1, mysql_enable_utf8 =&gt; 1 }) || die \"fail connecting to db_from\";\n\n# DB Handle for the OLD DB\nmy $dbh_latin = DBI-&gt;connect(\"DBI:mysql:database=data;host=xx-dev-1.xxxxx.com;port=3214\",\"aaaa\",\"xxxxxxx\",{PrintError =&gt; 1, RaiseError=&gt; 0 }) || die \"fail connecting to db_to\";\n\n# Fetching the rows which has UTF-8 Characters \nmy $sql = qq|SELECT *\n FROM  q_data\n WHERE length(text) &lt;&gt; char_length(text) \n ORDER BY q_id desc\n LIMIT 10000|;\n\n# Fetching the original data from the old DB in the UTF8 Format\nmy $sql1 = qq|SELECT q.*, CONVERT(CAST(CONVERT(q.text USING latin1) AS BINARY) USING utf8) AS text FROM q_data q WHERE q_id=? and label=?|;`\n\nmy $sth = $dbh_utf8-&gt;prepare($sql);\n$sth-&gt;execute;`\n\nwhile( my $data = $sth-&gt;fetchrow_hashref ) {\n    my $latin_data = $dbh_latin-&gt;selectrow_hashref($sql1, undef, $data-&gt;{q_id}, $data-&gt;{label});\n    print $latin_data-&gt;{text}, \"\\n\";\n    if (not defined $latin_data ) {\n        #print $data-&gt;{q_id}, \"\\t\", \"No Latin Data\", \"\\n\";\n    }\n    elsif ( $latin_data-&gt;{text} ne $data-&gt;{text} ) {\n         print $data-&gt;{q_id}, \"\\t\", $data-&gt;{label}, \"\\n\", \"\\n\", $latin_data-&gt;{text}, \"\\n\", $data-&gt;{text}, \"\\n\";\n    }\n}\n$sth-&gt;finish;\n$dbh_utf8-&gt;disconnect;\n$dbh_latin-&gt;disconnect;\n</code></pre>\n\n<p>I have this kind of data in the <code>q_data</code> table</p>\n\n<pre><code>INSERT INTO q_data (q_id, label, text, points, date_updated)\nVALUES('1880941','o14-l1','Clearly states classroom diversity \u00c3\u00a2\u00c2\u20ac\u00c2\u201c noting considerations for modalities of learning, exceptional students and students with special needs.','0.000','2015-12-03 09:50:57');\n</code></pre>\n\n<p>According to my assumption, I should not get any mismatched data. Please correct me if I am wrong. Is there any other way to verify this? Perhaps in MySQL itself? </p>\n\n<p>Here is the output which is printed when I run this script:</p>\n\n<pre><code>1889941 o14-l2\n\nClearly states classroom diversity \u00e2?? noting considerations for only one of the following: modalities of learning, exceptional students and students with special needs.\n\nClearly states classroom diversity \u00e2 noting considerations for only one of the following: modalities of learning, exceptional students and students with special needs.\n</code></pre>\n"}, {"tags": ["perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": true, "score": 7, "last_activity_date": 1449646646, "creation_date": 1449646646, "answer_id": 34173179, "question_id": 34172759, "link": "https://stackoverflow.com/questions/34172759/what-is-difference-between-installing-a-perl-module-and-copying-whole-folder/34173179#34173179", "title": "What is difference between installing a perl module and copying whole folder?", "body": "<p>A few off the top of my head:</p>\n\n<ul>\n<li>In case of an XS module, the code is compiled for the local platform.</li>\n<li>Installing a module via cpan usually runs the test suite so if there is any other reason beyond dependencies why it wouldn't work, you're told so (I guess that's very rare though)</li>\n<li>Regular installation automatically goes to a directory where your perl can find modules.</li>\n</ul>\n\n<p>Of course you can take care of all these yourself. These days chances are pretty good you're running either Linux or Windows on something x86-ish and as long as you only copy Linux to Linux and Windows to Windows, and to the same place as on the source system, you'll be fine. Basically that's what binary Linux distributions and ActivePerl packages do, too, and it may make sense e.g. if you want to avoid installing a whole bunch of compile-time dependencies on all target systems. Just make sure you don't get yourself into a mess by writing to system directories (e.g. <code>/usr/share/perl5</code>) that are supposed to be managed by your system's package manager.</p>\n"}], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 34173179, "answer_count": 1, "score": 6, "last_activity_date": 1451135829, "creation_date": 1449645169, "last_edit_date": 1451135829, "question_id": 34172759, "link": "https://stackoverflow.com/questions/34172759/what-is-difference-between-installing-a-perl-module-and-copying-whole-folder", "title": "What is difference between installing a perl module and copying whole folder?", "body": "<p>I have installed a perl module, say XYZ then a folder is created that contains many .pm files. I copied the folder and put it in any other system where XYZ is not installed. <br><br>So, I'm able to use methods of XYZ module in both system. I mean, I'm unable to find out the difference between these method, but I think there must be some. What I know is, when we install a perl module then dependencies also gets installed. Am I right? Can anyone mention other difference between two, if any?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449644667, "post_id": 34172416, "comment_id": 56092159, "body": "Have you printed out all the variables?  Especially the array?  Does it hold what you expected it to hold?  You didn&#39;t actually test that the file was opened successfully (add <code>or die</code> after the open, preferably with a suitable message).  I&#39;m mildly curious why you don&#39;t simply use <code>copy(&#39;base.smp&#39;, $filename);</code> too."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449645024, "post_id": 34172416, "comment_id": 56092305, "body": "Having indented the error message, you don&#39;t get to line 90 on a file you failed to open, so that isn&#39;t the problem. Do you have a blank line at the end of the file? The message quotes line 25 and a <code>print</code> operation; you&#39;ve not got 25 lines of code in the question or a <code>print</code> \u2014 so we&#39;re being asked to debug code we can&#39;t see.  That&#39;s not sensible.  Please make sure you create an MCVE (<a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example?</a>) and show us the error message from exactly the code you show. How many files do you think were in the directory?"}, {"owner": {"reputation": 15, "user_id": 5657794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891a0f8cafc6b04578d11962ff856469?s=128&d=identicon&r=PG&f=1", "display_name": "Huita", "link": "https://stackoverflow.com/users/5657794/huita"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449648211, "post_id": 34172416, "comment_id": 56093905, "body": "Jonathan Leffler, yes, i tried printing the stuff, everything was fine. As for copying, it didn&#39;t work with the $value in the same way if i remember it correctly, so i tried copying and renaming. Didn&#39;t help, heh."}, {"owner": {"reputation": 15, "user_id": 5657794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891a0f8cafc6b04578d11962ff856469?s=128&d=identicon&r=PG&f=1", "display_name": "Huita", "link": "https://stackoverflow.com/users/5657794/huita"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449648318, "post_id": 34172416, "comment_id": 56093967, "body": "About the other thing - yeah, i deleted all the prints i used to test this, sorry for the number being a bit wrong and now when i think of it, it does indeed talk about print. I will need to check it again. As for the file number, it was 90."}, {"owner": {"reputation": 15, "user_id": 5657794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891a0f8cafc6b04578d11962ff856469?s=128&d=identicon&r=PG&f=1", "display_name": "Huita", "link": "https://stackoverflow.com/users/5657794/huita"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449683140, "post_id": 34172416, "comment_id": 56117253, "body": "It was indeed the blank space."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5657794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891a0f8cafc6b04578d11962ff856469?s=128&d=identicon&r=PG&f=1", "display_name": "Huita", "link": "https://stackoverflow.com/users/5657794/huita"}, "edited": false, "score": 0, "creation_date": 1449683224, "post_id": 34172658, "comment_id": 56117312, "body": "Thanks, that&#39;s some very solid advice i plan to use later on."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 3, "last_activity_date": 1449681219, "last_edit_date": 1449681219, "creation_date": 1449644821, "answer_id": 34172658, "question_id": 34172416, "link": "https://stackoverflow.com/questions/34172416/perl-renaming-doesnt-work-for-value-filename/34172658#34172658", "title": "Perl: renaming doesn&#39;t work for $value filename", "body": "<p>First, here's some improved code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Copy;\n\nwhile (&lt;&gt;) {\n    chomp;\n    copy('base.smp', $_) or die $!;\n}\n</code></pre>\n\n<p>You'll save it as <code>script.pl</code> and invoke it like this:</p>\n\n<pre><code>$ perl script.pl C:\\blabla\\filelist.txt\n</code></pre>\n\n<p>In what ways is this code an improvement?</p>\n\n<ul>\n<li>It uses the core module <a href=\"https://metacpan.org/pod/File::Copy\" rel=\"nofollow\">File::Copy</a> instead of the deprecated <a href=\"https://metacpan.org/pod/File::NCopy\" rel=\"nofollow\">File::NCopy</a>.</li>\n<li>It uses the <a href=\"http://perldoc.perl.org/perlop.html#I%2FO-Operators\" rel=\"nofollow\">null filehandle</a> or \"diamond operator\" (<code>&lt;&gt;</code>) to implicitly iterate over a file given as a command line parameter, which is simple and elegant.</li>\n<li>It handles errors in the event that <code>copy()</code> fails for some reason.</li>\n<li>It doesn't use a <code>while</code> loop or a C-style <code>for</code> loop to iterate over an array, which are both prone to off-by-one errors and forgetting to re-assign the iterator, as you've discovered.</li>\n<li>It doesn't use the old 2-argument syntax for <code>open()</code>. (Well, not explicitly, but that's kind of beyond the scope of this answer.)</li>\n</ul>\n\n<blockquote>\n  <p>What am I doing wrong? I feel there's some kind of little mistake, a\n  syntax mistake probably, that keeps evading me.</p>\n</blockquote>\n\n<p>A syntax error would have resulted in an error message saying that there was a syntax error. But since you asked what you're doing wrong, let's walk through it:</p>\n\n<pre><code>use File::NCopy qw(copy);\n</code></pre>\n\n<p>This module was last updated in 2007 and is marked as deprecated. Don't use it.</p>\n\n<pre><code>open FILE, 'C:\\blabla\\filelist.txt';\n</code></pre>\n\n<p>You should use the three-argument form of <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">open</a>, use a lexical filehandle, and always check the return values of system calls.</p>\n\n<pre><code>my @filelist = &lt;FILE&gt;;\n</code></pre>\n\n<p>Rarely do you need to slurp an entire file into memory. In this case, you don't.</p>\n\n<pre><code>my $filelistnumber = @filelist + 1;\n</code></pre>\n\n<p>There's nothing inherently wrong with this line, but there is when you consider how you're using it later on. Remember that arrays are 0-indexed, so you've just set yourself up for an out of bounds array index. But we'll get to that in a second.</p>\n\n<pre><code>my $filename = $filelist[$file];\n</code></pre>\n\n<p>You would typically want to do this assignment inside your loop, lest you forget to update it after incrementing your counter (which is exactly what happened here).</p>\n\n<pre><code>while( $file &lt; $filelistnumber ){\n</code></pre>\n\n<p>This is an odd way to iterate over an array in Perl. You could use a typical <a href=\"http://perldoc.perl.org/perlsyn.html#For-Loops\" rel=\"nofollow\">C-style <code>for</code> loop</a>, but the most Perlish thing to do would be to use a <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow\"><code>foreach</code>-style loop</a>:</p>\n\n<pre><code>for my $element (@array) {\n    ...\n}\n</code></pre>\n\n<p>Each element of the list is localized to the loop, and you don't have to worry about counters, conditions, or array bounds.</p>\n\n<pre><code>copy('base.smp','temp.smp');\n</code></pre>\n\n<p>Again, always check the return values of system calls.</p>\n\n<pre><code>rename 'temp.smp', $filename;\n</code></pre>\n\n<p>No need to do a <code>copy</code> <em>and</em> a <code>rename</code>. You can copy to your final destination filename the first time. But if you <em>are</em> going to rename, always check the return values of system calls.</p>\n\n<pre><code>};\n</code></pre>\n\n<p>Blocks don't need to be terminated with a semicolon like <a href=\"http://perldoc.perl.org/perlsyn.html#Simple-Statements\" rel=\"nofollow\">simple statements</a> do. </p>\n"}, {"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449648409, "post_id": 34172666, "comment_id": 56094033, "body": "The file list has 90 lines in it; it&#39;s on the 90th line that the problem occurs.  But I agree about avoiding bare-word file handles."}, {"owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1449648974, "post_id": 34172666, "comment_id": 56094332, "body": "Try my edit. Looks like you may be reading a line that contains nothing? To avoid going outside the side of the size of an array use a for loop &quot;for my $i (0..$#array) { }&quot;"}, {"owner": {"reputation": 15, "user_id": 5657794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891a0f8cafc6b04578d11962ff856469?s=128&d=identicon&r=PG&f=1", "display_name": "Huita", "link": "https://stackoverflow.com/users/5657794/huita"}, "edited": false, "score": 0, "creation_date": 1449649610, "post_id": 34172666, "comment_id": 56094689, "body": "I&#39;ll try this, yes, thanks. TBH i was already doing $filename = $filelist[$file]; at the beginning of loop, but i accidentially removed it from the file when copying code here. And yeah, i&#39;ll try getting rid of +1 since the last line it tries to read is probably blank as Jonathan suggested. That&#39;s a nice for and i&#39;ll try it, too."}], "tags": [], "owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "is_accepted": true, "score": 0, "last_activity_date": 1449648785, "last_edit_date": 1449648785, "creation_date": 1449644857, "answer_id": 34172666, "question_id": 34172416, "link": "https://stackoverflow.com/questions/34172416/perl-renaming-doesnt-work-for-value-filename/34172666#34172666", "title": "Perl: renaming doesn&#39;t work for $value filename", "body": "<p>You should avoid using bareword file handles. When opening you should open using a file reference like and make sure you catch it if it fails:</p>\n\n<pre><code>open(my $fh, '&lt;', 'C:\\blabla\\filelist.txt') or die \"Cannot open filelist.txt: $!\";\n</code></pre>\n\n<p>The $fh variable will contain your file reference.</p>\n\n<p>For your problem it looks as though your filelist.txt must be empty. Try using Data::Dumper to print out your @filelist to determine it's contents.</p>\n\n<pre><code>use Data::Dumper;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Looks like you are also wanting to be setting the $filename variable to the next one in the list for each iteration, so put <code>$filename = $filelist[$file];</code> at the beginning of your loop.</p>\n\n<p>Your problem could be that you are looping too far? Try getting rid of the <code>+ 1</code> in <code>my $filelistnumber = @filelist + 1;</code></p>\n"}], "owner": {"reputation": 15, "user_id": 5657794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/891a0f8cafc6b04578d11962ff856469?s=128&d=identicon&r=PG&f=1", "display_name": "Huita", "link": "https://stackoverflow.com/users/5657794/huita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "closed_date": 1450421141, "accepted_answer_id": 34172666, "answer_count": 2, "score": 1, "last_activity_date": 1449681219, "creation_date": 1449643809, "last_edit_date": 1449644851, "question_id": 34172416, "link": "https://stackoverflow.com/questions/34172416/perl-renaming-doesnt-work-for-value-filename", "closed_reason": "Not suitable for this site", "title": "Perl: renaming doesn&#39;t work for $value filename", "body": "<p>I want to fill the folder with copies of the same file that would be called differently. I created a <code>filelist.txt</code> to get filenames using Windows <code>cmd</code> and then the following code:</p>\n\n<pre><code>use strict;    # safety net\nuse warnings;  # safety net\nuse File::NCopy qw(copy);\n\nopen FILE, 'C:\\blabla\\filelist.txt';\nmy @filelist = &lt;FILE&gt;;\nmy $filelistnumber = @filelist + 1;\nmy $file = 0;\n## my $filename = 'null.txt';\nmy $filename = $filelist[$file];\n\n\nwhile( $file &lt; $filelistnumber ){\n\n    copy('base.smp','temp.smp');\n    rename 'temp.smp', $filename;\n\n    $file = $file + 1;\n\n};\n</code></pre>\n\n<p>If I try renaming it into 'test.smp' or whatever, it works. If I try the code above, I get this:</p>\n\n<pre><code>Use of uninitialized value $filename in print at blablabla/bla/bla.pl line 25, &lt;FILE&gt; line 90.\n</code></pre>\n\n<p>What am I doing wrong? I feel there's some kind of little mistake, a syntax mistake probably, that keeps evading me.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 4688, "user_id": 1847471, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/zBMM1.png?s=128&g=1", "display_name": "MervS", "link": "https://stackoverflow.com/users/1847471/mervs"}, "edited": false, "score": 0, "creation_date": 1449643656, "post_id": 34172302, "comment_id": 56091752, "body": "Doesn&#39;t seem to work. I still get <code>green</code> for <code>$color</code>."}, {"owner": {"reputation": 4688, "user_id": 1847471, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/zBMM1.png?s=128&g=1", "display_name": "MervS", "link": "https://stackoverflow.com/users/1847471/mervs"}, "edited": false, "score": 0, "creation_date": 1449644044, "post_id": 34172302, "comment_id": 56091918, "body": "What if I have another color before red? For example, <code>&quot;colors: yellow-00FFFF,red-FF0000,green-00FF00,blue-0000FF&quot;</code>."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 4688, "user_id": 1847471, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/zBMM1.png?s=128&g=1", "display_name": "MervS", "link": "https://stackoverflow.com/users/1847471/mervs"}, "edited": false, "score": 0, "creation_date": 1449644332, "post_id": 34172302, "comment_id": 56092031, "body": "@MrvS: Then change this <code>(red|green)</code> with <code>(red|green|yellow)</code> and you will get first color i.e. yellow. You should test it from yourself."}, {"owner": {"reputation": 183, "user_id": 4172954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02d5b49c9e582918b33377fed890364?s=128&d=identicon&r=PG&f=1", "display_name": "Thaha", "link": "https://stackoverflow.com/users/4172954/thaha"}, "edited": false, "score": 0, "creation_date": 1449644484, "post_id": 34172302, "comment_id": 56092092, "body": "@serenesat: Your regex expects one of the colors from the <code>(red|green|yellow)</code> to be immediately present after the \\s+. if you are searching for <code>(blue|green)</code> in the above string, it won&#39;t work."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 183, "user_id": 4172954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02d5b49c9e582918b33377fed890364?s=128&d=identicon&r=PG&f=1", "display_name": "Thaha", "link": "https://stackoverflow.com/users/4172954/thaha"}, "edited": false, "score": 0, "creation_date": 1449644609, "post_id": 34172302, "comment_id": 56092136, "body": "@Thaha: Did you not read this line &#39;<i>to get the first matching color in the pipe list</i>&#39; in question? OP wants to match first color and for that above code is working fine."}, {"owner": {"reputation": 4688, "user_id": 1847471, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/zBMM1.png?s=128&g=1", "display_name": "MervS", "link": "https://stackoverflow.com/users/1847471/mervs"}, "edited": false, "score": 0, "creation_date": 1449645024, "post_id": 34172302, "comment_id": 56092306, "body": "Seems my question was not clear. As I have said, there can still be other text before red, etc. It can be a color or not which I do not need."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1449643712, "last_edit_date": 1449643712, "creation_date": 1449643389, "answer_id": 34172302, "question_id": 34172241, "link": "https://stackoverflow.com/questions/34172241/regex-first-match-on-or-operation/34172302#34172302", "title": "Regex first match on or operation", "body": "<p>Remove the <code>.*</code> after whitespace match <code>\\s+</code>:</p>\n\n<pre><code>my ($color,$hex) = $text =~ /colors\\:\\s+(red|green)-(.*?),.*/;\n</code></pre>\n\n<p>Here is code:</p>\n\n<pre><code>my $text = \"colors: red-FF0000,green-00FF00,blue-0000FF\";\n\nmy ($color,$hex) = $text =~ /colors\\:\\s+(red|green)-(.*?),.*/;\n\nprint \"$color : $hex\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>red : FF0000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4688, "user_id": 1847471, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/zBMM1.png?s=128&g=1", "display_name": "MervS", "link": "https://stackoverflow.com/users/1847471/mervs"}, "edited": false, "score": 0, "creation_date": 1449645040, "post_id": 34172514, "comment_id": 56092316, "body": "This. Worked for my case."}], "tags": [], "owner": {"reputation": 183, "user_id": 4172954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02d5b49c9e582918b33377fed890364?s=128&d=identicon&r=PG&f=1", "display_name": "Thaha", "link": "https://stackoverflow.com/users/4172954/thaha"}, "is_accepted": true, "score": 1, "last_activity_date": 1449644236, "creation_date": 1449644236, "answer_id": 34172514, "question_id": 34172241, "link": "https://stackoverflow.com/questions/34172241/regex-first-match-on-or-operation/34172514#34172514", "title": "Regex first match on or operation", "body": "<p><code>.*</code> before the <code>(red|green)</code> is the problem. It does a greedy matching, eating your <code>red</code> portion and then finding a match at <code>green</code>. You need to make it non-greedy by placing a <code>?</code> after it.</p>\n\n<pre><code>($color,$hex) = $text =~ /colors\\:\\s+.*?(red|green)-(.*?),.*/\n</code></pre>\n\n<p>This would work.</p>\n"}], "owner": {"reputation": 4688, "user_id": 1847471, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/zBMM1.png?s=128&g=1", "display_name": "MervS", "link": "https://stackoverflow.com/users/1847471/mervs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 34172514, "answer_count": 2, "score": 0, "last_activity_date": 1449644236, "creation_date": 1449643128, "question_id": 34172241, "link": "https://stackoverflow.com/questions/34172241/regex-first-match-on-or-operation", "title": "Regex first match on or operation", "body": "<p>Assume we have the following string:</p>\n\n<pre><code>$text = \"colors: red-FF0000,green-00FF00,blue-0000FF\";\n</code></pre>\n\n<p>If I want to check the Hex value if the string contains <code>red</code> I would use the following statement:</p>\n\n<pre><code>($color,$hex) = $text =~ /colors\\:\\s+.*(red)-(.*?),.*/\n</code></pre>\n\n<p>I would get the values <code>red</code> and <code>00FF00</code> for each respective variable. All is well at this point.</p>\n\n<p>Now, say I want to check if the string contains either <code>red</code> or <code>green</code> but get only the <strong>first</strong> occurring color. I tried</p>\n\n<pre><code>($color,$hex) = $text =~ /colors\\:\\s+.*(red|green)-(.*?),.*/\n</code></pre>\n\n<p>but I would get <code>green</code> for <code>$color</code> instead of <code>red</code>. Is there a way to fix the RegEx to get the first matching color in the pipe list? I tried using <code>(red|green)?</code> but it seems this is not valid.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 1648511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5428914cd1aac381bdb3327030c742fd?s=128&d=identicon&r=PG", "display_name": "Jun Zhou", "link": "https://stackoverflow.com/users/1648511/jun-zhou"}, "edited": false, "score": 0, "creation_date": 1449647041, "post_id": 34172932, "comment_id": 56093289, "body": "Question updated. some conditions missed, it&#39;s my bad, sorry."}, {"owner": {"reputation": 183, "user_id": 4172954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02d5b49c9e582918b33377fed890364?s=128&d=identicon&r=PG&f=1", "display_name": "Thaha", "link": "https://stackoverflow.com/users/4172954/thaha"}, "reply_to_user": {"reputation": 23, "user_id": 1648511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5428914cd1aac381bdb3327030c742fd?s=128&d=identicon&r=PG", "display_name": "Jun Zhou", "link": "https://stackoverflow.com/users/1648511/jun-zhou"}, "edited": false, "score": 0, "creation_date": 1449648859, "post_id": 34172932, "comment_id": 56094262, "body": "Answer Updated. If you just give <code>all directions are</code> in the beginning, this will work, right? Or am I missing something here?"}], "tags": [], "owner": {"reputation": 183, "user_id": 4172954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02d5b49c9e582918b33377fed890364?s=128&d=identicon&r=PG&f=1", "display_name": "Thaha", "link": "https://stackoverflow.com/users/4172954/thaha"}, "is_accepted": false, "score": 0, "last_activity_date": 1449648817, "last_edit_date": 1449648817, "creation_date": 1449645796, "answer_id": 34172932, "question_id": 34172142, "link": "https://stackoverflow.com/questions/34172142/perl-regex-how-to-capture-multi-group-use-only-one-express/34172932#34172932", "title": "perl regex: how to capture multi group use only one express?", "body": "<p>Are you looking for something like this?</p>\n\n<pre><code>my $text = \"all directions are: nw, sw, se, w, ..., s and e.\";\n\nif( $text =~ /all directions are:\\s+(([^,]+,\\s+)+)(\\w+)\\s+and\\s+(\\w+)\\./)\n{\n    print \"$1 $3, $4\\n\";\n}\n</code></pre>\n\n<p>Output: \n<code>nw, sw, se, w, ...,  s, e</code></p>\n\n<p>Explanation:</p>\n\n<p><code>([^,]+,\\s+)</code> matches a directory name followed by a comma (<code>,</code>) and some spaces. This can repeat <code>n</code> number of times in the string.</p>\n\n<p>Then we have to match the <code>x and y</code> part. <code>(\\w+)\\s+and\\s+(\\w+)\\.</code> will take care of that.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 1648511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5428914cd1aac381bdb3327030c742fd?s=128&d=identicon&r=PG", "display_name": "Jun Zhou", "link": "https://stackoverflow.com/users/1648511/jun-zhou"}, "edited": false, "score": 0, "creation_date": 1449647523, "post_id": 34173104, "comment_id": 56093529, "body": "Thanks. I can use only one regex in case, it sounds a impossible mission."}, {"owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "reply_to_user": {"reputation": 23, "user_id": 1648511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5428914cd1aac381bdb3327030c742fd?s=128&d=identicon&r=PG", "display_name": "Jun Zhou", "link": "https://stackoverflow.com/users/1648511/jun-zhou"}, "edited": false, "score": 0, "creation_date": 1449647680, "post_id": 34173104, "comment_id": 56093613, "body": "Yeah looks like that&#39;s not possible. This is more of a parsing problem. You can&#39;t do everything with regex."}], "tags": [], "owner": {"reputation": 517, "user_id": 1790431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/562224a0d80bd2dd82519d1502cac09c?s=128&d=identicon&r=PG", "display_name": "Phyreprooph", "link": "https://stackoverflow.com/users/1790431/phyreprooph"}, "is_accepted": true, "score": 0, "last_activity_date": 1449646349, "last_edit_date": 1495541245, "creation_date": 1449646349, "answer_id": 34173104, "question_id": 34172142, "link": "https://stackoverflow.com/questions/34172142/perl-regex-how-to-capture-multi-group-use-only-one-express/34173104#34173104", "title": "perl regex: how to capture multi group use only one express?", "body": "<p>It is not possible capture in one expression as explained here: <a href=\"https://stackoverflow.com/questions/464736/python-regular-expressions-how-to-capture-multiple-groups-from-a-wildcard-expr#464755\">Python regular expressions - how to capture multiple groups from a wildcard expression?</a></p>\n\n<p>A soultion to your problem might be this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $text = \"all directions are: nw, sw, se, w, ..., s and e.\";\nmy @capture;\nif($text =~ s/all directions are: (\\w+),\\s+(.*)/$2/) {\n    push @capture, $1;\n    while($text =~ s/(\\w+),\\s+(.*)/$2/) {\n        push @capture, $1;\n    }\n    if($text =~ /(\\w+)\\s+and\\s+(\\w+)\\./) {\n        push @capture, $1;\n        push @capture, $2;\n    }\n}\nprint Dumper \\@capture;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1449647790, "creation_date": 1449647790, "answer_id": 34173488, "question_id": 34172142, "link": "https://stackoverflow.com/questions/34172142/perl-regex-how-to-capture-multi-group-use-only-one-express/34173488#34173488", "title": "perl regex: how to capture multi group use only one express?", "body": "<p>While, as Phyreprooph has explained, it's not possible with a single expression, you could use the <code>/g</code> (\"global\") modifier to match multiple times and yield a list of matches like this:</p>\n\n<pre><code>if(/all directions are:\\s*(.*)/) {\n    @dir = $1 =~ /(\\.\\.\\.|\\b[nsew]{1,2}\\b)/g;\n    print \"{\", join(\", \", @dir), \"}\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 1648511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5428914cd1aac381bdb3327030c742fd?s=128&d=identicon&r=PG", "display_name": "Jun Zhou", "link": "https://stackoverflow.com/users/1648511/jun-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1450817930, "accepted_answer_id": 34173104, "answer_count": 3, "score": 2, "last_activity_date": 1449648817, "creation_date": 1449642671, "last_edit_date": 1449646999, "question_id": 34172142, "link": "https://stackoverflow.com/questions/34172142/perl-regex-how-to-capture-multi-group-use-only-one-express", "closed_reason": "Needs more focus", "title": "perl regex: how to capture multi group use only one express?", "body": "<pre><code>Text 1 \uff1a \ndo not match: nw, n, s and somethingelse.\nall directions are: n, w, s and e.\nExpect \uff1a{n, w, s, e}\n\n\nText 2 \uff1a \ndo not match: nw, n, s and somethingelse.\nall directions are: nw, sw, se, w, ..., s and e.\nExpect \uff1a{nw, sw, se, w, ..., s, e} \n</code></pre>\n\n<p>Is it possible to capture all directions in one express?</p>\n"}, {"tags": ["regex", "perl", "replace", "line", "config"], "comments": [{"owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1449644414, "post_id": 34171860, "comment_id": 56092064, "body": "I am trying to just mach the blocks first using this $config =~ /(line\\s<i>template.</i>!)$/ms;  This is just for line template"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1449644472, "post_id": 34171860, "comment_id": 56092087, "body": "Please add your code into question and expected output."}, {"owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1450030335, "post_id": 34171860, "comment_id": 56250568, "body": "serenesat I have pasted the tried code its just replacing the first line vty block but stops at the second consecutive block. Hope you will get what i am trying here.."}], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 5683411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef57d432c88881f4e9f9f52347d8a8a?s=128&d=identicon&r=PG", "display_name": "Ken Schumack", "link": "https://stackoverflow.com/users/5683411/ken-schumack"}, "is_accepted": false, "score": 1, "last_activity_date": 1450422547, "creation_date": 1450422547, "answer_id": 34350186, "question_id": 34171860, "link": "https://stackoverflow.com/questions/34171860/remove-a-line-config-block-from-a-device-config-using-regex-in-perl/34350186#34350186", "title": "Remove a line config block from a device config using regex in perl", "body": "<p>I find it helpful to sometimes write the code exactly how you would describe the problem. If I understand you correctly you want to rewrite some lines that contain \"line\" blocks. Some line blocks are \"line vty\" blocks and you want to replace their contents with something else. You get to the end of a block either when you read a ! or the start of a new line block. Here is your code rewritten a bit to match my understanding of the problem and using your $config scalar holding the lines:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nsub printBlock($$); #declare sub taking 2 parameters\nmy $config = \"enable password xyz\nenable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY\nip classless\nip subnet-zero\nno ip domain lookup\nline vty 0 7\n transport input ssh telnet\n exec-timeout 720 0\n password xyz\n login\nline vty 0 8\n exec-timeout 720 0\nline con 0\n password xyz\n!\nline template vty\ntimestamp\nexec-timeout 720 0\n!\nline template vty\ntimestramp\nline console\nexec-timeout 0 0\n!\";\n\nprint \"$config\\n========== old above ============= new below =================\\n\";\n# DEBUG adding * to the start of lines so replacements are easy to see....\nmy $ios_line_vty_config = \"*line vty 0 4\\n*transport input ssh telnet\\n*exec-timeout 720 0\\n*password abc\\n*login local\\n*!\\n\";\nmy @config_lines = split(/\\n/, $config);\nmy $block = \"\";\nfor my $line (@config_lines)\n{\n    $line =~ s/\\s+$//; # remove trailing white space - make consistent\n    if ($line =~ m/^line/) #start of block\n    {\n        printBlock($block, $ios_line_vty_config);\n        $block = \"$line\\n\";\n    }\n    elsif ($line =~ m/^!?$/) # ! or empty line signals end of block\n    {\n        $block .= \"$line\\n\";\n        printBlock($block, $ios_line_vty_config);\n        $block = \"\"; #reset\n    }\n    elsif ($block) # in block\n    {\n        $block .= \"$line\\n\";\n    }\n    else # outside of a block\n    {\n        print \"$line\\n\";\n    }\n}\nprintBlock($block, $ios_line_vty_config);\n\nsub printBlock($$)\n{\n    my $block = shift;\n    my $replacement = shift;\n    #decide here if replacing block ...\n    $block = $replacement if ($block =~ m/line\\s+vty/s); # replace block if it is a \"line vty\" block...\n    print $block if ($block);\n}\n</code></pre>\n\n<p>And here is what I see as output: Note I put *'s in front of the replacement lines so it was easier to debug.</p>\n\n<pre><code>schumack@daddyo2 12-18T0:45:59 312&gt; ./test.pl\nenable password xyz\nenable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY\nip classless\nip subnet-zero\nno ip domain lookup\nline vty 0 7\n transport input ssh telnet\n exec-timeout 720 0\n password xyz\n login\nline vty 0 8\n exec-timeout 720 0\nline con 0\n password xyz\n!\nline template vty\ntimestamp\nexec-timeout 720 0\n!\nline template vty\ntimestramp\nline console\nexec-timeout 0 0\n!\n========== old above ============= new below =================\nenable password xyz\nenable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY\nip classless\nip subnet-zero\nno ip domain lookup\n*line vty 0 4\n*transport input ssh telnet\n*exec-timeout 720 0\n*password abc\n*login local\n*!\n*line vty 0 4\n*transport input ssh telnet\n*exec-timeout 720 0\n*password abc\n*login local\n*!\nline con 0\n password xyz\n!\nline template vty\ntimestamp\nexec-timeout 720 0\n!\nline template vty\ntimestramp\nline console\nexec-timeout 0 0\n!\n</code></pre>\n\n<p>There are two line block replacements which I think is what you were looking for.</p>\n"}], "owner": {"reputation": 83, "user_id": 3669003, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1510334485/picture?type=large", "display_name": "Vivek Sharma", "link": "https://stackoverflow.com/users/3669003/vivek-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1450422953, "creation_date": 1449641383, "last_edit_date": 1450422953, "question_id": 34171860, "link": "https://stackoverflow.com/questions/34171860/remove-a-line-config-block-from-a-device-config-using-regex-in-perl", "title": "Remove a line config block from a device config using regex in perl", "body": "<p>I am working on a perl based project. I have a device config in the form of a string. I want to replace all the line configuration blocks with some other template using regex.</p>\n\n<p>I have 4 types of line configurations in my device config :-</p>\n\n<ol>\n<li><p>line vty</p></li>\n<li><p>line console or line con</p></li>\n<li><p>line template</p></li>\n<li><p>line default </p></li>\n</ol>\n\n<p>So I want to replace the complete block of line configuration with my own set of lines.</p>\n\n<p>Example :-</p>\n\n<pre><code>$config = \"enable password xyz\nenable secret 4 tnhtc92DXBhelxjYk8LWJrPV36S2i4ntXrpb4RFmfqY\nip classless\nip subnet-zero\nno ip domain lookup\nline vty 0 7\n transport input ssh telnet\n exec-timeout 720 0\n password xyz\n login\nline vty 0 8\n exec-timeout 720 0\nline con 0\n password xyz\n!\nline template vty\ntimestamp\nexec-timeout 720 0\n!\nline template vty\ntimestramp\nline console\nexec-timeout 0 0\n!\";\n</code></pre>\n\n<p>Usually after each line config block there is a exclamation mark as a delimiter, but there can be a case when it is just a new line so i need to handle that also.</p>\n\n<p>The approach that I am thinking is check for the word line in the config and check till the ! (exclamation mark as delimiter).</p>\n\n<p>I tried the following code :- </p>\n\n<pre><code>my $ios_line_vty_config = \"line vty 0 4\\ntransport input ssh telnet\\nexec-timeout 720 0\\npassword abc\\nlogin local\\n!\\n\";\n\nmy $sub_os_type = \"IOSv\";\n\nmy $vty_flag = 0;\n\nmy @config_lines = split /\\n/, $node_config;\n\nfor my $line(@config_lines){\n\n    if (!$vty_flag &amp;&amp; $line =~ /^line\\s+vty.*/){\n          $vty_flag = 1;\n          print \"\\nline vty Matched:: Remove line---&gt; $line \\n\";\n          $line = '';\n          next;\n       }\n       print \"flag = $vty_flag\\n\";\n       if ($vty_flag){\n\n          if($line =~ /!|line/){\n            print \"line = $line\\n\";\n\n            if ($sub_os_type eq \"IOSv\"){\n              $line = $ios_line_vty_config.$line;\n            }\n            print \"\\nReplaced Line ---------&gt; $line \\n\";\n            $vty_flag = 0;\n          }\n          else {\n          print \"\\nRemoved Line ---------&gt; \\n\\n$line \\n\";\n          print \"\\nsub_os_type :: $sub_os_type\\n\";\n          $line = '';\n        }\n       }\n\n}\n</code></pre>\n\n<p>How can I do this ? Please help me out..!!!</p>\n"}, {"tags": ["windows", "perl", "svn"], "comments": [{"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 2, "creation_date": 1449645273, "post_id": 34171734, "comment_id": 56092401, "body": "Are you sure it&#39;s not working? If the current working directory was somewhere you didn&#39;t expect, my guess would be that the output just ends up there and you&#39;re not seeing it. Even without <code>use strict</code> and  <code>use warnings</code>, you should get an error message about output to closed file handle if there had been any error opening the file."}, {"owner": {"reputation": 145, "user_id": 5580307, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73a34706a85264d705db5f9b9bd36ab?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Raju", "link": "https://stackoverflow.com/users/5580307/karthik-raju"}, "reply_to_user": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1449731764, "post_id": 34171734, "comment_id": 56137286, "body": "The script is running fine when we run it, and also when we call the perl script with batch script then also it is running fi Since the batch script is SVN&#39;s Hook script, so this is script has to call when ever we commit the changes, but it is not running as expecting.  I&#39;m new to hook script, should i need to add any svn commands in perl to run this script ???"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 1, "creation_date": 1449760587, "post_id": 34171734, "comment_id": 56155280, "body": "I haven&#39;t used SVN hooks in more than a decade so I&#39;m not sure but it would surprise me if you had to do anything special there. Try adding some <code>echo</code> at the end of the batch file so you are sure the hook is called correctly and the batch executes until after the perl call, and then use an absolute path instead of &quot;hello.txt&quot; so you don&#39;t depend on the current working directory being set to something known."}], "owner": {"reputation": 145, "user_id": 5580307, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73a34706a85264d705db5f9b9bd36ab?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Raju", "link": "https://stackoverflow.com/users/5580307/karthik-raju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449641840, "creation_date": 1449640729, "last_edit_date": 1449641840, "question_id": 34171734, "link": "https://stackoverflow.com/questions/34171734/cant-able-to-run-perl-script-through-post-commit-bat-file", "title": "Can&#39;t able to run perl script through post-commit.bat file", "body": "<p>On windows I've a perl script which will create a file &amp; add content to that.</p>\n\n<p>When I run the script it is working fine, \nand even it is working fine when I call this through <code>.bat</code> script.</p>\n\n<p><strong>perl script:-</strong></p>\n\n<pre><code>open IN,\"&gt;hello.txt\";\nprint IN \"hi\";\nclose(IN);\n</code></pre>\n\n<p><strong>post-commit.bat</strong></p>\n\n<pre><code>PATH=C:\\Perl64\\bin\nperl D:\\Repositories\\HooksExample\\hooks\\ExecuteJenkinsBuild.pl\n</code></pre>\n\n<p>But when I test this with <strong>SVN hook \"post-commit.bat\"</strong> (modifying the file and committing) file then it is not calling the perl script and not showing any error message.</p>\n\n<p>Can any one please help on this?</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1449639644, "creation_date": 1449639644, "answer_id": 34171494, "question_id": 34171332, "link": "https://stackoverflow.com/questions/34171332/rewrite-http-to-https-on-mojolicious/34171494#34171494", "title": "Rewrite HTTP to HTTPS on Mojolicious", "body": "<p>You can't, at least not directly. While you could use iptables or similar to forward port 80 to 443, in practice that wouldn't work because the browser doesn't expect to have to do an SSL handshake for a plain HTTP URI. You have to run a trivial web app on port 80 (probably with a separate Hypnotoad or similar) that answers every request with a redirect to HTTPS -- probably either to some login page or to the same URI as requested with just the scheme changed.</p>\n"}, {"tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": false, "score": 1, "last_activity_date": 1449762295, "last_edit_date": 1495541748, "creation_date": 1449677939, "answer_id": 34183731, "question_id": 34171332, "link": "https://stackoverflow.com/questions/34171332/rewrite-http-to-https-on-mojolicious/34183731#34183731", "title": "Rewrite HTTP to HTTPS on Mojolicious", "body": "<p>According to this <a href=\"https://stackoverflow.com/questions/34169375/mojolicious-over-https\">post</a> your server listen only 443 port. So you should add another application to handle 80 port.</p>\n\n<p>The best way to add nginx or apache in front of hypnotoad and do it there (redirect, rewrite).</p>\n\n<p>But if you don't want to have nginx, you may write Mojolicious application\nwhich listen <a href=\"https://metacpan.org/pod/Mojo::Server::Daemon#listen\" rel=\"nofollow noreferrer\">two ports</a> and have hook <a href=\"https://metacpan.org/pod/distribution/Mojolicious/lib/Mojolicious/Guides/Routing.pod#Hooks\" rel=\"nofollow noreferrer\">before_dispatch</a> wich handle all requests and make redirect changing only scheme.</p>\n\n<p>If you want i may to attempt to write such minimal example. </p>\n\n<p>Upd. I decide to add <a href=\"https://gist.github.com/Logioniz/5776c0cf2d18992235cf\" rel=\"nofollow noreferrer\">example</a></p>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449762295, "creation_date": 1449638721, "question_id": 34171332, "link": "https://stackoverflow.com/questions/34171332/rewrite-http-to-https-on-mojolicious", "title": "Rewrite HTTP to HTTPS on Mojolicious", "body": "<p>I am running a Mojolicious app on Hypnotoad. It is listening to port 443 and it can be accessed through https.</p>\n\n<p>how can I forward all HTTP request to HTTPS?</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1449625909, "post_id": 34169375, "comment_id": 56086231, "body": "You have to configure your web server (Apache, IIS etc) to perform the SSL encryption. Mojolicious is a web framework, not a web server."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1449628744, "post_id": 34169375, "comment_id": 56086989, "body": "@stevieb the question suggests that the app is using Hypnotoad which is indeed a web server and can support TLS - <a href=\"https://metacpan.org/pod/Mojo::Server::Daemon#listen\" rel=\"nofollow noreferrer\">this page</a> has some config details. While you can put Apache or Nginx in front of hypnotoad, that might not work well if websockets were being used."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1449737660, "post_id": 34171216, "comment_id": 56140261, "body": "I ended up doing it with an nginx reverse proxy in front."}], "tags": [], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "is_accepted": false, "score": 13, "last_activity_date": 1552334085, "last_edit_date": 1552334085, "creation_date": 1449638070, "answer_id": 34171216, "question_id": 34169375, "link": "https://stackoverflow.com/questions/34169375/mojolicious-over-https/34171216#34171216", "title": "Mojolicious over HTTPS", "body": "<p>Found how to do it: </p>\n\n<pre><code>sub startup {\nmy $self = shift;\n$self-&gt;secrets(['secretphrase']);\n$self-&gt;config(hypnotoad =&gt; {\n      listen =&gt; ['https://*:443?cert=/etc/tls/domain.crt&amp;key=/etc/tls/domain.key']\n  });\n</code></pre>\n"}], "owner": {"reputation": 708, "user_id": 2348668, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/01a3034479d75cafcbb36061ed78cdf9?s=128&d=identicon&r=PG", "display_name": "user2348668", "link": "https://stackoverflow.com/users/2348668/user2348668"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2190, "favorite_count": 5, "answer_count": 1, "score": 8, "last_activity_date": 1552334085, "creation_date": 1449625533, "last_edit_date": 1458003722, "question_id": 34169375, "link": "https://stackoverflow.com/questions/34169375/mojolicious-over-https", "title": "Mojolicious over HTTPS", "body": "<p>I am using Mojolicious for a web app that requires an encrypted connection, but I don't know how to add SSL support to Mojolicious. </p>\n\n<p>My coworker sent me these: files domain.key, domain-bundle.crt, domain.crt </p>\n\n<p>and my Mojolicious startup looks like this: </p>\n\n<pre><code>sub startup {\nmy $self = shift;\n$self-&gt;secrets(['secretphrase']);\n$self-&gt;config(hypnotoad =&gt; {listen =&gt; ['http://*:80']});\n</code></pre>\n\n<p>How can I add HTTPS support without having to use a reverse-proxy</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449619913, "post_id": 34168300, "comment_id": 56084454, "body": "hum... you shouldn&#39;t be touch <code>@INC</code> in a module."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1449620007, "post_id": 34168300, "comment_id": 56084482, "body": "Besides, if one of your modules was loaded, that means <code>@INC</code> already contains the path to your modules. Your request makes no sense. Which brings me back to my first comment. You shouldn&#39;t touch <code>@INC</code> in a module"}, {"owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449622118, "post_id": 34168300, "comment_id": 56085151, "body": "@ikegami The modules are located in different directories.  The modules for may main program in one location. The umm..lets call them plugin modules that will be added regularly are located elsewhere, owing to how they are added.  I know the relative path from one to the other, but they are not, and will not, be in the same directory.  As to INC, I would prefer not to have to modify it at all, though both the INC and require do that if a path is provided to them, so clearly it&#39;s not that uncommon for people to add values to INC"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449622395, "post_id": 34168300, "comment_id": 56085239, "body": "What&#39;s that about not modifying <code>@INC</code>? The question asks how to modify the search path, <code>@INC</code>!"}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": -1, "last_activity_date": 1449619604, "creation_date": 1449619604, "answer_id": 34168485, "question_id": 34168300, "link": "https://stackoverflow.com/questions/34168300/provide-a-default-location-to-look-for-a-perl-module-only-if-not-in-default-inc/34168485#34168485", "title": "provide a default location to look for a perl module only if not in default INC", "body": "<p>If you don't have perl version or perl architecture specific directories you want automatically included (the way <code>use lib</code> does), just do</p>\n\n<pre><code>BEGIN { push @INC, 'path' }\n</code></pre>\n\n<p>If you do have such directories, and you want to do exactly what <code>use lib</code> does only have the added directories come at the end, do:</p>\n\n<pre><code>BEGIN { push @INC, do { require lib; local @INC; 'lib'-&gt;import('path'); @INC } }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1449624917, "creation_date": 1449624917, "answer_id": 34169285, "question_id": 34168300, "link": "https://stackoverflow.com/questions/34168300/provide-a-default-location-to-look-for-a-perl-module-only-if-not-in-default-inc/34169285#34169285", "title": "provide a default location to look for a perl module only if not in default INC", "body": "<blockquote>\n  <p>Is there a convenient syntax to specify paths to look at only after @INC has been searched,</p>\n</blockquote>\n\n<p>No, there's no way to specify paths to search without including them in the list of paths to search (<code>@INC</code>).</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 34169285, "answer_count": 2, "score": 1, "last_activity_date": 1449624917, "creation_date": 1449618557, "last_edit_date": 1449619006, "question_id": 34168300, "link": "https://stackoverflow.com/questions/34168300/provide-a-default-location-to-look-for-a-perl-module-only-if-not-in-default-inc", "title": "provide a default location to look for a perl module only if not in default INC", "body": "<p>I have a module which I will need in most of my other modules.  ideally this module will in a directory pointed to by PERL5LIB.  Failing that I know the expected file structure of the modules, so I could theoretically find the desired module using a path relative to current module, to fall back on before failing.</p>\n\n<p>The problem is that the standard use lib 'path' format looks at 'path' before it looks at the rest of @INC, such as those dir provided by PERL5LIB.  Is there a convenient syntax to specify paths to look at only after @INC has been searched, short of modifying @INC by pushing the variables to the back of the array?</p>\n"}, {"tags": ["c++", "perl"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1449617513, "post_id": 34168099, "comment_id": 56083543, "body": "Sounds like a job for Boost.Multiindex."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1449617670, "post_id": 34168099, "comment_id": 56083607, "body": "Thanks. That&#39;s good to know. Wonder it&#39;s available in plain C++11."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1449617839, "post_id": 34168099, "comment_id": 56083684, "body": "What&#39;s that supposed to mean? It&#39;s a C++ library, so you can use it with C++."}, {"owner": {"reputation": 102079, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1449618058, "post_id": 34168099, "comment_id": 56083766, "body": "@KerrekSB It&#39;s supposed to mean, without the Boost.Multiindex dependency. In some environments it is not easy to introduce external dependencies which must then be updated and kept track of."}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 0, "creation_date": 1449618895, "post_id": 34168099, "comment_id": 56084082, "body": "Boost is as close to the standard library as you get without being in it. Its considered the testing ground for classes to be considered for standardization. And its header only so minimal dependencies."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 0, "creation_date": 1449619178, "post_id": 34168099, "comment_id": 56084186, "body": "@LokiAstari <i>Boost itself</i> is an external dependency."}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1449619287, "post_id": 34168099, "comment_id": 56084227, "body": "@immibis: I totally agree. I am just arguing that you can&#39;t get closer to standard than boost."}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 1, "creation_date": 1449619424, "post_id": 34168099, "comment_id": 56084277, "body": "Comment on the update: Not directly with one container. But with the combination of a vector and map (or unordered_map) you can achieve the same results relatively easily."}, {"owner": {"reputation": 20544, "user_id": 1073695, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2dca512cb7914943d46461d0bbbacd5a?s=128&d=identicon&r=PG", "display_name": "Jo So", "link": "https://stackoverflow.com/users/1073695/jo-so"}, "reply_to_user": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 0, "creation_date": 1449619569, "post_id": 34168099, "comment_id": 56084329, "body": "@LokiAstari: There&#39;s a big difference. C++11 is something you can rely on, while boost is subject to change (which is a pain). Not using boost myself, but from what I gather that also happens frequently."}, {"owner": {"reputation": 20544, "user_id": 1073695, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2dca512cb7914943d46461d0bbbacd5a?s=128&d=identicon&r=PG", "display_name": "Jo So", "link": "https://stackoverflow.com/users/1073695/jo-so"}, "edited": false, "score": 0, "creation_date": 1449620071, "post_id": 34168099, "comment_id": 56084498, "body": "@codingFun: Do you need support for deletion? (That would make things harder, because you could insert infinitely many items so an insertion counter would overflow at some point)"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 20544, "user_id": 1073695, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2dca512cb7914943d46461d0bbbacd5a?s=128&d=identicon&r=PG", "display_name": "Jo So", "link": "https://stackoverflow.com/users/1073695/jo-so"}, "edited": false, "score": 0, "creation_date": 1449625487, "post_id": 34168099, "comment_id": 56086102, "body": "Thanks @jo-so for asking, should have mentioned that I need deletion as well."}, {"owner": {"reputation": 8075, "user_id": 2169853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/68b89009f4066d3e1adbe72d4329c8d3?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/2169853/jens"}, "edited": false, "score": 0, "creation_date": 1449649018, "post_id": 34168099, "comment_id": 56094356, "body": "Could you give more requirements about the container? Do you just need an ordered associative container, or do you want constant-time lookups combined with ordered iteration?"}], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1449625522, "post_id": 34168509, "comment_id": 56086114, "body": "Thanks @user4815162342 for the detailed answer too."}], "tags": [], "owner": {"reputation": 102079, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "is_accepted": false, "score": 1, "last_activity_date": 1449766344, "last_edit_date": 1449766344, "creation_date": 1449619709, "answer_id": 34168509, "question_id": 34168099, "link": "https://stackoverflow.com/questions/34168099/does-c-have-ordered-hash/34168509#34168509", "title": "Does C++ have ordered hash?", "body": "<p>An associative container that remembers insertion order does not come with the C++ standard library, but it is straightforward to implement one using existing STL containers.</p>\n\n<p>For example, a combination of <code>std::map</code> (for fast lookup) and <code>std::list</code> (to maintain key ordering) can be used to emulate an insertion-ordered map. Here is an example that demonstrates the idea:</p>\n\n<pre><code>#include &lt;unordered_map&gt;\n#include &lt;list&gt;\n#include &lt;stdexcept&gt;\n\ntemplate&lt;typename K, typename V&gt;\nclass InsOrderMap {\n  struct value_pos {\n    V value;\n    typename std::list&lt;K&gt;::iterator pos_iter;\n    value_pos(V value, typename std::list&lt;K&gt;::iterator pos_iter):\n      value(value), pos_iter(pos_iter) {}\n  };\n\n  std::list&lt;K&gt; order;\n  std::unordered_map&lt;K, value_pos&gt; map;\n\n  const value_pos&amp; locate(K key) const {\n    auto iter = map.find(key);\n    if (iter == map.end())\n      throw std::out_of_range(\"key not found\");\n    return iter-&gt;second;\n  }\n\npublic:\n  void set(K key, V value) {\n    auto iter = map.find(key);\n    if (iter != map.end()) {\n      // no order change, just update value\n      iter-&gt;second.value = value;\n      return;\n    }\n    order.push_back(key);\n    map.insert(std::make_pair(key, value_pos(value, --order.end())));\n  }\n\n  void erase(K key) {\n    order.erase(locate(key).pos_iter);\n    map.erase(key);\n  }\n\n  V operator[](K key) const {\n    return locate(key).value;\n  }\n\n  // iterate over the mapping with a function object\n  // (writing a real iterator is too much code for this example)\n  template&lt;typename F&gt;\n  void walk(F fn) const {\n    for (auto key: order)\n      fn(key, (*this)[key]);\n  }\n};\n\n// TEST\n\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;cassert&gt;\n\nint main()\n{\n  typedef InsOrderMap&lt;std::string, std::string&gt; IxHash;\n\n  IxHash food_color;\n  food_color.set(\"Banana\", \"Yellow\");\n  food_color.set(\"Apple\", \"Green\");\n  food_color.set(\"Lemon\", \"Yellow\");\n\n  assert(food_color[\"Banana\"] == std::string(\"Yellow\"));\n  assert(food_color[\"Apple\"] == std::string(\"Green\"));\n  assert(food_color[\"Lemon\"] == std::string(\"Yellow\"));\n\n  auto print = [](std::string k, std::string v) {\n    std::cout &lt;&lt; k &lt;&lt; ' ' &lt;&lt; v &lt;&lt; std::endl;\n  };\n  food_color.walk(print);\n  food_color.erase(\"Apple\");\n  std::cout &lt;&lt; \"-- without apple\" &lt;&lt; std::endl;\n  food_color.walk(print);\n  return 0;\n}\n</code></pre>\n\n<p>Developing this code into a drop-in replacement for a full-fledged container such as <code>std::map</code> requires considerable effort.</p>\n"}, {"comments": [{"owner": {"reputation": 193, "user_id": 3475956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa5822321f7420af55aaea42d9aaefd?s=128&d=identicon&r=PG&f=1", "display_name": "Avrdan", "link": "https://stackoverflow.com/users/3475956/avrdan"}, "edited": false, "score": 0, "creation_date": 1587678727, "post_id": 34168522, "comment_id": 108614016, "body": "An unordered map is, most obviously, unordered. The regular std::map is based on trees and not a hash table, such that the operations can no longer be performed in O(1), but only O(log N). Therefore there is no equivalent standard data structure."}], "tags": [], "owner": {"reputation": 1, "user_id": 5656851, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/643a20002e7103bd435bafbff42a9e2a?s=128&d=identicon&r=PG", "display_name": "user5656851", "link": "https://stackoverflow.com/users/5656851/user5656851"}, "is_accepted": false, "score": -3, "last_activity_date": 1449621457, "last_edit_date": 1449621457, "creation_date": 1449619792, "answer_id": 34168522, "question_id": 34168099, "link": "https://stackoverflow.com/questions/34168099/does-c-have-ordered-hash/34168522#34168522", "title": "Does C++ have ordered hash?", "body": "<p>C++ has standard containers for this.  An <em>unordered map</em> seems like what you are looking for:</p>\n\n<pre><code>std::unordered_map &lt;std::string, std::string&gt;\u00a0mymap = {{\"Banana\", \"Yellow\" }, {\"Orange\",\"orange\" } } \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 102079, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "edited": false, "score": 0, "creation_date": 1449622077, "post_id": 34168560, "comment_id": 56085135, "body": "Using a vector to store the order will require O(n) complexity to erase an arbitrary key. This may not be a problem in practice, but this limitation does exist e.g. in Python&#39;s <code>OrderedDict</code>. (I haven&#39;t checked how <code>Tie::IxHash</code> implements deletion.)"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1449625441, "post_id": 34168560, "comment_id": 56086088, "body": "Thanks @jerry-coffin for the detailed answer and everyone for the discussion. I understand it better now. By the way, I saw this thread on <code>Tie::IxHash</code> that it&#39;s not efficient in the case of deletion.: <a href=\"http://stackoverflow.com/questions/5344512/how-is-tieixhash-implemented-in-perl\" title=\"how is tieixhash implemented in perl\">stackoverflow.com/questions/5344512/&hellip;</a>"}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1449647778, "post_id": 34168560, "comment_id": 56093661, "body": "In the first case (vector of pairs) I think it&#39;s possible to use std::lower_bound to get the index of the element you&#39;re looking for by iterating over the keys, which is a binary search."}, {"owner": {"reputation": 435392, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 1, "creation_date": 1449668064, "post_id": 34168560, "comment_id": 56106375, "body": "@ChatterOne: Unfortunately, no. <code>lower_bound</code> requires that the collection be sorted by key, and the whole point here is that it retains the order of insertion rather than being ordered by keys."}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "edited": false, "score": 0, "creation_date": 1449670264, "post_id": 34168560, "comment_id": 56107866, "body": "@JerryCoffin You&#39;re right of course, I should have thought of that."}], "tags": [], "owner": {"reputation": 435392, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 3, "last_activity_date": 1449620037, "creation_date": 1449620037, "answer_id": 34168560, "question_id": 34168099, "link": "https://stackoverflow.com/questions/34168099/does-c-have-ordered-hash/34168560#34168560", "title": "Does C++ have ordered hash?", "body": "<p>Yes and no. No, there's no one that that's specifically intended to provide precisely the same functionality. But yes, you can do the same in a couple of different ways. If you expect to access the data primarily in the order inserted, then the obvious way to go would be a simple vector of pairs:</p>\n\n<pre><code>std::vector&lt;std::string, std::string&gt; food_colors;\n\nfood_colors.push_back({\"banana\", \"yellow\"});\nfood_colors.push_back({\"apple\", \"green\"});\nfood_colors.push_back({\"lemon\", \"yellow\"});\n\nfor (auto const &amp;f : food_colors)\n    std::cout &lt;&lt; f.first &lt;&lt; \": \" &lt;&lt; f.second &lt;&lt; \"\\n\";\n</code></pre>\n\n<p>This preserves order by simply storing the items in order. If you need to access them by key, you can use <code>std::find</code> to do a linear search for a particular item. That minimizes extra memory used, at the expense of slow access by key if you get a lot of items.</p>\n\n<p>If you want faster access by key with a large number of items, you could use a Boost MultiIndex. If you really want to avoid that, you can create an index of your own pretty easily. To do this, you'd start by inserting your items into a  <code>std::unordered_map</code> (or perhaps an <code>std::map</code>). This gives fast access by key, but no access in insertion order. It does, however, return an iterator to each items as it's inserted into the map. You can simply store those iterators into a vector to get access in the order of insertion. Although the principle of this is fairly simple, the code is a bit on the clumsy side, to put it nicely:</p>\n\n<pre><code>std::map&lt;std::string, std::string&gt; fruit;\nstd::vector&lt;std::map&lt;std::string, std::string&gt;::iterator&gt; in_order;\n\nin_order.push_back(fruit.insert(std::make_pair(\"banana\", \"yellow\")).first);\nin_order.push_back(fruit.insert(std::make_pair(\"apple\", \"green\")).first);\nin_order.push_back(fruit.insert(std::make_pair(\"lemon\", \"yellow\")).first);\n</code></pre>\n\n<p>This allows access either by key:</p>\n\n<pre><code>// ripen the apple:\nfruit[\"apple\"] = \"red\";\n</code></pre>\n\n<p>...or in insertion order:</p>\n\n<pre><code>for (auto i : in_order)\n    std::cout &lt;&lt; i-&gt;first &lt;&lt; \": \" &lt;&lt; i-&gt;second &lt;&lt; \"\\n\";\n</code></pre>\n\n<p>For the moment, I've shown the basic mechanism for doing this--if you wanted to use it much, you'd probably want to wrap that up into a nice class to hide some of the ugliness and the keep things pretty and clean in normal use.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1973, "favorite_count": 0, "accepted_answer_id": 34168560, "answer_count": 3, "score": 5, "last_activity_date": 1449766344, "creation_date": 1449617424, "last_edit_date": 1449623801, "question_id": 34168099, "link": "https://stackoverflow.com/questions/34168099/does-c-have-ordered-hash", "title": "Does C++ have ordered hash?", "body": "<p>Perl has a structure called <em>\"ordered hash\"</em> <code>Tie::IxHash</code>. One can use it as a hashtable/map. The entries are in the order of insertion.  </p>\n\n<p>Wonder if there is such a thing in C++.</p>\n\n<p>Here is a sample Perl snippet:</p>\n\n<pre><code>use Tie::IxHash;\n\ntie %food_color, \"Tie::IxHash\";\n$food_color{Banana} = \"Yellow\";\n$food_color{Apple}  = \"Green\";\n$food_color{Lemon}  = \"Yellow\";\n\nprint \"In insertion order, the foods are:\\n\";\nforeach $food (keys %food_color) {\n    print \"  $food\\n\"; #will print the entries in order\n}\n</code></pre>\n\n<p><strong>Update 1</strong></p>\n\n<p>As @kerrek-sb pointed out, one can use Boost Multi-index Containers Library.  Just wonder if it is possible to do it with STL. </p>\n"}, {"tags": ["perl", "sqlite"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449618162, "post_id": 34168091, "comment_id": 56083802, "body": "<a href=\"http://stackoverflow.com/questions/9151706/getting-row-number-for-query\" title=\"getting row number for query\">stackoverflow.com/questions/9151706/&hellip;</a> <a href=\"http://stackoverflow.com/questions/19479253/how-to-get-row-number-in-sql-lite\" title=\"how to get row number in sql lite\">stackoverflow.com/questions/19479253/&hellip;</a>"}, {"owner": {"reputation": 525, "user_id": 3272110, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3a30dbd0c0785ff9369805ebafc853dc?s=128&d=identicon&r=PG&f=1", "display_name": "Zippy1970", "link": "https://stackoverflow.com/users/3272110/zippy1970"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449618354, "post_id": 34168091, "comment_id": 56083872, "body": "Yes, I saw those answers but my knowledge of SQLite is too limited to understand why that&#39;s actually the answer to my question. I&#39;ll go over them again. Thanks!"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449618474, "post_id": 34168091, "comment_id": 56083912, "body": "What do you mean by &quot;absolute row number&quot;? You just want the result set ordered from <code>1..n</code>? What are you trying to do?"}, {"owner": {"reputation": 525, "user_id": 3272110, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3a30dbd0c0785ff9369805ebafc853dc?s=128&d=identicon&r=PG&f=1", "display_name": "Zippy1970", "link": "https://stackoverflow.com/users/3272110/zippy1970"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449618765, "post_id": 34168091, "comment_id": 56084032, "body": "I&#39;m trying to create an old dBase style interface to an SQLite Database. In dBase, each record had a record number. The first record was record #1, the second record #2, etc. If you deleted the 2nd record, what used to be record #3 became record #2. Record #4 became #3, etc. If you did a locate, it would return this record number. The record number is the absolute position of the record in the database. It&#39;s not some unique ID because it changes as the database changed. I&#39;m trying to emulate this behavior. So if I do a query I want to know what the position of the returned row in the table is."}], "answers": [{"comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "reply_to_user": {"reputation": 525, "user_id": 3272110, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3a30dbd0c0785ff9369805ebafc853dc?s=128&d=identicon&r=PG&f=1", "display_name": "Zippy1970", "link": "https://stackoverflow.com/users/3272110/zippy1970"}, "edited": false, "score": 0, "creation_date": 1449686130, "post_id": 34176000, "comment_id": 56119166, "body": "@Zippy1970 oid is an alias for rowid."}], "tags": [], "owner": {"reputation": 195, "user_id": 5501718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bbc93b2f6b633bb168b97a08202ce8d?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/5501718/roberto"}, "is_accepted": false, "score": 1, "last_activity_date": 1449655658, "creation_date": 1449655658, "answer_id": 34176000, "question_id": 34168091, "link": "https://stackoverflow.com/questions/34168091/sqlite-how-to-get-absolute-row-number/34176000#34176000", "title": "SQLite: How to get absolute row number", "body": "<p>Let's take this example</p>\n\n<pre><code>sqlite&gt; create table my_example (field1);\nsqlite&gt; insert into my_example values ('abc');\nsqlite&gt; insert into my_example values ('booooo');\nsqlite&gt; insert into my_example values ('3231-556');\nsqlite&gt; .mode column\nsqlite&gt; .header on\nsqlite&gt; select * from my_example;\nfield1\n----------\nabc\nbooooo\n3231-556\nsqlite&gt; select rowid, * from my_example;\nrowid       field1\n----------  ----------\n1           abc\n2           booooo\n3           3231-556\nsqlite&gt; delete from my_example where field1='abc';\nsqlite&gt; select rowid, * from my_example;\nrowid       field1\n----------  ----------\n2           booooo\n3           3231-556\nsqlite&gt; insert into my_example values ('abc');\nsqlite&gt; select rowid, * from my_example;\nrowid       field1\n----------  ----------\n2           booooo\n3           3231-556\n4           abc\nsqlite&gt;\n</code></pre>\n\n<p>a way of getting what I understand you want to achieve (something similar to a rown_num) would be:</p>\n\n<pre><code>sqlite&gt; select (select count(*) from my_example b where a.rowid &gt;= b.oid ) as cnt, * from my_example a;\ncnt         field1\n----------  ----------\n1           booooo\n2           3231-556\n3           abc\nsqlite&gt;\n</code></pre>\n\n<p>hope this helps</p>\n"}], "owner": {"reputation": 525, "user_id": 3272110, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/3a30dbd0c0785ff9369805ebafc853dc?s=128&d=identicon&r=PG&f=1", "display_name": "Zippy1970", "link": "https://stackoverflow.com/users/3272110/zippy1970"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 970, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449655658, "creation_date": 1449617388, "question_id": 34168091, "link": "https://stackoverflow.com/questions/34168091/sqlite-how-to-get-absolute-row-number", "title": "SQLite: How to get absolute row number", "body": "<p>I'm trying to get the absolute record number of a row after it has been returned by a query (in Perl). Let's say I query my table as follows:</p>\n\n<pre><code>my $stmt = \"SELECT * FROM MAIN WHERE item='widget' LIMIT 1;\";\nmy $sth  = $dbh-&gt;prepare( $stmt );\nmy $rv   = $sth-&gt;execute();\n</code></pre>\n\n<p>How can I find out the absolute row number of the returned row? I tried using ROWID:</p>\n\n<pre><code>my $stmt = \"SELECT ROWID, * FROM MAIN WHERE item='widget' ORDER BY ROWID LIMIT 1;\";\nmy $sth  = $dbh-&gt;prepare( $stmt );\nmy $rv   = $sth-&gt;execute();\nmy $row  = $sth-&gt;fetchrow_hashref();\n\nif( defined( $row ) ) {\n  $RecordNumber = $row-&gt;{'rowid'};\n}\n</code></pre>\n\n<p>This works if you never ever delete a row from the table.</p>\n\n<p>But Row IDs never change. So if you delete rows from the table, the rowids no longer match the absolute row number in the table.</p>\n\n<p>I hope my question is clear (English is not my native language).</p>\n"}, {"tags": ["perl", "catalyst", "formbuilder"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4170058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0668908b8b09b5a1b23f4cf068d7649c?s=128&d=identicon&r=PG", "display_name": "cb49747", "link": "https://stackoverflow.com/users/4170058/cb49747"}, "edited": false, "score": 0, "creation_date": 1449624266, "post_id": 34167478, "comment_id": 56085772, "body": "OMG call me an idiot please.  stupid mistake.  Thank you  for showing me the way.  Added Form and worked like a charm."}, {"owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "reply_to_user": {"reputation": 43, "user_id": 4170058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0668908b8b09b5a1b23f4cf068d7649c?s=128&d=identicon&r=PG", "display_name": "cb49747", "link": "https://stackoverflow.com/users/4170058/cb49747"}, "edited": false, "score": 0, "creation_date": 1449624361, "post_id": 34167478, "comment_id": 56085798, "body": "Fresh pair of eyes, that&#39;s all :-)"}], "tags": [], "owner": {"reputation": 8942, "user_id": 14750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1259cb9901b6d9caf5aeda812927d111?s=128&d=identicon&r=PG", "display_name": "RET", "link": "https://stackoverflow.com/users/14750/ret"}, "is_accepted": false, "score": 1, "last_activity_date": 1449614927, "last_edit_date": 1449614927, "creation_date": 1449614565, "answer_id": 34167478, "question_id": 34167055, "link": "https://stackoverflow.com/questions/34167055/why-am-i-getting-the-error-cant-call-method-submitted-without-a-package-or-o/34167478#34167478", "title": "Why am I getting the error &#39;Can&#39;t call method &quot;submitted&quot; without a package or object reference&#39; when generating a form in Catalyst?", "body": "<p>According to <a href=\"http://search.cpan.org/~mstrout/Catalyst-Controller-FormBuilder-0.06/lib/Catalyst/Controller/FormBuilder.pm\" rel=\"nofollow\">the fine manual</a>, the attribute <code>:Form</code> is part of what triggers the form creation, e.g.:</p>\n\n<pre><code>sub edit : Local Form {\n    my ( $self, $c, @args ) = @_;\n    ...\n</code></pre>\n\n<p>I'd say without that, it's not getting configured, and hence does not have a <code>submitted</code> method.</p>\n"}], "owner": {"reputation": 43, "user_id": 4170058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0668908b8b09b5a1b23f4cf068d7649c?s=128&d=identicon&r=PG", "display_name": "cb49747", "link": "https://stackoverflow.com/users/4170058/cb49747"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449614927, "creation_date": 1449612744, "last_edit_date": 1449613014, "question_id": 34167055, "link": "https://stackoverflow.com/questions/34167055/why-am-i-getting-the-error-cant-call-method-submitted-without-a-package-or-o", "title": "Why am I getting the error &#39;Can&#39;t call method &quot;submitted&quot; without a package or object reference&#39; when generating a form in Catalyst?", "body": "<p>I'm using the following code to generate a simple form with Catalyst:</p>\n\n<pre><code>sub edit : Local {\n    my ($self, $c) = @_;\n    my $form = $self-&gt;formbuilder;\n    if ($form-&gt;submitted &amp;&amp; $form-&gt;validate) {\n        $c-&gt;stash-&gt;{message} = 'Thanks for submitting the form!';\n    }\n}\n</code></pre>\n\n<p>However, when I run it I get this error message: </p>\n\n<blockquote>\n  <p>Caught exception in AddressBook::Controller::Person->edit \"Can't call method \"submitted\" without a package or object reference at /Users/me/Docs/workspace/MyAddressBook/AddressBook/script/../lib/AddressBook/Controller/Person.pm line 58.\"</p>\n</blockquote>\n\n<p>Any ideas on what is causing this?</p>\n"}, {"tags": ["c#", "wpf", "perl"], "comments": [{"owner": {"reputation": 3241, "user_id": 2382032, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/2dGPn.jpg?s=128&g=1", "display_name": "Eric Scherrer", "link": "https://stackoverflow.com/users/2382032/eric-scherrer"}, "edited": false, "score": 2, "creation_date": 1449609068, "post_id": 34165493, "comment_id": 56079406, "body": "Why not just create a whole new process for each command?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1449634234, "post_id": 34165493, "comment_id": 56088498, "body": "Without a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> it&#39;s not possible to understand what exactly you&#39;re trying to do. I will say that for sure, you should not be disposing <code>StandardInput</code> (which you are). In addition, depending on where and how <code>startProcess()</code> is called, the <code>WaitForExit()</code> could be a problem."}, {"owner": {"reputation": 178, "user_id": 3490417, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hgKju.jpg?s=128&g=1", "display_name": "ChrisPBacon", "link": "https://stackoverflow.com/users/3490417/chrispbacon"}, "reply_to_user": {"reputation": 3241, "user_id": 2382032, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/2dGPn.jpg?s=128&g=1", "display_name": "Eric Scherrer", "link": "https://stackoverflow.com/users/2382032/eric-scherrer"}, "edited": false, "score": 0, "creation_date": 1449665679, "post_id": 34165493, "comment_id": 56104857, "body": "@EricScherrer The reason I can&#39;t do that is because the script has menu options, which leads to more menu options. And you don&#39;t always know which options you&#39;ll have to press in advance. Say you go select option 1, it takes you to Option 1 menu, now you have to answer a question. But you didn&#39;t know the answer before getting to it so I couldn&#39;t make a predefined command for it."}, {"owner": {"reputation": 178, "user_id": 3490417, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hgKju.jpg?s=128&g=1", "display_name": "ChrisPBacon", "link": "https://stackoverflow.com/users/3490417/chrispbacon"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1449668673, "post_id": 34165493, "comment_id": 56106764, "body": "@PeterDuniho How can I open StandardInput in a way that doesn&#39;t dispose of it or block while also keeping the process open? Process doesn&#39;t appear to have any event handler for input like it does for output and error. I appreciate your help."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1449679851, "post_id": 34165493, "comment_id": 56115064, "body": "There&#39;s no event for input, because <i>your</i> process generates the input. There&#39;s nothing for you to consume, so no need for an event. And there&#39;s no need to <i>&quot;open StandardInput in a way that doesn&#39;t dispose of it&quot;</i>, because it&#39;s <i>already open</i>. All you have to do is use it. Just get rid of the whole <code>using (sWriter = process.StandardInput)</code> statement, and for that matter the <code>if (sWriter.BaseStream.CanWrite)</code> (stdin is always writable), and just call <code>process.StandardInput.WriteLine()</code> directly (i.e. you don&#39;t even need the <code>sWriter</code> variable, if you just keep the <code>process</code> reference instead)."}, {"owner": {"reputation": 178, "user_id": 3490417, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hgKju.jpg?s=128&g=1", "display_name": "ChrisPBacon", "link": "https://stackoverflow.com/users/3490417/chrispbacon"}, "edited": false, "score": 1, "creation_date": 1449694670, "post_id": 34165493, "comment_id": 56123993, "body": "Okay, that explanation helped me understand this better. I&#39;ve been able to get the script to launch, and read it. However I can&#39;t get the output back until I send at least 2 line returns. The first input sent starts the script <code>process.StandardInput.WriteLine(&quot;Run_Script.pl&quot;);</code> That should then return me the output which has the start menu with several selections. However if I do send another input, I&#39;ll get a message saying my selection was invalid (as the script&#39;s first menu asks to enter a menu selection between 1 and 10). I&#39;m not sure why it won&#39;t give me the output back first."}], "owner": {"reputation": 178, "user_id": 3490417, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hgKju.jpg?s=128&g=1", "display_name": "ChrisPBacon", "link": "https://stackoverflow.com/users/3490417/chrispbacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 671, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472496838, "creation_date": 1449606828, "last_edit_date": 1472496838, "question_id": 34165493, "link": "https://stackoverflow.com/questions/34165493/how-to-read-and-write-to-a-command-prompt-process-cmd-exe-with-wpf", "title": "How to read and write to a command prompt process (cmd.exe) with WPF", "body": "<p>I've been looking around google and SO for many hours now as I feel this question must have been asked, but I cannot find the right answers.<br>\nMany of the most similar questions ask how to send A command or series of them, at start up of the process. The difference I'm looking for help with is being able to continually send and receive commands to the process once I've started it. Essentially nesting an actual command prompt inside a WPF window.</p>\n\n<p>This is how I've been trying to run the process. But I can't figure out how tell the process to wait for a input response. </p>\n\n<pre><code>public void startProcess()\n    {\n        using (Process process = new Process())\n        {\n            process.StartInfo.UseShellExecute = false;\n            process.StartInfo.RedirectStandardOutput = true;\n            process.StartInfo.RedirectStandardError = true;\n            process.StartInfo.RedirectStandardInput = true;\n            process.StartInfo.CreateNoWindow = true;\n            process.StartInfo.WorkingDirectory = \"C:\\\\\";\n            process.StartInfo.FileName = @\"cmd.exe\"; // \n\n            process.OutputDataReceived += ProcessOutputDataHandler;\n            process.ErrorDataReceived += ProcessErrorDataHandler;\n\n            process.Start();\n            process.BeginOutputReadLine();\n            process.BeginErrorReadLine();\n\n            using (sWriter = process.StandardInput)\n            {\n                if (sWriter.BaseStream.CanWrite)\n                {\n                    sWriter.WriteLine(@\"cd C:\\Users\\username\\Desktop\\SomeFolder\\ \");\n                    sWriter.WriteLine(@\"Run_Script.pl\");\n                }\n            }\n\n            process.WaitForExit();\n        }\n    }\n\n    private void btnSend_Click(object sender, RoutedEventArgs e)\n    {   \n       // this method won't work, but this is the general idea I'm trying to figure out to implement.\n        if (sWriter.BaseStream.CanWrite)\n        {\n            sWriter.WriteLine(txtInput.Text);\n        }\n    }\n\n    public void ProcessOutputDataHandler(object sendingProcess, DataReceivedEventArgs outLine)\n    {\n        // log is a output textbox that is updated on a timer\n        txtLog.Dispatcher.BeginInvoke(new Action(() =&gt; { log += outLine.Data; }), null); \n\n    }\n\n    public void ProcessErrorDataHandler(object sendingProcess, DataReceivedEventArgs outLine)\n    {\n        txtLog.Dispatcher.BeginInvoke(new Action(() =&gt; { log += outLine.Data; }), null); \n\n    }\n</code></pre>\n\n<p>I tagged perl on this just because I'm trying to run a perl script with this.</p>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 6, "creation_date": 1449602895, "post_id": 34164324, "comment_id": 56075571, "body": "Seems like a feature to me. How could you split nothing into one or more things?"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449603006, "post_id": 34164324, "comment_id": 56075646, "body": "Perl is supposed to return a single element containing the entire <code>$_</code> when <code>split</code> cannot split (no regexp match on the line). Perl breaks that &quot;promise&quot; when <code>$_</code> is <code>&quot;&quot;</code>, returning an empty list instead."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449603102, "post_id": 34164324, "comment_id": 56075708, "body": "In Perl the empty string <code>&quot;&quot;</code> and the empty list <code>()</code> represent the same thing, which is false."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1449603114, "post_id": 34164324, "comment_id": 56075721, "body": "&quot;I wanted <code>split</code> to be able to for consistency...&quot; Can you expand on this? This seems like an XY problem."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1449603351, "post_id": 34164324, "comment_id": 56075899, "body": "workaround:  <code>split &#47;:&#47;, &quot;$string:&quot;, $count</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1449603508, "post_id": 34164324, "comment_id": 56076006, "body": "@HunterMcMillen: no, they represent very different things, though both are false."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1449603585, "post_id": 34164324, "comment_id": 56076052, "body": "@ysth yep, my mistake"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449603606, "post_id": 34164324, "comment_id": 56076064, "body": "@Hunter McMillen, That&#39;s not true. Empty lists aren&#39;t false. They aren&#39;t true either; it&#39;s simply impossible to evaluate whether an empty list is true or false."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449603606, "post_id": 34164324, "comment_id": 56076065, "body": "@TSIBN More of a &quot;notable exception&quot; problem, but to your question, I had written code relying on &quot;n separators always yield (n+1) fields&quot; such that including separators in the result with a <code>&#47;(...)&#47;</code> regexp could always be counted on to result in an odd-number-sized list (n+(n+1)). Code broke on the exception."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449603716, "post_id": 34164324, "comment_id": 56076143, "body": "@ikegami In terms of control flow they are considered false correct? <code>if ( () ) { print &quot;Hello\\n&quot;; }</code> will not print for instance"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449604936, "post_id": 34164324, "comment_id": 56076940, "body": "@Hunter McMillen, There&#39;s no list there (except the one created by <code>print</code>). The stub operator returns undef in scalar context, and undef is false."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449624187, "post_id": 34164324, "comment_id": 56085748, "body": "Can&#39;t find this &quot;n separators always yield (n+1) fields&quot; rule you mentioned."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449655671, "post_id": 34164324, "comment_id": 56098599, "body": "<code>Anything in EXPR that matches PATTERN is taken to be a separator that separates the EXPR into substrings (called &quot;fields&quot;) that do not include the separator.</code>"}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449656007, "post_id": 34164324, "comment_id": 56098836, "body": "&quot;If the <code>PATTERN</code> doesn&#39;t match at all, <code>split</code> returns the original string as a single substring. If it matches once, you get two substrings, and so on.&quot; -- Wall, Christiansen, &amp; Schwartz"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1449719864, "last_edit_date": 1449719864, "creation_date": 1449604124, "answer_id": 34164733, "question_id": 34164324, "link": "https://stackoverflow.com/questions/34164324/for-what-input-and-arguments-will-perl-split-give-the-result-if-ever/34164733#34164733", "title": "For what input and arguments will perl split give the result (&quot;&quot;), if ever?", "body": "<blockquote>\n  <p><em>And if not, is this a feature or a bug?</em></p>\n</blockquote>\n\n<p>Not returning an empty string is not a bug. As per the documentation,</p>\n\n<blockquote>\n  <p>Note that splitting an EXPR that evaluates to the empty string always produces zero fields, regardless of the LIMIT specified.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p><em>Can anyone show otherwise?</em></p>\n</blockquote>\n\n<p>It's highly unlikely that anyone will be able to find an input for which <code>split</code> return an empty string when it's documented to never return an empty string.</p>\n\n<hr>\n\n<p>It sounds like you want a list of one item when the input is an empty string, so</p>\n\n<pre><code>length($_) ? split(..., $_, -1) : \"\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1449610365, "post_id": 34166158, "comment_id": 56080117, "body": "This just seems like a less-readable version of ikegami&#39;s suggestion <code>length($_) ? split(...) : &quot;&quot;</code>."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449610984, "post_id": 34166158, "comment_id": 56080483, "body": "I consider ikegami&#39;s less clear. For inputs other than <code>$_</code> it is also more fragile, requiring that that input be inserted for both <code>length</code> and <code>split</code> (and so expressions there are dangerous), e.g. <code>length(&lt;some other var&gt;) ? split &#47;...&#47;, &lt;some other var&gt;, -1 : &quot;&quot;;</code>"}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": true, "score": -3, "last_activity_date": 1449678253, "last_edit_date": 1449678253, "creation_date": 1449609347, "answer_id": 34166158, "question_id": 34164324, "link": "https://stackoverflow.com/questions/34164324/for-what-input-and-arguments-will-perl-split-give-the-result-if-ever/34166158#34166158", "title": "For what input and arguments will perl split give the result (&quot;&quot;), if ever?", "body": "<p>This is a tentative answer to my own question, pending any further information/correction that may come from others:</p>\n\n<p>There are no inputs and arguments to perl <code>split</code> for which the result will ever be a single-element list containing the empty string.</p>\n\n<p>In order to get a result consistent with the promises 1) \"size of result will always be one more than the number of separators (regexp matches)\" and 2) \"if there are no separators, the result will always be a single-element list whose element is the whole original string\", what would normally be a clean function call expression</p>\n\n<pre><code>split /.../\n</code></pre>\n\n<p>instead needs to be wrapped as follows, including an additional auxiliary array:</p>\n\n<pre><code>@s = split /.../, $_, -1 or push @s, \"\";\n</code></pre>\n\n<p>and then <code>@s</code> used where the <code>split /.../</code> normally would have been.</p>\n\n<p>E.g.:</p>\n\n<pre><code>$ echo \"\"|perl -ne 'chomp;@s=split/x/,$_,-1 or push @s,\"\";print 0+@s'\n1\n\n$ echo \"x\"|perl -ne 'chomp;@s=split/x/,$_,-1 or push @s,\"\";print 0+@s'\n2\n\n$ echo \"xx\"|perl -ne 'chomp;@s=split/x/,$_,-1 or push @s,\"\";print 0+@s'\n3\n\n$ echo \"xxx\"|perl -ne 'chomp;@s=split/x/,$_,-1 or push @s,\"\";print 0+@s'\n4\n</code></pre>\n\n<p>Or, alternatively, any code using bare <code>split /.../</code> and relying on either of the above \"promises\" needs to be put inside a guard <code>if (length) {...}</code> and the case of <code>length==0</code> handled in separate code.</p>\n"}], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 34166158, "answer_count": 2, "score": -1, "last_activity_date": 1449719864, "creation_date": 1449602744, "question_id": 34164324, "link": "https://stackoverflow.com/questions/34164324/for-what-input-and-arguments-will-perl-split-give-the-result-if-ever", "title": "For what input and arguments will perl split give the result (&quot;&quot;), if ever?", "body": "<p>To me, it looks like perl split can never give the result <code>(\"\")</code>, i.e. a single-element list whose single element is the empty string. No matter what -- any input, any arguments to <code>split</code>. Can anyone show otherwise? And if not, is this a feature or a bug?</p>\n\n<p>I wanted <code>split</code> to be able to for consistency, but alas:</p>\n\n<blockquote>\n  <p>Note that splitting an EXPR that evaluates to the empty string always\n  produces zero fields, regardless of the LIMIT specified.</p>\n</blockquote>\n\n<p><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/split.html</a></p>\n\n<p>E.g.:</p>\n\n<pre><code>$ echo \"\"|perl -ne 'chomp;print 0+split/x/,$_,-1'\n0\n\n$ echo \"x\"|perl -ne 'chomp;print 0+split/x/,$_,-1'\n2\n\n$ echo \"xx\"|perl -ne 'chomp;print 0+split/x/,$_,-1'\n3\n\n$ echo \"xxx\"|perl -ne 'chomp;print 0+split/x/,$_,-1'\n4\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1449591449, "post_id": 34160628, "comment_id": 56068261, "body": "What you have is not a thing. Is <code>category</code> supposed to be an arrayref?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449591461, "post_id": 34160628, "comment_id": 56068271, "body": "<code>write</code> is a method in the <code>$Response</code> object. What is it supposed to do?"}, {"owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 0, "creation_date": 1449591549, "post_id": 34160628, "comment_id": 56068360, "body": "Matt Jacob category is supposed to be a hash ref...is this format invalid?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449591629, "post_id": 34160628, "comment_id": 56068434, "body": "@tsiro Yes. Hashes have keys and values."}], "answers": [{"comments": [{"owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 0, "creation_date": 1449591698, "post_id": 34160873, "comment_id": 56068489, "body": "the way to corrent the issue?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449591735, "post_id": 34160873, "comment_id": 56068512, "body": "Decide what you want your hash to look like. Also turn on <code>use strict;</code> <code>use warnings;</code>"}, {"owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 0, "creation_date": 1449591853, "post_id": 34160873, "comment_id": 56068598, "body": "by making the category array with hash objects and accessing using foreach ( @{$categories-&gt;{category}} ) is working..."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1449591838, "last_edit_date": 1449591838, "creation_date": 1449591656, "answer_id": 34160873, "question_id": 34160628, "link": "https://stackoverflow.com/questions/34160628/iterate-through-nested-hash-perl/34160873#34160873", "title": "iterate through nested hash perl", "body": "<p>You have built your Hash incorrectly, if you examine the Hash with Data::Dumper you will see this:</p>\n\n<pre><code>my $categories = {\n   category =&gt; {\n      {  id   =&gt; 1,\n         name =&gt; \"pizza\"\n      },\n      {  id   =&gt; 2,\n         name =&gt; \"pizza special\"\n      },\n      {  id   =&gt; 3,\n         name =&gt; \"pasta\"\n      },\n      {  id   =&gt; 4,\n         name =&gt; \"burgers\"\n      },\n      {  id   =&gt; 5,\n         name =&gt; \"club sandwich\"\n      }\n   }\n};\nuse Data::Dumper;\nprint Dumper $categories;\n\n$VAR1 = {\n          'category' =&gt; {\n                          'HASH(0x7ff7746d3850)' =&gt; {\n                                                      'name' =&gt; 'burgers',\n                                                      'id' =&gt; 4\n                                                    },\n                          'HASH(0x7ff7746e1bc8)' =&gt; undef,\n                          'HASH(0x7ff7746bee18)' =&gt; {\n                                                      'name' =&gt; 'pizza special',\n                                                      'id' =&gt; 2\n                                                    }\n                        }\n        };\n</code></pre>\n\n<p>As you can see, since you did not provide a key for the inner Hash, it used the stringified value of the previous Hash as the key. I think you likely meant to make <code>$categories-&gt;{category}</code> and arrayref which would look like this:</p>\n\n<pre><code>my $categories = {\n   category =&gt; [\n      {  id   =&gt; 1,\n         name =&gt; \"pizza\"\n      },\n      {  id   =&gt; 2,\n         name =&gt; \"pizza special\"\n      },\n      {  id   =&gt; 3,\n         name =&gt; \"pasta\"\n      },\n      {  id   =&gt; 4,\n         name =&gt; \"burgers\"\n      },\n      {  id   =&gt; 5,\n         name =&gt; \"club sandwich\"\n      },\n   ],\n};\n</code></pre>\n\n<p>and could be iterated over like this:</p>\n\n<pre><code>foreach my $elem ( @{ $categories-&gt;{category} } ) {\n   my ($id, $name) = map { $elem-&gt;{$_} } qw(id name);\n   ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1449608997, "post_id": 34160947, "comment_id": 56079373, "body": "It would be nice of the downvoter to explain how this answer is not helpful so I can improve it."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1449592323, "last_edit_date": 1449592323, "creation_date": 1449591844, "answer_id": 34160947, "question_id": 34160628, "link": "https://stackoverflow.com/questions/34160628/iterate-through-nested-hash-perl/34160947#34160947", "title": "iterate through nested hash perl", "body": "<p>The data structure you have listed will not work the way you intend. It's either a copy/paste error when you created your question, or you made that manually and made a mistake.</p>\n\n<pre><code>  my $categories = {\n          category =&gt;  {\n                         {  id    =&gt;  1,\n                            name  =&gt;  \"pizza\"},\n                         {  id    =&gt;  2,\n                            name  =&gt;  \"pizza special\"},\n                         {  id    =&gt;  3,\n                            name  =&gt;  \"pasta\"},\n                         {  id    =&gt;  4,\n                            name  =&gt;  \"burgers\"},\n                         {  id    =&gt;  5,\n                            name  =&gt;  \"club sandwich\"}\n                      }\n};\n\nuse Data::Printer;\np $categories;\n\n__END__\n\nOdd number of elements in anonymous hash at /home/foo/code/scratch.pl line 438.\n\\ {\n    category   {\n        HASH(0x1aa6148)   {\n            id     2,\n            name   \"pizza special\"\n        },\n        HASH(0x1ab9920)   {\n            id     4,\n            name   \"burgers\"\n        },\n        HASH(0x1acfbd8)   undef\n    }\n}\n</code></pre>\n\n<p>As you can see, you are using hash references as keys inside of your hash reference.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $categories = {\n    category =&gt;  {\n        {  id    =&gt;  1, name  =&gt;  \"pizza\"}, # key\n        {  id    =&gt;  2, name  =&gt;  \"pizza special\"}, # value\n        {  id    =&gt;  3, name  =&gt;  \"pasta\"}, # key\n        {  id    =&gt;  4, name  =&gt;  \"burgers\"}, # value\n        {  id    =&gt;  5, name  =&gt;  \"club sandwich\"} # key\n        # BOOM! Odd number of elements\n    }\n};\n</code></pre>\n\n<p><strong>That's probably not what you intended.</strong> </p>\n\n<p>What you need to do instead is use an <em>array reference</em> for the list of foods.</p>\n\n<pre><code>my $categories = {\n    category =&gt;  [\n        {  id    =&gt;  1, name  =&gt;  \"pizza\"},\n        {  id    =&gt;  2, name  =&gt;  \"pizza special\"},\n        {  id    =&gt;  3, name  =&gt;  \"pasta\"},\n        {  id    =&gt;  4, name  =&gt;  \"burgers\"},\n        {  id    =&gt;  5, name  =&gt;  \"club sandwich\"}\n    ]\n};\n</code></pre>\n\n<p>Now you can use this code to create your output. I replaced your object method call with a simple <code>print</code> for demonstration's sake.</p>\n\n<pre><code>foreach my $category ( @{ $categories-&gt;{category} } ) {\n    print &lt;&lt;\"HTML\";\n&lt;div class=\"row text-center\"&gt;\n    &lt;div class=\"col-xs-4\"&gt;$category-&gt;{id}&lt;/div&gt;\n    &lt;div class=\"col-xs-8\"&gt;$category-&gt;{name}&lt;/div&gt;\n&lt;/div&gt;\nHTML\n}\n</code></pre>\n\n<p>Because you now have an array reference, you need to <em>dereference</em> it with the <code>@{ ... }</code> syntax. </p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a> for more information on how references work in Perl.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1449592028, "creation_date": 1449592028, "answer_id": 34161002, "question_id": 34160628, "link": "https://stackoverflow.com/questions/34160628/iterate-through-nested-hash-perl/34161002#34161002", "title": "iterate through nested hash perl", "body": "<p>First off - your data structure is wrong. It should either be:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nmy $categories = {\n    category =&gt; [\n        {   id   =&gt; 1,\n            name =&gt; \"pizza\"\n        },\n        {   id   =&gt; 2,\n            name =&gt; \"pizza special\"\n        },\n        {   id   =&gt; 3,\n            name =&gt; \"pasta\"\n        },\n        {   id   =&gt; 4,\n            name =&gt; \"burgers\"\n        },\n        {   id   =&gt; 5,\n            name =&gt; \"club sandwich\"\n        }\n    ]\n};\n\nforeach my $hash_ref ( @{ $categories-&gt;{category} } ) {\n    print qq[\n                      &lt;div class=\"row text-center\"&gt;\n                          &lt;div class=\"col-xs-4\"&gt;$hash_ref-&gt;{id}&lt;/div&gt;\n                          &lt;div class=\"col-xs-8\"&gt;$hash_ref-&gt;{name}&lt;/div&gt;\n                      &lt;/div&gt;\n              ];\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>my $categories = {\n    category =&gt; {\n        1 =&gt; \"pizza\",\n        2 =&gt; \"pizza special\",\n        3 =&gt; \"pasta\",\n        4 =&gt; \"burgers\",\n        5 =&gt; \"club sandwich\",\n    }\n};\n\nforeach my $key (  sort keys %{$categories-&gt;{category}} ) { \n    print qq[\n                      &lt;div class=\"row text-center\"&gt;\n                          &lt;div class=\"col-xs-4\"&gt;$key&lt;/div&gt;\n                          &lt;div class=\"col-xs-8\"&gt;$categories-&gt;{category}-&gt;{$key}&lt;/div&gt;\n                      &lt;/div&gt;\n              ];\n}\n</code></pre>\n\n<p>Turning on <code>use strict;</code> and <code>use warnings;</code> would have let you know: </p>\n\n<blockquote>\n  <p>Odd number of elements in anonymous hash at line 5.</p>\n</blockquote>\n"}], "owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 34160947, "answer_count": 3, "score": 0, "last_activity_date": 1449592323, "creation_date": 1449591027, "question_id": 34160628, "link": "https://stackoverflow.com/questions/34160628/iterate-through-nested-hash-perl", "title": "iterate through nested hash perl", "body": "<p>i have the following perl format:</p>\n\n<pre><code>  my $categories = {\n          category =&gt;  {\n                         {  id    =&gt;  1,\n                            name  =&gt;  \"pizza\"},\n                         {  id    =&gt;  2,\n                            name  =&gt;  \"pizza special\"},\n                         {  id    =&gt;  3,\n                            name  =&gt;  \"pasta\"},\n                         {  id    =&gt;  4,\n                            name  =&gt;  \"burgers\"},\n                         {  id    =&gt;  5,\n                            name  =&gt;  \"club sandwich\"}\n                      }\n};\n</code></pre>\n\n<p>what i would like to achieve is to iterate through the above perl format and get the id and name for each hash inside category..\nwhat i have tried to do is:</p>\n\n<pre><code>foreach ( $categories-&gt;{category} ) {\n              $Response-&gt;write(qq[\n                      &lt;div class=\"row text-center\"&gt;\n                          &lt;div class=\"col-xs-4\"&gt;$_-&gt;{id}&lt;/div&gt;\n                          &lt;div class=\"col-xs-8\"&gt;$_-&gt;{name}&lt;/div&gt;\n                      &lt;/div&gt;\n              ]);\n        } \n</code></pre>\n\n<p>but this is not producing any results on screen..can anyone help?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1449591230, "post_id": 34160623, "comment_id": 56068116, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8179722/what-does-the-syntax-mean-in-perl\">What does the `-&gt;` syntax mean in Perl?</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1449593671, "post_id": 34160623, "comment_id": 56069817, "body": "If that syntax is a problem then you have a huge amount left to learn about Perl. Stack Overflow would be a poor resource if it were full of answers to questions like <i>what does <code>$x = 99</code> mean?</i>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1449597142, "post_id": 34160623, "comment_id": 56072014, "body": "The answer to this question could have been discovered in 30 seconds just by reading the <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"nofollow noreferrer\">official Perl documentation</a>."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1449606426, "post_id": 34160623, "comment_id": 56077812, "body": "Another relevant part of the standard Perl documentation is the <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">references tutorial</a>"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1449591182, "creation_date": 1449591182, "answer_id": 34160682, "question_id": 34160623, "link": "https://stackoverflow.com/questions/34160623/what-does-a-abcd-123-mean-in-perl/34160682#34160682", "title": "what does $a-&gt;{abcd} = &#39;123&#39; mean in perl?", "body": "<p>It means assign the string value <code>'123'</code> to the <code>'abed'</code> key of the <code>$a</code> hashref, which looks like this: </p>\n\n<pre><code>{ abed =&gt; '123' }\n</code></pre>\n\n<p>You can find more information about hashrefs in <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\"><code>perldoc perlref</code></a>.</p>\n\n<p>If this is the last line in the subroutine, then that means that the result of this expression <code>$a-&gt;{abed} = '123'</code> is returned as the return value of that subroutine, in this case that result is <code>'123'</code>.</p>\n\n<p>Some notes:</p>\n\n<ol>\n<li><code>$a</code> is a poor name for a variable since it is used by the <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\"><code>sort</code></a> primitive</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1449591209, "creation_date": 1449591209, "answer_id": 34160697, "question_id": 34160623, "link": "https://stackoverflow.com/questions/34160623/what-does-a-abcd-123-mean-in-perl/34160697#34160697", "title": "what does $a-&gt;{abcd} = &#39;123&#39; mean in perl?", "body": "<p>The <code>-&gt;</code> operator is a dereference. From the <code>{}</code> you can infer that what is being dereferenced is a hash ref. </p>\n\n<p>So:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n\nmy %hash = ( 'abc' =&gt; 546 );\nmy $a = \\%hash;\n$a-&gt;{abed} = '123';\n\nprint Dumper \\$a;\n</code></pre>\n\n<p>But you shouldn't use <code>$a</code> unless it's in a <code>sort</code>. Using single character var names in general is a bad thing, but <code>$a</code> and <code>$b</code> in particular have special meanings in that they're used as <code>sort</code> iterators. </p>\n"}], "owner": {"reputation": 782, "user_id": 1486527, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5a30b674587e3e1cf94607e783d240e6?s=128&d=identicon&r=PG", "display_name": "Prabhat", "link": "https://stackoverflow.com/users/1486527/prabhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "closed_date": 1449607596, "answer_count": 2, "score": -4, "last_activity_date": 1449591209, "creation_date": 1449591009, "question_id": 34160623, "link": "https://stackoverflow.com/questions/34160623/what-does-a-abcd-123-mean-in-perl", "closed_reason": "Not suitable for this site", "title": "what does $a-&gt;{abcd} = &#39;123&#39; mean in perl?", "body": "<p>I encountered <code>$a-&gt;{abed} = '123'</code> in a Perl script in the end of a sub routine but could not make out what does this statement actually trying to do?</p>\n"}, {"tags": ["forms", "perl"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 3683463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43cd58a50a3d693b2b2cd823139cb399?s=128&d=identicon&r=PG&f=1", "display_name": "user3683463", "link": "https://stackoverflow.com/users/3683463/user3683463"}, "edited": false, "score": 0, "creation_date": 1449591661, "post_id": 34160758, "comment_id": 56068463, "body": "Thanks Kenney, I have added a bit more in the original question. It&#39;s not my code originally but I&#39;m trying to learn from it as I go. Should your suggestion be actually set in a separate for loop outside the current one?"}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "reply_to_user": {"reputation": 71, "user_id": 3683463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43cd58a50a3d693b2b2cd823139cb399?s=128&d=identicon&r=PG&f=1", "display_name": "user3683463", "link": "https://stackoverflow.com/users/3683463/user3683463"}, "edited": false, "score": 0, "creation_date": 1449591769, "post_id": 34160758, "comment_id": 56068537, "body": "Inside, since you use <code>$i</code>, but, I think there&#39;s a much cleaner solution if you construct a <code>%hash</code> with the key=&gt;values for the CGI parameters."}, {"owner": {"reputation": 71, "user_id": 3683463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43cd58a50a3d693b2b2cd823139cb399?s=128&d=identicon&r=PG&f=1", "display_name": "user3683463", "link": "https://stackoverflow.com/users/3683463/user3683463"}, "edited": false, "score": 0, "creation_date": 1449592185, "post_id": 34160758, "comment_id": 56068814, "body": "That didn&#39;t quite work but I swapped  &#39;1 == grep{length} raw_search_value&#39; to &#39;grep{length} raw_search_value == 1&#39; and it has worked perfectly."}, {"owner": {"reputation": 71, "user_id": 3683463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43cd58a50a3d693b2b2cd823139cb399?s=128&d=identicon&r=PG&f=1", "display_name": "user3683463", "link": "https://stackoverflow.com/users/3683463/user3683463"}, "edited": false, "score": 0, "creation_date": 1449592332, "post_id": 34160758, "comment_id": 56068927, "body": "I have amended your answer but I can&#39;t actually mark it as the answer yet until it has been &quot;peer reviewed&quot; apparently. Many thanks Kenney. Much appreciated"}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "reply_to_user": {"reputation": 71, "user_id": 3683463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43cd58a50a3d693b2b2cd823139cb399?s=128&d=identicon&r=PG&f=1", "display_name": "user3683463", "link": "https://stackoverflow.com/users/3683463/user3683463"}, "edited": false, "score": 0, "creation_date": 1449592686, "post_id": 34160758, "comment_id": 56069169, "body": "Btw, if you use something like <a href=\"https://github.com/neonics/webtools/blob/master/cgi-bin/CGI.pm#L198\" rel=\"nofollow noreferrer\">this</a> to parse the request, returning a <code>%form</code>, you could just <code>@filled_paramnames = grep { length $form{$_} } keys %form</code> and <code>$album_title_search = scalar(@filled_paramnames)==1 &amp;&amp; $filled_paramnames[0]==&#39;album_title&#39;</code>."}], "tags": [], "owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "is_accepted": true, "score": 0, "last_activity_date": 1449592375, "last_edit_date": 1449592375, "creation_date": 1449591370, "answer_id": 34160758, "question_id": 34160514, "link": "https://stackoverflow.com/questions/34160514/perl-form-check-field-is-filled-in/34160758#34160758", "title": "Perl Form - Check Field Is Filled In", "body": "<p>You can do something like this:</p>\n\n<pre><code>$album_title_search=1 \n  if $raw_search_column[$i] eq 'album_title'\n  &amp;&amp; grep { length } @raw_search_value == 1   # only 1 value filled\n  &amp;&amp; length $raw_search_value[$i]             # and that value is for album_title\n</code></pre>\n\n<p>However it can be written much more concisely. Can you post some more code, particularly the loop, the <code>@raw_search_column</code> and the <code>@raw_search_value</code>?</p>\n"}], "owner": {"reputation": 71, "user_id": 3683463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/43cd58a50a3d693b2b2cd823139cb399?s=128&d=identicon&r=PG&f=1", "display_name": "user3683463", "link": "https://stackoverflow.com/users/3683463/user3683463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 34160758, "answer_count": 1, "score": 0, "last_activity_date": 1449592375, "creation_date": 1449590728, "last_edit_date": 1449591569, "question_id": 34160514, "link": "https://stackoverflow.com/questions/34160514/perl-form-check-field-is-filled-in", "title": "Perl Form - Check Field Is Filled In", "body": "<p>I have a HTML form and a variable is set if a particular field is filled in, a Perl script I have inherited. </p>\n\n<pre><code>    for (my $i; $i&lt;@raw_search_value; $i++) {\n    ...\n    $album_search=1 if $raw_search_column[$i] eq 'album_id';\n    $top40_history_search=1 if $raw_search_column[$i]=~/^top40/;\n    $album_ID=$raw_search_value[$i] if $album_search;\n    $album_title_search=1 if $raw_search_column[$i] eq 'album_title';\n    }\n\n    $album_title_search=1 if $raw_search_column[$i] eq 'album_title';\n</code></pre>\n\n<p>A form field called album_title. The code reiterates through the form fields using my $i; $i&lt;@raw_search_value[$i]</p>\n\n<p>However I want the variable album_title_search to be set to one if ONLY this field has been filled in and others haven't. \nIn other words, Set to 1 if this field is filled in and other fields in the form are blank. </p>\n\n<p>Can I do this with one line of Perl, or do I have to expand it to go through every field and check it is blank? </p>\n\n<p>I'm a bit stuck with this and haven't dealt with Perl code very long. Would welcome any suggestions. Many thanks</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1449587377, "post_id": 34159108, "comment_id": 56065246, "body": "First: <a href=\"/http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Don&#39;t use XML::Simple</a>  and then it&#39;s all nice and easy. Give us an XML Sample, and we&#39;ll be able to give you a precise answer."}, {"owner": {"reputation": 2278, "user_id": 1057484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ce4bcaa08665988d0af0413b0c18c63?s=128&d=identicon&r=PG", "display_name": "Bartek Koby\u0142ecki", "link": "https://stackoverflow.com/users/1057484/bartek-koby%c5%82ecki"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449588618, "post_id": 34159108, "comment_id": 56066228, "body": "Appeared posts already answer my question. In general there is a practice to use <code>ref $content eq &#39;ARRAY&#39;</code> where I need to make sure I get arrays, which is ugly by the way, but in my XML case I can use ForceArray parameter or use another xml lib. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 1, "last_activity_date": 1449587235, "creation_date": 1449587235, "answer_id": 34159251, "question_id": 34159108, "link": "https://stackoverflow.com/questions/34159108/accessing-returned-values-as-an-array/34159251#34159251", "title": "Accessing returned values as an array", "body": "<p>What I would say you need is a <strong>flatten</strong>-ing step. </p>\n\n<pre><code>my %files \n    = map { $_-&gt;{Path} =&gt; 1 } \n      # flatten...\n      map { ref() eq 'ARRAY' ? @$_ : $_ } \n      $xml-&gt;XMLin(\"filesmap.xml\")-&gt;{Item}\n    ;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 2, "creation_date": 1449587385, "post_id": 34159284, "comment_id": 56065259, "body": "personally, I&#39;d reverse the logic: <code>ref $content eq &#39;ARRAY&#39; ? $content : [ $content ]</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1449587650, "post_id": 34159284, "comment_id": 56065458, "body": "Or y&#39;know, turn on <code>ForceArray</code> (or just not use XML::Simple in the first place)."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1449587592, "last_edit_date": 1449587592, "creation_date": 1449587304, "answer_id": 34159284, "question_id": 34159108, "link": "https://stackoverflow.com/questions/34159108/accessing-returned-values-as-an-array/34159284#34159284", "title": "Accessing returned values as an array", "body": "<p>You can do a check and force the return into an array reference if necessary:</p>\n\n<pre><code>my $content = $xml-&gt;XMLin(\"filesmap.xml\")-&gt;{Item};\n\n$content = ref $content eq 'ARRAY'\n    ? $content\n    : [$content];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 8, "last_activity_date": 1449587597, "last_edit_date": 1495542617, "creation_date": 1449587597, "answer_id": 34159392, "question_id": 34159108, "link": "https://stackoverflow.com/questions/34159108/accessing-returned-values-as-an-array/34159392#34159392", "title": "Accessing returned values as an array", "body": "<p>What you need is to not use <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><code>XML::Simple</code></a> and then it's really trivial. My favourite for fairly straightforward XML samples is <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> </p>\n\n<pre><code>use XML::Twig;\nmy $twig = XML::Twig -&gt; new -&gt; parsefile ( 'filesmap.xml' ); \n\nmy @files = map { $_ -&gt; trimmed_text } $twig -&gt; get_xpath ( '//Path' ); \n</code></pre>\n\n<p>With a more detailed XML sample (and desired result) I'll be able to give you a better answer. </p>\n\n<p>Part of the problem with <code>XML::Simple</code> is it tries to turn an XML data structure into perl data structures, and - because hashes are key-values and <em>unordered</em> but arrays are ordered, it has to guess. And sometimes it does it wrong, and other times it's inconsistent. </p>\n\n<p>If you want it to be consistent, you can set:</p>\n\n<pre><code>my $xml = XMLin( \"filesmap.xml\", ForceArray =&gt; 1, KeyAttr =&gt; [], ForceContent =&gt; 1 );\n</code></pre>\n\n<p>But really - <code>XML::Simple</code> is just a route to pain. Don't use it. If you don't like <code>XML::Twig</code>, try <code>XML::LibXML</code> instead. </p>\n"}], "owner": {"reputation": 2278, "user_id": 1057484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ce4bcaa08665988d0af0413b0c18c63?s=128&d=identicon&r=PG", "display_name": "Bartek Koby\u0142ecki", "link": "https://stackoverflow.com/users/1057484/bartek-koby%c5%82ecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 34159392, "answer_count": 3, "score": 1, "last_activity_date": 1449587597, "creation_date": 1449586872, "question_id": 34159108, "link": "https://stackoverflow.com/questions/34159108/accessing-returned-values-as-an-array", "title": "Accessing returned values as an array", "body": "<p>I have simple XML that I want to read in Perl and make hash containing all read keys.</p>\n\n<p>Consider this code:</p>\n\n<pre><code>my $content = $xml-&gt;XMLin(\"filesmap.xml\")-&gt;{Item};\nmy %files = map { $_-&gt;{Path} =&gt; 1 } @$content;\n</code></pre>\n\n<p>This snippet works great when XML file contains many <code>Item</code> tags. Then <code>$content</code> is a reference to array. But when there is only one <code>Item</code> I get an error when dereferencing as array. My assumption is that <code>$content</code> is a reference to the scalar, not array.</p>\n\n<p>What is the practice to make sure I get array of values read from XML?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449589229, "post_id": 34159484, "comment_id": 56066658, "body": "Thanks a lot. I have achieved the results."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449589512, "post_id": 34159484, "comment_id": 56066870, "body": "@RahulM: If my answer solved your problem, please accept it by clicking the checkmark icon on the left, so others can see it helped. Take the <a href=\"https://stackoverflow.com/tour\">tour</a> if you are unsure how to do this. :)"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449589800, "post_id": 34159484, "comment_id": 56067077, "body": "I did clicked on checkmark. Also I would like to add following : &quot;#######Active Jobs#######&quot; in the beginning of the file : active_jobs.txt. How can I do this. Please help since I started working on PERL from today :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449589997, "post_id": 34159484, "comment_id": 56067233, "body": "@RahulM you already know how to <code>print</code> to you <code>$outputfile</code>. Just do that right after the <code>open</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1449587868, "creation_date": 1449587868, "answer_id": 34159484, "question_id": 34158784, "link": "https://stackoverflow.com/questions/34158784/list-records-where-absolute-difference-between-current-epochtimestamp-and-epocht/34159484#34159484", "title": "List records where absolute difference between current epochtimestamp and epochtimestamp in file is greater than 48 hours", "body": "<p>I guess you mean that you want to skip the lines that are younger than 48 hours.</p>\n\n<p>The math you suggested is a bit complicated. You can <a href=\"http://perldoc.perl.org/functions/time.html\" rel=\"nofollow\">just call <code>time</code></a>. It will return the current unix timestamp (which is <em>epoch</em>). Now substract the <em>epoch</em> value that you've got in <code>$data[6]</code> before your conversion. If that's greater than 48 hours (which is <code>3600 * 48</code>), you <a href=\"http://perldoc.perl.org/functions/next.html\" rel=\"nofollow\">skip using <code>next</code></a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $timestamp = 1442149024;\nsay 'old' if time - $timestamp &gt; 48 * 3600;\n</code></pre>\n\n<p>I'd put that after the <code>split</code> like this.</p>\n\n<pre><code>my @data = split (' ', $line);\nnext if time - $data[6] &gt; 48 * 3600;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1449589854, "creation_date": 1449589854, "answer_id": 34160199, "question_id": 34158784, "link": "https://stackoverflow.com/questions/34158784/list-records-where-absolute-difference-between-current-epochtimestamp-and-epocht/34160199#34160199", "title": "List records where absolute difference between current epochtimestamp and epochtimestamp in file is greater than 48 hours", "body": "<p>This is a perfect use for the Unix filter model (read from STDIN, write to STDOUT).</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $two_days = 48 * 60 * 60;\n\nwhile (&lt;&gt;) {\n  my @data = split;\n\n  if ($data[1] == 0 and $data[2] == 1 and\n    $data[6] &lt; (time - $two_days)) {\n      print \"$data[0] $data[3] $data[5] \" .\n            localtime($data[6]) . \"\\n\";\n  }\n}\n</code></pre>\n\n<p>Call it as:</p>\n\n<pre><code>$ ./filter_program &lt; in_file &gt; out_file\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 34159484, "answer_count": 2, "score": 0, "last_activity_date": 1449589854, "creation_date": 1449585980, "last_edit_date": 1449586789, "question_id": 34158784, "link": "https://stackoverflow.com/questions/34158784/list-records-where-absolute-difference-between-current-epochtimestamp-and-epocht", "title": "List records where absolute difference between current epochtimestamp and epochtimestamp in file is greater than 48 hours", "body": "<p>I am using the following script to list the details of Jobs from the Input file : backup_report.txt. </p>\n\n<p>The fourth field in the report (represented by $data[6]) is epoch timestamp. The following command converted this to readable timestamp ( $data[6]=scalar(localtime($data[6]));)</p>\n\n<p>How to display only those records where timestamp is greater than 48 hours (currenttimestamp(epoch format)-$data[6](epoch format)/3600 should be greater than 48)</p>\n\n<p>Also the timestamp needs to be converted to readable format.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nopen my $fh, \"&lt;\", \"backup_report.txt\" or die $!;\nopen my $outputfile, \"&gt;\", \"active_jobs.txt\" or die $!;\nwhile (my $line = &lt;$fh&gt;)\n{\n    no warnings 'numeric';\n    chomp $line;\n    my @data = split (' ', $line);\n    if ($data[1] == 0 and $data[2] == 1)\n      {\n         $data[6]=scalar(localtime($data[6]));\n         print $outputfile \"$data[0] $data[3] $data[5] $data[6] \\n\";\n       }\n}\n close $fh;\n close $outputfile;\n</code></pre>\n\n<p>Input file :</p>\n\n<pre><code>237576 0 1 GYTFRUIP01_TYOEPUK_RMAN Default-Application-Backup prtygrf01   1442149024 0000000055 1442149079 23328\n237575 0 1 GYTFRUIP01_TYOEPUK_RMAN Default-Application-Backup prtygrf01 1442148956 0000000053 1442149009 2848\n237574 0 3 GYTFRUIP01_TYOEPUK_RMAN Default-Application-Backup prtygrf01 1442148954 0000000045 1442148999 544\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4974, "user_id": 1638237, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ffa06966d694c32fd87adbcd6bccdad6?s=128&d=identicon&r=PG&f=1", "display_name": "nafas", "link": "https://stackoverflow.com/users/1638237/nafas"}, "edited": false, "score": 0, "creation_date": 1449582476, "post_id": 34157450, "comment_id": 56061694, "body": "A big no no to matching html tag with RegEx.... see  <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"}, {"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 0, "creation_date": 1449582481, "post_id": 34157450, "comment_id": 56061696, "body": "An HTML parser would allow you to simply enumerate H3 looking for inner text of &quot;Target&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 2, "creation_date": 1449582816, "post_id": 34157588, "comment_id": 56061941, "body": "Instead of just writing &quot;Try this or that&quot;, it is always better to actually say <i>why</i> the OPs should use it."}, {"owner": {"reputation": 539, "user_id": 5545463, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/DLDIb.jpg?s=128&g=1", "display_name": "Victoria S.", "link": "https://stackoverflow.com/users/5545463/victoria-s"}, "edited": false, "score": 0, "creation_date": 1449602664, "post_id": 34157588, "comment_id": 56075426, "body": "OP asks for help with his regex, I helped with his regex. What exactly should it explain other than &quot;here&#39;s a regex you can try&quot;?"}], "tags": [], "owner": {"reputation": 539, "user_id": 5545463, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/DLDIb.jpg?s=128&g=1", "display_name": "Victoria S.", "link": "https://stackoverflow.com/users/5545463/victoria-s"}, "is_accepted": true, "score": -1, "last_activity_date": 1449582934, "last_edit_date": 1449582934, "creation_date": 1449582536, "answer_id": 34157588, "question_id": 34157450, "link": "https://stackoverflow.com/questions/34157450/regex-to-match-html-with-or-without-link/34157588#34157588", "title": "Regex to match HTML with or without link", "body": "<p>Try this one as a regex:</p>\n\n<pre><code>&lt;h3&gt;\\s+(&lt;a href=.*&gt;)?\\s+(.*)\\s+(&lt;\\/a&gt;)?\\s+&lt;\\/h3&gt;\n</code></pre>\n\n<p>It should match both your cases.</p>\n\n<p>Even though this is not a recommended way to search html, if this is what you want to try, I won't stop you.</p>\n"}, {"comments": [{"owner": {"reputation": 3613, "user_id": 2751997, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/91c6c9935a7e8d61f9e64c96c1ccd7d3?s=128&d=identicon&r=PG&f=1", "display_name": "John Chrysostom", "link": "https://stackoverflow.com/users/2751997/john-chrysostom"}, "edited": false, "score": 0, "creation_date": 1449585067, "post_id": 34157608, "comment_id": 56063537, "body": "I&#39;m not parsing a whole HTML document, just grabbing text out of little snippets. In this case, it makes sense, even if it&#39;s usually a bad practice."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 3613, "user_id": 2751997, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/91c6c9935a7e8d61f9e64c96c1ccd7d3?s=128&d=identicon&r=PG&f=1", "display_name": "John Chrysostom", "link": "https://stackoverflow.com/users/2751997/john-chrysostom"}, "edited": false, "score": 2, "creation_date": 1449585293, "post_id": 34157608, "comment_id": 56063719, "body": "HTML parsers are still usually better at handling little snippets of HTML than regex."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 9, "last_activity_date": 1449582594, "creation_date": 1449582594, "answer_id": 34157608, "question_id": 34157450, "link": "https://stackoverflow.com/questions/34157450/regex-to-match-html-with-or-without-link/34157608#34157608", "title": "Regex to match HTML with or without link", "body": "<p>Don't use regular expressions to parse HTML. It is more painful then it is worth in most cases. Use a library designed to parse HTML.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse v5.16;\nuse strict;\nuse warnings;\nuse HTML::TreeBuilder;\n\nmy $data = qq{&lt;body&gt;&lt;h3&gt;\n&lt;a href=\"http://link\"&gt;              Target\n&lt;/a&gt;            &lt;/h3&gt;&lt;/body&gt;\n};\n\nmy $otherdata = qq{&lt;body&gt;&lt;h3&gt;\n              Target\n            &lt;/h3&gt;&lt;/body&gt;\n};\n\nmy $t = HTML::TreeBuilder-&gt;new_from_content($data);\nsay $t-&gt;look_down(_tag =&gt; \"h3\")-&gt;as_text();\n\n\n$t = HTML::TreeBuilder-&gt;new_from_content($otherdata);\nsay $t-&gt;look_down(_tag =&gt; \"h3\")-&gt;as_text();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449583594, "creation_date": 1449583594, "answer_id": 34157950, "question_id": 34157450, "link": "https://stackoverflow.com/questions/34157450/regex-to-match-html-with-or-without-link/34157950#34157950", "title": "Regex to match HTML with or without link", "body": "<p>Just to put my two cents in, why not use an xpath query with a decent Dom library?</p>\n\n<pre><code>//html/body/h3/text()[contains(.,'Target')\n</code></pre>\n\n<p>The actual query may vary depending upon your html structure.</p>\n"}], "owner": {"reputation": 3613, "user_id": 2751997, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/91c6c9935a7e8d61f9e64c96c1ccd7d3?s=128&d=identicon&r=PG&f=1", "display_name": "John Chrysostom", "link": "https://stackoverflow.com/users/2751997/john-chrysostom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 34157588, "answer_count": 3, "score": 0, "last_activity_date": 1449583594, "creation_date": 1449582194, "question_id": 34157450, "link": "https://stackoverflow.com/questions/34157450/regex-to-match-html-with-or-without-link", "title": "Regex to match HTML with or without link", "body": "<p>I would like to be able to get \"Target\" out of this block of HTML when it appears in a page:</p>\n\n<pre><code>&lt;h3&gt;\n    &lt;a href=\"http://link\"&gt;              Target\n    &lt;/a&gt;            &lt;/h3&gt;\n</code></pre>\n\n<p>I can count on the spacing being reliably there. What I can't count on is that \"Target\" will always be included in an anchor tag. Sometimes, it looks like this:</p>\n\n<pre><code>&lt;h3&gt;\n                    Target\n                &lt;/h3&gt;\n</code></pre>\n\n<p>I can match the first version and extract \"Target\" pretty easily with this regex:</p>\n\n<pre><code>/&lt;h3&gt;\\s+&lt;a href=.*&gt;\\s+(.*)\\s+&lt;\\/a&gt;\\s+&lt;\\/h3&gt;/\n</code></pre>\n\n<p>But I'm struggling to write one that will match both. Any ideas?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1449584126, "post_id": 34157094, "comment_id": 56062871, "body": "Rule 1 of dealing with complex regexes: Don&#39;t, use separate ones."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449584321, "post_id": 34157094, "comment_id": 56063015, "body": "@Sobrique I understand, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1449582321, "post_id": 34157373, "comment_id": 56061575, "body": "You should <code>use warnings &#39;all&#39;</code> in preference to <code>-w</code> on the command liune or shebang line"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449589410, "post_id": 34157373, "comment_id": 56066798, "body": "You should also use <code>chomp</code> instead of <code>chop</code>, and use style choices that aid <i>other people</i> rather than yourself, which mostly means using <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\">perlstyle</a>"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449590206, "post_id": 34157373, "comment_id": 56067406, "body": "@Borodin, changed the <code>chop</code> to <code>chomp</code>, however I don&#39;t quite see what style changes you are alluding to. The only thing that I see is the position of the opening curly brackets, but that&#39;s really a matter of taste (I just hate trailing brackets), and I doubt that would be a problem for anyone. Anything else?"}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1449590031, "last_edit_date": 1449590031, "creation_date": 1449581977, "answer_id": 34157373, "question_id": 34157094, "link": "https://stackoverflow.com/questions/34157094/perl-regex-conditionals-and-match-multiple-objects-against-inconsistent-strin/34157373#34157373", "title": "Perl - Regex, conditionals and match multiple objects against inconsistent strings", "body": "<pre><code>#!/usr/bin/env perl -w\n\nuse strict;\n\nwhile (&lt;&gt;)\n{\n    chomp;\n    if (/^\\[[^\\]]+\\]\\W+(.*?)(?:\\W+(\u00a3\\d+(?:\\.\\d{2})?))?$/)\n    {\n        print \"line: $1\\n\";\n        print \"price: $2\\n\" if $2;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>line: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt\nprice: \u00a334.99\nline: ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis\nprice: \u00a3255.25\nline: deserunt mollit anim id est laborum\nprice: \u00a3500\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1449583234, "post_id": 34157689, "comment_id": 56062239, "body": "This looks like a very good solution, point taken about cramming too much into a single regex. Thanks"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1449584236, "post_id": 34157689, "comment_id": 56062952, "body": "I&#39;ve seen this trend too. I&#39;m really not sure why - I mean, I suppose a &#39;power&#39; regex seems pretty potent, but it... does exactly the thing that gives perl a bit of a bad rep. Adds complexity, reduces clarity, but without actually gaining much efficiency for all it&#39;s concise."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449586951, "post_id": 34157689, "comment_id": 56064956, "body": "@Sobrique, please take a look at my edited question, there&#39;s an edge case I&#39;ve just found."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1449587274, "post_id": 34157689, "comment_id": 56065168, "body": "If the discount is always bracketed like that, it should be trivial to adapt this answer."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449587497, "post_id": 34157689, "comment_id": 56065348, "body": "@Sobrique my regex fu is weak, my brain today is weaker, I&#39;m still trying to figure out how the above works, never mind adapt it :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1449589067, "post_id": 34157689, "comment_id": 56066539, "body": "@Dr.Avalanche: Please don&#39;t treat Stack Overflow as if it were an internet forum: you&#39;re asking a new question. Also, it leaves a nasty taste in the mouth if people seem to be unwilling to write any code for themselves. Stack Overflow is a <i>knowledge base</i> like <b>Wikipedia</b>, so if you think of your question as being like a root page on Wiki then you have the right idea. Do you really imagine that there would be a lot of traffic for <i>this solution doesn&#39;t quite work</i>?"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1449589691, "post_id": 34157689, "comment_id": 56066985, "body": "@Borodin &quot;Please don&#39;t treat Stack Overflow as if it were an internet forum: you&#39;re asking a new question.&quot; Would you prefer I posted a new question? &quot;Also, it leaves a nasty taste in the mouth if people seem to be unwilling to write any code for themselves.&quot; On this site I&#39;ve written code for myself and to answer others. Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1449583191, "last_edit_date": 1449583191, "creation_date": 1449582845, "answer_id": 34157689, "question_id": 34157094, "link": "https://stackoverflow.com/questions/34157094/perl-regex-conditionals-and-match-multiple-objects-against-inconsistent-strin/34157689#34157689", "title": "Perl - Regex, conditionals and match multiple objects against inconsistent strings", "body": "<p>I keep seeing examples of people trying to cram far too much into a single regex</p>\n\n<p>I would do it like this</p>\n\n<ul>\n<li><p>Remove bracketed substring followed by any number of non-word characters from the start of the string</p></li>\n<li><p>Remove any number of non-word characters followed by a price, and optional whitespace from the end of the string, capturing the price</p></li>\n<li><p>Assign the capture to <code>$price</code> if one was found</p></li>\n</ul>\n\n<p>Handling the prefix and the suffix separately makes it much easier to write a clear solution, which looks like this. Unfortunately the mess of brackets and backslashes that describe the prefix can't be improved, unless you want to use <code>\\[ [^][]* \\]</code> which I don't think is significantly better</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n    s/ ^ \\[ [^\\[\\]]* \\] \\W* //x;\n\n    my $price;\n    $price = $1 if s/ \\W* (\u00a3[\\d.]+)? \\s* \\z //x;\n\n    say $_;\n    say $price if $price;\n}\n\n\n__DATA__\n[Foo] - Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt \u00a334.99\n[BARBAR] ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis \u00a3255.25\n[BAZZ] - deserunt mollit anim id est laborum. - \u00a3500\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt\n\u00a334.99\nullamco laboris nisi ut aliquip ex ea commodo consequat. Duis\n\u00a3255.25\ndeserunt mollit anim id est laborum\n\u00a3500\n</code></pre>\n"}], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 34157689, "answer_count": 2, "score": 2, "last_activity_date": 1449590031, "creation_date": 1449581136, "last_edit_date": 1449586873, "question_id": 34157094, "link": "https://stackoverflow.com/questions/34157094/perl-regex-conditionals-and-match-multiple-objects-against-inconsistent-strin", "title": "Perl - Regex, conditionals and match multiple objects against inconsistent strings", "body": "<p>From a text file I load each line into a variable (<code>$line</code>). Each line has a general form, but is not consistent, e.g.</p>\n\n<pre><code>[Foo] - Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt \u00a334.99\n[BARBAR] ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis \u00a3255.25\n[BAZZ] - deserunt mollit anim id est laborum. - \u00a3500\n</code></pre>\n\n<p>For each line I want a string which</p>\n\n<ul>\n<li>Does not have the square brackets</li>\n<li>Does not contain leading spaces or non alpha numeric characters e.g. ' - '</li>\n</ul>\n\n<p>To further complicate things I'd like to return the price as a different variable.</p>\n\n<p>A couple of examples of the above data:</p>\n\n<pre><code>$var1 = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt';\n$var2 = '\u00a399.99';\n\n$var1 = 'ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis';\n$var2 = '\u00a3255.25';\n\n$var1 = 'deserunt mollit anim id est laborum';\n$var2 = '\u00a3500';\n</code></pre>\n\n<p>I have literally no idea where to begin with what is (to me) a really complicated regex.</p>\n\n<p><strong>Edit</strong>, edge cases...</p>\n\n<p>Turns out that way into the text file there's some edge cases my description didn't cover, for example:</p>\n\n<pre><code>[BARBAR] ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis \u00a3255.25 (5% off)\n[BAZZ] - deserunt mollit anim id est laborum. - \u00a3500 (%10 less)\n</code></pre>\n\n<p>Ideally I'd like to store the value (e.g. '10% less','5% off') in a variable called <code>$discount</code>, if they exist.</p>\n"}, {"tags": ["perl", "smtp"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1449579478, "post_id": 34156279, "comment_id": 56059670, "body": "Whta you are trying to do the last 4 lines?"}, {"owner": {"reputation": 299, "user_id": 1583935, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/323593bf3942eeb4bb6616d634a0a93d?s=128&d=identicon&r=PG", "display_name": "Andy Thompson", "link": "https://stackoverflow.com/users/1583935/andy-thompson"}, "edited": false, "score": 1, "creation_date": 1449581190, "post_id": 34156279, "comment_id": 56060755, "body": "Add use warnings; and include information about what fails when running the script. Any error given or..?"}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 0, "creation_date": 1449685006, "post_id": 34157171, "comment_id": 56118456, "body": "Thank you very much. I didn&#39;t know about the single/double quote thing. I know it wouldn&#39;t work from the start because i read in the documentation that you need another module to login to any server that needs credentials (I was hoping for some error that i could check). You are correct about what i pretended in the last lines of the code."}, {"owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 0, "creation_date": 1449685053, "post_id": 34157171, "comment_id": 56118491, "body": "Nonetheless thank you so much. This little &quot;tips&quot; helps me out a lot. Thank you for your time."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "edited": false, "score": 0, "creation_date": 1449730147, "post_id": 34157171, "comment_id": 56136574, "body": "If my answer was any use to you, you might consider upvoting it or even accepting it."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1449581710, "last_edit_date": 1449581710, "creation_date": 1449581370, "answer_id": 34157171, "question_id": 34156279, "link": "https://stackoverflow.com/questions/34156279/perl-mailmailer-not-working/34157171#34157171", "title": "Perl Mail::Mailer not working", "body": "<p>Well done for using <code>strict</code> in your code. For extra credit, add a <code>use warnings</code> line too.</p>\n\n<p>I can't see any obvious problems with the way you're using the module. Do you think there's something wrong? Is the email not being sent?</p>\n\n<p>If you're not getting the email, then I'd suggest that your first step should be to follow the example in the documentation and change the <code>close</code> line to:</p>\n\n<pre><code>$mailer-&gt;close\n  or die \"couldn't send whole message: $!\\n\";\n</code></pre>\n\n<p>I wonder if the problem (if there is one) is that you're using Google's SMTP server and you don't have permission to do that. Perhaps you need to authenticate first.</p>\n\n<p>A few other points about your code.</p>\n\n<p>There is no need for all of your set-up variables to be initialised with double-quoted strings. And if you switch to single-quoted strings then you no longer need to escape the <code>@</code>s in the data. You would need double quotes to put the newline in <code>$subject</code>, but I've removed that as email subject lines rarely contain newlines.</p>\n\n<pre><code>my $from_adress = 'email@xxxxx.com';\nmy $to_adress = 'email@hxxxx.com';\nmy $subject = 'There goes bananas';\nmy $body = 'Here is the bananas';\nmy $server = 'smtp.gmail.com';\n</code></pre>\n\n<p>The last four lines of your code are confusing in many ways. I'm not really sure what you're trying to achieve there. I'll point out two things though. Firstly, we generally use lexical filehandles these days. If you're learning from a source that uses bareword filehandles, then I'd worry slightly about its age. So the file opening line should look like this:</p>\n\n<pre><code># $f is, of course, a terrible name for a variable\nopen(my $f, '&gt;&gt;', $Mail::Mailer::testfile::config{outfile});\n</code></pre>\n\n<p>You are then printing the value of <code>@_</code>. In Perl, <code>@_</code> contains the arguments to a subroutine. And this code isn't inside a subroutine, so <code>@_</code> will be empty. So I'm not surprised that you're not getting any output.</p>\n\n<p>Lastly, I'll point out that I find that I enjoy working with email in Perl a lot more when I'm using tools from the Email::* namespace. In particular, I'd use <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow\">Email::Sender</a> for sending email.</p>\n\n<p><strong>Update:</strong> Ok, I've had a closer look at the <a href=\"https://metacpan.org/pod/Mail::Mailer\" rel=\"nofollow\">Mail::Mailer</a> documentation and I think I understand what you're trying to do in the last four lines. I think you're trying to write the mail message data to the file. Is that right?</p>\n\n<p>If it is, then you're misunderstanding the documentation. The way to do that is to change the type that you pass to <code>new()</code>. It needs to be <code>testfile</code> rather than <code>smtp</code>. So change</p>\n\n<pre><code>my $mailer = Mail::Mailer-&gt;new(\"smtp\", Server =&gt; $server);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $mailer = Mail::Mailer-&gt;new(\"testfile\",);\n</code></pre>\n\n<p>That will write the mail to a file called <code>mailer.testfile</code> and no mail will be sent.</p>\n"}], "owner": {"reputation": 1864, "user_id": 4581336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b5d7bbd86863406b495a518128005eb0?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4581336/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449581710, "creation_date": 1449578756, "question_id": 34156279, "link": "https://stackoverflow.com/questions/34156279/perl-mailmailer-not-working", "title": "Perl Mail::Mailer not working", "body": "<p>I'm new to using modules in Perl. My head is exploding right now and i would like to know what is wrong in here:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\n\nuse Mail::Mailer;\n\n\nmy $from_adress = \"email\\@xxxxx.com\";\nmy $to_adress = \"email\\@hxxxx.com\";\nmy $subject = \"There goes bananas\\n\";\nmy $body = \"Here is the bananas\";\nmy $server = \"smtp.gmail.com\";\n\nmy $mailer = Mail::Mailer-&gt;new(\"smtp\", Server =&gt; $server);\n$mailer-&gt;open({\n        From =&gt; $from_adress,\n        To   =&gt; $to_adress,\n        Subject =&gt; $subject,\n});\nprint $mailer $body;\n$mailer-&gt;close();\n\nopen(F, '&gt;&gt;', $Mail::Mailer::testfile::config{outfile});\nprint F @_;\nprint @_;\nclose (F);\n</code></pre>\n\n<p>Sorry to post the whole script but i'm not sure where it went wrong. I don't get any print from @_ variable. I would love to receive advises on how to improve in using modules in Perl and how i can get better at it.\nThanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1449588297, "post_id": 34155659, "comment_id": 56065993, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/33877884/error-in-conditionally-including-perl-module-using-if-pragma\">Error in conditionally including Perl module using if pragma</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 7, "last_activity_date": 1450108874, "last_edit_date": 1450108874, "creation_date": 1449577821, "answer_id": 34155974, "question_id": 34155659, "link": "https://stackoverflow.com/questions/34155659/conditionally-including-a-module-in-perl/34155974#34155974", "title": "Conditionally including a module in perl", "body": "<p>This is because <code>use</code> statements are executed at <em>compile time</em>, while your assignment is performed at <em>run time</em> and hasn't been executed yet</p>\n\n<p>You can fix this by using a <code>BEGIN</code> block to do the assigmment at  compile time as well, like this. <strong><em>Note that</em></strong> the variable must be declared <em>outside</em> the block, otherwise it will be local to the block and will disappear before it is neded</p>\n\n<pre><code>my $condition;\nBEGIN {\n    $condition = 1;\n}\n\nuse if $condition, 'Term::ANSIColor';\n\nprint color('bold red');\nprint \"hii\";\nprint color('reset');\n</code></pre>\n\n<p><strong><em>Note also that</em></strong> you should <em>always</em> have <code>use strict</code> and <code>use warnings 'all'</code> at the top of every Perl program. If you had these in place you would need to quote the module name, as shown above</p>\n"}], "owner": {"reputation": 604, "user_id": 2439376, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4ea7401577c850d20106c9688d789d21?s=128&d=identicon&r=PG", "display_name": "Abhishek Agarwal", "link": "https://stackoverflow.com/users/2439376/abhishek-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 34155974, "answer_count": 1, "score": 3, "last_activity_date": 1450108874, "creation_date": 1449576980, "question_id": 34155659, "link": "https://stackoverflow.com/questions/34155659/conditionally-including-a-module-in-perl", "title": "Conditionally including a module in perl", "body": "<p>I am new to perl, just encountered one case.</p>\n\n<p>Can someone tell why does this fail with error\nUndefined subroutine &amp;main::color</p>\n\n<pre><code>$condition = 1;\nuse if ( $condition ), Term::ANSIColor;\nprint color('bold red');\nprint \"hii\";\nprint color('reset');\n</code></pre>\n\n<p>and this passes</p>\n\n<pre><code>use if ( 1 ), Term::ANSIColor;\nprint color('bold red');\nprint \"hii\";\nprint color('reset');\n</code></pre>\n"}, {"tags": ["perl", "api", "office365api", "microsoft-graph-api"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1449580274, "post_id": 34155217, "comment_id": 56060170, "body": "This might be a better fit for <a href=\"http://webapps.stackexchange.com/\">webapps.stackexchange.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1515, "user_id": 3661913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7ece356644408c40881a4ca02614334?s=128&d=identicon&r=PG&f=1", "display_name": "Yina - MSFT", "link": "https://stackoverflow.com/users/3661913/yina-msft"}, "edited": false, "score": 2, "creation_date": 1449618206, "post_id": 34163610, "comment_id": 56083828, "body": "Example:  DELETE <a href=\"https://graph.microsoft.com/v1.0/groups/&lt;id&gt;/members/$ref\" rel=\"nofollow noreferrer\">graph.microsoft.com/v1.0/groups/&lt;id&gt;/members/$ref</a> Content-type: application/json {&quot;@odata.id&quot;: &quot;<a href=\"https://graph.microsoft.com/v1.0/directoryObjects/&lt;id\" rel=\"nofollow noreferrer\">graph.microsoft.com/v1.0/directoryObjects/&lt;id</a>&gt;&quot;}"}], "tags": [], "owner": {"reputation": 1426, "user_id": 5584143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f200e8844b3cd07524cd7a5bed618f78?s=128&d=identicon&r=PG&f=1", "display_name": "Marek Rycharski", "link": "https://stackoverflow.com/users/5584143/marek-rycharski"}, "is_accepted": true, "score": 3, "last_activity_date": 1449600324, "creation_date": 1449600324, "answer_id": 34163610, "question_id": 34155217, "link": "https://stackoverflow.com/questions/34155217/in-new-microsoft-graph-api-how-do-you-remove-members-from-a-unified-group/34163610#34163610", "title": "In new microsoft graph API, how do you remove members from a Unified group?", "body": "<p>Please append /$ref to your request to delete the link/reference between the group and the member. A request without /$ref semantically represents an attempt to delete the member object along with the link to the group. Such requests are only supported for containment navigations as in the case of events. </p>\n\n<p>The events navigation property on the group entity type has ContainsTarget=\"true\" attribute in <a href=\"https://graph.microsoft.com/v1.0/\" rel=\"nofollow\">https://graph.microsoft.com/v1.0/</a>$metadata. Contained entities can't be unlinked from the containing entity and thus a DELETE ../$ref request can't be used in this case and simple DELETE /groups//events/ will remove a group event (not just its link/reference to the group).</p>\n"}], "owner": {"reputation": 139, "user_id": 3036395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XbsGD.jpg?s=128&g=1", "display_name": "Jon Knight", "link": "https://stackoverflow.com/users/3036395/jon-knight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1157, "favorite_count": 0, "accepted_answer_id": 34163610, "answer_count": 1, "score": 0, "last_activity_date": 1449600324, "creation_date": 1449575593, "question_id": 34155217, "link": "https://stackoverflow.com/questions/34155217/in-new-microsoft-graph-api-how-do-you-remove-members-from-a-unified-group", "title": "In new microsoft graph API, how do you remove members from a Unified group?", "body": "<p>The Microsoft Graph API documentation at <a href=\"https://graph.microsoft.io/docs/api-reference/v1.0/resources/group\" rel=\"nofollow\">https://graph.microsoft.io/docs/api-reference/v1.0/resources/group</a> shows methods for listing members of a group and creating a new member.  I've had both of those working with my Perl code OK (using the app authorized client credentials flow, as this will be a daemon eventually running on one of our Linux servers). So that's all good, the bearer tokens are working, etc.  Great.</p>\n\n<p>What I want to do now is remove a member from a group, but I don't see a method documented for that?  I tried guessing and using:</p>\n\n<p>DELETE <a href=\"https://graph.microsoft.com/v1.0/groups/&lt;group_id&gt;/members/&lt;member_id\" rel=\"nofollow\">https://graph.microsoft.com/v1.0/groups/&lt;group_id&gt;/members/&lt;member_id</a>></p>\n\n<p>but that results in a \"Bad Request\" error with the explanation of \"Write requests are only supported on contained entities\". So is this possible and if so, what is the RESTful call I need to make?</p>\n\n<p>I can foresee a similar issue with deleting calendar events when I get to that (I'm trying to set up groups that have calendar events attached to them for our student timetabling system) as the documentation shows API calls for listing events and creating them, but not removing them.  I get the impression that the API is still under development (despite moving from /beta to /v1.0) and the documentation is in flux?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 731, "user_id": 5309594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7ed90f02f74f12b018acb3ff69dac8?s=128&d=identicon&r=PG&f=1", "display_name": "malyy", "link": "https://stackoverflow.com/users/5309594/malyy"}, "edited": false, "score": 1, "creation_date": 1449575562, "post_id": 34154918, "comment_id": 56057117, "body": "are you sure about shell? $awk &#39;$2 == &quot;0&quot; &amp;&amp; $3 == &quot;1&quot; { print $0 }&#39; 333.txt"}, {"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "reply_to_user": {"reputation": 731, "user_id": 5309594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7ed90f02f74f12b018acb3ff69dac8?s=128&d=identicon&r=PG&f=1", "display_name": "malyy", "link": "https://stackoverflow.com/users/5309594/malyy"}, "edited": false, "score": 0, "creation_date": 1449577708, "post_id": 34154918, "comment_id": 56058591, "body": "Yes. The above command worked on shell but I have to perform some other tasks as well like I used while loop which didnt worked on AIX"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449577504, "post_id": 34155073, "comment_id": 56058446, "body": "How can we write the Output to a file ?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "edited": false, "score": 0, "creation_date": 1449578113, "post_id": 34155073, "comment_id": 56058882, "body": "@RahulM: See the edit. I have edited code for writing in output file. Open a file in write and write those lines into file."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1449578078, "last_edit_date": 1449578078, "creation_date": 1449575174, "answer_id": 34155073, "question_id": 34154918, "link": "https://stackoverflow.com/questions/34154918/perl-how-to-print-all-the-lines-where-second-field-is-0-and-third-field-is-1/34155073#34155073", "title": "Perl : how to print all the lines where second field is 0 and third field is 1", "body": "<p>Read file line by line and split it with whitespace, then check if second field is 0 and third field is 1, write it in an output file.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $fh, \"&lt;\", \"file.txt\" or die $!;\nopen my $fhout, \"&gt;\", \"outfile.txt\" or die $!;\n\nwhile (my $line = &lt;$fh&gt;)\n{\n    chomp $line;\n    my @data = split (' ', $line);\n    if ($data[1] == 0 &amp;&amp; $data[2] == 1)\n    {\n        print $fhout $line, \"\\n\";\n    }\n}\nclose $fh;\nclose $fhout;\n</code></pre>\n\n<p>Output (in output file 'outfile.txt'):</p>\n\n<pre><code>237574 0 1 RMAN_Backup Default_Backup clmjk 1442148954 0000000045 1442148999 544\n237573 0 1 RMAN_Backup Default_Backup clmjk 1442145436 0000000053 1442145489 23328\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1449583082, "last_edit_date": 1449583082, "creation_date": 1449575411, "answer_id": 34155153, "question_id": 34154918, "link": "https://stackoverflow.com/questions/34154918/perl-how-to-print-all-the-lines-where-second-field-is-0-and-third-field-is-1/34155153#34155153", "title": "Perl : how to print all the lines where second field is 0 and third field is 1", "body": "<p>As a one-liner:</p>\n\n<pre><code>perl -ane 'print if 0 == $F[1] &amp;&amp; 1 == $F[2]' input-file\n</code></pre>\n\n<ul>\n<li><code>-n</code> reads the input line by line</li>\n<li><code>-a</code> splits the input on whitespace to the <code>@F</code> array</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449593791, "post_id": 34156635, "comment_id": 56069899, "body": "Oops. Yes, that&#39;s what I meant. I&#39;ll fix it. Thanks."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1449593806, "last_edit_date": 1449593806, "creation_date": 1449579801, "answer_id": 34156635, "question_id": 34154918, "link": "https://stackoverflow.com/questions/34154918/perl-how-to-print-all-the-lines-where-second-field-is-0-and-third-field-is-1/34156635#34156635", "title": "Perl : how to print all the lines where second field is 0 and third field is 1", "body": "<p>This kind of thing is perfect to be written as a Unix filter (reading from STDIN and writing to STDOUT).</p>\n\n<pre><code>use warnings;\nuse strict;\n\nwhile (&lt;&gt;) {\n  my @data = split;\n  print if $data[1] == 0 &amp;&amp; $data[2] == 1;\n}\n</code></pre>\n\n<p>Run it like this:</p>\n\n<pre><code>$ ./filter &lt; input_file &gt; output_file\n</code></pre>\n\n<p>In fact, it's simple enough to write it as a command line program</p>\n\n<pre><code>$ perl -ane 'print if $F[1] == 0 &amp;&amp; $F[2] == 1' input_file &gt; output_file\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5514685, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ebb84f3bdca3838188d2492d6fe19283?s=128&d=identicon&r=PG&f=1", "display_name": "RahulM", "link": "https://stackoverflow.com/users/5514685/rahulm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1449593806, "creation_date": 1449574688, "last_edit_date": 1449574905, "question_id": 34154918, "link": "https://stackoverflow.com/questions/34154918/perl-how-to-print-all-the-lines-where-second-field-is-0-and-third-field-is-1", "title": "Perl : how to print all the lines where second field is 0 and third field is 1", "body": "<p>How to print all the lines where second field is 0 and third field is 1 in Perl. I am specifically looking for a Perl Solution since there are few limitations in AIX Server (shell version is very old) and hence shell script is not working properly. Below is the sample file:</p>\n\n<pre><code>237576 6 1 RMAN_Backup Default_Backup clmjk 1442149024 0000000055 1442149079 23328\n237575 0 3 RMAN_Backup Default_Backup clmjk 1442148956 0000000053 1442149009 2848\n237574 0 1 RMAN_Backup Default_Backup clmjk 1442148954 0000000045 1442148999 544\n237573 0 1 RMAN_Backup Default_Backup clmjk 1442145436 0000000053 1442145489 23328\n237572 0 3 RMAN_Backup Default_Backup clmjk 1442145352 0000000047 1442145399 544\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1449571492, "post_id": 34153767, "comment_id": 56054323, "body": "But i want to return that variable instead of printing .any idea.and how to store this in variable.whole result."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1449571587, "post_id": 34153767, "comment_id": 56054423, "body": "Return it where? This produces the output as in your question. You don&#39;t give any more detail, so I can&#39;t answer."}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1449571663, "post_id": 34153767, "comment_id": 56054473, "body": "agreed .actually what i was saying was instead of printing :"}, {"owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1449571714, "post_id": 34153767, "comment_id": 56054509, "body": "&quot;$key=\\&#39;&quot;, join( &quot;<i>&quot;, @{ $stuff{$key} } ), &quot;\\&#39;\\n&quot;; i wannt] to store this in variable .so that end result i will get is :SETUP_FACE_PROT = &#39;great</i>great2*great3&#39;,SETUP_FACE_PROT=&#39;arm&#39;,SETUP_FOOT_PROT=&#39;&zwnj;&#8203;foot*foot2&#39;,SETUP_HE&zwnj;&#8203;AD_PROT=&#39;google&#39;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "edited": false, "score": 0, "creation_date": 1449571760, "post_id": 34153767, "comment_id": 56054534, "body": "If you&#39;ve further clarification of the desired output, then it&#39;s best edited into your question."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1449577343, "post_id": 34153767, "comment_id": 56058316, "body": "It is in a variable. It&#39;s in <code>%stuff</code>."}, {"owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 0, "creation_date": 1449577408, "post_id": 34153767, "comment_id": 56058362, "body": "@Sobrique: <code>chomp()</code> within the while loop is not really needed, right?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 0, "creation_date": 1449578452, "post_id": 34153767, "comment_id": 56059093, "body": "@jreisinger no, not really. Seems to work ok without it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449578951, "post_id": 34153767, "comment_id": 56059352, "body": "Updated with inserting into a string. I don&#39;t really think you want to stringify and then pass it though, that&#39;s kinda ugly."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1449578870, "last_edit_date": 1449578870, "creation_date": 1449571366, "answer_id": 34153767, "question_id": 34153695, "link": "https://stackoverflow.com/questions/34153695/how-to-concatenate-values-for-duplicate-hash-keys-in-perl/34153767#34153767", "title": "How to concatenate values for duplicate hash keys in Perl?", "body": "<p>You can't duplicate keys, you can create a hash of arrays. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %stuff;\n\nwhile (&lt;DATA&gt;) {\n    my ( $key, $value ) = split;\n    push( @{ $stuff{$key} }, $value );\n}\n\nprint Dumper \\%stuff;\n\nforeach my $key ( sort keys %stuff ) {\n    print \"$key=\\'\", join( \"*\", @{ $stuff{$key} } ), \"\\'\\n\";\n}\n\n__DATA__\nSETUP_FACE_PROT great\nSETUP_FACE_PROT great2\nSETUP_FACE_PROT great3\nSETUP_FACE_PROT great3\nSETUP_ARM_PROT arm\nSETUP_FOOT_PROT foot\nSETUP_FOOT_PROT foot2\nSETUP_HEAD_PROT goggle\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Turning it into a string as requested: </p>\n\n<pre><code>my $results; \nforeach my $key ( sort keys %stuff ) {\n    $results .= \"$key=\\'\". join( \"*\", @{ $stuff{$key} } ). \"\\'\\n\";\n}\n\nprint $results;\n</code></pre>\n\n<p>Or perhaps using <code>print</code> still with a filehandle:</p>\n\n<pre><code>my $results; \nopen ( my $output, '&gt;', \\$results ); \nforeach my $key ( sort keys %stuff ) {\n    print {$output} \"$key=\\'\", join( \"*\", @{ $stuff{$key} } ), \"\\'\\n\";\n}\nclose ( $output );\nprint $results;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1449577442, "post_id": 34155488, "comment_id": 56058398, "body": "Why do you load Text::CSV, create a Text::CSV parser object and then not use it? Also, Sobrique&#39;s <a href=\"http://stackoverflow.com/a/34153767/7231\">answer</a> is a much cleaner version of this code. Why not use that instead?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449578892, "post_id": 34155488, "comment_id": 56059319, "body": "OK. Updated the answer to include a single variable containing the data."}], "tags": [], "owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "is_accepted": false, "score": 0, "last_activity_date": 1449576469, "creation_date": 1449576469, "answer_id": 34155488, "question_id": 34153695, "link": "https://stackoverflow.com/questions/34153695/how-to-concatenate-values-for-duplicate-hash-keys-in-perl/34155488#34155488", "title": "How to concatenate values for duplicate hash keys in Perl?", "body": "<p>At last i got an answer doing this.</p>\n\n<pre><code>   use Data::Dumper;\n   my %stuff;\n   use Text::CSV;\n   my $csv = Text::CSV_XS-&gt;new ({ binary =&gt; 1, eol =&gt; $/ });\n\n   my $filenamex = 'duplicate2.csv';\n\n   $checkstring ='';\n    open(my $datab, '&lt;', $filenamex) or die \"Could not open '$filename' $!\\n\";\n    $i=1;\n    my %datan;\n    while (my $linea = &lt;$datab&gt;) \n    {\n      chomp $linea;\n      @fieldsx = split \",\",$linea;\n      $key = $fieldsx[0];\n      $value = $fieldsx[1];\n     # print $key;\n       push( @{ $stuff{$key} }, $value );\n    }\n\n\n\n foreach my $key ( sort keys %stuff ) \n  {\n   $checkstring = $checkstring.','.$key.'='. join( \"*\", @{ $stuff{$key} } );\n  }\n\n print $checkstring;\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5127920, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/07c09c8813d1b23b93cc7d7c6f30b6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Sheolikar", "link": "https://stackoverflow.com/users/5127920/animesh-sheolikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449600020, "creation_date": 1449571158, "last_edit_date": 1449600020, "question_id": 34153695, "link": "https://stackoverflow.com/questions/34153695/how-to-concatenate-values-for-duplicate-hash-keys-in-perl", "title": "How to concatenate values for duplicate hash keys in Perl?", "body": "<p>I know it is not possible to have duplicate keys in a hash, but this is what my data looks like:</p>\n\n<pre><code>Key                Value\n\nSETUP_FACE_PROT    great\nSETUP_FACE_PROT    great2\nSETUP_FACE_PROT    great3\nSETUP_FACE_PROT    great3\nSETUP_ARM_PROT     arm\nSETUP_FOOT_PROT    foot\nSETUP_FOOT_PROT    foot2\nSETUP_HEAD_PROT    goggle \n</code></pre>\n\n<p>I would like to concatenate values for repeated keys, separated by a <code>*</code> character. For example, this is what I want the output to look like:</p>\n\n<pre><code>SETUP_FACE_PROT'=great*great2*great3',\nSETUP_ARM_PROT='arm',\nSETUP_FOOT_PROT='foot*foot2',\nSETUP_HEAD_PROT='google'\n</code></pre>\n\n<p>This is how I've tried to solve the problem so far:</p>\n\n<pre><code>foreach my $key ( sort keys %stuff ) \n{\n   print \"$key=\\'\", join( \"*\", @{ $stuff{$key} } ), \"\\'\\n\";\n}\n</code></pre>\n\n<p>But instead of printing the result, how can I store it in a variable so that I can pass it to another subroutine? I'm trying to create a new string that looks like this:</p>\n\n<pre><code>$newstring=\"\nSETUP_FACE_PROT='great*great2*great3',\nSETUP_ARM_PROT='arm',\nSETUP_FOOT_PROT='foot*foot2',\nSETUP_HEAD_PROT='google'  \"\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449554612, "post_id": 34148901, "comment_id": 56045409, "body": "It might be producing errors, but you&#39;re not <a href=\"https://metacpan.org/pod/Archive::Zip#ERROR-CODES\" rel=\"nofollow noreferrer\">checking for them</a>."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449554796, "post_id": 34148901, "comment_id": 56045460, "body": "its not producing any error, just the print output &quot;member added&quot; &amp; &quot;writing to zip.&quot; this is all i am getting on cmd"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449554895, "post_id": 34148901, "comment_id": 56045489, "body": "How would you know if there&#39;s an error if you&#39;re not doing any error handling?"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449555107, "post_id": 34148901, "comment_id": 56045575, "body": "Hey Matt, Please suggest me how to do that, or if there is other way to do zipping of files. I am new to perl."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449555446, "post_id": 34148901, "comment_id": 56045738, "body": "Look at the link I posted in my first comment."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449556049, "post_id": 34148901, "comment_id": 56045994, "body": "Adding below code in last  lines,  I am getting this error&quot;Bareword &quot;AZ_OK&quot; not allowed while &quot;strict subs&quot; in use at D:\\advapp\\PSMAG\\Scripts\\Testing&quot;                                               unless ( $zip-&gt;writeToFileNamed(&#39;zippedFolders.zip&#39;) == AZ_OK ) { \t\tdie &#39;write error&#39;; \t\t}#zip file name change it as u want"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449556784, "post_id": 34148901, "comment_id": 56046329, "body": "any suggestion please"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 1, "creation_date": 1449560970, "post_id": 34148901, "comment_id": 56048169, "body": "You have to <code>use Archive::Zip qw( :ERROR_CODES );</code> in order to import the <code>AZ_OK</code> constant into your script. <a href=\"http://search.cpan.org/~phred/Archive-Zip-1.55/lib/Archive/Zip.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~phred/Archive-Zip-1.55/lib/Archive/Zip.pm</a>"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449744464, "post_id": 34148901, "comment_id": 56144640, "body": "@MattJacob I added error codes, the code is still not throwing any  error and just printing all lines which are in printf but not generating the zip. Please suggest."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1449591796, "post_id": 34152023, "comment_id": 56068560, "body": "@ssr1012 I didn&#39;t give an answer. I was just trying to get at what the actual problem was."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1449665139, "post_id": 34152023, "comment_id": 56104524, "body": "@Matt Jacob: You have given the way to find out the answer. That&#39;s why I said already answer given by you. Apologies"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1449744335, "post_id": 34152023, "comment_id": 56144561, "body": "@ssr1012 The code you gave as answer is not opening file also and directly going to die part printing &quot;Cant&quot;."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1449826755, "post_id": 34152023, "comment_id": 56184614, "body": "@Sur: Please confirm the input file are available in the folder: eg: D:\\Scripts\\Testing\\abc.txt. And please check the  edited code also."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1449826609, "last_edit_date": 1449826609, "creation_date": 1449566263, "answer_id": 34152023, "question_id": 34148901, "link": "https://stackoverflow.com/questions/34148901/zipping-file-in-perl/34152023#34152023", "title": "Zipping file in perl", "body": "<p>Could you please:</p>\n\n<pre><code>use Cwd;\nuse strict;\nuse warnings;\n# before running check perl module is installed in your PC.\nuse Archive::Zip;\nuse File::Basename;\n\nmy (@files,$dirname,$bsename) = \"\";\nmy $inFile = \"D:\\\\Scripts\\\\Testing\\\\abc.txt\"; # if it is more than one file add it by using comma as separator\nmy $curdir = getcwd();\n\n#Need to open file here and to be read the file\nopen(IN, $inFile) || die \"Cant \\n\";\nwhile(&lt;IN&gt;) {\n    my $sngfile = $_;\n    chomp($sngfile);\n    push(@files, $sngfile);\n}\nmy $zip = Archive::Zip-&gt;new();\nforeach my $file (@files)\n{\n    $dirname = dirname($file);\n    $bsename = basename($file);\n\n    #Check file exist here your code\n    if($dirname!~m/\\.$/) {\n    print \"$dirname\\t$bsename\\n\";\n    #printf qq{Adding file \"%s\" as archive member \"%s\"\\n}, $dirname, $bsename;\n    $zip-&gt;addFile(\"$dirname/$bsename\"); }\n}\nprintf \"$curdir\\\\Writing to zip\\n\";\n$zip-&gt;writeToFileNamed(\"$curdir/zippedFolders.zip\"); #zip file name change it as u want\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449826609, "creation_date": 1449553798, "last_edit_date": 1449567965, "question_id": 34148901, "link": "https://stackoverflow.com/questions/34148901/zipping-file-in-perl", "title": "Zipping file in perl", "body": "<p>I have been trying to zip files on remote windows server but not getting success by whatever i tried. Below is the small peice of code. Please tell me where m going wrong. This code is not producing any error but just not generating the zip file.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n# before running check perl module is installed in your PC.\n\nuse Archive::Zip;\nuse File::Basename 'basename';\n\nmy @files = ('D:\\Scripts\\Testing\\abc.txt');    \n    # if it is more than one file add it by using comma as separator\n\nmy $zip = Archive::Zip-&gt;new;\n\nforeach my $file (@files) {\n    my $member = basename $file;\n    printf qq{Adding file \"%s\" as archive member \"%s\"\\n}, $file, $member;\n    $zip-&gt;addFile( $file, $member );\n    printf \"Member added\\n\";\n}\nprintf \"Writing to zip\\n\";\n$zip-&gt;writeToFileNamed('zippedFolders.zip');\n    #zip file name change it as u want\n</code></pre>\n"}, {"tags": ["perl", "datetime", "mason"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449547679, "post_id": 34147680, "comment_id": 56043253, "body": "Please provide a demonstration of the problem."}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1449589112, "post_id": 34147680, "comment_id": 56066574, "body": "is $endTimeInMills negative?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1449547909, "creation_date": 1449547909, "answer_id": 34147866, "question_id": 34147680, "link": "https://stackoverflow.com/questions/34147680/duration-in-not-getting-added-to-current-time-in-perl/34147866#34147866", "title": "Duration in not getting added to current time in perl", "body": "<p>Adding a sufficient number of nanoseconds will change the time as you expect.</p>\n\n<pre><code>use feature qw( say );\n\nuse DateTime qw( );\n\nmy $dt = DateTime-&gt;now( time_zone =&gt; 'local' );\nsay $dt-&gt;hms;   # 23:10:10\n$dt-&gt;add( nanoseconds =&gt; 2_000_000_000 );\nsay $dt-&gt;hms;   # 23:10:12\n</code></pre>\n\n<p>No idea what problem you are having as you didn't demonstrate it.</p>\n"}], "owner": {"reputation": 443, "user_id": 2163943, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f09f5db90a1814917e7713fce5e8e472?s=128&d=identicon&r=PG", "display_name": "Ajay", "link": "https://stackoverflow.com/users/2163943/ajay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449547909, "creation_date": 1449546596, "question_id": 34147680, "link": "https://stackoverflow.com/questions/34147680/duration-in-not-getting-added-to-current-time-in-perl", "title": "Duration in not getting added to current time in perl", "body": "<p>I want to add the milliseconds to current time in perl. I wrote this code:</p>\n\n<pre><code>my $currentTime = DateTime-&gt;now(time_zone=&gt;$timezone);\nmy $endTimeInMills = $details-&gt;{'msToEnd'};\nmy $dealEndTime = $currentTime-&gt;add(nanoseconds =&gt; ($endTimeInMills * 1000000) );  \n</code></pre>\n\n<p>The problem i am facing is after adding the nanoseconds to current time i am seeing that 1 minutes is lost. Like after adding time should be 22:00 but it will show 21:59. Can anyone tell the issue?</p>\n"}, {"tags": ["arrays", "perl", "reverse"], "comments": [{"owner": {"reputation": 11, "user_id": 5652083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0CypqX7nVUI/AAAAAAAAAAI/AAAAAAAAADE/SbVQlOx-FYg/photo.jpg?sz=128", "display_name": "Jack Yang", "link": "https://stackoverflow.com/users/5652083/jack-yang"}, "edited": false, "score": 0, "creation_date": 1449529787, "post_id": 34145056, "comment_id": 56038106, "body": "Another question I have is,  when printing,  why $#reverse_array NOT treats whitespace as an element to the array,  while  @reverse_array DO treats whitespace as an element?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1449529923, "post_id": 34145056, "comment_id": 56038153, "body": "Think about what happens to <code>$#chars</code> as you <code>pop</code> elements off the end of <code>@chars</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449539664, "post_id": 34145056, "comment_id": 56041105, "body": "You have <code>use Data::Dumper</code> in your code. If you had dumped the contents of the array with <code>print Dumper \\@reverse_array</code> you would be able to see the true contents"}], "answers": [{"comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1449533456, "post_id": 34145470, "comment_id": 56039394, "body": "Alternately, although kind of golfy:  <code>push @reverse_array, pop @chars while @chars;</code>"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449537789, "post_id": 34145470, "comment_id": 56040631, "body": "<code>map</code> could be appropriate too since you are doing a transformation of sorts: <code>my @reverse_array = map { pop @chars } 0 .. $#chars;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1449538870, "post_id": 34145470, "comment_id": 56040918, "body": "@HunterMcMillen: You&#39;re both missing the point. The way to write this is <code>my @reverse_array = reverse @chars</code>. The exercise is a theoretical one"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449582980, "post_id": 34145470, "comment_id": 56062058, "body": "@Borodin I don&#39;t think I was. The only constraints on the problem were to use <code>push</code> and <code>pop</code>, I was simply suggesting that <code>map</code> was a reasonable alternative to <code>for</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449583395, "post_id": 34145470, "comment_id": 56062365, "body": "@HunterMcMillen: Others here think the only constraint is <i>not</i> to use <code>reverse</code>. I thought all the OP was after was a cleanup of his own code, but only he knows for sure"}, {"owner": {"reputation": 11, "user_id": 5652083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0CypqX7nVUI/AAAAAAAAAAI/AAAAAAAAADE/SbVQlOx-FYg/photo.jpg?sz=128", "display_name": "Jack Yang", "link": "https://stackoverflow.com/users/5652083/jack-yang"}, "edited": false, "score": 0, "creation_date": 1449619089, "post_id": 34145470, "comment_id": 56084157, "body": "@Borodin Excellent explanation. Thank you sir!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1598211393, "last_edit_date": 1598211393, "creation_date": 1449531714, "answer_id": 34145470, "question_id": 34145056, "link": "https://stackoverflow.com/questions/34145056/use-push-and-pop-to-reverse-and-print-out-an-array-in-perl/34145470#34145470", "title": "Use push and pop to reverse and print out an array in Perl?", "body": "<p>It is always preferable to iterate over a list in Perl, rather than using the ugly C-style for loop</p>\n<p>Your loop</p>\n<pre><code>for (my $i=0; $i &lt;= $#chars; $i++) {\n    push @reverse_array, pop @chars;\n}\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>my $i = 0;\nwhile ( $i &lt;= $#chars ) {\n    push @reverse_array, pop @chars;\n    ++$i;\n}\n</code></pre>\n<p>so <code>$#chars</code> starts at 16. The loop is executed once, and now <code>$i</code> is 1 while <code>$#chars</code> is 15 because of the <code>pop</code>. This process will continue until after the eighth iteration of the loop -- when <code>$i</code> is 8 and <code>$#chars</code> is 7, and the test now fails so the loop exits</p>\n<p>This has the effect that you are reversing only the last eight elements of <code>@chars</code>, as you have seen</p>\n<p>If instead you write</p>\n<pre><code>for my $i ( 0 .. $#chars ) {\n    push @reverse_array, pop @chars;    \n}\n</code></pre>\n<p>then it's not only clearer and easier to read, but it also does what you intend</p>\n<p>The whitespace comes from Perl's behaviour when <em>stringifying</em> arrays. If you write <code>&quot;@array\\n&quot;</code> then Perl builds a string containing the elements of <code>@array</code>, separated by a single space. (This is the default behaviour. You can change the string used to separate the elements, but I advise you don't go there yet.)</p>\n<p>To print just the contents of the array then you can write</p>\n<pre><code>print @chars, &quot;\\n&quot;\n</code></pre>\n<p>and you will see what you expect</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1449568479, "creation_date": 1449568479, "answer_id": 34152811, "question_id": 34145056, "link": "https://stackoverflow.com/questions/34145056/use-push-and-pop-to-reverse-and-print-out-an-array-in-perl/34152811#34152811", "title": "Use push and pop to reverse and print out an array in Perl?", "body": "<p>Your problem is that you're using <code>$#chars</code> in your loop construct, and it's changing as you go. You need to save it first:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = 'abcdefghijklmnopqrstuvwxyz';\n\nmy @reversed;\nmy @chars = split //, $str;\n\nmy $elt_count = scalar @chars;\n\nfor ( 1 .. $elt_count ) {\n    push( @reversed, pop @chars );\n}\n\nprint @reversed;\n</code></pre>\n\n<p>But you could tackle it a little more easily with a <code>while</code> loop:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = 'abcdefghijklmnopqrstuvwxyz';\n\nmy @reversed;\nmy @chars = split //, $str;\n\nwhile ( @chars ) {\n    push( @reversed, pop @chars );\n}\n\nprint @reversed;\n</code></pre>\n\n<p>Which relies on the fact that you're emptying <code>@chars</code> as you go, and bails out when there's nothing left. </p>\n\n<p>You should also be aware - there's a difference between:</p>\n\n<pre><code>print \"@reversed\";\n</code></pre>\n\n<p>and </p>\n\n<pre><code>print @reversed; \n</code></pre>\n\n<p>In the former case, perl is inserting spaces because you've converted the array to  a string. That's why you're getting the apparent behaviour that your are. </p>\n"}], "owner": {"reputation": 11, "user_id": 5652083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0CypqX7nVUI/AAAAAAAAAAI/AAAAAAAAADE/SbVQlOx-FYg/photo.jpg?sz=128", "display_name": "Jack Yang", "link": "https://stackoverflow.com/users/5652083/jack-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1598211393, "creation_date": 1449529702, "last_edit_date": 1566676029, "question_id": 34145056, "link": "https://stackoverflow.com/questions/34145056/use-push-and-pop-to-reverse-and-print-out-an-array-in-perl", "title": "Use push and pop to reverse and print out an array in Perl?", "body": "<p>Trying a few lines of code to <strong>manually reverse</strong> an array by character and print it out. (yes, i know this can be done by the reverse function).</p>\n\n<p>To begin with, I have a dummy file called dummy.txt</p>\n\n<pre><code>abcdefg1234567890\n</code></pre>\n\n<p>My perl script here:</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $file = 'dummy.txt';\nmy @reverse_array;\n\nopen (FH, '&lt;', $file)\n    or die (\"Couldn't open $file : $!\");\n\n#split with empty string to get individual characters\nmy @chars = split(\"\", &lt;FH&gt;); \n\nprint \"$#chars\\n\"; #prints 16, meaning there are 17 elements in @chars\nprint \"@chars\\n\";  #prints a b c d e f g 1 2 3 4 5 6 7 8 9 0\n\nfor(my $i=0; $i &lt;= $#chars; $i++) #iterate number of elements' times\n{\n    push @reverse_array, pop @chars; #pop the elements out of @chars into @reverse_array\n}\n\nprint \"$#reverse_array \\n\"; #prints 8, meaning there are 9 elements in @reverse_array\nprint \"@reverse_array \\n\";  #prints 0 9 8 7 6 5 4 3 2, not as expected, but this is indeed 17 elements including the white space\n\nclose (FH)\n    or die (\"Failed to close $file: $!\");\n</code></pre>\n\n<p>So <strong>pop</strong> is popping out whitespaces. So <strong>split</strong> is adding white spaces when I try to split it with empty string?  I'm still thinking how to get around this. Would love your input, and modify on my code would be be best for me. </p>\n"}, {"tags": ["perl", "hashmap"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1449528052, "post_id": 34144200, "comment_id": 56037433, "body": "Could you give an example of input (ie. the filenames in $buildsDir) and the expected output?  Also, what is in <code>@versionS</code>?"}, {"owner": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1449528728, "post_id": 34144200, "comment_id": 56037688, "body": "There are just some folders readed by if (($file =~ /(V\\d\\d\\d.*)-DVD/).... and if the folders meet the condition they should be assigns as values to the keys $version. @versionS is an array of versions from where I;m using just $version(a couple of version necessary for my script). I&#39;m tring to have an output like this: foreach $version (keys %buildsMap){         print $values         }"}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1449529147, "post_id": 34144200, "comment_id": 56037864, "body": "have you thought about using <code>strict</code> and <code>warnings</code>? Also it&#39;s still not clear what <code>@versionS</code> contains, could you edit your code with some example data ( like <code>my @versions= (&#39;V132&quot;, &#39;V432&#39;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1449529933, "post_id": 34144951, "comment_id": 56038160, "body": "If you <code>use v5.10</code>, you also could advice the <code>&#47;&#47;=</code> operator, since it always checks for definedness, what is most likely that what someone wants. In this specific case it&#39;s okay to use, because we know from the program structure that the hash shouldn&#39;t contain any false values (as references are true (I hope)). But that is one more unnecessary hurdle to jump for the person reading your code (which is most likely the programmer himself in three months). On the other hand <code>&#47;&#47;=</code> is quite new (just eight years old), so it could be that the future reader isn&#39;t accustomed to the newer ways yet."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1449530767, "post_id": 34144951, "comment_id": 56038507, "body": "@PatrickJ.S. Good question. I specifically did not use <code>&#47;&#47;=</code> here. There are many cases where <code>&#47;&#47;=</code> is more correct than <code>||=</code>, usually to retain <code>0</code> and <code>&quot;&quot;</code> as valid values. This is not one of them. I specifically chose <code>||=</code> because if a hash entry is incorrectly set to <code>0</code> or <code>&quot;&quot;</code> it should be replaced with an empty list. This makes the code more robust, good enough for a short lived variable like <code>%buildsMap</code>. If you want more checks than that you should instead write a class and control access to the data through methods."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 0, "creation_date": 1449531095, "post_id": 34144951, "comment_id": 56038630, "body": "@PatrickJ.S. On a similar note, one could eliminate <code>%versionS</code> and the <code>||=</code> check entirely by preallocating version lists in <code>%buildMap</code>. Initialize it with <code>my %buildMap = map { $_ =&gt; [] } qw(V111 V222 V333)</code> and then <code>push @{$buildMap{$1}}, $file if $buildMap{$1}</code>. I avoided that both because the answer was getting long, and it overloads the meaning of <code>%buildMap</code> in ways potentially confusing to the original poster and future maintainers. If <code>%versionS</code> was big it might be justified to save some memory. Again, once you start doing things like that it&#39;s better to write a class."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449542071, "post_id": 34144951, "comment_id": 56041752, "body": "<i>\u201cif a hash entry is incorrectly set to <code>0</code> or <code>&quot;&quot;</code> it should be replaced with an empty list\u201d</i> I&#39;m not so sure. If a hash value is anything other than an array reference then there is a bug in the code, and making it work silently regardless disables the diagnostics that <code>use strict &#39;refs&#39;</code> provides. I think I&#39;d prefer my code to die with <code>Can&#39;t use string &quot;0&quot; as an array ref while strict refs in use</code>. After all, that bug may be overwriting a legitimate array reference with 0 and so losing data"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1449532192, "last_edit_date": 1449532192, "creation_date": 1449529198, "answer_id": 34144951, "question_id": 34144200, "link": "https://stackoverflow.com/questions/34144200/how-to-assign-value-to-key-hashmap-perl/34144951#34144951", "title": "How to assign value to key hashmap Perl?", "body": "<p>First order of business, turn on strict and warnings.  This will discover any typo'd variables and other mistakes.  The major issue here will be you have to declare all your variables.  Fixing that all up, and printing out the resulting <code>%buildMap</code>, we have a minimum viable example.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $buildsDir = shift;\nmy @versionS = qw(V111 V222 V333);\nmy %buildsMap = ();\n\n#read schedule\nopendir (DIR, $buildsDir) or die $!;\nwhile ( my $file = readdir DIR ) {\n    if (($file =~ /(V\\d\\d\\d.*)-DVD/) || ($file =~ /(V\\d\\d\\d.*)/)) {\n        foreach my $version (@versionS) {\n            if ($1 eq $version ){\n               my @temp = @{$buildsMap{$version}};\n               push @temp,$file;\n               @{$buildsMap{$version}} = @temp;\n            }\n        }\n    }\n}\n\nfor my $version (keys %buildsMap) {\n    my $files = $buildsMap{$version};\n\n    say \"$version @$files\";\n}\n</code></pre>\n\n<p>Which gives the error <code>Can't use an undefined value as an ARRAY reference at test.plx line 15.</code>.  That's this line.</p>\n\n<pre><code>            my @temp = @{$buildsMap{$version}};\n</code></pre>\n\n<p>The problem here is how you're working with array references.  That specific line fails because if <code>$buildsMap{$version}</code> has no entry you're trying to dereference nothing and Perl won't allow that, not for a normal dereference.  We could fix that, but there's better ways to work with hashes of lists.  Here's what you have.</p>\n\n<pre><code>           my @temp = @{$buildsMap{$version}};\n           push @temp,$file;\n           @{$buildsMap{$version}} = @temp;\n</code></pre>\n\n<p>That copies out all the filenames into <code>@temp</code>, works with <code>@temp</code> and the more comfortable syntax, and copies them back in.  It's inefficient for memory and amount of code.  Instead, we can do it in place.  First by initializing the value to an empty array reference, if necessary, and then by pushing the file onto that array reference directly.</p>\n\n<pre><code>            $buildsMap{$version} ||= [];\n            push @{$buildsMap{$version}}, $file;\n</code></pre>\n\n<p><code>||=</code> is the <code>or-equals</code> operator.  It will only do the assignment if the left-hand side is false.  It's often used to set default values.  You could also write <code>$buildsMap{$version} = [] if !$buildsMap{$version}</code> but that rapidly gets redundant.</p>\n\n<p>But we don't even need to do that!  <code>push</code> is a special case.  For convenience, you can dereference an empty value and pass it to <code>push</code>!  So we don't need the initializer, just push.</p>\n\n<pre><code>            push @{$buildsMap{$version}}, $file;\n</code></pre>\n\n<hr>\n\n<p>While the code works, it could be made more efficient.  Instead of scanning <code>@versionS</code> for every filename, potentially wasteful if there's a lot of files or a lot of versions, you can use a hash.  Now there's no inner loop needed.</p>\n\n<pre><code>my %versionS = ( 'V111' =&gt; 1, 'V222' =&gt; 2, 'V333' =&gt; 3 );\n\n...\n\nif (($file =~ /(V\\d\\d\\d.*)-DVD/) || ($file =~ /(V\\d\\d\\d.*)/)) {\n    my $version = $1;\n    if ($versionS{$version}){\n        push @{$buildsMap{$version}}, $file;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3858383, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000809471624/picture?type=large", "display_name": "Popescu Emanuel", "link": "https://stackoverflow.com/users/3858383/popescu-emanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449532192, "creation_date": 1449525988, "last_edit_date": 1449527229, "question_id": 34144200, "link": "https://stackoverflow.com/questions/34144200/how-to-assign-value-to-key-hashmap-perl", "title": "How to assign value to key hashmap Perl?", "body": "<p>I have the code bellow. I want to assign for each version values but somehow I do not know what I'm doing wrong.</p>\n\n<pre><code>%buildsMap = ();\n#read schedule\nopendir (DIR, $buildsDir) or die $!;\nwhile ( my $file = readdir DIR ) {\n    if (($file =~ /(V\\d\\d\\d.*)-DVD/) || ($file =~ /(V\\d\\d\\d.*)/)) {\n        foreach $version(@versionS){\n            if ($1 eq $version ){\n               @temp = @{$buildsMap{$version}};\n               push @temp,$file;\n               @{$buildsMap{$version}} = @temp;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If I want to use the keys from this hashmap it is ok. Please advice me.</p>\n"}, {"tags": ["regex", "string", "regex-greedy", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1449525247, "post_id": 34143913, "comment_id": 56036159, "body": "Because <code>.*</code> is greedy, so the &quot;Slot&quot; you get is the last one. Test your pattern with regex101.com  and use the debugger to see what happens."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1449525453, "post_id": 34143913, "comment_id": 56036260, "body": "Why are you escaping the double-quotes? That is not needed in a Perl regex."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449542791, "post_id": 34144051, "comment_id": 56041998, "body": "<code>(?:\\w|\\s|\\d+)+</code>? <code>[\\w\\s\\d]+</code>!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449542899, "post_id": 34144051, "comment_id": 56042045, "body": "I strongly recommend against using non-greediness as anything but an optimization. Consider how your solution handles <code>!NAME: &quot;Slot 4 x! SubSlot 14 External&quot;</code>. Rather than rejecting the match, it sees <code>Slot 14 External</code>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1449525439, "creation_date": 1449525439, "answer_id": 34144051, "question_id": 34143913, "link": "https://stackoverflow.com/questions/34143913/why-isnt-the-perl-regex-being-as-greedy-as-i-need-it-to-be/34144051#34144051", "title": "Why isn&#39;t the perl regex being as greedy as I need it to be?", "body": "<p>It is being greedy. </p>\n\n<pre><code>/^!NAME:\\s+\\\".*(Slot[\\w|\\s|\\d+]+)\\\"/;\n             ^^\n              |----- The greedy part is here.\n</code></pre>\n\n<p>Since your target string matches <code>Slot \\d+</code> in two places, the <code>.*</code> after the quote slurps up the first one. Try making that part of the expression non-greedy:</p>\n\n<pre><code>/!NAME:\\s+\\\".*?(Slot(?:\\w|\\s|\\d+)+)\\\"/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "edited": false, "score": 0, "creation_date": 1449526693, "post_id": 34144120, "comment_id": 56036846, "body": "This won&#39;t capture the initial <code>Slot</code>, only what comes after."}, {"owner": {"reputation": 1755, "user_id": 301807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1592f5324a6c2db9fcfc6045af36e669?s=128&d=identicon&r=PG", "display_name": "dtanders", "link": "https://stackoverflow.com/users/301807/dtanders"}, "reply_to_user": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "edited": false, "score": 0, "creation_date": 1449527102, "post_id": 34144120, "comment_id": 56037013, "body": "Yeah, that&#39;s what he said he wanted on the 4th line of the question <i>shrug</i>"}], "tags": [], "owner": {"reputation": 1755, "user_id": 301807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1592f5324a6c2db9fcfc6045af36e669?s=128&d=identicon&r=PG", "display_name": "dtanders", "link": "https://stackoverflow.com/users/301807/dtanders"}, "is_accepted": false, "score": 1, "last_activity_date": 1449527167, "last_edit_date": 1449527167, "creation_date": 1449525714, "answer_id": 34144120, "question_id": 34143913, "link": "https://stackoverflow.com/questions/34143913/why-isnt-the-perl-regex-being-as-greedy-as-i-need-it-to-be/34144120#34144120", "title": "Why isn&#39;t the perl regex being as greedy as I need it to be?", "body": "<p>This should capture everything that's not a quote that comes after Slot but before the quote:</p>\n\n<pre><code>/^!NAME:\\s+\\\"Slot([^\\\"]*)\\\"/\n</code></pre>\n\n<p>And to include the Slot part if you need it for some reason</p>\n\n<pre><code>/^!NAME:\\s+\\\"(Slot[^\\\"]*)\\\"/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "is_accepted": false, "score": 0, "last_activity_date": 1449526052, "creation_date": 1449526052, "answer_id": 34144212, "question_id": 34143913, "link": "https://stackoverflow.com/questions/34143913/why-isnt-the-perl-regex-being-as-greedy-as-i-need-it-to-be/34144212#34144212", "title": "Why isn&#39;t the perl regex being as greedy as I need it to be?", "body": "<p>This works with all your example text:</p>\n\n<pre><code>^!NAME:\\s*\"(Slot.*?)\"\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/hB1cT3/2\" rel=\"nofollow\">https://regex101.com/r/hB1cT3/2</a></p>\n\n<p>NB: All your examples contain nothing in quotes except the \"Slot\" text, so why are you putting in a <code>.*</code> as the first thing in the quotes? As mentioned above by mob, this was what was causing problems. I've removed it here.</p>\n"}, {"tags": [], "owner": {"reputation": 1989, "user_id": 996114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ab699f0efdf582f02f8f3dbba7a4b1?s=128&d=identicon&r=PG", "display_name": "Mike Covington", "link": "https://stackoverflow.com/users/996114/mike-covington"}, "is_accepted": false, "score": 0, "last_activity_date": 1449526563, "last_edit_date": 1449526563, "creation_date": 1449526197, "answer_id": 34144248, "question_id": 34143913, "link": "https://stackoverflow.com/questions/34143913/why-isnt-the-perl-regex-being-as-greedy-as-i-need-it-to-be/34144248#34144248", "title": "Why isn&#39;t the perl regex being as greedy as I need it to be?", "body": "<p>Here is a simple solution:</p>\n\n<pre><code>/(Slot[^\"]+)/\n</code></pre>\n\n<p>Here it is in action:</p>\n\n<pre><code>my $s = '!NAME: \"Slot 10 SubSlot 0\"';\n$s =~ /(Slot[^\"]+)/;\nprint $1;\n\n# Slot 10 SubSlot 0\n</code></pre>\n\n<p>If you need to specify that the line begins with <code>!NAME:</code>, then just expand it to this:</p>\n\n<pre><code>/^!NAME:\\s\"(Slot[^\"]+)/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449582900, "post_id": 34147152, "comment_id": 56061993, "body": "The sample data doesn&#39;t have double quotes, but I think this is the best answer either way."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1449586218, "post_id": 34147152, "comment_id": 56064384, "body": "@Hunter McMillen, The only complete example text does have a double-quote. Additionally, the explanation says to match until a quote, and the OP&#39;s attempt includes a double-quote."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1449543124, "creation_date": 1449543124, "answer_id": 34147152, "question_id": 34143913, "link": "https://stackoverflow.com/questions/34143913/why-isnt-the-perl-regex-being-as-greedy-as-i-need-it-to-be/34147152#34147152", "title": "Why isn&#39;t the perl regex being as greedy as I need it to be?", "body": "<p>The safest answer:</p>\n\n<pre><code>/^ !NAME: \\s* \" (?:(?!Slot).)* Slot ( [^\"]* ) \"/x\n</code></pre>\n\n<p>You could also make sure that <code>Slot</code> is not part of another word:</p>\n\n<pre><code>/^ !NAME: \\s* \" (?:(?!Slot).)* \\b Slot \\b ( [^\"]* ) \"/x\n</code></pre>\n\n<p>The trick is knowing that <code>(?:(?!STRING).)*</code> is to <code>STRING</code> as <code>[^CHAR]*</code> is to <code>CHAR</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 1428649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d49a641a462a637650ef1ede49c2718c?s=128&d=identicon&r=PG", "display_name": "user1428649", "link": "https://stackoverflow.com/users/1428649/user1428649"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 34144051, "answer_count": 5, "score": 1, "last_activity_date": 1449543124, "creation_date": 1449525056, "question_id": 34143913, "link": "https://stackoverflow.com/questions/34143913/why-isnt-the-perl-regex-being-as-greedy-as-i-need-it-to-be", "title": "Why isn&#39;t the perl regex being as greedy as I need it to be?", "body": "<p>So present this string:</p>\n\n<pre><code>!NAME: \"Slot 10 SubSlot 0\"\n</code></pre>\n\n<p>There may be some stuff after the final quote mark, but that is irrelevant to the task at hand. </p>\n\n<p>The goal is, I want to capture everything after Slot UP UNTIL the final quote mark. </p>\n\n<p>I have tried two regexes for the task</p>\n\n<pre><code>/^!NAME:\\s+\\\".*(Slot[\\w|\\s|\\d+]+)\\\"/;\n</code></pre>\n\n<p>The other:</p>\n\n<pre><code>/^!NAME:\\s+\\\".*(Slot.+)\\\"/;\n</code></pre>\n\n<p>But these only capture </p>\n\n<pre><code>Slot 0\n</code></pre>\n\n<p>What comes after Slot can be wildly different.  It could be anything like:</p>\n\n<pre><code>'Slot 4' (this works, but the capture string will not always be this small)\n\n'Slot 4 Subslot 12 Internal Subslot 14 External'\n\n'Slot 75 Internal Slot 12 External'\n</code></pre>\n\n<p>The only thing that we know for certain is that the section we want will begin with 'Slot', and will end with a quotation mark.  Anything else in between is up in the air.</p>\n\n<p>What is wrong with what I have shown?  Especially the second one, as I thought that the '.' operator was greedy and would capture as much as it can? </p>\n\n<p>The purpose of this script is to capture these details to be parsed in another program.  </p>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 5, "creation_date": 1449531859, "post_id": 34143296, "comment_id": 56038888, "body": "Not strange. <a href=\"http://stackoverflow.com/questions/1552814/why-arent-a-batch-files-environment-variables-set-when-run-from-perl\">That&#39;s how subshells work</a>. You solve it by setting your environment they way you want it before you call your Perl script, or by manipulating <code>%ENV</code> within your Perl script."}, {"owner": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1449535310, "post_id": 34143296, "comment_id": 56039938, "body": "My problem is that I have a set of batch files that I don&#39;t know what they will do - one of them might set an environment variable, one of them might run some executable - so basically my perl script is completely unaware of what&#39;s inside batch files. My perl script just runs the batch files in a sequence. The other batch files that executes executables run fine, only those which set env variables fail - the env variables are not set.  Now someone can say why don&#39;t I write a batch file that runs the sequence of batch files - I find it very hard to write a batch than to write a perl program."}, {"owner": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1449759490, "post_id": 34143296, "comment_id": 56154531, "body": "Thanks. It seems the &quot;Detect subprocess environment variables change&quot; is exactly what I am looking for.and there is no specific answer there either. But I understand for now that perl program cannot change environment in which its running unless it is another perl program. but  voting down just for the sake it is not indented properly is not fair. In fact the description of the problem is as simple as it can be to demonstrate the problem I was having."}], "answers": [{"comments": [{"owner": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1449583395, "post_id": 34151075, "comment_id": 56062364, "body": "This won&#39;t work for my usecase. I have not only batch scripts but also some other kind of scripts that I want to run in a sequence. They are mixed and they need to be in an order. But thanks for your time. I am going to write my scripts using perl script primarily as utility and not as a controller ( of running the sequence of bats, exes, etc.) . My controller will be a batch file. I wish Perl has some API that solves this."}, {"owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "reply_to_user": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1449584735, "post_id": 34151075, "comment_id": 56063301, "body": "This will work as long as what you&#39;re trying to run can actually be run as a shell command. The &quot;&amp;&amp;&quot; is sequential, meaning that the second command will not be executed until the first one has been completed. An indication about what other scripts you&#39;re running (the kind of scripts) would be useful in helping."}], "tags": [], "owner": {"reputation": 2799, "user_id": 1485311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sNWZV.jpg?s=128&g=1", "display_name": "ChatterOne", "link": "https://stackoverflow.com/users/1485311/chatterone"}, "is_accepted": false, "score": 1, "last_activity_date": 1449562925, "creation_date": 1449562925, "answer_id": 34151075, "question_id": 34143296, "link": "https://stackoverflow.com/questions/34143296/windows-environment-variable-not-set-if-calling-from-a-perl-script/34151075#34151075", "title": "Windows environment variable not set if calling from a Perl script", "body": "<p>The problem is that the system command will execute the first command in a shell, the second command in an another shell and so on.\nThis means that every shell will have its own environment and will not \"see\" the environment variables of the others.</p>\n\n<p>If you just want a quick and dirty solution, you can try and combine commands with &amp;&amp; , something like:</p>\n\n<pre><code>system('setEnv.bat &amp;&amp; doSomething.bat');\n</code></pre>\n\n<p>It's not ideal, but if you don't want to spend too much time on it, it should work (BTW, the &amp;&amp; should work on both Windows and Unix).</p>\n"}, {"comments": [{"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1449674516, "post_id": 34163618, "comment_id": 56111116, "body": "No, this is a subroutine in a Perl module (i.e. a reusable package defined in a library).  After you include the Perl module (use Win32::AdminMisc;) you would call this subroutine (SetEnvFar) from within your Perl program. I&#39;ve updated the example code somewhat to make it clearer.  Please let me know if I can be of further help."}, {"owner": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1449762415, "post_id": 34163618, "comment_id": 56156584, "body": "Unfortunately I don&#39;t have that module in my kit. Yes you can say I can downloaded it from www.roth.net/ but I cannot install third party without going through a lot of process in an organization. So I cannot go this route atleast for now. Anyway thanks."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "edited": false, "score": 0, "creation_date": 1449780335, "post_id": 34163618, "comment_id": 56166965, "body": "Assuming you are using ActiveState Perl, you can add www.roth.net to your repository and use ppm to install the package  To add it to your ppm repository use &quot;ppm repository <a href=\"http://www.roth.net/perl/packages/\" rel=\"nofollow noreferrer\">roth.net/perl/packages</a>&quot; then install (&quot;ppm install Win32::AdminMisc&quot;).  I believe the module is available under the Artistic License or the GPL.  Anyway, I hope I helped in some way.  :-)"}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1449675086, "last_edit_date": 1449675086, "creation_date": 1449600353, "answer_id": 34163618, "question_id": 34143296, "link": "https://stackoverflow.com/questions/34143296/windows-environment-variable-not-set-if-calling-from-a-perl-script/34163618#34163618", "title": "Windows environment variable not set if calling from a Perl script", "body": "<p>Try using the Windows Perl module below in your Perl script to set Windows environment variables:</p>\n\n<pre><code>Win32::AdminMisc::SetEnvVar\n</code></pre>\n\n<p>Example code:</p>\n\n<pre><code>use Win32::AdminMisc;\n\n$name=\"Temp\";\n$val=\"C:/tmp\";\nSetEnvVar($name,$val);\n</code></pre>\n\n<p>This will set an environmental variable $name to $val, creating $name it if does not exist. \nThe new value will be set globally.\nPlease refer to the documentation on SetEnvVar() for further info.\nThe book \"Win32 Perl Scripting: The Administrator's Handbook\" also make a reference to SetEnvVar().</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 6812, "user_id": 1410303, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UVBNS.png?s=128&g=1", "display_name": "SomeDude", "link": "https://stackoverflow.com/users/1410303/somedude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1449741107, "creation_date": 1449522692, "last_edit_date": 1449741107, "question_id": 34143296, "link": "https://stackoverflow.com/questions/34143296/windows-environment-variable-not-set-if-calling-from-a-perl-script", "title": "Windows environment variable not set if calling from a Perl script", "body": "<p>I have a batch script <code>setEnv.bat</code> that sets environment variables like <code>TEST_ENV</code> to <code>true</code>.</p>\n\n<p>I call this batch script from inside a Perl script like:</p>\n\n<pre><code>my $batch_cmd = \"setEnv.bat\";\nsystem( $batch_cmd );\n</code></pre>\n\n<p>I run the Perl script from the command line. The <code>setEnv.bat</code> sets the environment variable. After the Perl script completes, if I do <code>set TEST</code> the output is:</p>\n\n<blockquote>\n  <p>Environment variable TEST not defined.</p>\n</blockquote>\n\n<p>This means that the environment variable is lost when the batch script terminated and execution continues in Perl script.</p>\n\n<p>How to solve this?</p>\n"}, {"tags": ["oracle", "perl", "pdf"], "comments": [{"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 5, "creation_date": 1449528534, "post_id": 34143255, "comment_id": 56037605, "body": "In your Oracle query, can you do <code>where rownum &lt;= 4</code>?"}, {"owner": {"reputation": 710, "user_id": 3224907, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a30ee6a5c98fdddd76cfeff0ad6c8e2d?s=128&d=identicon&r=PG&f=1", "display_name": "user3224907", "link": "https://stackoverflow.com/users/3224907/user3224907"}, "reply_to_user": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 1, "creation_date": 1450889388, "post_id": 34143255, "comment_id": 56621581, "body": "@Hambone - that will just limit the number of rows. My string will be stored in one row, which I need to print on the PDF report and limit the length to not go over the space provided."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 1, "creation_date": 1450902294, "post_id": 34143255, "comment_id": 56628046, "body": "Gotcha.  I&#39;m interested to see if @SteveCarlson&#39;s solution will meet your needs.  If not, please clarify.  I&#39;m pretty sure there is a solution here somewhere"}], "answers": [{"comments": [{"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 1, "creation_date": 1450902203, "post_id": 34251637, "comment_id": 56628000, "body": "If we were playing golf, we could have replaced the last 5 lines with <code>last if $count++ &gt; 3</code>"}], "tags": [], "owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "is_accepted": false, "score": 1, "last_activity_date": 1450013584, "creation_date": 1450013584, "answer_id": 34251637, "question_id": 34143255, "link": "https://stackoverflow.com/questions/34143255/how-to-limit-number-of-lines-in-perl/34251637#34251637", "title": "How to limit number of lines in Perl", "body": "<p>Might this work for you?</p>\n\n<pre><code>$count = 0;\nfor $pos (0 .. $#field) \n    {\n    prText($left_pos, $line_height + (4.5*(scalar @field - ($pos+1))), $field[$pos]);\n    $count++\n    if ($count &gt;= 4)\n        {\n        last;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 3224907, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a30ee6a5c98fdddd76cfeff0ad6c8e2d?s=128&d=identicon&r=PG&f=1", "display_name": "user3224907", "link": "https://stackoverflow.com/users/3224907/user3224907"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450013584, "creation_date": 1449522544, "last_edit_date": 1449997637, "question_id": 34143255, "link": "https://stackoverflow.com/questions/34143255/how-to-limit-number-of-lines-in-perl", "title": "How to limit number of lines in Perl", "body": "<p>I have a perl subroutine which is printing text from an oracle table on a PDF report and I want to limit the number of lines it writes to 4. Here is the subroutine:</p>\n\n<pre><code>sub printTextToPDF{\n  my ($left_pos, $line_height, $case_field) = @_;\n  my ($field_str, $line_pos) = ('', 0);\n\n  if($case_field =~ /(.*?)\\\\+$/) {\n    $case_field = $1;\n  }\n\n  my @field = split /\\s/, $case_field;\n\n    for $cnt (0 .. $#field) {\n      $field_str .= $field[$cnt];\n\n      if($cnt != (scalar @field - 1)) {\n        $line_pos = (rindex($field_str, \"\\n\") &gt; 0) ? rindex($field_str, \"\\n\") : 0;\n\n        my ( $strwidth1 ) = prStrWidth(substr($field_str, $line_pos),'Courier',5);\n        my ( $strwidth2 ) = prStrWidth($field[$cnt+1],'Courier',5);\n        my ( $totalwidth ) = $strwidth1 + $strwidth2;\n\n        $field_str .= ($totalwidth &lt; 124) ? ' ' : \"\\n\";\n      }\n    }\n\n    @field = split(\"\\n\", $field_str);\n\n    for $pos (0 .. $#field) {\n      prText($left_pos, $line_height + (4.5*(scalar @field - ($pos+1))), $field[$pos]);\n  }\n}\n</code></pre>\n\n<p>I am currently using the <code>substr</code> function in oracle SQL to limit the number of characters, but that is not the best way to limit the number of lines. Is there a way I can do it, if so please show me how. Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4976, "user_id": 1843465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnASr.jpg?s=128&g=1", "display_name": "Tim Pierce", "link": "https://stackoverflow.com/users/1843465/tim-pierce"}, "edited": false, "score": 0, "creation_date": 1449523269, "post_id": 34143136, "comment_id": 56035012, "body": "Your post answered its own question, in a way: the <code>&lt;&gt;</code> operator can be used to read from files named on the command line and then from standard input. What is an example of a situation that you want to handle that <i>isn&#39;t</i> addressed by this operator?"}, {"owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "reply_to_user": {"reputation": 4976, "user_id": 1843465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnASr.jpg?s=128&g=1", "display_name": "Tim Pierce", "link": "https://stackoverflow.com/users/1843465/tim-pierce"}, "edited": false, "score": 0, "creation_date": 1449523482, "post_id": 34143136, "comment_id": 56035150, "body": "@TimPierce: I want to avoid using the default syntax because I want to handle each file independently, rather than aggregating all input as a single stream of text. Therefore, I require a solution that does not rely on the <code>while(&lt;&gt;)</code> construct. Moreover, I want to do this without testing for <code>eof</code> on every line of input."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449525992, "post_id": 34143136, "comment_id": 56036526, "body": "Why don&#39;t you want to use <code>eof</code>?"}, {"owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449526593, "post_id": 34143136, "comment_id": 56036802, "body": "@ThisSuitIsBlackNot: I simply do not want to test for it on every line of input (e.g., <code>while(&lt;&gt;) {unless(eof) {...}}</code> or <code>while(&lt;&gt;){...} continue {if(eof) {...}}</code>. If there are thousands of files, that is a lot of conditionals, which can be avoided entirely by analyzing the input on a file-by-file basis."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449526778, "post_id": 34143136, "comment_id": 56036888, "body": "@user001 Have you benchmarked and found a genuine performance bottleneck?"}, {"owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449527493, "post_id": 34143136, "comment_id": 56037175, "body": "@ThisSuitIsBlackNot: No, I have not benchmarked yet, but I could make a comparison of the two alternative input handling formulations after I have finished."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449530265, "post_id": 34143136, "comment_id": 56038298, "body": "I ran a very rough benchmark on ~500,000 files and found that the time added by calling <code>eof</code> was insignificant compared to the time required to open and read the files. I would recommend you do a similar benchmark for your application before going through contortions like this."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449530653, "post_id": 34143136, "comment_id": 56038457, "body": "Also, note that common *nix utilities like cat, sed, and awk by default handle either command line args <i>or</i> STDIN. Out of curiosity, why do you want to do it this way?"}, {"owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449530985, "post_id": 34143136, "comment_id": 56038593, "body": "@ThisSuitIsBlackNot: Thanks, that&#39;s good to know. I will perform a similar benchmark. Since this is a perl script, I wanted to replicate the behavior of the customary <code>while(&lt;&gt;)</code> operation as closely as possible. However, I agree that reading both <code>STDIN</code> and a file list is rather unusual."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449542068, "post_id": 34143136, "comment_id": 56041750, "body": "How is this not a duplicate of the question whose answer this question links???"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "edited": false, "score": 1, "creation_date": 1449524502, "post_id": 34143580, "comment_id": 56035738, "body": "@ Tim Actually you don&#39;t need the separate processing loop on most systems, since you can send in <code>&#47;dev&#47;stdin</code> as the file and the first loop will process it as the other files. @user001 You won&#39;t have to worry about checking for <code>EOF</code> as long as you send it in."}, {"owner": {"reputation": 4976, "user_id": 1843465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnASr.jpg?s=128&g=1", "display_name": "Tim Pierce", "link": "https://stackoverflow.com/users/1843465/tim-pierce"}, "edited": false, "score": 0, "creation_date": 1449524656, "post_id": 34143580, "comment_id": 56035815, "body": "That&#39;s true, but if the tool is supposed to process standard input whether or not the user explicitly supplied <code>&#47;dev&#47;stdin</code> on the command line, it will need to do something explicit there. I suppose it could append <code>&quot;&#47;dev&#47;stdin&quot;</code> to the input argument list. At any rate, I think it&#39;s informative to call out that the <code>STDIN</code> filehandle is predefined and can be used directly without opening it as a file."}, {"owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "edited": false, "score": 0, "creation_date": 1449525157, "post_id": 34143580, "comment_id": 56036095, "body": "As mentioned in the linked post (<a href=\"http://stackoverflow.com/q/34127513/873757\">stackoverflow.com/q/34127513/873757</a>), I would like to avoid separate loops for <code>STDIN</code> and files, since this necessitates duplicating the code. The assumption is that the input from either source can be treated identically. I would like to be able to handle cases such as <code>&lt;some-cmd&gt; | perl script.pl</code> as well as <code>&lt;some-cmd&gt; | perl script.pl a b c -</code>. Thank you."}, {"owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "edited": false, "score": 0, "creation_date": 1449525206, "post_id": 34143580, "comment_id": 56036121, "body": "@A.Danischewski: How does one perform <code>eof</code>-dependent actions without checking for <code>eof</code> in a loop context (e.g., <code>while(&lt;&gt;)</code>) when there are multiple input files? Thanks."}, {"owner": {"reputation": 4976, "user_id": 1843465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnASr.jpg?s=128&g=1", "display_name": "Tim Pierce", "link": "https://stackoverflow.com/users/1843465/tim-pierce"}, "edited": false, "score": 0, "creation_date": 1449525276, "post_id": 34143580, "comment_id": 56036168, "body": "You can certainly put the file processing code into a subroutine so that you don&#39;t have to duplicate large bodies of code. Also, as @A.Danischewski observed, you can append <code>&quot;&#47;dev&#47;stdin&quot;</code> to the argument list to handle standard input in the same loop as the other files. You should have more than enough to work with now to solve the rest of this problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "reply_to_user": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "edited": false, "score": 0, "creation_date": 1449528423, "post_id": 34143580, "comment_id": 56037574, "body": "@user001 When you supply <code>&#47;dev&#47;stdin</code> as one of the files the <code>while</code> loop reading the file is intrinsically checking for an <code>EOF</code> so you need not supply it. You can redirect a file to the script -or- pipe data from a file; otherwise, it will wait on input at that point you can simply type into the program and cease entering input with an <code>EOF</code> (usually <code>Ctrl-D</code>). So you can do: <code>echo &quot;hello world&quot; | handler.pl &#47;dev&#47;stdin</code>, <code>handler.pl &#47;dev&#47;stdin &lt; file.txt</code>, <code>handler.pl &#47;dev&#47;stdin file.txt &lt; anotherfile.txt</code>, <code>handler.pl &#47;dev&#47;stdin</code>."}], "tags": [], "owner": {"reputation": 4976, "user_id": 1843465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jnASr.jpg?s=128&g=1", "display_name": "Tim Pierce", "link": "https://stackoverflow.com/users/1843465/tim-pierce"}, "is_accepted": false, "score": 1, "last_activity_date": 1449526243, "last_edit_date": 1449526243, "creation_date": 1449523754, "answer_id": 34143580, "question_id": 34143136, "link": "https://stackoverflow.com/questions/34143136/how-can-i-read-from-both-stdin-and-files-passed-as-command-line-arguments-withou/34143580#34143580", "title": "How can I read from both STDIN and files passed as command line arguments without using `while(&lt;&gt;)`?", "body": "<p>If you want to handle each file independently of the others, you should loop over the arguments that have been given and open each file in turn:</p>\n\n<pre><code>for (@ARGV) {\n    open(my $fh, '&lt;', $_) || die \"cannot open $_\";\n    while (&lt;$fh&gt;) {\n        ... process the file here ...\n    }\n}\n# handle standard input\nwhile (&lt;STDIN&gt;) {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1449542155, "last_edit_date": 1449542155, "creation_date": 1449541784, "answer_id": 34146960, "question_id": 34143136, "link": "https://stackoverflow.com/questions/34143136/how-can-i-read-from-both-stdin-and-files-passed-as-command-line-arguments-withou/34146960#34146960", "title": "How can I read from both STDIN and files passed as command line arguments without using `while(&lt;&gt;)`?", "body": "<p>This was already answered by the Answer to which the question links.</p>\n\n<pre><code>@ARGS = '-' if !@ARGV;\n\nfor my $qfn (@ARGV) {\n    open($fh, $qfn);\n\n    while (&lt;$fh&gt;) {\n       ...\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "is_accepted": false, "score": 1, "last_activity_date": 1449546790, "last_edit_date": 1449546790, "creation_date": 1449544204, "answer_id": 34147313, "question_id": 34143136, "link": "https://stackoverflow.com/questions/34143136/how-can-i-read-from-both-stdin-and-files-passed-as-command-line-arguments-withou/34147313#34147313", "title": "How can I read from both STDIN and files passed as command line arguments without using `while(&lt;&gt;)`?", "body": "<p>Here is an idea based on Tim's that checks if STDIN has something to read (<code>NON BLOCKING STDIN</code>). This is useful if you don't really care about a user entering input manually from STDIN yet still want to be able to pipe and redirect data to the script. </p>\n\n<p><code>File: script.pl</code> </p>\n\n<pre><code>#!/usr/bin/env perl \n\nuse IO::Select;\n\n$s = IO::Select-&gt;new();\n$s-&gt;add(\\*STDIN);\nif ($s-&gt;can_read(0)) { push @ARGV, \"/dev/stdin\"; } \n\nfor (@ARGV) {\n    open(IN, \"&lt;$_\") || die \"** Error opening \\\"$_\\\": $!\\n\";\n    while (&lt;IN&gt;) {\n        print $_\n    }\n}\n</code></pre>\n\n<p>$> echo \"hello world\" | script.pl<br> \nhello world</p>\n\n<p>$> script.pl &lt; &lt;(echo \"hello world\")<br>\nhello world</p>\n\n<p>$> script.pl &lt;(echo \"hello world\")<br>\nhello world</p>\n\n<p>$> script.pl &lt;&lt;&lt; \"hello world\"<br>\nhello world</p>\n\n<p>$> script.pl<br>\n$> </p>\n"}], "owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1449546790, "creation_date": 1449522070, "last_edit_date": 1495540388, "question_id": 34143136, "link": "https://stackoverflow.com/questions/34143136/how-can-i-read-from-both-stdin-and-files-passed-as-command-line-arguments-withou", "title": "How can I read from both STDIN and files passed as command line arguments without using `while(&lt;&gt;)`?", "body": "<p><a href=\"https://stackoverflow.com/a/34127701/873757\">This post</a> demonstrates how one can read from <code>STDIN</code> <em>or</em> from a file, without using the null filehandle (i.e., <code>while(&lt;&gt;)</code>). However, I'd like to know how can one address situations where input may come from files, <code>STDIN</code>, or both simultaneously.</p>\n\n<p>For instance, the <code>&lt;&gt;</code> syntax can handle such a situation, as demonstrated by the following minimal example:</p>\n\n<pre><code>$ echo -e 'a\\nb\\nc' | \\\n  while read x; do echo $x &gt; ${x}\".txt\"; done; echo \"d\" | \\\n  perl -e \"while(&lt;&gt;) {print;}\" {a,b,c}.txt -\na\nb\nc\nd\n</code></pre>\n\n<p>How can I do this without using <code>while(&lt;&gt;)</code>?</p>\n\n<p>I want to avoid using <code>&lt;&gt;</code> because I want to handle each file independently, rather than aggregating all input as a single stream of text. Moreover, I want to do this without testing for <code>eof</code> on every line of input.</p>\n"}, {"tags": ["arrays", "perl", "smartmatch"], "comments": [{"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1449515684, "post_id": 34141252, "comment_id": 56030746, "body": "It says <a href=\"http://perldoc.perl.org/perlop.html#Smartmatch-Operator\" rel=\"nofollow noreferrer\">here</a> that the smartmatch behaves differently in perl 5.10.0 and is only officially available (experimentally) in perl 5.10.1. Perhaps <code>use 5.10.1</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1449515761, "post_id": 34141252, "comment_id": 56030794, "body": "Obligatory FYI...<a href=\"http://perldoc.perl.org/perl5180delta.html#The-smartmatch-family-of-features-are-now-experimental\" rel=\"nofollow noreferrer\">smartmatch was made experimental in 5.18.0</a>: &quot;It is clear that smartmatch is almost certainly either going to change or go away in the future. Relying on its current behavior is not recommended.&quot; It <a href=\"http://markmail.org/message/u22titrq5ljclz4b\" rel=\"nofollow noreferrer\">sounds like</a> changes are in the works, so it probably won&#39;t be removed, but I wouldn&#39;t use it until those are solidified."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1449516113, "post_id": 34141252, "comment_id": 56030999, "body": "@Kenney <code>use 5.010</code> doesn&#39;t actually change the version of the interpreter being used; it just throws an exception if the version is &lt; 5.10.0."}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449516199, "post_id": 34141252, "comment_id": 56031045, "body": "@ThisSuitIsBlackNot Ah I see, thanks! I did think it would at least make sure that the v5.10.1 (and later) implementation was required."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449516482, "post_id": 34141252, "comment_id": 56031201, "body": "One thing I do see is that you are <code>chomp</code>ing the user input but not the <code>&lt;FILE&gt;</code> lines. But <code>~~</code> or unanchored <code>grep</code> shouldn&#39;t care. The other thing is that your &quot;replace&quot; doesn&#39;t seem to be doing anything (same lhs and rhs in <code>s&#47;&#47;&#47;</code>)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449524944, "post_id": 34141252, "comment_id": 56035990, "body": "I&#39;m surprised there are still tutorials out there that tell you to use an ampersand on a subroutine call. <code>&amp;ChoiceOne</code> etc. Is nearly twenty years out of date. <code>ChoiceOne()</code> has been correct since the arrival of Perl version 5.5. And you should also <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every program you write, and avoid capitals in local identifiers, so <code>$user_choice</code> and <code>choice_one()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1449516147, "post_id": 34141442, "comment_id": 56031021, "body": "Avoid smartmatch is good because it&#39;s an experimental feature that&#39;s likely to change."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1449516301, "post_id": 34141442, "comment_id": 56031105, "body": "I prefer <code>any</code> from <a href=\"http://perldoc.perl.org/List/Util.html#any\" rel=\"nofollow noreferrer\">List::Util</a> since it will stop searching the list as soon as a match is found."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1449516467, "post_id": 34141442, "comment_id": 56031189, "body": "Also, the OP&#39;s regex is unanchored so this can match elements that are not equal to <code>$string1</code>. They probably want <code>$_ eq $string1</code> (although they&#39;ll also need to <code>chomp @array;</code>)."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449516594, "post_id": 34141442, "comment_id": 56031265, "body": "@TSIBN In which case he had better <code>chomp</code> into <code>@array</code> as well (since he has <code>chomp</code>ed <code>$string1</code>)."}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1449516706, "post_id": 34141442, "comment_id": 56031332, "body": "If speed were the issue I&#39;d just read the entire file as a scalar and <code>if ( index( $filecontents, $string1 ) &gt;= 0 )</code>"}, {"owner": {"reputation": 310, "user_id": 3903390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ac1f3596dcb6971d2ad5861d740977f?s=128&d=identicon&r=PG&f=1", "display_name": "Bennett", "link": "https://stackoverflow.com/users/3903390/bennett"}, "edited": false, "score": 0, "creation_date": 1449522263, "post_id": 34141442, "comment_id": 56034403, "body": "@Kenney With this I&#39;m getting same result. It tells me what I&#39;m trying to add is in the text file even though it isn&#39;t. Also I added a chomp into array."}, {"owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "edited": false, "score": 0, "creation_date": 1449522445, "post_id": 34141442, "comment_id": 56034520, "body": "Perhaps it is. Did you consider that your input <code>foo|bar|baz</code> actually means <code>foo OR bar OR baz</code> in a regexp context? ;-) Btw, you&#39;re not updating or saving the file anywhere. There&#39;s no code for that anywhere. The closest you come is <code>$string1 =~ s&#47;$userAddition&#47;$userAddition&#47;ig;</code> which does effectively nothing (except perhaps change the case of some letters)."}], "tags": [], "owner": {"reputation": 8677, "user_id": 2378910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5516f058929cbdca03b0319e61bf8?s=128&d=identicon&r=PG", "display_name": "Kenney", "link": "https://stackoverflow.com/users/2378910/kenney"}, "is_accepted": true, "score": 5, "last_activity_date": 1449542474, "last_edit_date": 1449542474, "creation_date": 1449515972, "answer_id": 34141442, "question_id": 34141252, "link": "https://stackoverflow.com/questions/34141252/what-is-the-proper-way-to-search-array-using-smart-match/34141442#34141442", "title": "What is the proper way to search array using Smart Match?", "body": "<p>If you want to avoid using smartmatch alltogether:</p>\n\n<pre><code>if ( grep { /$string1/ } @array ) {\n</code></pre>\n\n<p>To actually match the <code>$string1</code>, however, it needs to be <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">escaped</a>, so that <code>|</code> doesn't mean <code>or</code>:</p>\n\n<pre><code>if ( grep { /\\Q$string\\E/ } @array ) {\n</code></pre>\n\n<p>or just a simple string compare:</p>\n\n<pre><code>if ( grep { $_ eq $string } @array ) {\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 3903390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ac1f3596dcb6971d2ad5861d740977f?s=128&d=identicon&r=PG&f=1", "display_name": "Bennett", "link": "https://stackoverflow.com/users/3903390/bennett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 34141442, "answer_count": 1, "score": 1, "last_activity_date": 1449542474, "creation_date": 1449515259, "question_id": 34141252, "link": "https://stackoverflow.com/questions/34141252/what-is-the-proper-way-to-search-array-using-smart-match", "title": "What is the proper way to search array using Smart Match?", "body": "<p>I'm new to programming much less Perl; I'm having difficulty with searching an array I've made from an external text file.  I'm looking for a simple way to check if the user entry is located in the array.  I've used the Smart Match function before but never in an \"if\" statement and can't seem to get it to work.  Am I implementing this function wrong, or is there an easier way to check if the user's string is in the array?</p>\n\n<pre><code>#!/usr/bin/perl\nuse 5.010;\n#Inventory editing script - Jason Black\n#-------------------------------------------------------------------------------\nprint \"1. Add Items\\n\";\nprint \"2. Search Items\\n\";\nprint \"Please enter your choice: \";\nchomp ($userChoice = &lt;STDIN&gt;); #Stores user input in $userChoice\n\nif($userChoice == 1){\n    $message = \"Please enter in format 'code|title|price|item-count'\\n\";\n    &amp;ChoiceOne;\n}\n\nelsif($userChoice == 2){\n    $message = \"Enter search terms\\n\";\n    &amp;ChoiceTwo;\n}\n\nsub ChoiceOne{\nprint \"$message\\n\";\nchomp($userAddition = &lt;STDIN&gt;); #Stores input in $userAddition\n$string1 = \"$userAddition\";\nopen (FILE, \"FinalProjData.txt\") or die (\"File not found\"); #\"FILE\" can be named anything\n@array = &lt;FILE&gt;;\n\nif ( /$string1/ ~~ @array){\nprint \"This entry already exists. Would you like to replace? Y/N \\n\";\n\nchomp($userDecision = &lt;STDIN&gt;); #Stores input in $userDecision\n    if ($userDecision eq \"Y\"){  \n        $string1 =~ s/$userAddition/$userAddition/ig;\n        print \"Item has been overwritten\\n\";}\n    elsif($userDecision eq \"N\"){ \n        print FILE \"$string1\\n\";\n        print \"Entry has been added to end of file.\\n\";}\n    else{\n        print \"Invalid Input\";\n        exit;}\n\n    }\nelse {\n    print FILE \"$string1\\n\";\n    print \"Item has been added.\\n\";}\n\nclose(FILE);\nexit;\n}#end sub ChoiceOne\n\nsub ChoiceTwo{\nprint \"$message\\n\";\n\n}\n</code></pre>\n"}, {"tags": ["perl", "syntax-highlighting", "xemacs"], "comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1449520005, "post_id": 34140772, "comment_id": 56033142, "body": "Is the file unusually large?"}, {"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1449526917, "post_id": 34140772, "comment_id": 56036938, "body": "Yeah, actually, it&#39;s my largest script by a few thousand lines.  I&#39;m in the process of breaking it up.  Might take awhile though. Is there a limit for xemacs?  Current size: 10,407 lines."}], "answers": [{"comments": [{"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "edited": false, "score": 0, "creation_date": 1449675286, "post_id": 34144574, "comment_id": 56111679, "body": "Yes!  That did it: <code>(setq font-lock-maximum-size nil)</code>. Thanks so much!"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 1, "last_activity_date": 1449527588, "creation_date": 1449527588, "answer_id": 34144574, "question_id": 34140772, "link": "https://stackoverflow.com/questions/34140772/why-is-xemacs-refusing-to-automatically-syntax-highlight-a-specific-pl-file/34144574#34144574", "title": "Why is XEmacs refusing to automatically syntax-highlight a specific .pl file?", "body": "<p>I don't use XEmacs, but GNU Emacs has a <code>font-lock-maximum-size</code> variable.  XEmacs probably has the same or a similar setting. You may need to increase that, or just set it to <code>nil</code>.</p>\n"}], "owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 34144574, "answer_count": 1, "score": 0, "last_activity_date": 1449527588, "creation_date": 1449513591, "last_edit_date": 1449521088, "question_id": 34140772, "link": "https://stackoverflow.com/questions/34140772/why-is-xemacs-refusing-to-automatically-syntax-highlight-a-specific-pl-file", "title": "Why is XEmacs refusing to automatically syntax-highlight a specific .pl file?", "body": "<p>I edited a <code>perl script</code> recently and since the edits, <code>XEmacs</code> refuses to do the <code>cperl-mode</code> syntax highlighting automatically.</p>\n\n<p>I have been able to force the buffer to do the syntax highlighting in 2 different ways:</p>\n\n<ul>\n<li>by selecting <code>Options-&gt;Syntax Highlighting-&gt;Lazy Lock</code></li>\n<li>by running <code>M-x font-lock-fontify-buffer</code></li>\n</ul>\n\n<p>For the life of me, I have not been able to figure out why these work-arounds are necessary.  Other <code>.pl files</code> open with syntax highlighting just fine.  The script runs, so it's valid code.</p>\n\n<p>I tried updating.  I tried adding things to the <code>init.el file</code> to run the <code>font-lock-fontify-buffer</code> command upon opening a file.  After trying a bunch of things, I finally just blew away the <code>init.el file</code> away and it still opens other <code>.pl files</code> fine, but still chokes on this one file.</p>\n\n<p>Whenever I open the file, the last status message printed is <code>\"Loading cperl-mode...done\"</code> (same as other <code>.pl files</code> without any errors).</p>\n\n<p>Another thing that fails to happen is the window doesn't automatically resize to 80 columns.</p>\n\n<p><strong>question</strong></p>\n\n<p>Any idea why this is happening and how to get the syntax highlighting to work on ALL .pl files?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1449520681, "post_id": 34140564, "comment_id": 56033537, "body": "Nitpick: What you&#39;re working with there is an SSL certificate (in PEM format), not a key."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1449524115, "post_id": 34140564, "comment_id": 56035522, "body": "What are you trying to accomplish? This feels a lot like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> if you&#39;re copying text from one <code>pem</code> file to another, then you probably actually still want to keep the delimiters."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5367985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/516c13cf396516d291fa367646e2309c?s=128&d=identicon&r=PG&f=1", "display_name": "jdoe08", "link": "https://stackoverflow.com/users/5367985/jdoe08"}, "edited": false, "score": 0, "creation_date": 1468443329, "post_id": 34141868, "comment_id": 64135422, "body": "Thanks! Worked for me."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1449523597, "last_edit_date": 1449523597, "creation_date": 1449517544, "answer_id": 34141868, "question_id": 34140564, "link": "https://stackoverflow.com/questions/34140564/extract-private-key-and-write-to-a-new-file-in-perl/34141868#34141868", "title": "Extract private key and write to a new file in perl", "body": "<p>This will skip the first and last lines of the input file by using the <a href=\"http://perldoc.perl.org/perlvar.html#%24INPUT_LINE_NUMBER\" rel=\"nofollow\">input line number</a> to detect the first line and checking whether the next read would return <a href=\"http://perldoc.perl.org/functions/eof.html\" rel=\"nofollow\">end of file</a> to detect the last line:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(my $in, '&lt;', 'trust.pem') or die $!;\nopen(my $out, '&gt;', 'tmp6.pem') or die $!;\n\nwhile (&lt;$in&gt;) {\n    next if $. == 1;\n    last if eof($in);\n    print $out $_;\n}\n\nclose($in);\nclose($out);\n</code></pre>\n\n<p>If you don't mind reading the entire file into memory---which is no problem at all in this case---you could use <a href=\"http://perldoc.perl.org/functions/shift.html\" rel=\"nofollow\">shift</a> and <a href=\"http://perldoc.perl.org/functions/pop.html\" rel=\"nofollow\">pop</a> to remove the first and last lines from the array:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(my $in, '&lt;', 'trust.pem') or die $!;\nmy @lines = &lt;$in&gt;;\nclose($in);\n\nshift(@lines);\npop(@lines);\n\nopen(my $out, '&gt;', 'tmp6.pem') or die $!;\nprint $out @lines;\nclose($out);\n</code></pre>\n\n<p>Note that the previous examples won't work very well if you have any leading or trailing blank lines. In that case, I'd probably do something like this instead, which skips PEM file headers/footers and lines containing only whitespace:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(my $in, '&lt;', 'trust.pem') or die $!;\nopen(my $out, '&gt;', 'tmp6.pem') or die $!;\n\nwhile (&lt;$in&gt;) {\n    next unless /\\S/;\n    next if /^-----/;\n    print $out $_;\n}\n\nclose($in);\nclose($out);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5367985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/516c13cf396516d291fa367646e2309c?s=128&d=identicon&r=PG&f=1", "display_name": "jdoe08", "link": "https://stackoverflow.com/users/5367985/jdoe08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 34141868, "answer_count": 1, "score": 0, "last_activity_date": 1449524599, "creation_date": 1449512710, "last_edit_date": 1449524425, "question_id": 34140564, "link": "https://stackoverflow.com/questions/34140564/extract-private-key-and-write-to-a-new-file-in-perl", "title": "Extract private key and write to a new file in perl", "body": "<p>Simply put, I want to extract the entire private key, listed below, from trust.pem and save that text to a new file (tmp6.pem), using Perl. My current implementation only gives me the first for letters of the key. </p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIDazCCAtSgAwIBAgIBCDANBgkqhkiG9w0BAQQFADA8MQ8wDQYDVQQDEwZoMjFk\nY2ExDTALBgNVBAsTBFdJTlQxDTALBgNVBAoTBFdJTlQxCzAJBgNVBAYTAlVTMB4X\nDTE1MDQxNjA0MTYyNloXDTI1MDQxMzA0MTYyNlowQjELMAkGA1UEBhMCVVMxDTAL\nBgNVBAoTBFdJTlQxDTALBgNVBAsTBFdJTlQxFTATBgNVBAMTDGgyMWRjYS1vY3Nw\nNDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMCVRB8NpRhOZIpPk2qb\nxqPS/X6odDsGVxHofnLJBRLBjOPQgUpa9FsXZ5//ZMMSSpudRN5N0eIcnAzPED78\nFgLWbAm+D0j+OsE+1DLr+qwputxhz2Fm7f6snb/MH3JqGpioyREkY8yxNHDrN7nP\nhp2fpZojlaow/Bpxg9iPZZm+J8C9NY9vun7/vLx3O5BOdH0A/qWlo4qmxH0d1vTi\nKTGNE9hKE2Fl1KtZhsrJRKgOu6B0ATYL75NPKANOzNKLZmxlF2HKd3FIEOAEzSFS\n/ZaJHwPD4SyLapFwqxMVfDF+MPb2Tvs9YEHBraNxWx8OiB27nAss1zfF7JeKnpck\nApsCAwEAAaOB8jCB7zAJBgNVHRMEAjAAMCwGCWCGSAGG+EIBDQQfFh1PcGVuU1NM\nIEdlbmVyYXRlZCBDZXJ0aWZpY2F0ZTAdBgNVHQ4EFgQUY+cf2lJ6EZhgAy/rQU8f\nZ4FGNLcwZgYDVR0jBF8wXYAU2Q1ss1/VO6fejshKp0XizESFEB6hQqRAMD4xETAP\nBgNVBAMTCHdpbnRyb290MQ0wCwYDVQQLEwRXSU5UMQ0wCwYDVQQKEwRXSU5UMQsw\nCQYDVQQGEwJVU4IBDzALBgNVHQ8EBAMCBeAwIAYDVR0lAQH/BBYwFAYIKwYBBQUH\nAwEGCCsGAQUFBwMJMA0GCSqGSIb3DQEBBAUAA4GBAEETJk/Jt0/JNpKjhU6QbYhy\nUNErAJyclyrrbC4JyKbTABzLyubYZz2g0VM+YKHmhHliGosjx4yqKqUc44zvYqzW\no0EpuOWDTnj7yXUZjDozVDSJiZcr27I2R3aOxvF4PGw2bk/sWRcs7QMhgT2z5RRE\nvXIYrGIjW2jFz1oKHGGT\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>Here is my code, thus far:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse FileHandle;\n\nuse Fcntl qw(:DEFAULT :flock :seek); # import LOCK_* constants\n\nmy $F_IN = FileHandle-&gt;new(\"&lt;trust.pem\");\nmy $F_OUT = FileHandle-&gt;new(\"&gt;tmp6.pem\");\n\nwhile (my $line = $F_IN-&gt;getline) {\n    if ($line =~ m|(MIID)|) {\n        $F_OUT-&gt;print(\"$1\\n\");\n    }\n}\n\n$F_IN-&gt;close();\n$F_OUT-&gt;close();\n</code></pre>\n"}, {"tags": ["perl", "hashmap", "idioms"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1449512462, "post_id": 34139947, "comment_id": 56028947, "body": "It&#39;s quite hard to visualise what you&#39;re looking for with that sample data - I assume your scenario isn&#39;t quite as trivial as a line full of repeated characters? Also: <code>use strict; use warnings;</code> is a really good idea."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449514628, "post_id": 34139947, "comment_id": 56030156, "body": "The only inefficiency/non-idiomaticity(?) I see is that you&#39;re counting all the line-termination characters (newlines and/or CRs) as well. (Perl includes them in <code>$_</code> unless you do something.) Stick in a <code>chomp;</code> after each <code>&lt;DATA&gt;</code> read."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1449526356, "post_id": 34139947, "comment_id": 56036699, "body": "@JeffY: <i>unidiomaticity</i>, I believe"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449526567, "post_id": 34139947, "comment_id": 56036788, "body": "Are these DNA sequences?"}, {"owner": {"reputation": 11, "user_id": 5650997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VYQFgDuffts/AAAAAAAAAAI/AAAAAAAAAAA/t3fRairuAeg/photo.jpg?sz=128", "display_name": "jgraber", "link": "https://stackoverflow.com/users/5650997/jgraber"}, "edited": false, "score": 0, "creation_date": 1449590312, "post_id": 34139947, "comment_id": 56067482, "body": "The real data is TDL, a form of VHDL vector using characters HLCM01Z, and I&#39;m looking for which pins/columns are used vs static. I have use warning; use strict; in the real program, but I neglected to include them in the sample program for posting. Sobrique.      Jeff Y   Borodin"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5650997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VYQFgDuffts/AAAAAAAAAAI/AAAAAAAAAAA/t3fRairuAeg/photo.jpg?sz=128", "display_name": "jgraber", "link": "https://stackoverflow.com/users/5650997/jgraber"}, "edited": false, "score": 0, "creation_date": 1449596859, "post_id": 34152199, "comment_id": 56071847, "body": "Did you test that?  {unpack(&quot;c*&quot;,$str)}  generates the wrong summary keys of 98 and 97, rather than &#39;a&#39; and &#39;b&#39;;  &#39;a*&#39; does not work;THIS WORKS: $summary{ $_ }[$i++] += $n foreach ( unpack(&#39;a&#39; x length($str),$str) ); THIS ALSO WORKS $summary{ chr($_)}[$i++] += $n foreach ( unpack(&#39;c*&#39;,$str) );"}, {"owner": {"reputation": 11, "user_id": 5650997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VYQFgDuffts/AAAAAAAAAAI/AAAAAAAAAAA/t3fRairuAeg/photo.jpg?sz=128", "display_name": "jgraber", "link": "https://stackoverflow.com/users/5650997/jgraber"}, "edited": false, "score": 0, "creation_date": 1449600833, "post_id": 34152199, "comment_id": 56074313, "body": "&lt;br/&gt;$summary{ substr($str,$_,1) }[$_] += $n foreach ( 0..(length($str)-1)); # IS EQUALLY AS FAST"}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 11, "user_id": 5650997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VYQFgDuffts/AAAAAAAAAAI/AAAAAAAAAAA/t3fRairuAeg/photo.jpg?sz=128", "display_name": "jgraber", "link": "https://stackoverflow.com/users/5650997/jgraber"}, "edited": false, "score": 0, "creation_date": 1449653517, "post_id": 34152199, "comment_id": 56097162, "body": "@jgrabber yes i did and it worked. unpack just returns the invert of chr so in my code i print sumary{ord($_)} as you might have noticed...  But.. the solution with length and substring is even faster. The original code (executed a million time) takes 7.177 secs on my pc, the solution with unpack takes 5.879 secs and the solution with length and substring takes only 4.286 secs."}, {"owner": {"reputation": 11, "user_id": 5650997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VYQFgDuffts/AAAAAAAAAAI/AAAAAAAAAAA/t3fRairuAeg/photo.jpg?sz=128", "display_name": "jgraber", "link": "https://stackoverflow.com/users/5650997/jgraber"}, "edited": false, "score": 0, "creation_date": 1449683108, "post_id": 34152199, "comment_id": 56117227, "body": "&gt; so in my code i print sumary{ord($_)} as you might have noticed."}, {"owner": {"reputation": 11, "user_id": 5650997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VYQFgDuffts/AAAAAAAAAAI/AAAAAAAAAAA/t3fRairuAeg/photo.jpg?sz=128", "display_name": "jgraber", "link": "https://stackoverflow.com/users/5650997/jgraber"}, "edited": false, "score": 0, "creation_date": 1449683585, "post_id": 34152199, "comment_id": 56117575, "body": "comment timeout : @Georg Just 1 b in jgraber :  Not until you pointed it out did I notice the ord in the print.   In a similar application to get data for just user-input columns, the fastest approach I have seen is building the code for a bunch of substr() into a string, then evalling it to get a compiled subroutine,  then call that.       Re perlidioms, <a href=\"http://stackoverflow.com/a/1868490/5650997\">link</a> demonstrates use of map for a similar loop.      Maybe not until perl6 would there be a way to  add to 2d slices;   @summary{ slice} [0..m] ^+= $n x (slice * m);"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 1, "last_activity_date": 1449566814, "creation_date": 1449566814, "answer_id": 34152199, "question_id": 34139947, "link": "https://stackoverflow.com/questions/34139947/count-occurrences-of-every-character-per-every-line-position-in-perl/34152199#34152199", "title": "count occurrences of every character per every line position in perl", "body": "<p>Depending on how your data is formed method2 might be a bit faster or slower than method 1. </p>\n\n<p>But a big difference would be to use unpack instead of split.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy ( %summary, %counthash ); # perl 5.8.9\n\nsub method1 {\n    print \"method1\\n\";\n    my @l= &lt;DATA&gt;;\n    for  my $t(1..1000000) {\n        foreach (@l) {\n            my @c = split( // , $_ );\n            ++$summary{ $c[$_] }[$_] foreach ( 0 .. $#c );\n        }    \n    }    # wend\n} ## end sub method1\n\nsub method2 {\n    print \"method2\\n\";\n    ++$counthash{$_} while (&lt;DATA&gt;);    # slurpsum the whole file\n    for  my $t(1..1000000) {\n        foreach my $str ( keys %counthash ) {  \n            my $n = $counthash{$str};\n            my $i = 0;\n            $summary{ $_ }[$i++] += $n foreach ( unpack(\"c*\",$str) );\n        }    \n    }\n} ## end sub method2\n\n# MAINLINE\n#method1();\nmethod2();\nprint \"char $_ : \". join (\" \", @{$summary{ord($_)}}). \" \\n\"\n    foreach ( 'a', 'b' );\n# both methods have this output summary\n# char a : 3 3 2 2 3 \n# char b : 2 2 3 3 2 \n__DATA__\naaaaa\nbbbbb\naabba\nbbbbb\naaaaa\n</code></pre>\n\n<p>runs much faster. (6 instead of 7.x seconds on my pc)</p>\n"}], "owner": {"reputation": 11, "user_id": 5650997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VYQFgDuffts/AAAAAAAAAAI/AAAAAAAAAAA/t3fRairuAeg/photo.jpg?sz=128", "display_name": "jgraber", "link": "https://stackoverflow.com/users/5650997/jgraber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449566814, "creation_date": 1449510475, "last_edit_date": 1495540760, "question_id": 34139947, "link": "https://stackoverflow.com/questions/34139947/count-occurrences-of-every-character-per-every-line-position-in-perl", "title": "count occurrences of every character per every line position in perl", "body": "<p>Similar to question \n<a href=\"https://stackoverflow.com/questions/8629410/unix-count-occurrences-of-character-per-line-field\">unix - count occurrences of character per line/field</a>\n but for every character in every position on the line.</p>\n\n<p>Given a file of ~500-characters per 1e7 lines,\nI want a two dimensional summary structure like\n$summary{'a','b','c','0','1','2'}[pos 0..499] = count_integer\nthat shows the number of times each character was used in each position of the line. Either order of dimensions is fine.</p>\n\n<p>My first method did ++summary{char}[pos] while reading,\nbut since many lines are the same,\nit was much faster to count identical lines first,\nthen summarize summary{char}[pos] += n at a time</p>\n\n<p>Are there more idiomatic or faster ways than the following C-like 2d loop?</p>\n\n<pre><code>#!perl \nmy ( %summary, %counthash ); # perl 5.8.9\n\nsub method1 {\n    print \"method1\\n\";\n    while (&lt;DATA&gt;) {\n        my @c = split( // , $_ );\n        ++$summary{ $c[$_] }[$_] foreach ( 0 .. $#c );\n    }    # wend\n} ## end sub method1\n\nsub method2 {\n    print \"method2\\n\";\n    ++$counthash{$_} while (&lt;DATA&gt;);    # slurpsum the whole file\n\n    foreach my $str ( keys %counthash ) {  \n        my $n = $counthash{$str};\n        my @c = split(//, $str);\n        $summary{ $c[$_] }[$_] += $n foreach ( 0 .. $#c );\n    }    #rof  my $str\n} ## end sub method2\n\n# MAINLINE\nif (rand() &gt; 0.5) { &amp;method1 } else { &amp;method2 }\nprint \"char $_ : @{$summary{$_}} \\n\" foreach ( 'a', 'b' );\n# both methods have this output summary\n# char a : 3 3 2 2 3 \n# char b : 2 2 3 3 2 \n__DATA__\naaaaa\nbbbbb\naabba\nbbbbb\naaaaa\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 21188, "user_id": 105539, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c85c46cd17b738fbee94fcba1ade96a9?s=128&d=identicon&r=PG", "display_name": "Volomike", "link": "https://stackoverflow.com/users/105539/volomike"}, "edited": false, "score": 0, "creation_date": 1449516984, "post_id": 34140060, "comment_id": 56031495, "body": "Perhaps this might be a start in the right direction with some finagling, but I don&#39;t know how. This approach hangs on the get statement. I can&#39;t send a custom Named Pipes progress message back in a loop back to my Objective C app. (I&#39;ve built a Mac installer in Objective C that forks out to Perl in the background to do its work, and Perl uses named pipes to talk back to the Objective C app so that it can tell it an error on download or update the progress.) Do you know how to alter your answer so that I can loop?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 21188, "user_id": 105539, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c85c46cd17b738fbee94fcba1ade96a9?s=128&d=identicon&r=PG", "display_name": "Volomike", "link": "https://stackoverflow.com/users/105539/volomike"}, "edited": false, "score": 0, "creation_date": 1449517248, "post_id": 34140060, "comment_id": 56031628, "body": "@Volomike: actually I have no idea what kind of output you expect from the program. It might simply hang because you don&#39;t read all the progress information it writes to the output because after a while the pipe gets full and it will block until it can write more data - which needs the other end of the pipe to read the data first."}, {"owner": {"reputation": 21188, "user_id": 105539, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c85c46cd17b738fbee94fcba1ade96a9?s=128&d=identicon&r=PG", "display_name": "Volomike", "link": "https://stackoverflow.com/users/105539/volomike"}, "edited": false, "score": 0, "creation_date": 1449517433, "post_id": 34140060, "comment_id": 56031734, "body": "I used &quot;hang&quot; in the wrong way. I mean it blocks on that command, and updates output to the screen. What I&#39;d like to do is, after the get statement occurs, instead of sitting right there, it lets me do a do/while loop until that process completes. And, every 2 seconds in that loop, I can send a progress message back to my named pipe. My routine works in the answer I have posted here, but unfortunately it has to shell out to run the Perl interpreter again."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 21188, "user_id": 105539, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c85c46cd17b738fbee94fcba1ade96a9?s=128&d=identicon&r=PG", "display_name": "Volomike", "link": "https://stackoverflow.com/users/105539/volomike"}, "edited": false, "score": 0, "creation_date": 1449518804, "post_id": 34140060, "comment_id": 56032485, "body": "@Volomike: in the hope that I know understood your problem I&#39;ve edited the answer. But I recommend that you edit your original question so that it better describes what you were trying to achieve."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1449518737, "last_edit_date": 1449518737, "creation_date": 1449510948, "answer_id": 34140060, "question_id": 34139410, "link": "https://stackoverflow.com/questions/34139410/perl-how-to-download-a-large-zip-file-in-a-loop-and-provide-feedback/34140060#34140060", "title": "Perl: How to download a large zip file in a loop and provide feedback", "body": "<p>After the comments on this answer specified the problems more precisely then your question you might try below. This forks a child with the download and in the master you will be able to read the progress information from a file descriptor. </p>\n\n<p>Nevertheless, a much better interaction between the download and your program which handles the progress might be possible, because in my opinion forking a process just so that the download can somehow displayed is ugly. But this part of the download feedback depends mostly on the way you've designed your progress showing application, and this design is unknown too me.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\n\nmy $url = \"http://...\";\nmy $file = \"outputfile\";\n\npipe my $rfh, my $wfh;\ndefined( my $pid = fork() ) or die \"fork failed: $!\";\nif ($pid == 0) {\n    # download in child, redirect progress to pipe\n    close($rfh);\n    $wfh-&gt;autoflush(1);\n    open(STDERR,\"&gt;&amp;\",$wfh) || die $!;\n    close($wfh);\n\n    my $ua = LWP::UserAgent-&gt;new;\n    $ua-&gt;show_progress(1);\n    $ua-&gt;get($url, ':content_file' =&gt; $file );\n    exit;\n}\n\n# read in master from pipe\nclose($wfh);\n$SIG{CHLD} = 'IGNORE';\nwhile (sysread($rfh, my $buf, 8192,0)) {\n    print \"progress... $buf\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21188, "user_id": 105539, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c85c46cd17b738fbee94fcba1ade96a9?s=128&d=identicon&r=PG", "display_name": "Volomike", "link": "https://stackoverflow.com/users/105539/volomike"}, "is_accepted": true, "score": -1, "last_activity_date": 1449519003, "creation_date": 1449519003, "answer_id": 34142276, "question_id": 34139410, "link": "https://stackoverflow.com/questions/34139410/perl-how-to-download-a-large-zip-file-in-a-loop-and-provide-feedback/34142276#34142276", "title": "Perl: How to download a large zip file in a loop and provide feedback", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse LWP::Simple qw($ua getstore);\nuse POSIX qw(WNOHANG);\n\nmy $sURL = \"http://example.com/example.zip\";\nmy $sSaveFile = \"/tmp/download.zip\";\n\n# it's probably a good idea to first check the server with a HEAD request on the URL before wasting time on a download. \n# But, besides that, here you go...\n\nmy $sMessage = \"Downloading\";\nmy $pid = fork(); \nif ($pid == 0) {\n  getstore($sURL,$sSaveFile);\n  exit;\n}\ndo {\n    # here, I print, but you could also provide feedback via Named Pipes or some other mechanism\n    # you might also want to do a byte check to see if the file size is increasing, and if not, increase a flag counter, and if you hit like 5 flags, give up on the download with a \"last\" statement.\n    # remember, byte checks can easily be done with: my $nBytes = (-s $sSaveFile);\n    print \"$sMessage\\n\";\n    $sMessage .= '.';\n    sleep(2);\n} while (waitpid($pid, WNOHANG)==0);\nprint \"\\n\\nDONE\\n\\n\";\n</code></pre>\n\n<p>I found I had to do it this way instead of shelling out and running curl because on OSX Lion, it has a bug with Curl timing out after 30 seconds when used in a piped process, while versions of OSX after that no longer had this bug.</p>\n"}], "owner": {"reputation": 21188, "user_id": 105539, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c85c46cd17b738fbee94fcba1ade96a9?s=128&d=identicon&r=PG", "display_name": "Volomike", "link": "https://stackoverflow.com/users/105539/volomike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 34142276, "answer_count": 2, "score": 0, "last_activity_date": 1449519003, "creation_date": 1449508734, "last_edit_date": 1449510498, "question_id": 34139410, "link": "https://stackoverflow.com/questions/34139410/perl-how-to-download-a-large-zip-file-in-a-loop-and-provide-feedback", "title": "Perl: How to download a large zip file in a loop and provide feedback", "body": "<p>Using Perl, how do I download a large zip file from a web server, and while it's downloading, post status messages? I tried <a href=\"https://metacpan.org/pod/LWP::Simple\" rel=\"nofollow\">LWP::Simple</a>'s <code>getstore()</code> and turned on <a href=\"https://metacpan.org/pod/LWP::UserAgent#ua-show_progress\" rel=\"nofollow\"><code>$ua-&gt;show_progress(1)</code></a>, but it hangs while it's downloading and I can't provide feedback over POSIX Named Pipes to another application.</p>\n"}, {"tags": ["perl", "recursion", "code-organization"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1449507456, "post_id": 34138845, "comment_id": 56025843, "body": "&quot;I&#39;m wondering what else or better way can be done to achieve indented goal?&quot; This seems a bit broad...what do you mean by &quot;better&quot;? Fewer lines of code? More readable? Better performance? Since it looks like you have working code that you want critiqued, this might be a better fit for <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449512844, "post_id": 34138845, "comment_id": 56029175, "body": "As you can see @ikegami found this code to be incorrect (though in my specific case, that <code>foo</code> thing will never be the case, but code should be correct!), so I was not even sure what I was looking for... hmm, If I can give more then two checks for @ikegami :) but I will take your note and next time, for strict code-review I&#39;ll address the proper hall"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1449512875, "post_id": 34138845, "comment_id": 56029198, "body": "To understand recursion, you must first understand recursion."}], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1449512620, "post_id": 34139895, "comment_id": 56029047, "body": "you got it! That&#39;s exactly what I was looking for, the code is simpler and easier to follow. Although, I wonder if/why your code would not work if with <code>my $cds = shift</code> ? Thanks"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1449512856, "post_id": 34139895, "comment_id": 56029185, "body": "Because it&#39;s passing the current level of the hash back into itself. You need to do it that way because you&#39;re modifying the structure as you go."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449513645, "post_id": 34139895, "comment_id": 56029608, "body": "Consider <code>my $x = [ 4 ]; reduce_1level($x);</code>. You need to modify <code>$x</code>. <code>$x</code> is known as <code>$_[0]</code> inside the sub (since Perl passes by reference). You could modify <code>$_[0]</code>, but I figured it would be nicer to modify <code>$cds</code> instead. That requires making <code>$cds</code> the same variable as <code>$_[0]</code> and <code>$x</code>."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1449517976, "post_id": 34139895, "comment_id": 56032041, "body": "Thinking ... what would happen if <code>$reftype = &#39;CODE&#39;</code> ? I don&#39;t have recursion that well under my belt <b>yet</b>, but I&#39;m afraid there would be run-time error on <code>reduce_1level($_) for @$cds;</code> (or maybe <i>infinite</i> recursion?), pls clarify. Also, would it not be more efficient to check for <code>if ref</code> before recursing with <code>reduce_1level</code> on <code>values %$cds</code> or <code>@$cds</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449518445, "post_id": 34139895, "comment_id": 56032285, "body": "I just assumed that wasn&#39;t possible, but that&#39;s trivial to fix."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449518490, "post_id": 34139895, "comment_id": 56032310, "body": "Sure, you can tweak performance, but that&#39;s the opposite of what the OP asked."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449518711, "post_id": 34139895, "comment_id": 56032439, "body": "An infinite loop is possible if you have a cyclic structure.  <code>my $x = { x =&gt; undef }; $x-&gt;{x} = $x;</code>"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 1, "creation_date": 1449773786, "post_id": 34139895, "comment_id": 56163369, "body": "I found <a href=\"http://stackoverflow.com/a/2975250/3299282\">this</a> very helpful explaining how <code>local</code> and the <code>alias</code> concept works"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1449776916, "last_edit_date": 1449776916, "creation_date": 1449510305, "answer_id": 34139895, "question_id": 34138845, "link": "https://stackoverflow.com/questions/34138845/simplifying-recursive-function/34139895#34139895", "title": "Simplifying recursive function", "body": "<p>Forget complexity. It's not even correct.</p>\n\n<p>Some calls handles two levels of the data structure, so you should have duplicated code. But you don't. As a result, not all the single-element arrays in the following are eliminated:</p>\n\n<pre><code>{ foo =&gt; [ [ 3 ] ] }\n</code></pre>\n\n<p>Don't try to handle two levels in the same call.</p>\n\n<pre><code>sub reduce_1level {\n    our $cds; local *cds = \\shift;   # alias $cds = shift;\n\n    my $reftype = ref($cds)\n        or return;\n\n    if ($reftype eq 'HASH') {\n        reduce_1level($_) for values %$cds;\n    }\n    elsif ($reftype eq 'ARRAY') {\n        if (@$cds == 1) {\n            $cds = $cds-&gt;[0];\n            reduce_1level($cds);\n        } else {\n            reduce_1level($_) for @$cds;\n        }\n    }\n    else {\n        die(\"Unsupported reference type $reftype\\n\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 34139895, "answer_count": 1, "score": 1, "last_activity_date": 1449776916, "creation_date": 1449506972, "last_edit_date": 1495542655, "question_id": 34138845, "link": "https://stackoverflow.com/questions/34138845/simplifying-recursive-function", "title": "Simplifying recursive function", "body": "<p>While wrapping my brains around <a href=\"https://stackoverflow.com/questions/126756/examples-of-recursive-functions\">recursion</a>, I hope to with the below simple problem to better understand recursion itself, but also in the spirit of TIMTOWTDI to other or better ways to achieve my goal.</p>\n\n<p>Problem is pretty simple, given an complex Perl data structure, <code>$cds</code> (that guarantees to start with <code>HASH</code>, hmm, does it make a diff ?), I wish to traverse <code>$cds</code> and remove single-level-arrays.</p>\n\n<p>I started with the below, which worked fine...</p>\n\n<pre><code>sub reduce_1level\n{\n    my $cds = shift;\n\n    if (ref $cds eq 'HASH')\n    {\n        foreach my $key (keys %$cds)\n        {\n            if (ref $cds-&gt;{$key} eq 'ARRAY')\n            {\n                if (@{$cds-&gt;{$key}} == 1)\n                {\n                    $cds-&gt;{$key} = $cds-&gt;{$key}[0];\n                }\n                else\n                {\n                    reduce_1level ($cds-&gt;{$key});\n                }\n            }\n            elsif (ref $cds-&gt;{$key} eq 'HASH')\n            {\n                reduce_1level ($cds-&gt;{$key});\n            }\n        }\n    }\n    elsif (ref $cds eq 'ARRAY')\n    {\n        foreach (@$cds)\n        {\n            reduce_1level ($_) if ref;\n        }\n    }\n}\n</code></pre>\n\n<p>... but I somehow felt the code could be simpler and shorter. After needling the stack on similar problems, I revised to:</p>\n\n<pre><code>sub reduce_1level\n{\n    my $cds = shift;\n\n    if (ref $cds eq 'ARRAY')\n    {\n        foreach (@$cds)\n        {\n            reduce_1level ($_) if ref;\n        }\n    }\n    elsif (ref $cds eq 'HASH')\n    {\n        foreach my $key (keys %$cds)\n        {\n            if (ref $cds-&gt;{$key} eq 'ARRAY' and @{$cds-&gt;{$key}} == 1)\n            {\n                $cds-&gt;{$key} = $cds-&gt;{$key}[0];\n            }\n            next unless ref $cds-&gt;{$key};\n            reduce_1level ($cds-&gt;{$key});\n        }\n    }\n}\n</code></pre>\n\n<p>I'm wondering what else or better way can be done to achieve indented goal?</p>\n"}, {"tags": ["perl", "parse-recdescent"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449503846, "post_id": 34137483, "comment_id": 56023283, "body": "You can do this in the actions for <code>When</code>, <code>Volume</code>, and <code>Issue</code>; simply add the values to your own data structure there. Be aware that &quot;action[s] execute within a special namespace belonging to the active parser, so care must be taken in correctly qualifying variable names.&quot;"}, {"owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449504596, "post_id": 34137483, "comment_id": 56023866, "body": "@ThisSuitIsBlackNot - I gather that from the Rec::ParseDescent documentation..... but I just can&#39;t figure it out (everything I try either gives me just one piece of data, or nothing)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1449505103, "post_id": 34137483, "comment_id": 56024212, "body": "Please <a href=\"https://stackoverflow.com/posts/34137483/edit\">edit</a> your question to show exactly what you tried and the results you got. At a guess, you did something like <code>{ $foo = &quot;bar&quot; }</code> instead of <code>{ $main::foo = &quot;bar&quot; }</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449507438, "post_id": 34137483, "comment_id": 56025827, "body": "Are the actions like <code>$arg[0] = $item{When}</code> etc. intended to export the values that you require? Do you realise that <code>@arg</code> and <code>%arg</code> are used by the parser itself, and shouldn&#39;t be manipulated directly like that? Also, you would need to declare a <i>package</i> variable in your main program and write to that using fully-qualified identifiers as <b>ThisSuitIsBlackNot</b> has described"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1449563601, "post_id": 34141316, "comment_id": 56049418, "body": "OK - I have <b>NO</b> idea how this works, but it does!  I&#39;ll spend some time removing &amp; and replacing actions to see what impact that has.  (and the pre-complied Grammar file... ##WOW## !! )"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1449586368, "post_id": 34141316, "comment_id": 56064480, "body": "A rule returns the last item. If that last item is a code block, it returns the value returned by that code block. (The trailing <code>{ $item[-1] }</code> are all commented out since they are redundant.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "edited": false, "score": 0, "creation_date": 1449586893, "post_id": 34141316, "comment_id": 56064911, "body": "I had to change <code>Issue</code> so your first line would match (since some of the issues had spaces in them). But I remove all spaces from the issue before returning it. /// The dash issue you were asking about was solved by adding <code>&#47;-?&#47;</code> between <code>When</code> and <code>Volume</code>. I had to restructure a little to only accept <code>-</code> when <code>When</code> was present. /// <code>When</code> could be a single regex. /// <code>&#47;\\Z&#47;</code> makes sure errors there&#39;s nothing past the end of the string. Without it, all string will match by ignoring everything after the first error. /// Finally, <code>&lt;&lt;&#39;...&#39;</code> means you don&#39;t need to escape anything"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1449515871, "last_edit_date": 1449515871, "creation_date": 1449515543, "answer_id": 34141316, "question_id": 34137483, "link": "https://stackoverflow.com/questions/34137483/collecting-data-with-parserecdescent/34141316#34141316", "title": "Collecting data with Parse::RecDescent", "body": "<p><code>make_parser.pl</code>:    </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Parse::RecDescent qw( );\n\nmy $grammar = &lt;&lt;'__END_OF_GRAMMAR__';\n   {\n      use strict;\n      use warnings;\n   }\n\n   parse    : Holdings /\\Z/            { $item[1] }\n\n   Holdings : Node(s /,/)             #{ $item[-1] }\n\n   Node     : When /-?/ Node_          { [ $item[1], @{$item[3]} ] }\n            | Node_                    { [ undef,    @{$item[1]} ] }\n   Node_    : Volume Issue             { [ $item[1], $item[2] ] }\n\n   When     : Year When_[ $item[1] ]  #{ $item[-1] }\n   When_    : '/' Year                 { $arg[0] . '/' . $item[2] }\n            |                          { $arg[0] }\n   Year     : /\\d{4}/                 #{ $item[-1] }\n\n   Volume   : /v\\.\\s*/ /\\d+/          #{ $item[-1] }\n\n   Issue    : '(' /[^)]*/ ')'          { $item[2] =~ s/\\s//gr }\n\n__END_OF_GRAMMAR__\n\nParse::RecDescent-&gt;Precompile($grammar, 'Grammar')\n   or die(\"Bad grammar\\n\");\n</code></pre>\n\n<p><code>a.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Grammar qw( );\n\n#$::RD_TRACE = 1;\n\nmy $parser = Grammar-&gt;new();\n\nwhile (&lt;DATA&gt;) {\n   chomp;\n\n   my $recs = $parser-&gt;parse($_)\n      or do { warn(\"Bad data at line $.\\n\");\n              next;\n            };\n\n   print(\"For: $_\\n\");\n   for my $rec (@$recs) {\n      printf(\"   %s | %s | %s\\n\",\n         defined($rec-&gt;[0]) ? $rec-&gt;[0] : '[undef]',\n         $rec-&gt;[1],\n         $rec-&gt;[2],\n      );\n   }\n}\n\n__DATA__\n2006 - v. 1 (1-2), 2007 - v. 2 (1-4), 2008 - v. 3 (1-4), 2009 - v. 4 (1-4), 2010 - v. 5 (1-4), 2011 - v. 6 (1-2), 2012 - v. 7 (1, 4), 2013/2014 - v. 8 (1-4), 2014 - v. 9 (1, 3)\nv.35(1,2),v.36(1,2),v.33(1,2),v.34(1,2),v.39(1,2),v.37(1,2),v.38(1,2),v.43(1,2),v.42(1,2),v.41(1,2),v.40(1,2),v.22(),v.23(),v.24(),v.25(1),v.26(),v.27(),v.28(1,2),v.29(1,2),v.3(),v.2(1,2),v.1(1,2),v.30(),v.7(),v.6(),v.32(1,2),v.5(),v.4(),v.31()\n1820/1825 - v. 1 (1-2), 1821/1825 - v. 2 (3-4), 1821/1826 - v. 3 (5-6), 1821 - v. 4 (7-8), 1822 - v. 5 (9-10), 1823 - v. 6 (11-12), 1823 - v. 7 (13-14), 1823 - v. 8 (15-16), 1824 - v. 9 (17-18)\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl make_parser.pl\n\n$ perl a.pl\nFor: 2006 - v. 1 (1-2), 2007 - v. 2 (1-4), 2008 - v. 3 (1-4), 2009 - v. 4 (1-4), 2010 - v. 5 (1-4), 2011 - v. 6 (1-2), 2012 - v. 7 (1, 4), 2013/2014 - v. 8 (1-4), 2014 - v. 9 (1, 3)\n   2006 | 1 | 1-2\n   2007 | 2 | 1-4\n   2008 | 3 | 1-4\n   2009 | 4 | 1-4\n   2010 | 5 | 1-4\n   2011 | 6 | 1-2\n   2012 | 7 | 1,4\n   2013/2014 | 8 | 1-4\n   2014 | 9 | 1,3\nFor: v.35(1,2),v.36(1,2),v.33(1,2),v.34(1,2),v.39(1,2),v.37(1,2),v.38(1,2),v.43(1,2),v.42(1,2),v.41(1,2),v.40(1,2),v.22(),v.23(),v.24(),v.25(1),v.26(),v.27(),v.28(1,2),v.29(1,2),v.3(),v.2(1,2),v.1(1,2),v.30(),v.7(),v.6(),v.32(1,2),v.5(),v.4(),v.31()\n   [undef] | 35 | 1,2\n   [undef] | 36 | 1,2\n   [undef] | 33 | 1,2\n   [undef] | 34 | 1,2\n   [undef] | 39 | 1,2\n   [undef] | 37 | 1,2\n   [undef] | 38 | 1,2\n   [undef] | 43 | 1,2\n   [undef] | 42 | 1,2\n   [undef] | 41 | 1,2\n   [undef] | 40 | 1,2\n   [undef] | 22 |\n   [undef] | 23 |\n   [undef] | 24 |\n   [undef] | 25 | 1\n   [undef] | 26 |\n   [undef] | 27 |\n   [undef] | 28 | 1,2\n   [undef] | 29 | 1,2\n   [undef] | 3 |\n   [undef] | 2 | 1,2\n   [undef] | 1 | 1,2\n   [undef] | 30 |\n   [undef] | 7 |\n   [undef] | 6 |\n   [undef] | 32 | 1,2\n   [undef] | 5 |\n   [undef] | 4 |\n   [undef] | 31 |\nFor: 1820/1825 - v. 1 (1-2), 1821/1825 - v. 2 (3-4), 1821/1826 - v. 3 (5-6), 1821 - v. 4 (7-8), 1822 - v. 5 (9-10), 1823 - v. 6 (11-12), 1823 - v. 7 (13-14), 1823 - v. 8 (15-16), 1824 - v. 9 (17-18)\n   1820/1825 | 1 | 1-2\n   1821/1825 | 2 | 3-4\n   1821/1826 | 3 | 5-6\n   1821 | 4 | 7-8\n   1822 | 5 | 9-10\n   1823 | 6 | 11-12\n   1823 | 7 | 13-14\n   1823 | 8 | 15-16\n   1824 | 9 | 17-18\n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 2245633, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/SLpQK.gif?s=128&g=1", "display_name": "CodeGorilla", "link": "https://stackoverflow.com/users/2245633/codegorilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 1, "accepted_answer_id": 34141316, "answer_count": 1, "score": 2, "last_activity_date": 1449561662, "creation_date": 1449502860, "last_edit_date": 1449561662, "question_id": 34137483, "link": "https://stackoverflow.com/questions/34137483/collecting-data-with-parserecdescent", "title": "Collecting data with Parse::RecDescent", "body": "<p>I have a list of strings (30,000+) which are a collection of statements. Logically, <a href=\"https://metacpan.org/pod/Parse::RecDescent\" rel=\"nofollow\"><code>Parse::RecDescent</code></a> is the tool to use to parse the string to gather the data, but I just can't get my head round the construction of the grammar specification.</p>\n\n<p>The following code is building a big list of blessed <em>nodes</em>, however I just can't figure out how to actually create a more useful data-structure\n(All I want are the <code>Year</code>, <code>Vol</code> &amp; <code>Iss</code> values)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Parse::RecDescent;\nuse Data::Dumper;\n\nmy $string1 = '2006 - v. 1 (1-2), 2007 - v. 2 (1-4), 2008 - v. 3 (1-4), 2009 - v. 4 (1-4), 2010 - v. 5 (1-4), 2011 - v. 6 (1-2), 2012 - v. 7 (1, 4), 2013/2014 - v. 8 (1-4), 2014 - v. 9 (1, 3)';\nmy $string2 = 'v.35(1,2),v.36(1,2),v.33(1,2),v.34(1,2),v.39(1,2),v.37(1,2),v.38(1,2),v.43(1,2),v.42(1,2),v.41(1,2),v.40(1,2),v.22(),v.23(),v.24(),v.25(1),v.26(),v.27(),v.28(1,2),v.29(1,2),v.3(),v.2(1,2),v.1(1,2),v.30(),v.7(),v.6(),v.32(1,2),v.5(),v.4(),v.31()';\nmy $string3 = '1820/1825 - v. 1 (1-2), 1821/1825 - v. 2 (3-4), 1821/1826 - v. 3 (5-6), 1821 - v. 4 (7-8), 1822 - v. 5 (9-10), 1823 - v. 6 (11-12), 1823 - v. 7 (13-14), 1823 - v. 8 (15-16), 1824 - v. 9 (17-18)';\n\nmy $data = {}; # Edit: Added hash-ref to show alternate testing\nmy $grammar = q {\n   &lt;autotree&gt; \n     Holdings  : Node(s /,/) \n     Node      : When(?) Volume Issue { $data-&gt;{ $item{when} } = [ $item{Vol}, $item{Iss} ] } # Edit: Action Added - This was one option I tried\n     When      : Years | Year { $arg[0] = $item{When} } \n     Years     : Year '/' Year\n     Year      : /\\\\d{4}/  { $item[1] } # Edit: Action Added - This was another option I tried\n     Volume    : /v\\\\.\\\\s*/ Vol { $arg[1] = $item{Vol} } # Edit: Add commet \"This was blindly flailing to work out how to get variable data\n     Vol       : /\\\\d+/\n     Issue     : /\\\\s*\\(/ Iss ')' { $arg[2] = $item{Iss} }\n     Iss       : /[\\\\d+\\\\-\\\\,]*/ \n     };\n\nmy $parser = Parse::RecDescent-&gt;new($grammar);\n\nforeach my $string ( ($string1, $string2, $string3) ) {\n  $string =~ s/\\s+\\-\\s+//g;\n  print \"$string\\n\";\n  my $output = $parser-&gt;Holdings($string);\n  print Dumper $output;\n}\n</code></pre>\n\n<p>On a side-note, how do I write the grammar statement so I don't need the substitution in the loop?</p>\n"}, {"tags": ["perl", "timezone"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 7, "last_activity_date": 1449500188, "creation_date": 1449500188, "answer_id": 34136543, "question_id": 34135955, "link": "https://stackoverflow.com/questions/34135955/shifting-time-zone-with-datetimeformatstrptime/34136543#34136543", "title": "Shifting time zone with DateTime::Format::Strptime", "body": "<p>You are dealing with a floating time zone.</p>\n\n<pre><code>my $dt = $strp-&gt;parse_datetime('2015-07-0611:21:33');\nsay $dt-&gt;time_zone;\n</code></pre>\n\n<p>On my machine, which is in the <em>Europe/Berlin</em> timezone, this gives:</p>\n\n<pre><code>DateTime::TimeZone::Floating=HASH(0x1dd1f68)\n</code></pre>\n\n<p>The <a href=\"https://metacpan.org/pod/DateTime#dt-set_time_zone-tz\">DateTime docs</a> have this to say:</p>\n\n<blockquote>\n  <p>If the old time zone was a floating time zone, then no adjustments to the local time are made, except to account for leap seconds. If the new time zone is floating, then the UTC time is adjusted in order to leave the local time untouched.</p>\n</blockquote>\n\n<p>The output of the rest of your program on my machine is:</p>\n\n<pre><code>1436181693\n2015-07-06 11:21:33\n1436174493\n2015-07-06 11:21:33\n</code></pre>\n\n<p>The difference between the two epoch values is <code>7200</code>. That's two hours. </p>\n\n<pre><code>$dt-&gt;set_time_zone( 'local' );\nsay $dt-&gt;time_zone;\n# DateTime::TimeZone::Europe::Berlin=HASH(0x27dc1d8)\n</code></pre>\n\n<p>Let's look at the timezone thing. <a href=\"https://metacpan.org/pod/DateTime::TimeZone::Floating\">DateTime::TimeZone::Floating</a> is used when there is no timezone given in a DateTime object. Setting the timezone to <code>local</code> updates the object.</p>\n\n<p>It assumes that the floating timezone is UTC time, so it adds one hour for UTC to Berlin, and another one because at that time, Berlin has daylight saving time.</p>\n\n<hr>\n\n<p>That's all a bit theoretical. The point is, setting the <code>time_zone</code> on a\n DateTime object <strong>does not convert it</strong> immediately. If you start with a floating timezone, it <em>changes the timezone</em> attached to the date and time. That's a difference. Only when you call it again, it will convert.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse DateTime::Format::Strptime;\n\nmy $strp = DateTime::Format::Strptime-&gt;new(\n                    pattern =&gt; '%Y-%m-%d%H:%M:%S',\n                );\n\nmy $dt = $strp-&gt;parse_datetime('2015-07-0611:21:33');\nsay $dt-&gt;time_zone;\nsay $dt-&gt;epoch;\nsay $dt;\n\nsay \"changing to UTC...\";\n$dt-&gt;set_time_zone( 'UTC' );\nsay $dt-&gt;time_zone;\nsay $dt-&gt;epoch;\nsay $dt;\n\nsay \"changing to local...\";\n$dt-&gt;set_time_zone( 'local' );\nsay $dt-&gt;time_zone;\nsay $dt-&gt;epoch;\nsay $dt;\n</code></pre>\n\n<p>Here is the output on my machine:</p>\n\n<pre><code>DateTime::TimeZone::Floating=HASH(0x1887f98)\n1436181693\n2015-07-06T11:21:33\nchanging to UTC...\nDateTime::TimeZone::UTC=HASH(0x177dfd8)\n1436181693\n2015-07-06T11:21:33\nchanging to local\nDateTime::TimeZone::Europe::Berlin=HASH(0x19a84c0)\n1436181693\n2015-07-06T13:21:33\n</code></pre>\n\n<p>As you can see, the first <code>set_time_zone</code> makes the DateTime object not be in a floating timezone any more. The second call converts from one actual timezone to another, and the time changes.</p>\n"}], "owner": {"reputation": 27, "user_id": 3934476, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77efd64cd2ec578105b1bb0716a7f9e?s=128&d=identicon&r=PG&f=1", "display_name": "user3934476", "link": "https://stackoverflow.com/users/3934476/user3934476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449503709, "creation_date": 1449498563, "last_edit_date": 1449503709, "question_id": 34135955, "link": "https://stackoverflow.com/questions/34135955/shifting-time-zone-with-datetimeformatstrptime", "title": "Shifting time zone with DateTime::Format::Strptime", "body": "<p>Please see the Perl code first.</p>\n\n<pre><code>use DateTime::Format::Strptime;\n\nmy $strp = DateTime::Format::Strptime-&gt;new(\n    pattern =&gt; '%Y-%m-%d%H:%M:%S',\n);\nmy $dt = $strp-&gt;parse_datetime('2015-07-0611:21:33');\n\nprint $dt-&gt;epoch, \"\\n\";\nprint $dt-&gt;ymd . ' ' . $dt-&gt;hms, \"\\n\";\n$dt-&gt;set_time_zone( 'local' );\nprint $dt-&gt;epoch,\"\\n\";\nprint $dt-&gt;ymd . ' ' . $dt-&gt;hms, \"\\n\";\n</code></pre>\n\n<p>output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1436181693\n2015-07-06 11:21:33\n1436149293\n2015-07-06 11:21:33\n</code></pre>\n\n<p>I want to change the time zone.</p>\n\n<p><code>$dt-&gt;epoch</code> changes, but <code>$dt-&gt;ymd</code> and <code>$dt-&gt;hms</code> are unchanged.</p>\n\n<p>I do not know why.</p>\n\n<p>Help me please.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1449496763, "post_id": 34134987, "comment_id": 56018351, "body": "You should print() before second while loop, if you don&#39;t want to skip first line. <code>perl -ne &#39;print; while (&lt;&gt;) { print }&#39;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1449497259, "post_id": 34134987, "comment_id": 56018675, "body": "@\u0421\u0443\u0445\u043e\u043927 Thanks that&#39;s a workaround for the problem, but I&#39;m trying to figure out why should it be necessary. The line buffer gets eaten by opening the second call. Why is not all data buffered for the STDIN file descriptor outputted? I tried some things like <code>select 0; $|=1; select 1; $|=1</code> but the result is the same."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1449497733, "post_id": 34134987, "comment_id": 56018981, "body": "<code>&#39;{print $_}&#39;</code> is incorrect. It should be just <code>print $_</code> (or even just <code>print</code>). The curly brackets <code>{ }</code> create a hash reference in Perl. It&#39;s not like in awk. Also, if you want to print the lines, you should use <code>-p</code> instead, which is like <code>-n</code>, except it also prints."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "edited": false, "score": 0, "creation_date": 1449497411, "post_id": 34135223, "comment_id": 56018766, "body": "Just lost? For what reason should it be lost? Why is it not flushed? Furthermore it doesn&#39;t make sense, since I when executed the first buffer STDIN has no data, the program is setup to the second while loop by the time it starts to receive data -- yet still dumps line 1?"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 2, "creation_date": 1449497555, "post_id": 34135223, "comment_id": 56018860, "body": "The <code>&lt;&gt;</code> reads a line, then puts it into <code>$_</code>. Then you don&#39;t do anything with it, so, yes, it gets discarded (replaced by the next <code>&lt;&gt;</code> which overwrites <code>$_</code> with the next line). <b>Nothing is printed unless you specifically ask for it to be</b> (as you do with the inner <code>print $_;</code>)."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1449497711, "post_id": 34135223, "comment_id": 56018968, "body": "@A.Danischewski, expanded a bit the answer so you can see what happens."}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": false, "score": 3, "last_activity_date": 1449497658, "last_edit_date": 1449497658, "creation_date": 1449496390, "answer_id": 34135223, "question_id": 34134987, "link": "https://stackoverflow.com/questions/34134987/perl-eating-line-one-on-n-commandline-option-flag/34135223#34135223", "title": "Perl eating line one on -n commandline option flag", "body": "<p>The <code>-n</code> flag wraps your code inside a <code>while (&lt;&gt;) { ... }</code> construct.</p>\n\n<p>So in your second example, the code that is actually executed is</p>\n\n<pre><code>while (&lt;&gt;) # reads a line from STDIN, places it in $_\n{\n    # you don't do anything with the contents of $_ here\n\n    while (&lt;&gt;) # reads a line from STDIN, places it in $_, overwriting the previous value\n    {\n        print $_; # prints the contents of $_\n    }\n}\n</code></pre>\n\n<p>Which means the line that was read by the first <code>&lt;&gt;</code> is just lost.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "edited": false, "score": 0, "creation_date": 1449497556, "post_id": 34135371, "comment_id": 56018862, "body": "Thanks its useful. I knew that a second loop was being generated but this provides a bit more insight yet still doesn&#39;t explain why line one is disappearing. It looks to me that Perl doesn&#39;t flush because of internal buffering and due to perhaps a bug it simply dumps the buffered data in this case instead of flushing the buffer."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1449497688, "post_id": 34135371, "comment_id": 56018951, "body": "@A.Danischewski, See the second code snippet, first in outer while you are doing <code>$_ = &lt;ARGV&gt;</code>  means assigning <code>$_</code> to first-line of file and without printing it  you are again doing <code>$_ = &lt;ARGV&gt;</code> and now you are printing the line so, previous value of <code>$_</code> is overwritten or lost(in this case)."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 5, "creation_date": 1449497869, "post_id": 34135371, "comment_id": 56019056, "body": "@A.Danischewski <code>$foo = 1; $foo = 2; print $foo</code> &lt;--- why did that not print <code>1</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "edited": false, "score": 0, "creation_date": 1449498286, "post_id": 34135371, "comment_id": 56019328, "body": "@AruneshSingh It makes sense if you have additional logic, but in this simple case it seems Perl should be a bit smarter than to wrap the loop and clobber the STDIN buffer. Thanks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 6, "creation_date": 1449501734, "post_id": 34135371, "comment_id": 56021749, "body": "It&#39;s not a question of <code>perl</code> being &quot;a bit smarter&quot; - it&#39;s doing because you <i>specifically ask it to</i> by setting <code>-n</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "edited": false, "score": 0, "creation_date": 1449511852, "post_id": 34135371, "comment_id": 56028583, "body": "You could say that about anything, e.g. that it&#39;s what you asked the compiler to do. But in reality compilers and many other languages rearrange code for optimization and sanity reasons. I don&#39;t see why Perl would presume that someone wants it to eat the first line and clobber the buffer in this case. If you want to make a language really useful that people want to use and learn, you should probably rip a few pages out of compiler design logic to make sure its fast and has sensical default behavior."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 2, "creation_date": 1449528370, "post_id": 34135371, "comment_id": 56037552, "body": "@A.Danischewski I think you are confused. The <code>-n</code> switch is quite sensible, you are just using it wrong. <code>perl -ne&#39;print $_&#39;</code> will do what you expect. If you add more code, you can change the default behaviour, which is what you did: You added another readline loop. Heck, if you put <code>perl -ne&#39;print &quot;NO, I&#39;m not printing any lines!&quot;&#39;</code> it will not print any lines at all from the input. If you put <code>perl -ne&#39;die &quot;I&#39;m a little teapot!&quot;&#39;</code> it will not print anything either. YOU are telling perl to discard the first line by adding that code."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 9, "last_activity_date": 1449497165, "last_edit_date": 1449497165, "creation_date": 1449496789, "answer_id": 34135371, "question_id": 34134987, "link": "https://stackoverflow.com/questions/34134987/perl-eating-line-one-on-n-commandline-option-flag/34135371#34135371", "title": "Perl eating line one on -n commandline option flag", "body": "<p>You can itself check the code generated by one-liner using <code>O=Deparse</code>.</p>\n\n<p><strong>First:</strong></p>\n\n<pre><code>$ perl -MO=Deparse  -ne 'print $_;' file\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    print $_;\n}\n-e syntax OK\n</code></pre>\n\n<p><strong>Second:</strong></p>\n\n<pre><code>$ perl -MO=Deparse -ne 'while (&lt;&gt;) { print $_; }' file\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    while (defined($_ = &lt;ARGV&gt;)) {\n        print $_;\n    }\n}\n-e syntax OK\n</code></pre>\n\n<p>Now, It is easy to know what is wrong with second case. Outer  while eats the first line of file and it is lost.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4401178"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 1, "accepted_answer_id": 34135371, "answer_count": 2, "score": 1, "last_activity_date": 1449499669, "creation_date": 1449495643, "last_edit_date": 1449499669, "question_id": 34134987, "link": "https://stackoverflow.com/questions/34134987/perl-eating-line-one-on-n-commandline-option-flag", "title": "Perl eating line one on -n commandline option flag", "body": "<p>I've started playing around with perl and I'm trying to figure out what is wrong with telling <code>perl</code> to use a loop if I also provide a loop? </p>\n\n<p>It looks like perl is getting confused with the same open file descriptors but what I don't get is why does it eat the first line? </p>\n\n<p><code>perl -ne 'while (&lt;&gt;) { print $_; }'</code></p>\n\n<p>Of course in this simple example, I can simply <code>perl -ne '{print $_}'</code> to arrive at the same functional logic. </p>\n\n<p>But what I want to know is what is going wrong with the double loop that the first line disappears if yet another <code>while (&lt;&gt;) { }</code> gets wrapped? </p>\n\n<pre><code>$ perl -ne '{print $_}' hello\nhello\nhello\nworld\nworld\n^C\n\n$ perl -ne 'while (&lt;&gt;) { print $_; }' \nhello\nworld\nworld\n^C\n</code></pre>\n\n<p>Update: According to the answers what seems to be happening is that Perl is waiting on the first loop for STDIN input. Upon receiving input on STDIN, the input is assigned to the internal buffer <code>$_</code> and the logic proceeds to the second loop where again it waits for new STDIN input. Upon receiving new STDIN input, it clobbers the STDIN buffer <code>$_</code> with the new STDIN input and begins printing.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1449546977, "last_edit_date": 1449546977, "creation_date": 1449494919, "answer_id": 34134740, "question_id": 34134615, "link": "https://stackoverflow.com/questions/34134615/how-to-find-and-replace-a-regex-in-perl/34134740#34134740", "title": "How to find and replace a regex in perl", "body": "<p>Try this</p>\n\n<pre><code>$s = \"myword( word2(\";\n$s =~s/(\\w+)(\\()/$1 $2/g;\nprint $s;\n</code></pre>\n\n<p>As from  @ikegami command. My above regex <code>\\w+</code> will backtrack this is needless. And no need to group the <code>(</code>, because known one. So i changed my regex accordingly, </p>\n\n<p>New RegEx</p>\n\n<pre><code>$s =~s/(\\w)\\(/$1 (/g;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449496353, "post_id": 34134776, "comment_id": 56018093, "body": "Changing the OP&#39;s <code>\\w</code> to <code>\\w+</code> needlessly slows things down. (Consider the amount of backtracking needed to determine <code>foobar!</code> doesn&#39;t match.) And you can completely avoid the second capture to speed things up."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1449495013, "creation_date": 1449495013, "answer_id": 34134776, "question_id": 34134615, "link": "https://stackoverflow.com/questions/34134615/how-to-find-and-replace-a-regex-in-perl/34134776#34134776", "title": "How to find and replace a regex in perl", "body": "<p>Here is a way:</p>\n\n<pre><code>my $str = \"myword(\";\n$str =~ s/(\\w+)(\\()/$1 $2/;\nprint $str, \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>myword (\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 1, "last_activity_date": 1449495271, "creation_date": 1449495271, "answer_id": 34134860, "question_id": 34134615, "link": "https://stackoverflow.com/questions/34134615/how-to-find-and-replace-a-regex-in-perl/34134860#34134860", "title": "How to find and replace a regex in perl", "body": "<p>Use look ahead:</p>\n\n<pre><code>$ perl -pe 's/(\\w)(?=\\()/$1 /' &lt;&lt;&lt; 'word('\nword (\n</code></pre>\n\n<p>Or look ahead together with look behind:</p>\n\n<pre><code>$ perl -pe 's/(?&lt;=\\w)(?=\\()/ /' &lt;&lt;&lt; 'word('\nword (\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1449497049, "last_edit_date": 1449497049, "creation_date": 1449495530, "answer_id": 34134950, "question_id": 34134615, "link": "https://stackoverflow.com/questions/34134615/how-to-find-and-replace-a-regex-in-perl/34134950#34134950", "title": "How to find and replace a regex in perl", "body": "<p>Another way will be to use <code>\\K</code> i.e forget what you matched before:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $string = q{myword( myword2(};\n$string=~s/\\w\\K\\(/ (/g;\nprint $string,\"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1449496094, "last_edit_date": 1449496094, "creation_date": 1449495758, "answer_id": 34135020, "question_id": 34134615, "link": "https://stackoverflow.com/questions/34134615/how-to-find-and-replace-a-regex-in-perl/34135020#34135020", "title": "How to find and replace a regex in perl", "body": "<pre><code>s/\\w\\K\\(/ (/g   # 5.10+\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/(\\w)\\(/$1 (/g\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/(?&lt;=\\w)\\(/ (/g\n</code></pre>\n\n<p>The first is much faster than the other two, but all are faster than the other correct solutions provided. (Not sure which is the fastest of the second and third.)</p>\n"}], "owner": {"reputation": 547, "user_id": 3608859, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/141c2980f205ce9f018407974ae31bbf?s=128&d=identicon&r=PG&f=1", "display_name": "alabamajack", "link": "https://stackoverflow.com/users/3608859/alabamajack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 34134740, "answer_count": 5, "score": -1, "last_activity_date": 1449546977, "creation_date": 1449494537, "question_id": 34134615, "link": "https://stackoverflow.com/questions/34134615/how-to-find-and-replace-a-regex-in-perl", "title": "How to find and replace a regex in perl", "body": "<p>I have a text and want to replace all <code>\\w\\(</code>, for example <code>myword(</code> to the same with a space, so it should be <code>myword (</code>. How to do that with <code>s///</code>? or is there another way to do that?</p>\n"}, {"tags": ["perl", "postgresql", "ubuntu"], "comments": [{"owner": {"reputation": 51, "user_id": 1903412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e34087410c8726014f4f6a7de06323b?s=128&d=identicon&r=PG", "display_name": "Vinod Kabadi", "link": "https://stackoverflow.com/users/1903412/vinod-kabadi"}, "edited": false, "score": 0, "creation_date": 1449492528, "post_id": 34132689, "comment_id": 56015558, "body": "Please go to the following <a href=\"http://askubuntu.com/questions/140246/how-do-i-resolve-unmet-dependencies-after-adding-a-ppa\">link</a> and let me know if that helped you"}, {"owner": {"reputation": 813, "user_id": 2198159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QblZ0.jpg?s=128&g=1", "display_name": "abhi shukla", "link": "https://stackoverflow.com/users/2198159/abhi-shukla"}, "reply_to_user": {"reputation": 51, "user_id": 1903412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e34087410c8726014f4f6a7de06323b?s=128&d=identicon&r=PG", "display_name": "Vinod Kabadi", "link": "https://stackoverflow.com/users/1903412/vinod-kabadi"}, "edited": false, "score": 0, "creation_date": 1449493090, "post_id": 34132689, "comment_id": 56015930, "body": "Thanks for reply. I already tried that also I don&#39;t have broken dependencies. {code} $sudo apt-get install postgresql-plperl-9.4 Reading package lists... Done ....... .... The following packages have unmet dependencies:  postgresql-plperl-9.4 : Depends: libperl5.14 (&gt;= 5.14.2) but it is not installable E: Unable to correct problems, you have held broken packages.            sudo apt-get install -f  Reading package lists... Done Building dependency tree        Reading state information... Done 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded."}], "answers": [{"comments": [{"owner": {"reputation": 813, "user_id": 2198159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QblZ0.jpg?s=128&g=1", "display_name": "abhi shukla", "link": "https://stackoverflow.com/users/2198159/abhi-shukla"}, "edited": false, "score": 0, "creation_date": 1449551239, "post_id": 34134628, "comment_id": 56044296, "body": "Can it result in broken dependency as by default perl v5.4.20 is installled on Ubuntu 15.10 and I will install libperl-dev==5.14.2 which should not be compatible."}], "tags": [], "owner": {"reputation": 51, "user_id": 1903412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e34087410c8726014f4f6a7de06323b?s=128&d=identicon&r=PG", "display_name": "Vinod Kabadi", "link": "https://stackoverflow.com/users/1903412/vinod-kabadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1449494591, "creation_date": 1449494591, "answer_id": 34134628, "question_id": 34132689, "link": "https://stackoverflow.com/questions/34132689/error-in-installing-perl-extension-on-postgres-9-4-in-ubuntu/34134628#34134628", "title": "Error in installing perl extension on postgres-9.4 in Ubuntu", "body": "<p>Since, I couldn't be able to add comment I am adding up comment as answer,\nOnce you please install the package manually of same version and then you see if the same problem exists actually the same problem I faced for different package and now it is working fine So please add it manually and let me know\nThanks</p>\n"}, {"comments": [{"owner": {"reputation": 813, "user_id": 2198159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QblZ0.jpg?s=128&g=1", "display_name": "abhi shukla", "link": "https://stackoverflow.com/users/2198159/abhi-shukla"}, "edited": false, "score": 0, "creation_date": 1449505273, "post_id": 34135628, "comment_id": 56024310, "body": "My understanding was that  libperl5.14 (&gt;= 5.14.2)  ==&gt; libperl5.20  should work as version 5.20 &gt; 5.14.2."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 813, "user_id": 2198159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QblZ0.jpg?s=128&g=1", "display_name": "abhi shukla", "link": "https://stackoverflow.com/users/2198159/abhi-shukla"}, "edited": false, "score": 0, "creation_date": 1449507938, "post_id": 34135628, "comment_id": 56026174, "body": "While maintenance releases of Perl maintain binary backwards compatibility, this is not maintained between versions of Perl. That means that something linked against 5.14.0 can run with 5.14.2, but not with 5.20.2. It would need to be recompiled. /// Anyway, you&#39;re heading in the wrong direction. You wouldn&#39;t want to install your package even if you could. Install the <code>postgresql-plperl-9.4</code> for Ubuntu 15.10 instead of the one you are trying to install."}, {"owner": {"reputation": 813, "user_id": 2198159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QblZ0.jpg?s=128&g=1", "display_name": "abhi shukla", "link": "https://stackoverflow.com/users/2198159/abhi-shukla"}, "edited": false, "score": 0, "creation_date": 1449550685, "post_id": 34135628, "comment_id": 56044112, "body": "Thanks for reply. I was not aware of perl version compatibility thing. I am already installing postgresql-plperl-9.4 for Ubuntu 15.10 as I am doing it via apt. I more thing would help me increase my knowledge as apt is denying to install  libperl5.14 (&gt;= 5.14.2). How does it come to know about compatibility of perl as it can differ from lib to lib."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 813, "user_id": 2198159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QblZ0.jpg?s=128&g=1", "display_name": "abhi shukla", "link": "https://stackoverflow.com/users/2198159/abhi-shukla"}, "edited": false, "score": 0, "creation_date": 1449551082, "post_id": 34135628, "comment_id": 56044236, "body": "No, you&#39;re not. Again, the <a href=\"http://packages.ubuntu.com/wily/postgresql-plperl-9.4\" rel=\"nofollow noreferrer\">postgresql-plperl-9.4 for Ubuntu 15.10</a> doesn&#39;t have a dependency on libperl5.14. Fix your repository list and/or update your cache."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1449497573, "creation_date": 1449497573, "answer_id": 34135628, "question_id": 34132689, "link": "https://stackoverflow.com/questions/34132689/error-in-installing-perl-extension-on-postgres-9-4-in-ubuntu/34135628#34135628", "title": "Error in installing perl extension on postgres-9.4 in Ubuntu", "body": "<p>PL/Perl embeds a Perl interpreter into the PostgreSQL server. The PL/Perl package you are trying to install expects the system Perl to be Perl 5.14, but it's Perl 5.20. It can't be installed.</p>\n\n<p>I suspect that your repository list is messed up because the <code>postgresql-plperl-9.4</code> <a href=\"http://packages.ubuntu.com/wily/postgresql-plperl-9.4\" rel=\"nofollow\">package</a> for Ubuntu 15.10 correctly links to Perl 5.20, not Perl 5.14.</p>\n\n<p>Fix your package manager.</p>\n"}], "owner": {"reputation": 813, "user_id": 2198159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QblZ0.jpg?s=128&g=1", "display_name": "abhi shukla", "link": "https://stackoverflow.com/users/2198159/abhi-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 0, "accepted_answer_id": 34135628, "answer_count": 2, "score": 1, "last_activity_date": 1449497573, "creation_date": 1449488359, "question_id": 34132689, "link": "https://stackoverflow.com/questions/34132689/error-in-installing-perl-extension-on-postgres-9-4-in-ubuntu", "title": "Error in installing perl extension on postgres-9.4 in Ubuntu", "body": "<p>I have installed postgresql 9.4 on Ubuntu 15.10.On installing \npostgresql-plperl-9.4 via apt it shows error. </p>\n\n<pre><code>sudo apt-get install -f postgresql-plperl-9.4\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\nThe following information may help to resolve the situation:\n\nThe following packages have unmet dependencies:\n postgresql-plperl-9.4 : Depends: libperl5.14 (&gt;= 5.14.2) but it is not installable\nE: Unable to correct problems, you have held broken packages.\n</code></pre>\n\n<p>I have installed libperl-dev and libperl with version 5.20.2 but It doesn't solve the problem.</p>\n\n<pre><code>$dpkg -l | grep libperl\nii  libperl-dev                                   5.20.2-6                                   amd64        Perl library: development files\nii  libperl5.20                                   5.20.2-6                                   amd64        shared Perl library\nii  libperlio-gzip-perl                           0.18-3build1                               amd64        module providing a PerlIO layer to gzip/gunzip\n</code></pre>\n\n<p>Also perl is installed of the same version</p>\n\n<pre><code>$perl -v\n\nThis is perl 5, version 20, subversion 2 (v5.20.2) built for x86_64-linux-gnu-thread-multi\n(with 51 registered patches, see perl -V for more detail)\n</code></pre>\n"}, {"tags": ["perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "edited": false, "score": 0, "creation_date": 1449489755, "post_id": 34132006, "comment_id": 56013824, "body": "Thanks for the comment and code. The attributes/columns in my case have no keys. I suppose that if I define variable with value &quot;&quot; as undef, DBI considers this as database NULL and there is no errors. Does the import stopps if the value is &quot;&quot; due to convention to force the programmer to define the variable if there is no value?"}], "tags": [], "owner": {"reputation": 4021, "user_id": 3360759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ndket.png?s=128&g=1", "display_name": "frhack", "link": "https://stackoverflow.com/users/3360759/frhack"}, "is_accepted": false, "score": 2, "last_activity_date": 1449486577, "last_edit_date": 1449486577, "creation_date": 1449486215, "answer_id": 34132006, "question_id": 34131741, "link": "https://stackoverflow.com/questions/34131741/perl-error-use-of-uninitialized-value-dbierr-in-concatenation/34132006#34132006", "title": "Perl error: use of uninitialized value $DBI::err in concatenation", "body": "<p>In a SQL database an empty string is very different to null.\nIf comp_no has a foreign key pointing to a record in another table, then the value \"\" is an accettable one only if there is a record with \"\" as primary key, very improbable.</p>\n\n<p>Yu can fix this converting empty values to <em>undef</em>:</p>\n\n<pre><code>for ($creation_dt,$ref_data,$comp_no ){\n  defined $_  and $_ eq '' and  $_ =  undef;\n}\n$insert_art-&gt;execute($creation_dt,$ref_data,$comp_no);\n</code></pre>\n\n<p>or also</p>\n\n<pre><code>$insert_art-&gt;execute(map {defined($_) &amp;&amp; length($_) ? $_ : undef} ($creation_dt,$ref_data,$comp_no));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "edited": false, "score": 0, "creation_date": 1449491989, "post_id": 34133659, "comment_id": 56015213, "body": "Thanks. Interesting and dangerous shortcut. I will use it in other cases. In my situation I have values with 0."}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "reply_to_user": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "edited": false, "score": 0, "creation_date": 1449496311, "post_id": 34133659, "comment_id": 56018066, "body": "Thanks for reading the disclaimer.  It&#39;s a personal favorite...  I actually use <code>$var ||= 0</code> a lot when I want to convert all blanks or undefs to zero."}], "tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 1, "last_activity_date": 1449491595, "creation_date": 1449491595, "answer_id": 34133659, "question_id": 34131741, "link": "https://stackoverflow.com/questions/34131741/perl-error-use-of-uninitialized-value-dbierr-in-concatenation/34133659#34133659", "title": "Perl error: use of uninitialized value $DBI::err in concatenation", "body": "<p>This is a possible shortcut:</p>\n\n<pre><code>$comp_no ||= undef;\n</code></pre>\n\n<p>With the caveat that this will work in any case where <code>$comp_no</code> evaluates as false, meaning a value of 0 will actually cause the result to go undef also, which may or may not matter to you.  If your field is numeric, I'd say it matters a lot.</p>\n"}, {"comments": [{"owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "edited": false, "score": 1, "creation_date": 1449493963, "post_id": 34133746, "comment_id": 56016544, "body": "Perfect. I have to test that as soon I&#39;m at work. Reading the comment it remind me the warnings caused by importing into a MySQL-DB of empty values from a csv-fil which I avoid with nullif(col,&#39;&#39;)."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1449491890, "creation_date": 1449491890, "answer_id": 34133746, "question_id": 34131741, "link": "https://stackoverflow.com/questions/34131741/perl-error-use-of-uninitialized-value-dbierr-in-concatenation/34133746#34133746", "title": "Perl error: use of uninitialized value $DBI::err in concatenation", "body": "<blockquote>\n  <p>use of uninitialized value $DBI::err in concatenation (.) or string at ...</p>\n</blockquote>\n\n<p>The error message you are seeing is Perl telling you that <code>$DBI::err</code> is <code>undef</code>. That is not because of the value of your <code>$comp_no</code>. It's just a result of what your program is doing.</p>\n\n<p>So when you pass an empty string to the <code>comp_no</code> column, the database doesn't like that. It throws an error. DBI catches that error and passes it on. The <code>$insert_art-&gt;execute</code> returns a false value and the right-hand-side of the <code>or</code> gets called. That's your <code>die</code>. </p>\n\n<p>Now in the string that you pass to <code>die</code> you put three variables:</p>\n\n<ul>\n<li><code>$DBI::err</code></li>\n<li><code>$DBI::errstr</code></li>\n<li><code>$DBI::state</code></li>\n</ul>\n\n<p>According to <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow\">the DBI documentation</a>, those are equivalent to the functions <code>$h-&gt;err</code>, <code>$h-&gt;errstr</code> and <code>$h-&gt;state</code> with <code>$h</code> being the <em>last handle used</em>. Let's look at the docs for those.</p>\n\n<ul>\n<li><p><a href=\"https://metacpan.org/pod/DBI#err\" rel=\"nofollow\"><code>$h-&gt;err</code></a></p>\n\n<blockquote>\n  <p>Returns the native database engine error code from the last driver method called. The code is typically an integer but you should not assume that.</p>\n  \n  <p>The DBI resets $h->err to undef before almost all DBI method calls, so the value only has a short lifespan. Also, for most drivers, the statement handles share the same error variable as the parent database handle, so calling a method on one handle may reset the error on the related handles. [...]</p>\n</blockquote>\n\n<p>This does not explain when it can be <code>undef</code>.</p></li>\n<li><p><a href=\"https://metacpan.org/pod/DBI#errstr\" rel=\"nofollow\"><code>$h-&gt;errstr</code></a></p>\n\n<blockquote>\n  <p>Returns the native database engine error message from the last DBI method called. This has the same lifespan issues as the \"err\" method described above.</p>\n  \n  <p>The returned string may contain multiple messages separated by newline characters.</p>\n  \n  <p>The errstr() method should not be used to test for errors, use err() for that, because drivers may return 'success with information' or warning messages via errstr() for methods that have not 'failed'.</p>\n</blockquote>\n\n<p>Ok, so this is text. Don't use it to test for specific errors. You're not doing that. You just want to give debug output when the program fails.</p></li>\n<li><p><a href=\"https://metacpan.org/pod/DBI#state\" rel=\"nofollow\"><code>$h-&gt;state</code></a></p>\n\n<blockquote>\n  <p>Returns a state code in the standard SQLSTATE five character format. Note that the specific success code 00000 is translated to any empty string (false). If the driver does not support SQLSTATE (and most don't), then state() will return S1000 (General Error) for all errors.</p>\n  \n  <p>The driver is free to return any value via state, e.g., warning codes, even if it has not declared an error by returning a true value via the \"err\" method described above.</p>\n  \n  <p>The state() method should not be used to test for errors, use err() for that, because drivers may return a 'success with information' or warning state code via state() for methods that have not 'failed'.</p>\n</blockquote>\n\n<p>Again, this is not very clear about how useful it is.</p></li>\n</ul>\n\n<p>My advice is to get rid of <code>$DBI::err</code> and <code>$DBI::state</code>. You don't need those to figure out what the problem is. Just output <code>$DBI::errstr</code>.</p>\n\n<pre><code>$insert_art-&gt;execute($creation_dt,$ref_data,$comp_no)\n  or die \"Fehler bei der Ausfuehrung: \" . $dbh-&gt;errstr;\n</code></pre>\n\n<p>Now your program will still fail, but at least you will have a meaningful error message that will explain what your database didn't like about the statement. That's better than being told how there is a bug in your error handling code.</p>\n\n<p>Afterwards, the other answers will probably apply to fix the reason this is happening in the first case.</p>\n\n<hr>\n\n<p>On another note, a word on <a href=\"http://perldoc.perl.org/functions/die.html\" rel=\"nofollow\"><code>die</code></a>: If you provide a <code>\\n</code> at the end of your arguments, it will not print your current script, line number and input handle line number. But those might be useful in your case. You can include them.</p>\n"}], "owner": {"reputation": 2197, "user_id": 1236569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0f377976002909c580d08c57f3c3676?s=128&d=identicon&r=PG", "display_name": "giordano", "link": "https://stackoverflow.com/users/1236569/giordano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1426, "favorite_count": 1, "accepted_answer_id": 34133746, "answer_count": 3, "score": 3, "last_activity_date": 1449491890, "creation_date": 1449485305, "question_id": 34131741, "link": "https://stackoverflow.com/questions/34131741/perl-error-use-of-uninitialized-value-dbierr-in-concatenation", "title": "Perl error: use of uninitialized value $DBI::err in concatenation", "body": "<p>I wrote a procedure which imports data from an xml-file into a MariaDB using library DBI. The procedure works but I don't understand why the following code gives me the message:</p>\n\n<pre><code>use of uninitialized value $DBI::err in concatenation (.) or string at ...\n</code></pre>\n\n<p>Here the code (abbreviated):</p>\n\n<pre><code>my $insert_art = $dbh-&gt;prepare(\n    \"INSERT INTO odbb_articles (creation_dt,ref_data,comp_no)\". \n     \"VALUES (?,?,?)\"\n);\n....\nmy $comp_no = $xpc-&gt;findvalue('./sr:ARTCOMP/sr:COMPNO',$node1);\n....\n$insert_art-&gt;execute($creation_dt,$ref_data,$comp_no)\nor die \"Fehler bei der Ausfuehrung: \".\n       \"$DBI::err -&gt; $DBI::errstr (odbb_articles $DBI::state)\\n\"; \n</code></pre>\n\n<p>If I insert the code</p>\n\n<pre><code>if ($comp_no eq \"\") { $comp_no = undef; }\n</code></pre>\n\n<p>just before <em>$insert_art->execute</em> the procedure works. This error happens when there is no entry in the xml-file for element COMPNO. I can avoid it if I define it as undef. I just wonder</p>\n\n<ol>\n<li>why $comp_no cause this problem and</li>\n<li>is there another solution than to control if $comp_no is \"\" and define it as undef?</li>\n</ol>\n\n<p>The reason for the second question is to avoid the if statement if there are a lot of variables/columns which may have empty entries.</p>\n\n<p>Thanks for help. </p>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 1, "creation_date": 1449484156, "post_id": 34131254, "comment_id": 56010551, "body": "You are appending <code>\\n</code> at last with this <code>$File::Find::name\\n</code>  remove it and it will work."}, {"owner": {"reputation": 67, "user_id": 1699384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb6ce5945bbaab8c11635633316b3dd?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1699384/tom"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1449484338, "post_id": 34131254, "comment_id": 56010668, "body": "but I need remove all the files under the path recursively. if remove the \\n, all these files will be messed up. so I think I should remove the \\n in the for loop I think"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1449484485, "post_id": 34131254, "comment_id": 56010761, "body": "I am not saying you to remove any files, I am just saying change <code>push @files, &quot;$File::Find::name\\n&quot;</code> to <code>push @files, &quot;$File::Find::name&quot;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449490974, "post_id": 34131254, "comment_id": 56014598, "body": "It&#39;s probably not a good idea to mix &#39;glob&#39; style <code>*</code> patterns with regex matches. It&#39;s a road to future confusion."}, {"owner": {"reputation": 67, "user_id": 1699384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb6ce5945bbaab8c11635633316b3dd?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1699384/tom"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1449719443, "post_id": 34131254, "comment_id": 56132853, "body": "@AruneshSingh thanks Singh. I imported function chomp. and it works good now."}, {"owner": {"reputation": 67, "user_id": 1699384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb6ce5945bbaab8c11635633316b3dd?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1699384/tom"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449719474, "post_id": 34131254, "comment_id": 56132864, "body": "@Sobrique ....legacy system.. so.."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1449485507, "creation_date": 1449485507, "answer_id": 34131805, "question_id": 34131254, "link": "https://stackoverflow.com/questions/34131254/always-return-false-while-judge-file-existence-in-perl/34131805#34131805", "title": "always return false while judge file existence in perl", "body": "<p>You treat the elements of <code>@files</code> as paths, but they aren't. The elements of <code>@files</code> are paths concatenated with linefeeds.</p>\n\n<p>Change</p>\n\n<pre><code>push @files, \"$File::Find::name\\n\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>push @files, $File::Find::name\n</code></pre>\n\n<hr>\n\n<p>By the way, using <code>-e</code> that way isn't quite correct. When an error occurs, the file is reported as being non-existent even if it exists. If you wanted to handle errors, you could use the following:</p>\n\n<pre><code>if (-e $qfn) {\n   # File exists\n   ...\n}\nelsif ($!{ENOENT}) {\n   # File doesn't exist\n   ...\n}\nelse {\n   # Could not determine if the file exists or not. Error in $!\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 1699384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eb6ce5945bbaab8c11635633316b3dd?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1699384/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 34131805, "answer_count": 1, "score": 1, "last_activity_date": 1449485507, "creation_date": 1449483783, "last_edit_date": 1449484783, "question_id": 34131254, "link": "https://stackoverflow.com/questions/34131254/always-return-false-while-judge-file-existence-in-perl", "title": "always return false while judge file existence in perl", "body": "<p>following example works perfectly for me </p>\n\n<pre><code>if(-e \"/tmp/test.txt\"){  \n  print \"the file exists\\n\";\n\n}else{\n  print \"no file \\n\";\n}\n</code></pre>\n\n<p>but if I make changes to get file dynamically it will not work and always rerun false </p>\n\n<pre><code>@files=();\n$target=\"*\";\n$subdir=\"Y\";\n$dir=\"/tmp/\";\n\nfind ( \\&amp;file_wanted, $dir);\n\nforeach $file (@files ){\n\n    if(-e $file){  \n      print \"the file exists\\n\";\n\n    }else{\n      print \"no file \\n\";\n    }\n}\n</code></pre>\n\n<p>function for  file_wanted attached below</p>\n\n<pre><code>sub file_wanted {\n\n    ##########################################################\n    #  $_ contains the current filename within the directory\n    #  $File::Find::dir contains the current directory name\n    #  $File::Find::name contains $File::Find::dir/$_\n    #####################################################\n\n    # use regular expression\n\n    #if ( ( $target ne '*' ) &amp;&amp;  !( $_ =~ /$target/ )) { \n    #   return;     \n    #}\n    if( $target eq '*'){\n       if ( $subdir eq 'Y' ) {  \n        #recursive subdirectory search\n        push @files, \"$File::Find::name\\n\"  if -f; \n       } else  {            \n        push @files, \"$File::Find::name\\n\"  if -f &amp;&amp; $File::Find::dir eq $dir ;\n       }\n    }else{\n    if ( $subdir eq 'Y' ) {  \n    #recursive subdirectory search\n        push @files, \"$File::Find::name\\n\"  if -f &amp;&amp; $_  =~ /$target/; \n       } else  {            \n        push @files, \"$File::Find::name\\n\"  if -f &amp;&amp; $File::Find::dir eq $dir &amp;&amp; $_  =~ /$target/ ;\n       }\n   }\n}\n</code></pre>\n\n<p>can anyone advise how this happening and thanks in advance</p>\n"}, {"tags": ["java", "perl", "download", "outputstream"], "comments": [{"owner": {"reputation": 16291, "user_id": 5612858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b3d8e81a055a76f8d57bcdbf413636?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud", "link": "https://stackoverflow.com/users/5612858/arnaud"}, "edited": false, "score": 0, "creation_date": 1449481622, "post_id": 34130518, "comment_id": 56009006, "body": "Does flushing the stream after each write change anything ?"}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 0, "creation_date": 1449481655, "post_id": 34130518, "comment_id": 56009029, "body": "There is no guaranty that the <code>read(...)</code> method will fill the <code>outputByte</code> array, also, you should check for <code>!= -1</code> instead of <code>!= 1</code>."}, {"owner": {"reputation": 21, "user_id": 5188993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f7ad985179cb60a7ea3aa71d7177864?s=128&d=identicon&r=PG&f=1", "display_name": "MCT", "link": "https://stackoverflow.com/users/5188993/mct"}, "reply_to_user": {"reputation": 16291, "user_id": 5612858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b3d8e81a055a76f8d57bcdbf413636?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud", "link": "https://stackoverflow.com/users/5612858/arnaud"}, "edited": false, "score": 0, "creation_date": 1449481761, "post_id": 34130518, "comment_id": 56009095, "body": "@Berger I have already try to flush each write but the result is the same"}, {"owner": {"reputation": 16291, "user_id": 5612858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b3d8e81a055a76f8d57bcdbf413636?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud", "link": "https://stackoverflow.com/users/5612858/arnaud"}, "edited": false, "score": 0, "creation_date": 1449481841, "post_id": 34130518, "comment_id": 56009161, "body": "You may want to play with the buffer size, try lower values."}, {"owner": {"reputation": 21, "user_id": 5188993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f7ad985179cb60a7ea3aa71d7177864?s=128&d=identicon&r=PG&f=1", "display_name": "MCT", "link": "https://stackoverflow.com/users/5188993/mct"}, "reply_to_user": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 0, "creation_date": 1449481847, "post_id": 34130518, "comment_id": 56009165, "body": "@Titus: yah, that &#39;s my mistake when i write the question, but in mycode is -1. But do you have any idea about the performance? why it takes too slow? :("}, {"owner": {"reputation": 1121, "user_id": 2640327, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6a60b565c58784674e65df788b077f63?s=128&d=identicon&r=PG", "display_name": "Thanh Duy Ngo", "link": "https://stackoverflow.com/users/2640327/thanh-duy-ngo"}, "edited": false, "score": 0, "creation_date": 1449482126, "post_id": 34130518, "comment_id": 56009365, "body": "You should use <code>buffer</code>.. it will be faster"}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 0, "creation_date": 1449482130, "post_id": 34130518, "comment_id": 56009367, "body": "Because the <code>read(...)</code> can read less then <code>ONE_MEGABYE</code> you could be sending more then 100MB."}, {"owner": {"reputation": 21, "user_id": 5188993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f7ad985179cb60a7ea3aa71d7177864?s=128&d=identicon&r=PG&f=1", "display_name": "MCT", "link": "https://stackoverflow.com/users/5188993/mct"}, "reply_to_user": {"reputation": 1121, "user_id": 2640327, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6a60b565c58784674e65df788b077f63?s=128&d=identicon&r=PG", "display_name": "Thanh Duy Ngo", "link": "https://stackoverflow.com/users/2640327/thanh-duy-ngo"}, "edited": false, "score": 0, "creation_date": 1449483392, "post_id": 34130518, "comment_id": 56010100, "body": "@ThanhDuyNgo I have tried, but the result still the same, can you give me an example?"}, {"owner": {"reputation": 21, "user_id": 5188993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f7ad985179cb60a7ea3aa71d7177864?s=128&d=identicon&r=PG&f=1", "display_name": "MCT", "link": "https://stackoverflow.com/users/5188993/mct"}, "reply_to_user": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 0, "creation_date": 1449483395, "post_id": 34130518, "comment_id": 56010103, "body": "@Titus I am not really understand what you mean"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5188993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f7ad985179cb60a7ea3aa71d7177864?s=128&d=identicon&r=PG&f=1", "display_name": "MCT", "link": "https://stackoverflow.com/users/5188993/mct"}, "edited": false, "score": 0, "creation_date": 1449732989, "post_id": 34131361, "comment_id": 56137855, "body": "thank you that a good point but the performance is still the same. About the network, everything now is on my local, do you have any other idea? :("}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "reply_to_user": {"reputation": 21, "user_id": 5188993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f7ad985179cb60a7ea3aa71d7177864?s=128&d=identicon&r=PG&f=1", "display_name": "MCT", "link": "https://stackoverflow.com/users/5188993/mct"}, "edited": false, "score": 0, "creation_date": 1449756243, "post_id": 34131361, "comment_id": 56152170, "body": "@MCT try to change the buffer&#39;s size <a href=\"http://stackoverflow.com/questions/236861/how-do-you-determine-the-ideal-buffer-size-when-using-fileinputstream\">here you can find more info about that</a> also, you should consider using buffered streams like <code>BufferedInputStream</code> and <code>BufferedOutputStream</code>."}], "tags": [], "owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "is_accepted": false, "score": 1, "last_activity_date": 1449484080, "creation_date": 1449484080, "answer_id": 34131361, "question_id": 34130518, "link": "https://stackoverflow.com/questions/34130518/download-big-file-is-too-slow/34131361#34131361", "title": "Download big file is too slow", "body": "<p>There is no guaranty that the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html#read(byte[])\" rel=\"nofollow\">read(byte[] b)</a> method will read <code>b.length</code> number of bytes from the file which mean that your code could be sending more bytes then the file actually has.</p>\n\n<p>For example, if you're processing a 10 MB file and the <code>read(byte[] b)</code> always reads <code>b.length/2</code> from the file, you will be sending 20 MB.</p>\n\n<p>To address that, you could do something like this.</p>\n\n<pre><code> byte[] outputByte = new byte[ONE_MEGABYE];\n int r = -1;\n while ((r = fileIn.read(outputByte)) != -1){            \n      os.write(outputByte,0,r);            \n }\n</code></pre>\n\n<p>This will ensure that you'll be sending only as much bytes as there were read from the file.</p>\n\n<p>Beside this issue, the speed can be influenced by a lot of other factors like the internet speed or the other program's implementation.</p>\n"}], "owner": {"reputation": 21, "user_id": 5188993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f7ad985179cb60a7ea3aa71d7177864?s=128&d=identicon&r=PG&f=1", "display_name": "MCT", "link": "https://stackoverflow.com/users/5188993/mct"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449484080, "creation_date": 1449481472, "last_edit_date": 1449481971, "question_id": 34130518, "link": "https://stackoverflow.com/questions/34130518/download-big-file-is-too-slow", "title": "Download big file is too slow", "body": "<p>I am encountering with a scenario like this.</p>\n\n<p>My project receives a download request from perl</p>\n\n<pre><code>void downloadRequest(FileItemIterator items,\n                             HttpServletResponse response) throws Exception\n{ \nlog.info(\"Start downloadRequest.......\");\nOutputStream os = response.getOutputStream();\nFile file = new File(\"D:\\\\clip.mp4\");\n            FileInputStream fileIn = new FileInputStream(file);\n            //while ((datablock = dataOutputStreamServiceImpl.readBlock()) != null)\n            byte[] outputByte = new byte[ONE_MEGABYE];\n            while (fileIn.read(outputByte) != -1)\n            {\n\n                System.out.println(\"--------\" + (i = i + 1) + \"--------\");\n                System.out.println(new Date());\n                //dataContent = datablock.getContent();\n                System.out.println(\"Start write \" + new Date());\n                os.write(outputByte);\n                System.out.println(\"End write \" + new Date());\n                //System.out.println(\"----------------------\");\n            }\n            os.close();\n        }\n    }\n</code></pre>\n\n<p>I try to read and write blocks of 1MB from the file. However, it takes too long for downloading the whole file. ( my case is 20mins for file of 100MB)</p>\n\n<p>I try to sysout and I saw a result like this:</p>\n\n<p>The first few blocks can read, write data realy fast:</p>\n\n<pre><code>--------1--------\nMon Dec 07 16:24:20 ICT 2015\nStart write Mon Dec 07 16:24:20 ICT 2015\nEnd write Mon Dec 07 16:24:21 ICT 2015\n--------2--------\nMon Dec 07 16:24:21 ICT 2015\nStart write Mon Dec 07 16:24:21 ICT 2015\nEnd write Mon Dec 07 16:24:21 ICT 2015\n--------3--------\nMon Dec 07 16:24:21 ICT 2015\nStart write Mon Dec 07 16:24:21 ICT 2015\nEnd write Mon Dec 07 16:24:21 ICT 2015\n</code></pre>\n\n<p>But the next block is slower than the previous</p>\n\n<pre><code>--------72--------\nMon Dec 07 16:29:22 ICT 2015\nStart write Mon Dec 07 16:29:22 ICT 2015\nEnd write Mon Dec 07 16:29:29 ICT 2015\n--------73--------\nMon Dec 07 16:29:29 ICT 2015\nStart write Mon Dec 07 16:29:29 ICT 2015\nEnd write Mon Dec 07 16:29:37 ICT 2015\n\n--------124--------\nMon Dec 07 16:38:22 ICT 2015\nStart write Mon Dec 07 16:38:22 ICT 2015\nEnd write Mon Dec 07 16:38:35 ICT 2015\n--------125--------\nMon Dec 07 16:38:35 ICT 2015\nStart write Mon Dec 07 16:38:35 ICT 2015\nEnd write Mon Dec 07 16:38:48 ICT 2015\n</code></pre>\n\n<p>I realy cannot understand how the outputStream write, why it take such a long time like that? or I made some mistakes?</p>\n\n<p>Sorry for my bad english. I realy need your support. Thank in advance!</p>\n"}, {"tags": ["perl", "printing", "cups"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1449482407, "post_id": 34129612, "comment_id": 56009558, "body": "I believe from the <a href=\"https://metacpan.org/pod/Net::CUPS::Destination#getName\" rel=\"nofollow noreferrer\">docs</a>  <code>$printer-&gt;getName();</code> will work for you in your for-loop."}, {"owner": {"reputation": 21, "user_id": 3572940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/205e34bdb9f738f0f24e38c8e289b2c0?s=128&d=identicon&r=PG&f=1", "display_name": "adent", "link": "https://stackoverflow.com/users/3572940/adent"}, "reply_to_user": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1449482419, "post_id": 34129612, "comment_id": 56009565, "body": "Ahhh, thanks. That was the answer. I didn&#39;t realise that getDestinations() was returning an array of objects."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 3572940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/205e34bdb9f738f0f24e38c8e289b2c0?s=128&d=identicon&r=PG&f=1", "display_name": "adent", "link": "https://stackoverflow.com/users/3572940/adent"}, "is_accepted": false, "score": 1, "last_activity_date": 1449482762, "creation_date": 1449482762, "answer_id": 34130923, "question_id": 34129612, "link": "https://stackoverflow.com/questions/34129612/netcups-getdestinations-output/34130923#34130923", "title": "Net::CUPS-&gt;getDestinations() output", "body": "<p>Thanks to Arunesh Singh, changing the foreach loop a little is the solution. \nI now realise that getDestinations() is returning an array of objects. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::CUPS;\nmy $cups = Net::CUPS-&gt;new();\nmy @prts = $cups-&gt;getDestinations();\nforeach my $printer (@prts) {\n  my $name = $printer-&gt;getName();\n  print \"$name\\n\";\n}\nexit;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3572940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/205e34bdb9f738f0f24e38c8e289b2c0?s=128&d=identicon&r=PG&f=1", "display_name": "adent", "link": "https://stackoverflow.com/users/3572940/adent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449482762, "creation_date": 1449478322, "question_id": 34129612, "link": "https://stackoverflow.com/questions/34129612/netcups-getdestinations-output", "title": "Net::CUPS-&gt;getDestinations() output", "body": "<p>I am trying to use Net::CUPS->getDestinations() to get a list of printer names that are configured in CUPS. </p>\n\n<ul>\n<li>Ubuntu Server 14.04.3</li>\n<li>CUPS 1.7.2</li>\n<li>Perl 5.18.2</li>\n<li>Net::CUPS 0.61</li>\n</ul>\n\n<p>A short demo progam like this</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::CUPS;\nmy $cups = Net::CUPS-&gt;new();\nmy @prts = $cups-&gt;getDestinations();\nforeach my $printer (@prts) {\n  print \"$printer\\n\";\n}\nexit;\n</code></pre>\n\n<p>has an output of </p>\n\n<pre><code>Net::CUPS::Destination=SCALAR(0x1e13bb0)\nNet::CUPS::Destination=SCALAR(0x1e13bf8)\nNet::CUPS::Destination=SCALAR(0x1e13c88)\nNet::CUPS::Destination=SCALAR(0x1e13d18)\nNet::CUPS::Destination=SCALAR(0x1e13d00)\nNet::CUPS::Destination=SCALAR(0x1e4c9c8)\n</code></pre>\n\n<p>I'm expecting printer names, or something I can pass to another function to get the printer name. \nIt seems I am interpreting this part of the documentation wrong. </p>\n\n<pre><code>getDestinations\n    my @printers = $cups-&gt;getDestinations();\n This method will return an array of destinations currently configured  on the cups server.\n</code></pre>\n\n<p>Does anyone know how to get a list of printers configured in CUPS using the Net::CUPS module?</p>\n"}, {"tags": ["perl", "gnupg"], "comments": [{"owner": {"reputation": 33721, "user_id": 695343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KX04R.jpg?s=128&g=1", "display_name": "Jens Erat", "link": "https://stackoverflow.com/users/695343/jens-erat"}, "edited": false, "score": 1, "creation_date": 1449476044, "post_id": 34128818, "comment_id": 56006014, "body": "Is the automation running under the same system user your developed under?"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 1154425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4717f61b69f768ef4abfd524addd3ab2?s=128&d=identicon&r=PG", "display_name": "feng63600", "link": "https://stackoverflow.com/users/1154425/feng63600"}, "edited": false, "score": 0, "creation_date": 1449545008, "post_id": 34129049, "comment_id": 56042578, "body": "That&#39;s exactly the case. The recipient name is actually an email address. Thanks for your suggestions of using strict and warnings."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1449476071, "creation_date": 1449476071, "answer_id": 34129049, "question_id": 34128818, "link": "https://stackoverflow.com/questions/34128818/openpgp-en-decryption-works-in-cmd-but-not-in-perl-script/34129049#34129049", "title": "OpenPGP - en/decryption works in cmd but not in Perl script", "body": "<p>Given only few information in the question I can only guess and my guess is that <code>rept</code> contains a <code>@</code> which gets interpreted because you have double quotes.</p>\n\n<p>Apart from that please <code>use strict; use warnings;</code> so that you will find such errors early. Also use the multi-argument version of <code>system</code> so that no shell is involved, i.e. <code>system(\"gpg2\",\"-r\",....)</code>. Otherwise you might risk code execution if the <code>rept</code> or <code>myfile</code> is determined by user input.</p>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 1154425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4717f61b69f768ef4abfd524addd3ab2?s=128&d=identicon&r=PG", "display_name": "feng63600", "link": "https://stackoverflow.com/users/1154425/feng63600"}, "edited": false, "score": 0, "creation_date": 1449545130, "post_id": 34133329, "comment_id": 56042610, "body": "We would like to keep installed Perl modules to minimum. As far as I understand, even though we installed Crypt module, we do still need OpenGPG software, right?"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 173, "user_id": 1154425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4717f61b69f768ef4abfd524addd3ab2?s=128&d=identicon&r=PG", "display_name": "feng63600", "link": "https://stackoverflow.com/users/1154425/feng63600"}, "edited": false, "score": 1, "creation_date": 1449636930, "post_id": 34133329, "comment_id": 56089300, "body": "<code>Crypt::PGPSimple</code> is indeed just a wrapper for calling the external gpg binary. <code>Crypt::OpenPGP</code> does all the OpenPGP stuff in Perl and oesn&#39;t require gpg, however it has a whole bunch of dependencies that implement the actual crypto."}, {"owner": {"reputation": 173, "user_id": 1154425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4717f61b69f768ef4abfd524addd3ab2?s=128&d=identicon&r=PG", "display_name": "feng63600", "link": "https://stackoverflow.com/users/1154425/feng63600"}, "edited": false, "score": 0, "creation_date": 1449651603, "post_id": 34133329, "comment_id": 56095904, "body": "This is truly helpful. Appreciated it."}], "tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 1, "last_activity_date": 1449490461, "creation_date": 1449490461, "answer_id": 34133329, "question_id": 34128818, "link": "https://stackoverflow.com/questions/34128818/openpgp-en-decryption-works-in-cmd-but-not-in-perl-script/34133329#34133329", "title": "OpenPGP - en/decryption works in cmd but not in Perl script", "body": "<p>Apart from the issue of system accounts that Jens Erat mentioned it might be useful to add an explicit absolute path to the desired gpg config via the <code>--homedir</code> parameter. Might be that the Windows version of gpg is a bit crippled in this respect and fails to find the keys if started from a different directory.</p>\n\n<p>Depending on what you want to do with the encrypted data you could also have a look at some modules: I've had good experiences with <code>Crypt::OpenPGP</code> (although being pure Perl it's quite slow), and <code>Crypt::PGPSimple</code> looks like it would do what you want using an external gpg executable.</p>\n"}], "owner": {"reputation": 173, "user_id": 1154425, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4717f61b69f768ef4abfd524addd3ab2?s=128&d=identicon&r=PG", "display_name": "feng63600", "link": "https://stackoverflow.com/users/1154425/feng63600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 34129049, "answer_count": 2, "score": 0, "last_activity_date": 1449490461, "creation_date": 1449475134, "question_id": 34128818, "link": "https://stackoverflow.com/questions/34128818/openpgp-en-decryption-works-in-cmd-but-not-in-perl-script", "title": "OpenPGP - en/decryption works in cmd but not in Perl script", "body": "<p>The OpenPGP has been installed correctly and functions well. Below command works in Windows cmd:</p>\n\n<pre><code>gpg2 -r rept --encrypt myfile\n</code></pre>\n\n<p>However, while we are trying to automate above process using Perl system call:</p>\n\n<pre><code>system(\"gpg2 -r rept --encrypt myfile\");\n</code></pre>\n\n<p>I got below error message: <code>gpg: rept: skipped: No public key</code></p>\n\n<p>Using <code>gpg2 --list-keys</code>, I indeed see the public key added. Could anyone provide with some insights of automating the OpenGPG processes?</p>\n"}, {"tags": ["xml", "perl", "data-structures"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 4, "creation_date": 1449471190, "post_id": 34127808, "comment_id": 56004057, "body": "Instead of using <code>XML::Simple</code>, use <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a> or <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a>. <code>XML::Simple</code> document itself says <i>The use of this module in new code is discouraged</i>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1449475811, "post_id": 34127808, "comment_id": 56005898, "body": "Show the exact code you have used. Your description is unclear. I am not sure what you are trying to achieve. Also, why do you want to do that?"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1449491496, "last_edit_date": 1495542329, "creation_date": 1449491496, "answer_id": 34133627, "question_id": 34127808, "link": "https://stackoverflow.com/questions/34127808/store-xml-tags-in-variables-in-perl/34133627#34133627", "title": "Store xml tags in Variables in perl", "body": "<p>I would suggest you solve it by backtracking and rethinking what you're trying to accomplish. <code>XML::Simple</code> is a route to painful and annoying code, and there's <em>simply</em> no good reason to use it. </p>\n\n<p>The module says 'It is discouraged' for a good reason - see here for an expansion of why: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Why is XML::Simple &quot;Discouraged&quot;?</a></p>\n\n<p>In something like <code>XML::Twig</code> what you are trying to do is relatively easy - I'll illustrate for the sake of giving an answer - but I think it's less necessary if you're not having to do the hacky bodge that <code>XML::Simple</code> is imposing on you:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; parsefile ('your_file.xml' );\n\nmy $session_id = $twig -&gt; get_xpath ('//SessionID',0) -&gt; trimmed_text;\nprint \"Session: $session_id\\n\";\n</code></pre>\n\n<p>You can use a similar method to put tags into variables if you really want, but I'd suggest you don't actually need to - and what you're doing here is chasing an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>. </p>\n\n<p>I would therefore suggest - backtrack a bit, explain what you're actually trying to accomplish and then ask another question, as the solution is almost certainly a lot less complicated using <a href=\"http://search.cpan.org/dist/XML-Twig/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> or <code>XML::LibXML</code> </p>\n"}], "owner": {"reputation": 486, "user_id": 4115884, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zbzXF.jpg?s=128&g=1", "display_name": "yoko", "link": "https://stackoverflow.com/users/4115884/yoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 34133627, "answer_count": 1, "score": 0, "last_activity_date": 1449491496, "creation_date": 1449470353, "question_id": 34127808, "link": "https://stackoverflow.com/questions/34127808/store-xml-tags-in-variables-in-perl", "title": "Store xml tags in Variables in perl", "body": "<p>Let's say I have a xml-File structured like this</p>\n\n<pre><code>&lt;_StoredUserInformation&gt;\n    &lt;UserName&gt;\n        &lt;WorkstationName&gt;\n            &lt;SessionID&gt;\n                 This_Session\n            &lt;/SessionID&gt;\n        &lt;/WorkstationName&gt;\n    &lt;/UserName&gt;\n&lt;/_StoredUserInformation&gt;\n</code></pre>\n\n<p>And I want to store every value inside the xml Tags in my Variables, e.g. :</p>\n\n<pre><code>$UserName = &lt;UserName&gt;\n$SessionName = This_Session\netc...\n</code></pre>\n\n<p>I Have tried doing it with <code>ForceArray</code> from <code>XML::Simple</code>, but I am having problems with sorting the keys afterwards. The <code>KeyAttr</code> from <code>XML::Simple</code> works appartely not with a Data Structure which is nested that much.</p>\n\n<p>Any other suggestions how to solve this?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1449469861, "post_id": 34127701, "comment_id": 56003555, "body": "Is assigning a scalar, <code>-</code> to an array kosher?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1449469980, "post_id": 34127701, "comment_id": 56003597, "body": "@Mr. Llama, A list consisting of a single scalar is still a list, since a list simply means &quot;zero or more scalars&quot;. As long as the RHS of the assignment evaluates to zero or more scalars (which all expressions do), you&#39;re ok."}, {"owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "edited": false, "score": 0, "creation_date": 1449476591, "post_id": 34127701, "comment_id": 56006258, "body": "Thank you \u2014 your answer is very helpful (I opted for the three-argument solution). Could you please also show how one would handle the (rare) case in which the user simultaneously pipes in data to the script and provides files as arguments? I believe the <code>while (&lt;&gt;)</code> syntax can handle such a situation. Can one simply <code>push(@ARGV,\\*STDIN)</code> and detect later whether it is devoid of content (ignoring it, if so)? Finally, I am curious to know the significance of the abbreviation <code>qfn</code>."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1467633781, "post_id": 34127701, "comment_id": 63794257, "body": "<code>script file1 file2 - file4</code> will read stdin as the third file, without help fromthis solution. This is the only reasonable way to do it, since stdin is never &quot;devoid of content&quot;: It is always open (unless you explicitly close it), and a program that tries to read from it will wait for terminal input."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1449541860, "last_edit_date": 1449541860, "creation_date": 1449469762, "answer_id": 34127701, "question_id": 34127513, "link": "https://stackoverflow.com/questions/34127513/perl-reading-from-a-file-and-or-stdin-without-using-while/34127701#34127701", "title": "perl: reading from a file and/or stdin without using while(&lt;&gt;)", "body": "<p>With two-arg open (like <code>&lt;&gt;</code> uses), you could do</p>\n\n<pre><code>@ARGS = '-' if !@ARGV;\n\nfor my $qfn (@ARGV) {\n    open($fh, $qfn);\n\n    while (&lt;$fh&gt;) {\n       ...\n    }\n}\n</code></pre>\n\n<p>Which three-arg <code>open</code>, I might do</p>\n\n<pre><code>@ARGV = \\*STDIN if !@ARGV;\n\nfor my $qfn (@ARGV) {\n    my $fh;\n    if (ref($qfn)) {\n       $fh = $qfn;\n    } else {\n       open($fh, '&lt;', $qfn);\n    }\n\n    while (&lt;$fh&gt;) {\n       ...\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 2402496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98903e30d047b0bcc08a0c595a35b36f?s=128&d=identicon&r=PG", "display_name": "arafeandur", "link": "https://stackoverflow.com/users/2402496/arafeandur"}, "is_accepted": false, "score": 0, "last_activity_date": 1449696733, "creation_date": 1449696733, "answer_id": 34189388, "question_id": 34127513, "link": "https://stackoverflow.com/questions/34127513/perl-reading-from-a-file-and-or-stdin-without-using-while/34189388#34189388", "title": "perl: reading from a file and/or stdin without using while(&lt;&gt;)", "body": "<p>Another way (if you can use CPAN modules) is to use <a href=\"https://metacpan.org/pod/distribution/IO-All/lib/IO/All.pod\" rel=\"nofollow\">IO::All</a>.</p>\n\n<p>Read a file into a scalar variable:</p>\n\n<pre><code>my $content1 &lt; io('file1');\n</code></pre>\n\n<p>Another way to do it with IO::ALL:</p>\n\n<pre><code>my $content2 = io('file1')-&gt;slurp;\n</code></pre>\n\n<p>Or if you want it in an array, with each line as an element:</p>\n\n<pre><code>my @lines = io('file1')-&gt;slurp;\n</code></pre>\n"}], "owner": {"reputation": 1750, "user_id": 873757, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4948c4bd86deb7f50a6ba28e73505e31?s=128&d=identicon&r=PG", "display_name": "user001", "link": "https://stackoverflow.com/users/873757/user001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 34127701, "answer_count": 2, "score": 0, "last_activity_date": 1449696733, "creation_date": 1449468817, "question_id": 34127513, "link": "https://stackoverflow.com/questions/34127513/perl-reading-from-a-file-and-or-stdin-without-using-while", "title": "perl: reading from a file and/or stdin without using while(&lt;&gt;)", "body": "<p>For cases where one wishes to avoid the useful <code>while(&lt;&gt;)</code> syntax and manage file input manually, how does one handle the operation of reading from a list of files and/or <code>STDIN</code>? To read from files, one can simply iterate through <code>@ARGV</code>, opening each element in turn (e.g., <code>my $file=shift @ARGV; open(my $fh,'&lt;',$file); while(&lt;$fh&gt;) {...}; close($fh);</code>. To read from standard input, one can simply use <code>while(&lt;STDIN&gt;) { ...}</code>. However, assuming the programmer expects similar types of data to be provided through STDIN and file arguments, the body of code within each <code>while</code> loop would have to be duplicated. I have tried unsuccessfully to assign STDIN to a filehandle (e.g., <code>my $fh = \\*STDIN</code> or <code>my $fh = *STDIN{IO}</code>, each of which I have seen suggested elsewhere on this website). In essence, I would like to iterate through all files as well as <code>STDIN</code> and treat the input from each identically, but without using the handy <code>while(&lt;&gt;)</code> syntax. Could you please sketch a solution to this problem? Thank you.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 5, "creation_date": 1449462543, "post_id": 34126394, "comment_id": 56001260, "body": "The array isn&#39;t &quot;getting updated dynamically&quot;. The first line of code won&#39;t finish running until the <code>tail</code> command exits, and then it will contain all the lines it ever printed."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1449468921, "post_id": 34126394, "comment_id": 56003213, "body": "@hobbs I did try this <code>print @logsfiles = tail -f &#47;var&#47;logs&#47;*.log</code> and it prints the partial output such as tail: /var/icc_shantesh/logs/repcoll.log: Stale NFS file handle not the content which got modifed !"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1449471847, "post_id": 34126394, "comment_id": 56004321, "body": "That&#39;s an error output, which is printed directly to the terminal and not captured by the backticks at all. You need to understand the difference between stdout and stderr."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1449475608, "post_id": 34126394, "comment_id": 56005805, "body": "@hobbs  Thanks for informing can you let me know how to get the actuall modified data from above mentioned script ?"}], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1449464154, "post_id": 34126481, "comment_id": 56001687, "body": "Any simpler approach ?"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1449462721, "creation_date": 1449462721, "answer_id": 34126481, "question_id": 34126394, "link": "https://stackoverflow.com/questions/34126394/how-to-print-array-elements-if-the-array-is-getting-updated-dynamically-in-perl/34126481#34126481", "title": "How to print array elements if the array is getting updated dynamically in perl?", "body": "<p>There's an example of how to use File::Tail on multiple files here:   <a href=\"https://metacpan.org/source/MGRABNAR/File-Tail-1.3/select_demo\" rel=\"nofollow\">https://metacpan.org/source/MGRABNAR/File-Tail-1.3/select_demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1449468611, "post_id": 34127118, "comment_id": 56003088, "body": "Thanks   some how i am not getting the complete content on the terminal!, i am only getting      tail: /var/icc_shantesh/logs/repcoll.log: Stale NFS file handle      tail: /var/icc_shantesh/logs/repcoll.log: Stale NFS file handle      tail: <code>&#47;varicc_shantesh&#47;logs&#47;repcoll.log&#39; has become accessible      tail: </code>/var/icc_shantesh/logs/repcoll.log&#39; has become accessible  where i made some changes in the entries in the file   Not sure how to get that as well on terminal."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1449475559, "post_id": 34127118, "comment_id": 56005782, "body": "how to print the actual output ?"}, {"owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "reply_to_user": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1449496402, "post_id": 34127118, "comment_id": 56018126, "body": "@Shantesh what actual output? change the command to get the output you desire."}, {"owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "edited": false, "score": 0, "creation_date": 1449555237, "post_id": 34127118, "comment_id": 56045637, "body": "above mentioned script should print all the updated information from the file on the terminal that is what i am after and in the above mentioned answer by hobbs he mentioned that i should know about STDOUT and STDERR how to get the STDOUT rather than STDERR on screen ?"}], "tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1449496342, "last_edit_date": 1449496342, "creation_date": 1449466667, "answer_id": 34127118, "question_id": 34126394, "link": "https://stackoverflow.com/questions/34126394/how-to-print-array-elements-if-the-array-is-getting-updated-dynamically-in-perl/34127118#34127118", "title": "How to print array elements if the array is getting updated dynamically in perl?", "body": "<p>This should do the trick:</p>\n\n<pre><code>#!/usr/bin/perl\n\nopen(my $tail_pipe,'tail -f /var/logs/*.log |');\n\nwhile(my $line = &lt;$tail_pipe&gt;) {\n    print $line;\n}\n\nclose($tail_pipe);\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449496342, "creation_date": 1449462132, "question_id": 34126394, "link": "https://stackoverflow.com/questions/34126394/how-to-print-array-elements-if-the-array-is-getting-updated-dynamically-in-perl", "title": "How to print array elements if the array is getting updated dynamically in perl?", "body": "<pre><code>#!/usr/bin/perl\nmy @logsfiles = `tail -f /var/logs/*.log`;\n\nforeach my $log (@logfiles){\n     print $log;\n}\n</code></pre>\n\n<p>I am using above mentioned snippet in my script, i want to know a method where i can print array entries on the go! as my tail -f command gives output dynamically.</p>\n\n<p>Help is much appreciated.\nBest regards,\nShantesh</p>\n"}, {"tags": ["perl", "azure", "fastcgi"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1449447630, "post_id": 34123425, "comment_id": 55997736, "body": "There must be something different about the environment in which the FCGI process is trying to run: the user account it&#39;s running under; the current working directory when it starts; permissions on files or modules it needs to access; etc. Can you try running a super-simple &quot;Hello world&quot;-style Perl script with no external dependencies? If that works, you can try adding in the script dependencies one-by-one.  Without an actual error message we&#39;re running blind."}], "answers": [{"tags": [], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "is_accepted": true, "score": 1, "last_activity_date": 1449782276, "creation_date": 1449782276, "answer_id": 34211906, "question_id": 34123425, "link": "https://stackoverflow.com/questions/34123425/fastcgimodule-error-500-with-azure/34211906#34211906", "title": "FastCgiModule error 500 with Azure", "body": "<p>The problem was simple. My perl hello world worked from the command line, but for a web page it obviously needs to set the content type. I was missing the first line!</p>\n\n<pre><code>print \"Content-type: text/html\", \"\\n\\n\";\nprint \"Hello World.\\n\";\n</code></pre>\n"}], "owner": {"reputation": 3838, "user_id": 1033684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sKoNw.jpg?s=128&g=1", "display_name": "Rob Sedgwick", "link": "https://stackoverflow.com/users/1033684/rob-sedgwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 34211906, "answer_count": 1, "score": 0, "last_activity_date": 1449782276, "creation_date": 1449439671, "question_id": 34123425, "link": "https://stackoverflow.com/questions/34123425/fastcgimodule-error-500-with-azure", "title": "FastCgiModule error 500 with Azure", "body": "<p>I am trying to run a Perl Fast CGI process in Azure. I have built a hello world test page (test.pl) and if I run it from the command it works</p>\n\n<pre><code>d:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe -MFCGI::IIS=do test.pl\n</code></pre>\n\n<p>I have a handler for *.pl to run d:\\home\\site\\wwwroot\\bin\\perl\\bin\\perl.exe (Strawbery Perl) with the arguments -MFCGI::IIS=do (i.e. the same as the above).</p>\n\n<p>I get a 500 error. When I view the detailed log the only information I get back is FastCgiModule Error Code 0x8007000d.</p>\n\n<p>My file runs from the command line but it won't run within the web app. Why not?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449447868, "post_id": 34122946, "comment_id": 55997782, "body": "Not every day has 84,400 seconds."}, {"owner": {"reputation": 59, "user_id": 4281327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WZpQM.jpg?s=128&g=1", "display_name": "ClubCola", "link": "https://stackoverflow.com/users/4281327/clubcola"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449472212, "post_id": 34122946, "comment_id": 56004461, "body": "For my calcs - 84.4K is ok"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449478097, "post_id": 34122946, "comment_id": 56006993, "body": "You&#39;re OK with getting an answer that&#39;s not even the right date? Odd, and hardly the case for everyone reading these questions and answers."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1449484478, "post_id": 34122946, "comment_id": 56010755, "body": "Most days have rather more than 84,400 seconds :-)"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4281327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WZpQM.jpg?s=128&g=1", "display_name": "ClubCola", "link": "https://stackoverflow.com/users/4281327/clubcola"}, "edited": false, "score": 1, "creation_date": 1449440422, "post_id": 34123285, "comment_id": 55995715, "body": "It works for me. Tx for the edit and the code. You just made my day!"}, {"owner": {"reputation": 2767, "user_id": 2430434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/51cc4a334facd11b01ab94d201395683?s=128&d=identicon&r=PG", "display_name": "Misa Lazovic", "link": "https://stackoverflow.com/users/2430434/misa-lazovic"}, "reply_to_user": {"reputation": 59, "user_id": 4281327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WZpQM.jpg?s=128&g=1", "display_name": "ClubCola", "link": "https://stackoverflow.com/users/4281327/clubcola"}, "edited": false, "score": 0, "creation_date": 1449440690, "post_id": 34123285, "comment_id": 55995786, "body": "No problem. I guess that&#39;s why this site was made for - developers making each others&#39; day :D"}], "tags": [], "owner": {"reputation": 2767, "user_id": 2430434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/51cc4a334facd11b01ab94d201395683?s=128&d=identicon&r=PG", "display_name": "Misa Lazovic", "link": "https://stackoverflow.com/users/2430434/misa-lazovic"}, "is_accepted": true, "score": 5, "last_activity_date": 1449438919, "creation_date": 1449438919, "answer_id": 34123285, "question_id": 34122946, "link": "https://stackoverflow.com/questions/34122946/perl-date-calculation/34123285#34123285", "title": "Perl - date calculation", "body": "<p>You can do it using <code>DateTime</code> and <code>DateTime::Format::Strptime</code>. Like this:</p>\n\n<pre><code>use strict;\nuse DateTime;\nuse DateTime::Format::Strptime;\n\nmy $strp = DateTime::Format::Strptime-&gt;new(\n    pattern =&gt; '%d.%m.%Y'\n);\n\nmy $date = '08.12.2015';\nmy $dt = $strp-&gt;parse_datetime($date);\nprintf \"%s -&gt; %s\\n\", $date, $dt-&gt;add(days =&gt; 5)-&gt;strftime(\"%d.%m.%Y\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4281327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WZpQM.jpg?s=128&g=1", "display_name": "ClubCola", "link": "https://stackoverflow.com/users/4281327/clubcola"}, "edited": false, "score": 0, "creation_date": 1449440808, "post_id": 34123462, "comment_id": 55995838, "body": "Works also for me. Tx to you"}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 4, "last_activity_date": 1449439913, "creation_date": 1449439913, "answer_id": 34123462, "question_id": 34122946, "link": "https://stackoverflow.com/questions/34122946/perl-date-calculation/34123462#34123462", "title": "Perl - date calculation", "body": "<p>Using <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\"><code>Time::Piece</code></a></p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse v5.10;\n\nuse Time::Piece;\nuse Time::Seconds;\n\nmy $date_string = '08.12.2015';\nmy $date_format = '%m.%d.%Y';\n\nmy $tp = Time::Piece-&gt;strptime( $date_string, $date_format );\n\n$tp += 5 * ONE_DAY;\n\nsay $tp-&gt;strftime($date_format);\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>08.17.2015\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449447946, "post_id": 34123684, "comment_id": 55997808, "body": "Not every day has 24*60*60 seconds. This won&#39;t always give the right answer."}], "tags": [], "owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "is_accepted": false, "score": 0, "last_activity_date": 1449441237, "creation_date": 1449441237, "answer_id": 34123684, "question_id": 34122946, "link": "https://stackoverflow.com/questions/34122946/perl-date-calculation/34123684#34123684", "title": "Perl - date calculation", "body": "<p>Or another way, in vanilla perl (no use of packages needed), with help from Unix <code>date</code>:</p>\n\n<pre><code>$ date -d 08/12/2015\nWed, Aug 12, 2015 12:00:00 AM\n\n$ date -d 08/12/2015 +%s\n1439352000\n\n$ date -d 08/12/2015 +%s|perl -ne 'print scalar localtime $_ + 5*24*60*60'\nMon Aug 17 00:00:00 2015\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4281327, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WZpQM.jpg?s=128&g=1", "display_name": "ClubCola", "link": "https://stackoverflow.com/users/4281327/clubcola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 34123285, "answer_count": 3, "score": -1, "last_activity_date": 1449441237, "creation_date": 1449436952, "last_edit_date": 1449438469, "question_id": 34122946, "link": "https://stackoverflow.com/questions/34122946/perl-date-calculation", "title": "Perl - date calculation", "body": "<p>I'm new in Perl. I want to calculate days (e.g. 5 days) after input.</p>\n\n<p><strong>Steps I need to cover:</strong><br>\n 1. start_date: 08.12.2015<br>\n 2. add 5 days<br>\n 3. end date: ?</p>\n\n<p>My idea is to convert the start date into a timestamp. Then I add 5*84.400 seconds. After that, I want to re-convert the end timestamp.</p>\n\n<p>I read the <code>Time::Local</code> module docs, but I did not understand the logic yet.  </p>\n\n<p>Is this the right way to handle date calculations?</p>\n"}, {"tags": ["perl", "automation", "pbs", "qsub"], "comments": [{"owner": {"reputation": 6233, "user_id": 845022, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b24cb7a52001aa47ebd90afbb4cfa6e5?s=128&d=identicon&r=PG", "display_name": "dbeer", "link": "https://stackoverflow.com/users/845022/dbeer"}, "edited": false, "score": 0, "creation_date": 1449531270, "post_id": 34122521, "comment_id": 56038683, "body": "Can you elaborate on &quot;the job doesn&#39;t get executed&quot;? Is there an error message? Have you checked the permissions to the job script?"}, {"owner": {"reputation": 21, "user_id": 2520180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ccdec476fb4bd7be3cdceb810192d83?s=128&d=identicon&r=PG", "display_name": "user2520180", "link": "https://stackoverflow.com/users/2520180/user2520180"}, "reply_to_user": {"reputation": 6233, "user_id": 845022, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b24cb7a52001aa47ebd90afbb4cfa6e5?s=128&d=identicon&r=PG", "display_name": "dbeer", "link": "https://stackoverflow.com/users/845022/dbeer"}, "edited": false, "score": 0, "creation_date": 1449614513, "post_id": 34122521, "comment_id": 56082289, "body": "1) In this case the job is to print numbers from 1 to 100 . This should appear in the qsub output file. But the output file does not have this or any error message. It only has the PBS prologue and epilogue info. 2) I guess read/write permission is sufficient for PBS scripts, but made them executable and tried, doesn&#39;t work."}, {"owner": {"reputation": 6233, "user_id": 845022, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b24cb7a52001aa47ebd90afbb4cfa6e5?s=128&d=identicon&r=PG", "display_name": "dbeer", "link": "https://stackoverflow.com/users/845022/dbeer"}, "edited": false, "score": 0, "creation_date": 1449615325, "post_id": 34122521, "comment_id": 56082656, "body": "So the job ran in Torque but the output is different than expected?"}, {"owner": {"reputation": 21, "user_id": 2520180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ccdec476fb4bd7be3cdceb810192d83?s=128&d=identicon&r=PG", "display_name": "user2520180", "link": "https://stackoverflow.com/users/2520180/user2520180"}, "reply_to_user": {"reputation": 6233, "user_id": 845022, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b24cb7a52001aa47ebd90afbb4cfa6e5?s=128&d=identicon&r=PG", "display_name": "dbeer", "link": "https://stackoverflow.com/users/845022/dbeer"}, "edited": false, "score": 0, "creation_date": 1449616554, "post_id": 34122521, "comment_id": 56083117, "body": "Yes, it ran in torque, but there is no output or error !"}], "owner": {"reputation": 21, "user_id": 2520180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ccdec476fb4bd7be3cdceb810192d83?s=128&d=identicon&r=PG", "display_name": "user2520180", "link": "https://stackoverflow.com/users/2520180/user2520180"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1449647655, "creation_date": 1449434744, "last_edit_date": 1449647655, "question_id": 34122521, "link": "https://stackoverflow.com/questions/34122521/perl-script-to-make-pbs-scripts-and-submit-to-qsub", "title": "Perl script to make PBS scripts and submit to qsub", "body": "<p>I am trying to automate PBS script generation and qsub submission.I have N folders each containing sub folders. I would like to move to each folder and subfolder, create a PBS script and submit the PBS script from that folder. I wrote a perl script to do the same which runs fine. The PBS script is created without any issues, but when submitted using qsub, the job doesn't get executed.</p>\n\n<p>Interestingly, I observe that the job gets executed if I open the PBS script in a text editor and save it ( using \":wq\" in vim, does not work if I quit without saving \":q\" )</p>\n\n<p>I am wondering why this happens, any solutions to automate ? I understand that there are ways to do this without changing folders and sub folders - by directly providing file paths, but I am trying to understand whats going wrong here.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Copy 'move';\nuse Cwd;\n\n##################################################################\n\nmy @folders = (\"folder1\",\"folder2\",\"folder3\");\nmy $original_path = cwd();\nmy $queue_name = $ARGV[0];\n\n##################################################################\n\n# Call function for each folder in the list\n\nforeach  (@folders) {\n        submit_qsub($_);\n}\n\n##################################################################\n\n# Function to change folders, call another function to make PBS script, submit PBS script using system command    \n\nsub submit_qsub {\n        my $folder = $_;\n        print \"\\nFunction for $folder called\\n\";\n        chdir (\"./$folder\" or die \"Can't cd to $folder $!\\n\");\n        chdir (\"./V1\");\n        mkdir (\"jobname\");\n        chdir (\"jobname\");\n        create_pbs_script($folder,'V1','jobname');\n        system(\"qsub jobname_$folder\\_V1.pbs\");\n        chdir (\"../../V2/\");\n        mkdir (\"jobname\");\n        chdir (\"jobname\");\n        create_pbs_script($folder,'V2','jobname');\n        system(\"qsub jobname_$folder\\_V2.pbs\");\n        print \"Leaving current directory\\n\";\n        chdir ($original_path);\n}\n\n##################################################################\n\n# Function to write PBS scripts\n# test - print numbers 1 to 100\n\nsub create_pbs_script {\n        my $folder = $_[0];\n        my ($vid, $chdid) = split /_/, $folder;\n        my $v_no = $_[1];\n        my $job = $_[2];\n        my $filename = \"$job\\_$folder\\_$v_no.pbs\";\n        #print $filename;\n        open(my $fh, '&gt;', \"$job\\_$folder\\_$v_no.pbs\") or die \" Cannot write PBS script $job\\_$folder\\_$v_no\\n\";\n        print $fh \"#PBS -N $job\\_$folder\\_$v_no\\n#PBS -q $queue_name\\n#PBS -l nodes=1:ppn=1\\n#PBS -l walltime=00:10:00\\n#PBS -l mem=1gb\\n#PBS -j oe\\n\\ncd \\$PBS_O_WORKDIR\\n\\nfor i in {1..100};do echo \\$i;done\";\n        close $fh;\n}\n\n##################################################################\n</code></pre>\n\n<p><strong>Update</strong> : I inserted a system command to open and save in vim  before submitting through qsub and the job gets executed. I have got this code to work, but I still don't know why I need to do this. </p>\n\n<pre><code>system(\"vim pbsfilename -c 'wq'\"); \n</code></pre>\n"}, {"tags": ["perl", "mojolicious", "mojo-dom"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1449449401, "post_id": 34122429, "comment_id": 55998209, "body": "<i>\u201cPretty crude but it&#39;s functional\u201d</i> It seems fine to me"}], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 4, "last_activity_date": 1449435150, "creation_date": 1449435150, "answer_id": 34122597, "question_id": 34122429, "link": "https://stackoverflow.com/questions/34122429/mojodom-how-to-return-more-than-one-attribute/34122597#34122597", "title": "Mojo::DOM - How to return more than one attribute", "body": "<p>You just need the <a href=\"https://metacpan.org/pod/Mojo::DOM#attr\" rel=\"nofollow\"><code>attr</code></a> method:</p>\n\n<pre><code>my $dom = Mojo::DOM-&gt;new( $page );\n\nfor my $elm ( $dom-&gt;find('p.Module &gt; a.story')-&gt;each ){\n    print $elm-&gt;text, ' ', $elm-&gt;attr('href'), \"\\n\";\n}\n</code></pre>\n\n<p>For a quick tutorial on <a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"nofollow\"><code>Mojo::UserAgent</code></a> and <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow\"><code>Mojo::DOM</code></a>, check out <a href=\"http://mojocasts.com/e5\" rel=\"nofollow\">Mojocast episode 5</a></p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1449445777, "creation_date": 1449445777, "answer_id": 34124314, "question_id": 34122429, "link": "https://stackoverflow.com/questions/34122429/mojodom-how-to-return-more-than-one-attribute/34124314#34124314", "title": "Mojo::DOM - How to return more than one attribute", "body": "<p>Here's a mojo-y way of doing it by using <a href=\"http://www.metacpan.org/module/Mojo::Collection\" rel=\"nofollow\">Mojo::Collection</a>'s <code>map</code>:</p>\n\n<pre><code>use v5.10;\n\nuse Mojo::DOM;\nuse Data::Dumper;\n\nmy $page =&lt;&lt;'HTML';\n&lt;p class=\"Module\"&gt;&lt;a class=\"story\" href=\"http://intranet/blah\" &gt;Link Text is here&lt;/a&gt;&lt;/p&gt;\nHTML\n\nmy $dom = Mojo::DOM-&gt;new( $page );\n\nmy @links = $dom\n    -&gt;find('p.Module &gt; a.story')\n    -&gt;map( sub { [ $_-&gt;text, $_-&gt;attr( 'href' ) ] } );\n\nsay Dumper \\@links;\n</code></pre>\n"}], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 34122597, "answer_count": 2, "score": 1, "last_activity_date": 1451646526, "creation_date": 1449434279, "last_edit_date": 1451646526, "question_id": 34122429, "link": "https://stackoverflow.com/questions/34122429/mojodom-how-to-return-more-than-one-attribute", "title": "Mojo::DOM - How to return more than one attribute", "body": "<p>I'm new to Mojolicious, to find the title for a link within a p tag with class Module e.g.</p>\n\n<pre><code>&lt;p class=\"Module\"&gt;&lt;a class=\"story\" href=\"http://intranet/blah\" &gt;Link Text is here&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n\n<p>I use the following code:</p>\n\n<pre><code>my $dom = Mojo::DOM-&gt;new( $page );\n\nfor my $elm ( $dom-&gt;find('p.Module &gt; a.story')-&gt;each ){\n    print $elm-&gt;text .\"\\n\";\n}\n</code></pre>\n\n<p>Pretty crude but it's functional. What I can't figure out as yet (it could be too late at night for me) is how to return the href and the link text. Please put me out of my misery.</p>\n"}, {"tags": ["linux", "perl", "email", "parsing", "email-headers"], "comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 1, "creation_date": 1450770105, "post_id": 34122413, "comment_id": 56562557, "body": "Have you considered using 1) <code>Email::Received</code> to parse single <code>Received:</code> header 2) Email::Simple to extract first/all <code>Received:</code> headers?"}], "answers": [{"comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1450836474, "post_id": 34427484, "comment_id": 56596177, "body": "&lt;pre&gt;sub get_ips{     my @headerlines= @_;      my @ips;     foreach my $line(@headerlines){         chomp($line);         if($line =~ m/Received/ &amp;&amp; $line=~ m/from/i){             if ($line =~ /(\\d+\\.\\d+\\.\\d+\\.\\d+)/){                 my $ip = $1;                 push(@ips, $ip);             }         }     }     return @ips; }"}], "tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": 0, "last_activity_date": 1450836684, "last_edit_date": 1450836684, "creation_date": 1450836321, "answer_id": 34427484, "question_id": 34122413, "link": "https://stackoverflow.com/questions/34122413/perl-script-to-parse-the-original-ip-of-the-sender-from-the-mail-header/34427484#34427484", "title": "Perl script to parse the original IP of the sender from the mail header", "body": "<p>Not sure this is what you wanted:</p>\n\n<p>Assumption: you have a heade txt file\nwith Received from ipaddress in the same line</p>\n\n<p>to run : sender_ip.pl header.txt</p>\n\n<p>[gliang@www perl_tools]$ cat sender_ip.pl</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nreturn 1  unless $0 eq __FILE__;\nmain(@ARGV) if $0 eq __FILE__;\n\nsub main{\n    my @parameters = @_;\n\n    my $file = check_input(@parameters);\n    my @headerlines = read_header($file);\n    my @ips  = get_ips(@headerlines);\n\n    if(scalar(@ips)&gt;0){\n        print \"\\n*** sender ips @ips\\n\";\n    }else{\n        print \"\\n\\n*** did not find sender ip\\n\";\n    }\n}\n\nsub check_input{\n    my @parameters  = @_;\n\n    if(scalar(@parameters)&gt;0){\n\n    }else{\n        print \"\\n*** add header.txt file, please!\\n\";\n        exit(1);\n    }\n    my $file = $parameters[0];\n    if(-e $file){\n\n    }else{\n        print \"\\n*** input file does not exist\\n\\n\";\n        exit(1);\n    }\n    return $file;\n}\n\nsub read_header{\n    my $file  = $_[0];\n    open(my $FILE, '&lt;', $file);\n    my @headerlines = &lt;$FILE&gt;;\n    close($FILE);\n    return @headerlines;\n}\n\n\nsub get_ips{\n    my @headerlines= @_;\n\n    my @ips;\n    foreach my $line(@headerlines){\n        chomp($line);\n        if($line =~ m/Received/ &amp;&amp; $line=~ m/from/i){\n            if ($line =~ /(\\d+\\.\\d+\\.\\d+\\.\\d+)/){\n                my $ip = $1;\n                push(@ips, $ip);\n            }\n        }\n    }\n    return @ips;\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 3755672, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3bdc476664fc380d06057aa6d1cf62fe?s=128&d=identicon&r=PG&f=1", "display_name": "VGM", "link": "https://stackoverflow.com/users/3755672/vgm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 573, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450836684, "creation_date": 1449434163, "last_edit_date": 1449436250, "question_id": 34122413, "link": "https://stackoverflow.com/questions/34122413/perl-script-to-parse-the-original-ip-of-the-sender-from-the-mail-header", "title": "Perl script to parse the original IP of the sender from the mail header", "body": "<p>I am looking from a perl script (to parse the original IP of the sender from the mail header) and I don't know how to do it...</p>\n\n<p>After I took a look with Google I found out I have to use some Perl modules like: Mail::Field, Mail::Header, Email::Simple, etc.</p>\n\n<p>Unfortunately most of the examples are focused on senders, recipients or/and subjects. Less about the original IP of the sender.</p>\n\n<p>Any help are welcome! Thank you!</p>\n"}, {"tags": ["html", "regex", "perl", "split"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1449425583, "post_id": 34119004, "comment_id": 55990442, "body": "<b><i>\u201cI started learning perl yesterday\u201d</i></b> This isn&#39;t a site to help you learn Perl. Once you are accomplished in the language, and come across a problem that you can&#39;t resolve, then you should come here and ask about it. Stack Overflow is intended to be a <i>knowledge base</i> of programming problems. If you simply don&#39;t know the language then there are better places to look for help"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4875680, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152854021826009/picture?type=large", "display_name": "Alf", "link": "https://stackoverflow.com/users/4875680/alf"}, "edited": false, "score": 0, "creation_date": 1449416206, "post_id": 34119134, "comment_id": 55987226, "body": "can you please elaborate a bit your answer? i wanna be able to fully understand it, and thanks."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1449431362, "last_edit_date": 1449431362, "creation_date": 1449415834, "answer_id": 34119134, "question_id": 34119004, "link": "https://stackoverflow.com/questions/34119004/perl-use-regex-to-split-a-line/34119134#34119134", "title": "Perl use regex to split a line", "body": "<p>First of all, <code>@hours = $row.split(/[&lt;br \\/&gt;&lt;br&gt;]+/);</code> is invalid <code>perl</code> syntax.</p>\n\n<p>Second, <code>[&lt;br \\/&gt;&lt;br&gt;]</code> will not work for you, because it will consider every character independently rather than as a group.</p>\n\n<p>So, you should use grouping in <code>regex</code>. But in <code>split</code> when you keep delimiter in group, then the group  also gets captured in result-set, so to remove it, keep <code>(?:)</code> i.e non capturing group. </p>\n\n<p>This will work for you:</p>\n\n<pre><code>my $string='LUN - JUE &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM&lt;br&gt;VIE &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM, 11:10 PM&lt;br&gt;SAB &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM, 11:10 PM&lt;br&gt;DOM &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM &lt;br/&gt;';\n\nmy @array=split(/(?:&lt;\\s*br\\s*\\/\\s*&gt;|&lt;\\s*br\\s*&gt;)+/i,$string);\n</code></pre>\n\n<p>Keeping <code>\\s*</code> will handle all cases, where you have multiple spaces inside <code>br</code> tag.</p>\n\n<p>For more understanding, you should learn <a href=\"http://perldoc.perl.org/perlretut.html#Non-capturing-groupings\" rel=\"nofollow\"><code>perlretut</code></a> and <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 5682, "user_id": 626810, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dde9640589b85543aa33fddb58bb169c?s=128&d=identicon&r=PG", "display_name": "Blaskovicz", "link": "https://stackoverflow.com/users/626810/blaskovicz"}, "is_accepted": false, "score": -1, "last_activity_date": 1449425973, "last_edit_date": 1449425973, "creation_date": 1449417007, "answer_id": 34119352, "question_id": 34119004, "link": "https://stackoverflow.com/questions/34119004/perl-use-regex-to-split-a-line/34119352#34119352", "title": "Perl use regex to split a line", "body": "<h3>This script</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $sample = 'LUN - JUE &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM&lt;br&gt;VIE &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM, 11:10 PM&lt;br&gt;SAB &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM, 11:10 PM&lt;br&gt;DOM &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM &lt;br/&gt;';\n\nmy $line_re = qr/\\s*\\Q&lt;br\\E\\s*\\/?\\Q&gt;\\E\\s*/i;\nmy $day;\nmy %lookup;\n\nfor my $line ( split($line_re, $sample) ) {\n\n  $line =~ s/^\\s+|\\s*$//g;\n  $day = $line if(!defined $line || $line =~ m/^[a-z]/i);\n\n  if ( $line =~ m/^\\d/ ) {\n    my @times = split(/,/, $line);\n    $lookup{$day} = [@times];\n  }\n}\n\nprint Dumper \\%lookup;\n</code></pre>\n\n<h3>Which outputs</h3>\n\n<pre><code>$VAR1 = { \n          'VIE' =&gt; [ \n                     '10:30AM',\n                     '1:40PM',\n                     '4:50PM',\n                     '8:00PM',\n                     '11:10PM'\n                   ],\n          'SAB' =&gt; [ \n                     '10:30AM',\n                     '1:40PM',\n                     '4:50PM',\n                     '8:00PM',\n                     '11:10PM'\n                   ],\n          'LUN-JUE' =&gt; [ \n                         '10:30AM',\n                         '1:40PM',\n                         '4:50PM',\n                         '8:00PM'\n                       ],\n          'DOM' =&gt; [ \n                     '10:30AM',\n                     '1:40PM',\n                     '4:50PM',\n                     '8:00PM'\n                   ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4875680, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152854021826009/picture?type=large", "display_name": "Alf", "link": "https://stackoverflow.com/users/4875680/alf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 34119134, "answer_count": 2, "score": -1, "last_activity_date": 1449431362, "creation_date": 1449415107, "question_id": 34119004, "link": "https://stackoverflow.com/questions/34119004/perl-use-regex-to-split-a-line", "title": "Perl use regex to split a line", "body": "<p>I'm trying to split the line below where there is a <code>&lt;br /&gt;</code>,<code>&lt;br&gt;</code> and commas to push that into an array. I need to get the days which are LUN - JUE, VIE, SAB and DOM, and also the hours that correspond to them. I started learning perl yesterday and got stuck with this and need help. </p>\n\n<p>These are the instructions of what i have to do so I'm not sure if I can make use of split.</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>Make a Perl script or program that uses regular expressions to read the test file, extract movie names and showtimes, and create an html\n  file to display the extracted data.</li>\n  </ol>\n</blockquote>\n\n<p>This is what I have tried which I know I'm not even close.</p>\n\n<pre><code>@hours = $row.split(/[&lt;br \\/&gt;&lt;br&gt;]+/);\n</code></pre>\n\n<p>&amp;</p>\n\n<pre><code>elsif($row =~ qr{(.+)&lt;br /&gt;(.+),(.+),(.+)&lt;br&gt;(.+)&lt;br /&gt;}){\n      @hours = $1;\n      print \"@hours\\n\";\n}    \n</code></pre>\n\n<p>This is the line I'm trying to split.</p>\n\n<pre><code>LUN - JUE &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM&lt;br&gt;VIE &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM, 11:10 PM&lt;br&gt;SAB &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM, 11:10 PM&lt;br&gt;DOM &lt;br /&gt; 10:30 AM, 1:40 PM, 4:50 PM, 8:00 PM &lt;br/&gt;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1449412946, "post_id": 34118564, "comment_id": 55986160, "body": "What makes you think it&#39;s not working?"}, {"owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "edited": false, "score": 0, "creation_date": 1449413178, "post_id": 34118564, "comment_id": 55986217, "body": "It says it sent the mail to mymail@gmail.com, are you saying you didn&#39;t receive an email? Put the to email address to a real account."}, {"owner": {"reputation": 29, "user_id": 5646620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rrEKWUCbk2o/AAAAAAAAAAI/AAAAAAAAAEQ/W6yZsP4lwc8/photo.jpg?sz=128", "display_name": "Kush Yadav", "link": "https://stackoverflow.com/users/5646620/kush-yadav"}, "edited": false, "score": 0, "creation_date": 1449413605, "post_id": 34118564, "comment_id": 55986342, "body": "I have send the mail to a real email account.But i didn&#39;t receive any mail in my account."}, {"owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "edited": false, "score": 0, "creation_date": 1449413968, "post_id": 34118564, "comment_id": 55986451, "body": "Can you send email from the system using something like sendmail? Is the MTA working locally? Have you tested sending to another email domain, i.e. not Gmail as that may not trust the sender."}, {"owner": {"reputation": 29, "user_id": 5646620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rrEKWUCbk2o/AAAAAAAAAAI/AAAAAAAAAEQ/W6yZsP4lwc8/photo.jpg?sz=128", "display_name": "Kush Yadav", "link": "https://stackoverflow.com/users/5646620/kush-yadav"}, "edited": false, "score": 0, "creation_date": 1449414366, "post_id": 34118564, "comment_id": 55986576, "body": "yes i have tried many times in my domain but i didn&#39;t get email and also i sent email to hotmail but it didn&#39;t work ."}, {"owner": {"reputation": 36625, "user_id": 2449905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zBnOo.jpg?s=128&g=1", "display_name": "Dan Lowe", "link": "https://stackoverflow.com/users/2449905/dan-lowe"}, "edited": false, "score": 0, "creation_date": 1449430052, "post_id": 34118564, "comment_id": 55992128, "body": "Have you tried looking in your SMTP server logs? You have an ID (<code>tB6EJbum025820</code>), you should be able to tell from your server logs where it went."}, {"owner": {"reputation": 29, "user_id": 5646620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rrEKWUCbk2o/AAAAAAAAAAI/AAAAAAAAAEQ/W6yZsP4lwc8/photo.jpg?sz=128", "display_name": "Kush Yadav", "link": "https://stackoverflow.com/users/5646620/kush-yadav"}, "edited": false, "score": 0, "creation_date": 1449434990, "post_id": 34118564, "comment_id": 55993797, "body": "when i check that the smtp port is on or not by zenmap it tells me that port is not open ,i want to ask that is it work or not in that situation?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1449420668, "last_edit_date": 1449420668, "creation_date": 1449420353, "answer_id": 34119993, "question_id": 34118564, "link": "https://stackoverflow.com/questions/34118564/perl-code-i-dont-understand-the-error-outputted/34119993#34119993", "title": "Perl code, I don&#39;t understand the error outputted", "body": "<blockquote>\n  <p><em>I don't understand the error outputted</em></p>\n</blockquote>\n\n<p>You didn't show us any error. As you can see, the server said \"Message accepted for delivery\".</p>\n\n<p>The missing <code>-&gt;dataend</code> might mean you are sending an empty email, though.</p>\n\n<blockquote>\n  <p><em>What is happening below</em></p>\n</blockquote>\n\n<p>An email message is being sent. As well, messages to help you debug problems are being outputted since you requested these using <code>Debug =&gt; 1</code>.</p>\n"}], "owner": {"reputation": 29, "user_id": 5646620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rrEKWUCbk2o/AAAAAAAAAAI/AAAAAAAAAEQ/W6yZsP4lwc8/photo.jpg?sz=128", "display_name": "Kush Yadav", "link": "https://stackoverflow.com/users/5646620/kush-yadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449420701, "creation_date": 1449412625, "last_edit_date": 1449420701, "question_id": 34118564, "link": "https://stackoverflow.com/questions/34118564/perl-code-i-dont-understand-the-error-outputted", "title": "Perl code, I don&#39;t understand the error outputted", "body": "<pre><code>#!perl\nuse warnings;\nuse strict;\nuse Net::SMTP;\n\nmy $smtpserver = 'server';\nmy $smtpport = 25;\nmy $smtpuser   = 'username';\nmy $smtppassword = 'password';\n\nmy $smtp = Net::SMTP-&gt;new($smtpserver, Port=&gt;$smtpport, Timeout =&gt; 10, Debug =&gt; 1);\ndie \"Could not connect to server!\\n\" unless $smtp;\n\n$smtp-&gt;auth($smtpuser, $smtppassword);\n$smtp-&gt;mail('sender@example.com');\n$smtp-&gt;to('mymail@gmail.com');\n$smtp-&gt;data();\n$smtp-&gt;datasend(\"To: mymail\\@gmail.com\\n\");\n$smtp-&gt;datasend(\"bla bla bla ... \\n\");\n$smtp-&gt;quit;\n</code></pre>\n\n<p>When I execute this code I got the below output. I don't have much more knowledge about perl but the project is Perl, thus I must do it this way.</p>\n\n<p>What is happening below: I do not understand it personally.</p>\n\n<pre><code>    Net::SMTP&gt;&gt;&gt; Net::SMTP(2.29)\n    Net::SMTP&gt;&gt;&gt;   Net::Cmd(2.26)\n    Net::SMTP&gt;&gt;&gt;     Exporter(5.58)enter code here\n    Net::SMTP&gt;&gt;&gt;   IO::Socket::INET(1.27)\n    Net::SMTP&gt;&gt;&gt;     IO::Socket(1.28)\n    Net::SMTP&gt;&gt;&gt;       IO::Handle(1.24)\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 220 server ESMTP Sendmail 8.13.1/8.13.1; Sun, 6 Dec 2015 19:34:41 +0530\n    Net::SMTP=GLOB(0x7a6280)&gt;&gt;&gt; EHLO localhost.localdomain\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-server Hello localhost.localdomain [127.0.0.1], pleased to meet you\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-PIPELINING\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-8BITMIME\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-SIZE\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-DSN\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-ETRN\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-AUTH GSSAPI DIGEST-MD5 CRAM-MD5\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250-DELIVERBY\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250 HELP\n    Net::SMTP=GLOB(0x7a6280)&gt;&gt;&gt; MAIL FROM:&lt;sendermail&gt;\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250 2.1.0 &lt;sendermail&gt;... Sender ok\n    Net::SMTP=GLOB(0x7a6280)&gt;&gt;&gt; RCPT TO:&lt;receipient mail&gt;\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250 2.1.5 &lt;recipient mail&gt;... Recipient ok\n    Net::SMTP=GLOB(0x7a6280)&gt;&gt;&gt; DATA\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 354 Enter mail, end with \".\" on a line by itself\n    Net::SMTP=GLOB(0x7a6280)&gt;&gt;&gt; To: mymail@gmail.com\n    Net::SMTP=GLOB(0x7a6280)&gt;&gt;&gt; .\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 250 2.0.0 tB6EJbum025820 Message accepted for delivery\n    Net::SMTP=GLOB(0x7a6280)&gt;&gt;&gt; QUIT\n    Net::SMTP=GLOB(0x7a6280)&lt;&lt;&lt; 221 2.0.0 server closing connection\n</code></pre>\n\n<p>I will be very grateful for any help \u2014\u00a0thanks in advance.  </p>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1449484301, "post_id": 34118434, "comment_id": 56010643, "body": "It would be a good idea to show us the code that you have written."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1449412954, "last_edit_date": 1449412954, "creation_date": 1449412615, "answer_id": 34118561, "question_id": 34118434, "link": "https://stackoverflow.com/questions/34118434/how-to-sort-2d-array-perl/34118561#34118561", "title": "How to Sort 2D array Perl?", "body": "<p>Yes, you can use it,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @array =( [qw(b e d)], [qw(s a f)], [qw(g i h)] );\n\nmy @sorted_array = \nmap { $_-&gt;[0] }\nsort {\n  $a-&gt;[1] cmp $b-&gt;[1]\n}\nmap {\n  my $r = [ sort @$_ ];\n  [$r, \"@$r\"];\n}\n@array;\n\nuse Data::Dumper;\nprint Dumper \\@sorted_array;\n</code></pre>\n\n<p>output</p>\n\n<pre><code>$VAR1 = [\n      [\n        'a',\n        'f',\n        's'\n      ],\n      [\n        'b',\n        'd',\n        'e'\n      ],\n      [\n        'g',\n        'h',\n        'i'\n      ]\n    ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 1, "last_activity_date": 1449422636, "creation_date": 1449422636, "answer_id": 34120355, "question_id": 34118434, "link": "https://stackoverflow.com/questions/34118434/how-to-sort-2d-array-perl/34120355#34120355", "title": "How to Sort 2D array Perl?", "body": "<p>This is two separate sorts. First you want to sort the inner arrays individually, then you can sort the outer array by, perhaps, the first element of each of the inner ones.</p>\n\n<pre><code>use List::UtilsBy qw( sort_by );\n\nmy @array =( [qw(b e d)], [qw(s a f)], [qw(g i h)] );\n\n# sort the inner ones individually\n@$_ = sort @$_ for @array;\n\n# sort the whole by the first element of each\nmy @sorted_array = sort_by { $_-&gt;[0] } @array;\n</code></pre>\n\n<p>Or if you'd prefer doing it all in one go and avoiding the temporary mutation:</p>\n\n<pre><code>my @sorted_array = sort_by { $_-&gt;[0] }\n                   map { [ sort @$_ ] } @array;\n</code></pre>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 34118561, "answer_count": 2, "score": 0, "last_activity_date": 1502310809, "creation_date": 1449411824, "last_edit_date": 1449489243, "question_id": 34118434, "link": "https://stackoverflow.com/questions/34118434/how-to-sort-2d-array-perl", "title": "How to Sort 2D array Perl?", "body": "<p>May be I am missing something. First It seemed too easy to me.I thought I can easily achieve it using <code>map{}sort{}map{}</code> ,but now it became complicated to me. </p>\n\n<p>So, finally the problem is I have an array:</p>\n\n<pre><code>@array=(['b','e','d'],['s','a','f'],['g','i','h']);\n</code></pre>\n\n<p>and I want sorted array like</p>\n\n<pre><code>@sorted_array=(['a','f','s'],['b','d','e'],['g','h','i']);\n</code></pre>\n\n<p>I wrote </p>\n\n<pre><code>##sort based on columns########\nmy @sorted_array= map{my @sorted=sort{$a cmp $b}@$_;[@sorted]}@array;\n\n###sort on rows####\nmy @sorted_array= map{$_-&gt;[0]}sort{$a-&gt;[1] cmp $b-&gt;[1]} map{[$_,\"@$_\"]}@array;\n</code></pre>\n\n<p>But I was not sure how to wrap it into one(for both rows and column). Can I achieve this using <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"nofollow\">Schwartzian transform.</a></p>\n"}, {"tags": ["algorithm", "perl", "file"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1449397303, "post_id": 34116254, "comment_id": 55981760, "body": "Check perldoc split, inspecting variables is also helpful."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 3, "creation_date": 1460297570, "post_id": 34116254, "comment_id": 60665431, "body": "As per <a href=\"http://stackoverflow.com/questions/36527843/frustratingly-easy-domain-adaptation-explanation\">this other question</a> the code comes from the paper <i><a href=\"http://www.umiacs.umd.edu/~hal/docs/daume07easyadapt.pdf\" rel=\"nofollow noreferrer\">Frustratingly Easy Domain Adaptation</a></i> by Hal Daum&#233;."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1460303662, "last_edit_date": 1460303662, "creation_date": 1449403495, "answer_id": 34117210, "question_id": 34116254, "link": "https://stackoverflow.com/questions/34116254/cannot-understand-a-short-simple-algorithm-in-perl/34117210#34117210", "title": "Cannot Understand a Short simple Algorithm in Perl", "body": "<p>That Perl isn't very well written. This equivalent may help you</p>\n\n<p>I think everything is prety much self-explanatory. Take a look at <a href=\"http://perldoc.perl.org/\" rel=\"nofollow\"><code>perldoc</code></a> for descriptions of individual operators</p>\n\n<p>It may help to know that <code>my ($first, @rest) = split</code> splits each record on whitespace, and puts the first field into <code>$first</code> and the rest into array <code>@rest</code>. Also, the string <code>\" *$field $i$field\"</code> just builds a string with the indicated variables replaced by their values</p>\n\n<pre><code>for my $i ( 0 .. $#ARGV ) {\n\n    open my $fh, '&lt;', $ARGV[$i]\n            or die qq{Unable to open \"$ARGV[$i]\" for input: $!};\n\n    while ( &lt;$fh&gt; ) {\n        chomp;\n        my ($first, @rest) = split;\n        print $first;\n        for my $field ( @rest ) {\n            print \" *$field $i$field\";\n        }\n        print \"\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1449412150, "creation_date": 1449412150, "answer_id": 34118492, "question_id": 34116254, "link": "https://stackoverflow.com/questions/34116254/cannot-understand-a-short-simple-algorithm-in-perl/34118492#34118492", "title": "Cannot Understand a Short simple Algorithm in Perl", "body": "<p>What's going on with the <code>while</code> in particular - and warrants a bit more explanation.</p>\n\n<p>Perl has a concept of an implict variable <code>$_</code> - this variable is set to the current thing within each of the loop constructs <code>for</code>, <code>while</code>. </p>\n\n<p>When you do this for a <code>while</code> loop, what you <em>actually</em> get is:</p>\n\n<pre><code>while ( defined $_ = &lt;$FH&gt; ) {\n</code></pre>\n\n<p>This means it reads a line from the file handle, and <em>tests the result</em> of the operation. If you hit EOF then the while loop ends.</p>\n\n<p>But through the loop, you have access to <code>$_</code> - and both <code>chomp</code> and <code>split</code> act on this by default.</p>\n\n<p>So you're doing:</p>\n\n<pre><code> while ( defined $_ = &lt;$FH&gt; ) { \n     chomp ( $_ ); #strip trailing whitespace;\n     ( $x, @y ) = split ( ' ', $_ ); \n</code></pre>\n\n<p>What's happening at this point is you're assigning one list to another. So the list generated by 'split' is assigned - in order - to <code>( $x, @y )</code> - making <code>$x</code> the first element, and <code>@y</code> everything else. </p>\n\n<p>That <code>map</code> line is misusing <code>map</code> - and as such it's not too suprising that it's a bit confusing.</p>\n\n<p>What <code>map</code> is <em>supposed</em> to do is apply a transform to a list and output another list. </p>\n\n<p>So you might do:</p>\n\n<pre><code>my @uppercase = map { uc } @list_of_lowercase; \n</code></pre>\n\n<p>And the list of lower case turns into a list of upper case, because the <code>uc</code> function is run on each element. </p>\n\n<p>By not assigning an output though, it's a big warning sign that what they should really be using is <code>for</code> </p>\n\n<pre><code>print \"$y \";\nforeach my $value ( @x ) {\n   print \"*$value $i$value\";\n}\nprint \"\\n\"; \n</code></pre>\n\n<p>(I tend to prefer using <code>foreach</code> rather than <code>for</code> when you're naming your things, but they're identical really). </p>\n"}, {"comments": [{"owner": {"reputation": 5102, "user_id": 1194864, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uley8.jpg?s=128&g=1", "display_name": "Jose Ramon", "link": "https://stackoverflow.com/users/1194864/jose-ramon"}, "edited": false, "score": 0, "creation_date": 1484217954, "post_id": 36530785, "comment_id": 70423584, "body": "&quot;tripleee how this code can work beyond text features. I dont get the asterisk part."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "reply_to_user": {"reputation": 5102, "user_id": 1194864, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uley8.jpg?s=128&g=1", "display_name": "Jose Ramon", "link": "https://stackoverflow.com/users/1194864/jose-ramon"}, "edited": false, "score": 0, "creation_date": 1484218084, "post_id": 36530785, "comment_id": 70423690, "body": "@JoseRamon It&#39;s just a text transformation, you probably have a subsequent processing step which decides what the asterisk means and what to do with it.  It&#39;s several months since I posted this answer so I have no recollection of the referenced paper any longer."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": false, "score": 3, "last_activity_date": 1460314867, "last_edit_date": 1460314867, "creation_date": 1460297304, "answer_id": 36530785, "question_id": 34116254, "link": "https://stackoverflow.com/questions/34116254/cannot-understand-a-short-simple-algorithm-in-perl/36530785#36530785", "title": "Cannot Understand a Short simple Algorithm in Perl", "body": "<p>In terms of functionality, this is a fairly trivial text tranformation. It loops across a set of files and replaces the entries with a repeat of the elements in the tail of each line first with an asterisk, then with the (zero-based) index of the file prefixed to the field. For example, given two files containing</p>\n\n<pre><code>a b\nc d e f\n</code></pre>\n\n<p>and</p>\n\n<pre><code>K L M\nN O P Q\n</code></pre>\n\n<p>the output will be</p>\n\n<pre><code>a *b 0b\nc *d 0d *e 0e *f 0f\nK *L 1L *M 1M\nN *O 1O *P 1P *Q 1Q\n</code></pre>\n\n<p>A much simpler <code>sed</code> or Awk script could easily be devised.</p>\n\n<pre><code>i=0\nfor file in list of filenames; do\n    sed \"/ \\([^ ]*\\)/ *\\1 $i\\1/g\" \"$file\"\n    ((i++))\ndone\n</code></pre>\n\n<p>or this Perl one-liner:</p>\n\n<pre><code>perl -pe '++$i if (defined $prev &amp;&amp; $prev ne $ARGV); $prev = $ARGV; s/\\s+(\\S+)/ *$1 $i$1/g' list of filenames\n</code></pre>\n\n<p>Based on a cursory reading of the paper, I'm guessing that the expected input is a token and its analysis; then, apparently, the generated asterisk-prefixed analysis is the \"general\" analysis, and the number-prefixed analysis is the one specific to this input file (i.e. corpus, i.e. source or target). But take this with a huge grain of salt.</p>\n"}], "owner": {"reputation": 151, "user_id": 3811872, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e20ee364880956e5d3b2f38cd1f1ee5?s=128&d=identicon&r=PG&f=1", "display_name": "user3811872", "link": "https://stackoverflow.com/users/3811872/user3811872"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1484217838, "creation_date": 1449396883, "last_edit_date": 1484217838, "question_id": 34116254, "link": "https://stackoverflow.com/questions/34116254/cannot-understand-a-short-simple-algorithm-in-perl", "title": "Cannot Understand a Short simple Algorithm in Perl", "body": "<p>I never worked with Perl, that's why I need a little help to understand the following code:</p>\n\n<pre><code>for ($i=0; $i&lt;@ARGV; $i++) {\n    open F, $ARGV[$i];\n    while (&lt;F&gt;) {\n        chomp;\n        ($y,@x) = split;\n        print $y;\n        map { print \" *$_ $i$_\" } @x;\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<p>I see that it iterates over a file(per line?),\nand then <code>while(&lt;F&gt;)</code>, meaning not empty?\nThe chomp strips the string from newlines, spaces etc.</p>\n\n<p>The concept in general of perl confuses me, can anyone explain the example to me?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1449378470, "post_id": 34114130, "comment_id": 55978189, "body": "What are you talking about? Time::Piece doesn&#39;t &quot;generate single values&quot;. It return a Time::Piece object."}, {"owner": {"reputation": 11, "user_id": 5645626, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166087396737987/picture?type=large", "display_name": "Nishant Midha", "link": "https://stackoverflow.com/users/5645626/nishant-midha"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1450441927, "post_id": 34114130, "comment_id": 56452921, "body": "<a href=\"http://stackoverflow.com/users/5645626/nishant-midha\">stackoverflow.com/users/5645626/nishant-midha</a> can you please guide me on this also"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5645626, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166087396737987/picture?type=large", "display_name": "Nishant Midha", "link": "https://stackoverflow.com/users/5645626/nishant-midha"}, "edited": false, "score": 0, "creation_date": 1449383683, "post_id": 34114296, "comment_id": 55979053, "body": "Actually.  I am. Taking input from user. In yyyy-mm-dd-hh.  Format. And. I want to. Put validation. Of values. Like.   If.  User. Entering value.  Of month. More then 12. Then.  It should. Disply message that.  Wrong format has been entered. .so.  I am.  Using. eval { Time::piece-&gt;strptime($date , &#39;%y-%m-%d-%h&quot;) };  and.   If($@){ print. &quot;Wrong format&quot;;    but what is happening it is. Checking that. Month is between 1 to 12. And date is between 1 to. 31.  But.   It is also parsing when. I enter. Month value. As.  1.   But I want month in. Two digit format like 01."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11, "user_id": 5645626, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166087396737987/picture?type=large", "display_name": "Nishant Midha", "link": "https://stackoverflow.com/users/5645626/nishant-midha"}, "edited": false, "score": 0, "creation_date": 1449383902, "post_id": 34114296, "comment_id": 55979095, "body": "You appear to be trying to clarify your question. In the future, do so by editing your question. Feel free to let me know when you do by posting a comment here."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1449384077, "post_id": 34114296, "comment_id": 55979128, "body": "Now that is some crazy punctuation."}, {"owner": {"reputation": 11, "user_id": 5645626, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166087396737987/picture?type=large", "display_name": "Nishant Midha", "link": "https://stackoverflow.com/users/5645626/nishant-midha"}, "edited": false, "score": 0, "creation_date": 1449385416, "post_id": 34114296, "comment_id": 55979391, "body": "TLP. Sent. On move and its auto dictionary&#39;s outcome so pls. Excuse typo"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1449388390, "last_edit_date": 1449388390, "creation_date": 1449378660, "answer_id": 34114296, "question_id": 34114130, "link": "https://stackoverflow.com/questions/34114130/how-to-avoid-single-digit-matches-when-using-strptime-of-timepiece/34114296#34114296", "title": "How to avoid single digit matches when using strptime of Time::PIece", "body": "<p>Forgive and fix:</p>\n\n<pre><code>my $tp = eval { Time::Piece-&gt;strptime($date , '%y-%m-%d-%h') };\nif ($@) {\n   die(\"Wrong format\");\n}\n\n$date = $tp-&gt;strftime('%y-%m-%d-%h');\n</code></pre>\n\n<p>Strictly enforce:</p>\n\n<pre><code>if ($date !~ /^[0-9]{4}-[0-9]{2}-[0-9]{2}-[0-9]{2}\\z/) {\n   die(\"Wrong format\");\n}\n\nif (!eval { Time::Piece-&gt;strptime($date , '%y-%m-%d-%h') }) {\n   die(\"Wrong format\");\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5645626, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166087396737987/picture?type=large", "display_name": "Nishant Midha", "link": "https://stackoverflow.com/users/5645626/nishant-midha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1450817999, "answer_count": 1, "score": -1, "last_activity_date": 1449388390, "creation_date": 1449376942, "last_edit_date": 1449377255, "question_id": 34114130, "link": "https://stackoverflow.com/questions/34114130/how-to-avoid-single-digit-matches-when-using-strptime-of-timepiece", "closed_reason": "Needs details or clarity", "title": "How to avoid single digit matches when using strptime of Time::PIece", "body": "<p>I am using <code>%y-%m-%d-%h</code>.  to match the values. But it generates single values. And I want two digit values like <code>01</code> for months.  I am using <code>strptime</code> function of <code>Time::piece</code> in perl.</p>\n"}, {"tags": ["linux", "perl", "debugging", "scripting", "output"], "comments": [{"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1449368594, "post_id": 34113222, "comment_id": 55976322, "body": "It looks like the Perl debugger, &quot;DDD&quot;.  SUGGESTION: check your cron job and your .pl Perl script to see if either of them is somehow invoking the debugger, for example <code>perl -d ...</code>: <a href=\"https://www.gnu.org/software/ddd/\" rel=\"nofollow noreferrer\">gnu.org/software/ddd</a>"}, {"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1449368900, "post_id": 34113222, "comment_id": 55976393, "body": "i have checked every piece, cron, script etc.. nothing found. if i copy same script in other system it works fine. but on this system it is throwing <code>DDD</code> is there any perl env variable or hidden debug option which causing debug?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1449381723, "post_id": 34113222, "comment_id": 55978710, "body": "@paulsm4, DDD is not the Perl debugger. DDD is a GUI front end for multiple debuggers, including the perl debugger."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449383825, "post_id": 34113222, "comment_id": 55979082, "body": "@ikegami - Don&#39;t split hairs.  Neither Satish or I can think of any reason for &quot;DDD&quot; in the output, but it&#39;s worth noting that there <i>is</i> a debugger for Perl named &quot;DDD&quot;, and <i>perhaps</i> something in the script or environment happened to be invoking it."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1449384018, "post_id": 34113222, "comment_id": 55979115, "body": "@Satish - no, I don&#39;t know of any environment variables that might the culprit :(  ADDITIONAL SUGGESTIONS: 1) Do you see &quot;DDD&quot; in the output for any of your <i>own</i> scripts?  2)  Does the problem appear/disappear if you run &quot;cron&quot; vs &quot;command line&quot;? 3) Can you running the offending script with a different version of Perl, and do you get the same behavior?  4) Can you step into the script with the Perl debugger to identify the culprit?  Please let us know what you find!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1449384128, "post_id": 34113222, "comment_id": 55979136, "body": "@paulsm4, I&#39;m not splitting hair. It means this might not be coming from the Perl debugger. It also means that if it is coming from the Perl debugger, it&#39;s because it was instructed to do so from an external source (which points to env var)."}, {"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1449431961, "post_id": 34113222, "comment_id": 55992785, "body": "in forum we should use negative voting comment section. so people know why they gave negative.. its so weird this question mark negative. I would prefer delete this question instead of negative vote"}], "answers": [{"comments": [{"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1449417463, "post_id": 34118007, "comment_id": 55987683, "body": "Oh!! I think you are on right track.. But suddenly why it just started? I will check system if anybody updated anything but I doubt."}, {"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1449425154, "post_id": 34118007, "comment_id": 55990318, "body": "Look like <code>perl-Net-Address-Ethernet-1.122-1</code> package updated on system and it started this issue. How can we stop that <code>DDD</code> stuff.."}, {"owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "reply_to_user": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1449427924, "post_id": 34118007, "comment_id": 55991304, "body": "I don&#39;t know what changed as I don&#39;t know what you were using before. What OS are you running as you may be using cronie. But a test would be to set N_A_E_DEBUG to 0.   There&#39;s no point doing this on your terminal as you say it works anyway when you run it manually. So what OS are you running and how are you running it? Do you just have a link to the script in /etc/cron.X or is it in crontab? You could export it via crontab but need to know how you&#39;re running it."}, {"owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1449428327, "post_id": 34118007, "comment_id": 55991465, "body": "sorry but it was throwing error when running manually on shell. look at this <a href=\"https://rtcpan.develooper.com/Public/Bug/Display.html?id=82843\" rel=\"nofollow noreferrer\">rtcpan.develooper.com/Public/Bug/Display.html?id=82843</a>  they are having same issue.  i have tried <code>export N_A_E_DEBUG=0</code> also but no luck"}, {"owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "reply_to_user": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "edited": false, "score": 0, "creation_date": 1449428646, "post_id": 34118007, "comment_id": 55991587, "body": "That&#39;s not the same issue you&#39;re having. When they ran it on FreeBSD the usage is spat out for arp due to an incorrect argument."}], "tags": [], "owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "is_accepted": false, "score": 2, "last_activity_date": 1449409023, "creation_date": 1449409023, "answer_id": 34118007, "question_id": 34113222, "link": "https://stackoverflow.com/questions/34113222/ethernet-pm-module-throwing-ddd-in-output/34118007#34118007", "title": "Ethernet.pm module throwing DDD in output", "body": "<p>To answer \"what is DDD in perl script output? something like this? where this DDD coming from? we don't have any debug enabled.\"</p>\n\n<p>DDD as said in the comments happens to be a debugger, but this isn't what's happening in yours. You're using ethernet.pm which has various debug output:</p>\n\n<pre><code>foreach my $rh (@a)\n    {\n    my $sName = $rh-&gt;{sAdapter};\n    _debug(\" DDD inspecting interface $sName...\\n\");\n    if (! $rh-&gt;{iActive})\n      {\n      _debug(\" DDD   but it is not active.\\n\");\n      next TRY_ADDR;\n      } # if\n    _debug(\" DDD   it is active...\\n\");\n</code></pre>\n\n<p>And so on. Looking at that module it has:</p>\n\n<pre><code>use vars qw( $DEBUG $VERSION @EXPORT_OK %EXPORT_TAGS );\n$DEBUG = 0 || $ENV{N_A_E_DEBUG};\n</code></pre>\n\n<p>So debug is getting set to true, this isn't a Perl specific output, it happens to be the output of that module. So this hopefully answers where it's coming from and why you're seeing it.</p>\n\n<p>As for why this has only just happened, something changed... What updates have you done, what changes to crontab etc That's the easiest way rather than for us to speculate at possible reasons, as you've said there's no environment variables set for the user running it, including no crontab env options. Go back through any recent system changes or updates.</p>\n"}], "owner": {"reputation": 13599, "user_id": 1159538, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AmqfA.png?s=128&g=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/1159538/satish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1449428494, "creation_date": 1449368125, "last_edit_date": 1449428494, "question_id": 34113222, "link": "https://stackoverflow.com/questions/34113222/ethernet-pm-module-throwing-ddd-in-output", "title": "Ethernet.pm module throwing DDD in output", "body": "<p>Its weird to explain but, we have perl script in cron and it working working great but some how today it started throwing output with <code>DDD</code> in from of all line.</p>\n\n<p>what is <code>DDD</code> in perl script output? something like this? where this DDD coming from? we don't have any debug enabled. </p>\n\n<pre><code> DDD inspecting interface ...\n DDD   but it is not active.\n DDD inspecting interface ...\n DDD   but it is not active.\n DDD inspecting interface ...\n DDD   but it is not active.\n DDD inspecting interface ...\n DDD   it is active...\n DDD   but it's the loopback.\n DDD inspecting interface ...\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbi"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1449357218, "post_id": 34110619, "comment_id": 55973844, "body": "DBI is Perl&#39;s engine-independent database interface. It can most definitely issue queries and retrieve their results :)"}], "tags": [], "owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "is_accepted": true, "score": 1, "last_activity_date": 1449348136, "creation_date": 1449348136, "answer_id": 34110619, "question_id": 34110513, "link": "https://stackoverflow.com/questions/34110513/is-a-db-column-unsigned/34110619#34110619", "title": "Is a DB column UNSIGNED?", "body": "<p>Hopefully you can pull this off with DBI if there is nothing native in that interface:</p>\n\n<pre><code>create table myTable\n(   id int auto_increment primary key,\n    si int not null,    -- signed\n    ui int unsigned not null    -- unsigned\n);\n\ninsert myTable (si,ui) values (1,1),(-7,8);\n\nSELECT data_type,column_type  \nFROM INFORMATION_SCHEMA.COLUMNS  \nWHERE table_schema='so_gibberish' -- my database name\nand table_name = 'myTable' AND COLUMN_NAME in ('si','ui');\n\n+-----------+------------------+\n| data_type | column_type      |\n+-----------+------------------+\n| int       | int(11)          |\n| int       | int(10) unsigned |\n+-----------+------------------+\n</code></pre>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 34110619, "answer_count": 1, "score": 1, "last_activity_date": 1449348136, "creation_date": 1449347497, "question_id": 34110513, "link": "https://stackoverflow.com/questions/34110513/is-a-db-column-unsigned", "title": "Is a DB column UNSIGNED?", "body": "<p>With Perl DBI, how to check whether the given column of a DB table is unsigned?</p>\n\n<p>The following code does not work as expected (with MySQL DB):</p>\n\n<pre><code>my $sth = $dbh-&gt;column_info(undef, $schema, $Table, undef);\nwhile (my $Column = $sth &amp;&amp; $sth-&gt;fetchrow_hashref) {\n  my $ColumnName = $Column-&gt;{COLUMN_NAME};\n  my $data_type = $Column-&gt;{DATA_TYPE}; # SQL_DATA_TYPE does not work too\n  my $type_info = $dbh-&gt;type_info($data_type);\n  my $Unsigned = $type_info-&gt;{UNSIGNED_ATTRIBUTE};\n  my $UnsignedInfo = defined($Unsigned) ? \", unsigned=&gt;$Unsigned\" : \"\";\n  print $fh \"  '$ColumnName' =&gt; {type=&gt;'$Column-&gt;{TYPE_NAME}', nullable=&gt;$Column-&gt;{NULLABLE}$UnsignedInfo},\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "get", "wget"], "comments": [{"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1449320183, "post_id": 34104973, "comment_id": 55961419, "body": "What is the module you are using to do the http GET ?"}, {"owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "edited": false, "score": 0, "creation_date": 1449320647, "post_id": 34104973, "comment_id": 55961559, "body": "Please post full code for <code>GET $url &gt; OUTPUT1</code>  It looks like you are using the shell commands from LWP, since you are piping with <code>&gt;</code>. If you run this in perl, you need to output your result in another way."}, {"owner": {"reputation": 215, "user_id": 4834392, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/61c81bd8dd891d47ae3c9c676c2d145a?s=128&d=identicon&r=PG&f=1", "display_name": "Hakan Kara", "link": "https://stackoverflow.com/users/4834392/hakan-kara"}, "edited": false, "score": 0, "creation_date": 1449320699, "post_id": 34104973, "comment_id": 55961568, "body": "I don&#39;t use module, I am running bash command  via ` `.  I also used LWP::Simple; but it does not change anything too."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449321240, "post_id": 34104973, "comment_id": 55961736, "body": "Don&#39;t &quot;add code here&quot;. Include it in your question. Stack Overflow doesn&#39;t like offsite links."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1449326061, "post_id": 34104973, "comment_id": 55963369, "body": "If you are asking about downloading the whole page, with links try <code>wget -E -k -p http:&#47;&#47;www.ncbi.nlm.nih.gov&#47;nuccore?linkname=pcassay_nucleot&zwnj;&#8203;ide</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1449326349, "post_id": 34104973, "comment_id": 55963451, "body": "If I access your URL using either Firefox or Chrome, I get <b><i>No history available - see Help</i></b>. Do you need to log in to see results? If so then your software will need to do the same thing"}], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 4834392, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/61c81bd8dd891d47ae3c9c676c2d145a?s=128&d=identicon&r=PG&f=1", "display_name": "Hakan Kara", "link": "https://stackoverflow.com/users/4834392/hakan-kara"}, "edited": false, "score": 0, "creation_date": 1449517037, "post_id": 34105351, "comment_id": 56031527, "body": "Thank you so much, as you said , the problem was related with &quot;&amp;&quot; sign. I use substitution and replace all &amp; with \\&amp; , then it is ok."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1449321518, "creation_date": 1449321518, "answer_id": 34105351, "question_id": 34104973, "link": "https://stackoverflow.com/questions/34104973/i-could-not-download-specific-page-via-perl-get-bash-command-get-and-wget/34105351#34105351", "title": "I could not download specific page via perl get, bash command GET and wget", "body": "<p>OK, given your code - the problem is almost certainly one of interpolation. Because the <code>&amp;</code> in your URL is going to be interpreted by the shell you're spawning as 'background this process'. </p>\n\n<p>That's almost certainly not what you want. Why not just use LWP natively? </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse LWP::Simple;\n\nmy $url='http://www.ncbi.nlm.nih.gov/nuccore?linkname=pcassay_nucleotide&amp;from_aid=504934,1806,1805,1674';\n\nmy $content = get $url;\n\nprint $content;\n\nopen ( my $output_fh, '&gt;', 'output.html' ) or die $!;\nprint {$output_fh} $content; \nclose ( $output_fh );\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 4834392, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/61c81bd8dd891d47ae3c9c676c2d145a?s=128&d=identicon&r=PG&f=1", "display_name": "Hakan Kara", "link": "https://stackoverflow.com/users/4834392/hakan-kara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 34105351, "answer_count": 1, "score": -1, "last_activity_date": 1449321518, "creation_date": 1449318967, "last_edit_date": 1449321314, "question_id": 34104973, "link": "https://stackoverflow.com/questions/34104973/i-could-not-download-specific-page-via-perl-get-bash-command-get-and-wget", "title": "I could not download specific page via perl get, bash command GET and wget", "body": "<p>I have an issue with downloading a page, </p>\n\n<pre><code>my $url='http://www.ncbi.nlm.nih.gov/nuccore?linkname=pcassay_nucleotide&amp;from_aid=504934,1806,1805,1674';\n</code></pre>\n\n<p>I can browse following with a browser but when I run bash command in perl or linux shell, </p>\n\n<pre><code>GET $url &gt;OUTPUT1;  # Even it does not write anything to file \"OUPUT1\"\n</code></pre>\n\n<p>When I try wget, It downloads but not correct ,I mean with --> <code>&lt;title&gt;Error - Nucleotide - NCBI&lt;/title&gt;</code>. I want the page with items , but it returns me a page without items. </p>\n\n<pre><code>my $html = qx{wget --quiet --output-document=OUTPUT1 $url};\n</code></pre>\n\n<p>**Note: I noticed a few minutes ago, url is ok with Mozilla firefox, but it can not be browsed via google chrome. it is weird, probably my issue related with this too. Any idea?</p>\n\n<p>Code from link:</p>\n\n<pre><code>my $url='http://www.ncbi.nlm.nih.gov/nuccore?linkname=pcassay_nucleotide&amp;from_aid=504934,1806,1805,1674';\n\n\nmy $html = qx{wget --quiet --output-document=OUTPUT11 $url};\n\n# wget get something, but it does not get items, it gets what I get via google chrome\n\n`GET $url2 &gt;OUTPUT11`; # it does not write anything to file,\n</code></pre>\n"}, {"tags": ["perl", "haskell", "io"], "comments": [{"owner": {"reputation": 13807, "user_id": 2407038, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/538f6f4a9aa43841841de7d8e8b169fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2407038", "link": "https://stackoverflow.com/users/2407038/user2407038"}, "edited": false, "score": 0, "creation_date": 1449288781, "post_id": 34101020, "comment_id": 55954252, "body": "I cannot reproduce this, the code executes as expected on my machine. How exactly are you compiling and running it? Also, make your program print out each process ID and wait on each process.. Does it work if you hard code 2 processes? <code>forkIO (sleep 1) &gt;&gt; forkIO (sleep 2)</code>"}, {"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "reply_to_user": {"reputation": 13807, "user_id": 2407038, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/538f6f4a9aa43841841de7d8e8b169fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2407038", "link": "https://stackoverflow.com/users/2407038/user2407038"}, "edited": false, "score": 0, "creation_date": 1449289008, "post_id": 34101020, "comment_id": 55954296, "body": "@user2407038 I am running GHC version 7.8.4 on (X)Ubuntu 15.04. What are you using?"}, {"owner": {"reputation": 100185, "user_id": 3234959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93bb12ca0f93dfddb33880316f7e66c2?s=128&d=identicon&r=PG&f=1", "display_name": "chi", "link": "https://stackoverflow.com/users/3234959/chi"}, "edited": false, "score": 0, "creation_date": 1449314598, "post_id": 34101020, "comment_id": 55959781, "body": "Unrelated to the actual issue: in Haskell you can also use one of <code>sequence</code>, <code>mapM</code>, <code>forM</code> or their <code>..._</code> variants instead of <code>foldr1 (&gt;&gt;) [...]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1449295977, "post_id": 34101772, "comment_id": 55955525, "body": "So if the presence of active threads isn&#39;t sufficient to prevent the program from exiting, what is the condition?  I take it if I wanted to use threads, I would have to keep track of their <code>id</code>s and add an explicit wait."}, {"owner": {"reputation": 1657, "user_id": 4183787, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XedpJ.png?s=128&g=1", "display_name": "zigazou", "link": "https://stackoverflow.com/users/4183787/zigazou"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1449297177, "post_id": 34101772, "comment_id": 55955757, "body": "Depending on what you\u2019re doing, you can use <code>threadDelay</code> to wait 0.5 seconds at the end of your program (dirty) assuming the threads creation is very fast. Or you can follow the Terminating The Program section on <a href=\"https://hackage.haskell.org/package/base-4.8.1.0/docs/Control-Concurrent.html\" rel=\"nofollow noreferrer\">hackage.haskell.org/package/base-4.8.1.0/docs/&hellip;</a>"}, {"owner": {"reputation": 100185, "user_id": 3234959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93bb12ca0f93dfddb33880316f7e66c2?s=128&d=identicon&r=PG&f=1", "display_name": "chi", "link": "https://stackoverflow.com/users/3234959/chi"}, "reply_to_user": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "edited": false, "score": 0, "creation_date": 1449314441, "post_id": 34101772, "comment_id": 55959722, "body": "@GregoryNisbet IIRC, as soon as the main thread exits, the other ones are terminated. Adding explicit waits would prevent that."}], "tags": [], "owner": {"reputation": 1657, "user_id": 4183787, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XedpJ.png?s=128&g=1", "display_name": "zigazou", "link": "https://stackoverflow.com/users/4183787/zigazou"}, "is_accepted": true, "score": 3, "last_activity_date": 1449294659, "creation_date": 1449294659, "answer_id": 34101772, "question_id": 34101020, "link": "https://stackoverflow.com/questions/34101020/second-of-several-forked-processes-does-not-run-in-haskell-ghc-7-8-4/34101772#34101772", "title": "Second of several forked processes does not run in Haskell (GHC 7.8.4)", "body": "<p>I have been able to reproduce this with GHC 7.10.2.</p>\n\n<p>The Haskell and Perl versions are not strictly equivalent. The Perl version will create process after process, waiting the previous one to be launched (not finished).</p>\n\n<p>The Haskell version will create several threads, each one launching one process.</p>\n\n<p>Since you do not wait for your threads to finish launching their process, some threads will fail because your program ends too quickly. Thread execution in the Haskell runtime is not random, therefore your program will (generally) exhibit the same behavior again and again on your machine.</p>\n\n<p>You can also try to increase the number of processes to see what happens. With 14 processes, the 13th process is not launched (on my configuration).</p>\n\n<p>If you remove the <code>forkIO</code> call, your program will work just fine:</p>\n\n<pre><code>import System.Process (createProcess, proc, shell, CreateProcess)\nimport Text.Printf (printf, PrintfArg)\nimport Control.Monad (void)\n\nsleep :: Integer -&gt; CreateProcess\nsleep x = shell (printf \"sleep %d; echo %d\" x x)\n\nmain = foldr1 (&gt;&gt;)\n              [ void $ createProcess task\n              | task &lt;- fmap sleep [1..5]\n              ]\n</code></pre>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 34101772, "answer_count": 1, "score": 2, "last_activity_date": 1449294659, "creation_date": 1449287173, "last_edit_date": 1449290024, "question_id": 34101020, "link": "https://stackoverflow.com/questions/34101020/second-of-several-forked-processes-does-not-run-in-haskell-ghc-7-8-4", "title": "Second of several forked processes does not run in Haskell (GHC 7.8.4)", "body": "<p>I have a simple Haskell program that forks off several processes, each of which sleeps for a certain number of seconds and then echos. Regardless of how many processes I fork, the second one does not seem to output any visible content to the terminal.</p>\n\n<pre><code>import System.Process (createProcess, proc, shell, CreateProcess)\nimport Text.Printf (printf, PrintfArg)\nimport Control.Concurrent (forkIO)\nimport Control.Monad (void)\n\nsleep :: Integer -&gt; CreateProcess\nsleep x = shell (printf \"sleep %d; echo %d\" x x)\n-- sleep x = shell (printf \"sleep %d, echo %d, touch %d.haskell\" x x x)\n\nmain = foldr1 (&gt;&gt;) $ [\n  forkIO $ void $ createProcess task |\n  task &lt;- [ sleep 1, sleep 2, sleep 3, sleep 4, sleep 5] ]\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>./scheduler \nuser@name-of-computer $ 1\n3\n4\n5\n</code></pre>\n\n<p>And if you run it with the commented line instead of just printing, you can see</p>\n\n<pre><code>$ 1.haskell  4.haskell\n3.haskell  5.haskell\n</code></pre>\n\n<p>This behavior also seems to be specific to Haskell. Perl does not exhibit it.</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; 'all';\n\nsub sleep_echo {\n  my ($second_count) = @_;\n  my $cpid = fork;\n  if ($cpid == 0) {\n    exec \"sleep $second_count; echo $second_count\";\n  }\n}\n\nfor (my $i = 1; $i &lt;= 5; $i++) {\n  sleep_echo($i);\n}\n</code></pre>\n\n<p>prints </p>\n\n<pre><code>user@name-of-computer $ 1\n2\n3\n4\n5\n</code></pre>\n\n<p>Any ideas as to what's going on?</p>\n"}, {"tags": ["c++", "perl", "thrift"], "comments": [{"owner": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "edited": false, "score": 0, "creation_date": 1449311950, "post_id": 34100425, "comment_id": 55959038, "body": "&quot;<i>Could anybody tell me why I can&#39;t use &quot;optional&quot; before a list?</i>&quot; - sounds strange, indeed. Could you narrow it down to a more handy (i.e. much smaller) test case and file a JIRA ticket?"}, {"owner": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "edited": false, "score": 0, "creation_date": 1449313200, "post_id": 34100425, "comment_id": 55959388, "body": "Looks as if the <code>__isset.nBestAlignPairList</code> flag is not properly set in this case, but the structure member is present. Sounds like a bug to me. File a ticket. As a workaround, you could try to call <code>__set_nBestAlignPairList()</code> explicitly, which should set the flag."}, {"owner": {"reputation": 118, "user_id": 5641631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4af74aa5242dc635a1e1add9beedb63b?s=128&d=identicon&r=PG&f=1", "display_name": "YU Chang", "link": "https://stackoverflow.com/users/5641631/yu-chang"}, "reply_to_user": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "edited": false, "score": 0, "creation_date": 1449316263, "post_id": 34100425, "comment_id": 55960331, "body": "@JensG Thank you for your response! I have already commit a bug report to JIRA , an change to simple case to reproduce the problem: <a href=\"https://issues.apache.org/jira/browse/THRIFT-3473\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/THRIFT-3473</a>"}, {"owner": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "edited": false, "score": 0, "creation_date": 1450091103, "post_id": 34100425, "comment_id": 56271994, "body": "Anything wrong with my answer below?"}], "answers": [{"tags": [], "owner": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "is_accepted": true, "score": 6, "last_activity_date": 1449881430, "last_edit_date": 1449881430, "creation_date": 1449881128, "answer_id": 34234874, "question_id": 34100425, "link": "https://stackoverflow.com/questions/34100425/apache-thrift-when-use-optional-before-a-list-c-server-seems-not-to-return/34234874#34234874", "title": "Apache Thrift: When use &quot;optional&#39; before a list, C++ server seems not to return it correctly", "body": "<p>I was wrong, it is not a real bug, it is just some unfortunate design that is not really fool proof and allows the user to make Dumb Things\u2122. The problem lies in the semantics of the <code>optional</code> operator and how it is implemented for C++.</p>\n\n<p>Lets asssume we have this piece of IDL:</p>\n\n<pre><code>struct Xtruct2\n{\n  1: i8     byte_thing,  \n  2: Xtruct struct_thing,\n  3: i32    i32_thing\n}\n</code></pre>\n\n<p>The generated code, in particular the <code>write()</code> method, looks like this:    </p>\n\n<pre><code>uint32_t Xtruct2::write(::apache::thrift::protocol::TProtocol* oprot) const {\n  //...\n  xfer += oprot-&gt;writeFieldBegin(\"struct_thing\", ::apache::thrift::protocol::T_STRUCT, 2);\n  xfer += this-&gt;struct_thing.write(oprot);\n  xfer += oprot-&gt;writeFieldEnd();\n  //...\n}\n</code></pre>\n\n<p>If we now modify the IDL and add the <code>optional</code> specifier:</p>\n\n<pre><code>struct Xtruct2\n{\n  1: i8     byte_thing,  \n  2: optional Xtruct struct_thing,\n  3: i32    i32_thing\n}\n</code></pre>\n\n<p>The generated code looks slightly different:</p>\n\n<pre><code>uint32_t Xtruct2::write(::apache::thrift::protocol::TProtocol* oprot) const {\n  //...\n  if (this-&gt;__isset.struct_thing) {\n    xfer += oprot-&gt;writeFieldBegin(\"struct_thing\", ::apache::thrift::protocol::T_STRUCT, 2);\n    xfer += this-&gt;struct_thing.write(oprot);\n    xfer += oprot-&gt;writeFieldEnd();\n  }\n  //...\n}\n</code></pre>\n\n<p>Thrift has three kinds of requiredness: <code>required</code>, <code>optional</code> and default. The latter is assumed implicitly if neither <code>required</code> nor <code>optional</code> was specified (that's why there is no special keyword for default requiredness). The semantics vis-\u00e0-vis reading and writing those fields is as follows:</p>\n\n<pre><code>    requiredness        write field?        read field?         \n    ----------------------------------------------------------------------\n    required            always              always, must be present\n    (default)           always              if present, may be missing\n    optional            only if set         if present, may be missing\n</code></pre>\n\n<p>So what <code>optional</code> changes compared to the default is the behaviour of the write method. While a default field is always written, an <code>optional</code> field is only written <strong>conditionally</strong>. That is checked by means of the <code>__isset</code> flags, which consist of a bitset, one bit for each field that is not <code>required</code>. If the corresponding bit flag within <code>__isset</code> is set, the field value can be used. If the bit flag is not present, the field value has not been initialized and thus should not be used.</p>\n\n<p>So far this would not be a much of a problem. But there's a trap that you managed to hit: Default and <code>optional</code> fields can be accessed and used in C++ <strong>even if the bit flag is not set</strong> because they are just there. In case of default requiredness, this is not a big deal: You assign your values, and since the field is always written, basically nothing bad happens. The bit flag for the field is set when the field is deserialized (see generated code).</p>\n\n<p>However, things change when you opt-in to <code>optional</code>: Now all of a sudden <strong>you</strong> are responsible to set the flag properly, either by accessing <code>__isset</code> directly or by means of the generated setter method, in our case this one:</p>\n\n<pre><code>void Xtruct2::__set_struct_thing(const Xtruct&amp; val) {\n  this-&gt;struct_thing = val;\n__isset.struct_thing = true;\n}\n</code></pre>\n\n<p>My assumption was that it should not be possible to access an optional field that has not been set, but it turned out that this seems to be by design. I still think that the design is a bit too much error prone here.</p>\n"}], "owner": {"reputation": 118, "user_id": 5641631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4af74aa5242dc635a1e1add9beedb63b?s=128&d=identicon&r=PG&f=1", "display_name": "YU Chang", "link": "https://stackoverflow.com/users/5641631/yu-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2033, "favorite_count": 0, "accepted_answer_id": 34234874, "answer_count": 1, "score": 2, "last_activity_date": 1449881430, "creation_date": 1449280974, "last_edit_date": 1495535409, "question_id": 34100425, "link": "https://stackoverflow.com/questions/34100425/apache-thrift-when-use-optional-before-a-list-c-server-seems-not-to-return", "title": "Apache Thrift: When use &quot;optional&#39; before a list, C++ server seems not to return it correctly", "body": "<p><strong>Hi!</strong> every one, I have a problem similar with this one: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/18052957/regarding-thrift-function-return-list\">regarding thrift function return list</a> </p>\n\n<p>When a list has a \"optional\" modifier, the thrift C++ server will always return it as null/undef. </p>\n\n<p>Additionally, if a struct contained by a optional list, any of the struct's field, can't be set to \"optional\", or, a null/undef value will be returned.</p>\n\n<p>After deleting all the \"optional\" modifier, everything is OK. </p>\n\n<p>Could anybody tell me why I can't use \"optional\" before a list ?</p>\n\n<hr>\n\n<p>Here is the thrift file:</p>\n\n<pre><code>namespace cpp thrifttest\nnamespace perl thrifttest\n\nstruct Pair {\n    1: optional string a, \n    2: optional string b\n}\n\nstruct Result {\n    1: optional list&lt;string&gt; strList,\n    2: optional list&lt;Pair&gt; pairList\n}\n\nservice Test {\n\n    Result listTest()\n\n}\n</code></pre>\n\n<p>Here is the C++ code (server):</p>\n\n<pre><code>#include \"gen-cpp/Test.h\"\n#include &lt;thrift/protocol/TBinaryProtocol.h&gt;\n#include &lt;thrift/server/TSimpleServer.h&gt;\n#include &lt;thrift/transport/TServerSocket.h&gt;\n#include &lt;thrift/transport/TBufferTransports.h&gt;\n\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nusing namespace ::apache::thrift;\nusing namespace ::apache::thrift::protocol;\nusing namespace ::apache::thrift::transport;\nusing namespace ::apache::thrift::server;\n\nusing boost::shared_ptr;\n\nusing namespace  ::thrifttest;\n\nclass TestHandler : virtual public TestIf {\n    public:\n        TestHandler() {\n            // Your initialization goes here\n        }\n\n        void listTest(Result&amp; _return) {\n\n            _return.strList.push_back(\"Test\");\n            _return.strList.push_back(\"one level list\");\n            cout &lt;&lt; \"strList size: \" &lt;&lt; _return.strList.size() &lt;&lt; endl;\n\n            Pair pair;\n            pair.a = \"Test\";\n            pair.b = \"two level list\";\n            _return.pairList.push_back(pair);\n            cout &lt;&lt; \"pairList size: \" &lt;&lt; _return.pairList.size() &lt;&lt; endl;\n\n            printf(\"call listTest\\n\");\n        }\n\n};\n\nint main(int argc, char **argv) {\n    int port = 9595;\n    shared_ptr&lt;TestHandler&gt; handler(new TestHandler());\n    shared_ptr&lt;TProcessor&gt; processor(new TestProcessor(handler));\n    shared_ptr&lt;TServerTransport&gt; serverTransport(new TServerSocket(port));\n    shared_ptr&lt;TTransportFactory&gt; transportFactory(new TBufferedTransportFactory());\n    shared_ptr&lt;TProtocolFactory&gt; protocolFactory(new TBinaryProtocolFactory());\n\n    TSimpleServer server(processor, serverTransport, transportFactory, protocolFactory);\n    server.serve();\n    return 0;\n}\n</code></pre>\n\n<p>Here is the perl code (client):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse v5.12;\nuse warnings;\nuse autodie;\n\nuse utf8;\nuse Data::Dumper;\n\nuse lib 'gen-perl';\n\nuse thrifttest::Test;\nuse thrifttest::Constants;\nuse thrifttest::Types;\n\nuse Thrift;\nuse Thrift::BinaryProtocol;\nuse Thrift::Socket;\nuse Thrift::BufferedTransport;\n\n\nmy $socket    = new Thrift::Socket('localhost', 9595);\nmy $transport = new Thrift::BufferedTransport($socket, 1024, 1024);\nmy $protocol  = new Thrift::BinaryProtocol($transport);\nmy $client    = new thrifttest::TestClient($protocol);\n\n\neval {\n    $transport-&gt;open();\n    my $result = $client-&gt;listTest;\n    say Dumper($result);\n    $transport-&gt;close();\n};\nsay $@ if $@;\n</code></pre>\n\n<p>C++ server output:</p>\n\n<pre><code>strList size: 2\npairList size: 1\ncall listTest\n</code></pre>\n\n<p>perl client output:</p>\n\n<pre><code>$VAR1 = bless( {\n                 'pairList' =&gt; undef,\n                 'strList' =&gt; undef\n               }, 'thrifttest::Result' );\n</code></pre>\n\n<p>PS: My development environment is CentOS 7, GCC 4.8.3, Perl 5.16, thrift 0.9.3</p>\n"}, {"tags": ["linux", "multithreading", "perl"], "comments": [{"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1449280128, "post_id": 34100252, "comment_id": 55952578, "body": "I wasn&#39;t able to reproduce this problem in a test script. Is this the only place you&#39;re creating threads, or have you left something else out?"}, {"owner": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1449280575, "post_id": 34100252, "comment_id": 55952678, "body": "Yes this is the only place ."}, {"owner": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1449280844, "post_id": 34100252, "comment_id": 55952723, "body": "can you copy paste the script that is working fine for you ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449283498, "post_id": 34100252, "comment_id": 55953278, "body": "Unsurprisingly, I get <code>No such file or directory at a.pl line 2.</code> when I run your code. Please provide an actual demonstration of the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449283565, "post_id": 34100252, "comment_id": 55953290, "body": "Always use <code>use strict; use warnings qw( all );</code>!"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "edited": false, "score": 0, "creation_date": 1449504424, "post_id": 34100695, "comment_id": 56023726, "body": "Thanks for the help. I checked once of my functions have exit in it."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1449283860, "creation_date": 1449283860, "answer_id": 34100695, "question_id": 34100252, "link": "https://stackoverflow.com/questions/34100252/perl-exited-with-active-threads/34100695#34100695", "title": "Perl exited with active threads:", "body": "<pre><code>$_-&gt;join() for threads-&gt;list();\n</code></pre>\n\n<p>is a simple way of waiting for all threads to end, but your problem is far more likely to be that you don't actually reach the part of your code that reaps the threads. The most likely culprits are:</p>\n\n<ul>\n<li>Your main thread threw an uncaught exception.</li>\n<li>Your main thread or one of the other threads used <code>exit</code>.</li>\n</ul>\n"}], "owner": {"reputation": 175, "user_id": 3446491, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3518fa48e7ef4a9910883e5c0c355537?s=128&d=identicon&r=PG&f=1", "display_name": "Tajinder Singh", "link": "https://stackoverflow.com/users/3446491/tajinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1401, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449283860, "creation_date": 1449279286, "last_edit_date": 1449280690, "question_id": 34100252, "link": "https://stackoverflow.com/questions/34100252/perl-exited-with-active-threads", "title": "Perl exited with active threads:", "body": "<p>I have a Perl program. Everything is working fine, but I am seeing the errors below. I have also joined threads in the end, and tried checking <code>is_joinable</code>, but nothing is working. This error is not causing any issue at the moment but I want to fix it</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Perl exited with active threads:\n        6 running and unjoined\n        0 finished and unjoined\n        0 running and detached\n</code></pre>\n\n<h3>code</h3>\n\n<pre><code>my @threads;\nopen FILE, \"$inputCsv\" or die $!;\nmy @records = &lt;FILE&gt;;\n\nforeach $record ( @records ) {\n    @fields = split( /,/, $record );\n    $identityDomain = $fields[0];\n    push( @threads, threads-&gt;new( \\&amp;populateSubscriptionMap, $identityDomain ) );\n}\n\nforeach $thr ( @threads ) {\n    print \"threads - \" . $thr;\n    my %myhash = $thr-&gt;join();\n}\n</code></pre>\n\n<p>I have spent almost 3 hours on this and tried various things. I would appreciate if someone can take a look and help me out. </p>\n"}, {"tags": ["php", "perl", "encryption", "php-7"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449293046, "post_id": 34099844, "comment_id": 55954981, "body": "By the way, using a constant IV is not as good as using a random one."}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449332657, "post_id": 34099844, "comment_id": 55965471, "body": "ikegami---thanks for the answer.  mcrypt_decrypt(MCRYPT_BLOWFISH, $key, base64_decode($v), &quot;cbc&quot;, &#39;12345678&#39;)) is a good substitute.  can you answer the question, please, so that I can mark it as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1449347050, "creation_date": 1449347050, "answer_id": 34110437, "question_id": 34099844, "link": "https://stackoverflow.com/questions/34099844/php-perl-cross-platform-encoder-decoder/34110437#34110437", "title": "php perl cross-platform encoder/decoder", "body": "<p>The docs point out you should use <code>mcrypt_decrypt</code> instead. It appears PHP is phasing out <code>mcrypt_cbc</code> in favour of a more generic interface. The following provides the same functionality:</p>\n\n<pre><code>mcrypt_decrypt(MCRYPT_BLOWFISH, $key, base64_decode($cipher_base64), MCRYPT_MODE_CBC, $iv)\n</code></pre>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 34110437, "answer_count": 1, "score": 0, "last_activity_date": 1449347050, "creation_date": 1449276072, "last_edit_date": 1449284266, "question_id": 34099844, "link": "https://stackoverflow.com/questions/34099844/php-perl-cross-platform-encoder-decoder", "title": "php perl cross-platform encoder/decoder", "body": "<p>it used to be that the perl encoder</p>\n\n<pre><code>use Crypt::CBC;\n$cipher= Crypt::CBC-&gt;new( {'key' =&gt; $cipherkey,\n             'cipher'=&gt; 'Blowfish',\n             'iv' =&gt; '12345678',\n             'regenerate_key' =&gt; 0,\n             'padding' =&gt; 'null',\n             'prepend_iv' =&gt; 0\n            });\n</code></pre>\n\n<p>could be nicely decrypted by the php function</p>\n\n<pre><code>mcrypt_cbc(MCRYPT_BLOWFISH, $key, base64_decode($v), MCRYPT_DECRYPT, '12345678')\n</code></pre>\n\n<p>alas, mcrypt_cbc is not only deprecated now, it also disappeared from php7 altogether.</p>\n\n<p>is there a recommended encoder in perl that the standard new php decoder mcrypt_encrypt works with?</p>\n\n<p>for my purposes, I do not need to be super-secret.  reasonably secret is ok.  no life-or-death secrets.  if it takes half an hour to decode, it's good enough.  ideally, I would use whatever the canonical security encoder decoder is (as long as they are compatible, of course).</p>\n\n<p>advice appreciated.</p>\n"}, {"tags": ["html", "perl", "websocket", "mojolicious"], "comments": [{"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 3, "creation_date": 1449268203, "post_id": 34097859, "comment_id": 55949213, "body": "Is your &quot;long running operation&quot; blocking the server&#39;s ioloop? That would certainly cause the observed behavior. I can&#39;t comment further without seeing more code."}, {"owner": {"reputation": 126, "user_id": 222213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c99660da82e80c4a4c6ebd659687?s=128&d=identicon&r=PG", "display_name": "alexandrmoroz", "link": "https://stackoverflow.com/users/222213/alexandrmoroz"}, "reply_to_user": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1449304112, "post_id": 34097859, "comment_id": 55957162, "body": "@Joel Berger, there is about 3k lines code of server logic and its very similar to short example above. Yes, that operation is blocking ioloop. I didn&#39;t find the way to &quot;process events&quot; (like in Qt). I tried use Mojo::IOLoop timer and threads to sending websocket messages, but no luck."}, {"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "edited": false, "score": 1, "creation_date": 1449311876, "post_id": 34097859, "comment_id": 55959014, "body": "Consider moving the long computation to a separate thread or (even better) break it down to a number of tasks and callbacks, allowing for the native reactor / event handler to manage concurrency and send/receive IO data."}], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 222213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c99660da82e80c4a4c6ebd659687?s=128&d=identicon&r=PG", "display_name": "alexandrmoroz", "link": "https://stackoverflow.com/users/222213/alexandrmoroz"}, "edited": false, "score": 0, "creation_date": 1449529294, "post_id": 34112197, "comment_id": 56037919, "body": "Thanks for solution. I tried ForkCall. I want to send websocket message in &quot;background&quot; and big logic \u2014 in main thread, not vice versa. I tried send websocket message in ForkCall (ws setup still in main thread), but it don&#39;t sending at all."}, {"owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "reply_to_user": {"reputation": 126, "user_id": 222213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c99660da82e80c4a4c6ebd659687?s=128&d=identicon&r=PG", "display_name": "alexandrmoroz", "link": "https://stackoverflow.com/users/222213/alexandrmoroz"}, "edited": false, "score": 0, "creation_date": 1449648541, "post_id": 34112197, "comment_id": 56094103, "body": "I can&#39;t understand why this not working for you. I update answer to combine Mojo::IOLoop::Delay with Mojo::IOLoop::ForkCall."}, {"owner": {"reputation": 126, "user_id": 222213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c99660da82e80c4a4c6ebd659687?s=128&d=identicon&r=PG", "display_name": "alexandrmoroz", "link": "https://stackoverflow.com/users/222213/alexandrmoroz"}, "edited": false, "score": 0, "creation_date": 1449664670, "post_id": 34112197, "comment_id": 56104239, "body": "\u043e\u043a, I&#39;ll try it. I accept your answer If this solution will be better than mine."}], "tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": false, "score": 3, "last_activity_date": 1449648750, "last_edit_date": 1449648750, "creation_date": 1449358310, "answer_id": 34112197, "question_id": 34097859, "link": "https://stackoverflow.com/questions/34097859/how-to-send-websocket-events-from-blocking-operation-design-advice-needed/34112197#34112197", "title": "How to send WebSocket events from blocking operation? (Design advice needed)", "body": "<p><a href=\"https://gist.github.com/Logioniz/a46b4b6420254398712b\" rel=\"nofollow\">There is</a> two example how to make it using one of two modules:</p>\n\n<ol>\n<li><a href=\"https://metacpan.org/pod/Mojo::IOLoop::ReadWriteFork\" rel=\"nofollow\">Mojo::IOLoop::ReadWriteFork</a></li>\n<li><a href=\"https://metacpan.org/pod/Mojo::IOLoop::ForkCall\" rel=\"nofollow\">Mojo::IOLoop::ForkCall</a></li>\n</ol>\n\n<p>To run it execute command:<br>\n<code>perl perl_ws_long_blocking_operation.pl daemon</code></p>\n\n<p><strong>Upd.</strong>\nIf you have many long blocking operations you should use <code>Mojo::IOLoop::Delay</code>:  </p>\n\n<p><a href=\"https://gist.github.com/Logioniz/f94921ddc33d6a9b6605\" rel=\"nofollow\">Example of many long blocking operation</a></p>\n\n<p>To run it execute command:</p>\n\n<pre><code>morbo perl_ws_many_long_blocking_operations.pl\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 2, "creation_date": 1449514828, "post_id": 34123782, "comment_id": 56030284, "body": "This will work until your your hypnotoad workers start to die off due to lack of heartbeat"}, {"owner": {"reputation": 126, "user_id": 222213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c99660da82e80c4a4c6ebd659687?s=128&d=identicon&r=PG", "display_name": "alexandrmoroz", "link": "https://stackoverflow.com/users/222213/alexandrmoroz"}, "reply_to_user": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "edited": false, "score": 0, "creation_date": 1449528786, "post_id": 34123782, "comment_id": 56037719, "body": "@JoelBerger, thanks for your warning, but it doesn&#39;t solve this problem :) What about other web servers with websockets support? Same bad thing? Where I can find more information about how all of this works under-hood? (IOLoop + WebSocket + Webserver (hypnotoad, daemon, mod_perl...)"}], "tags": [], "owner": {"reputation": 126, "user_id": 222213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c99660da82e80c4a4c6ebd659687?s=128&d=identicon&r=PG", "display_name": "alexandrmoroz", "link": "https://stackoverflow.com/users/222213/alexandrmoroz"}, "is_accepted": true, "score": 0, "last_activity_date": 1449664814, "last_edit_date": 1449664814, "creation_date": 1449441830, "answer_id": 34123782, "question_id": 34097859, "link": "https://stackoverflow.com/questions/34097859/how-to-send-websocket-events-from-blocking-operation-design-advice-needed/34123782#34123782", "title": "How to send WebSocket events from blocking operation? (Design advice needed)", "body": "<p>I found this works for me: <strong>Mojo::IOLoop->one_tick;</strong></p>\n\n<pre><code>some_computation1();\n$web_socket-&gt;send('computation1 end');\nMojo::IOLoop-&gt;one_tick;\n</code></pre>\n\n<p>UPD: or may be it will be better to separate long operation in background thread ('fork' or 'delay').</p>\n"}], "owner": {"reputation": 126, "user_id": 222213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c99660da82e80c4a4c6ebd659687?s=128&d=identicon&r=PG", "display_name": "alexandrmoroz", "link": "https://stackoverflow.com/users/222213/alexandrmoroz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 1, "accepted_answer_id": 34123782, "answer_count": 2, "score": 2, "last_activity_date": 1449664814, "creation_date": 1449264946, "last_edit_date": 1449330428, "question_id": 34097859, "link": "https://stackoverflow.com/questions/34097859/how-to-send-websocket-events-from-blocking-operation-design-advice-needed", "title": "How to send WebSocket events from blocking operation? (Design advice needed)", "body": "<p>I use Mojolicious WebSocket to establish server-client messaging protocol.</p>\n\n<p>There is long-time operation on server and I want update its progress on client-side.</p>\n\n<p>In several points on server-side code I call <code>$web_socket-&gt;send(...)</code> and process it on client-side <code>ws.onmessage = function (event) {...};</code></p>\n\n<p>Everything work fine, but not in realtime: all messages has received by client at one big bulk list and only after whole server-side script has finished.</p>\n\n<p>Server-side logic:</p>\n\n<pre><code>some_computation1();\n$web_socket-&gt;send('computation1 end');\n...\nsome_computation15();\n$web_socket-&gt;send('computation15 end');\n...\nsome_computation100();\n$web_socket-&gt;send('computation100 end. All ok!');\n</code></pre>\n\n<p>Client-side:</p>\n\n<pre><code>ws = new WebSocket(url);\nws.onmessage = function (event) {\n    $('#log_view').append('&lt;p&gt;' + event.data + '&lt;/p&gt;');\n};\nws.onopen = function (event) {\n    ... \n};\nws.onclose = function (event) {\n    ...\n};\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 808, "user_id": 462234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Or0en.png?s=128&g=1", "display_name": "marklark", "link": "https://stackoverflow.com/users/462234/marklark"}, "edited": false, "score": 0, "creation_date": 1449264964, "post_id": 34097637, "comment_id": 55947775, "body": "You might &quot;defang&quot; your regex, too..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1449265907, "post_id": 34097637, "comment_id": 55948209, "body": "Why do you need the start and end anchors in the regex? Also, the print statement might be better as <code>print &quot;Match found, the following PCRE matches the url : \\n&quot;;</code>"}, {"owner": {"reputation": 181, "user_id": 2943594, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3f87f48eaac6a99d9dcdb62e017a2dad?s=128&d=identicon&r=PG&f=1", "display_name": "Arvandor", "link": "https://stackoverflow.com/users/2943594/arvandor"}, "edited": false, "score": 0, "creation_date": 1449267333, "post_id": 34097637, "comment_id": 55948878, "body": "@sln: I might not need the anchors, I&#39;m new to perl as of this week, so I know VERY little."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1449282530, "post_id": 34097637, "comment_id": 55953078, "body": "You really shouldn&#39;t explicitly assign to <code>$_</code>. In general it&#39;s not good if it appears in your code at all but sometimes it&#39;s unavoidable, but you should always assign it using <code>for</code> or <code>while</code> Also, your suggestion that the URL may need wrapping in quotes is wrong: if the URL contains whitespace then it&#39;s an invalid URL"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 2943594, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3f87f48eaac6a99d9dcdb62e017a2dad?s=128&d=identicon&r=PG&f=1", "display_name": "Arvandor", "link": "https://stackoverflow.com/users/2943594/arvandor"}, "edited": false, "score": 2, "creation_date": 1449265074, "post_id": 34097839, "comment_id": 55947823, "body": "Oh duh... So simple, and mentioned so frequently as a &quot;newbie perl mistake&quot; haha. That stupid newline, first ruining my echo &quot; &quot; | md5sum, and now this =P That did in fact fix it, thank you."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 3, "last_activity_date": 1449264817, "creation_date": 1449264817, "answer_id": 34097839, "question_id": 34097637, "link": "https://stackoverflow.com/questions/34097637/why-is-this-regex-logic-failing/34097839#34097839", "title": "Why is this regex logic failing?", "body": "<p>Your pattern is actually <code>/^...$\\n/</code> because you read it from a file and it contains a newline character. You need to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\"><code>chomp</code></a> the line before interpolating it into the match operator:</p>\n\n<pre><code>while (my $line = &lt;$info&gt;) {\n    chomp($line);\n\n    if (/$line/) {\n        ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 2943594, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3f87f48eaac6a99d9dcdb62e017a2dad?s=128&d=identicon&r=PG&f=1", "display_name": "Arvandor", "link": "https://stackoverflow.com/users/2943594/arvandor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 34097839, "answer_count": 1, "score": 0, "last_activity_date": 1449264817, "creation_date": 1449263934, "question_id": 34097637, "link": "https://stackoverflow.com/questions/34097637/why-is-this-regex-logic-failing", "title": "Why is this regex logic failing?", "body": "<p>I'm trying to build a quick script that will take a url, and check it against a list of PCREs to see if there's a match. However, it doesn't seem to be working. I've tried printing everything to make sure it's output the way I want (including the ARGV[0], passing it with single quotes appears to keep all the characters in tact). But it's still not working.</p>\n\n<p>This is the script</p>\n\n<pre><code>#!/usr/bin/perl                                                                                             \n\nuse strict;\nuse warnings;\n\nif (not($ARGV[0])) {\n    die \"Useage: checkurl.pl \\\"&lt;url&gt;\\\"\";\n}\n\nif ($ARGV[1]) {\n    die \"Too many command line arguments, try checkurl.pl \\\"&lt;url&gt;\\\"\";\n}\n\n$_ = $ARGV[0];\nprint \"$_\\n\";\nmy $file = \"pcre.txt\";\n\nopen my $info, $file or die \"Could not open $file: $!\";\n\nwhile( my $line = &lt;$info&gt;) {\n    if (/$line/) {\n        print \"Match found, the url matches the following PCRE: \\n\";\n        print \"$line\\n\";\n    }\n}\n</code></pre>\n\n<p>This is the test URL (warning, this was an actual Angler EK link, I've defanged it, just in case it's still live, so you have to fix it to properly check the PCRE)</p>\n\n<pre><code>hxxp://nosprivsliikeradan.pfgfoxriver-localguide2[.]com/boards/viewforum.php?f=5x827&amp;sid=7q0as14.5i4x8\n</code></pre>\n\n<p>This is the PCRE in the pcre.txt file that matches the above URL</p>\n\n<pre><code>^http:\\/\\/(?!www|forums?)[^\\.]+\\.[^\\.]+\\.(?:[^\\.\\x2f]+?|[^\\.]+\\.[^\\.]{2})\\/[a-z]+\\/?view(?:forum|topic)\\.php\\?[a-z]=(?=[^\\n]{0,64}\\.)[0-9a-z\\.]{1,6}(?:&amp;[a-z0-9]*=[0-9a-z\\.]*){1,2}$\n</code></pre>\n"}, {"tags": ["perl", "configuration", "module"], "answers": [{"tags": [], "owner": {"reputation": 6592, "user_id": 3005251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5331f7e467aae3d581fe8bc814ef572?s=128&d=identicon&r=PG", "display_name": "bolav", "link": "https://stackoverflow.com/users/3005251/bolav"}, "is_accepted": true, "score": 2, "last_activity_date": 1449318444, "creation_date": 1449318444, "answer_id": 34104896, "question_id": 34097101, "link": "https://stackoverflow.com/questions/34097101/allowing-changing-location-perl-modules-are-loaded-from-with-configuration-argum/34104896#34104896", "title": "Allowing changing location perl modules are loaded from with configuration argument", "body": "<p>If you want to give the configuration file as the first parameter you can do something like this:</p>\n\n<p>Main script:</p>\n\n<pre><code>  #!perl\n\n  BEGIN {\n    use Configuration;\n  }\n\n  use Module::Foo;\n  ... rest of script ...\n</code></pre>\n\n<p>Configuration.pm:</p>\n\n<pre><code>  package Configuration;\n\n  load_config_file($ARGV[0] || 'default/file/location');\n\n  sub load_config_file($){\n\n     $config_data_from_file = read_file(@_[0]);\n\n     $script_directory = $config_data_from_file;\n     push @INC, $script_directory;\n\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "is_accepted": false, "score": 0, "last_activity_date": 1449601977, "creation_date": 1449601977, "answer_id": 34164095, "question_id": 34097101, "link": "https://stackoverflow.com/questions/34097101/allowing-changing-location-perl-modules-are-loaded-from-with-configuration-argum/34164095#34164095", "title": "Allowing changing location perl modules are loaded from with configuration argument", "body": "<p>My solution in general was to look for my -f argument for a configuration file in my configuration.pm as soon as it is loaded and load the configuration file if possible then, while leaving the @ARGV variable untouched so that others could still parse it.  This means we end up parsing command line args twice (actually 3 times), but that doesn't do any real harm.  I am enforcing the -f argument being predefined in any module that uses my configuration.pm, and sort of require configuration.pm to be the very first module we include, but I consider that a minor expense.  Anyone using our configuration.pm file for configuration arguments should desire that behavior.</p>\n\n<p>I found AppConfig was the best module for handling this.  My solution could be done without it, but AppConfig made it cleaner because it combined means of loading variables from config file and command line.  in fact I, by pure accident, ended up adding the ability to modify any single variable directly from the command line if they choose the way I did it.</p>\n\n<p>My configuration.pm looks something like hits (rewriting this from memory, not exact)</p>\n\n<pre><code>$conf = AppConfig -&gt; new({ \n          GLOBAL=&gt; {\n                EXPAND =&gt; AppConfig::Expand_Var,\n                ARGCOUNT =&gt; AppConfig::ARGCOUNT_ONE\n        }})\n\n$conf.define(\"script_dir\", {DEFAULT = \"/default/location\"});\n$conf-&gt;define(\"f\", {ALIAS =\"file|conf_file\"});\n...other defines here\n\n#read config file if -f arg exists\nparse_commandline_args();\n$conf-&gt;file($conf-&gt;conf_file()) if defined $conf-&gt;conf_file()\n\n#reread command line so that arguments on it override those in conf file\nparse_commandline_args();\n\n#at this point script_dir should be correct so safely include it.\npush @INC $conf-&gt;script_dir();\n\nsub parse_commandline_args(){\n\n   $copy_of_args = [@ARGV];\n   $conf-&gt;args($copy_of_args);\n}\n</code></pre>\n\n<p>My main.pl is practically untouched.  I use configuration.pm near the top of the module and everything else just works.  I still need to go through and redefine all the scripts that Use a script to require it instead so that configuration.pm has time to update the INC before it runs, but other then that the rest just works.  Anywhere I want to use content from the configuration file I now just can $conf->variable()</p>\n\n<p>The parse_commandline_args is important.  just using $conf->args() will erase the content of @ARGV, making them unavailable for later modules, like my main.pl.  By copying the array first we leave the original @ARGV untouched for later use.</p>\n\n<p>Not sure if I would recommend this from scratch, feels wrong the way configuration.pm is automagically doing everything, but for updating our ugly prototype to function long enough to maintain it until were funded to write the <em>proper</em> version, which I will not be doing in perl, it will do.</p>\n"}], "owner": {"reputation": 5479, "user_id": 897272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efdd0371ee7b983ab3b858ea92653aeb?s=128&d=identicon&r=PG", "display_name": "dsollen", "link": "https://stackoverflow.com/users/897272/dsollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 34104896, "answer_count": 2, "score": 0, "last_activity_date": 1449601977, "creation_date": 1449261887, "question_id": 34097101, "link": "https://stackoverflow.com/questions/34097101/allowing-changing-location-perl-modules-are-loaded-from-with-configuration-argum", "title": "Allowing changing location perl modules are loaded from with configuration argument", "body": "<p>I currently have a mess of Perl code that includes something like a configuration.pm file that exports a large number of variables that other modules are using.  The same module uses at least one module, call it Foo, which we wrote in some of the helper methods provided by the configuration.pm (they should be in a different module, but not ready to change this yet).</p>\n\n<p>Currently it loads the module with something like this right near the top of the file:</p>\n\n<pre><code>Begin{ push @INC, 'hard/coded/directory'}\nuse Module::Foo;\n</code></pre>\n\n<p>I'm trying to get rid of this hard coded directory.  I've already added a default configuration file for it to read data from.  I moved the import down some and replaced the use with a require, something like this...</p>\n\n<pre><code>$script_directory = $config_data_from_file{'script_directory'};\npush @inc, $script_directory;\nrequire Module::Foo;\n</code></pre>\n\n<p>However, I want to add a  command line argument to Main.pl to point to a different configuration file if I don't want to use the default one.  My problem is that all the other modules expect configuration.pm to have loaded configuration data and required foo as soon as they include it.  So I can't have configuration.pm wait to initialize until main.pl is ready.  The closest I can come up with is something like this:</p>\n\n<pre><code>package Configuration;\n\nload_config_file('default/file/location');\n\nsub load_config_file($){\n\n   $config_data_from_file = read_file(@_[0]);\n\n   $script_directory = $config_data_from_file{'script_directory'};\n   push @inc, $script_directory;\n   require Module::Foo;\n\n  #load the rest\n}\n</code></pre>\n\n<p>and have Main.pl recall the load_config_file if a command line option changes the configuration file.  </p>\n\n<p>But this is a problem for two reasons.  First, if my default script location doesn't exist I still explode when I try to do the first import.  Second, I'm requiring Foo twice, overwriting it, which could lead to issues if there are difference between the files.  For that matter adding the default script_directory to @INC should be avoided.</p>\n\n<p>There are a few ways to fix the problem I could see.  A way to more cleanly load different versions of a module to replace the old one, a way to make Foo delay it's attempt to load until the first time it's used in the file, or a way to delay the $load_config_file method until after I read the configuration file for example.  However, as a perl newbie I don't know how to do any of them, and haven't had much luck finding out how online.</p>\n\n<p>I actually can do this now, with a fragile order of loading data that makes presumptions or by skipping ahead to a more through refactor of dozens of scripts to implement the long term solution sooner (but I'm really afraid to touch that much code before I have a way to test the code on my computer).  However, I'm asking partially in hopes of learning more features of Perl I may find useful later; how would this be solved if I couldn't do the refactoring?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1449253828, "post_id": 34095054, "comment_id": 55942408, "body": "Turn on <code>use strict;</code> <code>use warnings;</code> and <code>use autodie;</code> - the latter will generate an error if your <code>open</code> fails. At a guess, permissions denied."}, {"owner": {"reputation": 11, "user_id": 5621405, "user_type": "registered", "profile_image": "https://graph.facebook.com/1645110452415392/picture?type=large", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0422\u0430\u0432\u043e\u043b\u0436\u0430\u043d\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5621405/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%a2%d0%b0%d0%b2%d0%be%d0%bb%d0%b6%d0%b0%d0%bd%d1%81%d0%ba%d0%b8%d0%b9"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449254878, "post_id": 34095054, "comment_id": 55942905, "body": "use strict; did not help. Errors as the original with old_ip, but it works in the original"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449255774, "post_id": 34095054, "comment_id": 55943395, "body": "what does the <code>addr</code> command return?"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 2, "creation_date": 1449258451, "post_id": 34095054, "comment_id": 55944872, "body": "please don&#39;t tag a Q that is all <code>perl</code> code with <code>bash</code>. Good luck."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 5102552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1213688185324421/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/5102552/andy"}, "is_accepted": false, "score": 2, "last_activity_date": 1449257310, "creation_date": 1449257310, "answer_id": 34096007, "question_id": 34095054, "link": "https://stackoverflow.com/questions/34095054/what-is-wrong-in-my-script-tell-me-please/34096007#34096007", "title": "What is wrong in my script, tell me please", "body": "<p>It's not working because of this:</p>\n\n<pre><code>my $routeraddress = `addr admin:Tavolzhansky@192.168.1.1/RST_conn_status.htm`;\nif ($routeraddress =~ /var info_get_wanip=\"((\\d+\\.){3}(\\d+))\"/) {\n    ...\n}\n</code></pre>\n\n<p>Try adding a couple debug prints to confirm like:</p>\n\n<pre><code>my $routeraddress = `addr admin:Tavolzhansky@192.168.1.1/RST_conn_status.htm`;\nprint \"Router IP = $routeraddress/n\";\n\nif ($routeraddress =~ /var info_get_wanip=\"((\\d+\\.){3}(\\d+))\"/) {\n    ...\n} else {\n    print \"Router address didn't match.\\n\";\n}\n</code></pre>\n\n<p>You should use the strict and warning pragmas, but as you said this worked when you were getting your IP from a different source, the rest of the code will work.</p>\n\n<p>I'm guessing you're reading an HTML page and expecting to see this string somewhere:</p>\n\n<pre><code>var info_get_wanip=\"xxx.xxx.xxx.xxx\";\n</code></pre>\n\n<p>However, you need to confirm if $routeraddress is actually getting that, it looks like </p>\n\n<pre><code>my $routeraddress = `addr admin:Tavolzhansky@192.168.1.1/RST_conn_status.htm`;\n</code></pre>\n\n<p>Is just essentially making a get request for the page, but isn't returning \"var info_get_wanip=\"xxx.xxx.xxx.xxx\";\". If you sort the assignment of the variable $routeraddress, then it'll work.</p>\n\n<p>I can't say how, as I don't know what it's returning now.</p>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1449258164, "post_id": 34096161, "comment_id": 55944720, "body": "Fun fact: <code>@192</code> is a valid array identifier in Perl, and like <code>@ARGV</code>, <code>%SIG</code>, or <code>%ENV</code>, is always interpreted to be in the <code>main</code> package. It cannot be given a lexical scope with <code>my</code>."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 7, "last_activity_date": 1449265183, "last_edit_date": 1449265183, "creation_date": 1449257949, "answer_id": 34096161, "question_id": 34095054, "link": "https://stackoverflow.com/questions/34095054/what-is-wrong-in-my-script-tell-me-please/34096161#34096161", "title": "What is wrong in my script, tell me please", "body": "<pre><code>$ perl -cw -e 'print `addr admin:foo@192.168.1.1/bar`'\nPossible unintended interpolation of @192 in string at -e line 1.\n-e syntax OK\n</code></pre>\n\n<p>It doesn't work because <code>@192</code> is interpolated as an array, and you are running the command <code>addr admin:Tavolzhansky.168.1.1/RST_conn_status.htm</code> instead of the command you meant to.</p>\n\n<p>This would have been very easy to spot and fix if you would <code>use warnings</code>, if you would step through the code with the debugger, or as Andy suggests, if you would examine return values.</p>\n\n<hr>\n\n<p>To get <code>@192</code> to not be interpolated, escape the <code>@</code>:</p>\n\n<pre><code>my $routeraddress = `addr admin:Tavolzhansky\\@192.168.1.1/RST_conn_status.htm`;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5621405, "user_type": "registered", "profile_image": "https://graph.facebook.com/1645110452415392/picture?type=large", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0422\u0430\u0432\u043e\u043b\u0436\u0430\u043d\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5621405/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%a2%d0%b0%d0%b2%d0%be%d0%bb%d0%b6%d0%b0%d0%bd%d1%81%d0%ba%d0%b8%d0%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": -6, "last_activity_date": 1449265183, "creation_date": 1449253656, "last_edit_date": 1449259503, "question_id": 34095054, "link": "https://stackoverflow.com/questions/34095054/what-is-wrong-in-my-script-tell-me-please", "title": "What is wrong in my script, tell me please", "body": "<p>I need that scipt enter in my router on page and find the code and compared with earlier this IP information recorded, and if not changed, then stop the script.</p>\n\n<p>I run this script - $ perl ~/test.pl</p>\n\n<p>no error, but file my_ip.txt is not created.</p>\n\n<p>In originals script must check my ip through host example.dyndns.org, but my ip is gray.</p>\n\n<p>So I need to be determined through a router</p>\n\n<pre><code>#!/usr/bin/perl\n\n    use LWP::UserAgent;\n\nmy $routeraddress = `addr admin:Tavolzhansky@192.168.1.1/RST_conn_status.htm`;\nif ($routeraddress =~ /var info_get_wanip=\"((\\d+\\.){3}(\\d+))\"/) {\n\n  my $ip = \"$1.$2.$3.$4\";\n\n   #\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e:\n  open (FILE,\"my_ip.txt\");\n  my @lines = &lt;FILE&gt;;\n  $old_ip = $lines[0]; #\u0421\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u043c IP \u0438\u0437 \u0444\u0430\u0439\u043b\u0430\n  $old_ip =~ s/^\\s+|\\s+$//g; #trim\n  close(FILE);\n  if ($old_ip eq $ip) {\n    die \"IP not changed\"; # \u0412\u044b\u0445\u043e\u0434\u0438\u043c \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u0435\u0441\u043b\u0438 IP \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f\n  }\n  open (FILE,\"&gt;my_ip.txt\");\n  print FILE $ip; # \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0432 \u0444\u0430\u0439\u043b \u043d\u043e\u0432\u044b\u0439 IP\n  close(FILE);\n...... (this code is OK)\n}\n</code></pre>\n\n<p>Do not bring the end of the code because the problem by connecting to the router</p>\n"}, {"tags": ["mysql", "database", "perl"], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 164334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9301e0696230863829190c3541cb8164?s=128&d=identicon&r=PG", "display_name": "lee", "link": "https://stackoverflow.com/users/164334/lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1449252240, "creation_date": 1449252240, "answer_id": 34094627, "question_id": 34094372, "link": "https://stackoverflow.com/questions/34094372/mysql-and-queries-performance/34094627#34094627", "title": "MySQL and queries performance", "body": "<p>5000 queries into a database shouldn't be a performance bottleneck. You're fine. You can always benchmark a read-only run.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 1438087, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/79af03a314d8a2bca111b2737b33f8ac?s=128&d=identicon&r=PG", "display_name": "eherr9633", "link": "https://stackoverflow.com/users/1438087/eherr9633"}, "edited": false, "score": 0, "creation_date": 1449252669, "post_id": 34094639, "comment_id": 55941766, "body": "yeah it was a typo in the update, I was trying to get across 5000 rapid updates. I will edit that accordingly."}, {"owner": {"reputation": 47, "user_id": 1438087, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/79af03a314d8a2bca111b2737b33f8ac?s=128&d=identicon&r=PG", "display_name": "eherr9633", "link": "https://stackoverflow.com/users/1438087/eherr9633"}, "edited": false, "score": 0, "creation_date": 1449252761, "post_id": 34094639, "comment_id": 55941817, "body": "insert ignore is used with a unique key in the table already so instead of insert.. on duplicate UPDATE, I went with the INSERT IGNORE"}, {"owner": {"reputation": 47, "user_id": 1438087, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/79af03a314d8a2bca111b2737b33f8ac?s=128&d=identicon&r=PG", "display_name": "eherr9633", "link": "https://stackoverflow.com/users/1438087/eherr9633"}, "edited": false, "score": 0, "creation_date": 1449252869, "post_id": 34094639, "comment_id": 55941879, "body": "Note taken for the general comments for future applications, however in this particular case, my DB is very minimal and does not contain Foreign Keys or any relations in said environment. It merely stores username, IP address, and status for a specific application with the username being the unique key"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449253569, "post_id": 34094639, "comment_id": 55942252, "body": "Might want to add that if using <code>prepare</code>, it should be called before the loop. Although on second thought, the OP didn&#39;t mention DBI, so maybe they&#39;re not even aware of it."}, {"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1449253669, "post_id": 34094639, "comment_id": 55942311, "body": "hey @ThisSuitIsBlackNot &quot;I like !!&quot;"}, {"owner": {"reputation": 47, "user_id": 1438087, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/79af03a314d8a2bca111b2737b33f8ac?s=128&d=identicon&r=PG", "display_name": "eherr9633", "link": "https://stackoverflow.com/users/1438087/eherr9633"}, "edited": false, "score": 0, "creation_date": 1449254845, "post_id": 34094639, "comment_id": 55942889, "body": "` my $sql = &quot;                                 INSERT IGNORE INTO &lt;table&gt;                                         ( username, ip, status )                                 VALUES                                         ( &#39;$UN[0]&#39;, &#39;$HOST&#39;, &#39;$STATUS&#39; )&quot;;                  my $sth = $dbh-&gt;prepare( $sql );                  $sth-&gt;execute or die &quot;SQL ERROR: $DBI::errstr\\n&quot;;"}, {"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 0, "creation_date": 1449254874, "post_id": 34094639, "comment_id": 55942903, "body": "<a href=\"http://rio.murmansk.ru/doc_/dbi/ch05_03.htm\" rel=\"nofollow noreferrer\">Programming Perl with DBI</a>, in particular Binding Parameters to Statements"}, {"owner": {"reputation": 47, "user_id": 1438087, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/79af03a314d8a2bca111b2737b33f8ac?s=128&d=identicon&r=PG", "display_name": "eherr9633", "link": "https://stackoverflow.com/users/1438087/eherr9633"}, "edited": false, "score": 0, "creation_date": 1449255955, "post_id": 34094639, "comment_id": 55943507, "body": "so with the bind_param, are you saying to through the sql statement in the prepare clause outside the foreach loop and then inside the loop construct all the $sth-&gt;bind_param($UN[0], $HOST, $STATUS) and then outside the foreach loop issue one $sth-&gt;execute() ?"}, {"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449256210, "post_id": 34094639, "comment_id": 55943632, "body": "I see that @ThisSuitIsBlackNot is a perl guy. He is best to answer that one. I just gave a link to read about. Would have to do with a re-used <code>prepare</code>, that does not have to re-endure the prepare overhead inside of a loop, but rather just the bind part inside a loop"}], "tags": [], "owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "is_accepted": false, "score": 3, "last_activity_date": 1449253630, "last_edit_date": 1495541713, "creation_date": 1449252268, "answer_id": 34094639, "question_id": 34094372, "link": "https://stackoverflow.com/questions/34094372/mysql-and-queries-performance/34094639#34094639", "title": "MySQL and queries performance", "body": "<p>As for inserts in rapid succession, not a problem. The server is tailored to handle that. </p>\n\n<p>Caution should be taken with insert <code>ignore</code> for other reasons though, such as program logic that should address failure that otherwise would not be able to address a failure you just ignored.</p>\n\n<p>As for your particular update you showed, that does not make a ton of sense in a loop (or perhaps at all) because you are not specifying a <code>where</code> clause. Meaning, why loop, say, 1000 times, each doing an update to <strong>all</strong> the rows due to no <code>where</code> clause? Maybe that was just a typo of yours.</p>\n\n<p>As for deletes, there is no problem with that, either, in a loop, in general. If you are looking to empty a table, look into <code>truncate table</code>, faster, and not logged if that is ever a desire. Note though that truncate is disallowed on tables that are the <em>referenced</em> table in foreign key constraint situations. In those situations there are the concepts of the <em>referencing</em> table and the <em>referenced</em>.</p>\n\n<p>Other general comments: care should be taken to ensure that any referential integrity in place or that should be in place is honored. Doing insert <code>ignore</code>, update, or delete can fail due to foreign key constraints. Also, checking for the existence of a row that you are about to delete anyway may be overkill idk. It is marching down a btree anyway to find it. Why do it twice (the marching part). Marching might not be a good word, perhaps flying. But on a tablescan, it would be added pain.</p>\n\n<p>Lastly, when you are in a situation of massive bulk insert, loops are never up to the task in any programming language as compared to LOAD DATA INFILE performance. Several of your peers have seen 8 to 10 hour operations reduced to 2 minutes by using LOAD DATA (references to links available if you ask). Ok <a href=\"https://stackoverflow.com/a/32702768\">This Link</a> is one.</p>\n\n<p>Mysql Manual Page below:</p>\n\n<ul>\n<li>Referential Integrity with <a href=\"https://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\" rel=\"nofollow noreferrer\">Foreign Key Constraints</a></li>\n<li>Quickly clearing tables with <a href=\"http://dev.mysql.com/doc/refman/5.7/en/truncate-table.html\" rel=\"nofollow noreferrer\">Truncate Table</a></li>\n<li>Bulk inserts with <a href=\"http://dev.mysql.com/doc/refman/5.7/en/load-data.html\" rel=\"nofollow noreferrer\">LOAD DATA INFILE</a>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449255979, "post_id": 34095608, "comment_id": 55943520, "body": "There&#39;s also <a href=\"https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_max_allowed_packet\" rel=\"nofollow noreferrer\"><code>max_allowed_packet</code></a> to worry about. For large inserts, <code>LOAD DATA INFILE</code> will generally be the fastest approach, as <a href=\"http://stackoverflow.com/a/34094639/176646\">Drew mentioned</a>."}, {"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 0, "creation_date": 1449256130, "post_id": 34095608, "comment_id": 55943592, "body": "but true, chunks of 100 or 1000 are the way to go by all means (short of a load data infile). insert into tableA (colA,colB) values (1,1), (7,4), (8,-19), ....  got my support for sure"}], "tags": [], "owner": {"reputation": 3817, "user_id": 5588910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXypN.png?s=128&g=1", "display_name": "Naruto", "link": "https://stackoverflow.com/users/5588910/naruto"}, "is_accepted": false, "score": 1, "last_activity_date": 1449255674, "creation_date": 1449255674, "answer_id": 34095608, "question_id": 34094372, "link": "https://stackoverflow.com/questions/34094372/mysql-and-queries-performance/34095608#34095608", "title": "MySQL and queries performance", "body": "<p>As per my opinion,it is a bit slow to make multiple queries.Better construct a single update,insert,select and delete query and fire.</p>\n\n<p>There are few tips before using multiple quesris or single query.</p>\n\n<p>1) If Database is configured to kill all queries that takes more than spcecified time, then using a single query if it is too large, can lead to killing of query.\n2) Also, if user is waiting for response, then it can be done using pagination,i.e., fetch few records now...and subsequent later but not one by one.</p>\n"}], "owner": {"reputation": 47, "user_id": 1438087, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/79af03a314d8a2bca111b2737b33f8ac?s=128&d=identicon&r=PG", "display_name": "eherr9633", "link": "https://stackoverflow.com/users/1438087/eherr9633"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1449255674, "creation_date": 1449251254, "question_id": 34094372, "link": "https://stackoverflow.com/questions/34094372/mysql-and-queries-performance", "title": "MySQL and queries performance", "body": "<p>Question regarding best practices for queries and perl.</p>\n\n<p>Is there a performance or 'bad practice' of having a select inside a perl for loop? Is it an issue to send so many selects in rapid fire to the DB?</p>\n\n<p>code is quasi pseudo code</p>\n\n<p>@line has 5000 lines</p>\n\n<pre><code>foreach my $elem( @line ){\n    SQL = SELECT IGNORE INTO &lt;table&gt; ( column1, .. , column 10 ) VALUES ( 'a', .. , 'j' )\n}\n</code></pre>\n\n<p>What about deletes and/or updates?</p>\n\n<pre><code>foreach my $elem( @line ) {\n    my $UN = substr($elem, 0, 10 );\n    SQL = UPDATE &lt;table&gt; SET &lt;column&gt; = $UN;\n}\n\nforeach my $elem( @line ) {\n    my $UN = substr($elem, 0, 10 );\n    SQL = DELETE from &lt;table&gt; WHERE &lt;column&gt; = $UN\n }\n</code></pre>\n\n<p>Also, I have a question in the same arena, I have 5000 items I am checking and my Database has anywhere from 1 element to 5000 elements at any given time. Is it acceptable to loop through my 5000 items in perl and delete the ID in the Database or should there be a check at first to see if the ID exists before issues the delete command.</p>\n\n<pre><code>foreach my $elem ( @line ){\n    $ID = substr( $elem, 5, 0 );\n    SQL = DELETE FROM &lt;table&gt; WHERE id = $ID;\n}\n</code></pre>\n\n<p>or should it be something like:</p>\n\n<pre><code>foreach my $elem ( @line ){\n    $ID = substr( $elem, 5, 0 );\n    SQL = DELETE FROM &lt;table&gt; WHERE id = $ID if ID exists;\n}\n</code></pre>\n\n<p>Thanks,\n--Eherr</p>\n"}, {"tags": ["regex", "perl", "recursion"], "comments": [{"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 4, "creation_date": 1449248737, "post_id": 34093200, "comment_id": 55939628, "body": "You seem to be trying to parse a context free grammar. It is inadvisable to do this using solely a regexp. I&#39;d advise you to have a look at: <a href=\"http://perl-begin.org/uses/text-parsing/\" rel=\"nofollow noreferrer\">perl-begin.org/uses/text-parsing</a> (Look at the second section; &quot;Advanced Parsing Techniques&quot;)."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "reply_to_user": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1449248852, "post_id": 34093200, "comment_id": 55939693, "body": "I&#39;m trying to parse TeX input."}, {"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 2, "creation_date": 1449248963, "post_id": 34093200, "comment_id": 55939750, "body": "Yeah, a regexp will not do. Get yourself a parser generator from the link and use that instead. You may want to use a &quot;proper&quot; TeX parser, as well. Try <a href=\"http://search.cpan.org/~svenh/LaTeX-Parser-0.01/Parser.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~svenh/LaTeX-Parser-0.01/Parser.pm</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 1, "creation_date": 1449250592, "post_id": 34093200, "comment_id": 55940663, "body": "@dsm LaTeX::Parser was last updated all the way back in 2000 and the <a href=\"https://metacpan.org/pod/LaTeX::Parser\" rel=\"nofollow noreferrer\">docs</a> say &quot;This is a very early version of LaTeX::Parser, there are many bugs&quot; and &quot;Many bugs i&#39;ll find soon enough. Off the top of my head, I know backslashed brackes [sic] in LaTeX are considered normal brackets.&quot; The <a href=\"http://cpanratings.perl.org/dist/LaTeX-Parser\" rel=\"nofollow noreferrer\">only review</a> isn&#39;t very rosy, either. <a href=\"https://metacpan.org/pod/LaTeX::TOM\" rel=\"nofollow noreferrer\">LaTeX::TOM</a> got a poor review also, but has at least been worked on more recently. Not sure I would recommend either..."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1449325760, "post_id": 34093200, "comment_id": 55963273, "body": "Yep. It seems to work just fine. Thanks. I&#39;m just trying to find out whether the rather complex lookbehind addedum to your original solution gives rise to any unexpected results."}], "answers": [{"comments": [{"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1449247967, "post_id": 34093382, "comment_id": 55939190, "body": "It matches <code>abc { def \\} hij \\\\\\} klm \\} nop</code> but shouldn&#39;t."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1449248218, "post_id": 34093382, "comment_id": 55939331, "body": "Why <code>(?&gt;)</code> instead <code>(?:)</code>?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1449248355, "post_id": 34093382, "comment_id": 55939416, "body": "Atomic group can be used here <a href=\"http://www.regular-expressions.info/subroutine.html#balanced\" rel=\"nofollow noreferrer\"><i>to  improve performance</i></a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1449248470, "post_id": 34093382, "comment_id": 55939469, "body": "@n.r. Also see the explanation in <a href=\"http://perldoc.perl.org/perlre.html#%28?%3Epattern%29\" rel=\"nofollow noreferrer\">perlre</a>."}, {"owner": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 4, "creation_date": 1449249088, "post_id": 34093382, "comment_id": 55939812, "body": "It looks like this fails to skip an escaped <code>{</code> when it is the first <code>{</code> encountered in the string."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1449249841, "post_id": 34093382, "comment_id": 55940239, "body": "@n.r.: Is the substring in braces single in the input, or do you expect unknown number of them? John and upvoters: this condition is missing in the OP."}, {"owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "edited": false, "score": 0, "creation_date": 1449249990, "post_id": 34093382, "comment_id": 55940319, "body": "Unknown number, unknown content. I&#39;m trying to capture parameters to TeX control sequences."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449250048, "post_id": 34093382, "comment_id": 55940356, "body": "Good, I updated the answer.  @JohnBollinger: please check the edit."}, {"owner": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449250050, "post_id": 34093382, "comment_id": 55940359, "body": "@stribizhev, &quot;skips over escaped curly braces&quot; does not seem to make any exceptions.  The test data do not exhibit an escaped <code>{</code> as the first <code>{</code> in the string, but the condition is there."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449250078, "post_id": 34093382, "comment_id": 55940379, "body": "@JohnBollinger: I accept the criticism, please check the updated regex. The issue is addressed using a lookbehind."}, {"owner": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449250540, "post_id": 34093382, "comment_id": 55940629, "body": "@stribizhev, that works for some, but not all cases.  For example, it  accepts the first <code>{</code> in <code>abc \\\\\\{ foo def \\} hij { blah } { blargle } \\\\\\} klm }</code>, even though it is escaped.  I think you need a full-fledged non-capturing group, for you have to recognize and ignore indeterminate-length initial substrings."}, {"owner": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449250635, "post_id": 34093382, "comment_id": 55940689, "body": "@stribizhev, indeed so.  I have just commented on that there."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1449251292, "last_edit_date": 1449251292, "creation_date": 1449247821, "answer_id": 34093382, "question_id": 34093200, "link": "https://stackoverflow.com/questions/34093200/how-to-match-balanced-curly-brackets-skipping-escaped-ones/34093382#34093382", "title": "How to match balanced curly brackets skipping escaped ones?", "body": "<p>You can use the following regex that will support any escaped symbols:</p>\n\n<pre><code>(?&lt;=^|\\\\.|[^\\\\])({(?&gt;\\\\.|[^{}]|(?1))*})\n</code></pre>\n\n<p>VERBOSE version with comments:</p>\n\n<pre><code>(?&lt;=^|\\\\.|[^\\\\]) # Before `{` there is either start of string, escaped entity or not a \\\n(\n   {            # Opening {\n     (?&gt;        # Start of atomic group\n          \\\\.   # Any escaped symbol \n         |      \n          [^{}] # any symbol but `{` and `}`\n         | \n          (?1)  # Recurse the first subpattern\n     )*         # repeat the atomic group 0 or more times\n   }            # closing brace\n)\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/uY0lR9/3\" rel=\"nofollow\">regex demo</a></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Since the above regex may match an escaped opening brace as first character, you may use</p>\n\n<pre><code>[^\\\\{}]*(?:\\\\.[\\\\{}]*)*(?&lt;!\\\\)({(?&gt;\\\\.|[^{}]|(?1))*})\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/uY0lR9/4\" rel=\"nofollow\">regex demo</a></p>\n\n<p>It will match all escaped and unnecessary substrings and capture into Group 1 only valid substrings.</p>\n"}, {"comments": [{"owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "edited": false, "score": 0, "creation_date": 1449249640, "post_id": 34093799, "comment_id": 55940123, "body": "I sometimes wish that perl had the equivalent of python&#39;s &quot;raw strings&quot;."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "edited": false, "score": 1, "creation_date": 1449249987, "post_id": 34093799, "comment_id": 55940316, "body": "@DanielMartin You can get close with a here-doc, but you have to <code>chomp</code> it, so not <i>quite</i> as handy."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "edited": false, "score": 0, "creation_date": 1449250341, "post_id": 34093799, "comment_id": 55940519, "body": "@DanielMartin: Yes, it&#39;s a shortcoming of Perl 5. Perl 6 has <code>\uff62strings like this\uff63</code> where there are no special characters and everything is literal"}, {"owner": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1449250613, "post_id": 34093799, "comment_id": 55940678, "body": "This answer, too, fails to ignore an escaped <code>{</code> when it is the first <code>{</code> in the input."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449251098, "post_id": 34093799, "comment_id": 55940951, "body": "@JohnBollinger: I don&#39;t see what you mean. Please give an example input string. If I replace <code>abc</code> with <code>abc\\{</code> in the sample data then my code correctly ignores it"}, {"owner": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 2, "creation_date": 1449252183, "post_id": 34093799, "comment_id": 55941511, "body": "@Borodon, no, it does not. given input <code>abc \\{ def \\} hij \\\\\\} klm } nop</code>, your regex matches <code>{ def \\} hij \\\\\\} klm }</code>, even though the first brace is ecaped.  In fact, it should not match that particular input at all."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449269525, "post_id": 34093799, "comment_id": 55949760, "body": "@JohnBollinger: I don&#39;t see that. You have a different idea of <i>ignore</i> from mine. Perhaps you have the advantage of knowing TeX? I have corrected what the OP&#39;s code appeared to be attempting, which is to match everything from a bare opening brace to a bare closing one, treating escaped braces as ordinary characters and correctly nesting braces. Are you aware that <code>\\{</code> and <code>\\}</code> within a regex pattern match <code>{</code> and <code>}</code> respectively?"}, {"owner": {"reputation": 120931, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1449291201, "post_id": 34093799, "comment_id": 55954671, "body": "@Borodin, the behavior of your regex is demonstrably as I describe,  I tested it.  It handles escaping fine <i>except for</i> the first / outermost <code>{</code>, which can be matched as an opening bracket even when escaped, as in the example input I presented.  That fails to comply with the OP&#39;s express requirement the the regex &quot;skips over escaped curly brackets&quot; for the purpose of matching brackets."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1449249563, "last_edit_date": 1449249563, "creation_date": 1449249110, "answer_id": 34093799, "question_id": 34093200, "link": "https://stackoverflow.com/questions/34093200/how-to-match-balanced-curly-brackets-skipping-escaped-ones/34093799#34093799", "title": "How to match balanced curly brackets skipping escaped ones?", "body": "<p>There are two problems here -- the value of the string in <code>$str</code> and the regex pattern</p>\n\n<p>Even within a single-quoted string, backslashes must be escaped when two appear together or when they appear as the last character in the string. A pair of backslashes is reduced to one, so the substring <code>\\\\\\}</code> will generate <code>\\\\}</code> in the final string. To produce three backslashes followed by a closing brace, you need six backslashes in the code -- <code>\\\\\\\\\\\\}</code> (although five will do)</p>\n\n<p>Your regex pattern is incorrect because the character class <code>[^{}]</code> will also match a single backslash, which will prevent it from being identified as part of an escaped brace sequence. So the alternative <code>[^{}\\\\]+</code> is matching <code>def \\</code> from the string, leaving the <code>}</code> detached from its backslash</p>\n\n<p>This program does what you need</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $str = 'abc { def \\} hij \\\\\\\\\\\\} klm } nop';\n\nprint $str, \"\\n\";\n\nif ( $str =~ m/\n              (\n                \\{\n                  (?:\n                  [^{}\\\\]+  |\n                  \\\\.       |\n                  (?-1)\n                  )*\n                \\}\n              )\n              /xs ) {\n\n    print $1, \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>abc { def \\} hij \\\\\\} klm } nop\n{ def \\} hij \\\\\\} klm }\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1839508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/530d84518abcb1591e5e7cedf682097d?s=128&d=identicon&r=PG", "display_name": "n.r.", "link": "https://stackoverflow.com/users/1839508/n-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 1, "accepted_answer_id": 34093382, "answer_count": 2, "score": 2, "last_activity_date": 1449251292, "creation_date": 1449247293, "question_id": 34093200, "link": "https://stackoverflow.com/questions/34093200/how-to-match-balanced-curly-brackets-skipping-escaped-ones", "title": "How to match balanced curly brackets skipping escaped ones?", "body": "<p>I'm trying to cook up a regular expression to match balanced curly brackets which takes into account, and skips over, <strong>escaped</strong> curly brackets.</p>\n\n<p>The following regex is not working though. The script prints <code>{ def \\}</code> instead of the expected output: <code>{ def \\} hij \\\\\\} klm }</code>. What am I doing wrong? How can I improve it?</p>\n\n<pre><code>my $str = 'abc { def \\} hij \\\\\\} klm } nop';\n\nif ( $str =~ m/\n              (\n                \\{\n                  (?: \\\\\\\\\n                  |   \\\\[\\{\\}]\n                  |   [^\\{\\}]+\n                  |   (?-1)\n                  )*\n                \\}\n              )\n              /x\n) { print $1, \"\\n\" }\n</code></pre>\n"}, {"tags": ["apache", "perl", "mod-perl", "autovivification"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1449247928, "post_id": 34092559, "comment_id": 55939165, "body": "<code>A_HINT_STRICT</code>, <code>A_HINT_WARN</code>, etc. are macros <a href=\"https://metacpan.org/source/VPIT/autovivification-0.16/autovivification.xs#L482\" rel=\"nofollow noreferrer\">defined in XS code</a>. Do you get any other errors related to XSLoader::load failing or something like that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1449257190, "post_id": 34092559, "comment_id": 55944215, "body": "They are actually Perl subs created by the XS module when it&#39;s loaded. (<code>newCONSTSUB(stash, &quot;A_HINT_STRICT&quot;, newSVuv(A_HINT_STRICT));</code>, called from the <code>BOOT</code> section.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1449257243, "post_id": 34092559, "comment_id": 55944252, "body": "This is really weird since the module shouldn&#39;t load at all if the XS component doesn&#39;t load. Does your script create threads?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1450387751, "post_id": 34092559, "comment_id": 56430712, "body": "I see you fixed your issue, but I&#39;m curious as to the exact cause. Can you please edit the relevant bits of your Apache configuration into the question, especially the mod_perl bits? I can run a simple script with mod_perl that does <code>use autovivification;</code> without errors. It would be nice to know the exact cause in case anybody in the future has the same issue."}, {"owner": {"reputation": 41, "user_id": 5640162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78f57b5fb573a68aea6a37f935436cd5?s=128&d=identicon&r=PG&f=1", "display_name": "HalfOpenedEye", "link": "https://stackoverflow.com/users/5640162/halfopenedeye"}, "edited": false, "score": 0, "creation_date": 1457090927, "post_id": 34092559, "comment_id": 59259510, "body": "I&#39;m not sure what else I can add. In our migration from Debian Wheezy (apache 2.2) to Debian Jessie (apache 2.4) we came across this issue a few times and in each case it was because the perl script was not &quot;mod_perl&quot; safe and the fix was to tweak the configuration to ensure the perl handler was &quot;cgi-script&quot; and not &quot;mod_perl&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "is_accepted": false, "score": 1, "last_activity_date": 1502883429, "creation_date": 1502883429, "answer_id": 45712546, "question_id": 34092559, "link": "https://stackoverflow.com/questions/34092559/perl-cgi-compilation-error-in-autovivication-pm/45712546#45712546", "title": "Perl cgi compilation error in autovivication.pm", "body": "<p>The root cause was mod_perl, combined with a (possible) change between apache 2.2 and 2.4. The apache configuration for the script, which gives it a ScriptAlias URI of /cgi-bin/script, occurs before setting up the URI /cgi-bin to be handled by mod_perl. In apache 2.2, this ordering seems to be important and the script was not handled by mod_perl. However, in apache 2.4 the ordering does not seem to be important and the script is now handled by mod_perl.</p>\n\n<p>The error arose because this script was not (and never meant to be) handled by mod_perl. The fix was to change the URI for the script to /somethingelse/script.\n \u2013 HalfOpenedEye</p>\n"}], "owner": {"reputation": 41, "user_id": 5640162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78f57b5fb573a68aea6a37f935436cd5?s=128&d=identicon&r=PG&f=1", "display_name": "HalfOpenedEye", "link": "https://stackoverflow.com/users/5640162/halfopenedeye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1502883429, "creation_date": 1449245359, "last_edit_date": 1450261397, "question_id": 34092559, "link": "https://stackoverflow.com/questions/34092559/perl-cgi-compilation-error-in-autovivication-pm", "title": "Perl cgi compilation error in autovivication.pm", "body": "<p>I'm using a perl cgi script that uses our own libraries, which use the \"no autovivification\" pragma. E.g.</p>\n\n<p>/usr/lib/company/mysim.cgi:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n# ... other use\nuse Company::Module1;\n</code></pre>\n\n<p>/usr/lib/perl5/Company/Module1.pm</p>\n\n<pre><code>package Company::Module1;\n\nno autovivification;\nuse strict;\nuse warnings;\n</code></pre>\n\n<p>Approximately 50% of the time, when accessing the URL to reach the cgi script the compilation fails with...</p>\n\n<pre><code>[Fri Dec 04 15:40:10.744901 2015] [:error] [pid 30455:tid 2961136448] Bareword \"A_HINT_STRICT\" not allowed while \"strict subs\" in use at /usr/lib/i386-linux-gnu/perl5/5.20/autovivification.pm line 144.\\nBareword \"A_HINT_WARN\" not allowed while \"strict subs\" in use at /usr/lib/i386-linux-gnu/perl5/5.20/autovivification.pm line 144.\\nBareword \"A_HINT_FETCH\" not allowed while \"strict subs\" in use at /usr/lib/i386-linux-gnu/perl5/5.20/autovivification.pm line 144.\\nBareword \"A_HINT_STORE\" not allowed while \"strict subs\" in use at /usr/lib/i386-linux-gnu/perl5/5.20/autovivification.pm line 144.\\nBareword \"A_HINT_EXISTS\" not allowed while \"strict subs\" in use at /usr/lib/i386-linux-gnu/perl5/5.20/autovivification.pm line 144.\\nBareword \"A_HINT_DELETE\" not allowed while \"strict subs\" in use at /usr/lib/i386-linux-gnu/perl5/5.20/autovivification.pm line 144.\\nCompilation failed in require at /usr/lib/company/mysim.cgi line 14.\\nBEGIN failed--compilation aborted at /usr/lib/company/mysim.cgi line 14.\\n\n</code></pre>\n\n<p>(taken from /var/log/apache2/ssl/error.log as this script sits on the https port).</p>\n\n<p>My environment is:\n - debian jessie (8.2)\n - tomcat7\n - apache2 (2.4)\n - perl 5.20.2\n - libautovivification-perl 0.12-1+b1</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Has anyone seen this before? It seems odd that the autovivification module fails to compile due to a \"use strict\" pragma.</p></li>\n<li><p>Can anyone explain the intermittent nature of the compilation error? Even more odd, the cgi fails to compile ~half the time, and works fine (i.e. runs and returns expected results) the other ~half.</p></li>\n</ol>\n\n<p>Thanks for your time.</p>\n\n<p>09/12/2015: Some additional information...</p>\n\n<p>Thanks all for the feedback.</p>\n\n<p>There's no explicit creation of threads, though this is in the context of apache so there's presumably threading of requests.</p>\n\n<p>The root cause does seem to be a failure in the XSLoader. At least this minimal working example...</p>\n\n<pre><code>package autovivification;\n\nuse 5.008_003;\n\nuse strict;\nuse warnings;\n\nour $VERSION;\nBEGIN {\n $VERSION = '0.12';\n}\n\nBEGIN {\n require XSLoader;\n XSLoader::load(__PACKAGE__, $VERSION);\n}\n\nmy %bits = (\n strict =&gt; A_HINT_STRICT,\n warn   =&gt; A_HINT_WARN,\n fetch  =&gt; A_HINT_FETCH,\n store  =&gt; A_HINT_STORE,\n exists =&gt; A_HINT_EXISTS,\n delete =&gt; A_HINT_DELETE,\n);\n</code></pre>\n\n<p>compiles, whereas this</p>\n\n<pre><code>package autovivification;\n\nuse 5.008_003;\n\nuse strict;\nuse warnings;\n\nour $VERSION;\nBEGIN {\n $VERSION = '0.12';\n}\n\n#BEGIN {\n# require XSLoader;\n# XSLoader::load(__PACKAGE__, $VERSION);\n#}\n\nmy %bits = (\n strict =&gt; A_HINT_STRICT,\n warn   =&gt; A_HINT_WARN,\n fetch  =&gt; A_HINT_FETCH,\n store  =&gt; A_HINT_STORE,\n exists =&gt; A_HINT_EXISTS,\n delete =&gt; A_HINT_DELETE,\n);\n</code></pre>\n\n<p>fails with the same error.</p>\n\n<p>So, I'll go a-poking around for a load error in the apache logs.... somewhere.</p>\n\n<p>Thanks again for your time.</p>\n\n<p>16/12/2015: Update - Fixed</p>\n\n<p>The root cause was mod_perl, combined with a (possible) change between apache 2.2 and 2.4. The apache configuration for the script, which gives it a ScriptAlias URI of /cgi-bin/script, occurs before setting up the URI /cgi-bin to be handled by mod_perl. In apache 2.2, this ordering seems to be important and the script was <strong>not</strong> handled by mod_perl. However, in apache 2.4 the ordering does not seem to be important and the script is now handled by mod_perl.</p>\n\n<p>The error arose because this script was not (and never meant to be) handled by mod_perl. The fix was to change the URI for the script to /somethingelse/script.</p>\n\n<p>Thanks to everyone for the comments.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449236444, "post_id": 34089512, "comment_id": 55931340, "body": "Hi, thanks for the answer. The problem is that my &quot;rogerbravo&quot; in the example is a regexp of this form: /(.+?)([ATG][TC]A.[TCG][AG]AT[CT][TAG])/gi"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449236494, "post_id": 34089512, "comment_id": 55931373, "body": "That&#39;s probably worth adding to the question. First principle won&#39;t apply (but didn&#39;t anyway). But the later two probably will. (In both cases you&#39;re wrapping part of your pattern into the next chunk)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449239176, "post_id": 34089512, "comment_id": 55933129, "body": "@BlueStarry: You should remove the <code>.+?</code> from your pattern. It&#39;s unnecessary and makes the code slower and less clear"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1449238958, "last_edit_date": 1449238958, "creation_date": 1449235835, "answer_id": 34089512, "question_id": 34089257, "link": "https://stackoverflow.com/questions/34089257/dealing-with-newline-when-parsing-for-a-regex-match-in-a-file/34089512#34089512", "title": "Dealing with newline when parsing for a regex match in a file", "body": "<p>The obvious answer I can think of - based on what you've given so far - why not set your record separator to <code>rogerbravo</code>. </p>\n\n<p>e.g.</p>\n\n<pre><code>local $/ = 'rogerbravo';\n</code></pre>\n\n<p>Because then your while loop will fire each time it hits it, and <code>$.</code> will be the number of occurences. Unfortunately a limitation of doing this is that <code>$/</code> doesn't support regular expressions - <code>rogerbravo</code> and <code>roger\\nbravo</code> are not the same. So it may well not work, because of the problem of linefeeds embedded - you effectively have a bunch of different patterns you're trying to match.  </p>\n\n<p>Otherwise you might have to do a 'rolling chunk' based approach splicing together lines:</p>\n\n<pre><code> my $prev_line = ''; \n my $prev_count = 0; \n while ( my $line = &lt;$input_fh&gt; ) { \n     chomp ( $line ); \n     my $count = $prev_line.$line =~ m/rogerbravo/g; \n     $total += $count - $prev_count; \n     $prev_count = $line =~ m/rogerbravo/g; #just instances in _this_ line\n     #to exclude from next iteration. \n     $prev_line = $line; \n }\n</code></pre>\n\n<p>Something like that anyway. (Sorry, haven't really tested it, I don't really have enough sample data - might require some verification to ensure it isn't doublecounting) </p>\n\n<p>You can do similar with setting read-by-bytes by setting <code>$/</code> to a reference to a numeric value:</p>\n\n<pre><code>local $/ = \\2048; \n</code></pre>\n\n<p>If your pattern is small enough, you only have to look at the boundary area to see if the last few bytes contains the start of your pattern. </p>\n\n<p>E.g.</p>\n\n<pre><code> local $/ = \\2048; \n my $trailing = ''; \n while ( my $chunk = &lt;$input_fh&gt; ) {\n     $chunk =~ s/\\n//g; \n     my $count_in_this_chunk = $chunk =~ m/rogerbravo/g; \n     ( $trailing ) = $chunk =~ m/(\\w{9})$/; # 9 because 'rogerbravo' is 10\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449236617, "post_id": 34089680, "comment_id": 55931455, "body": "Hmm, so use the &#39;replace&#39; pattern to delete up to the last full match from the buffer?. That&#39;s elegant."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1449236793, "post_id": 34089680, "comment_id": 55931552, "body": "@Sobrique: My only reservation is that it achieves nothing if the 5GB file has one occurrence of the pattern right at the end. Something rather more clever involving counting within pairs of lines at a time is needed to get around that"}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449352073, "post_id": 34089680, "comment_id": 55972359, "body": "Thank you very much for your help. By the way don&#39;t you think that would be easier to analyze the file taking chinks of it in a string wihout newline?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "edited": false, "score": 0, "creation_date": 1449402893, "post_id": 34089680, "comment_id": 55983197, "body": "@BlueStarry: I&#39;m not sure I understand. That&#39;s pretty much what my code does -- the chunks are lines of the file and I remove newlines with <code>chomp</code> after reading each one"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1449238673, "last_edit_date": 1449238673, "creation_date": 1449236390, "answer_id": 34089680, "question_id": 34089257, "link": "https://stackoverflow.com/questions/34089257/dealing-with-newline-when-parsing-for-a-regex-match-in-a-file/34089680#34089680", "title": "Dealing with newline when parsing for a regex match in a file", "body": "<h3>Update</h3>\n\n<p>Here's a version that searches lines in pairs. At the end of each pass it deletes up to the last occurrence of the pattern, if one was found, or up to the end of the first of the two lines if not, and then appends an additional line from the file. This way the data buffer can never contain more than two lines of data</p>\n\n<p>There is still one small proviso that this method will miss occurrences of the pattern that are split across <em>three</em> lines, like</p>\n\n<pre><code>rog\nerb\nravo\n</code></pre>\n\n<p>but I assume that this is impossible</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $count = 0;\nmy $pattern = 'rogerbravo';\n\nchomp(my $data = &lt;DATA&gt;);\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n    my $split = length $data;\n    $data .= $_;\n    printf \"Data buffer %d characters\\n\", length $data;\n\n    while ( $data =~ /$pattern/g ) {\n        ++$count;\n        $split = $+[0];\n    }\n\n    $data = substr $data, $split;\n}\n\n\nprintf qq{%d occurrences of \"%s\"\\n}, $count, $pattern;\n\n__DATA__\nabcdefghijklmnopqrstuvw\nabcdefghijklmnopqrstuvw\nabcdefghijklmnopqrstuvw\nalphalphaspamrogerbravo\nalphaalphaspamspamroger\nbravospamspamspamspamro\ngerbravospamsspamspamsp\nabcdefghijklmnopqrstuvw\nabcdefghijklmnopqrstuvw\nabcdefghijklmnopqrstuvw\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Data buffer 46 characters\nData buffer 46 characters\nData buffer 46 characters\nData buffer 23 characters\nData buffer 46 characters\nData buffer 41 characters\nData buffer 38 characters\nData buffer 46 characters\nData buffer 46 characters\n3 occurrences of \"rogerbravo\"\n</code></pre>\n\n<h2><br/></h2>\n\n<h3>Original solution</h3>\n\n<p>If you keep a data buffer and append lines to it one at a time, and then remove the characters up to each occurrence of the pattern, then your memory usage will be kept small</p>\n\n<p>This will work fine as long as there are sufficient occurrences of the pattern to keep the the buffer small</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $count = 0;\nmy $data = '';\nmy $pattern = 'rogerbravo';\n\nwhile ( &lt;DATA&gt; ) {\n    chomp;\n    $data .= $_;\n    ++$count while $data =~ s/.*?$pattern//g;\n}\n\n\nsay qq{$count occurrences of \"$pattern\"};\n\n\n__DATA__\nalphalphaspamrogerbravo\nalphaalphaspamspamroger\nbravospamspamspamspamro\ngerbravospamsspamspamsp\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>3 occurrences of \"rogerbravo\"\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 34089680, "answer_count": 2, "score": 0, "last_activity_date": 1449238958, "creation_date": 1449234949, "last_edit_date": 1449236611, "question_id": 34089257, "link": "https://stackoverflow.com/questions/34089257/dealing-with-newline-when-parsing-for-a-regex-match-in-a-file", "title": "Dealing with newline when parsing for a regex match in a file", "body": "<p>i've got a file that is formatted with newlines, and i need to count the matches for a regex. The problem is that reading and testing the file every line of it, i lose all the matches that are in between the lines</p>\n\n<pre><code>while ($row = &lt;$fh&gt;) {\n  if ( $row =~ regexp ) {\n     #do stuff\n</code></pre>\n\n<p>Example file</p>\n\n<p>match string: rogerbravo</p>\n\n<p>file:</p>\n\n<pre><code>alphalphaspamrogerbravo --&gt; match ok.\nalphaalphaspamspamroger --&gt; occurrence lost\nbravospamspamspamspamro --&gt; lost\ngerbravospamsspamspamsp\n</code></pre>\n\n<p>I wonder if there is an elegant solution to this, still reading one line at a time, because the file is a 5GB text file.</p>\n\n<p>Thanks</p>\n\n<p>EDIT:\nThe regexp is of this form:  /(.+?)([ATG][TC]A.[TCG][AG]AT[CT][TAG])/gi </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1449229153, "post_id": 34087497, "comment_id": 55927054, "body": "Have you heard of regex?"}, {"owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1449229951, "post_id": 34087497, "comment_id": 55927547, "body": "My problem was the skip, clearly illustrated below. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 10, "last_activity_date": 1449229150, "creation_date": 1449229150, "answer_id": 34087548, "question_id": 34087497, "link": "https://stackoverflow.com/questions/34087497/how-do-i-skip-an-iteration-step-in-a-while-loop-in-perl/34087548#34087548", "title": "How do I skip an iteration step in a while loop in Perl?", "body": "<p>You can skip to the next iteration of a loop with the <a href=\"http://perldoc.perl.org/functions/next.html\" rel=\"noreferrer\"><code>next</code> built-in</a>. Since you are reading line by line, that's all you need to do.</p>\n\n<p>For checking if the character is present, use <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"noreferrer\">a regular expression</a>. That's done with the <a href=\"http://perldoc.perl.org/functions/m.html\" rel=\"noreferrer\"><code>m//</code> operator</a> and <code>=~</code> in Perl.</p>\n\n<pre><code>while ($row = &lt;$fh&gt;) {\n  if ( $row =~ m/&gt;/ ) {\n    # do stuff ...\n    next;\n  }\n  # no need for else\n  # continue and do other stuff ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 3, "last_activity_date": 1449229238, "creation_date": 1449229238, "answer_id": 34087577, "question_id": 34087497, "link": "https://stackoverflow.com/questions/34087497/how-do-i-skip-an-iteration-step-in-a-while-loop-in-perl/34087577#34087577", "title": "How do I skip an iteration step in a while loop in Perl?", "body": "<p>Try this way:</p>\n\n<pre><code>while ($row = &lt;$fh&gt;)\n{\n    if($row =~ /&gt;/)\n    {\n        #do something AND then skip to the next line\n        next;\n    }\n    #continue to parse normally and do other things\n}\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 5053351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9891053d4bba049113d50d59f03cf6b?s=128&d=identicon&r=PG", "display_name": "BlueStarry", "link": "https://stackoverflow.com/users/5053351/bluestarry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2492, "favorite_count": 0, "accepted_answer_id": 34087548, "answer_count": 2, "score": 3, "last_activity_date": 1449230922, "creation_date": 1449228948, "last_edit_date": 1449230922, "question_id": 34087497, "link": "https://stackoverflow.com/questions/34087497/how-do-i-skip-an-iteration-step-in-a-while-loop-in-perl", "title": "How do I skip an iteration step in a while loop in Perl?", "body": "<p>In Perl I'm trying to achieve this:</p>\n\n<pre><code>while ($row = &lt;$fh&gt;){\n     if the row contains the character &gt;:\n          #do something AND then skip to the next line\n     else:\n         #continue to parse normally and do other things\n</code></pre>\n"}]