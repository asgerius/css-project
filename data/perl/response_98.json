[{"tags": ["c#", "regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 6242770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JdHX1BcSsUQ/AAAAAAAAAAI/AAAAAAAAGZk/-1Yz3sz_ghg/photo.jpg?sz=128", "display_name": "Kaptnik", "link": "https://stackoverflow.com/users/6242770/kaptnik"}, "edited": false, "score": 0, "creation_date": 1479943328, "post_id": 40775574, "comment_id": 68775222, "body": "my ($match) = $file =~ /^((?:(?!\\.cloud\\z).)*)/s; works like a charm. I could use an explanation though. :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 58, "user_id": 6242770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JdHX1BcSsUQ/AAAAAAAAAAI/AAAAAAAAGZk/-1Yz3sz_ghg/photo.jpg?sz=128", "display_name": "Kaptnik", "link": "https://stackoverflow.com/users/6242770/kaptnik"}, "edited": false, "score": 0, "creation_date": 1479943398, "post_id": 40775574, "comment_id": 68775237, "body": "If that works, then you should use <code>my $match = $file =~ s&#47;\\.cloud\\z&#47;&#47;r;</code> (5.14+) or <code>(my $match = $file) =~ s&#47;\\.cloud\\z&#47;&#47;;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 58, "user_id": 6242770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JdHX1BcSsUQ/AAAAAAAAAAI/AAAAAAAAGZk/-1Yz3sz_ghg/photo.jpg?sz=128", "display_name": "Kaptnik", "link": "https://stackoverflow.com/users/6242770/kaptnik"}, "edited": false, "score": 0, "creation_date": 1479943489, "post_id": 40775574, "comment_id": 68775267, "body": "It matches a bunch of characters (<code>.*</code>) that aren&#39;t the start of <code>&#47;\\.cloud\\z&#47;</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1479943351, "last_edit_date": 1479943351, "creation_date": 1479942196, "answer_id": 40775574, "question_id": 40775554, "link": "https://stackoverflow.com/questions/40775554/non-greedy-regex-matches-just-1-character/40775574#40775574", "title": "Non-greedy regex matches just 1 character", "body": "<p>It only matches one character because you told it to match the least possible number of characters, and <code>.+</code> isn't allowed to match zero characters.</p>\n\n<hr>\n\n<p>&rArr; <em>I'm going to use <code>$PAT</code> instead of <code>.+</code> since you said it's a stand-in for something more complicated.</em></p>\n\n<p>Despite your claims that <code>s///</code> can't be used, it still seems to be the simplest solution to me.</p>\n\n<pre><code>my ($match) = map { s/\\.cloud\\z//r } $file =~ /^($PAT)\\z/;  # 5.14+\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my ($match) = map { ( my $s = $_ ) =~ s/\\.cloud\\z//; $s } $file =~ /^($PAT)\\z/;\n</code></pre>\n\n<p>That said, it can also be achieved using a match:</p>\n\n<pre><code>my $match = $file =~ /^(?:($PAT)(?=\\.cloud\\z)|($PAT))/ ? ($1 // $2) : undef;\n</code></pre>\n\n<hr>\n\n<p>By the way, if <code>$PAT</code> was <code>.+</code>, and I wanted to use a match, I'd use the following:</p>\n\n<pre><code>my ($match) = $file =~ /^((?:(?!\\.cloud\\z).)+)/s;\n</code></pre>\n\n<p>But it would be far simpler to use</p>\n\n<pre><code>my $match = $file =~ s/\\.cloud\\z//r;   # 5.14+\n</code></pre>\n\n<p>or</p>\n\n<pre><code>(my $match = $file) =~ s/\\.cloud\\z//;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479944071, "post_id": 40775820, "comment_id": 68775462, "body": "Note that using non-greediness as anything but an optimization is very fragile (though you really only start seeing the problems when you use two in the same pattern)."}], "tags": [], "owner": {"reputation": 10414, "user_id": 1251354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650becb7843763fb2a7e8f7135d9ef5e?s=128&d=identicon&r=PG", "display_name": "rutter", "link": "https://stackoverflow.com/users/1251354/rutter"}, "is_accepted": false, "score": 4, "last_activity_date": 1479943710, "creation_date": 1479943710, "answer_id": 40775820, "question_id": 40775554, "link": "https://stackoverflow.com/questions/40775554/non-greedy-regex-matches-just-1-character/40775820#40775820", "title": "Non-greedy regex matches just 1 character", "body": "<p>It's often easier to read/maintain regular expressions if you specify that the entire string must match. That's easy enough to do with <code>^</code> and <code>$</code>, which match the start and end of the string.</p>\n\n<p>Matching anywhere in the string: <code>(.+?)(?:\\.cloud)?</code></p>\n\n<p>Matching the entire string: <code>^(.+?)(?:\\.cloud)?$</code></p>\n\n<p>In the second case, the non-greedy group will capture as little as possible, but will need to capture multiple characters to satisfy the match condition.</p>\n\n<p>This doesn't cover every possible use case, but it tends to result in a regex that's easier to read six months from now.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479949364, "creation_date": 1479949364, "answer_id": 40776563, "question_id": 40775554, "link": "https://stackoverflow.com/questions/40775554/non-greedy-regex-matches-just-1-character/40776563#40776563", "title": "Non-greedy regex matches just 1 character", "body": "<p>The reason your pattern is matching only a single character is that the sub-pattern <code>(?:\\.cloud)?</code> is optional, so it can be satisfied by nothing at all. That leaves <code>(.+?)</code> free to match the shortest string allowable by the <code>+</code> quantifier, which is one character</p>\n\n<p>It's easy to fix this by just anchoring the end of the pattern so that it has to match the whole of the string</p>\n\n<p>This code works fine</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @log_files = qw/\n    infolog.txt\n    errorlog.txt.cloud\n    dailyerrorlog.txt.cloud\n    trace.output.cloud\n    debug.log.cloud\n/;\n\nfor ( @log_files ) {\n    print \"$1\\n\" if /(.+?)(?:\\.cloud)?$/;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>infolog.txt\nerrorlog.txt\ndailyerrorlog.txt\ntrace.output\ndebug.log\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1479994757, "creation_date": 1479994757, "answer_id": 40787901, "question_id": 40775554, "link": "https://stackoverflow.com/questions/40775554/non-greedy-regex-matches-just-1-character/40787901#40787901", "title": "Non-greedy regex matches just 1 character", "body": "<p>Assign the file name to a temporary variable and modify it.</p>\n\n<pre><code>my @log_files = qw(\n    infolog.txt\n    errorlog.txt.cloud\n    dailyerrorlog.txt.cloud\n    trace.output.cloud\n    debug.log.cloud\n);\n\nforeach my $file (@log_files)\n{\n    my $tmpry = $file;\n    $tmpry =~ s/\\.cloud$//;\n    printf \"%-25s %s\\n\", $file, $tmpry;\n}\n</code></pre>\n"}], "owner": {"reputation": 58, "user_id": 6242770, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JdHX1BcSsUQ/AAAAAAAAAAI/AAAAAAAAGZk/-1Yz3sz_ghg/photo.jpg?sz=128", "display_name": "Kaptnik", "link": "https://stackoverflow.com/users/6242770/kaptnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 40775574, "answer_count": 4, "score": 0, "last_activity_date": 1479994757, "creation_date": 1479942021, "question_id": 40775554, "link": "https://stackoverflow.com/questions/40775554/non-greedy-regex-matches-just-1-character", "title": "Non-greedy regex matches just 1 character", "body": "<p>A have a list of files, some of whose names are suffixed with a .cloud. How do I write a regular expression that gets the filename without the .cloud part?</p>\n\n<p>Here's a sample perl script I tried.</p>\n\n<pre><code>#! /usr/bin/perl -w\n\nmy @log_files = ('infolog.txt', 'errorlog.txt.cloud', 'dailyerrorlog.txt.cloud', 'trace.output.cloud', 'debug.log.cloud');\n\nforeach my $file (@log_files)\n{\n    print $1.\"\\n\" if($file =~ /(.+?)(?:\\.cloud)?/);\n}\n</code></pre>\n\n<p>This prints the following:</p>\n\n<pre><code>$ perl test.pl \ni\ne\nd\nt\nd\n</code></pre>\n\n<p>If I get rid of the '?' that makes the .+ greedy, it matches everything, including .cloud.</p>\n\n<pre><code>#! /usr/bin/perl -w\n\nmy @log_files = ('infolog.txt', 'errorlog.txt.cloud', 'dailyerrorlog.txt.cloud', 'trace.output.cloud', 'debug.log.cloud');\n\nforeach my $file (@log_files)\n{\n    print $1.\"\\n\" if($file =~ /(.+)(?:\\.cloud)?/);\n}\n</code></pre>\n\n<p>This prints the following:</p>\n\n<pre><code>$ perl test.pl \ninfolog.txt\nerrorlog.txt.cloud\ndailyerrorlog.txt.cloud\ntrace.output.cloud\ndebug.log.cloud\n</code></pre>\n\n<p>What I really want is a regular expression that'll print:</p>\n\n<pre><code>$ perl test.pl \ninfolog.txt\nerrorlog.txt\ndailyerrorlog.txt\ntrace.output\ndebug.log\n</code></pre>\n\n<p>I've modified my real use case to a very simple example here. I need to use regular expressions here to match the filename, so answers like </p>\n\n<pre><code>$file =~ s/\\.cloud$//;\nprint $file.\"\\n\";\n</code></pre>\n\n<p>will not work for me.</p>\n\n<p>I've tried a similar thing in C# too, with similar results.</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        Regex regex = new Regex(@\"(?&lt;filename&gt;.+?)(?:\\.cloud)?\");\n        string text = \"abcdef.txt.cloud\";\n        Match match = regex.Match(text);\n        if(match.Success)\n        {\n            Console.WriteLine(\"Found filename: {0}\", match.Groups[\"filename\"].Value);\n        }\n    }\n    // Output\n    // Found filename: a\n</code></pre>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["json", "perl", "hash", "iteration"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1479941192, "post_id": 40775260, "comment_id": 68774548, "body": "can you show some of the more complicated structures you hope to deal with and which key(s) you are looking for in them?"}, {"owner": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1479942508, "post_id": 40775260, "comment_id": 68774962, "body": "I have added some example code. I could hard code it to look 2 or 3 &quot;layers&quot; deep, but the goal is to work on any output you throw at it. So it would need to simply iterate over any/all keys/subkeys and compare the key you defined with the keys/subkeys and obtain the data once matched."}, {"owner": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1479942562, "post_id": 40775260, "comment_id": 68774986, "body": "I mostly work with javascript and this kind of thing is a breeze in JS :/"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1479957812, "post_id": 40775260, "comment_id": 68778728, "body": "so I see you added sample data; which key are you trying to find in that data?  so far I really don&#39;t understand the problem.  maybe show what you would do in javascript?  it isn&#39;t going to be any harder to do in perl"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479986702, "post_id": 40775260, "comment_id": 68792845, "body": "If you want some feedback on your style, feel free to post this code (or the finished one) over on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. There are a bunch of things you can improve, but they would be way beyond the scope of an answer here."}, {"owner": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 0, "creation_date": 1479994391, "post_id": 40775260, "comment_id": 68797934, "body": "So that sample data could be in any format, not just the one shown here. The only constant is that it will be JSON data. One of the arguments is which key you are looking for. It&#39;s supposed to find that key in the JSON then grab the value for that key. So, I should be able to pass the key name for anything that contains a timestamp."}], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 0, "creation_date": 1479947048, "post_id": 40776179, "comment_id": 68776205, "body": "I was considering using that method, but I generally frown upon converting objects into strings. I prefer to use the object and access their properties if possible. If I have to though, I&#39;ll do just that. Thanks for the suggestion."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 0, "creation_date": 1479950559, "post_id": 40776179, "comment_id": 68776949, "body": "@Jedimaster0 A Perl hash has no properties unless you create them yourself. It is of course possible to write your own JSON parser if you need speed or are concerned about memory usage. Then you can insert any properties you like into the hash. I also noticed that  <code>JSON::XS</code> and <code>JSON::PP</code> has filter methods that can call callbacks during parsing.. Maybe that is something that could be used?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 0, "creation_date": 1479953123, "post_id": 40776179, "comment_id": 68777610, "body": "@Jedimaster0 Another alternative could be to copy the source code of <code>Hash::Flatten</code> and modify it such that it does not create all the unnecessary keys, and only does what you want."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 0, "creation_date": 1479956081, "post_id": 40776179, "comment_id": 68778315, "body": "@Jedimaster0 The JSON format is used for complex data structures and I don&#39;t think it&#39;s right to expect a call within the language itself to traverse it. But there are tools, such as this one which seems tailor-made for what you ask. If you&#39;d like to work directly with the JSON hashref for some reason, going through it is fairly simple in Perl -- and there is a number of modules for that, too."}, {"owner": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 0, "creation_date": 1479956344, "post_id": 40776179, "comment_id": 68778391, "body": "Thanks for the info. I will look into what you mentioned and if I figure everything out, I&#39;ll mark this as answered. Thanks again."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 0, "creation_date": 1479981578, "post_id": 40776179, "comment_id": 68789098, "body": "@Jedimaster0 I do not know Javascript, but I did a little research and found that Javascript does not have hashes but uses objects to simulate hashes.  Is that correct? Perl can also encapsulate a hash inside an object, if desired. Further, it seems like Javascript &quot;hash&quot; objects need to be traversed recursively to visit all keys, just as in Perl. See for example <a href=\"http://stackoverflow.com/q/722668/2173773\"><i>&quot;Traverse all the Nodes of a JSON Object Tree with JavaScript&quot;</i></a>. This kind of recursive lookup is exactly what <code>Hash::Flatten</code> also does."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479987498, "post_id": 40776179, "comment_id": 68793368, "body": "@H&#229;konH&#230;gland a JS object is the same as a Perl hash. It&#39;s an associative array essentially. The part where you can have methods in JS objects is closer to putting coderefs into a Perl hash with more convenient syntax than blessed hashrefs in Perl."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479988452, "post_id": 40776179, "comment_id": 68793975, "body": "@simbabque From what I can see, Javascript has five primitive data types: number, string, boolean, undefined, and null. Anything that doesn\u2019t belong to any of these five primitive types is considered an object. But Javascript also has object versions of the five primitive types. In this case, all members of an object is also itself an object, which will add overhead compared to a Perl hash, but on the other side enables easy traversal of complex structures."}, {"owner": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "edited": false, "score": 1, "creation_date": 1480189925, "post_id": 40776179, "comment_id": 68863893, "body": "@H&#229;konH&#230;gland, Thanks for everything, I was able to reach a resolution. Much appreciated."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 3, "last_activity_date": 1479946095, "creation_date": 1479946095, "answer_id": 40776179, "question_id": 40775260, "link": "https://stackoverflow.com/questions/40775260/parse-any-number-of-subkeys-in-a-perl-hash/40776179#40776179", "title": "Parse any number of subkeys in a perl hash", "body": "<p>You could try use <a href=\"https://metacpan.org/pod/Hash::Flatten\" rel=\"nofollow noreferrer\"><code>Hash::Flatten</code></a>. For example:</p>\n\n<pre><code>use Hash::Flatten qw(flatten);\n\nmy $json_decoded = parse_json($json_str);\nmy $flat = flatten( $json_decoded );\nsay \"found\" if grep /(?:^|\\.)\\Q$key\\E(?:\\.?|$)/, keys %$flat;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479997359, "post_id": 40784708, "comment_id": 68799871, "body": "Nice answer! <code>Data::Visitor</code> seems to be a useful module. But it seems to use <code>Moose</code> which might be too heavyweight for this task?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479997626, "post_id": 40784708, "comment_id": 68800028, "body": "@H the times where Moose had this horrible startup penalty are long past. That shouldn&#39;t be a big problem any more."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1479986626, "last_edit_date": 1479986626, "creation_date": 1479985314, "answer_id": 40784708, "question_id": 40775260, "link": "https://stackoverflow.com/questions/40775260/parse-any-number-of-subkeys-in-a-perl-hash/40784708#40784708", "title": "Parse any number of subkeys in a perl hash", "body": "<p>You can use <a href=\"http://p3rl.org/Data::Visitor::Callback\" rel=\"nofollow noreferrer\">Data::Visitor::Callback</a> to traverse the data structure. It lets you define callbacks for different kinds of data types inside your structure. Since we're only looking at a hash it's relatively simple.</p>\n\n<p>The following program has a predefined list of keys to find (those would be user input in your case). I converted your example JSON to a Perl hashref and included it in the code because the conversion is not relevant. The program visits every hashref in this data structure (including the top level) and runs the callback. </p>\n\n<p>Callbacks in Perl are code references. These can be created in two ways. We're doing the anonymous subroutine (sometimes called <a href=\"https://en.wikipedia.org/wiki/Anonymous_function\" rel=\"nofollow noreferrer\">lambda function</a> in other languages). The callback gets passed two arguments: the visitor object and the current data substructure.</p>\n\n<p>We'll iterate all the keys we want to find and simply check if they <a href=\"http://perldoc.perl.org/functions/exists.html\" rel=\"nofollow noreferrer\"><code>exist</code></a> in that current data structure. If we see one, we count it's existence in the <code>%seen</code> hash. Using a hash to store things we have seen is a common idiom in Perl.</p>\n\n<p>We're using a <em>postfix</em> <code>if</code> here, which is convenient and easy to read. <code>%seen</code> is a <em>hash</em>, so we access the value behind the <code>$key</code> with <code>$seen{$key}</code>, while <code>$data</code> is a <em>hash reference</em>, so we use the dereferencing operator <code>-&gt;</code> to access the value behind <code>$key</code> with <code>$data-&gt;{$key}</code>.</p>\n\n<p>The callback needs us to return the <code>$data</code> again so it continues. The last line is just there, it's not important.</p>\n\n<p>I've used <a href=\"http://p3rl.org/Data::Printer\" rel=\"nofollow noreferrer\">Data::Printer</a> to output the <code>%seen</code> hash because it's convenient. You can also use <a href=\"http://p3rl.org/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a> if you want. In production, you will not need that.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\nuse Data::Visitor::Callback;\n\nmy $from_json = {\n    \"localDate\"  =&gt; \"Wednesday 23rd November 2016 11:03:37 PM\",\n    \"utcDate\"    =&gt; \"Wednesday 23rd November 2016 11:03:37 PM\",\n    \"format\"     =&gt; \"l jS F Y h:i:s A\",\n    \"returnType\" =&gt; \"json\",\n    \"timestamp\"  =&gt; 1479942217,\n    \"timezone\"   =&gt; \"UTC\",\n    \"daylightSavingTime\" =&gt;\n        0,    # this was false, I used 0 because that's a non-true value\n    \"url\"    =&gt; \"http:\\/\\/www.convert-unix-time.com?t=1479942217\",\n    \"subkey\" =&gt; {\n        \"altTimestamp\" =&gt; 1479942217,\n        \"altSubkey\"    =&gt; {\n            \"thirdTimestamp\" =&gt; 1479942217\n        }\n    }\n};\n\nmy @keys_to_find = qw(timestamp altTimestamp thirdTimestamp missingTimestamp);\n\nmy %seen;\nmy $visitor = Data::Visitor::Callback-&gt;new(\n    hash =&gt; sub {\n        my ( $visitor, $data ) = @_;\n\n        foreach my $key (@keys_to_find) {\n            $seen{$key}++ if exists $data-&gt;{$key};\n        }\n\n        return $data;\n    },\n);\n$visitor-&gt;visit($from_json);\n\np %seen;\n</code></pre>\n\n<p>The program outputs the following. Note this is <strong>not</strong> a Perl data structure. Data::Printer is not a serializer, it's a tool to make data human readable in a convenient way.</p>\n\n<pre><code>{\n    altTimestamp     1,\n    thirdTimestamp   1,\n    timestamp        1\n}\n</code></pre>\n\n<hr>\n\n<p>Since you also wanted to constraint the input, here's an example how to do that. The following program is a modification of the one above. It allows to give a set of different constraints for every required key.</p>\n\n<p>I've done that by using <a href=\"https://en.wikipedia.org/wiki/Dispatch_table\" rel=\"nofollow noreferrer\">a <em>dispatch table</em></a>. Essentially, that's a hash that contains code references. Kind of like the callbacks we use for the Visitor.</p>\n\n<p>The constraints I've included are doing some things with dates. An easy way to work with dates in Perl is the core module <a href=\"http://p3rl.org/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a>. There are lots of questions around here about various date things where Time::Piece is the answer.</p>\n\n<p>I've only done one constraint per key, but you could easily include several checks in those code refs, or make a list of code refs and put them in an array ref (<code>keys =&gt; [ sub(), sub(), sub() ]</code>) and then iterate that later.</p>\n\n<p>In the visitor callback we are now also keeping track of the keys that have <code>%passed</code> the constraints check. We're calling the coderef with <code>$coderef-&gt;($arg)</code>. If a constraint check returns <a href=\"https://perlmaven.com/boolean-values-in-perl\" rel=\"nofollow noreferrer\">a true value</a>, it gets noted in the hash.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\nuse Data::Visitor::Callback;\nuse Time::Piece;\nuse Time::Seconds; # for ONE_DAY\n\nmy $from_json = { ... }; # same as above\n\n# prepare one of the constraints\n# where I'm from, Christmas eve is considered Christmas\nmy $christmas = Time::Piece-&gt;strptime('24 Dec 2016', '%d %b %Y');\n\n# set up the constraints per required key\nmy %constraints = (\n    timestamp        =&gt; sub {\n        my ($epoch) = @_;\n        # not older than one day\n\n        return $epoch &lt; time &amp;&amp; $epoch &gt; time - ONE_DAY;\n    },\n    altTimestamp     =&gt; sub {\n        my ($epoch) = @_;\n        # epoch value should be an even number\n\n        return ! $epoch % 2;\n    },\n    thirdTimestamp   =&gt; sub {\n        my ($epoch) = @_;\n        # before Christmas 2016\n\n        return $epoch &lt; $christmas;\n    },\n);\n\nmy %seen;\nmy %passed;\nmy $visitor = Data::Visitor::Callback-&gt;new(\n    hash =&gt; sub {\n        my ( $visitor, $data ) = @_;\n\n        foreach my $key (%constraints) {\n            if ( exists $data-&gt;{$key} ) {\n                $seen{$key}++;\n                $passed{$key}++ if $constraints{$key}-&gt;( $data-&gt;{$key} );\n            }\n        }\n\n        return $data;\n    },\n);\n$visitor-&gt;visit($from_json);\n\np %passed;\n</code></pre>\n\n<p>The output this time is:</p>\n\n<pre><code>{\n    thirdTimestamp   1,\n    timestamp        1\n}\n</code></pre>\n\n<hr>\n\n<p>If you want to learn more about the dispatch tables, take a look at chapter two of the book <em>Higher Order Perl</em> by Mark Jason Dominus which is legally available for free <a href=\"http://hop.perl.plover.com/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 132, "user_id": 1149618, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e6dcc926335bc0fa9af1e3fcf60ef1cf?s=128&d=identicon&r=PG", "display_name": "japtain.cack", "link": "https://stackoverflow.com/users/1149618/japtain-cack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 1, "accepted_answer_id": 40776179, "answer_count": 2, "score": 1, "last_activity_date": 1480189860, "creation_date": 1479940495, "last_edit_date": 1480189860, "question_id": 40775260, "link": "https://stackoverflow.com/questions/40775260/parse-any-number-of-subkeys-in-a-perl-hash", "title": "Parse any number of subkeys in a perl hash", "body": "<p>I have a perl hash that is obtained from parsing JSON. The JSON could be anything a user defined API could generated. The goal is to obtain a date/time string and determine if that date/time is out of bounds according to a user defined threshold. The only issue I have is that perl seems a bit cumbersome when dealing with hash key/subkey iteration. How can I look through all the keys and determine if a key or subkey exists throughout the hash? I have read many threads throughout stackoverflow, but nothing that exactly meets my needs. I only started perl last week so I may be missing something... Let me know if that's the case.</p>\n\n<p>Below is the \"relevant\" code/subs. For all code see: <a href=\"https://gitlab.com/Jedimaster0/check_http_freshness\" rel=\"nofollow noreferrer\">https://gitlab.com/Jedimaster0/check_http_freshness</a></p>\n\n<pre><code>use warnings;\nuse strict;\nuse LWP::UserAgent;\nuse Getopt::Std;\nuse JSON::Parse 'parse_json';\nuse JSON::Parse 'assert_valid_json';\nuse DateTime;\nuse DateTime::Format::Strptime;\n\n# Verify the content-type of the response is JSON\neval {\n        assert_valid_json ($response-&gt;content);\n};\nif ( $@ ){\n        print \"[ERROR] Response isn't valid JSON. Please verify source data. \\n$@\";\n        exit EXIT_UNKNOWN;\n} else {\n        # Convert the JSON data into a perl hashrefs\n        $jsonDecoded = parse_json($response-&gt;content);\n        if ($verbose){print \"[SUCCESS] JSON FOUND -&gt; \", $response-&gt;content , \"\\n\";}\n\n        if (defined $jsonDecoded-&gt;{$opts{K}}){\n                if ($verbose){print \"[SUCCESS] JSON KEY FOUND -&gt; \", $opts{K}, \": \", $jsonDecoded-&gt;{$opts{K}}, \"\\n\";}\n                NAGIOS_STATUS(DATETIME_DIFFERENCE(DATETIME_LOOKUP($opts{F}, $jsonDecoded-&gt;{$opts{K}})));\n        } else {\n                print \"[ERROR] Retreived JSON does not contain any data for the specified key: $opts{K}\\n\";\n                exit EXIT_UNKNOWN;\n        }\n}\n\n\n\n\nsub DATETIME_LOOKUP {\n        my $dateFormat = $_[0];\n        my $dateFromJSON = $_[1];\n\n        my $strp = DateTime::Format::Strptime-&gt;new(\n                pattern   =&gt; $dateFormat,\n                time_zone =&gt; $opts{z},\n                on_error  =&gt; sub { print \"[ERROR] INVALID TIME FORMAT: $dateFormat OR TIME ZONE: $opts{z} \\n$_[1] \\n\" ; HELP_MESSAGE(); exit EXIT_UNKNOWN; },\n        );\n\n        my $dt = $strp-&gt;parse_datetime($dateFromJSON);\n        if (defined $dt){\n                if ($verbose){print \"[SUCCESS] Time formatted using -&gt; $dateFormat\\n\", \"[SUCCESS] JSON date converted -&gt; $dt $opts{z}\\n\";}\n                return $dt;\n        } else {\n                print \"[ERROR] DATE VARIABLE IS NOT DEFINED. Pattern or timezone incorrect.\"; exit EXIT_UNKNOWN\n        }\n}\n\n\n\n\n# Subtract JSON date/time from now and return delta\nsub DATETIME_DIFFERENCE {\n        my $dateInitial = $_[0];\n        my $deltaDate;\n        # Convert to UTC for standardization of computations and it's just easier to read when everything matches.\n        $dateInitial-&gt;set_time_zone('UTC');\n\n        $deltaDate = $dateNowUTC-&gt;delta_ms($dateInitial);\n        if ($verbose){print \"[SUCCESS] (NOW) $dateNowUTC UTC - (JSON DATE) $dateInitial \", $dateInitial-&gt;time_zone-&gt;short_name_for_datetime($dateInitial), \" = \", $deltaDate-&gt;in_units($opts{u}), \" $opts{u} \\n\";}\n\n        return $deltaDate-&gt;in_units($opts{u});\n}\n</code></pre>\n\n<p>Sample Data</p>\n\n<pre><code>{\n  \"localDate\":\"Wednesday 23rd November 2016 11:03:37 PM\",\n  \"utcDate\":\"Wednesday 23rd November 2016 11:03:37 PM\",\n  \"format\":\"l jS F Y h:i:s A\",\n  \"returnType\":\"json\",\n  \"timestamp\":1479942217,\n  \"timezone\":\"UTC\",\n  \"daylightSavingTime\":false,\n  \"url\":\"http:\\/\\/www.convert-unix-time.com?t=1479942217\",\n  \"subkey\":{\n    \"altTimestamp\":1479942217,\n    \"altSubkey\":{\n      \"thirdTimestamp\":1479942217\n    }\n  }\n}\n</code></pre>\n\n<p>[SOLVED]</p>\n\n<p>I have used the answer that @H\u00e5konH\u00e6gland provided. Here are the below code changes. Using the flatten module, I can use any input string that matches the JSON keys. I still have some work to do, but you can see the issue is resolved. Thanks @H\u00e5konH\u00e6gland.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dumper;\nuse LWP::UserAgent;\nuse Getopt::Std;\nuse JSON::Parse 'parse_json';\nuse JSON::Parse 'assert_valid_json';\nuse Hash::Flatten qw(:all);\nuse DateTime;\nuse DateTime::Format::Strptime;\n\n# Verify the content-type of the response is JSON\neval {\n        assert_valid_json ($response-&gt;content);\n};\nif ( $@ ){\n        print \"[ERROR] Response isn't valid JSON. Please verify source data. \\n$@\";\n        exit EXIT_UNKNOWN;\n} else {\n        # Convert the JSON data into a perl hashrefs\n        my $jsonDecoded = parse_json($response-&gt;content);\n        my $flatHash = flatten($jsonDecoded);\n\n        if ($verbose){print \"[SUCCESS] JSON FOUND -&gt; \", Dumper($flatHash), \"\\n\";}\n\n        if (defined $flatHash-&gt;{$opts{K}}){\n                if ($verbose){print \"[SUCCESS] JSON KEY FOUND -&gt; \", $opts{K}, \": \", $flatHash&gt;{$opts{K}}, \"\\n\";}\n                NAGIOS_STATUS(DATETIME_DIFFERENCE(DATETIME_LOOKUP($opts{F}, $flatHash-&gt;{$opts{K}})));\n        } else {\n                print \"[ERROR] Retreived JSON does not contain any data for the specified key: $opts{K}\\n\";\n                exit EXIT_UNKNOWN;\n        }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>./check_http_freshness.pl -U http://bastion.mimir-tech.org/json.html -K result.creation_date -v\n[SUCCESS] JSON FOUND -&gt; $VAR1 = {\n          'timestamp' =&gt; '20161122T200649',\n          'result.data_version' =&gt; 'data_20161122T200649_data_news_topics',\n          'result.source_version' =&gt; 'kg_release_20160509_r33',\n          'result.seed_version' =&gt; 'seed_20161016',\n          'success' =&gt; 1,\n          'result.creation_date' =&gt; '20161122T200649',\n          'result.data_id' =&gt; 'data_news_topics',\n          'result.data_tgz_name' =&gt; 'data_news_topics_20161122T200649.tgz',\n          'result.source_data_version' =&gt; 'seed_vtv: data_20161016T102932_seed_vtv',\n          'result.data_digest' =&gt; '6b5bf1c2202d6f3983d62c275f689d51'\n        };\n\nOdd number of elements in anonymous hash at ./check_http_freshness.pl line 78, &lt;DATA&gt; line 1.\n[SUCCESS] JSON KEY FOUND -&gt; result.creation_date:\n[SUCCESS] Time formatted using -&gt; %Y%m%dT%H%M%S\n[SUCCESS] JSON date converted -&gt; 2016-11-22T20:06:49 UTC\n[SUCCESS] (NOW) 2016-11-26T19:02:15 UTC - (JSON DATE) 2016-11-22T20:06:49 UTC = 94 hours\n[CRITICAL] Delta hours (94) is &gt;= (24) hours. Data is stale.\n</code></pre>\n"}, {"tags": ["mysql", "perl", "mamp", "cgi-bin"], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 2842468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sx6Oc.gif?s=128&g=1", "display_name": "ulix", "link": "https://stackoverflow.com/users/2842468/ulix"}, "is_accepted": false, "score": 0, "last_activity_date": 1479940802, "creation_date": 1479940802, "answer_id": 40775333, "question_id": 40775119, "link": "https://stackoverflow.com/questions/40775119/install-drivermysql-failed-cant-locate-dbd-mysql-pm-in-inc-trouble-conn/40775333#40775333", "title": "install_driver(mysql) failed: Can&#39;t locate DBD/mysql.pm in @INC ... Trouble connecting to mysql database from perl script", "body": "<p>make is reporting a missing library (ssl). You have to install ssl libraries first.\nOr you may try to install and use DBD::mysqlPP</p>\n"}], "owner": {"reputation": 87, "user_id": 5295505, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10153733605327573/picture?type=large", "display_name": "Archie Archbold", "link": "https://stackoverflow.com/users/5295505/archie-archbold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 844, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1479940802, "creation_date": 1479939800, "question_id": 40775119, "link": "https://stackoverflow.com/questions/40775119/install-drivermysql-failed-cant-locate-dbd-mysql-pm-in-inc-trouble-conn", "title": "install_driver(mysql) failed: Can&#39;t locate DBD/mysql.pm in @INC ... Trouble connecting to mysql database from perl script", "body": "<p>I am trying to use MAMP to develop locally but my perl scripts are failing to connect to my mysql database. When I review the apache log I see \"install_driver(mysql) failed: Can't locate DBD/mysql.pm in @INC\". \nWhen I run > which perl I get the location of my perl installation and have added that to the perl path in my MAMP's config file.</p>\n\n<p>I have also tried to install DMD::MySql using \n    cpan[1]> install DBD::mysql\nBut it fails in the end. I have included the log for the cpan installation process below. I'm hoping that someone has an idea for me.\nI am pretty new with this stuff and have been trying to piece my way through for a little while now.</p>\n\n<p>Any help that someone might have would be much appreciated\nThanks</p>\n\n<p>****cpan log****</p>\n\n<pre><code>Checking if your kit is complete...\nLooks good\nUsing DBI 1.636 (for perl 5.016000 on darwin-2level) installed in /Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/auto/DBI/\nWriting Makefile for DBD::mysql\nWide character in print at /Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/ExtUtils/MakeMaker.pm line 1028.\nWide character in print at /Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/ExtUtils/MakeMaker.pm line 1028.\nWriting MYMETA.yml and MYMETA.json\ncp lib/DBD/mysql.pm blib/lib/DBD/mysql.pm\ncp lib/DBD/mysql/GetInfo.pm blib/lib/DBD/mysql/GetInfo.pm\ncp lib/DBD/mysql/INSTALL.pod blib/lib/DBD/mysql/INSTALL.pod\ncp lib/Bundle/DBD/mysql.pm blib/lib/Bundle/DBD/mysql.pm\ncc -c  -I/Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/auto/DBI -I/usr/local/Cellar/mysql/5.7.14/include/mysql -fno-omit-frame-pointer -DDBD_MYSQL_WITH_SSL -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -fno-common -DPERL_DARWIN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -O3   -DVERSION=\\\"4.040\\\" -DXS_VERSION=\\\"4.040\\\"  \"-I/Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/darwin-2level/CORE\"   dbdimp.c\n/Users/archie/perl5/perlbrew/perls/perl-5.16.0/bin/perl -p -e \"s/~DRIVER~/mysql/g\" /Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/auto/DBI/Driver.xst &gt; mysql.xsi\n/Users/archie/perl5/perlbrew/perls/perl-5.16.0/bin/perl /Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/ExtUtils/xsubpp  -typemap /Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/ExtUtils/typemap  mysql.xs &gt; mysql.xsc &amp;&amp; mv mysql.xsc mysql.c\nWarning: duplicate function definition 'do' detected in mysql.xs, line 249\nWarning: duplicate function definition 'rows' detected in mysql.xs, line 673\ncc -c  -I/Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/auto/DBI -I/usr/local/Cellar/mysql/5.7.14/include/mysql -fno-omit-frame-pointer -DDBD_MYSQL_WITH_SSL -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -fno-common -DPERL_DARWIN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -O3   -DVERSION=\\\"4.040\\\" -DXS_VERSION=\\\"4.040\\\"  \"-I/Users/archie/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/darwin-2level/CORE\"   mysql.c\nRunning Mkbootstrap for DBD::mysql ()\nchmod 644 mysql.bs\nrm -f blib/arch/auto/DBD/mysql/mysql.bundle\nLD_RUN_PATH=\"/usr/local/Cellar/mysql/5.7.14/lib:/usr/lib\" env MACOSX_DEPLOYMENT_TARGET=10.3 cc  -bundle -undefined dynamic_lookup -L/usr/local/lib -fstack-protector dbdimp.o mysql.o  -o blib/arch/auto/DBD/mysql/mysql.bundle     \\\n       -L/usr/local/Cellar/mysql/5.7.14/lib -lmysqlclient -lssl -lcrypto    \\\n\nld: library not found for -lssl\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake: *** [blib/arch/auto/DBD/mysql/mysql.bundle] Error 1\n  MICHIELB/DBD-mysql-4.040.tar.gz\n  /usr/bin/make -- NOT OK\n'YAML' not installed, will not store persistent state\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\nFailed during this command:\n MICHIELB/DBD-mysql-4.040.tar.gz              : make NO\n</code></pre>\n"}, {"tags": ["regex", "perl", "multiline"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1479934255, "post_id": 40773870, "comment_id": 68771709, "body": "By reading the file line by line, you can never see the whole string to replace."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1479936177, "creation_date": 1479936177, "answer_id": 40774362, "question_id": 40773870, "link": "https://stackoverflow.com/questions/40773870/perl-regex-multiline/40774362#40774362", "title": "perl regex multiline", "body": "<p>I am not quite clear what you are trying to do, but I tried to distill the essence of your problem into a self-contained script. In a real program, you'd be reading and parsing the mapping of variable names to categories and codes, but here, I am just going to read from strings. The purpose of that is to show that the task can be accomplished without slurping files.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $entitlement_map_file = &lt;&lt;EOF_MAP_FILE;\n'ENTITLEMENT_EVS_V'\nENTITLEMENT_CATEGORY_CODE\n6\nEOF_MAP_FILE\n\nmy $entitlement_input_file = &lt;&lt;EOF_INPUT_FILE;\n'ENTITLEMENT_EVS_V',\nNULL,\nNULL,\nEOF_INPUT_FILE\n\n# read and parse the file containing mapping of\n# variables to category names and codes\n\nopen my $map_fh, '&lt;', \\$entitlement_map_file\n    or die $!;\n\nmy %map;\n\nwhile (my $var = &lt;$map_fh&gt;) {\n    chomp $var;\n    chomp( my $mnemonic = &lt;$map_fh&gt; );\n    chomp( my $code = &lt;$map_fh&gt;);\n    @{ $map{$var} }{qw(mnemonic code)} = ($mnemonic, $code);\n}\n\nclose $map_fh;\n\n# read the input file, look up variable name in the map\n# if there, follow with category name and code\n# skip two lines from input, continue where you left off\n\nopen my $in, '&lt;', \\$entitlement_input_file\n    or die $!;\n\nwhile (my $var = &lt;$in&gt;) {\n    $var =~ s/,\\s+\\z//;\n    next unless exists $map{ $var };\n\n    for (1 .. 2) {\n        die unless &lt;$in&gt; =~ /^NULL/;\n    }\n\n    print join(\",\\n\", $var, @{ $map{$var} }{qw(mnemonic code)}), \"\\n\";\n}\n\nclose $in;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>'ENTITLEMENT_EVS_V',\nENTITLEMENT_CATEGORY_CODE,\n6</pre>\n\n<p>Generalizing this is left as an exercise to the reader.</p>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 5681778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-O4kVCtQ6NGY/AAAAAAAAAAI/AAAAAAAAHHo/e-mQA8kuw0E/photo.jpg?sz=128", "display_name": "Swarna Gowri", "link": "https://stackoverflow.com/users/5681778/swarna-gowri"}, "edited": false, "score": 0, "creation_date": 1479973724, "post_id": 40776465, "comment_id": 68784412, "body": "I used the second one as it seemed easier:"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 177, "user_id": 5681778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-O4kVCtQ6NGY/AAAAAAAAAAI/AAAAAAAAHHo/e-mQA8kuw0E/photo.jpg?sz=128", "display_name": "Swarna Gowri", "link": "https://stackoverflow.com/users/5681778/swarna-gowri"}, "edited": false, "score": 0, "creation_date": 1479988554, "post_id": 40776465, "comment_id": 68794037, "body": "@SwarnaGowri: Second one? I&#39;m not clear what you mean."}, {"owner": {"reputation": 177, "user_id": 5681778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-O4kVCtQ6NGY/AAAAAAAAAAI/AAAAAAAAHHo/e-mQA8kuw0E/photo.jpg?sz=128", "display_name": "Swarna Gowri", "link": "https://stackoverflow.com/users/5681778/swarna-gowri"}, "edited": false, "score": 0, "creation_date": 1480314507, "post_id": 40776465, "comment_id": 68893686, "body": "I meant your reply :-)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1479948402, "creation_date": 1479948402, "answer_id": 40776465, "question_id": 40773870, "link": "https://stackoverflow.com/questions/40773870/perl-regex-multiline/40776465#40776465", "title": "perl regex multiline", "body": "<p>I think I'd write something like this. It expects the path to the input file as a parameter on the command line and prints the result to STDOUT</p>\n\n<p>It requires all of the following to be true</p>\n\n<ul>\n<li><p>The first line of the block to search for and the block to be replaced are always identical</p></li>\n<li><p>The number of lines in the block to search for and the block to be replaced are always the same</p></li>\n<li><p>The input file always contains the first line of the block to search for exactly once</p></li>\n<li><p>There is no need to check that the lines in the file after the first one in the block are <code>NULL,</code>, and it is sufficient to locate just the first line and remove the following lines whatever they contain</p></li>\n</ul>\n\n<p>It works by reading the input file and copying it to STDOUT. If it encounters a line that contains the first line of the replacement block, then it reads and it discards lines until the number of lines read is equal to the size of the replacement block. Then the text in the replacement block is printed to STDOUT and the copying continues</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nno warnings 'qw';  # avoid warning about commas in qw//\n\nmy @replacement = qw/\n    'ENTITLEMENT_EVS_V',\n    ENTITLEMENT_CATEGORY_CODE,\n    6,\n/;\n\nopen my $fh, '&lt;', $ARGV[0];\n\nwhile ( &lt;$fh&gt; ) {\n    if ( /$replacement[0]/ ) {\n        &lt;$fh&gt; for 1 .. $#replacement;\n        print \"$_\\n\" for @replacement;\n    }\n    else {\n        print;\n    }\n}\n</code></pre>\n\n<p>This works fine with some sample data that I created, but I have no way of knowing whether the stipulations listed above apply to your actual data. I'm sure you will let me know if something needs adjusting</p>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 5681778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-O4kVCtQ6NGY/AAAAAAAAAAI/AAAAAAAAHHo/e-mQA8kuw0E/photo.jpg?sz=128", "display_name": "Swarna Gowri", "link": "https://stackoverflow.com/users/5681778/swarna-gowri"}, "is_accepted": false, "score": -1, "last_activity_date": 1479973842, "creation_date": 1479973842, "answer_id": 40780681, "question_id": 40773870, "link": "https://stackoverflow.com/questions/40773870/perl-regex-multiline/40780681#40780681", "title": "perl regex multiline", "body": "<p>Here's what I did:</p>\n\n<pre><code>#!/usr/bin/env perl\nmy ($lopen_fh, $lwrite_fh);\nmy $l_stub_dir = \"/home/cbdev2/imp/dev/src/deli/entfreeunits/config/entfreeunits/stubs\";\nmy $l_stub = \"DirectVariables_evEntlCategory.exp\";\nmy $l_filename = \"$l_stub_dir/$l_stub\";\nmy $search_evs = 'ENTITLEMENT_EVS_V';\nmy $search_tre = 'ENTITLEMENT_TRE_V';\n\nmy @replacement_evs = qw/\n    'ENTITLEMENT_EVS_V',\n    ENTITLEMENT_CATEGORY_CODE,\n    6,\n    /;\nmy @replacement_tre = qw/\n    'ENTITLEMENT_TRE_V',\n    ENTITLEMENT_CATEGORY_CODE,\n    6,\n    /;\n\nopen ($lopen_fh, \"&lt;$l_filename\") or die $!;\nopen ($lwrite_fh, \"&gt;$l_filename.new\") or die $!;\n\nwhile(&lt;$lopen_fh&gt;) {\n    if ( /'ENTITLEMENT_EVS_V'/ ) {\n        &lt;$lopen_fh&gt; for 1 .. $#replacement_evs;\n        print $lwrite_fh \"    $_\\n\" for @replacement_evs;\n    }\n    elsif ( /'ENTITLEMENT_TRE_V'/ ) {\n        &lt;$lopen_fh&gt; for 1 .. $#replacement_tre;\n        print $lwrite_fh \"    $_\\n\" for @replacement_tre;\n    }\n    else {\n        print $lwrite_fh $_;\n    }\n}\n\nclose $lopen_fh;\nclose $lwrite_fh;\n\nunlink($l_filename) or die \"Failed to delete $l_filename: $!\";\nlink(\"$l_filename.new\", $l_filename) or die \"Failed to copy $l_filename\";\nunlink(\"$l_filename.new\") or die \"Failed to delete $l_filename.new: $!\";\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 5681778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-O4kVCtQ6NGY/AAAAAAAAAAI/AAAAAAAAHHo/e-mQA8kuw0E/photo.jpg?sz=128", "display_name": "Swarna Gowri", "link": "https://stackoverflow.com/users/5681778/swarna-gowri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 40776465, "answer_count": 3, "score": -1, "last_activity_date": 1479973842, "creation_date": 1479933944, "question_id": 40773870, "link": "https://stackoverflow.com/questions/40773870/perl-regex-multiline", "title": "perl regex multiline", "body": "<p>I am trying to write a perl script that replaces a few lines of text with a few other lines, I am a perl newbie, appreciate any help.</p>\n\n<p>Need to replace </p>\n\n<pre><code>'ENTITLEMENT_EVS_V',\nNULL,\nNULL,\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>'ENTITLEMENT_EVS_V',\nENTITLEMENT_CATEGORY_CODE,\n6,\n</code></pre>\n\n<p>I am unable to do so, especially the regex part. I tried many things, but the script currently stands at:</p>\n\n<pre><code>#!/usr/bin/env perl\nmy ($lopen_fh, $lwrite_fh);\n\n# my $l_reg_evs = qq{\n#'ENTITLEMENT_EVS_V',\n#NULL,\n#NULL,\n#};\nmy $l_reg_evs = qr/(\\'ENTITLEMENT_EVS_V\\',\n                     NULL,\n                     NULL,\n                    )/;\n\n\n        my $l_evs=qq{\n                     'ENTITLEMENT_EVS_V',\n                      ENTITLEMENT_CATEGORY_CODE,\n                      6,\n                    };\n\nopen ($lopen_fh, '&lt;', \"/home/cbdev2/imp/dev/src/deli/entfreeunits/config/entfreeunits/stubs/DirectVariables_evEntlCategory.exp\") or die $!;\nopen ($lwrite_fh, '&gt;', \"/home/cbdev2/imp/dev/src/deli/entfreeunits/config/entfreeunits/stubs/DirectVariables_evEntlCategory.new.exp\") or die $!;\n\nwhile(&lt;$lopen_fh&gt;) {\n    $_ =~ s/$l_reg_evs/$l_evs/m;\n    print $lwrite_fh $_;\n}\n\nclose $lopen_fh;\nclose $lwrite_fh;\n</code></pre>\n"}, {"tags": ["perl", "openssl"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 1226839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MQ7MM.jpg?s=128&g=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/1226839/nathan"}, "edited": false, "score": 0, "creation_date": 1524463890, "post_id": 40773782, "comment_id": 86964736, "body": "For Mac OS X with homebrew&#39;d openssl, see <a href=\"https://gist.github.com/andyjack/7dd4d7b65d262b2a6e56\" rel=\"nofollow noreferrer\">gist.github.com/andyjack/7dd4d7b65d262b2a6e56</a>, viz:  <code>CONFIG_ARGS=$( cat &lt;&lt;_EOF_ | tr &#39;\\n&#39; &#39; &#39; INC=-I&#47;usr&#47;local&#47;opt&#47;openssl&#47;include LDDLFLAGS=&quot;-bundle -undefined dynamic_lookup -fstack-protector-strong -L&#47;usr&#47;local&#47;opt&#47;openssl&#47;lib&quot; LD=&quot;env MACOSX_DEPLOYMENT_TARGET=10.11 cc&quot; LDFLAGS=&quot;-fstack-protector-strong -L&#47;usr&#47;local&#47;opt&#47;openssl&#47;lib&quot; _EOF_ ) cpanm Net::SSLeay --configure-args &quot;$CONFIG_ARGS&quot; --interactive --verbose </code>"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1479933983, "last_edit_date": 1479933983, "creation_date": 1479933580, "answer_id": 40773782, "question_id": 40773468, "link": "https://stackoverflow.com/questions/40773468/how-can-i-use-a-different-version-of-openssl-with-perl/40773782#40773782", "title": "How can I use a different version of openssl with perl?", "body": "<p>You'll need to rebuild the <a href=\"https://metacpan.org/pod/Net::SSLeay\" rel=\"nofollow noreferrer\">Net::SSLeay</a> module which provides the OpenSSL binding for <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"nofollow noreferrer\">IO::Socket::SSL</a> which itself is the library used by <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow noreferrer\">LWP</a> (and thus <a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow noreferrer\">SOAP::Lite</a>) for SSL since LWP version 6.</p>\n\n<p>To rebuild Net::SSLeay with a specific version of <code>OpenSSL</code> you need to have a C-compiler and the specific SSL library and their header files installed in a directory which you can specify with <code>OPENSSL_PREFIX</code>. See the <a href=\"https://metacpan.org/source/MIKEM/Net-SSLeay-1.78/README\" rel=\"nofollow noreferrer\">Net::SSLeay README</a> for detailed build instructions.</p>\n"}], "owner": {"reputation": 11, "user_id": 4925305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c12fbb2c0a896b38c035c9063d1547?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4925305/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2541, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479934043, "creation_date": 1479932342, "last_edit_date": 1479934043, "question_id": 40773468, "link": "https://stackoverflow.com/questions/40773468/how-can-i-use-a-different-version-of-openssl-with-perl", "title": "How can I use a different version of openssl with perl?", "body": "<p>I am writing Perl script on linux box that uses <code>SOAP:Lite</code> and <code>LWP::Protocol::https</code>. Those modulea use openssl to negotiate SSL connections. </p>\n\n<p>I needed to a resent version openssl to get TLS 1.2, but sysadmin doesn't want to upgrade current one and give me a local version of openssl.</p>\n\n<p>How can <code>perl</code> point to that local version. Will I have to rebuild all Perl modules?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1479929286, "post_id": 40772620, "comment_id": 68769271, "body": "Why use a regex for this? Read the line, split it on <code>|</code>, remove the elements from the list, then join it back together."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1479929368, "post_id": 40772620, "comment_id": 68769302, "body": "Anyway, you can use <code>{n}</code> after a regexp to match <code>n</code> occurrences of the pattern."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1479929432, "post_id": 40772620, "comment_id": 68769340, "body": "So <code>s&#47;^((pattern){3})pattern&#47;$1&#47;</code> will remove the 4th occurrence of the pattern."}], "answers": [{"tags": [], "owner": {"reputation": 1818, "user_id": 1086525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6d261261425b72bba389146c4cf2d2e?s=128&d=identicon&r=PG", "display_name": "Whothehellisthat", "link": "https://stackoverflow.com/users/1086525/whothehellisthat"}, "is_accepted": false, "score": 0, "last_activity_date": 1479929422, "creation_date": 1479929422, "answer_id": 40772727, "question_id": 40772620, "link": "https://stackoverflow.com/questions/40772620/regex-in-perl-start-matching-from-the-n-occurrence-of-elem-e/40772727#40772727", "title": "REGEX in perl, start matching from the n occurrence of elem e", "body": "<p><a href=\"https://regex101.com/r/EkR9ms/1\" rel=\"nofollow noreferrer\"><code>^((?:[^|]+\\|){3})[^|]+\\|</code></a> (using global and multiline flags)</p>\n\n<pre><code>elem1 | elem2 | elem3 | elem4 | elem5 | elem6\n^^^^^^^^^^^^^^^^^^^^^^^ group 1\n                       ^^^^^^^^ included in the match\n</code></pre>\n\n<p>Replace it with <code>group 1</code>, and <code>elem4</code> will be removed. I will explain how the regex works soon.</p>\n\n<ul>\n<li><code>^</code> Start of a line</li>\n<li><code>((?:[^|]+\\|){3})</code> A captured group\n\n<ul>\n<li><code>(?:[^|]+\\|)</code> 1 or more non-pipe characters, and a literal pipe character</li>\n<li><code>{3}</code> Repeat that pattern exactly 3 times</li>\n</ul></li>\n<li><code>[^|]+</code> 1 or more non-pipe characters</li>\n<li><code>\\|</code> A literal pipe character</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479931367, "last_edit_date": 1479931367, "creation_date": 1479931013, "answer_id": 40773129, "question_id": 40772620, "link": "https://stackoverflow.com/questions/40772620/regex-in-perl-start-matching-from-the-n-occurrence-of-elem-e/40773129#40773129", "title": "REGEX in perl, start matching from the n occurrence of elem e", "body": "<p>You could use the global modifier <code>/g</code> and search incrementally for the Nth field. Then just delete the following field</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = 'elem1 | elem2 | elem3 | elem4 | elem5 | elem6';\n\n$s =~ /\\|/g for 1 .. 3;\n$s =~ s/\\G.*?\\|//;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>elem1 | elem2 | elem3 | elem5 | elem6\n</code></pre>\n\n<p>But that doesn't work for the last field in the string. The tidiest way is probably to use <code>split</code> and <code>join</code></p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = 'elem1 | elem2 | elem3 | elem4 | elem5 | elem6';\n\n$s = do {\n    my @s = split /\\|/, $s;\n    splice @s, 3, 1;\n    join '|', @s;\n};\n\nsay $s;\n</code></pre>\n\n<p>The output is identical to that of the code above</p>\n"}], "owner": {"reputation": 33, "user_id": 4350639, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-wvg9rIRBkAM/AAAAAAAAAAI/AAAAAAAAAE8/vokpBFKn-W4/photo.jpg?sz=128", "display_name": "Guido Pujadas", "link": "https://stackoverflow.com/users/4350639/guido-pujadas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1479931367, "creation_date": 1479929069, "last_edit_date": 1479929255, "question_id": 40772620, "link": "https://stackoverflow.com/questions/40772620/regex-in-perl-start-matching-from-the-n-occurrence-of-elem-e", "title": "REGEX in perl, start matching from the n occurrence of elem e", "body": "<p>i need your help with some regex. I have a .csv file with fields separated with pipes and i want a regex that starts working from the n occurrence of that pipe and delete the element after including the next '|' . For Example, start from the third pipe:</p>\n\n<pre><code>elem1 | elem2 | elem3 | elem4 | elem5 | elem6\n                  ^\n</code></pre>\n\n<p>delete result:</p>\n\n<pre><code>elem1 | elem2 | elem3 | elem5 | elem6\n</code></pre>\n\n<p>Hope you understand my problem. Thanks</p>\n"}, {"tags": ["windows", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479925193, "post_id": 40771616, "comment_id": 68767171, "body": "The <code>system</code> is for executing commands, running programs.  To open a file you use <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a>.  See <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">perlopentut</a>. But for Excel files you may want to use one of a number of modules."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479925495, "post_id": 40771616, "comment_id": 68767345, "body": "@zdim I know how to open files for reading, writing. I wasn&#39;t explicit enough. I will edit the question"}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 3, "creation_date": 1479925700, "post_id": 40771616, "comment_id": 68767449, "body": "<code>system(1, $file)</code> will run the command and immediately return without waiting for the child to finish."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479926099, "post_id": 40771616, "comment_id": 68767678, "body": "OK, I see.  Still, <code>system</code> executes commands, and your example &quot;runs&quot; an Excel file! I am surprised that it works.  You want to run an application which will display the file, like office or such.  (Hopefully something far ligther.) So you want to do it in a <i>non-blocking</i> way.  See the comment by <a href=\"http://stackoverflow.com/users/23512/tanktalus\">tanktalus</a> for Windows."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1479926327, "post_id": 40771616, "comment_id": 68767783, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11971146/how-can-one-open-excel-the-program-not-a-file-from-a-perl-program\">How can one open Excel (the program, not a file) from a perl program?</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1479930436, "post_id": 40771616, "comment_id": 68769806, "body": "@ChankeyPathak the accepted answer there is the opposite of what the OP here wants I believe."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479931640, "post_id": 40771616, "comment_id": 68770437, "body": "@zdim: Windows uses the file type to determine what program to use to open it. So entering the name of a .xlsx file on the command line will cause it to be opened with Excel, in just the same way that entering <code>main.pl</code> will cause the file to be opened and run using <code>perl.exe</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 1, "creation_date": 1479931747, "post_id": 40771616, "comment_id": 68770493, "body": "@Tanktalus: It&#39;s important to say that that will work only on Windows."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479956309, "post_id": 40771616, "comment_id": 68778380, "body": "@Borodin  I suspected that, thank you for explaining it.  Is that then also an accepted (or preferred?) way to open application-specific files via <code>system</code> on Windows?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479959285, "post_id": 40771616, "comment_id": 68779061, "body": "@zdim: Most often you will want to do something useful with the file. You can use <code>Win32::OLE</code> to open and control the appropriate application, or in some cases, such as this one, there are reverse-engineered libraries that allow you to do a lot without using the application at all."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1479987789, "post_id": 40771616, "comment_id": 68793567, "body": "@Tanktalus thank you, this is what I was looking for."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1479992616, "post_id": 40771616, "comment_id": 68796757, "body": "@Tanktalus you can post your comment as a solution"}], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 0, "last_activity_date": 1480000992, "creation_date": 1480000992, "answer_id": 40789944, "question_id": 40771616, "link": "https://stackoverflow.com/questions/40771616/how-to-open-xlsx-file-withough-hanging-a-perl-process/40789944#40789944", "title": "How to open xlsx file withough hanging a perl process", "body": "<p>On Windows, <code>system(1, $cmd)</code> will run the command and immediately return without waiting for the child to finish.  See <a href=\"https://metacpan.org/pod/perlport#system\" rel=\"nofollow noreferrer\">perlport</a>.</p>\n\n<p>On Unix, <code>fork</code> and <code>exec</code> will work to this end.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 40789944, "answer_count": 1, "score": 1, "last_activity_date": 1480000992, "creation_date": 1479925055, "last_edit_date": 1479931668, "question_id": 40771616, "link": "https://stackoverflow.com/questions/40771616/how-to-open-xlsx-file-withough-hanging-a-perl-process", "title": "How to open xlsx file withough hanging a perl process", "body": "<p>I am trying to open a xlsx file in a Perl script with the command : \n<code>system(\"path_to_file\\\\file.xlsx\");</code><br>\nThe file is opened but it keeps the perl process hanged until I close the .xlsx file. How can I avoid that?</p>\n\n<p>The file <code>file.xlsx</code> is created in the perl script. At the end of the execution I want it to be displayed to the user (like you would manually open it) and it works but it keeps the perl process hanging until i close it.</p>\n"}, {"tags": ["perl", "reference"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479922475, "post_id": 40770839, "comment_id": 68765555, "body": "How is the comparison function going to be used?"}, {"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1479922955, "post_id": 40770839, "comment_id": 68765849, "body": "Should I take that to mean &quot;no, but maybe you can solve it some other way&quot;? I&#39;m interested in the answer for its own sake as well. I&#39;ve updated the question."}], "answers": [{"comments": [{"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 0, "creation_date": 1479923304, "post_id": 40771137, "comment_id": 68766057, "body": "I shouldn&#39;t have restricted my &quot;avoid redefining&quot; requirement to anonymous subs - obviously named works just as well. This is exactly what I&#39;d like to avoid."}, {"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 1, "creation_date": 1479923456, "post_id": 40771137, "comment_id": 68766141, "body": "Out of interest in whether it is possible and because \u2013 IMO \u2013 duplication is distracting when reading code (and especially inelegant for built-in functionality)."}, {"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 1, "creation_date": 1479923549, "post_id": 40771137, "comment_id": 68766213, "body": "As I said in the question, I suspected it would not be possible because they are not subs. So the answer is simply &quot;no&quot;."}, {"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 0, "creation_date": 1479924725, "post_id": 40771137, "comment_id": 68766913, "body": "<code>say</code> actually does not have such a sub according to the <code>CORE</code> documentation. There&#39;s more subtlety too because some of them can have references created but not be called via those references, and <code>eq</code> and friends are actually keywords like <code>while</code>. All of this information would have been really nice in an answer, leaving aside personal style preferences :("}, {"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 0, "creation_date": 1479928382, "post_id": 40771137, "comment_id": 68768807, "body": "I didn&#39;t say that you suggested anything. You seem to be under the impression that my question was something different than what I intended: can I create a reference to an operator to avoid wrapping it in a sub (explicitly mentioning <code>eq</code>). My dislike for wrapping is not the question; it&#39;s not a terrible choice but <i>my</i> preference is not to do it if possible. You repeated several times how obvious it is that you can&#39;t do this - that <i>is</i> the question! I suspected as much and stated so in the question. There is also more subtlety, which is interesting. I don&#39;t know how to be clearer than that."}, {"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 0, "creation_date": 1479930337, "post_id": 40771137, "comment_id": 68769749, "body": "I don&#39;t know why you need to keep repeating that when it has already been acknowledged. Thanks for your edits; your answer is now much more informative."}, {"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 0, "creation_date": 1479931311, "post_id": 40771137, "comment_id": 68770253, "body": "I don&#39;t see the point in continuing in circles and being (somewhat aggressively) accused of things, so I won&#39;t post further here if you want to have that level of conversation. My understanding from the documentation is that some operators can have references taken (since 5.16), some cannot, and some can but cannot be called via those references. The common binary comparison operators fall into the second category, so it is not possible to achieve what I asked for those. Which part specifically of my understanding is incorrect?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 0, "creation_date": 1479931512, "post_id": 40771137, "comment_id": 68770364, "body": "I added the answer to the question you asked in the comments to my answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 1, "creation_date": 1479931610, "post_id": 40771137, "comment_id": 68770422, "body": "Re &quot;<i>some operators can have references taken (since 5.16), some cannot</i>&quot;, No, you can do it for any operator (as I showed). You just can&#39;t use the <code>\\&amp;CORE::syntax</code> for some of them. /// Re &quot;<i>some can but cannot be called via those references</i>&quot;, That doesn&#39;t make any sense."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1479932144, "last_edit_date": 1479932144, "creation_date": 1479923211, "answer_id": 40771137, "question_id": 40770839, "link": "https://stackoverflow.com/questions/40770839/take-a-reference-to-a-perl-operator/40771137#40771137", "title": "Take a reference to a Perl operator", "body": "<p>Creating a string is done using <code>\"abc\"</code>.</p>\n\n<p>Creating an operator is done using <code>sub { $_[0] eq $_[1] }</code> or like <code>eval('$_[0] eq $_[1]')</code>.</p>\n\n<p>These don't duplicate the operator; they create it.</p>\n\n<p>In the comments, you keep insisting your question asks if it's possible to get a reference to an operator without creating it (\"wrapping\" it in code) first. Obviously, the answer is no.</p>\n\n<hr>\n\n<p>The question, on the other hand, asks if it's possible to get a reference to an operator, or rather, to <code>eq</code> specifically.</p>\n\n<p>It is possible to take a reference to some operators using <code>\\&amp;CORE::op_name</code><sup>[1]</sup>, but not <code>eq</code>. The automatic generation of a sub using that syntax is only supported for operators whose syntax can be approximated by a sub with a prototype<sup>[2]</sup>.</p>\n\n<p>Of course, you could easily create a callable instance of the operator yourself instead of having Perl create it for you:</p>\n\n<pre><code>my $eq = sub { $_[0] eq $_[1] };\n\ncompare(\"OTHER_KEY\", $eq)    \n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub eq { $_[0] eq $_[1] }\n\ncompare(\"OTHER_KEY\", \\&amp;eq)\n</code></pre>\n\n<p>If you want to avoid code duplication (of having a bunch of similar sub declarations), you can use a <code>eval</code>.</p>\n\n<pre><code>eval(\"sub $_ { \\$_[0] $_ \\$_[1] }\")\n   for qw( eq ne gt lt );\n\ncompare(\"OTHER_KEY\", \\&amp;eq)\n</code></pre>\n\n<p>You could simply use the following, but that would be incredibly wasteful and dangerous:</p>\n\n<pre><code>sub compare {\n   ref($_[1])\n      ? $_[1]-&gt;($val, $_[0])\n      : eval(\"\\$val $_[1] \\$_[0]\")\n}\n\ncompare(\"OTHER_KEY\", \"eq\")`\n</code></pre>\n\n<p>If you don't want to involve any subs, the only alternative is:</p>\n\n<pre><code>sub compare {\n   ref($_[1]) ? $_[1]-&gt;($val, $_[0]) :\n   $_[1] eq \"eq\" ? $val eq $_[0] :\n   $_[1] eq \"ne\" ? $val ne $_[0] :\n   $_[1] eq \"lt\" ? $val lt $_[0] :\n   $_[1] eq \"gt\" ? $val gt $_[0] :\n   die \"Bad argument\";\n}\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Since 5.16.</p></li>\n<li><p>Only those for which <code>prototype(\"CORE::op_name\")</code> returns a defined value.  This is true for some named list operators (e.g. <code>length</code>) and some named unary operators (e.g. <code>time</code>), but it isn't for any named binary operators (e.g. <code>eq</code>).</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "edited": false, "score": 0, "creation_date": 1479923668, "post_id": 40771179, "comment_id": 68766277, "body": "I would be interested in any magical approach for the sake of intellectual curiosity but am very unlikely to actually use it (would be substantial less clear than just wrapping the operator)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1479926383, "post_id": 40771179, "comment_id": 68767806, "body": "Using <code>for (qw( eq ne gt lt )) { eval &quot;sub $_ { \\$_[0] $_ \\$_[1] }&quot; }</code> is way faster that that nasty and illegal use of AUTOLOAD!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479926832, "post_id": 40771179, "comment_id": 68768017, "body": "Re &quot;<i>There might be a way to do that without using eval</i>&quot;, You can obfuscate the <code>eval</code> using <code>require</code>, <code>do</code> and <code>s&#47;&#47;&#47;ee</code>, but you&#39;d still be calling <code>eval</code>, a necessary step in generating code."}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479929122, "post_id": 40771179, "comment_id": 68769185, "body": "@ikegami re: <code>nasty and illegal use of AUTOLOAD</code> - I assume this is your opinion?  I also read that with a joking tone, but it&#39;s hard to tell from just text.  I find <code>AUTOLOAD</code> <i>weird</i> and a obfuscating, but also can be really cool.  Also, yes, your example would be faster."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479929411, "post_id": 40771179, "comment_id": 68769331, "body": "It&#39;s not so nasty now that I added <code>die &quot;...&quot; if !$bin_ops{$AUTOLOAD};</code>. Now it&#39;s just nasty in terms of speed. (The OP is balking at calling a simple sub, so instead you posted a solution that involves calling a very complex sub, plus <code>eval</code>, plus the body of the OP was trying to avoid in the first place! /// As for illegal, AUTOLOAD is for methods, but you&#39;re using it for a non-method."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479929656, "post_id": 40771179, "comment_id": 68769440, "body": "I apparently remember incorrectly for the illegal bit. It clearly show it used for sub calls in the docs."}, {"owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "edited": false, "score": 2, "creation_date": 1479936029, "post_id": 40771179, "comment_id": 68772524, "body": "I had assumed the reason he didn&#39;t want to create more subs to handle all the different comparators he might possibly want to use was that he didn&#39;t want to create the extra code, not for performance reasons.  I agree that checking a list of approved options is generally a good idea.  Keep in mind that example was only added because OP was interested in learning more about <b>black magic</b> perl."}], "tags": [], "owner": {"reputation": 335, "user_id": 6665383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MVEE-7g_i5c/AAAAAAAAAAI/AAAAAAAADpU/_CP1fJ1LVhU/photo.jpg?sz=128", "display_name": "Nathan Loyer", "link": "https://stackoverflow.com/users/6665383/nathan-loyer"}, "is_accepted": true, "score": 4, "last_activity_date": 1479936455, "last_edit_date": 1479936455, "creation_date": 1479923395, "answer_id": 40771179, "question_id": 40770839, "link": "https://stackoverflow.com/questions/40770839/take-a-reference-to-a-perl-operator/40771179#40771179", "title": "Take a reference to a Perl operator", "body": "<p>Comparisons like <code>eq</code> and <code>gt</code> fall under a special category of the CORE functions where you can't create references to them.  This is detailed in the documentation here <a href=\"http://perldoc.perl.org/CORE.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/CORE.html</a></p>\n\n<p>So it looks like you can't do what you want to.  I think your options include:</p>\n\n<ul>\n<li>Use anonymous subs or named subs to wrap the comparator you want to use</li>\n<li>Passing in the string <code>'eq'</code> and doing an <code>if</code> in <code>compare_to</code> and calling your comparator there.</li>\n<li>You could do what some other languages do and make the second argument 1, 0, or -1 and take that to stand for <code>gt</code>, <code>eq</code>, <code>lt</code>, then if the value is a coderef, call that.</li>\n<li>There might be a psuedo-magic way to approach this using <code>AUTOLOAD</code> if you are interested in going down that route. </li>\n</ul>\n\n<p><strong>Update:</strong></p>\n\n<p>Example of <code>AUTOLOAD</code> magic:</p>\n\n<pre><code>use feature qw( say );\n\nmy %bin_ops = map { $_ =&gt; 1 } qw( eq ne gt lt );\nsub AUTOLOAD {\n    $AUTOLOAD =~ s/^.*:://;\n    die \"...\" if !$bin_ops{$AUTOLOAD};\n    return eval \"\\$_[0] $AUTOLOAD \\$_[1]\";\n}\n\nsub compare_to {\n    my ($sub, $a, $b) = @_;\n    return $sub-&gt;($a, $b);\n}\n\nsay compare_to(\\&amp;eq, 1, 1) ? \"yep\" : \"nope\";\nsay compare_to(\\&amp;eq, 1, 0) ? \"yep\" : \"nope\";\nsay compare_to(\\&amp;gt, 1, 0) ? \"yep\" : \"nope\";\nsay compare_to(\\&amp;lt, 1, 0) ? \"yep\" : \"nope\";\n</code></pre>\n\n<p>Running it:</p>\n\n<pre><code>&gt; perl tmp/test_coreref.pl\nyep\nnope\nyep\nnope\n</code></pre>\n\n<p>There might be a way to do that without using eval, but I'm not going to pursue this further for the time being.</p>\n"}], "owner": {"reputation": 2438, "user_id": 2492, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d6b86488273310fc47ea40f31adb45b?s=128&d=identicon&r=PG", "display_name": "Sam Brightman", "link": "https://stackoverflow.com/users/2492/sam-brightman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 2, "accepted_answer_id": 40771179, "answer_count": 2, "score": 2, "last_activity_date": 1479936455, "creation_date": 1479922225, "last_edit_date": 1479923871, "question_id": 40770839, "link": "https://stackoverflow.com/questions/40770839/take-a-reference-to-a-perl-operator", "title": "Take a reference to a Perl operator", "body": "<p>In Perl, is it possible to take a sub reference to an operator (e.g. <code>eq</code> or <code>gt</code>)? Or is it not possible because they are not subs? I'd like to avoid redefining operators as subs where a comparison function is required.</p>\n\n<p>I'm applying a checking function to config values, where the checker depends on the config key. One such checker is \"compare to another key's value\". The compare function can be defined via anonymous sub, or a named sub can be implement for each comparison type, but I think it's nicer to be able to say <code>compare_to(\"OTHER_KEY\", \\&amp;eq)</code>.</p>\n\n<p>EDIT: since one commentator wanted context and someone else voted to close as \"too broad\", I'll be <em>absolutely clear</em> that the question is not \"how to write a config checker\". This is only about taking references to operators: is it possible or not, what caveats apply?</p>\n"}, {"tags": ["html", "perl"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1479921861, "last_edit_date": 1479921861, "creation_date": 1479921544, "answer_id": 40770635, "question_id": 40770511, "link": "https://stackoverflow.com/questions/40770511/perl-readparse-to-process-select-html-tag-with-multiple-options-slected/40770635#40770635", "title": "Perl ReadParse to process SELECT html tag with multiple options slected", "body": "<pre><code>use CGI qw(:cgi-lib :standard);\n&amp;ReadParse(%in);\n</code></pre>\n\n<p>Aaaah, the nineties...</p>\n\n<blockquote>\n  <p>How do I access all the options selected from a <code>SELECT</code> tag?</p>\n</blockquote>\n\n<p>Use <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#Fetching-the-value-or-values-of-a-single-named-parameter\" rel=\"nofollow noreferrer\"><code>multi_param</code></a>:</p>\n\n<pre><code>my @v = multi_param('cms');\n</code></pre>\n\n<p>In doing so, you'll be giving up compatibility with Perl 4's <code>cgi-lib.pl</code>. That is, don't use <code>&amp;ReadParse(%in);</code> Instead, access values of CGI parameters using <code>param</code> and ditch the <code>%in</code> hash.</p>\n\n<p>According to <code>perldoc perlhist</code>, last version of Perl 4 was released in 1993:</p>\n\n<blockquote>\n  <p><code>Larry    4.036         1993-Feb-05     Very stable.</code></p>\n</blockquote>\n\n<p>You may be stuck with an older version of <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow noreferrer\">CGI.pm</a>. It was added in 2014. If that is the case, you can use <code>my @v = param('cms');</code> but do read the documentation.</p>\n"}], "owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 40770635, "answer_count": 1, "score": 1, "last_activity_date": 1479921861, "creation_date": 1479921170, "question_id": 40770511, "link": "https://stackoverflow.com/questions/40770511/perl-readparse-to-process-select-html-tag-with-multiple-options-slected", "title": "Perl ReadParse to process SELECT html tag with multiple options slected", "body": "<p>How do I access all the options selected from a SELECT tag which is then passed into a form using POST\nThe HTML form is setup like this:</p>\n\n<pre><code>&lt;div class=\"header\"&gt;        \n&lt;FORM ACTION=/cgi-local/process.pl METHOD=POST&gt;\n&lt;p&gt;\nCMS:\n&lt;/p&gt;\n&lt;h6&gt;Hold Down control(CTRL) key to select multiple CMSs&lt;/h6&gt;\n\n&lt;SELECT NAME = \"cms\" multiple&gt;\n\n&lt;option&gt;&lt;/option&gt;&gt;\n&lt;option&gt;#1 - 15 N 0.4 N/O ONTARIO AVE&lt;/option&gt;&gt;\n&lt;option&gt;#2 - 15 S 1.1 S/O 6TH&lt;/option&gt;&gt;\n&lt;option&gt;#3 - 215 N CENTRAL 215&lt;/option&gt;&gt;\n&lt;option&gt;#4 - 215 S 0.45 S/O IOWA&lt;/option&gt;&gt;\n\n&lt;/SELECT&gt;\n&lt;/p&gt;\n&lt;INPUT TYPE=SUBMIT VALUE=\"Submit Form\" align=\"center\"&gt;\n\n&lt;/FORM&gt;\n&lt;/INPUT&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The Perl portion where it handles the POST data using ReadParse:</p>\n\n<pre><code>use CGI qw(:cgi-lib :standard);\n&amp;ReadParse(%in);\n\n$cms = $in{\"cms\"}; \n</code></pre>\n\n<p>Displaying the content of <code>$cms</code> just shows the first option selected despite multiple selection. How do I access the passed in data? </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1479914601, "post_id": 40768163, "comment_id": 68760470, "body": "What exactly are you asking?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479914661, "post_id": 40768163, "comment_id": 68760512, "body": "In your subs the data structures are not lexical. That might make a difference to what you are seeing (or want to see, which I don&#39;t really know). Also just printing a hash variable probably doesn&#39;t do what you think. You should use Data::Dumper or Data::Printer to inspect your data structures."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1479916134, "post_id": 40768163, "comment_id": 68761513, "body": "Always put <b><i><code>use strict;</code></i></b> and <b><i><code>use warnings;</code></i></b> at the top your script. <b><i><code>use diagnostics;</code></i></b> may help you make sense of the errors and warnings you get. Without <code>strict</code> and <code>warnings</code>, you are bound to get yourself into confusing situations."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479921671, "post_id": 40768561, "comment_id": 68765124, "body": "<i><code>$record3</code> will be assigned the number of elements in the returned list</i> - No. <code>$record3</code> will get the last element in the returned list, not the number of elements in the returned list. In this case, that will be <code>undef</code> as there are no elements in the returned list. And in numeric contexts, that <code>undef</code> will be interpreted as 0."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479922485, "post_id": 40768561, "comment_id": 68765563, "body": "@DaveCross Corrected. Thanks for catching my mistake."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1479922429, "last_edit_date": 1479922429, "creation_date": 1479915591, "answer_id": 40768561, "question_id": 40768163, "link": "https://stackoverflow.com/questions/40768163/did-a-new-hash-get-created/40768561#40768561", "title": "Did a new &#39;hash&#39; get created", "body": "<p>First:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Scalar::Util qw( refaddr );\n\nmy %record1 = (\"Name\" =&gt; \"My Name\");\n\nprintf \"Address of %%record1 = %d\\n\", refaddr \\%record1;\n\nmy %record2 = %record1;\n\nprintf \"Address of %%record2 = %d\\n\", refaddr \\%record2;\n\nmy $record3 = \\%record1;\n\nprintf \"Address of hash pointed to by \\$record3 = %d\\n\", refaddr $record3;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>Address of %record1 = 140595226123056\nAddress of %record2 = 140595226215352\nAddress of hash pointed to by $record3 = 140595226123056</pre>\n\n<p>This shows that <code>%record1</code> and <code>%record2</code> are different hashes, whereas <code>$record3</code> points to <code>%record1</code>.</p>\n\n<p>Next,</p>\n\n<pre><code>sub some_func{\n    %record1 = ();\n    return %record1\n}\n%record2 = some_func(); # created new hash? \n</code></pre>\n\n<p>Ouch! You are clearing the <code>%record1</code> hash (that is, removing all keys and values from it). <code>%record1</code> exists outside of this function. The only thing this function returns is an empty list.</p>\n\n<p>Then <code>%record2 = some_func()</code> does two things: In the body of the function, it clears <code>%record1</code>. And, because it returns the empty list, it also clears all the keys and values from <code>%record2</code>.</p>\n\n<p>Now, add</p>\n\n<pre><code>printf \"Address of %%record1 = %d\\n\", refaddr \\%record1;\n\nprintf \"Address of %%record2 = %d\\n\", refaddr \\%record2;\n</code></pre>\n\n<p>After <code>%record2 = some_func()</code>, and you'll see that <code>%record1</code> and <code>%record2</code> are still the same hashes. However, they are both empty:</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper $_ for \\(%record1, %record2);\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$VAR1 = {};\n$VAR1 = {};</pre>\n\n<p>Finally, turning our attention to:</p>\n\n<pre><code>$record3 = some_func(); # ref to original hash?\n</code></pre>\n\n<p>We already established that <code>some_func</code> returns the empty list. However, because you are assigning the return value to a scalar, you are imposing scalar context on the returned list. <code>$record3</code> will get the last element in the returned list, not the number of elements in the returned list. In this case, that will be <code>undef</code> as there are no elements in the returned list. And in numeric contexts, that undef will be interpreted as <code>0</code>. (thanks to David Cross for catching my array/list confusion).</p>\n\n<p><code>$record3</code> is no longer a reference to anything.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1479945190, "last_edit_date": 1479945190, "creation_date": 1479920057, "answer_id": 40770156, "question_id": 40768163, "link": "https://stackoverflow.com/questions/40768163/did-a-new-hash-get-created/40770156#40770156", "title": "Did a new &#39;hash&#39; get created", "body": "<blockquote>\n  <p><em>record2 is a 'shallow' copy of record1?</em></p>\n</blockquote>\n\n<p>Yes, <code>%record1</code> and <code>%record2</code> are distinct hashes, and <code>%record2</code> contains a (shallow) copy of the contents of <code>%record1</code>.</p>\n\n<blockquote>\n  <p><em>record3 is a hash ref (pointer) to record1?</em></p>\n</blockquote>\n\n<p>Yes, <code>$record3</code> contains a reference to the hash <code>%record1</code>.</p>\n\n<pre><code>$ perl -e'\n   my %record1 = ( \"Name\" =&gt; \"My Name\");\n   my %record2 = %record1;\n   my $record3 = \\%record1;\n   CORE::say( \\%record1 == \\%record2 ? \"same\" : \"different\" );\n   CORE::say( \\%record1 == $record3  ? \"same\" : \"different\" );\n'\ndifferent\nsame\n</code></pre>\n\n<p>Note that while references and pointers are very similar, they aren't the same thing. A reference is a pointer on which you can't perform arithmetic. Perl only has references.</p>\n\n<blockquote>\n  <p><em>created new hash?</em></p>\n</blockquote>\n\n<p>No. <code>my</code> creates new variables, and you didn't use <code>my</code>. Undeclared variables such as <code>%some_hash</code> are created when a reference to them is first encountered (and thus at compile-time instead of during the call to <code>some_func</code>).</p>\n\n<p>Furthermore, <code>some_func</code> didn't return a hash. It's impossible to return anything but scalars from a sub. (Also, it's impossible to pass anything but scalars to a sub.) <code>some_func</code> in fact returns the <em>contents</em> of <code>%record1</code>, which is an empty list in this case.</p>\n\n<blockquote>\n  <p><em>ref to original hash?</em></p>\n</blockquote>\n\n<p>Yes. The returned scalar (a reference to <code>%some_hash</code>) is copied into <code>$some_hash_ref3</code>, so <code>$some_hash_ref3</code> then contains a reference to <code>%some_hash</code>.</p>\n"}], "owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1479945190, "creation_date": 1479914394, "last_edit_date": 1479917399, "question_id": 40768163, "link": "https://stackoverflow.com/questions/40768163/did-a-new-hash-get-created", "title": "Did a new &#39;hash&#39; get created", "body": "<p>Here is some tests that I setup to help me understand hashes and references:</p>\n\n<pre><code>my %record1 = ( \"Name\"    =&gt; \"My Name\");\nmy %record2 = %record1;\nmy $record3 = \\%record1;\n$record1{'test'}= \"yes\";\nprint \\%record1 ;\nprint \"\\n\";\nprint %record1;\nprint \"\\n\";\nprint \\%record2;\nprint \"\\n\";\nprint %record2;\nprint \"\\n\";\nprint %$record3;\n</code></pre>\n\n<ul>\n<li>record2 is a 'shallow' copy of record1?</li>\n<li>record3 is a hash ref (pointer) to record1?</li>\n</ul>\n\n<p>and</p>\n\n<pre><code>sub some_func{\n    %some_hash = ();\n...\n    return %some_hash;\n}\n%some_hash2 = some_func(); # created new hash? \n\nsub some_func2{\n    %some_hash = ();\n...\n    return \\%some_hash\n}\n$some_hash_ref3 = some_func2(); # ref to original hash? \n</code></pre>\n"}, {"tags": ["java", "perl"], "comments": [{"owner": {"reputation": 1622, "user_id": 1738941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RAhB7.jpg?s=128&g=1", "display_name": "Jacob Robbins", "link": "https://stackoverflow.com/users/1738941/jacob-robbins"}, "edited": false, "score": 0, "creation_date": 1479912575, "post_id": 40767304, "comment_id": 68759056, "body": "Are you trying to save the PWD using perl?  Or do you want to save the PWD from a Java program, and also run a perl script from the program?"}, {"owner": {"reputation": 8939, "user_id": 3270427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nv26.jpg?s=128&g=1", "display_name": "McNets", "link": "https://stackoverflow.com/users/3270427/mcnets"}, "edited": false, "score": 0, "creation_date": 1479913015, "post_id": 40767304, "comment_id": 68759390, "body": "Please take a look at: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479912467, "post_id": 40767445, "comment_id": 68758985, "body": "thank u for solution, But im looking  in java code  we will pass List&lt;String&gt; cmdlist= new ArrayList&lt;String&gt;();    cmdlist.add(&quot;echo &#39;#!/bin/perl &#39; &gt; &quot; + newfileLoc);   cmdlist.add(&quot;echo &#39; pwd&#39; &gt;&gt; &quot; +newfileLoc);"}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479913224, "post_id": 40767445, "comment_id": 68759553, "body": "List&lt;String&gt; cmds = new ArrayList&lt;String&gt;();            cmdlist.add(&quot;echo &#39;#!/bin/sh&#39; &gt; &quot; + abc.txt);             cmdlist.add(&quot;echo &#39;pwd&#39; &gt;&gt; &quot; + abc.txt);             cmdlist.add(&quot;echo &#39;output=$?&#39; &gt;&gt;&quot; + abc.txt);             cmdlist.add(&quot;echo &#39;exit $output&#39; &gt;&gt;&quot;+ abc.txt);    this i wanted to convert to perl script"}], "tags": [], "owner": {"reputation": 8332, "user_id": 6440704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816327571e74d2518fa5d5feeb6be737?s=128&d=identicon&r=PG", "display_name": "Anton Balaniuc", "link": "https://stackoverflow.com/users/6440704/anton-balaniuc"}, "is_accepted": true, "score": 1, "last_activity_date": 1479912227, "creation_date": 1479912227, "answer_id": 40767445, "question_id": 40767304, "link": "https://stackoverflow.com/questions/40767304/how-do-i-write-java-code-to-save-pwd-directory-to-new-file-using-perl/40767445#40767445", "title": "How do I write Java code to save PWD directory to new file using Perl?", "body": "<p>You can do it using Java only. For example <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html\" rel=\"nofollow noreferrer\">Paths</a> class.</p>\n\n<pre><code>Path pwd = Paths.get(\"\");\nSystem.out.println(pwd.toAbsolutePath());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479915922, "post_id": 40768534, "comment_id": 68761375, "body": "if i want to write content of script.pl in Java, How we can do that ?"}, {"owner": {"reputation": 1041, "user_id": 4426099, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z98jR.jpg?s=128&g=1", "display_name": "rimonmostafiz", "link": "https://stackoverflow.com/users/4426099/rimonmostafiz"}, "reply_to_user": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479916511, "post_id": 40768534, "comment_id": 68761775, "body": "@User1 do you want to write the output of executed command to a file from your java code ? or you just want to write the content of the script.pl ? if yes then where you want to write that ? to a file from your java code ?"}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479917175, "post_id": 40768534, "comment_id": 68762238, "body": "thank u, im looking for output of executed cmd to new file"}, {"owner": {"reputation": 1041, "user_id": 4426099, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z98jR.jpg?s=128&g=1", "display_name": "rimonmostafiz", "link": "https://stackoverflow.com/users/4426099/rimonmostafiz"}, "reply_to_user": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479917887, "post_id": 40768534, "comment_id": 68762734, "body": "@User1 I have edited my answer, now you can write the output of the executed command to <code>output.txt</code> file."}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479920694, "post_id": 40768534, "comment_id": 68764580, "body": "thank u...    how to convert shell script written in java code to perl script in java                                                                                                            List&lt;String&gt; cmdlist = new ArrayList&lt;String&gt;();            cmdlist.add(&quot;echo &#39;#!/bin/sh&#39; &gt; &quot; + abc.txt);             cmdlist.add(&quot;echo &#39;pwd&#39; &gt;&gt; &quot; + abc.txt);             cmdlist.add(&quot;echo &#39;output=$?&#39; &gt;&gt;&quot; + abc.txt);             cmdlist.add(&quot;echo &#39;exit $output&#39; &gt;&gt;&quot;+ abc.txt);  i wanted to convert this to perl using java code"}, {"owner": {"reputation": 1041, "user_id": 4426099, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z98jR.jpg?s=128&g=1", "display_name": "rimonmostafiz", "link": "https://stackoverflow.com/users/4426099/rimonmostafiz"}, "reply_to_user": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1479953390, "post_id": 40768534, "comment_id": 68777653, "body": "@User1 do you want to append some line in <code>abc.txt</code> like you said do you want to add list of command to a perl script file ?"}, {"owner": {"reputation": 1041, "user_id": 4426099, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z98jR.jpg?s=128&g=1", "display_name": "rimonmostafiz", "link": "https://stackoverflow.com/users/4426099/rimonmostafiz"}, "reply_to_user": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480341676, "post_id": 40768534, "comment_id": 68908950, "body": "then you just need to a new print writer object with new file and write the commands one by one. if you have a list that has the commands then iterate through the list and append it to the file. its pretty simple... try that, if you still find that difficult then comment here I will edit and add that part in my answer."}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480342243, "post_id": 40768534, "comment_id": 68909358, "body": "Thank you for support.   These piece of two codes.. I have to convert to perl . ca you please help me."}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480342260, "post_id": 40768534, "comment_id": 68909370, "body": "String fileLoc= &quot;/tmp/abc&quot;;                  cmd.add(&quot;echo &#39;#!/bin/sh&#39; &gt; &quot; + fileLoc); \t\tcmd.add(&quot;echo &#39;CAT_VAL=<code>cat &quot; + DB_LOG + File.separator + &quot;spf.txt&quot; \t\t\t\t+ &quot;</code>&#39; &gt;&gt; &quot; + fileLoc); \t\tcmd.add(&quot;echo &#39;if [ $CAT_VAL = \\&quot;SPFILE\\&quot; ]; then&#39; &gt;&gt; &quot; + fileLoc); \t\tcmd.add(&quot;echo &#39;   exit 0&#39; &gt;&gt; &quot; + fileLoc); \t\tcmd.add(&quot;echo &#39;else&#39; &gt;&gt; &quot; + fileLoc); \t\tcmd.add(&quot;echo &#39;  echo &#39; Failed .&#39;&#39; &gt;&gt; &quot; \t\t\t\t+ fileLoc); \t\tcmd.add(&quot;echo &#39;   exit 2&#39; &gt;&gt; &quot; + fileLoc); \t\tcmd.add(&quot;echo &#39;fi&#39; &gt;&gt; &quot; + fileLoc);"}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480342352, "post_id": 40768534, "comment_id": 68909426, "body": "is this &gt;&gt; behaviors is different in shell script and perl ?"}, {"owner": {"reputation": 1041, "user_id": 4426099, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z98jR.jpg?s=128&g=1", "display_name": "rimonmostafiz", "link": "https://stackoverflow.com/users/4426099/rimonmostafiz"}, "reply_to_user": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480342871, "post_id": 40768534, "comment_id": 68909809, "body": "I have edited my answer, if you want to append command you have to do like that. I don&#39;t have any idea about <code>&gt;&gt;</code> behaviors different in shell and perl."}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480343312, "post_id": 40768534, "comment_id": 68910061, "body": "yaa sure It will more help full.. But I wanted to convert above script code to  Perl script.  i.e abc file should be content of perl script"}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480343524, "post_id": 40768534, "comment_id": 68910170, "body": "#!/usr/bin/perl  my $CAT_VAL=<code>cat &#47;tmp&#47;...&#47;spf.txt</code>; if($CAT_VA eq &quot;SPFILE&quot;) { exit; }else {  print &quot;failed &quot;; exit ; }"}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480343564, "post_id": 40768534, "comment_id": 68910199, "body": "the above script code should be there in abc file.. i wanted write above shell script to perl script in java.. finally abc contains perlscript code."}, {"owner": {"reputation": 1041, "user_id": 4426099, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z98jR.jpg?s=128&g=1", "display_name": "rimonmostafiz", "link": "https://stackoverflow.com/users/4426099/rimonmostafiz"}, "reply_to_user": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480345287, "post_id": 40768534, "comment_id": 68911258, "body": "where is that stored in your java code ? in a String variable ? if yes then just w.write(variable) will do the work. or are you wanting to convert a shell script code into a perl script code using java ? in that case I can&#39;t help you."}, {"owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "edited": false, "score": 0, "creation_date": 1480345517, "post_id": 40768534, "comment_id": 68911408, "body": "But actually this cmds should execute through  ProcessBuilder pb = new ProcessBuilder(cmds); Actually i wanted shell script code into perl script using java"}], "tags": [], "owner": {"reputation": 1041, "user_id": 4426099, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/z98jR.jpg?s=128&g=1", "display_name": "rimonmostafiz", "link": "https://stackoverflow.com/users/4426099/rimonmostafiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1480342262, "last_edit_date": 1480342262, "creation_date": 1479915498, "answer_id": 40768534, "question_id": 40767304, "link": "https://stackoverflow.com/questions/40767304/how-do-i-write-java-code-to-save-pwd-directory-to-new-file-using-perl/40768534#40768534", "title": "How do I write Java code to save PWD directory to new file using Perl?", "body": "<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\" rel=\"nofollow noreferrer\">Runtime.getRuntime().exec()</a> or the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\">Process API</a>. \nYou can then just call <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html#getInputStream%28%29\" rel=\"nofollow noreferrer\">process.getInputStream()</a> to get <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a>.</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Run {\n    public static void main(String[] args) throws IOException {\n        Process process = Runtime.getRuntime().exec(\"perl script.pl\");\n        InputStream inputStream = process.getInputStream();\n        Scanner s = new Scanner(inputStream).useDelimiter(\"\\\\.\");\n        String result = s.hasNext() ? s.next() : \"\";\n        System.out.println(result);\n\n        //Creating a text file to write the output of the executed command\n        //note that this will overwrite the file if it already exists\n        PrintWriter writer = new PrintWriter(\"output.txt\", \"UTF-8\");\n        writer.write(result);\n        writer.close();\n\n        // EDIT: \n        // writing commands to file name abc.txt\n        List&lt;String&gt; cmdList = new ArrayList&lt;String&gt;();\n        cmdList.add(\"echo '#!/bin/sh' &gt;&gt; \");\n        cmdList.add(\"echo 'pwd' &gt;&gt; \");\n        cmdList.add(\"echo 'output=$?' &gt;&gt;\");\n        cmdList.add(\"echo 'exit $output' &gt;&gt;\");\n\n        PrintWriter w = new PrintWriter(\"abc.txt\");\n        for (String cmd : cmdList) {\n            w.println(cmd);\n        }\n        w.close();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7200627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414f901155e351bd705421ea1f575d8?s=128&d=identicon&r=PG&f=1", "display_name": "User 1", "link": "https://stackoverflow.com/users/7200627/user-1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 40767445, "answer_count": 2, "score": -1, "last_activity_date": 1480342262, "creation_date": 1479911889, "question_id": 40767304, "link": "https://stackoverflow.com/questions/40767304/how-do-i-write-java-code-to-save-pwd-directory-to-new-file-using-perl", "title": "How do I write Java code to save PWD directory to new file using Perl?", "body": "<p>How to write Java code to save pwd (present working directory) to new file.</p>\n\n<p>In java , Use Perl script inside java code itself.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1479942835, "post_id": 40767929, "comment_id": 68775073, "body": "Thanks @mob for the precise answer!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1479945042, "last_edit_date": 1479945042, "creation_date": 1479913664, "answer_id": 40767929, "question_id": 40767302, "link": "https://stackoverflow.com/questions/40767302/access-global-perl-variables-from-inline-c/40767929#40767929", "title": "access global perl variables from inline C", "body": "<p>Use the <code>get_sv</code> (or <code>get_av</code> / <code>get_hv</code>) macro to access a global variable in Inline/XS code.</p>\n\n<pre><code>package main;\nuse Inline C;\nour $Bar = 123;\ntest();\n__DATA__\n__C__\nvoid test() {\n    SV* var = get_sv(\"Bar\", GV_ADD);\n    const char *val = SvPVutf8_nolen(var);\n    printf(\"Value of $Bar is %s\", val);\n}\n</code></pre>\n\n<p>The <code>GV_ADD</code> flag will create the variable (and initialize it to <code>undef</code>) if it doesn't already exist. If you access a variable that does not already exist and you do not use this flag, <code>get_sv</code> will return <code>NULL</code>.</p>\n\n<p>If the variable you are looking for is in a different package from <code>main</code>, you must qualify it in the <code>get_sv</code> call:</p>\n\n<pre><code>package Foo;\nuse Inline C;\nour $Bar = 123;\ntest();\n__DATA__\n__C__\nvoid test() {\n    SV* var = get_sv(\"Foo::Bar\", GV_ADD);   /* need \"Foo::\" now */\n    const char *val = SvPVutf8_nolen(var);\n    printf(\"Value of $Foo::Bar is %s\", val);\n}\n</code></pre>\n\n<p>This is documented in <a href=\"https://metacpan.org/pod/perlguts#Working-with-SVs\" rel=\"nofollow noreferrer\"><code>perlguts</code></a>.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 1, "accepted_answer_id": 40767929, "answer_count": 1, "score": 7, "last_activity_date": 1479945042, "creation_date": 1479911887, "question_id": 40767302, "link": "https://stackoverflow.com/questions/40767302/access-global-perl-variables-from-inline-c", "title": "access global perl variables from inline C", "body": "<p>I am trying to access perl global variable ($data in this case) from within a inline C function, but the \"data\" variable I used is not defined.\nAny idea how to do it?</p>\n\n<p>Thanks</p>\n\n<p>The following code snippet will give error complaining that the variable \"data\" is not declared.</p>\n\n<pre><code>$data = \"this is a test\";\ntest();\n\nuse Inline C =&gt; &lt;&lt;'END_OF_C_CODE';\n\nvoid test() {\n    printf(\"here: %s\\n\", SvPV(data, PL_na));\n}\n\nEND_OF_C_CODE\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1479909968, "post_id": 40766535, "comment_id": 68757269, "body": "I think I want to say no, you can&#39;t. But I&#39;m not sure I could prove it. My question would be - why do you need to know this? There may be a better way to accomplish that goal."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1479910291, "post_id": 40766535, "comment_id": 68757488, "body": "I think we&#39;ve had a similar question a few weeks back. I remember something vaguely, including a similar clarification question @Sobrique."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1479910504, "post_id": 40766535, "comment_id": 68757647, "body": "Sorry, I can no longer mark this as a duplicate because I thought I picked the wrong one before, but this question is answered: <a href=\"https://stackoverflow.com/q/18217865/100754\">stackoverflow.com/q/18217865/100754</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1479910709, "post_id": 40766535, "comment_id": 68757781, "body": "@Sinan&#220;n&#252;r that&#39;s the one I thought. I hammered it."}], "owner": {"reputation": 3142, "user_id": 2474792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/327964b28dd74fd6bbbe669aac4edf04?s=128&d=identicon&r=PG", "display_name": "Demi", "link": "https://stackoverflow.com/users/2474792/demi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1479910698, "answer_count": 0, "score": 0, "last_activity_date": 1479910404, "creation_date": 1479909758, "question_id": 40766535, "link": "https://stackoverflow.com/questions/40766535/determining-if-a-perl-function-has-been-called-as-a-method", "closed_reason": "Duplicate", "title": "Determining if a Perl function has been called as a method", "body": "<p>Is there a way to tell if my Perl function has been called as <code>Package-&gt;method($a)</code> as opposed to <code>Package::method('Package', $a)</code>?</p>\n"}, {"tags": ["bash", "perl", "perlbrew"], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1479901536, "answer_count": 0, "score": 2, "last_activity_date": 1485092423, "creation_date": 1479900222, "last_edit_date": 1485092423, "question_id": 40763178, "link": "https://stackoverflow.com/questions/40763178/perlbrew-keeps-forgetting-my-default-perl-when-i-close-my-terminal", "closed_reason": "Duplicate", "title": "Perlbrew keeps forgetting my default Perl when I close my terminal", "body": "<p>I have installed perlbrew on a Linux Mint 17.3 Rosa system. When I type <code>perlbrew list</code> it shows:</p>\n\n<pre><code>  perl-5.16.0\n  perl-5.22.0\n</code></pre>\n\n<p>If I type <code>perlbrew switch perl-5.22.0</code> it says:</p>\n\n<pre><code>A sub-shell is launched with perl-5.22.0 as the activated perl. Run 'exit' to finish it.\n</code></pre>\n\n<p>When I check this with <code>perlbrew list</code>it shows the correct output:</p>\n\n<pre><code> perl-5.16.0\n\n* perl-5.22.0\n</code></pre>\n\n<p>But as soon as I close my terminal it forgets that <code>perl-5.22.0</code> was set to be my default Perl.</p>\n"}, {"tags": ["perl", "subroutine", "dereference", "perl-hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1479898069, "post_id": 40762273, "comment_id": 68749019, "body": "You can&#39;t run a coderef inside a string interpolation."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1479900239, "post_id": 40762273, "comment_id": 68750696, "body": "Also refer to  <i>&quot;Quote and Quote-like Operators&quot;</i> in <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\"><code>perlop</code></a> for information of what can be interpolated inside a string."}, {"owner": {"reputation": 113, "user_id": 5341452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/522816331211719/picture?type=large", "display_name": "Ihsan Izwer", "link": "https://stackoverflow.com/users/5341452/ihsan-izwer"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479900821, "post_id": 40762273, "comment_id": 68751109, "body": "Thanks mate I will @H&#229;konH&#230;gland"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479916708, "post_id": 40762273, "comment_id": 68761922, "body": "@simbabque you can run a coderef inside of a string: <code>my %h=(a=&gt;sub{&#39;hi&#39;;}); print &quot;${\\$h{a}-&gt;()} there\\n&quot;;</code> It&#39;s not pretty and I wouldn&#39;t necessarily recommend it, but it works"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479916801, "post_id": 40762273, "comment_id": 68761999, "body": "@stevieb I have an explanation of how to do it with an array ref below in my answer. I did say <i>you can&#39;t</i> on purpose. Your example with the scalar ref is shorter but still ugly and shouldn&#39;t be done."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5341452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/522816331211719/picture?type=large", "display_name": "Ihsan Izwer", "link": "https://stackoverflow.com/users/5341452/ihsan-izwer"}, "edited": false, "score": 0, "creation_date": 1479898934, "post_id": 40762327, "comment_id": 68749697, "body": "Yes that is the correct answer. Thank you. When I apply that fix, number 1 is appearing after the printed value. Why is that? and any way to get rid of it. I mean I get the output as &#39;hello1&#39; and &#39;bye1&#39;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113, "user_id": 5341452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/522816331211719/picture?type=large", "display_name": "Ihsan Izwer", "link": "https://stackoverflow.com/users/5341452/ihsan-izwer"}, "edited": false, "score": 0, "creation_date": 1479899141, "post_id": 40762327, "comment_id": 68749845, "body": "@Ihsan I&#39;ve already explained where the <code>1</code> is coming from. I had actually expected it to be directly behind the text, and if you look at <a href=\"http://stackoverflow.com/revisions/40762327/1\">the initial version of the answer</a> I&#39;ve had it like that. But on my Perl 5.20.1 it doesn&#39;t do that. I am not sure why. It has to do with the order in which stuff gets evaluated. The <code>print</code> gets called, and it has three args. The second arg is the code ref, which gets run. That does the <code>print &#39;hello&#39;</code>. So there is output. Then it returns <code>1</code>, which is passed to <code>print</code>. The two <code>&quot;\\n&quot;</code> are also ..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113, "user_id": 5341452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/522816331211719/picture?type=large", "display_name": "Ihsan Izwer", "link": "https://stackoverflow.com/users/5341452/ihsan-izwer"}, "edited": false, "score": 0, "creation_date": 1479899195, "post_id": 40762327, "comment_id": 68749892, "body": ".. passed to <code>print</code>. I&#39;m not clear on whether an argument list is concatenated and printed internally, or if they each get printed separately. That might also be influenced by <code>$|</code>, but I really don&#39;t know. Maybe someone with deeper knowledge of the internals will explain this later."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1479898850, "last_edit_date": 1479898850, "creation_date": 1479898126, "answer_id": 40762327, "question_id": 40762273, "link": "https://stackoverflow.com/questions/40762273/cannot-fire-subroutine-inside-a-hash-of-subroutines-in-perl/40762327#40762327", "title": "Cannot fire subroutine inside a hash of subroutines in perl", "body": "<p>Your last attempt ist the right syntax, but in the wrong place. You cannot run code inside of a string interpolation<sup>1</sup>. Move it outside of the double quotes <code>\"\"</code>.</p>\n\n<pre><code>print \"\\n\";\n$hashfun{start}-&gt;();\nprint\"\\n\";\n</code></pre>\n\n<p>It's important not to <code>print</code> the actual call to <code>$hashfun{start}</code>, because that would return <code>1</code>. That's because a sub in Perl always returns the return value of the last statement inside the sub (which can be a <code>return</code>). Here, it's a <code>print</code>. And the return value of <code>print</code> is <code>1</code> if the printing succeeded. So <code>print \"\\n\", $hashfun{start}-&gt;(), \"\\n\";</code> would output</p>\n\n<pre>\nhello\n1\n\n</pre>\n\n<hr>\n\n<p><sup>1) Actually you can, but you really shouldn't.<code>print \"\\n@{[&amp;{$hashfun{start}}]}\\n\";</code> will work. It's very magical and you should really not do that. </sup></p>\n\n<p><sup>Because arrays can be interpolated into strings, an array deref works inside of double quotes. The stuff inside that deref is being run, so the <code>&amp;$hashfun{start}</code> (which is a different way of calling the coderef) gets run. But because it returns <code>1</code> and that's not an array ref, we need to wrap it in <code>[]</code> to put it into an array ref that is then being dereferenced. <strong>Please don't use that!</strong></sup></p>\n"}], "owner": {"reputation": 113, "user_id": 5341452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/522816331211719/picture?type=large", "display_name": "Ihsan Izwer", "link": "https://stackoverflow.com/users/5341452/ihsan-izwer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 40762327, "answer_count": 1, "score": 1, "last_activity_date": 1479898850, "creation_date": 1479898008, "last_edit_date": 1479898117, "question_id": 40762273, "link": "https://stackoverflow.com/questions/40762273/cannot-fire-subroutine-inside-a-hash-of-subroutines-in-perl", "title": "Cannot fire subroutine inside a hash of subroutines in perl", "body": "<p>Hi I'm quite new to perl. I have a perl hash containing subroutines. I've tried to run it in various ways that I found online. But nothing seems to work. \nMy code :</p>\n\n<pre><code>%hashfun = (\n\nstart=&gt;sub { print 'hello' },\nend=&gt;sub { print 'bye' } \n\n);\n</code></pre>\n\n<p>And I've tried the following and more. </p>\n\n<pre><code>print \"\\n $hashfun{start} \\n\";\n</code></pre>\n\n<p>which results in the following output:</p>\n\n<blockquote>\n  <p>CODE(&lt; HexaDecimal Value >) </p>\n</blockquote>\n\n<p>Then I tried </p>\n\n<pre><code>print \"\\n $hashfun{start}-&gt;() \\n\";\n</code></pre>\n\n<p>which results in the following</p>\n\n<blockquote>\n  <p>CODE(&lt; HexaDecimal Value >) ->()</p>\n</blockquote>\n\n<p>How to fix?</p>\n"}, {"tags": ["perl", "fastcgi", "rate-limiting"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479895524, "post_id": 40760820, "comment_id": 68747221, "body": "Who do you want to block? IP addresses? What if your customers all come from a huge company network like AT&amp;T or Deutsche Telekom or something like that, where thousands of computers all share the same outgoing IP address? mod_evasive should be the right tool for the job. Also look at mod_security. It&#39;s a bit of a bigger hammer."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479895675, "post_id": 40760820, "comment_id": 68747337, "body": "In terms of Cache::FastMmap, I&#39;d not use that directly, but with CHI. That&#39;s like DBI for chaches and you can easily switch out the backend. The good thing about FastMmap is that the memory can be shared, and because there&#39;s a filename to access it, you can define the same name for all the workers, open the cache in all of them."}, {"owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479919461, "post_id": 40760820, "comment_id": 68763790, "body": "I&#39;ll be restricting access using htaccess, simply i know who all my users will be, and a know the IP they&#39;ll be coming from. I&#39;m not so much trying to prevent a Ddos, more a dos from a rogue script that left unattended could bring down either the fastcgi or the server itself. I&#39;m looking at fail2ban currently @simbabque"}], "owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1479894227, "creation_date": 1479894227, "last_edit_date": 1495535415, "question_id": 40760820, "link": "https://stackoverflow.com/questions/40760820/rate-limiting-a-fastcgi-perl-service", "title": "Rate limiting a FastCGI Perl service", "body": "<p>I have a Perl API being hosted by apache fastcgi module. It keeps 10 instances up at any given time.</p>\n\n<p>I want to implement rate limiting to prevent rogue scripts from hammering it, or Dos attacks. </p>\n\n<p>So far i've investigaed a few options at different points in the stack, all without the desired results.</p>\n\n<p><strong>Iptables</strong> - I've found i can restrict requests using the firewall, however one key issue is that iptables doesn't have much to return to the client. Since thisd is an API it'd like to return either a HTTP status, or custom result.</p>\n\n<p><strong>Apache</strong> - I tried <strong>mod_evasive</strong> as it seemed perfect for what i needed. To an extend, yes this module is very good and has the custom-ability i want. However in testing, this module is not effcient enough to protect against scripts. It is only really effective against browser initiated requests.</p>\n\n<p><strong>Cache::FastMmap</strong> - I tried this method after reading <a href=\"https://stackoverflow.com/questions/501405/how-can-i-implement-server-side-rate-limiting-for-a-perl-web-service\">this SO question</a>.\nI fiddled about with this for a while before i realised this isn't a suitable solution for me. I'm using FastCGI which keeps instances of the perl API up. I'd need to implement FastMmap at that level as it works with parent - child processes. </p>\n\n<p>Is there a way i can rate limit a FastCGI script on a IP basis, where i can return a suitable error &amp; the rate limiting be quick enough to prevent script based attacks? </p>\n"}, {"tags": ["regex", "perl", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "is_accepted": true, "score": 0, "last_activity_date": 1480225718, "last_edit_date": 1495542652, "creation_date": 1479892519, "answer_id": 40760225, "question_id": 40759557, "link": "https://stackoverflow.com/questions/40759557/how-to-use-backreferrence-matches-for-simple-math-operations/40760225#40760225", "title": "How to use backreferrence matches for simple math operations?", "body": "<p>Found one similar question and problem solved! </p>\n\n<p><a href=\"https://stackoverflow.com/questions/5245087/math-operations-in-regex\">Math operations in regex</a></p>\n\n<pre><code>perl -pe 's/(\\d{6})/$1+100000/eg' dump.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1479893068, "last_edit_date": 1479893068, "creation_date": 1479892637, "answer_id": 40760268, "question_id": 40759557, "link": "https://stackoverflow.com/questions/40759557/how-to-use-backreferrence-matches-for-simple-math-operations/40760268#40760268", "title": "How to use backreferrence matches for simple math operations?", "body": "<p>May be you can try this:</p>\n\n<pre><code>my $line = $_; my $i = 100000;\n$line=~s#\\s+Week=\"([^\"]*)\"# my $weeks=$&amp;; $weeks=~s/\\b(\\d+)\\b/($1+$i)/ge; ($weeks);#esg;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479951932, "post_id": 40766550, "comment_id": 68777304, "body": "Actually the <code>dump.txt</code> is just some random text I pick, what I really want to know is some brief shell code snippet for regexp math operations. Apologise for the expression is not clear. And thanx for your answer, it&#39;s really helpful."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "edited": false, "score": 0, "creation_date": 1479994584, "post_id": 40766550, "comment_id": 68798074, "body": "That&#39;s why a representative sample of your data becomes important."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1479909816, "last_edit_date": 1495542271, "creation_date": 1479909816, "answer_id": 40766550, "question_id": 40759557, "link": "https://stackoverflow.com/questions/40759557/how-to-use-backreferrence-matches-for-simple-math-operations/40766550#40766550", "title": "How to use backreferrence matches for simple math operations?", "body": "<p>This looks like XML. P<a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">arsing XML as plain text is a bad idea</a> - regular expressions are for regular languages, and XML isn't.</p>\n\n<p>So parse as XML instead:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nsub increment_week {\n   my ( $twig, $itemspec ) = @_; \n   my @values = split /\\|/, $itemspec -&gt; att ('Week');\n   $_ .= \"+10000\" for @values;\n   $itemspec -&gt; set_att('Week', (join '|', @values ));\n\n}\n\nmy $twig = XML::Twig -&gt; new ( keep_atts_order =&gt; 1,\n                              pretty_print =&gt; 'indented',\n                              twig_handlers =&gt; { 'ItemSpec' =&gt; \\&amp;increment_week } );\n   $twig -&gt; parsefile ('your_file.xml'); \n   $twig -&gt; print;\n</code></pre>\n\n<p>This means you'll handle the whole thing as XML, and won't get tripped over by valid XML differences (XML lets you wrap lines, alter attribute ordering etc. without altering semantics). </p>\n\n<p>Of course, if it <em>isn't</em> valid XML, this won't work - but writing 'almost XML' like that is a really filthy thing to do. (Almost as filthy as regexing it to 'fix' it)</p>\n"}], "owner": {"reputation": 309, "user_id": 5213068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erY1V.jpg?s=128&g=1", "display_name": "hedleyyan", "link": "https://stackoverflow.com/users/5213068/hedleyyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 40760225, "answer_count": 3, "score": -1, "last_activity_date": 1480225718, "creation_date": 1479890537, "last_edit_date": 1479892817, "question_id": 40759557, "link": "https://stackoverflow.com/questions/40759557/how-to-use-backreferrence-matches-for-simple-math-operations", "title": "How to use backreferrence matches for simple math operations?", "body": "<p>I have one file looks like:</p>\n\n<pre><code>~ cat dump.txt\n  &lt;ItemSpec id=\"46301\" Day=\"1\" Week=\"244251\"/&gt;\n  &lt;ItemSpec id=\"46302\" Day=\"2\" Week=\"244252\"/&gt;\n  &lt;ItemSpec id=\"46303\" Day=\"3\" Week=\"244253\"/&gt;\n  &lt;ItemSpec id=\"46304\" Day=\"4\" Week=\"244254\"/&gt;\n  &lt;ItemSpec id=\"46305\" Day=\"5\" Week=\"244255|244256|244257|244255|244256|244257|244255|244256|244257|244255|244256|244257\"/&gt;\n  ...\n</code></pre>\n\n<p>I want the <code>Week</code> column number add 100,000 after process, just like:</p>\n\n<pre><code>~ &lt;simple shell code&gt; dump.txt\n  &lt;ItemSpec id=\"46301\" Day=\"1\" Week=\"344251\"/&gt;\n  &lt;ItemSpec id=\"46302\" Day=\"2\" Week=\"344252\"/&gt;\n  &lt;ItemSpec id=\"46303\" Day=\"3\" Week=\"344253\"/&gt;\n  &lt;ItemSpec id=\"46304\" Day=\"4\" Week=\"344254\"/&gt;\n  &lt;ItemSpec id=\"46305\" Day=\"5\" Week=\"344255|344256|344257|344255|344256|344257|344255|344256|344257|344255|344256|344257\"/&gt;\n  ...\n</code></pre>\n\n<p>I don't know if there is a simple way to use backreference as a number for math operation. And my helpless try as below:</p>\n\n<pre><code>~ awk '{print gensub(/([0-9]{6})/,\"\\\\1+100000\",\"g\",$0)}' dump.txt\n  &lt;ItemSpec id=\"46301\" Day=\"1\" Week=\"244251+100000\"/&gt;\n  &lt;ItemSpec id=\"46302\" Day=\"2\" Week=\"244252+100000\"/&gt;\n  &lt;ItemSpec id=\"46303\" Day=\"3\" Week=\"244253+100000\"/&gt;\n  &lt;ItemSpec id=\"46304\" Day=\"4\" Week=\"244254+100000\"/&gt;\n  &lt;ItemSpec id=\"46305\" Day=\"5\" Week=\"244255+100000|244256+100000|244257+100000|244255+100000|244256+100000|244257+100000|244255+100000|244256+100000|244257+100000|244255+100000|244256+100000|244257+100000\"/&gt;\n\n\n  ...\n</code></pre>\n\n<p>Any idea would be helpful, thank you!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "edited": false, "score": 0, "creation_date": 1479888976, "post_id": 40759088, "comment_id": 68743107, "body": "Ok, I&#39;m dumb. I should have initialized my arrays with () instead of []."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479889428, "post_id": 40759088, "comment_id": 68743364, "body": "With <code>map</code> -- but then you don&#39;t have as much flexibility to process inside as you do with <code>foreach</code>."}], "answers": [{"tags": [], "owner": {"reputation": 8026, "user_id": 1320303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9020a80cda52e7a425d4824ad572b241?s=128&d=identicon&r=PG", "display_name": "mttrb", "link": "https://stackoverflow.com/users/1320303/mttrb"}, "is_accepted": false, "score": 2, "last_activity_date": 1479890403, "creation_date": 1479890403, "answer_id": 40759523, "question_id": 40759088, "link": "https://stackoverflow.com/questions/40759088/perl-pair-elements-in-two-list/40759523#40759523", "title": "Perl: pair elements in two list", "body": "<p>In place of the <code>foreach</code> you could use <code>map</code>, however, the code becomes considerably less readable.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse List::Util qw/ first /;\n\nmy @prefixes = (\"abc\", \"def\", \"ghi\", \"jklmn\");\nmy @strings = (\"abc123\", \"def456\", \"jklmnopqrst\");\n\n# foreach my $str ( @strings ) {\n#   my $prefix = first { $_ eq substr( $str, 0, length( $_ )) } @prefixes;\n#   print $prefix, \"\\n\";\n# }\n\nmy @found  = map { my $str = $_; first { $_ eq substr( $str, 0, length( $_ ))} @prefixes } @strings;\n\nprint join(\"\\n\", @found), \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "edited": false, "score": 1, "creation_date": 1479905904, "post_id": 40765144, "comment_id": 68754504, "body": "That&#39;s another nice solution! Thank you a lot!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "edited": false, "score": 0, "creation_date": 1479909533, "post_id": 40765144, "comment_id": 68756976, "body": "Glad it helped. Keep in mind that you might be better off in terms of memory footprint and performance if you just match, process, and move on instead of storing matches."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1479905701, "creation_date": 1479905701, "answer_id": 40765144, "question_id": 40759088, "link": "https://stackoverflow.com/questions/40759088/perl-pair-elements-in-two-list/40765144#40765144", "title": "Perl: pair elements in two list", "body": "<p>You can create a regex pattern from the prefixes and use that to construct a hash:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse YAML::XS;\n\nmy @prefixes = qw[abc def ghi jklmn];\nmy @strings  = qw[abc123 def456 jklmnopqrst];\n\nmy ($prefix_re) = map qr/$_/, sprintf(\n    '^(?&lt;prefix&gt;%s)',\n    join '|', sort { length $b &lt;=&gt; length $a } @prefixes\n);\n\nprint \"$prefix_re\\n\";\n\nmy %matches = map { $_ =~ $prefix_re; ($+{prefix}, $_) } @strings;\n\nprint Dump \\%matches;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>abc: abc123\ndef: def456\njklmn: jklmnopqrst</pre>\n\n<p>If multiple strings can match a prefix, you can map prefixes to lists of matched strings:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse YAML::XS;\n\nmy @prefixes = qw[abc def ghi jklmn];\nmy @strings  = qw[abc123 def456 def789 jklmnopqrst];\n\nmy ($prefix_re) = map qr/$_/, sprintf(\n    '^(?&lt;prefix&gt;%s)',\n    join '|', sort { length $b &lt;=&gt; length $a } @prefixes\n);\n\nprint \"$prefix_re\\n\";\n\nmy %matches;\n\nfor my $str ( @strings ) {\n    next unless $str =~ $prefix_re;\n    push @{ $matches{ $+{prefix} }}, $str;\n}\n\nprint Dump \\%matches;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>---\nabc:\n- abc123\ndef:\n- def456\n- def789\njklmn:\n- jklmnopqrst</pre>\n"}], "owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 2, "accepted_answer_id": 40765144, "answer_count": 2, "score": 1, "last_activity_date": 1479905701, "creation_date": 1479888743, "last_edit_date": 1479889333, "question_id": 40759088, "link": "https://stackoverflow.com/questions/40759088/perl-pair-elements-in-two-list", "title": "Perl: pair elements in two list", "body": "<p>I have two lists:</p>\n\n<pre><code>my @prefixes = [\"abc\", \"def\", \"ghi\", \"jklmn\"];\nmy @strings = [\"abc123\", \"def456\", \"jklmnopqrst\"];\n</code></pre>\n\n<p>I need to find the correct prefix for each string so that \"abc123\" belongs to \"abc\" and \"def456\" belongs to \"def\" and \"jklmnopqrst\" belongs to \"jklmn\".\nAll strings has a prefix in @prefixes but not all prefix has a matching string (see \"ghi\").</p>\n\n<p>I have this code:</p>\n\n<pre><code>use List::Util qw(first);\n...\nforeach my $str (@strings) {\n    my $prefix = first { $_ eq substr($str, 0, length($_)) } @prefixes;\n    print \"$prefix\\n\";\n    # do something with $str and $prefix together\n}\n</code></pre>\n\n<p>But it's not working, I'm getting <code>Use of uninitialized value $prefix in concatenation (.) or string</code></p>\n\n<p>What's wrong?</p>\n\n<p><strong>UPDATE</strong>: So it was an easy fix. I should have initialized my lists using () and not []. To not to close this yet, how would you get rid of the <code>foreach</code> statement?</p>\n"}, {"tags": ["xml", "perl", "pdf", "pdflib", "zugferd"], "comments": [{"owner": {"reputation": 115, "user_id": 1196666, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bef201ddb928b0762cb776cc38ad8f53?s=128&d=identicon&r=PG", "display_name": "Streuner", "link": "https://stackoverflow.com/users/1196666/streuner"}, "edited": false, "score": 0, "creation_date": 1479905555, "post_id": 40758855, "comment_id": 68754265, "body": "Besides this problem I realized that my pvf-XML-File won&#39;t be utf8. Is it recommended to use a XML-File from the filesystem instead of the pvf? That will keep my attached XML intact, but it won&#39;t show up in an editor either."}, {"owner": {"reputation": 1593, "user_id": 2862406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fef9ca7a323d140455331820ae3326f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rainer", "link": "https://stackoverflow.com/users/2862406/rainer"}, "edited": false, "score": 0, "creation_date": 1480086555, "post_id": 40758855, "comment_id": 68836486, "body": "there is no difference, if you load the XML from disc or from PVF. It&#39;s just important, that both data are identical."}, {"owner": {"reputation": 115, "user_id": 1196666, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bef201ddb928b0762cb776cc38ad8f53?s=128&d=identicon&r=PG", "display_name": "Streuner", "link": "https://stackoverflow.com/users/1196666/streuner"}, "reply_to_user": {"reputation": 1593, "user_id": 2862406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fef9ca7a323d140455331820ae3326f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rainer", "link": "https://stackoverflow.com/users/2862406/rainer"}, "edited": false, "score": 0, "creation_date": 1480659583, "post_id": 40758855, "comment_id": 69063284, "body": "After some researches and many tries I&#39;m still not able to attach an XML-File without crippling it&#39;s data, when attached as PVF. Are there any binmode-flags I&#39;m missing? Writing my XML-File on the Filesystem and attach the file it works like a charm. I messed around with Encode and stuff, but it&#39;s not working."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 1196666, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bef201ddb928b0762cb776cc38ad8f53?s=128&d=identicon&r=PG", "display_name": "Streuner", "link": "https://stackoverflow.com/users/1196666/streuner"}, "edited": false, "score": 0, "creation_date": 1479895862, "post_id": 40760318, "comment_id": 68747455, "body": "That was my bad. Of cource I add a sample page to the PDF. I&#39;ll edit my sample above. Sorry for that."}], "tags": [], "owner": {"reputation": 1593, "user_id": 2862406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fef9ca7a323d140455331820ae3326f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rainer", "link": "https://stackoverflow.com/users/2862406/rainer"}, "is_accepted": false, "score": 3, "last_activity_date": 1479892785, "creation_date": 1479892785, "answer_id": 40760318, "question_id": 40758855, "link": "https://stackoverflow.com/questions/40758855/how-to-attach-zugferd-xml-to-a-pdf-with-perl/40760318#40760318", "title": "How to attach ZUGFeRD-XML to a PDF with perl?", "body": "<p>your code is incomplete. You should create at least a single empty page, (PDF_begin_page_ext() / PDF_end_page_ext() before you load the asset and close the document. But preferable you should add the visual content of the invoice or import the PDF pages from an PDF/A document (as the linked cookbook sample do)</p>\n\n<p>For debugging purpose, I would suggest to set errorpolicy to exception at the beginning of your script. </p>\n\n<pre><code> PDF_set_parameter($pdf, \"errorpolicy\", \"exception\");\n</code></pre>\n\n<p>in this case, you would get an exception, as soon an error happens. </p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 115, "user_id": 1196666, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bef201ddb928b0762cb776cc38ad8f53?s=128&d=identicon&r=PG", "display_name": "Streuner", "link": "https://stackoverflow.com/users/1196666/streuner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1567774212, "creation_date": 1479887881, "last_edit_date": 1567774212, "question_id": 40758855, "link": "https://stackoverflow.com/questions/40758855/how-to-attach-zugferd-xml-to-a-pdf-with-perl", "title": "How to attach ZUGFeRD-XML to a PDF with perl?", "body": "<p>I need to create a PDF/A 3b-document with an XML attached to it like it's declared in ZUGFeRD. For this purpose I wrote myself a perl-script which can create the XML-file as a string and attach it to a PDF. I followed the <a href=\"http://www.pdflib.com/pdflib-cookbook/pdfa/zugferd-add-xml-to-pdfa/\" rel=\"nofollow noreferrer\">tutorial of the pdflib-cookbook</a>, but I never get my XML to be 100% attached to the PDF. I see it under attached files, and I can save it from there to my filesystem, but if I check the PDF with an editor I just see the XMP-Metadata and not my XML.</p>\n\n<p>I guess I need to attach the XML as an Embedded File Stream or something like that, but I'm not quite sure if I'm missing something in my code or I just need to add it in another way.</p>\n\n<p>This is my XMP-File:</p>\n\n<pre><code>&lt;!--\n\nPDFlib GmbH 2013-2014\n\nSample ZUGFeRD XMP with the required PDF/A extension schema description\nfor the XMP properties of the ZUGFeRD schema and the actual ZUGFeRD properties.\n\nSchema name: ZUGFeRD Schema\nPreferred schema namespace prefix: zf\nSchema namespace URI: urn:ferd:pdfa:CrossIndustryDocument:invoice:1p0#\n\nNotes on the ZUGFeRD schema namespace URI:\n\n- The use of mixed upper/lowercase in \"CrossIndustryDocument\" conforms to\n  the ZUGFeRD 1.0 specification. The PDF samples distributed with the\n  ZUGFeRD 1.0 info package use all-lowercase spelling \"crossindustrydocument\"\n  which is not correct since it violates the ZUGFeRD specification.\n\n- The required trailing \"#\" character is missing in the comment in the\n  ZUGFeRD 1.0 extension schema description which is included in the ZUGFeRD\n  specification, but it is correctly present in the actual XMP.\n\n\nBased on the ZUGFeRD 1.0 package (published 2014-06 on www.ferd-net.de)\nwhich is Copyright AWV e.V. 2014.\n\n\n2014-07-01 (based on ZUGFeRD 1.0)\nAdjustments for ZUGFeRD 1.0:\n- updated header comments\n- switched to new namespace URI\n- adjusted property descriptions in the extension schema descriptions\n\n2013-06-19 (based on ZUGFeRD RC)\nAdded a trailing hash character \"#\" to the \"zf\" namespace name as required\nby the XMP 2005 specification which is referenced in PDF/A-2 and PDF/A-3.\nWithout this change Acrobat XI Preflight validation for PDF/A-3 complains\n\"Extension schema present but not valid\"\n\n2013-06-19\nSingled out the zf properties into a separate rdf:Description node to work\naround bug #4433 in PDFlib 9.0.0 which has been fixed in PDFlib 9.0.1.\n\n--&gt;\n&lt;rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"&gt;\n&lt;!--  The actual ZUGFeRD properties; adjust if required  --&gt;\n&lt;rdf:Description xmlns:zf=\"urn:ferd:pdfa:CrossIndustryDocument:invoice:1p0#\" rdf:about=\"\"&gt;\n&lt;zf:ConformanceLevel&gt;BASIC&lt;/zf:ConformanceLevel&gt;\n&lt;zf:DocumentFileName&gt;ZUGFeRD-invoice.xml&lt;/zf:DocumentFileName&gt;\n&lt;zf:DocumentType&gt;INVOICE&lt;/zf:DocumentType&gt;\n&lt;zf:Version&gt;1.0&lt;/zf:Version&gt;\n&lt;/rdf:Description&gt;\n&lt;!--\n PDF/A extension schema description for the ZUGFeRD schema.\n     It is crucial for PDF/A-3 conformance. Don't touch! \n--&gt;\n&lt;rdf:Description xmlns:pdfaExtension=\"http://www.aiim.org/pdfa/ns/extension/\" xmlns:pdfaSchema=\"http://www.aiim.org/pdfa/ns/schema#\" xmlns:pdfaProperty=\"http://www.aiim.org/pdfa/ns/property#\" rdf:about=\"\"&gt;\n&lt;pdfaExtension:schemas&gt;\n&lt;rdf:Bag&gt;\n&lt;rdf:li rdf:parseType=\"Resource\"&gt;\n&lt;pdfaSchema:schema&gt;ZUGFeRD PDFA Extension Schema&lt;/pdfaSchema:schema&gt;\n&lt;pdfaSchema:namespaceURI&gt;urn:ferd:pdfa:CrossIndustryDocument:invoice:1p0#&lt;/pdfaSchema:namespaceURI&gt;\n&lt;pdfaSchema:prefix&gt;zf&lt;/pdfaSchema:prefix&gt;\n&lt;pdfaSchema:property&gt;\n&lt;rdf:Seq&gt;\n&lt;rdf:li rdf:parseType=\"Resource\"&gt;\n&lt;pdfaProperty:name&gt;DocumentFileName&lt;/pdfaProperty:name&gt;\n&lt;pdfaProperty:valueType&gt;Text&lt;/pdfaProperty:valueType&gt;\n&lt;pdfaProperty:category&gt;external&lt;/pdfaProperty:category&gt;\n&lt;pdfaProperty:description&gt;name of the embedded XML invoice file&lt;/pdfaProperty:description&gt;\n&lt;/rdf:li&gt;\n&lt;rdf:li rdf:parseType=\"Resource\"&gt;\n&lt;pdfaProperty:name&gt;DocumentType&lt;/pdfaProperty:name&gt;\n&lt;pdfaProperty:valueType&gt;Text&lt;/pdfaProperty:valueType&gt;\n&lt;pdfaProperty:category&gt;external&lt;/pdfaProperty:category&gt;\n&lt;pdfaProperty:description&gt;INVOICE&lt;/pdfaProperty:description&gt;\n&lt;/rdf:li&gt;\n&lt;rdf:li rdf:parseType=\"Resource\"&gt;\n&lt;pdfaProperty:name&gt;Version&lt;/pdfaProperty:name&gt;\n&lt;pdfaProperty:valueType&gt;Text&lt;/pdfaProperty:valueType&gt;\n&lt;pdfaProperty:category&gt;external&lt;/pdfaProperty:category&gt;\n&lt;pdfaProperty:description&gt;The actual version of the ZUGFeRD XML schema&lt;/pdfaProperty:description&gt;\n&lt;/rdf:li&gt;\n&lt;rdf:li rdf:parseType=\"Resource\"&gt;\n&lt;pdfaProperty:name&gt;ConformanceLevel&lt;/pdfaProperty:name&gt;\n&lt;pdfaProperty:valueType&gt;Text&lt;/pdfaProperty:valueType&gt;\n&lt;pdfaProperty:category&gt;external&lt;/pdfaProperty:category&gt;\n&lt;pdfaProperty:description&gt;The conformance level of the embedded ZUGFeRD data&lt;/pdfaProperty:description&gt;\n&lt;/rdf:li&gt;\n&lt;/rdf:Seq&gt;\n&lt;/pdfaSchema:property&gt;\n&lt;/rdf:li&gt;\n&lt;/rdf:Bag&gt;\n&lt;/pdfaExtension:schemas&gt;\n&lt;/rdf:Description&gt;\n&lt;/rdf:RDF&gt;\n</code></pre>\n\n<p>This is my created XML-String:\n        \n        \n\n<pre><code>    Zweck des Forums f\u00fcr elektronische Rechnungen bei der AWV e.V (\u201eFeRD\u201c) ist u.a. die Schaffung und Spezifizierung\n    eines offenen Datenformats f\u00fcr strukturierten elektronischen Datenaustausch auf der Grundlage offener und nicht\n    diskriminierender, standardisierter Technologien (\u201eZUGFeRD Datenformat\u201c)\n\n    Das ZUGFeRD Datenformat wird nach Ma\u00dfgabe des FeRD sowohl Unternehmen als auch der \u00f6ffentlichen Verwaltung\n    frei zug\u00e4nglich gemacht. Hierf\u00fcr bietet FeRD allen Unternehmen und Organisationen der \u00f6ffentlichen Verwaltung eine\n    Lizenz f\u00fcr die Nutzung des urheberrechtlich gesch\u00fctzten ZUGFeRD-Datenformats zu fairen, sachgerechten und nicht\n    diskriminierenden Bedingungen an.\n\n    Die Spezifikation des FeRD zur Implementierung des ZUGFeRD Datenformats ist in ihrer jeweils geltenden Fassung\n    abrufbar unter www.ferd-net.de.\n\n    Im Einzelnen schlie\u00dft die Nutzungsgew\u00e4hrung ein:\n    =====================================\n\n    FeRD r\u00e4umt eine Lizenz f\u00fcr die Nutzung des urheberrechtlich gesch\u00fctzten ZUGFeRD Datenformats in der jeweils\n    geltenden und akzeptierten Fassung (www.ferd-net.de) ein.\n    Die Lizenz beinhaltet ein unwiderrufliches Nutzungsrecht einschlie\u00dflich des Rechts der Weiterentwicklung,\n    Weiterbearbeitung und Verbindung mit anderen Produkten.\n    Die Lizenz gilt insbesondere f\u00fcr die Entwicklung, die Gestaltung, die Herstellung, den Verkauf, die Nutzung oder\n    anderweitige Verwendung des ZUGFeRD Datenformats f\u00fcr Hardware- und/oder Softwareprodukte sowie sonstige\n    Anwendungen und Dienste.\n    Diese Lizenz schlie\u00dft nicht die wesentlichen Patente der Mitglieder von FeRD ein. Als wesentliche Patente sind Patente\n    und Patentanmeldungen weltweit zu verstehen, die einen oder mehrere Patentanspr\u00fcche beinhalten, bei denen es sich um\n    notwendige Anspr\u00fcche handelt. Notwendige Anspr\u00fcche sind lediglich jene Anspr\u00fcche der Wesentlichen Patente, die durch\n    die Implementierung des ZUGFeRD Datenformats notwendigerweise verletzt w\u00fcrden.\n    Der Lizenznehmer ist berechtigt, seinen jeweiligen Konzerngesellschaften ein unbefristetes, weltweites, nicht \u00fcbertragbares,\n    unwiderrufliches Nutzungsrecht einschlie\u00dflich des Rechts der Weiterentwicklung, Weiterbearbeitung und Verbindung mit\n    anderen Produkten einzur\u00e4umen.\n\n    Die Lizenz wird kostenfrei zur Verf\u00fcgung gestellt.\n\n    Au\u00dfer im Falle vors\u00e4tzlichen Verschuldens oder grober Fahrl\u00e4ssigkeit haftet FeRD weder f\u00fcr Nutzungsausfall, entgangenen\n    Gewinn, Datenverlust, Kommunikationsverlust, Einnahmeausfall, Vertragseinbu\u00dfen, Gesch\u00e4ftsausfall oder f\u00fcr Kosten,\n    Sch\u00e4den, Verluste oder Haftpflichten im Zusammenhang mit einer Unterbrechung der Gesch\u00e4ftst\u00e4tigkeit, noch f\u00fcr konkrete,\n    beil\u00e4ufig entstandene, mittelbare Sch\u00e4den, Straf- oder Folgesch\u00e4den und zwar auch dann nicht, wenn die M\u00f6glichkeit der\n    Kosten, Verluste bzw. Sch\u00e4den h\u00e4tte normalerweise vorhergesehen werden k\u00f6nnen.--&gt;\n    &lt;rsm:CrossIndustryDocument xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n      &lt;rsm:SpecifiedExchangedDocumentContext&gt;\n        &lt;ram:GuidelineSpecifiedDocumentContextParameter&gt;\n          &lt;ram:ID&gt;urn:ferd:pdfa:CrossIndustryDocument:invoice:1p0#&lt;/ram:ID&gt;\n        &lt;/ram:GuidelineSpecifiedDocumentContextParameter&gt;\n      &lt;/rsm:SpecifiedExchangedDocumentContext&gt;\n      &lt;rsm:HeaderExchangedDocument&gt;\n        &lt;ram:TypeCode&gt;380&lt;/ram:TypeCode&gt;\n        &lt;ram:ID&gt;2012-12345&lt;/ram:ID&gt;\n        &lt;ram:Name&gt;INVOICE&lt;/ram:Name&gt;\n        &lt;ram:IssueDateTime&gt;\n          &lt;udt:DateTimeString format=\"102\"&gt;20160503&lt;/udt:DateTimeString&gt;\n        &lt;/ram:IssueDateTime&gt;\n      &lt;/rsm:HeaderExchangedDocument&gt;\n      &lt;rsm:SpecifiedSupplyChainTradeTransaction&gt;\n        &lt;ram:ApplicableSupplyChainTradeAgreement&gt;\n          &lt;ram:SellerTradeParty&gt;\n            &lt;ram:Name&gt;Verk\u00e4ufer AG&lt;/ram:Name&gt;\n          &lt;/ram:SellerTradeParty&gt;\n          &lt;ram:BuyerTradeParty&gt;\n            &lt;ram:Name&gt;K\u00e4ufer GmbH&lt;/ram:Name&gt;\n          &lt;/ram:BuyerTradeParty&gt;\n        &lt;/ram:ApplicableSupplyChainTradeAgreement&gt;\n        &lt;ram:ApplicableSupplyChainTradeDelivery&gt;\n          &lt;ram:ActualDeliverySupplyChainEvent&gt;\n            &lt;ram:OccurrenceDateTime&gt;\n              &lt;udt:DateTimeString format=\"102\"&gt;20161103&lt;/udt:DateTimeString&gt;\n            &lt;/ram:OccurrenceDateTime&gt;\n          &lt;/ram:ActualDeliverySupplyChainEvent&gt;\n        &lt;/ram:ApplicableSupplyChainTradeDelivery&gt;\n      &lt;/rsm:SpecifiedSupplyChainTradeTransaction&gt;\n      &lt;ram:ApplicableSupplyChainTradeSettlement&gt;\n        &lt;ram:SpecifiedTradeSettlementPaymentMeans&gt;\n          &lt;ram:ID schemeAgencyID=\"123456\"&gt;ABCD&lt;/ram:ID&gt;\n          &lt;ram:PayeePartyCreditorFinancialAccount&gt;\n            &lt;ram:IBANID&gt;DE123 12312 12312 1231231&lt;/ram:IBANID&gt;\n            &lt;ram:AccountName&gt;BigBoss&lt;/ram:AccountName&gt;\n          &lt;/ram:PayeePartyCreditorFinancialAccount&gt;\n          &lt;ram:PayeeSpecifiedCreditorFinancialInstitution&gt;\n            &lt;ram:BICID&gt;WELADE9999999&lt;/ram:BICID&gt;\n          &lt;/ram:PayeeSpecifiedCreditorFinancialInstitution&gt;\n        &lt;/ram:SpecifiedTradeSettlementPaymentMeans&gt;\n        &lt;ram:AcclicableTradeTax&gt;\n          &lt;ram:CalculatedAmount currencyID=\"EUR\"&gt;123.22&lt;/ram:CalculatedAmount&gt;\n          &lt;ram:TypeCode&gt;VAT&lt;/ram:TypeCode&gt;\n          &lt;ram:ApplicablePercent&gt;0.19&lt;/ram:ApplicablePercent&gt;\n        &lt;/ram:AcclicableTradeTax&gt;\n        &lt;ram:AcclicableTradeTax&gt;\n          &lt;ram:TaxBasisTotalAmount currencyID=\"EUR\"&gt;120&lt;/ram:TaxBasisTotalAmount&gt;\n          &lt;ram:LineTotalAmount currencyID=\"EUR\"&gt;111&lt;/ram:LineTotalAmount&gt;\n          &lt;ram:ChargeTotalAmount currencyID=\"EUR\"&gt;20&lt;/ram:ChargeTotalAmount&gt;\n          &lt;ram:AllowanceTotalAmount currencyID=\"EUR\"&gt;15&lt;/ram:AllowanceTotalAmount&gt;\n          &lt;ram:TaxBasisTotalAmount currencyID=\"EUR\"&gt;11&lt;/ram:TaxBasisTotalAmount&gt;\n          &lt;ram:TaxTotalAmount currencyID=\"EUR\"&gt;111&lt;/ram:TaxTotalAmount&gt;\n          &lt;ram:GrandTotalAmount currencyID=\"EUR\"&gt;1234.11&lt;/ram:GrandTotalAmount&gt;\n        &lt;/ram:AcclicableTradeTax&gt;\n        &lt;ram:InvoiceCurrencyCode&gt;EUR&lt;/ram:InvoiceCurrencyCode&gt;\n      &lt;/ram:ApplicableSupplyChainTradeSettlement&gt;\n      &lt;ram:IncludedSupplyChainTradeLineItem&gt;\n        &lt;ram:SpecifiedSupplyChainTradeDelivery&gt;\n          &lt;ram:BilledQuantity unitCode=\"KG\"&gt;5&lt;/ram:BilledQuantity&gt;\n        &lt;/ram:SpecifiedSupplyChainTradeDelivery&gt;\n        &lt;ram:SpecifiedTradeProduct&gt;\n          &lt;ram:Name&gt;Foo&lt;/ram:Name&gt;\n        &lt;/ram:SpecifiedTradeProduct&gt;\n      &lt;/ram:IncludedSupplyChainTradeLineItem&gt;\n      &lt;ram:IncludedSupplyChainTradeLineItem&gt;\n        &lt;ram:SpecifiedSupplyChainTradeDelivery&gt;\n          &lt;ram:BilledQuantity unitCode=\"Liter\"&gt;3&lt;/ram:BilledQuantity&gt;\n        &lt;/ram:SpecifiedSupplyChainTradeDelivery&gt;\n        &lt;ram:SpecifiedTradeProduct&gt;\n          &lt;ram:Name&gt;Bar&lt;/ram:Name&gt;\n        &lt;/ram:SpecifiedTradeProduct&gt;\n      &lt;/ram:IncludedSupplyChainTradeLineItem&gt;\n      &lt;ram:IncludedSupplyChainTradeLineItem&gt;\n        &lt;ram:SpecifiedSupplyChainTradeDelivery&gt;\n          &lt;ram:BilledQuantity unitCode=\"St\u00fcck\"&gt;15&lt;/ram:BilledQuantity&gt;\n        &lt;/ram:SpecifiedSupplyChainTradeDelivery&gt;\n        &lt;ram:SpecifiedTradeProduct&gt;\n          &lt;ram:Name&gt;FooBar&lt;/ram:Name&gt;\n        &lt;/ram:SpecifiedTradeProduct&gt;\n      &lt;/ram:IncludedSupplyChainTradeLineItem&gt;\n    &lt;/rsm:CrossIndustryDocument&gt;\n</code></pre>\n\n<p>This is my perl-code to attach the XMP and XML to the file:\n        use pdflib_pl;</p>\n\n<pre><code>    my $pdf = PDF_new();\n\n    PDF_set_parameter($pdf, \"textformat\", \"utf8\");\n    PDF_set_parameter($pdf, \"SearchPath\", \"/usr/share/htmldoc/fonts\");\n    PDF_set_parameter($pdf, \"FontAFM\", \"Helvetica=Helvetica.afm\");\n    PDF_set_parameter($pdf, \"FontOutline\", \"Helvetica=Helvetica.pfa\");\n\n    my $font = PDF_load_font($pdf, \"Helvetica\", \"unicode\", \"embedding=true\");\n\n    PDF_begin_document($pdf,'test.pdf', \"pdfa=PDF/A-3b metadata={filename=zugferd/ZUGFeRD-invoice.xmp}\");\n    PDF_load_iccprofile($pdf, \"sRGB\", \"usage=outputintent\");\n\n    # At this point I create the XML-File I attached to this question\n    my $xmlData = CreateXmlData();\n\n    PDF_create_pvf($pdf, '/pvf/ZUGFeRD-invoice.xml', $xmlData, \"\");\n\n    my $xml_asset = PDF_load_asset($pdf,\n                                   \"Attachment\",\n                                   '/pvf/ZUGFeRD-invoice.xml',\n                                   \"mimetype=text/xml description={Rechnungsdaten im Zugferd-Xml-Format} relationship=Alternative documentattachment=true\");\n\n    PDF_begin_page($pdf, 595, 842);\n    PDF_setfont($pdf, $font, 12);\n    PDF_fit_textline($pdf, 'test', 400, 600, \"boxsize={50 20}\");\n    PDF_end_page($pdf);\n\n    PDF_end_document($pdf, \"associatedfiles={\" . $xml_asset . \"} metadata={filename=zugferd/ZUGFeRD-invoice.xmp}\");\n    PDF_delete_pvf($pdf, '/pvf/ZUGFeRD-invoice.xml');\n\n    PDF_end_document($pdf, \"associatedfiles={\" . $xml_asset . \"} metadata={filename=zugferd/ZUGFeRD-invoice.xmp}\");\n    PDF_delete_pvf($pdf, $virtualXml);\n</code></pre>\n"}, {"tags": ["mongodb", "perl", "mongodb-query"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7064075"}, "edited": false, "score": 0, "creation_date": 1484899739, "post_id": 41600077, "comment_id": 70709163, "body": "you created array inside high,mid and low and not a document which is totally opposite to what I asked for"}, {"owner": {"reputation": 81, "user_id": 5305573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iac8F.jpg?s=128&g=1", "display_name": "djtsheps", "link": "https://stackoverflow.com/users/5305573/djtsheps"}, "edited": false, "score": 0, "creation_date": 1485157656, "post_id": 41600077, "comment_id": 70790557, "body": "Hi there, looking at your example you cant have a list of task hashes without keys, the tasks would need to be the keys to what ever values you would want to allocate e.g <code>db.systems.insert( {&quot;name&quot;: &quot;sub_system_3&quot;, &quot;data&quot; : {&quot;high&quot; :{&quot;task1&quot;: &quot;some value&quot;,&quot;task2&quot;: &quot;some other value&quot;}, &quot;mid&quot;: {&quot;task1&quot;: &quot;some value&quot;,&quot;task2&quot;: &quot;some other value&quot;}, &quot;low&quot; : {&quot;task1&quot;: &quot;some value&quot;,&quot;task2&quot;: &quot;some other value&quot;}}})</code>"}], "tags": [], "owner": {"reputation": 81, "user_id": 5305573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iac8F.jpg?s=128&g=1", "display_name": "djtsheps", "link": "https://stackoverflow.com/users/5305573/djtsheps"}, "is_accepted": false, "score": 7, "last_activity_date": 1484167933, "last_edit_date": 1484167933, "creation_date": 1484166306, "answer_id": 41600077, "question_id": 40758606, "link": "https://stackoverflow.com/questions/40758606/how-to-insert-document-or-fields-in-nested-documents-in-mongo/41600077#41600077", "title": "How to insert document or fields in nested documents in mongo", "body": "<h1><strong>Using Shell</strong></h1>\n\n<h2>1.How will I create such nested document</h2>\n\n<pre><code>db.systems.insert( [{\"name\": \"sub_system_1\", \"data\" : {\"high\" :[\"task1\",\"task2\"], \"mid\": [\"task1\",\"task2\"], \"low\" : [\"task1\",\"task2\"]}},{\"name\": \"sub_system_2\" ,\"data\": {\"high\" :[\"task1\",\"task2\"], \"mid\": [\"task1\",\"task2\"], \"low\" : [\"task1\",\"task2\"]}}])\n</code></pre>\n\n<h2>2.How will I insert new sub_system in the systems collection</h2>\n\n<pre><code>db.systems.insert( {\"name\": \"sub_system_3\", \"data\" : {\"high\" :[\"task1\",\"task2\"], \"mid\": [\"task1\",\"task2\"], \"low\" : [\"task1\",\"task2\"]}})\n</code></pre>\n\n<h2>3.How will I insert new priority (high, mid, low) under sub_system document</h2>\n\n<pre><code>// First you need to find the document using the name field\nvar sub_system_1 = db.systems.findOne({\"name\":\"sub_system_1\"})\n// set your new priority\nsub_system_1.data.new_priority = [ \"task1\", \"task2\" ]\n// Save updated document \ndb.systems.save(sub_system_1)\n</code></pre>\n\n<p>You can also do the update in one statement using the updateOne call please see below documentation \n<a href=\"https://docs.mongodb.com/manual/reference/method/db.collection.updateOne/#db.collection.updateOne\" rel=\"noreferrer\">https://docs.mongodb.com/manual/reference/method/db.collection.updateOne/#db.collection.updateOne</a></p>\n\n<h2>4.How will I insert new task in a specific sub_system and under a specific priority(high,low, mid) document</h2>\n\n<pre><code>// First you need to find the document using the name field\nvar sub_system_1 = db.systems.findOne({\"name\":\"sub_system_1\"})\n// Now we add a new task to priority low\nsub_system_1.data.low[sub_system_1.data.low.length] = \"task3\"\n// Save updated document \ndb.systems.save(sub_system_1)\n</code></pre>\n\n<h1><strong>Using perl mongodb</strong></h1>\n\n<pre><code>#!/usr/bin/perl\n\nuse MongoDB::Connection;\n\nmy $mongodb_dbhost = 'mongodb.co.za';\nmy $mongodb_dbname = 'systems_production';\nmy $mongodb_dbtable = 'systems';\n\nmy $connection   =  MongoDB::Connection-&gt;new(host =&gt; $mongodb_dbhost);\n\nmy $collection = $connection-&gt;$mongodb_dbname-&gt;$mongodb_dbtable;\n</code></pre>\n\n<h2>1. How will I create such nested document</h2>\n\n<pre><code>my $data = $collection-&gt;insert( [\n    {\n       \"name\": \"sub_system_1\", \"data\" : {\"high\" :[\"task1\",\"task2\"], \"mid\":     [\"task1\",\"task2\"], \"low\" : [\"task1\",\"task2\"]}\n},\n{\n    \"name\": \"sub_system_2\" ,\"data\": {\"high\" :[\"task1\",\"task2\"], \"mid\":    [\"task1\",\"task2\"], \"low\" : [\"task1\",\"task2\"]}\n}\n  ]); \n</code></pre>\n\n<h2>2. How will I insert new sub_system in the systems collection</h2>\n\n<pre><code>  $data = $collection-&gt;insert({\n      \"name\": \"sub_system_3\", \n   \"data\" : {\"high\" :[\"task1\",\"task2\"], \"mid\": [\"task1\",\"task2\"], \"low\" :     [\"task1\",\"task2\"]}\n  });\n</code></pre>\n\n<h2>3. How will I insert new priority (high, mid, low) under sub_system document</h2>\n\n<pre><code>my $sub_system_1 = $connection-&gt;$mongodb_dbname-&gt;$mongodb_dbtable-&gt;find_one({'name' =&gt; 'sub_system_1'});\n$sub_system_1-&gt;{data}-&gt;{new_priority} = [ \"task1\", \"task2\" ];\n$collection-&gt;save($sub_system_1);\n</code></pre>\n\n<h2>4. How will I insert new task in a specific sub_system and under a specific priority(high,low, mid) document</h2>\n\n<pre><code>my $sub_system_1 = $connection-&gt;$mongodb_dbname-&gt;$mongodb_dbtable-&gt;find_one({'name' =&gt; 'sub_system_1'});\n $sub_system_1-&gt;{data}-&gt;{low}-&gt;[scalar(@$sub_system_1-&gt;{data}-&gt;{low})] = \"task3\";\n $collection-&gt;save($sub_system_1);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7064075"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12365, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1560020055, "creation_date": 1479886857, "question_id": 40758606, "link": "https://stackoverflow.com/questions/40758606/how-to-insert-document-or-fields-in-nested-documents-in-mongo", "title": "How to insert document or fields in nested documents in mongo", "body": "<p>I want collection named systems under which there is a document named sub_systems and under which there are three documents named high mid &amp; low. And each high, mid and low contains separate multiple documents Like below</p>\n\n<pre><code>systems: {\n           sub_system_1 : {\n                            high :{ {task1},\n                                    {task2},\n                                    .......\n                                  },                                \n                            mid  :{ {task1},\n                                    {task2},\n                                    .......\n                                  },\n                            low :{ {task1},\n                                    {task2},\n                                    .......\n                                  },\n                          },\n           sub_system_2 : {\n                            high :{ {task1},\n                                    {task2},\n                                    .......\n                                  },                                \n                            mid  :{ {task1},\n                                    {task2},\n                                    .......\n                                  },\n                            low :{ {task1},\n                                    {task2},\n                                    .......\n                                  },\n                          },\n           ............\n         }\n</code></pre>\n\n<p>So following are the questions I'm having\n1. How will I create such nested document.\n2. How will I insert new sub_system in the systems collection.\n3. How will I insert new priority (high, mid, low) under sub_system document.\n4. How will I insert new task in a specific sub_system and  under a specific priority(high,low, mid) document</p>\n\n<p>I want to know this using mongo shell and also with perl mongodb</p>\n"}, {"tags": ["regex", "windows", "perl", "carriage-return"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479882604, "post_id": 40757372, "comment_id": 68740004, "body": "Why do you need to touch the <code>\\n</code>? Is <code>s&#47;%%Title: \\K(.+)&#47;your def&#47;</code> not good?"}, {"owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479882656, "post_id": 40757372, "comment_id": 68740029, "body": "@zdim, because in general I don&#39;t know what initial title I have in a file and I want to change it. (think about doing this task for many files with different titles)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479882730, "post_id": 40757372, "comment_id": 68740054, "body": "Oh, right --- I meant can you not leave out the newline, <code>s&#47;%%Title: old&#47;%%Title: new&#47;</code>?"}, {"owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479883051, "post_id": 40757372, "comment_id": 68740190, "body": "@zdim, of course it will be better to leave off carriage-return untouched, yes, i.e. substitute only the text."}], "answers": [{"comments": [{"owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "edited": false, "score": 0, "creation_date": 1479883936, "post_id": 40757515, "comment_id": 68740554, "body": "I tried it and it didn&#39;t work. It  corrupts the file. But I&#39;ll recheck it later and write back."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1480098066, "post_id": 40757515, "comment_id": 68841635, "body": "Nope.  The problem is not in the replacement but in the default layers used by perlio."}], "tags": [], "owner": {"reputation": 89, "user_id": 5074152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d73b3b6fd84e6e0d7e6a4b30caae9?s=128&d=identicon&r=PG&f=1", "display_name": "LeCassandre", "link": "https://stackoverflow.com/users/5074152/lecassandre"}, "is_accepted": false, "score": -1, "last_activity_date": 1479882571, "creation_date": 1479882571, "answer_id": 40757515, "question_id": 40757372, "link": "https://stackoverflow.com/questions/40757372/perl-oneliner-corrupts-file-in-windows-carriage-return-related-issue/40757515#40757515", "title": "Perl oneliner corrupts file in Windows (carriage-return related issue)", "body": "<p>In windows end of line are \\r\\n and not \\n like in unix\nso</p>\n\n<pre><code>perl -p -ifoo.bak -e \"s/%%Title:.+\\r\\n/%%Title: your def\\r\\n/\" file.ps\n</code></pre>\n\n<p>may works</p>\n"}, {"comments": [{"owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "edited": false, "score": 0, "creation_date": 1479913939, "post_id": 40760994, "comment_id": 68760054, "body": "unfortunately it corrupts the file (both versions). I might provide the file if you want. I am not sure if it is relevant: the file was created in MacOs."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1480098048, "post_id": 40760994, "comment_id": 68841630, "body": "Nope.  The problem is not in the replacement but in the default layers used by perlio."}, {"owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1480530582, "post_id": 40760994, "comment_id": 69005095, "body": "@tjd could you explain it a bit?"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1480081721, "last_edit_date": 1480081721, "creation_date": 1479894732, "answer_id": 40760994, "question_id": 40757372, "link": "https://stackoverflow.com/questions/40757372/perl-oneliner-corrupts-file-in-windows-carriage-return-related-issue/40760994#40760994", "title": "Perl oneliner corrupts file in Windows (carriage-return related issue)", "body": "<p>Remove the line break from pattern and replacement:</p>\n\n<pre><code>perl -p -ifoo.bak -e \"s/%%Title:.+$/%%Title: your def/\" file.ps\n</code></pre>\n\n<p>or capture and use it in replacement:</p>\n\n<pre><code>perl -p -ifoo.bak -e \"s/%%Title:.+(\\R)/%%Title: your def$1/\" file.ps\n</code></pre>\n\n<p><code>\\R</code> stands for any kind of line break.</p>\n\n<p>If you want to transform whatever the actual line break is to unix linebreak (ie.<code>\\n</code>):</p>\n\n<pre><code>perl -p -ifoo.bak -e \"s/%%Title:.+\\R/%%Title: your def\\n/\" file.ps\n</code></pre>\n"}], "owner": {"reputation": 2313, "user_id": 194547, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9daed16ecfea23c493a3b79603c51069?s=128&d=identicon&r=PG", "display_name": "varnie", "link": "https://stackoverflow.com/users/194547/varnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1480098229, "creation_date": 1479881988, "last_edit_date": 1479882309, "question_id": 40757372, "link": "https://stackoverflow.com/questions/40757372/perl-oneliner-corrupts-file-in-windows-carriage-return-related-issue", "title": "Perl oneliner corrupts file in Windows (carriage-return related issue)", "body": "<p>I have a PostScript file, in which I want to change one line from:</p>\n\n<blockquote>\n  <p>%%Title: my abc</p>\n</blockquote>\n\n<p>to</p>\n\n<blockquote>\n  <p>%%Title: your def</p>\n</blockquote>\n\n<p>The following Perl oneliner did the trick in Ubuntu:</p>\n\n<pre><code>perl -p -ifoo.bak -e \"s/%%Title:.+\\n/%%Title: your def\\n/\" file.ps\n</code></pre>\n\n<p>but it corrupts the file in Windows (looks like it adds \\r\\n to every \"line\" or something like that).</p>\n\n<p>I tried another approach, but still no luck in Windows:</p>\n\n<pre><code>perl -Mopen=OUT,:bytes -p -ifoo.bak -e \"s/%%Title:.+\\n/%%Title: your def\\n/\" file.ps\n</code></pre>\n\n<p>What is going on and how do I solve that problem? Thank you.</p>\n"}, {"tags": ["perl", "rpm", "centos7", "yum"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1479880762, "post_id": 40756569, "comment_id": 68739317, "body": "It would be useful to see what errors you are getting."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7198054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec0a5b96f81fd8c452f765fd57521b5?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Burton", "link": "https://stackoverflow.com/users/7198054/joshua-burton"}, "edited": false, "score": 0, "creation_date": 1479967197, "post_id": 40776446, "comment_id": 68781322, "body": "The reason I tried CPAN was because trying yum gave me this error: &quot;No package perl-MIME-Lite available&quot;. Could there be some intermediary step I&#39;m missing, or perhaps there&#39;s something wrong with the RPM Database?"}, {"owner": {"reputation": 5563, "user_id": 836748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa0788ea4af0508334e34621bda10a9e?s=128&d=identicon&r=PG", "display_name": "Aaron D. Marasco", "link": "https://stackoverflow.com/users/836748/aaron-d-marasco"}, "reply_to_user": {"reputation": 3, "user_id": 7198054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec0a5b96f81fd8c452f765fd57521b5?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Burton", "link": "https://stackoverflow.com/users/7198054/joshua-burton"}, "edited": false, "score": 0, "creation_date": 1480034330, "post_id": 40776446, "comment_id": 68814315, "body": "Try adding the <a href=\"https://fedoraproject.org/wiki/EPEL\" rel=\"nofollow noreferrer\">EPEL</a> repository to <code>yum</code>. Instructions are on that page."}, {"owner": {"reputation": 3, "user_id": 7198054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec0a5b96f81fd8c452f765fd57521b5?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Burton", "link": "https://stackoverflow.com/users/7198054/joshua-burton"}, "edited": false, "score": 0, "creation_date": 1480133218, "post_id": 40776446, "comment_id": 68849670, "body": "I just discussed this with someone else, and they mentioned trying to do direct downloads from the epel repository...and it worked! Thanks you for the help."}, {"owner": {"reputation": 5563, "user_id": 836748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa0788ea4af0508334e34621bda10a9e?s=128&d=identicon&r=PG", "display_name": "Aaron D. Marasco", "link": "https://stackoverflow.com/users/836748/aaron-d-marasco"}, "reply_to_user": {"reputation": 3, "user_id": 7198054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec0a5b96f81fd8c452f765fd57521b5?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Burton", "link": "https://stackoverflow.com/users/7198054/joshua-burton"}, "edited": false, "score": 0, "creation_date": 1480173698, "post_id": 40776446, "comment_id": 68858770, "body": "Yes, you can directly download, but that defeats the purpose of a repository, which is the automatic dependency downloading as well."}, {"owner": {"reputation": 3, "user_id": 7198054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec0a5b96f81fd8c452f765fd57521b5?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Burton", "link": "https://stackoverflow.com/users/7198054/joshua-burton"}, "edited": false, "score": 0, "creation_date": 1480839883, "post_id": 40776446, "comment_id": 69122988, "body": "Oh, ok. I&#39;ll have to give that a shot next time (though I think it&#39;s good to have experience with direct downloads in case you can&#39;t implement the repository approach)."}], "tags": [], "owner": {"reputation": 5563, "user_id": 836748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa0788ea4af0508334e34621bda10a9e?s=128&d=identicon&r=PG", "display_name": "Aaron D. Marasco", "link": "https://stackoverflow.com/users/836748/aaron-d-marasco"}, "is_accepted": true, "score": 0, "last_activity_date": 1479948191, "creation_date": 1479948191, "answer_id": 40776446, "question_id": 40756569, "link": "https://stackoverflow.com/questions/40756569/trouble-with-installing-monitorix-centos-7/40776446#40776446", "title": "Trouble with installing Monitorix (Centos 7)", "body": "<p>Installing with CPAN is <em>not</em> the equivalent of installing them with <code>yum</code>; the installs are not in the RPM Database. Uninstall them and try again with <code>yum</code>, e.g. <code>yum install perl-MIME-Lite</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 7198054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec0a5b96f81fd8c452f765fd57521b5?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Burton", "link": "https://stackoverflow.com/users/7198054/joshua-burton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 40776446, "answer_count": 1, "score": 0, "last_activity_date": 1479948191, "creation_date": 1479878282, "question_id": 40756569, "link": "https://stackoverflow.com/questions/40756569/trouble-with-installing-monitorix-centos-7", "title": "Trouble with installing Monitorix (Centos 7)", "body": "<p>I am trying to install Monitorix; but I can't seem to overcome certain issues with the required modules.</p>\n\n<p>I have every prerequisite except for three of the perl modules (MIME-Lite, HTTP-Server-Simple, and Config-General). Even though I have installed them using CPAN, I can't seem to use rpm or yum to finish the installation process (I have the monitorix-3.9.0-1.noarch.rpm file downloaded).</p>\n\n<p>Is there something I'm missing, or some way that is much easier to go about this? I started with a bare-bones Centos 7 system, in accordance to the nature of the course I have to do this for. Anything would be helpful, at this point.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "edited": false, "score": 0, "creation_date": 1479861219, "post_id": 40753920, "comment_id": 68734188, "body": "Thanks! Exactly what I was looking for"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1479864726, "post_id": 40753920, "comment_id": 68735002, "body": "the question says undefined or <i>empty string</i>, so <code>$x = 1 + ($emptyVar || 0);</code> instead"}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1479875381, "post_id": 40753920, "comment_id": 68737638, "body": "@ysth - true, though when likening to shell where &quot;empty&quot; and &quot;undef&quot; are largely indistinguishable, I figured there was a good chance that&#39;s what OP meant."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479893902, "post_id": 40753920, "comment_id": 68746143, "body": "<code>++($x = $emptyVar)</code>"}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 4, "last_activity_date": 1479859561, "creation_date": 1479859561, "answer_id": 40753920, "question_id": 40753694, "link": "https://stackoverflow.com/questions/40753694/perl-use-0-if-string-is-empty/40753920#40753920", "title": "Perl - use 0 if string is empty", "body": "<p>There are many ways to do this.  e.g.:</p>\n\n<pre><code>$x = $emptyVar;\n$x += 1;\n</code></pre>\n\n<p>or maybe:</p>\n\n<pre><code>$x = 1 + ($emptyVar // 0); # defined-or operator\n</code></pre>\n\n<p>or maybe:</p>\n\n<pre><code>{\n  no warnings 'uninitialized';\n  $x = 1 + $emptyVar;\n}\n</code></pre>\n\n<p>Of these, I usually use the second one.  If the level of perl I'm using doesn't have defined-or, then a simple or (<code>||</code>) works fine, too.</p>\n"}], "owner": {"reputation": 758, "user_id": 1586913, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da7fcb41cc4239d92becd95552bd4d03?s=128&d=identicon&r=PG", "display_name": "Subbeh", "link": "https://stackoverflow.com/users/1586913/subbeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 40753920, "answer_count": 1, "score": 2, "last_activity_date": 1479859561, "creation_date": 1479858229, "question_id": 40753694, "link": "https://stackoverflow.com/questions/40753694/perl-use-0-if-string-is-empty", "title": "Perl - use 0 if string is empty", "body": "<p>When using arithmetic expressions in combination with an undefined or empty string, perl throws an error. Is there a clean way to use zero in case a string is empty?</p>\n\n<p>This does not work:</p>\n\n<pre><code>$x = 1 + $emptyVar\n</code></pre>\n\n<p>In bash you could use something like this for instance to use zero if the variable $emptyVar is empty:</p>\n\n<pre><code>x=1+${emptyVar:-0}\n</code></pre>\n\n<p>I am looking for something similar as this</p>\n"}, {"tags": ["perl", "mocking", "mod-perl2"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479850070, "post_id": 40751635, "comment_id": 68730026, "body": "So you want to mock the <code>read</code>, is that correct?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479852339, "post_id": 40751635, "comment_id": 68731119, "body": "Perl always passes by reference, so all you have to do is modify <code>$_[1]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "edited": false, "score": 2, "creation_date": 1479850533, "post_id": 40751867, "comment_id": 68730246, "body": "Haha, I really out-thought myself there. Thanks!"}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 9, "last_activity_date": 1479849711, "creation_date": 1479849711, "answer_id": 40751867, "question_id": 40751635, "link": "https://stackoverflow.com/questions/40751635/in-perl-how-to-write-to-callers-variable-without-using-xs/40751867#40751867", "title": "in perl how to write to caller&#39;s variable without using XS?", "body": "<p>In a Perl subroutine or method, parameters are passed via the <code>@_</code> array.  Elements in this array are <em>aliases</em> for the variables in the calling sub.</p>\n\n<p>The common way of unpacking <code>@_</code> is by making a copy like this:</p>\n\n<pre><code>my($self, $buf, $len) = @_;\n</code></pre>\n\n<p>So assigning to <code>$buf</code> in this case won't work because you've only modified your copy of the variable.  But if you directly modify the value in <code>@_</code> then that will affect the caller's variable:</p>\n\n<pre><code>$_[1] = 'some data';\n</code></pre>\n"}], "owner": {"reputation": 1374, "user_id": 514032, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d14f5a30225fab8a0fc2cf40b17ca31?s=128&d=identicon&r=PG", "display_name": "Kevin G.", "link": "https://stackoverflow.com/users/514032/kevin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 40751867, "answer_count": 1, "score": 8, "last_activity_date": 1479849711, "creation_date": 1479848844, "question_id": 40751635, "link": "https://stackoverflow.com/questions/40751635/in-perl-how-to-write-to-callers-variable-without-using-xs", "title": "in perl how to write to caller&#39;s variable without using XS?", "body": "<p>I'm writing unit tests around some old code, and find the need to write a mock around Apache2::Request's <code>read()</code> method</p>\n\n<pre><code>my $r = Apache2::Request-&gt;new(...);\n\n$r-&gt;read(my $buf, $len);\n</code></pre>\n\n<p>Is there a way to write a function in Perl to populate <code>$buf</code>? I'm pretty sure the only way to do that is from XS code with a **, but I thought I'd at least ask first.</p>\n\n<p>Using Apache2::Request directly leads to this, hence my desire to mock it.</p>\n\n<pre><code>perl: symbol lookup error: .../APR/Request/Apache2/Apache2.so: \nundefined symbol: modperl_xs_sv2request_rec\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1479845522, "post_id": 40750402, "comment_id": 68727495, "body": "<code>strictures</code> has nothing to do with your calculations. You probably got some example confused. <code>strictures</code> turns on <code>use strict</code> and <code>use warnings</code> for you, besides some other things. See <a href=\"https://metacpan.org/pod/strictures\" rel=\"nofollow noreferrer\">metacpan.org/pod/strictures</a>."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1479846437, "post_id": 40750402, "comment_id": 68728040, "body": "Is your data correct? Do all files except file1 have ranges separated by commas? Should file1 also have commas separating the ranges?"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "reply_to_user": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1479847517, "post_id": 40750402, "comment_id": 68728620, "body": "@Chris Charley - yes, the data are correct. As the files are themselves generated by different scripts, there are some differences of , and :"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1479847525, "post_id": 40750402, "comment_id": 68728623, "body": "I think the number of overlaps is the elements in common to the files compared but I&#39;m not sure how you want to get the percents. Ex. if there are 20 overlaps between file1 and file2 for an Id, what would you need for the denominator to get the percentage of the overlaps. The total elements in file1 for that Id or the total number of elements in file2 for the Id?"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "reply_to_user": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1479848021, "post_id": 40750402, "comment_id": 68728912, "body": "@Chris Charley, the file1 elements are used as denominators, you see, i want to calculate the percentage of all files in respect to file 1. Say if the file 1 range length is 30 and the overlap region of file2, file3 are 20 and 10, 30 will be the denominator in each case. and it has to be iterated for every range for an id in file 1"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1479849113, "post_id": 40750402, "comment_id": 68729539, "body": "i mean u r right, the total elements of file1 will have to be used as denominator..; but in that case, it would be helpful if the range contents of each id are given in separate column before each overlap case, it would be easier to check the result by only looking at the output csv then"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1479871781, "post_id": 40750402, "comment_id": 68736728, "body": "I would use <a href=\"https://metacpan.org/pod/Set::IntSpan\" rel=\"nofollow noreferrer\">Set::IntSpan</a> not  Number::Range. Set::IntSpan will allow you to more easily determine set intersection (numbers in common between two sets of ranges)."}], "answers": [{"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 1, "last_activity_date": 1480225741, "last_edit_date": 1480225741, "creation_date": 1479948623, "answer_id": 40776488, "question_id": 40750402, "link": "https://stackoverflow.com/questions/40750402/range-overlapping-number-and-percentage-calculation/40776488#40776488", "title": "Range overlapping number and percentage calculation", "body": "<p>This is a fragile solution in that it can only check 3 files for overlaps. If more files are involved, the code would need to be restructured. It uses Set::IntSpan to calculate the overlaps (and percent of overlaps.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Set::IntSpan;\nuse autodie;\n\nmy $file1 = 'file1';\nmy @files = qw/file2 file3/;\n\nmy %data;\nmy %ids;\nopen my $fh1, '&lt;', $file1;\n\nwhile (&lt;$fh1&gt;) {\n    chomp;\n    my ($id, $list) = split /:\\s/;\n    $ids{$id}++;\n    $data{$file1}{$id} = Set::IntSpan-&gt;new(split ' ', $list);\n}\nclose $fh1;\n\nfor my $file (@files) {\n    open my $fh, '&lt;', $file;\n    while (&lt;$fh&gt;) {\n        chomp;\n        my ($id, $list) = split /:\\s/;\n        next unless exists $ids{$id};\n\n        $data{$file}{$id} = Set::IntSpan-&gt;new(split /,\\s/, $list);\n    }\n    close $fh;\n}\n\nmy %go_terms;\nopen my $go, '&lt;', 'file4';\n\nwhile (&lt;$go&gt;) {\n    chomp;\n    my ($id, $terms) = split ' ', $_, 2;\n    $go_terms{$id} = $terms =~ tr/,//dr;\n}\nclose $go;\n\nmy %output;\n\nfor my $file (@files) {\n    for my $id (keys %ids) {\n        my $count = ($data{$file1}{$id} * $data{$file}{$id})-&gt;size;\n        my $percent = sprintf \"%.0f\", 100 * $count / $data{$file1}{$id}-&gt;size;\n\n        $output{$id}{$file} = [$count, $percent];   \n    }   \n}\n\nfor my $id (keys %ids) {\n    my $count = ($data{$file1}{$id} * $data{$files[0]}{$id} * $data{$files[1]}{$id})-&gt;size;\n    my $percent = sprintf \"%.0f\", 100 * $count / $data{$file1}{$id}-&gt;size;\n\n    $output{$id}{all_files} = [$count, $percent];\n}\n\n# output saved as f2.csv\nprint join(\",\", qw/ID   f1f2_overlap   f1f2_%overlap\n                        f1f3_overlap   f1f3_%overlap\n                      f1f2f3_overlap f1f2f3_%overlap Go_terms/), \"\\n\";\n\nfor my $id (keys %output) {\n    print \"$id,\";\n\n    for my $file (@files, 'all_files') {\n        my $aref = $output{$id}{$file};\n        print join(\",\", @$aref), \",\";   \n    }\n    print +($go_terms{$id} // ''), \"\\n\";\n}\n</code></pre>\n\n<p>The Excel sheet looks like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TcGOG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TcGOG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "accepted_answer_id": 40776488, "answer_count": 1, "score": 0, "last_activity_date": 1480225741, "creation_date": 1479844086, "last_edit_date": 1479844467, "question_id": 40750402, "link": "https://stackoverflow.com/questions/40750402/range-overlapping-number-and-percentage-calculation", "title": "Range overlapping number and percentage calculation", "body": "<p>I want to calculate overlap number(#) and percentage (%) from a series of ranges values distributed in four different files initiated with a specific identifier(id) (like  NP_111111.4) . The initial list of ids are taken from file1.txt (starting file) and if the id matches with ids of other file, overlaps are calculated. Suppose my files are like this:</p>\n\n<p>file1.txt</p>\n\n<pre><code>NP_111111.4: 1-9 12-20 30-41\nYP_222222.2: 3-30 40-80\n</code></pre>\n\n<p>file2.txt</p>\n\n<pre><code>NP_111111.4: 1-6, 13-22, 31-35, 36-52\nNP_414690.4: 360-367, 749-755\nYP_222222.2: 19-24, 22-40\n</code></pre>\n\n<p>file3.txt</p>\n\n<pre><code>NP_418214.2: 1-133, 135-187, 195-272\nYP_222222.2: 1-10\n</code></pre>\n\n<p>file4.txt</p>\n\n<pre><code>NP_418119.2 \nYP_222222.2 GO:0016878, GO:0051108\nNP_111111.4 GO:0005887\n</code></pre>\n\n<p>From these input file, I want to create a .csv or excel output with separate columns with header as:</p>\n\n<pre><code>id overlap_file1_file2(#) overlap_file1_file2(%) overlap_file1_file3(#) overlap_file1_file3(%) overlap_file1_file2_file3(#) overlap_file1_file2_file3(%) Go_Terms(File4)\n</code></pre>\n\n<p>I am learning perl and found a perl module \"strictures\" for this type of range comparison. I am calculating overlapping number and percentage from two ranges as:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strictures;\nuse Number::Range;\n\nmy $seq1 = Number::Range-&gt;new(8..356); #Start and stop for file1.txt\nmy $seq2 = Number::Range-&gt;new(156..267); #Start and stop for file2.txt\n\nmy $overlap = 0;\nmy $sseq1 = $seq1-&gt;size;\nmy $percent = (($seq2-&gt;size * 100) / $seq1-&gt;size);\n\nforeach my $int ($seq2-&gt;range) {\n    if ( $seq1-&gt;inrange($int) ) {\n    $overlap++;\n    }\n    else {\n    next;\n    }\n}\n\n\nprint \"Total size= $sseq1 Number overlapped= $overlap Percentage overlap= $percent \\n\";\n</code></pre>\n\n<p>But I could not find a way to match ids of (file1.txt) with other files to extract specific information and to print them in a output csv file.</p>\n\n<p>Please help. Thanks for your consideration.</p>\n"}, {"tags": ["java", "regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479841816, "post_id": 40749796, "comment_id": 68725501, "body": "Try <code>$(?&lt;!\\.xml|\\.xsl|\\.cfg)</code>"}, {"owner": {"reputation": 1321, "user_id": 3691745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a6ff846d5145e979dcf859d5630c649e?s=128&d=identicon&r=PG&f=1", "display_name": "markbernard", "link": "https://stackoverflow.com/users/3691745/markbernard"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479842309, "post_id": 40749796, "comment_id": 68725749, "body": "@WiktorStribi\u017cew Thanks. I will try it. I have to set up a place to test without having to recompile code all the time. I will let you know tomorrow if it worked."}, {"owner": {"reputation": 10211, "user_id": 3622940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aba3004ab3636065081033d7789d6a0d?s=128&d=identicon&r=PG", "display_name": "Unihedron", "link": "https://stackoverflow.com/users/3622940/unihedron"}, "edited": false, "score": 0, "creation_date": 1479842403, "post_id": 40749796, "comment_id": 68725812, "body": "Why can&#39;t you match for <code>\\.(x[ms]l|cfg)$</code> and invert the result of the regex pass?"}, {"owner": {"reputation": 1321, "user_id": 3691745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a6ff846d5145e979dcf859d5630c649e?s=128&d=identicon&r=PG&f=1", "display_name": "markbernard", "link": "https://stackoverflow.com/users/3691745/markbernard"}, "reply_to_user": {"reputation": 10211, "user_id": 3622940, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aba3004ab3636065081033d7789d6a0d?s=128&d=identicon&r=PG", "display_name": "Unihedron", "link": "https://stackoverflow.com/users/3622940/unihedron"}, "edited": false, "score": 0, "creation_date": 1479842669, "post_id": 40749796, "comment_id": 68725949, "body": "@Unihedron The API returns an Iterator that I can use to get the list. If I match that I won&#39;t have the files in my list that I want. Just the ones I don&#39;t want."}, {"owner": {"reputation": 1321, "user_id": 3691745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a6ff846d5145e979dcf859d5630c649e?s=128&d=identicon&r=PG&f=1", "display_name": "markbernard", "link": "https://stackoverflow.com/users/3691745/markbernard"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479911983, "post_id": 40749796, "comment_id": 68758674, "body": "@WiktorStribi\u017cew Thanks but it didn&#39;t work. It said that the expression was not well formed."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479912028, "post_id": 40749796, "comment_id": 68758705, "body": "Then the tool does not support a Perl regex. Use <code>^(?!.*\\.(x[ms]l|cfg)$).+</code> (or even without the last <code>.+</code>)."}, {"owner": {"reputation": 1321, "user_id": 3691745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a6ff846d5145e979dcf859d5630c649e?s=128&d=identicon&r=PG&f=1", "display_name": "markbernard", "link": "https://stackoverflow.com/users/3691745/markbernard"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479912259, "post_id": 40749796, "comment_id": 68758857, "body": "@WiktorStribi\u017cew That one did. Thanks! Post as an answer and I will select it as the correct answer."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479843410, "creation_date": 1479843410, "answer_id": 40750230, "question_id": 40749796, "link": "https://stackoverflow.com/questions/40749796/regular-expression-to-return-results-that-do-not-match-selection/40750230#40750230", "title": "Regular expression to return results that do not match selection", "body": "<p>You need something like this, which matches only if the end of the string isn't preceded by a dot and one of the three unwanted types</p>\n\n<pre><code>/(?&lt;!\\.(?:xml|xsl|cfg))\\z/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1479912495, "creation_date": 1479912495, "answer_id": 40767535, "question_id": 40749796, "link": "https://stackoverflow.com/questions/40749796/regular-expression-to-return-results-that-do-not-match-selection/40767535#40767535", "title": "Regular expression to return results that do not match selection", "body": "<p>You may use</p>\n\n<pre><code>^(?!.*\\.(x[ms]l|cfg)$).+\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/RL4lWC/3\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><strong>Details</strong>:</p>\n\n<ul>\n<li><code>^</code> - start of a string</li>\n<li><code>(?!.*\\.(x[ms]l|cfg)$)</code> - a negative lookahead that fails the match if any 0+ chars other than line break chars (<code>.*</code>) are followed with <code>xml</code>, <code>xsl</code> or <code>cfg</code> (<code>(x[ms]l|cfg)</code>) at the end of the string (<code>$</code>)</li>\n<li><code>.+</code> - any 1 or more chars other than linebreak chars. Might be omitted if the entire string match is not required (in some tools it is required though).</li>\n</ul>\n"}], "owner": {"reputation": 1321, "user_id": 3691745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a6ff846d5145e979dcf859d5630c649e?s=128&d=identicon&r=PG&f=1", "display_name": "markbernard", "link": "https://stackoverflow.com/users/3691745/markbernard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 40767535, "answer_count": 2, "score": -3, "last_activity_date": 1479912495, "creation_date": 1479841719, "last_edit_date": 1592644375, "question_id": 40749796, "link": "https://stackoverflow.com/questions/40749796/regular-expression-to-return-results-that-do-not-match-selection", "title": "Regular expression to return results that do not match selection", "body": "<p>I work on a product that provides a Java API to extend it.</p>\n<p>The API provides a function which\ntakes a Perl regular expression and\nreturns a list of matching files.</p>\n<p>I want to filter the list to remove all files that end in <code>.xml</code>, <code>.xsl</code> and <code>.cfg</code>; basically the opposite of <code>.*(\\.xml|\\.xsl|\\.cfg)</code>.</p>\n<p>I have been searching but I haven't been able to get anything to work yet.</p>\n<p>I tried <code>.*(?!\\.cfg)</code> and <code>^((?!cfg).)*$</code> and <code>\\.(?!cfg$|?!xml$|?!xsl$)</code>.</p>\n<p>I don't know if I am on the right track or not.</p>\n<h3>Note</h3>\n<p>I know the regex systems are similar, but I can't get a Java regex working either.</p>\n"}, {"tags": ["php", "mysql", "perl", "odbc", "command-prompt"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 4039150, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/727d368a14cd6ebdca88a6ba9bb03f49?s=128&d=identicon&r=PG&f=1", "display_name": "nessa", "link": "https://stackoverflow.com/users/4039150/nessa"}, "edited": false, "score": 1, "creation_date": 1479846661, "post_id": 40750007, "comment_id": 68728175, "body": "This is perfect, I was trying to do it in PHP as well, read the registry but I got as far as only listing the Sources."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1509288977, "last_edit_date": 1509288977, "creation_date": 1479842536, "answer_id": 40750007, "question_id": 40749019, "link": "https://stackoverflow.com/questions/40749019/get-list-of-windows-7-odbc-data-sources-through-command-line/40750007#40750007", "title": "Get list of Windows 7 ODBC Data Sources through Command Line", "body": "<p>I threw this Perl script together very, very quickly, but it appears to do what you need. It puts the connection name in a hash as the key, then puts the server string as its value. Note that as per your question, this will only fetch the user defined sources (it would be trivial to adapt to collect system DSNs though):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Win32::TieRegistry; \n\nmy $odbc_key = $Registry-&gt;{'CUser\\\\Software\\\\ODBC\\\\ODBC.INI'};\n\nmy %sources;\n\nfor (keys %$odbc_key) {\n    next if /ODBC Data Sources/;\n    s/\\\\//g;\n    $sources{$_} = $odbc_key-&gt;{\"$_\\\\Server\"};\n}\n\nfor my $dsn (keys %sources) {\n    print \"dsn: $dsn, server: $sources{$dsn}\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>dsn: Test, server: localhost\ndsn: Blah, server: yay.blah.com\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 4039150, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/727d368a14cd6ebdca88a6ba9bb03f49?s=128&d=identicon&r=PG&f=1", "display_name": "nessa", "link": "https://stackoverflow.com/users/4039150/nessa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1162, "favorite_count": 0, "accepted_answer_id": 40750007, "answer_count": 1, "score": 3, "last_activity_date": 1509288977, "creation_date": 1479839014, "last_edit_date": 1495542652, "question_id": 40749019, "link": "https://stackoverflow.com/questions/40749019/get-list-of-windows-7-odbc-data-sources-through-command-line", "title": "Get list of Windows 7 ODBC Data Sources through Command Line", "body": "<p>I need to retrieve information from my computer, I can get it through a PHP script but preferably a Perl Script if possible. Basically I need the list of User Defined ODBC Data sources and their <strong>server URLS</strong> if defined. </p>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/2493159/get-list-of-odbc-data-source-in-local-pc-using-php\">this answer</a> on how to extract it from the registry using PHP, but I need the Server URL as well. </p>\n"}, {"tags": ["apache", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479838814, "post_id": 40748803, "comment_id": 68723650, "body": "You&#39;re being very imprecise. Please add <a href=\"http://pastebin.com/raw/Yj5dqXBe\" rel=\"nofollow noreferrer\">this</a> to the top of your script, provide the output, and provide the desired output."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479838916, "post_id": 40748803, "comment_id": 68723708, "body": "You did something like <code>print &quot;$q-&gt;param(&#39;variable&#39;)&quot;;</code> when you should have done <code>print $q-&gt;param(&#39;variable&#39;);</code>. (Don&#39;t put Perl code in quotes!)"}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479840859, "post_id": 40748803, "comment_id": 68724956, "body": "Sorry I didn&#39;t realize I was in the wrong section for this post.  Anway, shouldn&#39;t perl interpolate the variable in double quotes?"}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479841085, "post_id": 40748803, "comment_id": 68725088, "body": "Ikegami, I used your code and all the variables showed up.  But I don&#39;t know why."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479841307, "post_id": 40748803, "comment_id": 68725216, "body": "Re &quot;<i>shouldn&#39;t perl interpolate the variable in double quotes?</i>&quot;, Yes, it interpolates <code>$name</code>, and it did, but that&#39;s not what you wanted to do. You wanted to execute Perl code and print its result."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479841559, "post_id": 40748803, "comment_id": 68725343, "body": "I just added the test code I was using. subject, topic and userName were empty."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479842064, "post_id": 40748803, "comment_id": 68725612, "body": "Please take a look at <a href=\"http://stackoverflow.com/editing-help\"><i>Markdown Editing Help</i></a>. You shouldn&#39;t use HTML markup if you can possibly avoid it."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479842695, "post_id": 40748803, "comment_id": 68725958, "body": "thanks Borodin I&#39;ll have a look at that.  ikegami, i added the output of your code to the bottom of the post."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479842796, "post_id": 40748803, "comment_id": 68726003, "body": "I&#39;ve done many perl forms and never had a problem like this."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479847888, "post_id": 40748803, "comment_id": 68728839, "body": "This has all been very helpful thank you.  Nobody will tell me why my code is behaving inconsistently?"}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479858139, "post_id": 40748803, "comment_id": 68733338, "body": "I&#39;m trying now to incorporate your code but you can see mine up there--why the #@E#% doesn&#39;t it work?  I can&#39;t figure it out."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479860060, "post_id": 40748803, "comment_id": 68733887, "body": "So I tried to use your code and i&#39;m missing vars again.  See, nobody is getting at the evident problem here.  The assignment line crapped out after 4 assignments.  That is, I only got values for 4 of the six.  Meanwhile, the earlier line shows that at each iteration $_ has the correct value."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479899210, "post_id": 40748803, "comment_id": 68749910, "body": "@user1064558: I guess you still want an explanation? Please would you clarify your question. I need to be able to relate each version of the code to the output that it produces for you. I&#39;m also unclear what you mean by <i>ikegami&#39;s code</i>. So if you show a version that is missing output values, together with its output, and then a version with correct output (if you have one) together with the output from that, then I can help. Also, <i>crapped out</i> generally means the program died or crashed. Is that what you mean here? If so then please post the error message."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479899754, "post_id": 40748803, "comment_id": 68750347, "body": "You should also avoid using <i>symbolic references</i>. <code>${$NAMES{$name}}</code> dereferences a symbolic reference because <code>$NAMES{$name}</code> is a simple string -- the name of the variable. That is very bad practice, and the usual solution is to use a hash instead. Read about symbolic references in <a href=\"http://perldoc.perl.org/perlref.html#Symbolic-references\" rel=\"nofollow noreferrer\"><code>perldoc perlref</code></a>. You should also make sure to put <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of <i>every</i> Perl program that you write. You will also need to declare all of your variables as close as possible to their first point of use."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479912641, "post_id": 40748803, "comment_id": 68759108, "body": "Thank you Borodin for your comments.  <i>ikegami</i> answered most of questions earlier in this lengthy comments, and he linked to some code he wrote, which I refer to as &#39;ikegami&#39;s code&#39;."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479914774, "post_id": 40748803, "comment_id": 68760606, "body": "I had to incorporate it into my code because I never figured out why mine didn&#39;t work.  using symbolic references resulted in the least amount of code and I knew how to do it.  I will look into using hashes instead.  Thanks for the tip.  My attempt to use ikegami&#39;s code actually DID work--it was tripped up by a cached form that had been subsequently changed."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479961961, "post_id": 40774369, "comment_id": 68779717, "body": "uh the bit you say i&#39;m receiving was what I received from YOUR code, not mine.  and also I <i>am</i> using $q-&gt;param(&#39;qSetCat&#39;) and so on.  Maybe you&#39;re looking at the hash i used to help me incorporate your code. I used it to construct symbolic refs to my var names which was a shorter rout then checking each value in $q-&gt;param().  Still pecking away at this....  I will for sure post a definitive answer when I get it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1479962502, "post_id": 40774369, "comment_id": 68779855, "body": "Re &quot;<i>was what I received from YOUR code</i>&quot;, I know I wrote it. I have no idea why you mention this. It doesn&#39;t matter who wrote it. What matters is that it shows what you are receiving. /// Re &quot;<i>I</i> am <i>using <code>$q-&gt;param(&#39;qSetCat&#39;)</code> and so on</i>&quot;, I know. Like I said, you shouldn&#39;t be. That&#39;s the cause of the error you are having. You should be using <code>$q-&gt;param(&#39;qSetCat&#39;)</code> instead because the parameter is named <code>category</code>, not <code>qSetCat</code>."}, {"owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "edited": false, "score": 0, "creation_date": 1480357967, "post_id": 40774369, "comment_id": 68918856, "body": "Apologies for this thread...I am returning to a coding project after several years and there were some name/variable mismatches over the thousands of lines of code and 30 or so different files, which mostly accounted for my problems.  There was not one single problem, but several.  Also, a = where there was supposed to be ==.  I finally tracked them all down.  I appreciate the help"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1479936209, "creation_date": 1479936209, "answer_id": 40774369, "question_id": 40748803, "link": "https://stackoverflow.com/questions/40748803/perl-cgi-parameters-not-all-showing/40774369#40774369", "title": "perl CGI parameters not all showing", "body": "<p>You are receiving</p>\n\n<pre><code>qSetSubject: precalculus\nqTopicName: polar coordinates\nuName: kjtruitt\naccessLevel: private\ncategory: mathematics\ntype: grid-in\n</code></pre>\n\n<p>so</p>\n\n<pre><code>my $category    = $q-&gt;param('qSetCat');\nmy $type        = $q-&gt;param('qSetType');\n</code></pre>\n\n<p>should be replaced with</p>\n\n<pre><code>my $category    = $q-&gt;param('category');\nmy $type        = $q-&gt;param('type');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1064558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdac5da11f97548c2358fd0517c098b8?s=128&d=identicon&r=PG", "display_name": "user1064558", "link": "https://stackoverflow.com/users/1064558/user1064558"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 734, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1479936209, "creation_date": 1479838191, "last_edit_date": 1479859930, "question_id": 40748803, "link": "https://stackoverflow.com/questions/40748803/perl-cgi-parameters-not-all-showing", "title": "perl CGI parameters not all showing", "body": "<p>I am passing about seven fields from an HTML form to a Perl CGI script.</p>\n\n<p>Some of the values are not getting recovered using a variety of methods (POST, GET, <code>CGI.pm</code> or raw code).</p>\n\n<p>That is, this code</p>\n\n<pre><code>my $variable = $q-&gt;param('varname');\n</code></pre>\n\n<p>resulted in about half the variables either being <em>empty</em> or <em>undef</em>, although the latter may have been a coincidental situation from the HTML page, which uses JavaScript.</p>\n\n<p>I wrote a test page on the same platform with a simple form going to a simple CGI, and also got results where onpy half the parameters were represented. The remaining values were empty after the assignment.</p>\n\n<p>I tried both POST and GET. I also tried GET and printed the query string after attempting to write out the variables; everything was in the query string as it should be. I'm using <code>CGI.pm</code> for this.</p>\n\n<p>I tried to see if the variable values had been parsed successfully by <code>CGI.pm</code> by creating a version of my test CGI code which just displays the \nparameters on the HTML page. The result is a bunch of odd strings like</p>\n\n<pre><code>CGI=HASH(0x02033)-&gt;param('qSetName')\n</code></pre>\n\n<p>suggesting that assignment of these values results in a cast of some kind, so I was unable to tell if they actually 'contained' the proper values.</p>\n\n<p>My real form uses POST, so I just commented out the <code>CGI.pm</code> code and iterated over STDIN and it had all the name-value pairs as it should have.</p>\n\n<p>Everything I've done points to <code>CGI.pm</code>, so I will try reinstalling it.</p>\n\n<p>Here's the test code that missed half the vars:</p>\n\n<pre><code>#!/usr/bin/perl;\n\nuse CGI;\n\nmy $q = new CGI;\n\nmy $subject     = $q-&gt;param('qSetSubject');\nmy $topic       = $q-&gt;param('qTopicName');\nmy $userName    = $q-&gt;param('uName');\nmy $accessLevel = $q-&gt;param('accessLevel');\nmy $category    = $q-&gt;param('qSetCat');\nmy $type        = $q-&gt;param('qSetType');\n\n\nprint \"Content-Type: text/html\\n\\n\";\n\nprint \"&lt;html&gt;\\n&lt;head&gt;&lt;title&gt;Test CGI&lt;\\/title&gt;&lt;\\/head&gt;\\n&lt;body&gt;\\n\\n&lt;h2&gt;Here Are The Variables:&lt;\\/h2&gt;\\n\";\n\nprint \"&lt;list&gt;\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qSetSubject\\') = $subject\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qTopicName\\')  = $topic\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'uName\\')       = $userName\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qSetCat\\')     = $accessLevel\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qSetType\\')    = $category\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'accessLevel\\') = $type\\n\";\nprint \"&lt;\\/list&gt;\\n\";\n</code></pre>\n\n<p>The results of ikegami's code are here:</p>\n\n<pre><code>qSetSubject: precalculus\nqTopicName: polar coordinates\nuName: kjtruitt\naccessLevel: private\ncategory: mathematics\ntype: grid-in\n</code></pre>\n\n<p><strong>My attempt to incorporate ikegami's code</strong></p>\n\n<pre><code>%NAMES = (\n        seqNum =&gt; 'seqNum',\n        uName  =&gt; 'userName',\n        qSetName =&gt; 'setName',\n        accessLevel =&gt; 'accessLevel',\n        qSetCat =&gt; 'category',\n        qTopicName =&gt; 'topic',\n        qSetType =&gt; 'type',\n        qSetSubject =&gt; 'subject',\n\n);\n\n   use CGI;\n   my $cgi = CGI-&gt;new();\n   print \"Content-Type:text/html\\n\\n\";\n\n   #print($cgi-&gt;header('text/plain'));\n   for my $name ($cgi-&gt;param) {\n      for ($cgi-&gt;param($name)) {\n         #print(\"$name: \".( defined($_) ? $_ : '[undef]' ).\"\\n\");\n         print \"$NAMES{$name} = $_\\n\";\n         ${$NAMES{$name}} = $_;\n      }\n   }\n\nprint \"&lt;html&gt;\\n&lt;head&gt;&lt;title&gt;Test CGI&lt;\\/title&gt;&lt;\\/head&gt;\\n&lt;body&gt;\\n\\n&lt;h2&gt;Here Are The Variables:&lt;\\/h2&gt;\\n\";\n\nprint \"Hello World!\\n\";\n\nprint \"&lt;list&gt;\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qSetSubject\\') = $subject\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qTopicName\\')  = $topic\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'uName\\')       = $userName\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qSetCat\\')     = $accessLevel\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'qSetType\\')    = $category\\n\";\nprint \"&lt;li&gt;\\$q-&gt;param(\\'accessLevel\\') = $type\\n\";\nprint \"&lt;\\/list&gt;\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl", "sorting", "bubble-sort"], "comments": [{"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 5, "creation_date": 1479836437, "post_id": 40748251, "comment_id": 68722295, "body": "Why bubble sort instead of just using perl&#39;s built-in <code>sort</code> function?  What have you got so far?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479836531, "post_id": 40748251, "comment_id": 68722351, "body": "Maybe because the task says so? :)"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 2, "creation_date": 1479839637, "post_id": 40748251, "comment_id": 68724168, "body": "I think the question posed by @Tanktalus is a valid one. Why not use the solution that requires almost zero work and probably has better performance?"}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1479841820, "post_id": 40749564, "comment_id": 68725503, "body": "This answer will not sort lines in the order requested in the sample output."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1479842165, "post_id": 40749564, "comment_id": 68725665, "body": "True enough. OP first states they want alphabetical order, where traditionally capital letters come before lowercase. I had not noticed the desired output has capitalized strings after lowercase"}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 1, "creation_date": 1479875517, "post_id": 40749564, "comment_id": 68737684, "body": "There&#39;s not enough info here, but I suspect OP wants the sorting to be done case-insensitively."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1479912098, "post_id": 40749564, "comment_id": 68758754, "body": "edited. just one case insensitive bubble sort sub now"}, {"owner": {"reputation": 9, "user_id": 7178437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27683671080c661dd582ced9b24d6d35?s=128&d=identicon&r=PG&f=1", "display_name": "William Shakespeare", "link": "https://stackoverflow.com/users/7178437/william-shakespeare"}, "edited": false, "score": 0, "creation_date": 1480276030, "post_id": 40749564, "comment_id": 68883890, "body": "i&#39;ve added your code and it works but only if i take out the ** ** is there a way to keep these in?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1480455642, "post_id": 40749564, "comment_id": 68967603, "body": "you actually don&#39;t need to use <code>substr</code> at all, as someone below pointed out. since the prefix &quot;**&quot; is always the same, you can just ignore it. I also edited an error in the bubble sort sub and tested on your example data. should work"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 2, "last_activity_date": 1480455442, "last_edit_date": 1480455442, "creation_date": 1479840849, "answer_id": 40749564, "question_id": 40748251, "link": "https://stackoverflow.com/questions/40748251/perl-sorting-assistance/40749564#40749564", "title": "Perl Sorting Assistance", "body": "<p>There is no reason to implement a bubble sort for this problem (is there ever?).</p>\n\n<pre><code>my @new_array = sort @original_array;\n</code></pre>\n\n<p>To make the sort case-insensitive:</p>\n\n<pre><code>my @new_array = sort {lc($a) cmp lc($b)} @original_array; \n</code></pre>\n\n<p>If you must use a bubble sort, <a href=\"https://rosettacode.org/wiki/Sorting_algorithms/Bubble_sort#Perl\" rel=\"nofollow noreferrer\">this</a> seems like a good reference, but the example is for arrays of numbers instead of strings. I would amend it to use string comparison operator <code>cmp</code>, similar to in the <code>sort</code> block above.</p>\n\n<pre><code>sub bubble_sort {\n    for my $i (0 .. $#_){\n        for my $j ($i + 1 .. $#_){\n            my ($a,$b) = @_[$i, $j];\n\n            # cmp returns -1 if the lefthand side is \"less than\" the right\n            if ((lc($a) cmp lc($b)) == 1) {\n                @_[$i, $j] = @_[$j, $i];\n            }\n        }\n    }\n}\n\nbubble_sort(@array);\nprint \"$_\\n\" for @array;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 1, "creation_date": 1480002679, "post_id": 40783982, "comment_id": 68803076, "body": "why is it a bad habit?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1480003090, "post_id": 40783982, "comment_id": 68803338, "body": "@beasy: Because neither <code>uc</code> nor <code>lc</code> is an answer to a question, how could I sort ignoring case. The answer is neither to convert it to the upper case nor to convert it to lower case. The answer is to convert it to case-folded representation which is exactly what <code>fc</code> is doing and doing it right. Doing things a wrong way when there is the right way is a bad habit. See <code>perldoc -f fc</code> for more details."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1480003362, "post_id": 40783982, "comment_id": 68803489, "body": "the real answer seems to be that <code>lc</code> and <code>uc</code> don&#39;t work for chars &gt; 255. in ASCII range converting to lc or lc would be the same thing as casefolding. as someone who works with multiple languages, thx for pointing this out"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1480005622, "post_id": 40783982, "comment_id": 68804837, "body": "@beasy It is not true <code>uc</code> nad <code>lc</code> definitely works for chars &gt; 255. Try <code>perl -CO -Mutf8 -E&#39;say uc &quot;p\u0159&#237;li\u0161 \u017elu\u0165ou\u010dk&#253; k\u016f\u0148 p\u011bl \u010f&#225;belsk&#233; &#243;dy&quot;&#39;</code>. The result should be <code>P\u0158&#205;LI\u0160 \u017dLU\u0164OU\u010cK&#221; K\u016e\u0147 P\u011aL \u010e&#193;BELSK&#201; &#211;DY</code> and it is in my <code>en_US.UTF-8</code> console."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1480008499, "post_id": 40783982, "comment_id": 68806180, "body": "That&#39;s what I said. I agree you should use <code>fc</code> for &gt; 255, so you might as well just use it all the time for comparison"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": -1, "last_activity_date": 1479983760, "last_edit_date": 1479983760, "creation_date": 1479983395, "answer_id": 40783982, "question_id": 40748251, "link": "https://stackoverflow.com/questions/40748251/perl-sorting-assistance/40783982#40783982", "title": "Perl Sorting Assistance", "body": "<p>The best way how to do it is</p>\n\n<pre><code>LC_ALL=C sort -f\n</code></pre>\n\n<p>If you insist using Perl:</p>\n\n<pre><code>use autodie;\nopen my $fh, 'LC_ALL=C sort -f |';\nprint &lt;$fh&gt;;\n</code></pre>\n\n<p>Oh, you mean sort it inside in Perl:</p>\n\n<pre><code>use feature qw(fc);\nprint sort {fc $a cmp fc $b}, &lt;&gt;;\n</code></pre>\n\n<p>Or more efficient for bigger files:</p>\n\n<pre><code>use feature qw(fc);\nprint map $_-&gt;[0], sort {$a-&gt;[1] cmp $b-&gt;[1]} map [$_, fc], &lt;&gt;;\n</code></pre>\n\n<p>And note I don't have to do anything with <code>**</code> because they don't affect output order of your data.</p>\n\n<p>Also, note I don't use <code>lc</code> or <code>uc</code> because it would not work correctly for all languages and using them instead of <code>fc</code> is a bad habit.</p>\n"}], "owner": {"reputation": 9, "user_id": 7178437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27683671080c661dd582ced9b24d6d35?s=128&d=identicon&r=PG&f=1", "display_name": "William Shakespeare", "link": "https://stackoverflow.com/users/7178437/william-shakespeare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1480455442, "creation_date": 1479836311, "question_id": 40748251, "link": "https://stackoverflow.com/questions/40748251/perl-sorting-assistance", "title": "Perl Sorting Assistance", "body": "<p>I am trying to implement a bubble sort into my script that allows me to sort my data alphabetical.</p>\n\n<pre><code>**NetworkManager** Nov  8 13:24:23 osboxes &lt;info&gt; disable requested (sleeping: no  enabled: yes) NetworkManager[1249]:\n**dhclient** Nov  8 15:52:45 osboxes DHCPOFFER of 192.168.253.129 from 192.168.253.254 dhclient:\n**dhclient** Nov  8 15:52:45 osboxes DHCPACK of 192.168.253.129 from 192.168.253.254 dhclient:\n**dnsmasq** Nov 13 17:52:35 osboxes using nameserver 192.168.253.2#53 dnsmasq[1637]:\n</code></pre>\n\n<p>This is what the file looks like, So read the file and then store it into an array. </p>\n\n<p>I want to be able to sort the data alphabetical with whats at the start (in the ** **) so the output should look like:</p>\n\n<pre><code>**dhclient** Nov  8 15:52:45 osboxes DHCPOFFER of 192.168.253.129 from 192.168.253.254 dhclient:\n**dhclient** Nov  8 15:52:45 osboxes DHCPACK of 192.168.253.129 from 192.168.253.254 dhclient:    \n**dnsmasq** Nov 13 17:52:35 osboxes using nameserver 192.168.253.2#53 dnsmasq[1637]:\n**NetworkManager** Nov  8 13:24:23 osboxes &lt;info&gt; disable requested (sleeping: no  enabled: yes) NetworkManager[1249]:\n</code></pre>\n"}, {"tags": ["perl", "fasta", "fastq"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479844985, "post_id": 40748137, "comment_id": 68727174, "body": "By the way, just like you simplified <code>$_ =~ s&#47;...&#47;...&#47;</code> to <code>s&#47;...&#47;...&#47;</code>, you can simplify <code>$_ =~ &#47;...&#47;</code> to <code>&#47;...&#47;</code>"}, {"owner": {"reputation": 1, "user_id": 7195877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f4b4ed6abab49a86e22387c802210b?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/7195877/jason"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1480080080, "post_id": 40748137, "comment_id": 68832742, "body": "@ikegami Ok I will try"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7195877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f4b4ed6abab49a86e22387c802210b?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/7195877/jason"}, "edited": false, "score": 0, "creation_date": 1479836479, "post_id": 40748235, "comment_id": 68722318, "body": "ah got it Thanks!"}], "tags": [], "owner": {"reputation": 89, "user_id": 5074152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d73b3b6fd84e6e0d7e6a4b30caae9?s=128&d=identicon&r=PG&f=1", "display_name": "LeCassandre", "link": "https://stackoverflow.com/users/5074152/lecassandre"}, "is_accepted": false, "score": 3, "last_activity_date": 1511197080, "last_edit_date": 1511197080, "creation_date": 1479836266, "answer_id": 40748235, "question_id": 40748137, "link": "https://stackoverflow.com/questions/40748137/global-symbol-requires-explicit-package-name-even-when-the-variable-is-declare/40748235#40748235", "title": "&quot;Global symbol requires explicit package name&quot; even when the variable is declared", "body": "<p>You are missing a <code>;</code> in the line before the declaration of <code>$seq_length</code></p>\n"}], "owner": {"reputation": 1, "user_id": 7195877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f4b4ed6abab49a86e22387c802210b?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/7195877/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511197080, "creation_date": 1479835940, "last_edit_date": 1511196388, "question_id": 40748137, "link": "https://stackoverflow.com/questions/40748137/global-symbol-requires-explicit-package-name-even-when-the-variable-is-declare", "title": "&quot;Global symbol requires explicit package name&quot; even when the variable is declared", "body": "<p>I'm trying to convert fastq file to fasta file. Here is my code.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse vars;\n\nmy $input=$ARGV[0];\nmy $output=$ARGV[1];\nmy $qual_length = 0\n</code></pre>\n\n<p>and this is error message</p>\n\n<pre><code>syntax error at newfastq.pl line 9, near \"my \"\nGlobal symbol \"$seq_length\" requires explicit package name at newfastq.pl line 9.\nGlobal symbol \"$seq_length\" requires explicit package name at newfastq.pl line 24.\nGlobal symbol \"$seq_length\" requires explicit package name at newfastq.pl line 31.\nGlobal symbol \"$seq_length\" requires explicit package name at newfastq.pl line 39.\n</code></pre>\n\n<p>I don't understand this error because I declared $seq_length in the beginning.\nWhat is wrong?\nAnd I can't check my algorithm is right or not.</p>\n"}, {"tags": ["perl", "hash", "compare"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479836009, "post_id": 40748095, "comment_id": 68722059, "body": "Are the IDs in the first column unique per file?"}, {"owner": {"reputation": 21, "user_id": 7195621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd632a287d348ad961af91998b59792?s=128&d=identicon&r=PG", "display_name": "Santiago Montero-Mendieta", "link": "https://stackoverflow.com/users/7195621/santiago-montero-mendieta"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479836630, "post_id": 40748095, "comment_id": 68722409, "body": "Ops... I was not taking that into account! You are right. FILE1 has some IDs duplicated in the first column. FILE2 does not have this problem. Any recommendation? Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7195621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd632a287d348ad961af91998b59792?s=128&d=identicon&r=PG", "display_name": "Santiago Montero-Mendieta", "link": "https://stackoverflow.com/users/7195621/santiago-montero-mendieta"}, "edited": false, "score": 0, "creation_date": 1479901446, "post_id": 40748273, "comment_id": 68751581, "body": "Thanks! Your answer works (almost) fine. Is there any way to deal with duplicate IDs in the first column of FILE1?"}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 21, "user_id": 7195621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd632a287d348ad961af91998b59792?s=128&d=identicon&r=PG", "display_name": "Santiago Montero-Mendieta", "link": "https://stackoverflow.com/users/7195621/santiago-montero-mendieta"}, "edited": false, "score": 0, "creation_date": 1479913532, "post_id": 40748273, "comment_id": 68759752, "body": "You could reverse this if file2 has no duplicates. Or you can read in file1 line by line, pushing the value onto the key."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1481025505, "post_id": 40748273, "comment_id": 69198015, "body": "You are adding extra newlines to output."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 0, "last_activity_date": 1479913802, "last_edit_date": 1479913802, "creation_date": 1479836389, "answer_id": 40748273, "question_id": 40748095, "link": "https://stackoverflow.com/questions/40748095/how-to-compare-first-column-of-two-files-but-get-second-ones-using-perl/40748273#40748273", "title": "How to compare first column of two files but get second ones (using Perl)", "body": "<p>How big are the files?  Are they small enough to fit in memory?  Are they sorted?</p>\n\n<p>Assuming that one of the files are small enough to fit in memory, you can read that file, and hash it - key is the first column, value is the second column.  And then, read through the other file, checking the hash as you go to see if it exists, and, if so, print out the second columns (one of which is the value from the hash).</p>\n\n<p>Assuming we have <code>$file1</code> and <code>$file2</code>, and that <code>$file1</code> is small enough, we get something like this:</p>\n\n<pre><code>open my $fh, '&lt;', $file1 or die \"Can't read $file1: $!\";\nmy %file1 = map { split /\\t/, $_, 2 } &lt;$fh&gt;; # this slurps in the file, be sure you can fit it all in memory multiple times over!\nclose $fh;\nopen $fh, '&lt;', $file2 or die \"Can't read $file2: $!\";\nwhile (&lt;$fh&gt;) {\n    my ($k, $v) = split /\\t/, $_, 2;\n    if ($file1{$k}) {\n        print join(\"\\t\", $file1{$k}, $v), \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Assuming the same, but allowing file1 to have duplicates:</p>\n\n<pre><code>open my $fh, '&lt;', $file1 or die \"Can't read $file1: $!\";\nmy %file1;\nwhile (&lt;$fh&gt;) {\n    my ($k, $v) = split /\\t/, $_, 2;\n    push @{$file1{$k}}, $v;\n}\nclose $fh;\nopen $fh, '&lt;', $file2 or die \"Can't read $file2: $!\";\nwhile (&lt;$fh&gt;) {\n    my ($k, $v) = split /\\t/, $_, 2;\n    if ($file1{$k}) {\n        print join(\"\\t\", $_, $v), \"\\n\" for @{$file1{$k}};\n    }\n}\n</code></pre>\n\n<p>Note that the output will have the duplicate keys from file1 always in the same order as file1.</p>\n"}], "owner": {"reputation": 21, "user_id": 7195621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd632a287d348ad961af91998b59792?s=128&d=identicon&r=PG", "display_name": "Santiago Montero-Mendieta", "link": "https://stackoverflow.com/users/7195621/santiago-montero-mendieta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479913802, "creation_date": 1479835817, "last_edit_date": 1495540378, "question_id": 40748095, "link": "https://stackoverflow.com/questions/40748095/how-to-compare-first-column-of-two-files-but-get-second-ones-using-perl", "title": "How to compare first column of two files but get second ones (using Perl)", "body": "<p>I have two files (two columns each, split by tab) and I want to compare them based on the first column. If the value on the first column is the same on both files, I want to create a new file using second column values. Also, take into account that IDs in the first column of FILE1 can be duplicated. Basically I have:</p>\n\n<p>FILE1:</p>\n\n<pre><code>TRINITY_DN10001_c0_g1_i1     TRINITY_DN10001_c0_g1_TRINITY_DN10001_c0_g1_i1_g.84091_m.84091\nTRINITY_DN100032_c0_g2_i1    TRINITY_DN100032_c0_g2_TRINITY_DN100032_c0_g2_i1_g.20078_m.20078\nTRINITY_DN100032_c0_g2_i1    TRINITY_DN100032_c0_g2_TRINITY_DN100032_c0_g2_i1_g.42263_m.42263\n.....\nTRINITY_DN99985_c0_g1_i1     TRINITY_DN99985_c0_g1_TRINITY_DN99985_c0_g1_i1_g.21199_m.21199\n</code></pre>\n\n<p>FILE2:</p>\n\n<pre><code>TRINITY_DN100007_c0_g1_i1   GO:0001071,GO:0003674\nTRINITY_DN100032_c0_g2_i1   GO:0000149,GO:0001775\n.....\nTRINITY_DN99997_c0_g1_i1    GO:0000166,GO:0001882\n</code></pre>\n\n<p>And I need this:</p>\n\n<pre><code>TRINITY_DN100032_c0_g2_TRINITY_DN100032_c0_g2_i1_g.20078_m.20078    GO:0000149,GO:0001775\nTRINITY_DN100032_c0_g2_TRINITY_DN100032_c0_g2_i1_g.42263_m.42263    GO:0000149,GO:0001775\n.....\n</code></pre>\n\n<p>I think this can be done by combining two hash tables in Perl, somehow similar <a href=\"https://stackoverflow.com/a/13732400\">to this answer</a>. </p>\n\n<p>But I'm quite new with Perl so I exactly don't know how to do this. I would really appreciate if someone can help to modify the previous script (or to solve this problem in a different way). </p>\n\n<p>Thanks in advance! \u263a</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479833257, "post_id": 40747261, "comment_id": 68720419, "body": "If the new tables are already there and they are identical then you know the column names. No need not to know them."}, {"owner": {"reputation": 163, "user_id": 4339077, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8177b0c405aa87444f386b7c322a3893?s=128&d=identicon&r=PG&f=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4339077/nitesh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479833309, "post_id": 40747261, "comment_id": 68720447, "body": "What I meant is that I don&#39;t want to write something like <code>insert into table (col1, col2, col3) values (1,2,3)</code> I really want something like select * and insert everything, like this, I won&#39;t need to change my logic if a new column is added."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1479835469, "last_edit_date": 1479835469, "creation_date": 1479833497, "answer_id": 40747404, "question_id": 40747261, "link": "https://stackoverflow.com/questions/40747261/perl-copying-data-from-one-db-to-another/40747404#40747404", "title": "Perl copying data from one DB to another", "body": "<p>You can use the <a href=\"http://dev.mysql.com/doc/refman/5.7/en/insert-select.html\" rel=\"nofollow noreferrer\"><code>INSERT INTO ... SELECT</code> construct</a>. If the column names are the same that is very easy, because you can just omit them alltogether.</p>\n\n<pre><code>INSERT INTO new SELECT * FROM old;\n</code></pre>\n\n<p>From Perl you'd run that with <a href=\"http://p3rl.org/DBI\" rel=\"nofollow noreferrer\">DBI</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect($dsn) or die DBI-&gt;errstr;\n\nmy @tables = qw(\n    foo\n    bar\n    customers\n);\n\nforeach my $table ( @tables ) {\n    $dbh-&gt;do(\"INSERT INTO new_db.$table SELECT * FROM old_db.$table\")\n        or die $dbh-&gt;errstr;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 4339077, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8177b0c405aa87444f386b7c322a3893?s=128&d=identicon&r=PG&f=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4339077/nitesh"}, "edited": false, "score": 0, "creation_date": 1479983467, "post_id": 40747940, "comment_id": 68790517, "body": "Do you know if it will work with the NULL values too??"}], "tags": [], "owner": {"reputation": 89, "user_id": 5074152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d73b3b6fd84e6e0d7e6a4b30caae9?s=128&d=identicon&r=PG&f=1", "display_name": "LeCassandre", "link": "https://stackoverflow.com/users/5074152/lecassandre"}, "is_accepted": false, "score": 1, "last_activity_date": 1479838200, "last_edit_date": 1479838200, "creation_date": 1479835248, "answer_id": 40747940, "question_id": 40747261, "link": "https://stackoverflow.com/questions/40747261/perl-copying-data-from-one-db-to-another/40747940#40747940", "title": "Perl copying data from one DB to another", "body": "<p>With mysqldump you can copy only somes tables:</p>\n\n<pre><code>mysqldump -u... -p... mydb t1 t2 t3\n</code></pre>\n\n<p>But you can use ugly thinks like :</p>\n\n<pre><code>my $sth=$dbh-&gt;prepare(\"select * from table\");\nwhile (($row = $sth-&gt;fetchrow_arrayref))\n{\n    my $i;\n    for($i=0;$i&lt;=$#$row;$i++)\n    {\n        $row-&gt;[$i] = $dbh-&gt;quote($row-&gt;[$i]);\n    }\n    $dbh2-&gt;do(\"insert into table values (\". join(',', @$row) . \")\");\n}\n$sth-&gt;finish();\n</code></pre>\n\n<p>I'm not sure that thinks like that works in all case.</p>\n"}], "owner": {"reputation": 163, "user_id": 4339077, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8177b0c405aa87444f386b7c322a3893?s=128&d=identicon&r=PG&f=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4339077/nitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1479838200, "creation_date": 1479833028, "question_id": 40747261, "link": "https://stackoverflow.com/questions/40747261/perl-copying-data-from-one-db-to-another", "title": "Perl copying data from one DB to another", "body": "<p>I have a particular problem where I need to copy data from certain tables from one DB to another DB, both running in the same instance.\nIt is important to note that table structures in both DBs are identical, I can't use mysqldump because I need to copy only few tables.</p>\n\n<p>Since the table structure is identical, I don't know, how can I do an equivalent of <code>select *</code> from one DB and <code>insert *</code> into another DB, I really don't want to use column names, because I want that table structures are identical.\nIs it correct to assume that it will be done in two steps, step 1 to select records from one DB and step two to return into another DB?</p>\n"}, {"tags": ["perl", "tk", "perltk"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1479858790, "last_edit_date": 1479858790, "creation_date": 1479832343, "answer_id": 40747033, "question_id": 40746658, "link": "https://stackoverflow.com/questions/40746658/change-the-text-of-a-tk-label-asynchronously/40747033#40747033", "title": "Change the text of a Tk label asynchronously", "body": "<p>The following seems to work. I used <code>after()</code> to run code after 100 ms then used <code>update()</code> to redraw window:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nuse Tk;\n\nmy $mw = Tk::MainWindow-&gt;new(-title =&gt; 'Status Window',-bg=&gt;\"white\");    \n$mw-&gt;geometry (\"400x200+0+0\");     \nmy $lala = $mw-&gt;Label(-text =&gt; \"Current Status\")-&gt;grid(-row=&gt;0,-column=&gt;0);    \n$mw-&gt;bind('all'=&gt; '&lt;Key-Escape&gt;' =&gt; sub {exit;});\n\n$lala-&gt;after(100, \\&amp;calculate ); \nMainLoop;\n\nsub calculate() {\n    for(my $i=0; $i&lt;10; $i++){\n        sleep 1;\n        $lala-&gt;configure(-text=&gt;\"Current Status : $i\");\n        $mw-&gt;update();\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong> </p>\n\n<p>The above code blocks during the <code>sleep 1</code> call, so any input for the <code>Tk</code> event loop will will be delayed. In particular, pressing <kbd>Esc</kbd> to quit the application will not work immediately. It will be blocked until <code>sleep</code> returns. To solve this, one can use <code>Tk</code>'s <code>repeat()</code> instead of <code>sleep</code> and <code>Tk</code>'s <code>after()</code>, and cancel the repeat if necessary:</p>\n\n<pre><code>my $repeat_count = 10;\nmy $timer_id = $lala-&gt;repeat(1000, \\&amp;calculate ); \n\nMainLoop;\n\nsub calculate() {\n    $lala-&gt;configure(-text=&gt;\"Current Status : $repeat_count\");\n    if ( --$repeat_count == 0) {\n        $timer_id-&gt;cancel;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6894273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c205ab3456dd598384db0c54298365d?s=128&d=identicon&r=PG&f=1", "display_name": "Tina", "link": "https://stackoverflow.com/users/6894273/tina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1082, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479858790, "creation_date": 1479831185, "last_edit_date": 1479838267, "question_id": 40746658, "link": "https://stackoverflow.com/questions/40746658/change-the-text-of-a-tk-label-asynchronously", "title": "Change the text of a Tk label asynchronously", "body": "<p>I need graphical output from a Perl program. The window has a <code>label</code> status field and should show what programming code decides.</p>\n\n<p>How do I change the text of a label field after the window has been created without any buttons?</p>\n\n<p>I have the following:</p>\n\n<pre><code>use Tk;\n\n$mw = Tk::MainWindow-&gt;new(-title =&gt; 'Status Window',-bg=&gt;\"white\");    \n$mw-&gt;geometry (\"400x200+0+0\");     \n\n$lala = $mw-&gt;Label(-text =&gt; \"Current Status\")-&gt;grid(-row=&gt;0,-column=&gt;0);    \n\n$mw-&gt;bind( 'all' =&gt; '&lt;Key-Escape&gt;' =&gt; sub {exit;} );\n\nMainLoop;\n</code></pre>\n\n<p>How do I incorporate the following subroutine so that it is run automatically\nafter the window is created? <code>Label-Widget</code> does not have\na <code>-command</code> field. It should start immediately and\n not wait for a event to happen</p>\n\n<pre><code>sub calculate() {\n\n    for ( $i = 0; $i &lt; 10; $i++ ) {\n        sleep 2s;\n        $lala-&gt;configure(-text=&gt;\"Current Status : $i\");\n    }\n}\n</code></pre>\n"}, {"tags": ["linux", "perl", "shell", "unix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479829934, "post_id": 40746160, "comment_id": 68718238, "body": "<code>diff</code> is not a Perl command. Please show your real code."}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479830370, "post_id": 40746160, "comment_id": 68718543, "body": "diff is not perl command. I am trying to execute a unix command in perl scripts. I have mentioned perl scripts to check  if we have any option to ignore the white space"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479830424, "post_id": 40746160, "comment_id": 68718574, "body": "@ferozalam_82: That isn&#39;t relevant. Please show your real Perl code."}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 0, "creation_date": 1479830611, "post_id": 40746160, "comment_id": 68718702, "body": "Here is my perl code"}, {"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 0, "creation_date": 1479830956, "post_id": 40746160, "comment_id": 68718917, "body": "I have even tried the option xargs option for unix, i dont know if it works or not"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479831162, "post_id": 40746160, "comment_id": 68719045, "body": "Thank you. Single quotes don&#39;t interpolate, so that will pass the strings <code>$old_file</code> and <code>$new_file</code> to the command instead of those variables&#39; contents. I have written a suggestion below."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 0, "creation_date": 1479830500, "post_id": 40746274, "comment_id": 68718626, "body": "Do we have any other option to ignore the white space  without manually editing it?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "edited": false, "score": 1, "creation_date": 1479831057, "post_id": 40746274, "comment_id": 68718984, "body": "@ferozalam_82, well, the <i>ideal</i> thing to do is to invoke external programs without a shell involved, directly passing an <code>argv</code> array to be in turn passed to the <code>execv</code>-family syscall starting the program."}], "tags": [], "owner": {"reputation": 119, "user_id": 7091102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQ1QT.jpg?s=128&g=1", "display_name": "Feng David", "link": "https://stackoverflow.com/users/7091102/feng-david"}, "is_accepted": false, "score": 1, "last_activity_date": 1479830336, "last_edit_date": 1479830336, "creation_date": 1479830026, "answer_id": 40746274, "question_id": 40746160, "link": "https://stackoverflow.com/questions/40746160/how-to-use-diff-on-files-whose-paths-contain-whitespace/40746274#40746274", "title": "How to use `diff` on files whose paths contain whitespace", "body": "<p></p>\n\n<p>You can either </p>\n\n<ol>\n<li><p>Put the whitespace path segment inside quotes</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>diff /home/users/feroz/logs/back_up20161112/\"Security File\"/General Security.csv /home/users/feroz/logs/back_up20161113/\"Security File\"/General Security.csv\n</code></pre></li>\n<li><p>or escape the whitespace</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>diff /home/users/feroz/logs/back_up20161112/Security\\ File/General Security.csv /home/users/feroz/logs/back_up20161113/Security\\ File/General Security.csv`\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1479831614, "post_id": 40746620, "comment_id": 68719344, "body": "Consider the case of deliberate attack -- ie. a file created with <code>touch $&#39;$(rm -rf $HOME)\\&#39;$(rm -rf $HOME)\\&#39;.txt&#39;</code> being passed as an argument to (or iterated over by) this script. It seems like teaching this technique is teaching how to create security flaws."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1479831852, "last_edit_date": 1479831852, "creation_date": 1479831091, "answer_id": 40746620, "question_id": 40746160, "link": "https://stackoverflow.com/questions/40746160/how-to-use-diff-on-files-whose-paths-contain-whitespace/40746620#40746620", "title": "How to use `diff` on files whose paths contain whitespace", "body": "<p>Thank you for showing your Perl code</p>\n\n<p>Single quotes don't interpolate, so that will pass the strings <code>$old_file</code> and <code>$new_file</code> to the command instead of those variables' contents. The shell will then try to interpret them as shell variables</p>\n\n<p>I suggest that you write this instead</p>\n\n<pre><code>my $cmd = qq{diff '$old_file' '$new_file' | xargs -0};\nopen( my $OH, '-|', $cmd ) or die \"Failed to read the output\";\n</code></pre>\n\n<p>That will use <em>double quotes</em> (<code>qq{...}</code>) around the command string so that the variables are interpolated. The file paths have single quotes around them to indicate that the shell should treat them as individual strings</p>\n\n<p>This won't work if there's a chance that your file paths could contain a single quote, but that's highly unusual</p>\n"}, {"comments": [{"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1479893757, "post_id": 40746712, "comment_id": 68746045, "body": "+1 for having the only answer that bypasses the shell; -1 for the shell bypass looking like an afterthought in your answer..."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1479911253, "post_id": 40746712, "comment_id": 68758176, "body": "@oals, the OP&#39;s request involves running a pipeline; thus, the shell bypass approach is necessarily not literally responsive unless it&#39;s broken down into multiple forks."}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1479911884, "post_id": 40746712, "comment_id": 68758597, "body": "I know, but the <code>xargs</code> seems to be a mistaken addition by the OP; it makes zero sense to me at least."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1479925325, "post_id": 40746712, "comment_id": 68767246, "body": "@oals, ...reordered, with the shell-free approach called out explicitly. Better?"}, {"owner": {"reputation": 192, "user_id": 5185210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNqsL.png?s=128&g=1", "display_name": "oals", "link": "https://stackoverflow.com/users/5185210/oals"}, "edited": false, "score": 0, "creation_date": 1479932405, "post_id": 40746712, "comment_id": 68770835, "body": "Yes, very much so."}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 2, "last_activity_date": 1479925309, "last_edit_date": 1479925309, "creation_date": 1479831355, "answer_id": 40746712, "question_id": 40746160, "link": "https://stackoverflow.com/questions/40746160/how-to-use-diff-on-files-whose-paths-contain-whitespace/40746712#40746712", "title": "How to use `diff` on files whose paths contain whitespace", "body": "<p>Pass arguments out-of-band to avoid the need to shell-quote them, rather than interpolating them into a string which is parsed by a shell as a script. Substituting filenames as literal text into a script generates exposure to shell <a href=\"https://en.wikipedia.org/wiki/Code_injection\" rel=\"nofollow noreferrer\">injection attacks</a> -- the shell-scripting equivalent to the family of database security bugs known as <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">SQL injection</a>.</p>\n\n<hr>\n\n<h3>Without Any Shell At All</h3>\n\n<p>The pipe to <code>xargs -0</code> appears to be serving no purpose here. Eliminating it allows this to be run without any shell involved at all:</p>\n\n<pre><code>open(my $fh, \"-|\", \"diff\", $old_file, $new_file)\n</code></pre>\n\n<hr>\n\n<h3>With Shell Arguments Passed Out-Of-Band From Script Text</h3>\n\n<p>If you really do want the shell to be invoked, the safe thing to do is to keep the script text an audited constant, and have it retrieve arguments from either the argv list passed to the shell or the environment.</p>\n\n<pre><code># Putting $1 and $2 in double quotes ensures that the shell treats contents as literal\n# the \"_\" is used for $0 in the shell.\n$shell_script='diff \"$1\" \"$2\" | xargs -0'\nopen(my $fh, \"-|\",\n  \"sh\", \"-c\", $shell_script,\n  \"_\", $old_file, $new_file);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1479911223, "post_id": 40747059, "comment_id": 68758161, "body": "So long as String::ShellQuote is correctly implemented for the shell providing <code>&#47;bin&#47;sh</code>, this is precisely as safe as my answer (either branch). +1."}], "tags": [], "owner": {"reputation": 89, "user_id": 5074152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d73b3b6fd84e6e0d7e6a4b30caae9?s=128&d=identicon&r=PG&f=1", "display_name": "LeCassandre", "link": "https://stackoverflow.com/users/5074152/lecassandre"}, "is_accepted": false, "score": 3, "last_activity_date": 1479832440, "creation_date": 1479832440, "answer_id": 40747059, "question_id": 40746160, "link": "https://stackoverflow.com/questions/40746160/how-to-use-diff-on-files-whose-paths-contain-whitespace/40747059#40747059", "title": "How to use `diff` on files whose paths contain whitespace", "body": "<p>To be absolutly safe, use  ShellQuote</p>\n\n<pre><code>use String::ShellQuote;\n\nmy $old_file2 = shell_quote($old_file);\nmy $new_file2 = shell_quote($new_file);\n`diff $old_file2 $new_file2`;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6005548, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/efee08473175d7da57be5f9a2d10d832?s=128&d=identicon&r=PG&f=1", "display_name": "ferozalam_82", "link": "https://stackoverflow.com/users/6005548/ferozalam-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 40746620, "answer_count": 4, "score": 2, "last_activity_date": 1588007309, "creation_date": 1479829729, "last_edit_date": 1592644375, "question_id": 40746160, "link": "https://stackoverflow.com/questions/40746160/how-to-use-diff-on-files-whose-paths-contain-whitespace", "title": "How to use `diff` on files whose paths contain whitespace", "body": "\n<p>I am trying to find the differences between files, but the filename and directory name contain white space. I am trying to execute the command in a Perl script.</p>\n<pre class=\"lang-none prettyprint-override\"><code>diff /home/users/feroz/logs/back_up20161112/Security File/General Security.csv /home/users/feroz/logs/back_up20161113/Security File/General Security.csv\n</code></pre>\n<h3>Perl</h3>\n<pre class=\"lang-none prettyprint-override\"><code>open( my $FH, '&gt;', $logfile ) or die &quot;Cannot open the file '$logfile' $!&quot;;\n\nforeach $filename ( keys %filenames ) {\n\n    $old_file = $parent_directory . $previous_date . $search_directory . &quot;$filenames{$filename}&quot;;\n    $new_file = $parent_directory . $current_date . $search_directory . &quot;$filenames{$filename}&quot;;\n\n    if ( !-e $old_file ) {\n\n        #print (&quot;\\nFile does not exist in previos date backup&quot;);\n\n        print $FH &quot;\\nERROR:'$old_file' ---- does not exist in the backup directory &quot;;\n    }\n    elsif ( !-e $new_file ) {\n\n        #print (&quot;\\n The file does not exist in current directory&quot;);\n\n        print $FH &quot;\\nERROR:'$new_file' --- does not exist in the present directory &quot;;\n    }\n    else {\n\n        # print $FH &quot;\\nDifference between the files $filenames{$filename} of  $previous_date and $current_date &quot;;\n\n        my $cmd = 'diff $old_file $new_file| xargs -0';\n        open( my $OH, '|-', $cmd ) or die &quot;Failed to read the output&quot;;\n        while ( &lt;OH&gt; ) {\n            print $FH &quot;$_&quot;;\n        }\n        close $OH;\n    }\n}\n</code></pre>\n"}, {"tags": ["apache", "perl", "centos", "mod-perl2"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1479827916, "post_id": 40745426, "comment_id": 68716719, "body": "Don&#39;t post screenshots of logs. Copy and paste the actual text."}, {"owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1479875333, "post_id": 40745426, "comment_id": 68737625, "body": "@Sinan&#220;n&#252;r removed images"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1480011373, "post_id": 40745426, "comment_id": 68807379, "body": "My guess is your Apache libraries are an incompatible version."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "edited": false, "score": 1, "creation_date": 1479880984, "post_id": 40746207, "comment_id": 68739385, "body": "Something must be wrong with your <code>yum</code> configuration. Centos definitely has an RPM for mod_perl. See <a href=\"http://mirror.centos.org/centos-5/5/os/x86_64/CentOS/\" rel=\"nofollow noreferrer\">mirror.centos.org/centos-5/5/os/x86_64/CentOS</a>"}, {"owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "edited": false, "score": 0, "creation_date": 1479891640, "post_id": 40746207, "comment_id": 68744659, "body": "RPM installation worked successfully but, apache is not able to find mod_perl.so"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "edited": false, "score": 1, "creation_date": 1479896515, "post_id": 40746207, "comment_id": 68747949, "body": "Please <a href=\"http://stackoverflow.com/posts/40745426/edit\">update your question</a> with details of the current situation"}, {"owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "edited": false, "score": 0, "creation_date": 1479964201, "post_id": 40746207, "comment_id": 68780328, "body": "sorry no success... with Rpm mod_perl gets installed but apache is unable to find the <b>mod_perl.so</b>, from source code or CPAN shell above errors are remain same :("}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1480011338, "post_id": 40746207, "comment_id": 68807365, "body": "Is your Apache from an rpm?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1480318353, "post_id": 40746207, "comment_id": 68895308, "body": "Why not try again - this time installing everything from RPMs."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1479829860, "creation_date": 1479829860, "answer_id": 40746207, "question_id": 40745426, "link": "https://stackoverflow.com/questions/40745426/error-when-installing-mod-perl2/40746207#40746207", "title": "Error when installing mod_perl2", "body": "<p>Why are you trying to build your own version of mod_perl? Centos has a pre-built version of mod_perl which will work with the pre-built version of Perl that is already installed.</p>\n\n<pre><code>$ sudo yum install mod_perl\n</code></pre>\n\n<p>(Of course, this won't help if you're not using the system Perl)</p>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1479999972, "creation_date": 1479999972, "answer_id": 40789619, "question_id": 40745426, "link": "https://stackoverflow.com/questions/40745426/error-when-installing-mod-perl2/40789619#40789619", "title": "Error when installing mod_perl2", "body": "<p>dont know how but mod_perl-2.0.6 has got installed successfully. had no success with the mod_perl-2.0.10 :(</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 4063222, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R6mkzKCt2VE/AAAAAAAAAAI/AAAAAAAAA6w/0DfpKEYeV0M/photo.jpg?sz=128", "display_name": "Mathieu CARBONNEAUX", "link": "https://stackoverflow.com/users/4063222/mathieu-carbonneaux"}, "is_accepted": false, "score": 2, "last_activity_date": 1522179100, "creation_date": 1522179100, "answer_id": 49521058, "question_id": 40745426, "link": "https://stackoverflow.com/questions/40745426/error-when-installing-mod-perl2/49521058#49521058", "title": "Error when installing mod_perl2", "body": "<p>This constant as been introduced in perl 5.9.3, and mod_perl use it from 2.0.10.</p>\n\n<p><a href=\"http://search.cpan.org/~vpit/Variable-Magic-0.62/lib/Variable/Magic.pm#MGf_LOCAL\" rel=\"nofollow noreferrer\">http://search.cpan.org/~vpit/Variable-Magic-0.62/lib/Variable/Magic.pm#MGf_LOCAL</a>\n<a href=\"https://perl5.git.perl.org/perl.git/commit/a5063e7cd8fef802efd25ffe9df2c3748f4254f6\" rel=\"nofollow noreferrer\">https://perl5.git.perl.org/perl.git/commit/a5063e7cd8fef802efd25ffe9df2c3748f4254f6</a>\n<a href=\"https://github.com/apache/mod_perl/commit/82827132efd3c2e25cc413c85af61bb63375da6e\" rel=\"nofollow noreferrer\">https://github.com/apache/mod_perl/commit/82827132efd3c2e25cc413c85af61bb63375da6e</a>\n<a href=\"https://perldoc.perl.org/perlguts.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/perlguts.html</a></p>\n\n<p>to overcome this you must modify mod_perl to use this constant conditionaly of the perl version:</p>\n\n<pre><code>diff -ruw mod_perl-2.0.11/src/modules/perl/modperl_env.c mod_perl-2.0.11.patched/src/modules/perl/modperl_env.c\n--- mod_perl-2.0.11/src/modules/perl/modperl_env.c      2017-12-06 11:08:55.000000000 -0500\n+++ mod_perl-2.0.11.patched/src/modules/perl/modperl_env.c      2018-03-27 15:02:14.174790000 -0400\n@@ -541,7 +541,9 @@\n     nmg = sv_magicext(nsv, mg-&gt;mg_obj, mg-&gt;mg_type, &amp;MP_vtbl_env, (char*)NULL, 0);\n     nmg-&gt;mg_ptr = mg-&gt;mg_ptr;\n     nmg-&gt;mg_flags |= MGf_COPY;\n+#if MP_PERL_VERSION_AT_LEAST(5, 9, 3)\n     nmg-&gt;mg_flags |= MGf_LOCAL;\n+#endif\n\n     return 1;\n }\n@@ -679,7 +681,9 @@\n     /* Add our version instead */\n     mg = sv_magicext((SV*)ENVHV, (SV*)NULL, PERL_MAGIC_env, &amp;MP_vtbl_env, (char*)NULL, 0);\n     mg-&gt;mg_flags |= MGf_COPY;\n+#if MP_PERL_VERSION_AT_LEAST(5, 9, 3)\n     mg-&gt;mg_flags |= MGf_LOCAL;\n+#endif\n }\n\n void modperl_env_unload(pTHX)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 5153779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rvNh9.png?s=128&g=1", "display_name": "Ed Sabol", "link": "https://stackoverflow.com/users/5153779/ed-sabol"}, "is_accepted": false, "score": 1, "last_activity_date": 1574308716, "last_edit_date": 1574308716, "creation_date": 1574308072, "answer_id": 58967005, "question_id": 40745426, "link": "https://stackoverflow.com/questions/40745426/error-when-installing-mod-perl2/58967005#58967005", "title": "Error when installing mod_perl2", "body": "<p>A modified/enhanced version of Mathieu Carbonneaux's patch above was committed to the mod_perl SVN repository on October 8th, 2019:</p>\n\n<p><a href=\"http://svn.apache.org/viewvc?view=revision&amp;revision=1868115\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc?view=revision&amp;revision=1868115</a></p>\n\n<p>With this patch, mod_perl 2.0.11 will compile and install using Perl &lt;= 5.8.8.</p>\n\n<p>(Sorry, I don't have the reputation to comment, only answer.)</p>\n"}], "owner": {"reputation": 315, "user_id": 1318749, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7e721fb22c889eb795cb9065be09d790?s=128&d=identicon&r=PG", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/1318749/ganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1252, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1574308716, "creation_date": 1479827614, "last_edit_date": 1479875285, "question_id": 40745426, "link": "https://stackoverflow.com/questions/40745426/error-when-installing-mod-perl2", "title": "Error when installing mod_perl2", "body": "<p>I am trying to install mod_perl2 with below configuration: <br> <b>OS:</b> CentOS release 5.5 (Final) <br><b>Uname -a result:</b> x86_64 x86_64 x86_64 GNU/Linux <br> <b>Perl version:</b> v5.8.8 built for x86_64-linux-thread-multi <br><b>apache version:</b> Apache/2.2.3 <br> I have downloaded mod_perl2 from <a href=\"http://search.cpan.org/CPAN/authors/id/S/SH/SHAY/mod_perl-2.0.10.tar.gz\" rel=\"nofollow noreferrer\">Cpan site</a>\n<br> when I try to run the \"perl Makefile.PL MP_APXS=/usr/local/httpd/bin/apxs\" it gives below output: <br></p>\n\n<blockquote>\n  <p>Subroutine set_version redefined at ./Makefile.PL line 137.<br>\n  [   info] generating script t/TEST<br>\n  [   info] generating script ./t/cgi-bin/cookies.pl<br>\n  [   info] generating script ./t/cgi-bin/next_available_port.pl<br>\n  Checking for Cwd...ok<br>\n  Checking for File::Spec...ok<br>\n  [   info] generating script t/TEST<br>\n  Generating a Unix-style Makefile<br>\n  Writing Makefile for mod_perl2<br>\n  [warning] mod_perl dso library will be built as mod_perl.so<br>\n  [warning] You'll need to add the following to httpd.conf:<br>\n  [warning]<br>\n  [warning]   LoadModule perl_module modules/mod_perl.so<br>\n  [warning]<br>\n  [warning] depending on your build, mod_perl might not live in<br>\n  [warning] the modules/ directory.<br>\n  <br>\n  [warning] Check the results of<br>\n  [warning]<br>\n  [warning]   $ /usr/local/httpd/bin/apxs -q LIBEXECDIR<br>\n  [warning]\n  [warning] and adjust the LoadModule directive accordingly.<br></p>\n</blockquote>\n\n<p>\n\n<blockquote>\n  <p>After \"make\" command runs below error occurs: <br> \n  modperl_env.c: In function \u2018modperl_env_magic_local_all\u2019:<br>\n  modperl_env.c:544: error: \u2018MGf_LOCAL\u2019 undeclared (first use in this function)<br>\n  modperl_env.c:544: error: (Each undeclared identifier is reported only once<br>\n  modperl_env.c:544: error: for each function it appears in.)<br>\n  modperl_env.c: At top level:<br>\n  modperl_env.c:642: warning: excess elements in struct initializer<br>\n  modperl_env.c:642: warning: (near initialization for \u2018MP_vtbl_env\u2019)<br>\n  modperl_env.c: In function \u2018modperl_env_init\u2019:<br>\n  modperl_env.c:661: warning: passing argument 2 of \u2018Perl_mg_find\u2019 discards <br>qualifiers from pointer target type<br>\n  modperl_env.c:673: warning: implicit declaration of function \u2018mg_free_type\u2019<br>\n  modperl_env.c:678: error: \u2018MGf_LOCAL\u2019 undeclared (first use in this function)<br>\n  modperl_env.c: In function \u2018modperl_env_unload\u2019:<br>\n  modperl_env.c:690: warning: passing argument 2 of \u2018Perl_mg_find\u2019 discards <br>qualifiers from pointer target type<br>\n  make<a href=\"http://search.cpan.org/CPAN/authors/id/S/SH/SHAY/mod_perl-2.0.10.tar.gz\" rel=\"nofollow noreferrer\">1</a>: <strong>* [modperl_env.lo] Error 1<br>\n  make<a href=\"http://search.cpan.org/CPAN/authors/id/S/SH/SHAY/mod_perl-2.0.10.tar.gz\" rel=\"nofollow noreferrer\">1</a>: Leaving directory `/opt/mod_perl-2.0.10/src/modules/perl'<br>\n  make: *</strong> [modperl_lib] Error 2\n  <br></p>\n</blockquote>\n\n<p>any help is appriciated, if i have asked somthing wrong please guide further (no down votes please :) )</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 8, "last_activity_date": 1479809997, "last_edit_date": 1479809997, "creation_date": 1479809189, "answer_id": 40738954, "question_id": 40738837, "link": "https://stackoverflow.com/questions/40738837/how-to-remove-calculating-the-original-string-in-frequency-calculation-using-per/40738954#40738954", "title": "how to remove calculating the original string in frequency calculation using perl", "body": "<p>You are chomping the wrong variable. You are reading your input into <code>@row</code>, but then you just call <code>chomp;</code> without an argument. That chomps <code>$_</code>, not <code>@row</code>.</p>\n\n<pre><code>while (my @row = &lt;$fd&gt;){\n    chomp @row;\n    # ...\n</code></pre>\n\n<p>You could have found that out yourself. If you output the actual content of <code>%count</code> for each of your input lines, you'll see that there is a newline <code>\\n</code> that's being counted once. So this first line you are seeing</p>\n\n<blockquote>\n<pre><code>HMHHMSHHHNHHMEHFFHHHHHHHDHDE\n                               1\n</code></pre>\n</blockquote>\n\n<p>is actually not the full string. It's the linebreak at the end of the string. Try with this. I suggest you change your iteration variable to only do one row so you're not getting flooded with output.</p>\n\n<pre><code>for ( my $i = 0; $i &lt;= 1; $i++ ) {\n\n    # ...\n    foreach my $str ( sort keys %count ) {\n        printf \"%-31s %s\\n\", $str, $count{$str};\n    }\n    use Data::Dumper;\n    print Dumper \\%count;\n}\n</code></pre>\n\n<p>You'll now see this:</p>\n\n<pre><code>$VAR1 = {\n          'A' =&gt; 1,\n          'S' =&gt; 3,\n          'T' =&gt; 23,\n          '\n' =&gt; 1,\n</code></pre>\n\n<p>And there is the linebreak.</p>\n\n<hr>\n\n<p>Your code is a bit odd. You're doing a lot of unnecessary things. I'll try to explain them for you to simplify your code.</p>\n\n<p>Your <code>while</code> loop only gets run once because you're slurping the whole file into <code>@row</code> at once.</p>\n\n<pre><code>sub cal_frequency {\n    while ( my @row = &lt;DATA&gt; ) {\n        print \"while iteration\\n\";\n</code></pre>\n\n<p>I omitted the <code>printf</code> from the output here.</p>\n\n<pre><code>while iteration\nHMHHMSHHHNHHMEHFFHHHHHHHDHDE\nLLLWLFLLWLWLLWWLLLLFLLLLWLFW\nTTTTTDTTTTTTTTTTSTTTTSSTTATT\n</code></pre>\n\n<p>As you can see, there is only one <em>while iteration</em>. If you have a very long file, it's smarter to read it line by line.</p>\n\n<pre><code>while ( my $row = &lt;DATA&gt; ) {\n    chomp $row;\n    # ...\n}\n</code></pre>\n\n<p>Once you do that, your C-style <code>for</code> loop becomes obsolete. In fact, that loop coupled the program to the input because you had the number of lines of input hard-coded there. Without this loop, the program can deal with arbitrarily long files (like the three lines you showed us and that I am using).</p>\n\n<p>It's also good style to declare variables as late as possible and as close as possible to where you need them. I've moved <code>my %count</code> and changed indentation.</p>\n\n<pre><code>sub cal_frequency {\n    while ( my $row = &lt;DATA&gt; ) {\n        chomp $row;\n        print \"$row\\n\";\n\n        my %count;\n        foreach my $str ( split //, $row ) {\n            $count{$str}++;\n        }\n        foreach my $str ( sort keys %count ) {\n            printf \"%-31s %s\\n\", $str, $count{$str};\n        }\n    }\n}\n</code></pre>\n\n<p>It's now much clearer what's going on.</p>\n\n<p>In your code you are using a lexical filehandle. That's great. But it seems to be created outside of the subroutine. It would be better to pass it as an argument.</p>\n\n<p>Finally, the choice of variable name <code>$str</code> in your two <code>foreach</code> loops is confusing. When I see <em>string</em>, I think of words or other things that are long. But here you specifically want to break your string (the row) into <em>characters</em>. That's strings with a length of one. So name them characters.</p>\n\n<p>Here's the final program.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub cal_frequency {\n    my ($fh) = @_;\n\n    while ( my $row = &lt;$fh&gt; ) {\n        chomp $row;\n        print \"$row\\n\";\n\n        my %count;\n        foreach my $chr ( split //, $row ) {\n            $count{$chr}++;\n        }\n        foreach my $chr ( sort keys %count ) {\n            printf \"%-31s %s\\n\", $chr, $count{$chr};\n        }\n    }\n}\n\ncal_frequency(\\*DATA);\n\n__DATA__\nHMHHMSHHHNHHMEHFFHHHHHHHDHDE\nLLLWLFLLWLWLLWWLLLLFLLLLWLFW\nTTTTTDTTTTTTTTTTSTTTTSSTTATT\n</code></pre>\n\n<p>And the output.</p>\n\n<pre><code>HMHHMSHHHNHHMEHFFHHHHHHHDHDE\nD                               2\nE                               2\nF                               2\nH                               17\nM                               3\nN                               1\nS                               1\nLLLWLFLLWLWLLWWLLLLFLLLLWLFW\nF                               3\nL                               18\nW                               7\nTTTTTDTTTTTTTTTTSTTTTSSTTATT\nA                               1\nD                               1\nS                               3\nT                               23\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479828143, "last_edit_date": 1479828143, "creation_date": 1479827409, "answer_id": 40745348, "question_id": 40738837, "link": "https://stackoverflow.com/questions/40738837/how-to-remove-calculating-the-original-string-in-frequency-calculation-using-per/40745348#40745348", "title": "how to remove calculating the original string in frequency calculation using perl", "body": "\n\n<blockquote>\n  <p>it calculates the original string as a single character too. </p>\n</blockquote>\n\n<p>If you're talking about the lines in your output like</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>HMHHMSHHHNHHMEHFFHHHHHHHDHDE\n</code></pre>\n\n<p>then that's because you print each line with</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>print \"$row[$i]\\n\"\n</code></pre>\n\n<p>Here's how I would code your problem. In particular I'm passing a file name to the subroutine, and using a global regex pattern to extract a list all non-space characters so that <code>chomp</code> is unnecessary</p>\n\n<p>I'm wondering if you really want a dump of frequencies for each line in the input, or if all the lines should be taken together. This code treats each line separately as your own code does. I've printed a separator line between each block of output to make them distinct</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\ncal_frequency('cal_freq.txt');\n\nsub cal_frequency {\n\n    my ($file) = @_;\n\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\n    while ( &lt;$fh&gt; ) {\n\n        my %count;\n\n        ++$count{$_} for /\\S/g;\n\n        printf \"%-2s %s\\n\", $_, $count{$_} for sort keys %count;\n\n        print \"---\\n\";\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>D  2\nE  2\nF  2\nH  17\nM  3\nN  1\nS  1\n---\nF  3\nL  18\nW  7\n---\nA  1\nD  1\nS  3\nT  23\n---\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7193606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAZDu.jpg?s=128&g=1", "display_name": "YukiMiku", "link": "https://stackoverflow.com/users/7193606/yukimiku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1479828143, "creation_date": 1479808892, "question_id": 40738837, "link": "https://stackoverflow.com/questions/40738837/how-to-remove-calculating-the-original-string-in-frequency-calculation-using-per", "title": "how to remove calculating the original string in frequency calculation using perl", "body": "<p>I have a trouble with frequency calculation of list of strings read from a text file using Perl. What I want to do is, calculate the number of characters in each line separately. My code does work on it, but it calculates the original string as a single character too. </p>\n\n<p>Here is my code,</p>\n\n<pre><code>sub cal_frequency{\n    while (my @row = &lt;$fd&gt;){\n    chomp;\n    for (my $i=0; $i&lt;=147; $i++){\n    my %count;\n            print \"$row[$i]\\n\";\n            foreach my $str (split //, $row[$i]) {\n                $count{$str}++;\n            }\n            foreach my $str (sort keys %count) {\n                printf \"%-31s %s\\n\", $str, $count{$str} ;\n            }\n        }\n    }   \n}\n</code></pre>\n\n<p>This is the output I get.</p>\n\n<pre><code>HMHHMSHHHNHHMEHFFHHHHHHHDHDE\n                               1\nD                               2\nE                               2\nF                               2\nH                               17\nM                               3\nN                               1\nS                               1\nLLLWLFLLWLWLLWWLLLLFLLLLWLFW\n                               1\nF                               3\nL                               18\nW                               7\nTTTTTDTTTTTTTTTTSTTTTSSTTATT\n                               1\nA                               1\nD                               1\n...\n...\n...\n</code></pre>\n\n<p>Does anyone can help me to figure out what's wrong with the code.</p>\n"}, {"tags": ["linux", "perl", "locale", "setlocale"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479808154, "post_id": 40738403, "comment_id": 68702917, "body": "Your assignment <code>$val = 2,5</code> will only assign <code>2</code>. The <code>,</code> doesn&#39;t magically become the decimal point character in Perl because of your locale. It&#39;s still a list constructor, so you&#39;re really assigning the list <code>(2, 5)</code> to <code>$val</code>, but because there is only the one scalar on the left, the second element of the list gets discarded. That&#39;s why you see the <code>2</code> in the last line of the output."}, {"owner": {"reputation": 73, "user_id": 3997008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf574d4fd50fa435c4f31e3e45154e0?s=128&d=identicon&r=PG&f=1", "display_name": "Srikanth Ganesan", "link": "https://stackoverflow.com/users/3997008/srikanth-ganesan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479986524, "post_id": 40738403, "comment_id": 68792712, "body": "&#39;,&#39; is a decimal point character in perl when the locale is de_DE.UTF-8. To be more specific when LC_NUMERIC is de.DE.UTF-8. Please refer to &quot;<a href=\"http://perldoc.perl.org/perllocale.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perllocale.html</a>&quot; Section &quot;Category LC_NUMERIC : Numeric Formatting&quot; @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479986956, "post_id": 40738403, "comment_id": 68793032, "body": "That&#39;s for automatic conversion of strings to numbers in the output. As <a href=\"http://stackoverflow.com/a/40738719/1331451\">ceving&#39;s answer below</a> and the discussion on it explain, it&#39;s not possible to change the grammar of the language that way. It&#39;s an operator. I&#39;m from Germany and I have to deal with a lot of commas in places where internationally they don&#39;t make sense. A lot of legacy code I&#39;ve worked with would have been way worse if what you suggesting was possible."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479833377, "post_id": 40738719, "comment_id": 68720486, "body": "It would also prevent <code>,</code> from being used as an operator. e.g. <code>f(2,5)</code> might pass one or two arguments based on locale."}, {"owner": {"reputation": 73, "user_id": 3997008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf574d4fd50fa435c4f31e3e45154e0?s=128&d=identicon&r=PG&f=1", "display_name": "Srikanth Ganesan", "link": "https://stackoverflow.com/users/3997008/srikanth-ganesan"}, "edited": false, "score": 0, "creation_date": 1479986614, "post_id": 40738719, "comment_id": 68792777, "body": "&#39;,&#39; is a decimal point character in perl when the locale is de_DE.UTF-8. To be more specific when LC_NUMERIC is de.DE.UTF-8. Please refer to &quot;perldoc.perl.org/perllocale.html&quot;; Section &quot;Category LC_NUMERIC : Numeric Formatting&quot; @Ceving"}, {"owner": {"reputation": 73, "user_id": 3997008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf574d4fd50fa435c4f31e3e45154e0?s=128&d=identicon&r=PG&f=1", "display_name": "Srikanth Ganesan", "link": "https://stackoverflow.com/users/3997008/srikanth-ganesan"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479986639, "post_id": 40738719, "comment_id": 68792803, "body": "@ikegami: comments above"}, {"owner": {"reputation": 73, "user_id": 3997008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf574d4fd50fa435c4f31e3e45154e0?s=128&d=identicon&r=PG&f=1", "display_name": "Srikanth Ganesan", "link": "https://stackoverflow.com/users/3997008/srikanth-ganesan"}, "edited": false, "score": 0, "creation_date": 1479986708, "post_id": 40738719, "comment_id": 68792850, "body": "I have seen many german customers use this way of programming it works perfectly when we use &#39;use locale&#39; and setlocale to set the german locale."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 73, "user_id": 3997008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf574d4fd50fa435c4f31e3e45154e0?s=128&d=identicon&r=PG&f=1", "display_name": "Srikanth Ganesan", "link": "https://stackoverflow.com/users/3997008/srikanth-ganesan"}, "edited": false, "score": 0, "creation_date": 1479987156, "post_id": 40738719, "comment_id": 68793165, "body": "@SrikanthGanesan how would you make a list of numbers then? Consider the following German sentence: <i>Diese Liste enthaelt die Zahlen 2,5, 3,142, 25, 26, 33,33333 und 23,0.</i> That&#39;s hard to read, but possible because humans are mostly smart. We understand context. But computers are not. Perl doesn&#39;t care about the spaces much and cannot know which commas are list separators and which ones are decimal points."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73, "user_id": 3997008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf574d4fd50fa435c4f31e3e45154e0?s=128&d=identicon&r=PG&f=1", "display_name": "Srikanth Ganesan", "link": "https://stackoverflow.com/users/3997008/srikanth-ganesan"}, "edited": false, "score": 0, "creation_date": 1480010557, "post_id": 40738719, "comment_id": 68807042, "body": "@Srikanth Ganesan, Actually, it&#39;s you who should read the <a href=\"http://perldoc.perl.org/perllocale.html#Category-LC_NUMERIC%3a-Numeric-Formatting\" rel=\"nofollow noreferrer\">doc you linked</a>. As you can see, there&#39;s no mention of <code>use locale;</code> affecting the syntax of numeric literals."}], "tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 7, "last_activity_date": 1479991827, "last_edit_date": 1479991827, "creation_date": 1479808578, "answer_id": 40738719, "question_id": 40738403, "link": "https://stackoverflow.com/questions/40738403/float-is-not-coma-seperated-in-german-locale-in-perl/40738719#40738719", "title": "float is not coma seperated in german locale in perl", "body": "<p>Your question addresses two different topics. The following assumes that you unset <code>LC_ALL</code> and set <code>LC_NUMERIC</code>, because <code>LC_ALL</code> overrides <code>LC_NUMERIC</code>.</p>\n\n<pre><code> $ unset LC_ALL\n $ export LC_NUMERIC=de_DE.UTF-8\n</code></pre>\n\n<p><strong>Localization of the programming language</strong></p>\n\n<blockquote>\n<pre><code>$ perl -e 'printf \"%f\\n\", 2,5'\n2.000000\n</code></pre>\n</blockquote>\n\n<p>Your locale defines the way how numbers are printed. The locale does not change the grammar of the programming language. Perl code is indifferent to changes of the locale. If it would not be, you have to modify every single program for every single language. This would be real pain as it is in Excel for example.</p>\n\n<p><strong>Localization of the input and output of a program</strong></p>\n\n<blockquote>\n<pre><code>$ perl -e 'printf \"%f\\n\", \"2,5\"'\n2.000000\n</code></pre>\n</blockquote>\n\n<p>This can be considered a bug. Bash does it right:</p>\n\n<pre><code>$ printf '%f\\n' 2,5\n2,500000\n</code></pre>\n\n<p>In order to get it right with Perl 5.18.2, I have to do:</p>\n\n<pre><code>$ export LC_ALL=de_DE.UTF-8\n$ perl -e 'use locale; use POSIX qw(locale_h); setlocale(LC_NUMERIC, \"de_DE\"); printf \"%f\\n\", \"2,5\"'\n2,500000\n</code></pre>\n\n<p>Even if I use <code>setlocale</code> without setting <code>LC_ALL</code> I get the wrong result in Perl 5.18.2. This is nuts.</p>\n\n<p>But Perl has a long tradition of being clumsy when it comes to localization. Latin1 in the source file was a similar debacle.</p>\n"}], "owner": {"reputation": 73, "user_id": 3997008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf574d4fd50fa435c4f31e3e45154e0?s=128&d=identicon&r=PG&f=1", "display_name": "Srikanth Ganesan", "link": "https://stackoverflow.com/users/3997008/srikanth-ganesan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1479991827, "creation_date": 1479807751, "question_id": 40738403, "link": "https://stackoverflow.com/questions/40738403/float-is-not-coma-seperated-in-german-locale-in-perl", "title": "float is not coma seperated in german locale in perl", "body": "<p>I have installed a linux machine on german locale. When I print the float/double in perl, I am expecting it to be printed in coma seperated instead of dot separated. But it is not happening. Any idea ?</p>\n\n<pre><code>    [root@IDCDVAM886 ~]# uname -a\n    Linux IDCDVAM886 3.10.0-327.el7.x86_64 #1 SMP Thu Oct 29 17:29:29 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux\n    [root@IDCDVAM886 ~]# cat /etc/redhat-release \n    Red Hat Enterprise Linux Server release 7.2 (Maipo)\n    [root@IDCDVAM886 ~]# locale\n    LANG=de_DE.UTF-8\n    LC_CTYPE=\"de_DE.UTF-8\"\n    LC_NUMERIC=\"de_DE.UTF-8\"\n    LC_TIME=\"de_DE.UTF-8\"\n    LC_COLLATE=\"de_DE.UTF-8\"\n    LC_MONETARY=\"de_DE.UTF-8\"\n    LC_MESSAGES=\"de_DE.UTF-8\"\n    LC_PAPER=\"de_DE.UTF-8\"\n    LC_NAME=\"de_DE.UTF-8\"\n    LC_ADDRESS=\"de_DE.UTF-8\"\n    LC_TELEPHONE=\"de_DE.UTF-8\"\n    LC_MEASUREMENT=\"de_DE.UTF-8\"\n    LC_IDENTIFICATION=\"de_DE.UTF-8\"\n    LC_ALL=de_DE.UTF-8\n    [root@IDCDVAM886 ~]# echo $LC_ALL\n    de_DE.UTF-8\n    [root@IDCDVAM886 ~]# echo $LC_NUMERIC\n    de_DE.UTF-8\n\n    [root@IDCDVAM886 ~]# cat my.pl \n    #!/usr/bin/perl\n\n    use locale;\n\n    print \"LC_NUMERIC = $ENV{LC_NUMERIC}\\n\";\n    print 5/2 ;\n    print \"\\n\";\n    my $val = 2,5;\n    print \"$val\\n\";\n\n[root@IDCDVAM886 ~]# ./my.pl \nLC_NUMERIC = de_DE.UTF-8\n2.5\n2\n</code></pre>\n"}, {"tags": ["perl", "char", "hex"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 2, "creation_date": 1479808085, "post_id": 40738323, "comment_id": 68702868, "body": "Always put <code>use warnings</code> and <code>use strict</code> top of the program."}, {"owner": {"reputation": 381, "user_id": 4230181, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1237690578/picture?type=large", "display_name": "Asier ", "link": "https://stackoverflow.com/users/4230181/asier"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1479808890, "post_id": 40738323, "comment_id": 68703452, "body": "Ok, thanks for your advice. I am learning perl, all advices are good."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479843837, "post_id": 40738323, "comment_id": 68726501, "body": "Tip: You could use <code>s&#47;([[:xdigit:]]{2})&#47;chr(hex($1))&#47;eg</code> instead to avoid long classes and redundant code."}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 4230181, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1237690578/picture?type=large", "display_name": "Asier ", "link": "https://stackoverflow.com/users/4230181/asier"}, "edited": false, "score": 0, "creation_date": 1479808848, "post_id": 40738421, "comment_id": 68703418, "body": "Thanks a lot. Sometimes i don&#180;t see the most stupid fails."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 381, "user_id": 4230181, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1237690578/picture?type=large", "display_name": "Asier ", "link": "https://stackoverflow.com/users/4230181/asier"}, "edited": false, "score": 2, "creation_date": 1479810261, "post_id": 40738421, "comment_id": 68704487, "body": "@Asier: We all have that problem. That&#39;s why we have <code>use strict</code> and <code>use warnings</code>."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 4, "last_activity_date": 1479807786, "creation_date": 1479807786, "answer_id": 40738421, "question_id": 40738323, "link": "https://stackoverflow.com/questions/40738323/how-to-convert-hex-to-char-string-in-perl/40738421#40738421", "title": "How to convert hex to char string in perl", "body": "<p>Change</p>\n\n<pre><code>my $string =~ s/([a-fA-F0-9][a-fA-F0-9])/chr(hex($1))/eg;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$cadena =~ s/([a-fA-F0-9][a-fA-F0-9])/chr(hex($1))/eg;\n</code></pre>\n\n<p>so that search and replace is done on <code>$cadena</code>.</p>\n\n<p>Output: <code>@ab</code> </p>\n\n<pre><code>40 =&gt; @\n61 =&gt; a\n62 =&gt; b\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479836907, "post_id": 40743402, "comment_id": 68722555, "body": "This non-answer could easily have been posted as a comment."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479843846, "post_id": 40743402, "comment_id": 68726505, "body": "Not at all: <i>Tip: You could use <code>s&#47;([[:xdigit:]]{2})&#47;chr(hex($1))&#47;eg</code> instead to avoid long classes and redundant code.</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479843933, "post_id": 40743402, "comment_id": 68726555, "body": "Changing <code>$cadena</code> to <code>my $string</code> on the LHS of <code>s&#47;&#47;&#47;</code> is the opposite of fixing a bug!"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1479843894, "last_edit_date": 1479843894, "creation_date": 1479822100, "answer_id": 40743402, "question_id": 40738323, "link": "https://stackoverflow.com/questions/40738323/how-to-convert-hex-to-char-string-in-perl/40743402#40743402", "title": "How to convert hex to char string in perl", "body": "<p>A better regex pattern:</p>\n\n<pre><code>$cadena =~ s/([[:xdigit:]]{2})/chr(hex($1))/eg;\n</code></pre>\n\n<p>Use the POSIX character set <code>[:xdigit:]</code> to match a single hexadecimal character and use <code>{2}</code> to specify two and only two of them.</p>\n"}], "owner": {"reputation": 381, "user_id": 4230181, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1237690578/picture?type=large", "display_name": "Asier ", "link": "https://stackoverflow.com/users/4230181/asier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4553, "favorite_count": 3, "accepted_answer_id": 40738421, "answer_count": 2, "score": 1, "last_activity_date": 1479843894, "creation_date": 1479807539, "question_id": 40738323, "link": "https://stackoverflow.com/questions/40738323/how-to-convert-hex-to-char-string-in-perl", "title": "How to convert hex to char string in perl", "body": "<p>I need change the %xx HEX characters to chars. I am trying with this code but it does not works:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nmy $cadena = \"%40%61%62\";\nprint $cadena.\"\\n\";\n$cadena =~ s/%//g;\nprint \"cad: \".$cadena.\"\\n\";\nmy $string =~ s/([a-fA-F0-9][a-fA-F0-9])/chr(hex($1))/eg;\nprint \"traducida: \".$string;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479789374, "post_id": 40733670, "comment_id": 68694199, "body": "i don&#39;t know what the numbers on the left mean, but it straight up told you the total was 2.98ms, and that each pass took 2.98 ms / 14654 calls = 203 ns/call"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479789719, "post_id": 40733670, "comment_id": 68694309, "body": "The column for 39.6ms has title &quot;Time on line&quot; according to NYTProf.  The column for 2.98ms is &quot;Timein subs&quot;.  When I look at the total time spent in the routine that has the few lines, 39.6ms weighted heavily for the total time. Somehow, CPU spent lots of time on that line."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479789818, "post_id": 40733670, "comment_id": 68694337, "body": "Coroberation: <code>perl -MBenchmark=timethis -e&#39;timethis(-3, q{for (1..1000) { my $x = unpack(&quot;C&quot;, &quot;X&quot;); }});&#39;</code> output <code>3283.39&#47;s</code>, which is 1 unpack+assignment+loop every 304ns."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479789953, "post_id": 40733670, "comment_id": 68694380, "body": "Is that the last line of a sub, loop or block?"}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479790249, "post_id": 40733670, "comment_id": 68694469, "body": "There are other lines in the same routine too. The highlighted lines were not in any loop."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479790408, "post_id": 40733670, "comment_id": 68694514, "body": "No. There are more lines following the highlighted line in the same routine."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479790601, "post_id": 40733670, "comment_id": 68694569, "body": "No, they are not the last lines in the block (subroutine).  I thought I have given you the complete answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479790759, "post_id": 40733670, "comment_id": 68694615, "body": "Then I don&#39;t know what that other number (39.6 ms) means."}, {"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479790770, "post_id": 40733670, "comment_id": 68694619, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/128668/discussion-between-packetie-and-ikegami\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1479789358, "post_id": 40733768, "comment_id": 68694195, "body": "You are right, I broken it up to see what is taking the time. It appears unpack() call.  Given that unpack() function itself is very efficient, I guess the overhead of invoking the call is very expensive.  Wonder if there is a way to speed it up."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "edited": false, "score": 0, "creation_date": 1479789409, "post_id": 40733768, "comment_id": 68694215, "body": "There&#39;s no overhead to calling <code>unpack</code>. At all. Because there&#39;s no actual call, because it&#39;s not a subroutine; it&#39;s an operator just like <code>+</code>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1479790687, "last_edit_date": 1479790687, "creation_date": 1479788805, "answer_id": 40733768, "question_id": 40733670, "link": "https://stackoverflow.com/questions/40733670/slow-perl-performance-why-and-how-to-improve/40733768#40733768", "title": "slow perl performance, why and how to improve", "body": "<blockquote>\n  <p>the line got executed 14654 times and took 39.6ms</p>\n</blockquote>\n\n<p>No, the line got executed 14654 times and took 2.98ms. Each execution took 203ns on average. Not exactly slow...</p>\n\n<hr>\n\n<p>You could try using</p>\n\n<pre><code>$_flags = ord(substr($data, 47, 1));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$_flags = unpack('x47 C', $data);\n</code></pre>\n\n<hr>\n\n<p>There are surely better things to optimize. For example, you would benefit from having a single unpack rather than using multiple calls to substr and unpack.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479790687, "creation_date": 1479788126, "last_edit_date": 1479789249, "question_id": 40733670, "link": "https://stackoverflow.com/questions/40733670/slow-perl-performance-why-and-how-to-improve", "title": "slow perl performance, why and how to improve", "body": "<p>I ran NYTProf on a perl program, I am quite surprised to see the line with \"unpack\" takes lots of time: (the line got executed 14654 times and took 39.6ms). But the unpack() function itself is quite fast</p>\n\n<pre><code>    $delme1 = substr($data, 47,1)\n    $_flags = unpack(\"C\", $delme1);\n    # spent  2.98ms making 14654 calls to main::CORE:unpack, avg 203ns/call\n</code></pre>\n\n<p>Any one knows why such a big overhead?</p>\n\n<p>Thanks</p>\n\n<p><strong>Update 1</strong>\nSee the line with \"unpack\" call. It says it spent a total of 39.6ms. </p>\n\n<p><a href=\"https://i.stack.imgur.com/9MbgB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MbgB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["linux", "perl", "deployment"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479787651, "post_id": 40733181, "comment_id": 68693823, "body": "File::Find is a module to traverses a directory structure much like the <code>find</code> utility. <i><code>follow_skip==1</code>, which is the default, causes all files which are neither directories nor symbolic links to be ignored if they are about to be processed a second time. If a directory or a symbolic link are about to be processed a second time, File::Find dies.</i> It sounds like <code>...&#47;Linux-2.6c2.5-i686&#47;Ncurses&#47;Ncurses-15766.0-0&#47;lib&#47;libncur&zwnj;&#8203;ses.so.5</code> is a symlink to a file it already encountered. It can&#39;t tell if this is a problem, so its default behaviour is to die (throw an exception) in that situation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479788001, "post_id": 40733181, "comment_id": 68693904, "body": "I can&#39;t help you more than this because, like F::F, I don&#39;t know/understand the context."}, {"owner": {"reputation": 149, "user_id": 5850794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79afba41719e9133ba1966740817cc75?s=128&d=identicon&r=PG&f=1", "display_name": "HouZhe", "link": "https://stackoverflow.com/users/5850794/houzhe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479806870, "post_id": 40733181, "comment_id": 68702066, "body": "Thanks, ikegami! yes, libncurses.so.5 is a symbolic link to libncurses.so.5.3. So libncurses.so.5.3 is observed 2 times to cause the problem? And I don&#39;t understand why this check is valuable? Why it is an error if a symbolic link or directory is observed 2 times? Does that mean in my folder that are multiple symbolic links to the same file?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1479825540, "post_id": 40733181, "comment_id": 68714916, "body": "@HouZhe What if you are using the existence of a file to start a major database update that will take up significant resources? <code>File::Find</code> cannot know if it is OK to do that twice or more."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479835697, "post_id": 40733181, "comment_id": 68721893, "body": "Re &quot;<i>And I don&#39;t understand why this check is valuable?</i>&quot;, F::F is being instructed to execute code for each file it encounters. It has no way of knowing if it&#39;s safe to execute that code twice for one file. (Also, encountering a directory twice indicates an infinite loop.) The coder can instruct F::F that it&#39;s safe to encounter a file twice if it&#39;s safe."}], "answers": [{"comments": [{"owner": {"reputation": 18919, "user_id": 891440, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/dd366bcdcf85991fa8af1b6d11d3ad49?s=128&d=identicon&r=PG", "display_name": "jjmerelo", "link": "https://stackoverflow.com/users/891440/jjmerelo"}, "edited": false, "score": 0, "creation_date": 1583312458, "post_id": 40744777, "comment_id": 107069619, "body": "But what if you find that while you&#39;re installing something, and not in your code? And what causes it?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1479825744, "last_edit_date": 1592644375, "creation_date": 1479825744, "answer_id": 40744777, "question_id": 40733181, "link": "https://stackoverflow.com/questions/40733181/error-of-encountered-a-second-time-by-find-pm/40744777#40744777", "title": "Error of &quot;encountered a second time&quot; by find.pm", "body": "<p>From <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow noreferrer\">perldoc File::Find</a></p>\n<blockquote>\n<h3><code>follow</code></h3>\n<p>Causes symbolic links to be followed. Since directory trees with symbolic links (followed) may contain files more than once and may even have cycles, a hash has to be built up with an entry for each file. This might be expensive both in space and time for a large directory tree. See &quot;<code>follow_fast</code>&quot; and &quot;<code>follow_skip</code>&quot; below. If either <code>follow</code> or <code>follow_fast</code> is in effect:</p>\n<p>It is guaranteed that an <code>lstat</code> has been called before the user's <code>wanted()</code> function is called. This enables fast file checks involving <code>_</code>. Note that this guarantee no longer holds if <code>follow</code> or <code>follow_fast</code> are not set.</p>\n<p>There is a variable <code>$File::Find::fullname</code> which holds the absolute pathname of the file with all symbolic links resolved. If the link is a dangling symbolic link, then fullname will be set to <code>undef</code>.</p>\n</blockquote>\n<p>So, if, for the purposes of your application, if it is OK to follow symlinks, invoke <code>find</code> with the <code>follow</code> option set:</p>\n<pre><code>find({ wanted =&gt; \\&amp;process, follow =&gt; 1 }, $dir);\n</code></pre>\n<p>Or, consider if one of the other <code>follow_skip</code> behaviors is more appropriate for your application:</p>\n<blockquote>\n<h3><code>follow_skip</code></h3>\n<p><code>follow_skip==1</code>, which is the default, causes all files which are neither directories nor symbolic links to be ignored if they are about to be processed a second time. If a directory or a symbolic link are about to be processed a second time, <code>File::Find</code> dies.</p>\n<p><code>follow_skip==0</code> causes <code>File::Find</code> to die if any file is about to be processed a second time.</p>\n<p><code>follow_skip==2</code> causes <code>File::Find</code> to ignore any duplicate files and directories but to proceed normally otherwise.</p>\n</blockquote>\n<p>It may be that <code>follow_skip =&gt; 2</code> is more appropriate for <em>your</em> application. Only you can make that decision.</p>\n"}], "owner": {"reputation": 149, "user_id": 5850794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79afba41719e9133ba1966740817cc75?s=128&d=identicon&r=PG&f=1", "display_name": "HouZhe", "link": "https://stackoverflow.com/users/5850794/houzhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 40744777, "answer_count": 1, "score": 2, "last_activity_date": 1479825744, "creation_date": 1479784282, "last_edit_date": 1479788450, "question_id": 40733181, "link": "https://stackoverflow.com/questions/40733181/error-of-encountered-a-second-time-by-find-pm", "title": "Error of &quot;encountered a second time&quot; by find.pm", "body": "<p>everyone, </p>\n\n<p>when I deploy my package to a linux environment, I met this <strong>error</strong>: </p>\n\n<pre><code>.../Linux-2.6c2.5-i686/Ncurses/Ncurses-15766.0-0/lib/libncurses.so.5 is encountered a second time at /apollo/_env/FBAMerchantAutoRemovalDaemon-swit1na.1755067.237551097.1107633519/perl/lib/perl5.8-dist/File/Find.pm line 542.\n</code></pre>\n\n<p>though I read the <code>perl</code> script, I have no idea what is wrong. I suspect my environment is tainted. Does anyone have idea what is wrong and how can I debug this problem? Thanks a lot in advance!</p>\n\n<p>Zhe </p>\n"}, {"tags": ["javascript", "jquery", "ajax", "perl", "cgi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1479790219, "post_id": 40732577, "comment_id": 68694458, "body": "What problem are you having?"}, {"owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1479801620, "post_id": 40732577, "comment_id": 68698894, "body": "You could try to download the file with jQuery file download plugin: <a href=\"http://johnculviner.com/jquery-file-download-plugin-for-ajax-like-feature-rich-file-downloads/\" rel=\"nofollow noreferrer\">johnculviner.com/&hellip;</a>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1479802633, "post_id": 40732577, "comment_id": 68699414, "body": "@Meloviz url: should be <code>&#47;cgi-bin&#47;myPerlScript.cgi</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "edited": false, "score": 0, "creation_date": 1479807898, "post_id": 40732577, "comment_id": 68702750, "body": "@bob what would that do?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479808026, "post_id": 40732577, "comment_id": 68702841, "body": "When you run this and look at your developer tools in the browser, do you see anything going wrong? Is there a 404 or a 500 error response? Is there a response at all? Or maybe some syntax error? If you can see that there&#39;s a 200 response, look at the content. It seems your CGI responds with an <code>application&#47;json</code> content type (or similar) and there is an object like <code>{ &#39;d&#39; : ... }</code> in the body of the response. Can you verify this?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1479815863, "post_id": 40732577, "comment_id": 68708271, "body": "<i>I have to do it this way because it was the best I could come up with based on whether or not the device is mobile or not</i> - I&#39;d recommend that you use <a href=\"https://www.smashingmagazine.com/2010/07/how-to-use-css3-media-queries-to-create-a-mobile-version-of-your-website/\" rel=\"nofollow noreferrer\">media queries</a> to work out whether a visitor is using a mobile device"}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479827671, "post_id": 40732577, "comment_id": 68716514, "body": "@ikegami the issue that I am having is that, as I said in my post, it does nothing. The page doesn&#39;t reload, the click event doesn&#39;t seem to fire, literally nothing happens when I click on the form&#39;s submit button. I&#39;ve narrowed down the issue to this bit of JS as the culprit."}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479827773, "post_id": 40732577, "comment_id": 68716600, "body": "@DaveCross I went through a lot of research on figuring out the best way to tell if a device is mobile, and I probably will add a media query to my if block, but I&#39;m not as concerned about that right because even without the if block, my script won&#39;t run properly."}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "edited": false, "score": 0, "creation_date": 1479827956, "post_id": 40732577, "comment_id": 68716752, "body": "@simbaque Nothing appears to be wrong other than it does nothing. No error comes up, nothing at all. There is no response. I thought it might be a syntax error, but I&#39;ve been through the code a dozen times. I even separated it out line by line, block by block, and there seems to be nothing wrong with the syntax. It is as exactly as I&#39;ve posted here. And I mean literally, this is all that is in the else part of the if block, and there are no other local variables."}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1479830437, "post_id": 40732577, "comment_id": 68718585, "body": "@mkHun I&#39;ve tried with both absolute and relative URLs, and neither works, so even if that is a problem I&#39;m having, it&#39;s not the only one. But thank you for your suggestion."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479837374, "post_id": 40732577, "comment_id": 68722810, "body": "@Meloviz, Re &quot;<i>it does nothing</i>&quot;, That&#39;s completely wrong, so again I ask: What problem are you having? Is the call to <code>ajax</code> not being reached? Is the call to <code>ajax</code> calling the <code>error</code> callback instead of the <code>success</code> one? Is the browser not making the https request? Is the https request failing? Is the request succeeding but your script isn&#39;t getting executed? Is the script getting executed but returning a different result than expected? Which of these do you incorrectly call &quot;nothing&quot;?"}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479840171, "post_id": 40732577, "comment_id": 68724514, "body": "@ikegami I realize that &quot;It does nothing&quot; is not technical, but that is the result. I tested the JS function, and the part that doesn&#39;t act the way it is supposed to is the call to the CGI script. Everything else about the JS function works perfect, and the CGI script works perfectly if it is called from the HTML form rather than the JS function. I get no error, I get no callback that I can tell, I don&#39;t know if the request is even calling the CGI script because I get nothing in return to tell what is going on. I&#39;m pretty much a complete noob when it comes to this stuff, so any help is great."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479840536, "post_id": 40732577, "comment_id": 68724737, "body": "I really don&#39;t care that it works if you do something different you can&#39;t do here. You need to specify what <i>does</i> happen (instead of trying to justify that it&#39;s ok to say nothign happened) So again I ask: What problem are you having? Is the call to <code>ajax</code> not being reached? Is the call to <code>ajax</code> calling the <code>error</code> callback instead of the <code>success</code> one? Is the browser not making the https request? Is the https request failing? Is the request succeeding but your script isn&#39;t getting executed? Is the script getting executed but returning a different result than expected?"}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479841467, "post_id": 40732577, "comment_id": 68725296, "body": "@ikegami I can only assume that my problem is that the ajax call is not built properly. What else does it need in order to run the CGI script? The function executes up to and past the ajax, but nothing returns from the ajax call. The complete code for the ajax call is up in my post; there is nothing else to it but that. To answer the rest, I assume the default error callback is called because it&#39;s not explicitly set, I don&#39;t believe the browser is making the https request because the script should return something but does not return anything. Does that help?"}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "edited": false, "score": 0, "creation_date": 1479841670, "post_id": 40732577, "comment_id": 68725414, "body": "I did to the best of my ability. Can you suggest something for me to do to answer those questions more adequately for you?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479841693, "post_id": 40732577, "comment_id": 68725435, "body": "Re &quot;<i>nothing returns from the ajax call</i>&quot;, That&#39;s normal. The first &quot;a&quot; in AJAX stands for &quot;asynchronous&quot;. When the response arrives, the <code>success</code> callback is called. If an error occurs, the <code>error</code> callback is called instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479841709, "post_id": 40732577, "comment_id": 68725445, "body": "Gladly. Which question do you have a problem answering?"}, {"owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "edited": false, "score": 0, "creation_date": 1479842135, "post_id": 40732577, "comment_id": 68725647, "body": "Ah, thank you. Your comment helped me be able to answer one of your questions. The error callback is what gets called."}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "is_accepted": false, "score": 0, "last_activity_date": 1479861793, "creation_date": 1479861793, "answer_id": 40754230, "question_id": 40732577, "link": "https://stackoverflow.com/questions/40732577/issue-executing-perl-cgi-from-javascript/40754230#40754230", "title": "Issue executing Perl CGI from JavaScript", "body": "<p>It turns out that I wasn't building the ajax statement completely or correctly. I didn't add any data that I needed to pass into the CGI script.</p>\n\n<p>Here's the ajax statement I ended up with:</p>\n\n<pre><code>$.ajax({\n    type:\"POST\",\n    url:\"/cgi-bin/myPerlScript.cgi\",\n    data:$(\"#myHtmlForm\").serialize(),\n    error:function badCall(){location.href=\"https://www.mywebsite.com/error.html\";}\n});\n</code></pre>\n\n<p>Thank you @ikegami, @mkHun, @simbabque, and @DaveCross!</p>\n"}], "owner": {"reputation": 511, "user_id": 3553128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUn59.jpg?s=128&g=1", "display_name": "Meloviz", "link": "https://stackoverflow.com/users/3553128/meloviz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479861793, "creation_date": 1479779643, "last_edit_date": 1479828012, "question_id": 40732577, "link": "https://stackoverflow.com/questions/40732577/issue-executing-perl-cgi-from-javascript", "title": "Issue executing Perl CGI from JavaScript", "body": "<p>How do I get my Perl script to execute from JavaScript called from an HTML form's 'action' attribute?</p>\n\n<p>I am using scripts built by other people mostly, and the basic gist of it is that I need to call the CGI script from the JS function.</p>\n\n<p>I have to do it this way because it was the best I could come up with based on whether or not the device is mobile. </p>\n\n<p>I need to pass some checkboxes to the Perl script and return some files based on the checkbox states. I know the Perl script works perfectly without having to execute the JavaScript, but I don't know how to check if a device is mobile or not in Perl, and I do in JS.</p>\n\n<p>All I need is to execute the CGI script, passing it the same information as if it was being called directly from the form, but it does nothing.</p>\n\n<p>Here is my JavaScript:</p>\n\n<pre><code>function downloadFiles(){\n    var isMobile = function(){\n        try {document.createEvent(\"TouchEvent\"); return true;}\n        catch(e) {return false;}\n    }\n    &amp;&amp; (/Mobi/i.test(navigator.userAgent));\n    if(!isMobile){\n        $.ajax({\n            type:\"Post\",\n            url:\"https://www.mywebsite.com/cgi-bin/myPerlScript.cgi\",\n            success:function(msg){$(\"#myHtmlForm\").html(msg.d);}\n        });\n    }\n}\n</code></pre>\n\n<p>I don't rightly know what 'msg' or its property 'd' is, and I don't even know if my form should be the element where it is.  So what I am missing here?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 1, "creation_date": 1479780001, "post_id": 40732532, "comment_id": 68692038, "body": "Not a problem I&#39;ve ever done, but you might find an answer by searching here for <a href=\"http://stackoverflow.com/search?q=%5Bperl%5Dperlbrew\">perlbrew</a>"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1479789124, "creation_date": 1479789124, "answer_id": 40733809, "question_id": 40732532, "link": "https://stackoverflow.com/questions/40732532/perl-installation-directory-specification/40733809#40733809", "title": "perl installation directory specification", "body": "<p>The simplest answer is to use <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a>. This is a tool to install and manage multiple Perl installations in your home directory. You can switch between which one is active.</p>\n\n<p>Follow the instructions on their page to install perlbrew, and then install the latest stable Perl with...</p>\n\n<pre><code>perlbrew install stable\n</code></pre>\n\n<p>Then tell perlbrew that's the Perl you want to use with...</p>\n\n<pre><code>perlbrew switch stable\n</code></pre>\n\n<p>If you want to install more modules, use <code>cpanm</code> to install modules to the currently active perl.</p>\n\n<pre><code>cpanm Acme::Pony\n</code></pre>\n\n<hr>\n\n<p>If you don't want to use perlbrew, you need to mess with your PATH environment variable. This is a list of directories your shell will search through when finding a program to run. You'd need to put <code>/path/to/where/you/installed/perl/bin</code> at the front. <a href=\"https://kb.iu.edu/d/acar\" rel=\"nofollow noreferrer\">More on this in this article</a>.</p>\n\n<p>I <strong><em>highly</em></strong> recommend you use perlbrew. It takes care of all this for you.</p>\n"}], "owner": {"reputation": 11, "user_id": 6851664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BZMeBD0GGu0/AAAAAAAAAAI/AAAAAAAABss/bKX1y2Cq-GQ/photo.jpg?sz=128", "display_name": "Sowmya Ramachandran", "link": "https://stackoverflow.com/users/6851664/sowmya-ramachandran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479789124, "creation_date": 1479779323, "question_id": 40732532, "link": "https://stackoverflow.com/questions/40732532/perl-installation-directory-specification", "title": "perl installation directory specification", "body": "<p>I have perl 5.10.1 on my server but I need a higher version of perl than that. I do not have privileges to modify this version so I installed the latest one on my home directory. How do I specify unix to preferentially use the newer version?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479779048, "post_id": 40732426, "comment_id": 68691789, "body": "<code>$str eq &quot;John&quot;;</code> ... <code>$str == &quot;John&quot;;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1479845925, "post_id": 40732426, "comment_id": 68727729, "body": "Always use <code>use strict; use warnings qw( all );</code>!"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 7, "creation_date": 1479782358, "post_id": 40732469, "comment_id": 68692597, "body": "Note that using <code>&quot;foo&quot;</code> or <code>&quot;17foo&quot;</code> in numeric context will produce a warning, if you have warnings enabled as you should."}], "tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 14, "last_activity_date": 1479778904, "creation_date": 1479778904, "answer_id": 40732469, "question_id": 40732426, "link": "https://stackoverflow.com/questions/40732426/perl-compare-strings-with/40732469#40732469", "title": "perl compare strings with &quot;==&quot;", "body": "<p><code>\"foo\" == \"bar\"</code> is true. <code>\"foo\" eq \"bar\"</code> is false.</p>\n\n<p>The reason for this: <code>==</code> is <em>numeric</em> comparison. <code>\"foo\"</code> and <code>\"bar\"</code> are both numerically evaluate to <code>0</code> (like <code>\"17foo\"</code> evaluates numerically to <code>17</code>); since <code>0 == 0</code>, <code>\"foo\" == \"bar\"</code>. This is not normally the operation you are looking for.</p>\n"}], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1734, "favorite_count": 0, "accepted_answer_id": 40732469, "answer_count": 1, "score": 6, "last_activity_date": 1479778904, "creation_date": 1479778588, "question_id": 40732426, "link": "https://stackoverflow.com/questions/40732426/perl-compare-strings-with", "title": "perl compare strings with &quot;==&quot;", "body": "<p>In perl, one should compare two strings with \"eq\" or \"ne\" etc.</p>\n\n<p>I am a little surprised the following code snippet will print \"yes\".</p>\n\n<pre><code>$str = \"aJohn\";\n$x = substr($str, 1);\nif ($x == \"John\") {\n    print \"yes\\n\";\n}\n</code></pre>\n\n<p>My perl has version v5.18.4 on Ubuntu.  </p>\n\n<p>Is there a case where the \"==\" on two strings produce a different result from \"eq\"?\nThanks.</p>\n"}, {"tags": ["perl", "memory-leaks", "kill"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479793777, "post_id": 40732414, "comment_id": 68695571, "body": "Do you have to kill them by hand? The last time I looked, it turned out that there may not be  a way to &#39;gently&#39; kill a process on windows. See <a href=\"http://stackoverflow.com/questions/37757264/how-can-i-gently-kill-a-process-in-activestate-perl/37757471#37757471\">this post</a> for practically the same issue."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479794217, "post_id": 40732414, "comment_id": 68695734, "body": "I meant to say, the best way appears to be <code>system(&quot;taskkill &#47;t &#47;pid $pid&quot;);</code>. See the linked post."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479796901, "post_id": 40732414, "comment_id": 68696735, "body": "@zdim This is on a Unix based system"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1479797180, "post_id": 40732414, "comment_id": 68696841, "body": "Oh ... the doc link is about emulation of fork on Windows, and the &quot;<i>pseudo-process</i>&quot; phrase is about that, too.  If you are on UNIX you don&#39;t want to (ever) send the <code>SIGKILL</code> signal (<code>KILL</code> in Perl), for that precise reason. Send the <code>SIGTERM</code> (<code>TERM</code> in Perl), that allows the process to do (some) cleanup.  Then, in those child processes, you write a signal handler for <code>SIGTERM</code> where you can shut down as appropriate. If those are external commands you hope that they clean up on <code>SIGTERM</code>."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479797366, "post_id": 40732414, "comment_id": 68696916, "body": "Ok, all I want to do is free up the memory. Do I need a signal handler for that?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479797471, "post_id": 40732414, "comment_id": 68696957, "body": "Well, yes -- if a <code>SIGTERM</code> signal is not handled its <i>disposition</i> (default action) is to terminate the process, right there.  If you <i>are</i> ending up with leaks then the child has to catch it, and in the handler you can write code that will do what is needed to free memory.  So when the child gets hit by the signal the code in the handler runs.  Then, for <code>SIGTERM</code> the process must exit. (Other than that and <code>SIGKILL</code> all others can be survived.) This is covered in <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perlipc</a> (and in bunch of other docs)."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479797690, "post_id": 40732414, "comment_id": 68697042, "body": "Can the handler just call <code>exit</code> or <code>die</code>? Shouldn&#39;t that free up the memory?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479797788, "post_id": 40732414, "comment_id": 68697089, "body": "Right, I think that it should, since (I think) it allows <code>END</code> phase and the global destruction phase to run (I am just not sure for <code>SIGTERM</code>).  I just don&#39;t know how those processes leak memory.  But you are right, the first thing to try would be to just throw <code>die</code> in the handler."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479798128, "post_id": 40732414, "comment_id": 68697222, "body": "Thinking about it some more, I don&#39;t know how Perl (interpreter) handles <code>SIGTERM</code> -- try first without a handler, maybe it runs the global destruction anyway.  If it doesn&#39;t then add a handler with <code>die</code>.  If <i>that</i> doesn&#39;t work then you may have to do more."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479841018, "post_id": 40732414, "comment_id": 68725051, "body": "I confirmed that with with unhandled <code>SIGTERM</code> things never get to <code>END</code> phase, so one does need a handler.  However, with a mere handler in place, just printing to screen (no die), the <code>END</code> blocks run etc."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479852652, "post_id": 40732414, "comment_id": 68731268, "body": "I just re-read my comments and see that I made an incorrect implication: it is <code>SIGSTOP</code>, along with <code>SIGKILL</code>, that cannot be caught. The <code>SIGTERM</code> can, and the program then need not terminate. However, normally it&#39;s a good idea to respect <code>SIGTERM</code> and exit, after doing whatever is needed for a clean exit."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479854447, "post_id": 40732414, "comment_id": 68732028, "body": "Ok, in the handler I would like to just free up the memory and not print anything to the screen.  Is this possible?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479855241, "post_id": 40732414, "comment_id": 68732327, "body": "To exit gracefully you need <code>die</code> -- without it the program continues, since the signal got disabled by having a handler. The <code>die</code> on its own prints a message, what can be suppressed by adding a newline to it. So <code>$SIG{TERM} = sub { die &quot;\\n&quot; };</code>"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479863872, "post_id": 40732414, "comment_id": 68734789, "body": "You prefer <code>die</code> over <code>exit</code>?  With <code>exit</code> you don&#39;t have to worry about the newline."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479883079, "post_id": 40732414, "comment_id": 68740200, "body": "Good point -- no, I don&#39;t. It&#39;s just that it thought it was a touch more flexible in general.  The <code>exit</code> is just as fine (or better), and calls <code>END</code> blocks and goes through destruction."}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1479786777, "creation_date": 1479778498, "last_edit_date": 1479786777, "question_id": 40732414, "link": "https://stackoverflow.com/questions/40732414/how-to-kill-child-processes-and-deallocate-memory", "title": "How to kill child processes and deallocate memory?", "body": "<p>I am creating a lot of child processes using <a href=\"http://search.cpan.org/~yanick/Parallel-ForkManager-1.19/lib/Parallel/ForkManager.pm\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a> and then killing them using <code>kill 'KILL', $_ for $pm-&gt;running_procs</code>, but there is a big memory leak in doing this:</p>\n\n<blockquote>\n  <p>Note that using kill('KILL', ...) on a pseudo-process() may typically\n  cause memory leaks, because the thread that implements the\n  pseudo-process does not get a chance to clean up its resources.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://perldoc.perl.org/perlfork.html#Behavior-of-other-Perl-features-in-forked-pseudo-processes\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlfork.html#Behavior-of-other-Perl-features-in-forked-pseudo-processes</a></p>\n\n<p>How can I kill the child processes and not cause the big memory leak?</p>\n"}, {"tags": ["perl", "cookies"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479761768, "post_id": 40728473, "comment_id": 68685652, "body": "You are mixing some stuff up. Cookies are not CGI params."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479761810, "post_id": 40728473, "comment_id": 68685684, "body": "@simbabque ok then can you assist in an implementation?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479762210, "post_id": 40728473, "comment_id": 68685903, "body": "If you explain what you want to do, sure."}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479762779, "post_id": 40728473, "comment_id": 68686219, "body": "@simbabque explained"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479763207, "post_id": 40729579, "comment_id": 68686470, "body": "According to the <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#SYNOPSIS\" rel=\"nofollow noreferrer\">SYNOPSIS in CGI.pm</a> the commented out code <code>$cgi-&gt;cookie(&quot;loggedin&quot;)</code> should have worked too."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479763475, "post_id": 40729579, "comment_id": 68686613, "body": "@simbabque Yes, but I guess the setting of the cookie didn&#39;t. It&#39;s not sufficient to call <code>$cgi-&gt;cookie(\u2026)</code>, you also need to add that to the header so it actually gets sent to the server."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479763893, "post_id": 40729579, "comment_id": 68686825, "body": "That&#39;s true. Didn&#39;t notice that part in the question. Happily, it&#39;s been a while since I used CGI.pm :)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479764202, "post_id": 40729579, "comment_id": 68687005, "body": "@simbabque I still have a page running with CGI and was a bit disappointed that it&#39;s no longer a core module. However, my page works properly and I didn&#39;t have the time yet to switch to the new template things everybody talks about. ;-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479764728, "post_id": 40729579, "comment_id": 68687271, "body": "I&#39;ve probably linked you this before, but you should watch it again. <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\">Sawyer X explaining why <i>CGI.pm must die</i></a> at our German Perl Workshop in Hannover in 2014. Also, come to the next one in Hamburg!"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 6, "last_activity_date": 1479768699, "last_edit_date": 1479768699, "creation_date": 1479763135, "answer_id": 40729579, "question_id": 40728473, "link": "https://stackoverflow.com/questions/40728473/cannot-read-cookie-after-setting-it/40729579#40729579", "title": "cannot read cookie after setting it", "body": "<p>Read <a href=\"http://perldoc.perl.org/CGI.html#HTTP-COOKIES\" rel=\"nofollow noreferrer\">here</a> to learn how to <em>set</em> and <em>get</em> cookies. Basically:</p>\n\n<ul>\n<li>With <code>-value</code>, a cookie is created. It must be passed to <code>header</code> or <code>redirect</code> to actually set it.</li>\n<li>Without <code>-value</code>, the values of the cookie is returned.</li>\n</ul>\n\n<p><strong>Setting a cookie:</strong></p>\n\n<pre><code>my $cookie = $cgi-&gt;cookie( -name    =&gt; 'loggedin',\n                           -value   =&gt; '1',\n                           -expires =&gt; '+4h',\n                           -path    =&gt; '/' );\nprint $cgi-&gt;header(-cookie=&gt;$cookie);\n</code></pre>\n\n<p><strong>Retrieving a cookie:</strong></p>\n\n<pre><code>my $cookie = $cgi-&gt;cookie('loggedin');  # Short for: $cgi-&gt;cookie( -name=&gt;'loggedin' )\nif ($cookie) {\n    # cookie \"loggedin\" was set\n}\n</code></pre>\n\n<p><strong>Setting a cookie and redirecting:</strong></p>\n\n<pre><code>my $cookie = $cgi-&gt;cookie( -name    =&gt; 'loggedin',\n                           -value   =&gt; '1',\n                           -expires =&gt; '+4h',\n                           -path    =&gt; '/' );\nprint $cgi-&gt;redirect(\n    -uri    =&gt; 'http://host.com',\n    -status =&gt; 302,\n    -cookie =&gt; $cookie\n);\n</code></pre>\n\n<p><strong>Deleting a cookie and redirecting:</strong></p>\n\n<pre><code>my $cookie = $cgi-&gt;cookie( -name    =&gt; 'loggedin',\n                           -value   =&gt; '',\n                           -expires =&gt; '-1d' );\nprint $cgi-&gt;redirect(\n    -uri    =&gt; 'http://host.com',\n    -status =&gt; 302,\n    -cookie =&gt; $cookie\n);\n</code></pre>\n\n<p>Please note that setting cookies and redirecting at the same time is browser and/or webserver dependent.</p>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 40729579, "answer_count": 1, "score": 0, "last_activity_date": 1479771383, "creation_date": 1479758952, "last_edit_date": 1479771383, "question_id": 40728473, "link": "https://stackoverflow.com/questions/40728473/cannot-read-cookie-after-setting-it", "title": "cannot read cookie after setting it", "body": "<p>When I try to get into the \"if cookie exists then redirect\" function it doesn't enter.</p>\n\n<pre><code>#!/usr/bin/perl -I/srv/www/abc/m/www\n\nrequire \"api\";\n\nmy $db = db();\n\nuse CGI;\nuse DBI;\n\nuse strict;\nuse warnings;\n\n#use CGI qw( :standard -nph );\n\n# read the CGI params\nmy $cgi = CGI-&gt;new;\n\nmy $cookie = $cgi-&gt;param(\"loggedin\");\n#my $cookie = $cgi-&gt;cookie(\"loggedin\");\n\nif ( $cookie ) {\n    print $cgi-&gt;redirect(\"http://host.com\");\n    exit;\n}\n\n...\n\nif ( $userID ) {\n    $cgi-&gt;cookie( -name =&gt; 'loggedin', -value =&gt; '1' ,-expires =&gt; '+4h', -path =&gt; '/' );\n    print $cgi-&gt;redirect(\"http://host.com\");\n    exit;\n} \n</code></pre>\n\n<h3>UPDATE</h3>\n\n<p>I'd like to determine whether the cookie that I set at the bottom of the page is present, and if so then perform a redirect. This code is within the <code>if ( $cookie )</code> block.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1479755642, "post_id": 40727616, "comment_id": 68682362, "body": "What is <code>$pattern</code> and what data is it matching?"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1479755750, "post_id": 40727616, "comment_id": 68682432, "body": "Can you <code>use Data::Dumper;</code> and then <code>print Dumper(\\@amplicon_exon);</code> to verify that your <code>@amplicon_exon</code> <i>really</i> contains your pattern?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1479756317, "post_id": 40727616, "comment_id": 68682722, "body": "...and do a <code>print &quot;&gt;$f_amp&lt;\\n&quot;;</code> to ensure that&#39;s what you think it is. ie. ensure there&#39;s no newlines or other surprises within it"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479757742, "post_id": 40727616, "comment_id": 68683440, "body": "Maybe your pattern contains meta characters and you need to <code>quotemeta</code> it or use <code>&#47;\\Q$f_amp\\E&#47;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479759052, "post_id": 40727616, "comment_id": 68684123, "body": "<i>&quot;I know it matches exactly one element in array&quot;</i> I hope it&#39;s obvious that you&#39;re mistaken? The computer is vastly more likely to be correct than you are. Your Perl code is very awkward, but it&#39;s impossible to help you any further unless you provide more information. The output of <code>use Data::Dumper; print Dumper($famp, \\@amplicon_exon);</code> would help a lot. Have you read <code>@matrix_values</code> from a file and forgotten to <code>chomp</code> it?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1479760088, "post_id": 40727616, "comment_id": 68684691, "body": "What is <code>$pattern</code>? What&#39;s in the array you&#39;re supplying to <code>first</code>? Help us help you by creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>!"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1479760478, "post_id": 40727616, "comment_id": 68684945, "body": "$pattern is $f_amp and array is @amplicon_exon."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1479761231, "post_id": 40727616, "comment_id": 68685344, "body": "Although your edit is an improvement, it is still not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please read that page and do what it says."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1479761254, "post_id": 40727616, "comment_id": 68685362, "body": "That doesn&#39;t look very minimal. Also, combining <code>\\z</code> and <code>&#47;g</code> makes no sense."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1479762075, "post_id": 40727616, "comment_id": 68685827, "body": "Dumper tells me that the $famp in in @amplicon_exon, however, $match is only returned 10% of the time. Not sure why."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 1, "creation_date": 1479762972, "post_id": 40729443, "comment_id": 68686342, "body": "@user3781528: That&#39;s a guess. There&#39;s no way to tell for sure because for some reason you won&#39;t show us your data."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1479765330, "post_id": 40729443, "comment_id": 68687571, "body": "i&#39;ve tried chop but it&#39;s not returning all of the matches. I&#39;ve updated the code and included example of matrixfile. thanks"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 1, "creation_date": 1479770936, "post_id": 40729443, "comment_id": 68689641, "body": "@user3781528: We are never going to fix this if you just keep adding tiny bits of information. Please put your <i>entire</i> program into your question, and upload your data files to Dropbox or Google Drive or similar and post links to them. That way we will be able to reproduce the problem ourselves and give you a rapid solution."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1479762586, "creation_date": 1479762586, "answer_id": 40729443, "question_id": 40727616, "link": "https://stackoverflow.com/questions/40727616/returning-matched-element-from-array/40729443#40729443", "title": "returning matched element from array", "body": "\n\n<h2><em>There is something wrong with part of the program that you haven't shown</em></h2>\n\n<p>Here is a short program that uses exactly the <code>@amplicon_exon</code> values that you have given as examples, and dumps the result of the <code>first</code> call for every value of <code>$f_cmp</code>. It works</p>\n\n<p>Perhaps this will shake you from your insistence that you have done nothing wrong?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'first';\nuse Data::Dump;\n\n# Using sample @amplicon_exon lines\n\nmy @amplicon_exon = qw/\n    ON_MAP2K1_1:2:MAP2K1\n    OCP1_MAP2K1_1:3:MAP2K1\n    OCP1_MAP2K1_2:6:MAP2K1\n/;\n\n# Using $f_amp examples:\n\nfor my $f_amp (qw/\n    ON_MAP2K1_1\n    OCP1_MAP2K1_1\n    OCP1_MAP2K1_2 / ) {\n\n    my $match = first { /$f_amp/ } @amplicon_exon;\n\n    dd $match;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"ON_MAP2K1_1:2:MAP2K1\"\n\"OCP1_MAP2K1_1:3:MAP2K1\"\n\"OCP1_MAP2K1_2:6:MAP2K1\"\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<p><em>I'd risk \u00a35 that your <code>@matrix_values</code> contains newlines</em></p>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1479764530, "creation_date": 1479755470, "last_edit_date": 1479764530, "question_id": 40727616, "link": "https://stackoverflow.com/questions/40727616/returning-matched-element-from-array", "title": "returning matched element from array", "body": "<p>I would like to return an element of an array if it matches a pattern represented by a scalar. I would like to avoid looping so I've tried the following method:</p>\n\n<p>use List::Util 'first';<br>\nmy $match = first { /$pattern/ } @list_of_strings;</p>\n\n<p>$match variable is not returning a value, even though, I know it matches exactly one element in array.  What am I doing wrong?</p>\n\n<pre><code>my @amplicon_exon = ();\n        open(TXT5, \"$amplicon_exon\");\n            while (&lt;TXT5&gt;){\n                my $file_line = $_;\n                $file_line =~ s/\\s+\\z//g;\n                push (@amplicon_exon, $file_line);   \n            }\n        close(TXT5);\n\nforeach (@amplicon_exon){\n    chop($_);\n}\n\nmy @matrix_lines = ();\n        open(TXT5, \"$matrixfile\");\n            while (&lt;TXT5&gt;){\n                my $matrixlineentry = $_;\n                $matrixlineentry =~ s/\\s+\\z//g;\n                push (@matrix_lines, $matrixlineentry);   \n            }\n        close(TXT5);\n\n        foreach (@matrix_lines){\n    chop($_);\n}\n   my @failedamplicons = ();     \nfor my $vcf_file ( @vcf_files ) {\n\n        $vcf_file =~ m|([^/]+)_annotated.vcf$| or die \"Can't extract Sample ID\";\n         my $sample_id = $1;\n\n         my @myuniquearray = ();\n         my @amplicon_array = ();\n\n        my $entire_matrix_header = $matrix_lines[0]; print \"The matrix header is \".$entire_matrix_header.\"\\n\";\n        $entire_matrix_header =~ s/\\s+\\z//g;\n        my @matrix_headers = split (/\\t/, $entire_matrix_header);\n        push @matrix_headers, \"endoffile\";\n        my $matrix_column_number = \"\";\n        for (0..@matrix_headers){\n                my $onco_matrix_header = $matrix_headers[$_];\n                $onco_matrix_header =~ s/\\s+\\z//g;\n\n                if ((length $onco_matrix_header &gt; 0) &amp;&amp; (index($sample_id, $onco_matrix_header) != -1)) {\n                        $matrix_column_number = $_;\n                        print \"The matrixcolumnnumber is \".$matrix_column_number.\"\\n\";\n                }\n        }\n\n        #print \" The matrixcolumnnumber is \".$matrixcolumnnumber.\"\\n\";        \n\n\n        for (1..@matrix_lines-1){\n                my @matrix_values = split (/\\t/, $matrix_lines[$_]);\n                if ( ($matrix_values[$matrix_column_number]&lt;201) &amp;&amp; ($matrix_values[$matrix_column_number]&gt;-1) ) {\n\n                        my $f_amp = $matrix_values[1];#if ( grep( /^$value$/, @array ) )\n                        print Dumper($f_amp, \\@amplicon_exon);\n                        my $match = first { /$f_amp/ } @amplicon_exon; print \"#############the match is $match\\n\";\n                        my @parts = split /:/, $match;\n                        my $exon_amp = $parts[1]; my $gene_res = $parts[2];\n                        print \"less than 200 exists\";\n\n                         my @total_amps = ($run_folder, $sample_id, $gene_res, $exon_amp, $matrix_values[$matrix_column_number], $f_amp);\n                         my $failedamplicon = join \"\\t\", @total_amps;\n\n\n                        push (@failedamplicons, $failedamplicon);\n                }\n\n        }\n\n        for (0..@failedamplicons-1){\n                my $failedamplicons = $failedamplicons[$_];\n                open (MYFILE, \"&gt;&gt;$failed_amps_output\");##opens files with header and adds the rest of the lines.\n                print MYFILE $failedamplicons.\"\\n\";\n                close (MYFILE);\n                }\n\n        }\n</code></pre>\n\n<p>Sample data:</p>\n\n<p>@amplicon_exon lines:</p>\n\n<pre><code>ON_MAP2K1_1:2:MAP2K1\nOCP1_MAP2K1_1:3:MAP2K1\nOCP1_MAP2K1_2:6:MAP2K1\n</code></pre>\n\n<p>$f_amp examples:</p>\n\n<pre><code>ON_MAP2K1_1\nOCP1_MAP2K1_1\nOCP1_MAP2K1_2\n</code></pre>\n\n<p>matrixfile</p>\n\n<pre><code>Gene   Target         barcode-1 barcode-2 barcode-3 barcode-4 barcode-5\nMOTOR  Focus_MTOR_1    22        786       123       456       456\nJAK1   OCP1_JAK1_2     345       45         342       23       432\nALT    OCP1_ALK_3      43        456        23        3         56\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1479750498, "post_id": 40726230, "comment_id": 68679851, "body": "<code>length($culm_length) = $_;</code>? That doens&#39;t even compile!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479752876, "post_id": 40726230, "comment_id": 68681065, "body": "Trivia: The 4 lvalue ops: <code>keys</code>, <code>substr</code>, <code>vec</code> and <code>$#a</code>."}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479753292, "post_id": 40726321, "comment_id": 68681287, "body": "Shouldn&#39;t that  be:$length += length($_) if /^([AGCT])+\\w+$/;  So that you trim off the trailing white space in the saved field.."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479753416, "post_id": 40726321, "comment_id": 68681339, "body": "@BenPen, No, they ask for the cumulative lengths of the <i>lines</i>. (I don&#39;t know why they keep saying &quot;cumulative lengths&quot; instead of &quot;cumulative length&quot;, though.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479753439, "post_id": 40726321, "comment_id": 68681354, "body": "@BenPen, <code>\\w+</code> doesn&#39;t match white space. You&#39;d use <code>&#47;^([AGCT]+\\w+)\\s*$&#47;</code> to allow ignorable trailing whitespace (or you&#39;d first &quot;chomp&quot; using something like <code>s&#47;\\s+\\z&#47;&#47;;</code>)."}, {"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479753535, "post_id": 40726321, "comment_id": 68681397, "body": "Ah good point, and you must, since it&#39;s being read from a file and will have EOL."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 1, "creation_date": 1479753565, "post_id": 40726321, "comment_id": 68681409, "body": "@BenPen, No, you need not. <code>$</code> is equivalent to <code>(?=\\n\\z)|\\z</code> (when <code>&#47;m</code> isn&#39;t used)."}, {"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479753692, "post_id": 40726321, "comment_id": 68681473, "body": "Wow.  Learned something today, That&#39;s an interesting alternative to chomp/chop."}, {"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479753813, "post_id": 40726321, "comment_id": 68681530, "body": "His other question has a larger problem statement.  It&#39;s ok.  if you use $1 it&#39;ll work.  Just not a pattern of operation that I&#39;m used to, so I have to soak it in.  Sorry."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479753871, "post_id": 40726321, "comment_id": 68681557, "body": "I usually <code>chomp;</code> or <code>s&#47;\\s+\\z&#47;&#47;;</code> first as well."}, {"owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "edited": false, "score": 0, "creation_date": 1479754655, "post_id": 40726321, "comment_id": 68681904, "body": "Thanks for the reply. I know it doesn&#39;t compile. I&#39;m trying to figure out the correct syntax and posted here for help. (Is this why my question is currently sitting on -5?) \u2013"}, {"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 3, "creation_date": 1479755544, "post_id": 40726321, "comment_id": 68682307, "body": "The intent of all questions here is to be valuable additions to the catalog of good questions to ask about programming.   Clean up for clarity and you may get a few back.  for instance.  culm_length is not cumulative.  It&#39;s better $line_length.  /yxza/ in a scalar context does not return a length as well..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479765307, "post_id": 40726321, "comment_id": 68687560, "body": "@BigPen: If you don&#39;t see it then please take it in faith that commenting here on any given programming language is a very bad idea. It&#39;s a huge stretch to read <i>tricky</i> as <i>interesting</i>, and there are dozens of languages that &quot;look like C but aren&#39;t&quot;. We have &#199;#, Java, Go, JavaScript, PHP, R etc. and I believe the similarities are much more interesting and useful than the differences. I think you shouldn&#39;t impose your viewpoint on <i>that C programmer</i>, but either way Stack Overflow is not the forum to discuss this. This dialogue is well off-topic, and will probably be deleted before long."}, {"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479766551, "post_id": 40726321, "comment_id": 68688079, "body": "(The thread did already disappear, point taken, perhaps our culture differences amplified it..  Tricky is not as negative in the US, I think...)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479772007, "post_id": 40726321, "comment_id": 68689982, "body": "@BenPen: You&#39;re very out of touch with your native language! Take a look a <a href=\"http://www.merriam-webster.com/dictionary/tricky\" rel=\"nofollow noreferrer\">Webster&#39;s definition</a>"}, {"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479825208, "post_id": 40726321, "comment_id": 68714664, "body": "@Borodin Hmm, perhaps.  I may just never use the negative bits.  The meaning that I usually attribute to tricky is this: If you are good, you know your stuff, you are skillful.  In that definition there&#39;s &quot;requiring skill&quot; which is what I mean.  In many programming languages there are things where you have to know your stuff and use the features that are unique to the language, not the features common to all languages;  Cases where the implications of a parsing or library functionality are not immediately obvious, but skilled practitioners of the language commonly use them effectively."}, {"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479825413, "post_id": 40726321, "comment_id": 68714821, "body": "To be a good programmer, skill is definitely required.  Using any programming language to it&#39;s full potential is not easy."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1479753845, "last_edit_date": 1479753845, "creation_date": 1479750536, "answer_id": 40726321, "question_id": 40726230, "link": "https://stackoverflow.com/questions/40726230/how-do-i-store-culmultive-length-of-strings-into-an-array-with-perl/40726321#40726321", "title": "How do I store culmultive length of strings into an array with Perl", "body": "<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy $length = 0;\nwhile (&lt;&gt;) {\n   $length += length($1) if /^([AGCT]\\w+)$/;\n}\n\nmy @length = $length;  # But why would you want to do this?!\n\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 361, "user_id": 2129481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525348ee13623bc031e5e336d465a782?s=128&d=identicon&r=PG", "display_name": "BenPen", "link": "https://stackoverflow.com/users/2129481/benpen"}, "edited": false, "score": 0, "creation_date": 1479754862, "post_id": 40727193, "comment_id": 68682002, "body": "This is a good interpretation, given an index or query based on absolution position of well known locations."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1479753919, "last_edit_date": 1495542287, "creation_date": 1479753600, "answer_id": 40727193, "question_id": 40726230, "link": "https://stackoverflow.com/questions/40726230/how-do-i-store-culmultive-length-of-strings-into-an-array-with-perl/40727193#40727193", "title": "How do I store culmultive length of strings into an array with Perl", "body": "<p>With reference to your previous question <a href=\"https://stackoverflow.com/questions/40723596/how-do-i-read-strings-into-a-hash-in-perl\"><em>How do I read strings into a hash in Perl</em></a> which was put on hold, I think perhaps you want a <em>running total</em> of the lengths of the lines</p>\n\n<p>I would write it this way. It keeps the running total in <code>$total</code> and pushes its value onto the <code>@lengths</code> array every time it changes</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy ( $input ) = @ARGV;\n\nopen my $fh, '&lt;', $input or die qq{unable to open \"$input\" for input: $!};\n\nmy @lengths;\nmy $total = 0;\n\nwhile ( &lt;$fh&gt; ) {\n    push @lengths, $total += length $1 if /^([ACGT]+)/;\n}\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 40727193, "answer_count": 2, "score": -4, "last_activity_date": 1479753919, "creation_date": 1479750215, "question_id": 40726230, "link": "https://stackoverflow.com/questions/40726230/how-do-i-store-culmultive-length-of-strings-into-an-array-with-perl", "title": "How do I store culmultive length of strings into an array with Perl", "body": "<p>I have a file which has a series of lines that are made up of A's, C's, G's and T's. I want to find the length of those lines, make a list of the culmultive lengths (adding the lengths together sequentially), and putting that into an array. So far I have:</p>\n\n<pre><code>#! /usr/bin/perl -w\nuse strict;\n\nmy $input = $ARGV[0];\nmy %idSeq;\nmy (@ID, @Seq);\n\nopen (my $INPUT, \"&lt;$input\") or die \"unable to open $input\";\n\nwhile (&lt;$INPUT&gt;) {\n    if (my $culm_length = /^([AGCT]\\w+)\\n$/) {\n    length($culm_length) = $_;  \n    push (@Seq, $1);\n\n    }    \n}\nbla bla bla....\n</code></pre>\n\n<p>So far I think what I have written gives me an array of the length of individual lines. I want the culmultive lengths, any ideas?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 11, "last_activity_date": 1479742131, "creation_date": 1479742131, "answer_id": 40723714, "question_id": 40723636, "link": "https://stackoverflow.com/questions/40723636/perl-how-to-pull-out-the-desired-string-using-the-starting-character-but-needs/40723714#40723714", "title": "Perl: How to pull out the desired string using the starting character but needs to include them as well?", "body": "<p>Use <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookahead</a>:</p>\n\n<pre><code>my $str = 'Chase_^%798(987%55,.#*&amp;^*&amp;Chase_$&amp;^**&amp;(()%%hjjlhh';\nmy @list = split(/(?=Chase_)/, $str);\nsay Dumper\\@list;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          'Chase_^%798(987%55,.#*&amp;^*&amp;',\n          'Chase_$&amp;^**&amp;(()%%hjjlhh'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1479743218, "creation_date": 1479743218, "answer_id": 40724066, "question_id": 40723636, "link": "https://stackoverflow.com/questions/40723636/perl-how-to-pull-out-the-desired-string-using-the-starting-character-but-needs/40724066#40724066", "title": "Perl: How to pull out the desired string using the starting character but needs to include them as well?", "body": "<p>If you use grouping withing split's regex, you don't lose (single \"o\") it. Also, if you split on a string literal, not a pattern, there's no need to extract it:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $word = 'Chase_^%798(987%55,.#*&amp;^*&amp;Chase_$&amp;^**&amp;(()%%hjjlhh';\n\nmy @parts1 = split /(Chase_)/, $word;\nfor (my $i = 1; $i &lt; $#parts1; $i += 2) {\n    print @parts1[ $i, $i + 1 ], \"\\n\";\n}\n\nprint \"--------\\n\";\n\nmy @parts2 = split /Chase_/, $word;\nprint 'Chase_', $_, \"\\n\" for @parts2[ 1 .. $#parts2 ];\n</code></pre>\n"}], "owner": {"reputation": 991, "user_id": 2018343, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/u5fpE.jpg?s=128&g=1", "display_name": "Dinesh Ravi", "link": "https://stackoverflow.com/users/2018343/dinesh-ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 40723714, "answer_count": 2, "score": 2, "last_activity_date": 1479743501, "creation_date": 1479741894, "last_edit_date": 1479743501, "question_id": 40723636, "link": "https://stackoverflow.com/questions/40723636/perl-how-to-pull-out-the-desired-string-using-the-starting-character-but-needs", "title": "Perl: How to pull out the desired string using the starting character but needs to include them as well?", "body": "<p>I have this string </p>\n\n<pre><code>my $word = \"Chase_^%798(987%55,.#*&amp;^*&amp;Chase_$&amp;^**&amp;(()%%hjjlhh\";\n</code></pre>\n\n<p>Desired output is </p>\n\n<pre>Chase_^%798(987%55,.#*&^*&\nChase_$&^**&(()%%hjjlhh</pre>\n\n<p>The string <code>\"Chase_\"</code> is the only clue using which I should separate them. Using split I lose the string <code>\"Chase_\"</code>. Then I should concatenate them. I don't have the slightest idea of how to split it but also the string <code>\"Chase_\"</code> should be present.`</p>\n"}, {"tags": ["perl", "bioinformatics"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 7, "creation_date": 1479741932, "post_id": 40723596, "comment_id": 68674307, "body": "I think you lost a large part of your code when pasting it into the question. Please revise it. This is not even close to compiling."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479752773, "post_id": 40723596, "comment_id": 68681020, "body": "@simbabque Given the history of the questioner I don&#39;t think we will get any more information. He accepted only one of a dozen given answers and doesn&#39;t respond to comments."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1479752867, "post_id": 40723596, "comment_id": 68681058, "body": "@PerlDuck I know. But we can&#39;t do anything about that. You probably were not around back then, but I remember there was a time when it showed the questions to accepted answers ratio somewhere (maybe the profile), and we reminded people to please accept answers first before asking new questions."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1479748042, "creation_date": 1479748042, "answer_id": 40725629, "question_id": 40723596, "link": "https://stackoverflow.com/questions/40723596/how-do-i-read-strings-into-a-hash-in-perl/40725629#40725629", "title": "How do I read strings into a hash in Perl", "body": "<p>Not completely clear on what you want; maybe this:</p>\n\n<pre><code>my $seq;\nmy %idSeq;\nwhile ( my $line = &lt;$INPUT&gt; ) {\n    if ( my ($name) = $line =~ /^&gt;(.*)/ ) {\n        $idSeq{$name} = length $seq || 0;\n    }\n    else {\n        chomp $line;\n        $seq .= $line;\n    }\n}\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>$seq = 'ACGTACGTACGTACCCCGGCCCCTAAAAAAAAAAAT';\n%idSeq = (\n      'Mary' =&gt; 0,\n      'Jane' =&gt; 14,\n      'Arthur' =&gt; 25,\n);\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1479752212, "accepted_answer_id": 40725629, "answer_count": 1, "score": -3, "last_activity_date": 1479748042, "creation_date": 1479741785, "question_id": 40723596, "link": "https://stackoverflow.com/questions/40723596/how-do-i-read-strings-into-a-hash-in-perl", "closed_reason": "Not suitable for this site", "title": "How do I read strings into a hash in Perl", "body": "<p>I have a file with a series of random A's, G's, C's and T's in them that look like this:</p>\n\n<pre><code>&gt;Mary\nACGTACGTACGTAC\n&gt;Jane\nCCCGGCCCCTA\n&gt;Arthur\nAAAAAAAAAAT\n</code></pre>\n\n<p>I took those letters and concatinated them to end up with <code>ACGTACGTACGTACCCCGGCCCCTAAAAAAAAAAT</code>. I now have a series of positions within that concatenated sequence that are of interest to me, and I want to find the associated Names that match with those positions (coordinates). I'm using the Perl function length to calculate the legnth of each sequence, and then associate the culmulative length with the name in a hash.\nSo far I have:</p>\n\n<pre><code>#! /usr/bin/perl -w\nuse strict;\n\nmy $seq_input = $ARGV[0]; \nmy $coord_input = $ARGV[1]; \nmy %idSeq; #Stores sequence and associated ID's.\n\nopen (my $INPUT, \"&lt;$seq_input\") or die \"unable to open $seq_input\";\nopen (my $COORD, \"&lt;$coord_input\") or die \"unable to open $fcoord_input\";\n\nwhile (&lt;$INPUT&gt;) {\n    if ($_ = /^[AGCT/) {\n    $idSeq{$_\n\nmy $id = ( /^[&gt;]/) \n\n#put information into a hash\n#loop through hash looking for coordinates that are lower than the culmulative length\n\nforeach $id\n $totallength = $totallength + length($seq)\n $lengthId{$totalLength} = $id\nforeach $position\n foreach $length\n  if ($length &gt;= $position) { print; last }\n\nclose $fasta_input;\nclose $coord_input;\nprint \"Done!\\n\";\n</code></pre>\n\n<p>So far I'm having trouble reading the file into a hash. Also would I need an array to print the hash?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 5, "creation_date": 1479739235, "post_id": 40722724, "comment_id": 68672412, "body": "Why not use <code>split</code>?  <code>($fragment1, $fragment2) = split(&#47;:&#47;, $string1, 2);</code>"}, {"owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 1, "creation_date": 1479739429, "post_id": 40722724, "comment_id": 68672556, "body": "@Mr.Llama, thanks a lot for the suggestion I was not aware about that this method is available if you post the complete answer then I am going to accept it, my only condition is to split my original split in the two desired parts,"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479751993, "post_id": 40722724, "comment_id": 68680643, "body": "The issue seems to be more that you have spent no time learning the Perl language. You don&#39;t seem to be stuck with a specific problem, and there is nothing here that a quick skim of Perl basics wouldn&#39;t solve."}], "answers": [{"comments": [{"owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479739558, "post_id": 40722820, "comment_id": 68672665, "body": "@ thanks a lot this is very useful, however how can I obtain the first part since I want  the two parts in distinct variables, thanks for the support."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479739724, "post_id": 40722820, "comment_id": 68672789, "body": "@neo33 I updated the answer to include an explanation"}, {"owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479740327, "post_id": 40722820, "comment_id": 68673229, "body": "thanks a lot for the support, Perl is a little strange."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 1, "creation_date": 1479740370, "post_id": 40722820, "comment_id": 68673262, "body": "@neo why do you think it&#39;s strange? There is nothing strange here. A lot of programming languages have these built-ins."}, {"owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479740458, "post_id": 40722820, "comment_id": 68673319, "body": "I just have one big question, I still dont undesrtand why in so many perl scripts the people use this word &quot;my&quot;  or another before to use a variable, could you please explain me this part? please"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479740716, "post_id": 40722820, "comment_id": 68673493, "body": "@neo33 In short, because you should have <code>use strict</code> and <code>use warnings</code> in all your code. If you don&#39;t <i>declare</i> your vars with <code>my</code>, your program will then not work. For a long explanation please see <a href=\"http://stackoverflow.com/q/8023959/1331451\">stackoverflow.com/q/8023959/1331451</a>, <a href=\"https://perlmaven.com/always-use-strict-and-use-warnings\" rel=\"nofollow noreferrer\">perlmaven.com/always-use-strict-and-use-warnings</a> and also <a href=\"http://www.perlmonks.org/?node_id=87956\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=87956</a>. Note the article in the last link was posted in 2001."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479740720, "post_id": 40722820, "comment_id": 68673502, "body": "@neo If you are learning Perl from a resource that doesn&#39;t inlcude <code>strict</code>, please stop and get a better book or tutorial. We have lots of good ones linked <a href=\"http://stackoverflow.com/tags/perl/info\">in the tag wiki</a>."}, {"owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 1, "creation_date": 1479740795, "post_id": 40722820, "comment_id": 68673552, "body": "thanks a lot for the suggestions and useful information I will read all, thanks for the support,"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479740914, "post_id": 40722820, "comment_id": 68673632, "body": "@neo In general Perl is very flexible and forgiving. But it doesn&#39;t have to be. That means you can do a lot of things in a very dirty way if you just need to get something done very quickly on the command line. It&#39;s great to write throw-away code. But if you want to write maintainable code for production purposes, you need to make it readable. That&#39;s why we have <code>strict</code> and <code>warnings</code>. We all include them in our code examples to make sure people use them even if they started learning from an old book. It&#39;s great you asked this. I&#39;m happy it worked and you&#39;re going to learn something! :)"}, {"owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479741287, "post_id": 40722820, "comment_id": 68673897, "body": "I agree for production things I prefer to use bash and python however this time I need to extract information from an script that generates reports, it is very interesting perl but I am starting learning it, If I implement something in this language I will consider to use strict and warnings to avoid inconsistencies, Thanks a lot for the advises,"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1479739927, "last_edit_date": 1495542271, "creation_date": 1479739462, "answer_id": 40722820, "question_id": 40722724, "link": "https://stackoverflow.com/questions/40722724/how-to-get-the-following-substrings-using-perl/40722820#40722820", "title": "How to get the following substrings using perl?", "body": "<p><a href=\"http://perldoc.perl.org/functions/index.html\" rel=\"nofollow noreferrer\">The <code>index</code> builtin</a> returns the first position of a string within a string. For your example, <code>index($string1, ':')</code> is 2. If you want your <code>substr</code> to start after the <code>:</code> just add one so you get three.</p>\n\n<pre><code>my $fragment2 =  substr $string1, index($string1, ':') + 1;\n</code></pre>\n\n<p>To get the stuff on the left of the <code>:</code>, you need to take <code>substr</code> from the beginning of the string to the first occurrence of <code>:</code>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $string1 = \"ZZ:DPHTEST1ZZ\";\n\nmy $left = substr $string1, 0, index( $string1, ':' );\nmy $right = substr $string1, index( $string1, ':' ) + 1;\n\nsay $left;\nsay $right;\n</code></pre>\n\n<hr>\n\n<p>The above approach is useful <a href=\"http://dev.mysql.com/doc/refman/5.7/en/string-functions.html\" rel=\"nofollow noreferrer\">in SQL</a><sup>1</sup> or other languages that do not include <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a>. However, Perl does include <code>split</code>, so <code>my ($fragment1, $fragment2) = split /:/, $string1</code> as <a href=\"https://stackoverflow.com/questions/40722724/how-to-get-the-following-substrings-using-perl/40722820#comment68672412_40722724\">suggested by Mr. Llama</a> is the more sensible option. It's way more readable.</p>\n\n<hr>\n\n<p><sup>1) I linked a MySQL documentation here. Note the absence of <code>split</code> and a comment somewhere at the bottom saying that there is no such function including explanations of how to do <code>substr</code>/<code>index</code> instead.</sup></p>\n"}, {"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1479758861, "post_id": 40725224, "comment_id": 68684020, "body": "When doing a match, it is sometimes better to use a inverse character set: <code>&#47;^([^:]+):(.*)&#47;</code>"}], "tags": [], "owner": {"reputation": 1349, "user_id": 3623150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3T4cu.jpg?s=128&g=1", "display_name": "bob_saginowski", "link": "https://stackoverflow.com/users/3623150/bob-saginowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1479746816, "creation_date": 1479746816, "answer_id": 40725224, "question_id": 40722724, "link": "https://stackoverflow.com/questions/40722724/how-to-get-the-following-substrings-using-perl/40725224#40725224", "title": "How to get the following substrings using perl?", "body": "<p>You can try the following </p>\n\n<pre><code>my @splitted = $string1 =~ /([A-Z0-9]*):([A-Z0-9]*)/g;\nprint \"@splitted\";\n</code></pre>\n\n<p>Or if you want to be more specific with this you will match \"ZZ:DPHTEST1ZZ\" but you won't match \"ZZX:DPHTEST1ZZ\":</p>\n\n<pre><code>my @splitted = $string1 =~ /([A-Z0-9]{2}):([A-Z0-9]*)/g;\n</code></pre>\n"}], "owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 40722820, "answer_count": 2, "score": 0, "last_activity_date": 1479746816, "creation_date": 1479739163, "question_id": 40722724, "link": "https://stackoverflow.com/questions/40722724/how-to-get-the-following-substrings-using-perl", "title": "How to get the following substrings using perl?", "body": "<p>Hello I am working with a perl script and i have the following variable:</p>\n\n<pre><code>   $string1=\"ZZ:DPHTEST1ZZ\";\n</code></pre>\n\n<p>I would like to build two additional variables by getting a substring from $string1 using \":\" as separator, I would like to add two prints in my script with the following outputs:</p>\n\n<pre><code>print $fragment1;\nprint $fragment2;  \n</code></pre>\n\n<p>to get the following output:</p>\n\n<pre><code>ZZ\nDPHTEST1ZZ\n</code></pre>\n\n<p>I tried with:</p>\n\n<pre><code>$fragment1 =  substr $string1, index($string1, ':');\nprint $fragment1;\n</code></pre>\n\n<p>but I am getting: </p>\n\n<pre><code>:DPHTEST1ZZ\n</code></pre>\n\n<p>therefore I would like to appreciate to get this strings, by using the separator, i was researching a little and I just found methods of perl that use the position, thanks for the support, </p>\n"}, {"tags": ["perl", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1479730832, "last_edit_date": 1479730832, "creation_date": 1479730381, "answer_id": 40719905, "question_id": 40719628, "link": "https://stackoverflow.com/questions/40719628/perl-bindings-for-using-selenium-server-3-0-1/40719905#40719905", "title": "Perl bindings for using Selenium Server 3.0.1", "body": "<blockquote>\n  <p>WWW::Selenium...Does anyone know if there is a later version than 1.36</p>\n</blockquote>\n\n<p>No, the latest version is 1.36</p>\n\n<blockquote>\n  <p>Selenium recommends <a href=\"https://www.github.com/gempesaw/Selenium-Remote-Driver\" rel=\"nofollow noreferrer\">this</a> perl binding</p>\n</blockquote>\n\n<p>Yes you should be using <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"nofollow noreferrer\">Selenium::Remote::Driver</a>.</p>\n\n<blockquote>\n  <p>Does anyone know if any repository provides this module for windows (Active State Perl) free of charge?</p>\n</blockquote>\n\n<p>Install the latest version of ActivePerl Community Edition (which is <strong>Perl 5.24.0</strong>). ActiveState does not provide free support for older versions of Perl. Therefore if you use the latest community edition then you'll be fine. </p>\n\n<hr>\n\n<p>You can see at <a href=\"http://www.activestate.com/activeperl/downloads\" rel=\"nofollow noreferrer\">http://www.activestate.com/activeperl/downloads</a> that for Perl version 5.20 and earlier you'll have to purchase Business Edition.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9IBKT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9IBKT.png\" alt=\"\"></a></p>\n\n<hr>\n\n<blockquote>\n  <p>I have checked bribes.org and latrouchelle neither of which seem to\n  provide it.</p>\n</blockquote>\n\n<p>You can always use CPAN to install the module.</p>\n\n<pre><code>$ cpan Selenium::Remote::Driver\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ perl -MCPAN -eshell\n&gt; install Selenium::Remote::Driver\n</code></pre>\n\n<p>You can also consider using <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\"><strong>Strawberry Perl</strong>: The Perl for MS Windows, free of charge!</a></p>\n"}], "owner": {"reputation": 11, "user_id": 7178096, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gPfApP_rNxw/AAAAAAAAAAI/AAAAAAAAAA0/w2wm4E3yegs/photo.jpg?sz=128", "display_name": "Tobias Ednersson", "link": "https://stackoverflow.com/users/7178096/tobias-ednersson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479730832, "creation_date": 1479729465, "question_id": 40719628, "link": "https://stackoverflow.com/questions/40719628/perl-bindings-for-using-selenium-server-3-0-1", "title": "Perl bindings for using Selenium Server 3.0.1", "body": "<p>It seems that the perl module WWWW::Selenium does not work properly with seleniumserver standalone 3.0.1 Does anyone know if there is a later version than 1.36 </p>\n\n<p>It seems that Selenium recomends this perl binding:\n<a href=\"https://www.github.com/gempesaw/Selenium-Remote-Driver\" rel=\"nofollow noreferrer\">https://www.github.com/gempesaw/Selenium-Remote-Driver</a>. Which I have problems downloading. Does anyone know if any repository provides this module for windows (Active State Perl) free of charge? ActiveState does provide it, but then I would need to pay for a subscription. Are there any alternatives?\nI have checked  bribes.org and latrouchelle neither of which seem to provide it.</p>\n\n<p>I very much applogize if my question is lacking in any way, this is the first one I have written in this forum.</p>\n"}, {"tags": ["list", "perl", "tcl", "time-complexity"], "comments": [{"owner": {"reputation": 610, "user_id": 3052190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90cb55d2ace328a3b45010911151bf90?s=128&d=identicon&r=PG", "display_name": "b2vincent", "link": "https://stackoverflow.com/users/3052190/b2vincent"}, "edited": false, "score": 1, "creation_date": 1479723751, "post_id": 40717074, "comment_id": 68662528, "body": "There is a <a href=\"http://wiki.tcl.tk/8177\" rel=\"nofollow noreferrer\">page about lshift</a> in the tclers wiki.  Compared to your version, the use of <code>lreplace</code> is said better in performance,  according to <a href=\"http://wiki.tcl.tk/918\" rel=\"nofollow noreferrer\">Tcl gems page</a>."}, {"owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "reply_to_user": {"reputation": 610, "user_id": 3052190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90cb55d2ace328a3b45010911151bf90?s=128&d=identicon&r=PG", "display_name": "b2vincent", "link": "https://stackoverflow.com/users/3052190/b2vincent"}, "edited": false, "score": 1, "creation_date": 1479726830, "post_id": 40717074, "comment_id": 68664393, "body": "Thanks. This is the closest I got for what I need."}, {"owner": {"reputation": 610, "user_id": 3052190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90cb55d2ace328a3b45010911151bf90?s=128&d=identicon&r=PG", "display_name": "b2vincent", "link": "https://stackoverflow.com/users/3052190/b2vincent"}, "edited": false, "score": 0, "creation_date": 1479736778, "post_id": 40717074, "comment_id": 68670744, "body": "After a look into meta Stack overflow, and because you find this was the closest for what you need, and despite other quality answers, I turned my comment into an answer."}], "answers": [{"tags": [], "owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "is_accepted": false, "score": 2, "last_activity_date": 1479726561, "creation_date": 1479726561, "answer_id": 40718714, "question_id": 40717074, "link": "https://stackoverflow.com/questions/40717074/is-there-a-tcl-equivalent-of-perls-shift/40718714#40718714", "title": "Is there a Tcl equivalent of Perl&#39;s shift?", "body": "<p>This code clocks in right between your code and the <code>lreplace</code> code abendhurt mentioned. The main advantage of this is that it is a little more compact and readable than both.</p>\n\n<pre><code>proc shift list_name {\n    upvar 1 $list_name listy\n    set listy [lassign $listy ret]\n    return $ret\n}\n</code></pre>\n\n<p>Documentation:\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/lassign.htm\" rel=\"nofollow noreferrer\" title=\"Assign list elements to variables\">lassign</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/proc.htm\" rel=\"nofollow noreferrer\" title=\"Create a Tcl procedure\">proc</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/return.htm\" rel=\"nofollow noreferrer\" title=\"Return from a procedure, or set return code of a script\">return</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/set.htm\" rel=\"nofollow noreferrer\" title=\"Read and write variables\">set</a>,\n<a href=\"http://www.tcl.tk/man/tcl/TclCmd/upvar.htm\" rel=\"nofollow noreferrer\" title=\"Create link to variable in a different stack frame\">upvar</a></p>\n"}, {"comments": [{"owner": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "edited": false, "score": 1, "creation_date": 1479732166, "post_id": 40719530, "comment_id": 68667610, "body": "Great minds think alike? :) This answer doesn\u2019t add very much to mine."}, {"owner": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "reply_to_user": {"reputation": 12685, "user_id": 488796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bec8145ec10828cf4988b6b2005bafa?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Lewerin", "link": "https://stackoverflow.com/users/488796/peter-lewerin"}, "edited": false, "score": 0, "creation_date": 1479732353, "post_id": 40719530, "comment_id": 68667736, "body": "Yeah, true. Maybe I could add some kind of unset magic (no shared object), but well."}], "tags": [], "owner": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "is_accepted": false, "score": 2, "last_activity_date": 1479732418, "last_edit_date": 1479732418, "creation_date": 1479729174, "answer_id": 40719530, "question_id": 40717074, "link": "https://stackoverflow.com/questions/40717074/is-there-a-tcl-equivalent-of-perls-shift/40719530#40719530", "title": "Is there a Tcl equivalent of Perl&#39;s shift?", "body": "<p>Try <code>lassign</code>:</p>\n\n<pre><code>set k {1 2 3 4}\nset k [lassign $k i]\nputs $i; # 1\nputs $k; # 2 3 4\n</code></pre>\n\n<p>For better performance, you can unset the list while manipulating it:</p>\n\n<pre><code>set k [lassign $k[unset k] i]\n</code></pre>\n\n<p>With some upvar magic, you can write your own shift:</p>\n\n<pre><code>proc shift {list} {\n    upvar 1 $list l\n    set l [lassign $l result]\n    return $result\n}\n# Usage:\nset myList {1 2 3 4}\nputs [shift myList]; # 1\nputs $myList; # 2 3 4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 610, "user_id": 3052190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90cb55d2ace328a3b45010911151bf90?s=128&d=identicon&r=PG", "display_name": "b2vincent", "link": "https://stackoverflow.com/users/3052190/b2vincent"}, "is_accepted": true, "score": 2, "last_activity_date": 1479736691, "creation_date": 1479736691, "answer_id": 40721939, "question_id": 40717074, "link": "https://stackoverflow.com/questions/40717074/is-there-a-tcl-equivalent-of-perls-shift/40721939#40721939", "title": "Is there a Tcl equivalent of Perl&#39;s shift?", "body": "<p>(As said in my comment) </p>\n\n<p>There is a <a href=\"http://wiki.tcl.tk/8177\" rel=\"nofollow noreferrer\">page about lshift</a> in the tclers wiki. Compared to your version, the use of lreplace is said better in performance, according to <a href=\"http://wiki.tcl.tk/918\" rel=\"nofollow noreferrer\">Tcl gems</a> page. </p>\n\n<pre><code>proc lshift listVar {\n    upvar 1 $listVar l\n    set r [lindex $l 0]\n    set l [lreplace $l [set l 0] 0]\n    return $r\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "is_accepted": false, "score": 2, "last_activity_date": 1479767477, "creation_date": 1479767477, "answer_id": 40730605, "question_id": 40717074, "link": "https://stackoverflow.com/questions/40717074/is-there-a-tcl-equivalent-of-perls-shift/40730605#40730605", "title": "Is there a Tcl equivalent of Perl&#39;s shift?", "body": "<p>Use <code>struct::list</code>:</p>\n\n<pre><code>package require struct::list\nset li {1 2 3 4}\n::struct::list shift li; # li is now {2 3 4}\n</code></pre>\n"}], "owner": {"reputation": 2689, "user_id": 1134991, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e102cb584a0fba3cd07b0a4d79350ba2?s=128&d=identicon&r=PG", "display_name": "user1134991", "link": "https://stackoverflow.com/users/1134991/user1134991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "accepted_answer_id": 40721939, "answer_count": 4, "score": 3, "last_activity_date": 1479767477, "creation_date": 1479721458, "question_id": 40717074, "link": "https://stackoverflow.com/questions/40717074/is-there-a-tcl-equivalent-of-perls-shift", "title": "Is there a Tcl equivalent of Perl&#39;s shift?", "body": "<p>In Perl/Ruby, one can shift an array (similar to Tcl's list), hence removing the first item in the array, and returning it. Its' runtime is almost constant. I.e., the same for a 2 elements, and 2 million elements.\nIs there something similar to that in Tcl? In a way it is the opposite to Tcl's lappend item. Rather than adding 1 to the top, we remove something from the bottom.\nThe code should look like this:</p>\n\n<pre><code>set k [ list 1 2 3 ]\nputs [ shift k ]\n&gt; 1\nputs [join $k \",\"]\n&gt; 2,3\n</code></pre>\n\n<p>I can do this in a proc, of course:</p>\n\n<pre><code>proc shift {list_name} {\n   upvar $list_name listy\n   set ret [lindex $listy 0]\n   set listy [lrange $listy 1 end ]\n   return $ret\n}\n</code></pre>\n\n<p>I was wondering if there is a better way.</p>\n"}, {"tags": ["perl", "entity"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479722601, "post_id": 40716984, "comment_id": 68661822, "body": "Your expected output is wrong. You&#39;re missing semicolons <code>;</code> and you have an extra comma that&#39;s not in the input."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479723980, "post_id": 40716984, "comment_id": 68662684, "body": "@simbabque: I have updated the question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479751830, "post_id": 40716984, "comment_id": 68680569, "body": "Tip: <code>use open &#39;:encoding(utf8)&#39;; binmode STDOUT, &#39;:utf8&#39;;</code> can be written as <code>use open &#39;:std&#39;, &#39;:encoding(utf8)&#39;;</code> (although that also effects STDIN and STDERR)."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479893650, "post_id": 40722793, "comment_id": 68745966, "body": "@ikegami: Well Said:"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 1, "last_activity_date": 1479752016, "last_edit_date": 1495542722, "creation_date": 1479739360, "answer_id": 40722793, "question_id": 40716984, "link": "https://stackoverflow.com/questions/40716984/fraktur-symbols-into-entities-conversion-using-perl/40722793#40722793", "title": "Fraktur symbols into Entities conversion using perl", "body": "<p><code>use utf8;</code> needs to be added to tell Perl the source code is encoded using UTF-8.</p>\n\n<pre><code>use utf8;                              # Source code is encoded using UTF-8.\nuse open ':std', ':encoding(UTF-8)';   # Terminal expects/provides UTF-8.\n\nmy $input = \"\ud835\udd04, \ud835\udd05 \ud835\udd07, is a symbols of fraktur\";\nmy %fraktursChr = (\"&amp;Afr;\" =&gt; \"\ud835\udd04\", \"&amp;Bfr;\" =&gt; \"\ud835\udd05\", \"&amp;Dfr;\" =&gt; \"\ud835\udd07\",);\nforeach my $key (keys %fraktursChr)\n{\n    $input=~s/\\Q$fraktursChr{$key}\\E/$key/g;\n}\n\nprint $input;\n</code></pre>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/5830574/perlduck\">PerlDuck</a> and <a href=\"https://stackoverflow.com/users/7231/dave-cross\">Dave Cross</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1479752369, "creation_date": 1479752369, "answer_id": 40726841, "question_id": 40716984, "link": "https://stackoverflow.com/questions/40716984/fraktur-symbols-into-entities-conversion-using-perl/40726841#40726841", "title": "Fraktur symbols into Entities conversion using perl", "body": "<p>Not actually an answer, but a suggestion for a performance improvement:</p>\n\n<pre><code>my $fraktursChr_pat = join '|', map quotemeta, keys %fraktursChr;\nmy $fraktursChr_re = qr/($fraktursChr_pat)/;\n\n$input =~ s/$fraktursChr_re/$fraktursChr{$1}/g;\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 40722793, "answer_count": 2, "score": 0, "last_activity_date": 1479752369, "creation_date": 1479721169, "last_edit_date": 1479723956, "question_id": 40716984, "link": "https://stackoverflow.com/questions/40716984/fraktur-symbols-into-entities-conversion-using-perl", "title": "Fraktur symbols into Entities conversion using perl", "body": "<p>I need to convert the Fraktur symbols into the Named entity:</p>\n\n<pre><code>my $input = \"\ud835\udd04, \ud835\udd05, \ud835\udd07 is a symbols of fraktur\";\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>$output = \"&amp;Afr;, &amp;Bfr;, &amp;Dfr; is a symbols of fraktur\";\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>use Win32;\nuse open ':encoding(utf8)';\nbinmode STDOUT, ':utf8';\n\nmy %fraktursChr = (\"&amp;Afr;\" =&gt; \"\ud835\udd04\", \"&amp;Bfr;\" =&gt; \"\ud835\udd05\", \"&amp;Dfr;\" =&gt; \"\ud835\udd07\");\n\nforeach my $key (keys %fraktursChr)\n{\n    print \"Key: $key--&gt;$fraktursChr{$key}\\n \";\n    $input=~s/\\Q$fraktursChr{$key}\\E/$key/g;\n}\n</code></pre>\n\n<p>However I couldn't able to replace the symbols using utf8: I would appreciate if someone could help on this one.</p>\n"}, {"tags": ["perl", "goto", "function-call"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 523, "user_id": 5973612, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gBZpu.png?s=128&g=1", "display_name": "Ganapathy", "link": "https://stackoverflow.com/users/5973612/ganapathy"}, "edited": false, "score": 0, "creation_date": 1479713804, "post_id": 40714498, "comment_id": 68657332, "body": "@Ganapathy  I added a basic example -- does that help?"}, {"owner": {"reputation": 523, "user_id": 5973612, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gBZpu.png?s=128&g=1", "display_name": "Ganapathy", "link": "https://stackoverflow.com/users/5973612/ganapathy"}, "edited": false, "score": 0, "creation_date": 1479715866, "post_id": 40714498, "comment_id": 68658219, "body": "Thanks for your example, I easily understood from your example"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 523, "user_id": 5973612, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gBZpu.png?s=128&g=1", "display_name": "Ganapathy", "link": "https://stackoverflow.com/users/5973612/ganapathy"}, "edited": false, "score": 0, "creation_date": 1479724648, "post_id": 40714498, "comment_id": 68663109, "body": "@Ganapathy Kindly consider accepting the answer then."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 11, "last_activity_date": 1493791627, "last_edit_date": 1493791627, "creation_date": 1479711641, "answer_id": 40714498, "question_id": 40714465, "link": "https://stackoverflow.com/questions/40714465/what-is-the-difference-between-function-call-and-goto-name-in-perl/40714498#40714498", "title": "What is the difference between function call and goto &amp;NAME in Perl?", "body": "<p>It says in the <a href=\"http://perldoc.perl.org/functions/goto.html\" rel=\"nofollow noreferrer\">goto</a> page</p>\n\n<blockquote>\n  <p>The <code>goto &amp;NAME</code> form is quite different from the other forms of\n              <code>goto</code>. In fact, it isn't a goto in the normal sense at all, and\n              doesn't have the stigma associated with other gotos. </p>\n</blockquote>\n\n<p>Then follows the answer to your question</p>\n\n<blockquote>\n  <p>Instead, it\n              exits the current subroutine (losing any changes set by <code>local()</code>)\n              and immediately calls in its place the named subroutine using the\n              current value of <code>@_</code>. </p>\n</blockquote>\n\n<p>With a normal function call the execution continues on the next line after the function exits.</p>\n\n<p>The rest of that paragraph is well worth reading as well, and answers your second question</p>\n\n<blockquote>\n  <p>This is used by <code>AUTOLOAD</code> subroutines that wish to load another subroutine and then pretend that the other subroutine had been called in the first place (except that any modifications to <code>@_</code> in the current subroutine are propagated to the other subroutine.) After the <code>goto</code>, not even <code>caller</code> will be able to tell that this routine was called first.</p>\n</blockquote>\n\n<hr>\n\n<p>A basic example. With a subroutine <code>deeper</code> defined somewhere, compare</p>\n\n<pre><code>sub func_top {\n    deeper( @_ );  # pass its own arguments\n\n    # The rest of the code here runs after deeper() returns\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>sub func_top {        \n    goto &amp;deeper;  # @_ is passed to it, as it is at this point\n\n    # Control never returns here  \n}\n</code></pre>\n\n<p>At the statement <code>goto &amp;deeper</code> the sub <code>func_top</code> is exited. So after <code>deeper</code> completes, the control returns to after the <code>func_top</code> call.\nIn a sense, <code>func_top</code> is replaced by <code>deeper</code>.</p>\n\n<p>Trying to pass arguments with <code>goto &amp;func</code> results in errors, even just for <code>goto &amp;deeper()</code>. </p>\n"}], "owner": {"reputation": 523, "user_id": 5973612, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/gBZpu.png?s=128&g=1", "display_name": "Ganapathy", "link": "https://stackoverflow.com/users/5973612/ganapathy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "accepted_answer_id": 40714498, "answer_count": 1, "score": 5, "last_activity_date": 1493791627, "creation_date": 1479711453, "last_edit_date": 1592644375, "question_id": 40714465, "link": "https://stackoverflow.com/questions/40714465/what-is-the-difference-between-function-call-and-goto-name-in-perl", "title": "What is the difference between function call and goto &amp;NAME in Perl?", "body": "<p>I'm reading Perl which is quite interesting. But while reading <a href=\"https://www.tutorialspoint.com/perl/perl_goto_statement.htm\" rel=\"noreferrer\">goto from here</a> in Perl I got a doubt.</p>\n<p>I know that goto statement has three types.</p>\n<blockquote>\n<p>goto LABEL.</p>\n<p>goto EXPR.</p>\n<p>goto &amp;NAME.</p>\n</blockquote>\n<p>But in this three types, what is the use of third one <code>goto &amp;NAME</code>?\nThis is also seems to be like a function call.\nThen,</p>\n<ol>\n<li>What is the real difference between <code>goto &amp;NAME</code> and normal <code>function call</code> in Perl?</li>\n<li>When we use goto &amp;NAME?</li>\n</ol>\n<p>Can anyone please explain with example.</p>\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "grep", "system"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479710259, "post_id": 40713472, "comment_id": 68655852, "body": "What is <code>$a</code>? Is this a filename, built earlier in the script?"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1479762243, "post_id": 40713702, "comment_id": 68685923, "body": "Why three specifically?"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1479708378, "last_edit_date": 1479708378, "creation_date": 1479708116, "answer_id": 40713702, "question_id": 40713472, "link": "https://stackoverflow.com/questions/40713472/system-grep-inside-a-perl-script-gives-unbalanced-parenthesis/40713702#40713702", "title": "system grep inside a perl script gives unbalanced parenthesis", "body": "<p>You need to use three backslashes</p>\n\n<pre><code>system (\"grep -E 'Type|group|slack \\\\\\('  $a \");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 7, "last_activity_date": 1480575284, "last_edit_date": 1480575284, "creation_date": 1479710193, "answer_id": 40714141, "question_id": 40713472, "link": "https://stackoverflow.com/questions/40713472/system-grep-inside-a-perl-script-gives-unbalanced-parenthesis/40714141#40714141", "title": "system grep inside a perl script gives unbalanced parenthesis", "body": "<p>Since you are in a script, why not do that in Perl?</p>\n\n<pre><code>my $infile = '...';\nopen my $fh,     '&lt;', $infile   or die \"Can't open $file: $!\";\nopen my $out_fh, '&gt;', $temp.rpt or die \"Can't open $temp.rpt: $!\";\n\nwhile (&lt;$fh&gt;) {\n    print $out_fh $_  if /Type|group|slack \\(/; \n}\n</code></pre>\n\n<p>Adjust your regex as needed.  Generally, it is far easier to change and tweak things now.</p>\n\n<p>If the input file isn't too large you can process in one line as well, once you opened files</p>\n\n<pre><code>print $out_fh grep { /Type|group|slack \\(/ } &lt;$fh&gt;;\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow noreferrer\">grep</a> imposes the <em>list context</em> on the <a href=\"http://perldoc.perl.org/perlop.html#I/O-Operators\" rel=\"nofollow noreferrer\">&lt;> operator</a> so it reads and at once returns all lines in a list, and the ones that pass the condition are printed.</p>\n\n<hr>\n\n<p>A comment on regex. As it stands, it matches either <code>Type</code> or <code>group</code> or <code>slack (</code>.  If, by any chance, you intend to match either of the words, then followed by space-paren, you need grouping parenthesis, <code>/(?:Type|group|slack) \\(/</code>.  The <code>?:</code> is there so it is not needlessly captured.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 0, "last_activity_date": 1479762024, "creation_date": 1479762024, "answer_id": 40729291, "question_id": 40713472, "link": "https://stackoverflow.com/questions/40713472/system-grep-inside-a-perl-script-gives-unbalanced-parenthesis/40729291#40729291", "title": "system grep inside a perl script gives unbalanced parenthesis", "body": "<p><code>(</code> is a regex metacharacter in <code>grep -E</code>. That's why you get the error.</p>\n\n<p>Adding a single backslash doesn't fix it because that's processed by perl: <code>\"\\(\"</code> is the same string as <code>\"(\"</code>.</p>\n\n<p>To fix it, you need to either use two backslashes (<code>\"\\\\(\"</code>, which turns into the two character string <code>\\(</code>, which is then interpreted by <code>grep</code>), or remove the <code>-E</code> option because <code>(</code> isn't special in POSIX \"basic\" regexes (which is what <code>grep</code> uses by default).</p>\n"}], "owner": {"reputation": 11, "user_id": 7187779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0fd3051b9c6ea4d0c2045fddd1339f?s=128&d=identicon&r=PG&f=1", "display_name": "Bharath", "link": "https://stackoverflow.com/users/7187779/bharath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1487522218, "creation_date": 1479706910, "last_edit_date": 1487522218, "question_id": 40713472, "link": "https://stackoverflow.com/questions/40713472/system-grep-inside-a-perl-script-gives-unbalanced-parenthesis", "title": "system grep inside a perl script gives unbalanced parenthesis", "body": "<pre><code>system (\"grep -E 'Type|group|slack ('  $a &gt; temp.rpt\");\n</code></pre>\n\n<p>The above line is giving me an error <code>Unmatched ( or \\(</code></p>\n\n<p>What is wrong here?</p>\n\n<p>I have tried a backslash before <code>(</code> too. it shows the same error.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1479702989, "post_id": 40712563, "comment_id": 68653444, "body": "Add <code>$tpISAAddress =~ s&#47;:&#47;,&#47;g;</code> before your <code>print</code>."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1479703026, "post_id": 40712563, "comment_id": 68653454, "body": "<a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlretut.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "edited": false, "score": 0, "creation_date": 1479703251, "post_id": 40712893, "comment_id": 68653503, "body": "Thanks a lot for the support, this was very useful."}], "tags": [], "owner": {"reputation": 476, "user_id": 7078334, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148520868517471/picture?type=large", "display_name": "Dmitry Zayats", "link": "https://stackoverflow.com/users/7078334/dmitry-zayats"}, "is_accepted": false, "score": 2, "last_activity_date": 1479703216, "creation_date": 1479703216, "answer_id": 40712893, "question_id": 40712563, "link": "https://stackoverflow.com/questions/40712563/how-to-replace-the-following-character-contained-in-a-perl-variable/40712893#40712893", "title": "How to replace the following character contained in a perl variable?", "body": "<p>Like this</p>\n\n<pre><code>$tpISAAddress =~ s/:/,/;\nprint report $tpISAAddress.\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1591, "user_id": 5636645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZUJXP.png?s=128&g=1", "display_name": "neo33", "link": "https://stackoverflow.com/users/5636645/neo33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1479703216, "creation_date": 1479700976, "question_id": 40712563, "link": "https://stackoverflow.com/questions/40712563/how-to-replace-the-following-character-contained-in-a-perl-variable", "title": "How to replace the following character contained in a perl variable?", "body": "<p>Hello I need to customize a perl script that is used to generate reports,</p>\n\n<p>First it uses a variable called report to write a csv as follows:</p>\n\n<pre><code>open report ,\"&gt;report\";\n</code></pre>\n\n<p>Then this script perform a while, inside the while code just uses</p>\n\n<pre><code>print report $tpISAAddress.\"\\n\";\n</code></pre>\n\n<p>to write every line of the script and it generates the following output:</p>\n\n<pre><code>$ cat report\nZZ:BCGROUP\nZZ:ABGROS\nZZ:AGROUP\n13808610\n</code></pre>\n\n<p>I would like to obtain instead this output, with two columns, the separator is \":\", as follows:</p>\n\n<pre><code>ZZ,BCGROUP\nZZ,ABGROS\nZZ,AGROUP\n13808610\n</code></pre>\n\n<p>The only thing that I wish is to replace \":\" to \",\", the problem is that I am not sure how to achieve this since I am more familiar with bash, in bash you could do this inside the while:</p>\n\n<pre><code>tpISAAddress=$(echo $tpISAAddress | sed s/:/,/g)\n</code></pre>\n\n<p>to replace this character, however I am not sure the process in perl to achieve this, I would like to appreciate support,  </p>\n"}, {"tags": ["perl", "catalyst", "start-stop-daemon"], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 7078334, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148520868517471/picture?type=large", "display_name": "Dmitry Zayats", "link": "https://stackoverflow.com/users/7078334/dmitry-zayats"}, "is_accepted": false, "score": 0, "last_activity_date": 1479707545, "last_edit_date": 1492085615, "creation_date": 1479707545, "answer_id": 40713597, "question_id": 40710398, "link": "https://stackoverflow.com/questions/40710398/catalyst-exiting-when-started-with-start-stop-daemon/40713597#40713597", "title": "Catalyst exiting when started with start-stop-daemon", "body": "<p>Most likely it can't resolve your hostname.</p>\n\n<p>Check what your <code>hostname</code> command returns and make sure that same host name is present in your /etc/hosts. And don't assign it to loopback, use a real IP.</p>\n\n<p>You can also trace what exactly it's trying to resolve by using this method </p>\n\n<p><a href=\"https://serverfault.com/questions/666482/how-to-find-out-pid-of-the-process-sending-packets-generating-network-traffic\">https://serverfault.com/questions/666482/how-to-find-out-pid-of-the-process-sending-packets-generating-network-traffic</a></p>\n\n<p>Or might be even more simple to do <code>tcpdump -s 0 port 53</code></p>\n"}], "owner": {"reputation": 4843, "user_id": 834140, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dba32ebf9d12c67b53f1c5e2d4737eca?s=128&d=identicon&r=PG", "display_name": "srchulo", "link": "https://stackoverflow.com/users/834140/srchulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479707545, "creation_date": 1479682459, "question_id": 40710398, "link": "https://stackoverflow.com/questions/40710398/catalyst-exiting-when-started-with-start-stop-daemon", "title": "Catalyst exiting when started with start-stop-daemon", "body": "<p>I am trying to run <a href=\"http://www.catalystframework.org/\" rel=\"nofollow noreferrer\">Catalyst</a> on <a href=\"https://www.centos.org/\" rel=\"nofollow noreferrer\">CentOS</a> 7 using <a href=\"http://man7.org/linux/man-pages/man8/start-stop-daemon.8.html\" rel=\"nofollow noreferrer\">start-stop-daemon</a>. Here is the <code>start-stop-daemon</code> command that I run:</p>\n\n<pre><code>start-stop-daemon --start --pidfile /var/run/myapp.pid -d \"/home/user/myapp\" --exec /opt/perlbrew/perls/perl-5.22.0/bin/perl --startas \"/home/user/myapp/script/myapp_fastcgi.pl\" --chuid root --make-pid -- \"-l :8100 -n 6\"\n</code></pre>\n\n<p>Then I get this error:</p>\n\n<pre><code>Cannot resolve host name   -- exiting!\n</code></pre>\n\n<p>It displays this error after loading the chained actions and printing them to the screen, and after displaying the final message:</p>\n\n<pre><code>[info] myapp powered by Catalyst 5.90112\n</code></pre>\n\n<p>In <code>/etc/hosts</code> I've tried commenting out any hostnames I thought might be causing an issue:</p>\n\n<pre><code>127.0.0.1 myapp.com myapp.com \n#127.0.0.1 localhost.localdomain localhost\n#127.0.0.1 localhost4.localdomain4 localhost4\n\n# The following lines are desirable for IPv6 capable hosts\n#::1 myapp.com myapp.com\n#::1 localhost.localdomain localhost\n#::1 localhost6.localdomain6 localhost6\n</code></pre>\n\n<p>What's strange is that if I don't use <code>start-stop-daemon</code> and I just start the server from the command-line, the server starts fine.</p>\n"}, {"tags": ["perl", "ffmpeg"], "comments": [{"owner": {"reputation": 85949, "user_id": 1109017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PX561.png?s=128&g=1", "display_name": "llogan", "link": "https://stackoverflow.com/users/1109017/llogan"}, "edited": false, "score": 4, "creation_date": 1479680521, "post_id": 40709926, "comment_id": 68648217, "body": "That&#39;s a strange method to name your VARIABLEs."}, {"owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "reply_to_user": {"reputation": 85949, "user_id": 1109017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PX561.png?s=128&g=1", "display_name": "llogan", "link": "https://stackoverflow.com/users/1109017/llogan"}, "edited": false, "score": 0, "creation_date": 1479682895, "post_id": 40709926, "comment_id": 68648907, "body": "yeah i like allcaps but wasn&#39;t sure if it was safe.."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1479683691, "post_id": 40709926, "comment_id": 68649132, "body": "You should follow the guidelines for the programming language you are using. In general, Perl lexical variables use lower-case letters and <code>snake_case</code>, globals are in upper case, and modules and package names have capital initials <code>Like::This</code>. Take a look at <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\"><code>perldoc perlstyle</code></a> You must also <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program you write, and declare all your variables with <code>my</code> as close as possible to their first point of use."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479683827, "post_id": 40709926, "comment_id": 68649166, "body": "It is essential to use white space to lay out your program so that it is readable and its structure is clear. I have edited your question to do this for you; hopefully you agree that it is clearer this way. It&#39;s also worth saying that you have written far too much code before you tried to test it. You should ordinarily write no more than about three of four lines before you run what you have written and make sure that party works before you build on it. Also note that <code>system</code> can take only a single command: you can&#39;t pass a list of commands like that."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479720891, "post_id": 40709926, "comment_id": 68660781, "body": "It&#39;s <code>chomp()</code>. It&#39;s pretty much always <code>chomp()</code> :-)"}, {"owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "edited": false, "score": 0, "creation_date": 1479752709, "post_id": 40709926, "comment_id": 68680985, "body": "thanks Borondin that&#39;s nicely done--a whole lot better layout than mine :)"}], "answers": [{"comments": [{"owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "edited": false, "score": 1, "creation_date": 1479683452, "post_id": 40710037, "comment_id": 68649072, "body": "and that is something you should do for all your other variables after reading from &lt;STDIN&gt;"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1479680159, "creation_date": 1479680159, "answer_id": 40710037, "question_id": 40709926, "link": "https://stackoverflow.com/questions/40709926/perl-and-ffmpeg-script/40710037#40710037", "title": "Perl and ffmpeg script", "body": "<pre><code>my $CNVIAQUESt=&lt;STDIN&gt;;\nif($CNVIAQUESt eq \"y\" || $CNVIAQUESt eq \"Y\") {   \n</code></pre>\n\n<p>After pressing <code>y</code> or <code>Y</code>, you press <kbd>Enter</kbd>. That's part of the input, so <code>$CNVIAQUESt eq \"y\\n\"</code> in fact. To remove the newline from the value, use</p>\n\n<pre><code>chomp $CNVIAQUESt;\n</code></pre>\n\n<p>after reading the input. See <a href=\"http://p3rl.org/chomp\" rel=\"nofollow noreferrer\">chomp</a> for details.</p>\n"}], "owner": {"reputation": 9, "user_id": 7058522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPW6p.gif?s=128&g=1", "display_name": "armight29", "link": "https://stackoverflow.com/users/7058522/armight29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479683430, "creation_date": 1479679575, "last_edit_date": 1479683430, "question_id": 40709926, "link": "https://stackoverflow.com/questions/40709926/perl-and-ffmpeg-script", "title": "Perl and ffmpeg script", "body": "<p>The first part of my script that asks whether to check for cinavia doesn't work. That is, if I type in 'y' or 'Y' it doesn't  proceed to the <code>CNVIACHk</code> function but goes instead to the <code>MVIEPARAMs</code> function.</p>\n\n<pre><code># GET FILE INPUT..\n\nprint \"Enter Filename..\";\nmy $MOVIe = &lt;STDIN&gt;;\n\nprint \"Check For Cinavia? Enter y or n\\n\";\nmy $CNVIAQUESt = &lt;STDIN&gt;;\n\nif ( $CNVIAQUESt eq \"y\" || $CNVIAQUESt eq \"Y\" ) {\n    CNVIACHk( $MOVIe );\n}\nelse {\n    MVIEPARAMs( $MOVIe );\n}\n\n\nsub MVIEPARAMs {\n\n    system(\n        \"ffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 $MOVIe\"\n    );\n\n    print \"Duration In Seconds..\";\n    $DURATIOn = &lt;STDIN&gt;;\n\n    system(\n        'ffprobe -v error -of flat=s=_ -select_streams v:0 -show_entries stream=height,width \"$MOVIe\"'\n    );\n\n    print \"Movie Width? \";\n    $MOVIEWIDTh = &lt;STDIN&gt;;\n\n    print \"Movie Height? \";\n    $MOVIEHEIGHt = &lt;STDIN&gt;;\n\n    print \"Enter Target Width.. \";\n    $TARGETWIDTh = &lt;STDIN&gt;;\n\n    print \"Enter Target Height.. \";\n    $TARGETHEIGHt = &lt;STDIN&gt;;\n\n    system(\n        'ffprobe -show_entries stream=index,codec_type:stream_tags=language -of compact \"$MOVIe\" -v 0 | grep eng'\n    );\n\n    print \"Enter number of English Audio Track.. \";\n    $ENGAUDTRk = &lt;STDIN&gt;;\n\n    print \"English Audio Track Number Is \", $ENGAUDTRk, \".\";\n    $BTRTe = 31875072 / $DURATIOn;\n\n    DETRMNEPAd;\n}\n\n\nsub DETRMNEPAd {\n\n    if ( $MOVIEWIDTh &lt; $TARGETWIDTh ) {\n        $X = $TARGETWIDTh - $MOVIEWIDTh / 2;\n    }\n    elsif ( $MOVIEHEIGHt &lt; $TARGETHEIGHt ) {\n        $Y = $TARGETHEIGHt - $MOVIEHEIGHt / 2;\n        $X = 0;\n        print $Y;\n    }\n    else {\n        print \"Padding Not Needed Moving On...\";\n        CNVRTWOPAd();\n    }\n\n    CNVRTWPAd();\n}\n\n\nsub CNVIACHk {\n\n    print \"Checking Movie For Cinavia.. \";\n    system( \"cinde -i $MOVIe -q high -l\" );\n\n    print \"Enter Track To Check.. \";\n    $TRKTOCHEk = &lt;STDIN&gt;;\n\n    system( \"cinde -i $MOVIe -q high -t $TRKTOCHEk\" );\n\n    print \"Was Cinavia Detected?\";\n    $CNVIACHKANSr = &lt;STDIN&gt;;\n\n    if ( $CNVIACHKANSr eq \"y\" ) {\n        exit;\n    }\n    else {\n\n        print \"Would You Like To Check Another Track?\";\n        $CHKANTHRTRk = &lt;STDIN&gt;;\n\n        if ( $CHKANTHRTRk eq \"y\" ) {\n            CNVIACHk();\n        }\n        else {\n            MVIEPARAMs();\n        }\n    }\n}\n\n\nsub CNVRTWOPAd {\n\n    print \"BEGINNING CONVERSION...\\n\";\n\n    print \"What Preset Would You Like To Use?\";\n    $PRESEt = &lt;STDIN&gt;;\n\n    system(\n        \"ffmpeg -i $MOVIe -map 0:0 -map 0:$ENGAUDTRk -c:v libx264 -b:v $BTRTe -preset $PRESEt -strict -2 -c:a ac3 -b:a 192k -threads 12 -pass 1 -f matroska dummy &amp;&amp; \",\n        \"ffmpeg -i $MOVIe -map 0:0 -map 0:$ENGAUDTRk -c:v libx264 -b:v $BTRTe -preset $PRESEt -strict -2 -c:a ac3 -b:a 192k -threads 12 -pass 2 -f matroska ENCODE1.mkv\"\n    );\n}\n\n\nsub CNVRTWPAd {\n\n    print \"BEGINNING CONVERSION...\\n\";\n\n    print \"What Preset Would You Like To Use?\";\n    my $PRESEt = &lt;STDIN&gt;;\n\n    system(\n        \"ffmpeg -i $MOVIe -map 0:0 -map 0:$ENGAUDTRk -c:v libx264 -b:v $BTRTe -preset $PRESEt -vf \\\"pad=$TARGETWIDTh:$TARGETHEIGHt:$X:$Y:black\\\" -strict -2 -c:a ac3 -b:a 192k \",\n        \" -threads 12 -pass 1 -f matroska dummy &amp;&amp; ffmpeg -i $MOVIe -map 0:0 -map 0:$ENDAUDTRk -c:v libx264 -b:v $BTRTe -preset $PRESEt -vf \\\"pad=$TARGETWIDTh:$TARGETHEIGHt:$X:$Y:black\\\"\",\n        \" -strict -2 -c:a ac3 -b:a 192k -threads 12 -pass 2 -f matroska ENCODE1.mkv\"\n    );\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "matching"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 4, "creation_date": 1479658106, "post_id": 40706156, "comment_id": 68640248, "body": "Wrong escape character. It&#39;s not <code>&#47;</code> but <code>\\ </code>. Try <code>$line=~&#47;[a-zA-Z0-9_\\[\\]]&#47;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1479659019, "creation_date": 1479659019, "answer_id": 40706410, "question_id": 40706156, "link": "https://stackoverflow.com/questions/40706156/perl-matching-string-with-mix-of-alphanumeric-and-any-number-of-square-braces/40706410#40706410", "title": "Perl matching string with mix of alphanumeric,_ and any number of square braces", "body": "<p>Wrong slash used for escaping.</p>\n\n<pre><code>/[a-zA-Z0-9_\\[\\]]/\n</code></pre>\n\n<p>Alternatively, you could simply use</p>\n\n<pre><code>/[\\w\\[\\]]/\n</code></pre>\n\n<p>Both of those match exactly one character. If you wanted to capture the string, you'd want</p>\n\n<pre><code>/([\\w\\[\\]]+)/\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 7177461, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TYi2sU9ZGLo/AAAAAAAAAAI/AAAAAAAAAIU/UoFsfWPKH6Q/photo.jpg?sz=128", "display_name": "candc", "link": "https://stackoverflow.com/users/7177461/candc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "closed_date": 1479674500, "answer_count": 1, "score": -1, "last_activity_date": 1479660838, "creation_date": 1479657584, "last_edit_date": 1479660838, "question_id": 40706156, "link": "https://stackoverflow.com/questions/40706156/perl-matching-string-with-mix-of-alphanumeric-and-any-number-of-square-braces", "closed_reason": "Not suitable for this site", "title": "Perl matching string with mix of alphanumeric,_ and any number of square braces", "body": "<p>How do I match a string with \" alphanumeric characters, underscore and any number of open and closed square braces \". \nExample : <br><code>\" CDN_MBIT_hresp_s_reg[0]_MB_hresp_s_reg[1]bbjabs_chiansmokrs[6] \"</code></p>\n\n<p>I tried <code>$line=~/[a-zA-Z0-9_/[/]]/;</code><br>\nThis seems doesn't work.</p>\n\n<p>P.S. This question is quite similar to <a href=\"https://stackoverflow.com/questions/21617047/regex-matching-square-brackets/\">Regex Matching Square Brackets</a>\nbut not same\nThank you in advance.</p>\n"}, {"tags": ["perl", "file", "debugging"], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 5, "creation_date": 1479657848, "post_id": 40706144, "comment_id": 68640150, "body": "<code>open (my $IN, &#39;&lt;&#39;, &#39;$file&#39;)</code> tries to open a file that&#39;s literally named <code>dollar-f-i-l-e</code> because the single ticks <code>&#39;</code> don&#39;t interpolate variables. As you already noticed you can either use double quotes <code>&quot;</code> (which interpolates) or (even better) don&#39;t use any of them and simply write <code>$file</code>."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1479658063, "post_id": 40706144, "comment_id": 68640238, "body": "@PerlDuck as you can see, I wrote it in my answer :) Also, writing just <code>$file</code> is better, can&#39;t believe I missed that option!"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1479658396, "post_id": 40706144, "comment_id": 68640362, "body": "@PerlDuck No reason for you to delete it, it&#39;s ok"}], "tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": true, "score": 2, "last_activity_date": 1479743986, "last_edit_date": 1479743986, "creation_date": 1479657524, "answer_id": 40706144, "question_id": 40705888, "link": "https://stackoverflow.com/questions/40705888/open-error-no-such-file-or-directory/40706144#40706144", "title": "open error - No such file or directory", "body": "<p>Problem solved. Apparently, replacing the single quotes with double quotes in the <code>open</code> line, or even better, not using any quotes, did the trick. The string literal <code>'$file'</code> produces the string <code>$file</code>, and there's clearly no file with this name.</p>\n"}], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "accepted_answer_id": 40706144, "answer_count": 1, "score": 0, "last_activity_date": 1479743986, "creation_date": 1479656197, "question_id": 40705888, "link": "https://stackoverflow.com/questions/40705888/open-error-no-such-file-or-directory", "title": "open error - No such file or directory", "body": "<p>I am using <code>File::Find</code> to run through a directory tree and when I try to open the current file for reading I get <code>No such file or directory</code>. This happens with ALL files in the directory tree.</p>\n\n<p>Here's the sub I use in the <code>find()</code>:</p>\n\n<pre><code>sub {\n    if (-d) {\n        return;\n    }\n    if (-f) {\n        my $file = ${File::Find::name};\n        open (my $IN, '&lt;', '$file') or die \"$!\\n\";\n        while (&lt;$IN&gt;) {\n            ### Do some formatting.\n        }\n        close $IN;\n    }\n}\n</code></pre>\n\n<p>It fails in the line:</p>\n\n<pre><code>open (my $IN, '&lt;', '$file') or die \"$!\\n\";\n</code></pre>\n\n<p>I thought it's a matter of links maybe, but even with <code>follow =&gt; 1</code> option I get this error.</p>\n\n<p>By the way, without <code>follow</code> the error I get is on the first file of the first directory I find and with it, the error is on the last file of the last directory (but in both cases, it's on the first file inspected by <code>File::Find</code>).</p>\n"}, {"tags": ["arrays", "perl", "search", "binary"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479663887, "post_id": 40705486, "comment_id": 68642416, "body": "So the numbers in the small array can match serveral numbers in the large array? And the numbers in the large array are sorted in increasing order, but not necessarily unique?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479666105, "post_id": 40705486, "comment_id": 68643287, "body": "You call <code>push @fin</code> at most once."}, {"owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479666453, "post_id": 40705486, "comment_id": 68643428, "body": "@ikegami yeah it was a typo should be while"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479666542, "post_id": 40705486, "comment_id": 68643456, "body": "1) Don&#39;t post code that you didn&#39;t actually run. 2) The problem is that you look for the end of the range, but you never look for its start."}, {"owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1479666592, "post_id": 40705486, "comment_id": 68643469, "body": "@H&#229;konH&#230;gland the big array is sorted from low to high and they are unique values, while the small array a number can match up to I think 20 values circa within the tolerance (I ve got 6 decimal points and the tollerance has got 4 so I think 20 is a good approximation of the number of matches )."}, {"owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479666635, "post_id": 40705486, "comment_id": 68643494, "body": "@ikegami the first subroutine is fully functional, the grep is fully functional but slow the last one is an attempt otherwise I won&#39;t ask for a solution :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479666658, "post_id": 40705486, "comment_id": 68643502, "body": "We&#39;re talking about the third one."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1479677575, "last_edit_date": 1479677575, "creation_date": 1479663846, "answer_id": 40707246, "question_id": 40705486, "link": "https://stackoverflow.com/questions/40705486/algorithm-binary-search-return-range-perl/40707246#40707246", "title": "algorithm binary search return range perl", "body": "<p>Start by finding the index of a matching element using a binary search.</p>\n\n<p>Once you have that, you need to find where the range starts. You can use a binary search for that as well, but a linear search is also acceptable if the number of matching elements is usually small.</p>\n\n<p>Finally, you need to find the end of the range. You can use the same approach as you used for finding the start of the range.</p>\n\n<p>The problem with your solution is that you didn't look for the start of the range.</p>\n\n<p>The following is an untested implementation that uses the linear scan approach (like yours), so it assumes that there will be very few matching elements:</p>\n\n<pre><code>sub binsearch_numeric_range {\n   my $min   = shift;\n   my $max   = shift;\n   my $array = shift;\n\n   return () if !@$array;\n\n   my $i = 0;\n   my $j = $#$array;\n\n   my $k;\n   while (1) {\n      $k = int(($i+$j)/2);\n\n      if ($array-&gt;[$k] &gt; $max) {\n         $j = $k-1;\n         return () if $i &gt; $j;\n      }\n      elsif ($array-&gt;[$k] &lt; $min) {\n         $i = $k+1;\n         return () if $i &gt; $j;\n      }\n      else {\n         last;\n      }\n   }\n\n   my $min_k = $k;  --$min_k while $min_k &gt; 0        &amp;&amp; $array-&gt;[$min_k - 1] &gt;= $min;\n   my $max_k = $k;  ++$max_k while $max_k &lt; $#$array &amp;&amp; $array-&gt;[$max_k + 1] &lt;= $max;\n\n   return @$array[$min_k .. $max_k];\n}\n\nmy @matches = binsearch_numeric_range($v-$t, $v+$t, $arr);\n</code></pre>\n\n<hr>\n\n<p>An implementation that doesn't require writing a whole new <code>binsearch</code>:</p>\n\n<pre><code>my $idx = binsearch { abs($a-$b) &lt;= $t ? 0 : $a &lt;=&gt; $b } $v, @$arr;\n\nmy @range;\nif ($idx &gt;= 0) {\n   my $min_idx = $idx;  --$min_idx while $min_idx &gt; 0      &amp;&amp; $arr-&gt;[$min_idx-1] &gt;= ($v-$t);\n   my $max_idx = $idx;  ++$max_idx while $max_idx &lt; $#$arr &amp;&amp; $arr-&gt;[$max_idx+1] &lt;= ($v+$t);\n\n   @range = @$array[$min_idx .. $max_idx];\n}\n</code></pre>\n\n<p>The <code>binsearch</code> used is defined <a href=\"http://www.perlmonks.org/?node_id=383504#binsearch\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 93, "user_id": 6394069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6331d76e56baf9d9f25173d418aea001?s=128&d=identicon&r=PG&f=1", "display_name": "D.A.", "link": "https://stackoverflow.com/users/6394069/d-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1479677575, "creation_date": 1479653716, "question_id": 40705486, "link": "https://stackoverflow.com/questions/40705486/algorithm-binary-search-return-range-perl", "title": "algorithm binary search return range perl", "body": "<p>I have got one array with milions of floating points number (ordered) and then another one smaller and i need to match the numbers within a certain tolerance (there is no overlap between the values in the big array and the values in the small array) from the small array in the big array. okay so no big deal, this is the perl function for returning a not perfect match within the tolerance, it's inside a for loop there I am looping through the small array values.</p>\n\n<pre><code>sub bin_search{\nmy ($arr, $v, $t ) = @_;\nmy ($min, $max) = (0, @$arr-1);\nwhile ($min &lt;= $max) {\n  my $w   = $v + $t;\n  my $k   = $v - $t;\n  my $try = int( ( $min + $max ) / 2 );\n  $min    = $try + 1, next if $arr -&gt; [$try] &lt; $k  ;\n  $max    = $try - 1, next if $arr -&gt; [$try] &gt; $w ;\n  return $arr -&gt; [$try] ;\n  }\n return 0;\n} \n</code></pre>\n\n<p>but then after checkin my data it seems I have got some values discarded because it is returning just the first match. \nI tried grep but it is too slow.</p>\n\n<pre><code> my $min = $val - $t;\n my $max = $val + $t;\n my @arr2 = grep { ( $_ &gt; $min ) &amp;&amp; ($_ &lt; $max ) }@big_arr1; \n</code></pre>\n\n<p>so I wanted to modify a bit the binary search for returning a range from $min to $max, because I thought once there is one match is either at $min or $max, so something like </p>\n\n<pre><code>sub bin_search{\nmy ($arr, $v, $t ) = @_;\nmy ($min, $max) = (0, @$arr-1);\nmy $w   = $v + $t;\nmy $k   = $v - $t;\nwhile ($min &lt;= $max) {\n  my $try = int( ( $min + $max ) / 2 );\n  $min    = $try + 1, next if $arr -&gt; [$try] &lt; $k  ;\n  $max    = $try - 1, next if $arr -&gt; [$try] &gt; $w ;\n  last;\n  }\n my @fin;\n if ( ($arr -&gt; [$try] &lt; $w) &amp;&amp; ($arr -&gt; [$try] &gt; $k) ) {\n    push @fin, $arr -&gt;[$try]; $try++ }\n return \\@fin;\n} \n</code></pre>\n\n<p>but I am missing some values, and I think that I am missing something, should I look just at one direction at the time? like left until we reach the lower limit then return to $try and do the same thing until higher limit?</p>\n"}, {"tags": ["arrays", "perl", "hash", "yaml"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479653627, "post_id": 40704554, "comment_id": 68638673, "body": "Your array <code>@routes</code> contains one element for each <i>document</i> in the YAML string. Because your YAML contains only a single document (as do the majority of YAML sources) your array will have only a single element <code>$routes[0]</code>. You need to loop over the elements of the hash that this value refers to; here it has keys <code>route1</code> and <code>route2</code>."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1479649357, "creation_date": 1479649357, "answer_id": 40704706, "question_id": 40704554, "link": "https://stackoverflow.com/questions/40704554/accessing-data-in-perl-after-loading-yaml-file/40704706#40704706", "title": "Accessing data in perl after loading yaml file", "body": "<p><code>@routes</code> is an array. It contains one element, which is a reference to a hash. This hash has two keys (<code>route1</code>, <code>route2</code>), and each associated value is another reference to a hash. The inner hashes also have two keys each (<code>src</code>, <code>dst</code>). The associated values are references to arrays, each of which have one element, which is a string.</p>\n\n<p>You don't see the outer array structure in your dump because you effectively passed a list of the contents of <code>@routes</code> to <code>Dumper</code>, not the array itself. And the array only has one element, so it is as if you did <code>Dumper($routes[0])</code>.</p>\n\n<p>The following code is untested but may work:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse YAML qw(LoadFile);\n\nmy $routes = LoadFile('testcase');\nmy $n = keys %{$routes};\nprint \"There are $n routes\\n\";\n\nfor my $k1 (keys %{$routes}) {\n    print \"$k1 =&gt;\\n\";\n    for my $k2 (keys %{$routes-&gt;{$k1}}) {\n        print \"    $k2 =&gt; @{$routes-&gt;{$k1}{$k2}}\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479653686, "post_id": 40705337, "comment_id": 68638700, "body": "@PerlDuck: I had to correct the OP&#39;s assumption that he wanted to loop over the elements of his <code>@routes</code> array before I could address how to walk the data structure."}, {"owner": {"reputation": 3, "user_id": 7185348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b6b634a407c342eaf4be0b2308fc17?s=128&d=identicon&r=PG&f=1", "display_name": "airr", "link": "https://stackoverflow.com/users/7185348/airr"}, "edited": false, "score": 0, "creation_date": 1479653741, "post_id": 40705337, "comment_id": 68638718, "body": "Thanks @Borodin. Thats exactly what I wanted to do. Just shows how much I need to learn to understand the data structures in perl/yaml better."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 7185348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b6b634a407c342eaf4be0b2308fc17?s=128&d=identicon&r=PG&f=1", "display_name": "airr", "link": "https://stackoverflow.com/users/7185348/airr"}, "edited": false, "score": 1, "creation_date": 1479653915, "post_id": 40705337, "comment_id": 68638781, "body": "@airr: I suggest that you read and absorb the <i>Perl Data Structures Cookbook</i> <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\"><code>perldoc perldsc</code></a>; it covers this sort of thing thoroughly and clearly."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1479653710, "last_edit_date": 1479653710, "creation_date": 1479652853, "answer_id": 40705337, "question_id": 40704554, "link": "https://stackoverflow.com/questions/40704554/accessing-data-in-perl-after-loading-yaml-file/40705337#40705337", "title": "Accessing data in perl after loading yaml file", "body": "\n\n<p>You're making things unnecessarily complicated by storing the return value of <code>LoadFile</code> into an array. YAML allows for multiple documents in a single stream, so in theory <code>LoadFile</code> could return multiple references. But in fact you have only a single document in your stream, and that is by far the most common way to use YAML</p>\n\n<p>You should assign the result of <code>LoadFile</code> to a single scalar, like this. Note that I have also used <a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow noreferrer\"><code>Data::Dump</code></a> instead of <code>Data::Dumper</code>; it's not a core module (so you may have to install it) but I think it's output is much more readable</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse YAML ();\n\nopen my $fh, '&lt;', 'testcase.yaml' or die \"Can't open YAML file: $!\";\n\nmy $routes = YAML::LoadFile($fh);\n\nuse Data::Dump;\ndd $routes;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>{\n  route1 =&gt; { dst =&gt; [\"atl\"], src =&gt; [\"bos\"] },\n  route2 =&gt; { dst =&gt; [\"sfo\"], src =&gt; [\"dal\"] },\n}\n</code></pre>\n\n<p>Now I think the structure is clear</p>\n\n<ul>\n<li><p><code>$routes</code> is a reference to a hash, with keys <code>route1</code> and <code>route2</code></p></li>\n<li><p>Each value of <code>%$routes</code> is another hash refrence, with keys <code>src</code> and <code>dst</code></p></li>\n<li><p>The values corresponding to <code>src</code> and <code>dst</code> are references to arrays, each of which contain only a single element -- <code>atl</code>, <code>bos</code>, <code>sfo</code>, or <code>dal</code></p></li>\n</ul>\n\n<p>So you have a hash of hashes of arrays</p>\n\n<p>There are many ways of handling hashes, and which method you choose depends on what you ant to do with the information, but you can loop over all the route names by writing</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>for my $route ( keys %$routes ) {\n    print \"$route\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>route2\nroute1\n</code></pre>\n\n<p>and you could, say, display the sources and destinations of each route like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>for my $route ( keys %$routes ) {\n\n    print \"$route\\n\";\n\n    my $sources = $routes-&gt;{$route}{src};\n    my $destinations = $routes-&gt;{$route}{dst};\n\n    print \"  Sources:      @$sources\\n\";\n    print \"  Destinations: @$destinations\\n\";\n    print \"\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>route2\n  Sources:      dal\n  Destinations: sfo\n\nroute1\n  Sources:      bos\n  Destinations: atl\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7185348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07b6b634a407c342eaf4be0b2308fc17?s=128&d=identicon&r=PG&f=1", "display_name": "airr", "link": "https://stackoverflow.com/users/7185348/airr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "accepted_answer_id": 40704706, "answer_count": 2, "score": 0, "last_activity_date": 1479653710, "creation_date": 1479648449, "question_id": 40704554, "link": "https://stackoverflow.com/questions/40704554/accessing-data-in-perl-after-loading-yaml-file", "title": "Accessing data in perl after loading yaml file", "body": "<p>I have to parse an yaml and process the data in perl.</p>\n\n<p>my yaml file looks like this:</p>\n\n<pre><code>route1:\n    dst:\n       - atl\n    src:\n       - bos\nroute2:\n    dst:\n       - sfo\n    src:\n       - dal\n</code></pre>\n\n<p>My parsing script looks like this:</p>\n\n<pre><code>    use strict;\n    use warnings;\n    use YAML;\n    use Data::Dumper;\n\n    open my $fh, '&lt;', 'testcase'\n        or die \"can't open file';\n\n     my(@routes) = YAML::LoadFile($fh);\n     print Dumper(@routes), \"\\n\";\n</code></pre>\n\n<p>The output of this looks as I expect</p>\n\n<pre><code>     $VAR1 = {\n               'route2' =&gt; {\n                            'src' =&gt; [\n                                     'dal'\n                                    ],\n                            'dst' =&gt; [\n                                     'sfo'\n                                    ]\n                            }, \n               'route1' =&gt; {\n                            'src' =&gt; [\n                                     'bos'\n                                    ],\n                            'dst' =&gt; [\n                                     'atl'\n                                    ]\n                            }\n               };\n</code></pre>\n\n<p>If I understand correctly @routes is an array.\nEach element (route1, route2) of this array is an hash.\nEach element of this hash is a hash.\nAnd each element of this hash is an array.</p>\n\n<p>Array of hash of hash of array.</p>\n\n<p>How do I loop through to get the elements of @routes. If I loop through @routes, I should be getting route1 and route2. In the real case, I wont know how many \"route\" are in my array @routes. </p>\n"}, {"tags": ["xml", "perl", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479633557, "post_id": 40702223, "comment_id": 68633200, "body": "I don&#39;t understand your example data. What tool did you use to print that? That&#39;s not Data::Dumper, Data::Printer or Data::Dump. Does <code>%hash</code> contain CVE ids and hash refs, and the repeated, indented block of key/values is what&#39;s inside of the hash ref? If so, your first question doesn&#39;t really make sense. Please use Data::Dumper or another one of the tools I mentioned above to output the data structure."}, {"owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479634299, "post_id": 40702223, "comment_id": 68633331, "body": "@simbabque I am using dumpvalue for printing data.Yes data is of the same format with key/values intended inside the CVE ids and hash refs.I am trying to get &#39;cve_id&#39; and &#39;seq&#39; key pair under all the CVE ids and hash refs."}, {"owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479635706, "post_id": 40702223, "comment_id": 68633645, "body": "@simbabque I used Data:Dumper and edited the %data.Could you please help me that how to get all the cve_id and seq under CVE_ids"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479638970, "post_id": 40702223, "comment_id": 68634402, "body": "You&#39;ve now edited in a <code>$v</code>, but you use parenthesis <code>()</code>. Those create a list, but the scalar variable <code>$v</code> cannot contain a list. It would become <code>2</code> because in scalar context lists return their number of elements. Do you mean <code>%v</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479639131, "post_id": 40702223, "comment_id": 68634436, "body": "I also don&#39;t understand what you mean by <i>sec key/value pair</i>. There is nothing named <i>sec</i> in the data. Please show what your expected result is, and pay attention to formatting your data correctly. If you want people to help you, please pay attention to details. Details matter."}, {"owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479666114, "post_id": 40702223, "comment_id": 68643289, "body": "@simbabque Sorry,I edited it appropriately now."}], "answers": [{"comments": [{"owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "edited": false, "score": 0, "creation_date": 1479672785, "post_id": 40705769, "comment_id": 68645626, "body": "Thanks a lot for detail the explanation but if i want multiple Key /values from CVEs&#39;.For example <code>cve: CVE-2015-0812, seq: 2015-0812 &#39;CVSS_vector&#39; =&gt; 4</code> I tried doing it using push <code>@cve_list, [$cve, $v-&gt;{$cve}{seq}];</code> <code>push @cve_list, [ $v-&gt;{$cve}{CVSS_vector}];</code> and then <code>print &quot;$_-&gt;[0], $_-&gt;[1], $_-&gt;[2]\\n&quot;;</code> Although it print the values firdt two vaues abd then  throws an error **Use of uninitialized value in concatenation (.) or string **"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1479655408, "creation_date": 1479655408, "answer_id": 40705769, "question_id": 40702223, "link": "https://stackoverflow.com/questions/40702223/perl-extract-hash-values-partially-and-add-it-in-database-into-two-columns/40705769#40705769", "title": "Perl extract hash values partially and add it in database into two columns", "body": "<p>Assuming that <code>$v</code> is a hash reference (<code>$v={...}</code>), and that when you say <code>sec</code> you mean <code>seq</code>, I would use an array of arrays (AoA) as the structure.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $v = { \n      'CVE-2015-5698' =&gt; {\n                         'cve_id' =&gt; 'CVE-2015-5698',\n                         'seq' =&gt; '2015-5698',\n                         'CVSS_base_score' =&gt; '7.5',\n                         'CVSS_vector' =&gt; 4\n                       },\n      'CVE-2015-0812' =&gt; {\n                         'cve_id' =&gt; 'CVE-2015-0812',\n                         'seq' =&gt; '2015-0812',\n                         'type' =&gt; 'CVE',\n                         'CVSS_impact_subscore' =&gt; '2.9'\n                       },\n};\n\nmy @cve_list;\n\nfor my $cve (keys %$v){\n    push @cve_list, [$cve, $v-&gt;{$cve}{seq}];\n}\n\nfor (@cve_list){\n    print \"cve: $_-&gt;[0], seq: $_-&gt;[1]\\n\";\n    # do your db inserts/work here\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>cve: CVE-2015-0812, seq: 2015-0812\ncve: CVE-2015-5698, seq: 2015-5698\n</code></pre>\n"}], "owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 40705769, "answer_count": 1, "score": -2, "last_activity_date": 1479665986, "creation_date": 1479631801, "last_edit_date": 1479665986, "question_id": 40702223, "link": "https://stackoverflow.com/questions/40702223/perl-extract-hash-values-partially-and-add-it-in-database-into-two-columns", "title": "Perl extract hash values partially and add it in database into two columns", "body": "<p>I have this data extracted from XML file.</p>\n\n<pre><code>$v={ 'CVE-2015-5698' =&gt; {\n                         'cve_id' =&gt; 'CVE-2015-5698',\n                         'seq' =&gt; '2015-5698',\n                         'CVSS_base_score' =&gt; '7.5',\n                         'CVSS_vector' =&gt; 4\n                       },\n      'CVE-2015-0812' =&gt; {\n                         'cve_id' =&gt; 'CVE-2015-0812\n                         'seq' =&gt; '2015-0812',\n                         'type' =&gt; 'CVE',\n                         'CVSS_impact_subscore' =&gt; '2.9'\n                       }\n\n'\n</code></pre>\n\n<p>Question:</p>\n\n<p>1.How to extract cve_id and seq key/value pair from both CVE?</p>\n\n<p>2.Which data structure should i use to save the extracted cve_id and sec so that i can easily use these values to insert in database?</p>\n"}, {"tags": ["perl", "shell", "sh", "stdout", "output-buffering"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479608319, "post_id": 40699904, "comment_id": 68628955, "body": "<code>$| = 1;</code> only makes a difference if the output of the <i>Perl script</i> is redirected, yet there&#39;s no mention of that. <code>$| = 1;</code> therefore has no effect."}, {"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479608655, "post_id": 40699904, "comment_id": 68629006, "body": "@ikegami correct, yes, in this use-case the <code>$| = 1;</code> is unnecessary"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479610126, "post_id": 40699904, "comment_id": 68629270, "body": "If the child program was indeed buffering, one could use pseudo-ttys to try to fool it into not buffering. IPC::Run can make this easy, and so can the <code>unbuffer</code> utility from the <code>expect</code> distribution."}], "answers": [{"comments": [{"owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "edited": false, "score": 0, "creation_date": 1479607496, "post_id": 40699929, "comment_id": 68628840, "body": "Thanks, makes sense now"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1479607377, "creation_date": 1479607377, "answer_id": 40699929, "question_id": 40699904, "link": "https://stackoverflow.com/questions/40699904/how-can-perl-execute-a-shell-script-with-no-buffering/40699929#40699929", "title": "How can Perl execute a shell script with no buffering?", "body": "<p>The code you have written waits for all the input to be read from the command, then joins it and prints it. There is no way that you could get incremental output like that</p>\n\n<p>You must print each line as it is retrieved, like this</p>\n\n<pre><code>open CMD, \"$command |\" || die \"Unable to run $command: $!\";\nprint while &lt;CMD&gt;;\nclose CMD;\n</code></pre>\n\n<p>And yes, you do need <code>$| = 1</code>, otherwise the output from the <code>print</code> calls will be buffered</p>\n"}], "owner": {"reputation": 19223, "user_id": 2295034, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/aSFT0.jpg?s=128&g=1", "display_name": "Jonathan.Brink", "link": "https://stackoverflow.com/users/2295034/jonathan-brink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 40699929, "answer_count": 1, "score": 1, "last_activity_date": 1479607377, "creation_date": 1479607069, "question_id": 40699904, "link": "https://stackoverflow.com/questions/40699904/how-can-perl-execute-a-shell-script-with-no-buffering", "title": "How can Perl execute a shell script with no buffering?", "body": "<p>I have a shell script (<code>testScript.sh</code>) that prints to <code>stdout</code>, waits a little bit, and then prints again:</p>\n\n<pre><code>#!/bin/sh\necho \"before\"\nsleep 2\necho \"after\"\n</code></pre>\n\n<p>I am trying to execute this sh script from a perl script like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\n$| = 1; # do I need this?\n\nsub runCommand($) {\n    my ($command) = @_;\n    open CMD, \"$command |\" || die \"Unable to run $command: $!\";\n    my @output = &lt;CMD&gt;;\n    close CMD;\n    print join('',@output);\n}\n\nrunCommand(\"./testScript.sh\");\n</code></pre>\n\n<p>If I run the shell script directly I immediately see \"before\", then a delay, and then \"after\".</p>\n\n<p>But, when I run the script via perl I first get the delay and then \"before\" and \"after\" are printed.</p>\n\n<p>I was thinking that this was because of <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">Perl's I/O buffering</a>, but the <code>$| = 1</code> doesn't seem to be having any effect.</p>\n\n<p>What am I missing here? How can execute the script via perl and still have it immediately write to <code>stdout</code>?</p>\n"}, {"tags": ["regex", "perl", "perl-module", "substitution"], "comments": [{"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479606056, "post_id": 40699747, "comment_id": 68628577, "body": "answer for my future copy-paste needs: <code>echo &quot;&#47;path&#47;to&#47;file.txt&quot; | perl -MFile::Basename -pe &#39;s{([^\\n]+)}{dirname($1)}ge&#39;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479606288, "post_id": 40699747, "comment_id": 68628632, "body": "Note that this way you are importing <i>all</i> functions from this module. To import (only) a specific one, use <code>-MModule=func</code>"}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479607286, "post_id": 40699747, "comment_id": 68628804, "body": "Good to know. As it turns out I need to use <code>dirname</code> AND <code>basename</code> so that worked out conveniently :D"}], "answers": [{"comments": [{"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479605638, "post_id": 40699768, "comment_id": 68628477, "body": "After removing <code>button</code>, I get <code>Can&#39;t locate object method &quot;dirname&quot; via package &quot;File::Basename&quot; (perhaps you forgot to load &quot;File::Basename&quot;?) at -e line 1, &lt;&gt; line 1.</code> . I&#39;ll update the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 1, "creation_date": 1479605875, "post_id": 40699768, "comment_id": 68628533, "body": "Take a look at the <a href=\"https://metacpan.org/pod/File::Basename\" rel=\"nofollow noreferrer\">documentation for <code>File::Basename</code></a>. The module <i>exports</i> <code>dirname</code>; it&#39;s not an object oriented module. So you need <code>use File::Basename &#39;dirname&#39;</code> and then you can call it with just <code>dirname($1)</code>."}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479605950, "post_id": 40699768, "comment_id": 68628551, "body": "...which, in one-liner subsitution mode, is only possible with <code>perl -M</code> I guess. Thanks for the reply."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 1, "creation_date": 1479606055, "post_id": 40699768, "comment_id": 68628576, "body": "No. You can put <code>use File::Basename &#39;dirname&#39;;</code> inside the quotes if you like. It&#39;s exactly the same as adding <code>-MFile::Basename=dirname</code> as an option"}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479606122, "post_id": 40699768, "comment_id": 68628591, "body": "Oh, got it. I&#39;ll update your answer with the correction for my exact command. Thanks."}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479606403, "post_id": 40699768, "comment_id": 68628651, "body": "Hmmmm, I do want <code>&lt;button&gt;</code> ultimately (I&#39;m trying to generate some HTML). I guess I should create a  separate question for that, but basically I need to mix a function call with plain text in the output. How simple is this to do?"}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479606736, "post_id": 40699768, "comment_id": 68628718, "body": "In answer to my last question, I would use <code>&#39;&lt;button&gt;&#39; . dirname($1)</code>"}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479607150, "post_id": 40699768, "comment_id": 68628785, "body": "...so the full statement would be <code>echo &quot;&#47;path&#47;to&#47;file.txt&quot; | perl -MFile::Basename=dirname  -pe &#39;s{([^\\n]+)}{&quot;&lt;button&gt;&quot;.dirname($1).&quot;&lt;&#47;button&gt;&quot;}ges&#39; </code>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1479606146, "last_edit_date": 1479606146, "creation_date": 1479605582, "answer_id": 40699768, "question_id": 40699747, "link": "https://stackoverflow.com/questions/40699747/execute-module-qualified-function-inside-perl-regex-substitution/40699768#40699768", "title": "Execute module-qualified function inside perl regex substitution?", "body": "<p>The problem was that you had <code>&lt;button&gt;</code> in the replacement string, but you've removed that now so it should work</p>\n\n<p>The replacement string must be a valid Perl expression if you're using the <code>/e</code> modifier, and</p>\n\n<pre><code>&lt;button&gt;File::Basename-&gt;dirname($1)\n</code></pre>\n\n<p>isn't valid Perl</p>\n\n<hr>\n\n<p>The correct command would be:</p>\n\n<pre><code>echo \"/path/to/file.txt\" | perl -pe 'use File::Basename 'dirname'; s{([^\\n]+)}{dirname($1)}ge' \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479605869, "post_id": 40699783, "comment_id": 68628530, "body": "Bingo, I forgot the module isn&#39;t loaded without <code>-M</code>."}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479607036, "post_id": 40699783, "comment_id": 68628768, "body": "Just to expand on this (I&#39;m trying to create some HTML), you can mix text with evaluation with <code>@{dirname($1)}</code> without the <code>&#47;e</code> switch. The only cost is that I can&#39;t use mu usual <code>s{}{}g</code> structure and have to revert to the (inferior but) more common <code>s&#47;&#47;g</code> structure"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479607578, "post_id": 40699783, "comment_id": 68628858, "body": "@Sridhar-Sarnobat  It sounds like you may want to switch to a script ... ? It&#39;s all going to suddenly become far easier :)"}, {"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479607681, "post_id": 40699783, "comment_id": 68628870, "body": "I know where you&#39;re coming from. Currently I&#39;m waging a war against &quot;monster monoliths&quot; as I call them and (over?) utilizing pipes for composability to see how far Doug McIlroy&#39;s &quot;Unix Philosophy&quot; can take me when doing rapid prototyping. But yes it&#39;s approaching its limits."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1479687506, "last_edit_date": 1479687506, "creation_date": 1479605787, "answer_id": 40699783, "question_id": 40699747, "link": "https://stackoverflow.com/questions/40699747/execute-module-qualified-function-inside-perl-regex-substitution/40699783#40699783", "title": "Execute module-qualified function inside perl regex substitution?", "body": "<p>Load a module with <code>-MModName=func</code></p>\n\n<pre><code>perl -MFile::Basename=dirname -pe 's{(.*)}{dirname($1)}ge' \n</code></pre>\n\n<hr>\n\n<p>The <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\">File::Basename</a> module exports all its functions by default so you don't need <code>=dirname</code> above.  But this varies between modules, and mostly you do need to import symbols.  For more on how to do that in a one-liner, find the <code>-M</code> switch in <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">Command Switches in perlrun</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "edited": false, "score": 0, "creation_date": 1479685991, "post_id": 40708408, "comment_id": 68649695, "body": "Thanks for all the alternatives, it&#39;s good to know for finding personal preferences. I wish I could mark all 3 answers correct."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1479669929, "creation_date": 1479669929, "answer_id": 40708408, "question_id": 40699747, "link": "https://stackoverflow.com/questions/40699747/execute-module-qualified-function-inside-perl-regex-substitution/40708408#40708408", "title": "Execute module-qualified function inside perl regex substitution?", "body": "<p>Error #1:</p>\n\n<p>Like the message suggests (<em>perhaps you forgot to load \"File::Basename\"?</em>), you need to load File::Basename.</p>\n\n<pre><code>perl -pe'use File::Basename; ...' \n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -MFile::Basename -pe'...' \n</code></pre>\n\n<hr>\n\n<p>Error #2:</p>\n\n<p><code>dirname</code> is not a method, so <code>File::Basename-&gt;dirname</code> is incorrect. It needs to be called as <code>File::Basename::dirname</code>.</p>\n\n<pre><code>perl -MFile::Basename -pe's{(.*)}{File::Basename::dirname($1)}ge' \n</code></pre>\n\n<p>You could also import <code>dirname</code>.</p>\n\n<pre><code>perl -MFile::Basename=dirname -pe's{(.*)}{dirname($1)}ge' \n</code></pre>\n\n<p>Fortunately, File::Basename exports <code>dirname</code> by default, so you can simply use</p>\n\n<pre><code>perl -MFile::Basename -pe's{(.*)}{dirname($1)}ge' \n</code></pre>\n"}], "owner": {"reputation": 19285, "user_id": 714112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b2bbbdc0f34ed6148dab188c6bb987?s=128&d=identicon&r=PG", "display_name": "Sridhar Sarnobat", "link": "https://stackoverflow.com/users/714112/sridhar-sarnobat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 1, "accepted_answer_id": 40699768, "answer_count": 3, "score": 0, "last_activity_date": 1479687506, "creation_date": 1479605321, "last_edit_date": 1479605657, "question_id": 40699747, "link": "https://stackoverflow.com/questions/40699747/execute-module-qualified-function-inside-perl-regex-substitution", "title": "Execute module-qualified function inside perl regex substitution?", "body": "<p>I have the following perl one-liner to convert <code>/path/to/file.txt</code> to <code>/path/to/</code></p>\n\n<pre><code>echo \"/path/to/file.txt\" | perl -pe 's{(.*)}{File::Basename-&gt;dirname($1)}ge' \n</code></pre>\n\n<p>but I'm missing something in my invocation of <code>File::Basename-&gt;dirname()</code>, causing the following error:</p>\n\n<pre><code>Can't locate object method \"dirname\" via package \"File::Basename\" (perhaps you forgot to load \"File::Basename\"?) at -e line 1, &lt;&gt; line 1.\n</code></pre>\n\n<p>What am I missing?</p>\n\n<p>(I know I can just use <code>dirname</code> from bash but I'm trying to do something more complicated with perl than what this stripped down example shows).</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1479623995, "post_id": 40699591, "comment_id": 68631344, "body": "I suggest to restore the question as it had been, at least most of it.  The example of what you were doing made most things clear, and it was well formed and generally useful for others. What stayed, without any code, doesn&#39;t make much sense. For one thing, it invalidates both answers."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1479605224, "creation_date": 1479605224, "answer_id": 40699731, "question_id": 40699591, "link": "https://stackoverflow.com/questions/40699591/perl-extract-and-parse/40699731#40699731", "title": "perl extract and parse", "body": "<p>First of all, your module file, the <code>package</code> statement and the <code>use</code> statement should all be spelled the same, and should all begin with a capital letter. It looks like your module file should be called <code>NVD.pm</code></p>\n\n<ol>\n<li><p>You have declared <code>@vuln</code>, not <code>%vuln</code></p></li>\n<li><p>You can <em>add</em> values to a hash by writing this</p>\n\n<pre><code>my %vuln;\n\nfor ( @ARGV ) {\n    %vuln = ( %vuln, NVD::extract($_) );\n}\n</code></pre>\n\n<p>That will aggregate the results for all files mentioned on the command line</p></li>\n<li><p>It depends what you want. The result of <code>extract</code> is a hash structure, so you will need to format the data somehow. In general you can write</p>\n\n<pre><code>open my $fh, '&gt;', 'output.txt' or die $!;\n\nprint ... extracting data from `%vuln` as required\n\nclose $fh;\n</code></pre></li>\n<li><p>By writing simply</p>\n\n<pre><code>other_function(NVD::extract($_))\n</code></pre>\n\n<p>or possibly</p>\n\n<pre><code>my %vuln = NVD::extract($_);\nother_function(%vuln);\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 40699731, "answer_count": 1, "score": -1, "last_activity_date": 1479688408, "creation_date": 1479603781, "last_edit_date": 1479613230, "question_id": 40699591, "link": "https://stackoverflow.com/questions/40699591/perl-extract-and-parse", "title": "perl extract and parse", "body": "<p>I am new to Perl and trying to figure out the issue with the script.</p>\n\n<p>2.what changes I can make to accept multiple XML one by one through command line?</p>\n\n<p>3.How to direct o/p of  function to text file?</p>\n\n<p>4.How to direct o/p of  function to i/p to other function as an argument?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479592569, "post_id": 40698288, "comment_id": 68625881, "body": "is your data coming from a file?"}, {"owner": {"reputation": 65, "user_id": 7174713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42cb3cacd9c0730164a59515d7d1caf2?s=128&d=identicon&r=PG&f=1", "display_name": "Niket Mishra", "link": "https://stackoverflow.com/users/7174713/niket-mishra"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479592708, "post_id": 40698288, "comment_id": 68625914, "body": "@stevieb No,they are STDIN inputs"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 2, "creation_date": 1479593201, "post_id": 40698288, "comment_id": 68626024, "body": "<code>my ($first, $second) = split &quot; &quot;, $input;</code>  Perl doesn&#39;t really have an integer type to declare or convert -- it will treat it as an integer when it&#39;s used in a numeric context (for example if you try to add to it).  If you want to validate it&#39;s an integer, that&#39;s another matter.  Many ways to do that."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479654670, "post_id": 40699518, "comment_id": 68639051, "body": "I honestly never realized that <code>&#39; &#39;</code> represented any whitespace with <code>split</code>, assuming incorrectly it meant a single-whitespace, but after a test, it does work. I always used <code>split &#47;\\s+&#47; ...</code> :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1479839075, "post_id": 40699518, "comment_id": 68723805, "body": "@stevieb  I was hazy on it for the longest time, too!  It&#39;s like a well-kept secret, in plain sight and right in front of us (the default no less!) :). Sorry about a delayed response, sometimes I somehow miss to see comments."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 8, "last_activity_date": 1603606885, "last_edit_date": 1603606885, "creation_date": 1479602973, "answer_id": 40699518, "question_id": 40698288, "link": "https://stackoverflow.com/questions/40698288/in-perl-how-can-i-read-pairs-of-space-separated-numbers-from-stdin/40699518#40699518", "title": "In Perl, how can I read pairs of space separated numbers from STDIN?", "body": "<p>If this is coming from <code>STDIN</code> then read it line by line and <code>split</code> each line by space</p>\n<pre><code>while (&lt;STDIN&gt;) \n{\n    my ($first, $second) = split;\n    \n    # Do what you need with $first and $second\n}\n</code></pre>\n<p>This uses defaults of <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a>, with variable <code>$_</code> (to which input is assigned) and separator pattern <code>' '</code>, which stands for any amount of any space and discards leading and trailing spaces.  So <code>split;</code> above is the same as <code>split ' ', $_;</code>. The newline at the end of each input line is thus dropped.</p>\n<p>For more flexibility one can omit the <code>STDIN</code> filehandle and use</p>\n<pre><code>while (&lt;&gt;) { ... }\n</code></pre>\n<p>in which case the files submitted on the command-line are all read line by line, or if no files were given then <code>STDIN</code> is read.</p>\n<p>For reading of input and the <em>diamond operator</em> <code>&lt;&gt;</code> see <a href=\"http://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">I/O Operators in perlop</a>, and for the <em>default input and pattern-searching space</em> variable <code>$_</code> see <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">General Variables in perlvar</a>.</p>\n<p>Checking user input is a whole other matter. To check that these are indeed numbers, a good tool is <code>looks_like_number</code> from the core module <a href=\"http://perldoc.perl.org/Scalar/Util.html\" rel=\"nofollow noreferrer\">Scalar::Util</a>.</p>\n<p>I don't know what else there may be in your program, but I suggest to always start by</p>\n<pre><code>use warnings 'all';\nuse strict;\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 7174713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42cb3cacd9c0730164a59515d7d1caf2?s=128&d=identicon&r=PG&f=1", "display_name": "Niket Mishra", "link": "https://stackoverflow.com/users/7174713/niket-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 40699518, "answer_count": 1, "score": 4, "last_activity_date": 1603606885, "creation_date": 1479592216, "last_edit_date": 1479593972, "question_id": 40698288, "link": "https://stackoverflow.com/questions/40698288/in-perl-how-can-i-read-pairs-of-space-separated-numbers-from-stdin", "title": "In Perl, how can I read pairs of space separated numbers from STDIN?", "body": "<p>I want 2 inputs in each line in a Perl program.</p>\n\n<h3>Input</h3>\n\n<pre><code>4 3\n3 1\n5 7\n</code></pre>\n\n<p>We can do that in Ruby by this statement</p>\n\n<pre><code>a,b=gets.split.map &amp;:to_i\n</code></pre>\n"}, {"tags": ["perl", "readdir"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1479586289, "post_id": 40697329, "comment_id": 68624127, "body": "The formatting problems were caused by you using <code>&lt;pre&gt;&lt;code&gt;</code> (inline HTML) tags instead of just indenting (which is the Markdown syntax for code blocks)."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1479586515, "post_id": 40697329, "comment_id": 68624219, "body": "I would recommend doing the pattern check before the <code>-f</code> check ... That way, you&#39;d avoid an expensive <code>stat</code> call for names that don&#39;t match the pattern."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1479586649, "post_id": 40697329, "comment_id": 68624256, "body": "Technically speaking your regex matches a lot of strings that you probably didn&#39;t intend to match; e.g. <code>$</code> allows for a trailing newline in the name, while <code>\\d</code> matches any Unicode digit (not just 0-9). I&#39;d use <code>&#47;\\A\\d{4}\\z&#47;a</code> (or <code>&#47;\\A[0-9]{4}\\z&#47;</code> if your perl doesn&#39;t have <code>&#47;a</code> yet)."}, {"owner": {"reputation": 1630, "user_id": 183683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35a4ec3b6eecef2dcba489cacd22fd4?s=128&d=identicon&r=PG", "display_name": "deepakg", "link": "https://stackoverflow.com/users/183683/deepakg"}, "edited": false, "score": 0, "creation_date": 1479586814, "post_id": 40697329, "comment_id": 68624295, "body": "If you do end up reading them in an array (based on the answers below), you could get just the 4 character filenames as: my @files = &lt;????&gt; and then check for them being numeric."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 1630, "user_id": 183683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35a4ec3b6eecef2dcba489cacd22fd4?s=128&d=identicon&r=PG", "display_name": "deepakg", "link": "https://stackoverflow.com/users/183683/deepakg"}, "edited": false, "score": 1, "creation_date": 1479587373, "post_id": 40697329, "comment_id": 68624440, "body": "@deepakg Good point. You could even do <code>glob(&#39;[0-9]&#39; x 4)</code> to just get numeric names."}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1479586346, "post_id": 40697400, "comment_id": 68624153, "body": "Not even on Windows. See <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa364428(v=vs.85).aspx\" rel=\"nofollow noreferrer\">FindNextFile</a>: <i>The order in which the search returns the files, such as alphabetical order, is not guaranteed, and is dependent on the file system. If the data must be sorted, the application must do the ordering after obtaining all the results.</i>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1479586461, "post_id": 40697400, "comment_id": 68624194, "body": "@Sinan&#220;n&#252;r Thanks, that&#39;s good to know. It does say &quot;<i>With the NTFS file system ... the names are usually returned in alphabetical order</i>&quot;, which is probably what I remember seeing in my tests, but of course it&#39;s not guaranteed."}, {"owner": {"reputation": 25, "user_id": 7183174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b24e10255bb5c2e46909aa5f60c4c44?s=128&d=identicon&r=PG&f=1", "display_name": "user7183174", "link": "https://stackoverflow.com/users/7183174/user7183174"}, "edited": false, "score": 0, "creation_date": 1479587057, "post_id": 40697400, "comment_id": 68624371, "body": "So if I want to have (reliably) one file and the four &quot;following&quot; files I have no choice but to read them in an array and sort them? Thanks for the NTFS-hint, I was wondering why it was working for me all the time..."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 25, "user_id": 7183174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b24e10255bb5c2e46909aa5f60c4c44?s=128&d=identicon&r=PG&f=1", "display_name": "user7183174", "link": "https://stackoverflow.com/users/7183174/user7183174"}, "edited": false, "score": 0, "creation_date": 1479587223, "post_id": 40697400, "comment_id": 68624410, "body": "@user7183174 That&#39;s definitely the easiest way. There are fancier algorithms for selecting e.g. the 5 smallest or 5 biggest elements from a list in linear time and constant memory, but that&#39;s probably more effort than it&#39;s worth."}, {"owner": {"reputation": 25, "user_id": 7183174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b24e10255bb5c2e46909aa5f60c4c44?s=128&d=identicon&r=PG&f=1", "display_name": "user7183174", "link": "https://stackoverflow.com/users/7183174/user7183174"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1479588008, "post_id": 40697400, "comment_id": 68624648, "body": "@Sinan&#220;n&#252;r Yep, got that, just wanted to clarify why I didn&#39;t notice this problem so far"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 2, "last_activity_date": 1479586180, "creation_date": 1479586180, "answer_id": 40697400, "question_id": 40697329, "link": "https://stackoverflow.com/questions/40697329/reverse-the-way-readdir-works-last-file-first/40697400#40697400", "title": "reverse the way readdir works (last file first)", "body": "<ol>\n<li><p>File systems generally return directory entries in an unpredictable order. They won't be sorted alphabetically. (Except possibly on Windows? Not sure.)</p></li>\n<li><p>Even if you have a million files in that directory, that's just a \"mega\". So if each name takes 10 bytes to store, that's only 10 MB of RAM. OK, there's some overhead in Perl's internal data structures, but you're almost certainly going to have fewer names than a million. So I'd say it's not bad at all.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1479650269, "last_edit_date": 1479650269, "creation_date": 1479644629, "answer_id": 40703978, "question_id": 40697329, "link": "https://stackoverflow.com/questions/40697329/reverse-the-way-readdir-works-last-file-first/40703978#40703978", "title": "reverse the way readdir works (last file first)", "body": "<p>Use <code>glob()</code> to get a list of the files.</p>\n\n<pre><code>my @files = grep /\\/\\d{4}$/, glob( \"$dir/*\" );\n</code></pre>\n\n<p>You can then sort them in whatever order you want.</p>\n"}], "owner": {"reputation": 25, "user_id": 7183174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b24e10255bb5c2e46909aa5f60c4c44?s=128&d=identicon&r=PG&f=1", "display_name": "user7183174", "link": "https://stackoverflow.com/users/7183174/user7183174"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 40697400, "answer_count": 2, "score": 1, "last_activity_date": 1479650269, "creation_date": 1479585714, "last_edit_date": 1479586239, "question_id": 40697329, "link": "https://stackoverflow.com/questions/40697329/reverse-the-way-readdir-works-last-file-first", "title": "reverse the way readdir works (last file first)", "body": "<p>I have a directory which contains n files, all matching the pattern\n<code>/^\\d\\d\\d\\d$/</code> through which I go with a <code>while (my $file = readdir ($DIR) ) { ... }</code> to avoid reading the whole directory to RAM at once.\nIn this loop I count the files (excluding directories and files not named accordingly) and pick out five files, starting at a specified point, and read the first two lines of each file into an array.</p>\n\n<p>My actually two questions are:</p>\n\n<ol>\n<li><p>Is it possible to start the loop at the last file in the directory, starting at the file with the largest filename and going \"back\"?\n(I guess every OS would return these files in order 0000 -> 0001 -> 0002 ...)</p></li>\n<li><p>Since this would be way easier, how bad would it be to just read the whole directory in an array in comparison to going through the whole list one by one?</p></li>\n</ol>\n\n<p>Full code block:</p>\n\n<pre><code>while ( my $f = readdir ($DIR) ){\n\n    print \"checking \" .  $f . \"\\n\";\n    next unless -f ($dir . \"/\" . $f);\n    next unless $f =~ /^\\d\\d\\d\\d$/;\n\n    $c++;\n\n    if ( $c &gt;= $index &amp;&amp; $c &lt;= $index + 4 ){\n        open (my $ITM, \"&lt;\", \"$dir/$f\") or die \"Opening file $f in $dir failed:$!\\n\";\n            my $headline = &lt;$ITM&gt;; my $first_p = &lt;$ITM&gt;;\n        close $ITM;\n\n            chomp ($headline, $first_p);\n            push (@content, $headline, $first_p); \n\n        print $f . \" was checked succesfully!\\n\";\n    }\n}\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "hash", "key", "operators"], "comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 1, "creation_date": 1479585907, "post_id": 40697193, "comment_id": 68624032, "body": "<code>&#39;&#39;&#39; =&gt; &quot;6&quot;,</code> should be <code>q(&#39;) =&gt; &quot;6&quot;</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479585992, "post_id": 40697193, "comment_id": 68624053, "body": "I updated my answer that fixes another issue, that single-quotes won&#39;t interpolate a variable."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1479586831, "post_id": 40697193, "comment_id": 68624302, "body": "This <b><i><code>&#39;$symbol&#39;</code></i></b> ... looks for the literal string consisting of <code>$</code>, <code>s</code>, <code>y</code>, <code>m</code>, <code>b</code>, <code>o</code>, and <code>l</code> in the hash. Clearly, such a key does not exist."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1479587362, "post_id": 40697193, "comment_id": 68624436, "body": "Thanks for your suggestions and help."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1479585422, "post_id": 40697243, "comment_id": 68623881, "body": "Hi Stevieb, Thanks for the suggestion. I tried it and was still unsuccessful. I will edit my question with your suggestions to show you what I did."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 3, "last_activity_date": 1479585955, "last_edit_date": 1479585955, "creation_date": 1479584962, "answer_id": 40697243, "question_id": 40697193, "link": "https://stackoverflow.com/questions/40697193/perl-hash-operator-expected-errors/40697243#40697243", "title": "perl hash: operator expected errors", "body": "<p>Whenever you are creating hash keys that contain any non-word characters (ie. not <code>0-9a-zA-Z_</code>), you must quote them:</p>\n\n<pre><code>my $hash = (\n    ';' =&gt; 1,\n    '*' =&gt; 2,\n    '!' =&gt; 'etc',\n);\n</code></pre>\n\n<p>Same when you access/use them:</p>\n\n<pre><code>my $x = $hash{'!'};\n</code></pre>\n\n<p>Also, a variable will not interpolate when using single-quotes:</p>\n\n<pre><code>$hash{'$symbol'}\n</code></pre>\n\n<p>Change that to:</p>\n\n<pre><code>$hash{\"$symbol\"};\n</code></pre>\n\n<p>...or better:</p>\n\n<pre><code>$hash{$symbol};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1479587432, "last_edit_date": 1479587432, "creation_date": 1479586972, "answer_id": 40697515, "question_id": 40697193, "link": "https://stackoverflow.com/questions/40697193/perl-hash-operator-expected-errors/40697515#40697515", "title": "perl hash: operator expected errors", "body": "<p>You have</p>\n\n<pre><code>''' =&gt; \"6\",\n</code></pre>\n\n<p>in your hash definition which is problematic. You can use <code>\"'\"</code> or <code>q{'}</code> instead.</p>\n\n<p>You could also save yourself and the people whose help you are asking some eye damage by defining <code>%hash</code> as:</p>\n\n<pre><code>my %hash = qw(\n    !  0 \n    \"  1\n    #  2\n    $  3\n    %  4\n    ....\n    H 39\n    I 40\n    J 41\n    K 42\n);\n</code></pre>\n\n<p>or even better:</p>\n\n<pre><code>my @sym = qw( ! \" # $ % &amp; ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K );\n\nmy %symmap = map +($sym[$_] =&gt; $_), 0 .. $#sym; \n</code></pre>\n\n<p>This will result in the following warnings:</p>\n\n<blockquote>\n  <p>Possible attempt to put comments in qw() list ...</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>Possible attempt to separate words with commas ...</p>\n</blockquote>\n\n<p>That's because the <code>qw</code> contains <code>#</code> and <code>,</code> characters. You can turn them off using</p>\n\n<pre><code>no warnings 'qw';\n</code></pre>\n\n<p>in the smallest applicable scope, as in</p>\n\n<pre><code>my %symmap;\n{\n    no warnings 'qw';\n    my @sym = qw( ! \" # $ % &amp; ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K );\n    %symmap = map +($sym[$_] =&gt; $_), 0 .. $#sym; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1479589913, "last_edit_date": 1479589913, "creation_date": 1479589586, "answer_id": 40697907, "question_id": 40697193, "link": "https://stackoverflow.com/questions/40697193/perl-hash-operator-expected-errors/40697907#40697907", "title": "perl hash: operator expected errors", "body": "<p>To complete other answers, note that you can build your hash using the ascii codes (in this way you avoid the quoting problems):</p>\n\n<pre><code>my %symmap = map { (chr($_), $_ - 33) } 33..75;\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 40697243, "answer_count": 3, "score": 0, "last_activity_date": 1479589913, "creation_date": 1479584713, "last_edit_date": 1479587196, "question_id": 40697193, "link": "https://stackoverflow.com/questions/40697193/perl-hash-operator-expected-errors", "title": "perl hash: operator expected errors", "body": "<p>I created a hash where the keys are the symbols of a phred+33 fastq file and the values are the associated fastq scores. I am getting a lot of errors relating to operators being expected throughout the entire code. The code runs fine without the hash portions.</p>\n\n<p>Here is the code: </p>\n\n<pre><code>use warnings; \nuse strict; \n\nopen(IN, '&lt;', '/path/to/in_file.txt') or die $!; \n\nmy @symbols; \nmy $count = 0; \nmy %hash = (\n    '!' =&gt; \"0\",  \n    '\"' =&gt; \"1\", \n    '#' =&gt; \"2\", \n    '$' =&gt; \"3\", \n    '%' =&gt; \"4\", \n    '&amp;' =&gt; \"5\", \n    q(') =&gt; \"6\",\n    '(' =&gt; \"7\", \n    ')' =&gt; \"8\", \n    '*' =&gt; \"9\", \n    '+' =&gt; \"10\", \n    ',' =&gt; \"11\", \n    '-' =&gt; \"12\", \n    '.' =&gt; \"13\", \n    '/' =&gt; \"14\", \n    '0' =&gt; \"15\", \n    '1' =&gt; \"16\", \n    '2' =&gt; \"17\", \n    '3' =&gt; \"18\", \n    '4' =&gt; \"19\", \n    '5' =&gt; \"20\", \n    '6' =&gt; \"21\", \n    '7' =&gt; \"22\", \n    '8' =&gt; \"23\", \n    '9' =&gt; \"24\", \n    ':' =&gt; \"25\", \n    ';' =&gt; \"26\", \n    '&lt;' =&gt; \"27\", \n    '=' =&gt; \"28\", \n    '&gt;' =&gt; \"29\", \n    '?' =&gt; \"30\", \n    '@' =&gt; \"31\", \n    'A' =&gt; \"32\", \n    'B' =&gt; \"33\", \n    'C' =&gt; \"34\", \n    'D' =&gt; \"35\", \n    'E' =&gt; \"36\", \n    'F' =&gt; \"37\", \n    'G' =&gt; \"38\", \n    'H' =&gt; \"39\", \n    'I' =&gt; \"40\", \n    'J' =&gt; \"41\", \n    'K' =&gt; \"42\"\n);\n\nwhile(my $fastq = &lt;IN&gt;){ \n    my $length = length $fastq;\n    if ($length &lt; 4180){ \n        next\n    }\n    my $substring = substr($fastq, 4175, 10);\n    push(@symbols, $substring);\n}\nforeach (@symbols) { \n    my @eachsymbol = split //, $_;\n    $count++;  \n    print \"Sequence \", $count, \"\\n\"; \n    foreach my $symbol (@eachsymbol) { \n        if (exists $hash{$symbol}){\n            print $hash{$symbol}, \"\\n\"; \n        }\n    } \n}       \n</code></pre>\n\n<p>For reference, the input file looks like: \n!''<em>((((<strong></em>+))%%%++)(%%%%).1*</strong>-+*''))**</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "edited": false, "score": 0, "creation_date": 1479583557, "post_id": 40696926, "comment_id": 68623295, "body": "Looks like you are using perlbrew. Check out <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew.pl</a>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479584784, "post_id": 40696926, "comment_id": 68623672, "body": "try running your script with perl directly: <code>perl script.pl</code>. Also, changing your shebang line to <code>#!&#47;usr&#47;bin&#47;env perl</code> may fix it as well"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479584952, "post_id": 40696926, "comment_id": 68623720, "body": "@stevieb The problem is that the OP is telling the shell to use <code>&#47;usr&#47;bin&#47;perl</code> to execute the script. The script, the shell, and the environment are all under the OP&#39;s control. There is no need for workarounds."}], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 1256378, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c3ed17fec9eede6755d00dc115a34da9?s=128&d=identicon&r=PG", "display_name": "user1256378", "link": "https://stackoverflow.com/users/1256378/user1256378"}, "edited": false, "score": 0, "creation_date": 1479585761, "post_id": 40697078, "comment_id": 68623991, "body": "Thanks Mort for the tips."}], "tags": [], "owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "is_accepted": false, "score": 0, "last_activity_date": 1479584020, "creation_date": 1479584020, "answer_id": 40697078, "question_id": 40696926, "link": "https://stackoverflow.com/questions/40696926/why-cant-my-perl-script-locate-dbd-mysql-pm-even-though-cpan-tells-me-dbdmysq/40697078#40697078", "title": "Why can&#39;t my Perl script locate DBD/mysql.pm even though cpan tells me DBD::mysql is installed?", "body": "<p>I think you've answered your own question. <code>perldoc</code> tells you that DBI:mysql is installed in <code>/Users/user/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/DBD/mysql.pm</code>, and perl tells you that <code>INC</code> does not contain that path.</p>\n\n<p>The simplest solution to start is to either run <code>perl -I &lt;path above&gt;</code> or <code>use lib &lt;path above&gt;;</code>. I'm sure there's a better solution, but this is enough to get you started solving your own problem.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1479584690, "last_edit_date": 1479584690, "creation_date": 1479584280, "answer_id": 40697123, "question_id": 40696926, "link": "https://stackoverflow.com/questions/40696926/why-cant-my-perl-script-locate-dbd-mysql-pm-even-though-cpan-tells-me-dbdmysq/40697123#40697123", "title": "Why can&#39;t my Perl script locate DBD/mysql.pm even though cpan tells me DBD::mysql is installed?", "body": "<p>Your shebang line refers to <code>/usr/bin/perl</code>. That is the interpreter that will be used to execute your script.</p>\n\n<p><code>/usr/bin/perl</code> is the <code>perl</code> that comes with your system. You did the right thing by not messing with the modules that came with it and instead installing your own. Now, you should tell your script to use it.</p>\n\n<p>It looks like the correct <code>perl</code> is already in your path. Use <code>which perl</code> to see the full path to it.</p>\n\n<p>As a side note, there is really no reason for the</p>\n\n<pre><code>use DBD::mysql;\n</code></pre>\n\n<p>line. <code>DBI</code> will chose which driver to load based on your connection string.</p>\n\n<p>For more on <a href=\"https://stackoverflow.com/a/2429515/100754\">shebang lines</a>, see <a href=\"https://stackoverflow.com/a/2429515/100754\">my answer on a different question</a>.</p>\n\n<p><a href=\"https://www.effectiveperlprogramming.com/2010/03/make-links-to-per-version-tools/\" rel=\"nofollow noreferrer\">Make links to per-version tools</a> by brian d foy may help. I personally find tools such as <code>perlbrew</code> to be more a hindrance than help.</p>\n"}], "owner": {"reputation": 661, "user_id": 1256378, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c3ed17fec9eede6755d00dc115a34da9?s=128&d=identicon&r=PG", "display_name": "user1256378", "link": "https://stackoverflow.com/users/1256378/user1256378"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "accepted_answer_id": 40697123, "answer_count": 2, "score": 2, "last_activity_date": 1479586162, "creation_date": 1479583089, "last_edit_date": 1479586162, "question_id": 40696926, "link": "https://stackoverflow.com/questions/40696926/why-cant-my-perl-script-locate-dbd-mysql-pm-even-though-cpan-tells-me-dbdmysq", "title": "Why can&#39;t my Perl script locate DBD/mysql.pm even though cpan tells me DBD::mysql is installed?", "body": "<p>OS: Mac 10.12.1, mysql 5.7.15</p>\n\n<pre>perl -e 'print $];'\n5.016000</pre>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p><code>Can't locate DBD/mysql.pm in @INC (you may need to install the DBD::mysql module) (@INC contains: /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at ./testDBConnection.pl line 8.\n  BEGIN failed--compilation aborted at ./testDBConnection.pl line 8.</code></p>\n</blockquote>\n\n<p>Source Code:</p>\n\n<pre><code>#!/usr/bin/perl\n\n#use lib '/usr/bin/cpan'; \nuse strict; \nuse FileHandle; \nuse File::Spec; \nuse DBI; \nuse DBD::mysql;\n</code></pre>\n\n<p>When I run: <code>cpan DBD::mysql</code></p>\n\n<pre><code>Reading '/Users/user/.cpan/Metadata'\n  Database was generated on Fri, 18 Nov 2016 19:41:02 GMT\nDBD::mysql is up to date (4.039).\n</code></pre>\n\n<p>When I run: <code>perldoc -lm DBI DBD::mysql</code></p>\n\n<blockquote>\n  <p><code>/Users/user/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/DBI.pm</code></p>\n  \n  <p><code>/Users/user/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level/DBD/mysql.pm</code></p>\n</blockquote>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["perl", "variables"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1479580661, "post_id": 40696308, "comment_id": 68622409, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/845060/what-is-the-difference-between-my-and-our-in-perl\">What is the difference between my and our in Perl?</a>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1479581775, "post_id": 40696308, "comment_id": 68622785, "body": "@SteffenUllrich I don&#39;t think so. That&#39;s a mechanistic question, <i>what</i> do <code>our</code> and <code>my</code> do? This question is <i>why</i> would one use <code>our</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1479581560, "last_edit_date": 1479581560, "creation_date": 1479581189, "answer_id": 40696656, "question_id": 40696308, "link": "https://stackoverflow.com/questions/40696308/when-is-our-needed-in-a-perl-program/40696656#40696656", "title": "When is our needed in a Perl program?", "body": "<p>It is needed in certain circumstances, such as accessing the class variables from other locations where you don't need/can't use a getter:</p>\n\n<pre><code>package Package;\nour $VERSION = '0.01';\n1;\n</code></pre>\n\n<p>Now:</p>\n\n<pre><code>perl -wMstrict -MPackage -E 'say $Package::VERSION'\n0.01\n</code></pre>\n\n<p>If the <code>$VERSION</code> variable was declared with <code>my</code>:</p>\n\n<pre><code>Use of uninitialized value $Package::VERSION in say at -e line 1.\n</code></pre>\n\n<p>That is, the variable is not visible outside of the package namespace itself, because when using <code>my</code>, it is lexical to the package itself, ie. it's in package scope only.</p>\n\n<p>You must also use <code>our</code> if you are exporting variables:</p>\n\n<pre><code>package Package;\nuse Exporter;\nour @ISA = 'Exporter';\nour @EXPORT = qw($x);\n\nour $x = 10;\n\n1;\n</code></pre>\n\n<p>This will print 10:</p>\n\n<pre><code>perl -wMstrict -MPackage -E 'say $x'\n</code></pre>\n\n<p>...but with <code>my</code>, you'll get the same warning as above.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479604192, "post_id": 40696728, "comment_id": 68628230, "body": "Re &quot;<i>When you&#39;re required to use a global variable.</i>&quot;, i.e. When the variable needs to be accessed by name from another file. Many call file-scoped variables global variables, but they aren&#39;t, and <code>my</code> is the better choice for them."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1479582169, "last_edit_date": 1479582169, "creation_date": 1479581718, "answer_id": 40696728, "question_id": 40696308, "link": "https://stackoverflow.com/questions/40696308/when-is-our-needed-in-a-perl-program/40696728#40696728", "title": "When is our needed in a Perl program?", "body": "<h1>Use <code>our</code> when...</h1>\n\n<ol>\n<li>You're required to use a global variable.</li>\n<li>You want to use <code>local</code> (which you probably shouldn't).</li>\n</ol>\n\n<hr>\n\n<p>In general you're correct, <strong><em>anything you might do as a global variable could be done with a class method accessor gaining all the advantages of encapsulation</em></strong>.</p>\n\n<p>For example...</p>\n\n<pre><code>package Foo;\nuse strict;\nuse warnings;\n\nour $Thing = 42;\n</code></pre>\n\n<p>compared to...</p>\n\n<pre><code>package Foo;\nuse strict;\nuse warnings;\n\nsub thing { 42 }\n</code></pre>\n\n<p>What happens if <code>$Foo::Thing</code> is no longer a simple constant? What if it's something that turns out to be expensive to calculate and rarely used? By encapsulating with <code>Foo-&gt;thing</code> you can do the calculation only when needed.</p>\n\n<p>It also allows subclasses to override class information.</p>\n\n<pre><code>package Bar;\nour @ISA = qw(Foo);\n\nsub thing { 23 }\n</code></pre>\n\n<hr>\n\n<p>And that brings us to when to use <code>our</code>: when you have to. There's a lot of Perl features and libraries that read global variables either by convention or implementation. The most common examples are <code>@ISA</code> for subclassing, <code>$VERSION</code>, and the salad of <a href=\"https://metacpan.org/pod/Exporter\" rel=\"nofollow noreferrer\">Exporter</a> variables like <code>@EXPORT</code>.</p>\n\n<p>There are better ways to do this, and many modules like Exporter have replacements, but many of these conventions were laid down when Perl 5 wasn't comfortable with OO.</p>\n\n<hr>\n\n<p>There is one final use of <code>our</code> and that's to take advantage of <code>local</code>. It can be used to pass extra data around without changing the function signatures. The original value is automatically restored when the function exits.</p>\n\n<pre><code>our $foo;\n\nsub something {\n    ...do something involving $foo and set $stuff...\n\n    local $foo = $stuff;\n    something();\n}\n</code></pre>\n\n<p>Yes, this is a poor example.</p>\n\n<p>The circumstances where this is useful and advisable are, again, indicative of bad design. Usually it's used to pass extra data between functions without changing their signature, often as part of recursion. File::Find is littered with this technique. Run <code>perldoc -m File::Find</code> and poke around.</p>\n"}], "owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 40696728, "answer_count": 2, "score": 2, "last_activity_date": 1479584510, "creation_date": 1479579153, "last_edit_date": 1479584510, "question_id": 40696308, "link": "https://stackoverflow.com/questions/40696308/when-is-our-needed-in-a-perl-program", "title": "When is our needed in a Perl program?", "body": "<p>It seems that <em>our</em> is only needed for exposing a (global) variable in a package. In other contexts, its use only helps readability but is not required.</p>\n\n<p>And if the above observation is right, then by following the practice of encapsulation, it's not even needed in a package, because <em>my</em> would be used, and getter and setter would be provided.</p>\n\n<p>Assuming my application can completely be implemented using OOD, and that within a package, data is strictly passed around using args to subroutines, would I then completely obviate the need for <em>our</em>?</p>\n"}, {"tags": ["perl", "redis", "publish-subscribe", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1479644487, "post_id": 40694668, "comment_id": 68635872, "body": "If you could write the tests, it could simplify problem detection."}, {"owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1479659098, "post_id": 40694668, "comment_id": 68640595, "body": "I think, I am first struggling with the understanding how it should work.  It is difficult to write a test if a basic case fails your expectations. I must have done some basic mistake here, but I can&#39;t see it."}], "owner": {"reputation": 497, "user_id": 668247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9753585e9c97a4009c17adffe41f9f47?s=128&d=identicon&r=PG", "display_name": "vikin9", "link": "https://stackoverflow.com/users/668247/vikin9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1479569736, "creation_date": 1479569736, "question_id": 40694668, "link": "https://stackoverflow.com/questions/40694668/mojoredis2-as-task-queue-nondeterministic-behavior", "title": "Mojo::Redis2 as task queue - nondeterministic behavior", "body": "<p>I would like to implement light job queue using Redis (minion requires Postgresql). I can successfully run <a href=\"https://gist.github.com/vikin91/b8c78c8d705959759c7b95773f225b5c\" rel=\"nofollow noreferrer\">a minimal example</a> but I have problem with my full Mojolicious application.</p>\n\n<p>In the <code>startup</code> routine and the call look as follows.</p>\n\n<pre><code>sub startup{\n    ...\n    ###################### Redis part\n    $self-&gt;helper(\n        redis =&gt; sub {\n            state $redis = Mojo::Redis2-&gt;new(server =&gt; '127.0.0.1:6379'); \n        }\n    );\n\n    $self-&gt;redis-&gt;on(message =&gt; sub {\n        my ($redisself, $message, $channel) = @_;\n\n        # PROBLEM: on morbo this is blocking\n        # PROBLEM: on hypnotoad this works only sometimes \n        # - e.g., for the first time after hot deployment restart\n\n        say \"DEQUEUE: $message @ $channel\";\n        sleep (10); # replaces long-running operation\n        say \"FINISHED processing: $message @ $channel\";\n    });\n\n    $self-&gt;redis-&gt;subscribe(['long_running_tasks'] =&gt; sub {\n        my ($rself, $err, $res) = @_;\n        say \"SUBSCRIBED to channel long_running_tasks\";       \n    });\n\n    $self-&gt;redis-&gt;on(connection =&gt; sub { \n        my ($self, $info) = @_;  \n        say \"got redis connection id: $info-&gt;{id}, group: $info-&gt;{group}, nblocking: $info-&gt;{nb}.\";\n    });\n\n    $self-&gt;redis-&gt;on(error =&gt; sub {\n        my ($self, $err) = @_;\n        say \"got redis error $err\";\n    });\n    ######################## Redis part END\n    ... \n\n    # route\n    $manager-&gt;get('/regenerate')-&gt;to('controller#regenerate');\n}\n\n\n#######################\n# in the Controller.pm\n#######################\nsub regenerate {\n    my $self = shift;\n\n    $self-&gt;redis-&gt;publish(\"long_running_tasks\" =&gt; \"regenerate\");\n\n    $self-&gt;flash(\n        msg_type =&gt; 'info',\n        msg      =&gt; 'Regeneration of will be executed in background.'\n    );\n    $self-&gt;redirect_to($self-&gt;get_referrer());\n}\n</code></pre>\n\n<p>I run Redis 3.2.5 (homebrew) on my localhost.\nThe problems concern nondeterministic behavior of the code.</p>\n\n<ul>\n<li>the minimal example\n\n<ul>\n<li>runs fine on morbo</li>\n<li>the publish action is executed 3 times on hypnotoad</li>\n</ul></li>\n<li>the big example\n\n<ul>\n<li>on morbo, the publish action is blocking, but runs fine</li>\n<li>on hypnotoad, the publish action is executed in a non-blocking fashion but the execution happens only in for some calls (e.g., some of the first calls after a hot deployment restart)\n\n<ul>\n<li>subscribe action is always successful</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Where are the problems?</p>\n"}, {"tags": ["perl", "eval"], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 0, "creation_date": 1479563467, "post_id": 40693301, "comment_id": 68616739, "body": "Quentin, thank you. I misunderstood that eval in general would always get a result from EXPR, including catching any fatal error. Obviously, that&#39;s not the case for str eval."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 0, "creation_date": 1479585050, "post_id": 40693301, "comment_id": 68623758, "body": "I notice the following paragraph from perldoc -f eval: &quot;If there is a syntax error or runtime error, or a die statement is executed, eval returns undef in scalar context or an empty list in list context...&quot; I found this paragraph misleading because it seems to suggest that a program should always continue after eval() (str or block). Am I again misunderstanding something here?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 1, "creation_date": 1479585545, "post_id": 40693301, "comment_id": 68623913, "body": "@Ltf4an \u2014 (1) The expression executes as normal (2) The return value (expected to be a string) is passed to <code>eval</code>. (3) <code>eval</code> evaluates that string. The rule you quote applies during step 3, which you never reach in your example."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 0, "creation_date": 1479587953, "post_id": 40693301, "comment_id": 68624629, "body": "Your explanation in concrete steps is excellent, and I completely got it. I think it&#39;s much better than the documentation. Do you know how I can request to have it updated?"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 5, "last_activity_date": 1479561114, "creation_date": 1479561114, "answer_id": 40693301, "question_id": 40693144, "link": "https://stackoverflow.com/questions/40693144/why-does-calling-eval-without-a-block-terminate-this-perl-program/40693301#40693301", "title": "Why does calling eval without a block terminate this Perl program?", "body": "<p><code>perldoc -f eval</code></p>\n\n<blockquote>\n<pre><code>eval EXPR\neval BLOCK\neval    In the first form, often referred to as a \"string eval\", the\n        return value of EXPR is parsed and executed as if it were a little\n        Perl program.\n</code></pre>\n</blockquote>\n\n<p>\u2026 so <code>die</code> is called and then the string it returns is evaluated. </p>\n\n<p>\u2026 except it doesn't return a string. It makes the program die so <code>eval</code> is never called.</p>\n"}], "owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 40693301, "answer_count": 1, "score": 3, "last_activity_date": 1479567994, "creation_date": 1479560081, "last_edit_date": 1479567994, "question_id": 40693144, "link": "https://stackoverflow.com/questions/40693144/why-does-calling-eval-without-a-block-terminate-this-perl-program", "title": "Why does calling eval without a block terminate this Perl program?", "body": "<p>The following program stops at the 2nd call to eval. Is that expected? I read <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">perldoc -f eval</a> and am surprised that the output of print \"2: ...\" is not displayed.</p>\n\n<pre><code>eval {die(\"The curly braces seem to rescue me! Life moves on\")};\nprint \"1: $@\\n\";\neval die(\"Program actually terminates here! Subsequent prints are not shown\");\nprint \"2: $@\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1479547126, "post_id": 40690987, "comment_id": 68612014, "body": "I dont know if I&#39;m doing anything wrong, but I&#39;m  running your script as: perl script.pl inputfile &gt; outputfile, and it shows: syntax error at 1.pl line 8, near &quot;say join&quot; Execution of 1.pl aborted due to compilation errors"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 1, "creation_date": 1479547252, "post_id": 40690987, "comment_id": 68612038, "body": "@J.Carter  I presumed that there is more in your script.  Also, I was sloppy with that <code>say</code> -- it needs <code>use feature qw(say);</code>.  I replaced it with <code>print</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479549559, "post_id": 40690987, "comment_id": 68612597, "body": "It troubles me that Stack Overflow has become a code factory for people who couldn&#39;t debug their own breakfast."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1479547254, "last_edit_date": 1479547254, "creation_date": 1479545700, "answer_id": 40690987, "question_id": 40690597, "link": "https://stackoverflow.com/questions/40690597/what-changes-in-the-loop-needed-to-get-the-output/40690987#40690987", "title": "What changes in the loop needed to get the output?", "body": "<p>How about getting out of that regex</p>\n\n<pre><code>while (&lt;&gt;) \n{\n    if (/^&gt;/) \n    {\n        my @fields = split '\\|', $_;\n\n        if (@fields &lt;= 2) {  print $fields[0] }\n        else              {  print join '|', @fields[0,1] }\n\n        next;\n    }\n\n    print;\n}\n</code></pre>\n\n<p>Please consider possible edge cases.  It's easy when you have an array.</p>\n\n<p>With regex, one can match cases separately, or carefully come up with one that somehow bundles those two to three different scenarios, which will be far more involved.</p>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 1, "accepted_answer_id": 40690987, "answer_count": 1, "score": 0, "last_activity_date": 1479547254, "creation_date": 1479542678, "question_id": 40690597, "link": "https://stackoverflow.com/questions/40690597/what-changes-in-the-loop-needed-to-get-the-output", "title": "What changes in the loop needed to get the output?", "body": "<p>I have files that has header format starts with > character. Say if the header is in this format: '>anything1|anything2', I use this script to trim header and to get output header '>anything1'.</p>\n\n<pre><code>while (&lt;&gt;) {\n    if (/^(&gt;[^|]*)/) {\n    print \"$1\\n\";\n    } else {\n    print;\n    }\n}\n</code></pre>\n\n<p>But now, in my files some header are large like this:</p>\n\n<pre><code>&gt;anything1|anything2|anything3 bla bla bla /#\n</code></pre>\n\n<p>and some headers are like:</p>\n\n<pre><code>&gt;anything1\n</code></pre>\n\n<p>Now from this mixed header type in a single file, if I want a output that trim headers up to 2 character for larger headers (that is, '>anything1|anything2' for the above large header) and keep one character for the small headers (i.e., '>anything1' only for the above small header), what changes should I have to do in my loop?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "testing", "catalyst"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479553802, "post_id": 40692186, "comment_id": 68613826, "body": "I don&#39;t have access to a Catalyst right now. I&#39;ll revise this once I do."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "edited": false, "score": 0, "creation_date": 1479564960, "post_id": 40692186, "comment_id": 68617118, "body": "Glad this helped you @Amid. Please accept the answer if it solved your problem. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> how to do that."}, {"owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "edited": false, "score": 0, "creation_date": 1479711203, "post_id": 40692186, "comment_id": 68656209, "body": "Hi simbabque, can I use this ctx_request with post_ok see the below code, I am getting the error.  $ua1-&gt;post_ok(&quot;/corp/product/$branchid&quot;,   &#39;Content-Type&#39; =&gt; &#39;application/json&#39;,  Content =&gt; $product_add_json ) or BAIL_OUT  Dumper $ua1-&gt;response;  my($res, $c) = ctx_request(&quot;/corp/product/$branchid&quot;);                 $c-&gt;log-&gt;info( np $res, &quot;response output is&quot;); I am getting error Can&#39;t locate object method &quot;np&quot; via package &quot;HTTP::Headers&quot; at /usr/share/perl5/HTTP/Message.pm line 644. while I installed Data::Printer package and included it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "edited": false, "score": 0, "creation_date": 1479720204, "post_id": 40692186, "comment_id": 68660397, "body": "@AmitBondwal put parenthesis after the <code>np</code> call. Perl gets confused and thinks you are doing indirect object notation. Make it <code>$c-&gt;log-&gt;info(np($res))</code> and get rid of that other text. If you want two lines of log, call <code>$c-&gt;log-&gt;info()</code> twice."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1479553788, "creation_date": 1479553788, "answer_id": 40692186, "question_id": 40690531, "link": "https://stackoverflow.com/questions/40690531/not-able-to-print-a-variable-hash-in-a-test-case-with-testwwwmechanizecata/40692186#40692186", "title": "Not able to print a variable/hash in a test case with Test::WWW::Mechanize::Catalyst in perl catalyst app", "body": "<p>When you run your tests with <code>prove</code> you need to add the <code>-v</code> flag to see all the test output.</p>\n\n<pre><code>$ prove -v t/\n</code></pre>\n\n<p>That way it will not eat up all the TAP output.</p>\n\n<p>You can then use <a href=\"https://metacpan.org/pod/Test::More#Diagnostics\" rel=\"nofollow noreferrer\"><code>diag</code> from Test::More</a> to output comments into the TAP, or <a href=\"http://perldoc.perl.org/functions/warn.html\" rel=\"nofollow noreferrer\">the <code>warn</code> builtin</a>.</p>\n\n<pre><code>use Test::More;\n\npass 'first test';\ndiag 'this is a diagnostical message';\n\nmy $res = pass 'another test';\nwarn $res;\n\ndone_testing;\n</code></pre>\n\n<p>That produces this output (on Windows):</p>\n\n<pre><code>$ prove -v foo.pl\nfoo.pl .. # this is a diagnostical message\n\n1 at foo.pl line 7.\nok 1 - first test\nok 2 - another test\n1..2\nok\nAll tests successful.\nFiles=1, Tests=2,  0 wallclock secs ( 0.02 usr +  0.02 sys =  0.03 CPU)\nResult: PASS\n</code></pre>\n\n<p>However, what I usually do is to use <a href=\"https://metacpan.org/pod/Data::Printer\" rel=\"nofollow noreferrer\">Data::Printer</a>'s <code>p</code> function, which also writes to STDERR like a warning. It's a bit more powerful than Data::Dumper and displays objects nicely. The debug output from <code>p</code> will also just end up somewhere in the TAP. </p>\n\n<p>It can get confusing if there is a lot of logging from the application going on, so turning off the Catalyst log is an option. To do that, run your tests with the environment variable <code>CATALYST_DEBUG</code> set to <code>0</code>.</p>\n\n<pre><code>$ CATALYST_DEBUG=0 prove -v t/\n</code></pre>\n\n<p>If instead you want your debug output <em>from the test</em> go into the Catalyst log, you need to grab a context. That's a bit more tricky, but possible.</p>\n\n<pre><code>use Test::More\nuse Test::WWW::Mechanize::Catalyst;\nuse Catalyst::Test 'MyApp';\nuse Data::Printer;\n\nmy $mech = Test::WWW::Mechanize::Catalyst-&gt;new(catalyst_app =&gt; 'MyApp');\n\n$mech-&gt;get_ok(\"/\");\n\nmy($res, $c) = ctx_request('/');\n$c-&gt;log-&gt;warn(np $res); # this will go to the Catalyst log\n</code></pre>\n\n<p>That code uses both <a href=\"https://metacpan.org/pod/Test::WWW::Mechanize::Catalyst\" rel=\"nofollow noreferrer\">Test::WWW::Mechanize::Catalyst</a> and <a href=\"https://metacpan.org/pod/Catalyst::Test\" rel=\"nofollow noreferrer\">Catalyst::Test</a>. If you pass the same app name they won't get into each other's way and the app will only be started once.</p>\n\n<p>I'm showing a regular mech test with <code>get_ok</code> and the <code>ctx_request</code> function from Catalyst::Test. It returns an HTTP::Response object and the context <code>$c</code> from that request. You can run <code>-&gt;log</code> on the context and your debugging will go to the Catalyst log. I'm using <code>np</code> from Data::Printer, which returns the debugging info generated by Data::Printer instead of writing it to STDOUT so I can put it into the Catalyst log.</p>\n"}], "owner": {"reputation": 103, "user_id": 5364237, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cacfbd57d7d2ed27cc409556f8aeaae4?s=128&d=identicon&r=PG&f=1", "display_name": "Amit Bondwal", "link": "https://stackoverflow.com/users/5364237/amit-bondwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 40692186, "answer_count": 1, "score": 1, "last_activity_date": 1479553788, "creation_date": 1479542147, "question_id": 40690531, "link": "https://stackoverflow.com/questions/40690531/not-able-to-print-a-variable-hash-in-a-test-case-with-testwwwmechanizecata", "title": "Not able to print a variable/hash in a test case with Test::WWW::Mechanize::Catalyst in perl catalyst app", "body": "<p>I am writing test cases for a Perl Catalyst based web application with Test::WWW::Mechanize::Catalyst. I stuck somewhere and I want to troubleshoot by printing a variable/hash value. But the problem is that it just show the console log of Catalyst App. How can I print a variable value in console? like in catalyst $c->log->info($variable value).  </p>\n"}, {"tags": ["perl", "signals", "perl5.10"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479525179, "post_id": 40688429, "comment_id": 68607906, "body": "works fine on 5.24 (it seems). Don&#39;t have time to test, but what happens if you put the sig handler in a <code>BEGIN</code> block on 5.10... does that change anything? I hope and think not..."}, {"owner": {"reputation": 940, "user_id": 1275256, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5cd12beabbb9d483c03d843cc504e5c0?s=128&d=identicon&r=PG", "display_name": "gxtaillon", "link": "https://stackoverflow.com/users/1275256/gxtaillon"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479526181, "post_id": 40688429, "comment_id": 68608072, "body": "I&#39;ve tested it again with 5.22 at home and I&#39;ve got the same behavior. Launch then Ctrl-C -&gt; Caught..., with end block: &lt;nothing&gt;.  As for the BEGIN block, on 5.22, setting the handler there get signals caught, but with an END block too, signals are still uncaught."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479526406, "post_id": 40688429, "comment_id": 68608110, "body": "You&#39;re absolutely right here. I was mistaken. The sig handler does not catch properly, even in 5.24 as I said earlier. I thought I&#39;ve done this in code before, but somehow, I&#39;m starting to doubt it as I can&#39;t get it to work on several perlbrew instances."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479526764, "post_id": 40688429, "comment_id": 68608173, "body": "&quot;Note Signals that are sent to your script can bypass the END blocks.&quot; perhaps there&#39;s a misunderstanding/misinterpretation there. If sigs can &quot;bypass&quot; END blocks, then maybe this makes sense. Could &quot;bypass&quot; here mean &#39;override&#39;?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479526890, "post_id": 40688429, "comment_id": 68608191, "body": "out of curiosity, what is your objective? I&#39;m not going all XY on you as you&#39;ve raised something interesting, but what is it you&#39;re trying to achieve?"}, {"owner": {"reputation": 940, "user_id": 1275256, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5cd12beabbb9d483c03d843cc504e5c0?s=128&d=identicon&r=PG", "display_name": "gxtaillon", "link": "https://stackoverflow.com/users/1275256/gxtaillon"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479526932, "post_id": 40688429, "comment_id": 68608195, "body": "Wouldn&#39;t there be red flags everywhere in the manual if this was intended behaviour, or at least a mention, somewhere, that this occurs? The objective was centralised children management in a script that forks lots of children and grand children in lots of use cases. It seemed to make sense to wait for children there. My mistake was committing lots of work at once and having to backtrack to the real issue...."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479527130, "post_id": 40688429, "comment_id": 68608237, "body": "well, probably not. END blocks are executed at the end of everything, so perhaps, ^C (interrupt) kills the proc before END can be executed. I&#39;m now starting to think logically that this is designed behaviour. I hope someone else can speak up here"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479528193, "post_id": 40688429, "comment_id": 68608429, "body": "You seem to feel personally wronged. No one picked you out. Perl is a programming language, and you would get a better answer much more quickly if you got alongside the rest of us who trust and respect the language but occasionally find a bug that needs to be fixed. In this case I am not surprised that signals are disabled by an <code>END</code> block, otherwise it could lead to an indefinite cycle. Are you asking for documentation of the change between versions of Perl?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479528632, "post_id": 40688429, "comment_id": 68608502, "body": "I should explain that I had edited your question to be much less strident, and my criticisms relate to your original post."}, {"owner": {"reputation": 940, "user_id": 1275256, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5cd12beabbb9d483c03d843cc504e5c0?s=128&d=identicon&r=PG", "display_name": "gxtaillon", "link": "https://stackoverflow.com/users/1275256/gxtaillon"}, "edited": false, "score": 0, "creation_date": 1479529389, "post_id": 40688429, "comment_id": 68608610, "body": "I understand your concerns but a great programming language, and I have not found one like that yet, would stop you before doing implicit changes, introducing inconsistencies in your program and generally from shooting yourself in the foot. Here why would there be an indefinite cycle? Resetting the handler produces the behaviour I would have expected initially. Yes the END blocks run last but they&#39;re still a part of the program which always stops to let signal handlers run. The precedence seems well defined."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479542967, "post_id": 40688429, "comment_id": 68611068, "body": "@gxtaillon  This is a good question.  But before we get to discussion of behavior as it is, may I please ask for the purpose -- did you want to reap kids in END blocks (judged by your comment)? Or, as in the question, to defend against other signals (since you may have long cleanup procedure, for example)? This is really of only importance and a clarification would help us help you out effectively.  Sorry about the frustration.  But, as we know, there is no perfect anything, and no perfect tool, and most certainly no perfect programming language."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479549057, "post_id": 40688429, "comment_id": 68612458, "body": "@gxtaillon: Larry Wall, the creator of Perl, wrote, <i>&quot;Perl doesn&#39;t have an infatuation with enforced privacy. It would prefer that you stayed out of its living room because you weren&#39;t invited, not because it has a shotgun&quot;</i>"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1480824412, "last_edit_date": 1480824412, "creation_date": 1479552461, "answer_id": 40691964, "question_id": 40688429, "link": "https://stackoverflow.com/questions/40688429/perl-signal-handlers-are-reset-in-end-blocks/40691964#40691964", "title": "Perl signal handlers are reset in END blocks", "body": "<p>This works for me:  Re-install the handler in the <em>END block that runs first</em> (last in code).</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\n$SIG{INT} = sub { say \"SIGINT: got zap!\" };\n\n#sleep 10;\n\nsay \"done\";\n\nEND { say \"END, runs last\" }\nEND { say \"END, runs next to last. Sleep then print\"; sleep 10; say \"Woke up.\"; }\n\n# Executed first in END phase. The sole purpose: to reinstall the handler\nEND { \n    $SIG{INT} = sub { say \"SIGINT in END block, got zap\" };\n}\n</code></pre>\n\n<p>When started and Ctrl-C-ed after a few seconds this prints</p>\n\n<pre>\ndone.\nEND, runs next to last. Sleep then print\n^CSIGINT in END block, got zap\nWoke up.\nEND, runs last\n</pre>\n\n<p>So you need to add an <code>END</code> block, <em>last in the code</em>, <code>END { $SIG{INT} = 'IGNORE' }</code>.</p>\n\n<p>It appears that the change to \"END\" <code>${^GLOBAL_PHASE}</code> removes or otherwise disables the handler. </p>\n\n<p>But once the handler is re-installed in the <code>END</code> phase it is effective throughout.  It's cleanest of course to do that in the <code>END</code> block that is executed first.</p>\n\n<p>I will update when (if) I understand more detail and find documentation on this behavior.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1479571932, "last_edit_date": 1479571932, "creation_date": 1479568762, "answer_id": 40694497, "question_id": 40688429, "link": "https://stackoverflow.com/questions/40688429/perl-signal-handlers-are-reset-in-end-blocks/40694497#40694497", "title": "Perl signal handlers are reset in END blocks", "body": "<p><a href=\"http://perldoc.perl.org/perlmod.html\" rel=\"nofollow noreferrer\">perldoc perlmod</a> says:</p>\n\n<blockquote>\n  <p>An \"END\" code block is executed <strong><em>as late as possible</em></strong>, that is, <strong><em>after</em></strong> <code>perl</code>\n      has finished running the program and just before <strong><em>the interpreter is being\n      exited</em></strong>, even if it is exiting as a result of a <code>die()</code> function. (But not if\n      it's morphing into another program via \"<code>exec</code>\", or being blown out of the\n      water by a signal--you have to trap that yourself (if you can).)</p>\n</blockquote>\n\n<p>I expect signal handlers to have been removed just before the interpreter is being exited. Therefore, I am not quite able to see what is surprising or unanticipated.</p>\n"}], "owner": {"reputation": 940, "user_id": 1275256, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5cd12beabbb9d483c03d843cc504e5c0?s=128&d=identicon&r=PG", "display_name": "gxtaillon", "link": "https://stackoverflow.com/users/1275256/gxtaillon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1480824412, "creation_date": 1479520342, "last_edit_date": 1479527809, "question_id": 40688429, "link": "https://stackoverflow.com/questions/40688429/perl-signal-handlers-are-reset-in-end-blocks", "title": "Perl signal handlers are reset in END blocks", "body": "<p>This works as expected since Perl 5.10.1: SIGINTs are trapped.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n$SIG{INT} = sub { die \"Caught a sigint $!\" };\n\nsleep(20);\n</code></pre>\n\n<p>But here SIGINTs are <strong><em>not</em></strong> trapped.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n$SIG{INT} = sub { die \"Caught a sigint $!\" };\n\nEND {    \n    sleep(20);\n}\n</code></pre>\n\n<p>This can be fixed by setting the handler again in the <code>END</code> block, like so:</p>\n\n<pre><code>END {\n    $SIG{INT} = sub { die \"Caught a sigint $!\" };\n\n    sleep(20);\n}\n</code></pre>\n\n<p>But that won't work if you have more than one block: handlers must be set again for every block.</p>\n\n<p>I've tried to figure this out and I can't find an explanation at <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\"><strong>perldoc</strong></a>. The only mention of this behaviour I can find is a footnote from <a href=\"https://users.cs.cf.ac.uk/Dave.Marshall/PERL/node134.html\" rel=\"nofollow noreferrer\"><strong>Practical Perl Programming</strong> A D Marshall 1999-2005</a></p>\n\n<blockquote>\n  <p>Note Signals that are sent to your script can bypass the END blocks.</p>\n</blockquote>\n\n<p>Would someone explain this?</p>\n"}, {"tags": ["perl", "unix", "connection", "sftp", "hp-ux"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1479515248, "post_id": 40687858, "comment_id": 68606256, "body": "This seems relevant: <code>read_passphrase: can&#39;t open &#47;dev&#47;tty: No such device or address</code>"}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1479515308, "post_id": 40687858, "comment_id": 68606273, "body": "How come it doesn&#39;t cause problems when I connect to Linux hosts?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1479515395, "post_id": 40687858, "comment_id": 68606285, "body": "How do you connect to the Linux host? Do you use a password, passphrase to a key, passphraseless key, ...? Can you connect to the Windows server via some other tool?"}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1479515502, "post_id": 40687858, "comment_id": 68606304, "body": "password. I can connect to Windows server from command line using sftp command, as well as using WinScp from my desktop"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1479525148, "post_id": 40687858, "comment_id": 68607902, "body": "<i>&quot;Please, notice that it works for linux hosts&quot;</i> But you have tagged your question &quot;unix&quot; and &quot;hp-ux&quot;. Your question mentions Windows too. Please tidy the tags and explain clearly which source and destination systems work, and which don&#39;t."}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1479582370, "post_id": 40687858, "comment_id": 68622963, "body": "The Windows server may be using a custom password prompt not recognized by Net::SFTP::Foreign. See <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#password_prompt-regex_or_str\" rel=\"nofollow noreferrer\">password_prompt</a>"}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "reply_to_user": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1479757885, "post_id": 40687858, "comment_id": 68683509, "body": "@salva. I get an error &quot;Invalid option &#39;password_prompt&#39; or bad combination&quot; for $ftp = Net::SFTP::Foreign-&gt;new(host =&gt; &#39;myHost&#39;, port =&gt; 22, user =&gt; &#39;myUserId&#39;, password =&gt; &#39;myPassword&#39;, password_prompt =&gt; qr/\\bpassword&gt;\\s*$/);"}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "edited": false, "score": 0, "creation_date": 1479758219, "post_id": 40687858, "comment_id": 68683682, "body": "perl -MCPAN -e &#39;print &quot;$CPAN::VERSION\\n&quot;&#39; returns 2.10"}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "edited": false, "score": 0, "creation_date": 1479759285, "post_id": 40687858, "comment_id": 68684244, "body": "password_prompt is not the issue. I tried with different account and it works for that account. I suspect that the issue could be caused by special characters in the password"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1479801178, "post_id": 40687858, "comment_id": 68698680, "body": "Could you log manually into that machine using <code>ssh</code> from the command line and add to your post above a capture of the full interaction? Also, which version of Net::SFTP::Foreign are you using?"}, {"owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "edited": false, "score": 0, "creation_date": 1480013199, "post_id": 40687858, "comment_id": 68808137, "body": "Version of Net::SFTP::Foreign is &#39;1.71&#39;. Other requested info I added in the question description"}], "answers": [{"comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 1, "creation_date": 1480068006, "post_id": 40795343, "comment_id": 68825440, "body": "oh, that&#39;s a <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#Password-authentication-on-HP-UX\" rel=\"nofollow noreferrer\">known issue</a> on HP-UX. So far, nobody has been able to explain why it happens!"}], "tags": [], "owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1480026899, "creation_date": 1480026899, "answer_id": 40795343, "question_id": 40687858, "link": "https://stackoverflow.com/questions/40687858/netsftpforeign-doesnt-work-for-connectiong-to-windows-host-from-hp-ux/40795343#40795343", "title": "Net::SFTP::Foreign doesn&#39;t work for connectiong to Windows host from HP-UX", "body": "<p>The issue was caused by ('#') pound sign character in the password. Super strange. I was able to reproduce the issue on servers from 2 different vendors. So for sure this is a bug in Net::SFTP::Foreign</p>\n\n<p>Notice that this happens only on Windows hosts and works fine for Unix HP and Linux Hosts.</p>\n\n<p>To make my argument a little bit stronger, from command line SSH and SFTP everything works.</p>\n"}], "owner": {"reputation": 914, "user_id": 1179340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162c17e663567825be369bba07574448?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1179340/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 2, "accepted_answer_id": 40795343, "answer_count": 1, "score": 0, "last_activity_date": 1480026899, "creation_date": 1479515002, "last_edit_date": 1480013133, "question_id": 40687858, "link": "https://stackoverflow.com/questions/40687858/netsftpforeign-doesnt-work-for-connectiong-to-windows-host-from-hp-ux", "title": "Net::SFTP::Foreign doesn&#39;t work for connectiong to Windows host from HP-UX", "body": "<p>I use <code>$ftp = Net::SFTP::Foreign-&gt;new(%args);</code> to sftp to Linux machine from HP-UX. It works with no problems.</p>\n\n<p>When I try to connect to an SFTP server installed on Windows, it does not work\n$ftp->error contains <code>Connection to remote server is broken</code> error and <code>login procedure timed out</code> when with  <code>more =&gt; '-v'</code> option.</p>\n\n<p>When I run it with <code>more =&gt; '-vvv'</code> I get below log. Can anyone help me understand the issue and help fixing it?</p>\n\n<pre><code>debug1: Host 'windowsHost' is known and matches the RSA host key.\ndebug1: Found key in /home/user/.ssh/known_hosts:3\ndebug2: bits set: 4101/8192\ndebug1: ssh_rsa_verify: signature correct\ndebug2: kex_derive_keys\ndebug2: set_newkeys: mode 1\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug2: set_newkeys: mode 0\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: Roaming not allowed by server\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug3: input_userauth_banner\nWelcome! Please login.\ndebug1: Authentications that can continue: password,publickey,keyboard-interactive\ndebug3: start over, passed a different list password,publickey,keyboard-interactive\ndebug3: preferred keyboard-interactive,password\ndebug3: authmethod_lookup keyboard-interactive\ndebug3: remaining preferred: password\ndebug3: authmethod_is_enabled keyboard-interactive\ndebug1: Next authentication method: keyboard-interactive\ndebug2: userauth_kbdint\ndebug2: we sent a keyboard-interactive packet, wait for reply\ndebug2: input_userauth_info_req\npassword\nEnter password for user\ndebug2: input_userauth_info_req: num_prompts 1\ndebug1: Authentications that can continue: password,publickey,keyboard-interactive\ndebug2: we did not send a packet, disable method\ndebug3: authmethod_lookup password\ndebug3: remaining preferred: \ndebug3: authmethod_is_enabled password\ndebug1: Next authentication method: password\ndebug1: read_passphrase: can't open /dev/tty: No such device or address\ndebug3: packet_send2: adding 64 (len 55 padlen 9 extra_pad 64)\ndebug2: we sent a password packet, wait for reply\ndebug1: Authentications that can continue: password,publickey,keyboard-interactive\ndebug2: we did not send a packet, disable method\ndebug1: No more authentication methods to try.\nPermission denied (password,publickey,keyboard-interactive).\n</code></pre>\n\n<p>Please, notice that it works for linux hosts</p>\n\n<p>(Per request from comments)\nTrying to connect to via SSH to the SFTP server from unix. I don't believe it is supposed to work and it doesn't...</p>\n\n<pre><code>unixServerName ENV:/home/me/scripts/perl=&gt;ssh user\\@windowsHost\npassword\nEnter password for user\nPassword:\nshell request failed on channel 0\nunixServerName ENV:/home/me/scripts/perl=&gt;\n</code></pre>\n\n<p>Now using SFTP from command line</p>\n\n<pre><code>unixServerName ENV:/home/me/scripts/perl=&gt;sftp user\\@windowsHost\npassword\nEnter password for user\nPassword:\nConnected to windowsHost.\nsftp&gt;\nsftp&gt; quit\nunixServerName ENV:/home/me/scripts/perl=&gt;\n</code></pre>\n"}, {"tags": ["perl", "email", "sendmail"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1479520636, "post_id": 40687856, "comment_id": 68607240, "body": "Don&#39;t send mail using <code>&#47;usr&#47;lib&#47;sendmail</code>. There&#39;s security problems, and it&#39;s probably going to be rejected as spam. Instead use something like <a href=\"https://metacpan.org/pod/Email::Sender\" rel=\"nofollow noreferrer\">Email::Sender</a> or <a href=\"https://metacpan.org/pod/distribution/MailTools/lib/Mail/Send.pod\" rel=\"nofollow noreferrer\">Mail::Send</a>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1479539666, "post_id": 40687856, "comment_id": 68610373, "body": "I&#39;m with @schwern here. Don&#39;t do this. Avoid this. Run away from this code. It&#39;s 2016 and there&#39;s a multitude of very good libraries that will help you properly compose and deliver email messages. This is the kind of stuff that caused no end of security problems in the 1990s and it&#39;s a hazard you&#39;re best to avoid."}, {"owner": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "edited": false, "score": 0, "creation_date": 1479553325, "post_id": 40687856, "comment_id": 68613692, "body": "Hi - thanks for your comments! This is code provided by SpamCop for forwarding emails to them via cPanel. I&#39;m not really a programmer, so I would not know how to implement something else from scratch. :("}], "answers": [{"comments": [{"owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1479536104, "post_id": 40689231, "comment_id": 68609659, "body": "It is possible to talk to sendmail (by sendmail.org) using SMTP via its stdin and stdout. See <code>sendmail -bs</code>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "edited": false, "score": 0, "creation_date": 1479539106, "post_id": 40689231, "comment_id": 68610274, "body": "@AndrzejA.Filip: thanks for pointing out this feature. I&#39;ve included it in the answer."}, {"owner": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "edited": false, "score": 0, "creation_date": 1479553414, "post_id": 40689231, "comment_id": 68613719, "body": "Hi! Thanks for your advice. I see. I am not a coder, so I was just using the script provided by SpamCop for forwarding emails to them via cPanel. I&#39;m not sure how I would implement this via SMTP?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "edited": false, "score": 0, "creation_date": 1479553936, "post_id": 40689231, "comment_id": 68613875, "body": "@user2694249: The documentation for Net::SMTP actually contains example code on how to use it. But the question for me is: since you are not a coder why do you want to code it? Why not just use the script you have working for a single mail and simply call this script for each mail you want to sent? Why do you need to be able to handle multiple mails inside the same script?"}, {"owner": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "edited": false, "score": 0, "creation_date": 1479555364, "post_id": 40689231, "comment_id": 68614277, "body": "Hi Steffen! I want to be able to send one email to SpamCop and a copy to Knujon."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "edited": false, "score": 0, "creation_date": 1479555601, "post_id": 40689231, "comment_id": 68614348, "body": "@user2694249: if you want to send a copy of the mail why not simply add a Cc or Bcc to the mail? Or if you don&#39;t want this just invoke the same script again but with a different recipient?"}, {"owner": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "edited": false, "score": 0, "creation_date": 1479560465, "post_id": 40689231, "comment_id": 68615833, "body": "Hi Steffen! That&#39;s what I&#39;ve been trying to do, but it doesn&#39;t seem to work. I tried adding another To: field, putting two emails in the To: field, adding a BCC: field, but it only send the first email, not the second."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "edited": false, "score": 0, "creation_date": 1479563057, "post_id": 40689231, "comment_id": 68616605, "body": "@user2694249: please add exactly what you&#39;ve tried to your question and please adjust the question (or ask a new one) so that it actually reflects what you want to do. As it stands now it just says that you want to sent multiple mails and not that you want to send the same mail to multiple recipients - which is a lot different."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1479539082, "last_edit_date": 1495542271, "creation_date": 1479529965, "answer_id": 40689231, "question_id": 40687856, "link": "https://stackoverflow.com/questions/40687856/how-do-you-send-the-same-email-to-multiple-recipients-with-sendmail-using-perl/40689231#40689231", "title": "How do you send the same email to multiple recipients with Sendmail using Perl?", "body": "<p>Sending a mail by executing the sendmail program can do only a single mail at a time because that's how the sendmail program works: the mail gets piped into sendmail and the mail is done on EOF. This means you need to invoke sendmail again for the next mail.</p>\n\n<p>Another way would be to not execute sendmail for delivery but directly talk to a SMTP server using <a href=\"https://metacpan.org/pod/Net::SMTP\" rel=\"nofollow noreferrer\">Net::SMTP</a> or similar modules - this way you could also send multiple mails within a single SMTP connection.</p>\n\n<p>EDIT: as noted in a comment by <a href=\"https://stackoverflow.com/users/2139766/andrzej-a-filip\">Andrzej A. Filip</a> one call sendmail with the <code>-bs</code> option so that it works as a minimal SMTP server which expects communication with stdin and stdout. This feature seems to be implemented also in the sendmail wrapper from Postfix which is probably more in use than the <a href=\"http://sendmail.org\" rel=\"nofollow noreferrer\">original sendmail</a>. <br>\nBut, I'm not aware of any module which supports this mode of operation so you are on your own to setup the bidirectional communication with maybe <a href=\"https://metacpan.org/pod/IPC::Open2\" rel=\"nofollow noreferrer\">IPC::Open2</a> and then speak the <a href=\"https://www.ietf.org/rfc/rfc5321.txt\" rel=\"nofollow noreferrer\">SMTP protocol</a> including all the strange end of mail handling and escaping rules. It would be much easier to just talk SMTP to the mail server on localhost using <a href=\"https://metacpan.org/pod/Net::SMTP\" rel=\"nofollow noreferrer\">Net::SMTP</a> which already cares about all the protocol specific stuff and lets you just send the mails.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "is_accepted": false, "score": 0, "last_activity_date": 1480071970, "creation_date": 1480071970, "answer_id": 40803575, "question_id": 40687856, "link": "https://stackoverflow.com/questions/40687856/how-do-you-send-the-same-email-to-multiple-recipients-with-sendmail-using-perl/40803575#40803575", "title": "How do you send the same email to multiple recipients with Sendmail using Perl?", "body": "<p>Adding \"Cc: \" seems to work in this instance. </p>\n\n<p>For some reason, using Bcc: or adding another To: email does NOT work, but Cc: seems to do it. </p>\n"}], "owner": {"reputation": 11, "user_id": 2694249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2544a77cb5888baa2dcb7725f32cabb3?s=128&d=identicon&r=PG&f=1", "display_name": "user2694249", "link": "https://stackoverflow.com/users/2694249/user2694249"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1117, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1480071970, "creation_date": 1479514960, "last_edit_date": 1479634153, "question_id": 40687856, "link": "https://stackoverflow.com/questions/40687856/how-do-you-send-the-same-email-to-multiple-recipients-with-sendmail-using-perl", "title": "How do you send the same email to multiple recipients with Sendmail using Perl?", "body": "<p>I have the following PERL script, but I can't seem to get it to send to more than one email at once. How do I send to multiple emails, preferably as separate emails?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>open(SENDMAIL, \"|/usr/lib/sendmail -oi -t\") || die \"Cannot open sendmail output\";\r\n\r\nprint SENDMAIL  &lt;&lt;\"ENDENDEND\";\r\nFrom: &lt;test\\@test.com&gt;\r\nTo: &lt;test1\\@test1.com&gt;\r\nSubject: report spam\r\nMIME-Version: 1.0\r\nContent-Type: multipart/mixed;\r\n  boundary=\"DeathToSpamDeathToSpamDeathToSpam\"\r\n\r\nThis is a multi-part message in MIME format.\r\n--DeathToSpamDeathToSpamDeathToSpam\r\nContent-Type: text/plain; charset=us-ascii\r\nContent-Transfer-Encoding: 7bit\r\n\r\n\r\n--DeathToSpamDeathToSpamDeathToSpam\r\nContent-Type: message/rfc822\r\nContent-Disposition: attachment\r\n\r\nENDENDEND\r\n\r\nwhile (&lt;STDIN&gt;) {\r\n        print SENDMAIL ;\r\n}\r\n\r\n\r\nprint SENDMAIL  &lt;&lt;\"ENDENDEND\";\r\n\r\n--DeathToSpamDeathToSpamDeathToSpam--\r\nENDENDEND\r\n\r\nclose (SENDMAIL);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479512890, "post_id": 40686558, "comment_id": 68605783, "body": "I&#39;m fascinated to know what strings you&#39;re expecting. Your example reads like the lyrics of &quot;Hallelujah&quot;: <b><i>The minor fall and the major lift / The baffled king composing &quot;Hallelujah&quot;</i></b>"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1479506551, "post_id": 40686589, "comment_id": 68603825, "body": "this helps a ton, but I&#39;m still matching the words themselves. I should be able to fix that on my own though"}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 0, "last_activity_date": 1479506355, "creation_date": 1479506355, "answer_id": 40686589, "question_id": 40686558, "link": "https://stackoverflow.com/questions/40686558/regex-perl-match-all-instances-of-any-string-between-two-specified-strings/40686589#40686589", "title": "Regex /Perl : Match all instances of any string between two specified strings", "body": "<p>Use a non-greedy quantifier:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nmy $string = \"Minor fall major fifth Close to home Minors cannot vote before 18 Polls Close at 8\";\n\nmy @matches = $string =~ /Minor(.*?) Close/gi;\n\nsay for @matches;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code> fall major fifth\ns cannot vote before 18 Polls\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1479506390, "accepted_answer_id": 40686589, "answer_count": 1, "score": -3, "last_activity_date": 1479506515, "creation_date": 1479506204, "last_edit_date": 1479506515, "question_id": 40686558, "link": "https://stackoverflow.com/questions/40686558/regex-perl-match-all-instances-of-any-string-between-two-specified-strings", "closed_reason": "Duplicate", "title": "Regex /Perl : Match all instances of any string between two specified strings", "body": "<p>I need to find all strings that occur between the words \"Close\" and \"Minor\", for example, but the words \"Close\" and \"Minor\" occur many times in my string. How can I use regex to find all of the strings between each instance of \"Close\" and \"Minor\". Example:</p>\n\n<p>In the text</p>\n\n<pre><code>$string = \"Minor fall major fifth Close to home Minors cannot vote before 18 Polls Close at 8\";\n</code></pre>\n\n<p>I want to match</p>\n\n<pre><code> fall major fifth\n</code></pre>\n\n<p>and </p>\n\n<p><code>s cannot vote before 18 Polls</code></p>\n\n<p>I have tried to use this:</p>\n\n<pre><code>my @matches = $string =~ /Minor(.*) Close/gi;\n</code></pre>\n\n<p>but this matches</p>\n\n<pre><code>Minor fall major fifth Close to home Minors cannot vote before 18 Polls Close\n</code></pre>\n\n<p>which matches the words themselves, and does not produce the desired match.</p>\n\n<p>I'm so lost!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1479492507, "post_id": 40682718, "comment_id": 68597244, "body": "the <a href=\"https://metacpan.org/pod/Net::Frame::Simple\" rel=\"nofollow noreferrer\">documentation&#39;s SYNOPSIS</a> doesn&#39;t state that <code>layers</code> param requires it... it shows only <code>$ip4</code> and <code>$tcp</code>, so it appears it works because you&#39;re using it correctly by not passing in <code>$eth</code>"}, {"owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1479492759, "post_id": 40682718, "comment_id": 68597402, "body": "is there a  way to modify the layer 2 information?"}], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "is_accepted": true, "score": 0, "last_activity_date": 1479755165, "creation_date": 1479755165, "answer_id": 40727554, "question_id": 40682718, "link": "https://stackoverflow.com/questions/40682718/using-perls-netframesimple-module-to-rewrite-ethernet-header/40727554#40727554", "title": "Using Perl&#39;s Net::Frame::Simple module to rewrite ethernet header", "body": "<p>I was able to make it work\nFor anyone's reference, if remove the line \"Net::Write::Layer3\" and just do the writing at layer 2 (Net::Write::Layer2) in above code, you can change the src and dst MACs. </p>\n"}], "owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 40727554, "answer_count": 1, "score": 0, "last_activity_date": 1479755165, "creation_date": 1479489632, "question_id": 40682718, "link": "https://stackoverflow.com/questions/40682718/using-perls-netframesimple-module-to-rewrite-ethernet-header", "title": "Using Perl&#39;s Net::Frame::Simple module to rewrite ethernet header", "body": "<p>I am using below code (copied from <a href=\"http://search.cpan.org/~gomor/Net-Frame-Simple-1.06/lib/Net/Frame/Simple.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~gomor/Net-Frame-Simple-1.06/lib/Net/Frame/Simple.pm</a>) to rewrite the ethernet src and dst mac information but its generating bad IP packet.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Net::Frame::Simple;\nuse Net::Frame::Layer::IPv4;\nuse Net::Frame::Layer::TCP;\nuse Net::Frame::Layer::ETH;\nuse Net::Frame::Device;\nuse Net::Write::Layer3;\nuse Net::Frame::Dump::Online;\nuse Net::Write::Layer2;\n\n\nmy $src    = '100.1.1.39';\nmy $target = '200.2.2.97';\nmy $port   = 22;\n\n\nmy $eth = Net::Frame::Layer::ETH-&gt;new(src =&gt; \"00:0c:29:d1:03:06\", dst =&gt; \"03:03:03:03:03:03\");\nmy $ip4 = Net::Frame::Layer::IPv4-&gt;new(src =&gt; $src,dst =&gt; $target);\nmy $tcp = Net::Frame::Layer::TCP-&gt;new(dst =&gt; $port, options =&gt; \"\\x02\\x04\\x54\\x0b\",payload =&gt; 'test');\n\nmy $oSimple = Net::Frame::Simple-&gt;new(layers =&gt; [$eth,$ip4,$tcp],);\n\n# Now, the frame is ready to be send to the network\n# We open a sender object, and a retriever object\n\nmy $oWrite = Net::Write::Layer2-&gt;new(dev =&gt; 'eth0');\n   $oWrite = Net::Write::Layer3-&gt;new(dst =&gt; $target);\n   #my $oDump  = Net::Frame::Dump::Online-&gt;new(dev =&gt; $oDevice-&gt;dev);\n   #$oDump-&gt;start;\n   $oWrite-&gt;open;\n\n   # We send the frame\n   $oSimple-&gt;send($oWrite);\n</code></pre>\n\n<p>If i remove the ethernet part ($eth) when defining layers in $oSimple, it works.\nAny suggestions what i am missing or doing wrong? </p>\n"}, {"tags": ["perl", "selenium", "testing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479487014, "post_id": 40681933, "comment_id": 68594163, "body": "<a href=\"http://www.seleniumhq.org/docs/03_webdriver.jsp\" rel=\"nofollow noreferrer\">seleniumhq.org/docs/03_webdriver.jsp</a>"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1479508024, "post_id": 40681933, "comment_id": 68604305, "body": "One worth looking at is <a href=\"https://metacpan.org/release/Test-BDD-Cucumber\" rel=\"nofollow noreferrer\">Test::BDD::Cucumber</a>. Talk to the community around that module for how they integrate with Selenium/webdriver/etc.  Maybe <a href=\"https://gitter.im/pjlsergeant/test-bdd-cucumber-perl\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1479488119, "post_id": 40682236, "comment_id": 68594817, "body": "It was updated at 2013. It is old. My testers sayd it does not work with latest Selenium."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1479541478, "post_id": 40682236, "comment_id": 68610762, "body": "@EugenKonkov Have you considered contacting the author to see if he has any plans to update it?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1479596088, "post_id": 40682236, "comment_id": 68626717, "body": "Indeed, (<code>Test::</code>)<code>WWW::Selenium</code> is for Selenium 1. Use <code>Selenium::Remote::Driver</code>."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1479637445, "last_edit_date": 1479637445, "creation_date": 1479487746, "answer_id": 40682236, "question_id": 40681933, "link": "https://stackoverflow.com/questions/40681933/which-perl-module-to-use-to-write-tests-with-selenium/40682236#40682236", "title": "Which perl module to use to write tests with selenium?", "body": "<p>Did you look on CPAN? <a href=\"https://metacpan.org/pod/Test::WWW::Selenium\" rel=\"nofollow noreferrer\">Test::WWW::Selenium</a> seems like a good place to start.</p>\n\n<p><strong>Update:</strong> From the comments, you'll see that a better choice is <a href=\"https://metacpan.org/pod/Selenium::Remote::Driver\" rel=\"nofollow noreferrer\">Selenium::Remote::Driver</a>.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479637445, "creation_date": 1479486675, "question_id": 40681933, "link": "https://stackoverflow.com/questions/40681933/which-perl-module-to-use-to-write-tests-with-selenium", "title": "Which perl module to use to write tests with selenium?", "body": "<p>We have site and want to write test. We decide to use Selenium. </p>\n\n<p>May someone advice which modules to use? Are they work with recent versions of selenium? Thank you.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479483882, "post_id": 40680899, "comment_id": 68592014, "body": "Can you explain where it is slow? You could turn off buffering with <code>$|=1</code>, then the user in front of the browser would at least see stuff sooner. But that&#39;s not going to make it any faster."}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479484244, "post_id": 40680899, "comment_id": 68592278, "body": "the printing of line on the browser, to display the whole file 30 MB took 15 minute or maybe more. Basically the browser keep loading new lines for several minutes. Just wondering if there is a way to speed up the process or the only way will be to split the file in multiple pages or similar (which I wished to avoid)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1479484346, "post_id": 40680899, "comment_id": 68592362, "body": "Is the text truly dynamic?"}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479484782, "post_id": 40680899, "comment_id": 68592672, "body": "What do you mean with the text truly dynamic? The input file is fixed text file, it won&#39;t change and won&#39;t be modified, if this was your question"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1479485253, "post_id": 40680899, "comment_id": 68593019, "body": "I have not done any testing so I can&#39;t say if this will help much, but I&#39;d try reading the file in chunks (maybe 1MB at a time) instead of line-by-line.  You&#39;d need to use a regex to substitute the <code>\\n</code> with <code>&lt;br&gt;</code> instead of using chomp."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1479485256, "post_id": 40680899, "comment_id": 68593025, "body": "So, what is the point of outputting it using CGI?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1479485291, "post_id": 40680899, "comment_id": 68593050, "body": "@Sinan&#220;n&#252;r adding HTML <code>&lt;br&gt;</code>s it seems. Ron makes a good point suggesting chunked reading."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479485352, "post_id": 40680899, "comment_id": 68593092, "body": "@simbabque No, adding <code>&lt;br&gt;</code>s is a one time operation. It does not need to be repeated for every request. And, the reading in chunks thing can be funky depending on what&#39;s going on with encodings."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1479485387, "post_id": 40680899, "comment_id": 68593118, "body": "Another option would be slurp the whole file and wrap it in <code>&lt;pre&gt;...&lt;&#47;pre&gt;</code> tag."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 0, "creation_date": 1479485440, "post_id": 40680899, "comment_id": 68593179, "body": "@RonBergin It is not a good idea to increase the memory footprint of CGI programs like that. It is a sure fire way to cripple a server with only a few visitors."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479485451, "post_id": 40680899, "comment_id": 68593189, "body": "Hmm, that&#39;s true, unless the file is also used for other purposes that don&#39;t need the <code>&lt;br&gt;</code>s. In that case simply making a copy and replacing once would be sufficient."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479489219, "post_id": 40680899, "comment_id": 68595461, "body": "This is contrary to good web design. No one is going to read a 30MB document all the way through so there&#39;s no point in displaying it. You need to allow the user to select a part of the document that they&#39;re interested in and send just that part."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479485933, "post_id": 40681573, "comment_id": 68593472, "body": "I&#39;m not sure I understand what you mean, you suggest i convert my text file in some html fil formatted and have the browser open that one directly?"}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479486222, "post_id": 40681573, "comment_id": 68593651, "body": "ok this is an interesting approach, will give it a try and see how it goes"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479486242, "post_id": 40681573, "comment_id": 68593668, "body": "Dont&#39;t forget: <b><i>Also, check how well the same browser deals with displaying the same content when it is loaded from the local file system.</i></b>"}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479486753, "post_id": 40681573, "comment_id": 68594000, "body": "will try that too thought I want to hope that the network is not the bottleneck, at leas not for 30 MB, access is just from local company network"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479487110, "post_id": 40681573, "comment_id": 68594210, "body": "I am not talking about the network being the bottleneck. I am talking about whether a browser is able to display this file with no problems. <b><i>local file system</i></b> means the disk drive of the computer on which you are running the browser."}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479487188, "post_id": 40681573, "comment_id": 68594258, "body": "well the file is really a plain text, so I don&#39;t expect any issue but i&#39;ll try"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479494796, "post_id": 40681573, "comment_id": 68598519, "body": "You are not serving the file as plain text, i.e. with the <code>text&#47;plain</code> content type. You are serving it as <code>text&#47;html</code> -- otherwise, inserting the <code>&lt;br&gt;</code> makes no sense. See updates to my answer."}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "edited": false, "score": 0, "creation_date": 1479809328, "post_id": 40681573, "comment_id": 68703786, "body": "I get way lower memory and cpu usage opening the file locally, but anyway redirect to an html  file generated from the original one does the trick, opening times went from several minutes to 1 minute or less. Have to find a way to display it properly withing my application  rather than just open a new page but that&#39;s a different problem"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1479494737, "last_edit_date": 1479494737, "creation_date": 1479485529, "answer_id": 40681573, "question_id": 40680899, "link": "https://stackoverflow.com/questions/40680899/printing-large-files-using-perl-cgi/40681573#40681573", "title": "Printing large files using perl CGI", "body": "<p>You mentioned in the comments:</p>\n\n<blockquote>\n  <p>The input file is fixed text file, it won't change and won't be modified</p>\n</blockquote>\n\n<p>Therefore, you should do the conversion from the input to the output format <strong>once</strong> and redirect visitors to the location of the already generated output file. Let the server software handle sending it.</p>\n\n<p>Also, check how well the same browser deals with displaying the same content when it is loaded from the local file system.</p>\n\n<p>Keep in mind that you seem not to be sending <code>text/plain</code> content. For some reason, you are sending <code>text/html</code> and inserting line breaks manually. Let's say each line is 512 bytes. For a 40 MB file, that's more than 80,000 nodes in the DOM. If each line is 80 bytes, we are talking about almost 525,000 nodes in the DOM. That may cause issues with the browser.</p>\n\n<p>To test this, I created a file using:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $CHARS_PER_LINE = 72;\nmy $text = 'x' x $CHARS_PER_LINE;\n\nfor my $i (1 .. 40 * 1024 * 1024 / $CHARS_PER_LINE) {\n    print \"&lt;br&gt;$text\\n\";\n}\n</code></pre>\n\n<p>This gave me the following file:</p>\n\n<pre>$ ls -lh ytt.html\n-rw-r--r--  1 abc abc    43M Nov 18 13:31 ytt.html</pre>\n\n<p>Then, I loaded this document in Firefox from the SSD on my <a href=\"https://www.nu42.com/2013/02/mid-2010-macbook-pro-71-with-16-gb-ddr3.html\" rel=\"nofollow noreferrer\">MacBook Pro with 16GB memory</a>. This caused CPU usage to spike to 100% for almost 30 seconds, caused Firefox to become unresponsive, and caused Firefox to allocate an extra 2.5GB memory. Now, if the computer you are using does not have a lot of spare memory, it would have to swap to disk. In that case, I can easily envision scenarios that cause serious usability issues.</p>\n\n<p>Opening the same file as plain text was less painful but not great either.</p>\n\n<p>A question you have to answer is whether there is any good reason for this document to be displayed in the browser, or should it be just available as a download?</p>\n\n<p>In any case, you should also ensure that your web server software applies compression to text files so you can serve this file using about 10% of the bandwidth that would be required otherwise.</p>\n"}], "owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 40681573, "answer_count": 1, "score": 0, "last_activity_date": 1479494737, "creation_date": 1479483471, "last_edit_date": 1479485070, "question_id": 40680899, "link": "https://stackoverflow.com/questions/40680899/printing-large-files-using-perl-cgi", "title": "Printing large files using perl CGI", "body": "<p>I need to print text on browser with my perl CGI application, the file i need to print can be of large size 30 - 100MB or  more.\nI have the following code </p>\n\n<pre><code>    $lns=$_[0];\n    open(my $fh, '&lt;:encoding(UTF-8)', $lns) or die \"Could not open file '$lns' $!\";\n    while (my $l = &lt;$fh&gt;) {\n        chomp $l;\n        print \"&lt;br&gt;$l\";\n\n     }\n</code></pre>\n\n<p>Which works well but it's very slow displaying large file, 30 MB file take up 15 minutes.\nIs there a way to speed it up?\nTo clarify, file start to be displayed immediately but browser keep loading and displaying new lines for 10 - 15 minutes for 30 - 40 MB file.\nthe file is static and is not being modified.</p>\n"}, {"tags": ["perl", "max", "min"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479482461, "post_id": 40679836, "comment_id": 68591009, "body": "35 points to go and it&#39;s already displaying 100k. You&#39;ve got a mug coming your way soon! :)"}, {"owner": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "edited": false, "score": 0, "creation_date": 1479485300, "post_id": 40679836, "comment_id": 68593054, "body": "I was hoping to be able to re-use this Function, hence why i&#39;ve put it in a sub.  I am going to go and read about %hash first and come back to this . Thank you for your suggestion so far !"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479488744, "post_id": 40679836, "comment_id": 68595172, "body": "@simbabque: Is that still a thing?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479490527, "post_id": 40679836, "comment_id": 68596224, "body": "They will send you an email asking for shipping details. There is a 100k package with a tshirt and some stuff. Choroba got it recently too. There might be a photo from YAPC in cluj of both of us wearing it together."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479490768, "post_id": 40679836, "comment_id": 68596349, "body": "@simbabque: Cool! I hadn&#39;t heard of anyone getting a mug for a very long time so I assumed it had lapsed. How come you know all this, and how come you have a shirt?!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479490813, "post_id": 40679836, "comment_id": 68596368, "body": "Actually I don&#39;t know if you will get a mug. I do know about the tshirt from metal posts. I got my stuff from the 10M questions meta post. I actually have two shirts. I got one for my answer and one for someone writing how helpful I was, but I have not found that post yet. The first package had a mug. And recently they shipped a signed book by Joel express to Germany because they had run out when they sent the orogon original packages."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1479490988, "post_id": 40679836, "comment_id": 68596455, "body": "@Borodin Congrats :)))"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479492642, "post_id": 40679836, "comment_id": 68597329, "body": "Clumsy fingers and rain \u2614 congratulations"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479512556, "post_id": 40679836, "comment_id": 68605689, "body": "@simbabque: Thanks man. You really shouldn&#39;t post in the rain! Where are you? And did you really post 10M questions on Meta? That deserves more than a T shirt!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479514193, "post_id": 40679836, "comment_id": 68606060, "body": "Haha, no. I wrote <a href=\"http://meta.stackoverflow.com/a/303313/1331451\">this answer</a> to one of the 10 Million Questions meta posts. And somewhere in that thread there is another answer about me I guess. I was going home. Weather in Berlin was horrible today."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479515061, "post_id": 40679836, "comment_id": 68606223, "body": "@simbabque: I&#39;m sorry, I&#39;m sure I knew that you were German. It&#39;s your impeccable English that makes me forget! I know that I have been irascible this last year and I am ashamed of many of my posts. Things will change dramatically very soon, and my contributions will either vanish altogether or be much more considerate. Thank you for your patience with me."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1479480280, "creation_date": 1479480280, "answer_id": 40679836, "question_id": 40679645, "link": "https://stackoverflow.com/questions/40679645/in-perl-how-can-find-the-smallest-value-in-a-list-and-keeping-the-index-corresp/40679836#40679836", "title": "In Perl, how can find the smallest value in a list and keeping the index corresponding to that value?", "body": "<p>I suggest that you use a hash <code>%side</code> to contain the values. Then the <code>$sside</code> and <code>$bside</code> variables can hold the identities <code>i</code> and <code>j</code> of the smallest and biggest values</p>\n\n<p>You don't explain what you want to do after you've determined which is which, so my multiplications at the end are probably way off</p>\n\n<pre><code>use strict; \nuse warnings 'all';\n\nmy %side = ( i =&gt; 24.56, j =&gt; 3.56 );\n\nmy ($sside, $bside) = $side{i} &lt; $side{j} ? qw/ i j / : qw/ j i /;\n\n$side{$sside} *= 20;\n$side{$bside} *= 21;\n</code></pre>\n\n<p>If you prefer, you could use <code>sort</code> instead to order the hash keys. The result is identical</p>\n\n<pre><code>my ($sside, $bside) = sort { $side{$a} &lt;=&gt; $side{$b} } keys %side;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1479483761, "last_edit_date": 1479483761, "creation_date": 1479481895, "answer_id": 40680404, "question_id": 40679645, "link": "https://stackoverflow.com/questions/40679645/in-perl-how-can-find-the-smallest-value-in-a-list-and-keeping-the-index-corresp/40680404#40680404", "title": "In Perl, how can find the smallest value in a list and keeping the index corresponding to that value?", "body": "<p>In math, what you are referring to are called <a href=\"https://en.wikipedia.org/wiki/Arg_max\" rel=\"nofollow noreferrer\">argmax</a> and <a href=\"https://en.wikipedia.org/wiki/Arg_max#Arg_min\" rel=\"nofollow noreferrer\">argmin</a>. You can get their functionality in various ways.</p>\n\n<p>First, given a list of values, you can find their maximum and minimum, and then select the indices which correspond to elements of the list with the maximum and minimum values, respectively. This is implemented in the <code>using_only_max_min</code> function below. Note that this method makes two passes over the array for each extremum: Once to find the extremum and another time to find the corresponding indices.</p>\n\n<p>Or, given a list of values, you can find the indices which corresponding to the extrema in the list, and then select the corresponding value for any of them to get the value of the extremum. This is implemented in the <code>using_by_functions</code> routine below.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\nuse List::AllUtils qw(max min max_by min_by);\n\nmy @n = (1, 3, 5, 8, 8, 3, 2, 4, 4, 6);\n\nprint Dumper using_only_max_min(\\@n);\nprint Dumper using_by_functions(\\@n);\n\nsub using_only_max_min {\n    my $n = shift;\n\n    my $max = max @$n;\n    my @argmax = grep $n-&gt;[$_] == $max, 0 .. $#$n;\n\n    my $min = min @$n;\n    my @argmin = grep $n-&gt;[$_] == $min, 0 .. $#$n;\n\n    return {\n        max =&gt; $max,\n        argmax =&gt; \\@argmax,\n        min =&gt; $min,\n        argmin =&gt; \\@argmin,\n    };\n}\n\nsub using_by_functions {\n    my $n = shift;\n\n    my @argmax = max_by { $n-&gt;[$_] } 0 .. $#$n;\n    my $max = $n-&gt;[$argmax[0]];\n\n    my @argmin = min_by { $n-&gt;[$_] } 0 .. $#$n;\n    my $min = $n-&gt;[$argmin[0]];\n\n    return {\n        max =&gt; $max,\n        argmax =&gt; \\@argmax,\n        min =&gt; $min,\n        argmin =&gt; \\@argmin,\n    };\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$VAR1 = {\n          'argmin' => [\n                        0\n                      ],\n          'max' => 8,\n          'min' => 1,\n          'argmax' => [\n                        3,\n                        4\n                      ]\n        };\n$VAR1 = {\n          'argmax' => [\n                        3,\n                        4\n                      ],\n          'min' => 1,\n          'max' => 8,\n          'argmin' => [\n                        0\n                      ]\n        };</pre>\n\n<p>You can also do this without using any libraries, and find the two extrema in one go. The function below returns a hash reference which contains two entries, <code>max</code> and <code>min</code>. Each of those point to a list whose first value is the value of the extremum, and the second value is the list of indices corresponding to the extremum:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy @n = (1, 3, 5, 8, 8, 3, 2, 4, 4, 6);\n\nprint Dumper find_extrema(\\@n, sub { $_[0] &lt;=&gt; $_[1]});\n\nsub find_extrema {\n    my ($n, $cmp) = @_;\n\n    my ($max, $min) = ([$n-&gt;[0], [0]], [$n-&gt;[0], [0]]);\n\n    for my $i (1 .. $#$n) {\n        my $v = $n-&gt;[$i];\n\n        my $r = $cmp-&gt;($v, $max-&gt;[0]);\n        if ($r &gt;= 0) {\n            $r ? $max = [$v, [$i]] : push @{ $max-&gt;[-1] }, $i;\n            next;\n        }\n\n        my $s = $cmp-&gt;($v, $min-&gt;[0]);\n        if ($s &lt;= 0) {\n            $s ? $min = [$v, [$i]] : push @{ $min-&gt;[-1] }, $i;\n        }\n    }\n\n    return {\n        max =&gt; $max,\n        min =&gt; $min,\n    };\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$VAR1 = {\n          'min' => [\n                     1,\n                     [\n                       0\n                     ]\n                   ],\n          'max' => [\n                     8,\n                     [\n                       3,\n                       4\n                     ]\n                   ]\n        };</pre>\n"}], "owner": {"reputation": 147, "user_id": 6469233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b38bb7bfdc6b88597f7f24cac19325?s=128&d=identicon&r=PG&f=1", "display_name": "AlexAMC", "link": "https://stackoverflow.com/users/6469233/alexamc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 1, "accepted_answer_id": 40679836, "answer_count": 2, "score": 0, "last_activity_date": 1479484471, "creation_date": 1479479690, "last_edit_date": 1479484471, "question_id": 40679645, "link": "https://stackoverflow.com/questions/40679645/in-perl-how-can-find-the-smallest-value-in-a-list-and-keeping-the-index-corresp", "title": "In Perl, how can find the smallest value in a list and keeping the index corresponding to that value?", "body": "<p>I am looking to distinguish the difference between side_i and side_j to find the smallest value ... following on... to then multiply the smallest and largest by a given number. </p>\n\n<p>That's pretty simple to do. However, I want to still be able to distinguish between i and j in such a way that I know which one is which after they have been multiplied.</p>\n\n<p>This is what I have so far. Please note , I am a very new user of Perl and general coding:</p>\n\n<pre><code>use strict; \nuse Getopt::Long;\nuse List::Util qw(max);\nuse File::Find;\nuse warnings 'all';\n\n\n\nmy $side_i = 24.56; \nmy $side_j = 3.56; \nmy $maxi = 10;\nmy $maxj = 10; \nmy $threshold = 0.05; \nmy $small_side;\n\n\n\n(my $sside, my $bside) = smallestTest($side_i, $side_j);\n\n\nsub smallestTest{\n\n    my $sside;\n    my $bside;\n    print \"$_[0] $_[1] /n\";\n    if ($_[0]&lt;$_[1]){\n        $sside = $_[0];\n        $bside = $_[1];\n    } else {\n        $sside = $_[1];\n        $bside = $_[0];\n    }\nreturn($sside, $bside);\n}\nprint \"Biggest side is $bside /n\";\n\nmy $newSide_i = $.....*20;\nmy $newSide_j = $.....*21;\n</code></pre>\n"}, {"tags": ["javascript", "regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479478030, "post_id": 40679071, "comment_id": 68587909, "body": "You must be confused with the regex101.com way of highlighting capturing groups, right?"}, {"owner": {"reputation": 871289, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1479478415, "post_id": 40679071, "comment_id": 68588144, "body": "@WiktorStribi\u017cew: Don&#39;t think that&#39;s it. Compare the contents of the capture group between <a href=\"https://regex101.com/r/zLg7UG/1\" rel=\"nofollow noreferrer\">the JavaScript version</a> and <a href=\"https://regex101.com/r/zLg7UG/2\" rel=\"nofollow noreferrer\">the PCRE version</a>. The former shows &quot;abc&quot;, the latter shows empty. (Unless you meant a bug in regex101. The explanations appear to be identical despite the results being different.)"}, {"owner": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479478707, "post_id": 40679071, "comment_id": 68588331, "body": "In fact, the canonical case is <code>(.*)*</code>. Putting the kleene star on the end stops the capture group from working, with PCRE. At least, according to regex101 it does. Am I missing something with this particular regex tester?"}, {"owner": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479478958, "post_id": 40679071, "comment_id": 68588504, "body": "Also, if I change the * to +, i.e. <code>(.+)+</code> it works how I expect it would."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 3, "creation_date": 1479478995, "post_id": 40679071, "comment_id": 68588529, "body": "Ok, <a href=\"https://ideone.com/ALeMqh\" rel=\"nofollow noreferrer\">ideone.com/ALeMqh</a> and <a href=\"https://jsfiddle.net/wvudw7yv/\" rel=\"nofollow noreferrer\">jsfiddle.net/wvudw7yv</a> show the same. Must be the difference related to empty match handling in JS and PCRE. Yes, changing <code>*</code> to <code>+</code> makes the pattern match at least 1 char. This question is in line with many others, and their root cause is the way empty matches are handled with JS regex. See <a href=\"http://stackoverflow.com/questions/38860487/some-regex-pattern-is-breaking-the-javascript-regex-engine/38860774#38860774\"><b>Some regex pattern is breaking the javascript regex engine</b></a>."}, {"owner": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479479774, "post_id": 40679071, "comment_id": 68589089, "body": "I understand the point that this regex can match the empty string, but the part I don&#39;t get is that given a <i>non-empty string</i>, perl will match the whole thing, but <i>not capture</i>."}], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479482360, "post_id": 40680350, "comment_id": 68590921, "body": "Aha! That makes sense. However, I&#39;m not sure I understand what the JS behaviour is. Presumably, the outer * is <i>not</i> matching a second time when its subject is empty? Certainly if I use <code>(.*){2}</code> in JS and <i>force</i> a second match, the behaviour matches Perl."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479482482, "post_id": 40680350, "comment_id": 68591021, "body": "@TimAngus I&#39;d have to dig into the JS spec to find out, but I suspect JS just stops as soon as it reaches the end of the string. I didn&#39;t include it into the answer as I&#39;m not 100% sure about that, I&#39;ll try to find out and add it later."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479491374, "post_id": 40680350, "comment_id": 68596637, "body": "As for Perl, it doesn&#39;t give an endless sequence of empty strings because Perl discards a match with the same starting position and the same length as the previous match."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479503255, "post_id": 40680350, "comment_id": 68602476, "body": "@ikegami hmmm I don&#39;t think the <i>&quot;same length&quot;</i> part matters, the rule should rather be: advance the input position to the end of the last match, and add one character if the last match was an empty string (to avoid infinite loops when you get an empty match - this is a shortcoming of the JS regex API)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1479504331, "post_id": 40680350, "comment_id": 68602968, "body": "@Lucas Trzesniewski, You are mistaken. Perl does not add one character if the last match was an empty string. For example, <code>perl -E&#39;say &quot;\\@$-[0]: $&amp;&quot; while &quot;abc&quot; =~ &#47;.*?&#47;g&#39;</code> demonstrates matching both an empty string then a non-empty string at the same position. As I said above, Perl adds one when the match is at the same position and of the same length as the preceding one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479504802, "post_id": 40680350, "comment_id": 68603152, "body": "Oops, I mispoke, Perl forces a backtrack when the match would be at the same pos and length as the last match. It only adds one to the starting position when a match couldn&#39;t be found at the current location."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479505435, "post_id": 40680350, "comment_id": 68603410, "body": "@ikegami I just checked the behavior of PCRE.NET, which is the PCRE wrapper library I wrote for .NET, to make sure it&#39;s consistent with the Perl behavior on your example. Good news - it is :-) But my implementation isn&#39;t <a href=\"https://github.com/ltrzesniewski/pcre-net/blob/3ce617497c8338bda93ddbe5a354102cdc9259a3/src/PCRE.NET/PcreRegex.Match.cs#L132-L133\" rel=\"nofollow noreferrer\"><i>quite</i> the same</a> as what you&#39;re saying. The rule is simply to disallow an empty match if the last match was empty (other code in there handles <code>\\K</code> which is quite fun by itself). I&#39;m wondering if I could find a test case that diverges from Perl.."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479506097, "post_id": 40680350, "comment_id": 68603671, "body": "@ikegami ok so <code>(?=.\\K)</code> makes Perl loop forever, it causes a timeout on regex101, pcretest returns 3 results along with a warning <i>&quot;Start of matched string is beyond its end - displaying from end to start.&quot;</i>, and PCRE.NET returns 3 empty results. Looks like I&#39;ve found my discrepancy, but at least I&#39;m kind of consistent with pcretest ;)"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479577890, "post_id": 40680350, "comment_id": 68621508, "body": "@TimAngus I added the JS explanation - it&#39;s a bit messy but hopefully makes sense."}, {"owner": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479725408, "post_id": 40680350, "comment_id": 68663566, "body": "@LucasTrzesniewski Excellent answer! And surprisingly complicated."}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "reply_to_user": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "edited": false, "score": 0, "creation_date": 1479733914, "post_id": 40680350, "comment_id": 68668819, "body": "@TimAngus thanks for a surprisingly interesting question ;)"}], "tags": [], "owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "is_accepted": true, "score": 8, "last_activity_date": 1479743731, "last_edit_date": 1479743731, "creation_date": 1479481731, "answer_id": 40680350, "question_id": 40679071, "link": "https://stackoverflow.com/questions/40679071/perl-vs-javascript-regular-expressions/40680350#40680350", "title": "Perl vs Javascript regular expressions", "body": "<p>Here's why the capture group is empty in PCRE:</p>\n\n<ul>\n<li><p>Initial state</p>\n\n<pre><code>(.*)*     abc\n ^        ^\n</code></pre></li>\n<li><p>First, the <code>(.*)</code> part is matched against <code>abc</code>, and the input position is advanced to the end. The capture group contains <code>abc</code> at this point.</p>\n\n<pre><code>(.*)*     abc\n    ^        ^\n</code></pre></li>\n<li><p>Now, the input position is <em>after</em> the <code>c</code> character, the remaining input is the empty string. The Kleene star initiates a second attempt at matching the <code>(.*)</code> group:</p>\n\n<pre><code>(.*)*     abc\n ^           ^\n</code></pre></li>\n<li><p>The <code>(.*)</code> group matches the <em>empty string</em> after <code>abc</code>. Since it matched, <strong>the previously captured string is overwritten</strong>.</p></li>\n<li><p>Since the input position hasn't advanced, the <code>*</code> ends iterating there and the match succeeds.</p></li>\n</ul>\n\n<p>The behavior difference between JS and PCRE is due to the way the regex engines are specified. PCRE's behavior is consistent with Perl:</p>\n\n<p>PCRE:</p>\n\n<pre><code>$ pcretest\nPCRE version 8.39 2016-06-14\n\n  re&gt; /(.*)*/\ndata&gt; abc\n 0: abc\n 1:\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code>$ perl -e '\"abc\" =~ /(.*)*/; print \"&lt;$&amp;&gt; &lt;$1&gt;\\n\";'\n&lt;abc&gt; &lt;&gt;\n</code></pre>\n\n<p>Let's <a href=\"http://regexstorm.net/tester?p=%28.*%29*&amp;i=abc\" rel=\"nofollow noreferrer\">compare this with .NET</a>, which has the same behavior, but <em>supports multiple captures</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jaczl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jaczl.png\" alt=\".NET regex\"></a></p>\n\n<p>When a capture group is matched for a second time, .NET will add the captured value to a <em>capture stack</em>. Perl and PCRE will simply overwrite it.</p>\n\n<hr>\n\n<p>As for JavaScript:</p>\n\n<p>Here's <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\" rel=\"nofollow noreferrer\">ECMA-262</a> \u00a721.2.2.5.1 Runtime Semantics: RepeatMatcher Abstract Operation:</p>\n\n<blockquote>\n  <p>The abstract operation <em>RepeatMatcher</em> takes eight parameters, a Matcher <code>m</code>, an integer <code>min</code>, an integer (or \u221e) <code>max</code>, a Boolean <code>greedy</code>, a State <code>x</code>, a Continuation <code>c</code>, an integer <code>parenIndex</code>, and an integer <code>parenCount</code>, and performs the following steps:</p>\n  \n  <ol>\n  <li>If <code>max</code> is zero, return <code>c(x)</code>.</li>\n  <li>Create an internal Continuation closure <code>d</code> that takes one State argument <code>y</code> and performs the following steps when evaluated:\n  \n  <ul>\n  <li>a. If <code>min</code> is zero and <code>y</code>'s <code>endIndex</code> is equal to <code>x</code>'s <code>endIndex</code>, return <code>failure</code>.</li>\n  <li>b. If <code>min</code> is zero, let <code>min2</code> be zero; otherwise let <code>min2</code> be <code>min\u20111</code>.</li>\n  <li>c. If <code>max</code> is \u221e, let <code>max2</code> be \u221e; otherwise let <code>max2</code> be <code>max\u20111</code>.</li>\n  <li>d. Call <code>RepeatMatcher(m, min2, max2, greedy, y, c, parenIndex, parenCount)</code> and return its result.</li>\n  </ul></li>\n  <li>Let <code>cap</code> be a fresh copy of <code>x</code>'s captures List.</li>\n  <li>For every integer <code>k</code> that satisfies <code>parenIndex &lt; k</code> and <code>k \u2264 parenIndex+parenCount</code>, set <code>cap[k]</code> to <code>undefined</code>.</li>\n  <li>Let <code>e</code> be <code>x</code>'s endIndex.</li>\n  <li>Let <code>xr</code> be the State <code>(e, cap)</code>.</li>\n  <li>If <code>min</code> is not zero, return <code>m(xr, d)</code>.</li>\n  <li>If <code>greedy</code> is <code>false</code>, then\n  \n  <ul>\n  <li>a. Call <code>c(x)</code> and let <code>z</code> be its result.</li>\n  <li>b. If <code>z</code> is not <code>failure</code>, return <code>z</code>.</li>\n  <li>c. Call <code>m(xr, d)</code> and return its result.</li>\n  </ul></li>\n  <li>Call <code>m(xr, d)</code> and let <code>z</code> be its result.</li>\n  <li>If <code>z</code> is not <code>failure</code>, return <code>z</code>.</li>\n  <li>Call <code>c(x)</code> and return its result.</li>\n  </ol>\n</blockquote>\n\n<p>This is basically the definition of what's supposed to be happening when a quantifier is evaluated. <code>RepeatMatcher</code> is the operation handling the matching of an inner operation <code>m</code>.</p>\n\n<p>You'll also need to understand what a <em>State</em> is (\u00a721.2.2.1, emphasis mine):</p>\n\n<blockquote>\n  <p>A State is an ordered pair (<code>endIndex</code>, <code>captures</code>) where <code>endIndex</code> is an integer and captures is a List of <code>NcapturingParens</code> values. States are used to represent partial match states in the regular expression matching algorithms. <strong>The <code>endIndex</code> is one plus the index of the last input character matched so far by the pattern</strong>, while <code>captures</code> holds the results of capturing parentheses. The <code>n</code>th element of <code>captures</code> is either a List that represents the value obtained by the <code>n</code>th set of capturing parentheses or undefined if the <code>n</code>th set of capturing parentheses hasn't been reached yet. Due to backtracking, many \n  States may be in use at any time during the matching process.</p>\n</blockquote>\n\n<p>For your example, the <code>RepeatMatcher</code> parameters are:</p>\n\n<ul>\n<li><code>m</code>: the <em>Matcher</em> responsible for handling the subpattern <code>(.*)</code></li>\n<li><code>min</code>: 0 (minimum number of matches for the Kleene star quantifier)</li>\n<li><code>max</code>: \u221e (maximum number of matches for the Kleene star quantifier)</li>\n<li><code>greedy</code>: true (the Kleene star quantifier used is greedy)</li>\n<li><code>x</code>: <code>(0, [undefined])</code> (see the state definition above)</li>\n<li><code>c</code>: The continuation, at this point it'll be: <em>a Continuation that always returns its State argument as a successful <code>MatchResult</code></em>, after collapsing the parent rules</li>\n<li><code>parenIndex</code>: 0 (as per \u00a721.2.2.5 this is the <em>number of left capturing parentheses in the entire regular expression that occur to the left of this\nproduction</em>)</li>\n<li><code>parenCount</code>: 1 (same spec paragraph, this is <em>the number of left capturing parentheses in the expansion of this production's Atom</em> - I won't paste the full spec here but this basically means that <code>m</code> defines one capture group)</li>\n</ul>\n\n<p>The regex matching algorithm in the spec is defined in terms of <a href=\"https://en.wikipedia.org/wiki/Continuation-passing_style\" rel=\"nofollow noreferrer\">continuation-passing style</a>. Basically, this means that the <code>c</code> operation means <em>what should happen next</em>.</p>\n\n<p>Let's unroll this algorithm.</p>\n\n<h2>First iteration</h2>\n\n<p>On the first pass, the <code>x</code><sub>1</sub> state is <code>(0, [undefined])</code>.</p>\n\n<ol>\n<li><code>max</code> is not zero</li>\n<li>We create the continuation closure <code>d</code><sub>1</sub> at this point, it'll be used in the second pass so we'll come back to this one later.</li>\n<li>Make a copy <code>cap</code><sub>1</sub> of the capture list</li>\n<li>Reset the capture in <code>cap</code><sub>1</sub> to <code>undefined</code>, this is a no-op in the fist pass</li>\n<li>Let <code>e</code><sub>1</sub> = 0</li>\n<li>Let <code>xr</code><sub>1</sub> = (<code>e</code><sub>1</sub>, <code>cap</code><sub>1</sub>)</li>\n<li><code>min</code> is zero, skip this step</li>\n<li><code>greedy</code> is true, skip this step</li>\n<li>Let <code>z</code><sub>1</sub> = <code>m</code>(<code>xr</code>, <code>d</code><sub>1</sub>) - this evaluates the subpattern <code>(.*)</code></li>\n</ol>\n\n<p>Now let's step back a bit - <code>m</code> will match <code>(.*)</code> against <code>abc</code>, and then call our <code>d</code><sub>1</sub> closure, so let's unroll that one.</p>\n\n<p><code>d</code><sub>1</sub> is evaluated with the state <code>y</code><sub>1</sub> =<code>(3, [\"abc\"])</code>:</p>\n\n<ul>\n<li><code>min</code> is 0, but <code>y</code><sub>1</sub>'s <code>endIndex</code> is 3 and <code>x</code><sub>1</sub>'s <code>endIndex</code> is 0, so don't return <code>failure</code></li>\n<li>Let <code>min2</code> = <code>min</code> = 0 since <code>min</code> = 0</li>\n<li>Let <code>max2</code> = <code>max</code> = \u221e since <code>max</code> = \u221e</li>\n<li>Call <code>RepeatMatcher(m, min2, max2, greedy, y, c, parenIndex, parenCount)</code> and return its result. That is: RepeatMatcher(m, 0, \u221e, false, y<sub>1</sub>, c, 0, 1)</li>\n</ul>\n\n<h2>Second iteration</h2>\n\n<p>So, right now we're going for a second iteration with <code>x</code><sub>2</sub> = <code>y</code><sub>1</sub> = <code>(3, [\"abc\"])</code>.</p>\n\n<ol>\n<li><code>max</code> is not zero</li>\n<li>We create the continuation closure <code>d</code><sub>2</sub> at this point</li>\n<li>Make a copy <code>cap</code><sub>2</sub> of the capture list <code>[\"abc\"]</code></li>\n<li>Reset the capture in <code>cap</code><sub>2</sub> to <code>undefined</code>, we get <code>cap</code><sub>2</sub> = <code>[undefined]</code></li>\n<li>Let <code>e</code><sub>2</sub> = 3</li>\n<li>Let <code>xr</code><sub>2</sub> = (<code>e</code><sub>2</sub>, <code>cap</code><sub>2</sub>)</li>\n<li><code>min</code> is zero, skip this step</li>\n<li><code>greedy</code> is true, skip this step</li>\n<li><p>Let <code>z</code><sub>2</sub> = <code>m</code>(<code>xr</code><sub>2</sub>, <code>d</code><sub>2</sub>) - this evaluates the subpattern <code>(.*)</code></p>\n\n<p>This time <code>m</code> will match the empty string after <code>abc</code>, and call our <code>d</code><sub>2</sub> closure with that one. Let's evaluate what <code>d</code><sub>2</sub> does. It's parameter is <code>y</code><sub>2</sub> = <code>(3, [\"\"])</code></p>\n\n<p><code>min</code> is still 0, but <code>y</code><sub>2</sub>'s <code>endIndex</code> is 3 and <code>x</code><sub>2</sub>'s <code>endIndex</code> is also 3 (remember that this time <code>x</code> is the <code>y</code> state from the previous iteration), the closure simply returns <code>failure</code>.</p></li>\n<li><code>z</code><sub>2</sub> is <code>failure</code>, skip this step</li>\n<li>return <code>c</code>(<code>x</code><sub>2</sub>), which is <code>c((3, [\"abc\"]))</code> in this iteration.</li>\n</ol>\n\n<p><code>c</code> simply returns a valid MatchResult here as we're at the end of the pattern. Which means that <code>d</code><sub>1</sub> returns this result, and the first iteration returns passes it along from step 10.</p>\n\n<p>Basically, as you can see, the spec line which causes the JS behavior to be different than PCRE's is the following one:</p>\n\n<blockquote>\n  <p>a. If <code>min</code> is zero and <code>y</code>'s <code>endIndex</code> is equal to <code>x</code>'s <code>endIndex</code>, return <code>failure</code>.</p>\n</blockquote>\n\n<p>When combined with:</p>\n\n<blockquote>\n  <ol start=\"11\">\n  <li>Call <code>c(x)</code> and return its result.</li>\n  </ol>\n</blockquote>\n\n<p>Which returns the <em>previously</em> captured values if the iteration fails.</p>\n"}], "owner": {"reputation": 603, "user_id": 2721809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7c55a4a4bb4dab34e02e6cc96bc146?s=128&d=identicon&r=PG", "display_name": "Tim Angus", "link": "https://stackoverflow.com/users/2721809/tim-angus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1595, "favorite_count": 1, "accepted_answer_id": 40680350, "answer_count": 1, "score": 6, "last_activity_date": 1479743731, "creation_date": 1479477936, "last_edit_date": 1479479074, "question_id": 40679071, "link": "https://stackoverflow.com/questions/40679071/perl-vs-javascript-regular-expressions", "title": "Perl vs Javascript regular expressions", "body": "<p>Why does the following regex capture (via the capturing group) the string 'abc' in Javascript, but not in PCRE (although it will still match)?</p>\n\n<p><code>(.*)*</code></p>\n"}, {"tags": ["python", "ruby", "perl", "applescript", "firefox-addon-sdk"], "comments": [{"owner": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1479480732, "post_id": 40678909, "comment_id": 68589790, "body": "I don&#39;t understand your question. Could you show your code, please? Doesn&#39;t matter whether it&#39;s AppleScript, Python, Perl, Ruby or a shell script."}, {"owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "reply_to_user": {"reputation": 95812, "user_id": 477037, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/dde78fe4cdc16eb855d68ff7a8cd017d?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/477037/stefan"}, "edited": false, "score": 0, "creation_date": 1479481561, "post_id": 40678909, "comment_id": 68590362, "body": "Whatever the script language (applescript, pyton, perl, ruby) Find a way to pass arguments (like Chrome or Safari) to Firefox.  Tell application &quot;Safari&quot; activate try Open location &quot;<a href=\"https://translate.google.com/#auto/en/\" rel=\"nofollow noreferrer\">translate.google.com/#auto/en</a>&quot; &amp; (the clipboard) end try end tell"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479486490, "post_id": 40678909, "comment_id": 68593825, "body": "Maybe Firefox simply doesn&#39;t know what to do with those arguments?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479493803, "post_id": 40678909, "comment_id": 68598010, "body": "That part of the url is called the &quot;<a href=\"https://en.wikipedia.org/wiki/Fragment_identifier\" rel=\"nofollow noreferrer\">fragment identifier</a>&quot;, not &quot;arguments&quot;."}, {"owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "edited": false, "score": 0, "creation_date": 1479551567, "post_id": 40678909, "comment_id": 68613168, "body": "If we were to speak of &quot;fragment identifier&quot; here we will speak of &quot;tab&quot; in the style ? Hl=fr&amp;tab=wT."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1479735180, "post_id": 40678909, "comment_id": 68669663, "body": "This question should not be closed, it is a programing question."}, {"owner": {"reputation": 239138, "user_id": 45375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6e2dc52425b1e08027c01bb880be0?s=128&d=identicon&r=PG", "display_name": "mklement0", "link": "https://stackoverflow.com/users/45375/mklement0"}, "reply_to_user": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1479788074, "post_id": 40678909, "comment_id": 68693918, "body": "@reinierpost: Agreed (note that the closure reason displayed reflects the majority of votes, but doesn&#39;t imply unanimity). However, the OP has since asked the same question again <a href=\"http://stackoverflow.com/q/40726348/45375\">here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 95060, "user_id": 89817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df253c3b6533949ea94f31f328f3e769?s=128&d=identicon&r=PG", "display_name": "Gordon Davisson", "link": "https://stackoverflow.com/users/89817/gordon-davisson"}, "is_accepted": false, "score": 0, "last_activity_date": 1479495384, "creation_date": 1479495384, "answer_id": 40684202, "question_id": 40678909, "link": "https://stackoverflow.com/questions/40678909/why-with-firefox-you-can-not-use-arguments-after-opening-a-url-in-applescript-s/40684202#40684202", "title": "Why with Firefox you can not use arguments after opening a URL in applescript, shell script , Perl, ruby?", "body": "<p>I'm not sure exactly what the question is -- it would help a lot if you'd include</p>\n\n<ol>\n<li>Exactly what you're doing (in this case, what's in the clipboard is critical)</li>\n<li>What you expect to happen</li>\n<li>What's actually happening</li>\n</ol>\n\n<p>For this answer, I'm going to assume you have some sort of non-English text in the clipboard, and you want to use Google translate to translate it to English. In this case, what you have should work as long as the contents of the clipboard are in the right format. This script, for example, will open a Safari window translating French to English:</p>\n\n<pre><code>set the clipboard to \"O\u00f9 sont les neiges d'antan\"\n\ntell application \"Safari\"\n    activate\n    try\n        open location \"translate.google.com/#auto/en/\" &amp; (the clipboard)\n    end try\nend tell\n</code></pre>\n\n<p>I don't really know what's going wrong for you, but one possibility is that what's in the clipboard is not plain text, but some sort of formatted text (rtf, html, or something like that), and the formatting is getting included along with the text. In this case, using <code>(the clipboard as text)</code> might solve it. Or not. I'd need more information to tell what's actually going on.</p>\n"}, {"comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1479735126, "post_id": 40691700, "comment_id": 68669627, "body": "This is not an answer, it should be added to the question."}], "tags": [], "owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "is_accepted": true, "score": -1, "last_activity_date": 1479758341, "last_edit_date": 1479758341, "creation_date": 1479550854, "answer_id": 40691700, "question_id": 40678909, "link": "https://stackoverflow.com/questions/40678909/why-with-firefox-you-can-not-use-arguments-after-opening-a-url-in-applescript-s/40691700#40691700", "title": "Why with Firefox you can not use arguments after opening a URL in applescript, shell script , Perl, ruby?", "body": "<p>what do you say, since you do not understand the question, you can assume everything. If you don't understand, don't force yourself to invent answers. The script presented in applescript works very well for Safari.\nThe question is simple why with Firefox one can not complete command line with an argument url request. So example that works with Safari or Chrome:</p>\n\n<pre><code>*Open location \"https://translate.google.com/#auto/en/\" &amp; (the clipboard)*\n</code></pre>\n\n<p>Here the argument is the clipboard that we have of course previously filled with text to translate.</p>\n\n<p>There may be no reason why it works with Firefox. Especially remember that we are talking about Firefox. The script in applescript for Safari works</p>\n\n<pre><code>**Tell application \"Safari\"\nactivate\ntry\nOpen location \"https://translate.google.com/#auto/en/\" &amp; (the clipboard)\nend try\nend tell**\n</code></pre>\n\n<p><strong>This is the method that works for Firefox. This is not the fastest, because you must first format the text if you want the entire content of the ClipBoard. I have to create the service in Automator without input for it to be in general, applicable everywhere.</strong></p>\n\n<p>In Firefox the problem, which does not exist with Safari or Chrome, is when we call \"translate.google.com\" and we associate the ClipBoard to it, the text is not formatted on arrival and causes Of the errors 404. So if you do the maneuver in 2 steps of course there is no problem, open the page \"translate.google.com\" menu edit and paste.</p>\n\n<pre><code>[![** \non run {input, parameters}\n        tell application \"System Events\"\n            keystroke \"c\" using command down\n        end tell\n    tell application \"Applications/Firefox.app\" to activate\n    tell application \"System Events\" to tell process \"Firefox\"\n        set frontmost to true\n        set sentence to text of (the clipboard)\n        set thesentences to paragraphs of sentence\n        set thenewsentences to thesentences as string\n        set the clipboard to thenewsentences\n        keystroke \"t\" using command down\n        keystroke \"https://translate.google.com/#auto/fr/\" &amp; (the clipboard) &amp; return\n    end tell\n    end run \n</code></pre>\n\n<p>**]<a href=\"https://i.stack.imgur.com/CX9d8.png\" rel=\"nofollow noreferrer\">1</a>]<a href=\"https://i.stack.imgur.com/CX9d8.png\" rel=\"nofollow noreferrer\">1</a></p>\n"}], "owner": {"reputation": 371, "user_id": 7122842, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Krm2T.jpg?s=128&g=1", "display_name": "deek5", "link": "https://stackoverflow.com/users/7122842/deek5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "closed_date": 1479700327, "accepted_answer_id": 40691700, "answer_count": 2, "score": -2, "last_activity_date": 1479758341, "creation_date": 1479477403, "last_edit_date": 1479734081, "question_id": 40678909, "link": "https://stackoverflow.com/questions/40678909/why-with-firefox-you-can-not-use-arguments-after-opening-a-url-in-applescript-s", "closed_reason": "Not suitable for this site", "title": "Why with Firefox you can not use arguments after opening a URL in applescript, shell script , Perl, ruby?", "body": "<p>with Safari or Chrome you can use an argument to open a URL</p>\n\n<p>Example in Applescript in Safari</p>\n\n<p><code>Open location \"https://translate.google.com/#auto/en/\" &amp; (the clipboard)</code></p>\n\n<p>The command lines of Firefox allow the opening url BUT WITHOUT ARGUMENT.\nIs there a way to circumvent this failure by a script ???</p>\n\n<p>AppleScript example:</p>\n\n<pre><code>tell application \"Safari\"\n    activate\n    try\n        open location \"translate.google.com/#auto/en/\" &amp; (the clipboard)\n    end try\nend tell\n</code></pre>\n"}, {"tags": ["regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479473376, "post_id": 40677449, "comment_id": 68584856, "body": "I would split on the names like so <code>my (undef, @foo) = split &#47;$re&#47;, $str;</code> and get rid of the first empty string (from the LHS of <i>Dave</i>)."}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479476725, "post_id": 40677449, "comment_id": 68587040, "body": "Thanks, this is useful, is there a way to push the matching names along with that method at all ?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479473892, "post_id": 40677626, "comment_id": 68585196, "body": "If your Perl is at least 5.22 you can also use the <code>&#47;n</code> modifier locally so you don&#39;t need to get rid of the group around the names in the original <code>$re</code> from the question like this: <code>while $str =~ &#47;$re(.*?)(?n:(?=$re|$))&#47;g</code>. It will turn off the capturing inside of the look-ahead. See <a href=\"http://perldoc.perl.org/perlre.html#\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#</a>*n*"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1479473869, "last_edit_date": 1479473869, "creation_date": 1479473527, "answer_id": 40677626, "question_id": 40677449, "link": "https://stackoverflow.com/questions/40677449/get-repeated-regex-matches/40677626#40677626", "title": "Get repeated regex matches", "body": "<p>Use a look-ahead assertion so that the next search starts before the name that ended the previous search.</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature 'say';\n\nmy $str = 'Dave birthday on 11/12/68 Fred enjoys cooking Wilma likes cake';\nmy $names_re  = qr/Dave|Sally|Fred|John|Wilma/;\nmy $re = qr/($names_re) (.*?)(?= $names_re|$)/;\n\nmy @matches;\npush @matches, [ $1, $2 ] while $str =~ /$re/g;\n\nuse Data::Dumper; print Dumper \\@matches;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1479493124, "post_id": 40681845, "comment_id": 68597628, "body": "I like this answer, feels slightly easier for my mind to follow. Not sure if there are any pros and cons compared to the look-ahead answer, but will give them both some testing. Many thanks."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 1, "last_activity_date": 1479486407, "creation_date": 1479486407, "answer_id": 40681845, "question_id": 40677449, "link": "https://stackoverflow.com/questions/40677449/get-repeated-regex-matches/40681845#40681845", "title": "Get repeated regex matches", "body": "<p>Using <code>split</code> with a capture group to produce a hash:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Dumper qw(Dumper);\n\nmy $str = 'Dave birthday on 11/12/68 Fred enjoys cooking Wilma likes cake';\nmy $names_re = qr/(Dave|Sally|Fred|John|Wilma)/;\n\nmy @parts = split /\\s*\\b$names_re\\b\\s*/, $str;\nshift @parts;\nmy %result = @parts;\n\nprint Dumper \\%result;\n</code></pre>\n"}], "owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 40677626, "answer_count": 2, "score": 2, "last_activity_date": 1479486407, "creation_date": 1479472975, "question_id": 40677449, "link": "https://stackoverflow.com/questions/40677449/get-repeated-regex-matches", "title": "Get repeated regex matches", "body": "<p>I have a string, example </p>\n\n<pre><code>my $str = \"Dave birthday on 11/12/68 Fred enjoys cooking Wilma likes cake\"\n</code></pre>\n\n<p>I have some strings I want to match their name AND the text up until the next match, so I am currently trying </p>\n\n<pre><code>my $re = \"(Dave|Sally|Fred|John|Wilma)\" # created dynamically\n</code></pre>\n\n<p>I can do repeated matches like</p>\n\n<pre><code>my @matches;\npush @matches, [$1, $2] while $str =~ /$re/g;\nwarn Dumper @matches;\n</code></pre>\n\n<p>Not sure what I would put in to pull out $2</p>\n\n<p>This will grab matches, but I am trying to find a way to match also the part inbetween up to the next match, so ideally I would end up with something like (don't care if its an array, hash or whatever).</p>\n\n<pre><code>[[\"Dave\",\" birthday on 11/12/68\"],\n [\"Fred\",\" enjoys cooking\"],\n [\"Wilma\",\" likes cake\"]]\n</code></pre>\n\n<p>I can probably do this by splitting strings on matching positions and remainder, but I was wondering if there was any obvious regex way I was missing ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479472323, "post_id": 40677217, "comment_id": 68584153, "body": "You are unlinking the literal string <code>&#39;$file&#39;</code>. Drop the single quotes <code>&#39;&#39;</code>. They don&#39;t do interpolation."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479474210, "post_id": 40677217, "comment_id": 68585380, "body": "I don&#39;t agree with the close-vote for <i>no mcve</i>. This question is very well written. It&#39;s a facepalm-type mistake and a close-vote for <i>typo</i> would be ok in my opinion, but besides that it&#39;s a really good question. I wish we would get more questions of this quality."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 3, "creation_date": 1479475503, "post_id": 40677217, "comment_id": 68586190, "body": "You already got several answers when you posted <a href=\"http://perlmonks.com/?node_id=1176082\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1479482363, "post_id": 40677217, "comment_id": 68590924, "body": "I do agree that it&#39;s bad practice to cross-post the same question without telling us. What is funny though is that it seems you asked on perlmonks <i>first</i>, but you don&#39;t have the single quotes there."}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1479485001, "creation_date": 1479472255, "question_id": 40677217, "link": "https://stackoverflow.com/questions/40677217/whats-wrong-in-this-perl-script", "title": "whats wrong in this perl script?", "body": "<p>I want to delete those .txt files in a folder that has &lt;=3 of \">\" character starting as header. As a beginner in perl scripting, I have used:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile ( my $file = glob '*.txt' ) {\n\nopen my $fh, '&lt;', $file;\nmy $headers = grep /^&gt;/, &lt;$fh&gt;;\n\n    if ($headers &lt;= 3) {\n        unlink '$file';\n    }\n}\n</code></pre>\n\n<p>After executing it won't delete any files and won't show any errors either.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["xml", "perl", "shell", "xml-libxml"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1479460133, "post_id": 40672961, "comment_id": 68576244, "body": "You want to use only <code>perl</code> and not any proper <code>xml</code> aware tools?"}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1479460357, "post_id": 40672961, "comment_id": 68576381, "body": "yes, want to use only perl"}, {"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1479460710, "post_id": 40672961, "comment_id": 68576628, "body": "@BRATVADDI <code>awk -F&#39;&lt;|&gt;&#39; -v newDate=&quot;2222-11-00&quot; &#39;&#47;&lt;date&gt;&#47;{gsub(&#47;2016-11-02&#47;,newDate,$3)}1&#39; inputfile</code> if you are ok with `awk. However, I am not encouraging you to use xml unaware tools."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1479462524, "post_id": 40673478, "comment_id": 68577907, "body": "was looking for exactly this. needed the double quotes as the shell wouldnt resolve the variable otherwise"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1479461619, "last_edit_date": 1479461619, "creation_date": 1479461307, "answer_id": 40673478, "question_id": 40672961, "link": "https://stackoverflow.com/questions/40672961/replace-a-tag-and-value-in-xml-using-perl-one-liner/40673478#40673478", "title": "Replace a tag and value in xml using perl one liner", "body": "<p>Try the following one liner</p>\n\n<pre><code>perl -pe 'my $new_date = \"2016-12-12\"; s/&lt;date&gt;.+/&lt;date&gt;$new_date&lt;\\/date&gt;/g' xml.txt\n</code></pre>\n\n<p>Here </p>\n\n<pre><code>-p use to iterate the loop on a file and the line gets print after that.\n\n-e for execute the script\n</code></pre>\n\n<p>And there is another switch use to perform the changes in original file. which is <code>-i</code> . Then you want to make a copy of original file means the oneliner should be</p>\n\n<pre><code>perl -i.copy -pe 'my $new_date = \"2016-12-12\"; s/&lt;date&gt;.+/&lt;date&gt;$new_date&lt;\\/date&gt;/g' xml.txt\n</code></pre>\n\n<p>The file will store into .copy extension.</p>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 1, "last_activity_date": 1479461729, "creation_date": 1479461729, "answer_id": 40673612, "question_id": 40672961, "link": "https://stackoverflow.com/questions/40672961/replace-a-tag-and-value-in-xml-using-perl-one-liner/40673612#40673612", "title": "Replace a tag and value in xml using perl one liner", "body": "<p>This one liner do the job and save the file before doing the substituion</p>\n\n<pre><code>perl -pi.back -e 's~(?=&lt;date&gt;)[\\d-]+(?=&lt;/date&gt;)~2016-11-18~' file.xml\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1479465954, "last_edit_date": 1479465954, "creation_date": 1479463599, "answer_id": 40674254, "question_id": 40672961, "link": "https://stackoverflow.com/questions/40672961/replace-a-tag-and-value-in-xml-using-perl-one-liner/40674254#40674254", "title": "Replace a tag and value in xml using perl one liner", "body": "<p>Use <code>perl</code> <em>and</em> an XML aware tool:</p>\n\n<pre><code>perl -MXML::Twig -0777 -e '$t=XML::Twig-&gt;parse(&lt;&gt;);$_-&gt;set_text('2017-01-01') for $t -&gt;get_xpath('.//date');$t-&gt;print'\n</code></pre>\n\n<p>Or perhaps:</p>\n\n<pre><code>perl -MXML::Twig -0777 -e 'XML::Twig-&gt;new(twig_handlers=&gt;{date=&gt;sub{$_-&gt;set_text(\"2017-01-01\")}})-&gt;parse(&lt;&gt;)-&gt;print'\n</code></pre>\n\n<p>(Slightly shorter, depends if that's easier to read or not). </p>\n\n<p>It's technically slightly longer than some of the alternatives here, but it has the benefit of being an <em>actual</em> XML parsed solution. </p>\n\n<p>You could also use <code>parsefile_inplace</code> instead, to use it 'sed like' on a file. You might also find setting <code>pretty_print</code> to be useful, to reformat the XML.</p>\n"}], "owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 40673478, "answer_count": 3, "score": 0, "last_activity_date": 1479465954, "creation_date": 1479459676, "last_edit_date": 1479460334, "question_id": 40672961, "link": "https://stackoverflow.com/questions/40672961/replace-a-tag-and-value-in-xml-using-perl-one-liner", "title": "Replace a tag and value in xml using perl one liner", "body": "<p>I need to replace the date value 2016-11-02 in the date tag with a new value using a perl one liner</p>\n\n<pre><code>&lt;header&gt;\n            &lt;name&gt;V5 CDS Composites&lt;/name&gt;\n            &lt;version&gt;1.1a&lt;/version&gt;\n            &lt;date&gt;2016-11-02&lt;/date&gt;\n\n    &lt;/header&gt;\n</code></pre>\n\n<p>I can do this using xml libxml but want to do this in the shortest possible way using a perl one liner. I cannot use just 2016-11-02 as there are multiple instances of this with different tags.</p>\n\n<p>I am doing this inside a shell where the tag and the value are inside a variable</p>\n"}, {"tags": ["perl", "imagemagick"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479461188, "post_id": 40670665, "comment_id": 68576989, "body": "I don&#39;t understand what you want to do."}, {"owner": {"reputation": 669, "user_id": 5709891, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d02aec741e53d5f3f97de2c9e317342a?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/5709891/ganesh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479462180, "post_id": 40670665, "comment_id": 68577694, "body": "actually I want to use convert command line for image resize but didn&#39;t want to save the image into disk, I want the image content ."}], "answers": [{"tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": true, "score": 1, "last_activity_date": 1479465375, "creation_date": 1479465375, "answer_id": 40674908, "question_id": 40670665, "link": "https://stackoverflow.com/questions/40670665/how-to-resize-image-in-memory-using-convert-command/40674908#40674908", "title": "how to resize image in memory using convert command", "body": "<p>you can open the output of convert piped as a filehandle.</p>\n\n<p>In your case </p>\n\n<pre><code>my $img_url = 'https://d2v48i7nl75u94.cloudfront.net/uploads/f1a14e1ce5028c34da667ec3f74416d8.jpeg';\nopen( my $fh, 'convert $img_url -resize 300x300 -gravity center -extent 200x200 -background white -alpha remove jpeg:- 2&gt;&amp;1 |');\nlocal $/;\n$convert = &lt;$fh&gt;;\n</code></pre>\n\n<p>might do the job.</p>\n\n<p>HTH\nGeorg</p>\n"}], "owner": {"reputation": 669, "user_id": 5709891, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d02aec741e53d5f3f97de2c9e317342a?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/5709891/ganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 40674908, "answer_count": 1, "score": 0, "last_activity_date": 1479465375, "creation_date": 1479450517, "question_id": 40670665, "link": "https://stackoverflow.com/questions/40670665/how-to-resize-image-in-memory-using-convert-command", "title": "how to resize image in memory using convert command", "body": "<p>I am using the following code in a ImageMagic</p>\n\n<pre><code>use Image::Magick;\nuse Image::Magick::Square;\n\nmy $img_url = 'https://d2v48i7nl75u94.cloudfront.net/uploads/f1a14e1ce5028c34da667ec3f74416d8.jpeg';\nmy ($is_success, $status_line, $content, undef) = &amp;HTTPRequest(\"GET\", $img_url,  undef, undef, undef, undef, undef, undef, undef, undef, undef, 1, undef, undef, undef, undef, 30);\nmy $magick = Image::Magick-&gt;new;\n$magick-&gt;BlobToImage( $content );\n$magick-&gt;Scale('200x200');\n$magick-&gt;Extent( gravity =&gt; 'Center', geometry =&gt; '200x200',background=&gt;'white' );\nmy $img_content = $magick-&gt;ImageToBlob();\nmy $filename = \"dev-tUJmYqP0q4-front-32604604-small.jpg\";\n$small_success = &amp;S3Store(\"images/$filename\", $img_content, \"image/jpg\");\n</code></pre>\n\n<p>against to import \"Image::Magick\" (above code), I want use convert command like this.</p>\n\n<pre><code>my $img_url = 'https://d2v48i7nl75u94.cloudfront.net/uploads/f1a14e1ce5028c34da667ec3f74416d8.jpeg';\n$convert = `convert $img_url -resize 300x300 -gravity center -extent 200x200 -background white -alpha remove /tmp/$pre-$rand_id-thumb.jpg 2&gt;&amp;1`;\n</code></pre>\n\n<p>I am trying to avoid writing the output to disk via the command and then re-reading the output file into the application.\nIs there anything like ImageToBlob in convert command?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "terminal", "interactive-mode", "perlnetssh"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479473088, "post_id": 40670262, "comment_id": 68584672, "body": "Do you want to make the user of your program go through the motions to access the remote machine (as in your user presses keys on their local keyboard) or do you want to automate it?"}, {"owner": {"reputation": 104, "user_id": 482657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947a178e1db151aae8d96a2c08408bcd?s=128&d=identicon&r=PG", "display_name": "Kiran Chaudhary", "link": "https://stackoverflow.com/users/482657/kiran-chaudhary"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1479702034, "post_id": 40670262, "comment_id": 68653200, "body": "@simbabque I want to automate it."}, {"owner": {"reputation": 104, "user_id": 482657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947a178e1db151aae8d96a2c08408bcd?s=128&d=identicon&r=PG", "display_name": "Kiran Chaudhary", "link": "https://stackoverflow.com/users/482657/kiran-chaudhary"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1480397361, "post_id": 40670262, "comment_id": 68932854, "body": "Please ignore this question, as later I realized, there were many technical things that was running in background which was allowing me to access the console of the system manually, it was not just simple SSH check."}], "owner": {"reputation": 104, "user_id": 482657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947a178e1db151aae8d96a2c08408bcd?s=128&d=identicon&r=PG", "display_name": "Kiran Chaudhary", "link": "https://stackoverflow.com/users/482657/kiran-chaudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1479448597, "creation_date": 1479448597, "question_id": 40670262, "link": "https://stackoverflow.com/questions/40670262/looking-for-netssh2-authentication-with-interactive-screen-perl", "title": "Looking for Net::SSH2 authentication with interactive screen. Perl", "body": "<p>I am trying to access shell of a remote unix node. I need to go through its login process. </p>\n\n<p>Step 1 : The login screen requires me to type 'start' after which below screen appears <a href=\"https://i.stack.imgur.com/Q5Vro.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5Vro.png\" alt=\"I need to select the last option to go to password prompt\"></a></p>\n\n<p>Step 2: To get the password prompt, I need to press 'down arrow key' twice and then press enter. i.e. Select 'Console Terminal Access' option.</p>\n\n<p>I am implementing this with Perl Net::SSH2 Module.</p>\n\n<p>I need to use either 'auth' method or 'auth_password_interact' method. I am facing difficulties in implementing the callback section. Where the above explained login process can be handled and it sends the password at the password prompt</p>\n\n<p>I have tried below code, can anyone help me on how the interactive section can be implemented here. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::SSH2;\nuse Term::ReadKey;\n\nmy $ssh2 = Net::SSH2-&gt;new();\n$ssh2-&gt;connect('10.24.7.174'); # Connection is successful here\n\nprint $ssh2-&gt;auth_list(); # prints Publickey keyboard-interactive\n$| =1; # Flush output to see characters pressed\n# I assume this mode is used for 'menu-selection' type actions\nReadMode 'cbreak';\n</code></pre>\n\n<p>'Need Help here'</p>\n\n<pre><code>sub loginNode{\n    ## Need to read 2 arrow keys and then Enter ( carriage Return )\n    my $char = ReadKey 0; # Read until carriage return is pressed\n}\n\n#$ssh2-&gt;auth_password_interact('start',&amp;loginNode);\n$ssh2-&gt;auth(  'username' =&gt; 'start',\n          'password' =&gt; '*****',\n          'interact' =&gt; 1,\n          'keyboard-auto' =&gt; 1,\n          'callback' =&gt; &amp;loginNode());\n\n#my $chan = $ssh2-&gt;channel(); # This fails, as authentication fails\n#$chan-&gt;exec('ls -al');\nEND {\n   ReadMode('restore');# option 0\n}\n</code></pre>\n\n<p>I couldn't find any examples of such implementation anywhere.</p>\n"}, {"tags": ["linux", "perl", "shell"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1479468966, "post_id": 40669218, "comment_id": 68582133, "body": "@Raju: Switch.pm was removed from Perl in version 5.14. And even before that it was a source filter and therefore not recommended for production code. Please don&#39;t suggest that people use it."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1479469520, "post_id": 40669218, "comment_id": 68582436, "body": "I had remove my suggestion @DaveCross."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7124790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a39334f3d2883d607dbb108c8980e1?s=128&d=identicon&r=PG&f=1", "display_name": "Name", "link": "https://stackoverflow.com/users/7124790/name"}, "edited": false, "score": 0, "creation_date": 1479443388, "post_id": 40669378, "comment_id": 68569281, "body": "thank u for ur solution, This i know.. But i want transfer/change code as its in case stmt to perle.. plz shere ur thougts"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 1, "user_id": 7124790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a39334f3d2883d607dbb108c8980e1?s=128&d=identicon&r=PG&f=1", "display_name": "Name", "link": "https://stackoverflow.com/users/7124790/name"}, "edited": false, "score": 0, "creation_date": 1479443755, "post_id": 40669378, "comment_id": 68569385, "body": "You can eliminate the case statement entirely by using <code>abs_path</code>."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "reply_to_user": {"reputation": 1, "user_id": 7124790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a39334f3d2883d607dbb108c8980e1?s=128&d=identicon&r=PG&f=1", "display_name": "Name", "link": "https://stackoverflow.com/users/7124790/name"}, "edited": false, "score": 0, "creation_date": 1479445976, "post_id": 40669378, "comment_id": 68569960, "body": "If for some reason, you insist on the branching logic, you can use <a href=\"http://perldoc.perl.org/File/Basename.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/File/Basename.html</a>, <code>$ENV{PWD}</code>, and an <code>if ( $0 =~ m|&#47;| ) { # there is a slash } else { there isn&#39;t }</code>"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1479443222, "creation_date": 1479443222, "answer_id": 40669378, "question_id": 40669218, "link": "https://stackoverflow.com/questions/40669218/how-to-transfer-shell-script-case-statement-into-perl-script/40669378#40669378", "title": "How to transfer shell script case statement into perl script", "body": "<p>Use the <a href=\"http://perldoc.perl.org/Cwd.html\" rel=\"nofollow noreferrer\">Cwd</a> library function <code>abs_path</code>.</p>\n\n<pre><code>use Cwd 'abs_path';\nmy $script_location = abs_path( $0 );\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7124790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5a39334f3d2883d607dbb108c8980e1?s=128&d=identicon&r=PG&f=1", "display_name": "Name", "link": "https://stackoverflow.com/users/7124790/name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1479443222, "creation_date": 1479442206, "last_edit_date": 1479442325, "question_id": 40669218, "link": "https://stackoverflow.com/questions/40669218/how-to-transfer-shell-script-case-statement-into-perl-script", "title": "How to transfer shell script case statement into perl script", "body": "<p>How to write perl script for the below case stmt of shell script </p>\n\n<pre><code>sciptname=$0\ncase ${sciptname} in\n  /*) scriptlocation=`dirname ${sciptname}`;;\n   *) scriptlocation=`dirname ${pwd}/${sciptname}`;;\nesac\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1479424786, "post_id": 40666764, "comment_id": 68564704, "body": "<code>@ARGV[0]</code> won&#39;t work because <code>ARGV[0]</code> is a scalar, not an array.  You probably meant <code>$ARGV[0]</code> as you used in the first check.  Also, you appear to be missing a close paren after <code>$field[0]</code>.  Consider adding <code>use warnings;</code> to the top of your script."}, {"owner": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "reply_to_user": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1479425045, "post_id": 40666764, "comment_id": 68564785, "body": "I will try that, thank you"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1479436751, "post_id": 40666764, "comment_id": 68567800, "body": "Are you clear that <code>while ( &lt;FILE&gt; ) { ... }</code> will execute the block once for each line in the file?"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "edited": false, "score": 0, "creation_date": 1479427219, "post_id": 40666871, "comment_id": 68565511, "body": "So I am VERY new to PERL. I havent used it before this class at all. Alrighty, so I tried to structure it following your pseudocode. But it gives me error messages"}, {"owner": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "edited": false, "score": 0, "creation_date": 1479427345, "post_id": 40666871, "comment_id": 68565543, "body": "Alrighty it was because I forgot to add the $. Let me try it now"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "edited": false, "score": 2, "creation_date": 1479436952, "post_id": 40666871, "comment_id": 68567841, "body": "@user4839691: It takes common sense, not a knowledge of Perl, to realise that you shouldn&#39;t be checking the number of parameters every time you read a line from the input file, or that you must read to the end of the file before you can know whether the user was found or not. What languages do you know?"}, {"owner": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "edited": false, "score": 0, "creation_date": 1480444102, "post_id": 40666871, "comment_id": 68961411, "body": "I am still learning all the languages. I just started learning JAVA."}], "tags": [], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "is_accepted": false, "score": 0, "last_activity_date": 1479425170, "creation_date": 1479425170, "answer_id": 40666871, "question_id": 40666764, "link": "https://stackoverflow.com/questions/40666764/string-comparisons-and-if-statements/40666871#40666871", "title": "String comparisons and if statements", "body": "<p>For starters, <code>ne</code> is the correct operator for comparing if strings are not equal.  You probably meant <code>$field[0] ne $ARGV[0]</code>.</p>\n\n<p>Aside from that, your code has some structural issues.  Firstly, you check parameter counts inside of your file reading <code>while</code> loop.  Parameter checks should be the first thing a script does, not something it does while processing.  Secondly, because the \"does not exist\" check is inside the while loop, you'll output that message for every line that isn't the user.  If your input file has 100 lines and one is your search target, you'll output one match message and 99 \"does not exist\" message.</p>\n\n<p>I would suggest a structure like the following.  Because this is for homework and should be a learning experience, I'm only giving you pseudocode, not usable perl.</p>\n\n<pre><code>if ( wrong_param_count ) {\n    print \"error message\"\n    exit\n}\n\nfound_user = 0\nwhile ( read_line_from_file ) {\n    if ( this_line_is_user ) {\n        print \"user information here\"\n        found_user = 1\n    }\n}\n\nif ( !found_user ) {\n    print \"user not found\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "edited": false, "score": 0, "creation_date": 1479427176, "post_id": 40667000, "comment_id": 68565495, "body": "When I typed in the code, it still happens the same way. The print is not displayed if the user is not found."}, {"owner": {"reputation": 1903, "user_id": 3842798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04896e629ba20775b345b688cffc403?s=128&d=identicon&r=PG&f=1", "display_name": "quantummind", "link": "https://stackoverflow.com/users/3842798/quantummind"}, "reply_to_user": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "edited": false, "score": 0, "creation_date": 1479428044, "post_id": 40667000, "comment_id": 68565729, "body": "Maybe you have mistyped something.  $found is set to 0, then it will be changed to 1 only if the user has been found. At the end it will print if  $found is 0. I&#39;ve tested it. It works for me. Your version has not worked because there were several errors, missing semicons, @ARGV[0] instead of $ARGV[0], missing &quot;)&quot;, &quot;~=&quot; instead of &quot;ne&quot;."}], "tags": [], "owner": {"reputation": 1903, "user_id": 3842798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04896e629ba20775b345b688cffc403?s=128&d=identicon&r=PG&f=1", "display_name": "quantummind", "link": "https://stackoverflow.com/users/3842798/quantummind"}, "is_accepted": true, "score": 0, "last_activity_date": 1479425870, "creation_date": 1479425870, "answer_id": 40667000, "question_id": 40666764, "link": "https://stackoverflow.com/questions/40666764/string-comparisons-and-if-statements/40667000#40667000", "title": "String comparisons and if statements", "body": "<p>Usually parameter checking happens at the beginning, not in a loop.</p>\n\n<p>You can say that the user does not exist only after the loop.</p>\n\n<p>You should use $ARGV[0] instead of @ARGV[0].</p>\n\n<p>I've tried to make the program to do what you described:</p>\n\n<pre><code>#!/usr/bin/perl\n\nif ((@ARGV &gt; 1 || @ARGV == 0)) {\n        print \"Please enter one argument only.\\n\";\n        exit 0;\n}\n\n$file = '/etc/passwd';\nopen( FILE, $file ) or die \"Error in reading file. Program will close\";\n$found =0;\nwhile ( &lt;FILE&gt; ) {\n        chomp;\n        @field = split ( ':', $_ );\n\n        if ($ARGV[0] eq $field[0] ) {\n                print \"User ID: $field[2]\\n\" ;\n                print \"Home Directory: $field[5]\\n\";\n                $found = 1;\n        }\n}\nif ($found == 0) {\n        print \"User: $ARGV[0] does not exist.\\n\"\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4839691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97ffef5e1a9b1cfa483f56b2a32efa8?s=128&d=identicon&r=PG&f=1", "display_name": "user4839691", "link": "https://stackoverflow.com/users/4839691/user4839691"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 40667000, "answer_count": 2, "score": -1, "last_activity_date": 1479437092, "creation_date": 1479424548, "last_edit_date": 1479437092, "question_id": 40666764, "link": "https://stackoverflow.com/questions/40666764/string-comparisons-and-if-statements", "title": "String comparisons and if statements", "body": "<p>I am doing an assignment which asks to search for a user in a file using the <code>passwd</code> file in <code>/etc</code>.</p>\n\n<p>I was able to do that, but when it cannot find a specific user it doesn't reply with the print command I have used.</p>\n\n<p>Here is my code: </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\n$file = '/etc/passwd.bak'\nopen ( FILE, $file ) or die \"Error in reading file. Program will close\";\n\nwhile ( &lt;FILE&gt; ) {\n\n    chomp;\n    @field = split ( ':', $_ );\n\n    if ( $ARGV[0] eq $field[0] ) {\n        print \"User ID: $field[2]\\n\" ;\n        print \"Home Directory: $field[5]\\n\";\n    }\n    elsif ( @ARGV[0] ~= $field[0] {\n        print \"User: $ARGV[0] does not exist.\\n\"\n    }\n    elsif ( (@ARGV &gt; 1 || @ARGV == 0 ) ) {\n        print \"Please enter one argument only.\\n\";\n        exit 0;\n    }\n}\n</code></pre>\n\n<p>I have tried exchanging the <code>!=</code> for <code>ne</code>, but when I do that it says every argument is not found even when I know it is there.</p>\n\n<p>I have tried to look in my book, and research it online with no luck.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1479418711, "post_id": 40665444, "comment_id": 68562119, "body": "Could you show us what you&#39;ve tried?"}, {"owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1479419231, "post_id": 40665444, "comment_id": 68562411, "body": "Yeah i edited my post"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 1, "creation_date": 1479419582, "post_id": 40665444, "comment_id": 68562594, "body": "What platform are you trying to run this code on? The code in your sample will only work on Windows systems with PowerPoint installed."}, {"owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "edited": false, "score": 0, "creation_date": 1479422888, "post_id": 40665444, "comment_id": 68564093, "body": "That&#39;s exactly what i have."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1479449030, "post_id": 40665444, "comment_id": 68570997, "body": "When you say it does not work, what error do you get? You also say partial code, can you post the full script?"}, {"owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "edited": false, "score": 0, "creation_date": 1479857658, "post_id": 40665444, "comment_id": 68733176, "body": "@Gerry that&#39;s my full code, i just want to make a test. For the error i&#39;m getting, look at the answer below."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1479904911, "post_id": 40665444, "comment_id": 68753831, "body": "@gambit20088 ok, let me see."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "edited": false, "score": 0, "creation_date": 1479857565, "post_id": 40677143, "comment_id": 68733145, "body": "Now i get an error saying: <code>Can&#39;t call method &quot;Presentations&quot; on an undefined value at C:\\program.pl line 13.</code> which in my code here is the third line."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1479486627, "last_edit_date": 1479486627, "creation_date": 1479472052, "answer_id": 40677143, "question_id": 40665444, "link": "https://stackoverflow.com/questions/40665444/perl-opening-and-reading-ppt-pptx-files/40677143#40677143", "title": "Perl - opening and reading .ppt/.pptx files?", "body": "<p>I have a short example which demonstrates <a href=\"https://www.nu42.com/2010/09/extract-bullet-lists-from-powerpoint.html\" rel=\"nofollow noreferrer\">extracting bullet lists</a>.</p>\n\n<p>Your particular problem is due to the </p>\n\n<pre><code>$file = \"C:\\file.pptx\";\n</code></pre>\n\n<p>On the right hand side, you have a double-quoted string which contains <code>\\f</code>. <code>\\f</code> represents <a href=\"https://en.wikipedia.org/wiki/Page_break#Form_feed\" rel=\"nofollow noreferrer\">form feed</a>. That is, the string contains <code>C</code>, <code>:</code>, <kbd>FF</kbd>, <code>i</code>, <code>l</code>, and <code>e</code>.</p>\n\n<p>You can use <code>$file = \"C:\\\\file.pptx\"</code> to get the actual path to <code>file.pptx</code> in the root directory of drive <code>C:</code>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "is_accepted": false, "score": 0, "last_activity_date": 1479907620, "creation_date": 1479907620, "answer_id": 40765808, "question_id": 40665444, "link": "https://stackoverflow.com/questions/40665444/perl-opening-and-reading-ppt-pptx-files/40765808#40765808", "title": "Perl - opening and reading .ppt/.pptx files?", "body": "<p>Can you try something like this? also verify that the file is accessible? Try by putting the file inside of the same directory which the script is in and then ensure to point to it accordingly by removing the path. Also ensure that the powerpoint file is a valid powerpoint file and can be opened with your installation of Powerpoint</p>\n\n<pre><code>use Win32::OLE qw(in with);\nuse Win32::OLE::Const 'Microsoft PowerPoint';\n\nmy $powerpoint = Win32::OLE-&gt;GetActiveObject('Powerpoint.Application') or die \"Unable to open\";\nmy $document = $powerpoint-&gt;Presentations-&gt;Open({FileName=&gt;'c:\\\\file.pptx', ReadOnly=&gt;1});\n...do stuff from here...\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1479907620, "creation_date": 1479418468, "last_edit_date": 1479419223, "question_id": 40665444, "link": "https://stackoverflow.com/questions/40665444/perl-opening-and-reading-ppt-pptx-files", "title": "Perl - opening and reading .ppt/.pptx files?", "body": "<p>I want to open and read the text that is in the slides of a PowerPoint presentation.\nHow can i do that?\nI know i might have to use <code>Win32:OLE</code>, but so far all of the code examples that i tried didn't work.</p>\n\n<p>EDIT:\nI only have this partial code which doesn't work:</p>\n\n<pre><code>$file = \"C:\\file.pptx\";\nmy $powerpoint = Win32::OLE-&gt;GetActiveObject('Powerpoint.Application');\nmy $document = $powerpoint-&gt;Presentations-&gt;Open($file);\nmy $slides = Win32::OLE::Enum-&gt;new($document-&gt;Slides );\nprint $slides; \n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["arrays", "perl", "reference"], "answers": [{"comments": [{"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "reply_to_user": {"reputation": 13, "user_id": 2973410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AfYkP.jpg?s=128&g=1", "display_name": "Alberto E. Vilano", "link": "https://stackoverflow.com/users/2973410/alberto-e-vilano"}, "edited": false, "score": 0, "creation_date": 1479419454, "post_id": 40665377, "comment_id": 68562531, "body": "Also, you can actually simplify it quite a bit.  Some people may object to the usage of map like this for readability, but I tend to err on the side of less code: <code>print(join(&quot;\\n&quot;,map {join(&quot; &quot;,map {int(rand(3))} 1..8)} 1..8),&quot;\\n&quot;)</code>. That&#39;s pretty much your whole program right there. You can also initialize an array with 8 0s using <code>(0)x8</code>."}, {"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "reply_to_user": {"reputation": 13, "user_id": 2973410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AfYkP.jpg?s=128&g=1", "display_name": "Alberto E. Vilano", "link": "https://stackoverflow.com/users/2973410/alberto-e-vilano"}, "edited": false, "score": 0, "creation_date": 1479422370, "post_id": 40665377, "comment_id": 68563890, "body": "Probably got a down-vote because I missed a few little things, but I&#39;ve made updates to fix them. Note, I tried to leave most of the code as-is so it wouldn&#39;t be overwhelming numbers of changes and the answer would focus on the main issue."}], "tags": [], "owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "is_accepted": true, "score": -1, "last_activity_date": 1479421996, "last_edit_date": 1479421996, "creation_date": 1479418205, "answer_id": 40665377, "question_id": 40664725, "link": "https://stackoverflow.com/questions/40664725/referencing-and-printing-a-2d-array-in-perl/40665377#40665377", "title": "Referencing and printing a 2D array in Perl", "body": "<p>First, let me fix your code, then I'll explain...</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n#Subroutine to randomize the 2D Array:\nsub randPattern {\nmy ($rand_ref) = $_[0];\nmy @RandBoard = @$rand_ref;\n\nfor (my $i = 0; $i &lt;= $#RandBoard; $i++) {\n  for (my $j = 0; $j &lt;= $#{$RandBoard[$i]} ; $j++) {\n     $RandBoard[$i][$j] = 0 + int(rand(3 - 0));\n     print \"$RandBoard[$i][$j] \";\n   }\n   print \"\\n\";\n  }\n\nreturn @RandBoard;\n}\n\nmy @checkerArr =  (\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0]\n);\n\nmy ($randomizedArr_ref) = [randPattern(\\@checkerArr)]; #sending arrayy as reference\nmy @randomizedArr = @$randomizedArr_ref; #dereferencing the returned array\nprint \"___________________\\n\";\n\nforeach (@randomizedArr){\n    print(join(' ',@$_),\"\\n\");\n}\n</code></pre>\n\n<p>The main issue here is scalar context versus list context.  You're returning a list from your subroutine and assigning that returned list in a scalar context ($randomizedArr_ref).  You were getting an array reference (which was actually the <em>last</em> element of your outer array.  You need to evaluate the return of the method in list context, so I added the square brackets around your method call (<code>[randPattern(\\@checkerArr)]</code>).</p>\n\n<p>I also changed <code>@_</code> to <code>$_[0]</code> to your setting of the parameter in the subroutine, which is a similar oversight.  You were only getting the whlole parameter because you were passing in a single scalar (reference to an array).</p>\n\n<p>Oh, and in your loop, I added a dereference of the array and joined with a space.  I also moved the newline into the loop.</p>\n\n<p>UPDATE: Found another error I overlooked.  The size of the inner array tested in the inner for loop was using the size of the outer array (which happened to be the same).  So I changed the inner for loop to get the size of the inner array with <code>$#{$RandBoard[$i]}</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 618, "user_id": 2057516, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sEoLL.jpg?s=128&g=1", "display_name": "hepcat72", "link": "https://stackoverflow.com/users/2057516/hepcat72"}, "edited": false, "score": 0, "creation_date": 1479575432, "post_id": 40674604, "comment_id": 68620574, "body": "You left the error in the inner for loop where he loops over the size of the outer array <code>$#RandBoard</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1479464632, "creation_date": 1479464632, "answer_id": 40674604, "question_id": 40664725, "link": "https://stackoverflow.com/questions/40664725/referencing-and-printing-a-2d-array-in-perl/40674604#40674604", "title": "Referencing and printing a 2D array in Perl", "body": "<p>I think you've overcomplicated it somewhat. </p>\n\n<p>Perl does do 2D arrays, and you're correct in thinking the the <em>implementation</em> of that is via references. </p>\n\n<p>It may be useful to know that <code>Data::Dumper</code> is really handy for printing the contents of a complex data structure. </p>\n\n<p>The core of your problem is in how these two iteract:</p>\n\n<pre><code>return @RandBoard;\n</code></pre>\n\n<p>this returns multiple values.</p>\n\n<p>But this only 'uses' one of them, and discards the rest:</p>\n\n<pre><code>my ($randomizedArr_ref) = randPattern(\\@checkerArr);\n</code></pre>\n\n<p>So what you're 'catching' is just the reference to the first line - and then printing it. If you were to try:</p>\n\n<pre><code>my ( @results ) = randPattern(\\@checkerArr);\n</code></pre>\n\n<p>Then you'd come closer, but I'd suggest simple solution is: </p>\n\n<pre><code>return \\@RandBoard;\n</code></pre>\n\n<p>Which returns the whole data structure as a reference:</p>\n\n<pre><code>foreach my $row ( @$randomizedArr_ref ) {\n    print join \" \", @$row; \n}\n</code></pre>\n\n<p>Making your code like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n\n#Subroutine to randomize the 2D Array:\nsub randPattern {\n   my ($rand_ref) = @_;\n   my @RandBoard = @$rand_ref;\n\n   for ( my $i = 0; $i &lt;= $#RandBoard; $i++ ) {\n      for ( my $j = 0; $j &lt;= $#RandBoard; $j++ ) {\n         $RandBoard[$i][$j] = 0 + int( rand( 3 - 0 ) );\n         print \"$RandBoard[$i][$j] \";\n      }\n      print \"\\n\";\n   }\n\n   return \\@RandBoard;\n}\n\nmy @checkerArr = (\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ],\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ],\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ],\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ],\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ],\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ],\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ],\n   [ 0, 0, 0, 0, 0, 0, 0, 0 ]\n);\n\nmy ($randomizedArr_ref) =\n  randPattern( \\@checkerArr );    #sending arrayy as reference\n\n\nprint \"____\\n\";\nforeach my $row (@$randomizedArr_ref) {\n   print join \" \", @$row, \"\\n\";\n}\n</code></pre>\n\n<p>But actually you could simplify your code massively:</p>\n\n<pre><code>foreach my $row ( @checkerArr ) { \n    $_ = int rand(3) for @$row; \n}\n</code></pre>\n\n<p>Or just:</p>\n\n<pre><code>my @checkerArr = map { \n                        [ \n                            map { int rand(3) } (1..8) #array of 8 random values\n                        ] \n                     } (1..8); #8 rows. \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2973410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AfYkP.jpg?s=128&g=1", "display_name": "Alberto E. Vilano", "link": "https://stackoverflow.com/users/2973410/alberto-e-vilano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 40665377, "answer_count": 2, "score": 1, "last_activity_date": 1479464632, "creation_date": 1479415704, "question_id": 40664725, "link": "https://stackoverflow.com/questions/40664725/referencing-and-printing-a-2d-array-in-perl", "title": "Referencing and printing a 2D array in Perl", "body": "<p>I've been reading about how you can't have an array of arrays in Perl thus I ended up struggling with references of arrays and I think I figure out how to return the array from a subroutine. However I can't get it to print the entire array after the return. Can someone explain to me why or how to debug this issue? It would be really appreciated indeed!</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n#Subroutine to randomize the 2D Array:\nsub randPattern {\nmy ($rand_ref) = @_;\nmy @RandBoard = @$rand_ref;\n\nfor (my $i = 0; $i &lt;= $#RandBoard; $i++) {\n  for (my $j = 0; $j &lt;= $#RandBoard ; $j++) {\n     $RandBoard[$i][$j] = 0 + int(rand(3 - 0));\n     print \"$RandBoard[$i][$j] \";\n   }\n   print \"\\n\";\n  }\n\nreturn @RandBoard;\n}\n\nmy @checkerArr =  (\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0],\n  [0,0,0,0,0,0,0,0]\n);\n\nmy ($randomizedArr_ref) = randPattern(\\@checkerArr); #sending arrayy as reference\nmy @randomizedArr = @$randomizedArr_ref; #dereferencing the returned array\nprint \"___________________\\n\";\n\nforeach (@randomizedArr){\nprint \"$_ \"; }\nprint \"\\n\";\n</code></pre>\n\n<p>And the output is like this:</p>\n\n<pre><code>1 1 1 1 1 0 2 1 \n1 0 0 0 2 2 0 1 \n2 1 1 2 1 2 0 1 \n1 2 0 2 0 1 0 1 \n1 2 1 2 0 0 1 0 \n2 1 0 1 0 0 0 2 \n2 2 0 0 0 2 0 0 \n1 1 1 0 0 1 1 1 \n___________________\n1 1 1 1 1 0 2 1 \n</code></pre>\n\n<p>As you can see it only outputs the first row of the array.</p>\n"}, {"tags": ["arrays", "r", "perl", "vector", "arguments"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1479409000, "creation_date": 1479409000, "answer_id": 40662901, "question_id": 40661686, "link": "https://stackoverflow.com/questions/40661686/passing-an-array-as-an-argument-from-a-perl-script-to-a-r-script/40662901#40662901", "title": "Passing an array as an argument from a Perl script to a R script", "body": "<p>If you do this in Perl</p>\n\n<pre><code>$R_out = qx{./script/medoid.r $output @cluster $NUMBER_OF_CLUSTERS};\n</code></pre>\n\n<p>your command line will look similar to this</p>\n\n<pre><code>./scriptmedoid.r output 111 222 333 3\n</code></pre>\n\n<p>assuming that <code>$output</code> is <code>'output'</code> and <code>@clusters = (111, 222, 333)</code>.</p>\n\n<p>If you want to read that in R, you need to assign all elements after the first one in <code>args</code> to <code>cluster</code> but the last one, and the last one to <code>number_of_cluster</code>. In Perl you can use <code>shift</code> and <code>pop</code> for that. </p>\n\n<pre><code>my @args = @_;\nmy $output = shift @args;\nmy $number = pop @args;\n# now @args only contains the clusters\n</code></pre>\n\n<p>I don't know if those operators exist in R.</p>\n\n<p>You cannot pass a full data structure unless you serialize it in some way.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 3857136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000987067666/picture?type=large", "display_name": "Joseph Lyman", "link": "https://stackoverflow.com/users/3857136/joseph-lyman"}, "is_accepted": true, "score": 0, "last_activity_date": 1479409490, "last_edit_date": 1495542621, "creation_date": 1479409164, "answer_id": 40662952, "question_id": 40661686, "link": "https://stackoverflow.com/questions/40661686/passing-an-array-as-an-argument-from-a-perl-script-to-a-r-script/40662952#40662952", "title": "Passing an array as an argument from a Perl script to a R script", "body": "<p>In perl, qx will expect a string as an argument. You may certainly <a href=\"https://stackoverflow.com/questions/23580262/splitting-perl-array-into-separate-arguments-in-qx-operator\">use an array to generate that string</a>, but ultimately it will still be a string. You cannot \"pass an array\" to a system call, you can only pass command-line text/arguments. </p>\n\n<p>Keep in mind, you are executing a system call running Rscript as a child process. The way you're describing the issue, there is no inter-process communication beyond the command line. Think of it this way: how would you <em>type</em> an array on the command line? You may have some textual way of representing an array, but you can't <em>type</em> an array on the command line. <a href=\"https://en.wikipedia.org/wiki/Comparison_of_programming_languages_(array)\" rel=\"nofollow noreferrer\">Arrays are stored and accessed in memory differently by various different languages</a>, and thus are not really portable between two languages like you're suggesting.</p>\n\n<p><strong>One solution:</strong> all that said, there may be a simple solution for you. You haven't provided any information on the type of data you want to pass in your array. If it is simple enough, you may try passing it on the command line as delimited text, and then break it up to use in your Rscript.</p>\n\n<p>Here is an Rscript that shows you what I mean:</p>\n\n<pre><code>args = commandArgs(trailingOnly=TRUE)\nfilename = args[1]\ncluster &lt;- c(strsplit(args[2],\"~\"))\n\nsprintf(\"Filename: %s\",filename)\nsprintf(\"Cluster list: %s\",cluster)\n\nprint(\"Cluster:\")\ncluster\n\nsprintf(\"First Item: %s\",cluster[[1]][1])\n</code></pre>\n\n<p>Save it as \"test.r\" and try executing it with \"Rscript test.r test.txt one~two\" and you'll get the following output (tested on Rscript 46084, OpenBSD):</p>\n\n<pre><code>[1] \"Filename: test.txt\"\n[1] \"Cluster list: c(\\\"one\\\", \\\"two\\\")\"\n[1] \"Cluster:\"\n[[1]]\n[1] \"one\" \"two\"\n\n[1] \"First Item: one\"\n</code></pre>\n\n<p>So, all you'd have to do on the perl side of things is join() your array using \"~\" or any other delimiter- it is highly dependent on your data, and you haven't provided it.</p>\n\n<p><strong>Summary:</strong> re-think how you want to communicate between perl and Rscript. Consider sending the data as a delimited string (if it's the right size) and breaking it up on the other side. Look into IPC if that won't work, consider environment variables or other options. There is no way to send an array reference on the command-line.</p>\n\n<p><strong>Note:</strong> you may want to read up on <a href=\"http://blog.0x1fff.com/2009/09/howto-execute-system-commands-in-perl.html#art-perl-capt-qx\" rel=\"nofollow noreferrer\">security risks of different system calls in perl</a>.</p>\n"}], "owner": {"reputation": 101, "user_id": 7174381, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/56e8d49cc03f1b0f1e422018e712e73e?s=128&d=identicon&r=PG&f=1", "display_name": "Jen Mer", "link": "https://stackoverflow.com/users/7174381/jen-mer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "accepted_answer_id": 40662952, "answer_count": 2, "score": 0, "last_activity_date": 1479409490, "creation_date": 1479404749, "question_id": 40661686, "link": "https://stackoverflow.com/questions/40661686/passing-an-array-as-an-argument-from-a-perl-script-to-a-r-script", "title": "Passing an array as an argument from a Perl script to a R script", "body": "<p>I am new to R and I have a Perl Script in which I want to call a R Script, which calculates something for me (not important what in this context). I want to give as arguments an input file, an array which contains some numbers and a number for a total number of clusters. medoid.r is the name of my R Script.</p>\n\n<pre><code>    my $R_out;\n    $R_out = qx{./script/medoid.r $output @cluster $NUMBER_OF_CLUSTERS}\n</code></pre>\n\n<p>My current R code looks like this. Right now I just print cluster to see what is inside.</p>\n\n<pre><code>    args &lt;- commandArgs(TRUE)\n    filename = args[1]\n    cluster = as.vector(args[2])\n    number_of_cluster = args[3]\n\n    matrix = read.table(filename, sep='\\t', header=TRUE, row.names=1, quote=\"\")\n    print(cluster)\n</code></pre>\n\n<p>Is it possible to give an array as an argument? How can I save it in R? Right now only the first number of the array is stored and printed, but I would like to have every number in a vector or something similar. </p>\n"}, {"tags": ["linux", "excel", "perl", "shell"], "answers": [{"tags": [], "owner": {"reputation": 596, "user_id": 4603195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0tvwN.png?s=128&g=1", "display_name": "Leslie", "link": "https://stackoverflow.com/users/4603195/leslie"}, "is_accepted": true, "score": 2, "last_activity_date": 1479404111, "creation_date": 1479404111, "answer_id": 40661503, "question_id": 40661300, "link": "https://stackoverflow.com/questions/40661300/extracting-excel-to-text-on-linux-server/40661503#40661503", "title": "Extracting Excel to text on Linux server", "body": "<p>It's not particularly elegant, but you might try using the Linux command \"strings\" to extract just the printable characters from your spreadsheet file first.  Then you could parse the output until you see the column headings, and the data should be after that.</p>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 1, "accepted_answer_id": 40661503, "answer_count": 1, "score": 0, "last_activity_date": 1479404111, "creation_date": 1479403431, "question_id": 40661300, "link": "https://stackoverflow.com/questions/40661300/extracting-excel-to-text-on-linux-server", "title": "Extracting Excel to text on Linux server", "body": "<p>I\u2019ve been struggling with converting *.xls files generated by an instrument to text format on a Linux server. I\u2019m unable to process the files with Spreadsheet::ParseExcel, unless, I manually open them, sign off on the security warning and save them.  Otherwise, they are not recognized as Excel (tested with the sample code). </p>\n\n<pre><code>!/usr/bin/perl -w\n\n    use strict;\n    use Spreadsheet::ParseExcel;\n\n    my $parser   = Spreadsheet::ParseExcel-&gt;new();\n    my $file = \"/data/excel/matrix.xls\";\n\n    my $workbook = $parser-&gt;parse($file);\n\n    if ( !defined $workbook ) {\n        print \"can't find workbook!!!\";\n        die $parser-&gt;error(), \".\\n\";\n    }\n\n    for my $worksheet ( $workbook-&gt;worksheets() ) {\n\n        my ( $row_min, $row_max ) = $worksheet-&gt;row_range();\n        my ( $col_min, $col_max ) = $worksheet-&gt;col_range();\n\n        for my $row ( $row_min .. $row_max ) {\n            for my $col ( $col_min .. $col_max ) {\n\n                my $cell = $worksheet-&gt;get_cell( $row, $col );\n                next unless $cell;\n\n                print \"Row, Col    = ($row, $col)\\n\";\n                print \"Value       = \", $cell-&gt;value(),       \"\\n\";\n                print \"Unformatted = \", $cell-&gt;unformatted(), \"\\n\";\n                print \"\\n\";\n            }\n        }\n    }\n</code></pre>\n\n<p>I\u2019ve tried changing the extension to *.prn and it lets me open the files manually without a warning but they are not recognized by the Spreadsheet::ParseExcel either.</p>\n\n<p>The files contain 8 columns of data on the first sheet only. I would like to convert them to text files and used them to look up values in my Perl script. Here is some sample data in excel:</p>\n\n<pre><code>Gene   Target  Barcode1   Barcode2   Barcode3   Barcode4   Barcode5   Barcode6\nMOTOR  MOTOR_1  343        453        432        345        543        342\nMYCN   MYCN_2   342        98         87         876        54         765\n</code></pre>\n\n<p>My last option is to use VBA but I would reader stick to Perl/Shell code if possible. Is there a straightforward solution to this problem?</p>\n\n<p>Thank you,</p>\n"}, {"tags": ["perl", "version"], "comments": [{"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1479503304, "post_id": 40661074, "comment_id": 68602506, "body": "Where have you read that? Maybe there&#39;s some other context that&#39;s important."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1479734218, "post_id": 40661074, "comment_id": 68669018, "body": "@briandfoy, Honestly I don&#39;t remember. :(  I read it somewhere a while ago and have just been including a version number in all of my scripts since then without questioning why, but I never really knew the purpose."}], "answers": [{"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 7, "last_activity_date": 1479422761, "last_edit_date": 1479422761, "creation_date": 1479404231, "answer_id": 40661545, "question_id": 40661074, "link": "https://stackoverflow.com/questions/40661074/what-is-the-real-purpose-of-the-version-variable-in-perl/40661545#40661545", "title": "What is the real purpose of the $VERSION variable in Perl?", "body": "<p>You can specify a minimum version of a module in the <code>use</code> statement:</p>\n\n<pre><code> use Foo 1.23;\n</code></pre>\n\n<p>When Perl loads that module, it looks at the <code>$VERSION</code> variable to check that it's equal to or greater than that number. That way you get the right set of features and fixes.</p>\n\n<p>The CPAN clients use <code>$VERSION</code> to determine if you are up-to-date or if you should install the latest version of a module. </p>\n\n<p>For programs or scripts, you typically don't need a <code>$VERSION</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1479405282, "last_edit_date": 1479405282, "creation_date": 1479404920, "answer_id": 40661734, "question_id": 40661074, "link": "https://stackoverflow.com/questions/40661074/what-is-the-real-purpose-of-the-version-variable-in-perl/40661734#40661734", "title": "What is the real purpose of the $VERSION variable in Perl?", "body": "<p>Only modules, and only those pushed to CPAN really benefit from specifying <code>$VERSION</code>. There's not much use for it in a script except to use a familiar name rather than inventing a new one if you want the script's version to be accessible.</p>\n\n<p>Primary uses:</p>\n\n<ul>\n<li><p>CPAN uses it as the version of the distribution, allowing it to index different versions of the same distribution.</p></li>\n<li><p><code>cpan</code> and <code>cpanm</code> uses it to check if an installed module is of sufficiently high level to meet the required minimum version of a dependency.</p></li>\n</ul>\n\n<p>As brian d foy mentioned, it can also be checked by <code>use Foo 1.23;</code>, but most people avoid this in favour of specifying the required versions of dependencies in their distribution's META file. This allows <code>cpan</code> and <code>cpanm</code> to update the dependency if needed (where use using <code>use Foo 1.23;</code> would cause the installation to fail during testing). Due to the lack of use of the feature, it's hardly a primary use.</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 40661734, "answer_count": 2, "score": 10, "last_activity_date": 1479422761, "creation_date": 1479402736, "question_id": 40661074, "link": "https://stackoverflow.com/questions/40661074/what-is-the-real-purpose-of-the-version-variable-in-perl", "title": "What is the real purpose of the $VERSION variable in Perl?", "body": "<p>I've read that it's considered good practice to always include a <code>$VERSION</code> number in all of your Perl scripts, but I never fully understood the purpose.</p>\n\n<p>What do you really gain by including a version number in your script?</p>\n"}, {"tags": ["perl", "eclipse-plugin", "epic"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479401481, "post_id": 40660424, "comment_id": 68552355, "body": "You could check by running a program <code>print $^V;</code>, which prints the Perl version of the running interpreter. The setting <i>looks correct</i>."}], "answers": [{"tags": [], "owner": {"reputation": 739, "user_id": 6719378, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/85c10d5eb8d877f42b0382b39399def3?s=128&d=identicon&r=PG&f=1", "display_name": "dorachan2010", "link": "https://stackoverflow.com/users/6719378/dorachan2010"}, "is_accepted": false, "score": 0, "last_activity_date": 1479484556, "creation_date": 1479484556, "answer_id": 40681274, "question_id": 40660424, "link": "https://stackoverflow.com/questions/40660424/how-to-change-the-version-of-perl-in-eclipse/40681274#40681274", "title": "How to change the version of perl in Eclipse", "body": "<p>@simbabque's way of checking confirmed that perl version was changed.</p>\n"}], "owner": {"reputation": 739, "user_id": 6719378, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/85c10d5eb8d877f42b0382b39399def3?s=128&d=identicon&r=PG&f=1", "display_name": "dorachan2010", "link": "https://stackoverflow.com/users/6719378/dorachan2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479484556, "creation_date": 1479400901, "question_id": 40660424, "link": "https://stackoverflow.com/questions/40660424/how-to-change-the-version-of-perl-in-eclipse", "title": "How to change the version of perl in Eclipse", "body": "<p>I am using Eclipse Neon 4.6.1 with EPIC plugin 0.7.2 for perl.\nI am trying to change the version of the perl used by Eclipse but can't quite figure out how to change it and how to check it's changed.</p>\n\n<p>I am using OS X and perl 5.24.0 is installed.</p>\n\n<pre><code>[~]$: which perl\n/usr/local/bin/perl\n[~]$: perl -v\nThis is perl 5, version 24, subversion 0 (v5.24.0) built for darwin-thread-multi-2level\n</code></pre>\n\n<p>But when I run a perl script like the following, it says I am running 5.18</p>\n\n<pre><code> system ('perl','-v');\n\n This is perl 5, version 18, subversion 2 (v5.18.2) built for darwin-thread-multi-2level \n(with 2 registered patches, see perl -V for more detail)\n</code></pre>\n\n<p>So it seems like the PATH variable used by Eclipse is incorrect, but I don't know how to check the version of perl called by Eclipse.</p>\n\n<p>In the preference of Eclipse, there is a settings called \"Perl executable\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/1O3KY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1O3KY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this how to change the perl version and how can I check if it is indeed changed?</p>\n"}, {"tags": ["perl", "makefile", "homebrew", "sybase", "cpanm"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1479406118, "post_id": 40661738, "comment_id": 68555172, "body": "That&#39;s the part I am unsure. So cpanm gets the files, and then after change what command would I run with new makefile? cpanm? and point to directory?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1479406444, "post_id": 40661738, "comment_id": 68555342, "body": "@paulj Don&#39;t touch the Makefile, that is generated by Makefile.PL. I&#39;ve edited full instructions into the answer"}, {"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1479499852, "post_id": 40661738, "comment_id": 68601018, "body": "It works to a point. So answer accepted. Wondering any way of skipping tests: The DBD::Sybase module need access to a Sybase server to run the tests, because they fail on test ms-sql-server."}, {"owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1479500145, "post_id": 40661738, "comment_id": 68601152, "body": "For anyone else, I choose force install after tests failed. My perl dbi is running."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "edited": false, "score": 0, "creation_date": 1479504309, "post_id": 40661738, "comment_id": 68602957, "body": "@paulj If you run <code>perldoc cpanm</code> for its docs you&#39;ll find <code>--notest</code>. If you want to connect to a MS SQL Server, you&#39;re probably better off with DBD::ODBC."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 2, "last_activity_date": 1479406516, "last_edit_date": 1479406516, "creation_date": 1479404948, "answer_id": 40661738, "question_id": 40660109, "link": "https://stackoverflow.com/questions/40660109/installing-dbdsybase-on-os-x-with-homebrew-fails-to-find-freetds-libraries/40661738#40661738", "title": "Installing DBD::Sybase on OS X with Homebrew fails to find freetds libraries", "body": "<p>There is <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=89816\" rel=\"nofollow noreferrer\">a reported bug in DBD::Sybase on OS X</a> which is causing your problem.</p>\n\n<p><a href=\"https://metacpan.org/source/MEWP/DBD-Sybase-1.15/Makefile.PL#L143\" rel=\"nofollow noreferrer\">One part of the configuration</a> thinks you're on Windows. Perl reports OS X as <code>darwin</code> and DBD::Sybase is checking for <code>/win/</code> as in <code>MSWin32</code> or maybe <code>cygwin</code>. As a result it looks for a <code>dll</code> directory, but falsely reports it's looking for <code>lib</code> and <code>lib64</code>.</p>\n\n<p>The quick fix is to use <code>cpanm --prompt DBD::Sybase</code>. When it fails, <code>cpanm</code> will ask what to do.</p>\n\n<pre><code>Configuring DBD-Sybase failed.\nYou can s)kip, r)etry, e)xamine build log, or l)ook ? [s]\n</code></pre>\n\n<p>Tell it to <code>l)ook</code>. This will dump you into a shell with the unpacked source for DBD::Sybase. Use an editor to delete lines 143-145 in the Makefile.PL.</p>\n\n<pre><code>if ($^O =~ /win/i) {\n  @libdir = ( 'dll' );\n}\n</code></pre>\n\n<p>Then <code>exit</code> the shell. <code>cpanm</code> will ask you what to do again, tell it to <code>r)etry</code>. It should use your edited Makefile.PL.</p>\n"}], "owner": {"reputation": 307, "user_id": 6850179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b776cc6e5d6d16b4490da030c7a55bbd?s=128&d=identicon&r=PG&f=1", "display_name": "paulj", "link": "https://stackoverflow.com/users/6850179/paulj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 40661738, "answer_count": 1, "score": 1, "last_activity_date": 1481019220, "creation_date": 1479400067, "last_edit_date": 1481019220, "question_id": 40660109, "link": "https://stackoverflow.com/questions/40660109/installing-dbdsybase-on-os-x-with-homebrew-fails-to-find-freetds-libraries", "title": "Installing DBD::Sybase on OS X with Homebrew fails to find freetds libraries", "body": "<p>I am installing  DBD::Sybase</p>\n\n<p>I receive following error, after setting </p>\n\n<pre><code>export SYBASE=/usr/local/Cellar/freetds/0.95.80\n</code></pre>\n\n<p>and download freetds:</p>\n\n<pre><code>brew install freetds\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Configuring DBD-Sybase-1.15 ... Can't find any Sybase libraries in /usr/local/Cellar/freetds/0.95.80/lib or /usr/local/Cellar/freetds/0.95.80/lib64 at Makefile.PL line 155, &lt;IN&gt; line 44\n</code></pre>\n\n<p>I believe I need to edit the makefile directly. Do I need to edit makefile? And could I use CPANM still. CPANM is under Brew (cellar).</p>\n\n<pre><code>/usr/local/Cellar/freetds/0.95.80/lib\n\u251c\u2500\u2500 libct.4.dylib\n\u251c\u2500\u2500 libct.a\n\u251c\u2500\u2500 libct.dylib -&gt; libct.4.dylib\n\u251c\u2500\u2500 libsybdb.5.dylib\n\u251c\u2500\u2500 libsybdb.a\n\u2514\u2500\u2500 libsybdb.dylib -&gt; libsybdb.5.dylib\n\n\n /usr/local/Cellar/freetds/0.95.80/\nAUTHORS              ChangeLog            NEWS                 TODO                 etc                  lib\nCOPYING              INSTALL_RECEIPT.json README               bin                  include              share\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1479394065, "post_id": 40657742, "comment_id": 68546899, "body": "I&#39;ve never worked with Win32::OLE so this is a guess. Maybe it wants backslashes in the path?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1479394087, "post_id": 40657742, "comment_id": 68546916, "body": "But be aware - you might need to escape them if you&#39;re double quoting."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1479394105, "post_id": 40657742, "comment_id": 68546930, "body": "Which version of Word is this? I do not have the most recent version, but maybe it&#39;s trying to treat it as a UNC or something. In any case, what happens if you just use <code>my $docfile = join &#39;\\\\&#39;, qw(C: Users me Documents file.docx);</code>? Also, <code>use Win32::OLE; $Win32::OLE::Warn = 3;</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1479398629, "post_id": 40657742, "comment_id": 68550417, "body": "Not everything on Windows will accept a <code>&#47;</code> as a directory separator. You might have to write that as <code>my $docfile = &#39;C:\\\\Users\\\\me\\\\Documents\\\\file.docx&#39;;</code> The double slashes are necessary because <code>\\</code> is the escape character. There&#39;s also the obvious question... are you <i>really sure</i> <code>C:\\Users\\me\\Documents\\file.docx</code> exists and is readable? Check it in the code with a <code>-r $docfile</code>."}, {"owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1479403065, "post_id": 40657742, "comment_id": 68553354, "body": "@Schwern Yes i&#39;m sure, and unfortunately it didn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "edited": false, "score": 0, "creation_date": 1479403097, "post_id": 40659878, "comment_id": 68553365, "body": "With this solution, how can i print out to the console the contents of the file? (as text)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "edited": false, "score": 0, "creation_date": 1479433168, "post_id": 40659878, "comment_id": 68566971, "body": "You can only do with <code>Win32::OLE</code> things that you could do manually with the Word application. You can&#39;t display plain text from Word, so you can&#39;t do it this way either."}, {"owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "edited": false, "score": 0, "creation_date": 1479435107, "post_id": 40659878, "comment_id": 68567414, "body": "Ok.. so how could i do it then? Should i create a new post?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "edited": false, "score": 0, "creation_date": 1479436346, "post_id": 40659878, "comment_id": 68567726, "body": "You could use Perl and <code>Win32::OLE</code> to <b>Save as...</b> your document to a text file, and then read and print that file in the same program. I&#39;ve closed your question as being a duplicate of another that has an alternative solution. If you need more help then, yes, ask another question."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1479420664, "last_edit_date": 1479420664, "creation_date": 1479399409, "answer_id": 40659878, "question_id": 40657742, "link": "https://stackoverflow.com/questions/40657742/perl-cant-open-file-with-win32ole/40659878#40659878", "title": "Perl - can&#39;t open file with Win32::OLE", "body": "<p>I suggest that you use <code>canonpath</code> from <code>File::Spec::Function</code> to normalise the file path and change the path separators to backslashes</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Win32::OLE;\nuse File::Spec::Functions 'canonpath';\n\nmy $docfile = \"C:/Users/me/Documents/file.docx\";\nmy $word    = Win32::OLE-&gt;GetActiveObject('Word.Application') or die;\n\n$word-&gt;{visible} = 1;\n\nmy $file = $word-&gt;Documents-&gt;Open(canonpath($docfile)) or die;\n$file-&gt;PrintOut;\n$file-&gt;Close; \n\n$word-&gt;Quit;\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 7173509, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/22a619feaba0eb4504fd0cc920cb1eb2?s=128&d=identicon&r=PG&f=1", "display_name": "gambit20088", "link": "https://stackoverflow.com/users/7173509/gambit20088"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "closed_date": 1479436186, "accepted_answer_id": 40659878, "answer_count": 1, "score": 1, "last_activity_date": 1479420664, "creation_date": 1479393619, "question_id": 40657742, "link": "https://stackoverflow.com/questions/40657742/perl-cant-open-file-with-win32ole", "closed_reason": "Duplicate", "title": "Perl - can&#39;t open file with Win32::OLE", "body": "<p>I'm trying to open a <code>.docx</code> file using the following code:</p>\n\n<pre><code>require Win32::OLE;\nmy $docfile = \"C:/Users/me/Documents/file.docx\";\nmy $Word = Win32::OLE-&gt;GetActiveObject('Word.Application');\nunless ($Word) { $Word = Win32::OLE-&gt;new('Word.Application', sub {$_[0]-&gt;Quit;}) or die \"oops\\n\"; }\n$Word-&gt;{visible} = 1;\nmy $File = $Word-&gt;Documents-&gt;Open($docfile);\n$File-&gt;PrintOut();\n$File-&gt;Close(); \n$Word-&gt;Quit();\n</code></pre>\n\n<p>But i get the following error:</p>\n\n<blockquote>\n  <p>OLE exception from \"Microsoft Word\":</p>\n  \n  <p>Sorry, we couldn\u2019t find your file. Is it possible it was moved,\n  renamed or deleted?  (C://Users/me/Documents/...)</p>\n</blockquote>\n\n<p>How can i fix this? Why does it add // to my path?\n(needless to say, the file does exist in the system and that is the correct path).</p>\n\n<p>Thanks!</p>\n"}]